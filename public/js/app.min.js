function Interceptor(t){return t.interceptors.push("AuthInterceptor")}function Router(t,e,n){e.html5Mode(!0),t.state("home",{url:"/",templateUrl:"js/views.home.html"}).state("register",{url:"/register",templateUrl:"/js/views/register.html",controller:"UserRegisterCtrl",controllerAs:"register"}).state("login",{url:"/login",templateUrl:"/js/views/login.html",controller:"LoginCtrl",controllerAs:"login"}).state("usersIndex",{url:"/users",templateUrl:"/js/views/users/index.html",controller:"UsersIndexCtrl",controllerAs:"usersIndex"}),n.otherwise("/")}function LoginCtrl(t,e,n){var r=this;r.login=function(){t.login(r.user).$promise.then(function(){e.getUser(),console.log(e.currentUser,"*** current user"),n.go("usersIndex")},function(t){console.log(t,"error in login controller")})}}function MainCtrl(t,e,n){var r=this;t.$on("LoggedIn",function(){r.userFactory=e.currentUser}),r.logout=function(){e.removeUser()},t.$on("LoggedOut",function(){console.log("Logged Out"),r.userFactory=null,n.go("login")})}function userRegisterCtrl(t,e,n){var r=this;r.register=function(){t.register(r.user).$promise.then(function(){e.getUser(),n.go("login")},function(t){console.log(t,"***REGISTER.CONTROLLER")})}}function UserNewController(t,e,n){var r=this;r.register=function(){t.register(r.user).$promise.then(function(){e.getUser(),n.go("login")},function(t){console.log(t,"error in reg controller")})}}function AuthInterceptor(t,e){return{request:function(n){var r=e.getToken();return 0===n.url.indexOf(t)&&r&&(n.headers.Authorization="Bearer "+r),n},response:function(n){return 0===n.config.url.indexOf(t)&&n.data.token&&e.setToken(n.data.token),n}}}function UserFactory(t,e){return e(t+"/user/:id",{id:"@_id"},{register:{method:"POST, url: `${API}/register`"},login:{method:"POST",url:t+"/login"}})}function CurrentUserService(t,e,n){var r=this;r.getUser=function(){var i=t.decodeToken();i&&n.get({id:i.id}).$promise.then(function(t){console.log(t,"User returned"),r.currentUser=t,e.$broadcast("loggedIn")})},r.removeUser=function(){r.currentUser=null,t.removeToken(),e.$broadcast("loggedOut")}}function TokenService(t,e){var n=this;n.setToken=function(e){return t.localStorage.setItem("auth-token",e)},n.getToken=function(){return t.localStorage.getItem("auth-token")},n.decodeToken=function(){var t=n.getToken();return t?e.decodeToken(t):null},n.removeToken=function(){t.localStorage.clear()}}if(function(t){"use strict";function e(t,e){return e=e||Error,function(){var n,r,i=arguments[0],o=arguments[1],a="["+(t?t+":":"")+i+"] ",s=z(arguments,2).map(function(t){return xt(t,zr.objectMaxDepth)});for(a+=o.replace(/\{\d+\}/g,function(t){var e=+t.slice(1,-1);return e<s.length?s[e]:t}),a+="\nhttp://errors.angularjs.org/1.6.4/"+(t?t+"/":"")+i,r=0,n="?";r<s.length;r++,n="&")a+=n+"p"+r+"="+encodeURIComponent(s[r]);return new e(a)}}function n(t){if(!w(t))return zr;b(t.objectMaxDepth)&&(zr.objectMaxDepth=r(t.objectMaxDepth)?t.objectMaxDepth:NaN)}function r(t){return S(t)&&t>0}function i(t){if(null==t||A(t))return!1;if(li(t)||C(t)||Xr&&t instanceof Xr)return!0;var e="length"in Object(t)&&t.length;return S(e)&&(e>=0&&(e-1 in t||t instanceof Array)||"function"==typeof t.item)}function o(t,e,n){var r,a;if(t)if(T(t))for(r in t)"prototype"!==r&&"length"!==r&&"name"!==r&&t.hasOwnProperty(r)&&e.call(n,t[r],r,t);else if(li(t)||i(t)){var s="object"!=typeof t;for(r=0,a=t.length;r<a;r++)(s||r in t)&&e.call(n,t[r],r,t)}else if(t.forEach&&t.forEach!==o)t.forEach(e,n,t);else if(x(t))for(r in t)e.call(n,t[r],r,t);else if("function"==typeof t.hasOwnProperty)for(r in t)t.hasOwnProperty(r)&&e.call(n,t[r],r,t);else for(r in t)Wr.call(t,r)&&e.call(n,t[r],r,t);return t}function a(t,e,n){for(var r=Object.keys(t).sort(),i=0;i<r.length;i++)e.call(n,t[r[i]],r[i]);return r}function s(t){return function(e,n){t(n,e)}}function u(){return++ui}function c(t,e){e?t.$$hashKey=e:delete t.$$hashKey}function l(t,e,n){for(var r=t.$$hashKey,i=0,o=e.length;i<o;++i){var a=e[i];if(w(a)||T(a))for(var s=Object.keys(a),u=0,f=s.length;u<f;u++){var h=s[u],p=a[h];n&&w(p)?E(p)?t[h]=new Date(p.valueOf()):k(p)?t[h]=new RegExp(p):p.nodeName?t[h]=p.cloneNode(!0):V(p)?t[h]=p.clone():(w(t[h])||(t[h]=li(p)?[]:{}),l(t[h],[p],!0)):t[h]=p}}return c(t,r),t}function f(t){return l(t,ei.call(arguments,1),!1)}function h(t){return l(t,ei.call(arguments,1),!0)}function p(t){return parseInt(t,10)}function d(t,e){return f(Object.create(t),e)}function v(){}function m(t){return t}function g(t){return function(){return t}}function $(t){return T(t.toString)&&t.toString!==ii}function y(t){return void 0===t}function b(t){return void 0!==t}function w(t){return null!==t&&"object"==typeof t}function x(t){return null!==t&&"object"==typeof t&&!oi(t)}function C(t){return"string"==typeof t}function S(t){return"number"==typeof t}function E(t){return"[object Date]"===ii.call(t)}function T(t){return"function"==typeof t}function k(t){return"[object RegExp]"===ii.call(t)}function A(t){return t&&t.window===t}function O(t){return t&&t.$evalAsync&&t.$watch}function _(t){return"[object File]"===ii.call(t)}function R(t){return"[object FormData]"===ii.call(t)}function j(t){return"[object Blob]"===ii.call(t)}function P(t){return"boolean"==typeof t}function N(t){return t&&T(t.then)}function I(t){return t&&S(t.length)&&fi.test(ii.call(t))}function D(t){return"[object ArrayBuffer]"===ii.call(t)}function V(t){return!(!t||!(t.nodeName||t.prop&&t.attr&&t.find))}function M(t){var e,n={},r=t.split(",");for(e=0;e<r.length;e++)n[r[e]]=!0;return n}function q(t){return Gr(t.nodeName||t[0]&&t[0].nodeName)}function H(t,e){return-1!==Array.prototype.indexOf.call(t,e)}function L(t,e){var n=t.indexOf(e);return n>=0&&t.splice(n,1),n}function U(t,e,n){function i(t,e,n){if(--n<0)return"...";var r,i=e.$$hashKey;if(li(t))for(var o=0,s=t.length;o<s;o++)e.push(a(t[o],n));else if(x(t))for(r in t)e[r]=a(t[r],n);else if(t&&"function"==typeof t.hasOwnProperty)for(r in t)t.hasOwnProperty(r)&&(e[r]=a(t[r],n));else for(r in t)Wr.call(t,r)&&(e[r]=a(t[r],n));return c(e,i),e}function a(t,e){if(!w(t))return t;var n=u.indexOf(t);if(-1!==n)return l[n];if(A(t)||O(t))throw ai("cpws","Can't copy! Making copies of Window or Scope instances is not supported.");var r=!1,o=s(t);return void 0===o&&(o=li(t)?[]:Object.create(oi(t)),r=!0),u.push(t),l.push(o),r?i(t,o,e):o}function s(t){switch(ii.call(t)){case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Float32Array]":case"[object Float64Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return new t.constructor(a(t.buffer),t.byteOffset,t.length);case"[object ArrayBuffer]":if(!t.slice){var e=new ArrayBuffer(t.byteLength);return new Uint8Array(e).set(new Uint8Array(t)),e}return t.slice(0);case"[object Boolean]":case"[object Number]":case"[object String]":case"[object Date]":return new t.constructor(t.valueOf());case"[object RegExp]":var n=new RegExp(t.source,t.toString().match(/[^\/]*$/)[0]);return n.lastIndex=t.lastIndex,n;case"[object Blob]":return new t.constructor([t],{type:t.type})}if(T(t.cloneNode))return t.cloneNode(!0)}var u=[],l=[];if(n=r(n)?n:NaN,e){if(I(e)||D(e))throw ai("cpta","Can't copy! TypedArray destination cannot be mutated.");if(t===e)throw ai("cpi","Can't copy! Source and destination are identical.");return li(e)?e.length=0:o(e,function(t,n){"$$hashKey"!==n&&delete e[n]}),u.push(t),l.push(e),i(t,e,n)}return a(t,n)}function F(t,e){return t===e||t!==t&&e!==e}function B(t,e){if(t===e)return!0;if(null===t||null===e)return!1;if(t!==t&&e!==e)return!0;var n,r,i,o=typeof t,a=typeof e;if(o===a&&"object"===o){if(!li(t)){if(E(t))return!!E(e)&&F(t.getTime(),e.getTime());if(k(t))return!!k(e)&&t.toString()===e.toString();if(O(t)||O(e)||A(t)||A(e)||li(e)||E(e)||k(e))return!1;i=gt();for(r in t)if("$"!==r.charAt(0)&&!T(t[r])){if(!B(t[r],e[r]))return!1;i[r]=!0}for(r in e)if(!(r in i)&&"$"!==r.charAt(0)&&b(e[r])&&!T(e[r]))return!1;return!0}if(!li(e))return!1;if((n=t.length)===e.length){for(r=0;r<n;r++)if(!B(t[r],e[r]))return!1;return!0}}return!1}function W(t,e,n){return t.concat(ei.call(e,n))}function z(t,e){return ei.call(t,e||0)}function G(t,e){var n=arguments.length>2?z(arguments,2):[];return!T(e)||e instanceof RegExp?e:n.length?function(){return arguments.length?e.apply(t,W(n,arguments,0)):e.apply(t,n)}:function(){return arguments.length?e.apply(t,arguments):e.call(t)}}function J(e,n){var r=n;return"string"==typeof e&&"$"===e.charAt(0)&&"$"===e.charAt(1)?r=void 0:A(n)?r="$WINDOW":n&&t.document===n?r="$DOCUMENT":O(n)&&(r="$SCOPE"),r}function Q(t,e){if(!y(t))return S(e)||(e=e?2:null),JSON.stringify(t,J,e)}function K(t){return C(t)?JSON.parse(t):t}function Y(t,e){t=t.replace(mi,"");var n=Date.parse("Jan 01, 1970 00:00:00 "+t)/6e4;return ci(n)?e:n}function X(t,e){return t=new Date(t.getTime()),t.setMinutes(t.getMinutes()+e),t}function Z(t,e,n){n=n?-1:1;var r=t.getTimezoneOffset();return X(t,n*(Y(e,r)-r))}function tt(t){t=Xr(t).clone();try{t.empty()}catch(t){}var e=Xr("<div>").append(t).html();try{return t[0].nodeType===xi?Gr(e):e.match(/^(<[^>]+>)/)[1].replace(/^<([\w-]+)/,function(t,e){return"<"+Gr(e)})}catch(t){return Gr(e)}}function et(t){try{return decodeURIComponent(t)}catch(t){}}function nt(t){var e={};return o((t||"").split("&"),function(t){var n,r,i;t&&(r=t=t.replace(/\+/g,"%20"),n=t.indexOf("="),-1!==n&&(r=t.substring(0,n),i=t.substring(n+1)),r=et(r),b(r)&&(i=!b(i)||et(i),Wr.call(e,r)?li(e[r])?e[r].push(i):e[r]=[e[r],i]:e[r]=i))}),e}function rt(t){var e=[];return o(t,function(t,n){li(t)?o(t,function(t){e.push(ot(n,!0)+(!0===t?"":"="+ot(t,!0)))}):e.push(ot(n,!0)+(!0===t?"":"="+ot(t,!0)))}),e.length?e.join("&"):""}function it(t){return ot(t,!0).replace(/%26/gi,"&").replace(/%3D/gi,"=").replace(/%2B/gi,"+")}function ot(t,e){return encodeURIComponent(t).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%3B/gi,";").replace(/%20/g,e?"%20":"+")}function at(t,e){var n,r,i=gi.length;for(r=0;r<i;++r)if(n=gi[r]+e,C(n=t.getAttribute(n)))return n;return null}function st(e,n){var r,i,a={};if(o(gi,function(t){var n=t+"app";!r&&e.hasAttribute&&e.hasAttribute(n)&&(r=e,i=e.getAttribute(n))}),o(gi,function(t){var n,o=t+"app";!r&&(n=e.querySelector("["+o.replace(":","\\:")+"]"))&&(r=n,i=n.getAttribute(o))}),r){if(!$i)return void t.console.error("Angular: disabling automatic bootstrap. <script> protocol indicates an extension, document.location.href does not match.");a.strictDi=null!==at(r,"strict-di"),n(r,i?[i]:[],a)}}function ut(e,n,r){w(r)||(r={}),r=f({strictDi:!1},r);var i=function(){if(e=Xr(e),e.injector()){var i=e[0]===t.document?"document":tt(e);throw ai("btstrpd","App already bootstrapped with this element '{0}'",i.replace(/</,"&lt;").replace(/>/,"&gt;"))}n=n||[],n.unshift(["$provide",function(t){t.value("$rootElement",e)}]),r.debugInfoEnabled&&n.push(["$compileProvider",function(t){t.debugInfoEnabled(!0)}]),n.unshift("ng");var o=ue(n,r.strictDi);return o.invoke(["$rootScope","$rootElement","$compile","$injector",function(t,e,n,r){t.$apply(function(){e.data("$injector",r),n(e)(t)})}]),o},a=/^NG_ENABLE_DEBUG_INFO!/,s=/^NG_DEFER_BOOTSTRAP!/;if(t&&a.test(t.name)&&(r.debugInfoEnabled=!0,t.name=t.name.replace(a,"")),t&&!s.test(t.name))return i();t.name=t.name.replace(s,""),si.resumeBootstrap=function(t){return o(t,function(t){n.push(t)}),i()},T(si.resumeDeferredBootstrap)&&si.resumeDeferredBootstrap()}function ct(){t.name="NG_ENABLE_DEBUG_INFO!"+t.name,t.location.reload()}function lt(t){var e=si.element(t).injector();if(!e)throw ai("test","no injector found for element argument to getTestability");return e.get("$$testability")}function ft(t,e){return e=e||"_",t.replace(yi,function(t,n){return(n?e:"")+t.toLowerCase()})}function ht(t,e,n){if(!t)throw ai("areq","Argument '{0}' is {1}",e||"?",n||"required");return t}function pt(t,e,n){return n&&li(t)&&(t=t[t.length-1]),ht(T(t),e,"not a function, got "+(t&&"object"==typeof t?t.constructor.name||"Object":typeof t)),t}function dt(t,e){if("hasOwnProperty"===t)throw ai("badname","hasOwnProperty is not a valid {0} name",e)}function vt(t,e,n){if(!e)return t;for(var r,i=e.split("."),o=t,a=i.length,s=0;s<a;s++)r=i[s],t&&(t=(o=t)[r]);return!n&&T(t)?G(o,t):t}function mt(t){for(var e,n=t[0],r=t[t.length-1],i=1;n!==r&&(n=n.nextSibling);i++)(e||t[i]!==n)&&(e||(e=Xr(ei.call(t,0,i))),e.push(n));return e||t}function gt(){return Object.create(null)}function $t(t){if(null==t)return"";switch(typeof t){case"string":break;case"number":t=""+t;break;default:t=!$(t)||li(t)||E(t)?Q(t):t.toString()}return t}function yt(t){function n(t,e,n){return t[e]||(t[e]=n())}var r=e("$injector"),i=e("ng"),o=n(t,"angular",Object);return o.$$minErr=o.$$minErr||e,n(o,"module",function(){var t={};return function(e,o,a){var s={};return function(t,e){if("hasOwnProperty"===t)throw i("badname","hasOwnProperty is not a valid {0} name",e)}(e,"module"),o&&t.hasOwnProperty(e)&&(t[e]=null),n(t,e,function(){function t(t,e,n,r){return r||(r=u),function(){return r[n||"push"]([t,e,arguments]),h}}function n(t,n,r){return r||(r=u),function(i,o){return o&&T(o)&&(o.$$moduleName=e),r.push([t,n,arguments]),h}}if(!o)throw r("nomod","Module '{0}' is not available! You either misspelled the module name or forgot to load it. If registering a module ensure that you specify the dependencies as the second argument.",e);var u=[],c=[],l=[],f=t("$injector","invoke","push",c),h={_invokeQueue:u,_configBlocks:c,_runBlocks:l,info:function(t){if(b(t)){if(!w(t))throw i("aobj","Argument '{0}' must be an object","value");return s=t,this}return s},requires:o,name:e,provider:n("$provide","provider"),factory:n("$provide","factory"),service:n("$provide","service"),value:t("$provide","value"),constant:t("$provide","constant","unshift"),decorator:n("$provide","decorator",c),animation:n("$animateProvider","register"),filter:n("$filterProvider","register"),controller:n("$controllerProvider","register"),directive:n("$compileProvider","directive"),component:n("$compileProvider","component"),config:f,run:function(t){return l.push(t),this}};return a&&f(a),h})}})}function bt(t,e){if(li(t)){e=e||[];for(var n=0,r=t.length;n<r;n++)e[n]=t[n]}else if(w(t)){e=e||{};for(var i in t)"$"===i.charAt(0)&&"$"===i.charAt(1)||(e[i]=t[i])}return e||t}function wt(t,e){var n=[];return r(e)&&(t=U(t,null,e)),JSON.stringify(t,function(t,e){if(e=J(t,e),w(e)){if(n.indexOf(e)>=0)return"...";n.push(e)}return e})}function xt(t,e){return"function"==typeof t?t.toString().replace(/ \{[\s\S]*$/,""):y(t)?"undefined":"string"!=typeof t?wt(t,e):t}function Ct(){return++Ai}function St(t){return Tt(t.replace(_i,"ms-"))}function Et(t,e){return e.toUpperCase()}function Tt(t){return t.replace(Oi,Et)}function kt(t){return!Ni.test(t)}function At(t){var e=t.nodeType;return e===wi||!e||e===Si}function Ot(t){for(var e in ki[t.ng339])return!0;return!1}function _t(t,e){var n,r,i,a,s=e.createDocumentFragment(),u=[];if(kt(t))u.push(e.createTextNode(t));else{for(n=s.appendChild(e.createElement("div")),r=(Ii.exec(t)||["",""])[1].toLowerCase(),i=Vi[r]||Vi._default,n.innerHTML=i[1]+t.replace(Di,"<$1></$2>")+i[2],a=i[0];a--;)n=n.lastChild;u=W(u,n.childNodes),n=s.firstChild,n.textContent=""}return s.textContent="",s.innerHTML="",o(u,function(t){s.appendChild(t)}),s}function Rt(e,n){n=n||t.document;var r;return(r=Pi.exec(e))?[n.createElement(r[1])]:(r=_t(e,n))?r.childNodes:[]}function jt(t,e){var n=t.parentNode;n&&n.replaceChild(e,t),e.appendChild(t)}function Pt(t){if(t instanceof Pt)return t;var e;if(C(t)&&(t=hi(t),e=!0),!(this instanceof Pt)){if(e&&"<"!==t.charAt(0))throw ji("nosel","Looking up elements via selectors is not supported by jqLite! See: http://docs.angularjs.org/api/angular.element");return new Pt(t)}e?Ft(this,Rt(t)):T(t)?Qt(t):Ft(this,t)}function Nt(t){return t.cloneNode(!0)}function It(t,e){!e&&At(t)&&Xr.cleanData([t]),t.querySelectorAll&&Xr.cleanData(t.querySelectorAll("*"))}function Dt(t,e,n,r){if(b(r))throw ji("offargs","jqLite#off() does not support the `selector` argument");var i=Mt(t),a=i&&i.events,s=i&&i.handle;if(s)if(e){var u=function(e){var r=a[e];b(n)&&L(r||[],n),b(n)&&r&&r.length>0||(t.removeEventListener(e,s),delete a[e])};o(e.split(" "),function(t){u(t),Ri[t]&&u(Ri[t])})}else for(e in a)"$destroy"!==e&&t.removeEventListener(e,s),delete a[e]}function Vt(t,e){var n=t.ng339,r=n&&ki[n];if(r){if(e)return void delete r.data[e];r.handle&&(r.events.$destroy&&r.handle({},"$destroy"),Dt(t)),delete ki[n],t.ng339=void 0}}function Mt(t,e){var n=t.ng339,r=n&&ki[n];return e&&!r&&(t.ng339=n=Ct(),r=ki[n]={events:{},data:{},handle:void 0}),r}function qt(t,e,n){if(At(t)){var r,i=b(n),o=!i&&e&&!w(e),a=!e,s=Mt(t,!o),u=s&&s.data;if(i)u[Tt(e)]=n;else{if(a)return u;if(o)return u&&u[Tt(e)];for(r in e)u[Tt(r)]=e[r]}}}function Ht(t,e){return!!t.getAttribute&&(" "+(t.getAttribute("class")||"")+" ").replace(/[\n\t]/g," ").indexOf(" "+e+" ")>-1}function Lt(t,e){e&&t.setAttribute&&o(e.split(" "),function(e){t.setAttribute("class",hi((" "+(t.getAttribute("class")||"")+" ").replace(/[\n\t]/g," ").replace(" "+hi(e)+" "," ")))})}function Ut(t,e){if(e&&t.setAttribute){var n=(" "+(t.getAttribute("class")||"")+" ").replace(/[\n\t]/g," ");o(e.split(" "),function(t){t=hi(t),-1===n.indexOf(" "+t+" ")&&(n+=t+" ")}),t.setAttribute("class",hi(n))}}function Ft(t,e){if(e)if(e.nodeType)t[t.length++]=e;else{var n=e.length;if("number"==typeof n&&e.window!==e){if(n)for(var r=0;r<n;r++)t[t.length++]=e[r]}else t[t.length++]=e}}function Bt(t,e){return Wt(t,"$"+(e||"ngController")+"Controller")}function Wt(t,e,n){t.nodeType===Si&&(t=t.documentElement);for(var r=li(e)?e:[e];t;){for(var i=0,o=r.length;i<o;i++)if(b(n=Xr.data(t,r[i])))return n;t=t.parentNode||t.nodeType===Ei&&t.host}}function zt(t){for(It(t,!0);t.firstChild;)t.removeChild(t.firstChild)}function Gt(t,e){e||It(t);var n=t.parentNode;n&&n.removeChild(t)}function Jt(e,n){n=n||t,"complete"===n.document.readyState?n.setTimeout(e):Xr(n).on("load",e)}function Qt(e){function n(){t.document.removeEventListener("DOMContentLoaded",n),t.removeEventListener("load",n),e()}"complete"===t.document.readyState?t.setTimeout(e):(t.document.addEventListener("DOMContentLoaded",n),t.addEventListener("load",n))}function Kt(t,e){var n=Hi[e.toLowerCase()];return n&&Li[q(t)]&&n}function Yt(t){return Ui[t]}function Xt(t,e){var n=function(n,r){n.isDefaultPrevented=function(){return n.defaultPrevented};var i=e[r||n.type],o=i?i.length:0;if(o){if(y(n.immediatePropagationStopped)){var a=n.stopImmediatePropagation;n.stopImmediatePropagation=function(){n.immediatePropagationStopped=!0,n.stopPropagation&&n.stopPropagation(),a&&a.call(n)}}n.isImmediatePropagationStopped=function(){return!0===n.immediatePropagationStopped};var s=i.specialHandlerWrapper||Zt;o>1&&(i=bt(i));for(var u=0;u<o;u++)n.isImmediatePropagationStopped()||s(t,n,i[u])}};return n.elem=t,n}function Zt(t,e,n){n.call(t,e)}function te(t,e,n){var r=e.relatedTarget;r&&(r===t||Mi.call(t,r))||n.call(t,e)}function ee(){this.$get=function(){return f(Pt,{hasClass:function(t,e){return t.attr&&(t=t[0]),Ht(t,e)},addClass:function(t,e){return t.attr&&(t=t[0]),Ut(t,e)},removeClass:function(t,e){return t.attr&&(t=t[0]),Lt(t,e)}})}}function ne(t,e){var n=t&&t.$$hashKey;if(n)return"function"==typeof n&&(n=t.$$hashKey()),n;var r=typeof t;return n="function"===r||"object"===r&&null!==t?t.$$hashKey=r+":"+(e||u)():r+":"+t}function re(){this._keys=[],this._values=[],this._lastKey=NaN,this._lastIndex=-1}function ie(t){return Function.prototype.toString.call(t)}function oe(t){var e=ie(t).replace(Ki,"");return e.match(zi)||e.match(Gi)}function ae(t){var e=oe(t);return e?"function("+(e[1]||"").replace(/[\s\r\n]+/," ")+")":"fn"}function se(t,e,n){var r,i,a;if("function"==typeof t){if(!(r=t.$inject)){if(r=[],t.length){if(e)throw C(n)&&n||(n=t.name||ae(t)),Yi("strictdi","{0} is not using explicit annotation and cannot be invoked in strict mode",n);i=oe(t),o(i[1].split(Ji),function(t){t.replace(Qi,function(t,e,n){r.push(n)})})}t.$inject=r}}else li(t)?(a=t.length-1,pt(t[a],"fn"),r=t.slice(0,a)):pt(t,"fn",!0);return r}function ue(t,e){function n(t){return function(e,n){if(!w(e))return t(e,n);o(e,s(t))}}function r(t,e){if(dt(t,"service"),(T(e)||li(e))&&(e=x.instantiate(e)),!e.$get)throw Yi("pget","Provider '{0}' must define $get factory method.",t);return b[t+v]=e}function i(t,e){return function(){var n=k.invoke(e,this);if(y(n))throw Yi("undef","Provider '{0}' must return a value from $get factory method.",t);return n}}function a(t,e,n){return r(t,{$get:!1!==n?i(t,e):e})}function u(t,e){return a(t,["$injector",function(t){return t.instantiate(e)}])}function c(t,e){return a(t,g(e),!1)}function l(t,e){dt(t,"constant"),b[t]=e,S[t]=e}function f(t,e){var n=x.get(t+v),r=n.$get;n.$get=function(){var t=k.invoke(r,n);return k.invoke(e,null,{$delegate:t})}}function h(t){ht(y(t)||li(t),"modulesToLoad","not an array");var e,n=[];return o(t,function(t){function r(t){var e,n;for(e=0,n=t.length;e<n;e++){var r=t[e],i=x.get(r[0]);i[r[1]].apply(i,r[2])}}if(!$.get(t)){$.set(t,!0);try{C(t)?(e=ti(t),k.modules[t]=e,n=n.concat(h(e.requires)).concat(e._runBlocks),r(e._invokeQueue),r(e._configBlocks)):T(t)?n.push(x.invoke(t)):li(t)?n.push(x.invoke(t)):pt(t,"module")}catch(e){throw li(t)&&(t=t[t.length-1]),e.message&&e.stack&&-1===e.stack.indexOf(e.message)&&(e=e.message+"\n"+e.stack),Yi("modulerr","Failed to instantiate module {0} due to:\n{1}",t,e.stack||e.message||e)}}}),n}function p(t,n){function r(e,r){if(t.hasOwnProperty(e)){if(t[e]===d)throw Yi("cdep","Circular dependency found: {0}",e+" <- "+m.join(" <- "));return t[e]}try{return m.unshift(e),t[e]=d,t[e]=n(e,r),t[e]}catch(n){throw t[e]===d&&delete t[e],n}finally{m.shift()}}function i(t,n,i){for(var o=[],a=ue.$$annotate(t,e,i),s=0,u=a.length;s<u;s++){var c=a[s];if("string"!=typeof c)throw Yi("itkn","Incorrect injection token! Expected service name as string, got {0}",c);o.push(n&&n.hasOwnProperty(c)?n[c]:r(c,i))}return o}function o(t){if(Yr||"function"!=typeof t)return!1;var e=t.$$ngIsClass;return P(e)||(e=t.$$ngIsClass=/^(?:class\b|constructor\()/.test(ie(t))),e}function a(t,e,n,r){"string"==typeof n&&(r=n,n=null);var a=i(t,n,r);return li(t)&&(t=t[t.length-1]),o(t)?(a.unshift(null),new(Function.prototype.bind.apply(t,a))):t.apply(e,a)}function s(t,e,n){var r=li(t)?t[t.length-1]:t,o=i(t,e,n);return o.unshift(null),new(Function.prototype.bind.apply(r,o))}return{invoke:a,instantiate:s,get:r,annotate:ue.$$annotate,has:function(e){return b.hasOwnProperty(e+v)||t.hasOwnProperty(e)}}}e=!0===e;var d={},v="Provider",m=[],$=new Bi,b={$provide:{provider:n(r),factory:n(a),service:n(u),value:n(c),constant:n(l),decorator:f}},x=b.$injector=p(b,function(t,e){throw si.isString(e)&&m.push(e),Yi("unpr","Unknown provider: {0}",m.join(" <- "))}),S={},E=p(S,function(t,e){var n=x.get(t+v,e);return k.invoke(n.$get,n,void 0,t)}),k=E;b["$injector"+v]={$get:g(E)},k.modules=x.modules=gt();var A=h(t);return k=E.get("$injector"),k.strictDi=e,o(A,function(t){t&&k.invoke(t)}),k}function ce(){var t=!0;this.disableAutoScrolling=function(){t=!1},this.$get=["$window","$location","$rootScope",function(e,n,r){function i(t){var e=null;return Array.prototype.some.call(t,function(t){if("a"===q(t))return e=t,!0}),e}function o(){var t=s.yOffset;if(T(t))t=t();else if(V(t)){var n=t[0],r=e.getComputedStyle(n);t="fixed"!==r.position?0:n.getBoundingClientRect().bottom}else S(t)||(t=0);return t}function a(t){if(t){t.scrollIntoView();var n=o();if(n){var r=t.getBoundingClientRect().top;e.scrollBy(0,r-n)}}else e.scrollTo(0,0)}function s(t){t=C(t)?t:S(t)?t.toString():n.hash();var e;t?(e=u.getElementById(t))?a(e):(e=i(u.getElementsByName(t)))?a(e):"top"===t&&a(null):a(null)}var u=e.document;return t&&r.$watch(function(){return n.hash()},function(t,e){t===e&&""===t||Jt(function(){r.$evalAsync(s)})}),s}]}function le(t,e){return t||e?t?e?(li(t)&&(t=t.join(" ")),li(e)&&(e=e.join(" ")),t+" "+e):t:e:""}function fe(t){for(var e=0;e<t.length;e++){var n=t[e];if(n.nodeType===Zi)return n}}function he(t){C(t)&&(t=t.split(" "));var e=gt();return o(t,function(t){t.length&&(e[t]=!0)}),e}function pe(t){return w(t)?t:{}}function de(t,e,n,r){function i(t){try{t.apply(null,z(arguments,1))}finally{if(0===--g)for(;$.length;)try{$.pop()()}catch(t){n.error(t)}}}function a(t){var e=t.indexOf("#");return-1===e?"":t.substr(e)}function s(){S=null,c()}function u(){b=E(),b=y(b)?null:b,B(b,A)&&(b=A),A=b,w=b}function c(){var t=w;u(),x===l.url()&&t===b||(x=l.url(),w=b,o(T,function(t){t(l.url(),b)}))}var l=this,f=t.location,h=t.history,p=t.setTimeout,d=t.clearTimeout,m={};l.isMock=!1;var g=0,$=[];l.$$completeOutstandingRequest=i,l.$$incOutstandingRequestCount=function(){g++},l.notifyWhenNoOutstandingRequests=function(t){0===g?t():$.push(t)};var b,w,x=f.href,C=e.find("base"),S=null,E=r.history?function(){try{return h.state}catch(t){}}:v;u(),l.url=function(e,n,i){if(y(i)&&(i=null),f!==t.location&&(f=t.location),h!==t.history&&(h=t.history),e){var o=w===i;if(x===e&&(!r.history||o))return l;var s=x&&Qe(x)===Qe(e);return x=e,w=i,!r.history||s&&o?(s||(S=e),n?f.replace(e):s?f.hash=a(e):f.href=e,f.href!==e&&(S=e)):(h[n?"replaceState":"pushState"](i,"",e),u()),S&&(S=e),l}return S||f.href.replace(/%27/g,"'")},l.state=function(){return b};var T=[],k=!1,A=null;l.onUrlChange=function(e){return k||(r.history&&Xr(t).on("popstate",s),Xr(t).on("hashchange",s),k=!0),T.push(e),e},l.$$applicationDestroyed=function(){Xr(t).off("hashchange popstate",s)},l.$$checkUrlChange=c,l.baseHref=function(){var t=C.attr("href");return t?t.replace(/^(https?:)?\/\/[^\/]*/,""):""},l.defer=function(t,e){var n;return g++,n=p(function(){delete m[n],i(t)},e||0),m[n]=!0,n},l.defer.cancel=function(t){return!!m[t]&&(delete m[t],d(t),i(v),!0)}}function ve(){this.$get=["$window","$log","$sniffer","$document",function(t,e,n,r){return new de(t,r,e,n)}]}function me(){this.$get=function(){function t(t,r){function i(t){t!==h&&(p?p===t&&(p=t.n):p=t,o(t.n,t.p),o(t,h),h=t,h.n=null)}function o(t,e){t!==e&&(t&&(t.p=e),e&&(e.n=t))}if(t in n)throw e("$cacheFactory")("iid","CacheId '{0}' is already taken!",t);var a=0,s=f({},r,{id:t}),u=gt(),c=r&&r.capacity||Number.MAX_VALUE,l=gt(),h=null,p=null;return n[t]={put:function(t,e){if(!y(e)){if(c<Number.MAX_VALUE){i(l[t]||(l[t]={key:t}))}return t in u||a++,u[t]=e,a>c&&this.remove(p.key),e}},get:function(t){if(c<Number.MAX_VALUE){var e=l[t];if(!e)return;i(e)}return u[t]},remove:function(t){if(c<Number.MAX_VALUE){var e=l[t];if(!e)return;e===h&&(h=e.p),e===p&&(p=e.n),o(e.n,e.p),delete l[t]}t in u&&(delete u[t],a--)},removeAll:function(){u=gt(),a=0,l=gt(),h=p=null},destroy:function(){u=null,s=null,l=null,delete n[t]},info:function(){return f({},s,{size:a})}}}var n={};return t.info=function(){var t={};return o(n,function(e,n){t[n]=e.info()}),t},t.get=function(t){return n[t]},t}}function ge(){this.$get=["$cacheFactory",function(t){return t("templates")}]}function $e(){}function ye(e,n){function r(t,e,n){var r=gt();return o(t,function(t,i){if(t in k)return void(r[i]=k[t]);var o=t.match(/^\s*([@&<]|=(\*?))(\??)\s*([\w$]*)\s*$/);if(!o)throw ao("iscp","Invalid {3} for directive '{0}'. Definition: {... {1}: '{2}' ...}",e,i,t,n?"controller bindings definition":"isolate scope definition");r[i]={mode:o[1][0],collection:"*"===o[2],optional:"?"===o[3],attrName:o[4]||i},o[4]&&(k[t]=r[i])}),r}function i(t,e){var n={isolateScope:null,bindToController:null};if(w(t.scope)&&(!0===t.bindToController?(n.bindToController=r(t.scope,e,!0),n.isolateScope={}):n.isolateScope=r(t.scope,e,!1)),w(t.bindToController)&&(n.bindToController=r(t.bindToController,e,!0)),n.bindToController&&!t.controller)throw ao("noctrl","Cannot bind to controller without directive '{0}'s controller.",e);return n}function a(t){var e=t.charAt(0);if(!e||e!==Gr(e))throw ao("baddir","Directive/Component name '{0}' is invalid. The first character must be a lowercase letter",t);if(t!==t.trim())throw ao("baddir","Directive/Component name '{0}' is invalid. The name should not contain leading or trailing whitespaces",t)}function u(t){var e=t.require||t.controller&&t.name;return!li(e)&&w(e)&&o(e,function(t,n){var r=t.match(S);t.substring(r[0].length)||(e[n]=r[0]+n)}),e}function c(t,e){if(t&&(!C(t)||!/[EACM]/.test(t)))throw ao("badrestrict","Restrict property '{0}' of directive '{1}' is invalid",t,e);return t||"EA"}var l={},h="Directive",p=/^\s*directive:\s*([\w-]+)\s+(.*)$/,$=/(([\w-]+)(?::([^;]+))?;?)/,x=M("ngSrc,ngSrcset,src,srcset"),S=/^(?:(\^\^?)?(\?)?(\^\^?)?)?/,E=/^(on[a-z]+|formaction)$/,k=gt();this.directive=function t(n,r){return ht(n,"name"),dt(n,"directive"),C(n)?(a(n),ht(r,"directiveFactory"),l.hasOwnProperty(n)||(l[n]=[],e.factory(n+h,["$injector","$exceptionHandler",function(t,e){var r=[];return o(l[n],function(i,o){try{var a=t.invoke(i);T(a)?a={compile:g(a)}:!a.compile&&a.link&&(a.compile=g(a.link)),a.priority=a.priority||0,a.index=o,a.name=a.name||n,a.require=u(a),a.restrict=c(a.restrict,n),a.$$moduleName=i.$$moduleName,r.push(a)}catch(t){e(t)}}),r}])),l[n].push(r)):o(n,s(t)),this},this.component=function(t,e){function n(t){function n(e){return T(e)||li(e)?function(n,r){return t.invoke(e,this,{$element:n,$attrs:r})}:e}var i=e.template||e.templateUrl?e.template:"",a={controller:r,controllerAs:Se(e.controller)||e.controllerAs||"$ctrl",template:n(i),templateUrl:n(e.templateUrl),transclude:e.transclude,scope:{},bindToController:e.bindings||{},restrict:"E",require:e.require};return o(e,function(t,e){"$"===e.charAt(0)&&(a[e]=t)}),a}var r=e.controller||function(){};return o(e,function(t,e){"$"===e.charAt(0)&&(n[e]=t,T(r)&&(r[e]=t))}),n.$inject=["$injector"],this.directive(t,n)},this.aHrefSanitizationWhitelist=function(t){return b(t)?(n.aHrefSanitizationWhitelist(t),this):n.aHrefSanitizationWhitelist()},this.imgSrcSanitizationWhitelist=function(t){return b(t)?(n.imgSrcSanitizationWhitelist(t),this):n.imgSrcSanitizationWhitelist()};var A=!0;this.debugInfoEnabled=function(t){return b(t)?(A=t,this):A};var _=!1;this.preAssignBindingsEnabled=function(t){return b(t)?(_=t,this):_};var R=10;this.onChangesTtl=function(t){return arguments.length?(R=t,this):R};var j=!0;this.commentDirectivesEnabled=function(t){return arguments.length?(j=t,this):j};var N=!0;this.cssClassDirectivesEnabled=function(t){return arguments.length?(N=t,this):N},this.$get=["$injector","$interpolate","$exceptionHandler","$templateRequest","$parse","$controller","$rootScope","$sce","$animate","$$sanitizeUri",function(e,n,r,a,s,u,c,g,k,I){function D(){try{if(!--_t)throw St=void 0,ao("infchng","{0} $onChanges() iterations reached. Aborting!\n",R);c.$apply(function(){for(var t=[],e=0,n=St.length;e<n;++e)try{St[e]()}catch(e){t.push(e)}if(St=void 0,t.length)throw t})}finally{_t++}}function V(t,e){if(e){var n,r,i,o=Object.keys(e);for(n=0,r=o.length;n<r;n++)i=o[n],this[i]=e[i]}else this.$attr={};this.$$element=t}function M(t,e,n){Tt.innerHTML="<span "+e+">";var r=Tt.firstChild.attributes,i=r[0];r.removeNamedItem(i.name),i.value=n,t.attributes.setNamedItem(i)}function H(t,e){try{t.addClass(e)}catch(t){}}function U(t,e,n,r,i){t instanceof Xr||(t=Xr(t));var o=J(t,e,t,n,r,i);U.$$addScopeClass(t);var a=null;return function(e,n,r){if(!t)throw ao("multilink","This element has already been linked.");ht(e,"scope"),i&&i.needsNewScope&&(e=e.$parent.$new()),r=r||{};var s=r.parentBoundTranscludeFn,u=r.transcludeControllers,c=r.futureParentElement;s&&s.$$boundTransclude&&(s=s.$$boundTransclude),a||(a=W(c));var l;if(l="html"!==a?Xr(mt(a,Xr("<div>").append(t).html())):n?qi.clone.call(t):t,u)for(var f in u)l.data("$"+f+"Controller",u[f].instance);return U.$$addScopeInfo(l,e),n&&n(l,e),o&&o(e,l,l,s),n||(t=o=null),l}}function W(t){var e=t&&t[0];return e&&"foreignobject"!==q(e)&&ii.call(e).match(/SVG/)?"svg":"html"}function J(t,e,n,r,i,o){function a(t,n,r,i){var o,a,s,u,c,l,f,h,v;if(p){var m=n.length;for(v=new Array(m),c=0;c<d.length;c+=3)f=d[c],v[f]=n[f]}else v=n;for(c=0,l=d.length;c<l;)s=v[d[c++]],o=d[c++],a=d[c++],o?(o.scope?(u=t.$new(),U.$$addScopeInfo(Xr(s),u)):u=t,
h=o.transcludeOnThisElement?K(t,o.transclude,i):!o.templateOnThisElement&&i?i:!i&&e?K(t,e):null,o(a,u,s,r,h)):a&&a(t,s.childNodes,void 0,i)}for(var s,u,c,l,f,h,p,d=[],v=li(t)||t instanceof Xr,m=0;m<t.length;m++)s=new V,11===Yr&&Q(t,m,v),u=Y(t[m],[],s,0===m?r:void 0,i),c=u.length?rt(u,t[m],s,e,n,null,[],[],o):null,c&&c.scope&&U.$$addScopeClass(s.$$element),f=c&&c.terminal||!(l=t[m].childNodes)||!l.length?null:J(l,c?(c.transcludeOnThisElement||!c.templateOnThisElement)&&c.transclude:e),(c||f)&&(d.push(m,c,f),h=!0,p=p||c),o=null;return h?a:null}function Q(t,e,n){var r,i=t[e],o=i.parentNode;if(i.nodeType===xi)for(;;){if(!(r=o?i.nextSibling:t[e+1])||r.nodeType!==xi)break;i.nodeValue=i.nodeValue+r.nodeValue,r.parentNode&&r.parentNode.removeChild(r),n&&r===t[e+1]&&t.splice(e+1,1)}}function K(t,e,n){function r(r,i,o,a,s){return r||(r=t.$new(!1,s),r.$$transcluded=!0),e(r,i,{parentBoundTranscludeFn:n,transcludeControllers:o,futureParentElement:a})}var i=r.$$slots=gt();for(var o in e.$$slots)e.$$slots[o]?i[o]=K(t,e.$$slots[o],n):i[o]=null;return r}function Y(t,e,n,r,i){var o,a,s,u=t.nodeType,c=n.$attr;switch(u){case wi:a=q(t),st(e,we(a),"E",r,i);for(var l,f,h,p,d,v,m=t.attributes,g=0,y=m&&m.length;g<y;g++){var b=!1,x=!1;l=m[g],f=l.name,d=l.value,p=we(f),v=It.test(p),v&&(f=f.replace(uo,"").substr(8).replace(/_(.)/g,function(t,e){return e.toUpperCase()}));var S=p.match(Dt);S&&ut(S[1])&&(b=f,x=f.substr(0,f.length-5)+"end",f=f.substr(0,f.length-6)),h=we(f.toLowerCase()),c[h]=f,!v&&n.hasOwnProperty(h)||(n[h]=d,Kt(t,h)&&(n[h]=!0)),yt(t,e,d,h,v),st(e,h,"A",r,i,b,x)}if("input"===a&&"hidden"===t.getAttribute("type")&&t.setAttribute("autocomplete","off"),!Ot)break;if(s=t.className,w(s)&&(s=s.animVal),C(s)&&""!==s)for(;o=$.exec(s);)h=we(o[2]),st(e,h,"C",r,i)&&(n[h]=hi(o[3])),s=s.substr(o.index+o[0].length);break;case xi:vt(e,t.nodeValue);break;case Ci:if(!At)break;X(t,e,n,r,i)}return e.sort(pt),e}function X(t,e,n,r,i){try{var o=p.exec(t.nodeValue);if(o){var a=we(o[1]);st(e,a,"M",r,i)&&(n[a]=hi(o[2]))}}catch(t){}}function Z(t,e,n){var r=[],i=0;if(e&&t.hasAttribute&&t.hasAttribute(e))do{if(!t)throw ao("uterdir","Unterminated attribute, found '{0}' but no matching '{1}' found.",e,n);t.nodeType===wi&&(t.hasAttribute(e)&&i++,t.hasAttribute(n)&&i--),r.push(t),t=t.nextSibling}while(i>0);else r.push(t);return Xr(r)}function et(t,e,n){return function(r,i,o,a,s){return i=Z(i[0],e,n),t(r,i,o,a,s)}}function nt(t,e,n,r,i,o){var a;return t?U(e,n,r,i,o):function(){return a||(a=U(e,n,r,i,o),e=n=o=null),a.apply(this,arguments)}}function rt(t,e,n,i,a,s,u,c,l){function h(t,e,n,r){t&&(n&&(t=et(t,n,r)),t.require=d.require,t.directiveName=v,(S===d||d.$$isolateScope)&&(t=wt(t,{isolateScope:!0})),u.push(t)),e&&(n&&(e=et(e,n,r)),e.require=d.require,e.directiveName=v,(S===d||d.$$isolateScope)&&(e=wt(e,{isolateScope:!0})),c.push(e))}function p(t,i,a,s,l){function h(t,e,n,r){var i;if(O(t)||(r=n,n=e,e=t,t=void 0),j&&(i=$),n||(n=j?k.parent():k),!r)return l(t,e,i,n,q);var o=l.$$slots[r];if(o)return o(t,e,i,n,q);if(y(o))throw ao("noslot",'No parent directive that requires a transclusion with slot name "{0}". Element: {1}',r,tt(k))}var p,d,v,m,g,$,b,k,A,R;e===a?(A=n,k=n.$$element):(k=Xr(a),A=new V(k,n)),g=i,S?m=i.$new(!0):x&&(g=i.$parent),l&&(b=h,b.$$boundTransclude=l,b.isSlotFilled=function(t){return!!l.$$slots[t]}),C&&($=ot(k,A,b,C,m,i,S)),S&&(U.$$addScopeInfo(k,m,!0,!(E&&(E===S||E===S.$$originalDirective))),U.$$addScopeClass(k,!0),m.$$isolateBindings=S.$$isolateBindings,R=Ct(i,A,m,m.$$isolateBindings,S),R.removeWatches&&m.$on("$destroy",R.removeWatches));for(var P in $){var N=C[P],I=$[P],D=N.$$bindings.bindToController;if(_){I.bindingInfo=D?Ct(g,A,I.instance,D,N):{};var M=I();M!==I.instance&&(I.instance=M,k.data("$"+N.name+"Controller",M),I.bindingInfo.removeWatches&&I.bindingInfo.removeWatches(),I.bindingInfo=Ct(g,A,I.instance,D,N))}else I.instance=I(),k.data("$"+N.name+"Controller",I.instance),I.bindingInfo=Ct(g,A,I.instance,D,N)}for(o(C,function(t,e){var n=t.require;t.bindToController&&!li(n)&&w(n)&&f($[e].instance,it(e,n,k,$))}),o($,function(t){var e=t.instance;if(T(e.$onChanges))try{e.$onChanges(t.bindingInfo.initialChanges)}catch(t){r(t)}if(T(e.$onInit))try{e.$onInit()}catch(t){r(t)}T(e.$doCheck)&&(g.$watch(function(){e.$doCheck()}),e.$doCheck()),T(e.$onDestroy)&&g.$on("$destroy",function(){e.$onDestroy()})}),p=0,d=u.length;p<d;p++)v=u[p],xt(v,v.isolateScope?m:i,k,A,v.require&&it(v.directiveName,v.require,k,$),b);var q=i;for(S&&(S.template||null===S.templateUrl)&&(q=m),t&&t(q,a.childNodes,void 0,l),p=c.length-1;p>=0;p--)v=c[p],xt(v,v.isolateScope?m:i,k,A,v.require&&it(v.directiveName,v.require,k,$),b);o($,function(t){var e=t.instance;T(e.$postLink)&&e.$postLink()})}l=l||{};for(var d,v,m,g,$,b=-Number.MAX_VALUE,x=l.newScopeDirective,C=l.controllerDirectives,S=l.newIsolateScopeDirective,E=l.templateDirective,k=l.nonTlbTranscludeDirective,A=!1,R=!1,j=l.hasElementTranscludeDirective,P=n.$$element=Xr(e),N=s,I=i,D=!1,M=!1,H=0,L=t.length;H<L;H++){d=t[H];var F=d.$$start,B=d.$$end;if(F&&(P=Z(e,F,B)),m=void 0,b>d.priority)break;if($=d.scope,$&&(d.templateUrl||(w($)?(dt("new/isolated scope",S||x,d,P),S=d):dt("new/isolated scope",S,d,P)),x=x||d),v=d.name,!D&&(d.replace&&(d.templateUrl||d.template)||d.transclude&&!d.$$tlb)){for(var W,J=H+1;W=t[J++];)if(W.transclude&&!W.$$tlb||W.replace&&(W.templateUrl||W.template)){M=!0;break}D=!0}if(!d.templateUrl&&d.controller&&(C=C||gt(),dt("'"+v+"' controller",C[v],d,P),C[v]=d),$=d.transclude)if(A=!0,d.$$tlb||(dt("transclusion",k,d,P),k=d),"element"===$)j=!0,b=d.priority,m=P,P=n.$$element=Xr(U.$$createComment(v,n[v])),e=P[0],bt(a,z(m),e),m[0].$$parentNode=m[0].parentNode,I=nt(M,m,i,b,N&&N.name,{nonTlbTranscludeDirective:k});else{var Q=gt();if(w($)){m=[];var K=gt(),X=gt();o($,function(t,e){var n="?"===t.charAt(0);t=n?t.substring(1):t,K[t]=e,Q[e]=null,X[e]=n}),o(P.contents(),function(t){var e=K[we(q(t))];e?(X[e]=!0,Q[e]=Q[e]||[],Q[e].push(t)):m.push(t)}),o(X,function(t,e){if(!t)throw ao("reqslot","Required transclusion slot `{0}` was not filled.",e)});for(var rt in Q)Q[rt]&&(Q[rt]=nt(M,Q[rt],i))}else m=Xr(Nt(e)).contents();P.empty(),I=nt(M,m,i,void 0,void 0,{needsNewScope:d.$$isolateScope||d.$$newScope}),I.$$slots=Q}if(d.template)if(R=!0,dt("template",E,d,P),E=d,$=T(d.template)?d.template(P,n):d.template,$=Pt($),d.replace){if(N=d,m=kt($)?[]:Ce(mt(d.templateNamespace,hi($))),e=m[0],1!==m.length||e.nodeType!==wi)throw ao("tplrt","Template for directive '{0}' must have exactly one root element. {1}",v,"");bt(a,P,e);var st={$attr:{}},ut=Y(e,[],st),ft=t.splice(H+1,t.length-(H+1));(S||x)&&at(ut,S,x),t=t.concat(ut).concat(ft),ct(n,st),L=t.length}else P.html($);if(d.templateUrl)R=!0,dt("template",E,d,P),E=d,d.replace&&(N=d),p=lt(t.splice(H,t.length-H),P,n,a,A&&I,u,c,{controllerDirectives:C,newScopeDirective:x!==d&&x,newIsolateScopeDirective:S,templateDirective:E,nonTlbTranscludeDirective:k}),L=t.length;else if(d.compile)try{g=d.compile(P,n,I);var ht=d.$$originalDirective||d;T(g)?h(null,G(ht,g),F,B):g&&h(G(ht,g.pre),G(ht,g.post),F,B)}catch(t){r(t,tt(P))}d.terminal&&(p.terminal=!0,b=Math.max(b,d.priority))}return p.scope=x&&!0===x.scope,p.transcludeOnThisElement=A,p.templateOnThisElement=R,p.transclude=I,l.hasElementTranscludeDirective=j,p}function it(t,e,n,r){var i;if(C(e)){var a=e.match(S),s=e.substring(a[0].length),u=a[1]||a[3],c="?"===a[2];if("^^"===u?n=n.parent():(i=r&&r[s],i=i&&i.instance),!i){var l="$"+s+"Controller";i=u?n.inheritedData(l):n.data(l)}if(!i&&!c)throw ao("ctreq","Controller '{0}', required by directive '{1}', can't be found!",s,t)}else if(li(e)){i=[];for(var f=0,h=e.length;f<h;f++)i[f]=it(t,e[f],n,r)}else w(e)&&(i={},o(e,function(e,o){i[o]=it(t,e,n,r)}));return i||null}function ot(t,e,n,r,i,o,a){var s=gt();for(var c in r){var l=r[c],f={$scope:l===a||l.$$isolateScope?i:o,$element:t,$attrs:e,$transclude:n},h=l.controller;"@"===h&&(h=e[l.name]);var p=u(h,f,!0,l.controllerAs);s[l.name]=p,t.data("$"+l.name+"Controller",p.instance)}return s}function at(t,e,n){for(var r=0,i=t.length;r<i;r++)t[r]=d(t[r],{$$isolateScope:e,$$newScope:n})}function st(t,n,r,o,a,s,u){if(n===a)return null;var c=null;if(l.hasOwnProperty(n))for(var f,p=e.get(n+h),v=0,m=p.length;v<m;v++)if(f=p[v],(y(o)||o>f.priority)&&-1!==f.restrict.indexOf(r)){if(s&&(f=d(f,{$$start:s,$$end:u})),!f.$$bindings){var g=f.$$bindings=i(f,f.name);w(g.isolateScope)&&(f.$$isolateBindings=g.isolateScope)}t.push(f),c=f}return c}function ut(t){if(l.hasOwnProperty(t))for(var n,r=e.get(t+h),i=0,o=r.length;i<o;i++)if(n=r[i],n.multiElement)return!0;return!1}function ct(t,e){var n=e.$attr,r=t.$attr;o(t,function(r,i){"$"!==i.charAt(0)&&(e[i]&&e[i]!==r&&(r.length?r+=("style"===i?";":" ")+e[i]:r=e[i]),t.$set(i,r,!0,n[i]))}),o(e,function(e,i){t.hasOwnProperty(i)||"$"===i.charAt(0)||(t[i]=e,"class"!==i&&"style"!==i&&(r[i]=n[i]))})}function lt(t,e,n,i,s,u,c,l){var f,h,p=[],v=e[0],m=t.shift(),g=d(m,{templateUrl:null,transclude:null,replace:null,$$originalDirective:m}),$=T(m.templateUrl)?m.templateUrl(e,n):m.templateUrl,y=m.templateNamespace;return e.empty(),a($).then(function(r){var a,d,b,x;if(r=Pt(r),m.replace){if(b=kt(r)?[]:Ce(mt(y,hi(r))),a=b[0],1!==b.length||a.nodeType!==wi)throw ao("tplrt","Template for directive '{0}' must have exactly one root element. {1}",m.name,$);d={$attr:{}},bt(i,e,a);var C=Y(a,[],d);w(m.scope)&&at(C,!0),t=C.concat(t),ct(n,d)}else a=v,e.html(r);for(t.unshift(g),f=rt(t,a,n,s,e,m,u,c,l),o(i,function(t,n){t===a&&(i[n]=e[0])}),h=J(e[0].childNodes,s);p.length;){var S=p.shift(),E=p.shift(),T=p.shift(),k=p.shift(),A=e[0];if(!S.$$destroyed){if(E!==v){var O=E.className;l.hasElementTranscludeDirective&&m.replace||(A=Nt(a)),bt(T,Xr(E),A),H(Xr(A),O)}x=f.transcludeOnThisElement?K(S,f.transclude,k):k,f(h,S,A,i,x)}}p=null}).catch(function(t){t instanceof Error&&r(t)}),function(t,e,n,r,i){var o=i;e.$$destroyed||(p?p.push(e,n,r,o):(f.transcludeOnThisElement&&(o=K(e,f.transclude,i)),f(h,e,n,r,o)))}}function pt(t,e){var n=e.priority-t.priority;return 0!==n?n:t.name!==e.name?t.name<e.name?-1:1:t.index-e.index}function dt(t,e,n,r){function i(t){return t?" (module: "+t+")":""}if(e)throw ao("multidir","Multiple directives [{0}{1}, {2}{3}] asking for {4} on: {5}",e.name,i(e.$$moduleName),n.name,i(n.$$moduleName),t,tt(r))}function vt(t,e){var r=n(e,!0);r&&t.push({priority:0,compile:function(t){var e=t.parent(),n=!!e.length;return n&&U.$$addBindingClass(e),function(t,e){var i=e.parent();n||U.$$addBindingClass(i),U.$$addBindingInfo(i,r.expressions),t.$watch(r,function(t){e[0].nodeValue=t})}}})}function mt(e,n){switch(e=Gr(e||"html")){case"svg":case"math":var r=t.document.createElement("div");return r.innerHTML="<"+e+">"+n+"</"+e+">",r.childNodes[0].childNodes;default:return n}}function $t(t,e){if("srcdoc"===e)return g.HTML;var n=q(t);if("src"===e||"ngSrc"===e){if(-1===["img","video","audio","source","track"].indexOf(n))return g.RESOURCE_URL}else if("xlinkHref"===e||"form"===n&&"action"===e||"link"===n&&"href"===e)return g.RESOURCE_URL}function yt(t,e,r,i,o){var a=$t(t,i),s=!o,u=x[i]||o,c=n(r,s,a,u);if(c){if("multiple"===i&&"select"===q(t))throw ao("selmulti","Binding to the 'multiple' attribute is not supported. Element: {0}",tt(t));if(E.test(i))throw ao("nodomevents","Interpolations for HTML DOM event attributes are disallowed.  Please use the ng- versions (such as ng-click instead of onclick) instead.");e.push({priority:100,compile:function(){return{pre:function(t,e,o){var s=o.$$observers||(o.$$observers=gt()),l=o[i];l!==r&&(c=l&&n(l,!0,a,u),r=l),c&&(o[i]=c(t),(s[i]||(s[i]=[])).$$inter=!0,(o.$$observers&&o.$$observers[i].$$scope||t).$watch(c,function(t,e){"class"===i&&t!==e?o.$updateClass(t,e):o.$set(i,t)}))}}}})}}function bt(e,n,r){var i,o,a=n[0],s=n.length,u=a.parentNode;if(e)for(i=0,o=e.length;i<o;i++)if(e[i]===a){e[i++]=r;for(var c=i,l=c+s-1,f=e.length;c<f;c++,l++)l<f?e[c]=e[l]:delete e[c];e.length-=s-1,e.context===a&&(e.context=r);break}u&&u.replaceChild(r,a);var h=t.document.createDocumentFragment();for(i=0;i<s;i++)h.appendChild(n[i]);for(Xr.hasData(a)&&(Xr.data(r,Xr.data(a)),Xr(a).off("$destroy")),Xr.cleanData(h.querySelectorAll("*")),i=1;i<s;i++)delete n[i];n[0]=r,n.length=1}function wt(t,e){return f(function(){return t.apply(null,arguments)},t,e)}function xt(t,e,n,i,o,a){try{t(e,n,i,o,a)}catch(t){r(t,tt(n))}}function Ct(t,e,r,i,a){function u(e,n,i){T(r.$onChanges)&&!F(n,i)&&(St||(t.$$postDigest(D),St=[]),l||(l={},St.push(c)),l[e]&&(i=l[e].previousValue),l[e]=new be(i,n))}function c(){r.$onChanges(l),l=void 0}var l,f=[],h={};return o(i,function(i,o){var c,l,p,d,m,g=i.attrName,$=i.optional,y=i.mode;switch(y){case"@":$||Wr.call(e,g)||(r[o]=e[g]=void 0),m=e.$observe(g,function(t){if(C(t)||P(t)){var e=r[o];u(o,t,e),r[o]=t}}),e.$$observers[g].$$scope=t,c=e[g],C(c)?r[o]=n(c)(t):P(c)&&(r[o]=c),h[o]=new be(so,r[o]),f.push(m);break;case"=":if(!Wr.call(e,g)){if($)break;e[g]=void 0}if($&&!e[g])break;l=s(e[g]),d=l.literal?B:F,p=l.assign||function(){throw c=r[o]=l(t),ao("nonassign","Expression '{0}' in attribute '{1}' used with directive '{2}' is non-assignable!",e[g],g,a.name)},c=r[o]=l(t);var b=function(e){return d(e,r[o])||(d(e,c)?p(t,e=r[o]):r[o]=e),c=e};b.$stateful=!0,m=i.collection?t.$watchCollection(e[g],b):t.$watch(s(e[g],b),null,l.literal),f.push(m);break;case"<":if(!Wr.call(e,g)){if($)break;e[g]=void 0}if($&&!e[g])break;l=s(e[g]);var w=l.literal,x=r[o]=l(t);h[o]=new be(so,r[o]),m=t.$watch(l,function(t,e){if(e===t){if(e===x||w&&B(e,x))return;e=x}u(o,t,e),r[o]=t},w),f.push(m);break;case"&":if((l=e.hasOwnProperty(g)?s(e[g]):v)===v&&$)break;r[o]=function(e){return l(t,e)}}}),{initialChanges:h,removeWatches:f.length&&function(){for(var t=0,e=f.length;t<e;++t)f[t]()}}}var St,Et=/^\w/,Tt=t.document.createElement("div"),At=j,Ot=N,_t=R;V.prototype={$normalize:we,$addClass:function(t){t&&t.length>0&&k.addClass(this.$$element,t)},$removeClass:function(t){t&&t.length>0&&k.removeClass(this.$$element,t)},$updateClass:function(t,e){var n=xe(t,e);n&&n.length&&k.addClass(this.$$element,n);var r=xe(e,t);r&&r.length&&k.removeClass(this.$$element,r)},$set:function(t,e,n,i){var a,s=this.$$element[0],u=Kt(s,t),c=Yt(t),l=t;if(u?(this.$$element.prop(t,e),i=u):c&&(this[c]=e,l=c),this[t]=e,i?this.$attr[t]=i:(i=this.$attr[t])||(this.$attr[t]=i=ft(t,"-")),"a"===(a=q(this.$$element))&&("href"===t||"xlinkHref"===t)||"img"===a&&"src"===t)this[t]=e=I(e,"src"===t);else if("img"===a&&"srcset"===t&&b(e)){for(var f="",h=hi(e),p=/\s/.test(h)?/(\s+\d+x\s*,|\s+\d+w\s*,|\s+,|,\s+)/:/(,)/,d=h.split(p),v=Math.floor(d.length/2),m=0;m<v;m++){var g=2*m;f+=I(hi(d[g]),!0),f+=" "+hi(d[g+1])}var $=hi(d[2*m]).split(/\s/);f+=I(hi($[0]),!0),2===$.length&&(f+=" "+hi($[1])),this[t]=e=f}!1!==n&&(null===e||y(e)?this.$$element.removeAttr(i):Et.test(i)?this.$$element.attr(i,e):M(this.$$element[0],i,e));var w=this.$$observers;w&&o(w[l],function(t){try{t(e)}catch(t){r(t)}})},$observe:function(t,e){var n=this,r=n.$$observers||(n.$$observers=gt()),i=r[t]||(r[t]=[]);return i.push(e),c.$evalAsync(function(){i.$$inter||!n.hasOwnProperty(t)||y(n[t])||e(n[t])}),function(){L(i,e)}}};var Rt=n.startSymbol(),jt=n.endSymbol(),Pt="{{"===Rt&&"}}"===jt?m:function(t){return t.replace(/\{\{/g,Rt).replace(/}}/g,jt)},It=/^ngAttr[A-Z]/,Dt=/^(.+)Start$/;return U.$$addBindingInfo=A?function(t,e){var n=t.data("$binding")||[];li(e)?n=n.concat(e):n.push(e),t.data("$binding",n)}:v,U.$$addBindingClass=A?function(t){H(t,"ng-binding")}:v,U.$$addScopeInfo=A?function(t,e,n,r){var i=n?r?"$isolateScopeNoTemplate":"$isolateScope":"$scope";t.data(i,e)}:v,U.$$addScopeClass=A?function(t,e){H(t,e?"ng-isolate-scope":"ng-scope")}:v,U.$$createComment=function(e,n){var r="";return A&&(r=" "+(e||"")+": ",n&&(r+=n+" ")),t.document.createComment(r)},U}]}function be(t,e){this.previousValue=t,this.currentValue=e}function we(t){return t.replace(uo,"").replace(co,Et)}function xe(t,e){var n="",r=t.split(/\s+/),i=e.split(/\s+/);t:for(var o=0;o<r.length;o++){for(var a=r[o],s=0;s<i.length;s++)if(a===i[s])continue t;n+=(n.length>0?" ":"")+a}return n}function Ce(t){t=Xr(t);var e=t.length;if(e<=1)return t;for(;e--;){var n=t[e];(n.nodeType===Ci||n.nodeType===xi&&""===n.nodeValue.trim())&&ni.call(t,e,1)}return t}function Se(t,e){if(e&&C(e))return e;if(C(t)){var n=fo.exec(t);if(n)return n[3]}}function Ee(){var t={},n=!1;this.has=function(e){return t.hasOwnProperty(e)},this.register=function(e,n){dt(e,"controller"),w(e)?f(t,e):t[e]=n},this.allowGlobals=function(){n=!0},this.$get=["$injector","$window",function(r,i){function o(t,n,r,i){if(!t||!w(t.$scope))throw e("$controller")("noscp","Cannot export controller '{0}' as '{1}'! No $scope object provided via `locals`.",i,n);t.$scope[n]=r}return function(e,a,s,u){var c,l,h,p;if(s=!0===s,u&&C(u)&&(p=u),C(e)){if(!(l=e.match(fo)))throw lo("ctrlfmt","Badly formed controller string '{0}'. Must match `__name__ as __id__` or `__name__`.",e);if(h=l[1],p=p||l[3],!(e=t.hasOwnProperty(h)?t[h]:vt(a.$scope,h,!0)||(n?vt(i,h,!0):void 0)))throw lo("ctrlreg","The controller with the name '{0}' is not registered.",h);pt(e,h,!0)}if(s){var d=(li(e)?e[e.length-1]:e).prototype;return c=Object.create(d||null),p&&o(a,p,c,h||e.name),f(function(){var t=r.invoke(e,c,a,h);return t!==c&&(w(t)||T(t))&&(c=t,p&&o(a,p,c,h||e.name)),c},{instance:c,identifier:p})}return c=r.instantiate(e,a,h),p&&o(a,p,c,h||e.name),c}}]}function Te(){this.$get=["$window",function(t){return Xr(t.document)}]}function ke(){this.$get=["$document","$rootScope",function(t,e){function n(){i=r.hidden}var r=t[0],i=r&&r.hidden;return t.on("visibilitychange",n),e.$on("$destroy",function(){t.off("visibilitychange",n)}),function(){return i}}]}function Ae(){this.$get=["$log",function(t){return function(e,n){t.error.apply(t,arguments)}}]}function Oe(t){return w(t)?E(t)?t.toISOString():Q(t):t}function _e(){this.$get=function(){return function(t){if(!t)return"";var e=[];return a(t,function(t,n){null===t||y(t)||(li(t)?o(t,function(t){e.push(ot(n)+"="+ot(Oe(t)))}):e.push(ot(n)+"="+ot(Oe(t))))}),e.join("&")}}}function Re(){this.$get=function(){return function(t){function e(t,r,i){null===t||y(t)||(li(t)?o(t,function(t,n){e(t,r+"["+(w(t)?n:"")+"]")}):w(t)&&!E(t)?a(t,function(t,n){e(t,r+(i?"":"[")+n+(i?"":"]"))}):n.push(ot(r)+"="+ot(Oe(t))))}if(!t)return"";var n=[];return e(t,"",!0),n.join("&")}}}function je(t,e){if(C(t)){var n=t.replace($o,"").trim();if(n){var r=e("Content-Type");if(r&&0===r.indexOf(po)||Pe(n))try{t=K(n)}catch(e){throw yo("baddata",'Data must be a valid JSON object. Received: "{0}". Parse error: "{1}"',t,e)}}}return t}function Pe(t){var e=t.match(mo);return e&&go[e[0]].test(t)}function Ne(t){function e(t,e){t&&(r[t]=r[t]?r[t]+", "+e:e)}var n,r=gt();return C(t)?o(t.split("\n"),function(t){n=t.indexOf(":"),e(Gr(hi(t.substr(0,n))),hi(t.substr(n+1)))}):w(t)&&o(t,function(t,n){e(Gr(n),hi(t))}),r}function Ie(t){var e;return function(n){if(e||(e=Ne(t)),n){var r=e[Gr(n)];return void 0===r&&(r=null),r}return e}}function De(t,e,n,r){return T(r)?r(t,e,n):(o(r,function(r){t=r(t,e,n)}),t)}function Ve(t){return 200<=t&&t<300}function Me(){var t=this.defaults={transformResponse:[je],transformRequest:[function(t){return!w(t)||_(t)||j(t)||R(t)?t:Q(t)}],headers:{common:{Accept:"application/json, text/plain, */*"},post:bt(vo),put:bt(vo),patch:bt(vo)},xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",paramSerializer:"$httpParamSerializer",jsonpCallbackParam:"callback"},n=!1;this.useApplyAsync=function(t){return b(t)?(n=!!t,this):n};var r=this.interceptors=[];this.$get=["$browser","$httpBackend","$$cookieReader","$cacheFactory","$rootScope","$q","$injector","$sce",function(i,a,s,u,c,l,h,p){function d(n){function r(t,e){for(var n=0,r=e.length;n<r;){var i=e[n++],o=e[n++];t=t.then(i,o)}return e.length=0,t}function a(){i.$$completeOutstandingRequest(v)}function s(t,e){var n,r={};return o(t,function(t,i){T(t)?null!=(n=t(e))&&(r[i]=n):r[i]=t}),r}function u(e){var n=e.headers,r=De(e.data,Ie(n),void 0,e.transformRequest);return y(r)&&o(n,function(t,e){"content-type"===Gr(e)&&delete n[e]}),y(e.withCredentials)&&!y(t.withCredentials)&&(e.withCredentials=t.withCredentials),m(e,r).then(c,c)}function c(t){var e=f({},t);return e.data=De(t.data,t.headers,t.status,d.transformResponse),Ve(t.status)?e:l.reject(e)}if(!w(n))throw e("$http")("badreq","Http request configuration must be an object.  Received: {0}",n);if(!C(p.valueOf(n.url)))throw e("$http")("badreq","Http request configuration url must be a string or a $sce trusted object.  Received: {0}",n.url);var d=f({method:"get",transformRequest:t.transformRequest,transformResponse:t.transformResponse,paramSerializer:t.paramSerializer,jsonpCallbackParam:t.jsonpCallbackParam},n);d.headers=function(e){var n,r,i,o=t.headers,a=f({},e.headers);o=f({},o.common,o[Gr(e.method)]);t:for(n in o){r=Gr(n);for(i in a)if(Gr(i)===r)continue t;a[n]=o[n]}return s(a,bt(e))}(n),d.method=Jr(d.method),d.paramSerializer=C(d.paramSerializer)?h.get(d.paramSerializer):d.paramSerializer,i.$$incOutstandingRequestCount();var g=[],$=[],b=l.resolve(d);return o(S,function(t){(t.request||t.requestError)&&g.unshift(t.request,t.requestError),(t.response||t.responseError)&&$.push(t.response,t.responseError)}),b=r(b,g),b=b.then(u),b=r(b,$),b=b.finally(a)}function m(e,r){function i(t){if(t){var e={};return o(t,function(t,r){e[r]=function(e){function r(){t(e)}n?c.$applyAsync(r):c.$$phase?r():c.$apply(r)}}),e}}function u(t,e,r,i){function o(){f(e,t,r,i)}m&&(Ve(t)?m.put(O,[t,e,Ne(r),i]):m.remove(O)),n?c.$applyAsync(o):(o(),c.$$phase||c.$apply())}function f(t,n,r,i){n=n>=-1?n:0,(Ve(n)?E.resolve:E.reject)({data:t,status:n,headers:Ie(r),config:e,statusText:i})}function h(t){f(t.data,t.status,bt(t.headers()),t.statusText)}function v(){var t=d.pendingRequests.indexOf(e);-1!==t&&d.pendingRequests.splice(t,1)}var m,S,E=l.defer(),T=E.promise,k=e.headers,A="jsonp"===Gr(e.method),O=e.url;if(A?O=p.getTrustedResourceUrl(O):C(O)||(O=p.valueOf(O)),O=g(O,e.paramSerializer(e.params)),A&&(O=$(O,e.jsonpCallbackParam)),d.pendingRequests.push(e),T.then(v,v),!e.cache&&!t.cache||!1===e.cache||"GET"!==e.method&&"JSONP"!==e.method||(m=w(e.cache)?e.cache:w(t.cache)?t.cache:x),m&&(S=m.get(O),b(S)?N(S)?S.then(h,h):li(S)?f(S[1],S[0],bt(S[2]),S[3]):f(S,200,{},"OK"):m.put(O,T)),y(S)){var _=Mn(e.url)?s()[e.xsrfCookieName||t.xsrfCookieName]:void 0;_&&(k[e.xsrfHeaderName||t.xsrfHeaderName]=_),a(e.method,O,r,u,k,e.timeout,e.withCredentials,e.responseType,i(e.eventHandlers),i(e.uploadEventHandlers))}return T}function g(t,e){return e.length>0&&(t+=(-1===t.indexOf("?")?"?":"&")+e),t}function $(t,e){if(/[&?][^=]+=JSON_CALLBACK/.test(t))throw yo("badjsonp",'Illegal use of JSON_CALLBACK in url, "{0}"',t);if(new RegExp("[&?]"+e+"=").test(t))throw yo("badjsonp",'Illegal use of callback param, "{0}", in url, "{1}"',e,t);return t+=(-1===t.indexOf("?")?"?":"&")+e+"=JSON_CALLBACK"}var x=u("$http");t.paramSerializer=C(t.paramSerializer)?h.get(t.paramSerializer):t.paramSerializer;var S=[];return o(r,function(t){S.unshift(C(t)?h.get(t):h.invoke(t))}),d.pendingRequests=[],function(t){o(arguments,function(t){d[t]=function(e,n){return d(f({},n||{},{method:t,url:e}))}})}("get","delete","head","jsonp"),function(t){o(arguments,function(t){d[t]=function(e,n,r){return d(f({},r||{},{method:t,url:e,data:n}))}})}("post","put","patch"),d.defaults=t,d}]}function qe(){this.$get=function(){return function(){return new t.XMLHttpRequest}}}function He(){this.$get=["$browser","$jsonpCallbacks","$document","$xhrFactory",function(t,e,n,r){return Le(t,r,t.defer,e,n[0])}]}function Le(t,e,n,r,i){function a(t,e,n){t=t.replace("JSON_CALLBACK",e);var o=i.createElement("script"),a=null;return o.type="text/javascript",o.src=t,o.async=!0,a=function(t){o.removeEventListener("load",a),o.removeEventListener("error",a),i.body.removeChild(o),o=null;var s=-1,u="unknown";t&&("load"!==t.type||r.wasCalled(e)||(t={type:"error"}),u=t.type,s="error"===t.type?404:200),n&&n(s,u)},o.addEventListener("load",a),o.addEventListener("error",a),i.body.appendChild(o),a}return function(i,s,u,c,l,f,h,p,d,v){function m(){w&&w(),x&&x.abort()}function g(t,e,r,i,o){b(S)&&n.cancel(S),w=x=null,t(e,r,i,o)}if(s=s||t.url(),"jsonp"===Gr(i))var $=r.createCallback(s),w=a(s,$,function(t,e){var n=200===t&&r.getResponse($);g(c,t,n,"",e),r.removeCallback($)});else{var x=e(i,s);x.open(i,s,!0),o(l,function(t,e){b(t)&&x.setRequestHeader(e,t)}),x.onload=function(){var t=x.statusText||"",e="response"in x?x.response:x.responseText,n=1223===x.status?204:x.status;0===n&&(n=e?200:"file"===Vn(s).protocol?404:0),g(c,n,e,x.getAllResponseHeaders(),t)};var C=function(){g(c,-1,null,null,"")};if(x.onerror=C,x.onabort=C,x.ontimeout=C,o(d,function(t,e){x.addEventListener(e,t)}),o(v,function(t,e){x.upload.addEventListener(e,t)}),h&&(x.withCredentials=!0),p)try{x.responseType=p}catch(t){if("json"!==p)throw t}x.send(y(u)?null:u)}if(f>0)var S=n(m,f);else N(f)&&f.then(m)}}function Ue(){var t="{{",e="}}";this.startSymbol=function(e){return e?(t=e,this):t},this.endSymbol=function(t){return t?(e=t,this):e},this.$get=["$parse","$exceptionHandler","$sce",function(n,r,i){function o(t){return"\\\\\\"+t}function a(n){return n.replace(h,t).replace(p,e)}function s(t,e,n,r){var i=t.$watch(function(t){return i(),r(t)},e,n);return i}function u(o,u,h,p){function d(t){try{return t=_(t),p&&!b(t)?t:$t(t)}catch(t){r(bo.interr(o,t))}}if(!o.length||-1===o.indexOf(t)){var v;if(!u){v=g(a(o)),v.exp=o,v.expressions=[],v.$$watchDelegate=s}return v}p=!!p;for(var m,$,w,x=0,C=[],S=[],E=o.length,k=[],A=[];x<E;){if(-1===(m=o.indexOf(t,x))||-1===($=o.indexOf(e,m+c))){x!==E&&k.push(a(o.substring(x)));break}x!==m&&k.push(a(o.substring(x,m))),w=o.substring(m+c,$),C.push(w),S.push(n(w,d)),x=$+l,A.push(k.length),k.push("")}if(h&&k.length>1&&bo.throwNoconcat(o),!u||C.length){var O=function(t){for(var e=0,n=C.length;e<n;e++){if(p&&y(t[e]))return;k[A[e]]=t[e]}return k.join("")},_=function(t){return h?i.getTrusted(h,t):i.valueOf(t)};return f(function(t){var e=0,n=C.length,i=new Array(n);try{for(;e<n;e++)i[e]=S[e](t);return O(i)}catch(t){r(bo.interr(o,t))}},{exp:o,expressions:C,$$watchDelegate:function(t,e){var n;return t.$watchGroup(S,function(r,i){var o=O(r);T(e)&&e.call(this,o,r!==i?n:o,t),n=o})}})}}var c=t.length,l=e.length,h=new RegExp(t.replace(/./g,o),"g"),p=new RegExp(e.replace(/./g,o),"g");return u.startSymbol=function(){return t},u.endSymbol=function(){return e},u}]}function Fe(){this.$get=["$rootScope","$window","$q","$$q","$browser",function(t,e,n,r,i){function o(o,s,u,c){function l(){f?o.apply(null,h):o(v)}var f=arguments.length>4,h=f?z(arguments,4):[],p=e.setInterval,d=e.clearInterval,v=0,m=b(c)&&!c,g=(m?r:n).defer(),$=g.promise;return u=b(u)?u:0,$.$$intervalId=p(function(){m?i.defer(l):t.$evalAsync(l),g.notify(v++),u>0&&v>=u&&(g.resolve(v),d($.$$intervalId),delete a[$.$$intervalId]),m||t.$apply()},s),a[$.$$intervalId]=g,$}var a={};return o.cancel=function(t){return!!(t&&t.$$intervalId in a)&&(a[t.$$intervalId].promise.catch(v),a[t.$$intervalId].reject("canceled"),e.clearInterval(t.$$intervalId),delete a[t.$$intervalId],!0)},o}]}function Be(t){for(var e=t.split("/"),n=e.length;n--;)e[n]=it(e[n]);return e.join("/")}function We(t,e){var n=Vn(t);e.$$protocol=n.protocol,e.$$host=n.hostname,e.$$port=p(n.port)||Co[n.protocol]||null}function ze(t,e){if(Eo.test(t))throw So("badpath",'Invalid url "{0}".',t);var n="/"!==t.charAt(0);n&&(t="/"+t);var r=Vn(t);e.$$path=decodeURIComponent(n&&"/"===r.pathname.charAt(0)?r.pathname.substring(1):r.pathname),e.$$search=nt(r.search),e.$$hash=decodeURIComponent(r.hash),e.$$path&&"/"!==e.$$path.charAt(0)&&(e.$$path="/"+e.$$path)}function Ge(t,e){return t.slice(0,e.length)===e}function Je(t,e){if(Ge(e,t))return e.substr(t.length)}function Qe(t){var e=t.indexOf("#");return-1===e?t:t.substr(0,e)}function Ke(t){return t.replace(/(#.+)|#$/,"$1")}function Ye(t){return t.substr(0,Qe(t).lastIndexOf("/")+1)}function Xe(t){return t.substring(0,t.indexOf("/",t.indexOf("//")+2))}function Ze(t,e,n){this.$$html5=!0,n=n||"",We(t,this),this.$$parse=function(t){var n=Je(e,t);if(!C(n))throw So("ipthprfx",'Invalid url "{0}", missing path prefix "{1}".',t,e);ze(n,this),this.$$path||(this.$$path="/"),this.$$compose()},this.$$compose=function(){var t=rt(this.$$search),n=this.$$hash?"#"+it(this.$$hash):"";this.$$url=Be(this.$$path)+(t?"?"+t:"")+n,this.$$absUrl=e+this.$$url.substr(1),this.$$urlUpdatedByLocation=!0},this.$$parseLinkUrl=function(r,i){if(i&&"#"===i[0])return this.hash(i.slice(1)),!0;var o,a,s;return b(o=Je(t,r))?(a=o,s=n&&b(o=Je(n,o))?e+(Je("/",o)||o):t+a):b(o=Je(e,r))?s=e+o:e===r+"/"&&(s=e),s&&this.$$parse(s),!!s}}function tn(t,e,n){We(t,this),this.$$parse=function(r){var i,o=Je(t,r)||Je(e,r);y(o)||"#"!==o.charAt(0)?this.$$html5?i=o:(i="",y(o)&&(t=r,this.replace())):(i=Je(n,o),y(i)&&(i=o)),ze(i,this),this.$$path=function(t,e,n){var r,i=/^\/[A-Z]:(\/.*)/;return Ge(e,n)&&(e=e.replace(n,"")),i.exec(e)?t:(r=i.exec(t),r?r[1]:t)}(this.$$path,i,t),this.$$compose()},this.$$compose=function(){var e=rt(this.$$search),r=this.$$hash?"#"+it(this.$$hash):"";this.$$url=Be(this.$$path)+(e?"?"+e:"")+r,this.$$absUrl=t+(this.$$url?n+this.$$url:""),this.$$urlUpdatedByLocation=!0},this.$$parseLinkUrl=function(e,n){return Qe(t)===Qe(e)&&(this.$$parse(e),!0)}}function en(t,e,n){this.$$html5=!0,tn.apply(this,arguments),this.$$parseLinkUrl=function(r,i){if(i&&"#"===i[0])return this.hash(i.slice(1)),!0;var o,a;return t===Qe(r)?o=r:(a=Je(e,r))?o=t+n+a:e===r+"/"&&(o=e),o&&this.$$parse(o),!!o},this.$$compose=function(){var e=rt(this.$$search),r=this.$$hash?"#"+it(this.$$hash):"";this.$$url=Be(this.$$path)+(e?"?"+e:"")+r,this.$$absUrl=t+n+this.$$url,this.$$urlUpdatedByLocation=!0}}function nn(t){return function(){return this[t]}}function rn(t,e){return function(n){return y(n)?this[t]:(this[t]=e(n),this.$$compose(),this)}}function on(){var t="!",e={enabled:!1,requireBase:!0,rewriteLinks:!0};this.hashPrefix=function(e){return b(e)?(t=e,this):t},this.html5Mode=function(t){return P(t)?(e.enabled=t,this):w(t)?(P(t.enabled)&&(e.enabled=t.enabled),P(t.requireBase)&&(e.requireBase=t.requireBase),(P(t.rewriteLinks)||C(t.rewriteLinks))&&(e.rewriteLinks=t.rewriteLinks),this):e},this.$get=["$rootScope","$browser","$sniffer","$rootElement","$window",function(n,r,i,o,a){function s(t,e,n){var i=c.url(),o=c.$$state;try{r.url(t,e,n),c.$$state=r.state()}catch(t){throw c.url(i),c.$$state=o,t}}function u(t,e){n.$broadcast("$locationChangeSuccess",c.absUrl(),t,c.$$state,e)}var c,l,f,h=r.baseHref(),p=r.url();if(e.enabled){if(!h&&e.requireBase)throw So("nobase","$location in HTML5 mode requires a <base> tag to be present!");f=Xe(p)+(h||"/"),l=i.history?Ze:en}else f=Qe(p),l=tn;var d=Ye(f);c=new l(f,d,"#"+t),c.$$parseLinkUrl(p,p),c.$$state=r.state();var v=/^\s*(javascript|mailto):/i;o.on("click",function(t){var i=e.rewriteLinks;if(i&&!t.ctrlKey&&!t.metaKey&&!t.shiftKey&&2!==t.which&&2!==t.button){for(var s=Xr(t.target);"a"!==q(s[0]);)if(s[0]===o[0]||!(s=s.parent())[0])return;if(!C(i)||!y(s.attr(i))){var u=s.prop("href"),l=s.attr("href")||s.attr("xlink:href");w(u)&&"[object SVGAnimatedString]"===u.toString()&&(u=Vn(u.animVal).href),v.test(u)||!u||s.attr("target")||t.isDefaultPrevented()||c.$$parseLinkUrl(u,l)&&(t.preventDefault(),c.absUrl()!==r.url()&&(n.$apply(),a.angular["ff-684208-preventDefault"]=!0))}}}),Ke(c.absUrl())!==Ke(p)&&r.url(c.absUrl(),!0);var m=!0;return r.onUrlChange(function(t,e){if(!Ge(t,d))return void(a.location.href=t);n.$evalAsync(function(){var r,i=c.absUrl(),o=c.$$state;t=Ke(t),c.$$parse(t),c.$$state=e,r=n.$broadcast("$locationChangeStart",t,i,e,o).defaultPrevented,c.absUrl()===t&&(r?(c.$$parse(i),c.$$state=o,s(i,!1,o)):(m=!1,u(i,o)))}),n.$$phase||n.$digest()}),n.$watch(function(){if(m||c.$$urlUpdatedByLocation){c.$$urlUpdatedByLocation=!1;var t=Ke(r.url()),e=Ke(c.absUrl()),o=r.state(),a=c.$$replace,l=t!==e||c.$$html5&&i.history&&o!==c.$$state;(m||l)&&(m=!1,n.$evalAsync(function(){var e=c.absUrl(),r=n.$broadcast("$locationChangeStart",e,t,c.$$state,o).defaultPrevented;c.absUrl()===e&&(r?(c.$$parse(t),c.$$state=o):(l&&s(e,a,o===c.$$state?null:c.$$state),u(t,o)))}))}c.$$replace=!1
}),c}]}function an(){var t=!0,e=this;this.debugEnabled=function(e){return b(e)?(t=e,this):t},this.$get=["$window",function(n){function r(t){return t instanceof Error&&(t.stack&&a?t=t.message&&-1===t.stack.indexOf(t.message)?"Error: "+t.message+"\n"+t.stack:t.stack:t.sourceURL&&(t=t.message+"\n"+t.sourceURL+":"+t.line)),t}function i(t){var e=n.console||{},i=e[t]||e.log||v,a=!1;try{a=!!i.apply}catch(t){}return a?function(){var t=[];return o(arguments,function(e){t.push(r(e))}),i.apply(e,t)}:function(t,e){i(t,null==e?"":e)}}var a=Yr||/\bEdge\//.test(n.navigator&&n.navigator.userAgent);return{log:i("log"),info:i("info"),warn:i("warn"),error:i("error"),debug:function(){var n=i("debug");return function(){t&&n.apply(e,arguments)}}()}}]}function sn(t){return t+""}function un(t,e){return void 0!==t?t:e}function cn(t,e){return void 0===t?e:void 0===e?t:t+e}function ln(t,e){return!t(e).$stateful}function fn(t,e){var n,r,i;switch(t.type){case jo.Program:n=!0,o(t.body,function(t){fn(t.expression,e),n=n&&t.expression.constant}),t.constant=n;break;case jo.Literal:t.constant=!0,t.toWatch=[];break;case jo.UnaryExpression:fn(t.argument,e),t.constant=t.argument.constant,t.toWatch=t.argument.toWatch;break;case jo.BinaryExpression:fn(t.left,e),fn(t.right,e),t.constant=t.left.constant&&t.right.constant,t.toWatch=t.left.toWatch.concat(t.right.toWatch);break;case jo.LogicalExpression:fn(t.left,e),fn(t.right,e),t.constant=t.left.constant&&t.right.constant,t.toWatch=t.constant?[]:[t];break;case jo.ConditionalExpression:fn(t.test,e),fn(t.alternate,e),fn(t.consequent,e),t.constant=t.test.constant&&t.alternate.constant&&t.consequent.constant,t.toWatch=t.constant?[]:[t];break;case jo.Identifier:t.constant=!1,t.toWatch=[t];break;case jo.MemberExpression:fn(t.object,e),t.computed&&fn(t.property,e),t.constant=t.object.constant&&(!t.computed||t.property.constant),t.toWatch=[t];break;case jo.CallExpression:i=!!t.filter&&ln(e,t.callee.name),n=i,r=[],o(t.arguments,function(t){fn(t,e),n=n&&t.constant,t.constant||r.push.apply(r,t.toWatch)}),t.constant=n,t.toWatch=i?r:[t];break;case jo.AssignmentExpression:fn(t.left,e),fn(t.right,e),t.constant=t.left.constant&&t.right.constant,t.toWatch=[t];break;case jo.ArrayExpression:n=!0,r=[],o(t.elements,function(t){fn(t,e),n=n&&t.constant,t.constant||r.push.apply(r,t.toWatch)}),t.constant=n,t.toWatch=r;break;case jo.ObjectExpression:n=!0,r=[],o(t.properties,function(t){fn(t.value,e),n=n&&t.value.constant&&!t.computed,t.value.constant||r.push.apply(r,t.value.toWatch),t.computed&&(fn(t.key,e),t.key.constant||r.push.apply(r,t.key.toWatch))}),t.constant=n,t.toWatch=r;break;case jo.ThisExpression:case jo.LocalsExpression:t.constant=!1,t.toWatch=[]}}function hn(t){if(1===t.length){var e=t[0].expression,n=e.toWatch;return 1!==n.length?n:n[0]!==e?n:void 0}}function pn(t){return t.type===jo.Identifier||t.type===jo.MemberExpression}function dn(t){if(1===t.body.length&&pn(t.body[0].expression))return{type:jo.AssignmentExpression,left:t.body[0].expression,right:{type:jo.NGValueParameter},operator:"="}}function vn(t){return 0===t.body.length||1===t.body.length&&(t.body[0].expression.type===jo.Literal||t.body[0].expression.type===jo.ArrayExpression||t.body[0].expression.type===jo.ObjectExpression)}function mn(t){return t.constant}function gn(t){this.$filter=t}function $n(t){this.$filter=t}function yn(t,e,n){this.ast=new jo(t,n),this.astCompiler=n.csp?new $n(e):new gn(e)}function bn(t){return T(t.valueOf)?t.valueOf():Ao.call(t)}function wn(){var t,e,n=gt(),r={true:!0,false:!1,null:null,undefined:void 0};this.addLiteral=function(t,e){r[t]=e},this.setIdentifierFns=function(n,r){return t=n,e=r,this},this.$get=["$filter",function(i){function a(t,e){var r,o,a;switch(typeof t){case"string":if(t=t.trim(),a=t,!(r=n[a])){":"===t.charAt(0)&&":"===t.charAt(1)&&(o=!0,t=t.substring(2));r=new yn(new Ro(d),i,d).parse(t),r.constant?r.$$watchDelegate=f:o?(r.oneTime=!0,r.$$watchDelegate=c):r.inputs&&(r.$$watchDelegate=u),n[a]=r}return h(r,e);case"function":return h(t,e);default:return h(v,e)}}function s(t,e,n){return null==t||null==e?t===e:!("object"==typeof t&&"object"==typeof(t=bn(t))&&!n)&&(t===e||t!==t&&e!==e)}function u(t,e,n,r,i){var o,a=r.inputs;if(1===a.length){var u=s;return a=a[0],t.$watch(function(t){var e=a(t);return s(e,u,r.literal)||(o=r(t,void 0,void 0,[e]),u=e&&bn(e)),o},e,n,i)}for(var c=[],l=[],f=0,h=a.length;f<h;f++)c[f]=s,l[f]=null;return t.$watch(function(t){for(var e=!1,n=0,i=a.length;n<i;n++){var u=a[n](t);(e||(e=!s(u,c[n],r.literal)))&&(l[n]=u,c[n]=u&&bn(u))}return e&&(o=r(t,void 0,void 0,l)),o},e,n,i)}function c(t,e,n,r,i){function o(t){return r(t)}function a(t,n,r){c=t,T(e)&&e(t,n,r),f(t)&&r.$$postDigest(function(){f(c)&&s()})}var s,c,f=r.literal?l:b;return s=r.inputs?u(t,a,n,r,i):t.$watch(o,a,n)}function l(t){var e=!0;return o(t,function(t){b(t)||(e=!1)}),e}function f(t,e,n,r){var i=t.$watch(function(t){return i(),r(t)},e,n);return i}function h(t,e){function n(n,r,i,a){var s=o&&a?a[0]:t(n,r,i,a);return e(s,n,r)}function r(n,r,i,s){var u=o&&s?s[0]:t(n,r,i,s),c=e(u,n,r);return a(u)?c:u}if(!e)return t;var i=t.$$watchDelegate,o=!1,a=t.literal?l:b,s=t.oneTime?r:n;return s.literal=t.literal,s.oneTime=t.oneTime,o=!t.inputs,i&&i!==u?(s.$$watchDelegate=i,s.inputs=t.inputs):e.$stateful||(s.$$watchDelegate=u,s.inputs=t.inputs?t.inputs:[t]),s}var p=di().noUnsafeEval,d={csp:p,literals:U(r),isIdentifierStart:T(t)&&t,isIdentifierContinue:T(e)&&e};return a}]}function xn(){var t=!0;this.$get=["$rootScope","$exceptionHandler",function(e,n){return Sn(function(t){e.$evalAsync(t)},n,t)}],this.errorOnUnhandledRejections=function(e){return b(e)?(t=e,this):t}}function Cn(){var t=!0;this.$get=["$browser","$exceptionHandler",function(e,n){return Sn(function(t){e.defer(t)},n,t)}],this.errorOnUnhandledRejections=function(e){return b(e)?(t=e,this):t}}function Sn(t,n,r){function i(){return new a}function a(){var t=this.promise=new s;this.resolve=function(e){h(t,e)},this.reject=function(e){d(t,e)},this.notify=function(e){m(t,e)}}function s(){this.$$state={status:0}}function u(e){var n,i,o;o=e.pending,e.processScheduled=!1,e.pending=void 0;try{for(var a=0,s=o.length;a<s;++a){e.pur=!0,i=o[a][0],n=o[a][e.status];try{T(n)?h(i,n(e.value)):1===e.status?h(i,e.value):d(i,e.value)}catch(t){d(i,t)}}}finally{--k,r&&0===k&&t(c)}}function c(){for(;!k&&A.length;){var t=A.shift();if(!t.pur){t.pur=!0;var e="Possibly unhandled rejection: "+xt(t.value);t.value instanceof Error?n(t.value,e):n(e)}}}function l(e){!r||e.pending||2!==e.status||e.pur||(0===k&&0===A.length&&t(c),A.push(e)),!e.processScheduled&&e.pending&&(e.processScheduled=!0,++k,t(function(){u(e)}))}function h(t,e){t.$$state.status||(e===t?v(t,E("qcycle","Expected promise to be resolved with value other than itself '{0}'",e)):p(t,e))}function p(t,e){function n(e){a||(a=!0,p(t,e))}function r(e){a||(a=!0,v(t,e))}function i(e){m(t,e)}var o,a=!1;try{(w(e)||T(e))&&(o=e.then),T(o)?(t.$$state.status=-1,o.call(e,n,r,i)):(t.$$state.value=e,t.$$state.status=1,l(t.$$state))}catch(t){r(t)}}function d(t,e){t.$$state.status||v(t,e)}function v(t,e){t.$$state.value=e,t.$$state.status=2,l(t.$$state)}function m(e,r){var i=e.$$state.pending;e.$$state.status<=0&&i&&i.length&&t(function(){for(var t,e,o=0,a=i.length;o<a;o++){e=i[o][0],t=i[o][3];try{m(e,T(t)?t(r):r)}catch(t){n(t)}}})}function g(t){var e=new s;return d(e,t),e}function $(t,e,n){var r=null;try{T(n)&&(r=n())}catch(t){return g(t)}return N(r)?r.then(function(){return e(t)},g):e(t)}function b(t,e,n,r){var i=new s;return h(i,t),i.then(e,n,r)}function x(t){var e=new s,n=0,r=li(t)?[]:{};return o(t,function(t,i){n++,b(t).then(function(t){r[i]=t,--n||h(e,r)},function(t){d(e,t)})}),0===n&&h(e,r),e}function C(t){var e=i();return o(t,function(t){b(t).then(e.resolve,e.reject)}),e.promise}function S(t){function e(t){h(r,t)}function n(t){d(r,t)}if(!T(t))throw E("norslvr","Expected resolverFn, got '{0}'",t);var r=new s;return t(e,n),r}var E=e("$q",TypeError),k=0,A=[];f(s.prototype,{then:function(t,e,n){if(y(t)&&y(e)&&y(n))return this;var r=new s;return this.$$state.pending=this.$$state.pending||[],this.$$state.pending.push([r,t,e,n]),this.$$state.status>0&&l(this.$$state),r},catch:function(t){return this.then(null,t)},finally:function(t,e){return this.then(function(e){return $(e,O,t)},function(e){return $(e,g,t)},e)}});var O=b;return S.prototype=s.prototype,S.defer=i,S.reject=g,S.when=b,S.resolve=O,S.all=x,S.race=C,S}function En(){this.$get=["$window","$timeout",function(t,e){var n=t.requestAnimationFrame||t.webkitRequestAnimationFrame,r=t.cancelAnimationFrame||t.webkitCancelAnimationFrame||t.webkitCancelRequestAnimationFrame,i=!!n,o=i?function(t){var e=n(t);return function(){r(e)}}:function(t){var n=e(t,16.66,!1);return function(){e.cancel(n)}};return o.supported=i,o}]}function Tn(){function t(t){function e(){this.$$watchers=this.$$nextSibling=this.$$childHead=this.$$childTail=null,this.$$listeners={},this.$$listenerCount={},this.$$watchersCount=0,this.$id=u(),this.$$ChildScope=null}return e.prototype=t,e}var n=10,r=e("$rootScope"),a=null,s=null;this.digestTtl=function(t){return arguments.length&&(n=t),n},this.$get=["$exceptionHandler","$parse","$browser",function(e,c,l){function f(t){t.currentScope.$$destroyed=!0}function h(t){9===Yr&&(t.$$childHead&&h(t.$$childHead),t.$$nextSibling&&h(t.$$nextSibling)),t.$parent=t.$$nextSibling=t.$$prevSibling=t.$$childHead=t.$$childTail=t.$root=t.$$watchers=null}function p(){this.$id=u(),this.$$phase=this.$parent=this.$$watchers=this.$$nextSibling=this.$$prevSibling=this.$$childHead=this.$$childTail=null,this.$root=this,this.$$destroyed=!1,this.$$listeners={},this.$$listenerCount={},this.$$watchersCount=0,this.$$isolateBindings=null}function d(t){if(S.$$phase)throw r("inprog","{0} already in progress",S.$$phase);S.$$phase=t}function m(){S.$$phase=null}function g(t,e){do{t.$$watchersCount+=e}while(t=t.$parent)}function $(t,e,n){do{t.$$listenerCount[n]-=e,0===t.$$listenerCount[n]&&delete t.$$listenerCount[n]}while(t=t.$parent)}function b(){}function x(){for(;A.length;)try{A.shift()()}catch(t){e(t)}s=null}function C(){null===s&&(s=l.defer(function(){S.$apply(x)}))}p.prototype={constructor:p,$new:function(e,n){var r;return n=n||this,e?(r=new p,r.$root=this.$root):(this.$$ChildScope||(this.$$ChildScope=t(this)),r=new this.$$ChildScope),r.$parent=n,r.$$prevSibling=n.$$childTail,n.$$childHead?(n.$$childTail.$$nextSibling=r,n.$$childTail=r):n.$$childHead=n.$$childTail=r,(e||n!==this)&&r.$on("$destroy",f),r},$watch:function(t,e,n,r){var i=c(t);if(i.$$watchDelegate)return i.$$watchDelegate(this,e,n,i,t);var o=this,s=o.$$watchers,u={fn:e,last:b,get:i,exp:r||t,eq:!!n};return a=null,T(e)||(u.fn=v),s||(s=o.$$watchers=[],s.$$digestWatchIndex=-1),s.unshift(u),s.$$digestWatchIndex++,g(this,1),function(){var t=L(s,u);t>=0&&(g(o,-1),t<s.$$digestWatchIndex&&s.$$digestWatchIndex--),a=null}},$watchGroup:function(t,e){function n(){u=!1,c?(c=!1,e(i,i,s)):e(i,r,s)}var r=new Array(t.length),i=new Array(t.length),a=[],s=this,u=!1,c=!0;if(!t.length){var l=!0;return s.$evalAsync(function(){l&&e(i,i,s)}),function(){l=!1}}return 1===t.length?this.$watch(t[0],function(t,n,o){i[0]=t,r[0]=n,e(i,t===n?i:r,o)}):(o(t,function(t,e){var o=s.$watch(t,function(t,o){i[e]=t,r[e]=o,u||(u=!0,s.$evalAsync(n))});a.push(o)}),function(){for(;a.length;)a.shift()()})},$watchCollection:function(t,e){function n(t){o=t;var e,n,r,s;if(!y(o)){if(w(o))if(i(o)){a!==p&&(a=p,m=a.length=0,f++),e=o.length,m!==e&&(f++,a.length=m=e);for(var u=0;u<e;u++)s=a[u],r=o[u],s!==s&&r!==r||s===r||(f++,a[u]=r)}else{a!==d&&(a=d={},m=0,f++),e=0;for(n in o)Wr.call(o,n)&&(e++,r=o[n],s=a[n],n in a?s!==s&&r!==r||s===r||(f++,a[n]=r):(m++,a[n]=r,f++));if(m>e){f++;for(n in a)Wr.call(o,n)||(m--,delete a[n])}}else a!==o&&(a=o,f++);return f}}function r(){if(v?(v=!1,e(o,o,u)):e(o,s,u),l)if(w(o))if(i(o)){s=new Array(o.length);for(var t=0;t<o.length;t++)s[t]=o[t]}else{s={};for(var n in o)Wr.call(o,n)&&(s[n]=o[n])}else s=o}n.$stateful=!0;var o,a,s,u=this,l=e.length>1,f=0,h=c(t,n),p=[],d={},v=!0,m=0;return this.$watch(h,r)},$digest:function(){var t,i,o,u,c,f,h,p,v,g,$,y=n,w=this,C=[];d("$digest"),l.$$checkUrlChange(),this===S&&null!==s&&(l.defer.cancel(s),x()),a=null;do{h=!1,v=w;for(var A=0;A<E.length;A++){try{$=E[A],u=$.fn,u($.scope,$.locals)}catch(t){e(t)}a=null}E.length=0;t:do{if(f=v.$$watchers)for(f.$$digestWatchIndex=f.length;f.$$digestWatchIndex--;)try{if(t=f[f.$$digestWatchIndex])if(c=t.get,(i=c(v))===(o=t.last)||(t.eq?B(i,o):ci(i)&&ci(o))){if(t===a){h=!1;break t}}else h=!0,a=t,t.last=t.eq?U(i,null):i,u=t.fn,u(i,o===b?i:o,v),y<5&&(g=4-y,C[g]||(C[g]=[]),C[g].push({msg:T(t.exp)?"fn: "+(t.exp.name||t.exp.toString()):t.exp,newVal:i,oldVal:o}))}catch(t){e(t)}if(!(p=v.$$watchersCount&&v.$$childHead||v!==w&&v.$$nextSibling))for(;v!==w&&!(p=v.$$nextSibling);)v=v.$parent}while(v=p);if((h||E.length)&&!y--)throw m(),r("infdig","{0} $digest() iterations reached. Aborting!\nWatchers fired in the last 5 iterations: {1}",n,C)}while(h||E.length);for(m();O<k.length;)try{k[O++]()}catch(t){e(t)}k.length=O=0,l.$$checkUrlChange()},$destroy:function(){if(!this.$$destroyed){var t=this.$parent;this.$broadcast("$destroy"),this.$$destroyed=!0,this===S&&l.$$applicationDestroyed(),g(this,-this.$$watchersCount);for(var e in this.$$listenerCount)$(this,this.$$listenerCount[e],e);t&&t.$$childHead===this&&(t.$$childHead=this.$$nextSibling),t&&t.$$childTail===this&&(t.$$childTail=this.$$prevSibling),this.$$prevSibling&&(this.$$prevSibling.$$nextSibling=this.$$nextSibling),this.$$nextSibling&&(this.$$nextSibling.$$prevSibling=this.$$prevSibling),this.$destroy=this.$digest=this.$apply=this.$evalAsync=this.$applyAsync=v,this.$on=this.$watch=this.$watchGroup=function(){return v},this.$$listeners={},this.$$nextSibling=null,h(this)}},$eval:function(t,e){return c(t)(this,e)},$evalAsync:function(t,e){S.$$phase||E.length||l.defer(function(){E.length&&S.$digest()}),E.push({scope:this,fn:c(t),locals:e})},$$postDigest:function(t){k.push(t)},$apply:function(t){try{d("$apply");try{return this.$eval(t)}finally{m()}}catch(t){e(t)}finally{try{S.$digest()}catch(t){throw e(t),t}}},$applyAsync:function(t){function e(){n.$eval(t)}var n=this;t&&A.push(e),t=c(t),C()},$on:function(t,e){var n=this.$$listeners[t];n||(this.$$listeners[t]=n=[]),n.push(e);var r=this;do{r.$$listenerCount[t]||(r.$$listenerCount[t]=0),r.$$listenerCount[t]++}while(r=r.$parent);var i=this;return function(){var r=n.indexOf(e);-1!==r&&(n[r]=null,$(i,1,t))}},$emit:function(t,n){var r,i,o,a=[],s=this,u=!1,c={name:t,targetScope:s,stopPropagation:function(){u=!0},preventDefault:function(){c.defaultPrevented=!0},defaultPrevented:!1},l=W([c],arguments,1);do{for(r=s.$$listeners[t]||a,c.currentScope=s,i=0,o=r.length;i<o;i++)if(r[i])try{r[i].apply(null,l)}catch(t){e(t)}else r.splice(i,1),i--,o--;if(u)return c.currentScope=null,c;s=s.$parent}while(s);return c.currentScope=null,c},$broadcast:function(t,n){var r=this,i=r,o=r,a={name:t,targetScope:r,preventDefault:function(){a.defaultPrevented=!0},defaultPrevented:!1};if(!r.$$listenerCount[t])return a;for(var s,u,c,l=W([a],arguments,1);i=o;){for(a.currentScope=i,s=i.$$listeners[t]||[],u=0,c=s.length;u<c;u++)if(s[u])try{s[u].apply(null,l)}catch(t){e(t)}else s.splice(u,1),u--,c--;if(!(o=i.$$listenerCount[t]&&i.$$childHead||i!==r&&i.$$nextSibling))for(;i!==r&&!(o=i.$$nextSibling);)i=i.$parent}return a.currentScope=null,a}};var S=new p,E=S.$$asyncQueue=[],k=S.$$postDigestQueue=[],A=S.$$applyAsyncQueue=[],O=0;return S}]}function kn(){var t=/^\s*(https?|ftp|mailto|tel|file):/,e=/^\s*((https?|ftp|file|blob):|data:image\/)/;this.aHrefSanitizationWhitelist=function(e){return b(e)?(t=e,this):t},this.imgSrcSanitizationWhitelist=function(t){return b(t)?(e=t,this):e},this.$get=function(){return function(n,r){var i,o=r?e:t;return i=Vn(n).href,""===i||i.match(o)?n:"unsafe:"+i}}}function An(t){return t.replace(Io,Et)}function On(t){if("self"===t)return t;if(C(t)){if(t.indexOf("***")>-1)throw Po("iwcard","Illegal sequence *** in string matcher.  String: {0}",t);return t=pi(t).replace(/\\\*\\\*/g,".*").replace(/\\\*/g,"[^:/.?&;]*"),new RegExp("^"+t+"$")}if(k(t))return new RegExp("^"+t.source+"$");throw Po("imatcher",'Matchers may only be "self", string patterns or RegExp objects')}function _n(t){var e=[];return b(t)&&o(t,function(t){e.push(On(t))}),e}function Rn(){this.SCE_CONTEXTS=No;var t=["self"],e=[];this.resourceUrlWhitelist=function(e){return arguments.length&&(t=_n(e)),t},this.resourceUrlBlacklist=function(t){return arguments.length&&(e=_n(t)),e},this.$get=["$injector",function(n){function r(t,e){return"self"===t?Mn(e):!!t.exec(e.href)}function i(n){var i,o,a=Vn(n.toString()),s=!1;for(i=0,o=t.length;i<o;i++)if(r(t[i],a)){s=!0;break}if(s)for(i=0,o=e.length;i<o;i++)if(r(e[i],a)){s=!1;break}return s}function o(t){var e=function(t){this.$$unwrapTrustedValue=function(){return t}};return t&&(e.prototype=new t),e.prototype.valueOf=function(){return this.$$unwrapTrustedValue()},e.prototype.toString=function(){return this.$$unwrapTrustedValue().toString()},e}function a(t,e){var n=f.hasOwnProperty(t)?f[t]:null;if(!n)throw Po("icontext","Attempted to trust a value in invalid context. Context: {0}; Value: {1}",t,e);if(null===e||y(e)||""===e)return e;if("string"!=typeof e)throw Po("itype","Attempted to trust a non-string value in a content requiring a string: Context: {0}",t);return new n(e)}function s(t){return t instanceof l?t.$$unwrapTrustedValue():t}function u(t,e){if(null===e||y(e)||""===e)return e;var n=f.hasOwnProperty(t)?f[t]:null;if(n&&e instanceof n)return e.$$unwrapTrustedValue();if(t===No.RESOURCE_URL){if(i(e))return e;throw Po("insecurl","Blocked loading resource from url not allowed by $sceDelegate policy.  URL: {0}",e.toString())}if(t===No.HTML)return c(e);throw Po("unsafe","Attempting to use an unsafe value in a safe context.")}var c=function(t){throw Po("unsafe","Attempting to use an unsafe value in a safe context.")};n.has("$sanitize")&&(c=n.get("$sanitize"));var l=o(),f={};return f[No.HTML]=o(l),f[No.CSS]=o(l),f[No.URL]=o(l),f[No.JS]=o(l),f[No.RESOURCE_URL]=o(f[No.URL]),{trustAs:a,getTrusted:u,valueOf:s}}]}function jn(){var t=!0;this.enabled=function(e){return arguments.length&&(t=!!e),t},this.$get=["$parse","$sceDelegate",function(e,n){if(t&&Yr<8)throw Po("iequirks","Strict Contextual Escaping does not support Internet Explorer version < 11 in quirks mode.  You can fix this by adding the text <!doctype html> to the top of your HTML document.  See http://docs.angularjs.org/api/ng.$sce for more information.");var r=bt(No);r.isEnabled=function(){return t},r.trustAs=n.trustAs,r.getTrusted=n.getTrusted,r.valueOf=n.valueOf,t||(r.trustAs=r.getTrusted=function(t,e){return e},r.valueOf=m),r.parseAs=function(t,n){var i=e(n);return i.literal&&i.constant?i:e(n,function(e){return r.getTrusted(t,e)})};var i=r.parseAs,a=r.getTrusted,s=r.trustAs;return o(No,function(t,e){var n=Gr(e);r[An("parse_as_"+n)]=function(e){return i(t,e)},r[An("get_trusted_"+n)]=function(e){return a(t,e)},r[An("trust_as_"+n)]=function(e){return s(t,e)}}),r}]}function Pn(){this.$get=["$window","$document",function(t,e){var n={},r=t.nw&&t.nw.process,i=!r&&t.chrome&&(t.chrome.app&&t.chrome.app.runtime||!t.chrome.app&&t.chrome.runtime&&t.chrome.runtime.id),o=!i&&t.history&&t.history.pushState,a=p((/android (\d+)/.exec(Gr((t.navigator||{}).userAgent))||[])[1]),s=/Boxee/i.test((t.navigator||{}).userAgent),u=e[0]||{},c=u.body&&u.body.style,l=!1,f=!1;return c&&(l=!!("transition"in c||"webkitTransition"in c),f=!!("animation"in c||"webkitAnimation"in c)),{history:!(!o||a<4||s),hasEvent:function(t){if("input"===t&&Yr)return!1;if(y(n[t])){var e=u.createElement("div");n[t]="on"+t in e}return n[t]},csp:di(),transitions:l,animations:f,android:a}}]}function Nn(){var t;this.httpOptions=function(e){return e?(t=e,this):t},this.$get=["$exceptionHandler","$templateCache","$http","$q","$sce",function(e,n,r,i,o){function a(s,u){function c(t){return u||(t=Do("tpload","Failed to load template: {0} (HTTP status: {1} {2})",s,t.status,t.statusText),e(t)),i.reject(t)}a.totalPendingRequests++,C(s)&&!y(n.get(s))||(s=o.getTrustedResourceUrl(s));var l=r.defaults&&r.defaults.transformResponse;return li(l)?l=l.filter(function(t){return t!==je}):l===je&&(l=null),r.get(s,f({cache:n,transformResponse:l},t)).finally(function(){a.totalPendingRequests--}).then(function(t){return n.put(s,t.data),t.data},c)}return a.totalPendingRequests=0,a}]}function In(){this.$get=["$rootScope","$browser","$location",function(t,e,n){var r={};return r.findBindings=function(t,e,n){var r=t.getElementsByClassName("ng-binding"),i=[];return o(r,function(t){var r=si.element(t).data("$binding");r&&o(r,function(r){if(n){new RegExp("(^|\\s)"+pi(e)+"(\\s|\\||$)").test(r)&&i.push(t)}else-1!==r.indexOf(e)&&i.push(t)})}),i},r.findModels=function(t,e,n){for(var r=["ng-","data-ng-","ng\\:"],i=0;i<r.length;++i){var o=n?"=":"*=",a="["+r[i]+"model"+o+'"'+e+'"]',s=t.querySelectorAll(a);if(s.length)return s}},r.getLocation=function(){return n.url()},r.setLocation=function(e){e!==n.url()&&(n.url(e),t.$digest())},r.whenStable=function(t){e.notifyWhenNoOutstandingRequests(t)},r}]}function Dn(){this.$get=["$rootScope","$browser","$q","$$q","$exceptionHandler",function(t,e,n,r,i){function o(o,s,u){T(o)||(u=s,s=o,o=v);var c,l=z(arguments,3),f=b(u)&&!u,h=(f?r:n).defer(),p=h.promise;return c=e.defer(function(){try{h.resolve(o.apply(null,l))}catch(t){h.reject(t),i(t)}finally{delete a[p.$$timeoutId]}f||t.$apply()},s),p.$$timeoutId=c,a[c]=h,p}var a={};return o.cancel=function(t){return!!(t&&t.$$timeoutId in a)&&(a[t.$$timeoutId].promise.catch(v),a[t.$$timeoutId].reject("canceled"),delete a[t.$$timeoutId],e.defer.cancel(t.$$timeoutId))},o}]}function Vn(t){var e=t;return Yr&&(Vo.setAttribute("href",e),e=Vo.href),Vo.setAttribute("href",e),{href:Vo.href,protocol:Vo.protocol?Vo.protocol.replace(/:$/,""):"",host:Vo.host,search:Vo.search?Vo.search.replace(/^\?/,""):"",hash:Vo.hash?Vo.hash.replace(/^#/,""):"",hostname:Vo.hostname,port:Vo.port,pathname:"/"===Vo.pathname.charAt(0)?Vo.pathname:"/"+Vo.pathname}}function Mn(t){var e=C(t)?Vn(t):t;return e.protocol===Mo.protocol&&e.host===Mo.host}function qn(){this.$get=g(t)}function Hn(t){function e(t){try{return t.cookie||""}catch(t){return""}}function n(t){try{return decodeURIComponent(t)}catch(e){return t}}var r=t[0]||{},i={},o="";return function(){var t,a,s,u,c,l=e(r);if(l!==o)for(o=l,t=o.split("; "),i={},s=0;s<t.length;s++)a=t[s],(u=a.indexOf("="))>0&&(c=n(a.substring(0,u)),y(i[c])&&(i[c]=n(a.substring(u+1))));return i}}function Ln(){this.$get=Hn}function Un(t){function e(r,i){if(w(r)){var a={};return o(r,function(t,n){a[n]=e(n,t)}),a}return t.factory(r+n,i)}var n="Filter";this.register=e,this.$get=["$injector",function(t){return function(e){return t.get(e+n)}}],e("currency",Gn),e("date",ur),e("filter",Fn),e("json",cr),e("limitTo",lr),e("lowercase",Wo),e("number",Jn),e("orderBy",hr),e("uppercase",zo)}function Fn(){return function(t,n,r,o){if(!i(t)){if(null==t)return t;throw e("filter")("notarray","Expected array but received: {0}",t)}o=o||"$";var a,s,u=zn(n);switch(u){case"function":a=n;break;case"boolean":case"null":case"number":case"string":s=!0;case"object":a=Bn(n,r,o,s);break;default:return t}return Array.prototype.filter.call(t,a)}}function Bn(t,e,n,r){var i=w(t)&&n in t;return!0===e?e=B:T(e)||(e=function(t,e){return!y(t)&&(null===t||null===e?t===e:!(w(e)||w(t)&&!$(t))&&(t=Gr(""+t),e=Gr(""+e),-1!==t.indexOf(e)))}),function(o){return i&&!w(o)?Wn(o,t[n],e,n,!1):Wn(o,t,e,n,r)}}function Wn(t,e,n,r,i,o){var a=zn(t),s=zn(e);if("string"===s&&"!"===e.charAt(0))return!Wn(t,e.substring(1),n,r,i);if(li(t))return t.some(function(t){return Wn(t,e,n,r,i)});switch(a){case"object":var u;if(i){for(u in t)if(u.charAt&&"$"!==u.charAt(0)&&Wn(t[u],e,n,r,!0))return!0;return!o&&Wn(t,e,n,r,!1)}if("object"===s){for(u in e){var c=e[u];if(!T(c)&&!y(c)){var l=u===r;if(!Wn(l?t:t[u],c,n,r,l,l))return!1}}return!0}return n(t,e);case"function":return!1;default:return n(t,e)}}function zn(t){return null===t?"null":typeof t}function Gn(t){var e=t.NUMBER_FORMATS;return function(t,n,r){return y(n)&&(n=e.CURRENCY_SYM),y(r)&&(r=e.PATTERNS[1].maxFrac),null==t?t:Yn(t,e.PATTERNS[1],e.GROUP_SEP,e.DECIMAL_SEP,r).replace(/\u00A4/g,n)}}function Jn(t){var e=t.NUMBER_FORMATS;return function(t,n){return null==t?t:Yn(t,e.PATTERNS[0],e.GROUP_SEP,e.DECIMAL_SEP,n)}}function Qn(t){var e,n,r,i,o,a=0;for((n=t.indexOf(Ho))>-1&&(t=t.replace(Ho,"")),(r=t.search(/e/i))>0?(n<0&&(n=r),n+=+t.slice(r+1),t=t.substring(0,r)):n<0&&(n=t.length),r=0;t.charAt(r)===Lo;r++);if(r===(o=t.length))e=[0],n=1;else{for(o--;t.charAt(o)===Lo;)o--;for(n-=r,e=[],i=0;r<=o;r++,i++)e[i]=+t.charAt(r)}return n>qo&&(e=e.splice(0,qo-1),a=n-1,n=1),{d:e,e:a,i:n}}function Kn(t,e,n,r){var i=t.d,o=i.length-t.i;e=y(e)?Math.min(Math.max(n,o),r):+e;var a=e+t.i,s=i[a];if(a>0){i.splice(Math.max(t.i,a));for(var u=a;u<i.length;u++)i[u]=0}else{o=Math.max(0,o),t.i=1,i.length=Math.max(1,a=e+1),i[0]=0;for(var c=1;c<a;c++)i[c]=0}if(s>=5)if(a-1<0){for(var l=0;l>a;l--)i.unshift(0),t.i++;i.unshift(1),t.i++}else i[a-1]++;for(;o<Math.max(0,e);o++)i.push(0);var f=i.reduceRight(function(t,e,n,r){return e+=t,r[n]=e%10,Math.floor(e/10)},0);f&&(i.unshift(f),t.i++)}function Yn(t,e,n,r,i){if(!C(t)&&!S(t)||isNaN(t))return"";var o,a=!isFinite(t),s=!1,u=Math.abs(t)+"",c="";if(a)c="";else{o=Qn(u),Kn(o,i,e.minFrac,e.maxFrac);var l=o.d,f=o.i,h=o.e,p=[];for(s=l.reduce(function(t,e){return t&&!e},!0);f<0;)l.unshift(0),f++;f>0?p=l.splice(f,l.length):(p=l,l=[0]);var d=[];for(l.length>=e.lgSize&&d.unshift(l.splice(-e.lgSize,l.length).join(""));l.length>e.gSize;)d.unshift(l.splice(-e.gSize,l.length).join(""));l.length&&d.unshift(l.join("")),c=d.join(n),p.length&&(c+=r+p.join("")),h&&(c+="e+"+h)}return t<0&&!s?e.negPre+c+e.negSuf:e.posPre+c+e.posSuf}function Xn(t,e,n,r){var i="";for((t<0||r&&t<=0)&&(r?t=1-t:(t=-t,i="-")),t=""+t;t.length<e;)t=Lo+t;return n&&(t=t.substr(t.length-e)),i+t}function Zn(t,e,n,r,i){return n=n||0,function(o){var a=o["get"+t]();return(n>0||a>-n)&&(a+=n),0===a&&-12===n&&(a=12),Xn(a,e,r,i)}}function tr(t,e,n){return function(r,i){var o=r["get"+t]();return i[Jr((n?"STANDALONE":"")+(e?"SHORT":"")+t)][o]}}function er(t,e,n){var r=-1*n,i=r>=0?"+":"";return i+=Xn(Math[r>0?"floor":"ceil"](r/60),2)+Xn(Math.abs(r%60),2)}function nr(t){var e=new Date(t,0,1).getDay();return new Date(t,0,(e<=4?5:12)-e)}function rr(t){return new Date(t.getFullYear(),t.getMonth(),t.getDate()+(4-t.getDay()))}function ir(t){return function(e){var n=nr(e.getFullYear()),r=rr(e),i=+r-+n;return Xn(1+Math.round(i/6048e5),t)}}function or(t,e){return t.getHours()<12?e.AMPMS[0]:e.AMPMS[1]}function ar(t,e){return t.getFullYear()<=0?e.ERAS[0]:e.ERAS[1]}function sr(t,e){return t.getFullYear()<=0?e.ERANAMES[0]:e.ERANAMES[1]}function ur(t){function e(t){var e;if(e=t.match(n)){var r=new Date(0),i=0,o=0,a=e[8]?r.setUTCFullYear:r.setFullYear,s=e[8]?r.setUTCHours:r.setHours;e[9]&&(i=p(e[9]+e[10]),o=p(e[9]+e[11])),a.call(r,p(e[1]),p(e[2])-1,p(e[3]));var u=p(e[4]||0)-i,c=p(e[5]||0)-o,l=p(e[6]||0),f=Math.round(1e3*parseFloat("0."+(e[7]||0)));return s.call(r,u,c,l,f),r}return t}var n=/^(\d{4})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/;return function(n,r,i){var a,s,u="",c=[];if(r=r||"mediumDate",r=t.DATETIME_FORMATS[r]||r,C(n)&&(n=Bo.test(n)?p(n):e(n)),S(n)&&(n=new Date(n)),!E(n)||!isFinite(n.getTime()))return n;for(;r;)s=Fo.exec(r),s?(c=W(c,s,1),r=c.pop()):(c.push(r),r=null);var l=n.getTimezoneOffset();return i&&(l=Y(i,l),n=Z(n,i,!0)),o(c,function(e){a=Uo[e],u+=a?a(n,t.DATETIME_FORMATS,l):"''"===e?"'":e.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),u}}function cr(){return function(t,e){return y(e)&&(e=2),Q(t,e)}}function lr(){return function(t,e,n){return e=Math.abs(Number(e))===1/0?Number(e):p(e),ci(e)?t:(S(t)&&(t=t.toString()),i(t)?(n=!n||isNaN(n)?0:p(n),n=n<0?Math.max(0,t.length+n):n,e>=0?fr(t,n,n+e):0===n?fr(t,e,t.length):fr(t,Math.max(0,n+e),n)):t)}}function fr(t,e,n){return C(t)?t.slice(e,n):ei.call(t,e,n)}function hr(t){function n(e){return e.map(function(e){var n=1,r=m;if(T(e))r=e;else if(C(e)&&("+"!==e.charAt(0)&&"-"!==e.charAt(0)||(n="-"===e.charAt(0)?-1:1,e=e.substring(1)),""!==e&&(r=t(e),r.constant))){var i=r();r=function(t){return t[i]}}return{get:r,descending:n}})}function r(t){switch(typeof t){case"number":case"boolean":case"string":return!0;default:return!1}}function o(t){return T(t.valueOf)&&(t=t.valueOf(),r(t))?t:($(t)&&(t=t.toString(),r(t)),t)}function a(t,e){var n=typeof t;return null===t?(n="string",t="null"):"object"===n&&(t=o(t)),{value:t,type:n,index:e}}function s(t,e){var n=0,r=t.type,i=e.type;if(r===i){var o=t.value,a=e.value;"string"===r?(o=o.toLowerCase(),a=a.toLowerCase()):"object"===r&&(w(o)&&(o=t.index),w(a)&&(a=e.index)),o!==a&&(n=o<a?-1:1)}else n=r<i?-1:1;return n}return function(t,r,o,u){function c(t,e){return{value:t,tieBreaker:{value:e,type:"number",index:e},predicateValues:f.map(function(n){return a(n.get(t),e)})}}function l(t,e){for(var n=0,r=f.length;n<r;n++){var i=p(t.predicateValues[n],e.predicateValues[n]);if(i)return i*f[n].descending*h}return p(t.tieBreaker,e.tieBreaker)*h}if(null==t)return t;if(!i(t))throw e("orderBy")("notarray","Expected array but received: {0}",t);li(r)||(r=[r]),0===r.length&&(r=["+"]);var f=n(r),h=o?-1:1,p=T(u)?u:s,d=Array.prototype.map.call(t,c);return d.sort(l),t=d.map(function(t){return t.value})}}function pr(t){return T(t)&&(t={link:t}),t.restrict=t.restrict||"AC",g(t)}function dr(t,e){t.$name=e}function vr(t,e,n,r,i){this.$$controls=[],this.$error={},this.$$success={},this.$pending=void 0,this.$name=i(e.name||e.ngForm||"")(n),this.$dirty=!1,this.$pristine=!0,this.$valid=!0,this.$invalid=!1,this.$submitted=!1,this.$$parentForm=Qo,this.$$element=t,this.$$animate=r,mr(this)}function mr(t){t.$$classCache={},t.$$classCache[_a]=!(t.$$classCache[Oa]=t.$$element.hasClass(Oa))}function gr(t){function e(t,e,n,r){t[e]||(t[e]={}),a(t[e],n,r)}function n(t,e,n,r){t[e]&&s(t[e],n,r),$r(t[e])&&(t[e]=void 0)}function r(t,e,n){n&&!t.$$classCache[e]?(t.$$animate.addClass(t.$$element,e),t.$$classCache[e]=!0):!n&&t.$$classCache[e]&&(t.$$animate.removeClass(t.$$element,e),t.$$classCache[e]=!1)}function i(t,e,n){e=e?"-"+ft(e,"-"):"",r(t,Oa+e,!0===n),r(t,_a+e,!1===n)}var o=t.clazz,a=t.set,s=t.unset;o.prototype.$setValidity=function(t,o,u){y(o)?e(this,"$pending",t,u):n(this,"$pending",t,u),P(o)?o?(s(this.$error,t,u),a(this.$$success,t,u)):(a(this.$error,t,u),s(this.$$success,t,u)):(s(this.$error,t,u),s(this.$$success,t,u)),this.$pending?(r(this,Ko,!0),this.$valid=this.$invalid=void 0,i(this,"",null)):(r(this,Ko,!1),this.$valid=$r(this.$error),this.$invalid=!this.$valid,i(this,"",this.$valid));var c;c=this.$pending&&this.$pending[t]?void 0:!this.$error[t]&&(!!this.$$success[t]||null),i(this,t,c),this.$$parentForm.$setValidity(t,c,this)}}function $r(t){if(t)for(var e in t)if(t.hasOwnProperty(e))return!1;return!0}function yr(t){t.$formatters.push(function(e){return t.$isEmpty(e)?e:e.toString()})}function br(t,e,n,r,i,o){wr(t,e,n,r,i,o),yr(r)}function wr(t,e,n,r,i,o){var a=Gr(e[0].type);if(!i.android){var s=!1;e.on("compositionstart",function(){s=!0}),e.on("compositionend",function(){s=!1,c()})}var u,c=function(t){if(u&&(o.defer.cancel(u),u=null),!s){var i=e.val(),c=t&&t.type;"password"===a||n.ngTrim&&"false"===n.ngTrim||(i=hi(i)),(r.$viewValue!==i||""===i&&r.$$hasNativeValidators)&&r.$setViewValue(i,c)}};if(i.hasEvent("input"))e.on("input",c);else{var l=function(t,e,n){u||(u=o.defer(function(){u=null,e&&e.value===n||c(t)}))};e.on("keydown",function(t){var e=t.keyCode;91===e||15<e&&e<19||37<=e&&e<=40||l(t,this,this.value)}),i.hasEvent("paste")&&e.on("paste cut",l)}e.on("change",c),ua[a]&&r.$$hasNativeValidators&&a===n.type&&e.on(sa,function(t){if(!u){var e=this[Br],n=e.badInput,r=e.typeMismatch;u=o.defer(function(){u=null,e.badInput===n&&e.typeMismatch===r||c(t)})}}),r.$render=function(){var t=r.$isEmpty(r.$viewValue)?"":r.$viewValue;e.val()!==t&&e.val(t)}}function xr(t,e){if(E(t))return t
;if(C(t)){oa.lastIndex=0;var n=oa.exec(t);if(n){var r=+n[1],i=+n[2],o=0,a=0,s=0,u=0,c=nr(r),l=7*(i-1);return e&&(o=e.getHours(),a=e.getMinutes(),s=e.getSeconds(),u=e.getMilliseconds()),new Date(r,0,c.getDate()+l,o,a,s,u)}}return NaN}function Cr(t,e){return function(n,r){var i,a;if(E(n))return n;if(C(n)){if('"'===n.charAt(0)&&'"'===n.charAt(n.length-1)&&(n=n.substring(1,n.length-1)),ta.test(n))return new Date(n);if(t.lastIndex=0,i=t.exec(n))return i.shift(),a=r?{yyyy:r.getFullYear(),MM:r.getMonth()+1,dd:r.getDate(),HH:r.getHours(),mm:r.getMinutes(),ss:r.getSeconds(),sss:r.getMilliseconds()/1e3}:{yyyy:1970,MM:1,dd:1,HH:0,mm:0,ss:0,sss:0},o(i,function(t,n){n<e.length&&(a[e[n]]=+t)}),new Date(a.yyyy,a.MM-1,a.dd,a.HH,a.mm,a.ss||0,1e3*a.sss||0)}return NaN}}function Sr(t,e,n,r){return function(i,o,a,s,u,c,l){function f(t){return t&&!(t.getTime&&t.getTime()!==t.getTime())}function h(t){return b(t)&&!E(t)?n(t)||void 0:t}Er(i,o,a,s),wr(i,o,a,s,u,c);var p,d=s&&s.$options.getOption("timezone");if(s.$$parserName=t,s.$parsers.push(function(t){if(s.$isEmpty(t))return null;if(e.test(t)){var r=n(t,p);return d&&(r=Z(r,d)),r}}),s.$formatters.push(function(t){if(t&&!E(t))throw Pa("datefmt","Expected `{0}` to be a date",t);return f(t)?(p=t,p&&d&&(p=Z(p,d,!0)),l("date")(t,r,d)):(p=null,"")}),b(a.min)||a.ngMin){var v;s.$validators.min=function(t){return!f(t)||y(v)||n(t)>=v},a.$observe("min",function(t){v=h(t),s.$validate()})}if(b(a.max)||a.ngMax){var m;s.$validators.max=function(t){return!f(t)||y(m)||n(t)<=m},a.$observe("max",function(t){m=h(t),s.$validate()})}}}function Er(t,e,n,r){var i=e[0];(r.$$hasNativeValidators=w(i.validity))&&r.$parsers.push(function(t){var n=e.prop(Br)||{};return n.badInput||n.typeMismatch?void 0:t})}function Tr(t){t.$$parserName="number",t.$parsers.push(function(e){return t.$isEmpty(e)?null:ra.test(e)?parseFloat(e):void 0}),t.$formatters.push(function(e){if(!t.$isEmpty(e)){if(!S(e))throw Pa("numfmt","Expected `{0}` to be a number",e);e=e.toString()}return e})}function kr(t){return b(t)&&!S(t)&&(t=parseFloat(t)),ci(t)?void 0:t}function Ar(t){return(0|t)===t}function Or(t){var e=t.toString(),n=e.indexOf(".");if(-1===n){if(-1<t&&t<1){var r=/e-(\d+)$/.exec(e);if(r)return Number(r[1])}return 0}return e.length-n-1}function _r(t,e,n){var r=Number(t),i=!Ar(r),o=!Ar(e),a=!Ar(n);if(i||o||a){var s=i?Or(r):0,u=o?Or(e):0,c=a?Or(n):0,l=Math.max(s,u,c),f=Math.pow(10,l);r*=f,e*=f,n*=f,i&&(r=Math.round(r)),o&&(e=Math.round(e)),a&&(n=Math.round(n))}return(r-e)%n==0}function Rr(t,e,n,r,i,o){Er(t,e,n,r),Tr(r),wr(t,e,n,r,i,o);var a,s;if((b(n.min)||n.ngMin)&&(r.$validators.min=function(t){return r.$isEmpty(t)||y(a)||t>=a},n.$observe("min",function(t){a=kr(t),r.$validate()})),(b(n.max)||n.ngMax)&&(r.$validators.max=function(t){return r.$isEmpty(t)||y(s)||t<=s},n.$observe("max",function(t){s=kr(t),r.$validate()})),b(n.step)||n.ngStep){var u;r.$validators.step=function(t,e){return r.$isEmpty(e)||y(u)||_r(e,a||0,u)},n.$observe("step",function(t){u=kr(t),r.$validate()})}}function jr(t,e,n,r,i,o){function a(t,r){e.attr(t,n[t]),n.$observe(t,r)}function s(t){if(f=kr(t),!ci(r.$modelValue))if(l){var n=e.val();f>n&&(n=f,e.val(n)),r.$setViewValue(n)}else r.$validate()}function u(t){if(h=kr(t),!ci(r.$modelValue))if(l){var n=e.val();h<n&&(e.val(h),n=h<f?f:h),r.$setViewValue(n)}else r.$validate()}function c(t){p=kr(t),ci(r.$modelValue)||(l&&r.$viewValue!==e.val()?r.$setViewValue(e.val()):r.$validate())}Er(t,e,n,r),Tr(r),wr(t,e,n,r,i,o);var l=r.$$hasNativeValidators&&"range"===e[0].type,f=l?0:void 0,h=l?100:void 0,p=l?1:void 0,d=e[0].validity,v=b(n.min),m=b(n.max),g=b(n.step),$=r.$render;r.$render=l&&b(d.rangeUnderflow)&&b(d.rangeOverflow)?function(){$(),r.$setViewValue(e.val())}:$,v&&(r.$validators.min=l?function(){return!0}:function(t,e){return r.$isEmpty(e)||y(f)||e>=f},a("min",s)),m&&(r.$validators.max=l?function(){return!0}:function(t,e){return r.$isEmpty(e)||y(h)||e<=h},a("max",u)),g&&(r.$validators.step=l?function(){return!d.stepMismatch}:function(t,e){return r.$isEmpty(e)||y(p)||_r(e,f||0,p)},a("step",c))}function Pr(t,e,n,r,i,o){wr(t,e,n,r,i,o),yr(r),r.$$parserName="url",r.$validators.url=function(t,e){var n=t||e;return r.$isEmpty(n)||ea.test(n)}}function Nr(t,e,n,r,i,o){wr(t,e,n,r,i,o),yr(r),r.$$parserName="email",r.$validators.email=function(t,e){var n=t||e;return r.$isEmpty(n)||na.test(n)}}function Ir(t,e,n,r){var i=!n.ngTrim||"false"!==hi(n.ngTrim);y(n.name)&&e.attr("name",u());var o=function(t){var o;e[0].checked&&(o=n.value,i&&(o=hi(o)),r.$setViewValue(o,t&&t.type))};e.on("click",o),r.$render=function(){var t=n.value;i&&(t=hi(t)),e[0].checked=t===r.$viewValue},n.$observe("value",r.$render)}function Dr(t,e,n,r,i){var o;if(b(r)){if(o=t(r),!o.constant)throw Pa("constexpr","Expected constant expression for `{0}`, but saw `{1}`.",n,r);return o(e)}return i}function Vr(t,e,n,r,i,o,a,s){var u=Dr(s,t,"ngTrueValue",n.ngTrueValue,!0),c=Dr(s,t,"ngFalseValue",n.ngFalseValue,!1),l=function(t){r.$setViewValue(e[0].checked,t&&t.type)};e.on("click",l),r.$render=function(){e[0].checked=r.$viewValue},r.$isEmpty=function(t){return!1===t},r.$formatters.push(function(t){return B(t,u)}),r.$parsers.push(function(t){return t?u:c})}function Mr(t,e){function n(t,e){if(!t||!t.length)return[];if(!e||!e.length)return t;var n=[];t:for(var r=0;r<t.length;r++){for(var i=t[r],o=0;o<e.length;o++)if(i===e[o])continue t;n.push(i)}return n}function r(t){return t&&t.split(" ")}function i(t){var e=t;return li(t)?e=t.map(i).join(" "):w(t)&&(e=Object.keys(t).filter(function(e){return t[e]}).join(" ")),e}t="ngClass"+t;var a;return["$parse",function(s){return{restrict:"AC",link:function(u,c,l){function f(t){t=d(r(t),1),l.$addClass(t)}function h(t){t=d(r(t),-1),l.$removeClass(t)}function p(t,e){var i=r(t),o=r(e),a=n(i,o),s=n(o,i),u=d(a,-1),c=d(s,1);l.$addClass(c),l.$removeClass(u)}function d(t,e){var n=[];return o(t,function(t){(e>0||$[t])&&($[t]=($[t]||0)+e,$[t]===+(e>0)&&n.push(t))}),n.join(" ")}function v(t){t===e?f(g):h(g),y=t}function m(t){C(t)||(t=i(t)),y===e&&p(g,t),g=t}var g,$=c.data("$classCounts"),y=!0;$||($=gt(),c.data("$classCounts",$)),"ngClass"!==t&&(a||(a=s("$index",function(t){return 1&t})),u.$watch(a,v)),u.$watch(s(l[t],i),m)}}}]}function qr(t,e,n,r,i,o,a,s,u){this.$viewValue=Number.NaN,this.$modelValue=Number.NaN,this.$$rawModelValue=void 0,this.$validators={},this.$asyncValidators={},this.$parsers=[],this.$formatters=[],this.$viewChangeListeners=[],this.$untouched=!0,this.$touched=!1,this.$pristine=!0,this.$dirty=!1,this.$valid=!0,this.$invalid=!1,this.$error={},this.$$success={},this.$pending=void 0,this.$name=u(n.name||"",!1)(t),this.$$parentForm=Qo,this.$options=Na,this.$$parsedNgModel=i(n.ngModel),this.$$parsedNgModelAssign=this.$$parsedNgModel.assign,this.$$ngModelGet=this.$$parsedNgModel,this.$$ngModelSet=this.$$parsedNgModelAssign,this.$$pendingDebounce=null,this.$$parserValid=void 0,this.$$currentValidationRunId=0,Object.defineProperty(this,"$$scope",{value:t}),this.$$attr=n,this.$$element=r,this.$$animate=o,this.$$timeout=a,this.$$parse=i,this.$$q=s,this.$$exceptionHandler=e,mr(this),Hr(this)}function Hr(t){t.$$scope.$watch(function(e){var n=t.$$ngModelGet(e);if(n!==t.$modelValue&&(t.$modelValue===t.$modelValue||n===n)){t.$modelValue=t.$$rawModelValue=n,t.$$parserValid=void 0;for(var r=t.$formatters,i=r.length,o=n;i--;)o=r[i](o);t.$viewValue!==o&&(t.$$updateEmptyClasses(o),t.$viewValue=t.$$lastCommittedViewValue=o,t.$render(),t.$$runValidators(t.$modelValue,t.$viewValue,v))}return n})}function Lr(t){this.$$options=t}function Ur(t,e){o(e,function(e,n){b(t[n])||(t[n]=e)})}function Fr(t,e){t.prop("selected",e),t.attr("selected",e)}var Br="validity",Wr=Object.prototype.hasOwnProperty,zr={objectMaxDepth:5},Gr=function(t){return C(t)?t.toLowerCase():t},Jr=function(t){return C(t)?t.toUpperCase():t},Qr=function(t){return C(t)?t.replace(/[A-Z]/g,function(t){return String.fromCharCode(32|t.charCodeAt(0))}):t},Kr=function(t){return C(t)?t.replace(/[a-z]/g,function(t){return String.fromCharCode(-33&t.charCodeAt(0))}):t};"i"!=="I".toLowerCase()&&(Gr=Qr,Jr=Kr);var Yr,Xr,Zr,ti,ei=[].slice,ni=[].splice,ri=[].push,ii=Object.prototype.toString,oi=Object.getPrototypeOf,ai=e("ng"),si=t.angular||(t.angular={}),ui=0;Yr=t.document.documentMode;var ci=Number.isNaN||function(t){return t!==t};v.$inject=[],m.$inject=[];var li=Array.isArray,fi=/^\[object (?:Uint8|Uint8Clamped|Uint16|Uint32|Int8|Int16|Int32|Float32|Float64)Array]$/,hi=function(t){return C(t)?t.trim():t},pi=function(t){return t.replace(/([-()[\]{}+?*.$^|,:#<!\\])/g,"\\$1").replace(/\x08/g,"\\x08")},di=function(){if(!b(di.rules)){var e=t.document.querySelector("[ng-csp]")||t.document.querySelector("[data-ng-csp]");if(e){var n=e.getAttribute("ng-csp")||e.getAttribute("data-ng-csp");di.rules={noUnsafeEval:!n||-1!==n.indexOf("no-unsafe-eval"),noInlineStyle:!n||-1!==n.indexOf("no-inline-style")}}else di.rules={noUnsafeEval:function(){try{return new Function(""),!1}catch(t){return!0}}(),noInlineStyle:!1}}return di.rules},vi=function(){if(b(vi.name_))return vi.name_;var e,n,r,i,o=gi.length;for(n=0;n<o;++n)if(r=gi[n],e=t.document.querySelector("["+r.replace(":","\\:")+"jq]")){i=e.getAttribute(r+"jq");break}return vi.name_=i},mi=/:/g,gi=["ng-","data-ng-","ng:","x-ng-"],$i=function(e){var n=e.currentScript;if(!n)return!0;if(!(n instanceof t.HTMLScriptElement||n instanceof t.SVGScriptElement))return!1;var r=n.attributes;return[r.getNamedItem("src"),r.getNamedItem("href"),r.getNamedItem("xlink:href")].every(function(t){if(!t)return!0;if(!t.value)return!1;var n=e.createElement("a");if(n.href=t.value,e.location.origin===n.origin)return!0;switch(n.protocol){case"http:":case"https:":case"ftp:":case"blob:":case"file:":case"data:":return!0;default:return!1}})}(t.document),yi=/[A-Z]/g,bi=!1,wi=1,xi=3,Ci=8,Si=9,Ei=11,Ti={full:"1.6.4",major:1,minor:6,dot:4,codeName:"phenomenal-footnote"};Pt.expando="ng339";var ki=Pt.cache={},Ai=1;Pt._data=function(t){return this.cache[t[this.expando]]||{}};var Oi=/-([a-z])/g,_i=/^-ms-/,Ri={mouseleave:"mouseout",mouseenter:"mouseover"},ji=e("jqLite"),Pi=/^<([\w-]+)\s*\/?>(?:<\/\1>|)$/,Ni=/<|&#?\w+;/,Ii=/<([\w:-]+)/,Di=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:-]+)[^>]*)\/>/gi,Vi={option:[1,'<select multiple="multiple">',"</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};Vi.optgroup=Vi.option,Vi.tbody=Vi.tfoot=Vi.colgroup=Vi.caption=Vi.thead,Vi.th=Vi.td;var Mi=t.Node.prototype.contains||function(t){return!!(16&this.compareDocumentPosition(t))},qi=Pt.prototype={ready:Qt,toString:function(){var t=[];return o(this,function(e){t.push(""+e)}),"["+t.join(", ")+"]"},eq:function(t){return Xr(t>=0?this[t]:this[this.length+t])},length:0,push:ri,sort:[].sort,splice:[].splice},Hi={};o("multiple,selected,checked,disabled,readOnly,required,open".split(","),function(t){Hi[Gr(t)]=t});var Li={};o("input,select,option,textarea,button,form,details".split(","),function(t){Li[t]=!0});var Ui={ngMinlength:"minlength",ngMaxlength:"maxlength",ngMin:"min",ngMax:"max",ngPattern:"pattern",ngStep:"step"};o({data:qt,removeData:Vt,hasData:Ot,cleanData:function(t){for(var e=0,n=t.length;e<n;e++)Vt(t[e])}},function(t,e){Pt[e]=t}),o({data:qt,inheritedData:Wt,scope:function(t){return Xr.data(t,"$scope")||Wt(t.parentNode||t,["$isolateScope","$scope"])},isolateScope:function(t){return Xr.data(t,"$isolateScope")||Xr.data(t,"$isolateScopeNoTemplate")},controller:Bt,injector:function(t){return Wt(t,"$injector")},removeAttr:function(t,e){t.removeAttribute(e)},hasClass:Ht,css:function(t,e,n){if(e=St(e),!b(n))return t.style[e];t.style[e]=n},attr:function(t,e,n){var r,i=t.nodeType;if(i!==xi&&2!==i&&i!==Ci&&t.getAttribute){var o=Gr(e),a=Hi[o];if(!b(n))return r=t.getAttribute(e),a&&null!==r&&(r=o),null===r?void 0:r;null===n||!1===n&&a?t.removeAttribute(e):t.setAttribute(e,a?o:n)}},prop:function(t,e,n){if(!b(n))return t[e];t[e]=n},text:function(){function t(t,e){if(y(e)){var n=t.nodeType;return n===wi||n===xi?t.textContent:""}t.textContent=e}return t.$dv="",t}(),val:function(t,e){if(y(e)){if(t.multiple&&"select"===q(t)){var n=[];return o(t.options,function(t){t.selected&&n.push(t.value||t.text)}),n}return t.value}t.value=e},html:function(t,e){if(y(e))return t.innerHTML;It(t,!0),t.innerHTML=e},empty:zt},function(t,e){Pt.prototype[e]=function(e,n){var r,i,o=this.length;if(t!==zt&&y(2===t.length&&t!==Ht&&t!==Bt?e:n)){if(w(e)){for(r=0;r<o;r++)if(t===qt)t(this[r],e);else for(i in e)t(this[r],i,e[i]);return this}for(var a=t.$dv,s=y(a)?Math.min(o,1):o,u=0;u<s;u++){var c=t(this[u],e,n);a=a?a+c:c}return a}for(r=0;r<o;r++)t(this[r],e,n);return this}}),o({removeData:Vt,on:function(t,e,n,r){if(b(r))throw ji("onargs","jqLite#on() does not support the `selector` or `eventData` parameters");if(At(t)){var i=Mt(t,!0),o=i.events,a=i.handle;a||(a=i.handle=Xt(t,o));for(var s=e.indexOf(" ")>=0?e.split(" "):[e],u=s.length,c=function(e,r,i){var s=o[e];s||(s=o[e]=[],s.specialHandlerWrapper=r,"$destroy"===e||i||t.addEventListener(e,a)),s.push(n)};u--;)e=s[u],Ri[e]?(c(Ri[e],te),c(e,void 0,!0)):c(e)}},off:Dt,one:function(t,e,n){t=Xr(t),t.on(e,function r(){t.off(e,n),t.off(e,r)}),t.on(e,n)},replaceWith:function(t,e){var n,r=t.parentNode;It(t),o(new Pt(e),function(e){n?r.insertBefore(e,n.nextSibling):r.replaceChild(e,t),n=e})},children:function(t){var e=[];return o(t.childNodes,function(t){t.nodeType===wi&&e.push(t)}),e},contents:function(t){return t.contentDocument||t.childNodes||[]},append:function(t,e){var n=t.nodeType;if(n===wi||n===Ei){e=new Pt(e);for(var r=0,i=e.length;r<i;r++){var o=e[r];t.appendChild(o)}}},prepend:function(t,e){if(t.nodeType===wi){var n=t.firstChild;o(new Pt(e),function(e){t.insertBefore(e,n)})}},wrap:function(t,e){jt(t,Xr(e).eq(0).clone()[0])},remove:Gt,detach:function(t){Gt(t,!0)},after:function(t,e){var n=t,r=t.parentNode;if(r){e=new Pt(e);for(var i=0,o=e.length;i<o;i++){var a=e[i];r.insertBefore(a,n.nextSibling),n=a}}},addClass:Ut,removeClass:Lt,toggleClass:function(t,e,n){e&&o(e.split(" "),function(e){var r=n;y(r)&&(r=!Ht(t,e)),(r?Ut:Lt)(t,e)})},parent:function(t){var e=t.parentNode;return e&&e.nodeType!==Ei?e:null},next:function(t){return t.nextElementSibling},find:function(t,e){return t.getElementsByTagName?t.getElementsByTagName(e):[]},clone:Nt,triggerHandler:function(t,e,n){var r,i,a,s=e.type||e,u=Mt(t),c=u&&u.events,l=c&&c[s];l&&(r={preventDefault:function(){this.defaultPrevented=!0},isDefaultPrevented:function(){return!0===this.defaultPrevented},stopImmediatePropagation:function(){this.immediatePropagationStopped=!0},isImmediatePropagationStopped:function(){return!0===this.immediatePropagationStopped},stopPropagation:v,type:s,target:t},e.type&&(r=f(r,e)),i=bt(l),a=n?[r].concat(n):[r],o(i,function(e){r.isImmediatePropagationStopped()||e.apply(t,a)}))}},function(t,e){Pt.prototype[e]=function(e,n,r){for(var i,o=0,a=this.length;o<a;o++)y(i)?(i=t(this[o],e,n,r),b(i)&&(i=Xr(i))):Ft(i,t(this[o],e,n,r));return b(i)?i:this}}),Pt.prototype.bind=Pt.prototype.on,Pt.prototype.unbind=Pt.prototype.off;var Fi=Object.create(null);re.prototype={_idx:function(t){return t===this._lastKey?this._lastIndex:(this._lastKey=t,this._lastIndex=this._keys.indexOf(t),this._lastIndex)},_transformKey:function(t){return ci(t)?Fi:t},get:function(t){t=this._transformKey(t);var e=this._idx(t);if(-1!==e)return this._values[e]},set:function(t,e){t=this._transformKey(t);var n=this._idx(t);-1===n&&(n=this._lastIndex=this._keys.length),this._keys[n]=t,this._values[n]=e},delete:function(t){t=this._transformKey(t);var e=this._idx(t);return-1!==e&&(this._keys.splice(e,1),this._values.splice(e,1),this._lastKey=NaN,this._lastIndex=-1,!0)}};var Bi=re,Wi=[function(){this.$get=[function(){return Bi}]}],zi=/^([^(]+?)=>/,Gi=/^[^(]*\(\s*([^)]*)\)/m,Ji=/,/,Qi=/^\s*(_?)(\S+?)\1\s*$/,Ki=/((\/\/.*$)|(\/\*[\s\S]*?\*\/))/gm,Yi=e("$injector");ue.$$annotate=se;var Xi=e("$animate"),Zi=1,to=function(){this.$get=v},eo=function(){var t=new Bi,e=[];this.$get=["$$AnimateRunner","$rootScope",function(n,r){function i(t,e,n){var r=!1;return e&&(e=C(e)?e.split(" "):li(e)?e:[],o(e,function(e){e&&(r=!0,t[e]=n)})),r}function a(){o(e,function(e){var n=t.get(e);if(n){var r=he(e.attr("class")),i="",a="";o(n,function(t,e){t!==!!r[e]&&(t?i+=(i.length?" ":"")+e:a+=(a.length?" ":"")+e)}),o(e,function(t){i&&Ut(t,i),a&&Lt(t,a)}),t.delete(e)}}),e.length=0}function s(n,o,s){var u=t.get(n)||{},c=i(u,o,!0),l=i(u,s,!1);(c||l)&&(t.set(n,u),e.push(n),1===e.length&&r.$$postDigest(a))}return{enabled:v,on:v,off:v,pin:v,push:function(t,e,r,i){i&&i(),r=r||{},r.from&&t.css(r.from),r.to&&t.css(r.to),(r.addClass||r.removeClass)&&s(t,r.addClass,r.removeClass);var o=new n;return o.complete(),o}}}]},no=["$provide",function(t){var e=this,n=null;this.$$registeredAnimations=Object.create(null),this.register=function(n,r){if(n&&"."!==n.charAt(0))throw Xi("notcsel","Expecting class selector starting with '.' got '{0}'.",n);var i=n+"-animation";e.$$registeredAnimations[n.substr(1)]=i,t.factory(i,r)},this.classNameFilter=function(t){if(1===arguments.length&&(n=t instanceof RegExp?t:null)){if(new RegExp("[(\\s|\\/)]ng-animate[(\\s|\\/)]").test(n.toString()))throw n=null,Xi("nongcls",'$animateProvider.classNameFilter(regex) prohibits accepting a regex value which matches/contains the "{0}" CSS class.',"ng-animate")}return n},this.$get=["$$animateQueue",function(t){function e(t,e,n){if(n){var r=fe(n);!r||r.parentNode||r.previousElementSibling||(n=null)}n?n.after(t):e.prepend(t)}return{on:t.on,off:t.off,pin:t.pin,enabled:t.enabled,cancel:function(t){t.end&&t.end()},enter:function(n,r,i,o){return r=r&&Xr(r),i=i&&Xr(i),r=r||i.parent(),e(n,r,i),t.push(n,"enter",pe(o))},move:function(n,r,i,o){return r=r&&Xr(r),i=i&&Xr(i),r=r||i.parent(),e(n,r,i),t.push(n,"move",pe(o))},leave:function(e,n){return t.push(e,"leave",pe(n),function(){e.remove()})},addClass:function(e,n,r){return r=pe(r),r.addClass=le(r.addclass,n),t.push(e,"addClass",r)},removeClass:function(e,n,r){return r=pe(r),r.removeClass=le(r.removeClass,n),t.push(e,"removeClass",r)},setClass:function(e,n,r,i){return i=pe(i),i.addClass=le(i.addClass,n),i.removeClass=le(i.removeClass,r),t.push(e,"setClass",i)},animate:function(e,n,r,i,o){return o=pe(o),o.from=o.from?f(o.from,n):n,o.to=o.to?f(o.to,r):r,i=i||"ng-inline-animate",o.tempClasses=le(o.tempClasses,i),t.push(e,"animate",o)}}}]}],ro=function(){this.$get=["$$rAF",function(t){function e(e){n.push(e),n.length>1||t(function(){for(var t=0;t<n.length;t++)n[t]();n=[]})}var n=[];return function(){var t=!1;return e(function(){t=!0}),function(n){t?n():e(n)}}}]},io=function(){this.$get=["$q","$sniffer","$$animateAsyncRun","$$isDocumentHidden","$timeout",function(t,e,n,r,i){function a(t){this.setHost(t);var e=n(),o=function(t){i(t,0,!1)};this._doneCallbacks=[],this._tick=function(t){r()?o(t):e(t)},this._state=0}return a.chain=function(t,e){function n(){if(r===t.length)return void e(!0);t[r](function(t){if(!1===t)return void e(!1);r++,n()})}var r=0;n()},a.all=function(t,e){function n(n){i=i&&n,++r===t.length&&e(i)}var r=0,i=!0;o(t,function(t){t.done(n)})},a.prototype={setHost:function(t){this.host=t||{}},done:function(t){2===this._state?t():this._doneCallbacks.push(t)},progress:v,getPromise:function(){if(!this.promise){var e=this;this.promise=t(function(t,n){e.done(function(e){!1===e?n():t()})})}return this.promise},then:function(t,e){return this.getPromise().then(t,e)},catch:function(t){return this.getPromise().catch(t)},finally:function(t){return this.getPromise().finally(t)},pause:function(){this.host.pause&&this.host.pause()},resume:function(){this.host.resume&&this.host.resume()},end:function(){this.host.end&&this.host.end(),this._resolve(!0)},cancel:function(){this.host.cancel&&this.host.cancel(),this._resolve(!1)},complete:function(t){var e=this;0===e._state&&(e._state=1,e._tick(function(){e._resolve(t)}))},_resolve:function(t){2!==this._state&&(o(this._doneCallbacks,function(e){e(t)}),this._doneCallbacks.length=0,this._state=2)}},a}]},oo=function(){this.$get=["$$rAF","$q","$$AnimateRunner",function(t,e,n){return function(e,r){function i(){return t(function(){o(),s||u.complete(),s=!0}),u}function o(){a.addClass&&(e.addClass(a.addClass),a.addClass=null),a.removeClass&&(e.removeClass(a.removeClass),a.removeClass=null),a.to&&(e.css(a.to),a.to=null)}var a=r||{};a.$$prepared||(a=U(a)),a.cleanupStyles&&(a.from=a.to=null),a.from&&(e.css(a.from),a.from=null);var s,u=new n;return{start:i,end:i}}}]},ao=e("$compile"),so=new $e;ye.$inject=["$provide","$$sanitizeUriProvider"],be.prototype.isFirstChange=function(){return this.previousValue===so};var uo=/^((?:x|data)[:\-_])/i,co=/[:\-_]+(.)/g,lo=e("$controller"),fo=/^(\S+)(\s+as\s+([\w$]+))?$/,ho=function(){this.$get=["$document",function(t){return function(e){return e?!e.nodeType&&e instanceof Xr&&(e=e[0]):e=t[0].body,e.offsetWidth+1}}]},po="application/json",vo={"Content-Type":po+";charset=utf-8"},mo=/^\[|^\{(?!\{)/,go={"[":/]$/,"{":/}$/},$o=/^\)]\}',?\n/,yo=e("$http"),bo=si.$interpolateMinErr=e("$interpolate");bo.throwNoconcat=function(t){throw bo("noconcat","Error while interpolating: {0}\nStrict Contextual Escaping disallows interpolations that concatenate multiple expressions when a trusted value is required.  See http://docs.angularjs.org/api/ng.$sce",t)},bo.interr=function(t,e){return bo("interr","Can't interpolate: {0}\n{1}",t,e.toString())};var wo=function(){this.$get=function(){function t(t){var e=function(t){e.data=t,e.called=!0};return e.id=t,e}var e=si.callbacks,n={};return{createCallback:function(r){var i="_"+(e.$$counter++).toString(36),o="angular.callbacks."+i,a=t(i);return n[o]=e[i]=a,o},wasCalled:function(t){return n[t].called},getResponse:function(t){return n[t].data},removeCallback:function(t){var r=n[t];delete e[r.id],delete n[t]}}}},xo=/^([^?#]*)(\?([^#]*))?(#(.*))?$/,Co={http:80,https:443,ftp:21},So=e("$location"),Eo=/^\s*[\\\/]{2,}/,To={$$absUrl:"",$$html5:!1,$$replace:!1,absUrl:nn("$$absUrl"),url:function(t){if(y(t))return this.$$url;var e=xo.exec(t);return(e[1]||""===t)&&this.path(decodeURIComponent(e[1])),(e[2]||e[1]||""===t)&&this.search(e[3]||""),this.hash(e[5]||""),this},protocol:nn("$$protocol"),host:nn("$$host"),port:nn("$$port"),path:rn("$$path",function(t){return t=null!==t?t.toString():"","/"===t.charAt(0)?t:"/"+t}),search:function(t,e){switch(arguments.length){case 0:return this.$$search;case 1:if(C(t)||S(t))t=t.toString(),this.$$search=nt(t);else{if(!w(t))throw So("isrcharg","The first argument of the `$location#search()` call must be a string or an object.");t=U(t,{}),o(t,function(e,n){null==e&&delete t[n]}),this.$$search=t}break;default:y(e)||null===e?delete this.$$search[t]:this.$$search[t]=e}return this.$$compose(),this},hash:rn("$$hash",function(t){return null!==t?t.toString():""}),replace:function(){return this.$$replace=!0,this}};o([en,tn,Ze],function(t){t.prototype=Object.create(To),t.prototype.state=function(e){if(!arguments.length)return this.$$state;if(t!==Ze||!this.$$html5)throw So("nostate","History API state support is available only in HTML5 mode and only in browsers supporting HTML5 History API");return this.$$state=y(e)?null:e,this.$$urlUpdatedByLocation=!0,this}});var ko=e("$parse"),Ao={}.constructor.prototype.valueOf,Oo=gt();o("+ - * / % === !== == != < > <= >= && || ! = |".split(" "),function(t){Oo[t]=!0});var _o={n:"\n",f:"\f",r:"\r",t:"\t",v:"\v","'":"'",'"':'"'},Ro=function(t){this.options=t};Ro.prototype={constructor:Ro,lex:function(t){for(this.text=t,this.index=0,this.tokens=[];this.index<this.text.length;){var e=this.text.charAt(this.index);if('"'===e||"'"===e)this.readString(e);else if(this.isNumber(e)||"."===e&&this.isNumber(this.peek()))this.readNumber();else if(this.isIdentifierStart(this.peekMultichar()))this.readIdent();else if(this.is(e,"(){}[].,;:?"))this.tokens.push({index:this.index,text:e}),this.index++;else if(this.isWhitespace(e))this.index++;else{var n=e+this.peek(),r=n+this.peek(2),i=Oo[e],o=Oo[n],a=Oo[r];if(i||o||a){var s=a?r:o?n:e;this.tokens.push({index:this.index,text:s,operator:!0}),this.index+=s.length}else this.throwError("Unexpected next character ",this.index,this.index+1)}}return this.tokens},is:function(t,e){return-1!==e.indexOf(t)},peek:function(t){var e=t||1;return this.index+e<this.text.length&&this.text.charAt(this.index+e)},isNumber:function(t){return"0"<=t&&t<="9"&&"string"==typeof t},isWhitespace:function(t){return" "===t||"\r"===t||"\t"===t||"\n"===t||"\v"===t||""===t},isIdentifierStart:function(t){return this.options.isIdentifierStart?this.options.isIdentifierStart(t,this.codePointAt(t)):this.isValidIdentifierStart(t)},isValidIdentifierStart:function(t){return"a"<=t&&t<="z"||"A"<=t&&t<="Z"||"_"===t||"$"===t},isIdentifierContinue:function(t){return this.options.isIdentifierContinue?this.options.isIdentifierContinue(t,this.codePointAt(t)):this.isValidIdentifierContinue(t)},isValidIdentifierContinue:function(t,e){return this.isValidIdentifierStart(t,e)||this.isNumber(t)},codePointAt:function(t){return 1===t.length?t.charCodeAt(0):(t.charCodeAt(0)<<10)+t.charCodeAt(1)-56613888},peekMultichar:function(){var t=this.text.charAt(this.index),e=this.peek();if(!e)return t;var n=t.charCodeAt(0),r=e.charCodeAt(0);return n>=55296&&n<=56319&&r>=56320&&r<=57343?t+e:t},isExpOperator:function(t){return"-"===t||"+"===t||this.isNumber(t)},throwError:function(t,e,n){n=n||this.index;var r=b(e)?"s "+e+"-"+this.index+" ["+this.text.substring(e,n)+"]":" "+n;throw ko("lexerr","Lexer Error: {0} at column{1} in expression [{2}].",t,r,this.text)},readNumber:function(){for(var t="",e=this.index;this.index<this.text.length;){var n=Gr(this.text.charAt(this.index));if("."===n||this.isNumber(n))t+=n;else{var r=this.peek();if("e"===n&&this.isExpOperator(r))t+=n;else if(this.isExpOperator(n)&&r&&this.isNumber(r)&&"e"===t.charAt(t.length-1))t+=n;else{if(!this.isExpOperator(n)||r&&this.isNumber(r)||"e"!==t.charAt(t.length-1))break;this.throwError("Invalid exponent")}}this.index++}this.tokens.push({index:e,text:t,constant:!0,value:Number(t)})},readIdent:function(){var t=this.index;for(this.index+=this.peekMultichar().length;this.index<this.text.length;){var e=this.peekMultichar();if(!this.isIdentifierContinue(e))break;this.index+=e.length}this.tokens.push({index:t,text:this.text.slice(t,this.index),identifier:!0})},readString:function(t){var e=this.index;this.index++;for(var n="",r=t,i=!1;this.index<this.text.length;){var o=this.text.charAt(this.index);if(r+=o,i){if("u"===o){var a=this.text.substring(this.index+1,this.index+5);a.match(/[\da-f]{4}/i)||this.throwError("Invalid unicode escape [\\u"+a+"]"),this.index+=4,n+=String.fromCharCode(parseInt(a,16))}else{n+=_o[o]||o}i=!1}else if("\\"===o)i=!0;else{if(o===t)return this.index++,void this.tokens.push({index:e,text:r,constant:!0,value:n});n+=o}this.index++}this.throwError("Unterminated quote",e)}};var jo=function(t,e){this.lexer=t,this.options=e};jo.Program="Program",jo.ExpressionStatement="ExpressionStatement",jo.AssignmentExpression="AssignmentExpression",jo.ConditionalExpression="ConditionalExpression",jo.LogicalExpression="LogicalExpression",jo.BinaryExpression="BinaryExpression",jo.UnaryExpression="UnaryExpression",jo.CallExpression="CallExpression",jo.MemberExpression="MemberExpression",jo.Identifier="Identifier",jo.Literal="Literal",jo.ArrayExpression="ArrayExpression",jo.Property="Property",jo.ObjectExpression="ObjectExpression",jo.ThisExpression="ThisExpression",jo.LocalsExpression="LocalsExpression",jo.NGValueParameter="NGValueParameter",jo.prototype={ast:function(t){this.text=t,this.tokens=this.lexer.lex(t);var e=this.program();return 0!==this.tokens.length&&this.throwError("is an unexpected token",this.tokens[0]),e},program:function(){for(var t=[];;)if(this.tokens.length>0&&!this.peek("}",")",";","]")&&t.push(this.expressionStatement()),!this.expect(";"))return{type:jo.Program,body:t}},expressionStatement:function(){return{type:jo.ExpressionStatement,expression:this.filterChain()}},filterChain:function(){for(var t=this.expression();this.expect("|");)t=this.filter(t);return t},expression:function(){return this.assignment()},assignment:function(){var t=this.ternary();if(this.expect("=")){if(!pn(t))throw ko("lval","Trying to assign a value to a non l-value");t={type:jo.AssignmentExpression,left:t,right:this.assignment(),operator:"="}}return t},ternary:function(){var t,e,n=this.logicalOR();return this.expect("?")&&(t=this.expression(),this.consume(":"))?(e=this.expression(),{type:jo.ConditionalExpression,test:n,alternate:t,consequent:e}):n},logicalOR:function(){for(var t=this.logicalAND();this.expect("||");)t={type:jo.LogicalExpression,operator:"||",left:t,right:this.logicalAND()};return t},logicalAND:function(){for(var t=this.equality();this.expect("&&");)t={type:jo.LogicalExpression,operator:"&&",left:t,right:this.equality()};return t},equality:function(){for(var t,e=this.relational();t=this.expect("==","!=","===","!==");)e={type:jo.BinaryExpression,operator:t.text,left:e,right:this.relational()};return e},relational:function(){for(var t,e=this.additive();t=this.expect("<",">","<=",">=");)e={type:jo.BinaryExpression,operator:t.text,left:e,right:this.additive()};return e},additive:function(){for(var t,e=this.multiplicative();t=this.expect("+","-");)e={type:jo.BinaryExpression,operator:t.text,left:e,right:this.multiplicative()};return e},multiplicative:function(){for(var t,e=this.unary();t=this.expect("*","/","%");)e={type:jo.BinaryExpression,operator:t.text,left:e,right:this.unary()};return e},unary:function(){var t;return(t=this.expect("+","-","!"))?{type:jo.UnaryExpression,operator:t.text,prefix:!0,argument:this.unary()}:this.primary()},primary:function(){var t;this.expect("(")?(t=this.filterChain(),this.consume(")")):this.expect("[")?t=this.arrayDeclaration():this.expect("{")?t=this.object():this.selfReferential.hasOwnProperty(this.peek().text)?t=U(this.selfReferential[this.consume().text]):this.options.literals.hasOwnProperty(this.peek().text)?t={type:jo.Literal,value:this.options.literals[this.consume().text]}:this.peek().identifier?t=this.identifier():this.peek().constant?t=this.constant():this.throwError("not a primary expression",this.peek());for(var e;e=this.expect("(","[",".");)"("===e.text?(t={type:jo.CallExpression,callee:t,arguments:this.parseArguments()},this.consume(")")):"["===e.text?(t={type:jo.MemberExpression,object:t,property:this.expression(),computed:!0},this.consume("]")):"."===e.text?t={type:jo.MemberExpression,object:t,property:this.identifier(),computed:!1}:this.throwError("IMPOSSIBLE");return t},filter:function(t){for(var e=[t],n={type:jo.CallExpression,callee:this.identifier(),arguments:e,filter:!0};this.expect(":");)e.push(this.expression());return n},parseArguments:function(){var t=[];if(")"!==this.peekToken().text)do{t.push(this.filterChain())}while(this.expect(","));return t},identifier:function(){var t=this.consume();return t.identifier||this.throwError("is not a valid identifier",t),{type:jo.Identifier,name:t.text}},constant:function(){return{type:jo.Literal,value:this.consume().value}},arrayDeclaration:function(){var t=[];if("]"!==this.peekToken().text)do{if(this.peek("]"))break;t.push(this.expression())}while(this.expect(","));return this.consume("]"),{type:jo.ArrayExpression,elements:t}},object:function(){var t,e=[];if("}"!==this.peekToken().text)do{if(this.peek("}"))break;t={type:jo.Property,kind:"init"},this.peek().constant?(t.key=this.constant(),t.computed=!1,this.consume(":"),t.value=this.expression()):this.peek().identifier?(t.key=this.identifier(),t.computed=!1,this.peek(":")?(this.consume(":"),t.value=this.expression()):t.value=t.key):this.peek("[")?(this.consume("["),t.key=this.expression(),this.consume("]"),t.computed=!0,this.consume(":"),t.value=this.expression()):this.throwError("invalid key",this.peek()),e.push(t)}while(this.expect(","));return this.consume("}"),{type:jo.ObjectExpression,properties:e}},throwError:function(t,e){
throw ko("syntax","Syntax Error: Token '{0}' {1} at column {2} of the expression [{3}] starting at [{4}].",e.text,t,e.index+1,this.text,this.text.substring(e.index))},consume:function(t){if(0===this.tokens.length)throw ko("ueoe","Unexpected end of expression: {0}",this.text);var e=this.expect(t);return e||this.throwError("is unexpected, expecting ["+t+"]",this.peek()),e},peekToken:function(){if(0===this.tokens.length)throw ko("ueoe","Unexpected end of expression: {0}",this.text);return this.tokens[0]},peek:function(t,e,n,r){return this.peekAhead(0,t,e,n,r)},peekAhead:function(t,e,n,r,i){if(this.tokens.length>t){var o=this.tokens[t],a=o.text;if(a===e||a===n||a===r||a===i||!e&&!n&&!r&&!i)return o}return!1},expect:function(t,e,n,r){var i=this.peek(t,e,n,r);return!!i&&(this.tokens.shift(),i)},selfReferential:{this:{type:jo.ThisExpression},$locals:{type:jo.LocalsExpression}}},gn.prototype={compile:function(t){var e=this;this.state={nextId:0,filters:{},fn:{vars:[],body:[],own:{}},assign:{vars:[],body:[],own:{}},inputs:[]},fn(t,e.$filter);var n,r="";if(this.stage="assign",n=dn(t)){this.state.computing="assign";var i=this.nextId();this.recurse(n,i),this.return_(i),r="fn.assign="+this.generateFunction("assign","s,v,l")}var a=hn(t.body);e.stage="inputs",o(a,function(t,n){var r="fn"+n;e.state[r]={vars:[],body:[],own:{}},e.state.computing=r;var i=e.nextId();e.recurse(t,i),e.return_(i),e.state.inputs.push(r),t.watchId=n}),this.state.computing="fn",this.stage="main",this.recurse(t);var s='"'+this.USE+" "+this.STRICT+'";\n'+this.filterPrefix()+"var fn="+this.generateFunction("fn","s,l,a,i")+r+this.watchFns()+"return fn;",u=new Function("$filter","getStringValue","ifDefined","plus",s)(this.$filter,sn,un,cn);return this.state=this.stage=void 0,u},USE:"use",STRICT:"strict",watchFns:function(){var t=[],e=this.state.inputs,n=this;return o(e,function(e){t.push("var "+e+"="+n.generateFunction(e,"s"))}),e.length&&t.push("fn.inputs=["+e.join(",")+"];"),t.join("")},generateFunction:function(t,e){return"function("+e+"){"+this.varsPrefix(t)+this.body(t)+"};"},filterPrefix:function(){var t=[],e=this;return o(this.state.filters,function(n,r){t.push(n+"=$filter("+e.escape(r)+")")}),t.length?"var "+t.join(",")+";":""},varsPrefix:function(t){return this.state[t].vars.length?"var "+this.state[t].vars.join(",")+";":""},body:function(t){return this.state[t].body.join("")},recurse:function(t,e,n,r,i,a){var s,u,c,l,f,h=this;if(r=r||v,!a&&b(t.watchId))return e=e||this.nextId(),void this.if_("i",this.lazyAssign(e,this.computedMember("i",t.watchId)),this.lazyRecurse(t,e,n,r,i,!0));switch(t.type){case jo.Program:o(t.body,function(e,n){h.recurse(e.expression,void 0,void 0,function(t){u=t}),n!==t.body.length-1?h.current().body.push(u,";"):h.return_(u)});break;case jo.Literal:l=this.escape(t.value),this.assign(e,l),r(e||l);break;case jo.UnaryExpression:this.recurse(t.argument,void 0,void 0,function(t){u=t}),l=t.operator+"("+this.ifDefined(u,0)+")",this.assign(e,l),r(l);break;case jo.BinaryExpression:this.recurse(t.left,void 0,void 0,function(t){s=t}),this.recurse(t.right,void 0,void 0,function(t){u=t}),l="+"===t.operator?this.plus(s,u):"-"===t.operator?this.ifDefined(s,0)+t.operator+this.ifDefined(u,0):"("+s+")"+t.operator+"("+u+")",this.assign(e,l),r(l);break;case jo.LogicalExpression:e=e||this.nextId(),h.recurse(t.left,e),h.if_("&&"===t.operator?e:h.not(e),h.lazyRecurse(t.right,e)),r(e);break;case jo.ConditionalExpression:e=e||this.nextId(),h.recurse(t.test,e),h.if_(e,h.lazyRecurse(t.alternate,e),h.lazyRecurse(t.consequent,e)),r(e);break;case jo.Identifier:e=e||this.nextId(),n&&(n.context="inputs"===h.stage?"s":this.assign(this.nextId(),this.getHasOwnProperty("l",t.name)+"?l:s"),n.computed=!1,n.name=t.name),h.if_("inputs"===h.stage||h.not(h.getHasOwnProperty("l",t.name)),function(){h.if_("inputs"===h.stage||"s",function(){i&&1!==i&&h.if_(h.isNull(h.nonComputedMember("s",t.name)),h.lazyAssign(h.nonComputedMember("s",t.name),"{}")),h.assign(e,h.nonComputedMember("s",t.name))})},e&&h.lazyAssign(e,h.nonComputedMember("l",t.name))),r(e);break;case jo.MemberExpression:s=n&&(n.context=this.nextId())||this.nextId(),e=e||this.nextId(),h.recurse(t.object,s,void 0,function(){h.if_(h.notNull(s),function(){t.computed?(u=h.nextId(),h.recurse(t.property,u),h.getStringValue(u),i&&1!==i&&h.if_(h.not(h.computedMember(s,u)),h.lazyAssign(h.computedMember(s,u),"{}")),l=h.computedMember(s,u),h.assign(e,l),n&&(n.computed=!0,n.name=u)):(i&&1!==i&&h.if_(h.isNull(h.nonComputedMember(s,t.property.name)),h.lazyAssign(h.nonComputedMember(s,t.property.name),"{}")),l=h.nonComputedMember(s,t.property.name),h.assign(e,l),n&&(n.computed=!1,n.name=t.property.name))},function(){h.assign(e,"undefined")}),r(e)},!!i);break;case jo.CallExpression:e=e||this.nextId(),t.filter?(u=h.filter(t.callee.name),c=[],o(t.arguments,function(t){var e=h.nextId();h.recurse(t,e),c.push(e)}),l=u+"("+c.join(",")+")",h.assign(e,l),r(e)):(u=h.nextId(),s={},c=[],h.recurse(t.callee,u,s,function(){h.if_(h.notNull(u),function(){o(t.arguments,function(e){h.recurse(e,t.constant?void 0:h.nextId(),void 0,function(t){c.push(t)})}),l=s.name?h.member(s.context,s.name,s.computed)+"("+c.join(",")+")":u+"("+c.join(",")+")",h.assign(e,l)},function(){h.assign(e,"undefined")}),r(e)}));break;case jo.AssignmentExpression:u=this.nextId(),s={},this.recurse(t.left,void 0,s,function(){h.if_(h.notNull(s.context),function(){h.recurse(t.right,u),l=h.member(s.context,s.name,s.computed)+t.operator+u,h.assign(e,l),r(e||l)})},1);break;case jo.ArrayExpression:c=[],o(t.elements,function(e){h.recurse(e,t.constant?void 0:h.nextId(),void 0,function(t){c.push(t)})}),l="["+c.join(",")+"]",this.assign(e,l),r(e||l);break;case jo.ObjectExpression:c=[],f=!1,o(t.properties,function(t){t.computed&&(f=!0)}),f?(e=e||this.nextId(),this.assign(e,"{}"),o(t.properties,function(t){t.computed?(s=h.nextId(),h.recurse(t.key,s)):s=t.key.type===jo.Identifier?t.key.name:""+t.key.value,u=h.nextId(),h.recurse(t.value,u),h.assign(h.member(e,s,t.computed),u)})):(o(t.properties,function(e){h.recurse(e.value,t.constant?void 0:h.nextId(),void 0,function(t){c.push(h.escape(e.key.type===jo.Identifier?e.key.name:""+e.key.value)+":"+t)})}),l="{"+c.join(",")+"}",this.assign(e,l)),r(e||l);break;case jo.ThisExpression:this.assign(e,"s"),r(e||"s");break;case jo.LocalsExpression:this.assign(e,"l"),r(e||"l");break;case jo.NGValueParameter:this.assign(e,"v"),r(e||"v")}},getHasOwnProperty:function(t,e){var n=t+"."+e,r=this.current().own;return r.hasOwnProperty(n)||(r[n]=this.nextId(!1,t+"&&("+this.escape(e)+" in "+t+")")),r[n]},assign:function(t,e){if(t)return this.current().body.push(t,"=",e,";"),t},filter:function(t){return this.state.filters.hasOwnProperty(t)||(this.state.filters[t]=this.nextId(!0)),this.state.filters[t]},ifDefined:function(t,e){return"ifDefined("+t+","+this.escape(e)+")"},plus:function(t,e){return"plus("+t+","+e+")"},return_:function(t){this.current().body.push("return ",t,";")},if_:function(t,e,n){if(!0===t)e();else{var r=this.current().body;r.push("if(",t,"){"),e(),r.push("}"),n&&(r.push("else{"),n(),r.push("}"))}},not:function(t){return"!("+t+")"},isNull:function(t){return t+"==null"},notNull:function(t){return t+"!=null"},nonComputedMember:function(t,e){var n=/^[$_a-zA-Z][$_a-zA-Z0-9]*$/;return n.test(e)?t+"."+e:t+'["'+e.replace(/[^$_a-zA-Z0-9]/g,this.stringEscapeFn)+'"]'},computedMember:function(t,e){return t+"["+e+"]"},member:function(t,e,n){return n?this.computedMember(t,e):this.nonComputedMember(t,e)},getStringValue:function(t){this.assign(t,"getStringValue("+t+")")},lazyRecurse:function(t,e,n,r,i,o){var a=this;return function(){a.recurse(t,e,n,r,i,o)}},lazyAssign:function(t,e){var n=this;return function(){n.assign(t,e)}},stringEscapeRegex:/[^ a-zA-Z0-9]/g,stringEscapeFn:function(t){return"\\u"+("0000"+t.charCodeAt(0).toString(16)).slice(-4)},escape:function(t){if(C(t))return"'"+t.replace(this.stringEscapeRegex,this.stringEscapeFn)+"'";if(S(t))return t.toString();if(!0===t)return"true";if(!1===t)return"false";if(null===t)return"null";if(void 0===t)return"undefined";throw ko("esc","IMPOSSIBLE")},nextId:function(t,e){var n="v"+this.state.nextId++;return t||this.current().vars.push(n+(e?"="+e:"")),n},current:function(){return this.state[this.state.computing]}},$n.prototype={compile:function(t){var e=this;fn(t,e.$filter);var n,r;(n=dn(t))&&(r=this.recurse(n));var i,a=hn(t.body);a&&(i=[],o(a,function(t,n){var r=e.recurse(t);t.input=r,i.push(r),t.watchId=n}));var s=[];o(t.body,function(t){s.push(e.recurse(t.expression))});var u=0===t.body.length?v:1===t.body.length?s[0]:function(t,e){var n;return o(s,function(r){n=r(t,e)}),n};return r&&(u.assign=function(t,e,n){return r(t,n,e)}),i&&(u.inputs=i),u},recurse:function(t,e,n){var r,i,a,s=this;if(t.input)return this.inputs(t.input,t.watchId);switch(t.type){case jo.Literal:return this.value(t.value,e);case jo.UnaryExpression:return i=this.recurse(t.argument),this["unary"+t.operator](i,e);case jo.BinaryExpression:case jo.LogicalExpression:return r=this.recurse(t.left),i=this.recurse(t.right),this["binary"+t.operator](r,i,e);case jo.ConditionalExpression:return this["ternary?:"](this.recurse(t.test),this.recurse(t.alternate),this.recurse(t.consequent),e);case jo.Identifier:return s.identifier(t.name,e,n);case jo.MemberExpression:return r=this.recurse(t.object,!1,!!n),t.computed||(i=t.property.name),t.computed&&(i=this.recurse(t.property)),t.computed?this.computedMember(r,i,e,n):this.nonComputedMember(r,i,e,n);case jo.CallExpression:return a=[],o(t.arguments,function(t){a.push(s.recurse(t))}),t.filter&&(i=this.$filter(t.callee.name)),t.filter||(i=this.recurse(t.callee,!0)),t.filter?function(t,n,r,o){for(var s=[],u=0;u<a.length;++u)s.push(a[u](t,n,r,o));var c=i.apply(void 0,s,o);return e?{context:void 0,name:void 0,value:c}:c}:function(t,n,r,o){var s,u=i(t,n,r,o);if(null!=u.value){for(var c=[],l=0;l<a.length;++l)c.push(a[l](t,n,r,o));s=u.value.apply(u.context,c)}return e?{value:s}:s};case jo.AssignmentExpression:return r=this.recurse(t.left,!0,1),i=this.recurse(t.right),function(t,n,o,a){var s=r(t,n,o,a),u=i(t,n,o,a);return s.context[s.name]=u,e?{value:u}:u};case jo.ArrayExpression:return a=[],o(t.elements,function(t){a.push(s.recurse(t))}),function(t,n,r,i){for(var o=[],s=0;s<a.length;++s)o.push(a[s](t,n,r,i));return e?{value:o}:o};case jo.ObjectExpression:return a=[],o(t.properties,function(t){t.computed?a.push({key:s.recurse(t.key),computed:!0,value:s.recurse(t.value)}):a.push({key:t.key.type===jo.Identifier?t.key.name:""+t.key.value,computed:!1,value:s.recurse(t.value)})}),function(t,n,r,i){for(var o={},s=0;s<a.length;++s)a[s].computed?o[a[s].key(t,n,r,i)]=a[s].value(t,n,r,i):o[a[s].key]=a[s].value(t,n,r,i);return e?{value:o}:o};case jo.ThisExpression:return function(t){return e?{value:t}:t};case jo.LocalsExpression:return function(t,n){return e?{value:n}:n};case jo.NGValueParameter:return function(t,n,r){return e?{value:r}:r}}},"unary+":function(t,e){return function(n,r,i,o){var a=t(n,r,i,o);return a=b(a)?+a:0,e?{value:a}:a}},"unary-":function(t,e){return function(n,r,i,o){var a=t(n,r,i,o);return a=b(a)?-a:-0,e?{value:a}:a}},"unary!":function(t,e){return function(n,r,i,o){var a=!t(n,r,i,o);return e?{value:a}:a}},"binary+":function(t,e,n){return function(r,i,o,a){var s=t(r,i,o,a),u=e(r,i,o,a),c=cn(s,u);return n?{value:c}:c}},"binary-":function(t,e,n){return function(r,i,o,a){var s=t(r,i,o,a),u=e(r,i,o,a),c=(b(s)?s:0)-(b(u)?u:0);return n?{value:c}:c}},"binary*":function(t,e,n){return function(r,i,o,a){var s=t(r,i,o,a)*e(r,i,o,a);return n?{value:s}:s}},"binary/":function(t,e,n){return function(r,i,o,a){var s=t(r,i,o,a)/e(r,i,o,a);return n?{value:s}:s}},"binary%":function(t,e,n){return function(r,i,o,a){var s=t(r,i,o,a)%e(r,i,o,a);return n?{value:s}:s}},"binary===":function(t,e,n){return function(r,i,o,a){var s=t(r,i,o,a)===e(r,i,o,a);return n?{value:s}:s}},"binary!==":function(t,e,n){return function(r,i,o,a){var s=t(r,i,o,a)!==e(r,i,o,a);return n?{value:s}:s}},"binary==":function(t,e,n){return function(r,i,o,a){var s=t(r,i,o,a)==e(r,i,o,a);return n?{value:s}:s}},"binary!=":function(t,e,n){return function(r,i,o,a){var s=t(r,i,o,a)!=e(r,i,o,a);return n?{value:s}:s}},"binary<":function(t,e,n){return function(r,i,o,a){var s=t(r,i,o,a)<e(r,i,o,a);return n?{value:s}:s}},"binary>":function(t,e,n){return function(r,i,o,a){var s=t(r,i,o,a)>e(r,i,o,a);return n?{value:s}:s}},"binary<=":function(t,e,n){return function(r,i,o,a){var s=t(r,i,o,a)<=e(r,i,o,a);return n?{value:s}:s}},"binary>=":function(t,e,n){return function(r,i,o,a){var s=t(r,i,o,a)>=e(r,i,o,a);return n?{value:s}:s}},"binary&&":function(t,e,n){return function(r,i,o,a){var s=t(r,i,o,a)&&e(r,i,o,a);return n?{value:s}:s}},"binary||":function(t,e,n){return function(r,i,o,a){var s=t(r,i,o,a)||e(r,i,o,a);return n?{value:s}:s}},"ternary?:":function(t,e,n,r){return function(i,o,a,s){var u=t(i,o,a,s)?e(i,o,a,s):n(i,o,a,s);return r?{value:u}:u}},value:function(t,e){return function(){return e?{context:void 0,name:void 0,value:t}:t}},identifier:function(t,e,n){return function(r,i,o,a){var s=i&&t in i?i:r;n&&1!==n&&s&&null==s[t]&&(s[t]={});var u=s?s[t]:void 0;return e?{context:s,name:t,value:u}:u}},computedMember:function(t,e,n,r){return function(i,o,a,s){var u,c,l=t(i,o,a,s);return null!=l&&(u=e(i,o,a,s),u=sn(u),r&&1!==r&&l&&!l[u]&&(l[u]={}),c=l[u]),n?{context:l,name:u,value:c}:c}},nonComputedMember:function(t,e,n,r){return function(i,o,a,s){var u=t(i,o,a,s);r&&1!==r&&u&&null==u[e]&&(u[e]={});var c=null!=u?u[e]:void 0;return n?{context:u,name:e,value:c}:c}},inputs:function(t,e){return function(n,r,i,o){return o?o[e]:t(n,r,i)}}},yn.prototype={constructor:yn,parse:function(t){var e=this.ast.ast(t),n=this.astCompiler.compile(e);return n.literal=vn(e),n.constant=mn(e),n}};var Po=e("$sce"),No={HTML:"html",CSS:"css",URL:"url",RESOURCE_URL:"resourceUrl",JS:"js"},Io=/_([a-z])/g,Do=e("$compile"),Vo=t.document.createElement("a"),Mo=Vn(t.location.href);Hn.$inject=["$document"],Un.$inject=["$provide"];var qo=22,Ho=".",Lo="0";Gn.$inject=["$locale"],Jn.$inject=["$locale"];var Uo={yyyy:Zn("FullYear",4,0,!1,!0),yy:Zn("FullYear",2,0,!0,!0),y:Zn("FullYear",1,0,!1,!0),MMMM:tr("Month"),MMM:tr("Month",!0),MM:Zn("Month",2,1),M:Zn("Month",1,1),LLLL:tr("Month",!1,!0),dd:Zn("Date",2),d:Zn("Date",1),HH:Zn("Hours",2),H:Zn("Hours",1),hh:Zn("Hours",2,-12),h:Zn("Hours",1,-12),mm:Zn("Minutes",2),m:Zn("Minutes",1),ss:Zn("Seconds",2),s:Zn("Seconds",1),sss:Zn("Milliseconds",3),EEEE:tr("Day"),EEE:tr("Day",!0),a:or,Z:er,ww:ir(2),w:ir(1),G:ar,GG:ar,GGG:ar,GGGG:sr},Fo=/((?:[^yMLdHhmsaZEwG']+)|(?:'(?:[^']|'')*')|(?:E+|y+|M+|L+|d+|H+|h+|m+|s+|a|Z|G+|w+))([\s\S]*)/,Bo=/^-?\d+$/;ur.$inject=["$locale"];var Wo=g(Gr),zo=g(Jr);hr.$inject=["$parse"];var Go=g({restrict:"E",compile:function(t,e){if(!e.href&&!e.xlinkHref)return function(t,e){if("a"===e[0].nodeName.toLowerCase()){var n="[object SVGAnimatedString]"===ii.call(e.prop("href"))?"xlink:href":"href";e.on("click",function(t){e.attr(n)||t.preventDefault()})}}}}),Jo={};o(Hi,function(t,e){function n(t,n,i){t.$watch(i[r],function(t){i.$set(e,!!t)})}if("multiple"!==t){var r=we("ng-"+e),i=n;"checked"===t&&(i=function(t,e,i){i.ngModel!==i[r]&&n(t,e,i)}),Jo[r]=function(){return{restrict:"A",priority:100,link:i}}}}),o(Ui,function(t,e){Jo[e]=function(){return{priority:100,link:function(t,n,r){if("ngPattern"===e&&"/"===r.ngPattern.charAt(0)){var i=r.ngPattern.match(/^\/(.+)\/([a-z]*)$/);if(i)return void r.$set("ngPattern",new RegExp(i[1],i[2]))}t.$watch(r[e],function(t){r.$set(e,t)})}}}}),o(["src","srcset","href"],function(t){var e=we("ng-"+t);Jo[e]=function(){return{priority:99,link:function(n,r,i){var o=t,a=t;"href"===t&&"[object SVGAnimatedString]"===ii.call(r.prop("href"))&&(a="xlinkHref",i.$attr[a]="xlink:href",o=null),i.$observe(e,function(e){if(!e)return void("href"===t&&i.$set(a,null));i.$set(a,e),Yr&&o&&r.prop(o,i[a])})}}}});var Qo={$addControl:v,$$renameControl:dr,$removeControl:v,$setValidity:v,$setDirty:v,$setPristine:v,$setSubmitted:v},Ko="ng-pending";vr.$inject=["$element","$attrs","$scope","$animate","$interpolate"],vr.prototype={$rollbackViewValue:function(){o(this.$$controls,function(t){t.$rollbackViewValue()})},$commitViewValue:function(){o(this.$$controls,function(t){t.$commitViewValue()})},$addControl:function(t){dt(t.$name,"input"),this.$$controls.push(t),t.$name&&(this[t.$name]=t),t.$$parentForm=this},$$renameControl:function(t,e){var n=t.$name;this[n]===t&&delete this[n],this[e]=t,t.$name=e},$removeControl:function(t){t.$name&&this[t.$name]===t&&delete this[t.$name],o(this.$pending,function(e,n){this.$setValidity(n,null,t)},this),o(this.$error,function(e,n){this.$setValidity(n,null,t)},this),o(this.$$success,function(e,n){this.$setValidity(n,null,t)},this),L(this.$$controls,t),t.$$parentForm=Qo},$setDirty:function(){this.$$animate.removeClass(this.$$element,Ra),this.$$animate.addClass(this.$$element,ja),this.$dirty=!0,this.$pristine=!1,this.$$parentForm.$setDirty()},$setPristine:function(){this.$$animate.setClass(this.$$element,Ra,ja+" ng-submitted"),this.$dirty=!1,this.$pristine=!0,this.$submitted=!1,o(this.$$controls,function(t){t.$setPristine()})},$setUntouched:function(){o(this.$$controls,function(t){t.$setUntouched()})},$setSubmitted:function(){this.$$animate.addClass(this.$$element,"ng-submitted"),this.$submitted=!0,this.$$parentForm.$setSubmitted()}},gr({clazz:vr,set:function(t,e,n){var r=t[e];if(r){-1===r.indexOf(n)&&r.push(n)}else t[e]=[n]},unset:function(t,e,n){var r=t[e];r&&(L(r,n),0===r.length&&delete t[e])}});var Yo=function(t){return["$timeout","$parse",function(e,n){function r(t){return""===t?n('this[""]').assign:n(t).assign||v}return{name:"form",restrict:t?"EAC":"E",require:["form","^^?form"],controller:vr,compile:function(n,i){n.addClass(Ra).addClass(Oa);var o=i.name?"name":!(!t||!i.ngForm)&&"ngForm";return{pre:function(t,n,i,a){var s=a[0];if(!("action"in i)){var u=function(e){t.$apply(function(){s.$commitViewValue(),s.$setSubmitted()}),e.preventDefault()};n[0].addEventListener("submit",u),n.on("$destroy",function(){e(function(){n[0].removeEventListener("submit",u)},0,!1)})}(a[1]||s.$$parentForm).$addControl(s);var c=o?r(s.$name):v;o&&(c(t,s),i.$observe(o,function(e){s.$name!==e&&(c(t,void 0),s.$$parentForm.$$renameControl(s,e),(c=r(s.$name))(t,s))})),n.on("$destroy",function(){s.$$parentForm.$removeControl(s),c(t,void 0),f(s,Qo)})}}}}}]},Xo=Yo(),Zo=Yo(!0),ta=/^\d{4,}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+(?:[+-][0-2]\d:[0-5]\d|Z)$/,ea=/^[a-z][a-z\d.+-]*:\/*(?:[^:@]+(?::[^@]+)?@)?(?:[^\s:\/?#]+|\[[a-f\d:]+])(?::\d+)?(?:\/[^?#]*)?(?:\?[^#]*)?(?:#.*)?$/i,na=/^(?=.{1,254}$)(?=.{1,64}@)[-!#$%&'*+\/0-9=?A-Z^_`a-z{|}~]+(\.[-!#$%&'*+\/0-9=?A-Z^_`a-z{|}~]+)*@[A-Za-z0-9]([A-Za-z0-9-]{0,61}[A-Za-z0-9])?(\.[A-Za-z0-9]([A-Za-z0-9-]{0,61}[A-Za-z0-9])?)*$/,ra=/^\s*(-|\+)?(\d+|(\d*(\.\d*)))([eE][+-]?\d+)?\s*$/,ia=/^(\d{4,})-(\d\d)-(\d\d)T(\d\d):(\d\d)(?::(\d\d)(\.\d{1,3})?)?$/,oa=/^(\d{4,})-W(\d\d)$/,aa=/^(\d\d):(\d\d)(?::(\d\d)(\.\d{1,3})?)?$/,sa="keydown wheel mousedown",ua=gt();o("date,datetime-local,month,time,week".split(","),function(t){ua[t]=!0});var ca={text:br,date:Sr("date",/^(\d{4,})-(\d{2})-(\d{2})$/,Cr(/^(\d{4,})-(\d{2})-(\d{2})$/,["yyyy","MM","dd"]),"yyyy-MM-dd"),"datetime-local":Sr("datetimelocal",ia,Cr(ia,["yyyy","MM","dd","HH","mm","ss","sss"]),"yyyy-MM-ddTHH:mm:ss.sss"),time:Sr("time",aa,Cr(aa,["HH","mm","ss","sss"]),"HH:mm:ss.sss"),week:Sr("week",oa,xr,"yyyy-Www"),month:Sr("month",/^(\d{4,})-(\d\d)$/,Cr(/^(\d{4,})-(\d\d)$/,["yyyy","MM"]),"yyyy-MM"),number:Rr,url:Pr,email:Nr,radio:Ir,range:jr,checkbox:Vr,hidden:v,button:v,submit:v,reset:v,file:v},la=["$browser","$sniffer","$filter","$parse",function(t,e,n,r){return{restrict:"E",require:["?ngModel"],link:{pre:function(i,o,a,s){s[0]&&(ca[Gr(a.type)]||ca.text)(i,o,a,s[0],e,t,n,r)}}}}],fa=/^(true|false|\d+)$/,ha=function(){function t(t,e,n){var r=b(n)?n:9===Yr?"":null;t.prop("value",r),e.$set("value",n)}return{restrict:"A",priority:100,compile:function(e,n){return fa.test(n.ngValue)?function(e,n,r){t(n,r,e.$eval(r.ngValue))}:function(e,n,r){e.$watch(r.ngValue,function(e){t(n,r,e)})}}}},pa=["$compile",function(t){return{restrict:"AC",compile:function(e){return t.$$addBindingClass(e),function(e,n,r){t.$$addBindingInfo(n,r.ngBind),n=n[0],e.$watch(r.ngBind,function(t){n.textContent=$t(t)})}}}}],da=["$interpolate","$compile",function(t,e){return{compile:function(n){return e.$$addBindingClass(n),function(n,r,i){var o=t(r.attr(i.$attr.ngBindTemplate));e.$$addBindingInfo(r,o.expressions),r=r[0],i.$observe("ngBindTemplate",function(t){r.textContent=y(t)?"":t})}}}}],va=["$sce","$parse","$compile",function(t,e,n){return{restrict:"A",compile:function(r,i){var o=e(i.ngBindHtml),a=e(i.ngBindHtml,function(e){return t.valueOf(e)});return n.$$addBindingClass(r),function(e,r,i){n.$$addBindingInfo(r,i.ngBindHtml),e.$watch(a,function(){var n=o(e);r.html(t.getTrustedHtml(n)||"")})}}}}],ma=g({restrict:"A",require:"ngModel",link:function(t,e,n,r){r.$viewChangeListeners.push(function(){t.$eval(n.ngChange)})}}),ga=Mr("",!0),$a=Mr("Odd",0),ya=Mr("Even",1),ba=pr({compile:function(t,e){e.$set("ngCloak",void 0),t.removeClass("ng-cloak")}}),wa=[function(){return{restrict:"A",scope:!0,controller:"@",priority:500}}],xa={},Ca={blur:!0,focus:!0};o("click dblclick mousedown mouseup mouseover mouseout mousemove mouseenter mouseleave keydown keyup keypress submit focus blur copy cut paste".split(" "),function(t){var e=we("ng-"+t);xa[e]=["$parse","$rootScope",function(n,r){return{restrict:"A",compile:function(i,o){var a=n(o[e]);return function(e,n){n.on(t,function(n){var i=function(){a(e,{$event:n})};Ca[t]&&r.$$phase?e.$evalAsync(i):e.$apply(i)})}}}}]});var Sa=["$animate","$compile",function(t,e){return{multiElement:!0,transclude:"element",priority:600,terminal:!0,restrict:"A",$$tlb:!0,link:function(n,r,i,o,a){var s,u,c;n.$watch(i.ngIf,function(n){n?u||a(function(n,o){u=o,n[n.length++]=e.$$createComment("end ngIf",i.ngIf),s={clone:n},t.enter(n,r.parent(),r)}):(c&&(c.remove(),c=null),u&&(u.$destroy(),u=null),s&&(c=mt(s.clone),t.leave(c).done(function(t){!1!==t&&(c=null)}),s=null))})}}}],Ea=["$templateRequest","$anchorScroll","$animate",function(t,e,n){return{restrict:"ECA",priority:400,terminal:!0,transclude:"element",controller:si.noop,compile:function(r,i){var o=i.ngInclude||i.src,a=i.onload||"",s=i.autoscroll;return function(r,i,u,c,l){var f,h,p,d=0,v=function(){h&&(h.remove(),h=null),f&&(f.$destroy(),f=null),p&&(n.leave(p).done(function(t){!1!==t&&(h=null)}),h=p,p=null)};r.$watch(o,function(o){var u=function(t){!1===t||!b(s)||s&&!r.$eval(s)||e()},h=++d;o?(t(o,!0).then(function(t){if(!r.$$destroyed&&h===d){var e=r.$new();c.template=t;var s=l(e,function(t){v(),n.enter(t,null,i).done(u)});f=e,p=s,f.$emit("$includeContentLoaded",o),r.$eval(a)}},function(){r.$$destroyed||h===d&&(v(),r.$emit("$includeContentError",o))}),r.$emit("$includeContentRequested",o)):(v(),c.template=null)})}}}}],Ta=["$compile",function(e){return{restrict:"ECA",priority:-400,require:"ngInclude",link:function(n,r,i,o){if(ii.call(r[0]).match(/SVG/))return r.empty(),void e(_t(o.template,t.document).childNodes)(n,function(t){r.append(t)},{futureParentElement:r});r.html(o.template),e(r.contents())(n)}}}],ka=pr({priority:450,compile:function(){return{pre:function(t,e,n){t.$eval(n.ngInit)}}}}),Aa=function(){return{restrict:"A",priority:100,require:"ngModel",link:function(t,e,n,r){var i=n.ngList||", ",a="false"!==n.ngTrim,s=a?hi(i):i,u=function(t){if(!y(t)){var e=[];return t&&o(t.split(s),function(t){t&&e.push(a?hi(t):t)}),e}};r.$parsers.push(u),r.$formatters.push(function(t){if(li(t))return t.join(i)}),r.$isEmpty=function(t){return!t||!t.length}}}},Oa="ng-valid",_a="ng-invalid",Ra="ng-pristine",ja="ng-dirty",Pa=e("ngModel");qr.$inject=["$scope","$exceptionHandler","$attrs","$element","$parse","$animate","$timeout","$q","$interpolate"],qr.prototype={$$initGetterSetters:function(){if(this.$options.getOption("getterSetter")){var t=this.$$parse(this.$$attr.ngModel+"()"),e=this.$$parse(this.$$attr.ngModel+"($$$p)");this.$$ngModelGet=function(e){var n=this.$$parsedNgModel(e);return T(n)&&(n=t(e)),n},this.$$ngModelSet=function(t,n){T(this.$$parsedNgModel(t))?e(t,{$$$p:n}):this.$$parsedNgModelAssign(t,n)}}else if(!this.$$parsedNgModel.assign)throw Pa("nonassign","Expression '{0}' is non-assignable. Element: {1}",this.$$attr.ngModel,tt(this.$$element))},$render:v,$isEmpty:function(t){return y(t)||""===t||null===t||t!==t},$$updateEmptyClasses:function(t){this.$isEmpty(t)?(this.$$animate.removeClass(this.$$element,"ng-not-empty"),this.$$animate.addClass(this.$$element,"ng-empty")):(this.$$animate.removeClass(this.$$element,"ng-empty"),this.$$animate.addClass(this.$$element,"ng-not-empty"))},$setPristine:function(){this.$dirty=!1,this.$pristine=!0,this.$$animate.removeClass(this.$$element,ja),this.$$animate.addClass(this.$$element,Ra)},$setDirty:function(){this.$dirty=!0,this.$pristine=!1,this.$$animate.removeClass(this.$$element,Ra),this.$$animate.addClass(this.$$element,ja),this.$$parentForm.$setDirty()},$setUntouched:function(){this.$touched=!1,this.$untouched=!0,this.$$animate.setClass(this.$$element,"ng-untouched","ng-touched")},$setTouched:function(){this.$touched=!0,this.$untouched=!1,this.$$animate.setClass(this.$$element,"ng-touched","ng-untouched")},$rollbackViewValue:function(){this.$$timeout.cancel(this.$$pendingDebounce),this.$viewValue=this.$$lastCommittedViewValue,this.$render()},$validate:function(){if(!ci(this.$modelValue)){var t=this.$$lastCommittedViewValue,e=this.$$rawModelValue,n=this.$valid,r=this.$modelValue,i=this.$options.getOption("allowInvalid"),o=this;this.$$runValidators(e,t,function(t){i||n===t||(o.$modelValue=t?e:void 0,o.$modelValue!==r&&o.$$writeModelToScope())})}},$$runValidators:function(t,e,n){function r(t,e){a===s.$$currentValidationRunId&&s.$setValidity(t,e)}function i(t){a===s.$$currentValidationRunId&&n(t)}this.$$currentValidationRunId++;var a=this.$$currentValidationRunId,s=this;return function(){var t=s.$$parserName||"parse";return y(s.$$parserValid)?(r(t,null),!0):(s.$$parserValid||(o(s.$validators,function(t,e){r(e,null)}),o(s.$asyncValidators,function(t,e){r(e,null)})),r(t,s.$$parserValid),s.$$parserValid)}()&&function(){var n=!0;return o(s.$validators,function(i,o){var a=Boolean(i(t,e));n=n&&a,r(o,a)}),!!n||(o(s.$asyncValidators,function(t,e){r(e,null)}),!1)}()?void function(){var n=[],a=!0;o(s.$asyncValidators,function(i,o){var s=i(t,e);if(!N(s))throw Pa("nopromise","Expected asynchronous validator to return a promise but got '{0}' instead.",s);r(o,void 0),n.push(s.then(function(){r(o,!0)},function(){a=!1,r(o,!1)}))}),n.length?s.$$q.all(n).then(function(){i(a)},v):i(!0)}():void i(!1)},$commitViewValue:function(){var t=this.$viewValue;this.$$timeout.cancel(this.$$pendingDebounce),(this.$$lastCommittedViewValue!==t||""===t&&this.$$hasNativeValidators)&&(this.$$updateEmptyClasses(t),this.$$lastCommittedViewValue=t,this.$pristine&&this.$setDirty(),this.$$parseAndValidate())},$$parseAndValidate:function(){function t(){r.$modelValue!==o&&r.$$writeModelToScope()}var e=this.$$lastCommittedViewValue,n=e,r=this;if(this.$$parserValid=!y(n)||void 0,this.$$parserValid)for(var i=0;i<this.$parsers.length;i++)if(n=this.$parsers[i](n),y(n)){this.$$parserValid=!1;break}ci(this.$modelValue)&&(this.$modelValue=this.$$ngModelGet(this.$$scope));var o=this.$modelValue,a=this.$options.getOption("allowInvalid");this.$$rawModelValue=n,a&&(this.$modelValue=n,t()),this.$$runValidators(n,this.$$lastCommittedViewValue,function(e){a||(r.$modelValue=e?n:void 0,t())})},$$writeModelToScope:function(){this.$$ngModelSet(this.$$scope,this.$modelValue),o(this.$viewChangeListeners,function(t){try{t()}catch(t){this.$$exceptionHandler(t)}},this)},$setViewValue:function(t,e){this.$viewValue=t,this.$options.getOption("updateOnDefault")&&this.$$debounceViewValueCommit(e)},$$debounceViewValueCommit:function(t){var e=this.$options.getOption("debounce");S(e[t])?e=e[t]:S(e.default)&&(e=e.default),this.$$timeout.cancel(this.$$pendingDebounce);var n=this;e>0?this.$$pendingDebounce=this.$$timeout(function(){n.$commitViewValue()},e):this.$$scope.$root.$$phase?this.$commitViewValue():this.$$scope.$apply(function(){n.$commitViewValue()})},$overrideModelOptions:function(t){this.$options=this.$options.createChild(t)}},gr({clazz:qr,set:function(t,e){t[e]=!0},unset:function(t,e){delete t[e]}});var Na,Ia=["$rootScope",function(t){return{restrict:"A",require:["ngModel","^?form","^?ngModelOptions"],controller:qr,priority:1,compile:function(e){return e.addClass(Ra).addClass("ng-untouched").addClass(Oa),{pre:function(t,e,n,r){var i=r[0],o=r[1]||i.$$parentForm,a=r[2];a&&(i.$options=a.$options),i.$$initGetterSetters(),o.$addControl(i),n.$observe("name",function(t){i.$name!==t&&i.$$parentForm.$$renameControl(i,t)}),t.$on("$destroy",function(){i.$$parentForm.$removeControl(i)})},post:function(e,n,r,i){function o(){a.$setTouched()}var a=i[0];a.$options.getOption("updateOn")&&n.on(a.$options.getOption("updateOn"),function(t){a.$$debounceViewValueCommit(t&&t.type)}),n.on("blur",function(){a.$touched||(t.$$phase?e.$evalAsync(o):e.$apply(o))})}}}}}];Lr.prototype={getOption:function(t){return this.$$options[t]},createChild:function(t){var e=!1;return t=f({},t),o(t,function(n,r){"$inherit"===n?"*"===r?e=!0:(t[r]=this.$$options[r],"updateOn"===r&&(t.updateOnDefault=this.$$options.updateOnDefault)):"updateOn"===r&&(t.updateOnDefault=!1,t[r]=hi(n.replace(/(\s+|^)default(\s+|$)/,function(){return t.updateOnDefault=!0," "})))},this),e&&(delete t["*"],Ur(t,this.$$options)),Ur(t,Na.$$options),new Lr(t)}},Na=new Lr({updateOn:"",updateOnDefault:!0,debounce:0,getterSetter:!1,allowInvalid:!1,timezone:null});var Da=function(){function t(t,e){this.$$attrs=t,this.$$scope=e}return t.$inject=["$attrs","$scope"],t.prototype={$onInit:function(){var t=this.parentCtrl?this.parentCtrl.$options:Na,e=this.$$scope.$eval(this.$$attrs.ngModelOptions);this.$options=t.createChild(e)}},{restrict:"A",priority:10,require:{parentCtrl:"?^^ngModelOptions"},bindToController:!0,controller:t}},Va=pr({terminal:!0,priority:1e3}),Ma=e("ngOptions"),qa=/^\s*([\s\S]+?)(?:\s+as\s+([\s\S]+?))?(?:\s+group\s+by\s+([\s\S]+?))?(?:\s+disable\s+when\s+([\s\S]+?))?\s+for\s+(?:([$\w][$\w]*)|(?:\(\s*([$\w][$\w]*)\s*,\s*([$\w][$\w]*)\s*\)))\s+in\s+([\s\S]+?)(?:\s+track\s+by\s+([\s\S]+?))?$/,Ha=["$compile","$document","$parse",function(e,n,r){function a(t,e,n){function o(t,e,n,r,i){this.selectValue=t,this.viewValue=e,this.label=n,this.group=r,this.disabled=i}function a(t){var e;if(!c&&i(t))e=t;else{e=[];for(var n in t)t.hasOwnProperty(n)&&"$"!==n.charAt(0)&&e.push(n)}return e}var s=t.match(qa);if(!s)throw Ma("iexp","Expected expression in form of '_select_ (as _label_)? for (_key_,)?_value_ in _collection_' but got '{0}'. Element: {1}",t,tt(e));var u=s[5]||s[7],c=s[6],l=/ as /.test(s[0])&&s[1],f=s[9],h=r(s[2]?s[1]:u),p=l&&r(l),d=p||h,v=f&&r(f),m=f?function(t,e){return v(n,e)}:function(t){return ne(t)},g=function(t,e){return m(t,C(t,e))},$=r(s[2]||s[1]),y=r(s[3]||""),b=r(s[4]||""),w=r(s[8]),x={},C=c?function(t,e){return x[c]=e,x[u]=t,x}:function(t){return x[u]=t,x};return{trackBy:f,getTrackByValue:g,getWatchables:r(w,function(t){var e=[];t=t||[];for(var r=a(t),i=r.length,o=0;o<i;o++){var u=t===r?o:r[o],c=t[u],l=C(c,u),f=m(c,l);if(e.push(f),s[2]||s[1]){var h=$(n,l);e.push(h)}if(s[4]){var p=b(n,l);e.push(p)}}return e}),getOptions:function(){for(var t=[],e={},r=w(n)||[],i=a(r),s=i.length,u=0;u<s;u++){var c=r===i?u:i[u],l=r[c],h=C(l,c),p=d(n,h),v=m(p,h),x=$(n,h),S=y(n,h),E=b(n,h),T=new o(v,p,x,S,E);t.push(T),e[v]=T}return{items:t,selectValueMap:e,getOptionFromViewValue:function(t){return e[g(t)]},getViewValueFromOption:function(t){return f?U(t.viewValue):t.viewValue}}}}}function s(t,r,i,s){function l(t,e){var n=u.cloneNode(!1);e.appendChild(n),h(t,n)}function f(t){var e=x.getOptionFromViewValue(t),n=e&&e.element;return n&&!n.selected&&(n.selected=!0),e}function h(t,e){t.element=e,e.disabled=t.disabled,
t.label!==e.label&&(e.label=t.label,e.textContent=t.label),e.value=t.selectValue}function p(){var t=x&&d.readValue();if(x)for(var e=x.items.length-1;e>=0;e--){var n=x.items[e];Gt(b(n.group)?n.element.parentNode:n.element)}x=C.getOptions();var i={};if(w&&r.prepend(d.emptyOption),x.items.forEach(function(t){var e;b(t.group)?(e=i[t.group],e||(e=c.cloneNode(!1),S.appendChild(e),e.label=null===t.group?"null":t.group,i[t.group]=e),l(t,e)):l(t,S)}),r[0].appendChild(S),v.$render(),!v.$isEmpty(t)){var o=d.readValue();(C.trackBy||m?B(t,o):t===o)||(v.$setViewValue(o),v.$render())}}for(var d=s[0],v=s[1],m=i.multiple,g=0,$=r.children(),y=$.length;g<y;g++)if(""===$[g].value){d.hasEmptyOption=!0,d.emptyOption=$.eq(g);break}var w=!!d.emptyOption;Xr(u.cloneNode(!1)).val("?");var x,C=a(i.ngOptions,r,t),S=n[0].createDocumentFragment();d.generateUnknownOptionValue=function(t){return"?"},m?(d.writeValue=function(t){var e=t&&t.map(f)||[];x.items.forEach(function(t){t.element.selected&&!H(e,t)&&(t.element.selected=!1)})},d.readValue=function(){var t=r.val()||[],e=[];return o(t,function(t){var n=x.selectValueMap[t];n&&!n.disabled&&e.push(x.getViewValueFromOption(n))}),e},C.trackBy&&t.$watchCollection(function(){if(li(v.$viewValue))return v.$viewValue.map(function(t){return C.getTrackByValue(t)})},function(){v.$render()})):(d.writeValue=function(t){var e=x.selectValueMap[r.val()],n=x.getOptionFromViewValue(t);e&&e.element.removeAttribute("selected"),n?(r[0].value!==n.selectValue&&(d.removeUnknownOption(),d.unselectEmptyOption(),r[0].value=n.selectValue,n.element.selected=!0),n.element.setAttribute("selected","selected")):w?d.selectEmptyOption():d.unknownOption.parent().length?d.updateUnknownOption(t):d.renderUnknownOption(t)},d.readValue=function(){var t=x.selectValueMap[r.val()];return t&&!t.disabled?(d.unselectEmptyOption(),d.removeUnknownOption(),x.getViewValueFromOption(t)):null},C.trackBy&&t.$watch(function(){return C.getTrackByValue(v.$viewValue)},function(){v.$render()})),w&&(d.emptyOption.remove(),e(d.emptyOption)(t),d.emptyOption[0].nodeType===Ci?(d.hasEmptyOption=!1,d.registerOption=function(t,e){""===e.val()&&(d.hasEmptyOption=!0,d.emptyOption=e,d.emptyOption.removeClass("ng-scope"),v.$render(),e.on("$destroy",function(){d.hasEmptyOption=!1,d.emptyOption=void 0}))}):d.emptyOption.removeClass("ng-scope")),r.empty(),p(),t.$watchCollection(C.getWatchables,p)}var u=t.document.createElement("option"),c=t.document.createElement("optgroup");return{restrict:"A",terminal:!0,require:["select","ngModel"],link:{pre:function(t,e,n,r){r[0].registerOption=v},post:s}}}],La=["$locale","$interpolate","$log",function(t,e,n){var r=/^when(Minus)?(.+)$/;return{link:function(i,a,s){function u(t){a.text(t||"")}var c,l=s.count,f=s.$attr.when&&a.attr(s.$attr.when),h=s.offset||0,p=i.$eval(f)||{},d={},m=e.startSymbol(),g=e.endSymbol(),$=m+l+"-"+h+g,b=si.noop;o(s,function(t,e){var n=r.exec(e);if(n){var i=(n[1]?"-":"")+Gr(n[2]);p[i]=a.attr(s.$attr[e])}}),o(p,function(t,n){d[n]=e(t.replace(/{}/g,$))}),i.$watch(l,function(e){var r=parseFloat(e),o=ci(r);if(o||r in p||(r=t.pluralCat(r-h)),!(r===c||o&&ci(c))){b();var a=d[r];y(a)?(null!=e&&n.debug("ngPluralize: no rule defined for '"+r+"' in "+f),b=v,u()):b=i.$watch(a,u),c=r}})}}}],Ua=["$parse","$animate","$compile",function(t,n,r){var a=e("ngRepeat"),s=function(t,e,n,r,i,o,a){t[n]=r,i&&(t[i]=o),t.$index=e,t.$first=0===e,t.$last=e===a-1,t.$middle=!(t.$first||t.$last),t.$odd=!(t.$even=0==(1&e))},u=function(t){return t.clone[0]},c=function(t){return t.clone[t.clone.length-1]};return{restrict:"A",multiElement:!0,transclude:"element",priority:1e3,terminal:!0,$$tlb:!0,compile:function(e,l){var f=l.ngRepeat,h=r.$$createComment("end ngRepeat",f),p=f.match(/^\s*([\s\S]+?)\s+in\s+([\s\S]+?)(?:\s+as\s+([\s\S]+?))?(?:\s+track\s+by\s+([\s\S]+?))?\s*$/);if(!p)throw a("iexp","Expected expression in form of '_item_ in _collection_[ track by _id_]' but got '{0}'.",f);var d=p[1],v=p[2],m=p[3],g=p[4];if(!(p=d.match(/^(?:(\s*[$\w]+)|\(\s*([$\w]+)\s*,\s*([$\w]+)\s*\))$/)))throw a("iidexp","'_item_' in '_item_ in _collection_' should be an identifier or '(_key_, _value_)' expression, but got '{0}'.",d);var $=p[3]||p[1],y=p[2];if(m&&(!/^[$a-zA-Z_][$a-zA-Z0-9_]*$/.test(m)||/^(null|undefined|this|\$index|\$first|\$middle|\$last|\$even|\$odd|\$parent|\$root|\$id)$/.test(m)))throw a("badident","alias '{0}' is invalid --- must be a valid JS identifier which is not a reserved name.",m);var b,w,x,C,S={$id:ne};return g?b=t(g):(x=function(t,e){return ne(e)},C=function(t){return t}),function(t,e,r,l,p){b&&(w=function(e,n,r){return y&&(S[y]=e),S[$]=n,S.$index=r,b(t,S)});var d=gt();t.$watchCollection(v,function(r){var l,v,g,b,S,E,T,k,A,O,_,R,j=e[0],P=gt();if(m&&(t[m]=r),i(r))A=r,k=w||x;else{k=w||C,A=[];for(var N in r)Wr.call(r,N)&&"$"!==N.charAt(0)&&A.push(N)}for(b=A.length,_=new Array(b),l=0;l<b;l++)if(S=r===A?l:A[l],E=r[S],T=k(S,E,l),d[T])O=d[T],delete d[T],P[T]=O,_[l]=O;else{if(P[T])throw o(_,function(t){t&&t.scope&&(d[t.id]=t)}),a("dupes","Duplicates in a repeater are not allowed. Use 'track by' expression to specify unique keys. Repeater: {0}, Duplicate key: {1}, Duplicate value: {2}",f,T,E);_[l]={id:T,scope:void 0,clone:void 0},P[T]=!0}for(var I in d){if(O=d[I],R=mt(O.clone),n.leave(R),R[0].parentNode)for(l=0,v=R.length;l<v;l++)R[l].$$NG_REMOVED=!0;O.scope.$destroy()}for(l=0;l<b;l++)if(S=r===A?l:A[l],E=r[S],O=_[l],O.scope){g=j;do{g=g.nextSibling}while(g&&g.$$NG_REMOVED);u(O)!==g&&n.move(mt(O.clone),null,j),j=c(O),s(O.scope,l,$,E,y,S,b)}else p(function(t,e){O.scope=e;var r=h.cloneNode(!1);t[t.length++]=r,n.enter(t,null,j),j=r,O.clone=t,P[O.id]=O,s(O.scope,l,$,E,y,S,b)});d=P})}}}}],Fa=["$animate",function(t){return{restrict:"A",multiElement:!0,link:function(e,n,r){e.$watch(r.ngShow,function(e){t[e?"removeClass":"addClass"](n,"ng-hide",{tempClasses:"ng-hide-animate"})})}}}],Ba=["$animate",function(t){return{restrict:"A",multiElement:!0,link:function(e,n,r){e.$watch(r.ngHide,function(e){t[e?"addClass":"removeClass"](n,"ng-hide",{tempClasses:"ng-hide-animate"})})}}}],Wa=pr(function(t,e,n){t.$watch(n.ngStyle,function(t,n){n&&t!==n&&o(n,function(t,n){e.css(n,"")}),t&&e.css(t)},!0)}),za=["$animate","$compile",function(t,e){return{require:"ngSwitch",controller:["$scope",function(){this.cases={}}],link:function(n,r,i,a){var s=i.ngSwitch||i.on,u=[],c=[],l=[],f=[],h=function(t,e){return function(n){!1!==n&&t.splice(e,1)}};n.$watch(s,function(n){for(var r,i;l.length;)t.cancel(l.pop());for(r=0,i=f.length;r<i;++r){var s=mt(c[r].clone);f[r].$destroy();(l[r]=t.leave(s)).done(h(l,r))}c.length=0,f.length=0,(u=a.cases["!"+n]||a.cases["?"])&&o(u,function(n){n.transclude(function(r,i){f.push(i);var o=n.element;r[r.length++]=e.$$createComment("end ngSwitchWhen");var a={clone:r};c.push(a),t.enter(r,o.parent(),o)})})})}}}],Ga=pr({transclude:"element",priority:1200,require:"^ngSwitch",multiElement:!0,link:function(t,e,n,r,i){o(n.ngSwitchWhen.split(n.ngSwitchWhenSeparator).sort().filter(function(t,e,n){return n[e-1]!==t}),function(t){r.cases["!"+t]=r.cases["!"+t]||[],r.cases["!"+t].push({transclude:i,element:e})})}}),Ja=pr({transclude:"element",priority:1200,require:"^ngSwitch",multiElement:!0,link:function(t,e,n,r,i){r.cases["?"]=r.cases["?"]||[],r.cases["?"].push({transclude:i,element:e})}}),Qa=e("ngTransclude"),Ka=["$compile",function(t){return{restrict:"EAC",terminal:!0,compile:function(e){var n=t(e.contents());return e.empty(),function(t,e,r,i,o){function a(t,n){t.length&&u(t)?e.append(t):(s(),n.$destroy())}function s(){n(t,function(t){e.append(t)})}function u(t){for(var e=0,n=t.length;e<n;e++){var r=t[e];if(r.nodeType!==xi||r.nodeValue.trim())return!0}}if(!o)throw Qa("orphan","Illegal use of ngTransclude directive in the template! No parent directive that requires a transclusion found. Element: {0}",tt(e));r.ngTransclude===r.$attr.ngTransclude&&(r.ngTransclude="");var c=r.ngTransclude||r.ngTranscludeSlot;o(a,null,c),c&&!o.isSlotFilled(c)&&s()}}}}],Ya=["$templateCache",function(t){return{restrict:"E",terminal:!0,compile:function(e,n){if("text/ng-template"===n.type){var r=n.id,i=e[0].text;t.put(r,i)}}}}],Xa={$setViewValue:v,$render:v},Za=["$element","$scope",function(e,n){function r(){s||(s=!0,n.$$postDigest(function(){s=!1,o.ngModelCtrl.$render()}))}function i(t){u||(u=!0,n.$$postDigest(function(){n.$$destroyed||(u=!1,o.ngModelCtrl.$setViewValue(o.readValue()),t&&o.ngModelCtrl.$render())}))}var o=this,a=new Bi;o.selectValueMap={},o.ngModelCtrl=Xa,o.multiple=!1,o.unknownOption=Xr(t.document.createElement("option")),o.hasEmptyOption=!1,o.emptyOption=void 0,o.renderUnknownOption=function(t){var n=o.generateUnknownOptionValue(t);o.unknownOption.val(n),e.prepend(o.unknownOption),Fr(o.unknownOption,!0),e.val(n)},o.updateUnknownOption=function(t){var n=o.generateUnknownOptionValue(t);o.unknownOption.val(n),Fr(o.unknownOption,!0),e.val(n)},o.generateUnknownOptionValue=function(t){return"? "+ne(t)+" ?"},o.removeUnknownOption=function(){o.unknownOption.parent()&&o.unknownOption.remove()},o.selectEmptyOption=function(){o.emptyOption&&(e.val(""),Fr(o.emptyOption,!0))},o.unselectEmptyOption=function(){o.hasEmptyOption&&o.emptyOption.removeAttr("selected")},n.$on("$destroy",function(){o.renderUnknownOption=v}),o.readValue=function(){var t=e.val(),n=t in o.selectValueMap?o.selectValueMap[t]:t;return o.hasOption(n)?n:null},o.writeValue=function(t){var n=e[0].options[e[0].selectedIndex];if(n&&Fr(Xr(n),!1),o.hasOption(t)){o.removeUnknownOption();var r=ne(t);e.val(r in o.selectValueMap?r:t);var i=e[0].options[e[0].selectedIndex];Fr(Xr(i),!0)}else null==t&&o.emptyOption?(o.removeUnknownOption(),o.selectEmptyOption()):o.unknownOption.parent().length?o.updateUnknownOption(t):o.renderUnknownOption(t)},o.addOption=function(t,e){if(e[0].nodeType!==Ci){dt(t,'"option value"'),""===t&&(o.hasEmptyOption=!0,o.emptyOption=e);var n=a.get(t)||0;a.set(t,n+1),r()}},o.removeOption=function(t){var e=a.get(t);e&&(1===e?(a.delete(t),""===t&&(o.hasEmptyOption=!1,o.emptyOption=void 0)):a.set(t,e-1))},o.hasOption=function(t){return!!a.get(t)};var s=!1,u=!1;o.registerOption=function(t,e,n,a,s){if(n.$attr.ngValue){var u,c=NaN;n.$observe("value",function(t){var n,r=e.prop("selected");b(c)&&(o.removeOption(u),delete o.selectValueMap[c],n=!0),c=ne(t),u=t,o.selectValueMap[c]=t,o.addOption(t,e),e.attr("value",c),n&&r&&i()})}else a?n.$observe("value",function(t){o.readValue();var n,r=e.prop("selected");b(u)&&(o.removeOption(u),n=!0),u=t,o.addOption(t,e),n&&r&&i()}):s?t.$watch(s,function(t,r){n.$set("value",t);var a=e.prop("selected");r!==t&&o.removeOption(r),o.addOption(t,e),r&&a&&i()}):o.addOption(n.value,e);n.$observe("disabled",function(t){("true"===t||t&&e.prop("selected"))&&(o.multiple?i(!0):(o.ngModelCtrl.$setViewValue(null),o.ngModelCtrl.$render()))}),e.on("$destroy",function(){var t=o.readValue(),e=n.value;o.removeOption(e),r(),(o.multiple&&t&&-1!==t.indexOf(e)||t===e)&&i(!0)})}}],ts=function(){function t(t,e,n,r){var i=r[0],a=r[1];if(!a)return void(i.registerOption=v);if(i.ngModelCtrl=a,e.on("change",function(){i.removeUnknownOption(),t.$apply(function(){a.$setViewValue(i.readValue())})}),n.multiple){i.multiple=!0,i.readValue=function(){var t=[];return o(e.find("option"),function(e){if(e.selected&&!e.disabled){var n=e.value;t.push(n in i.selectValueMap?i.selectValueMap[n]:n)}}),t},i.writeValue=function(t){o(e.find("option"),function(e){var n=!!t&&(H(t,e.value)||H(t,i.selectValueMap[e.value]));n!==e.selected&&Fr(Xr(e),n)})};var s,u=NaN;t.$watch(function(){u!==a.$viewValue||B(s,a.$viewValue)||(s=bt(a.$viewValue),a.$render()),u=a.$viewValue}),a.$isEmpty=function(t){return!t||0===t.length}}}function e(t,e,n,r){var i=r[1];if(i){var o=r[0];i.$render=function(){o.writeValue(i.$viewValue)}}}return{restrict:"E",require:["select","?ngModel"],controller:Za,priority:1,link:{pre:t,post:e}}},es=["$interpolate",function(t){return{restrict:"E",priority:100,compile:function(e,n){var r,i;return b(n.ngValue)||(b(n.value)?r=t(n.value,!0):(i=t(e.text(),!0))||n.$set("value",e.text())),function(t,e,n){var o=e.parent(),a=o.data("$selectController")||o.parent().data("$selectController");a&&a.registerOption(t,e,n,r,i)}}}}],ns=function(){return{restrict:"A",require:"?ngModel",link:function(t,e,n,r){r&&(n.required=!0,r.$validators.required=function(t,e){return!n.required||!r.$isEmpty(e)},n.$observe("required",function(){r.$validate()}))}}},rs=function(){return{restrict:"A",require:"?ngModel",link:function(t,n,r,i){if(i){var o,a=r.ngPattern||r.pattern;r.$observe("pattern",function(t){if(C(t)&&t.length>0&&(t=new RegExp("^"+t+"$")),t&&!t.test)throw e("ngPattern")("noregexp","Expected {0} to be a RegExp but was {1}. Element: {2}",a,t,tt(n));o=t||void 0,i.$validate()}),i.$validators.pattern=function(t,e){return i.$isEmpty(e)||y(o)||o.test(e)}}}}},is=function(){return{restrict:"A",require:"?ngModel",link:function(t,e,n,r){if(r){var i=-1;n.$observe("maxlength",function(t){var e=p(t);i=ci(e)?-1:e,r.$validate()}),r.$validators.maxlength=function(t,e){return i<0||r.$isEmpty(e)||e.length<=i}}}}},os=function(){return{restrict:"A",require:"?ngModel",link:function(t,e,n,r){if(r){var i=0;n.$observe("minlength",function(t){i=p(t)||0,r.$validate()}),r.$validators.minlength=function(t,e){return r.$isEmpty(e)||e.length>=i}}}}};if(t.angular.bootstrap)return void(t.console&&console.log("WARNING: Tried to load angular more than once."));!function(){var e;if(!bi){var n=vi();Zr=y(n)?t.jQuery:n?t[n]:void 0,Zr&&Zr.fn.on?(Xr=Zr,f(Zr.fn,{scope:qi.scope,isolateScope:qi.isolateScope,controller:qi.controller,injector:qi.injector,inheritedData:qi.inheritedData}),e=Zr.cleanData,Zr.cleanData=function(t){for(var n,r,i=0;null!=(r=t[i]);i++)(n=Zr._data(r,"events"))&&n.$destroy&&Zr(r).triggerHandler("$destroy");e(t)}):Xr=Pt,si.element=Xr,bi=!0}}(),function(r){f(r,{errorHandlingConfig:n,bootstrap:ut,copy:U,extend:f,merge:h,equals:B,element:Xr,forEach:o,injector:ue,noop:v,bind:G,toJson:Q,fromJson:K,identity:m,isUndefined:y,isDefined:b,isString:C,isFunction:T,isObject:w,isNumber:S,isElement:V,isArray:li,version:Ti,isDate:E,lowercase:Gr,uppercase:Jr,callbacks:{$$counter:0},getTestability:lt,reloadWithDebugInfo:ct,$$minErr:e,$$csp:di,$$encodeUriSegment:it,$$encodeUriQuery:ot,$$stringify:$t}),ti=yt(t),ti("ng",["ngLocale"],["$provide",function(t){t.provider({$$sanitizeUri:kn}),t.provider("$compile",ye).directive({a:Go,input:la,textarea:la,form:Xo,script:Ya,select:ts,option:es,ngBind:pa,ngBindHtml:va,ngBindTemplate:da,ngClass:ga,ngClassEven:ya,ngClassOdd:$a,ngCloak:ba,ngController:wa,ngForm:Zo,ngHide:Ba,ngIf:Sa,ngInclude:Ea,ngInit:ka,ngNonBindable:Va,ngPluralize:La,ngRepeat:Ua,ngShow:Fa,ngStyle:Wa,ngSwitch:za,ngSwitchWhen:Ga,ngSwitchDefault:Ja,ngOptions:Ha,ngTransclude:Ka,ngModel:Ia,ngList:Aa,ngChange:ma,pattern:rs,ngPattern:rs,required:ns,ngRequired:ns,minlength:os,ngMinlength:os,maxlength:is,ngMaxlength:is,ngValue:ha,ngModelOptions:Da}).directive({ngInclude:Ta}).directive(Jo).directive(xa),t.provider({$anchorScroll:ce,$animate:no,$animateCss:oo,$$animateJs:to,$$animateQueue:eo,$$AnimateRunner:io,$$animateAsyncRun:ro,$browser:ve,$cacheFactory:me,$controller:Ee,$document:Te,$$isDocumentHidden:ke,$exceptionHandler:Ae,$filter:Un,$$forceReflow:ho,$interpolate:Ue,$interval:Fe,$http:Me,$httpParamSerializer:_e,$httpParamSerializerJQLike:Re,$httpBackend:He,$xhrFactory:qe,$jsonpCallbacks:wo,$location:on,$log:an,$parse:wn,$rootScope:Tn,$q:xn,$$q:Cn,$sce:jn,$sceDelegate:Rn,$sniffer:Pn,$templateCache:ge,$templateRequest:Nn,$$testability:In,$timeout:Dn,$window:qn,$$rAF:En,$$jqLite:ee,$$Map:Wi,$$cookieReader:Ln})}]).info({angularVersion:"1.6.4"})}(si),si.module("ngLocale",[],["$provide",function(t){function e(t){t+="";var e=t.indexOf(".");return-1==e?0:t.length-e-1}function n(t,n){var r=n;void 0===r&&(r=Math.min(e(t),3));var i=Math.pow(10,r);return{v:r,f:(t*i|0)%i}}var r={ZERO:"zero",ONE:"one",TWO:"two",FEW:"few",MANY:"many",OTHER:"other"};t.value("$locale",{DATETIME_FORMATS:{AMPMS:["AM","PM"],DAY:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],ERANAMES:["Before Christ","Anno Domini"],ERAS:["BC","AD"],FIRSTDAYOFWEEK:6,MONTH:["January","February","March","April","May","June","July","August","September","October","November","December"],SHORTDAY:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],SHORTMONTH:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],STANDALONEMONTH:["January","February","March","April","May","June","July","August","September","October","November","December"],WEEKENDRANGE:[5,6],fullDate:"EEEE, MMMM d, y",longDate:"MMMM d, y",medium:"MMM d, y h:mm:ss a",mediumDate:"MMM d, y",mediumTime:"h:mm:ss a",short:"M/d/yy h:mm a",shortDate:"M/d/yy",shortTime:"h:mm a"},NUMBER_FORMATS:{CURRENCY_SYM:"$",DECIMAL_SEP:".",GROUP_SEP:",",PATTERNS:[{gSize:3,lgSize:3,maxFrac:3,minFrac:0,minInt:1,negPre:"-",negSuf:"",posPre:"",posSuf:""},{gSize:3,lgSize:3,maxFrac:2,minFrac:2,minInt:1,negPre:"-",negSuf:"",posPre:"",posSuf:""}]},id:"en-us",localeID:"en_US",pluralCat:function(t,e){var i=0|t,o=n(t,e);return 1==i&&0==o.v?r.ONE:r.OTHER}})}]),Xr(function(){st(t.document,ut)})}(window),!window.angular.$$csp().noInlineStyle&&window.angular.element(document.head).prepend('<style type="text/css">@charset "UTF-8";[ng\\:cloak],[ng-cloak],[data-ng-cloak],[x-ng-cloak],.ng-cloak,.x-ng-cloak,.ng-hide:not(.ng-hide-animate){display:none !important;}ng\\:form{display:block;}.ng-animate-shim{visibility:hidden;}.ng-anchor{position:absolute;}</style>'),function(){angular.module("angular-jwt",["angular-jwt.options","angular-jwt.interceptor","angular-jwt.jwt","angular-jwt.authManager"]),angular.module("angular-jwt.authManager",[]).provider("authManager",function(){this.$get=["$rootScope","$injector","$location","jwtHelper","jwtInterceptor","jwtOptions",function(t,e,n,r,i,o){function a(t){return Array.isArray(t)?e.invoke(t,this,{options:null}):t()}function s(t){if(Array.isArray(t)||angular.isFunction(t))return e.invoke(t,d,{});throw new Error("unauthenticatedRedirector must be a function")}function u(){var t=a(d.tokenGetter);if(t)return!r.isTokenExpired(t)}function c(){t.isAuthenticated=!0}function l(){t.isAuthenticated=!1}function f(){t.$on("$locationChangeStart",function(){var e=a(d.tokenGetter);e&&(r.isTokenExpired(e)?t.$broadcast("tokenHasExpired",e):c())})}function h(){t.$on("unauthenticated",function(){s(d.unauthenticatedRedirector),l()})}function p(t,e){if(!e)return!1;var n=e.$$route?e.$$route:e.data;if(n&&!0===n.requiresLogin){var i=a(d.tokenGetter);i&&!r.isTokenExpired(i)||(t.preventDefault(),s(d.unauthenticatedRedirector))}}var d=o.getConfig();t.isAuthenticated=!1;var v=e.has("$state")?"$stateChangeStart":"$routeChangeStart";return t.$on(v,p),{authenticate:c,unauthenticate:l,getToken:function(){return a(d.tokenGetter)},redirect:function(){return s(d.unauthenticatedRedirector)},checkAuthOnRefresh:f,redirectWhenUnauthenticated:h,isAuthenticated:u}}]}),angular.module("angular-jwt.interceptor",[]).provider("jwtInterceptor",function(){this.urlParam,this.authHeader,this.authPrefix,this.whiteListedDomains,this.tokenGetter;var t=this;this.$get=["$q","$injector","$rootScope","urlUtils","jwtOptions",function(e,n,r,i,o){function a(t){if(!i.isSameOrigin(t)&&!s.whiteListedDomains.length)throw new Error("As of v0.1.0, requests to domains other than the application's origin must be white listed. Use jwtOptionsProvider.config({ whiteListedDomains: [<domain>] }); to whitelist.");for(var e=i.urlResolve(t).hostname.toLowerCase(),n=0;n<s.whiteListedDomains.length;n++){var r=s.whiteListedDomains[n],o=r instanceof RegExp?r:new RegExp(r,"i");if(e.match(o))return!0}return!!i.isSameOrigin(t)}var s=angular.extend({},o.getConfig(),t);return{request:function(t){if(t.skipAuthorization||!a(t.url))return t;if(s.urlParam){if(t.params=t.params||{},t.params[s.urlParam])return t}else if(t.headers=t.headers||{},t.headers[s.authHeader])return t;return e.when(n.invoke(s.tokenGetter,this,{options:t})).then(function(e){return e&&(s.urlParam?t.params[s.urlParam]=e:t.headers[s.authHeader]=s.authPrefix+e),t})},responseError:function(t){return 401===t.status&&r.$broadcast("unauthenticated",t),e.reject(t)}}}]}),angular.module("angular-jwt.jwt",[]).service("jwtHelper",["$window",function(t){this.urlBase64Decode=function(e){var n=e.replace(/-/g,"+").replace(/_/g,"/");switch(n.length%4){case 0:break;case 2:n+="==";break;case 3:n+="=";break;default:throw"Illegal base64url string!"}return t.decodeURIComponent(escape(t.atob(n)))},this.decodeToken=function(t){var e=t.split(".");if(3!==e.length)throw new Error("JWT must have 3 parts");var n=this.urlBase64Decode(e[1]);if(!n)throw new Error("Cannot decode the token");return angular.fromJson(n)},this.getTokenExpirationDate=function(t){var e=this.decodeToken(t);if(void 0===e.exp)return null;var n=new Date(0);return n.setUTCSeconds(e.exp),n},this.isTokenExpired=function(t,e){var n=this.getTokenExpirationDate(t);return e=e||0,null!==n&&!(n.valueOf()>(new Date).valueOf()+1e3*e)}}]),angular.module("angular-jwt.options",[]).provider("jwtOptions",function(){var t={};this.config=function(e){t=e},this.$get=function(){function e(){this.config=angular.extend({},n,t)}var n={urlParam:null,authHeader:"Authorization",authPrefix:"Bearer ",whiteListedDomains:[],tokenGetter:function(){return null},loginPath:"/",unauthenticatedRedirectPath:"/",unauthenticatedRedirector:["$location",function(t){t.path(this.unauthenticatedRedirectPath)}]};return e.prototype.getConfig=function(){return this.config},new e}}),angular.module("angular-jwt.interceptor").service("urlUtils",function(){function t(t){var e=t;return n.setAttribute("href",e),e=n.href,n.setAttribute("href",e),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:"/"===n.pathname.charAt(0)?n.pathname:"/"+n.pathname}}function e(e){var n=angular.isString(e)?t(e):e;return n.protocol===r.protocol&&n.host===r.host}var n=document.createElement("a"),r=t(window.location.href);return{urlResolve:t,isSameOrigin:e}})}(),function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports,require("angular")):"function"==typeof define&&define.amd?define(["exports","angular"],e):e(t["@uirouter/angularjs"]=t["@uirouter/angularjs"]||{},t.angular)}(this,function(t,e){"use strict";function n(t){function e(n){return n.length>=r?t.apply(null,n):function(){return e(n.concat([].slice.apply(arguments)))}}var n=[].slice.apply(arguments,[1]),r=t.length;return e(n)}function r(){var t=arguments,e=t.length-1;return function(){for(var n=e,r=t[e].apply(this,arguments);n--;)r=t[n].call(this,r);return r}}function i(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return r.apply(null,[].slice.call(arguments).reverse())}function o(t,e){return function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return t.apply(null,n)&&e.apply(null,n)}}function a(t,e){return function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return t.apply(null,n)||e.apply(null,n)}}function s(t,e){return function(n){return n[t].apply(n,e)}}function u(t){return function(e){for(var n=0;n<t.length;n++)if(t[n][0](e))return t[n][1](e)}}function c(t){if(te(t)&&t.length){var e=t.slice(0,-1),n=t.slice(-1);return!(e.filter(Dt(Xt)).length||n.filter(Dt(Kt)).length)}return Kt(t)}function l(t){return t}function f(){}function h(t,e,n,r,i){void 0===i&&(i=!1);var o=function(e){return t()[e].bind(n())},a=function(t){return function(){return e[t]=o(t),e[t].apply(null,arguments)}};return r=r||Object.keys(t()),r.reduce(function(t,e){return t[e]=i?a(e):o(e),t},e)}function p(t,e){return-1!==t.indexOf(e)}function d(t,e){var n=t.indexOf(e);return n>=0&&t.splice(n,1),t}function v(t,e){return t.push(e),e}function m(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var r=e.concat({}).reverse(),i=pe.apply(null,r);return pe({},i,$(t||{},Object.keys(i)))}function g(t,e){var n=[];for(var r in t.path){if(t.path[r]!==e.path[r])break;n.push(t.path[r])}return n}function $(t,e){var n={};for(var r in t)-1!==e.indexOf(r)&&(n[r]=t[r]);return n}function y(t,e){return Object.keys(t).filter(Dt(me(e))).reduce(function(e,n){return e[n]=t[n],e},{})}function b(t,e){return C(t,Pt(e))}function w(t,e){var n=te(t),r=n?[]:{},i=n?function(t){return r.push(t)}:function(t,e){return r[e]=t};return he(t,function(t,n){e(t,n)&&i(t,n)}),r}function x(t,e){var n;return he(t,function(t,r){n||e(t,r)&&(n=t)}),n}function C(t,e){var n=te(t)?[]:{};return he(t,function(t,r){return n[r]=e(t,r)}),n}function S(t,e){return t.push(e),t}function E(t,e){return void 0===e&&(e="assert failure"),function(n){var r=t(n);if(!r)throw new Error(Kt(e)?e(n):e);return r}}function T(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(0===t.length)return[];var n,r=t.reduce(function(t,e){return Math.min(e.length,t)},9007199254740991),i=[];for(n=0;n<r;n++)switch(t.length){case 1:i.push([t[0][n]]);break;case 2:i.push([t[0][n],t[1][n]]);break;case 3:i.push([t[0][n],t[1][n],t[2][n]]);break;case 4:i.push([t[0][n],t[1][n],t[2][n],t[3][n]]);break;default:i.push(t.map(function(t){return t[n]}))}return i}function k(t,e){var n,r;if(te(e)&&(n=e[0],r=e[1]),!Xt(n))throw new Error("invalid parameters to applyPairs");return t[n]=r,t}function A(t){return t.length&&t[t.length-1]||void 0}function O(t,e){return e&&Object.keys(e).forEach(function(t){return delete e[t]}),e||(e={}),pe(e,t)}function _(t,e,n){if(te(t))return t.forEach(e,n);Object.keys(t).forEach(function(n){return e(t[n],n)})}function R(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];if(n)for(var r=Object.keys(n),i=0;i<r.length;i++)t[r[i]]=n[r[i]]}return t}function j(t,e){if(t===e)return!0;if(null===t||null===e)return!1;if(t!==t&&e!==e)return!0;var n=typeof t;if(n!==typeof e||"object"!==n)return!1;var r=[t,e];if(Vt(te)(r))return P(t,e);if(Vt(ee)(r))return t.getTime()===e.getTime();if(Vt(ne)(r))return t.toString()===e.toString();if(Vt(Kt)(r))return!0;if([Kt,te,ee,ne].map(Mt).reduce(function(t,e){return t||!!e(r)},!1))return!1;var i,o={};for(i in t){if(!j(t[i],e[i]))return!1;o[i]=!0}for(i in e)if(!o[i])return!1;return!0}function P(t,e){return t.length===e.length&&T(t,e).reduce(function(t,e){return t&&j(e[0],e[1])},!0)}function N(t){return t?"[ui-view#"+t.id+" tag in template from '"+(t.creationContext&&t.creationContext.name||"(root)")+"' state]: fqn: '"+t.fqn+"', name: '"+t.name+"@"+t.creationContext+"')":"ui-view (defunct)"}function I(e){return Yt(e)?t.Category[e]:t.Category[t.Category[e]]}function D(t,e){function n(t){for(var e=r,n=0;n<e.length;n++){var i=new Ut(e[n]);if(i&&i.matches(t.name)||!i&&e[n]===t.name)return!0}return!1}var r=Xt(e)?[e]:e;return!!(Kt(r)?r:n)(t)}function V(t,e,n){function r(t,r,i){void 0===i&&(i={});var a=new Qe(e,n,r,t,i);return o.push(a),function(){a._deregistered=!0,ge(o)(a)}}var i=t._registeredHooks=t._registeredHooks||{},o=i[n.name]=[];return t[n.name]=r,r}function M(t){return void 0===t&&(t=!1),function(e,n){var r=t?-1:1,i=(e.node.state.path.length-n.node.state.path.length)*r;return 0!==i?i:n.hook.priority-e.hook.priority}}function q(t,e){function n(t){return te(t)?t:Gt(t)?[t]:[]}function r(t){switch(t.length){case 0:return;case 1:return"auto"===e?t[0]:t;default:return t}}function i(t,e){return function(i){if(te(i)&&0===i.length)return i;var o=n(i),a=C(o,t);return!0===e?0===w(a,function(t){return!t}).length:r(a)}}function o(t){return function(e,r){var i=n(e),o=n(r);if(i.length!==o.length)return!1;for(var a=0;a<i.length;a++)if(!t(i[a],o[a]))return!1;return!0}}var a=this;["encode","decode","equals","$normalize"].forEach(function(e){var n=t[e].bind(t),r="equals"===e?o:i;a[e]=r(n)}),pe(this,{dynamic:t.dynamic,name:t.name,pattern:t.pattern,inherit:t.inherit,is:i(t.is.bind(t),!0),$arrayMode:e})}function H(t){function e(){return t.value}return t=Ze(t)&&{value:t}||t,e.__cacheable=!0,pe(t,{$$fn:c(t.value)?t.value:e})}function L(e,n,r,i,o){if(e.type&&n&&"string"!==n.name)throw new Error("Param '"+i+"' has two type configurations.");if(e.type&&n&&"string"===n.name&&o.type(e.type))return o.type(e.type);if(n)return n;if(!e.type){var a=r===t.DefType.CONFIG?"any":r===t.DefType.PATH?"path":r===t.DefType.SEARCH?"query":"string";return o.type(a)}return e.type instanceof Ye?e.type:o.type(e.type)}function U(t,e,n){var r=t.squash;if(!e||!1===r)return!1;if(!Gt(r)||null==r)return n;if(!0===r||Xt(r))return r;throw new Error("Invalid squash policy: '"+r+"'. Valid policies: false, true, or arbitrary string")}function F(t,e,n,r){var i,o,a=[{from:"",to:n||e?void 0:""},{from:null,to:n||e?void 0:""}];return i=te(t.replace)?t.replace:[],Xt(r)&&i.push({from:r,to:void 0}),o=C(i,Pt("from")),w(a,function(t){return-1===o.indexOf(t.from)}).concat(i)}function B(t,e){return e.length<=t?e:e.substr(0,t-3)+"..."}function W(t,e){for(;e.length<t;)e+=" ";return e}function z(t){return t.replace(/^([A-Z])/,function(t){return t.toLowerCase()}).replace(/([A-Z])/g,function(t){return"-"+t.toLowerCase()})}function G(t){var e=J(t),n=e.match(/^(function [^ ]+\([^)]*\))/),r=n?n[1]:e,i=t.name||"";return i&&r.match(/function \(/)?"function "+i+r.substr(9):r}function J(t){var e=te(t)?t.slice(-1)[0]:t;return e&&e.toString()||"undefined"}function Q(t){function e(t){if(Zt(t)){if(-1!==n.indexOf(t))return"[circular ref]";n.push(t)}return mn(t)}var n=[];return JSON.stringify(t,function(t,n){return e(n)}).replace(/\\"/g,'"')}function K(t){var e=new RegExp("("+t+")","g");return function(t){return t.split(e).filter(l)}}function Y(t,e){return Xt(A(t))&&Xt(e)?t.slice(0,-1).concat(A(t)+e):S(t,e)}function X(t){return t.name}function Z(t){return t.self.$$state=function(){return t},t.self}function tt(t){return t.parent&&t.parent.data&&(t.data=t.self.data=ve(t.parent.data,t.data)),t.data}function et(t){return t.parent?t.parent.path.concat(t):[t]}function nt(t){var e=t.parent?pe({},t.parent.includes):{};return e[t.name]=!0,e}function rt(t){var e=function(t){var e=ae.$injector;return t.$inject||e&&e.annotate(t,e.strictDi)||"deferred"},n=function(t){return!(!t.token||!t.resolveFn)},r=function(t){return!(!t.provide&&!t.token||!(t.useValue||t.useFactory||t.useExisting||t.useClass))},o=function(t){return!!(t&&t.val&&(Xt(t.val)||te(t.val)||Kt(t.val)))},a=function(t){return t.provide||t.token},s=u([[Pt("resolveFn"),function(t){return new on(a(t),t.resolveFn,t.deps,t.policy)}],[Pt("useFactory"),function(t){return new on(a(t),t.useFactory,t.deps||t.dependencies,t.policy)}],[Pt("useClass"),function(t){return new on(a(t),function(){return new t.useClass},[],t.policy)}],[Pt("useValue"),function(t){return new on(a(t),function(){return t.useValue},[],t.policy,t.useValue)}],[Pt("useExisting"),function(t){return new on(a(t),l,[t.useExisting],t.policy)}]]),c=u([[i(Pt("val"),Xt),function(t){return new on(t.token,l,[t.val],t.policy)}],[i(Pt("val"),te),function(t){return new on(t.token,A(t.val),t.val.slice(0,-1),t.policy)}],[i(Pt("val"),Kt),function(t){return new on(t.token,t.val,e(t.val),t.policy)}]]),f=u([[qt(on),function(t){return t}],[n,s],[r,s],[o,c],[Lt(!0),function(t){throw new Error("Invalid resolve value: "+Q(t))}]]),h=t.resolve;return(te(h)?h:function(t,e){return Object.keys(t||{}).map(function(n){return{token:n,val:t[n],deps:void 0,policy:e[n]}})}(h,t.resolvePolicy||{})).map(f)}function it(t,e){var n=["",""],r=t.replace(/[\\\[\]\^$*+?.()|{}]/g,"\\$&");if(!e)return r;switch(e.squash){case!1:n=["(",")"+(e.isOptional?"?":"")];break;case!0:r=r.replace(/\/$/,""),n=["(?:/(",")|/)?"];break;default:n=["("+e.squash+"|",")?"]}return r+n[0]+e.type.pattern.source+n[1]}function ot(t,e,n,r){return"/"===r?t:e?r.slice(0,-1)+t:n?r.slice(1)+t:t}function at(t){if(!(Kt(t)||Xt(t)||qt(ze)(t)||ze.isDef(t)))throw new Error("'handler' must be a string, function, TargetState, or have a state: 'newtarget' property");return Kt(t)?t:Lt(t)}function st(t){t.addResolvable({token:Gn,deps:[],resolveFn:function(){return t.router},data:t.router},""),t.addResolvable({token:dn,deps:[],resolveFn:function(){return t},data:t},""),t.addResolvable({token:"$transition$",deps:[],
resolveFn:function(){return t},data:t},""),t.addResolvable({token:"$stateParams",deps:[],resolveFn:function(){return t.params()},data:t.params()},""),t.entering().forEach(function(e){t.addResolvable({token:"$state$",deps:[],resolveFn:function(){return e},data:e},e)})}function ut(t){return function(e,n){return(0,n.$$state()[t])(e,n)}}function ct(t,e){function n(e){return e&&Array.isArray(e.states)&&e.states.forEach(function(e){return t.router.stateRegistry.register(e)}),e}var r=e.$$state().lazyLoad,i=r._promise;if(!i){var o=function(t){return delete e.lazyLoad,delete e.$$state().lazyLoad,delete r._promise,t},a=function(t){return delete r._promise,ae.$q.reject(t)};i=r._promise=ae.$q.when(r(t,e)).then(n).then(o,a)}return i}function lt(t){var e=t._ignoredReason();if(e){We.traceTransitionIgnored(t);var n=t.router.globals.transition;return"SameAsCurrent"===e&&n&&n.abort(),qe.ignored().toPromise()}}function ft(t){if(!t.valid())throw new Error(t.error())}function ht(t){var e=function(t){return t||""},n=kr(t).map(e),r=n[0],i=n[1],o=Ar(r).map(e);return{path:o[0],search:o[1],hash:i,url:t}}function pt(t,e,n,r){return function(i){function o(t){t.dispose(a),t.dispose(s)}var a=i.locationService=new n(i),s=i.locationConfig=new r(i,e);return{name:t,service:a,configuration:s,dispose:o}}}function dt(t){return ae.$injector=Er,ae.$q=Cr,{name:"vanilla.services",$q:Cr,$injector:Er,dispose:function(){return null}}}function vt(){var t=null;return function(e,n){return t=t||ae.$injector.get("$templateFactory"),[new Xr(e,n,t)]}}function mt(t){if(!t.parent)return{};var e=["templateProvider","templateUrl","template","notify","async"],n=["controller","controllerProvider","controllerAs","resolveAs"],r=["component","bindings","componentProvider"],i=e.concat(n),o=r.concat(i);if(Gt(t.views)&&Kr(o,t))throw new Error("State '"+t.name+"' has a 'views' object. It cannot also have \"view properties\" at the state level.  Move the following properties into a view (in the 'views' object):  "+o.filter(function(e){return Gt(t[e])}).join(", "));var a={},s=t.views||{$default:$(t,o)};return he(s,function(e,n){if(n=n||"$default",Xt(e)&&(e={component:e}),e=pe({},e),Kr(r,e)&&Kr(i,e))throw new Error("Cannot combine: "+r.join("|")+" with: "+i.join("|")+" in stateview: '"+n+"@"+t.name+"'");e.resolveAs=e.resolveAs||"$resolve",e.$type="ng1",e.$context=t,e.$name=n;var o=Vn.normalizeUIViewTarget(e.$context,e.$name);e.$uiViewName=o.uiViewName,e.$uiViewContextAnchor=o.uiViewContextAnchor,a[n]=e}),a}function gt(t){var e=ae.$injector.get(t+"Directive");if(!e||!e.length)throw new Error("Unable to find component named '"+t+"'");return e.map(ti).reduce(Ee,[])}function $t(t){function e(t,e,r,i,o,a){return n._runtimeServices(i,t,r,e),delete fi.router,delete fi.$get,fi}fi=this.router=new Gn,fi.stateProvider=new ni(fi.stateRegistry,fi.stateService),fi.stateRegistry.decorator("views",mt),fi.stateRegistry.decorator("onExit",ri("onExit")),fi.stateRegistry.decorator("onRetain",ri("onRetain")),fi.stateRegistry.decorator("onEnter",ri("onEnter")),fi.viewService._pluginapi._viewConfigFactory("ng1",vt());var n=fi.locationService=fi.locationConfig=new ii(t);return ii.monkeyPatchPathParameterType(fi),fi.router=fi,fi.$get=e,e.$inject=["$location","$browser","$sniffer","$rootScope","$http","$templateCache"],fi}function yt(t,e,n){ae.$injector=t,ae.$q=e,n.stateRegistry.get().map(function(t){return t.$$state().resolvables}).reduce(Ee,[]).filter(function(t){return"deferred"===t.deps}).forEach(function(e){return e.deps=t.annotate(e.resolveFn)})}function bt(t){t.$watch(function(){We.approximateDigests++})}function wt(t){var e,n=t.match(/^\s*({[^}]*})\s*$/);if(n&&(t="("+n[1]+")"),!(e=t.replace(/\n/g," ").match(/^\s*([^(]*?)\s*(\((.*)\))?\s*$/))||4!==e.length)throw new Error("Invalid state ref '"+t+"'");return{state:e[1]||null,paramExpr:e[3]||null}}function xt(t){var e=t.parent().inheritedData("$uiView"),n=It("$cfg.path")(e);return n?A(n).state.name:void 0}function Ct(t,e,n){var r=n.uiState||t.current.name,i=pe(Tt(e,t),n.uiStateOpts||{}),o=t.href(r,n.uiStateParams,i);return{uiState:r,uiStateParams:n.uiStateParams,uiStateOpts:i,href:o}}function St(t){var e="[object SVGAnimatedString]"===Object.prototype.toString.call(t.prop("href")),n="FORM"===t[0].nodeName;return{attr:n?"action":e?"xlink:href":"href",isAnchor:"A"===t.prop("tagName").toUpperCase(),clickable:!n}}function Et(t,e,n,r,i){return function(o){var a=o.which||o.button,s=i();if(!(a>1||o.ctrlKey||o.metaKey||o.shiftKey||t.attr("target"))){var u=n(function(){e.go(s.uiState,s.uiStateParams,s.uiStateOpts)});o.preventDefault();var c=r.isAnchor&&!s.href?1:0;o.preventDefault=function(){c--<=0&&n.cancel(u)}}}}function Tt(t,e){return{relative:xt(t)||e.$current,inherit:!0,source:"sref"}}function kt(t,e,n,r){var i;r&&(i=r.events),te(i)||(i=["click"]);for(var o=t.on?"on":"bind",a=0,s=i;a<s.length;a++){var u=s[a];t[o](u,n)}e.$on("$destroy",function(){for(var e=t.off?"off":"unbind",r=0,o=i;r<o.length;r++){var a=o[r];t[e](a,n)}})}function At(t){var e=function(e,n,r){return t.is(e,n,r)};return e.$stateful=!0,e}function Ot(t){var e=function(e,n,r){return t.includes(e,n,r)};return e.$stateful=!0,e}function _t(t,n,r,i,o,a){var s=It("viewDecl.controllerAs"),u=It("viewDecl.resolveAs");return{restrict:"ECA",priority:-400,compile:function(i){var a=i.html();return i.empty(),function(i,c){var l=c.data("$uiView");if(!l)return c.html(a),void t(c.contents())(i);var f=l.$cfg||{viewDecl:{},getTemplate:e.noop},h=f.path&&new fn(f.path);c.html(f.getTemplate(c,h)||a),We.traceUIViewFill(l.$uiView,c.html());var p=t(c.contents()),d=f.controller,v=s(f),m=u(f),g=h&&mi(h);if(i[m]=g,d){var $=n(d,pe({},g,{$scope:i,$element:c}));v&&(i[v]=$,i[v][m]=g),c.data("$ngControllerController",$),c.children().data("$ngControllerController",$),Rt(o,r,$,i,f)}if(Xt(f.viewDecl.component))var y=f.viewDecl.component,b=z(y),w=new RegExp("^(x-|data-)?"+b+"$","i"),x=function(){var t=[].slice.call(c[0].children).filter(function(t){return t&&t.tagName&&w.exec(t.tagName)});return t&&Qr.element(t).data("$"+y+"Controller")},C=i.$watch(x,function(t){t&&(Rt(o,r,t,i,f),C())});p(i)}}}}function Rt(t,e,n,r,i){!Kt(n.$onInit)||i.viewDecl.component&&bi||n.$onInit();var o=A(i.path).state.self,a={bind:n};if(Kt(n.uiOnParamsChanged)){var s=new fn(i.path),u=s.getResolvable("$transition$").data,c=function(t){if(t!==u&&-1===t.exiting().indexOf(o)){var e=t.params("to"),r=t.params("from"),i=t.treeChanges().to.map(function(t){return t.paramSchema}).reduce(Ee,[]),a=t.treeChanges().from.map(function(t){return t.paramSchema}).reduce(Ee,[]),s=i.filter(function(t){var n=a.indexOf(t);return-1===n||!a[n].type.equals(e[t.id],r[t.id])});if(s.length){var c=s.map(function(t){return t.id}),l=w(e,function(t,e){return-1!==c.indexOf(e)});n.uiOnParamsChanged(l,t)}}};r.$on("$destroy",e.onSuccess({},c,a))}if(Kt(n.uiCanExit)){var l=wi++,f=function(t){return!!t&&(t._uiCanExitIds&&!0===t._uiCanExitIds[l]||f(t.redirectedFrom()))},h=function(e){var r,i=e._uiCanExitIds=e._uiCanExitIds||{};return f(e)||(r=t.when(n.uiCanExit(e)),r.then(function(t){return i[l]=!1!==t})),r},p={exiting:o.name};r.$on("$destroy",e.onBefore(p,h,a))}}function jt(){var t=!1;this.useAnchorScroll=function(){t=!0},this.$get=["$anchorScroll","$timeout",function(e,n){return t?e:function(t){return n(function(){t[0].scrollIntoView()},0,!1)}}]}var Pt=function(t){return function(e){return e&&e[t]}},Nt=n(function(t,e,n){return n&&n[t]===e}),It=function(t){return i.apply(null,t.split(".").map(Pt))},Dt=function(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return!t.apply(null,e)}},Vt=function(t){return function(e){return e.reduce(function(e,n){return e&&!!t(n)},!0)}},Mt=function(t){return function(e){return e.reduce(function(e,n){return e||!!t(n)},!1)}},qt=function(t){return function(e){return null!=e&&e.constructor===t||e instanceof t}},Ht=function(t){return function(e){return t===e}},Lt=function(t){return function(){return t}},Ut=function(){function t(t){this.text=t,this.glob=t.split(".");var e=this.text.split(".").map(function(t){return"**"===t?"(?:|(?:\\.[^.]*)*)":"*"===t?"\\.[^.]*":"\\."+t}).join("");this.regexp=new RegExp("^"+e+"$")}return t.prototype.matches=function(t){return this.regexp.test("."+t)},t.is=function(t){return!!/[!,*]+/.exec(t)},t.fromString=function(e){return t.is(e)?new t(e):null},t}(),Ft=function(){function t(e){return t.create(e||{})}return t.create=function(e){e=t.isStateClass(e)?new e:e;var n=ve(ve(e,t.prototype));return e.$$state=function(){return n},n.self=e,n.__stateObjectCache={nameGlob:Ut.fromString(n.name)},n},t.prototype.is=function(t){return this===t||this.self===t||this.fqn()===t},t.prototype.fqn=function(){if(!(this.parent&&this.parent instanceof this.constructor))return this.name;var t=this.parent.fqn();return t?t+"."+this.name:this.name},t.prototype.root=function(){return this.parent&&this.parent.root()||this},t.prototype.parameters=function(t){return t=m(t,{inherit:!0,matchingKeys:null}),(t.inherit&&this.parent&&this.parent.parameters()||[]).concat(xe(this.params)).filter(function(e){return!t.matchingKeys||t.matchingKeys.hasOwnProperty(e.id)})},t.prototype.parameter=function(t,e){return void 0===e&&(e={}),this.url&&this.url.parameter(t,e)||x(xe(this.params),Nt("id",t))||e.inherit&&this.parent&&this.parent.parameter(t)},t.prototype.toString=function(){return this.fqn()},t}();Ft.isStateClass=function(t){return Kt(t)&&!0===t.__uiRouterState},Ft.isState=function(t){return Zt(t.__stateObjectCache)};var Bt=Object.prototype.toString,Wt=function(t){return function(e){return typeof e===t}},zt=Wt("undefined"),Gt=Dt(zt),Jt=function(t){return null===t},Qt=a(Jt,zt),Kt=Wt("function"),Yt=Wt("number"),Xt=Wt("string"),Zt=function(t){return null!==t&&"object"==typeof t},te=Array.isArray,ee=function(t){return"[object Date]"===Bt.call(t)},ne=function(t){return"[object RegExp]"===Bt.call(t)},re=Ft.isState,ie=o(Zt,i(Pt("then"),Kt)),oe=function(t){return function(){throw new Error(t+"(): No coreservices implementation for UI-Router is loaded.")}},ae={$q:void 0,$injector:void 0},se="undefined"==typeof window?{}:window,ue=se.angular||{},ce=ue.fromJson||JSON.parse.bind(JSON),le=ue.toJson||JSON.stringify.bind(JSON),fe=ue.copy||O,he=ue.forEach||_,pe=Object.assign||R,de=ue.equals||j,ve=function(t,e){return pe(Object.create(t),e)},me=n(p),ge=n(d),$e=n(v),ye=function(t){return t.slice().forEach(function(e){"function"==typeof e&&e(),ge(t,e)})},be=function(t,e){return pe(t,e)},we=C,xe=function(t){return Object.keys(t).map(function(e){return t[e]})},Ce=function(t,e){return t&&e},Se=function(t,e){return t||e},Ee=function(t,e){return t.concat(e)},Te=function(t,e){return te(e)?t.concat(e.reduce(Te,[])):S(t,e)},ke=function(t,e){return me(t,e)?t:S(t,e)},Ae=function(t){return t.reduce(Ee,[])},Oe=function(t){return t.reduce(Te,[])},_e=E,Re=E,je=function(t){return Object.keys(t).map(function(e){return[e,t[e]]})},Pe=function(t,e){return void 0===e&&(e=Lt(!0)),function(n,r){return e(n)&&e(r)?t(n)-t(r):0}},Ne=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return function(e,n){return t.reduce(function(t,r){return t||r(e,n)},0)}},Ie=function(t){return t.catch(function(t){return 0})&&t},De=function(t){return Ie(ae.$q.reject(t))},Ve=function(){function t(t,e){void 0===t&&(t=[]),void 0===e&&(e=null),this._items=t,this._limit=e}return t.prototype.enqueue=function(t){var e=this._items;return e.push(t),this._limit&&e.length>this._limit&&e.shift(),t},t.prototype.dequeue=function(){if(this.size())return this._items.splice(0,1)[0]},t.prototype.clear=function(){var t=this._items;return this._items=[],t},t.prototype.size=function(){return this._items.length},t.prototype.remove=function(t){var e=this._items.indexOf(t);return e>-1&&this._items.splice(e,1)[0]},t.prototype.peekTail=function(){return this._items[this._items.length-1]},t.prototype.peekHead=function(){if(this.size())return this._items[0]},t}();!function(t){t[t.SUPERSEDED=2]="SUPERSEDED",t[t.ABORTED=3]="ABORTED",t[t.INVALID=4]="INVALID",t[t.IGNORED=5]="IGNORED",t[t.ERROR=6]="ERROR"}(t.RejectType||(t.RejectType={}));var Me=0,qe=function(){function e(t,e,n){this.$id=Me++,this.type=t,this.message=e,this.detail=n}return e.prototype.toString=function(){var t=function(t){return t&&t.toString!==Object.prototype.toString?t.toString():Q(t)}(this.detail),e=this;return"Transition Rejection($id: "+e.$id+" type: "+e.type+", message: "+e.message+", detail: "+t+")"},e.prototype.toPromise=function(){return pe(De(this),{_transitionRejection:this})},e.isRejectionPromise=function(t){return t&&"function"==typeof t.then&&qt(e)(t._transitionRejection)},e.superseded=function(n,r){var i=new e(t.RejectType.SUPERSEDED,"The transition has been superseded by a different transition",n);return r&&r.redirected&&(i.redirected=!0),i},e.redirected=function(t){return e.superseded(t,{redirected:!0})},e.invalid=function(n){return new e(t.RejectType.INVALID,"This transition is invalid",n)},e.ignored=function(n){return new e(t.RejectType.IGNORED,"The transition was ignored",n)},e.aborted=function(n){return new e(t.RejectType.ABORTED,"The transition has been aborted",n)},e.errored=function(n){return new e(t.RejectType.ERROR,"The transition errored",n)},e.normalize=function(t){return qt(e)(t)?t:e.errored(t)},e}(),He=function(t){return"[ViewConfig#"+t.$id+" from '"+(t.viewDecl.$context.name||"(root)")+"' state]: target ui-view: '"+t.viewDecl.$uiViewName+"@"+t.viewDecl.$uiViewContextAnchor+"'"};!function(t){t[t.RESOLVE=0]="RESOLVE",t[t.TRANSITION=1]="TRANSITION",t[t.HOOK=2]="HOOK",t[t.UIVIEW=3]="UIVIEW",t[t.VIEWCONFIG=4]="VIEWCONFIG"}(t.Category||(t.Category={}));var Le=It("$id"),Ue=It("router.$id"),Fe=function(t){return"Transition #"+Le(t)+"-"+Ue(t)},Be=function(){function e(){this._enabled={},this.approximateDigests=0}return e.prototype._set=function(e,n){var r=this;n.length||(n=Object.keys(t.Category).map(function(t){return parseInt(t,10)}).filter(function(t){return!isNaN(t)}).map(function(e){return t.Category[e]})),n.map(I).forEach(function(t){return r._enabled[t]=e})},e.prototype.enable=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._set(!0,t)},e.prototype.disable=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._set(!1,t)},e.prototype.enabled=function(t){return!!this._enabled[I(t)]},e.prototype.traceTransitionStart=function(e){this.enabled(t.Category.TRANSITION)&&console.log(Fe(e)+": Started  -> "+Q(e))},e.prototype.traceTransitionIgnored=function(e){this.enabled(t.Category.TRANSITION)&&console.log(Fe(e)+": Ignored  <> "+Q(e))},e.prototype.traceHookInvocation=function(e,n,r){if(this.enabled(t.Category.HOOK)){var i=It("traceData.hookType")(r)||"internal",o=It("traceData.context.state.name")(r)||It("traceData.context")(r)||"unknown",a=G(e.registeredHook.callback);console.log(Fe(n)+":   Hook -> "+i+" context: "+o+", "+B(200,a))}},e.prototype.traceHookResult=function(e,n,r){this.enabled(t.Category.HOOK)&&console.log(Fe(n)+":   <- Hook returned: "+B(200,Q(e)))},e.prototype.traceResolvePath=function(e,n,r){this.enabled(t.Category.RESOLVE)&&console.log(Fe(r)+":         Resolving "+e+" ("+n+")")},e.prototype.traceResolvableResolved=function(e,n){this.enabled(t.Category.RESOLVE)&&console.log(Fe(n)+":               <- Resolved  "+e+" to: "+B(200,Q(e.data)))},e.prototype.traceError=function(e,n){this.enabled(t.Category.TRANSITION)&&console.log(Fe(n)+": <- Rejected "+Q(n)+", reason: "+e)},e.prototype.traceSuccess=function(e,n){this.enabled(t.Category.TRANSITION)&&console.log(Fe(n)+": <- Success  "+Q(n)+", final state: "+e.name)},e.prototype.traceUIViewEvent=function(e,n,r){void 0===r&&(r=""),this.enabled(t.Category.UIVIEW)&&console.log("ui-view: "+W(30,e)+" "+N(n)+r)},e.prototype.traceUIViewConfigUpdated=function(e,n){this.enabled(t.Category.UIVIEW)&&this.traceUIViewEvent("Updating",e," with ViewConfig from context='"+n+"'")},e.prototype.traceUIViewFill=function(e,n){this.enabled(t.Category.UIVIEW)&&this.traceUIViewEvent("Fill",e," with: "+B(200,n))},e.prototype.traceViewServiceEvent=function(e,n){this.enabled(t.Category.VIEWCONFIG)&&console.log("VIEWCONFIG: "+e+" "+He(n))},e.prototype.traceViewServiceUIViewEvent=function(e,n){this.enabled(t.Category.VIEWCONFIG)&&console.log("VIEWCONFIG: "+e+" "+N(n))},e}(),We=new Be;!function(t){t[t.CREATE=0]="CREATE",t[t.BEFORE=1]="BEFORE",t[t.RUN=2]="RUN",t[t.SUCCESS=3]="SUCCESS",t[t.ERROR=4]="ERROR"}(t.TransitionHookPhase||(t.TransitionHookPhase={})),function(t){t[t.TRANSITION=0]="TRANSITION",t[t.STATE=1]="STATE"}(t.TransitionHookScope||(t.TransitionHookScope={}));var ze=function(){function t(t,e,n,r){void 0===r&&(r={}),this._identifier=t,this._definition=e,this._options=r,this._params=n||{}}return t.prototype.name=function(){return this._definition&&this._definition.name||this._identifier},t.prototype.identifier=function(){return this._identifier},t.prototype.params=function(){return this._params},t.prototype.$state=function(){return this._definition},t.prototype.state=function(){return this._definition&&this._definition.self},t.prototype.options=function(){return this._options},t.prototype.exists=function(){return!(!this._definition||!this._definition.self)},t.prototype.valid=function(){return!this.error()},t.prototype.error=function(){var t=this.options().relative;if(!this._definition&&t){var e=t.name?t.name:t;return"Could not resolve '"+this.name()+"' from state '"+e+"'"}return this._definition?this._definition.self?void 0:"State '"+this.name()+"' has an invalid definition":"No such state '"+this.name()+"'"},t.prototype.toString=function(){return"'"+this.name()+"'"+le(this.params())},t}();ze.isDef=function(t){return t&&t.state&&(Xt(t.state)||Xt(t.state.name))};var Ge={current:f,transition:null,traceData:{},bind:null},Je=function(){function e(e,n,r,i){var o=this;this.transition=e,this.stateContext=n,this.registeredHook=r,this.options=i,this.isSuperseded=function(){return o.type.hookPhase===t.TransitionHookPhase.RUN&&!o.options.transition.isActive()},this.options=m(i,Ge),this.type=r.eventType}return e.prototype.logError=function(t){this.transition.router.stateService.defaultErrorHandler()(t)},e.prototype.invokeHook=function(){var t=this,e=this.registeredHook;if(!e._deregistered){var n=this.getNotCurrentRejection();if(n)return n;var r=this.options;We.traceHookInvocation(this,this.transition,r);var i=function(t){return qe.normalize(t).toPromise()},o=function(n){return e.eventType.getErrorHandler(t)(n)},a=function(n){return e.eventType.getResultHandler(t)(n)};try{var s=function(){return e.callback.call(r.bind,t.transition,t.stateContext)}();return!this.type.synchronous&&ie(s)?s.catch(i).then(a,o):a(s)}catch(t){return o(qe.normalize(t))}}},e.prototype.handleHookResult=function(t){var e=this,n=this.getNotCurrentRejection();return n||(ie(t)?t.then(function(t){return e.handleHookResult(t)}):(We.traceHookResult(t,this.transition,this.options),!1===t?qe.aborted("Hook aborted transition").toPromise():qt(ze)(t)?qe.redirected(t).toPromise():void 0))},e.prototype.getNotCurrentRejection=function(){var t=this.transition.router;return t._disposed?qe.aborted("UIRouter instance #"+t.$id+" has been stopped (disposed)").toPromise():this.transition._aborted?qe.aborted().toPromise():this.isSuperseded()?qe.superseded(this.options.current()).toPromise():void 0},e.prototype.toString=function(){var t=this,e=t.options,n=t.registeredHook;return(It("traceData.hookType")(e)||"internal")+" context: "+(It("traceData.context.state.name")(e)||It("traceData.context")(e)||"unknown")+", "+B(200,J(n.callback))},e.chain=function(t,e){var n=function(t,e){return t.then(function(){return e.invokeHook()})};return t.reduce(n,e||ae.$q.when())},e.invokeHooks=function(t,n){for(var r=0;r<t.length;r++){var i=t[r].invokeHook();if(ie(i)){var o=t.slice(r+1);return e.chain(o,i).then(n)}}return n()},e.runAllHooks=function(t){t.forEach(function(t){return t.invokeHook()})},e}();Je.HANDLE_RESULT=function(t){return function(e){return t.handleHookResult(e)}},Je.LOG_REJECTED_RESULT=function(t){return function(e){ie(e)&&e.catch(function(e){return t.logError(qe.normalize(e))})}},Je.LOG_ERROR=function(t){return function(e){return t.logError(e)}},Je.REJECT_ERROR=function(t){return function(t){return De(t)}},Je.THROW_ERROR=function(t){return function(t){throw t}};var Qe=function(){function e(t,e,n,r,i){void 0===i&&(i={}),this.tranSvc=t,this.eventType=e,this.callback=n,this.matchCriteria=r,this.priority=i.priority||0,this.bind=i.bind||null,this._deregistered=!1}return e.prototype._matchingNodes=function(t,e){if(!0===e)return t;var n=t.filter(function(t){return D(t.state,e)});return n.length?n:null},e.prototype._getDefaultMatchCriteria=function(){return C(this.tranSvc._pluginapi._getPathTypes(),function(){return!0})},e.prototype._getMatchingNodes=function(e){var n=this,r=pe(this._getDefaultMatchCriteria(),this.matchCriteria);return xe(this.tranSvc._pluginapi._getPathTypes()).reduce(function(i,o){var a=o.scope===t.TransitionHookScope.STATE,s=e[o.name]||[],u=a?s:[A(s)];return i[o.name]=n._matchingNodes(u,r[o.name]),i},{})},e.prototype.matches=function(t){var e=this._getMatchingNodes(t);return xe(e).every(l)?e:null},e}(),Ke=function(){function e(t){this.transition=t}return e.prototype.buildHooksForPhase=function(t){var e=this;return this.transition.router.transitionService._pluginapi._getEvents(t).map(function(t){return e.buildHooks(t)}).reduce(Ee,[]).filter(l)},e.prototype.buildHooks=function(e){var n=this.transition,r=n.treeChanges(),i=this.getMatchingHooks(e,r);if(!i)return[];var o={transition:n,current:n.options().current},a=function(i){return i.matches(r)[e.criteriaMatchPath.name].map(function(r){var a=pe({bind:i.bind,traceData:{hookType:e.name,context:r}},o),s=e.criteriaMatchPath.scope===t.TransitionHookScope.STATE?r.state.self:null,u=new Je(n,s,i,a);return{hook:i,node:r,transitionHook:u}})};return i.map(a).reduce(Ee,[]).sort(M(e.reverseSort)).map(function(t){return t.transitionHook})},e.prototype.getMatchingHooks=function(e,n){var r=e.hookPhase===t.TransitionHookPhase.CREATE,i=this.transition.router.transitionService;return(r?[i]:[this.transition,i]).map(function(t){return t.getHooks(e.name)}).filter(_e(te,"broken event named: "+e.name)).reduce(Ee,[]).filter(function(t){return t.matches(n)})},e}(),Ye=function(){function t(t){this.pattern=/.*/,this.inherit=!0,pe(this,t)}return t.prototype.is=function(t,e){return!0},t.prototype.encode=function(t,e){return t},t.prototype.decode=function(t,e){return t},t.prototype.equals=function(t,e){return t==e},t.prototype.$subPattern=function(){var t=this.pattern.toString();return t.substr(1,t.length-2)},t.prototype.toString=function(){return"{ParamType:"+this.name+"}"},t.prototype.$normalize=function(t){return this.is(t)?t:this.decode(t)},t.prototype.$asArray=function(t,e){if(!t)return this;if("auto"===t&&!e)throw new Error("'auto' array mode is for query parameters only");return new q(this,t)},t}(),Xe=Object.prototype.hasOwnProperty,Ze=function(t){return 0===["value","type","squash","array","dynamic"].filter(Xe.bind(t||{})).length};!function(t){t[t.PATH=0]="PATH",t[t.SEARCH=1]="SEARCH",t[t.CONFIG=2]="CONFIG"}(t.DefType||(t.DefType={}));var tn=function(){function e(e,n,r,i,o){r=H(r),n=L(r,n,i,e,o.paramTypes);var a=function(){var n={array:i===t.DefType.SEARCH&&"auto"},o=e.match(/\[\]$/)?{array:!0}:{};return pe(n,o,r).array}();n=a?n.$asArray(a,i===t.DefType.SEARCH):n;var s=void 0!==r.value||i===t.DefType.SEARCH,u=Gt(r.dynamic)?!!r.dynamic:!!n.dynamic,c=Gt(r.raw)?!!r.raw:!!n.raw,l=U(r,s,o.defaultSquashPolicy()),f=F(r,a,s,l),h=Gt(r.inherit)?!!r.inherit:!!n.inherit;pe(this,{id:e,type:n,location:i,isOptional:s,dynamic:u,raw:c,squash:l,replace:f,inherit:h,array:a,config:r})}return e.prototype.isDefaultValue=function(t){return this.isOptional&&this.type.equals(this.value(),t)},e.prototype.value=function(t){var e=this;return t=function(t){for(var n=0,r=e.replace;n<r.length;n++){var i=r[n];if(i.from===t)return i.to}return t}(t),zt(t)?function(){if(e._defaultValueCache)return e._defaultValueCache.defaultValue;if(!ae.$injector)throw new Error("Injectable functions cannot be called at configuration time");var t=ae.$injector.invoke(e.config.$$fn);if(null!==t&&void 0!==t&&!e.type.is(t))throw new Error("Default value ("+t+") for parameter '"+e.id+"' is not an instance of ParamType ("+e.type.name+")");return e.config.$$fn.__cacheable&&(e._defaultValueCache={defaultValue:t}),t}():this.type.$normalize(t)},e.prototype.isSearch=function(){return this.location===t.DefType.SEARCH},e.prototype.validates=function(t){if((zt(t)||null===t)&&this.isOptional)return!0;var e=this.type.$normalize(t);if(!this.type.is(e))return!1;var n=this.type.encode(e);return!(Xt(n)&&!this.type.pattern.exec(n))},e.prototype.toString=function(){return"{Param:"+this.id+" "+this.type+" squash: '"+this.squash+"' optional: "+this.isOptional+"}"},e.values=function(t,e){void 0===e&&(e={});for(var n={},r=0,i=t;r<i.length;r++){var o=i[r];n[o.id]=o.value(e[o.id])}return n},e.changed=function(t,e,n){return void 0===e&&(e={}),void 0===n&&(n={}),t.filter(function(t){return!t.type.equals(e[t.id],n[t.id])})},e.equals=function(t,n,r){return void 0===n&&(n={}),void 0===r&&(r={}),0===e.changed(t,n,r).length},e.validates=function(t,e){return void 0===e&&(e={}),t.map(function(t){return t.validates(e[t.id])}).reduce(Ce,!0)},e}(),en=function(){function t(e){if(e instanceof t){var n=e;this.state=n.state,this.paramSchema=n.paramSchema.slice(),this.paramValues=pe({},n.paramValues),this.resolvables=n.resolvables.slice(),this.views=n.views&&n.views.slice()}else{var r=e;this.state=r,this.paramSchema=r.parameters({inherit:!1}),this.paramValues={},this.resolvables=r.resolvables.map(function(t){return t.clone()})}}return t.prototype.applyRawParams=function(t){var e=function(e){return[e.id,e.value(t[e.id])]};return this.paramValues=this.paramSchema.reduce(function(t,n){return k(t,e(n))},{}),this},t.prototype.parameter=function(t){return x(this.paramSchema,Nt("id",t))},t.prototype.equals=function(t,e){var n=this.diff(t,e);return n&&0===n.length},t.prototype.diff=function(t,e){if(this.state!==t.state)return!1;var n=e?e(this):this.paramSchema;return tn.changed(n,this.paramValues,t.paramValues)},t.clone=function(e){return new t(e)},t}(),nn=function(){function t(){}return t.makeTargetState=function(t){var e=A(t).state;return new ze(e,e,t.map(Pt("paramValues")).reduce(be,{}))},t.buildPath=function(t){var e=t.params();return t.$state().path.map(function(t){return new en(t).applyRawParams(e)})},t.buildToPath=function(e,n){var r=t.buildPath(n);return n.options().inherit?t.inheritParams(e,r,Object.keys(n.params())):r},t.applyViewConfigs=function(e,n,r){n.filter(function(t){return me(r,t.state)}).forEach(function(r){var i=xe(r.state.views||{}),o=t.subPath(n,function(t){return t===r}),a=i.map(function(t){return e.createViewConfig(o,t)});r.views=a.reduce(Ee,[])})},t.inheritParams=function(t,e,n){function r(t,e){var n=x(t,Nt("state",e));return pe({},n&&n.paramValues)}function i(e){var i=pe({},e&&e.paramValues),a=$(i,n);i=y(i,n);var s=y(r(t,e.state)||{},o),u=pe(i,s,a);return new en(e.state).applyRawParams(u)}void 0===n&&(n=[]);var o=t.map(function(t){return t.paramSchema}).reduce(Ee,[]).filter(function(t){return!t.inherit}).map(Pt("id"));return e.map(i)},t.treeChanges=function(e,n,r){function i(t,e){var r=en.clone(t);return r.paramValues=n[e].paramValues,r}for(var o=0,a=Math.min(e.length,n.length);o<a&&e[o].state!==r&&function(e,n){return e.equals(n,t.nonDynamicParams)}(e[o],n[o]);)o++;var s,u,c,l,f;s=e,u=s.slice(0,o),c=s.slice(o);var h=u.map(i);return l=n.slice(o),f=h.concat(l),{from:s,to:f,retained:u,exiting:c,entering:l}},t.matching=function(t,e,n){var r=!1;return T(t,e).reduce(function(t,e){var i=e[0],o=e[1];return r=r||!i.equals(o,n),r?t:t.concat(i)},[])},t.equals=function(e,n,r){return e.length===n.length&&t.matching(e,n,r).length===e.length},t.subPath=function(t,e){var n=x(t,e),r=t.indexOf(n);return-1===r?void 0:t.slice(0,r+1)},t}();nn.nonDynamicParams=function(t){return t.state.parameters({inherit:!1}).filter(function(t){return!t.dynamic})},nn.paramValues=function(t){return t.reduce(function(t,e){return pe(t,e.paramValues)},{})};var rn={when:"LAZY",async:"WAIT"},on=function(){function t(e,n,r,i,o){if(this.resolved=!1,this.promise=void 0,e instanceof t)pe(this,e);else if(Kt(n)){if(null==e||void 0==e)throw new Error("new Resolvable(): token argument is required");if(!Kt(n))throw new Error("new Resolvable(): resolveFn argument must be a function");this.token=e,this.policy=i,this.resolveFn=n,this.deps=r||[],this.data=o,this.resolved=void 0!==o,this.promise=this.resolved?ae.$q.when(this.data):void 0}else if(Zt(e)&&e.token&&Kt(e.resolveFn)){var a=e;return new t(a.token,a.resolveFn,a.deps,a.policy,a.data)}}return t.prototype.getPolicy=function(t){var e=this.policy||{},n=t&&t.resolvePolicy||{};return{when:e.when||n.when||rn.when,async:e.async||n.async||rn.async}},t.prototype.resolve=function(t,e){var n=this,r=ae.$q,i=function(){return r.all(t.getDependencies(n).map(function(n){return n.get(t,e)}))},o=function(t){return n.resolveFn.apply(null,t)},a=function(t){var e=t.cache(1);return e.take(1).toPromise().then(function(){return e})},s=t.findNode(this),u=s&&s.state,c="RXWAIT"===this.getPolicy(u).async?a:l,f=function(t){return n.data=t,n.resolved=!0,We.traceResolvableResolved(n,e),n.data};return this.promise=r.when().then(i).then(o).then(c).then(f)},t.prototype.get=function(t,e){return this.promise||this.resolve(t,e)},t.prototype.toString=function(){return"Resolvable(token: "+Q(this.token)+", requires: ["+this.deps.map(Q)+"])"},t.prototype.clone=function(){return new t(this)},t}();on.fromData=function(t,e){return new on(t,function(){return e},null,null,e)};var an={when:{LAZY:"LAZY",EAGER:"EAGER"},async:{WAIT:"WAIT",NOWAIT:"NOWAIT",RXWAIT:"RXWAIT"}},sn=an.when,un=[sn.EAGER,sn.LAZY],cn=[sn.EAGER],ln="Native Injector",fn=function(){function t(t){this._path=t}return t.prototype.getTokens=function(){return this._path.reduce(function(t,e){return t.concat(e.resolvables.map(function(t){return t.token}))},[]).reduce(ke,[])},t.prototype.getResolvable=function(t){return A(this._path.map(function(t){return t.resolvables}).reduce(Ee,[]).filter(function(e){return e.token===t}))},t.prototype.getPolicy=function(t){var e=this.findNode(t);return t.getPolicy(e.state)},t.prototype.subContext=function(e){return new t(nn.subPath(this._path,function(t){return t.state===e}))},t.prototype.addResolvables=function(t,e){var n=x(this._path,Nt("state",e)),r=t.map(function(t){return t.token});n.resolvables=n.resolvables.filter(function(t){return-1===r.indexOf(t.token)}).concat(t)},t.prototype.resolvePath=function(t,e){var n=this;void 0===t&&(t="LAZY");var r=me(un,t)?t:"LAZY",i=r===an.when.EAGER?cn:un;We.traceResolvePath(this._path,t,e);var o=function(t,e){return function(r){return me(t,n.getPolicy(r)[e])}},a=this._path.reduce(function(t,r){var a=r.resolvables.filter(o(i,"when")),s=a.filter(o(["NOWAIT"],"async")),u=a.filter(Dt(o(["NOWAIT"],"async"))),c=n.subContext(r.state),l=function(t){return t.get(c,e).then(function(e){return{token:t.token,value:e}})};return s.forEach(l),t.concat(u.map(l))},[]);return ae.$q.all(a)},t.prototype.injector=function(){return this._injector||(this._injector=new hn(this))},t.prototype.findNode=function(t){return x(this._path,function(e){return me(e.resolvables,t)})},t.prototype.getDependencies=function(t){var e=this,n=this.findNode(t),r=nn.subPath(this._path,function(t){return t===n})||this._path,i=r.reduce(function(t,e){return t.concat(e.resolvables)},[]).filter(function(e){return e!==t}),o=function(t){var n=i.filter(function(e){return e.token===t});if(n.length)return A(n);var r=e.injector().getNative(t);if(!r)throw new Error("Could not find Dependency Injection token: "+Q(t));return new on(t,function(){return r},[],r)};return t.deps.map(o)},t}(),hn=function(){function t(t){this.context=t,this.native=this.get(ln)||ae.$injector}return t.prototype.get=function(t){var e=this.context.getResolvable(t);if(e){
if("NOWAIT"===this.context.getPolicy(e).async)return e.get(this.context);if(!e.resolved)throw new Error("Resolvable async .get() not complete:"+Q(e.token));return e.data}return this.native&&this.native.get(t)},t.prototype.getAsync=function(t){var e=this.context.getResolvable(t);return e?e.get(this.context):ae.$q.when(this.native.get(t))},t.prototype.getNative=function(t){return this.native&&this.native.get(t)},t}(),pn=Pt("self"),dn=function(){function e(e,n,r){var i=this;if(this._deferred=ae.$q.defer(),this.promise=this._deferred.promise,this._registeredHooks={},this._hookBuilder=new Ke(this),this.isActive=function(){return i.router.globals.transition===i},this.router=r,this._targetState=n,!n.valid())throw new Error(n.error());this._options=pe({current:Lt(this)},n.options()),this.$id=r.transitionService._transitionCount++;var o=nn.buildToPath(e,n);this._treeChanges=nn.treeChanges(e,o,this._options.reloadState),this.createTransitionHookRegFns();var a=this._hookBuilder.buildHooksForPhase(t.TransitionHookPhase.CREATE);Je.invokeHooks(a,function(){return null}),this.applyViewConfigs(r)}return e.prototype.onBefore=function(t,e,n){},e.prototype.onStart=function(t,e,n){},e.prototype.onExit=function(t,e,n){},e.prototype.onRetain=function(t,e,n){},e.prototype.onEnter=function(t,e,n){},e.prototype.onFinish=function(t,e,n){},e.prototype.onSuccess=function(t,e,n){},e.prototype.onError=function(t,e,n){},e.prototype.createTransitionHookRegFns=function(){var e=this;this.router.transitionService._pluginapi._getEvents().filter(function(e){return e.hookPhase!==t.TransitionHookPhase.CREATE}).forEach(function(t){return V(e,e.router.transitionService,t)})},e.prototype.getHooks=function(t){return this._registeredHooks[t]},e.prototype.applyViewConfigs=function(t){var e=this._treeChanges.entering.map(function(t){return t.state});nn.applyViewConfigs(t.transitionService.$view,this._treeChanges.to,e)},e.prototype.$from=function(){return A(this._treeChanges.from).state},e.prototype.$to=function(){return A(this._treeChanges.to).state},e.prototype.from=function(){return this.$from().self},e.prototype.to=function(){return this.$to().self},e.prototype.targetState=function(){return this._targetState},e.prototype.is=function(t){return t instanceof e?this.is({to:t.$to().name,from:t.$from().name}):!(t.to&&!D(this.$to(),t.to)||t.from&&!D(this.$from(),t.from))},e.prototype.params=function(t){return void 0===t&&(t="to"),Object.freeze(this._treeChanges[t].map(Pt("paramValues")).reduce(be,{}))},e.prototype.injector=function(t,e){void 0===e&&(e="to");var n=this._treeChanges[e];return t&&(n=nn.subPath(n,function(e){return e.state===t||e.state.name===t})),new fn(n).injector()},e.prototype.getResolveTokens=function(t){return void 0===t&&(t="to"),new fn(this._treeChanges[t]).getTokens()},e.prototype.addResolvable=function(t,e){void 0===e&&(e=""),t=qt(on)(t)?t:new on(t);var n="string"==typeof e?e:e.name,r=this._treeChanges.to,i=x(r,function(t){return t.state.name===n});new fn(r).addResolvables([t],i.state)},e.prototype.redirectedFrom=function(){return this._options.redirectedFrom||null},e.prototype.originalTransition=function(){var t=this.redirectedFrom();return t&&t.originalTransition()||this},e.prototype.options=function(){return this._options},e.prototype.entering=function(){return C(this._treeChanges.entering,Pt("state")).map(pn)},e.prototype.exiting=function(){return C(this._treeChanges.exiting,Pt("state")).map(pn).reverse()},e.prototype.retained=function(){return C(this._treeChanges.retained,Pt("state")).map(pn)},e.prototype.views=function(t,e){void 0===t&&(t="entering");var n=this._treeChanges[t];return n=e?n.filter(Nt("state",e)):n,n.map(Pt("views")).filter(l).reduce(Ee,[])},e.prototype.treeChanges=function(t){return t?this._treeChanges[t]:this._treeChanges},e.prototype.redirect=function(t){for(var e=1,n=this;null!=(n=n.redirectedFrom());)if(++e>20)throw new Error("Too many consecutive Transition redirects (20+)");var r={redirectedFrom:this,source:"redirect"};"url"===this.options().source&&!1!==t.options().location&&(r.location="replace");var i=pe({},this.options(),t.options(),r);t=new ze(t.identifier(),t.$state(),t.params(),i);var o=this.router.transitionService.create(this._treeChanges.from,t),a=this._treeChanges.entering,s=o._treeChanges.entering;return nn.matching(s,a,nn.nonDynamicParams).filter(Dt(function(t){return function(e){return t&&e.state.includes[t.name]}}(t.options().reloadState))).forEach(function(t,e){t.resolvables=a[e].resolvables}),o},e.prototype._changedParams=function(){var t=this._treeChanges;if(!this._options.reload&&!t.exiting.length&&!t.entering.length&&t.to.length===t.from.length){if(!T(t.to,t.from).map(function(t){return t[0].state!==t[1].state}).reduce(Se,!1)){var e=t.to.map(function(t){return t.paramSchema}),n=[t.to,t.from].map(function(t){return t.map(function(t){return t.paramValues})});return T(e,n[0],n[1]).map(function(t){var e=t[0],n=t[1],r=t[2];return tn.changed(e,n,r)}).reduce(Ee,[])}}},e.prototype.dynamic=function(){var t=this._changedParams();return!!t&&t.map(function(t){return t.dynamic}).reduce(Se,!1)},e.prototype.ignored=function(){return!!this._ignoredReason()},e.prototype._ignoredReason=function(){var t=this.router.globals.transition,e=this._options.reloadState,n=function(t,n){if(t.length!==n.length)return!1;var r=nn.matching(t,n);return t.length===r.filter(function(t){return!e||!t.state.includes[e.name]}).length},r=this.treeChanges(),i=t&&t.treeChanges();return i&&n(i.to,r.to)&&n(i.exiting,r.exiting)?"SameAsPending":0===r.exiting.length&&0===r.entering.length&&n(r.from,r.to)?"SameAsCurrent":void 0},e.prototype.run=function(){var e=this,n=Je.runAllHooks,r=function(t){return e._hookBuilder.buildHooksForPhase(t)},i=function(){We.traceSuccess(e.$to(),e),e.success=!0,e._deferred.resolve(e.to()),n(r(t.TransitionHookPhase.SUCCESS))},o=function(i){We.traceError(i,e),e.success=!1,e._deferred.reject(i),e._error=i,n(r(t.TransitionHookPhase.ERROR))},a=function(){var e=r(t.TransitionHookPhase.RUN),n=function(){return ae.$q.when(void 0)};return Je.invokeHooks(e,n)},s=function(){var t=e.router.globals;return t.lastStartedTransitionId=e.$id,t.transition=e,t.transitionHistory.enqueue(e),We.traceTransitionStart(e),ae.$q.when(void 0)},u=r(t.TransitionHookPhase.BEFORE);return Je.invokeHooks(u,s).then(a).then(i,o),this.promise},e.prototype.valid=function(){return!this.error()||void 0!==this.success},e.prototype.abort=function(){zt(this.success)&&(this._aborted=!0)},e.prototype.error=function(){var t=this.$to();return t.self.abstract?"Cannot transition to abstract state '"+t.name+"'":tn.validates(t.parameters(),this.params())?!1===this.success?this._error:void 0:"Param values not valid for state '"+t.name+"'"},e.prototype.toString=function(){var t=this.from(),e=this.to(),n=function(t){return null!==t["#"]&&void 0!==t["#"]?t:y(t,["#"])};return"Transition#"+this.$id+"( '"+(Zt(t)?t.name:t)+"'"+le(n(this._treeChanges.from.map(Pt("paramValues")).reduce(be,{})))+" -> "+(this.valid()?"":"(X) ")+"'"+(Zt(e)?e.name:e)+"'"+le(n(this.params()))+" )"},e}();dn.diToken=dn;var vn=null,mn=function(t){var e=qe.isRejectionPromise;return(vn=vn||u([[Dt(Gt),Lt("undefined")],[Jt,Lt("null")],[ie,Lt("[Promise]")],[e,function(t){return t._transitionRejection.toString()}],[qt(qe),s("toString")],[qt(dn),s("toString")],[qt(on),s("toString")],[c,G],[Lt(!0),l]]))(t)},gn=function(t){return function(e){if(!e)return["",""];var n=e.indexOf(t);return-1===n?[e,""]:[e.substr(0,n),e.substr(n+1)]}},$n=function(){function t(){this.enqueue=!0,this.typeQueue=[],this.defaultTypes=$(t.prototype,["hash","string","query","path","int","bool","date","json","any"]);var e=function(t,e){return new Ye(pe({name:e},t))};this.types=ve(C(this.defaultTypes,e),{})}return t.prototype.dispose=function(){this.types={}},t.prototype.type=function(t,e,n){if(!Gt(e))return this.types[t];if(this.types.hasOwnProperty(t))throw new Error("A type named '"+t+"' has already been defined.");return this.types[t]=new Ye(pe({name:t},e)),n&&(this.typeQueue.push({name:t,def:n}),this.enqueue||this._flushTypeQueue()),this},t.prototype._flushTypeQueue=function(){for(;this.typeQueue.length;){var t=this.typeQueue.shift();if(t.pattern)throw new Error("You cannot override a type's .pattern at runtime.");pe(this.types[t.name],ae.$injector.invoke(t.def))}},t}();!function(){var t=function(t){var e=function(t){return null!=t?t.toString():t},n={encode:e,decode:e,is:qt(String),pattern:/.*/,equals:function(t,e){return t==e}};return pe({},n,t)};pe($n.prototype,{string:t({}),path:t({pattern:/[^\/]*/}),query:t({}),hash:t({inherit:!1}),int:t({decode:function(t){return parseInt(t,10)},is:function(t){return!Qt(t)&&this.decode(t.toString())===t},pattern:/-?\d+/}),bool:t({encode:function(t){return t&&1||0},decode:function(t){return 0!==parseInt(t,10)},is:qt(Boolean),pattern:/0|1/}),date:t({encode:function(t){return this.is(t)?[t.getFullYear(),("0"+(t.getMonth()+1)).slice(-2),("0"+t.getDate()).slice(-2)].join("-"):void 0},decode:function(t){if(this.is(t))return t;var e=this.capture.exec(t);return e?new Date(e[1],e[2]-1,e[3]):void 0},is:function(t){return t instanceof Date&&!isNaN(t.valueOf())},equals:function(t,e){return["getFullYear","getMonth","getDate"].reduce(function(n,r){return n&&t[r]()===e[r]()},!0)},pattern:/[0-9]{4}-(?:0[1-9]|1[0-2])-(?:0[1-9]|[1-2][0-9]|3[0-1])/,capture:/([0-9]{4})-(0[1-9]|1[0-2])-(0[1-9]|[1-2][0-9]|3[0-1])/}),json:t({encode:le,decode:ce,is:qt(Object),equals:de,pattern:/[^\/]*/}),any:t({encode:l,decode:l,is:function(){return!0},equals:de})})}();var yn=function(){function t(t){void 0===t&&(t={}),pe(this,t)}return t.prototype.$inherit=function(t,e,n){var r,i=g(e,n),o={},a=[];for(var s in i)if(i[s]&&i[s].params&&(r=Object.keys(i[s].params),r.length))for(var u in r)a.indexOf(r[u])>=0||(a.push(r[u]),o[r[u]]=this[r[u]]);return pe({},o,t)},t}(),bn=function(t){if(!Xt(t))return!1;var e="^"===t.charAt(0);return{val:e?t.substring(1):t,root:e}},wn=function(t,e){return function(n){var r=n;r&&r.url&&r.name&&r.name.match(/\.\*\*$/)&&(r.url+="{remainder:any}");var i=bn(r.url),o=n.parent,a=i?t.compile(i.val,{params:n.params||{},paramMap:function(t,e){return!1===r.reloadOnSearch&&e&&(t=pe(t||{},{dynamic:!0})),t}}):r.url;if(!a)return null;if(!t.isMatcher(a))throw new Error("Invalid url '"+a+"' in state '"+n+"'");return i&&i.root?a:(o&&o.navigable||e()).url.append(a)}},xn=function(t){return function(e){return!t(e)&&e.url?e:e.parent?e.parent.navigable:null}},Cn=function(t){return function(e){var n=function(e,n){return t.fromConfig(n,null,e)},r=e.url&&e.url.parameters({inherit:!1})||[],i=xe(we(y(e.params||{},r.map(Pt("id"))),n));return r.concat(i).map(function(t){return[t.id,t]}).reduce(k,{})}},Sn=function(){function t(t,e){function n(e){return o(e)?null:t.find(r.parentName(e))||i()}this.matcher=t;var r=this,i=function(){return t.find("")},o=function(t){return""===t.name};this.builders={name:[X],self:[Z],parent:[n],data:[tt],url:[wn(e,i)],navigable:[xn(o)],params:[Cn(e.paramFactory)],views:[],path:[et],includes:[nt],resolvables:[rt]}}return t.prototype.builder=function(t,e){var n=this.builders,r=n[t]||[];return Xt(t)&&!Gt(e)?r.length>1?r:r[0]:Xt(t)&&Kt(e)?(n[t]=r,n[t].push(e),function(){return n[t].splice(n[t].indexOf(e,1))&&null}):void 0},t.prototype.build=function(t){var e=this,n=e.matcher,r=e.builders,i=this.parentName(t);if(i&&!n.find(i,void 0,!1))return null;for(var o in r)if(r.hasOwnProperty(o)){var a=r[o].reduce(function(t,e){return function(n){return e(n,t)}},f);t[o]=a(t)}return t},t.prototype.parentName=function(t){var e=t.name||"",n=e.split(".");if(n.length>1){if(t.parent)throw new Error("States that specify the 'parent:' property should not have a '.' in their name ("+e+")");return"**"===n.pop()&&n.pop(),n.join(".")}return t.parent?Xt(t.parent)?t.parent:t.parent.name:""},t.prototype.name=function(t){var e=t.name;if(-1!==e.indexOf(".")||!t.parent)return e;var n=Xt(t.parent)?t.parent:t.parent.name;return n?n+"."+e:e},t}(),En=function(){function t(t){this._states=t}return t.prototype.isRelative=function(t){return t=t||"",0===t.indexOf(".")||0===t.indexOf("^")},t.prototype.find=function(t,e,n){if(void 0===n&&(n=!0),t||""===t){var r=Xt(t),i=r?t:t.name;this.isRelative(i)&&(i=this.resolvePath(i,e));var o=this._states[i];if(o&&(r||!(r||o!==t&&o.self!==t)))return o;if(r&&n){var a=xe(this._states),s=a.filter(function(t){return t.__stateObjectCache.nameGlob&&t.__stateObjectCache.nameGlob.matches(i)});return s.length>1&&console.log("stateMatcher.find: Found multiple matches for "+i+" using glob: ",s.map(function(t){return t.name})),s[0]}}},t.prototype.resolvePath=function(t,e){if(!e)throw new Error("No reference point given for path '"+t+"'");for(var n=this.find(e),r=t.split("."),i=0,o=r.length,a=n;i<o;i++)if(""!==r[i]||0!==i){if("^"!==r[i])break;if(!a.parent)throw new Error("Path '"+t+"' not valid for state '"+n.name+"'");a=a.parent}else a=n;var s=r.slice(i).join(".");return a.name+(a.name&&s?".":"")+s},t}(),Tn=function(){function t(t,e,n,r,i){this.$registry=t,this.$urlRouter=e,this.states=n,this.builder=r,this.listeners=i,this.queue=[],this.matcher=t.matcher}return t.prototype.dispose=function(){this.queue=[]},t.prototype.register=function(t){var e=this.queue,n=Ft.create(t),r=n.name;if(!Xt(r))throw new Error("State must have a valid name");if(this.states.hasOwnProperty(r)||me(e.map(Pt("name")),r))throw new Error("State '"+r+"' is already defined");return e.push(n),this.flush(),n},t.prototype.flush=function(){for(var t=this,e=this,n=e.queue,r=e.states,i=e.builder,o=[],a=[],s={},u=function(e){return t.states.hasOwnProperty(e)&&t.states[e]};n.length>0;){var c=n.shift(),l=c.name,f=i.build(c),h=a.indexOf(c);if(f){var p=u(l);if(p&&p.name===l)throw new Error("State '"+l+"' is already defined");var d=u(l+".**");d&&this.$registry.deregister(d),r[l]=c,this.attachRoute(c),h>=0&&a.splice(h,1),o.push(c)}else{var v=s[l];if(s[l]=n.length,h>=0&&v===n.length)return n.push(c),r;h<0&&a.push(c),n.push(c)}}return o.length&&this.listeners.forEach(function(t){return t("registered",o.map(function(t){return t.self}))}),r},t.prototype.attachRoute=function(t){!t.abstract&&t.url&&this.$urlRouter.rule(this.$urlRouter.urlRuleFactory.create(t))},t}(),kn=function(){function t(t){this._router=t,this.states={},this.listeners=[],this.matcher=new En(this.states),this.builder=new Sn(this.matcher,t.urlMatcherFactory),this.stateQueue=new Tn(this,t.urlRouter,this.states,this.builder,this.listeners),this._registerRoot()}return t.prototype._registerRoot=function(){var t={name:"",url:"^",views:null,params:{"#":{value:null,type:"hash",dynamic:!0}},abstract:!0};(this._root=this.stateQueue.register(t)).navigable=null},t.prototype.dispose=function(){var t=this;this.stateQueue.dispose(),this.listeners=[],this.get().forEach(function(e){return t.get(e)&&t.deregister(e)})},t.prototype.onStatesChanged=function(t){return this.listeners.push(t),function(){ge(this.listeners)(t)}.bind(this)},t.prototype.root=function(){return this._root},t.prototype.register=function(t){return this.stateQueue.register(t)},t.prototype._deregisterTree=function(t){var e=this,n=this.get().map(function(t){return t.$$state()}),r=function(t){var e=n.filter(function(e){return-1!==t.indexOf(e.parent)});return 0===e.length?e:e.concat(r(e))},i=r([t]),o=[t].concat(i).reverse();return o.forEach(function(t){var n=e._router.urlRouter;n.rules().filter(Nt("state",t)).forEach(n.removeRule.bind(n)),delete e.states[t.name]}),o},t.prototype.deregister=function(t){var e=this.get(t);if(!e)throw new Error("Can't deregister state; not found: "+t);var n=this._deregisterTree(e.$$state());return this.listeners.forEach(function(t){return t("deregistered",n.map(function(t){return t.self}))}),n},t.prototype.get=function(t,e){var n=this;if(0===arguments.length)return Object.keys(this.states).map(function(t){return n.states[t].self});var r=this.matcher.find(t,e);return r&&r.self||null},t.prototype.decorator=function(t,e){return this.builder.builder(t,e)},t}(),An=function(t,e,n){return t[e]=t[e]||n()},On=K("/"),_n=function(){function e(t,n,r,i){var o=this;this.config=i,this._cache={path:[this]},this._children=[],this._params=[],this._segments=[],this._compiled=[],this.pattern=t,this.config=m(this.config,{params:{},strict:!0,caseInsensitive:!1,paramMap:l});for(var a,s,u,c=/([:*])([\w\[\]]+)|\{([\w\[\]]+)(?:\:\s*((?:[^{}\\]+|\\.|\{(?:[^{}\\]+|\\.)*\})+))?\}/g,f=/([:]?)([\w\[\].-]+)|\{([\w\[\].-]+)(?:\:\s*((?:[^{}\\]+|\\.|\{(?:[^{}\\]+|\\.)*\})+))?\}/g,h=0,p=[],d=function(n){if(!e.nameValidator.test(n))throw new Error("Invalid parameter name '"+n+"' in pattern '"+t+"'");if(x(o._params,Nt("id",n)))throw new Error("Duplicate parameter name '"+n+"' in pattern '"+t+"'")},v=function(e,r){var i=e[2]||e[3],a=r?e[4]:e[4]||("*"===e[1]?".*":null);return{id:i,regexp:a,cfg:o.config.params[i],segment:t.substring(h,e.index),type:a?n.type(a)||function(t){return ve(n.type(r?"query":"path"),{pattern:new RegExp(t,o.config.caseInsensitive?"i":void 0)})}(a):null}};(a=c.exec(t))&&(s=v(a,!1),!(s.segment.indexOf("?")>=0));)d(s.id),this._params.push(r.fromPath(s.id,s.type,this.config.paramMap(s.cfg,!1))),this._segments.push(s.segment),p.push([s.segment,A(this._params)]),h=c.lastIndex;u=t.substring(h);var g=u.indexOf("?");if(g>=0){var $=u.substring(g);if(u=u.substring(0,g),$.length>0)for(h=0;a=f.exec($);)s=v(a,!0),d(s.id),this._params.push(r.fromSearch(s.id,s.type,this.config.paramMap(s.cfg,!0))),h=c.lastIndex}this._segments.push(u),this._compiled=p.map(function(t){return it.apply(null,t)}).concat(it(u))}return e.prototype.append=function(t){return this._children.push(t),t._cache={path:this._cache.path.concat(t),parent:this,pattern:null},t},e.prototype.isRoot=function(){return this._cache.path[0]===this},e.prototype.toString=function(){return this.pattern},e.prototype.exec=function(t,e,n,r){var i=this;void 0===e&&(e={}),void 0===r&&(r={});var o=An(this._cache,"pattern",function(){return new RegExp(["^",Ae(i._cache.path.map(Pt("_compiled"))).join(""),!1===i.config.strict?"/?":"","$"].join(""),i.config.caseInsensitive?"i":void 0)}).exec(t);if(!o)return null;var a=this.parameters(),s=a.filter(function(t){return!t.isSearch()}),u=a.filter(function(t){return t.isSearch()}),c=this._cache.path.map(function(t){return t._segments.length-1}).reduce(function(t,e){return t+e}),l={};if(c!==o.length-1)throw new Error("Unbalanced capture group in route '"+this.pattern+"'");for(var f=0;f<c;f++){for(var h=s[f],p=o[f+1],d=0;d<h.replace.length;d++)h.replace[d].from===p&&(p=h.replace[d].to);p&&!0===h.array&&(p=function(t){var e=function(t){return t.split("").reverse().join("")},n=function(t){return t.replace(/\\-/g,"-")};return C(C(e(t).split(/-(?!\\)/),e),n).reverse()}(p)),Gt(p)&&(p=h.type.decode(p)),l[h.id]=h.value(p)}return u.forEach(function(t){for(var n=e[t.id],r=0;r<t.replace.length;r++)t.replace[r].from===n&&(n=t.replace[r].to);Gt(n)&&(n=t.type.decode(n)),l[t.id]=t.value(n)}),n&&(l["#"]=n),l},e.prototype.parameters=function(t){return void 0===t&&(t={}),!1===t.inherit?this._params:Ae(this._cache.path.map(function(t){return t._params}))},e.prototype.parameter=function(t,e){var n=this;void 0===e&&(e={});var r=this._cache.parent;return function(){for(var e=0,r=n._params;e<r.length;e++){var i=r[e];if(i.id===t)return i}}()||!1!==e.inherit&&r&&r.parameter(t,e)||null},e.prototype.validates=function(t){var e=function(t,e){return!t||t.validates(e)};return t=t||{},this.parameters().filter(function(e){return t.hasOwnProperty(e.id)}).map(function(n){return e(n,t[n.id])}).reduce(Ce,!0)},e.prototype.format=function(t){function n(e){var n=e.value(t[e.id]),r=e.validates(n),i=e.isDefaultValue(n);return{param:e,value:n,isValid:r,isDefaultValue:i,squash:!!i&&e.squash,encoded:e.type.encode(n)}}void 0===t&&(t={});var r=this._cache.path,i=r.map(e.pathSegmentsAndParams).reduce(Ee,[]).map(function(t){return Xt(t)?t:n(t)}),o=r.map(e.queryParams).reduce(Ee,[]).map(n),a=function(t){return!1===t.isValid};if(i.concat(o).filter(a).length)return null;var s=i.reduce(function(t,n){if(Xt(n))return t+n;var r=n.squash,i=n.encoded,o=n.param;return!0===r?t.match(/\/$/)?t.slice(0,-1):t:Xt(r)?t+r:!1!==r?t:null==i?t:te(i)?t+C(i,e.encodeDashes).join("-"):o.raw?t+i:t+encodeURIComponent(i)},""),u=o.map(function(t){var e=t.param,n=t.squash,r=t.encoded,i=t.isDefaultValue;if(!(null==r||i&&!1!==n)&&(te(r)||(r=[r]),0!==r.length))return e.raw||(r=C(r,encodeURIComponent)),r.map(function(t){return e.id+"="+t})}).filter(l).reduce(Ee,[]).join("&");return s+(u?"?"+u:"")+(t["#"]?"#"+t["#"]:"")},e.encodeDashes=function(t){return encodeURIComponent(t).replace(/-/g,function(t){return"%5C%"+t.charCodeAt(0).toString(16).toUpperCase()})},e.pathSegmentsAndParams=function(e){return T(e._segments,e._params.filter(function(e){return e.location===t.DefType.PATH}).concat(void 0)).reduce(Ee,[]).filter(function(t){return""!==t&&Gt(t)})},e.queryParams=function(e){return e._params.filter(function(e){return e.location===t.DefType.SEARCH})},e.compare=function(t,n){var r,i,o=function(t){return t._cache.segments=t._cache.segments||t._cache.path.map(e.pathSegmentsAndParams).reduce(Ee,[]).reduce(Y,[]).map(function(t){return Xt(t)?On(t):t}).reduce(Ee,[])},a=function(t){return t._cache.weights=t._cache.weights||o(t).map(function(t){return"/"===t?1:Xt(t)?2:t instanceof tn?3:void 0})},s=T(a(t),a(n));for(i=0;i<s.length;i++)if(0!==(r=s[i][0]-s[i][1]))return r;return 0},e}();_n.nameValidator=/^\w+([-.]+\w+)*(?:\[\])?$/;var Rn=function(){function e(){var e=this;this.paramTypes=new $n,this._isCaseInsensitive=!1,this._isStrictMode=!0,this._defaultSquashPolicy=!1,this._getConfig=function(t){return pe({strict:e._isStrictMode,caseInsensitive:e._isCaseInsensitive},t)},this.paramFactory={fromConfig:function(n,r,i){return new tn(n,r,i,t.DefType.CONFIG,e)},fromPath:function(n,r,i){return new tn(n,r,i,t.DefType.PATH,e)},fromSearch:function(n,r,i){return new tn(n,r,i,t.DefType.SEARCH,e)}},pe(this,{UrlMatcher:_n,Param:tn})}return e.prototype.caseInsensitive=function(t){return this._isCaseInsensitive=Gt(t)?t:this._isCaseInsensitive},e.prototype.strictMode=function(t){return this._isStrictMode=Gt(t)?t:this._isStrictMode},e.prototype.defaultSquashPolicy=function(t){if(Gt(t)&&!0!==t&&!1!==t&&!Xt(t))throw new Error("Invalid squash policy: "+t+". Valid policies: false, true, arbitrary-string");return this._defaultSquashPolicy=Gt(t)?t:this._defaultSquashPolicy},e.prototype.compile=function(t,e){return new _n(t,this.paramTypes,this.paramFactory,this._getConfig(e))},e.prototype.isMatcher=function(t){if(!Zt(t))return!1;var e=!0;return he(_n.prototype,function(n,r){Kt(n)&&(e=e&&Gt(t[r])&&Kt(t[r]))}),e},e.prototype.type=function(t,e,n){var r=this.paramTypes.type(t,e,n);return Gt(e)?this:r},e.prototype.$get=function(){return this.paramTypes.enqueue=!1,this.paramTypes._flushTypeQueue(),this},e.prototype.dispose=function(){this.paramTypes.dispose()},e}(),jn=function(){function t(t){this.router=t}return t.prototype.compile=function(t){return this.router.urlMatcherFactory.compile(t)},t.prototype.create=function(t,e){var n=this,r=u([[Xt,function(t){return r(n.compile(t))}],[qt(_n),function(t){return n.fromUrlMatcher(t,e)}],[re,function(t){return n.fromState(t,n.router)}],[qt(RegExp),function(t){return n.fromRegExp(t,e)}],[Kt,function(t){return new Nn(t,e)}]]),i=r(t);if(!i)throw new Error("invalid 'what' in when()");return i},t.prototype.fromUrlMatcher=function(t,e){function n(e){var n=t.exec(e.path,e.search,e.hash);return t.validates(n)&&n}function r(e){var n=t.parameters().filter(function(t){return t.isOptional});return n.length?n.filter(function(t){return e[t.id]}).length/n.length:1e-6}var i=e;Xt(e)&&(e=this.router.urlMatcherFactory.compile(e)),qt(_n)(e)&&(i=function(t){return e.format(t)});var o={urlMatcher:t,matchPriority:r,type:"URLMATCHER"};return pe(new Nn(n,i),o)},t.prototype.fromState=function(t,e){var n=function(n){var r=e.stateService,i=e.globals;r.href(t,n)!==r.href(i.current,i.params)&&r.transitionTo(t,n,{inherit:!0,source:"url"})},r={state:t,type:"STATE"};return pe(this.fromUrlMatcher(t.url,n),r)},t.prototype.fromRegExp=function(t,e){if(t.global||t.sticky)throw new Error("Rule RegExp must not be global or sticky");var n=function(t){return e.replace(/\$(\$|\d{1,2})/,function(e,n){return t["$"===n?0:Number(n)]})},r=Xt(e)?n:e,i=function(e){return t.exec(e.path)},o={regexp:t,type:"REGEXP"};return pe(new Nn(i,r),o)},t}();jn.isUrlRule=function(t){return t&&["type","match","handler"].every(function(e){return Gt(t[e])})};var Pn,Nn=function(){function t(t,e){var n=this;this.match=t,this.type="RAW",this.matchPriority=function(t){return 0-n.$id},this.handler=e||l}return t}(),In=Pt("urlMatcher");Pn=Ne(Pe(i(Pt("priority"),function(t){return-t})),Pe(i(Pt("type"),function(t){return{STATE:4,URLMATCHER:4,REGEXP:3,RAW:2,OTHER:1}[t]})),function(t,e){return In(t)&&In(e)?_n.compare(In(t),In(e)):0},Pe(Pt("$id"),me(["REGEXP","RAW","OTHER"])));var Dn=function(){function t(e){this._sortFn=Pn,this._rules=[],this.interceptDeferred=!1,this._id=0,this._sorted=!1,this._router=e,this.urlRuleFactory=new jn(e),h(Lt(t.prototype),this,Lt(this))}return t.prototype.dispose=function(){this.listen(!1),this._rules=[],delete this._otherwiseFn},t.prototype.sort=function(t){this._rules.sort(this._sortFn=t||this._sortFn),this._sorted=!0},t.prototype.ensureSorted=function(){this._sorted||this.sort()},t.prototype.match=function(t){var e=this;this.ensureSorted(),t=pe({path:"",search:{},hash:""},t);var n=this.rules();this._otherwiseFn&&n.push(this._otherwiseFn);for(var r,i=0;i<n.length&&(!r||0===this._sortFn(n[i],r.rule));i++){var o=function(n){var r=n.match(t,e._router);return r&&{match:r,rule:n,weight:n.matchPriority(r)}}(n[i]);r=!r||o&&o.weight>r.weight?o:r}return r},t.prototype.sync=function(t){if(!t||!t.defaultPrevented){var e=this._router,n=e.urlService,r=e.stateService,i={path:n.path(),search:n.search(),hash:n.hash()},o=this.match(i);u([[Xt,function(t){return n.url(t,!0)}],[ze.isDef,function(t){return r.go(t.state,t.params,t.options)}],[qt(ze),function(t){return r.go(t.state(),t.params(),t.options())}]])(o&&o.rule.handler(o.match,i,e))}},t.prototype.listen=function(t){var e=this;if(!1!==t)return this._stopFn=this._stopFn||this._router.urlService.onChange(function(t){return e.sync(t)});this._stopFn&&this._stopFn(),delete this._stopFn},t.prototype.update=function(t){var e=this._router.locationService;if(t)return void(this.location=e.path());e.path()!==this.location&&e.url(this.location,!0)},t.prototype.push=function(t,e,n){var r=n&&!!n.replace;this._router.urlService.url(t.format(e||{}),r)},t.prototype.href=function(t,e,n){var r=t.format(e);if(null==r)return null;n=n||{absolute:!1};var i=this._router.urlService.config,o=i.html5Mode();if(o||null===r||(r="#"+i.hashPrefix()+r),r=ot(r,o,n.absolute,i.baseHref()),!n.absolute||!r)return r;var a=!o&&r?"/":"",s=i.port();return s=80===s||443===s?"":":"+s,[i.protocol(),"://",i.host(),s,a,r].join("")},t.prototype.rule=function(t){var e=this;if(!jn.isUrlRule(t))throw new Error("invalid rule");return t.$id=this._id++,t.priority=t.priority||0,this._rules.push(t),this._sorted=!1,function(){return e.removeRule(t)}},t.prototype.removeRule=function(t){ge(this._rules,t)},t.prototype.rules=function(){return this.ensureSorted(),this._rules.slice()},t.prototype.otherwise=function(t){var e=at(t);this._otherwiseFn=this.urlRuleFactory.create(Lt(!0),e),this._sorted=!1},t.prototype.initial=function(t){var e=at(t),n=function(t,e){return 0===e.globals.transitionHistory.size()&&!!/^\/?$/.exec(t.path)};this.rule(this.urlRuleFactory.create(n,e))},t.prototype.when=function(t,e,n){var r=this.urlRuleFactory.create(t,e);return Gt(n&&n.priority)&&(r.priority=n.priority),this.rule(r),r},t.prototype.deferIntercept=function(t){void 0===t&&(t=!0),this.interceptDeferred=t},t}(),Vn=function(){function t(){var t=this;this._uiViews=[],this._viewConfigs=[],this._viewConfigFactories={},this._pluginapi={_rootViewContext:this._rootViewContext.bind(this),_viewConfigFactory:this._viewConfigFactory.bind(this),_registeredUIViews:function(){return t._uiViews},_activeViewConfigs:function(){return t._viewConfigs}}}return t.prototype._rootViewContext=function(t){return this._rootContext=t||this._rootContext},t.prototype._viewConfigFactory=function(t,e){this._viewConfigFactories[t]=e},t.prototype.createViewConfig=function(t,e){var n=this._viewConfigFactories[e.$type];if(!n)throw new Error("ViewService: No view config factory registered for type "+e.$type);var r=n(t,e);return te(r)?r:[r]},t.prototype.deactivateViewConfig=function(t){We.traceViewServiceEvent("<- Removing",t),ge(this._viewConfigs,t)},t.prototype.activateViewConfig=function(t){We.traceViewServiceEvent("-> Registering",t),this._viewConfigs.push(t)},t.prototype.sync=function(){function e(t){var e=function(t){return t&&t.parent?e(t.parent)+1:1};return 1e4*t.fqn.split(".").length+e(t.creationContext)}function r(t){for(var e=t.viewDecl.$context,n=0;++n&&e.parent;)e=e.parent;return n}var i=this,o=this._uiViews.map(function(t){return[t.fqn,t]}).reduce(k,{}),a=n(function(t,e,n,r){return e*(t(n)-t(r))}),s=function(e){var n=i._viewConfigs.filter(t.matches(o,e));return n.length>1&&n.sort(a(r,-1)),[e,n[0]]},u=function(t){var e=t[0],n=t[1];-1!==i._uiViews.indexOf(e)&&e.configUpdated(n)};this._uiViews.sort(a(e,1)).map(s).forEach(u)},t.prototype.registerUIView=function(t){We.traceViewServiceUIViewEvent("-> Registering",t);var e=this._uiViews,n=function(e){return e.fqn===t.fqn};return e.filter(n).length&&We.traceViewServiceUIViewEvent("!!!! duplicate uiView named:",t),e.push(t),this.sync(),function(){if(-1===e.indexOf(t))return void We.traceViewServiceUIViewEvent("Tried removing non-registered uiView",t);We.traceViewServiceUIViewEvent("<- Deregistering",t),ge(e)(t)}},t.prototype.available=function(){return this._uiViews.map(Pt("fqn"))},t.prototype.active=function(){return this._uiViews.filter(Pt("$config")).map(Pt("name"))},t.normalizeUIViewTarget=function(t,e){void 0===e&&(e="");var n=e.split("@"),r=n[0]||"$default",i=Xt(n[1])?n[1]:"^",o=/^(\^(?:\.\^)*)\.(.*$)/.exec(r);(o&&(i=o[1],r=o[2]),"!"===r.charAt(0)&&(r=r.substr(1),i=""),/^(\^(?:\.\^)*)$/.exec(i))?i=i.split(".").reduce(function(t,e){return t.parent},t).name:"."===i&&(i=t.name);return{uiViewName:r,uiViewContextAnchor:i}},t}();Vn.matches=function(t,e){return function(n){if(e.$type!==n.viewDecl.$type)return!1;var r=n.viewDecl,i=r.$uiViewName.split("."),o=e.fqn.split(".");if(!de(i,o.slice(0-i.length)))return!1;var a=1-i.length||void 0,s=o.slice(0,a).join("."),u=t[s].creationContext;return r.$uiViewContextAnchor===(u&&u.name)}};var Mn=function(){function t(){this.params=new yn,this.lastStartedTransitionId=-1,this.transitionHistory=new Ve([],1),this.successfulTransitions=new Ve([],1)}return t.prototype.dispose=function(){this.transitionHistory.clear(),this.successfulTransitions.clear(),this.transition=null},t}(),qn=function(t){return t.reduce(function(t,e){return t[e]=oe(e),t},{dispose:f})},Hn=["url","path","search","hash","onChange"],Ln=["port","protocol","host","baseHref","html5Mode","hashPrefix"],Un=["type","caseInsensitive","strictMode","defaultSquashPolicy"],Fn=["sort","when","initial","otherwise","rules","rule","removeRule"],Bn=["deferIntercept","listen","sync","match"],Wn=function(){function t(t,e){void 0===e&&(e=!0),this.router=t,this.rules={},this.config={};var n=function(){return t.locationService};h(n,this,n,Hn,e);var r=function(){return t.locationConfig};h(r,this.config,r,Ln,e);var i=function(){return t.urlMatcherFactory};h(i,this.config,i,Un);var o=function(){return t.urlRouter};h(o,this.rules,o,Fn),h(o,this,o,Bn)}return t.prototype.url=function(t,e,n){},t.prototype.path=function(){},t.prototype.search=function(){},t.prototype.hash=function(){},t.prototype.onChange=function(t){},t.prototype.parts=function(){return{path:this.path(),search:this.search(),hash:this.hash()}},t.prototype.dispose=function(){},t.prototype.sync=function(t){},t.prototype.listen=function(t){},t.prototype.deferIntercept=function(t){},t.prototype.match=function(t){},t}();Wn.locationServiceStub=qn(Hn),
Wn.locationConfigStub=qn(Ln);var zn=0,Gn=function(){function t(t,e){void 0===t&&(t=Wn.locationServiceStub),void 0===e&&(e=Wn.locationConfigStub),this.locationService=t,this.locationConfig=e,this.$id=zn++,this._disposed=!1,this._disposables=[],this.trace=We,this.viewService=new Vn,this.transitionService=new wr(this),this.globals=new Mn,this.urlMatcherFactory=new Rn,this.urlRouter=new Dn(this),this.stateRegistry=new kn(this),this.stateService=new xr(this),this.urlService=new Wn(this),this._plugins={},this.viewService._pluginapi._rootViewContext(this.stateRegistry.root()),this.globals.$current=this.stateRegistry.root(),this.globals.current=this.globals.$current.self,this.disposable(this.globals),this.disposable(this.stateService),this.disposable(this.stateRegistry),this.disposable(this.transitionService),this.disposable(this.urlRouter),this.disposable(t),this.disposable(e)}return t.prototype.disposable=function(t){this._disposables.push(t)},t.prototype.dispose=function(t){var e=this;if(t&&Kt(t.dispose))return void t.dispose(this);this._disposed=!0,this._disposables.slice().forEach(function(t){try{"function"==typeof t.dispose&&t.dispose(e),ge(e._disposables,t)}catch(t){}})},t.prototype.plugin=function(t,e){void 0===e&&(e={});var n=new t(this,e);if(!n.name)throw new Error("Required property `name` missing on plugin: "+n);return this._disposables.push(n),this._plugins[n.name]=n},t.prototype.getPlugin=function(t){return t?this._plugins[t]:xe(this._plugins)},t}(),Jn=function(t){return t.onCreate({},st)},Qn=function(t){function e(e){if(e)return e instanceof ze?e:Xt(e)?r.target(e,t.params(),t.options()):e.state||e.params?r.target(e.state||t.to(),e.params||t.params(),t.options()):void 0}var n=t.to().redirectTo;if(n){var r=t.router.stateService;return Kt(n)?ae.$q.when(n(t)).then(e):e(n)}},Kn=function(t){return t.onStart({to:function(t){return!!t.redirectTo}},Qn)},Yn=ut("onExit"),Xn=function(t){return t.onExit({exiting:function(t){return!!t.onExit}},Yn)},Zn=ut("onRetain"),tr=function(t){return t.onRetain({retained:function(t){return!!t.onRetain}},Zn)},er=ut("onEnter"),nr=function(t){return t.onEnter({entering:function(t){return!!t.onEnter}},er)},rr=function(t){return new fn(t.treeChanges().to).resolvePath("EAGER",t).then(f)},ir=function(t){return t.onStart({},rr,{priority:1e3})},or=function(t,e){return new fn(t.treeChanges().to).subContext(e.$$state()).resolvePath("LAZY",t).then(f)},ar=function(t){return t.onEnter({entering:Lt(!0)},or,{priority:1e3})},sr=function(t){var e=ae.$q,n=t.views("entering");if(n.length)return e.all(n.map(function(t){return e.when(t.load())})).then(f)},ur=function(t){return t.onFinish({},sr)},cr=function(t){var e=t.views("entering"),n=t.views("exiting");if(e.length||n.length){var r=t.router.viewService;n.forEach(function(t){return r.deactivateViewConfig(t)}),e.forEach(function(t){return r.activateViewConfig(t)}),r.sync()}},lr=function(t){return t.onSuccess({},cr)},fr=function(t){var e=t.router.globals,n=function(){e.successfulTransitions.enqueue(t),e.$current=t.$to(),e.current=e.$current.self,fe(t.params(),e.params)},r=function(){e.transition===t&&(e.transition=null)};t.onSuccess({},n,{priority:1e4}),t.promise.then(r,r)},hr=function(t){return t.onCreate({},fr)},pr=function(t){var e=t.options(),n=t.router.stateService,r=t.router.urlRouter;if("url"!==e.source&&e.location&&n.$current.navigable){var i={replace:"replace"===e.location};r.push(n.$current.navigable.url,n.params,i)}r.update(!0)},dr=function(t){return t.onSuccess({},pr,{priority:9999})},vr=function(t){function e(){if("url"!==t.originalTransition().options().source){var e=t.targetState();return n.stateService.target(e.identifier(),e.params(),e.options())}var r=n.urlService,i=r.match(r.parts()),o=i&&i.rule;if(o&&"STATE"===o.type){var a=o.state,s=i.match;return n.stateService.target(a,s,t.options())}n.urlService.sync()}var n=t.router,r=t.entering().filter(function(t){return!!t.$$state().lazyLoad}).map(function(e){return ct(t,e)});return ae.$q.all(r).then(e)},mr=function(t){return t.onBefore({entering:function(t){return!!t.lazyLoad}},vr)},gr=function(){function t(t,e,n,r,i,o,a,s){void 0===i&&(i=!1),void 0===o&&(o=Je.HANDLE_RESULT),void 0===a&&(a=Je.REJECT_ERROR),void 0===s&&(s=!1),this.name=t,this.hookPhase=e,this.hookOrder=n,this.criteriaMatchPath=r,this.reverseSort=i,this.getResultHandler=o,this.getErrorHandler=a,this.synchronous=s}return t}(),$r=function(t){return t.onBefore({},lt,{priority:-9999})},yr=function(t){return t.onBefore({},ft,{priority:-1e4})},br={location:!0,relative:null,inherit:!1,notify:!0,reload:!1,custom:{},current:function(){return null},source:"unknown"},wr=function(){function e(t){this._transitionCount=0,this._eventTypes=[],this._registeredHooks={},this._criteriaPaths={},this._router=t,this.$view=t.viewService,this._deregisterHookFns={},this._pluginapi=h(Lt(this),{},Lt(this),["_definePathType","_defineEvent","_getPathTypes","_getEvents","getHooks"]),this._defineCorePaths(),this._defineCoreEvents(),this._registerCoreTransitionHooks()}return e.prototype.onCreate=function(t,e,n){},e.prototype.onBefore=function(t,e,n){},e.prototype.onStart=function(t,e,n){},e.prototype.onExit=function(t,e,n){},e.prototype.onRetain=function(t,e,n){},e.prototype.onEnter=function(t,e,n){},e.prototype.onFinish=function(t,e,n){},e.prototype.onSuccess=function(t,e,n){},e.prototype.onError=function(t,e,n){},e.prototype.dispose=function(t){xe(this._registeredHooks).forEach(function(t){return t.forEach(function(e){e._deregistered=!0,ge(t,e)})})},e.prototype.create=function(t,e){return new dn(t,e,this._router)},e.prototype._defineCoreEvents=function(){var e=t.TransitionHookPhase,n=Je,r=this._criteriaPaths;this._defineEvent("onCreate",e.CREATE,0,r.to,!1,n.LOG_REJECTED_RESULT,n.THROW_ERROR,!0),this._defineEvent("onBefore",e.BEFORE,0,r.to),this._defineEvent("onStart",e.RUN,0,r.to),this._defineEvent("onExit",e.RUN,100,r.exiting,!0),this._defineEvent("onRetain",e.RUN,200,r.retained),this._defineEvent("onEnter",e.RUN,300,r.entering),this._defineEvent("onFinish",e.RUN,400,r.to),this._defineEvent("onSuccess",e.SUCCESS,0,r.to,!1,n.LOG_REJECTED_RESULT,n.LOG_ERROR,!0),this._defineEvent("onError",e.ERROR,0,r.to,!1,n.LOG_REJECTED_RESULT,n.LOG_ERROR,!0)},e.prototype._defineCorePaths=function(){var e=t.TransitionHookScope.STATE,n=t.TransitionHookScope.TRANSITION;this._definePathType("to",n),this._definePathType("from",n),this._definePathType("exiting",e),this._definePathType("retained",e),this._definePathType("entering",e)},e.prototype._defineEvent=function(t,e,n,r,i,o,a,s){void 0===i&&(i=!1),void 0===o&&(o=Je.HANDLE_RESULT),void 0===a&&(a=Je.REJECT_ERROR),void 0===s&&(s=!1);var u=new gr(t,e,n,r,i,o,a,s);this._eventTypes.push(u),V(this,this,u)},e.prototype._getEvents=function(t){return(Gt(t)?this._eventTypes.filter(function(e){return e.hookPhase===t}):this._eventTypes.slice()).sort(function(t,e){var n=t.hookPhase-e.hookPhase;return 0===n?t.hookOrder-e.hookOrder:n})},e.prototype._definePathType=function(t,e){this._criteriaPaths[t]={name:t,scope:e}},e.prototype._getPathTypes=function(){return this._criteriaPaths},e.prototype.getHooks=function(t){return this._registeredHooks[t]},e.prototype._registerCoreTransitionHooks=function(){var t=this._deregisterHookFns;t.addCoreResolves=Jn(this),t.ignored=$r(this),t.invalid=yr(this),t.redirectTo=Kn(this),t.onExit=Xn(this),t.onRetain=tr(this),t.onEnter=nr(this),t.eagerResolve=ir(this),t.lazyResolve=ar(this),t.loadViews=ur(this),t.activateViews=lr(this),t.updateGlobals=hr(this),t.updateUrl=dr(this),t.lazyLoad=mr(this)},e}(),xr=function(){function e(t){this.router=t,this.invalidCallbacks=[],this._defaultErrorHandler=function(t){t instanceof Error&&t.stack?(console.error(t),console.error(t.stack)):t instanceof qe?(console.error(t.toString()),t.detail&&t.detail.stack&&console.error(t.detail.stack)):console.error(t)};var n=["current","$current","params","transition"],r=Object.keys(e.prototype).filter(Dt(me(n)));h(Lt(e.prototype),this,Lt(this),r)}return Object.defineProperty(e.prototype,"transition",{get:function(){return this.router.globals.transition},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"params",{get:function(){return this.router.globals.params},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"current",{get:function(){return this.router.globals.current},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"$current",{get:function(){return this.router.globals.$current},enumerable:!0,configurable:!0}),e.prototype.dispose=function(){this.defaultErrorHandler(f),this.invalidCallbacks=[]},e.prototype._handleInvalidTargetState=function(t,e){function n(){var t=u.dequeue();return void 0===t?qe.invalid(e.error()).toPromise():ae.$q.when(t(e,i,c)).then(l).then(function(t){return t||n()})}var r=this,i=nn.makeTargetState(t),o=this.router.globals,a=function(){return o.transitionHistory.peekTail()},s=a(),u=new Ve(this.invalidCallbacks.slice()),c=new fn(t).injector(),l=function(t){if(t instanceof ze){var e=t;return e=r.target(e.identifier(),e.params(),e.options()),e.valid()?a()!==s?qe.superseded().toPromise():r.transitionTo(e.identifier(),e.params(),e.options()):qe.invalid(e.error()).toPromise()}};return n()},e.prototype.onInvalid=function(t){return this.invalidCallbacks.push(t),function(){ge(this.invalidCallbacks)(t)}.bind(this)},e.prototype.reload=function(t){return this.transitionTo(this.current,this.params,{reload:!Gt(t)||t,inherit:!1,notify:!1})},e.prototype.go=function(t,e,n){var r={relative:this.$current,inherit:!0},i=m(n,r,br);return this.transitionTo(t,e,i)},e.prototype.target=function(t,e,n){if(void 0===n&&(n={}),Zt(n.reload)&&!n.reload.name)throw new Error("Invalid reload state object");var r=this.router.stateRegistry;if(n.reloadState=!0===n.reload?r.root():r.matcher.find(n.reload,n.relative),n.reload&&!n.reloadState)throw new Error("No such reload state '"+(Xt(n.reload)?n.reload:n.reload.name)+"'");var i=r.matcher.find(t,n.relative);return new ze(t,i,e,n)},e.prototype.getCurrentPath=function(){var t=this,e=this.router.globals,n=e.successfulTransitions.peekTail();return n?n.treeChanges().to:function(){return[new en(t.router.stateRegistry.root())]}()},e.prototype.transitionTo=function(e,n,r){var i=this;void 0===n&&(n={}),void 0===r&&(r={});var o=this.router,a=o.globals;r=m(r,br),r=pe(r,{current:function(){return a.transition}});var s=this.target(e,n,r),u=this.getCurrentPath();if(!s.exists())return this._handleInvalidTargetState(u,s);if(!s.valid())return De(s.error());var c=function(e){return function(n){if(n instanceof qe){var r=o.globals.lastStartedTransitionId===e.$id;if(n.type===t.RejectType.IGNORED)return r&&o.urlRouter.update(),ae.$q.when(a.current);var s=n.detail;if(n.type===t.RejectType.SUPERSEDED&&n.redirected&&s instanceof ze){var u=e.redirect(s);return u.run().catch(c(u))}if(n.type===t.RejectType.ABORTED)return r&&o.urlRouter.update(),ae.$q.reject(n)}return i.defaultErrorHandler()(n),ae.$q.reject(n)}},l=this.router.transitionService.create(u,s),f=l.run().catch(c(l));return Ie(f),pe(f,{transition:l})},e.prototype.is=function(t,e,n){n=m(n,{relative:this.$current});var r=this.router.stateRegistry.matcher.find(t,n.relative);if(Gt(r)){if(this.$current!==r)return!1;if(!e)return!0;var i=r.parameters({inherit:!0,matchingKeys:e});return tn.equals(i,tn.values(i,e),this.params)}},e.prototype.includes=function(t,e,n){n=m(n,{relative:this.$current});var r=Xt(t)&&Ut.fromString(t);if(r){if(!r.matches(this.$current.name))return!1;t=this.$current.name}var i=this.router.stateRegistry.matcher.find(t,n.relative),o=this.$current.includes;if(Gt(i)){if(!Gt(o[i.name]))return!1;if(!e)return!0;var a=i.parameters({inherit:!0,matchingKeys:e});return tn.equals(a,tn.values(a,e),this.params)}},e.prototype.href=function(t,e,n){n=m(n,{lossy:!0,inherit:!0,absolute:!1,relative:this.$current}),e=e||{};var r=this.router.stateRegistry.matcher.find(t,n.relative);if(!Gt(r))return null;n.inherit&&(e=this.params.$inherit(e,this.$current,r));var i=r&&n.lossy?r.navigable:r;return i&&void 0!==i.url&&null!==i.url?this.router.urlRouter.href(i.url,e,{absolute:n.absolute}):null},e.prototype.defaultErrorHandler=function(t){return this._defaultErrorHandler=t||this._defaultErrorHandler},e.prototype.get=function(t,e){var n=this.router.stateRegistry;return 0===arguments.length?n.get():n.get(t,e||this.$current)},e.prototype.lazyLoad=function(t,e){var n=this.get(t);if(!n||!n.lazyLoad)throw new Error("Can not lazy load "+t);var r=this.getCurrentPath(),i=nn.makeTargetState(r);return e=e||this.router.transitionService.create(r,i),ct(e,n)},e}(),Cr={when:function(t){return new Promise(function(e,n){return e(t)})},reject:function(t){return new Promise(function(e,n){n(t)})},defer:function(){var t={};return t.promise=new Promise(function(e,n){t.resolve=e,t.reject=n}),t},all:function(t){if(te(t))return Promise.all(t);if(Zt(t)){var e=Object.keys(t).map(function(e){return t[e].then(function(t){return{key:e,val:t}})});return Cr.all(e).then(function(t){return t.reduce(function(t,e){return t[e.key]=e.val,t},{})})}}},Sr={},Er={get:function(t){return Sr[t]},has:function(t){return null!=Er.get(t)},invoke:function(t,e,n){var r=pe({},Sr,n||{}),i=Er.annotate(t),o=_e(function(t){return r.hasOwnProperty(t)},function(t){return"DI can't find injectable: '"+t+"'"}),a=i.filter(o).map(function(t){return r[t]});return Kt(t)?t.apply(e,a):t.slice(-1)[0].apply(e,a)},annotate:function(t){if(!c(t))throw new Error("Not an injectable function: "+t);if(t&&t.$inject)return t.$inject;if(te(t))return t.slice(0,-1);var e=t.toString().replace(/((\/\/.*$)|(\/\*[\s\S]*?\*\/))/gm,"");return e.slice(e.indexOf("(")+1,e.indexOf(")")).match(/([^\s,]+)/g)||[]}},Tr=function(t){return function(e){if(!e)return["",""];var n=e.indexOf(t);return-1===n?[e,""]:[e.substr(0,n),e.substr(n+1)]}},kr=Tr("#"),Ar=Tr("?"),Or=Tr("="),_r=function(t){return t?t.replace(/^#/,""):""},Rr=function(t,e){var n=e[0],r=e[1];return t.hasOwnProperty(n)?te(t[n])?t[n].push(r):t[n]=[t[n],r]:t[n]=r,t},jr=function(t){return t.split("&").filter(l).map(Or).reduce(Rr,{})},Pr=function(t){var e=t.path(),n=t.search(),r=t.hash(),i=Object.keys(n).map(function(t){var e=n[t];return(te(e)?e:[e]).map(function(e){return t+"="+e})}).reduce(Ee,[]).join("&");return e+(i?"?"+i:"")+(r?"#"+r:"")},Nr=function(){function t(t,e){var n=this;this.fireAfterUpdate=e,this._listener=function(t){return n._listeners.forEach(function(e){return e(t)})},this._listeners=[],this.hash=function(){return ht(n._get()).hash},this.path=function(){return ht(n._get()).path},this.search=function(){return jr(ht(n._get()).search)},this._location=window&&window.location,this._history=window&&window.history}return t.prototype.url=function(t,e){if(void 0===e&&(e=!0),Gt(t)&&t!==this._get()&&(this._set(null,null,t,e),this.fireAfterUpdate)){var n=pe(new Event("locationchange"),{url:t});this._listeners.forEach(function(t){return t(n)})}return Pr(this)},t.prototype.onChange=function(t){var e=this;return this._listeners.push(t),function(){return ge(e._listeners,t)}},t.prototype.dispose=function(t){ye(this._listeners)},t}(),Ir=function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Dr=function(t){function e(e){var n=t.call(this,e,!1)||this;return window.addEventListener("hashchange",n._listener,!1),n}return Ir(e,t),e.prototype._get=function(){return _r(this._location.hash)},e.prototype._set=function(t,e,n,r){this._location.hash=n},e.prototype.dispose=function(e){t.prototype.dispose.call(this,e),window.removeEventListener("hashchange",this._listener)},e}(Nr),Vr=function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Mr=function(t){function e(e){return t.call(this,e,!0)||this}return Vr(e,t),e.prototype._get=function(){return this._url},e.prototype._set=function(t,e,n,r){this._url=n},e}(Nr),qr=function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Hr=function(t){function e(e){var n=t.call(this,e,!0)||this;return n._config=e.urlService.config,window.addEventListener("popstate",n._listener,!1),n}return qr(e,t),e.prototype._get=function(){var t=this._location,e=t.pathname,n=t.hash,r=t.search;return r=Ar(r)[1],n=kr(n)[1],e+(r?"?"+r:"")+(n?"$"+r:"")},e.prototype._set=function(t,e,n,r){var i=this,o=i._config,a=i._history,s=o.baseHref()+n;r?a.replaceState(t,e,s):a.pushState(t,e,s)},e.prototype.dispose=function(e){t.prototype.dispose.call(this,e),window.removeEventListener("popstate",this._listener)},e}(Nr),Lr=function(){function t(){var t=this;this._baseHref="",this._port=80,this._protocol="http",this._host="localhost",this._hashPrefix="",this.port=function(){return t._port},this.protocol=function(){return t._protocol},this.host=function(){return t._host},this.baseHref=function(){return t._baseHref},this.html5Mode=function(){return!1},this.hashPrefix=function(e){return Gt(e)?t._hashPrefix=e:t._hashPrefix},this.dispose=f}return t}(),Ur=function(){function t(t,e){void 0===e&&(e=!1),this._isHtml5=e,this._baseHref=void 0,this._hashPrefix=""}return t.prototype.port=function(){return location.port?Number(location.port):"https"===this.protocol()?443:80},t.prototype.protocol=function(){return location.protocol.replace(/:/g,"")},t.prototype.host=function(){return location.host},t.prototype.html5Mode=function(){return this._isHtml5},t.prototype.hashPrefix=function(t){return Gt(t)?this._hashPrefix=t:this._hashPrefix},t.prototype.baseHref=function(t){return Gt(t)?this._baseHref=t:this._baseHref||this.applyDocumentBaseHref()},t.prototype.applyDocumentBaseHref=function(){var t=document.getElementsByTagName("base");return this._baseHref=t.length?t[0].href.substr(location.origin.length):""},t.prototype.dispose=function(){},t}(),Fr=pt("vanilla.hashBangLocation",!1,Dr,Ur),Br=pt("vanilla.pushStateLocation",!0,Hr,Ur),Wr=pt("vanilla.memoryLocation",!1,Mr,Lr),zr=function(){function t(){}return t.prototype.dispose=function(t){},t}(),Gr=Object.freeze({fromJson:ce,toJson:le,copy:fe,forEach:he,extend:pe,equals:de,identity:l,noop:f,createProxyFunctions:h,inherit:ve,inArray:me,_inArray:p,removeFrom:ge,_removeFrom:d,pushTo:$e,_pushTo:v,deregAll:ye,defaults:m,mergeR:be,ancestors:g,pick:$,omit:y,pluck:b,filter:w,find:x,mapObj:we,map:C,values:xe,allTrueR:Ce,anyTrueR:Se,unnestR:Ee,flattenR:Te,pushR:S,uniqR:ke,unnest:Ae,flatten:Oe,assertPredicate:_e,assertMap:Re,assertFn:E,pairs:je,arrayTuples:T,applyPairs:k,tail:A,_extend:R,sortBy:Pe,composeSort:Ne,silenceUncaughtInPromise:Ie,silentRejection:De,notImplemented:oe,services:ae,Glob:Ut,curry:n,compose:r,pipe:i,prop:Pt,propEq:Nt,parse:It,not:Dt,and:o,or:a,all:Vt,any:Mt,is:qt,eq:Ht,val:Lt,invoke:s,pattern:u,isUndefined:zt,isDefined:Gt,isNull:Jt,isNullOrUndefined:Qt,isFunction:Kt,isNumber:Yt,isString:Xt,isObject:Zt,isArray:te,isDate:ee,isRegExp:ne,isState:re,isInjectable:c,isPromise:ie,Queue:Ve,maxLength:B,padString:W,kebobString:z,functionToString:G,fnToString:J,stringify:Q,beforeAfterSubstr:gn,splitOnDelim:K,joinNeighborsR:Y,get Category(){return t.Category},Trace:Be,trace:We,get DefType(){return t.DefType},Param:tn,ParamTypes:$n,StateParams:yn,ParamType:Ye,PathNode:en,PathUtils:nn,resolvePolicies:an,defaultResolvePolicy:rn,Resolvable:on,NATIVE_INJECTOR_TOKEN:ln,ResolveContext:fn,resolvablesBuilder:rt,StateBuilder:Sn,StateObject:Ft,StateMatcher:En,StateQueueManager:Tn,StateRegistry:kn,StateService:xr,TargetState:ze,get TransitionHookPhase(){return t.TransitionHookPhase},get TransitionHookScope(){return t.TransitionHookScope},HookBuilder:Ke,matchState:D,RegisteredHook:Qe,makeEvent:V,get RejectType(){return t.RejectType},Rejection:qe,Transition:dn,TransitionHook:Je,TransitionEventType:gr,defaultTransOpts:br,TransitionService:wr,UrlMatcher:_n,UrlMatcherFactory:Rn,UrlRouter:Dn,UrlRuleFactory:jn,BaseUrlRule:Nn,UrlService:Wn,ViewService:Vn,UIRouterGlobals:Mn,UIRouter:Gn,$q:Cr,$injector:Er,BaseLocationServices:Nr,HashLocationService:Dr,MemoryLocationService:Mr,PushStateLocationService:Hr,MemoryLocationConfig:Lr,BrowserLocationConfig:Ur,splitHash:kr,splitQuery:Ar,splitEqual:Or,trimHashVal:_r,keyValsToObjectR:Rr,getParams:jr,parseUrl:ht,buildUrl:Pr,locationPluginFactory:pt,servicesPlugin:dt,hashLocationPlugin:Fr,pushStateLocationPlugin:Br,memoryLocationPlugin:Wr,UIRouterPluginBase:zr}),Jr=angular,Qr=e&&e.module?e:Jr,Kr=function(t,e){return t.reduce(function(t,n){return t||Gt(e[n])},!1)},Yr=0,Xr=function(){function t(t,e,n){var r=this;this.path=t,this.viewDecl=e,this.factory=n,this.$id=Yr++,this.loaded=!1,this.getTemplate=function(t,e){return r.component?r.factory.makeComponentTemplate(t,e,r.component,r.viewDecl.bindings):r.template}}return t.prototype.load=function(){var t=this,e=ae.$q,n=new fn(this.path),r=this.path.reduce(function(t,e){return pe(t,e.paramValues)},{}),i={template:e.when(this.factory.fromConfig(this.viewDecl,r,n)),controller:e.when(this.getController(n))};return e.all(i).then(function(e){return We.traceViewServiceEvent("Loaded",t),t.controller=e.controller,pe(t,e.template),t})},t.prototype.getController=function(t){var e=this.viewDecl.controllerProvider;if(!c(e))return this.viewDecl.controller;var n=ae.$injector.annotate(e),r=te(e)?A(e):e;return new on("",r,n).get(t)},t}(),Zr=function(){function t(){var t=this;this._useHttp=Qr.version.minor<3,this.$get=["$http","$templateCache","$injector",function(e,n,r){return t.$templateRequest=r.has&&r.has("$templateRequest")&&r.get("$templateRequest"),t.$http=e,t.$templateCache=n,t}]}return t.prototype.useHttpService=function(t){this._useHttp=t},t.prototype.fromConfig=function(t,e,n){var r=function(t){return ae.$q.when(t).then(function(t){return{template:t}})},i=function(t){return ae.$q.when(t).then(function(t){return{component:t}})};return Gt(t.template)?r(this.fromString(t.template,e)):Gt(t.templateUrl)?r(this.fromUrl(t.templateUrl,e)):Gt(t.templateProvider)?r(this.fromProvider(t.templateProvider,e,n)):Gt(t.component)?i(t.component):Gt(t.componentProvider)?i(this.fromComponentProvider(t.componentProvider,e,n)):r("<ui-view></ui-view>")},t.prototype.fromString=function(t,e){return Kt(t)?t(e):t},t.prototype.fromUrl=function(t,e){return Kt(t)&&(t=t(e)),null==t?null:this._useHttp?this.$http.get(t,{cache:this.$templateCache,headers:{Accept:"text/html"}}).then(function(t){return t.data}):this.$templateRequest(t)},t.prototype.fromProvider=function(t,e,n){var r=ae.$injector.annotate(t),i=te(t)?A(t):t;return new on("",i,r).get(n)},t.prototype.fromComponentProvider=function(t,e,n){var r=ae.$injector.annotate(t),i=te(t)?A(t):t;return new on("",i,r).get(n)},t.prototype.makeComponentTemplate=function(t,e,n,r){r=r||{};var i=Qr.version.minor>=3?"::":"",o=function(t){var e=z(t);return/^(x|data)-/.exec(e)?"x-"+e:e},a=function(n){var a=n.name,s=n.type,u=o(a);if(t.attr(u)&&!r[a])return u+"='"+t.attr(u)+"'";var c=r[a]||a;if("@"===s)return u+"='{{"+i+"$resolve."+c+"}}'";if("&"===s){var l=e.getResolvable(c),f=l&&l.data,h=f&&ae.$injector.annotate(f)||[];return u+"='$resolve."+c+(te(f)?"["+(f.length-1)+"]":"")+"("+h.join(",")+")'"}return u+"='"+i+"$resolve."+c+"'"},s=gt(n).map(a).join(" "),u=o(n);return"<"+u+" "+s+"></"+u+">"},t}(),ti=function(t){return ei(Zt(t.bindToController)?t.bindToController:t.scope)},ei=function(t){return Object.keys(t||{}).map(function(e){return[e,/^([=<@&])[?]?(.*)/.exec(t[e])]}).filter(function(t){return Gt(t)&&te(t[1])}).map(function(t){return{name:t[1][2]||t[0],type:t[1][1]}})},ni=function(){function t(e,n){this.stateRegistry=e,this.stateService=n,h(Lt(t.prototype),this,Lt(this))}return t.prototype.decorator=function(t,e){return this.stateRegistry.decorator(t,e)||this},t.prototype.state=function(t,e){return Zt(t)?e=t:e.name=t,this.stateRegistry.register(e),this},t.prototype.onInvalid=function(t){return this.stateService.onInvalid(t)},t}(),ri=function(t){return function(e,n){function r(t,e){var n=new fn(t.treeChanges(o)),r=pe(mi(n),{$state$:e,$transition$:t});return ae.$injector.invoke(i,this,r)}var i=e[t],o="onExit"===t?"from":"to";return i?r:void 0}},ii=function(){function t(t){this._urlListeners=[],this.$locationProvider=t;var e=Lt(t);h(e,this,e,["hashPrefix"])}return t.prototype.dispose=function(){},t.prototype.onChange=function(t){var e=this;return this._urlListeners.push(t),function(){return ge(e._urlListeners)(t)}},t.prototype.html5Mode=function(){var t=this.$locationProvider.html5Mode();return(t=Zt(t)?t.enabled:t)&&this.$sniffer.history},t.prototype.url=function(t,e,n){return void 0===e&&(e=!1),t&&this.$location.url(t),e&&this.$location.replace(),n&&this.$location.state(n),this.$location.url()},t.prototype._runtimeServices=function(t,e,n,r){var i=this;this.$location=e,this.$sniffer=n,t.$on("$locationChangeSuccess",function(t){return i._urlListeners.forEach(function(e){return e(t)})});var o=Lt(e),a=Lt(r);h(o,this,o,["replace","path","search","hash"]),h(o,this,o,["port","protocol","host"]),h(a,this,a,["baseHref"])},t.monkeyPatchPathParameterType=function(t){var e=t.urlMatcherFactory.type("path");e.encode=function(t){return null!=t?t.toString().replace(/(~|\/)/g,function(t){return{"~":"~~","/":"~2F"}[t]}):t},e.decode=function(t){return null!=t?t.toString().replace(/(~~|~2F)/g,function(t){return{"~~":"~","~2F":"/"}[t]}):t}},t}(),oi=function(){function t(t){this._router=t,this._urlRouter=t.urlRouter}return t.prototype.$get=function(){var t=this._urlRouter;return t.update(!0),t.interceptDeferred||t.listen(),t},t.prototype.rule=function(t){var e=this;if(!Kt(t))throw new Error("'rule' must be a function");var n=function(){return t(ae.$injector,e._router.locationService)},r=new Nn(n,l);return this._urlRouter.rule(r),this},t.prototype.otherwise=function(t){var e=this,n=this._urlRouter;if(Xt(t))n.otherwise(t);else{if(!Kt(t))throw new Error("'rule' must be a string or function");n.otherwise(function(){return t(ae.$injector,e._router.locationService)})}return this},t.prototype.when=function(e,n){return(te(n)||Kt(n))&&(n=t.injectableHandler(this._router,n)),this._urlRouter.when(e,n),this},t.injectableHandler=function(t,e){return function(n){return ae.$injector.invoke(e,null,{$match:n,$stateParams:t.globals.params})}},t.prototype.deferIntercept=function(t){this._urlRouter.deferIntercept(t)},t}();Qr.module("ui.router.angular1",[]);var ai=Qr.module("ui.router.init",[]),si=Qr.module("ui.router.util",["ng","ui.router.init"]),ui=Qr.module("ui.router.router",["ui.router.util"]),ci=Qr.module("ui.router.state",["ui.router.router","ui.router.util","ui.router.angular1"]),li=Qr.module("ui.router",["ui.router.init","ui.router.state","ui.router.angular1"]),fi=(Qr.module("ui.router.compat",["ui.router"]),null);$t.$inject=["$locationProvider"];var hi=function(t){return["$uiRouterProvider",function(e){var n=e.router[t];return n.$get=function(){return n},n}]};yt.$inject=["$injector","$q","$uiRouter"];var pi=function(t){return t.urlRouterProvider=new oi(t)},di=function(){return pe(fi.stateProvider,{$get:function(){return fi.stateService}})};bt.$inject=["$rootScope"],ai.provider("$uiRouter",$t),ui.provider("$urlRouter",["$uiRouterProvider",pi]),si.provider("$urlService",hi("urlService")),si.provider("$urlMatcherFactory",["$uiRouterProvider",function(){return fi.urlMatcherFactory}]),si.provider("$templateFactory",function(){return new Zr}),ci.provider("$stateRegistry",hi("stateRegistry")),ci.provider("$uiRouterGlobals",hi("globals")),ci.provider("$transitions",hi("transitionService")),ci.provider("$state",["$uiRouterProvider",di]),ci.factory("$stateParams",["$uiRouter",function(t){return t.globals.params}]),li.factory("$view",function(){return fi.viewService}),li.service("$trace",function(){return We}),li.run(bt),si.run(["$urlMatcherFactory",function(t){}]),ci.run(["$state",function(t){}]),ui.run(["$urlRouter",function(t){}]),ai.run(yt);var vi,mi=function(t){return t.getTokens().filter(Xt).map(function(e){var n=t.getResolvable(e);return[e,"NOWAIT"===t.getPolicy(n).async?n.promise:n.data]}).reduce(k,{})};vi=["$uiRouter","$timeout",function(t,e){var n=t.stateService;return{restrict:"A",require:["?^uiSrefActive","?^uiSrefActiveEq"],link:function(r,i,o,a){function s(){var t=p();f&&f(),l&&(f=l.$$addStateInfo(t.uiState,t.uiStateParams)),null!=t.href&&o.$set(c.attr,t.href)}var u,c=St(i),l=a[1]||a[0],f=null,h={},p=function(){return Ct(n,i,h)},d=wt(o.uiSref);h.uiState=d.state,h.uiStateOpts=o.uiSrefOpts?r.$eval(o.uiSrefOpts):{},d.paramExpr&&(r.$watch(d.paramExpr,function(t){h.uiStateParams=pe({},t),s()},!0),h.uiStateParams=pe({},r.$eval(d.paramExpr))),s(),r.$on("$destroy",t.stateRegistry.onStatesChanged(s)),r.$on("$destroy",t.transitionService.onSuccess({},s)),c.clickable&&(u=Et(i,n,e,c,p),kt(i,r,u,h.uiStateOpts))}}}];var gi;gi=["$uiRouter","$timeout",function(t,e){var n=t.stateService;return{restrict:"A",require:["?^uiSrefActive","?^uiSrefActiveEq"],link:function(r,i,o,a){function s(){var t=d();h&&h(),l&&(h=l.$$addStateInfo(t.uiState,t.uiStateParams)),null!=t.href&&o.$set(c.attr,t.href)}var u,c=St(i),l=a[1]||a[0],h=null,p={},d=function(){return Ct(n,i,p)},v=["uiState","uiStateParams","uiStateOpts"],m=v.reduce(function(t,e){return t[e]=f,t},{});v.forEach(function(t){p[t]=o[t]?r.$eval(o[t]):null,o.$observe(t,function(e){m[t](),m[t]=r.$watch(e,function(e){p[t]=e,s()},!0)})}),s(),r.$on("$destroy",t.stateRegistry.onStatesChanged(s)),r.$on("$destroy",t.transitionService.onSuccess({},s)),c.clickable&&(u=Et(i,n,e,c,d),kt(i,r,u,p.uiStateOpts))}}}];var $i;$i=["$state","$stateParams","$interpolate","$uiRouter",function(t,e,n,r){return{restrict:"A",controller:["$scope","$element","$attrs",function(e,i,o){function a(t){t.promise.then(u)}function s(e,n,r){var o=t.get(e,xt(i)),a={state:o||{name:e},params:n,activeClass:r};return h.push(a),function(){ge(h)(a)}}function u(){var n=function(t){return t.split(/\s/).filter(l)},r=function(t){return t.map(function(t){return t.activeClass}).map(n).reduce(Ee,[])},o=r(h).concat(n(c)).reduce(ke,[]),a=r(h.filter(function(e){return t.includes(e.state.name,e.params)})),s=!!h.filter(function(e){return t.is(e.state.name,e.params)}).length,u=s?n(c):[],f=a.concat(u).reduce(ke,[]),p=o.filter(function(t){return!me(f,t)});e.$evalAsync(function(){f.forEach(function(t){return i.addClass(t)}),p.forEach(function(t){return i.removeClass(t)})})}var c,f,h=[];c=n(o.uiSrefActiveEq||"",!1)(e);try{f=e.$eval(o.uiSrefActive)}catch(t){}f=f||n(o.uiSrefActive||"",!1)(e),Zt(f)&&he(f,function(t,n){if(Xt(t)){var r=wt(t);s(r.state,e.$eval(r.paramExpr),n)}}),this.$$addStateInfo=function(t,e){if(!(Zt(f)&&h.length>0)){var n=s(t,e,f);return u(),n}},e.$on("$stateChangeSuccess",u),e.$on("$destroy",r.transitionService.onStart({},a)),r.globals.transition&&a(r.globals.transition),u()}]}}],Qr.module("ui.router.state").directive("uiSref",vi).directive("uiSrefActive",$i).directive("uiSrefActiveEq",$i).directive("uiState",gi),At.$inject=["$state"],Ot.$inject=["$state"],Qr.module("ui.router.state").filter("isState",At).filter("includedByState",Ot);var yi;yi=["$view","$animate","$uiViewScroll","$interpolate","$q",function(t,e,n,r,i){function o(t,n){return{enter:function(t,n,r){Qr.version.minor>2?e.enter(t,null,n).then(r):e.enter(t,null,n,r)},leave:function(t,n){Qr.version.minor>2?e.leave(t).then(n):e.leave(t,n)}}}function a(t,e){return t===e}var s={$cfg:{viewDecl:{$context:t._pluginapi._rootViewContext()}},$uiView:{}},u={count:0,restrict:"ECA",terminal:!0,priority:400,transclude:"element",compile:function(e,c,l){return function(e,c,f){function h(t){
(!t||t instanceof Xr)&&(a(x,t)||(We.traceUIViewConfigUpdated(E,t&&t.viewDecl&&t.viewDecl.$context),x=t,d(t)))}function p(){if(v&&(We.traceUIViewEvent("Removing (previous) el",v.data("$uiView")),v.remove(),v=null),g&&(We.traceUIViewEvent("Destroying scope",E),g.$destroy(),g=null),m){var t=m.data("$uiViewAnim");We.traceUIViewEvent("Animate out",t),w.leave(m,function(){t.$$animLeave.resolve(),v=null}),v=m,m=null}}function d(t){var r=e.$new(),o=i.defer(),a=i.defer(),s={$cfg:t,$uiView:E},u={$animEnter:o.promise,$animLeave:a.promise,$$animLeave:a};r.$emit("$viewContentLoading",S);var f=l(r,function(t){t.data("$uiViewAnim",u),t.data("$uiView",s),w.enter(t,c,function(){o.resolve(),g&&g.$emit("$viewContentAnimationEnded"),(Gt(b)&&!b||e.$eval(b))&&n(t)}),p()});m=f,g=r,g.$emit("$viewContentLoaded",t||x),g.$eval(y)}var v,m,g,$,y=f.onload||"",b=f.autoscroll,w=o(f,e),x=void 0,C=c.inheritedData("$uiView")||s,S=r(f.uiView||f.name||"")(e)||"$default",E={$type:"ng1",id:u.count++,name:S,fqn:C.$uiView.fqn?C.$uiView.fqn+"."+S:S,config:null,configUpdated:h,get creationContext(){var t=It("$cfg.viewDecl.$context")(C),e=It("$uiView.creationContext")(C);return t||e}};We.traceUIViewEvent("Linking",E),c.data("$uiView",{$uiView:E}),d(),$=t.registerUIView(E),e.$on("$destroy",function(){We.traceUIViewEvent("Destroying/Unregistering",E),$()})}}};return u}],_t.$inject=["$compile","$controller","$transitions","$view","$q","$timeout"];var bi="function"==typeof Qr.module("ui.router").component,wi=0;Qr.module("ui.router.state").directive("uiView",yi),Qr.module("ui.router.state").directive("uiView",_t),Qr.module("ui.router.state").provider("$uiViewScroll",jt);t.core=Gr,t.default="ui.router",t.fromJson=ce,t.toJson=le,t.copy=fe,t.forEach=he,t.extend=pe,t.equals=de,t.identity=l,t.noop=f,t.createProxyFunctions=h,t.inherit=ve,t.inArray=me,t._inArray=p,t.removeFrom=ge,t._removeFrom=d,t.pushTo=$e,t._pushTo=v,t.deregAll=ye,t.defaults=m,t.mergeR=be,t.ancestors=g,t.pick=$,t.omit=y,t.pluck=b,t.filter=w,t.find=x,t.mapObj=we,t.map=C,t.values=xe,t.allTrueR=Ce,t.anyTrueR=Se,t.unnestR=Ee,t.flattenR=Te,t.pushR=S,t.uniqR=ke,t.unnest=Ae,t.flatten=Oe,t.assertPredicate=_e,t.assertMap=Re,t.assertFn=E,t.pairs=je,t.arrayTuples=T,t.applyPairs=k,t.tail=A,t._extend=R,t.sortBy=Pe,t.composeSort=Ne,t.silenceUncaughtInPromise=Ie,t.silentRejection=De,t.notImplemented=oe,t.services=ae,t.Glob=Ut,t.curry=n,t.compose=r,t.pipe=i,t.prop=Pt,t.propEq=Nt,t.parse=It,t.not=Dt,t.and=o,t.or=a,t.all=Vt,t.any=Mt,t.is=qt,t.eq=Ht,t.val=Lt,t.invoke=s,t.pattern=u,t.isUndefined=zt,t.isDefined=Gt,t.isNull=Jt,t.isNullOrUndefined=Qt,t.isFunction=Kt,t.isNumber=Yt,t.isString=Xt,t.isObject=Zt,t.isArray=te,t.isDate=ee,t.isRegExp=ne,t.isState=re,t.isInjectable=c,t.isPromise=ie,t.Queue=Ve,t.maxLength=B,t.padString=W,t.kebobString=z,t.functionToString=G,t.fnToString=J,t.stringify=Q,t.beforeAfterSubstr=gn,t.splitOnDelim=K,t.joinNeighborsR=Y,t.Trace=Be,t.trace=We,t.Param=tn,t.ParamTypes=$n,t.StateParams=yn,t.ParamType=Ye,t.PathNode=en,t.PathUtils=nn,t.resolvePolicies=an,t.defaultResolvePolicy=rn,t.Resolvable=on,t.NATIVE_INJECTOR_TOKEN=ln,t.ResolveContext=fn,t.resolvablesBuilder=rt,t.StateBuilder=Sn,t.StateObject=Ft,t.StateMatcher=En,t.StateQueueManager=Tn,t.StateRegistry=kn,t.StateService=xr,t.TargetState=ze,t.HookBuilder=Ke,t.matchState=D,t.RegisteredHook=Qe,t.makeEvent=V,t.Rejection=qe,t.Transition=dn,t.TransitionHook=Je,t.TransitionEventType=gr,t.defaultTransOpts=br,t.TransitionService=wr,t.UrlMatcher=_n,t.UrlMatcherFactory=Rn,t.UrlRouter=Dn,t.UrlRuleFactory=jn,t.BaseUrlRule=Nn,t.UrlService=Wn,t.ViewService=Vn,t.UIRouterGlobals=Mn,t.UIRouter=Gn,t.$q=Cr,t.$injector=Er,t.BaseLocationServices=Nr,t.HashLocationService=Dr,t.MemoryLocationService=Mr,t.PushStateLocationService=Hr,t.MemoryLocationConfig=Lr,t.BrowserLocationConfig=Ur,t.splitHash=kr,t.splitQuery=Ar,t.splitEqual=Or,t.trimHashVal=_r,t.keyValsToObjectR=Rr,t.getParams=jr,t.parseUrl=ht,t.buildUrl=Pr,t.locationPluginFactory=pt,t.servicesPlugin=dt,t.hashLocationPlugin=Fr,t.pushStateLocationPlugin=Br,t.memoryLocationPlugin=Wr,t.UIRouterPluginBase=zr,t.watchDigests=bt,t.getLocals=mi,t.getNg1ViewConfigFactory=vt,t.ng1ViewsBuilder=mt,t.Ng1ViewConfig=Xr,t.StateProvider=ni,t.UrlRouterProvider=oi,Object.defineProperty(t,"__esModule",{value:!0})}),function(t,e){"use strict";"object"==typeof module&&"object"==typeof module.exports?module.exports=t.document?e(t,!0):function(t){if(!t.document)throw new Error("jQuery requires a window with a document");return e(t)}:e(t)}("undefined"!=typeof window?window:this,function(t,e){"use strict";function n(t,e){e=e||nt;var n=e.createElement("script");n.text=t,e.head.appendChild(n).parentNode.removeChild(n)}function r(t){var e=!!t&&"length"in t&&t.length,n=dt.type(t);return"function"!==n&&!dt.isWindow(t)&&("array"===n||0===e||"number"==typeof e&&e>0&&e-1 in t)}function i(t,e){return t.nodeName&&t.nodeName.toLowerCase()===e.toLowerCase()}function o(t,e,n){return dt.isFunction(e)?dt.grep(t,function(t,r){return!!e.call(t,r,t)!==n}):e.nodeType?dt.grep(t,function(t){return t===e!==n}):"string"!=typeof e?dt.grep(t,function(t){return st.call(e,t)>-1!==n}):wt.test(e)?dt.filter(e,t,n):(e=dt.filter(e,t),dt.grep(t,function(t){return st.call(e,t)>-1!==n&&1===t.nodeType}))}function a(t,e){for(;(t=t[e])&&1!==t.nodeType;);return t}function s(t){var e={};return dt.each(t.match(Tt)||[],function(t,n){e[n]=!0}),e}function u(t){return t}function c(t){throw t}function l(t,e,n,r){var i;try{t&&dt.isFunction(i=t.promise)?i.call(t).done(e).fail(n):t&&dt.isFunction(i=t.then)?i.call(t,e,n):e.apply(void 0,[t].slice(r))}catch(t){n.apply(void 0,[t])}}function f(){nt.removeEventListener("DOMContentLoaded",f),t.removeEventListener("load",f),dt.ready()}function h(){this.expando=dt.expando+h.uid++}function p(t){return"true"===t||"false"!==t&&("null"===t?null:t===+t+""?+t:Pt.test(t)?JSON.parse(t):t)}function d(t,e,n){var r;if(void 0===n&&1===t.nodeType)if(r="data-"+e.replace(Nt,"-$&").toLowerCase(),"string"==typeof(n=t.getAttribute(r))){try{n=p(n)}catch(t){}jt.set(t,e,n)}else n=void 0;return n}function v(t,e,n,r){var i,o=1,a=20,s=r?function(){return r.cur()}:function(){return dt.css(t,e,"")},u=s(),c=n&&n[3]||(dt.cssNumber[e]?"":"px"),l=(dt.cssNumber[e]||"px"!==c&&+u)&&Dt.exec(dt.css(t,e));if(l&&l[3]!==c){c=c||l[3],n=n||[],l=+u||1;do{o=o||".5",l/=o,dt.style(t,e,l+c)}while(o!==(o=s()/u)&&1!==o&&--a)}return n&&(l=+l||+u||0,i=n[1]?l+(n[1]+1)*n[2]:+n[2],r&&(r.unit=c,r.start=l,r.end=i)),i}function m(t){var e,n=t.ownerDocument,r=t.nodeName,i=Ht[r];return i||(e=n.body.appendChild(n.createElement(r)),i=dt.css(e,"display"),e.parentNode.removeChild(e),"none"===i&&(i="block"),Ht[r]=i,i)}function g(t,e){for(var n,r,i=[],o=0,a=t.length;o<a;o++)r=t[o],r.style&&(n=r.style.display,e?("none"===n&&(i[o]=Rt.get(r,"display")||null,i[o]||(r.style.display="")),""===r.style.display&&Mt(r)&&(i[o]=m(r))):"none"!==n&&(i[o]="none",Rt.set(r,"display",n)));for(o=0;o<a;o++)null!=i[o]&&(t[o].style.display=i[o]);return t}function $(t,e){var n;return n=void 0!==t.getElementsByTagName?t.getElementsByTagName(e||"*"):void 0!==t.querySelectorAll?t.querySelectorAll(e||"*"):[],void 0===e||e&&i(t,e)?dt.merge([t],n):n}function y(t,e){for(var n=0,r=t.length;n<r;n++)Rt.set(t[n],"globalEval",!e||Rt.get(e[n],"globalEval"))}function b(t,e,n,r,i){for(var o,a,s,u,c,l,f=e.createDocumentFragment(),h=[],p=0,d=t.length;p<d;p++)if((o=t[p])||0===o)if("object"===dt.type(o))dt.merge(h,o.nodeType?[o]:o);else if(Wt.test(o)){for(a=a||f.appendChild(e.createElement("div")),s=(Ut.exec(o)||["",""])[1].toLowerCase(),u=Bt[s]||Bt._default,a.innerHTML=u[1]+dt.htmlPrefilter(o)+u[2],l=u[0];l--;)a=a.lastChild;dt.merge(h,a.childNodes),a=f.firstChild,a.textContent=""}else h.push(e.createTextNode(o));for(f.textContent="",p=0;o=h[p++];)if(r&&dt.inArray(o,r)>-1)i&&i.push(o);else if(c=dt.contains(o.ownerDocument,o),a=$(f.appendChild(o),"script"),c&&y(a),n)for(l=0;o=a[l++];)Ft.test(o.type||"")&&n.push(o);return f}function w(){return!0}function x(){return!1}function C(){try{return nt.activeElement}catch(t){}}function S(t,e,n,r,i,o){var a,s;if("object"==typeof e){"string"!=typeof n&&(r=r||n,n=void 0);for(s in e)S(t,s,n,r,e[s],o);return t}if(null==r&&null==i?(i=n,r=n=void 0):null==i&&("string"==typeof n?(i=r,r=void 0):(i=r,r=n,n=void 0)),!1===i)i=x;else if(!i)return t;return 1===o&&(a=i,i=function(t){return dt().off(t),a.apply(this,arguments)},i.guid=a.guid||(a.guid=dt.guid++)),t.each(function(){dt.event.add(this,e,i,r,n)})}function E(t,e){return i(t,"table")&&i(11!==e.nodeType?e:e.firstChild,"tr")?dt(">tbody",t)[0]||t:t}function T(t){return t.type=(null!==t.getAttribute("type"))+"/"+t.type,t}function k(t){var e=Xt.exec(t.type);return e?t.type=e[1]:t.removeAttribute("type"),t}function A(t,e){var n,r,i,o,a,s,u,c;if(1===e.nodeType){if(Rt.hasData(t)&&(o=Rt.access(t),a=Rt.set(e,o),c=o.events)){delete a.handle,a.events={};for(i in c)for(n=0,r=c[i].length;n<r;n++)dt.event.add(e,i,c[i][n])}jt.hasData(t)&&(s=jt.access(t),u=dt.extend({},s),jt.set(e,u))}}function O(t,e){var n=e.nodeName.toLowerCase();"input"===n&&Lt.test(t.type)?e.checked=t.checked:"input"!==n&&"textarea"!==n||(e.defaultValue=t.defaultValue)}function _(t,e,r,i){e=ot.apply([],e);var o,a,s,u,c,l,f=0,h=t.length,p=h-1,d=e[0],v=dt.isFunction(d);if(v||h>1&&"string"==typeof d&&!pt.checkClone&&Yt.test(d))return t.each(function(n){var o=t.eq(n);v&&(e[0]=d.call(this,n,o.html())),_(o,e,r,i)});if(h&&(o=b(e,t[0].ownerDocument,!1,t,i),a=o.firstChild,1===o.childNodes.length&&(o=a),a||i)){for(s=dt.map($(o,"script"),T),u=s.length;f<h;f++)c=o,f!==p&&(c=dt.clone(c,!0,!0),u&&dt.merge(s,$(c,"script"))),r.call(t[f],c,f);if(u)for(l=s[s.length-1].ownerDocument,dt.map(s,k),f=0;f<u;f++)c=s[f],Ft.test(c.type||"")&&!Rt.access(c,"globalEval")&&dt.contains(l,c)&&(c.src?dt._evalUrl&&dt._evalUrl(c.src):n(c.textContent.replace(Zt,""),l))}return t}function R(t,e,n){for(var r,i=e?dt.filter(e,t):t,o=0;null!=(r=i[o]);o++)n||1!==r.nodeType||dt.cleanData($(r)),r.parentNode&&(n&&dt.contains(r.ownerDocument,r)&&y($(r,"script")),r.parentNode.removeChild(r));return t}function j(t,e,n){var r,i,o,a,s=t.style;return n=n||ne(t),n&&(a=n.getPropertyValue(e)||n[e],""!==a||dt.contains(t.ownerDocument,t)||(a=dt.style(t,e)),!pt.pixelMarginRight()&&ee.test(a)&&te.test(e)&&(r=s.width,i=s.minWidth,o=s.maxWidth,s.minWidth=s.maxWidth=s.width=a,a=n.width,s.width=r,s.minWidth=i,s.maxWidth=o)),void 0!==a?a+"":a}function P(t,e){return{get:function(){return t()?void delete this.get:(this.get=e).apply(this,arguments)}}}function N(t){if(t in ue)return t;for(var e=t[0].toUpperCase()+t.slice(1),n=se.length;n--;)if((t=se[n]+e)in ue)return t}function I(t){var e=dt.cssProps[t];return e||(e=dt.cssProps[t]=N(t)||t),e}function D(t,e,n){var r=Dt.exec(e);return r?Math.max(0,r[2]-(n||0))+(r[3]||"px"):e}function V(t,e,n,r,i){var o,a=0;for(o=n===(r?"border":"content")?4:"width"===e?1:0;o<4;o+=2)"margin"===n&&(a+=dt.css(t,n+Vt[o],!0,i)),r?("content"===n&&(a-=dt.css(t,"padding"+Vt[o],!0,i)),"margin"!==n&&(a-=dt.css(t,"border"+Vt[o]+"Width",!0,i))):(a+=dt.css(t,"padding"+Vt[o],!0,i),"padding"!==n&&(a+=dt.css(t,"border"+Vt[o]+"Width",!0,i)));return a}function M(t,e,n){var r,i=ne(t),o=j(t,e,i),a="border-box"===dt.css(t,"boxSizing",!1,i);return ee.test(o)?o:(r=a&&(pt.boxSizingReliable()||o===t.style[e]),"auto"===o&&(o=t["offset"+e[0].toUpperCase()+e.slice(1)]),(o=parseFloat(o)||0)+V(t,e,n||(a?"border":"content"),r,i)+"px")}function q(t,e,n,r,i){return new q.prototype.init(t,e,n,r,i)}function H(){le&&(!1===nt.hidden&&t.requestAnimationFrame?t.requestAnimationFrame(H):t.setTimeout(H,dt.fx.interval),dt.fx.tick())}function L(){return t.setTimeout(function(){ce=void 0}),ce=dt.now()}function U(t,e){var n,r=0,i={height:t};for(e=e?1:0;r<4;r+=2-e)n=Vt[r],i["margin"+n]=i["padding"+n]=t;return e&&(i.opacity=i.width=t),i}function F(t,e,n){for(var r,i=(z.tweeners[e]||[]).concat(z.tweeners["*"]),o=0,a=i.length;o<a;o++)if(r=i[o].call(n,e,t))return r}function B(t,e,n){var r,i,o,a,s,u,c,l,f="width"in e||"height"in e,h=this,p={},d=t.style,v=t.nodeType&&Mt(t),m=Rt.get(t,"fxshow");n.queue||(a=dt._queueHooks(t,"fx"),null==a.unqueued&&(a.unqueued=0,s=a.empty.fire,a.empty.fire=function(){a.unqueued||s()}),a.unqueued++,h.always(function(){h.always(function(){a.unqueued--,dt.queue(t,"fx").length||a.empty.fire()})}));for(r in e)if(i=e[r],fe.test(i)){if(delete e[r],o=o||"toggle"===i,i===(v?"hide":"show")){if("show"!==i||!m||void 0===m[r])continue;v=!0}p[r]=m&&m[r]||dt.style(t,r)}if((u=!dt.isEmptyObject(e))||!dt.isEmptyObject(p)){f&&1===t.nodeType&&(n.overflow=[d.overflow,d.overflowX,d.overflowY],c=m&&m.display,null==c&&(c=Rt.get(t,"display")),l=dt.css(t,"display"),"none"===l&&(c?l=c:(g([t],!0),c=t.style.display||c,l=dt.css(t,"display"),g([t]))),("inline"===l||"inline-block"===l&&null!=c)&&"none"===dt.css(t,"float")&&(u||(h.done(function(){d.display=c}),null==c&&(l=d.display,c="none"===l?"":l)),d.display="inline-block")),n.overflow&&(d.overflow="hidden",h.always(function(){d.overflow=n.overflow[0],d.overflowX=n.overflow[1],d.overflowY=n.overflow[2]})),u=!1;for(r in p)u||(m?"hidden"in m&&(v=m.hidden):m=Rt.access(t,"fxshow",{display:c}),o&&(m.hidden=!v),v&&g([t],!0),h.done(function(){v||g([t]),Rt.remove(t,"fxshow");for(r in p)dt.style(t,r,p[r])})),u=F(v?m[r]:0,r,h),r in m||(m[r]=u.start,v&&(u.end=u.start,u.start=0))}}function W(t,e){var n,r,i,o,a;for(n in t)if(r=dt.camelCase(n),i=e[r],o=t[n],Array.isArray(o)&&(i=o[1],o=t[n]=o[0]),n!==r&&(t[r]=o,delete t[n]),(a=dt.cssHooks[r])&&"expand"in a){o=a.expand(o),delete t[r];for(n in o)n in t||(t[n]=o[n],e[n]=i)}else e[r]=i}function z(t,e,n){var r,i,o=0,a=z.prefilters.length,s=dt.Deferred().always(function(){delete u.elem}),u=function(){if(i)return!1;for(var e=ce||L(),n=Math.max(0,c.startTime+c.duration-e),r=n/c.duration||0,o=1-r,a=0,u=c.tweens.length;a<u;a++)c.tweens[a].run(o);return s.notifyWith(t,[c,o,n]),o<1&&u?n:(u||s.notifyWith(t,[c,1,0]),s.resolveWith(t,[c]),!1)},c=s.promise({elem:t,props:dt.extend({},e),opts:dt.extend(!0,{specialEasing:{},easing:dt.easing._default},n),originalProperties:e,originalOptions:n,startTime:ce||L(),duration:n.duration,tweens:[],createTween:function(e,n){var r=dt.Tween(t,c.opts,e,n,c.opts.specialEasing[e]||c.opts.easing);return c.tweens.push(r),r},stop:function(e){var n=0,r=e?c.tweens.length:0;if(i)return this;for(i=!0;n<r;n++)c.tweens[n].run(1);return e?(s.notifyWith(t,[c,1,0]),s.resolveWith(t,[c,e])):s.rejectWith(t,[c,e]),this}}),l=c.props;for(W(l,c.opts.specialEasing);o<a;o++)if(r=z.prefilters[o].call(c,t,l,c.opts))return dt.isFunction(r.stop)&&(dt._queueHooks(c.elem,c.opts.queue).stop=dt.proxy(r.stop,r)),r;return dt.map(l,F,c),dt.isFunction(c.opts.start)&&c.opts.start.call(t,c),c.progress(c.opts.progress).done(c.opts.done,c.opts.complete).fail(c.opts.fail).always(c.opts.always),dt.fx.timer(dt.extend(u,{elem:t,anim:c,queue:c.opts.queue})),c}function G(t){return(t.match(Tt)||[]).join(" ")}function J(t){return t.getAttribute&&t.getAttribute("class")||""}function Q(t,e,n,r){var i;if(Array.isArray(e))dt.each(e,function(e,i){n||we.test(t)?r(t,i):Q(t+"["+("object"==typeof i&&null!=i?e:"")+"]",i,n,r)});else if(n||"object"!==dt.type(e))r(t,e);else for(i in e)Q(t+"["+i+"]",e[i],n,r)}function K(t){return function(e,n){"string"!=typeof e&&(n=e,e="*");var r,i=0,o=e.toLowerCase().match(Tt)||[];if(dt.isFunction(n))for(;r=o[i++];)"+"===r[0]?(r=r.slice(1)||"*",(t[r]=t[r]||[]).unshift(n)):(t[r]=t[r]||[]).push(n)}}function Y(t,e,n,r){function i(s){var u;return o[s]=!0,dt.each(t[s]||[],function(t,s){var c=s(e,n,r);return"string"!=typeof c||a||o[c]?a?!(u=c):void 0:(e.dataTypes.unshift(c),i(c),!1)}),u}var o={},a=t===Ae;return i(e.dataTypes[0])||!o["*"]&&i("*")}function X(t,e){var n,r,i=dt.ajaxSettings.flatOptions||{};for(n in e)void 0!==e[n]&&((i[n]?t:r||(r={}))[n]=e[n]);return r&&dt.extend(!0,t,r),t}function Z(t,e,n){for(var r,i,o,a,s=t.contents,u=t.dataTypes;"*"===u[0];)u.shift(),void 0===r&&(r=t.mimeType||e.getResponseHeader("Content-Type"));if(r)for(i in s)if(s[i]&&s[i].test(r)){u.unshift(i);break}if(u[0]in n)o=u[0];else{for(i in n){if(!u[0]||t.converters[i+" "+u[0]]){o=i;break}a||(a=i)}o=o||a}if(o)return o!==u[0]&&u.unshift(o),n[o]}function tt(t,e,n,r){var i,o,a,s,u,c={},l=t.dataTypes.slice();if(l[1])for(a in t.converters)c[a.toLowerCase()]=t.converters[a];for(o=l.shift();o;)if(t.responseFields[o]&&(n[t.responseFields[o]]=e),!u&&r&&t.dataFilter&&(e=t.dataFilter(e,t.dataType)),u=o,o=l.shift())if("*"===o)o=u;else if("*"!==u&&u!==o){if(!(a=c[u+" "+o]||c["* "+o]))for(i in c)if(s=i.split(" "),s[1]===o&&(a=c[u+" "+s[0]]||c["* "+s[0]])){!0===a?a=c[i]:!0!==c[i]&&(o=s[0],l.unshift(s[1]));break}if(!0!==a)if(a&&t.throws)e=a(e);else try{e=a(e)}catch(t){return{state:"parsererror",error:a?t:"No conversion from "+u+" to "+o}}}return{state:"success",data:e}}var et=[],nt=t.document,rt=Object.getPrototypeOf,it=et.slice,ot=et.concat,at=et.push,st=et.indexOf,ut={},ct=ut.toString,lt=ut.hasOwnProperty,ft=lt.toString,ht=ft.call(Object),pt={},dt=function(t,e){return new dt.fn.init(t,e)},vt=function(t,e){return e.toUpperCase()};dt.fn=dt.prototype={jquery:"3.2.1",constructor:dt,length:0,toArray:function(){return it.call(this)},get:function(t){return null==t?it.call(this):t<0?this[t+this.length]:this[t]},pushStack:function(t){var e=dt.merge(this.constructor(),t);return e.prevObject=this,e},each:function(t){return dt.each(this,t)},map:function(t){return this.pushStack(dt.map(this,function(e,n){return t.call(e,n,e)}))},slice:function(){return this.pushStack(it.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(t){var e=this.length,n=+t+(t<0?e:0);return this.pushStack(n>=0&&n<e?[this[n]]:[])},end:function(){return this.prevObject||this.constructor()},push:at,sort:et.sort,splice:et.splice},dt.extend=dt.fn.extend=function(){var t,e,n,r,i,o,a=arguments[0]||{},s=1,u=arguments.length,c=!1;for("boolean"==typeof a&&(c=a,a=arguments[s]||{},s++),"object"==typeof a||dt.isFunction(a)||(a={}),s===u&&(a=this,s--);s<u;s++)if(null!=(t=arguments[s]))for(e in t)n=a[e],r=t[e],a!==r&&(c&&r&&(dt.isPlainObject(r)||(i=Array.isArray(r)))?(i?(i=!1,o=n&&Array.isArray(n)?n:[]):o=n&&dt.isPlainObject(n)?n:{},a[e]=dt.extend(c,o,r)):void 0!==r&&(a[e]=r));return a},dt.extend({expando:"jQuery"+("3.2.1"+Math.random()).replace(/\D/g,""),isReady:!0,error:function(t){throw new Error(t)},noop:function(){},isFunction:function(t){return"function"===dt.type(t)},isWindow:function(t){return null!=t&&t===t.window},isNumeric:function(t){var e=dt.type(t);return("number"===e||"string"===e)&&!isNaN(t-parseFloat(t))},isPlainObject:function(t){var e,n;return!(!t||"[object Object]"!==ct.call(t))&&(!(e=rt(t))||"function"==typeof(n=lt.call(e,"constructor")&&e.constructor)&&ft.call(n)===ht)},isEmptyObject:function(t){var e;for(e in t)return!1;return!0},type:function(t){return null==t?t+"":"object"==typeof t||"function"==typeof t?ut[ct.call(t)]||"object":typeof t},globalEval:function(t){n(t)},camelCase:function(t){return t.replace(/^-ms-/,"ms-").replace(/-([a-z])/g,vt)},each:function(t,e){var n,i=0;if(r(t))for(n=t.length;i<n&&!1!==e.call(t[i],i,t[i]);i++);else for(i in t)if(!1===e.call(t[i],i,t[i]))break;return t},trim:function(t){return null==t?"":(t+"").replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")},makeArray:function(t,e){var n=e||[];return null!=t&&(r(Object(t))?dt.merge(n,"string"==typeof t?[t]:t):at.call(n,t)),n},inArray:function(t,e,n){return null==e?-1:st.call(e,t,n)},merge:function(t,e){for(var n=+e.length,r=0,i=t.length;r<n;r++)t[i++]=e[r];return t.length=i,t},grep:function(t,e,n){for(var r=[],i=0,o=t.length,a=!n;i<o;i++)!e(t[i],i)!==a&&r.push(t[i]);return r},map:function(t,e,n){var i,o,a=0,s=[];if(r(t))for(i=t.length;a<i;a++)null!=(o=e(t[a],a,n))&&s.push(o);else for(a in t)null!=(o=e(t[a],a,n))&&s.push(o);return ot.apply([],s)},guid:1,proxy:function(t,e){var n,r,i;if("string"==typeof e&&(n=t[e],e=t,t=n),dt.isFunction(t))return r=it.call(arguments,2),i=function(){return t.apply(e||this,r.concat(it.call(arguments)))},i.guid=t.guid=t.guid||dt.guid++,i},now:Date.now,support:pt}),"function"==typeof Symbol&&(dt.fn[Symbol.iterator]=et[Symbol.iterator]),dt.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(t,e){ut["[object "+e+"]"]=e.toLowerCase()});var mt=function(t){function e(t,e,n,r){var i,o,a,s,u,l,h,p=e&&e.ownerDocument,d=e?e.nodeType:9;if(n=n||[],"string"!=typeof t||!t||1!==d&&9!==d&&11!==d)return n;if(!r&&((e?e.ownerDocument||e:q)!==R&&_(e),e=e||R,P)){if(11!==d&&(u=vt.exec(t)))if(i=u[1]){if(9===d){if(!(a=e.getElementById(i)))return n;if(a.id===i)return n.push(a),n}else if(p&&(a=p.getElementById(i))&&V(e,a)&&a.id===i)return n.push(a),n}else{if(u[2])return K.apply(n,e.getElementsByTagName(t)),n;if((i=u[3])&&b.getElementsByClassName&&e.getElementsByClassName)return K.apply(n,e.getElementsByClassName(i)),n}if(b.qsa&&!B[t+" "]&&(!N||!N.test(t))){if(1!==d)p=e,h=t;else if("object"!==e.nodeName.toLowerCase()){for((s=e.getAttribute("id"))?s=s.replace(yt,bt):e.setAttribute("id",s=M),l=S(t),o=l.length;o--;)l[o]="#"+s+" "+f(l[o]);h=l.join(","),p=mt.test(t)&&c(e.parentNode)||e}if(h)try{return K.apply(n,p.querySelectorAll(h)),n}catch(t){}finally{s===M&&e.removeAttribute("id")}}}return T(t.replace(ot,"$1"),e,n,r)}function n(){function t(n,r){return e.push(n+" ")>w.cacheLength&&delete t[e.shift()],t[n+" "]=r}var e=[];return t}function r(t){return t[M]=!0,t}function i(t){var e=R.createElement("fieldset");try{return!!t(e)}catch(t){return!1}finally{e.parentNode&&e.parentNode.removeChild(e),e=null}}function o(t,e){for(var n=t.split("|"),r=n.length;r--;)w.attrHandle[n[r]]=e}function a(t,e){var n=e&&t,r=n&&1===t.nodeType&&1===e.nodeType&&t.sourceIndex-e.sourceIndex;if(r)return r;if(n)for(;n=n.nextSibling;)if(n===e)return-1;return t?1:-1}function s(t){return function(e){return"form"in e?e.parentNode&&!1===e.disabled?"label"in e?"label"in e.parentNode?e.parentNode.disabled===t:e.disabled===t:e.isDisabled===t||e.isDisabled!==!t&&xt(e)===t:e.disabled===t:"label"in e&&e.disabled===t}}function u(t){return r(function(e){return e=+e,r(function(n,r){for(var i,o=t([],n.length,e),a=o.length;a--;)n[i=o[a]]&&(n[i]=!(r[i]=n[i]))})})}function c(t){return t&&void 0!==t.getElementsByTagName&&t}function l(){}function f(t){for(var e=0,n=t.length,r="";e<n;e++)r+=t[e].value;return r}function h(t,e,n){var r=e.dir,i=e.next,o=i||r,a=n&&"parentNode"===o,s=L++;return e.first?function(e,n,i){for(;e=e[r];)if(1===e.nodeType||a)return t(e,n,i);return!1}:function(e,n,u){var c,l,f,h=[H,s];if(u){for(;e=e[r];)if((1===e.nodeType||a)&&t(e,n,u))return!0}else for(;e=e[r];)if(1===e.nodeType||a)if(f=e[M]||(e[M]={}),l=f[e.uniqueID]||(f[e.uniqueID]={}),i&&i===e.nodeName.toLowerCase())e=e[r]||e;else{if((c=l[o])&&c[0]===H&&c[1]===s)return h[2]=c[2];if(l[o]=h,h[2]=t(e,n,u))return!0}return!1}}function p(t){return t.length>1?function(e,n,r){for(var i=t.length;i--;)if(!t[i](e,n,r))return!1;return!0}:t[0]}function d(t,n,r){for(var i=0,o=n.length;i<o;i++)e(t,n[i],r);return r}function v(t,e,n,r,i){for(var o,a=[],s=0,u=t.length,c=null!=e;s<u;s++)(o=t[s])&&(n&&!n(o,r,i)||(a.push(o),c&&e.push(s)));return a}function m(t,e,n,i,o,a){return i&&!i[M]&&(i=m(i)),o&&!o[M]&&(o=m(o,a)),r(function(r,a,s,u){var c,l,f,h=[],p=[],m=a.length,g=r||d(e||"*",s.nodeType?[s]:s,[]),$=!t||!r&&e?g:v(g,h,t,s,u),y=n?o||(r?t:m||i)?[]:a:$;if(n&&n($,y,s,u),i)for(c=v(y,p),i(c,[],s,u),l=c.length;l--;)(f=c[l])&&(y[p[l]]=!($[p[l]]=f));if(r){if(o||t){if(o){for(c=[],l=y.length;l--;)(f=y[l])&&c.push($[l]=f);o(null,y=[],c,u)}for(l=y.length;l--;)(f=y[l])&&(c=o?X(r,f):h[l])>-1&&(r[c]=!(a[c]=f))}}else y=v(y===a?y.splice(m,y.length):y),o?o(null,a,y,u):K.apply(a,y)})}function g(t){for(var e,n,r,i=t.length,o=w.relative[t[0].type],a=o||w.relative[" "],s=o?1:0,u=h(function(t){return t===e},a,!0),c=h(function(t){return X(e,t)>-1},a,!0),l=[function(t,n,r){var i=!o&&(r||n!==k)||((e=n).nodeType?u(t,n,r):c(t,n,r));return e=null,i}];s<i;s++)if(n=w.relative[t[s].type])l=[h(p(l),n)];else{if(n=w.filter[t[s].type].apply(null,t[s].matches),n[M]){for(r=++s;r<i&&!w.relative[t[r].type];r++);return m(s>1&&p(l),s>1&&f(t.slice(0,s-1).concat({value:" "===t[s-2].type?"*":""})).replace(ot,"$1"),n,s<r&&g(t.slice(s,r)),r<i&&g(t=t.slice(r)),r<i&&f(t))}l.push(n)}return p(l)}function $(t,n){var i=n.length>0,o=t.length>0,a=function(r,a,s,u,c){var l,f,h,p=0,d="0",m=r&&[],g=[],$=k,y=r||o&&w.find.TAG("*",c),b=H+=null==$?1:Math.random()||.1,x=y.length;for(c&&(k=a===R||a||c);d!==x&&null!=(l=y[d]);d++){if(o&&l){for(f=0,a||l.ownerDocument===R||(_(l),s=!P);h=t[f++];)if(h(l,a||R,s)){u.push(l);break}c&&(H=b)}i&&((l=!h&&l)&&p--,r&&m.push(l))}if(p+=d,i&&d!==p){for(f=0;h=n[f++];)h(m,g,a,s);if(r){if(p>0)for(;d--;)m[d]||g[d]||(g[d]=J.call(u));g=v(g)}K.apply(u,g),c&&!r&&g.length>0&&p+n.length>1&&e.uniqueSort(u)}return c&&(H=b,k=$),m};return i?r(a):a}var y,b,w,x,C,S,E,T,k,A,O,_,R,j,P,N,I,D,V,M="sizzle"+1*new Date,q=t.document,H=0,L=0,U=n(),F=n(),B=n(),W=function(t,e){return t===e&&(O=!0),0},z={}.hasOwnProperty,G=[],J=G.pop,Q=G.push,K=G.push,Y=G.slice,X=function(t,e){for(var n=0,r=t.length;n<r;n++)if(t[n]===e)return n;return-1},Z="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",tt="[\\x20\\t\\r\\n\\f]",et="(?:\\\\.|[\\w-]|[^\0-\\xa0])+",nt="\\["+tt+"*("+et+")(?:"+tt+"*([*^$|!~]?=)"+tt+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+et+"))|)"+tt+"*\\]",rt=":("+et+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+nt+")*)|.*)\\)|)",it=new RegExp(tt+"+","g"),ot=new RegExp("^"+tt+"+|((?:^|[^\\\\])(?:\\\\.)*)"+tt+"+$","g"),at=new RegExp("^"+tt+"*,"+tt+"*"),st=new RegExp("^"+tt+"*([>+~]|"+tt+")"+tt+"*"),ut=new RegExp("="+tt+"*([^\\]'\"]*?)"+tt+"*\\]","g"),ct=new RegExp(rt),lt=new RegExp("^"+et+"$"),ft={ID:new RegExp("^#("+et+")"),CLASS:new RegExp("^\\.("+et+")"),TAG:new RegExp("^("+et+"|[*])"),ATTR:new RegExp("^"+nt),PSEUDO:new RegExp("^"+rt),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+tt+"*(even|odd|(([+-]|)(\\d*)n|)"+tt+"*(?:([+-]|)"+tt+"*(\\d+)|))"+tt+"*\\)|)","i"),bool:new RegExp("^(?:"+Z+")$","i"),needsContext:new RegExp("^"+tt+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+tt+"*((?:-\\d)?\\d*)"+tt+"*\\)|)(?=[^-]|$)","i")},ht=/^(?:input|select|textarea|button)$/i,pt=/^h\d$/i,dt=/^[^{]+\{\s*\[native \w/,vt=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,mt=/[+~]/,gt=new RegExp("\\\\([\\da-f]{1,6}"+tt+"?|("+tt+")|.)","ig"),$t=function(t,e,n){var r="0x"+e-65536;return r!==r||n?e:r<0?String.fromCharCode(r+65536):String.fromCharCode(r>>10|55296,1023&r|56320)},yt=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\0-\x1f\x7f-\uFFFF\w-]/g,bt=function(t,e){return e?"\0"===t?"":t.slice(0,-1)+"\\"+t.charCodeAt(t.length-1).toString(16)+" ":"\\"+t},wt=function(){_()},xt=h(function(t){return!0===t.disabled&&("form"in t||"label"in t)},{dir:"parentNode",next:"legend"});try{K.apply(G=Y.call(q.childNodes),q.childNodes),G[q.childNodes.length].nodeType}catch(t){K={apply:G.length?function(t,e){Q.apply(t,Y.call(e))}:function(t,e){for(var n=t.length,r=0;t[n++]=e[r++];);t.length=n-1}}}b=e.support={},C=e.isXML=function(t){var e=t&&(t.ownerDocument||t).documentElement;return!!e&&"HTML"!==e.nodeName},_=e.setDocument=function(t){var e,n,r=t?t.ownerDocument||t:q;return r!==R&&9===r.nodeType&&r.documentElement?(R=r,j=R.documentElement,P=!C(R),q!==R&&(n=R.defaultView)&&n.top!==n&&(n.addEventListener?n.addEventListener("unload",wt,!1):n.attachEvent&&n.attachEvent("onunload",wt)),b.attributes=i(function(t){return t.className="i",!t.getAttribute("className")}),b.getElementsByTagName=i(function(t){return t.appendChild(R.createComment("")),!t.getElementsByTagName("*").length}),b.getElementsByClassName=dt.test(R.getElementsByClassName),b.getById=i(function(t){return j.appendChild(t).id=M,!R.getElementsByName||!R.getElementsByName(M).length}),b.getById?(w.filter.ID=function(t){var e=t.replace(gt,$t);return function(t){return t.getAttribute("id")===e}},w.find.ID=function(t,e){if(void 0!==e.getElementById&&P){var n=e.getElementById(t);return n?[n]:[]}}):(w.filter.ID=function(t){var e=t.replace(gt,$t);return function(t){var n=void 0!==t.getAttributeNode&&t.getAttributeNode("id");return n&&n.value===e}},w.find.ID=function(t,e){if(void 0!==e.getElementById&&P){var n,r,i,o=e.getElementById(t);if(o){if((n=o.getAttributeNode("id"))&&n.value===t)return[o];for(i=e.getElementsByName(t),r=0;o=i[r++];)if((n=o.getAttributeNode("id"))&&n.value===t)return[o]}return[]}}),w.find.TAG=b.getElementsByTagName?function(t,e){return void 0!==e.getElementsByTagName?e.getElementsByTagName(t):b.qsa?e.querySelectorAll(t):void 0}:function(t,e){var n,r=[],i=0,o=e.getElementsByTagName(t);if("*"===t){for(;n=o[i++];)1===n.nodeType&&r.push(n);return r}return o},w.find.CLASS=b.getElementsByClassName&&function(t,e){if(void 0!==e.getElementsByClassName&&P)return e.getElementsByClassName(t)},I=[],N=[],(b.qsa=dt.test(R.querySelectorAll))&&(i(function(t){j.appendChild(t).innerHTML="<a id='"+M+"'></a><select id='"+M+"-\r\\' msallowcapture=''><option selected=''></option></select>",t.querySelectorAll("[msallowcapture^='']").length&&N.push("[*^$]="+tt+"*(?:''|\"\")"),t.querySelectorAll("[selected]").length||N.push("\\["+tt+"*(?:value|"+Z+")"),t.querySelectorAll("[id~="+M+"-]").length||N.push("~="),t.querySelectorAll(":checked").length||N.push(":checked"),t.querySelectorAll("a#"+M+"+*").length||N.push(".#.+[+~]")}),i(function(t){t.innerHTML="<a href='' disabled='disabled'></a><select disabled='disabled'><option/></select>";var e=R.createElement("input");e.setAttribute("type","hidden"),t.appendChild(e).setAttribute("name","D"),t.querySelectorAll("[name=d]").length&&N.push("name"+tt+"*[*^$|!~]?="),2!==t.querySelectorAll(":enabled").length&&N.push(":enabled",":disabled"),j.appendChild(t).disabled=!0,2!==t.querySelectorAll(":disabled").length&&N.push(":enabled",":disabled"),t.querySelectorAll("*,:x"),N.push(",.*:")})),(b.matchesSelector=dt.test(D=j.matches||j.webkitMatchesSelector||j.mozMatchesSelector||j.oMatchesSelector||j.msMatchesSelector))&&i(function(t){b.disconnectedMatch=D.call(t,"*"),D.call(t,"[s!='']:x"),I.push("!=",rt)}),N=N.length&&new RegExp(N.join("|")),I=I.length&&new RegExp(I.join("|")),e=dt.test(j.compareDocumentPosition),V=e||dt.test(j.contains)?function(t,e){var n=9===t.nodeType?t.documentElement:t,r=e&&e.parentNode;return t===r||!(!r||1!==r.nodeType||!(n.contains?n.contains(r):t.compareDocumentPosition&&16&t.compareDocumentPosition(r)))}:function(t,e){if(e)for(;e=e.parentNode;)if(e===t)return!0;return!1},W=e?function(t,e){if(t===e)return O=!0,0;var n=!t.compareDocumentPosition-!e.compareDocumentPosition;return n||(n=(t.ownerDocument||t)===(e.ownerDocument||e)?t.compareDocumentPosition(e):1,1&n||!b.sortDetached&&e.compareDocumentPosition(t)===n?t===R||t.ownerDocument===q&&V(q,t)?-1:e===R||e.ownerDocument===q&&V(q,e)?1:A?X(A,t)-X(A,e):0:4&n?-1:1)}:function(t,e){if(t===e)return O=!0,0;var n,r=0,i=t.parentNode,o=e.parentNode,s=[t],u=[e];if(!i||!o)return t===R?-1:e===R?1:i?-1:o?1:A?X(A,t)-X(A,e):0;if(i===o)return a(t,e);for(n=t;n=n.parentNode;)s.unshift(n);for(n=e;n=n.parentNode;)u.unshift(n);for(;s[r]===u[r];)r++;return r?a(s[r],u[r]):s[r]===q?-1:u[r]===q?1:0},R):R},e.matches=function(t,n){return e(t,null,null,n)},e.matchesSelector=function(t,n){if((t.ownerDocument||t)!==R&&_(t),n=n.replace(ut,"='$1']"),b.matchesSelector&&P&&!B[n+" "]&&(!I||!I.test(n))&&(!N||!N.test(n)))try{var r=D.call(t,n);if(r||b.disconnectedMatch||t.document&&11!==t.document.nodeType)return r}catch(t){}return e(n,R,null,[t]).length>0},e.contains=function(t,e){return(t.ownerDocument||t)!==R&&_(t),V(t,e)},e.attr=function(t,e){(t.ownerDocument||t)!==R&&_(t);var n=w.attrHandle[e.toLowerCase()],r=n&&z.call(w.attrHandle,e.toLowerCase())?n(t,e,!P):void 0;return void 0!==r?r:b.attributes||!P?t.getAttribute(e):(r=t.getAttributeNode(e))&&r.specified?r.value:null},e.escape=function(t){return(t+"").replace(yt,bt)},e.error=function(t){throw new Error("Syntax error, unrecognized expression: "+t)},e.uniqueSort=function(t){
var e,n=[],r=0,i=0;if(O=!b.detectDuplicates,A=!b.sortStable&&t.slice(0),t.sort(W),O){for(;e=t[i++];)e===t[i]&&(r=n.push(i));for(;r--;)t.splice(n[r],1)}return A=null,t},x=e.getText=function(t){var e,n="",r=0,i=t.nodeType;if(i){if(1===i||9===i||11===i){if("string"==typeof t.textContent)return t.textContent;for(t=t.firstChild;t;t=t.nextSibling)n+=x(t)}else if(3===i||4===i)return t.nodeValue}else for(;e=t[r++];)n+=x(e);return n},w=e.selectors={cacheLength:50,createPseudo:r,match:ft,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(t){return t[1]=t[1].replace(gt,$t),t[3]=(t[3]||t[4]||t[5]||"").replace(gt,$t),"~="===t[2]&&(t[3]=" "+t[3]+" "),t.slice(0,4)},CHILD:function(t){return t[1]=t[1].toLowerCase(),"nth"===t[1].slice(0,3)?(t[3]||e.error(t[0]),t[4]=+(t[4]?t[5]+(t[6]||1):2*("even"===t[3]||"odd"===t[3])),t[5]=+(t[7]+t[8]||"odd"===t[3])):t[3]&&e.error(t[0]),t},PSEUDO:function(t){var e,n=!t[6]&&t[2];return ft.CHILD.test(t[0])?null:(t[3]?t[2]=t[4]||t[5]||"":n&&ct.test(n)&&(e=S(n,!0))&&(e=n.indexOf(")",n.length-e)-n.length)&&(t[0]=t[0].slice(0,e),t[2]=n.slice(0,e)),t.slice(0,3))}},filter:{TAG:function(t){var e=t.replace(gt,$t).toLowerCase();return"*"===t?function(){return!0}:function(t){return t.nodeName&&t.nodeName.toLowerCase()===e}},CLASS:function(t){var e=U[t+" "];return e||(e=new RegExp("(^|"+tt+")"+t+"("+tt+"|$)"))&&U(t,function(t){return e.test("string"==typeof t.className&&t.className||void 0!==t.getAttribute&&t.getAttribute("class")||"")})},ATTR:function(t,n,r){return function(i){var o=e.attr(i,t);return null==o?"!="===n:!n||(o+="","="===n?o===r:"!="===n?o!==r:"^="===n?r&&0===o.indexOf(r):"*="===n?r&&o.indexOf(r)>-1:"$="===n?r&&o.slice(-r.length)===r:"~="===n?(" "+o.replace(it," ")+" ").indexOf(r)>-1:"|="===n&&(o===r||o.slice(0,r.length+1)===r+"-"))}},CHILD:function(t,e,n,r,i){var o="nth"!==t.slice(0,3),a="last"!==t.slice(-4),s="of-type"===e;return 1===r&&0===i?function(t){return!!t.parentNode}:function(e,n,u){var c,l,f,h,p,d,v=o!==a?"nextSibling":"previousSibling",m=e.parentNode,g=s&&e.nodeName.toLowerCase(),$=!u&&!s,y=!1;if(m){if(o){for(;v;){for(h=e;h=h[v];)if(s?h.nodeName.toLowerCase()===g:1===h.nodeType)return!1;d=v="only"===t&&!d&&"nextSibling"}return!0}if(d=[a?m.firstChild:m.lastChild],a&&$){for(h=m,f=h[M]||(h[M]={}),l=f[h.uniqueID]||(f[h.uniqueID]={}),c=l[t]||[],p=c[0]===H&&c[1],y=p&&c[2],h=p&&m.childNodes[p];h=++p&&h&&h[v]||(y=p=0)||d.pop();)if(1===h.nodeType&&++y&&h===e){l[t]=[H,p,y];break}}else if($&&(h=e,f=h[M]||(h[M]={}),l=f[h.uniqueID]||(f[h.uniqueID]={}),c=l[t]||[],p=c[0]===H&&c[1],y=p),!1===y)for(;(h=++p&&h&&h[v]||(y=p=0)||d.pop())&&((s?h.nodeName.toLowerCase()!==g:1!==h.nodeType)||!++y||($&&(f=h[M]||(h[M]={}),l=f[h.uniqueID]||(f[h.uniqueID]={}),l[t]=[H,y]),h!==e)););return(y-=i)===r||y%r==0&&y/r>=0}}},PSEUDO:function(t,n){var i,o=w.pseudos[t]||w.setFilters[t.toLowerCase()]||e.error("unsupported pseudo: "+t);return o[M]?o(n):o.length>1?(i=[t,t,"",n],w.setFilters.hasOwnProperty(t.toLowerCase())?r(function(t,e){for(var r,i=o(t,n),a=i.length;a--;)r=X(t,i[a]),t[r]=!(e[r]=i[a])}):function(t){return o(t,0,i)}):o}},pseudos:{not:r(function(t){var e=[],n=[],i=E(t.replace(ot,"$1"));return i[M]?r(function(t,e,n,r){for(var o,a=i(t,null,r,[]),s=t.length;s--;)(o=a[s])&&(t[s]=!(e[s]=o))}):function(t,r,o){return e[0]=t,i(e,null,o,n),e[0]=null,!n.pop()}}),has:r(function(t){return function(n){return e(t,n).length>0}}),contains:r(function(t){return t=t.replace(gt,$t),function(e){return(e.textContent||e.innerText||x(e)).indexOf(t)>-1}}),lang:r(function(t){return lt.test(t||"")||e.error("unsupported lang: "+t),t=t.replace(gt,$t).toLowerCase(),function(e){var n;do{if(n=P?e.lang:e.getAttribute("xml:lang")||e.getAttribute("lang"))return(n=n.toLowerCase())===t||0===n.indexOf(t+"-")}while((e=e.parentNode)&&1===e.nodeType);return!1}}),target:function(e){var n=t.location&&t.location.hash;return n&&n.slice(1)===e.id},root:function(t){return t===j},focus:function(t){return t===R.activeElement&&(!R.hasFocus||R.hasFocus())&&!!(t.type||t.href||~t.tabIndex)},enabled:s(!1),disabled:s(!0),checked:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&!!t.checked||"option"===e&&!!t.selected},selected:function(t){return t.parentNode&&t.parentNode.selectedIndex,!0===t.selected},empty:function(t){for(t=t.firstChild;t;t=t.nextSibling)if(t.nodeType<6)return!1;return!0},parent:function(t){return!w.pseudos.empty(t)},header:function(t){return pt.test(t.nodeName)},input:function(t){return ht.test(t.nodeName)},button:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&"button"===t.type||"button"===e},text:function(t){var e;return"input"===t.nodeName.toLowerCase()&&"text"===t.type&&(null==(e=t.getAttribute("type"))||"text"===e.toLowerCase())},first:u(function(){return[0]}),last:u(function(t,e){return[e-1]}),eq:u(function(t,e,n){return[n<0?n+e:n]}),even:u(function(t,e){for(var n=0;n<e;n+=2)t.push(n);return t}),odd:u(function(t,e){for(var n=1;n<e;n+=2)t.push(n);return t}),lt:u(function(t,e,n){for(var r=n<0?n+e:n;--r>=0;)t.push(r);return t}),gt:u(function(t,e,n){for(var r=n<0?n+e:n;++r<e;)t.push(r);return t})}},w.pseudos.nth=w.pseudos.eq;for(y in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})w.pseudos[y]=function(t){return function(e){return"input"===e.nodeName.toLowerCase()&&e.type===t}}(y);for(y in{submit:!0,reset:!0})w.pseudos[y]=function(t){return function(e){var n=e.nodeName.toLowerCase();return("input"===n||"button"===n)&&e.type===t}}(y);return l.prototype=w.filters=w.pseudos,w.setFilters=new l,S=e.tokenize=function(t,n){var r,i,o,a,s,u,c,l=F[t+" "];if(l)return n?0:l.slice(0);for(s=t,u=[],c=w.preFilter;s;){r&&!(i=at.exec(s))||(i&&(s=s.slice(i[0].length)||s),u.push(o=[])),r=!1,(i=st.exec(s))&&(r=i.shift(),o.push({value:r,type:i[0].replace(ot," ")}),s=s.slice(r.length));for(a in w.filter)!(i=ft[a].exec(s))||c[a]&&!(i=c[a](i))||(r=i.shift(),o.push({value:r,type:a,matches:i}),s=s.slice(r.length));if(!r)break}return n?s.length:s?e.error(t):F(t,u).slice(0)},E=e.compile=function(t,e){var n,r=[],i=[],o=B[t+" "];if(!o){for(e||(e=S(t)),n=e.length;n--;)o=g(e[n]),o[M]?r.push(o):i.push(o);o=B(t,$(i,r)),o.selector=t}return o},T=e.select=function(t,e,n,r){var i,o,a,s,u,l="function"==typeof t&&t,h=!r&&S(t=l.selector||t);if(n=n||[],1===h.length){if(o=h[0]=h[0].slice(0),o.length>2&&"ID"===(a=o[0]).type&&9===e.nodeType&&P&&w.relative[o[1].type]){if(!(e=(w.find.ID(a.matches[0].replace(gt,$t),e)||[])[0]))return n;l&&(e=e.parentNode),t=t.slice(o.shift().value.length)}for(i=ft.needsContext.test(t)?0:o.length;i--&&(a=o[i],!w.relative[s=a.type]);)if((u=w.find[s])&&(r=u(a.matches[0].replace(gt,$t),mt.test(o[0].type)&&c(e.parentNode)||e))){if(o.splice(i,1),!(t=r.length&&f(o)))return K.apply(n,r),n;break}}return(l||E(t,h))(r,e,!P,n,!e||mt.test(t)&&c(e.parentNode)||e),n},b.sortStable=M.split("").sort(W).join("")===M,b.detectDuplicates=!!O,_(),b.sortDetached=i(function(t){return 1&t.compareDocumentPosition(R.createElement("fieldset"))}),i(function(t){return t.innerHTML="<a href='#'></a>","#"===t.firstChild.getAttribute("href")})||o("type|href|height|width",function(t,e,n){if(!n)return t.getAttribute(e,"type"===e.toLowerCase()?1:2)}),b.attributes&&i(function(t){return t.innerHTML="<input/>",t.firstChild.setAttribute("value",""),""===t.firstChild.getAttribute("value")})||o("value",function(t,e,n){if(!n&&"input"===t.nodeName.toLowerCase())return t.defaultValue}),i(function(t){return null==t.getAttribute("disabled")})||o(Z,function(t,e,n){var r;if(!n)return!0===t[e]?e.toLowerCase():(r=t.getAttributeNode(e))&&r.specified?r.value:null}),e}(t);dt.find=mt,dt.expr=mt.selectors,dt.expr[":"]=dt.expr.pseudos,dt.uniqueSort=dt.unique=mt.uniqueSort,dt.text=mt.getText,dt.isXMLDoc=mt.isXML,dt.contains=mt.contains,dt.escapeSelector=mt.escape;var gt=function(t,e,n){for(var r=[],i=void 0!==n;(t=t[e])&&9!==t.nodeType;)if(1===t.nodeType){if(i&&dt(t).is(n))break;r.push(t)}return r},$t=function(t,e){for(var n=[];t;t=t.nextSibling)1===t.nodeType&&t!==e&&n.push(t);return n},yt=dt.expr.match.needsContext,bt=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i,wt=/^.[^:#\[\.,]*$/;dt.filter=function(t,e,n){var r=e[0];return n&&(t=":not("+t+")"),1===e.length&&1===r.nodeType?dt.find.matchesSelector(r,t)?[r]:[]:dt.find.matches(t,dt.grep(e,function(t){return 1===t.nodeType}))},dt.fn.extend({find:function(t){var e,n,r=this.length,i=this;if("string"!=typeof t)return this.pushStack(dt(t).filter(function(){for(e=0;e<r;e++)if(dt.contains(i[e],this))return!0}));for(n=this.pushStack([]),e=0;e<r;e++)dt.find(t,i[e],n);return r>1?dt.uniqueSort(n):n},filter:function(t){return this.pushStack(o(this,t||[],!1))},not:function(t){return this.pushStack(o(this,t||[],!0))},is:function(t){return!!o(this,"string"==typeof t&&yt.test(t)?dt(t):t||[],!1).length}});var xt,Ct=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/;(dt.fn.init=function(t,e,n){var r,i;if(!t)return this;if(n=n||xt,"string"==typeof t){if(!(r="<"===t[0]&&">"===t[t.length-1]&&t.length>=3?[null,t,null]:Ct.exec(t))||!r[1]&&e)return!e||e.jquery?(e||n).find(t):this.constructor(e).find(t);if(r[1]){if(e=e instanceof dt?e[0]:e,dt.merge(this,dt.parseHTML(r[1],e&&e.nodeType?e.ownerDocument||e:nt,!0)),bt.test(r[1])&&dt.isPlainObject(e))for(r in e)dt.isFunction(this[r])?this[r](e[r]):this.attr(r,e[r]);return this}return i=nt.getElementById(r[2]),i&&(this[0]=i,this.length=1),this}return t.nodeType?(this[0]=t,this.length=1,this):dt.isFunction(t)?void 0!==n.ready?n.ready(t):t(dt):dt.makeArray(t,this)}).prototype=dt.fn,xt=dt(nt);var St=/^(?:parents|prev(?:Until|All))/,Et={children:!0,contents:!0,next:!0,prev:!0};dt.fn.extend({has:function(t){var e=dt(t,this),n=e.length;return this.filter(function(){for(var t=0;t<n;t++)if(dt.contains(this,e[t]))return!0})},closest:function(t,e){var n,r=0,i=this.length,o=[],a="string"!=typeof t&&dt(t);if(!yt.test(t))for(;r<i;r++)for(n=this[r];n&&n!==e;n=n.parentNode)if(n.nodeType<11&&(a?a.index(n)>-1:1===n.nodeType&&dt.find.matchesSelector(n,t))){o.push(n);break}return this.pushStack(o.length>1?dt.uniqueSort(o):o)},index:function(t){return t?"string"==typeof t?st.call(dt(t),this[0]):st.call(this,t.jquery?t[0]:t):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(t,e){return this.pushStack(dt.uniqueSort(dt.merge(this.get(),dt(t,e))))},addBack:function(t){return this.add(null==t?this.prevObject:this.prevObject.filter(t))}}),dt.each({parent:function(t){var e=t.parentNode;return e&&11!==e.nodeType?e:null},parents:function(t){return gt(t,"parentNode")},parentsUntil:function(t,e,n){return gt(t,"parentNode",n)},next:function(t){return a(t,"nextSibling")},prev:function(t){return a(t,"previousSibling")},nextAll:function(t){return gt(t,"nextSibling")},prevAll:function(t){return gt(t,"previousSibling")},nextUntil:function(t,e,n){return gt(t,"nextSibling",n)},prevUntil:function(t,e,n){return gt(t,"previousSibling",n)},siblings:function(t){return $t((t.parentNode||{}).firstChild,t)},children:function(t){return $t(t.firstChild)},contents:function(t){return i(t,"iframe")?t.contentDocument:(i(t,"template")&&(t=t.content||t),dt.merge([],t.childNodes))}},function(t,e){dt.fn[t]=function(n,r){var i=dt.map(this,e,n);return"Until"!==t.slice(-5)&&(r=n),r&&"string"==typeof r&&(i=dt.filter(r,i)),this.length>1&&(Et[t]||dt.uniqueSort(i),St.test(t)&&i.reverse()),this.pushStack(i)}});var Tt=/[^\x20\t\r\n\f]+/g;dt.Callbacks=function(t){t="string"==typeof t?s(t):dt.extend({},t);var e,n,r,i,o=[],a=[],u=-1,c=function(){for(i=i||t.once,r=e=!0;a.length;u=-1)for(n=a.shift();++u<o.length;)!1===o[u].apply(n[0],n[1])&&t.stopOnFalse&&(u=o.length,n=!1);t.memory||(n=!1),e=!1,i&&(o=n?[]:"")},l={add:function(){return o&&(n&&!e&&(u=o.length-1,a.push(n)),function e(n){dt.each(n,function(n,r){dt.isFunction(r)?t.unique&&l.has(r)||o.push(r):r&&r.length&&"string"!==dt.type(r)&&e(r)})}(arguments),n&&!e&&c()),this},remove:function(){return dt.each(arguments,function(t,e){for(var n;(n=dt.inArray(e,o,n))>-1;)o.splice(n,1),n<=u&&u--}),this},has:function(t){return t?dt.inArray(t,o)>-1:o.length>0},empty:function(){return o&&(o=[]),this},disable:function(){return i=a=[],o=n="",this},disabled:function(){return!o},lock:function(){return i=a=[],n||e||(o=n=""),this},locked:function(){return!!i},fireWith:function(t,n){return i||(n=n||[],n=[t,n.slice?n.slice():n],a.push(n),e||c()),this},fire:function(){return l.fireWith(this,arguments),this},fired:function(){return!!r}};return l},dt.extend({Deferred:function(e){var n=[["notify","progress",dt.Callbacks("memory"),dt.Callbacks("memory"),2],["resolve","done",dt.Callbacks("once memory"),dt.Callbacks("once memory"),0,"resolved"],["reject","fail",dt.Callbacks("once memory"),dt.Callbacks("once memory"),1,"rejected"]],r="pending",i={state:function(){return r},always:function(){return o.done(arguments).fail(arguments),this},catch:function(t){return i.then(null,t)},pipe:function(){var t=arguments;return dt.Deferred(function(e){dt.each(n,function(n,r){var i=dt.isFunction(t[r[4]])&&t[r[4]];o[r[1]](function(){var t=i&&i.apply(this,arguments);t&&dt.isFunction(t.promise)?t.promise().progress(e.notify).done(e.resolve).fail(e.reject):e[r[0]+"With"](this,i?[t]:arguments)})}),t=null}).promise()},then:function(e,r,i){function o(e,n,r,i){return function(){var s=this,l=arguments,f=function(){var t,f;if(!(e<a)){if((t=r.apply(s,l))===n.promise())throw new TypeError("Thenable self-resolution");f=t&&("object"==typeof t||"function"==typeof t)&&t.then,dt.isFunction(f)?i?f.call(t,o(a,n,u,i),o(a,n,c,i)):(a++,f.call(t,o(a,n,u,i),o(a,n,c,i),o(a,n,u,n.notifyWith))):(r!==u&&(s=void 0,l=[t]),(i||n.resolveWith)(s,l))}},h=i?f:function(){try{f()}catch(t){dt.Deferred.exceptionHook&&dt.Deferred.exceptionHook(t,h.stackTrace),e+1>=a&&(r!==c&&(s=void 0,l=[t]),n.rejectWith(s,l))}};e?h():(dt.Deferred.getStackHook&&(h.stackTrace=dt.Deferred.getStackHook()),t.setTimeout(h))}}var a=0;return dt.Deferred(function(t){n[0][3].add(o(0,t,dt.isFunction(i)?i:u,t.notifyWith)),n[1][3].add(o(0,t,dt.isFunction(e)?e:u)),n[2][3].add(o(0,t,dt.isFunction(r)?r:c))}).promise()},promise:function(t){return null!=t?dt.extend(t,i):i}},o={};return dt.each(n,function(t,e){var a=e[2],s=e[5];i[e[1]]=a.add,s&&a.add(function(){r=s},n[3-t][2].disable,n[0][2].lock),a.add(e[3].fire),o[e[0]]=function(){return o[e[0]+"With"](this===o?void 0:this,arguments),this},o[e[0]+"With"]=a.fireWith}),i.promise(o),e&&e.call(o,o),o},when:function(t){var e=arguments.length,n=e,r=Array(n),i=it.call(arguments),o=dt.Deferred(),a=function(t){return function(n){r[t]=this,i[t]=arguments.length>1?it.call(arguments):n,--e||o.resolveWith(r,i)}};if(e<=1&&(l(t,o.done(a(n)).resolve,o.reject,!e),"pending"===o.state()||dt.isFunction(i[n]&&i[n].then)))return o.then();for(;n--;)l(i[n],a(n),o.reject);return o.promise()}});var kt=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;dt.Deferred.exceptionHook=function(e,n){t.console&&t.console.warn&&e&&kt.test(e.name)&&t.console.warn("jQuery.Deferred exception: "+e.message,e.stack,n)},dt.readyException=function(e){t.setTimeout(function(){throw e})};var At=dt.Deferred();dt.fn.ready=function(t){return At.then(t).catch(function(t){dt.readyException(t)}),this},dt.extend({isReady:!1,readyWait:1,ready:function(t){(!0===t?--dt.readyWait:dt.isReady)||(dt.isReady=!0,!0!==t&&--dt.readyWait>0||At.resolveWith(nt,[dt]))}}),dt.ready.then=At.then,"complete"===nt.readyState||"loading"!==nt.readyState&&!nt.documentElement.doScroll?t.setTimeout(dt.ready):(nt.addEventListener("DOMContentLoaded",f),t.addEventListener("load",f));var Ot=function(t,e,n,r,i,o,a){var s=0,u=t.length,c=null==n;if("object"===dt.type(n)){i=!0;for(s in n)Ot(t,e,s,n[s],!0,o,a)}else if(void 0!==r&&(i=!0,dt.isFunction(r)||(a=!0),c&&(a?(e.call(t,r),e=null):(c=e,e=function(t,e,n){return c.call(dt(t),n)})),e))for(;s<u;s++)e(t[s],n,a?r:r.call(t[s],s,e(t[s],n)));return i?t:c?e.call(t):u?e(t[0],n):o},_t=function(t){return 1===t.nodeType||9===t.nodeType||!+t.nodeType};h.uid=1,h.prototype={cache:function(t){var e=t[this.expando];return e||(e={},_t(t)&&(t.nodeType?t[this.expando]=e:Object.defineProperty(t,this.expando,{value:e,configurable:!0}))),e},set:function(t,e,n){var r,i=this.cache(t);if("string"==typeof e)i[dt.camelCase(e)]=n;else for(r in e)i[dt.camelCase(r)]=e[r];return i},get:function(t,e){return void 0===e?this.cache(t):t[this.expando]&&t[this.expando][dt.camelCase(e)]},access:function(t,e,n){return void 0===e||e&&"string"==typeof e&&void 0===n?this.get(t,e):(this.set(t,e,n),void 0!==n?n:e)},remove:function(t,e){var n,r=t[this.expando];if(void 0!==r){if(void 0!==e){Array.isArray(e)?e=e.map(dt.camelCase):(e=dt.camelCase(e),e=e in r?[e]:e.match(Tt)||[]),n=e.length;for(;n--;)delete r[e[n]]}(void 0===e||dt.isEmptyObject(r))&&(t.nodeType?t[this.expando]=void 0:delete t[this.expando])}},hasData:function(t){var e=t[this.expando];return void 0!==e&&!dt.isEmptyObject(e)}};var Rt=new h,jt=new h,Pt=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,Nt=/[A-Z]/g;dt.extend({hasData:function(t){return jt.hasData(t)||Rt.hasData(t)},data:function(t,e,n){return jt.access(t,e,n)},removeData:function(t,e){jt.remove(t,e)},_data:function(t,e,n){return Rt.access(t,e,n)},_removeData:function(t,e){Rt.remove(t,e)}}),dt.fn.extend({data:function(t,e){var n,r,i,o=this[0],a=o&&o.attributes;if(void 0===t){if(this.length&&(i=jt.get(o),1===o.nodeType&&!Rt.get(o,"hasDataAttrs"))){for(n=a.length;n--;)a[n]&&(r=a[n].name,0===r.indexOf("data-")&&(r=dt.camelCase(r.slice(5)),d(o,r,i[r])));Rt.set(o,"hasDataAttrs",!0)}return i}return"object"==typeof t?this.each(function(){jt.set(this,t)}):Ot(this,function(e){var n;if(o&&void 0===e){if(void 0!==(n=jt.get(o,t)))return n;if(void 0!==(n=d(o,t)))return n}else this.each(function(){jt.set(this,t,e)})},null,e,arguments.length>1,null,!0)},removeData:function(t){return this.each(function(){jt.remove(this,t)})}}),dt.extend({queue:function(t,e,n){var r;if(t)return e=(e||"fx")+"queue",r=Rt.get(t,e),n&&(!r||Array.isArray(n)?r=Rt.access(t,e,dt.makeArray(n)):r.push(n)),r||[]},dequeue:function(t,e){e=e||"fx";var n=dt.queue(t,e),r=n.length,i=n.shift(),o=dt._queueHooks(t,e),a=function(){dt.dequeue(t,e)};"inprogress"===i&&(i=n.shift(),r--),i&&("fx"===e&&n.unshift("inprogress"),delete o.stop,i.call(t,a,o)),!r&&o&&o.empty.fire()},_queueHooks:function(t,e){var n=e+"queueHooks";return Rt.get(t,n)||Rt.access(t,n,{empty:dt.Callbacks("once memory").add(function(){Rt.remove(t,[e+"queue",n])})})}}),dt.fn.extend({queue:function(t,e){var n=2;return"string"!=typeof t&&(e=t,t="fx",n--),arguments.length<n?dt.queue(this[0],t):void 0===e?this:this.each(function(){var n=dt.queue(this,t,e);dt._queueHooks(this,t),"fx"===t&&"inprogress"!==n[0]&&dt.dequeue(this,t)})},dequeue:function(t){return this.each(function(){dt.dequeue(this,t)})},clearQueue:function(t){return this.queue(t||"fx",[])},promise:function(t,e){var n,r=1,i=dt.Deferred(),o=this,a=this.length,s=function(){--r||i.resolveWith(o,[o])};for("string"!=typeof t&&(e=t,t=void 0),t=t||"fx";a--;)(n=Rt.get(o[a],t+"queueHooks"))&&n.empty&&(r++,n.empty.add(s));return s(),i.promise(e)}});var It=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,Dt=new RegExp("^(?:([+-])=|)("+It+")([a-z%]*)$","i"),Vt=["Top","Right","Bottom","Left"],Mt=function(t,e){return t=e||t,"none"===t.style.display||""===t.style.display&&dt.contains(t.ownerDocument,t)&&"none"===dt.css(t,"display")},qt=function(t,e,n,r){var i,o,a={};for(o in e)a[o]=t.style[o],t.style[o]=e[o];i=n.apply(t,r||[]);for(o in e)t.style[o]=a[o];return i},Ht={};dt.fn.extend({show:function(){return g(this,!0)},hide:function(){return g(this)},toggle:function(t){return"boolean"==typeof t?t?this.show():this.hide():this.each(function(){Mt(this)?dt(this).show():dt(this).hide()})}});var Lt=/^(?:checkbox|radio)$/i,Ut=/<([a-z][^\/\0>\x20\t\r\n\f]+)/i,Ft=/^$|\/(?:java|ecma)script/i,Bt={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};Bt.optgroup=Bt.option,Bt.tbody=Bt.tfoot=Bt.colgroup=Bt.caption=Bt.thead,Bt.th=Bt.td;var Wt=/<|&#?\w+;/;!function(){var t=nt.createDocumentFragment(),e=t.appendChild(nt.createElement("div")),n=nt.createElement("input");n.setAttribute("type","radio"),n.setAttribute("checked","checked"),n.setAttribute("name","t"),e.appendChild(n),pt.checkClone=e.cloneNode(!0).cloneNode(!0).lastChild.checked,e.innerHTML="<textarea>x</textarea>",pt.noCloneChecked=!!e.cloneNode(!0).lastChild.defaultValue}();var zt=nt.documentElement,Gt=/^key/,Jt=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,Qt=/^([^.]*)(?:\.(.+)|)/;dt.event={global:{},add:function(t,e,n,r,i){var o,a,s,u,c,l,f,h,p,d,v,m=Rt.get(t);if(m)for(n.handler&&(o=n,n=o.handler,i=o.selector),i&&dt.find.matchesSelector(zt,i),n.guid||(n.guid=dt.guid++),(u=m.events)||(u=m.events={}),(a=m.handle)||(a=m.handle=function(e){return void 0!==dt&&dt.event.triggered!==e.type?dt.event.dispatch.apply(t,arguments):void 0}),e=(e||"").match(Tt)||[""],c=e.length;c--;)s=Qt.exec(e[c])||[],p=v=s[1],d=(s[2]||"").split(".").sort(),p&&(f=dt.event.special[p]||{},p=(i?f.delegateType:f.bindType)||p,f=dt.event.special[p]||{},l=dt.extend({type:p,origType:v,data:r,handler:n,guid:n.guid,selector:i,needsContext:i&&dt.expr.match.needsContext.test(i),namespace:d.join(".")},o),(h=u[p])||(h=u[p]=[],h.delegateCount=0,f.setup&&!1!==f.setup.call(t,r,d,a)||t.addEventListener&&t.addEventListener(p,a)),f.add&&(f.add.call(t,l),l.handler.guid||(l.handler.guid=n.guid)),i?h.splice(h.delegateCount++,0,l):h.push(l),dt.event.global[p]=!0)},remove:function(t,e,n,r,i){var o,a,s,u,c,l,f,h,p,d,v,m=Rt.hasData(t)&&Rt.get(t);if(m&&(u=m.events)){for(e=(e||"").match(Tt)||[""],c=e.length;c--;)if(s=Qt.exec(e[c])||[],p=v=s[1],d=(s[2]||"").split(".").sort(),p){for(f=dt.event.special[p]||{},p=(r?f.delegateType:f.bindType)||p,h=u[p]||[],s=s[2]&&new RegExp("(^|\\.)"+d.join("\\.(?:.*\\.|)")+"(\\.|$)"),a=o=h.length;o--;)l=h[o],!i&&v!==l.origType||n&&n.guid!==l.guid||s&&!s.test(l.namespace)||r&&r!==l.selector&&("**"!==r||!l.selector)||(h.splice(o,1),l.selector&&h.delegateCount--,f.remove&&f.remove.call(t,l));a&&!h.length&&(f.teardown&&!1!==f.teardown.call(t,d,m.handle)||dt.removeEvent(t,p,m.handle),delete u[p])}else for(p in u)dt.event.remove(t,p+e[c],n,r,!0);dt.isEmptyObject(u)&&Rt.remove(t,"handle events")}},dispatch:function(t){var e,n,r,i,o,a,s=dt.event.fix(t),u=new Array(arguments.length),c=(Rt.get(this,"events")||{})[s.type]||[],l=dt.event.special[s.type]||{};for(u[0]=s,e=1;e<arguments.length;e++)u[e]=arguments[e];if(s.delegateTarget=this,!l.preDispatch||!1!==l.preDispatch.call(this,s)){for(a=dt.event.handlers.call(this,s,c),e=0;(i=a[e++])&&!s.isPropagationStopped();)for(s.currentTarget=i.elem,n=0;(o=i.handlers[n++])&&!s.isImmediatePropagationStopped();)s.rnamespace&&!s.rnamespace.test(o.namespace)||(s.handleObj=o,s.data=o.data,void 0!==(r=((dt.event.special[o.origType]||{}).handle||o.handler).apply(i.elem,u))&&!1===(s.result=r)&&(s.preventDefault(),s.stopPropagation()));return l.postDispatch&&l.postDispatch.call(this,s),s.result}},handlers:function(t,e){var n,r,i,o,a,s=[],u=e.delegateCount,c=t.target;if(u&&c.nodeType&&!("click"===t.type&&t.button>=1))for(;c!==this;c=c.parentNode||this)if(1===c.nodeType&&("click"!==t.type||!0!==c.disabled)){for(o=[],a={},n=0;n<u;n++)r=e[n],i=r.selector+" ",void 0===a[i]&&(a[i]=r.needsContext?dt(i,this).index(c)>-1:dt.find(i,this,null,[c]).length),a[i]&&o.push(r);o.length&&s.push({elem:c,handlers:o})}return c=this,u<e.length&&s.push({elem:c,handlers:e.slice(u)}),s},addProp:function(t,e){Object.defineProperty(dt.Event.prototype,t,{enumerable:!0,configurable:!0,get:dt.isFunction(e)?function(){if(this.originalEvent)return e(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[t]},set:function(e){Object.defineProperty(this,t,{enumerable:!0,configurable:!0,writable:!0,value:e})}})},fix:function(t){return t[dt.expando]?t:new dt.Event(t)},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==C()&&this.focus)return this.focus(),!1},delegateType:"focusin"},blur:{trigger:function(){if(this===C()&&this.blur)return this.blur(),!1},delegateType:"focusout"},click:{trigger:function(){if("checkbox"===this.type&&this.click&&i(this,"input"))return this.click(),!1},_default:function(t){return i(t.target,"a")}},beforeunload:{postDispatch:function(t){void 0!==t.result&&t.originalEvent&&(t.originalEvent.returnValue=t.result)}}}},dt.removeEvent=function(t,e,n){t.removeEventListener&&t.removeEventListener(e,n)},dt.Event=function(t,e){if(!(this instanceof dt.Event))return new dt.Event(t,e);t&&t.type?(this.originalEvent=t,this.type=t.type,this.isDefaultPrevented=t.defaultPrevented||void 0===t.defaultPrevented&&!1===t.returnValue?w:x,this.target=t.target&&3===t.target.nodeType?t.target.parentNode:t.target,this.currentTarget=t.currentTarget,this.relatedTarget=t.relatedTarget):this.type=t,e&&dt.extend(this,e),this.timeStamp=t&&t.timeStamp||dt.now(),this[dt.expando]=!0},dt.Event.prototype={constructor:dt.Event,isDefaultPrevented:x,isPropagationStopped:x,isImmediatePropagationStopped:x,isSimulated:!1,preventDefault:function(){var t=this.originalEvent;this.isDefaultPrevented=w,t&&!this.isSimulated&&t.preventDefault()},stopPropagation:function(){var t=this.originalEvent;this.isPropagationStopped=w,t&&!this.isSimulated&&t.stopPropagation()},stopImmediatePropagation:function(){var t=this.originalEvent;this.isImmediatePropagationStopped=w,t&&!this.isSimulated&&t.stopImmediatePropagation(),this.stopPropagation()}},dt.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,char:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:function(t){var e=t.button;return null==t.which&&Gt.test(t.type)?null!=t.charCode?t.charCode:t.keyCode:!t.which&&void 0!==e&&Jt.test(t.type)?1&e?1:2&e?3:4&e?2:0:t.which}},dt.event.addProp),dt.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(t,e){dt.event.special[t]={delegateType:e,bindType:e,handle:function(t){var n,r=this,i=t.relatedTarget,o=t.handleObj;return i&&(i===r||dt.contains(r,i))||(t.type=o.origType,n=o.handler.apply(this,arguments),t.type=e),n}}}),dt.fn.extend({on:function(t,e,n,r){return S(this,t,e,n,r)},one:function(t,e,n,r){return S(this,t,e,n,r,1)},off:function(t,e,n){var r,i;if(t&&t.preventDefault&&t.handleObj)return r=t.handleObj,dt(t.delegateTarget).off(r.namespace?r.origType+"."+r.namespace:r.origType,r.selector,r.handler),this;if("object"==typeof t){for(i in t)this.off(i,e,t[i]);return this}return!1!==e&&"function"!=typeof e||(n=e,e=void 0),!1===n&&(n=x),this.each(function(){dt.event.remove(this,t,n,e)})}});var Kt=/<script|<style|<link/i,Yt=/checked\s*(?:[^=]|=\s*.checked.)/i,Xt=/^true\/(.*)/,Zt=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g;dt.extend({htmlPrefilter:function(t){return t.replace(/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([a-z][^\/\0>\x20\t\r\n\f]*)[^>]*)\/>/gi,"<$1></$2>")},clone:function(t,e,n){var r,i,o,a,s=t.cloneNode(!0),u=dt.contains(t.ownerDocument,t);if(!(pt.noCloneChecked||1!==t.nodeType&&11!==t.nodeType||dt.isXMLDoc(t)))for(a=$(s),o=$(t),r=0,i=o.length;r<i;r++)O(o[r],a[r]);if(e)if(n)for(o=o||$(t),a=a||$(s),r=0,i=o.length;r<i;r++)A(o[r],a[r]);else A(t,s);return a=$(s,"script"),a.length>0&&y(a,!u&&$(t,"script")),s},cleanData:function(t){for(var e,n,r,i=dt.event.special,o=0;void 0!==(n=t[o]);o++)if(_t(n)){if(e=n[Rt.expando]){if(e.events)for(r in e.events)i[r]?dt.event.remove(n,r):dt.removeEvent(n,r,e.handle);n[Rt.expando]=void 0}n[jt.expando]&&(n[jt.expando]=void 0)}}}),dt.fn.extend({detach:function(t){return R(this,t,!0)},remove:function(t){return R(this,t)},text:function(t){return Ot(this,function(t){return void 0===t?dt.text(this):this.empty().each(function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=t)})},null,t,arguments.length)},append:function(){return _(this,arguments,function(t){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){E(this,t).appendChild(t)}})},prepend:function(){return _(this,arguments,function(t){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var e=E(this,t);e.insertBefore(t,e.firstChild)}})},before:function(){return _(this,arguments,function(t){this.parentNode&&this.parentNode.insertBefore(t,this)})},after:function(){return _(this,arguments,function(t){this.parentNode&&this.parentNode.insertBefore(t,this.nextSibling)})},empty:function(){for(var t,e=0;null!=(t=this[e]);e++)1===t.nodeType&&(dt.cleanData($(t,!1)),t.textContent="");return this},clone:function(t,e){return t=null!=t&&t,e=null==e?t:e,this.map(function(){return dt.clone(this,t,e)})},html:function(t){return Ot(this,function(t){var e=this[0]||{},n=0,r=this.length;if(void 0===t&&1===e.nodeType)return e.innerHTML;if("string"==typeof t&&!Kt.test(t)&&!Bt[(Ut.exec(t)||["",""])[1].toLowerCase()]){t=dt.htmlPrefilter(t);try{for(;n<r;n++)e=this[n]||{},1===e.nodeType&&(dt.cleanData($(e,!1)),e.innerHTML=t);e=0}catch(t){}}e&&this.empty().append(t)},null,t,arguments.length)},replaceWith:function(){var t=[];return _(this,arguments,function(e){var n=this.parentNode;dt.inArray(this,t)<0&&(dt.cleanData($(this)),n&&n.replaceChild(e,this))},t)}}),dt.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(t,e){dt.fn[t]=function(t){for(var n,r=[],i=dt(t),o=i.length-1,a=0;a<=o;a++)n=a===o?this:this.clone(!0),dt(i[a])[e](n),at.apply(r,n.get());return this.pushStack(r)}});var te=/^margin/,ee=new RegExp("^("+It+")(?!px)[a-z%]+$","i"),ne=function(e){var n=e.ownerDocument.defaultView;return n&&n.opener||(n=t),n.getComputedStyle(e)};!function(){function e(){if(s){s.style.cssText="box-sizing:border-box;position:relative;display:block;margin:auto;border:1px;padding:1px;top:1%;width:50%",s.innerHTML="",zt.appendChild(a);var e=t.getComputedStyle(s);n="1%"!==e.top,o="2px"===e.marginLeft,r="4px"===e.width,s.style.marginRight="50%",i="4px"===e.marginRight,zt.removeChild(a),s=null}}var n,r,i,o,a=nt.createElement("div"),s=nt.createElement("div");s.style&&(s.style.backgroundClip="content-box",s.cloneNode(!0).style.backgroundClip="",pt.clearCloneStyle="content-box"===s.style.backgroundClip,a.style.cssText="border:0;width:8px;height:0;top:0;left:-9999px;padding:0;margin-top:1px;position:absolute",a.appendChild(s),dt.extend(pt,{pixelPosition:function(){return e(),n},boxSizingReliable:function(){return e(),r},pixelMarginRight:function(){return e(),i},reliableMarginLeft:function(){return e(),o}}))}();var re=/^(none|table(?!-c[ea]).+)/,ie=/^--/,oe={position:"absolute",visibility:"hidden",display:"block"},ae={letterSpacing:"0",fontWeight:"400"},se=["Webkit","Moz","ms"],ue=nt.createElement("div").style;dt.extend({cssHooks:{opacity:{get:function(t,e){if(e){var n=j(t,"opacity");return""===n?"1":n}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{float:"cssFloat"},style:function(t,e,n,r){if(t&&3!==t.nodeType&&8!==t.nodeType&&t.style){var i,o,a,s=dt.camelCase(e),u=ie.test(e),c=t.style;if(u||(e=I(s)),a=dt.cssHooks[e]||dt.cssHooks[s],void 0===n)return a&&"get"in a&&void 0!==(i=a.get(t,!1,r))?i:c[e];o=typeof n,"string"===o&&(i=Dt.exec(n))&&i[1]&&(n=v(t,e,i),o="number"),null!=n&&n===n&&("number"===o&&(n+=i&&i[3]||(dt.cssNumber[s]?"":"px")),pt.clearCloneStyle||""!==n||0!==e.indexOf("background")||(c[e]="inherit"),a&&"set"in a&&void 0===(n=a.set(t,n,r))||(u?c.setProperty(e,n):c[e]=n))}},css:function(t,e,n,r){var i,o,a,s=dt.camelCase(e);return ie.test(e)||(e=I(s)),a=dt.cssHooks[e]||dt.cssHooks[s],a&&"get"in a&&(i=a.get(t,!0,n)),
void 0===i&&(i=j(t,e,r)),"normal"===i&&e in ae&&(i=ae[e]),""===n||n?(o=parseFloat(i),!0===n||isFinite(o)?o||0:i):i}}),dt.each(["height","width"],function(t,e){dt.cssHooks[e]={get:function(t,n,r){if(n)return!re.test(dt.css(t,"display"))||t.getClientRects().length&&t.getBoundingClientRect().width?M(t,e,r):qt(t,oe,function(){return M(t,e,r)})},set:function(t,n,r){var i,o=r&&ne(t),a=r&&V(t,e,r,"border-box"===dt.css(t,"boxSizing",!1,o),o);return a&&(i=Dt.exec(n))&&"px"!==(i[3]||"px")&&(t.style[e]=n,n=dt.css(t,e)),D(t,n,a)}}}),dt.cssHooks.marginLeft=P(pt.reliableMarginLeft,function(t,e){if(e)return(parseFloat(j(t,"marginLeft"))||t.getBoundingClientRect().left-qt(t,{marginLeft:0},function(){return t.getBoundingClientRect().left}))+"px"}),dt.each({margin:"",padding:"",border:"Width"},function(t,e){dt.cssHooks[t+e]={expand:function(n){for(var r=0,i={},o="string"==typeof n?n.split(" "):[n];r<4;r++)i[t+Vt[r]+e]=o[r]||o[r-2]||o[0];return i}},te.test(t)||(dt.cssHooks[t+e].set=D)}),dt.fn.extend({css:function(t,e){return Ot(this,function(t,e,n){var r,i,o={},a=0;if(Array.isArray(e)){for(r=ne(t),i=e.length;a<i;a++)o[e[a]]=dt.css(t,e[a],!1,r);return o}return void 0!==n?dt.style(t,e,n):dt.css(t,e)},t,e,arguments.length>1)}}),dt.Tween=q,q.prototype={constructor:q,init:function(t,e,n,r,i,o){this.elem=t,this.prop=n,this.easing=i||dt.easing._default,this.options=e,this.start=this.now=this.cur(),this.end=r,this.unit=o||(dt.cssNumber[n]?"":"px")},cur:function(){var t=q.propHooks[this.prop];return t&&t.get?t.get(this):q.propHooks._default.get(this)},run:function(t){var e,n=q.propHooks[this.prop];return this.options.duration?this.pos=e=dt.easing[this.easing](t,this.options.duration*t,0,1,this.options.duration):this.pos=e=t,this.now=(this.end-this.start)*e+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):q.propHooks._default.set(this),this}},q.prototype.init.prototype=q.prototype,q.propHooks={_default:{get:function(t){var e;return 1!==t.elem.nodeType||null!=t.elem[t.prop]&&null==t.elem.style[t.prop]?t.elem[t.prop]:(e=dt.css(t.elem,t.prop,""),e&&"auto"!==e?e:0)},set:function(t){dt.fx.step[t.prop]?dt.fx.step[t.prop](t):1!==t.elem.nodeType||null==t.elem.style[dt.cssProps[t.prop]]&&!dt.cssHooks[t.prop]?t.elem[t.prop]=t.now:dt.style(t.elem,t.prop,t.now+t.unit)}}},q.propHooks.scrollTop=q.propHooks.scrollLeft={set:function(t){t.elem.nodeType&&t.elem.parentNode&&(t.elem[t.prop]=t.now)}},dt.easing={linear:function(t){return t},swing:function(t){return.5-Math.cos(t*Math.PI)/2},_default:"swing"},dt.fx=q.prototype.init,dt.fx.step={};var ce,le,fe=/^(?:toggle|show|hide)$/,he=/queueHooks$/;dt.Animation=dt.extend(z,{tweeners:{"*":[function(t,e){var n=this.createTween(t,e);return v(n.elem,t,Dt.exec(e),n),n}]},tweener:function(t,e){dt.isFunction(t)?(e=t,t=["*"]):t=t.match(Tt);for(var n,r=0,i=t.length;r<i;r++)n=t[r],z.tweeners[n]=z.tweeners[n]||[],z.tweeners[n].unshift(e)},prefilters:[B],prefilter:function(t,e){e?z.prefilters.unshift(t):z.prefilters.push(t)}}),dt.speed=function(t,e,n){var r=t&&"object"==typeof t?dt.extend({},t):{complete:n||!n&&e||dt.isFunction(t)&&t,duration:t,easing:n&&e||e&&!dt.isFunction(e)&&e};return dt.fx.off?r.duration=0:"number"!=typeof r.duration&&(r.duration in dt.fx.speeds?r.duration=dt.fx.speeds[r.duration]:r.duration=dt.fx.speeds._default),null!=r.queue&&!0!==r.queue||(r.queue="fx"),r.old=r.complete,r.complete=function(){dt.isFunction(r.old)&&r.old.call(this),r.queue&&dt.dequeue(this,r.queue)},r},dt.fn.extend({fadeTo:function(t,e,n,r){return this.filter(Mt).css("opacity",0).show().end().animate({opacity:e},t,n,r)},animate:function(t,e,n,r){var i=dt.isEmptyObject(t),o=dt.speed(e,n,r),a=function(){var e=z(this,dt.extend({},t),o);(i||Rt.get(this,"finish"))&&e.stop(!0)};return a.finish=a,i||!1===o.queue?this.each(a):this.queue(o.queue,a)},stop:function(t,e,n){var r=function(t){var e=t.stop;delete t.stop,e(n)};return"string"!=typeof t&&(n=e,e=t,t=void 0),e&&!1!==t&&this.queue(t||"fx",[]),this.each(function(){var e=!0,i=null!=t&&t+"queueHooks",o=dt.timers,a=Rt.get(this);if(i)a[i]&&a[i].stop&&r(a[i]);else for(i in a)a[i]&&a[i].stop&&he.test(i)&&r(a[i]);for(i=o.length;i--;)o[i].elem!==this||null!=t&&o[i].queue!==t||(o[i].anim.stop(n),e=!1,o.splice(i,1));!e&&n||dt.dequeue(this,t)})},finish:function(t){return!1!==t&&(t=t||"fx"),this.each(function(){var e,n=Rt.get(this),r=n[t+"queue"],i=n[t+"queueHooks"],o=dt.timers,a=r?r.length:0;for(n.finish=!0,dt.queue(this,t,[]),i&&i.stop&&i.stop.call(this,!0),e=o.length;e--;)o[e].elem===this&&o[e].queue===t&&(o[e].anim.stop(!0),o.splice(e,1));for(e=0;e<a;e++)r[e]&&r[e].finish&&r[e].finish.call(this);delete n.finish})}}),dt.each(["toggle","show","hide"],function(t,e){var n=dt.fn[e];dt.fn[e]=function(t,r,i){return null==t||"boolean"==typeof t?n.apply(this,arguments):this.animate(U(e,!0),t,r,i)}}),dt.each({slideDown:U("show"),slideUp:U("hide"),slideToggle:U("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(t,e){dt.fn[t]=function(t,n,r){return this.animate(e,t,n,r)}}),dt.timers=[],dt.fx.tick=function(){var t,e=0,n=dt.timers;for(ce=dt.now();e<n.length;e++)(t=n[e])()||n[e]!==t||n.splice(e--,1);n.length||dt.fx.stop(),ce=void 0},dt.fx.timer=function(t){dt.timers.push(t),dt.fx.start()},dt.fx.interval=13,dt.fx.start=function(){le||(le=!0,H())},dt.fx.stop=function(){le=null},dt.fx.speeds={slow:600,fast:200,_default:400},dt.fn.delay=function(e,n){return e=dt.fx?dt.fx.speeds[e]||e:e,n=n||"fx",this.queue(n,function(n,r){var i=t.setTimeout(n,e);r.stop=function(){t.clearTimeout(i)}})},function(){var t=nt.createElement("input"),e=nt.createElement("select"),n=e.appendChild(nt.createElement("option"));t.type="checkbox",pt.checkOn=""!==t.value,pt.optSelected=n.selected,t=nt.createElement("input"),t.value="t",t.type="radio",pt.radioValue="t"===t.value}();var pe,de=dt.expr.attrHandle;dt.fn.extend({attr:function(t,e){return Ot(this,dt.attr,t,e,arguments.length>1)},removeAttr:function(t){return this.each(function(){dt.removeAttr(this,t)})}}),dt.extend({attr:function(t,e,n){var r,i,o=t.nodeType;if(3!==o&&8!==o&&2!==o)return void 0===t.getAttribute?dt.prop(t,e,n):(1===o&&dt.isXMLDoc(t)||(i=dt.attrHooks[e.toLowerCase()]||(dt.expr.match.bool.test(e)?pe:void 0)),void 0!==n?null===n?void dt.removeAttr(t,e):i&&"set"in i&&void 0!==(r=i.set(t,n,e))?r:(t.setAttribute(e,n+""),n):i&&"get"in i&&null!==(r=i.get(t,e))?r:(r=dt.find.attr(t,e),null==r?void 0:r))},attrHooks:{type:{set:function(t,e){if(!pt.radioValue&&"radio"===e&&i(t,"input")){var n=t.value;return t.setAttribute("type",e),n&&(t.value=n),e}}}},removeAttr:function(t,e){var n,r=0,i=e&&e.match(Tt);if(i&&1===t.nodeType)for(;n=i[r++];)t.removeAttribute(n)}}),pe={set:function(t,e,n){return!1===e?dt.removeAttr(t,n):t.setAttribute(n,n),n}},dt.each(dt.expr.match.bool.source.match(/\w+/g),function(t,e){var n=de[e]||dt.find.attr;de[e]=function(t,e,r){var i,o,a=e.toLowerCase();return r||(o=de[a],de[a]=i,i=null!=n(t,e,r)?a:null,de[a]=o),i}});var ve=/^(?:input|select|textarea|button)$/i,me=/^(?:a|area)$/i;dt.fn.extend({prop:function(t,e){return Ot(this,dt.prop,t,e,arguments.length>1)},removeProp:function(t){return this.each(function(){delete this[dt.propFix[t]||t]})}}),dt.extend({prop:function(t,e,n){var r,i,o=t.nodeType;if(3!==o&&8!==o&&2!==o)return 1===o&&dt.isXMLDoc(t)||(e=dt.propFix[e]||e,i=dt.propHooks[e]),void 0!==n?i&&"set"in i&&void 0!==(r=i.set(t,n,e))?r:t[e]=n:i&&"get"in i&&null!==(r=i.get(t,e))?r:t[e]},propHooks:{tabIndex:{get:function(t){var e=dt.find.attr(t,"tabindex");return e?parseInt(e,10):ve.test(t.nodeName)||me.test(t.nodeName)&&t.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),pt.optSelected||(dt.propHooks.selected={get:function(t){var e=t.parentNode;return e&&e.parentNode&&e.parentNode.selectedIndex,null},set:function(t){var e=t.parentNode;e&&(e.selectedIndex,e.parentNode&&e.parentNode.selectedIndex)}}),dt.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){dt.propFix[this.toLowerCase()]=this}),dt.fn.extend({addClass:function(t){var e,n,r,i,o,a,s,u=0;if(dt.isFunction(t))return this.each(function(e){dt(this).addClass(t.call(this,e,J(this)))});if("string"==typeof t&&t)for(e=t.match(Tt)||[];n=this[u++];)if(i=J(n),r=1===n.nodeType&&" "+G(i)+" "){for(a=0;o=e[a++];)r.indexOf(" "+o+" ")<0&&(r+=o+" ");s=G(r),i!==s&&n.setAttribute("class",s)}return this},removeClass:function(t){var e,n,r,i,o,a,s,u=0;if(dt.isFunction(t))return this.each(function(e){dt(this).removeClass(t.call(this,e,J(this)))});if(!arguments.length)return this.attr("class","");if("string"==typeof t&&t)for(e=t.match(Tt)||[];n=this[u++];)if(i=J(n),r=1===n.nodeType&&" "+G(i)+" "){for(a=0;o=e[a++];)for(;r.indexOf(" "+o+" ")>-1;)r=r.replace(" "+o+" "," ");s=G(r),i!==s&&n.setAttribute("class",s)}return this},toggleClass:function(t,e){var n=typeof t;return"boolean"==typeof e&&"string"===n?e?this.addClass(t):this.removeClass(t):dt.isFunction(t)?this.each(function(n){dt(this).toggleClass(t.call(this,n,J(this),e),e)}):this.each(function(){var e,r,i,o;if("string"===n)for(r=0,i=dt(this),o=t.match(Tt)||[];e=o[r++];)i.hasClass(e)?i.removeClass(e):i.addClass(e);else void 0!==t&&"boolean"!==n||(e=J(this),e&&Rt.set(this,"__className__",e),this.setAttribute&&this.setAttribute("class",e||!1===t?"":Rt.get(this,"__className__")||""))})},hasClass:function(t){var e,n,r=0;for(e=" "+t+" ";n=this[r++];)if(1===n.nodeType&&(" "+G(J(n))+" ").indexOf(e)>-1)return!0;return!1}});dt.fn.extend({val:function(t){var e,n,r,i=this[0];{if(arguments.length)return r=dt.isFunction(t),this.each(function(n){var i;1===this.nodeType&&(i=r?t.call(this,n,dt(this).val()):t,null==i?i="":"number"==typeof i?i+="":Array.isArray(i)&&(i=dt.map(i,function(t){return null==t?"":t+""})),(e=dt.valHooks[this.type]||dt.valHooks[this.nodeName.toLowerCase()])&&"set"in e&&void 0!==e.set(this,i,"value")||(this.value=i))});if(i)return(e=dt.valHooks[i.type]||dt.valHooks[i.nodeName.toLowerCase()])&&"get"in e&&void 0!==(n=e.get(i,"value"))?n:(n=i.value,"string"==typeof n?n.replace(/\r/g,""):null==n?"":n)}}}),dt.extend({valHooks:{option:{get:function(t){var e=dt.find.attr(t,"value");return null!=e?e:G(dt.text(t))}},select:{get:function(t){var e,n,r,o=t.options,a=t.selectedIndex,s="select-one"===t.type,u=s?null:[],c=s?a+1:o.length;for(r=a<0?c:s?a:0;r<c;r++)if(n=o[r],(n.selected||r===a)&&!n.disabled&&(!n.parentNode.disabled||!i(n.parentNode,"optgroup"))){if(e=dt(n).val(),s)return e;u.push(e)}return u},set:function(t,e){for(var n,r,i=t.options,o=dt.makeArray(e),a=i.length;a--;)r=i[a],(r.selected=dt.inArray(dt.valHooks.option.get(r),o)>-1)&&(n=!0);return n||(t.selectedIndex=-1),o}}}}),dt.each(["radio","checkbox"],function(){dt.valHooks[this]={set:function(t,e){if(Array.isArray(e))return t.checked=dt.inArray(dt(t).val(),e)>-1}},pt.checkOn||(dt.valHooks[this].get=function(t){return null===t.getAttribute("value")?"on":t.value})});var ge=/^(?:focusinfocus|focusoutblur)$/;dt.extend(dt.event,{trigger:function(e,n,r,i){var o,a,s,u,c,l,f,h=[r||nt],p=lt.call(e,"type")?e.type:e,d=lt.call(e,"namespace")?e.namespace.split("."):[];if(a=s=r=r||nt,3!==r.nodeType&&8!==r.nodeType&&!ge.test(p+dt.event.triggered)&&(p.indexOf(".")>-1&&(d=p.split("."),p=d.shift(),d.sort()),c=p.indexOf(":")<0&&"on"+p,e=e[dt.expando]?e:new dt.Event(p,"object"==typeof e&&e),e.isTrigger=i?2:3,e.namespace=d.join("."),e.rnamespace=e.namespace?new RegExp("(^|\\.)"+d.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,e.result=void 0,e.target||(e.target=r),n=null==n?[e]:dt.makeArray(n,[e]),f=dt.event.special[p]||{},i||!f.trigger||!1!==f.trigger.apply(r,n))){if(!i&&!f.noBubble&&!dt.isWindow(r)){for(u=f.delegateType||p,ge.test(u+p)||(a=a.parentNode);a;a=a.parentNode)h.push(a),s=a;s===(r.ownerDocument||nt)&&h.push(s.defaultView||s.parentWindow||t)}for(o=0;(a=h[o++])&&!e.isPropagationStopped();)e.type=o>1?u:f.bindType||p,l=(Rt.get(a,"events")||{})[e.type]&&Rt.get(a,"handle"),l&&l.apply(a,n),(l=c&&a[c])&&l.apply&&_t(a)&&(e.result=l.apply(a,n),!1===e.result&&e.preventDefault());return e.type=p,i||e.isDefaultPrevented()||f._default&&!1!==f._default.apply(h.pop(),n)||!_t(r)||c&&dt.isFunction(r[p])&&!dt.isWindow(r)&&(s=r[c],s&&(r[c]=null),dt.event.triggered=p,r[p](),dt.event.triggered=void 0,s&&(r[c]=s)),e.result}},simulate:function(t,e,n){var r=dt.extend(new dt.Event,n,{type:t,isSimulated:!0});dt.event.trigger(r,null,e)}}),dt.fn.extend({trigger:function(t,e){return this.each(function(){dt.event.trigger(t,e,this)})},triggerHandler:function(t,e){var n=this[0];if(n)return dt.event.trigger(t,e,n,!0)}}),dt.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),function(t,e){dt.fn[e]=function(t,n){return arguments.length>0?this.on(e,null,t,n):this.trigger(e)}}),dt.fn.extend({hover:function(t,e){return this.mouseenter(t).mouseleave(e||t)}}),pt.focusin="onfocusin"in t,pt.focusin||dt.each({focus:"focusin",blur:"focusout"},function(t,e){var n=function(t){dt.event.simulate(e,t.target,dt.event.fix(t))};dt.event.special[e]={setup:function(){var r=this.ownerDocument||this,i=Rt.access(r,e);i||r.addEventListener(t,n,!0),Rt.access(r,e,(i||0)+1)},teardown:function(){var r=this.ownerDocument||this,i=Rt.access(r,e)-1;i?Rt.access(r,e,i):(r.removeEventListener(t,n,!0),Rt.remove(r,e))}}});var $e=t.location,ye=dt.now(),be=/\?/;dt.parseXML=function(e){var n;if(!e||"string"!=typeof e)return null;try{n=(new t.DOMParser).parseFromString(e,"text/xml")}catch(t){n=void 0}return n&&!n.getElementsByTagName("parsererror").length||dt.error("Invalid XML: "+e),n};var we=/\[\]$/,xe=/^(?:submit|button|image|reset|file)$/i,Ce=/^(?:input|select|textarea|keygen)/i;dt.param=function(t,e){var n,r=[],i=function(t,e){var n=dt.isFunction(e)?e():e;r[r.length]=encodeURIComponent(t)+"="+encodeURIComponent(null==n?"":n)};if(Array.isArray(t)||t.jquery&&!dt.isPlainObject(t))dt.each(t,function(){i(this.name,this.value)});else for(n in t)Q(n,t[n],e,i);return r.join("&")},dt.fn.extend({serialize:function(){return dt.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var t=dt.prop(this,"elements");return t?dt.makeArray(t):this}).filter(function(){var t=this.type;return this.name&&!dt(this).is(":disabled")&&Ce.test(this.nodeName)&&!xe.test(t)&&(this.checked||!Lt.test(t))}).map(function(t,e){var n=dt(this).val();return null==n?null:Array.isArray(n)?dt.map(n,function(t){return{name:e.name,value:t.replace(/\r?\n/g,"\r\n")}}):{name:e.name,value:n.replace(/\r?\n/g,"\r\n")}}).get()}});var Se=/^(.*?):[ \t]*([^\r\n]*)$/gm,Ee=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,Te=/^(?:GET|HEAD)$/,ke={},Ae={},Oe="*/".concat("*"),_e=nt.createElement("a");_e.href=$e.href,dt.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:$e.href,type:"GET",isLocal:Ee.test($e.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Oe,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":dt.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(t,e){return e?X(X(t,dt.ajaxSettings),e):X(dt.ajaxSettings,t)},ajaxPrefilter:K(ke),ajaxTransport:K(Ae),ajax:function(e,n){function r(e,n,r,s){var c,h,p,b,w,x=n;l||(l=!0,u&&t.clearTimeout(u),i=void 0,a=s||"",C.readyState=e>0?4:0,c=e>=200&&e<300||304===e,r&&(b=Z(d,C,r)),b=tt(d,b,C,c),c?(d.ifModified&&(w=C.getResponseHeader("Last-Modified"),w&&(dt.lastModified[o]=w),(w=C.getResponseHeader("etag"))&&(dt.etag[o]=w)),204===e||"HEAD"===d.type?x="nocontent":304===e?x="notmodified":(x=b.state,h=b.data,p=b.error,c=!p)):(p=x,!e&&x||(x="error",e<0&&(e=0))),C.status=e,C.statusText=(n||x)+"",c?g.resolveWith(v,[h,x,C]):g.rejectWith(v,[C,x,p]),C.statusCode(y),y=void 0,f&&m.trigger(c?"ajaxSuccess":"ajaxError",[C,d,c?h:p]),$.fireWith(v,[C,x]),f&&(m.trigger("ajaxComplete",[C,d]),--dt.active||dt.event.trigger("ajaxStop")))}"object"==typeof e&&(n=e,e=void 0),n=n||{};var i,o,a,s,u,c,l,f,h,p,d=dt.ajaxSetup({},n),v=d.context||d,m=d.context&&(v.nodeType||v.jquery)?dt(v):dt.event,g=dt.Deferred(),$=dt.Callbacks("once memory"),y=d.statusCode||{},b={},w={},x="canceled",C={readyState:0,getResponseHeader:function(t){var e;if(l){if(!s)for(s={};e=Se.exec(a);)s[e[1].toLowerCase()]=e[2];e=s[t.toLowerCase()]}return null==e?null:e},getAllResponseHeaders:function(){return l?a:null},setRequestHeader:function(t,e){return null==l&&(t=w[t.toLowerCase()]=w[t.toLowerCase()]||t,b[t]=e),this},overrideMimeType:function(t){return null==l&&(d.mimeType=t),this},statusCode:function(t){var e;if(t)if(l)C.always(t[C.status]);else for(e in t)y[e]=[y[e],t[e]];return this},abort:function(t){var e=t||x;return i&&i.abort(e),r(0,e),this}};if(g.promise(C),d.url=((e||d.url||$e.href)+"").replace(/^\/\//,$e.protocol+"//"),d.type=n.method||n.type||d.method||d.type,d.dataTypes=(d.dataType||"*").toLowerCase().match(Tt)||[""],null==d.crossDomain){c=nt.createElement("a");try{c.href=d.url,c.href=c.href,d.crossDomain=_e.protocol+"//"+_e.host!=c.protocol+"//"+c.host}catch(t){d.crossDomain=!0}}if(d.data&&d.processData&&"string"!=typeof d.data&&(d.data=dt.param(d.data,d.traditional)),Y(ke,d,n,C),l)return C;f=dt.event&&d.global,f&&0==dt.active++&&dt.event.trigger("ajaxStart"),d.type=d.type.toUpperCase(),d.hasContent=!Te.test(d.type),o=d.url.replace(/#.*$/,""),d.hasContent?d.data&&d.processData&&0===(d.contentType||"").indexOf("application/x-www-form-urlencoded")&&(d.data=d.data.replace(/%20/g,"+")):(p=d.url.slice(o.length),d.data&&(o+=(be.test(o)?"&":"?")+d.data,delete d.data),!1===d.cache&&(o=o.replace(/([?&])_=[^&]*/,"$1"),p=(be.test(o)?"&":"?")+"_="+ye+++p),d.url=o+p),d.ifModified&&(dt.lastModified[o]&&C.setRequestHeader("If-Modified-Since",dt.lastModified[o]),dt.etag[o]&&C.setRequestHeader("If-None-Match",dt.etag[o])),(d.data&&d.hasContent&&!1!==d.contentType||n.contentType)&&C.setRequestHeader("Content-Type",d.contentType),C.setRequestHeader("Accept",d.dataTypes[0]&&d.accepts[d.dataTypes[0]]?d.accepts[d.dataTypes[0]]+("*"!==d.dataTypes[0]?", "+Oe+"; q=0.01":""):d.accepts["*"]);for(h in d.headers)C.setRequestHeader(h,d.headers[h]);if(d.beforeSend&&(!1===d.beforeSend.call(v,C,d)||l))return C.abort();if(x="abort",$.add(d.complete),C.done(d.success),C.fail(d.error),i=Y(Ae,d,n,C)){if(C.readyState=1,f&&m.trigger("ajaxSend",[C,d]),l)return C;d.async&&d.timeout>0&&(u=t.setTimeout(function(){C.abort("timeout")},d.timeout));try{l=!1,i.send(b,r)}catch(t){if(l)throw t;r(-1,t)}}else r(-1,"No Transport");return C},getJSON:function(t,e,n){return dt.get(t,e,n,"json")},getScript:function(t,e){return dt.get(t,void 0,e,"script")}}),dt.each(["get","post"],function(t,e){dt[e]=function(t,n,r,i){return dt.isFunction(n)&&(i=i||r,r=n,n=void 0),dt.ajax(dt.extend({url:t,type:e,dataType:i,data:n,success:r},dt.isPlainObject(t)&&t))}}),dt._evalUrl=function(t){return dt.ajax({url:t,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,throws:!0})},dt.fn.extend({wrapAll:function(t){var e;return this[0]&&(dt.isFunction(t)&&(t=t.call(this[0])),e=dt(t,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&e.insertBefore(this[0]),e.map(function(){for(var t=this;t.firstElementChild;)t=t.firstElementChild;return t}).append(this)),this},wrapInner:function(t){return dt.isFunction(t)?this.each(function(e){dt(this).wrapInner(t.call(this,e))}):this.each(function(){var e=dt(this),n=e.contents();n.length?n.wrapAll(t):e.append(t)})},wrap:function(t){var e=dt.isFunction(t);return this.each(function(n){dt(this).wrapAll(e?t.call(this,n):t)})},unwrap:function(t){return this.parent(t).not("body").each(function(){dt(this).replaceWith(this.childNodes)}),this}}),dt.expr.pseudos.hidden=function(t){return!dt.expr.pseudos.visible(t)},dt.expr.pseudos.visible=function(t){return!!(t.offsetWidth||t.offsetHeight||t.getClientRects().length)},dt.ajaxSettings.xhr=function(){try{return new t.XMLHttpRequest}catch(t){}};var Re={0:200,1223:204},je=dt.ajaxSettings.xhr();pt.cors=!!je&&"withCredentials"in je,pt.ajax=je=!!je,dt.ajaxTransport(function(e){var n,r;if(pt.cors||je&&!e.crossDomain)return{send:function(i,o){var a,s=e.xhr();if(s.open(e.type,e.url,e.async,e.username,e.password),e.xhrFields)for(a in e.xhrFields)s[a]=e.xhrFields[a];e.mimeType&&s.overrideMimeType&&s.overrideMimeType(e.mimeType),e.crossDomain||i["X-Requested-With"]||(i["X-Requested-With"]="XMLHttpRequest");for(a in i)s.setRequestHeader(a,i[a]);n=function(t){return function(){n&&(n=r=s.onload=s.onerror=s.onabort=s.onreadystatechange=null,"abort"===t?s.abort():"error"===t?"number"!=typeof s.status?o(0,"error"):o(s.status,s.statusText):o(Re[s.status]||s.status,s.statusText,"text"!==(s.responseType||"text")||"string"!=typeof s.responseText?{binary:s.response}:{text:s.responseText},s.getAllResponseHeaders()))}},s.onload=n(),r=s.onerror=n("error"),void 0!==s.onabort?s.onabort=r:s.onreadystatechange=function(){4===s.readyState&&t.setTimeout(function(){n&&r()})},n=n("abort");try{s.send(e.hasContent&&e.data||null)}catch(t){if(n)throw t}},abort:function(){n&&n()}}}),dt.ajaxPrefilter(function(t){t.crossDomain&&(t.contents.script=!1)}),dt.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(t){return dt.globalEval(t),t}}}),dt.ajaxPrefilter("script",function(t){void 0===t.cache&&(t.cache=!1),t.crossDomain&&(t.type="GET")}),dt.ajaxTransport("script",function(t){if(t.crossDomain){var e,n;return{send:function(r,i){e=dt("<script>").prop({charset:t.scriptCharset,src:t.url}).on("load error",n=function(t){e.remove(),n=null,t&&i("error"===t.type?404:200,t.type)}),nt.head.appendChild(e[0])},abort:function(){n&&n()}}}});var Pe=[],Ne=/(=)\?(?=&|$)|\?\?/;dt.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var t=Pe.pop()||dt.expando+"_"+ye++;return this[t]=!0,t}}),dt.ajaxPrefilter("json jsonp",function(e,n,r){var i,o,a,s=!1!==e.jsonp&&(Ne.test(e.url)?"url":"string"==typeof e.data&&0===(e.contentType||"").indexOf("application/x-www-form-urlencoded")&&Ne.test(e.data)&&"data");if(s||"jsonp"===e.dataTypes[0])return i=e.jsonpCallback=dt.isFunction(e.jsonpCallback)?e.jsonpCallback():e.jsonpCallback,s?e[s]=e[s].replace(Ne,"$1"+i):!1!==e.jsonp&&(e.url+=(be.test(e.url)?"&":"?")+e.jsonp+"="+i),e.converters["script json"]=function(){return a||dt.error(i+" was not called"),a[0]},e.dataTypes[0]="json",o=t[i],t[i]=function(){a=arguments},r.always(function(){void 0===o?dt(t).removeProp(i):t[i]=o,e[i]&&(e.jsonpCallback=n.jsonpCallback,Pe.push(i)),a&&dt.isFunction(o)&&o(a[0]),a=o=void 0}),"script"}),pt.createHTMLDocument=function(){var t=nt.implementation.createHTMLDocument("").body;return t.innerHTML="<form></form><form></form>",2===t.childNodes.length}(),dt.parseHTML=function(t,e,n){if("string"!=typeof t)return[];"boolean"==typeof e&&(n=e,e=!1);var r,i,o;return e||(pt.createHTMLDocument?(e=nt.implementation.createHTMLDocument(""),r=e.createElement("base"),r.href=nt.location.href,e.head.appendChild(r)):e=nt),i=bt.exec(t),o=!n&&[],i?[e.createElement(i[1])]:(i=b([t],e,o),o&&o.length&&dt(o).remove(),dt.merge([],i.childNodes))},dt.fn.load=function(t,e,n){var r,i,o,a=this,s=t.indexOf(" ");return s>-1&&(r=G(t.slice(s)),t=t.slice(0,s)),dt.isFunction(e)?(n=e,e=void 0):e&&"object"==typeof e&&(i="POST"),a.length>0&&dt.ajax({url:t,type:i||"GET",dataType:"html",data:e}).done(function(t){o=arguments,a.html(r?dt("<div>").append(dt.parseHTML(t)).find(r):t)}).always(n&&function(t,e){a.each(function(){n.apply(this,o||[t.responseText,e,t])})}),this},dt.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(t,e){dt.fn[e]=function(t){return this.on(e,t)}}),dt.expr.pseudos.animated=function(t){return dt.grep(dt.timers,function(e){return t===e.elem}).length},dt.offset={setOffset:function(t,e,n){var r,i,o,a,s,u,c,l=dt.css(t,"position"),f=dt(t),h={};"static"===l&&(t.style.position="relative"),s=f.offset(),o=dt.css(t,"top"),u=dt.css(t,"left"),c=("absolute"===l||"fixed"===l)&&(o+u).indexOf("auto")>-1,c?(r=f.position(),a=r.top,i=r.left):(a=parseFloat(o)||0,i=parseFloat(u)||0),dt.isFunction(e)&&(e=e.call(t,n,dt.extend({},s))),null!=e.top&&(h.top=e.top-s.top+a),null!=e.left&&(h.left=e.left-s.left+i),"using"in e?e.using.call(t,h):f.css(h)}},dt.fn.extend({offset:function(t){if(arguments.length)return void 0===t?this:this.each(function(e){dt.offset.setOffset(this,t,e)});var e,n,r,i,o=this[0];if(o)return o.getClientRects().length?(r=o.getBoundingClientRect(),e=o.ownerDocument,n=e.documentElement,i=e.defaultView,{top:r.top+i.pageYOffset-n.clientTop,left:r.left+i.pageXOffset-n.clientLeft}):{top:0,left:0}},position:function(){if(this[0]){var t,e,n=this[0],r={top:0,left:0};return"fixed"===dt.css(n,"position")?e=n.getBoundingClientRect():(t=this.offsetParent(),e=this.offset(),i(t[0],"html")||(r=t.offset()),r={top:r.top+dt.css(t[0],"borderTopWidth",!0),left:r.left+dt.css(t[0],"borderLeftWidth",!0)}),{top:e.top-r.top-dt.css(n,"marginTop",!0),left:e.left-r.left-dt.css(n,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var t=this.offsetParent;t&&"static"===dt.css(t,"position");)t=t.offsetParent;return t||zt})}}),dt.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(t,e){var n="pageYOffset"===e;dt.fn[t]=function(r){return Ot(this,function(t,r,i){var o;if(dt.isWindow(t)?o=t:9===t.nodeType&&(o=t.defaultView),void 0===i)return o?o[e]:t[r];o?o.scrollTo(n?o.pageXOffset:i,n?i:o.pageYOffset):t[r]=i},t,r,arguments.length)}}),dt.each(["top","left"],function(t,e){dt.cssHooks[e]=P(pt.pixelPosition,function(t,n){if(n)return n=j(t,e),ee.test(n)?dt(t).position()[e]+"px":n})}),dt.each({Height:"height",Width:"width"},function(t,e){dt.each({padding:"inner"+t,content:e,"":"outer"+t},function(n,r){dt.fn[r]=function(i,o){var a=arguments.length&&(n||"boolean"!=typeof i),s=n||(!0===i||!0===o?"margin":"border");return Ot(this,function(e,n,i){var o;return dt.isWindow(e)?0===r.indexOf("outer")?e["inner"+t]:e.document.documentElement["client"+t]:9===e.nodeType?(o=e.documentElement,Math.max(e.body["scroll"+t],o["scroll"+t],e.body["offset"+t],o["offset"+t],o["client"+t])):void 0===i?dt.css(e,n,s):dt.style(e,n,i,s)},e,a?i:void 0,a)}})}),dt.fn.extend({bind:function(t,e,n){return this.on(t,null,e,n)},unbind:function(t,e){return this.off(t,null,e)},delegate:function(t,e,n,r){return this.on(e,t,n,r)},undelegate:function(t,e,n){return 1===arguments.length?this.off(t,"**"):this.off(e,t||"**",n)}}),dt.holdReady=function(t){t?dt.readyWait++:dt.ready(!0)},dt.isArray=Array.isArray,dt.parseJSON=JSON.parse,dt.nodeName=i,"function"==typeof define&&define.amd&&define("jquery",[],function(){return dt});var Ie=t.jQuery,De=t.$;return dt.noConflict=function(e){return t.$===dt&&(t.$=De),e&&t.jQuery===dt&&(t.jQuery=Ie),dt},e||(t.jQuery=t.$=dt),dt}),function(t,e){"use strict";function n(t){return null!=t&&""!==t&&"hasOwnProperty"!==t&&a.test("."+t)}function r(t,r){if(!n(r))throw o("badmember",'Dotted member path "@{0}" is invalid.',r);for(var i=r.split("."),a=0,s=i.length;a<s&&e.isDefined(t);a++){var u=i[a];t=null!==t?t[u]:void 0}return t}function i(t,n){n=n||{},e.forEach(n,function(t,e){delete n[e]});for(var r in t)!t.hasOwnProperty(r)||"$"===r.charAt(0)&&"$"===r.charAt(1)||(n[r]=t[r]);return n}var o=e.$$minErr("$resource"),a=/^(\.[a-zA-Z_$@][0-9a-zA-Z_$@]*)+$/;e.module("ngResource",["ng"]).info({angularVersion:"1.6.4"}).provider("$resource",function(){var t=this;this.defaults={stripTrailingSlashes:!0,cancellable:!1,actions:{get:{method:"GET"},save:{method:"POST"},query:{method:"GET",isArray:!0},remove:{method:"DELETE"},delete:{method:"DELETE"}}},this.$get=["$http","$log","$q","$timeout",function(n,a,s,u){function c(e,n){this.template=e,this.defaults=p({},t.defaults,n),this.urlParams={}}function l(e,y,b,w){function x(t,e){var n={};return e=p({},y,e),h(e,function(e,i){g(e)&&(e=e(t)),n[i]=e&&e.charAt&&"@"===e.charAt(0)?r(t,e.substr(1)):e}),n}function C(t){return t.resource}function S(t){i(t||{},this)}var E=new c(e,w);return b=p({},t.defaults.actions,b),S.prototype.toJSON=function(){var t=p({},this);return delete t.$promise,delete t.$resolved,delete t.$cancelRequest,t},h(b,function(t,e){var r=!0===t.hasBody||!1!==t.hasBody&&/^(POST|PUT|PATCH)$/i.test(t.method),c=t.timeout,l=m(t.cancellable)?t.cancellable:E.defaults.cancellable;c&&!$(c)&&(a.debug("ngResource:\n  Only numeric values are allowed as `timeout`.\n  Promises are not supported in $resource, because the same value would be used for multiple requests. If you are looking for a way to cancel requests, you should use the `cancellable` option."),delete t.timeout,c=null),S[e]=function(a,m,$,y){function b(t){M.catch(f),O.resolve(t)}var w,T,k,A={};switch(arguments.length){case 4:k=y,T=$;case 3:case 2:if(!g(m)){A=a,w=m,T=$;break}if(g(a)){T=a,k=m;break}T=m,k=$;case 1:g(a)?T=a:r?w=a:A=a;break;case 0:break;default:throw o("badargs","Expected up to 4 arguments [params, data, success, error], got {0} arguments",arguments.length)}var O,_,R=this instanceof S,j=R?w:t.isArray?[]:new S(w),P={},N=t.interceptor&&t.interceptor.response||C,I=t.interceptor&&t.interceptor.responseError||void 0,D=!!k,V=!!I;h(t,function(t,e){switch(e){default:P[e]=d(t);break;case"params":case"isArray":case"interceptor":case"cancellable":}}),!R&&l&&(O=s.defer(),P.timeout=O.promise,c&&(_=u(O.resolve,c))),r&&(P.data=w),E.setUrlParams(P,p({},x(w,t.params||{}),A),t.url);var M=n(P).then(function(n){var r=n.data;if(r){if(v(r)!==!!t.isArray)throw o("badcfg","Error in resource configuration for action `{0}`. Expected response to contain an {1} but got an {2} (Request: {3} {4})",e,t.isArray?"array":"object",v(r)?"array":"object",P.method,P.url);if(t.isArray)j.length=0,h(r,function(t){"object"==typeof t?j.push(new S(t)):j.push(t)});else{var a=j.$promise;i(r,j),j.$promise=a}}return n.resource=j,n});return M=M.finally(function(){j.$resolved=!0,!R&&l&&(j.$cancelRequest=f,u.cancel(_),O=_=P.timeout=null)}),M=M.then(function(t){var e=N(t);return(T||f)(e,t.headers,t.status,t.statusText),e},D||V?function(t){return D&&!V&&M.catch(f),D&&k(t),V?I(t):s.reject(t)}:void 0),R?M:(j.$promise=M,j.$resolved=!1,l&&(j.$cancelRequest=b),j)},S.prototype["$"+e]=function(t,n,r){g(t)&&(r=n,n=t,t={});var i=S[e].call(this,t,this,n,r);return i.$promise||i}}),S.bind=function(t){var n=p({},y,t);return l(e,n,b,w)},S}var f=e.noop,h=e.forEach,p=e.extend,d=e.copy,v=e.isArray,m=e.isDefined,g=e.isFunction,$=e.isNumber,y=e.$$encodeUriQuery,b=e.$$encodeUriSegment;return c.prototype={setUrlParams:function(t,e,n){var r,i,a=this,s=n||a.template,u="",c=a.urlParams=Object.create(null);h(s.split(/\W/),function(t){if("hasOwnProperty"===t)throw o("badname","hasOwnProperty is not a valid parameter name.");!new RegExp("^\\d+$").test(t)&&t&&new RegExp("(^|[^\\\\]):"+t+"(\\W|$)").test(s)&&(c[t]={isQueryParamValue:new RegExp("\\?.*=:"+t+"(?:\\W|$)").test(s)})}),s=s.replace(/\\:/g,":"),s=s.replace(/^https?:\/\/\[[^\]]*][^\/]*/,function(t){return u=t,""}),e=e||{},h(a.urlParams,function(t,n){r=e.hasOwnProperty(n)?e[n]:a.defaults[n],m(r)&&null!==r?(i=t.isQueryParamValue?y(r,!0):b(r),s=s.replace(new RegExp(":"+n+"(\\W|$)","g"),function(t,e){return i+e})):s=s.replace(new RegExp("(/?):"+n+"(\\W|$)","g"),function(t,e,n){return"/"===n.charAt(0)?n:e+n})}),a.defaults.stripTrailingSlashes&&(s=s.replace(/\/+$/,"")||"/"),s=s.replace(/\/\.(?=\w+($|\?))/,"."),t.url=u+s.replace(/\/(\\|%5C)\./,"/."),h(e,function(e,n){a.urlParams[n]||(t.params=t.params||{},t.params[n]=e)})}},l}]})}(window,window.angular),"undefined"==typeof jQuery)throw new Error("Bootstrap's JavaScript requires jQuery");+function(t){"use strict";var e=t.fn.jquery.split(" ")[0].split(".")
;if(e[0]<2&&e[1]<9||1==e[0]&&9==e[1]&&e[2]<1||e[0]>3)throw new Error("Bootstrap's JavaScript requires jQuery version 1.9.1 or higher, but lower than version 4")}(jQuery),function(t){"use strict";function e(){var t=document.createElement("bootstrap"),e={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};for(var n in e)if(void 0!==t.style[n])return{end:e[n]};return!1}t.fn.emulateTransitionEnd=function(e){var n=!1,r=this;t(this).one("bsTransitionEnd",function(){n=!0});var i=function(){n||t(r).trigger(t.support.transition.end)};return setTimeout(i,e),this},t(function(){t.support.transition=e(),t.support.transition&&(t.event.special.bsTransitionEnd={bindType:t.support.transition.end,delegateType:t.support.transition.end,handle:function(e){if(t(e.target).is(this))return e.handleObj.handler.apply(this,arguments)}})})}(jQuery),function(t){"use strict";function e(e){return this.each(function(){var n=t(this),i=n.data("bs.alert");i||n.data("bs.alert",i=new r(this)),"string"==typeof e&&i[e].call(n)})}var n='[data-dismiss="alert"]',r=function(e){t(e).on("click",n,this.close)};r.VERSION="3.3.7",r.TRANSITION_DURATION=150,r.prototype.close=function(e){function n(){a.detach().trigger("closed.bs.alert").remove()}var i=t(this),o=i.attr("data-target");o||(o=i.attr("href"),o=o&&o.replace(/.*(?=#[^\s]*$)/,""));var a=t("#"===o?[]:o);e&&e.preventDefault(),a.length||(a=i.closest(".alert")),a.trigger(e=t.Event("close.bs.alert")),e.isDefaultPrevented()||(a.removeClass("in"),t.support.transition&&a.hasClass("fade")?a.one("bsTransitionEnd",n).emulateTransitionEnd(r.TRANSITION_DURATION):n())};var i=t.fn.alert;t.fn.alert=e,t.fn.alert.Constructor=r,t.fn.alert.noConflict=function(){return t.fn.alert=i,this},t(document).on("click.bs.alert.data-api",n,r.prototype.close)}(jQuery),function(t){"use strict";function e(e){return this.each(function(){var r=t(this),i=r.data("bs.button"),o="object"==typeof e&&e;i||r.data("bs.button",i=new n(this,o)),"toggle"==e?i.toggle():e&&i.setState(e)})}var n=function(e,r){this.$element=t(e),this.options=t.extend({},n.DEFAULTS,r),this.isLoading=!1};n.VERSION="3.3.7",n.DEFAULTS={loadingText:"loading..."},n.prototype.setState=function(e){var n="disabled",r=this.$element,i=r.is("input")?"val":"html",o=r.data();e+="Text",null==o.resetText&&r.data("resetText",r[i]()),setTimeout(t.proxy(function(){r[i](null==o[e]?this.options[e]:o[e]),"loadingText"==e?(this.isLoading=!0,r.addClass(n).attr(n,n).prop(n,!0)):this.isLoading&&(this.isLoading=!1,r.removeClass(n).removeAttr(n).prop(n,!1))},this),0)},n.prototype.toggle=function(){var t=!0,e=this.$element.closest('[data-toggle="buttons"]');if(e.length){var n=this.$element.find("input");"radio"==n.prop("type")?(n.prop("checked")&&(t=!1),e.find(".active").removeClass("active"),this.$element.addClass("active")):"checkbox"==n.prop("type")&&(n.prop("checked")!==this.$element.hasClass("active")&&(t=!1),this.$element.toggleClass("active")),n.prop("checked",this.$element.hasClass("active")),t&&n.trigger("change")}else this.$element.attr("aria-pressed",!this.$element.hasClass("active")),this.$element.toggleClass("active")};var r=t.fn.button;t.fn.button=e,t.fn.button.Constructor=n,t.fn.button.noConflict=function(){return t.fn.button=r,this},t(document).on("click.bs.button.data-api",'[data-toggle^="button"]',function(n){var r=t(n.target).closest(".btn");e.call(r,"toggle"),t(n.target).is('input[type="radio"], input[type="checkbox"]')||(n.preventDefault(),r.is("input,button")?r.trigger("focus"):r.find("input:visible,button:visible").first().trigger("focus"))}).on("focus.bs.button.data-api blur.bs.button.data-api",'[data-toggle^="button"]',function(e){t(e.target).closest(".btn").toggleClass("focus",/^focus(in)?$/.test(e.type))})}(jQuery),function(t){"use strict";function e(e){return this.each(function(){var r=t(this),i=r.data("bs.carousel"),o=t.extend({},n.DEFAULTS,r.data(),"object"==typeof e&&e),a="string"==typeof e?e:o.slide;i||r.data("bs.carousel",i=new n(this,o)),"number"==typeof e?i.to(e):a?i[a]():o.interval&&i.pause().cycle()})}var n=function(e,n){this.$element=t(e),this.$indicators=this.$element.find(".carousel-indicators"),this.options=n,this.paused=null,this.sliding=null,this.interval=null,this.$active=null,this.$items=null,this.options.keyboard&&this.$element.on("keydown.bs.carousel",t.proxy(this.keydown,this)),"hover"==this.options.pause&&!("ontouchstart"in document.documentElement)&&this.$element.on("mouseenter.bs.carousel",t.proxy(this.pause,this)).on("mouseleave.bs.carousel",t.proxy(this.cycle,this))};n.VERSION="3.3.7",n.TRANSITION_DURATION=600,n.DEFAULTS={interval:5e3,pause:"hover",wrap:!0,keyboard:!0},n.prototype.keydown=function(t){if(!/input|textarea/i.test(t.target.tagName)){switch(t.which){case 37:this.prev();break;case 39:this.next();break;default:return}t.preventDefault()}},n.prototype.cycle=function(e){return e||(this.paused=!1),this.interval&&clearInterval(this.interval),this.options.interval&&!this.paused&&(this.interval=setInterval(t.proxy(this.next,this),this.options.interval)),this},n.prototype.getItemIndex=function(t){return this.$items=t.parent().children(".item"),this.$items.index(t||this.$active)},n.prototype.getItemForDirection=function(t,e){var n=this.getItemIndex(e);if(("prev"==t&&0===n||"next"==t&&n==this.$items.length-1)&&!this.options.wrap)return e;var r="prev"==t?-1:1,i=(n+r)%this.$items.length;return this.$items.eq(i)},n.prototype.to=function(t){var e=this,n=this.getItemIndex(this.$active=this.$element.find(".item.active"));if(!(t>this.$items.length-1||t<0))return this.sliding?this.$element.one("slid.bs.carousel",function(){e.to(t)}):n==t?this.pause().cycle():this.slide(t>n?"next":"prev",this.$items.eq(t))},n.prototype.pause=function(e){return e||(this.paused=!0),this.$element.find(".next, .prev").length&&t.support.transition&&(this.$element.trigger(t.support.transition.end),this.cycle(!0)),this.interval=clearInterval(this.interval),this},n.prototype.next=function(){if(!this.sliding)return this.slide("next")},n.prototype.prev=function(){if(!this.sliding)return this.slide("prev")},n.prototype.slide=function(e,r){var i=this.$element.find(".item.active"),o=r||this.getItemForDirection(e,i),a=this.interval,s="next"==e?"left":"right",u=this;if(o.hasClass("active"))return this.sliding=!1;var c=o[0],l=t.Event("slide.bs.carousel",{relatedTarget:c,direction:s});if(this.$element.trigger(l),!l.isDefaultPrevented()){if(this.sliding=!0,a&&this.pause(),this.$indicators.length){this.$indicators.find(".active").removeClass("active");var f=t(this.$indicators.children()[this.getItemIndex(o)]);f&&f.addClass("active")}var h=t.Event("slid.bs.carousel",{relatedTarget:c,direction:s});return t.support.transition&&this.$element.hasClass("slide")?(o.addClass(e),o[0].offsetWidth,i.addClass(s),o.addClass(s),i.one("bsTransitionEnd",function(){o.removeClass([e,s].join(" ")).addClass("active"),i.removeClass(["active",s].join(" ")),u.sliding=!1,setTimeout(function(){u.$element.trigger(h)},0)}).emulateTransitionEnd(n.TRANSITION_DURATION)):(i.removeClass("active"),o.addClass("active"),this.sliding=!1,this.$element.trigger(h)),a&&this.cycle(),this}};var r=t.fn.carousel;t.fn.carousel=e,t.fn.carousel.Constructor=n,t.fn.carousel.noConflict=function(){return t.fn.carousel=r,this};var i=function(n){var r,i=t(this),o=t(i.attr("data-target")||(r=i.attr("href"))&&r.replace(/.*(?=#[^\s]+$)/,""));if(o.hasClass("carousel")){var a=t.extend({},o.data(),i.data()),s=i.attr("data-slide-to");s&&(a.interval=!1),e.call(o,a),s&&o.data("bs.carousel").to(s),n.preventDefault()}};t(document).on("click.bs.carousel.data-api","[data-slide]",i).on("click.bs.carousel.data-api","[data-slide-to]",i),t(window).on("load",function(){t('[data-ride="carousel"]').each(function(){var n=t(this);e.call(n,n.data())})})}(jQuery),function(t){"use strict";function e(e){var n,r=e.attr("data-target")||(n=e.attr("href"))&&n.replace(/.*(?=#[^\s]+$)/,"");return t(r)}function n(e){return this.each(function(){var n=t(this),i=n.data("bs.collapse"),o=t.extend({},r.DEFAULTS,n.data(),"object"==typeof e&&e);!i&&o.toggle&&/show|hide/.test(e)&&(o.toggle=!1),i||n.data("bs.collapse",i=new r(this,o)),"string"==typeof e&&i[e]()})}var r=function(e,n){this.$element=t(e),this.options=t.extend({},r.DEFAULTS,n),this.$trigger=t('[data-toggle="collapse"][href="#'+e.id+'"],[data-toggle="collapse"][data-target="#'+e.id+'"]'),this.transitioning=null,this.options.parent?this.$parent=this.getParent():this.addAriaAndCollapsedClass(this.$element,this.$trigger),this.options.toggle&&this.toggle()};r.VERSION="3.3.7",r.TRANSITION_DURATION=350,r.DEFAULTS={toggle:!0},r.prototype.dimension=function(){return this.$element.hasClass("width")?"width":"height"},r.prototype.show=function(){if(!this.transitioning&&!this.$element.hasClass("in")){var e,i=this.$parent&&this.$parent.children(".panel").children(".in, .collapsing");if(!(i&&i.length&&(e=i.data("bs.collapse"))&&e.transitioning)){var o=t.Event("show.bs.collapse");if(this.$element.trigger(o),!o.isDefaultPrevented()){i&&i.length&&(n.call(i,"hide"),e||i.data("bs.collapse",null));var a=this.dimension();this.$element.removeClass("collapse").addClass("collapsing")[a](0).attr("aria-expanded",!0),this.$trigger.removeClass("collapsed").attr("aria-expanded",!0),this.transitioning=1;var s=function(){this.$element.removeClass("collapsing").addClass("collapse in")[a](""),this.transitioning=0,this.$element.trigger("shown.bs.collapse")};if(!t.support.transition)return s.call(this);var u=t.camelCase(["scroll",a].join("-"));this.$element.one("bsTransitionEnd",t.proxy(s,this)).emulateTransitionEnd(r.TRANSITION_DURATION)[a](this.$element[0][u])}}}},r.prototype.hide=function(){if(!this.transitioning&&this.$element.hasClass("in")){var e=t.Event("hide.bs.collapse");if(this.$element.trigger(e),!e.isDefaultPrevented()){var n=this.dimension();this.$element[n](this.$element[n]())[0].offsetHeight,this.$element.addClass("collapsing").removeClass("collapse in").attr("aria-expanded",!1),this.$trigger.addClass("collapsed").attr("aria-expanded",!1),this.transitioning=1;var i=function(){this.transitioning=0,this.$element.removeClass("collapsing").addClass("collapse").trigger("hidden.bs.collapse")};if(!t.support.transition)return i.call(this);this.$element[n](0).one("bsTransitionEnd",t.proxy(i,this)).emulateTransitionEnd(r.TRANSITION_DURATION)}}},r.prototype.toggle=function(){this[this.$element.hasClass("in")?"hide":"show"]()},r.prototype.getParent=function(){return t(this.options.parent).find('[data-toggle="collapse"][data-parent="'+this.options.parent+'"]').each(t.proxy(function(n,r){var i=t(r);this.addAriaAndCollapsedClass(e(i),i)},this)).end()},r.prototype.addAriaAndCollapsedClass=function(t,e){var n=t.hasClass("in");t.attr("aria-expanded",n),e.toggleClass("collapsed",!n).attr("aria-expanded",n)};var i=t.fn.collapse;t.fn.collapse=n,t.fn.collapse.Constructor=r,t.fn.collapse.noConflict=function(){return t.fn.collapse=i,this},t(document).on("click.bs.collapse.data-api",'[data-toggle="collapse"]',function(r){var i=t(this);i.attr("data-target")||r.preventDefault();var o=e(i),a=o.data("bs.collapse"),s=a?"toggle":i.data();n.call(o,s)})}(jQuery),function(t){"use strict";function e(e){var n=e.attr("data-target");n||(n=e.attr("href"),n=n&&/#[A-Za-z]/.test(n)&&n.replace(/.*(?=#[^\s]*$)/,""));var r=n&&t(n);return r&&r.length?r:e.parent()}function n(n){n&&3===n.which||(t(i).remove(),t(o).each(function(){var r=t(this),i=e(r),o={relatedTarget:this};i.hasClass("open")&&(n&&"click"==n.type&&/input|textarea/i.test(n.target.tagName)&&t.contains(i[0],n.target)||(i.trigger(n=t.Event("hide.bs.dropdown",o)),n.isDefaultPrevented()||(r.attr("aria-expanded","false"),i.removeClass("open").trigger(t.Event("hidden.bs.dropdown",o)))))}))}function r(e){return this.each(function(){var n=t(this),r=n.data("bs.dropdown");r||n.data("bs.dropdown",r=new a(this)),"string"==typeof e&&r[e].call(n)})}var i=".dropdown-backdrop",o='[data-toggle="dropdown"]',a=function(e){t(e).on("click.bs.dropdown",this.toggle)};a.VERSION="3.3.7",a.prototype.toggle=function(r){var i=t(this);if(!i.is(".disabled, :disabled")){var o=e(i),a=o.hasClass("open");if(n(),!a){"ontouchstart"in document.documentElement&&!o.closest(".navbar-nav").length&&t(document.createElement("div")).addClass("dropdown-backdrop").insertAfter(t(this)).on("click",n);var s={relatedTarget:this};if(o.trigger(r=t.Event("show.bs.dropdown",s)),r.isDefaultPrevented())return;i.trigger("focus").attr("aria-expanded","true"),o.toggleClass("open").trigger(t.Event("shown.bs.dropdown",s))}return!1}},a.prototype.keydown=function(n){if(/(38|40|27|32)/.test(n.which)&&!/input|textarea/i.test(n.target.tagName)){var r=t(this);if(n.preventDefault(),n.stopPropagation(),!r.is(".disabled, :disabled")){var i=e(r),a=i.hasClass("open");if(!a&&27!=n.which||a&&27==n.which)return 27==n.which&&i.find(o).trigger("focus"),r.trigger("click");var s=i.find(".dropdown-menu li:not(.disabled):visible a");if(s.length){var u=s.index(n.target);38==n.which&&u>0&&u--,40==n.which&&u<s.length-1&&u++,~u||(u=0),s.eq(u).trigger("focus")}}}};var s=t.fn.dropdown;t.fn.dropdown=r,t.fn.dropdown.Constructor=a,t.fn.dropdown.noConflict=function(){return t.fn.dropdown=s,this},t(document).on("click.bs.dropdown.data-api",n).on("click.bs.dropdown.data-api",".dropdown form",function(t){t.stopPropagation()}).on("click.bs.dropdown.data-api",o,a.prototype.toggle).on("keydown.bs.dropdown.data-api",o,a.prototype.keydown).on("keydown.bs.dropdown.data-api",".dropdown-menu",a.prototype.keydown)}(jQuery),function(t){"use strict";function e(e,r){return this.each(function(){var i=t(this),o=i.data("bs.modal"),a=t.extend({},n.DEFAULTS,i.data(),"object"==typeof e&&e);o||i.data("bs.modal",o=new n(this,a)),"string"==typeof e?o[e](r):a.show&&o.show(r)})}var n=function(e,n){this.options=n,this.$body=t(document.body),this.$element=t(e),this.$dialog=this.$element.find(".modal-dialog"),this.$backdrop=null,this.isShown=null,this.originalBodyPad=null,this.scrollbarWidth=0,this.ignoreBackdropClick=!1,this.options.remote&&this.$element.find(".modal-content").load(this.options.remote,t.proxy(function(){this.$element.trigger("loaded.bs.modal")},this))};n.VERSION="3.3.7",n.TRANSITION_DURATION=300,n.BACKDROP_TRANSITION_DURATION=150,n.DEFAULTS={backdrop:!0,keyboard:!0,show:!0},n.prototype.toggle=function(t){return this.isShown?this.hide():this.show(t)},n.prototype.show=function(e){var r=this,i=t.Event("show.bs.modal",{relatedTarget:e});this.$element.trigger(i),this.isShown||i.isDefaultPrevented()||(this.isShown=!0,this.checkScrollbar(),this.setScrollbar(),this.$body.addClass("modal-open"),this.escape(),this.resize(),this.$element.on("click.dismiss.bs.modal",'[data-dismiss="modal"]',t.proxy(this.hide,this)),this.$dialog.on("mousedown.dismiss.bs.modal",function(){r.$element.one("mouseup.dismiss.bs.modal",function(e){t(e.target).is(r.$element)&&(r.ignoreBackdropClick=!0)})}),this.backdrop(function(){var i=t.support.transition&&r.$element.hasClass("fade");r.$element.parent().length||r.$element.appendTo(r.$body),r.$element.show().scrollTop(0),r.adjustDialog(),i&&r.$element[0].offsetWidth,r.$element.addClass("in"),r.enforceFocus();var o=t.Event("shown.bs.modal",{relatedTarget:e});i?r.$dialog.one("bsTransitionEnd",function(){r.$element.trigger("focus").trigger(o)}).emulateTransitionEnd(n.TRANSITION_DURATION):r.$element.trigger("focus").trigger(o)}))},n.prototype.hide=function(e){e&&e.preventDefault(),e=t.Event("hide.bs.modal"),this.$element.trigger(e),this.isShown&&!e.isDefaultPrevented()&&(this.isShown=!1,this.escape(),this.resize(),t(document).off("focusin.bs.modal"),this.$element.removeClass("in").off("click.dismiss.bs.modal").off("mouseup.dismiss.bs.modal"),this.$dialog.off("mousedown.dismiss.bs.modal"),t.support.transition&&this.$element.hasClass("fade")?this.$element.one("bsTransitionEnd",t.proxy(this.hideModal,this)).emulateTransitionEnd(n.TRANSITION_DURATION):this.hideModal())},n.prototype.enforceFocus=function(){t(document).off("focusin.bs.modal").on("focusin.bs.modal",t.proxy(function(t){document===t.target||this.$element[0]===t.target||this.$element.has(t.target).length||this.$element.trigger("focus")},this))},n.prototype.escape=function(){this.isShown&&this.options.keyboard?this.$element.on("keydown.dismiss.bs.modal",t.proxy(function(t){27==t.which&&this.hide()},this)):this.isShown||this.$element.off("keydown.dismiss.bs.modal")},n.prototype.resize=function(){this.isShown?t(window).on("resize.bs.modal",t.proxy(this.handleUpdate,this)):t(window).off("resize.bs.modal")},n.prototype.hideModal=function(){var t=this;this.$element.hide(),this.backdrop(function(){t.$body.removeClass("modal-open"),t.resetAdjustments(),t.resetScrollbar(),t.$element.trigger("hidden.bs.modal")})},n.prototype.removeBackdrop=function(){this.$backdrop&&this.$backdrop.remove(),this.$backdrop=null},n.prototype.backdrop=function(e){var r=this,i=this.$element.hasClass("fade")?"fade":"";if(this.isShown&&this.options.backdrop){var o=t.support.transition&&i;if(this.$backdrop=t(document.createElement("div")).addClass("modal-backdrop "+i).appendTo(this.$body),this.$element.on("click.dismiss.bs.modal",t.proxy(function(t){if(this.ignoreBackdropClick)return void(this.ignoreBackdropClick=!1);t.target===t.currentTarget&&("static"==this.options.backdrop?this.$element[0].focus():this.hide())},this)),o&&this.$backdrop[0].offsetWidth,this.$backdrop.addClass("in"),!e)return;o?this.$backdrop.one("bsTransitionEnd",e).emulateTransitionEnd(n.BACKDROP_TRANSITION_DURATION):e()}else if(!this.isShown&&this.$backdrop){this.$backdrop.removeClass("in");var a=function(){r.removeBackdrop(),e&&e()};t.support.transition&&this.$element.hasClass("fade")?this.$backdrop.one("bsTransitionEnd",a).emulateTransitionEnd(n.BACKDROP_TRANSITION_DURATION):a()}else e&&e()},n.prototype.handleUpdate=function(){this.adjustDialog()},n.prototype.adjustDialog=function(){var t=this.$element[0].scrollHeight>document.documentElement.clientHeight;this.$element.css({paddingLeft:!this.bodyIsOverflowing&&t?this.scrollbarWidth:"",paddingRight:this.bodyIsOverflowing&&!t?this.scrollbarWidth:""})},n.prototype.resetAdjustments=function(){this.$element.css({paddingLeft:"",paddingRight:""})},n.prototype.checkScrollbar=function(){var t=window.innerWidth;if(!t){var e=document.documentElement.getBoundingClientRect();t=e.right-Math.abs(e.left)}this.bodyIsOverflowing=document.body.clientWidth<t,this.scrollbarWidth=this.measureScrollbar()},n.prototype.setScrollbar=function(){var t=parseInt(this.$body.css("padding-right")||0,10);this.originalBodyPad=document.body.style.paddingRight||"",this.bodyIsOverflowing&&this.$body.css("padding-right",t+this.scrollbarWidth)},n.prototype.resetScrollbar=function(){this.$body.css("padding-right",this.originalBodyPad)},n.prototype.measureScrollbar=function(){var t=document.createElement("div");t.className="modal-scrollbar-measure",this.$body.append(t);var e=t.offsetWidth-t.clientWidth;return this.$body[0].removeChild(t),e};var r=t.fn.modal;t.fn.modal=e,t.fn.modal.Constructor=n,t.fn.modal.noConflict=function(){return t.fn.modal=r,this},t(document).on("click.bs.modal.data-api",'[data-toggle="modal"]',function(n){var r=t(this),i=r.attr("href"),o=t(r.attr("data-target")||i&&i.replace(/.*(?=#[^\s]+$)/,"")),a=o.data("bs.modal")?"toggle":t.extend({remote:!/#/.test(i)&&i},o.data(),r.data());r.is("a")&&n.preventDefault(),o.one("show.bs.modal",function(t){t.isDefaultPrevented()||o.one("hidden.bs.modal",function(){r.is(":visible")&&r.trigger("focus")})}),e.call(o,a,this)})}(jQuery),function(t){"use strict";function e(e){return this.each(function(){var r=t(this),i=r.data("bs.tooltip"),o="object"==typeof e&&e;!i&&/destroy|hide/.test(e)||(i||r.data("bs.tooltip",i=new n(this,o)),"string"==typeof e&&i[e]())})}var n=function(t,e){this.type=null,this.options=null,this.enabled=null,this.timeout=null,this.hoverState=null,this.$element=null,this.inState=null,this.init("tooltip",t,e)};n.VERSION="3.3.7",n.TRANSITION_DURATION=150,n.DEFAULTS={animation:!0,placement:"top",selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover focus",title:"",delay:0,html:!1,container:!1,viewport:{selector:"body",padding:0}},n.prototype.init=function(e,n,r){if(this.enabled=!0,this.type=e,this.$element=t(n),this.options=this.getOptions(r),this.$viewport=this.options.viewport&&t(t.isFunction(this.options.viewport)?this.options.viewport.call(this,this.$element):this.options.viewport.selector||this.options.viewport),this.inState={click:!1,hover:!1,focus:!1},this.$element[0]instanceof document.constructor&&!this.options.selector)throw new Error("`selector` option must be specified when initializing "+this.type+" on the window.document object!");for(var i=this.options.trigger.split(" "),o=i.length;o--;){var a=i[o];if("click"==a)this.$element.on("click."+this.type,this.options.selector,t.proxy(this.toggle,this));else if("manual"!=a){var s="hover"==a?"mouseenter":"focusin",u="hover"==a?"mouseleave":"focusout";this.$element.on(s+"."+this.type,this.options.selector,t.proxy(this.enter,this)),this.$element.on(u+"."+this.type,this.options.selector,t.proxy(this.leave,this))}}this.options.selector?this._options=t.extend({},this.options,{trigger:"manual",selector:""}):this.fixTitle()},n.prototype.getDefaults=function(){return n.DEFAULTS},n.prototype.getOptions=function(e){return e=t.extend({},this.getDefaults(),this.$element.data(),e),e.delay&&"number"==typeof e.delay&&(e.delay={show:e.delay,hide:e.delay}),e},n.prototype.getDelegateOptions=function(){var e={},n=this.getDefaults();return this._options&&t.each(this._options,function(t,r){n[t]!=r&&(e[t]=r)}),e},n.prototype.enter=function(e){var n=e instanceof this.constructor?e:t(e.currentTarget).data("bs."+this.type);return n||(n=new this.constructor(e.currentTarget,this.getDelegateOptions()),t(e.currentTarget).data("bs."+this.type,n)),e instanceof t.Event&&(n.inState["focusin"==e.type?"focus":"hover"]=!0),n.tip().hasClass("in")||"in"==n.hoverState?void(n.hoverState="in"):(clearTimeout(n.timeout),n.hoverState="in",n.options.delay&&n.options.delay.show?void(n.timeout=setTimeout(function(){"in"==n.hoverState&&n.show()},n.options.delay.show)):n.show())},n.prototype.isInStateTrue=function(){for(var t in this.inState)if(this.inState[t])return!0;return!1},n.prototype.leave=function(e){var n=e instanceof this.constructor?e:t(e.currentTarget).data("bs."+this.type);if(n||(n=new this.constructor(e.currentTarget,this.getDelegateOptions()),t(e.currentTarget).data("bs."+this.type,n)),e instanceof t.Event&&(n.inState["focusout"==e.type?"focus":"hover"]=!1),!n.isInStateTrue()){if(clearTimeout(n.timeout),n.hoverState="out",!n.options.delay||!n.options.delay.hide)return n.hide();n.timeout=setTimeout(function(){"out"==n.hoverState&&n.hide()},n.options.delay.hide)}},n.prototype.show=function(){var e=t.Event("show.bs."+this.type);if(this.hasContent()&&this.enabled){this.$element.trigger(e);var r=t.contains(this.$element[0].ownerDocument.documentElement,this.$element[0]);if(e.isDefaultPrevented()||!r)return;var i=this,o=this.tip(),a=this.getUID(this.type);this.setContent(),o.attr("id",a),this.$element.attr("aria-describedby",a),this.options.animation&&o.addClass("fade");var s="function"==typeof this.options.placement?this.options.placement.call(this,o[0],this.$element[0]):this.options.placement,u=/\s?auto?\s?/i,c=u.test(s);c&&(s=s.replace(u,"")||"top"),o.detach().css({top:0,left:0,display:"block"}).addClass(s).data("bs."+this.type,this),this.options.container?o.appendTo(this.options.container):o.insertAfter(this.$element),this.$element.trigger("inserted.bs."+this.type);var l=this.getPosition(),f=o[0].offsetWidth,h=o[0].offsetHeight;if(c){var p=s,d=this.getPosition(this.$viewport);s="bottom"==s&&l.bottom+h>d.bottom?"top":"top"==s&&l.top-h<d.top?"bottom":"right"==s&&l.right+f>d.width?"left":"left"==s&&l.left-f<d.left?"right":s,o.removeClass(p).addClass(s)}var v=this.getCalculatedOffset(s,l,f,h);this.applyPlacement(v,s);var m=function(){var t=i.hoverState;i.$element.trigger("shown.bs."+i.type),i.hoverState=null,"out"==t&&i.leave(i)};t.support.transition&&this.$tip.hasClass("fade")?o.one("bsTransitionEnd",m).emulateTransitionEnd(n.TRANSITION_DURATION):m()}},n.prototype.applyPlacement=function(e,n){var r=this.tip(),i=r[0].offsetWidth,o=r[0].offsetHeight,a=parseInt(r.css("margin-top"),10),s=parseInt(r.css("margin-left"),10);isNaN(a)&&(a=0),isNaN(s)&&(s=0),e.top+=a,e.left+=s,t.offset.setOffset(r[0],t.extend({using:function(t){r.css({top:Math.round(t.top),left:Math.round(t.left)})}},e),0),r.addClass("in");var u=r[0].offsetWidth,c=r[0].offsetHeight;"top"==n&&c!=o&&(e.top=e.top+o-c);var l=this.getViewportAdjustedDelta(n,e,u,c);l.left?e.left+=l.left:e.top+=l.top;var f=/top|bottom/.test(n),h=f?2*l.left-i+u:2*l.top-o+c,p=f?"offsetWidth":"offsetHeight";r.offset(e),this.replaceArrow(h,r[0][p],f)},n.prototype.replaceArrow=function(t,e,n){this.arrow().css(n?"left":"top",50*(1-t/e)+"%").css(n?"top":"left","")},n.prototype.setContent=function(){var t=this.tip(),e=this.getTitle();t.find(".tooltip-inner")[this.options.html?"html":"text"](e),t.removeClass("fade in top bottom left right")},n.prototype.hide=function(e){function r(){"in"!=i.hoverState&&o.detach(),i.$element&&i.$element.removeAttr("aria-describedby").trigger("hidden.bs."+i.type),e&&e()}var i=this,o=t(this.$tip),a=t.Event("hide.bs."+this.type);if(this.$element.trigger(a),!a.isDefaultPrevented())return o.removeClass("in"),t.support.transition&&o.hasClass("fade")?o.one("bsTransitionEnd",r).emulateTransitionEnd(n.TRANSITION_DURATION):r(),this.hoverState=null,this},n.prototype.fixTitle=function(){var t=this.$element;(t.attr("title")||"string"!=typeof t.attr("data-original-title"))&&t.attr("data-original-title",t.attr("title")||"").attr("title","")},n.prototype.hasContent=function(){return this.getTitle()},n.prototype.getPosition=function(e){e=e||this.$element;var n=e[0],r="BODY"==n.tagName,i=n.getBoundingClientRect();null==i.width&&(i=t.extend({},i,{width:i.right-i.left,height:i.bottom-i.top}));var o=window.SVGElement&&n instanceof window.SVGElement,a=r?{top:0,left:0}:o?null:e.offset(),s={scroll:r?document.documentElement.scrollTop||document.body.scrollTop:e.scrollTop()},u=r?{width:t(window).width(),height:t(window).height()}:null;return t.extend({},i,s,u,a)},n.prototype.getCalculatedOffset=function(t,e,n,r){return"bottom"==t?{top:e.top+e.height,left:e.left+e.width/2-n/2}:"top"==t?{top:e.top-r,left:e.left+e.width/2-n/2}:"left"==t?{top:e.top+e.height/2-r/2,left:e.left-n}:{top:e.top+e.height/2-r/2,left:e.left+e.width}},n.prototype.getViewportAdjustedDelta=function(t,e,n,r){var i={top:0,left:0};if(!this.$viewport)return i;var o=this.options.viewport&&this.options.viewport.padding||0,a=this.getPosition(this.$viewport);if(/right|left/.test(t)){var s=e.top-o-a.scroll,u=e.top+o-a.scroll+r;s<a.top?i.top=a.top-s:u>a.top+a.height&&(i.top=a.top+a.height-u)}else{var c=e.left-o,l=e.left+o+n;c<a.left?i.left=a.left-c:l>a.right&&(i.left=a.left+a.width-l)}return i},n.prototype.getTitle=function(){var t=this.$element,e=this.options;return t.attr("data-original-title")||("function"==typeof e.title?e.title.call(t[0]):e.title)},n.prototype.getUID=function(t){do{t+=~~(1e6*Math.random())}while(document.getElementById(t));return t},n.prototype.tip=function(){if(!this.$tip&&(this.$tip=t(this.options.template),1!=this.$tip.length))throw new Error(this.type+" `template` option must consist of exactly 1 top-level element!");return this.$tip},n.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".tooltip-arrow")},n.prototype.enable=function(){this.enabled=!0},n.prototype.disable=function(){this.enabled=!1},n.prototype.toggleEnabled=function(){this.enabled=!this.enabled},n.prototype.toggle=function(e){var n=this;e&&((n=t(e.currentTarget).data("bs."+this.type))||(n=new this.constructor(e.currentTarget,this.getDelegateOptions()),t(e.currentTarget).data("bs."+this.type,n))),e?(n.inState.click=!n.inState.click,n.isInStateTrue()?n.enter(n):n.leave(n)):n.tip().hasClass("in")?n.leave(n):n.enter(n)},n.prototype.destroy=function(){var t=this;clearTimeout(this.timeout),this.hide(function(){t.$element.off("."+t.type).removeData("bs."+t.type),t.$tip&&t.$tip.detach(),t.$tip=null,t.$arrow=null,t.$viewport=null,t.$element=null})};var r=t.fn.tooltip;t.fn.tooltip=e,t.fn.tooltip.Constructor=n,t.fn.tooltip.noConflict=function(){return t.fn.tooltip=r,this}}(jQuery),function(t){"use strict";function e(e){return this.each(function(){var r=t(this),i=r.data("bs.popover"),o="object"==typeof e&&e;!i&&/destroy|hide/.test(e)||(i||r.data("bs.popover",i=new n(this,o)),"string"==typeof e&&i[e]())})}var n=function(t,e){this.init("popover",t,e)};if(!t.fn.tooltip)throw new Error("Popover requires tooltip.js");n.VERSION="3.3.7",n.DEFAULTS=t.extend({},t.fn.tooltip.Constructor.DEFAULTS,{placement:"right",trigger:"click",content:"",template:'<div class="popover" role="tooltip"><div class="arrow"></div><h3 class="popover-title"></h3><div class="popover-content"></div></div>'}),n.prototype=t.extend({},t.fn.tooltip.Constructor.prototype),n.prototype.constructor=n,n.prototype.getDefaults=function(){return n.DEFAULTS},n.prototype.setContent=function(){var t=this.tip(),e=this.getTitle(),n=this.getContent();t.find(".popover-title")[this.options.html?"html":"text"](e),t.find(".popover-content").children().detach().end()[this.options.html?"string"==typeof n?"html":"append":"text"](n),t.removeClass("fade top bottom left right in"),t.find(".popover-title").html()||t.find(".popover-title").hide()},n.prototype.hasContent=function(){return this.getTitle()||this.getContent()},n.prototype.getContent=function(){var t=this.$element,e=this.options;return t.attr("data-content")||("function"==typeof e.content?e.content.call(t[0]):e.content)},n.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".arrow")};var r=t.fn.popover;t.fn.popover=e,t.fn.popover.Constructor=n,t.fn.popover.noConflict=function(){return t.fn.popover=r,this}}(jQuery),function(t){"use strict";function e(n,r){this.$body=t(document.body),this.$scrollElement=t(t(n).is(document.body)?window:n),this.options=t.extend({},e.DEFAULTS,r),this.selector=(this.options.target||"")+" .nav li > a",this.offsets=[],this.targets=[],this.activeTarget=null,this.scrollHeight=0,this.$scrollElement.on("scroll.bs.scrollspy",t.proxy(this.process,this)),this.refresh(),this.process()}function n(n){return this.each(function(){var r=t(this),i=r.data("bs.scrollspy"),o="object"==typeof n&&n;i||r.data("bs.scrollspy",i=new e(this,o)),"string"==typeof n&&i[n]()})}e.VERSION="3.3.7",e.DEFAULTS={offset:10},e.prototype.getScrollHeight=function(){return this.$scrollElement[0].scrollHeight||Math.max(this.$body[0].scrollHeight,document.documentElement.scrollHeight)},e.prototype.refresh=function(){var e=this,n="offset",r=0;this.offsets=[],this.targets=[],this.scrollHeight=this.getScrollHeight(),t.isWindow(this.$scrollElement[0])||(n="position",r=this.$scrollElement.scrollTop()),this.$body.find(this.selector).map(function(){var e=t(this),i=e.data("target")||e.attr("href"),o=/^#./.test(i)&&t(i);return o&&o.length&&o.is(":visible")&&[[o[n]().top+r,i]]||null}).sort(function(t,e){return t[0]-e[0]}).each(function(){e.offsets.push(this[0]),e.targets.push(this[1])})},e.prototype.process=function(){var t,e=this.$scrollElement.scrollTop()+this.options.offset,n=this.getScrollHeight(),r=this.options.offset+n-this.$scrollElement.height(),i=this.offsets,o=this.targets,a=this.activeTarget;if(this.scrollHeight!=n&&this.refresh(),e>=r)return a!=(t=o[o.length-1])&&this.activate(t);if(a&&e<i[0])return this.activeTarget=null,this.clear();for(t=i.length;t--;)a!=o[t]&&e>=i[t]&&(void 0===i[t+1]||e<i[t+1])&&this.activate(o[t])},e.prototype.activate=function(e){this.activeTarget=e,this.clear();var n=this.selector+'[data-target="'+e+'"],'+this.selector+'[href="'+e+'"]',r=t(n).parents("li").addClass("active")
;r.parent(".dropdown-menu").length&&(r=r.closest("li.dropdown").addClass("active")),r.trigger("activate.bs.scrollspy")},e.prototype.clear=function(){t(this.selector).parentsUntil(this.options.target,".active").removeClass("active")};var r=t.fn.scrollspy;t.fn.scrollspy=n,t.fn.scrollspy.Constructor=e,t.fn.scrollspy.noConflict=function(){return t.fn.scrollspy=r,this},t(window).on("load.bs.scrollspy.data-api",function(){t('[data-spy="scroll"]').each(function(){var e=t(this);n.call(e,e.data())})})}(jQuery),function(t){"use strict";function e(e){return this.each(function(){var r=t(this),i=r.data("bs.tab");i||r.data("bs.tab",i=new n(this)),"string"==typeof e&&i[e]()})}var n=function(e){this.element=t(e)};n.VERSION="3.3.7",n.TRANSITION_DURATION=150,n.prototype.show=function(){var e=this.element,n=e.closest("ul:not(.dropdown-menu)"),r=e.data("target");if(r||(r=e.attr("href"),r=r&&r.replace(/.*(?=#[^\s]*$)/,"")),!e.parent("li").hasClass("active")){var i=n.find(".active:last a"),o=t.Event("hide.bs.tab",{relatedTarget:e[0]}),a=t.Event("show.bs.tab",{relatedTarget:i[0]});if(i.trigger(o),e.trigger(a),!a.isDefaultPrevented()&&!o.isDefaultPrevented()){var s=t(r);this.activate(e.closest("li"),n),this.activate(s,s.parent(),function(){i.trigger({type:"hidden.bs.tab",relatedTarget:e[0]}),e.trigger({type:"shown.bs.tab",relatedTarget:i[0]})})}}},n.prototype.activate=function(e,r,i){function o(){a.removeClass("active").find("> .dropdown-menu > .active").removeClass("active").end().find('[data-toggle="tab"]').attr("aria-expanded",!1),e.addClass("active").find('[data-toggle="tab"]').attr("aria-expanded",!0),s?(e[0].offsetWidth,e.addClass("in")):e.removeClass("fade"),e.parent(".dropdown-menu").length&&e.closest("li.dropdown").addClass("active").end().find('[data-toggle="tab"]').attr("aria-expanded",!0),i&&i()}var a=r.find("> .active"),s=i&&t.support.transition&&(a.length&&a.hasClass("fade")||!!r.find("> .fade").length);a.length&&s?a.one("bsTransitionEnd",o).emulateTransitionEnd(n.TRANSITION_DURATION):o(),a.removeClass("in")};var r=t.fn.tab;t.fn.tab=e,t.fn.tab.Constructor=n,t.fn.tab.noConflict=function(){return t.fn.tab=r,this};var i=function(n){n.preventDefault(),e.call(t(this),"show")};t(document).on("click.bs.tab.data-api",'[data-toggle="tab"]',i).on("click.bs.tab.data-api",'[data-toggle="pill"]',i)}(jQuery),function(t){"use strict";function e(e){return this.each(function(){var r=t(this),i=r.data("bs.affix"),o="object"==typeof e&&e;i||r.data("bs.affix",i=new n(this,o)),"string"==typeof e&&i[e]()})}var n=function(e,r){this.options=t.extend({},n.DEFAULTS,r),this.$target=t(this.options.target).on("scroll.bs.affix.data-api",t.proxy(this.checkPosition,this)).on("click.bs.affix.data-api",t.proxy(this.checkPositionWithEventLoop,this)),this.$element=t(e),this.affixed=null,this.unpin=null,this.pinnedOffset=null,this.checkPosition()};n.VERSION="3.3.7",n.RESET="affix affix-top affix-bottom",n.DEFAULTS={offset:0,target:window},n.prototype.getState=function(t,e,n,r){var i=this.$target.scrollTop(),o=this.$element.offset(),a=this.$target.height();if(null!=n&&"top"==this.affixed)return i<n&&"top";if("bottom"==this.affixed)return null!=n?!(i+this.unpin<=o.top)&&"bottom":!(i+a<=t-r)&&"bottom";var s=null==this.affixed,u=s?i:o.top,c=s?a:e;return null!=n&&i<=n?"top":null!=r&&u+c>=t-r&&"bottom"},n.prototype.getPinnedOffset=function(){if(this.pinnedOffset)return this.pinnedOffset;this.$element.removeClass(n.RESET).addClass("affix");var t=this.$target.scrollTop(),e=this.$element.offset();return this.pinnedOffset=e.top-t},n.prototype.checkPositionWithEventLoop=function(){setTimeout(t.proxy(this.checkPosition,this),1)},n.prototype.checkPosition=function(){if(this.$element.is(":visible")){var e=this.$element.height(),r=this.options.offset,i=r.top,o=r.bottom,a=Math.max(t(document).height(),t(document.body).height());"object"!=typeof r&&(o=i=r),"function"==typeof i&&(i=r.top(this.$element)),"function"==typeof o&&(o=r.bottom(this.$element));var s=this.getState(a,e,i,o);if(this.affixed!=s){null!=this.unpin&&this.$element.css("top","");var u="affix"+(s?"-"+s:""),c=t.Event(u+".bs.affix");if(this.$element.trigger(c),c.isDefaultPrevented())return;this.affixed=s,this.unpin="bottom"==s?this.getPinnedOffset():null,this.$element.removeClass(n.RESET).addClass(u).trigger(u.replace("affix","affixed")+".bs.affix")}"bottom"==s&&this.$element.offset({top:a-e-o})}};var r=t.fn.affix;t.fn.affix=e,t.fn.affix.Constructor=n,t.fn.affix.noConflict=function(){return t.fn.affix=r,this},t(window).on("load",function(){t('[data-spy="affix"]').each(function(){var n=t(this),r=n.data();r.offset=r.offset||{},null!=r.offsetBottom&&(r.offset.bottom=r.offsetBottom),null!=r.offsetTop&&(r.offset.top=r.offsetTop),e.call(n,r)})})}(jQuery),angular.module("wineApp",["ui.router","ngResource","angular-jwt"]),angular.module("wineApp").config(Interceptor),Interceptor.$inject=["$httpProvider"],angular.module("wineApp").config(Router),Router.$injection=["$stateProvider","$locationProvider","$urlRouterProvider"],angular.module("wineApp").constant("API",window.location.origin+"/api"),angular.module("homeworkApp").controler("LoginCtrl",LoginCtrl),LoginCtrl.$inject=["User","CurrentUserService","$state"],angular.module("wineApp").controller("MainCtrl",MainCtrl),MainCtrl.$inject=["$rootScope","CurrentUserService","$state"],angular.module("wineApp").controller("UserRegisterCtrl",userRegisterCtrl),userRegisterCtrl.$inject=["UserFactory","CurrentUserSerice","$state"],angular.module("wineApp").controller("UserNewController",UserNewController),UserNewController.$inject=["UserFactory","CurrentUserService","$state"],angular.module("wineApp").factory("AuthInterceptor",AuthInterceptor),AuthInterceptor.$inject=["API","TokenService"],angular.module("wineApp").factory("UserFactory",UserFactory),UserFactory.$inject=["API","$resource"],angular.module("wineApp").service("CurrentUserService",CurrentUserService),CurrentUserService.$inject=["TokenService","$rootscope","UserFactory"],angular.module("wineApp").service("TokenService",TokenService),TokenService.$inject=["$window","jwtHelper"];
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFwcC5qcyJdLCJuYW1lcyI6WyJJbnRlcmNlcHRvciIsIiRodHRwUHJvdmlkZXIiLCJpbnRlcmNlcHRvcnMiLCJwdXNoIiwiUm91dGVyIiwiJHN0YXRlUHJvdmlkZXIiLCIkbG9jYXRpb25Qcm92aWRlciIsIiR1cmxSb3V0ZXJQcm92aWRlciIsImh0bWw1TW9kZSIsInN0YXRlIiwidXJsIiwidGVtcGxhdGVVcmwiLCJjb250cm9sbGVyIiwiY29udHJvbGxlckFzIiwib3RoZXJ3aXNlIiwiTG9naW5DdHJsIiwiVXNlciIsIkN1cnJlbnRVc2VyU2VydmljZSIsIiRzdGF0ZSIsInZtIiwidGhpcyIsImxvZ2luIiwidXNlciIsIiRwcm9taXNlIiwidGhlbiIsImdldFVzZXIiLCJjb25zb2xlIiwibG9nIiwiY3VycmVudFVzZXIiLCJnbyIsImVyciIsIk1haW5DdHJsIiwiJHJvb3RTY29wZSIsIiRvbiIsInVzZXJGYWN0b3J5IiwibG9nb3V0IiwicmVtb3ZlVXNlciIsInVzZXJSZWdpc3RlckN0cmwiLCJVc2VyRmFjdG9yeSIsInJlZ2lzdGVyIiwiVXNlck5ld0NvbnRyb2xsZXIiLCJBdXRoSW50ZXJjZXB0b3IiLCJBUEkiLCJUb2tlblNlcnZpY2UiLCJyZXF1ZXN0IiwiY29uZmlnIiwidG9rZW4iLCJnZXRUb2tlbiIsImluZGV4T2YiLCJoZWFkZXJzIiwiQXV0aG9yaXphdGlvbiIsInJlc3BvbnNlIiwicmVzIiwiZGF0YSIsInNldFRva2VuIiwiJHJlc291cmNlIiwiaWQiLCJtZXRob2QiLCIkcm9vdHNjb3BlIiwic2VsZiIsImRlY29kZWQiLCJkZWNvZGVUb2tlbiIsImdldCIsIiRicm9hZGNhc3QiLCJyZW1vdmVUb2tlbiIsIiR3aW5kb3ciLCJqd3RIZWxwZXIiLCJsb2NhbFN0b3JhZ2UiLCJzZXRJdGVtIiwiZ2V0SXRlbSIsImNsZWFyIiwid2luZG93IiwibWluRXJyIiwibW9kdWxlIiwiRXJyb3JDb25zdHJ1Y3RvciIsIkVycm9yIiwicGFyYW1QcmVmaXgiLCJpIiwiY29kZSIsImFyZ3VtZW50cyIsInRlbXBsYXRlIiwibWVzc2FnZSIsInRlbXBsYXRlQXJncyIsInNsaWNlQXJncyIsIm1hcCIsImFyZyIsInRvRGVidWdTdHJpbmciLCJtaW5FcnJDb25maWciLCJvYmplY3RNYXhEZXB0aCIsInJlcGxhY2UiLCJtYXRjaCIsImluZGV4Iiwic2xpY2UiLCJsZW5ndGgiLCJlbmNvZGVVUklDb21wb25lbnQiLCJlcnJvckhhbmRsaW5nQ29uZmlnIiwiaXNPYmplY3QiLCJpc0RlZmluZWQiLCJpc1ZhbGlkT2JqZWN0TWF4RGVwdGgiLCJOYU4iLCJtYXhEZXB0aCIsImlzTnVtYmVyIiwiaXNBcnJheUxpa2UiLCJvYmoiLCJpc1dpbmRvdyIsImlzQXJyYXkiLCJpc1N0cmluZyIsImpxTGl0ZSIsIk9iamVjdCIsIkFycmF5IiwiaXRlbSIsImZvckVhY2giLCJpdGVyYXRvciIsImNvbnRleHQiLCJrZXkiLCJpc0Z1bmN0aW9uIiwiaGFzT3duUHJvcGVydHkiLCJjYWxsIiwiaXNQcmltaXRpdmUiLCJpc0JsYW5rT2JqZWN0IiwiZm9yRWFjaFNvcnRlZCIsImtleXMiLCJzb3J0IiwicmV2ZXJzZVBhcmFtcyIsIml0ZXJhdG9yRm4iLCJ2YWx1ZSIsIm5leHRVaWQiLCJ1aWQiLCJzZXRIYXNoS2V5IiwiaCIsIiQkaGFzaEtleSIsImJhc2VFeHRlbmQiLCJkc3QiLCJvYmpzIiwiZGVlcCIsImlpIiwiaiIsImpqIiwic3JjIiwiaXNEYXRlIiwiRGF0ZSIsInZhbHVlT2YiLCJpc1JlZ0V4cCIsIlJlZ0V4cCIsIm5vZGVOYW1lIiwiY2xvbmVOb2RlIiwiaXNFbGVtZW50IiwiY2xvbmUiLCJleHRlbmQiLCJtZXJnZSIsInRvSW50Iiwic3RyIiwicGFyc2VJbnQiLCJpbmhlcml0IiwicGFyZW50IiwiZXh0cmEiLCJjcmVhdGUiLCJub29wIiwiaWRlbnRpdHkiLCIkIiwidmFsdWVGbiIsImhhc0N1c3RvbVRvU3RyaW5nIiwidG9TdHJpbmciLCJpc1VuZGVmaW5lZCIsImdldFByb3RvdHlwZU9mIiwiaXNTY29wZSIsIiRldmFsQXN5bmMiLCIkd2F0Y2giLCJpc0ZpbGUiLCJpc0Zvcm1EYXRhIiwiaXNCbG9iIiwiaXNCb29sZWFuIiwiaXNQcm9taXNlTGlrZSIsImlzVHlwZWRBcnJheSIsIlRZUEVEX0FSUkFZX1JFR0VYUCIsInRlc3QiLCJpc0FycmF5QnVmZmVyIiwibm9kZSIsInByb3AiLCJhdHRyIiwiZmluZCIsIm1ha2VNYXAiLCJpdGVtcyIsInNwbGl0Iiwibm9kZU5hbWVfIiwiZWxlbWVudCIsImxvd2VyY2FzZSIsImluY2x1ZGVzIiwiYXJyYXkiLCJwcm90b3R5cGUiLCJhcnJheVJlbW92ZSIsInNwbGljZSIsImNvcHkiLCJzb3VyY2UiLCJkZXN0aW5hdGlvbiIsImNvcHlSZWN1cnNlIiwiY29weUVsZW1lbnQiLCJzdGFja1NvdXJjZSIsInN0YWNrRGVzdCIsIm5nTWluRXJyIiwibmVlZHNSZWN1cnNlIiwiY29weVR5cGUiLCJ1bmRlZmluZWQiLCJjb25zdHJ1Y3RvciIsImJ1ZmZlciIsImJ5dGVPZmZzZXQiLCJjb3BpZWQiLCJBcnJheUJ1ZmZlciIsImJ5dGVMZW5ndGgiLCJVaW50OEFycmF5Iiwic2V0IiwicmUiLCJsYXN0SW5kZXgiLCJ0eXBlIiwic2ltcGxlQ29tcGFyZSIsImEiLCJiIiwiZXF1YWxzIiwibzEiLCJvMiIsImtleVNldCIsInQxIiwidDIiLCJnZXRUaW1lIiwiY3JlYXRlTWFwIiwiY2hhckF0IiwiY29uY2F0IiwiYXJyYXkxIiwiYXJyYXkyIiwiYXJncyIsInN0YXJ0SW5kZXgiLCJiaW5kIiwiZm4iLCJjdXJyeUFyZ3MiLCJhcHBseSIsInRvSnNvblJlcGxhY2VyIiwidmFsIiwiZG9jdW1lbnQiLCJ0b0pzb24iLCJwcmV0dHkiLCJKU09OIiwic3RyaW5naWZ5IiwiZnJvbUpzb24iLCJqc29uIiwicGFyc2UiLCJ0aW1lem9uZVRvT2Zmc2V0IiwidGltZXpvbmUiLCJmYWxsYmFjayIsIkFMTF9DT0xPTlMiLCJyZXF1ZXN0ZWRUaW1lem9uZU9mZnNldCIsImlzTnVtYmVyTmFOIiwiYWRkRGF0ZU1pbnV0ZXMiLCJkYXRlIiwibWludXRlcyIsInNldE1pbnV0ZXMiLCJnZXRNaW51dGVzIiwiY29udmVydFRpbWV6b25lVG9Mb2NhbCIsInJldmVyc2UiLCJkYXRlVGltZXpvbmVPZmZzZXQiLCJnZXRUaW1lem9uZU9mZnNldCIsInN0YXJ0aW5nVGFnIiwiZW1wdHkiLCJlIiwiZWxlbUh0bWwiLCJhcHBlbmQiLCJodG1sIiwibm9kZVR5cGUiLCJOT0RFX1RZUEVfVEVYVCIsInRyeURlY29kZVVSSUNvbXBvbmVudCIsImRlY29kZVVSSUNvbXBvbmVudCIsInBhcnNlS2V5VmFsdWUiLCJrZXlWYWx1ZSIsInNwbGl0UG9pbnQiLCJzdWJzdHJpbmciLCJ0b0tleVZhbHVlIiwicGFydHMiLCJhcnJheVZhbHVlIiwiZW5jb2RlVXJpUXVlcnkiLCJqb2luIiwiZW5jb2RlVXJpU2VnbWVudCIsInBjdEVuY29kZVNwYWNlcyIsImdldE5nQXR0cmlidXRlIiwibmdBdHRyIiwibmdBdHRyUHJlZml4ZXMiLCJnZXRBdHRyaWJ1dGUiLCJhbmd1bGFySW5pdCIsImJvb3RzdHJhcCIsImFwcEVsZW1lbnQiLCJwcmVmaXgiLCJuYW1lIiwiaGFzQXR0cmlidXRlIiwiY2FuZGlkYXRlIiwicXVlcnlTZWxlY3RvciIsImlzQXV0b0Jvb3RzdHJhcEFsbG93ZWQiLCJlcnJvciIsInN0cmljdERpIiwibW9kdWxlcyIsImRvQm9vdHN0cmFwIiwiaW5qZWN0b3IiLCJ0YWciLCJ1bnNoaWZ0IiwiJHByb3ZpZGUiLCJkZWJ1Z0luZm9FbmFibGVkIiwiJGNvbXBpbGVQcm92aWRlciIsImNyZWF0ZUluamVjdG9yIiwiaW52b2tlIiwic2NvcGUiLCJjb21waWxlIiwiJGFwcGx5IiwiTkdfRU5BQkxFX0RFQlVHX0lORk8iLCJOR19ERUZFUl9CT09UU1RSQVAiLCJhbmd1bGFyIiwicmVzdW1lQm9vdHN0cmFwIiwiZXh0cmFNb2R1bGVzIiwicmVzdW1lRGVmZXJyZWRCb290c3RyYXAiLCJyZWxvYWRXaXRoRGVidWdJbmZvIiwibG9jYXRpb24iLCJyZWxvYWQiLCJnZXRUZXN0YWJpbGl0eSIsInJvb3RFbGVtZW50Iiwic25ha2VfY2FzZSIsInNlcGFyYXRvciIsIlNOQUtFX0NBU0VfUkVHRVhQIiwibGV0dGVyIiwicG9zIiwidG9Mb3dlckNhc2UiLCJhc3NlcnRBcmciLCJyZWFzb24iLCJhc3NlcnRBcmdGbiIsImFjY2VwdEFycmF5QW5ub3RhdGlvbiIsImFzc2VydE5vdEhhc093blByb3BlcnR5IiwiZ2V0dGVyIiwicGF0aCIsImJpbmRGblRvU2NvcGUiLCJsYXN0SW5zdGFuY2UiLCJsZW4iLCJnZXRCbG9ja05vZGVzIiwibm9kZXMiLCJibG9ja05vZGVzIiwiZW5kTm9kZSIsIm5leHRTaWJsaW5nIiwic2V0dXBNb2R1bGVMb2FkZXIiLCJlbnN1cmUiLCJmYWN0b3J5IiwiJGluamVjdG9yTWluRXJyIiwiJCRtaW5FcnIiLCJyZXF1aXJlcyIsImNvbmZpZ0ZuIiwiaW5mbyIsImludm9rZUxhdGVyIiwicHJvdmlkZXIiLCJpbnNlcnRNZXRob2QiLCJxdWV1ZSIsImludm9rZVF1ZXVlIiwibW9kdWxlSW5zdGFuY2UiLCJpbnZva2VMYXRlckFuZFNldE1vZHVsZU5hbWUiLCJyZWNpcGVOYW1lIiwiZmFjdG9yeUZ1bmN0aW9uIiwiJCRtb2R1bGVOYW1lIiwiY29uZmlnQmxvY2tzIiwicnVuQmxvY2tzIiwiX2ludm9rZVF1ZXVlIiwiX2NvbmZpZ0Jsb2NrcyIsIl9ydW5CbG9ja3MiLCJzZXJ2aWNlIiwiY29uc3RhbnQiLCJkZWNvcmF0b3IiLCJhbmltYXRpb24iLCJmaWx0ZXIiLCJkaXJlY3RpdmUiLCJjb21wb25lbnQiLCJydW4iLCJibG9jayIsInNoYWxsb3dDb3B5Iiwic2VyaWFsaXplT2JqZWN0Iiwic2VlbiIsImpxTmV4dElkIiwianFJZCIsImNzc0tlYmFiVG9DYW1lbCIsImtlYmFiVG9DYW1lbCIsIk1TX0hBQ0tfUkVHRVhQIiwiZm5DYW1lbENhc2VSZXBsYWNlIiwiYWxsIiwidG9VcHBlckNhc2UiLCJEQVNIX0xPV0VSQ0FTRV9SRUdFWFAiLCJqcUxpdGVJc1RleHROb2RlIiwiSFRNTF9SRUdFWFAiLCJqcUxpdGVBY2NlcHRzRGF0YSIsIk5PREVfVFlQRV9FTEVNRU5UIiwiTk9ERV9UWVBFX0RPQ1VNRU5UIiwianFMaXRlSGFzRGF0YSIsImpxQ2FjaGUiLCJuZzMzOSIsImpxTGl0ZUJ1aWxkRnJhZ21lbnQiLCJ0bXAiLCJ3cmFwIiwiZnJhZ21lbnQiLCJjcmVhdGVEb2N1bWVudEZyYWdtZW50IiwiY3JlYXRlVGV4dE5vZGUiLCJhcHBlbmRDaGlsZCIsImNyZWF0ZUVsZW1lbnQiLCJUQUdfTkFNRV9SRUdFWFAiLCJleGVjIiwid3JhcE1hcCIsIl9kZWZhdWx0IiwiaW5uZXJIVE1MIiwiWEhUTUxfVEFHX1JFR0VYUCIsImxhc3RDaGlsZCIsImNoaWxkTm9kZXMiLCJmaXJzdENoaWxkIiwidGV4dENvbnRlbnQiLCJqcUxpdGVQYXJzZUhUTUwiLCJwYXJzZWQiLCJTSU5HTEVfVEFHX1JFR0VYUCIsImpxTGl0ZVdyYXBOb2RlIiwid3JhcHBlciIsInBhcmVudE5vZGUiLCJyZXBsYWNlQ2hpbGQiLCJKUUxpdGUiLCJhcmdJc1N0cmluZyIsInRyaW0iLCJqcUxpdGVNaW5FcnIiLCJqcUxpdGVBZGROb2RlcyIsImpxTGl0ZVJlYWR5IiwianFMaXRlQ2xvbmUiLCJqcUxpdGVEZWFsb2MiLCJvbmx5RGVzY2VuZGFudHMiLCJjbGVhbkRhdGEiLCJxdWVyeVNlbGVjdG9yQWxsIiwianFMaXRlT2ZmIiwidW5zdXBwb3J0ZWQiLCJleHBhbmRvU3RvcmUiLCJqcUxpdGVFeHBhbmRvU3RvcmUiLCJldmVudHMiLCJoYW5kbGUiLCJyZW1vdmVIYW5kbGVyIiwibGlzdGVuZXJGbnMiLCJyZW1vdmVFdmVudExpc3RlbmVyIiwiTU9VU0VfRVZFTlRfTUFQIiwianFMaXRlUmVtb3ZlRGF0YSIsImV4cGFuZG9JZCIsIiRkZXN0cm95IiwiY3JlYXRlSWZOZWNlc3NhcnkiLCJqcUxpdGVEYXRhIiwiaXNTaW1wbGVTZXR0ZXIiLCJpc1NpbXBsZUdldHRlciIsIm1hc3NHZXR0ZXIiLCJqcUxpdGVIYXNDbGFzcyIsInNlbGVjdG9yIiwianFMaXRlUmVtb3ZlQ2xhc3MiLCJjc3NDbGFzc2VzIiwic2V0QXR0cmlidXRlIiwiY3NzQ2xhc3MiLCJqcUxpdGVBZGRDbGFzcyIsImV4aXN0aW5nQ2xhc3NlcyIsInJvb3QiLCJlbGVtZW50cyIsImpxTGl0ZUNvbnRyb2xsZXIiLCJqcUxpdGVJbmhlcml0ZWREYXRhIiwiZG9jdW1lbnRFbGVtZW50IiwibmFtZXMiLCJOT0RFX1RZUEVfRE9DVU1FTlRfRlJBR01FTlQiLCJob3N0IiwianFMaXRlRW1wdHkiLCJyZW1vdmVDaGlsZCIsImpxTGl0ZVJlbW92ZSIsImtlZXBEYXRhIiwianFMaXRlRG9jdW1lbnRMb2FkZWQiLCJhY3Rpb24iLCJ3aW4iLCJyZWFkeVN0YXRlIiwic2V0VGltZW91dCIsIm9uIiwidHJpZ2dlciIsImFkZEV2ZW50TGlzdGVuZXIiLCJnZXRCb29sZWFuQXR0ck5hbWUiLCJib29sZWFuQXR0ciIsIkJPT0xFQU5fQVRUUiIsIkJPT0xFQU5fRUxFTUVOVFMiLCJnZXRBbGlhc2VkQXR0ck5hbWUiLCJBTElBU0VEX0FUVFIiLCJjcmVhdGVFdmVudEhhbmRsZXIiLCJldmVudEhhbmRsZXIiLCJldmVudCIsImlzRGVmYXVsdFByZXZlbnRlZCIsImRlZmF1bHRQcmV2ZW50ZWQiLCJldmVudEZucyIsImV2ZW50Rm5zTGVuZ3RoIiwiaW1tZWRpYXRlUHJvcGFnYXRpb25TdG9wcGVkIiwib3JpZ2luYWxTdG9wSW1tZWRpYXRlUHJvcGFnYXRpb24iLCJzdG9wSW1tZWRpYXRlUHJvcGFnYXRpb24iLCJzdG9wUHJvcGFnYXRpb24iLCJpc0ltbWVkaWF0ZVByb3BhZ2F0aW9uU3RvcHBlZCIsImhhbmRsZXJXcmFwcGVyIiwic3BlY2lhbEhhbmRsZXJXcmFwcGVyIiwiZGVmYXVsdEhhbmRsZXJXcmFwcGVyIiwiZWxlbSIsImhhbmRsZXIiLCJzcGVjaWFsTW91c2VIYW5kbGVyV3JhcHBlciIsInRhcmdldCIsInJlbGF0ZWQiLCJyZWxhdGVkVGFyZ2V0IiwianFMaXRlQ29udGFpbnMiLCIkJGpxTGl0ZVByb3ZpZGVyIiwiJGdldCIsImhhc0NsYXNzIiwiY2xhc3NlcyIsImFkZENsYXNzIiwicmVtb3ZlQ2xhc3MiLCJoYXNoS2V5IiwibmV4dFVpZEZuIiwib2JqVHlwZSIsIk5nTWFwU2hpbSIsIl9rZXlzIiwiX3ZhbHVlcyIsIl9sYXN0S2V5IiwiX2xhc3RJbmRleCIsInN0cmluZ2lmeUZuIiwiRnVuY3Rpb24iLCJleHRyYWN0QXJncyIsImZuVGV4dCIsIlNUUklQX0NPTU1FTlRTIiwiQVJST1dfQVJHIiwiRk5fQVJHUyIsImFub25GbiIsImFubm90YXRlIiwiJGluamVjdCIsImFyZ0RlY2wiLCJsYXN0IiwiRk5fQVJHX1NQTElUIiwiRk5fQVJHIiwidW5kZXJzY29yZSIsIm1vZHVsZXNUb0xvYWQiLCJzdXBwb3J0T2JqZWN0IiwiZGVsZWdhdGUiLCJwcm92aWRlcl8iLCJwcm92aWRlckluamVjdG9yIiwiaW5zdGFudGlhdGUiLCJwcm92aWRlckNhY2hlIiwicHJvdmlkZXJTdWZmaXgiLCJlbmZvcmNlUmV0dXJuVmFsdWUiLCJyZXN1bHQiLCJpbnN0YW5jZUluamVjdG9yIiwiZmFjdG9yeUZuIiwiZW5mb3JjZSIsIiRpbmplY3RvciIsImluc3RhbmNlQ2FjaGUiLCJzZXJ2aWNlTmFtZSIsImRlY29yRm4iLCJvcmlnUHJvdmlkZXIiLCJvcmlnJGdldCIsIm9yaWdJbnN0YW5jZSIsIiRkZWxlZ2F0ZSIsImxvYWRNb2R1bGVzIiwibW9kdWxlRm4iLCJydW5JbnZva2VRdWV1ZSIsImludm9rZUFyZ3MiLCJsb2FkZWRNb2R1bGVzIiwiYW5ndWxhck1vZHVsZSIsInN0YWNrIiwiY3JlYXRlSW50ZXJuYWxJbmplY3RvciIsImNhY2hlIiwiZ2V0U2VydmljZSIsImNhbGxlciIsIklOU1RBTlRJQVRJTkciLCJzaGlmdCIsImluamVjdGlvbkFyZ3MiLCJsb2NhbHMiLCIkJGFubm90YXRlIiwiaXNDbGFzcyIsImZ1bmMiLCJtc2llIiwiJCRuZ0lzQ2xhc3MiLCJUeXBlIiwiY3RvciIsImhhcyIsIk5nTWFwIiwicHJvdG9JbnN0YW5jZUluamVjdG9yIiwiJEFuY2hvclNjcm9sbFByb3ZpZGVyIiwiYXV0b1Njcm9sbGluZ0VuYWJsZWQiLCJkaXNhYmxlQXV0b1Njcm9sbGluZyIsIiRsb2NhdGlvbiIsImdldEZpcnN0QW5jaG9yIiwibGlzdCIsInNvbWUiLCJnZXRZT2Zmc2V0Iiwib2Zmc2V0Iiwic2Nyb2xsIiwieU9mZnNldCIsInN0eWxlIiwiZ2V0Q29tcHV0ZWRTdHlsZSIsInBvc2l0aW9uIiwiZ2V0Qm91bmRpbmdDbGllbnRSZWN0IiwiYm90dG9tIiwic2Nyb2xsVG8iLCJzY3JvbGxJbnRvVmlldyIsImVsZW1Ub3AiLCJ0b3AiLCJzY3JvbGxCeSIsImhhc2giLCJlbG0iLCJnZXRFbGVtZW50QnlJZCIsImdldEVsZW1lbnRzQnlOYW1lIiwibmV3VmFsIiwib2xkVmFsIiwibWVyZ2VDbGFzc2VzIiwiZXh0cmFjdEVsZW1lbnROb2RlIiwiRUxFTUVOVF9OT0RFIiwic3BsaXRDbGFzc2VzIiwia2xhc3MiLCJwcmVwYXJlQW5pbWF0ZU9wdGlvbnMiLCJvcHRpb25zIiwiQnJvd3NlciIsIiRsb2ciLCIkc25pZmZlciIsImNvbXBsZXRlT3V0c3RhbmRpbmdSZXF1ZXN0Iiwib3V0c3RhbmRpbmdSZXF1ZXN0Q291bnQiLCJvdXRzdGFuZGluZ1JlcXVlc3RDYWxsYmFja3MiLCJwb3AiLCJnZXRIYXNoIiwic3Vic3RyIiwiY2FjaGVTdGF0ZUFuZEZpcmVVcmxDaGFuZ2UiLCJwZW5kaW5nTG9jYXRpb24iLCJmaXJlU3RhdGVPclVybENoYW5nZSIsImNhY2hlU3RhdGUiLCJjYWNoZWRTdGF0ZSIsImdldEN1cnJlbnRTdGF0ZSIsImxhc3RDYWNoZWRTdGF0ZSIsImxhc3RIaXN0b3J5U3RhdGUiLCJwcmV2TGFzdEhpc3RvcnlTdGF0ZSIsImxhc3RCcm93c2VyVXJsIiwidXJsQ2hhbmdlTGlzdGVuZXJzIiwibGlzdGVuZXIiLCJoaXN0b3J5IiwiY2xlYXJUaW1lb3V0IiwicGVuZGluZ0RlZmVySWRzIiwiaXNNb2NrIiwiJCRjb21wbGV0ZU91dHN0YW5kaW5nUmVxdWVzdCIsIiQkaW5jT3V0c3RhbmRpbmdSZXF1ZXN0Q291bnQiLCJub3RpZnlXaGVuTm9PdXRzdGFuZGluZ1JlcXVlc3RzIiwiY2FsbGJhY2siLCJocmVmIiwiYmFzZUVsZW1lbnQiLCJzYW1lU3RhdGUiLCJzYW1lQmFzZSIsInN0cmlwSGFzaCIsInVybENoYW5nZUluaXQiLCJvblVybENoYW5nZSIsIiQkYXBwbGljYXRpb25EZXN0cm95ZWQiLCJvZmYiLCIkJGNoZWNrVXJsQ2hhbmdlIiwiYmFzZUhyZWYiLCJkZWZlciIsImRlbGF5IiwidGltZW91dElkIiwiY2FuY2VsIiwiZGVmZXJJZCIsIiRCcm93c2VyUHJvdmlkZXIiLCIkZG9jdW1lbnQiLCIkQ2FjaGVGYWN0b3J5UHJvdmlkZXIiLCJjYWNoZUZhY3RvcnkiLCJjYWNoZUlkIiwicmVmcmVzaCIsImVudHJ5IiwiZnJlc2hFbmQiLCJzdGFsZUVuZCIsIm4iLCJsaW5rIiwicCIsIm5leHRFbnRyeSIsInByZXZFbnRyeSIsImNhY2hlcyIsInNpemUiLCJzdGF0cyIsImNhcGFjaXR5IiwiTnVtYmVyIiwiTUFYX1ZBTFVFIiwibHJ1SGFzaCIsInB1dCIsInJlbW92ZSIsImxydUVudHJ5IiwicmVtb3ZlQWxsIiwiZGVzdHJveSIsIiRUZW1wbGF0ZUNhY2hlUHJvdmlkZXIiLCIkY2FjaGVGYWN0b3J5IiwiVU5JTklUSUFMSVpFRF9WQUxVRSIsIiRDb21waWxlUHJvdmlkZXIiLCIkJHNhbml0aXplVXJpUHJvdmlkZXIiLCJwYXJzZUlzb2xhdGVCaW5kaW5ncyIsImRpcmVjdGl2ZU5hbWUiLCJpc0NvbnRyb2xsZXIiLCJiaW5kaW5ncyIsImRlZmluaXRpb24iLCJzY29wZU5hbWUiLCJiaW5kaW5nQ2FjaGUiLCIkY29tcGlsZU1pbkVyciIsIm1vZGUiLCJjb2xsZWN0aW9uIiwib3B0aW9uYWwiLCJhdHRyTmFtZSIsInBhcnNlRGlyZWN0aXZlQmluZGluZ3MiLCJpc29sYXRlU2NvcGUiLCJiaW5kVG9Db250cm9sbGVyIiwiYXNzZXJ0VmFsaWREaXJlY3RpdmVOYW1lIiwiZ2V0RGlyZWN0aXZlUmVxdWlyZSIsInJlcXVpcmUiLCJSRVFVSVJFX1BSRUZJWF9SRUdFWFAiLCJnZXREaXJlY3RpdmVSZXN0cmljdCIsInJlc3RyaWN0IiwiaGFzRGlyZWN0aXZlcyIsIlN1ZmZpeCIsIkNPTU1FTlRfRElSRUNUSVZFX1JFR0VYUCIsIkNMQVNTX0RJUkVDVElWRV9SRUdFWFAiLCJBTExfT1JfTk9USElOR19BVFRSUyIsIkVWRU5UX0hBTkRMRVJfQVRUUl9SRUdFWFAiLCJyZWdpc3RlckRpcmVjdGl2ZSIsImRpcmVjdGl2ZUZhY3RvcnkiLCIkZXhjZXB0aW9uSGFuZGxlciIsImRpcmVjdGl2ZXMiLCJwcmlvcml0eSIsIm1ha2VJbmplY3RhYmxlIiwidEVsZW1lbnQiLCJ0QXR0cnMiLCIkZWxlbWVudCIsIiRhdHRycyIsImRkbyIsImlkZW50aWZpZXJGb3JDb250cm9sbGVyIiwidHJhbnNjbHVkZSIsImFIcmVmU2FuaXRpemF0aW9uV2hpdGVsaXN0IiwicmVnZXhwIiwiaW1nU3JjU2FuaXRpemF0aW9uV2hpdGVsaXN0IiwiZW5hYmxlZCIsInByZUFzc2lnbkJpbmRpbmdzRW5hYmxlZCIsIlRUTCIsIm9uQ2hhbmdlc1R0bCIsImNvbW1lbnREaXJlY3RpdmVzRW5hYmxlZENvbmZpZyIsImNvbW1lbnREaXJlY3RpdmVzRW5hYmxlZCIsImNzc0NsYXNzRGlyZWN0aXZlc0VuYWJsZWRDb25maWciLCJjc3NDbGFzc0RpcmVjdGl2ZXNFbmFibGVkIiwiJGludGVycG9sYXRlIiwiJHRlbXBsYXRlUmVxdWVzdCIsIiRwYXJzZSIsIiRjb250cm9sbGVyIiwiJHNjZSIsIiRhbmltYXRlIiwiJCRzYW5pdGl6ZVVyaSIsImZsdXNoT25DaGFuZ2VzUXVldWUiLCJvbkNoYW5nZXNRdWV1ZSIsImVycm9ycyIsIkF0dHJpYnV0ZXMiLCJhdHRyaWJ1dGVzVG9Db3B5IiwibCIsIiRhdHRyIiwiJCRlbGVtZW50Iiwic2V0U3BlY2lhbEF0dHIiLCJzcGVjaWFsQXR0ckhvbGRlciIsImF0dHJpYnV0ZXMiLCJhdHRyaWJ1dGUiLCJyZW1vdmVOYW1lZEl0ZW0iLCJzZXROYW1lZEl0ZW0iLCJzYWZlQWRkQ2xhc3MiLCJjbGFzc05hbWUiLCIkY29tcGlsZU5vZGVzIiwidHJhbnNjbHVkZUZuIiwibWF4UHJpb3JpdHkiLCJpZ25vcmVEaXJlY3RpdmUiLCJwcmV2aW91c0NvbXBpbGVDb250ZXh0IiwiY29tcG9zaXRlTGlua0ZuIiwiY29tcGlsZU5vZGVzIiwiJCRhZGRTY29wZUNsYXNzIiwibmFtZXNwYWNlIiwiY2xvbmVDb25uZWN0Rm4iLCJuZWVkc05ld1Njb3BlIiwiJHBhcmVudCIsIiRuZXciLCJwYXJlbnRCb3VuZFRyYW5zY2x1ZGVGbiIsInRyYW5zY2x1ZGVDb250cm9sbGVycyIsImZ1dHVyZVBhcmVudEVsZW1lbnQiLCIkJGJvdW5kVHJhbnNjbHVkZSIsImRldGVjdE5hbWVzcGFjZUZvckNoaWxkRWxlbWVudHMiLCIkbGlua05vZGUiLCJ3cmFwVGVtcGxhdGUiLCJKUUxpdGVQcm90b3R5cGUiLCJjb250cm9sbGVyTmFtZSIsImluc3RhbmNlIiwiJCRhZGRTY29wZUluZm8iLCJwYXJlbnRFbGVtZW50Iiwibm9kZUxpc3QiLCIkcm9vdEVsZW1lbnQiLCJub2RlTGlua0ZuIiwiY2hpbGRMaW5rRm4iLCJjaGlsZFNjb3BlIiwiaWR4IiwiY2hpbGRCb3VuZFRyYW5zY2x1ZGVGbiIsInN0YWJsZU5vZGVMaXN0Iiwibm9kZUxpbmtGbkZvdW5kIiwibm9kZUxpc3RMZW5ndGgiLCJsaW5rRm5zIiwidHJhbnNjbHVkZU9uVGhpc0VsZW1lbnQiLCJjcmVhdGVCb3VuZFRyYW5zY2x1ZGVGbiIsInRlbXBsYXRlT25UaGlzRWxlbWVudCIsImF0dHJzIiwibGlua0ZuRm91bmQiLCJub3RMaXZlTGlzdCIsIm1lcmdlQ29uc2VjdXRpdmVUZXh0Tm9kZXMiLCJjb2xsZWN0RGlyZWN0aXZlcyIsImFwcGx5RGlyZWN0aXZlc1RvTm9kZSIsInRlcm1pbmFsIiwic2libGluZyIsIm5vZGVWYWx1ZSIsInByZXZpb3VzQm91bmRUcmFuc2NsdWRlRm4iLCJib3VuZFRyYW5zY2x1ZGVGbiIsInRyYW5zY2x1ZGVkU2NvcGUiLCJjbG9uZUZuIiwiY29udHJvbGxlcnMiLCJjb250YWluaW5nU2NvcGUiLCIkJHRyYW5zY2x1ZGVkIiwiYm91bmRTbG90cyIsIiQkc2xvdHMiLCJzbG90TmFtZSIsImF0dHJzTWFwIiwiYWRkRGlyZWN0aXZlIiwiZGlyZWN0aXZlTm9ybWFsaXplIiwibk5hbWUiLCJuZ0F0dHJOYW1lIiwiaXNOZ0F0dHIiLCJuQXR0cnMiLCJhdHRyU3RhcnROYW1lIiwiYXR0ckVuZE5hbWUiLCJOR19BVFRSX0JJTkRJTkciLCJQUkVGSVhfUkVHRVhQIiwibXVsdGlFbGVtZW50TWF0Y2giLCJNVUxUSV9FTEVNRU5UX0RJUl9SRSIsImRpcmVjdGl2ZUlzTXVsdGlFbGVtZW50IiwiYWRkQXR0ckludGVycG9sYXRlRGlyZWN0aXZlIiwiYW5pbVZhbCIsImFkZFRleHRJbnRlcnBvbGF0ZURpcmVjdGl2ZSIsIk5PREVfVFlQRV9DT01NRU5UIiwiY29sbGVjdENvbW1lbnREaXJlY3RpdmVzIiwiYnlQcmlvcml0eSIsImdyb3VwU2NhbiIsImF0dHJTdGFydCIsImF0dHJFbmQiLCJkZXB0aCIsImdyb3VwRWxlbWVudHNMaW5rRm5XcmFwcGVyIiwibGlua0ZuIiwiY29tcGlsYXRpb25HZW5lcmF0b3IiLCJlYWdlciIsImNvbXBpbGVkIiwiY29tcGlsZU5vZGUiLCJ0ZW1wbGF0ZUF0dHJzIiwianFDb2xsZWN0aW9uIiwib3JpZ2luYWxSZXBsYWNlRGlyZWN0aXZlIiwicHJlTGlua0ZucyIsInBvc3RMaW5rRm5zIiwiYWRkTGlua0ZucyIsInByZSIsInBvc3QiLCJuZXdJc29sYXRlU2NvcGVEaXJlY3RpdmUiLCIkJGlzb2xhdGVTY29wZSIsImNsb25lQW5kQW5ub3RhdGVGbiIsImxpbmtOb2RlIiwiY29udHJvbGxlcnNCb3VuZFRyYW5zY2x1ZGUiLCJjbG9uZUF0dGFjaEZuIiwiaGFzRWxlbWVudFRyYW5zY2x1ZGVEaXJlY3RpdmUiLCJlbGVtZW50Q29udHJvbGxlcnMiLCJzY29wZVRvQ2hpbGQiLCJzbG90VHJhbnNjbHVkZUZuIiwiY29udHJvbGxlclNjb3BlIiwic2NvcGVCaW5kaW5nSW5mbyIsIm5ld1Njb3BlRGlyZWN0aXZlIiwiaXNTbG90RmlsbGVkIiwiY29udHJvbGxlckRpcmVjdGl2ZXMiLCJzZXR1cENvbnRyb2xsZXJzIiwidGVtcGxhdGVEaXJlY3RpdmUiLCIkJG9yaWdpbmFsRGlyZWN0aXZlIiwiJCRpc29sYXRlQmluZGluZ3MiLCJpbml0aWFsaXplRGlyZWN0aXZlQmluZGluZ3MiLCJyZW1vdmVXYXRjaGVzIiwiY29udHJvbGxlckRpcmVjdGl2ZSIsIiQkYmluZGluZ3MiLCJiaW5kaW5nSW5mbyIsImNvbnRyb2xsZXJSZXN1bHQiLCJnZXRDb250cm9sbGVycyIsImNvbnRyb2xsZXJJbnN0YW5jZSIsIiRvbkNoYW5nZXMiLCJpbml0aWFsQ2hhbmdlcyIsIiRvbkluaXQiLCIkZG9DaGVjayIsIiRvbkRlc3Ryb3kiLCJpbnZva2VMaW5rRm4iLCIkcG9zdExpbmsiLCIkdGVtcGxhdGUiLCJkaXJlY3RpdmVWYWx1ZSIsInRlcm1pbmFsUHJpb3JpdHkiLCJub25UbGJUcmFuc2NsdWRlRGlyZWN0aXZlIiwiaGFzVHJhbnNjbHVkZURpcmVjdGl2ZSIsImhhc1RlbXBsYXRlIiwiJGNvbXBpbGVOb2RlIiwicmVwbGFjZURpcmVjdGl2ZSIsImNoaWxkVHJhbnNjbHVkZUZuIiwiZGlkU2NhbkZvck11bHRpcGxlVHJhbnNjbHVzaW9uIiwibWlnaHRIYXZlTXVsdGlwbGVUcmFuc2NsdXNpb25FcnJvciIsIiQkc3RhcnQiLCIkJGVuZCIsImFzc2VydE5vRHVwbGljYXRlIiwiJCR0bGIiLCJjYW5kaWRhdGVEaXJlY3RpdmUiLCJzY2FubmluZ0luZGV4IiwiJCRjcmVhdGVDb21tZW50IiwicmVwbGFjZVdpdGgiLCIkJHBhcmVudE5vZGUiLCJzbG90cyIsInNsb3RNYXAiLCJmaWxsZWRTbG90cyIsImVsZW1lbnRTZWxlY3RvciIsImNvbnRlbnRzIiwiZmlsbGVkIiwiJCRuZXdTY29wZSIsImRlbm9ybWFsaXplVGVtcGxhdGUiLCJyZW1vdmVDb21tZW50cyIsInRlbXBsYXRlTmFtZXNwYWNlIiwibmV3VGVtcGxhdGVBdHRycyIsInRlbXBsYXRlRGlyZWN0aXZlcyIsInVucHJvY2Vzc2VkRGlyZWN0aXZlcyIsIm1hcmtEaXJlY3RpdmVTY29wZSIsIm1lcmdlVGVtcGxhdGVBdHRyaWJ1dGVzIiwiY29tcGlsZVRlbXBsYXRlVXJsIiwiTWF0aCIsIm1heCIsImluaGVyaXRUeXBlIiwiZGF0YU5hbWUiLCJpbmhlcml0ZWREYXRhIiwicHJvcGVydHkiLCJjb250cm9sbGVyS2V5IiwiJHNjb3BlIiwiJHRyYW5zY2x1ZGUiLCJuZXdTY29wZSIsInREaXJlY3RpdmVzIiwic3RhcnRBdHRyTmFtZSIsImVuZEF0dHJOYW1lIiwibXVsdGlFbGVtZW50Iiwic3JjQXR0ciIsImRzdEF0dHIiLCIkc2V0IiwiYWZ0ZXJUZW1wbGF0ZU5vZGVMaW5rRm4iLCJhZnRlclRlbXBsYXRlQ2hpbGRMaW5rRm4iLCJsaW5rUXVldWUiLCJiZWZvcmVUZW1wbGF0ZUNvbXBpbGVOb2RlIiwib3JpZ0FzeW5jRGlyZWN0aXZlIiwiZGVyaXZlZFN5bmNEaXJlY3RpdmUiLCJjb250ZW50IiwidGVtcFRlbXBsYXRlQXR0cnMiLCJiZWZvcmVUZW1wbGF0ZUxpbmtOb2RlIiwibGlua1Jvb3RFbGVtZW50IiwiJCRkZXN0cm95ZWQiLCJvbGRDbGFzc2VzIiwiY2F0Y2giLCJpZ25vcmVDaGlsZExpbmtGbiIsImRpZmYiLCJ3aGF0IiwicHJldmlvdXNEaXJlY3RpdmUiLCJ3cmFwTW9kdWxlTmFtZUlmRGVmaW5lZCIsIm1vZHVsZU5hbWUiLCJ0ZXh0IiwiaW50ZXJwb2xhdGVGbiIsInRlbXBsYXRlTm9kZSIsInRlbXBsYXRlTm9kZVBhcmVudCIsImhhc0NvbXBpbGVQYXJlbnQiLCIkJGFkZEJpbmRpbmdDbGFzcyIsIiQkYWRkQmluZGluZ0luZm8iLCJleHByZXNzaW9ucyIsImdldFRydXN0ZWRDb250ZXh0IiwiYXR0ck5vcm1hbGl6ZWROYW1lIiwiSFRNTCIsIlJFU09VUkNFX1VSTCIsInRydXN0ZWRDb250ZXh0IiwibXVzdEhhdmVFeHByZXNzaW9uIiwiYWxsT3JOb3RoaW5nIiwiJCRvYnNlcnZlcnMiLCJuZXdWYWx1ZSIsIiQkaW50ZXIiLCIkJHNjb3BlIiwib2xkVmFsdWUiLCIkdXBkYXRlQ2xhc3MiLCJlbGVtZW50c1RvUmVtb3ZlIiwibmV3Tm9kZSIsImZpcnN0RWxlbWVudFRvUmVtb3ZlIiwicmVtb3ZlQ291bnQiLCJqMiIsImhhc0RhdGEiLCJhbm5vdGF0aW9uIiwicmVjb3JkQ2hhbmdlcyIsImN1cnJlbnRWYWx1ZSIsInByZXZpb3VzVmFsdWUiLCIkJHBvc3REaWdlc3QiLCJjaGFuZ2VzIiwidHJpZ2dlck9uQ2hhbmdlc0hvb2siLCJTaW1wbGVDaGFuZ2UiLCJyZW1vdmVXYXRjaENvbGxlY3Rpb24iLCJsYXN0VmFsdWUiLCJwYXJlbnRHZXQiLCJwYXJlbnRTZXQiLCJjb21wYXJlIiwicmVtb3ZlV2F0Y2giLCIkb2JzZXJ2ZSIsIl9VTklOSVRJQUxJWkVEX1ZBTFVFIiwibGl0ZXJhbCIsImFzc2lnbiIsInBhcmVudFZhbHVlV2F0Y2giLCJwYXJlbnRWYWx1ZSIsIiRzdGF0ZWZ1bCIsIiR3YXRjaENvbGxlY3Rpb24iLCJkZWVwV2F0Y2giLCJpbml0aWFsVmFsdWUiLCJTSU1QTEVfQVRUUl9OQU1FIiwiJG5vcm1hbGl6ZSIsIiRhZGRDbGFzcyIsImNsYXNzVmFsIiwiJHJlbW92ZUNsYXNzIiwibmV3Q2xhc3NlcyIsInRvQWRkIiwidG9rZW5EaWZmZXJlbmNlIiwidG9SZW1vdmUiLCJ3cml0ZUF0dHIiLCJib29sZWFuS2V5IiwiYWxpYXNlZEtleSIsIm9ic2VydmVyIiwidHJpbW1lZFNyY3NldCIsInBhdHRlcm4iLCJyYXdVcmlzIiwibmJyVXJpc1dpdGgycGFydHMiLCJmbG9vciIsImlubmVySWR4IiwibGFzdFR1cGxlIiwicmVtb3ZlQXR0ciIsImxpc3RlbmVycyIsInN0YXJ0U3ltYm9sIiwiZW5kU3ltYm9sIiwiYmluZGluZyIsImlzb2xhdGVkIiwibm9UZW1wbGF0ZSIsImNvbW1lbnQiLCJjcmVhdGVDb21tZW50IiwicHJldmlvdXMiLCJjdXJyZW50IiwiU1BFQ0lBTF9DSEFSU19SRUdFWFAiLCJzdHIxIiwic3RyMiIsInZhbHVlcyIsInRva2VuczEiLCJ0b2tlbnMyIiwib3V0ZXIiLCJqcU5vZGVzIiwiaWRlbnQiLCJDTlRSTF9SRUciLCIkQ29udHJvbGxlclByb3ZpZGVyIiwiZ2xvYmFscyIsImFsbG93R2xvYmFscyIsImFkZElkZW50aWZpZXIiLCJpZGVudGlmaWVyIiwiZXhwcmVzc2lvbiIsImxhdGVyIiwiJGNvbnRyb2xsZXJNaW5FcnIiLCJjb250cm9sbGVyUHJvdG90eXBlIiwiJERvY3VtZW50UHJvdmlkZXIiLCIkJElzRG9jdW1lbnRIaWRkZW5Qcm92aWRlciIsImNoYW5nZUxpc3RlbmVyIiwiaGlkZGVuIiwiZG9jIiwiJEV4Y2VwdGlvbkhhbmRsZXJQcm92aWRlciIsImV4Y2VwdGlvbiIsImNhdXNlIiwic2VyaWFsaXplVmFsdWUiLCJ2IiwidG9JU09TdHJpbmciLCIkSHR0cFBhcmFtU2VyaWFsaXplclByb3ZpZGVyIiwicGFyYW1zIiwiJEh0dHBQYXJhbVNlcmlhbGl6ZXJKUUxpa2VQcm92aWRlciIsInNlcmlhbGl6ZSIsInRvU2VyaWFsaXplIiwidG9wTGV2ZWwiLCJkZWZhdWx0SHR0cFJlc3BvbnNlVHJhbnNmb3JtIiwidGVtcERhdGEiLCJKU09OX1BST1RFQ1RJT05fUFJFRklYIiwiY29udGVudFR5cGUiLCJBUFBMSUNBVElPTl9KU09OIiwiaXNKc29uTGlrZSIsIiRodHRwTWluRXJyIiwianNvblN0YXJ0IiwiSlNPTl9TVEFSVCIsIkpTT05fRU5EUyIsInBhcnNlSGVhZGVycyIsImZpbGxJblBhcnNlZCIsImxpbmUiLCJoZWFkZXJWYWwiLCJoZWFkZXJLZXkiLCJoZWFkZXJzR2V0dGVyIiwiaGVhZGVyc09iaiIsInRyYW5zZm9ybURhdGEiLCJzdGF0dXMiLCJmbnMiLCJpc1N1Y2Nlc3MiLCIkSHR0cFByb3ZpZGVyIiwiZGVmYXVsdHMiLCJ0cmFuc2Zvcm1SZXNwb25zZSIsInRyYW5zZm9ybVJlcXVlc3QiLCJkIiwiY29tbW9uIiwiQWNjZXB0IiwiQ09OVEVOVF9UWVBFX0FQUExJQ0FUSU9OX0pTT04iLCJwYXRjaCIsInhzcmZDb29raWVOYW1lIiwieHNyZkhlYWRlck5hbWUiLCJwYXJhbVNlcmlhbGl6ZXIiLCJqc29ucENhbGxiYWNrUGFyYW0iLCJ1c2VBcHBseUFzeW5jIiwiaW50ZXJjZXB0b3JGYWN0b3JpZXMiLCIkYnJvd3NlciIsIiRodHRwQmFja2VuZCIsIiQkY29va2llUmVhZGVyIiwiJHEiLCIkaHR0cCIsInJlcXVlc3RDb25maWciLCJjaGFpbkludGVyY2VwdG9ycyIsInByb21pc2UiLCJ0aGVuRm4iLCJyZWplY3RGbiIsImV4ZWN1dGVIZWFkZXJGbnMiLCJoZWFkZXJDb250ZW50IiwicHJvY2Vzc2VkSGVhZGVycyIsImhlYWRlckZuIiwiaGVhZGVyIiwic2VydmVyUmVxdWVzdCIsInJlcURhdGEiLCJ3aXRoQ3JlZGVudGlhbHMiLCJzZW5kUmVxIiwicmVzcCIsInJlamVjdCIsImRlZkhlYWRlck5hbWUiLCJsb3dlcmNhc2VEZWZIZWFkZXJOYW1lIiwicmVxSGVhZGVyTmFtZSIsImRlZkhlYWRlcnMiLCJyZXFIZWFkZXJzIiwiZGVmYXVsdEhlYWRlcnNJdGVyYXRpb24iLCJ1cHBlcmNhc2UiLCJyZXF1ZXN0SW50ZXJjZXB0b3JzIiwicmVzcG9uc2VJbnRlcmNlcHRvcnMiLCJyZXNvbHZlIiwicmV2ZXJzZWRJbnRlcmNlcHRvcnMiLCJpbnRlcmNlcHRvciIsInJlcXVlc3RFcnJvciIsInJlc3BvbnNlRXJyb3IiLCJmaW5hbGx5IiwiY3JlYXRlQXBwbHlIYW5kbGVycyIsImV2ZW50SGFuZGxlcnMiLCJhcHBseUhhbmRsZXJzIiwiY2FsbEV2ZW50SGFuZGxlciIsIiRhcHBseUFzeW5jIiwiJCRwaGFzZSIsImRvbmUiLCJoZWFkZXJzU3RyaW5nIiwic3RhdHVzVGV4dCIsInJlc29sdmVIdHRwUHJvbWlzZSIsInJlc29sdmVQcm9taXNlIiwiZGVmZXJyZWQiLCJyZXNvbHZlUHJvbWlzZVdpdGhSZXN1bHQiLCJyZW1vdmVQZW5kaW5nUmVxIiwicGVuZGluZ1JlcXVlc3RzIiwiY2FjaGVkUmVzcCIsImlzSnNvbnAiLCJnZXRUcnVzdGVkUmVzb3VyY2VVcmwiLCJidWlsZFVybCIsInNhbml0aXplSnNvbnBDYWxsYmFja1BhcmFtIiwiZGVmYXVsdENhY2hlIiwieHNyZlZhbHVlIiwidXJsSXNTYW1lT3JpZ2luIiwidGltZW91dCIsInJlc3BvbnNlVHlwZSIsInVwbG9hZEV2ZW50SGFuZGxlcnMiLCJzZXJpYWxpemVkUGFyYW1zIiwiaW50ZXJjZXB0b3JGYWN0b3J5IiwiJHhockZhY3RvcnlQcm92aWRlciIsIlhNTEh0dHBSZXF1ZXN0IiwiJEh0dHBCYWNrZW5kUHJvdmlkZXIiLCIkanNvbnBDYWxsYmFja3MiLCIkeGhyRmFjdG9yeSIsImNyZWF0ZUh0dHBCYWNrZW5kIiwiY3JlYXRlWGhyIiwiJGJyb3dzZXJEZWZlciIsImNhbGxiYWNrcyIsInJhd0RvY3VtZW50IiwianNvbnBSZXEiLCJjYWxsYmFja1BhdGgiLCJzY3JpcHQiLCJhc3luYyIsImJvZHkiLCJ3YXNDYWxsZWQiLCJ0aW1lb3V0UmVxdWVzdCIsImpzb25wRG9uZSIsInhociIsImFib3J0IiwiY29tcGxldGVSZXF1ZXN0IiwiY3JlYXRlQ2FsbGJhY2siLCJnZXRSZXNwb25zZSIsInJlbW92ZUNhbGxiYWNrIiwib3BlbiIsInNldFJlcXVlc3RIZWFkZXIiLCJvbmxvYWQiLCJyZXNwb25zZVRleHQiLCJ1cmxSZXNvbHZlIiwicHJvdG9jb2wiLCJnZXRBbGxSZXNwb25zZUhlYWRlcnMiLCJvbmVycm9yIiwib25hYm9ydCIsIm9udGltZW91dCIsInVwbG9hZCIsInNlbmQiLCIkSW50ZXJwb2xhdGVQcm92aWRlciIsImVzY2FwZSIsImNoIiwidW5lc2NhcGVUZXh0IiwiZXNjYXBlZFN0YXJ0UmVnZXhwIiwiZXNjYXBlZEVuZFJlZ2V4cCIsImNvbnN0YW50V2F0Y2hEZWxlZ2F0ZSIsIm9iamVjdEVxdWFsaXR5IiwiY29uc3RhbnRJbnRlcnAiLCJ1bndhdGNoIiwicGFyc2VTdHJpbmdpZnlJbnRlcmNlcHRvciIsImdldFZhbHVlIiwiJGludGVycG9sYXRlTWluRXJyIiwiaW50ZXJyIiwiZXhwIiwiJCR3YXRjaERlbGVnYXRlIiwiZW5kSW5kZXgiLCJwYXJzZUZucyIsInRleHRMZW5ndGgiLCJleHByZXNzaW9uUG9zaXRpb25zIiwic3RhcnRTeW1ib2xMZW5ndGgiLCJlbmRTeW1ib2xMZW5ndGgiLCJ0aHJvd05vY29uY2F0IiwiY29tcHV0ZSIsImdldFRydXN0ZWQiLCIkd2F0Y2hHcm91cCIsIm9sZFZhbHVlcyIsImN1cnJWYWx1ZSIsIiRJbnRlcnZhbFByb3ZpZGVyIiwiJCRxIiwiaW50ZXJ2YWwiLCJjb3VudCIsImludm9rZUFwcGx5IiwiaGFzUGFyYW1zIiwiaXRlcmF0aW9uIiwic2V0SW50ZXJ2YWwiLCJjbGVhckludGVydmFsIiwic2tpcEFwcGx5IiwiJCRpbnRlcnZhbElkIiwibm90aWZ5IiwiaW50ZXJ2YWxzIiwiZW5jb2RlUGF0aCIsInNlZ21lbnRzIiwicGFyc2VBYnNvbHV0ZVVybCIsImFic29sdXRlVXJsIiwibG9jYXRpb25PYmoiLCJwYXJzZWRVcmwiLCIkJHByb3RvY29sIiwiJCRob3N0IiwiaG9zdG5hbWUiLCIkJHBvcnQiLCJwb3J0IiwiREVGQVVMVF9QT1JUUyIsInBhcnNlQXBwVXJsIiwiRE9VQkxFX1NMQVNIX1JFR0VYIiwiJGxvY2F0aW9uTWluRXJyIiwicHJlZml4ZWQiLCIkJHBhdGgiLCJwYXRobmFtZSIsIiQkc2VhcmNoIiwic2VhcmNoIiwiJCRoYXNoIiwic3RhcnRzV2l0aCIsInN0cmlwQmFzZVVybCIsImJhc2UiLCJ0cmltRW1wdHlIYXNoIiwic3RyaXBGaWxlIiwibGFzdEluZGV4T2YiLCJzZXJ2ZXJCYXNlIiwiTG9jYXRpb25IdG1sNVVybCIsImFwcEJhc2UiLCJhcHBCYXNlTm9GaWxlIiwiYmFzZVByZWZpeCIsIiQkaHRtbDUiLCIkJHBhcnNlIiwicGF0aFVybCIsIiQkY29tcG9zZSIsIiQkdXJsIiwiJCRhYnNVcmwiLCIkJHVybFVwZGF0ZWRCeUxvY2F0aW9uIiwiJCRwYXJzZUxpbmtVcmwiLCJyZWxIcmVmIiwiYXBwVXJsIiwicHJldkFwcFVybCIsInJld3JpdHRlblVybCIsIkxvY2F0aW9uSGFzaGJhbmdVcmwiLCJoYXNoUHJlZml4Iiwid2l0aG91dEhhc2hVcmwiLCJ3aXRob3V0QmFzZVVybCIsImZpcnN0UGF0aFNlZ21lbnRNYXRjaCIsIndpbmRvd3NGaWxlUGF0aEV4cCIsIkxvY2F0aW9uSGFzaGJhbmdJbkh0bWw1VXJsIiwibG9jYXRpb25HZXR0ZXIiLCJsb2NhdGlvbkdldHRlclNldHRlciIsInByZXByb2Nlc3MiLCIkTG9jYXRpb25Qcm92aWRlciIsInJlcXVpcmVCYXNlIiwicmV3cml0ZUxpbmtzIiwic2V0QnJvd3NlclVybFdpdGhGYWxsYmFjayIsIm9sZFVybCIsIm9sZFN0YXRlIiwiJCRzdGF0ZSIsImFmdGVyTG9jYXRpb25DaGFuZ2UiLCJhYnNVcmwiLCJMb2NhdGlvbk1vZGUiLCJpbml0aWFsVXJsIiwiSUdOT1JFX1VSSV9SRUdFWFAiLCJjdHJsS2V5IiwibWV0YUtleSIsInNoaWZ0S2V5Iiwid2hpY2giLCJidXR0b24iLCJhYnNIcmVmIiwicHJldmVudERlZmF1bHQiLCJpbml0aWFsaXppbmciLCJuZXdVcmwiLCJuZXdTdGF0ZSIsIiRkaWdlc3QiLCJjdXJyZW50UmVwbGFjZSIsIiQkcmVwbGFjZSIsInVybE9yU3RhdGVDaGFuZ2VkIiwiJExvZ1Byb3ZpZGVyIiwiZGVidWciLCJkZWJ1Z0VuYWJsZWQiLCJmbGFnIiwiZm9ybWF0RXJyb3IiLCJmb3JtYXRTdGFja1RyYWNlIiwic291cmNlVVJMIiwiY29uc29sZUxvZyIsImxvZ0ZuIiwiaGFzQXBwbHkiLCJhcmcxIiwiYXJnMiIsIm5hdmlnYXRvciIsInVzZXJBZ2VudCIsIndhcm4iLCJnZXRTdHJpbmdWYWx1ZSIsImlmRGVmaW5lZCIsInBsdXNGbiIsInIiLCJpc1N0YXRlbGVzcyIsIiRmaWx0ZXIiLCJmaWx0ZXJOYW1lIiwiZmluZENvbnN0YW50QW5kV2F0Y2hFeHByZXNzaW9ucyIsImFzdCIsImFsbENvbnN0YW50cyIsImFyZ3NUb1dhdGNoIiwiaXNTdGF0ZWxlc3NGaWx0ZXIiLCJBU1QiLCJQcm9ncmFtIiwiZXhwciIsIkxpdGVyYWwiLCJ0b1dhdGNoIiwiVW5hcnlFeHByZXNzaW9uIiwiYXJndW1lbnQiLCJCaW5hcnlFeHByZXNzaW9uIiwibGVmdCIsInJpZ2h0IiwiTG9naWNhbEV4cHJlc3Npb24iLCJDb25kaXRpb25hbEV4cHJlc3Npb24iLCJhbHRlcm5hdGUiLCJjb25zZXF1ZW50IiwiSWRlbnRpZmllciIsIk1lbWJlckV4cHJlc3Npb24iLCJvYmplY3QiLCJjb21wdXRlZCIsIkNhbGxFeHByZXNzaW9uIiwiY2FsbGVlIiwiQXNzaWdubWVudEV4cHJlc3Npb24iLCJBcnJheUV4cHJlc3Npb24iLCJPYmplY3RFeHByZXNzaW9uIiwicHJvcGVydGllcyIsIlRoaXNFeHByZXNzaW9uIiwiTG9jYWxzRXhwcmVzc2lvbiIsImdldElucHV0cyIsImxhc3RFeHByZXNzaW9uIiwiaXNBc3NpZ25hYmxlIiwiYXNzaWduYWJsZUFTVCIsIk5HVmFsdWVQYXJhbWV0ZXIiLCJvcGVyYXRvciIsImlzTGl0ZXJhbCIsImlzQ29uc3RhbnQiLCJBU1RDb21waWxlciIsIkFTVEludGVycHJldGVyIiwiUGFyc2VyIiwibGV4ZXIiLCJhc3RDb21waWxlciIsImNzcCIsImdldFZhbHVlT2YiLCJvYmplY3RWYWx1ZU9mIiwiJFBhcnNlUHJvdmlkZXIiLCJpZGVudFN0YXJ0IiwiaWRlbnRDb250aW51ZSIsImxpdGVyYWxzIiwidHJ1ZSIsImZhbHNlIiwibnVsbCIsImFkZExpdGVyYWwiLCJsaXRlcmFsTmFtZSIsImxpdGVyYWxWYWx1ZSIsInNldElkZW50aWZpZXJGbnMiLCJpZGVudGlmaWVyU3RhcnQiLCJpZGVudGlmaWVyQ29udGludWUiLCJpbnRlcmNlcHRvckZuIiwicGFyc2VkRXhwcmVzc2lvbiIsIm9uZVRpbWUiLCJjYWNoZUtleSIsIkxleGVyIiwiJHBhcnNlT3B0aW9ucyIsIm9uZVRpbWVXYXRjaERlbGVnYXRlIiwiaW5wdXRzIiwiaW5wdXRzV2F0Y2hEZWxlZ2F0ZSIsImFkZEludGVyY2VwdG9yIiwiZXhwcmVzc2lvbklucHV0RGlydHlDaGVjayIsIm9sZFZhbHVlT2ZWYWx1ZSIsImNvbXBhcmVPYmplY3RJZGVudGl0eSIsInByZXR0eVByaW50RXhwcmVzc2lvbiIsImxhc3RSZXN1bHQiLCJpbnB1dEV4cHJlc3Npb25zIiwib2xkSW5wdXRWYWx1ZU9mIiwibmV3SW5wdXRWYWx1ZSIsIm9sZElucHV0VmFsdWVPZlZhbHVlcyIsIm9sZElucHV0VmFsdWVzIiwiY2hhbmdlZCIsIm9uZVRpbWVXYXRjaCIsIm9uZVRpbWVMaXN0ZW5lciIsIm9sZCIsImlzRG9uZSIsImlzQWxsRGVmaW5lZCIsImFsbERlZmluZWQiLCJyZWd1bGFySW50ZXJjZXB0ZWRFeHByZXNzaW9uIiwidXNlSW5wdXRzIiwib25lVGltZUludGVyY2VwdGVkRXhwcmVzc2lvbiIsIndhdGNoRGVsZWdhdGUiLCJub1Vuc2FmZUV2YWwiLCJpc0lkZW50aWZpZXJTdGFydCIsImlzSWRlbnRpZmllckNvbnRpbnVlIiwiJFFQcm92aWRlciIsImVycm9yT25VbmhhbmRsZWRSZWplY3Rpb25zIiwicUZhY3RvcnkiLCIkJFFQcm92aWRlciIsIm5leHRUaWNrIiwiZXhjZXB0aW9uSGFuZGxlciIsIkRlZmVycmVkIiwiUHJvbWlzZSIsInJlamVjdFByb21pc2UiLCJwcm9ncmVzcyIsIm5vdGlmeVByb21pc2UiLCJwcm9jZXNzUXVldWUiLCJwZW5kaW5nIiwicHJvY2Vzc1NjaGVkdWxlZCIsInB1ciIsInF1ZXVlU2l6ZSIsInByb2Nlc3NDaGVja3MiLCJjaGVja1F1ZXVlIiwidG9DaGVjayIsImVycm9yTWVzc2FnZSIsInNjaGVkdWxlUHJvY2Vzc1F1ZXVlIiwiJCRyZWplY3QiLCIkcU1pbkVyciIsIiQkcmVzb2x2ZSIsImRvUmVzb2x2ZSIsImRvUmVqZWN0IiwiZG9Ob3RpZnkiLCJoYW5kbGVDYWxsYmFjayIsInJlc29sdmVyIiwiY2FsbGJhY2tPdXRwdXQiLCJ3aGVuIiwiZXJyYmFjayIsInByb2dyZXNzQmFjayIsInByb21pc2VzIiwiY291bnRlciIsInJlc3VsdHMiLCJyYWNlIiwiJFEiLCJyZXNvbHZlRm4iLCJUeXBlRXJyb3IiLCJvbkZ1bGZpbGxlZCIsIm9uUmVqZWN0ZWQiLCIkJFJBRlByb3ZpZGVyIiwiJHRpbWVvdXQiLCJyZXF1ZXN0QW5pbWF0aW9uRnJhbWUiLCJ3ZWJraXRSZXF1ZXN0QW5pbWF0aW9uRnJhbWUiLCJjYW5jZWxBbmltYXRpb25GcmFtZSIsIndlYmtpdENhbmNlbEFuaW1hdGlvbkZyYW1lIiwid2Via2l0Q2FuY2VsUmVxdWVzdEFuaW1hdGlvbkZyYW1lIiwicmFmU3VwcG9ydGVkIiwicmFmIiwidGltZXIiLCJzdXBwb3J0ZWQiLCIkUm9vdFNjb3BlUHJvdmlkZXIiLCJjcmVhdGVDaGlsZFNjb3BlQ2xhc3MiLCJDaGlsZFNjb3BlIiwiJCR3YXRjaGVycyIsIiQkbmV4dFNpYmxpbmciLCIkJGNoaWxkSGVhZCIsIiQkY2hpbGRUYWlsIiwiJCRsaXN0ZW5lcnMiLCIkJGxpc3RlbmVyQ291bnQiLCIkJHdhdGNoZXJzQ291bnQiLCIkaWQiLCIkJENoaWxkU2NvcGUiLCIkcm9vdFNjb3BlTWluRXJyIiwibGFzdERpcnR5V2F0Y2giLCJhcHBseUFzeW5jSWQiLCJkaWdlc3RUdGwiLCJkZXN0cm95Q2hpbGRTY29wZSIsIiRldmVudCIsImN1cnJlbnRTY29wZSIsImNsZWFuVXBTY29wZSIsIiQkcHJldlNpYmxpbmciLCIkcm9vdCIsIlNjb3BlIiwiYmVnaW5QaGFzZSIsInBoYXNlIiwiY2xlYXJQaGFzZSIsImluY3JlbWVudFdhdGNoZXJzQ291bnQiLCJkZWNyZW1lbnRMaXN0ZW5lckNvdW50IiwiaW5pdFdhdGNoVmFsIiwiZmx1c2hBcHBseUFzeW5jIiwiYXBwbHlBc3luY1F1ZXVlIiwic2NoZWR1bGVBcHBseUFzeW5jIiwiaXNvbGF0ZSIsImNoaWxkIiwid2F0Y2hFeHAiLCJ3YXRjaGVyIiwiZXEiLCIkJGRpZ2VzdFdhdGNoSW5kZXgiLCJ3YXRjaEV4cHJlc3Npb25zIiwid2F0Y2hHcm91cEFjdGlvbiIsImNoYW5nZVJlYWN0aW9uU2NoZWR1bGVkIiwiZmlyc3RSdW4iLCJuZXdWYWx1ZXMiLCJkZXJlZ2lzdGVyRm5zIiwic2hvdWxkQ2FsbCIsInVud2F0Y2hGbiIsIiR3YXRjaENvbGxlY3Rpb25JbnRlcmNlcHRvciIsIl92YWx1ZSIsIm5ld0xlbmd0aCIsIm5ld0l0ZW0iLCJvbGRJdGVtIiwiaW50ZXJuYWxBcnJheSIsIm9sZExlbmd0aCIsImNoYW5nZURldGVjdGVkIiwiaW50ZXJuYWxPYmplY3QiLCIkd2F0Y2hDb2xsZWN0aW9uQWN0aW9uIiwiaW5pdFJ1biIsInZlcnlPbGRWYWx1ZSIsInRyYWNrVmVyeU9sZFZhbHVlIiwiY2hhbmdlRGV0ZWN0b3IiLCJ3YXRjaCIsIndhdGNoZXJzIiwiZGlydHkiLCJuZXh0IiwibG9nSWR4IiwiYXN5bmNUYXNrIiwidHRsIiwid2F0Y2hMb2ciLCJhc3luY1F1ZXVlUG9zaXRpb24iLCJhc3luY1F1ZXVlIiwidHJhdmVyc2VTY29wZXNMb29wIiwibXNnIiwicG9zdERpZ2VzdFF1ZXVlUG9zaXRpb24iLCJwb3N0RGlnZXN0UXVldWUiLCJldmVudE5hbWUiLCIkZXZhbCIsIiRhcHBseUFzeW5jRXhwcmVzc2lvbiIsIm5hbWVkTGlzdGVuZXJzIiwiaW5kZXhPZkxpc3RlbmVyIiwiJGVtaXQiLCJ0YXJnZXRTY29wZSIsImxpc3RlbmVyQXJncyIsIiQkYXN5bmNRdWV1ZSIsIiQkcG9zdERpZ2VzdFF1ZXVlIiwiJCRhcHBseUFzeW5jUXVldWUiLCIkJFNhbml0aXplVXJpUHJvdmlkZXIiLCJ1cmkiLCJpc0ltYWdlIiwibm9ybWFsaXplZFZhbCIsInJlZ2V4Iiwic25ha2VUb0NhbWVsIiwiVU5ERVJTQ09SRV9MT1dFUkNBU0VfUkVHRVhQIiwiYWRqdXN0TWF0Y2hlciIsIm1hdGNoZXIiLCIkc2NlTWluRXJyIiwiZXNjYXBlRm9yUmVnZXhwIiwiYWRqdXN0TWF0Y2hlcnMiLCJtYXRjaGVycyIsImFkanVzdGVkTWF0Y2hlcnMiLCIkU2NlRGVsZWdhdGVQcm92aWRlciIsIlNDRV9DT05URVhUUyIsInJlc291cmNlVXJsV2hpdGVsaXN0IiwicmVzb3VyY2VVcmxCbGFja2xpc3QiLCJtYXRjaFVybCIsImlzUmVzb3VyY2VVcmxBbGxvd2VkQnlQb2xpY3kiLCJhbGxvd2VkIiwiZ2VuZXJhdGVIb2xkZXJUeXBlIiwiQmFzZSIsImhvbGRlclR5cGUiLCJ0cnVzdGVkVmFsdWUiLCIkJHVud3JhcFRydXN0ZWRWYWx1ZSIsInRydXN0QXMiLCJDb25zdHJ1Y3RvciIsImJ5VHlwZSIsIm1heWJlVHJ1c3RlZCIsInRydXN0ZWRWYWx1ZUhvbGRlckJhc2UiLCJodG1sU2FuaXRpemVyIiwiQ1NTIiwiVVJMIiwiSlMiLCIkU2NlUHJvdmlkZXIiLCIkc2NlRGVsZWdhdGUiLCJzY2UiLCJpc0VuYWJsZWQiLCJwYXJzZUFzIiwiZW51bVZhbHVlIiwibE5hbWUiLCIkU25pZmZlclByb3ZpZGVyIiwiZXZlbnRTdXBwb3J0IiwiaXNOdyIsIm53IiwicHJvY2VzcyIsImlzQ2hyb21lUGFja2FnZWRBcHAiLCJjaHJvbWUiLCJhcHAiLCJydW50aW1lIiwiaGFzSGlzdG9yeVB1c2hTdGF0ZSIsInB1c2hTdGF0ZSIsImFuZHJvaWQiLCJib3hlZSIsImJvZHlTdHlsZSIsInRyYW5zaXRpb25zIiwiYW5pbWF0aW9ucyIsImhhc0V2ZW50IiwiZGl2RWxtIiwiJFRlbXBsYXRlUmVxdWVzdFByb3ZpZGVyIiwiaHR0cE9wdGlvbnMiLCIkdGVtcGxhdGVDYWNoZSIsImhhbmRsZVJlcXVlc3RGbiIsInRwbCIsImlnbm9yZVJlcXVlc3RFcnJvciIsImhhbmRsZUVycm9yIiwiJHRlbXBsYXRlUmVxdWVzdE1pbkVyciIsInRvdGFsUGVuZGluZ1JlcXVlc3RzIiwidHJhbnNmb3JtZXIiLCIkJFRlc3RhYmlsaXR5UHJvdmlkZXIiLCJ0ZXN0YWJpbGl0eSIsImZpbmRCaW5kaW5ncyIsIm9wdF9leGFjdE1hdGNoIiwiZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSIsIm1hdGNoZXMiLCJkYXRhQmluZGluZyIsImJpbmRpbmdOYW1lIiwiZmluZE1vZGVscyIsInByZWZpeGVzIiwiYXR0cmlidXRlRXF1YWxzIiwiZ2V0TG9jYXRpb24iLCJzZXRMb2NhdGlvbiIsIndoZW5TdGFibGUiLCIkVGltZW91dFByb3ZpZGVyIiwiZGVmZXJyZWRzIiwiJCR0aW1lb3V0SWQiLCJ1cmxQYXJzaW5nTm9kZSIsInJlcXVlc3RVcmwiLCJvcmlnaW5VcmwiLCIkV2luZG93UHJvdmlkZXIiLCIkJENvb2tpZVJlYWRlciIsInNhZmVHZXRDb29raWUiLCJjb29raWUiLCJzYWZlRGVjb2RlVVJJQ29tcG9uZW50IiwibGFzdENvb2tpZXMiLCJsYXN0Q29va2llU3RyaW5nIiwiY29va2llQXJyYXkiLCJjdXJyZW50Q29va2llU3RyaW5nIiwiJCRDb29raWVSZWFkZXJQcm92aWRlciIsIiRGaWx0ZXJQcm92aWRlciIsImZpbHRlcnMiLCJzdWZmaXgiLCJjdXJyZW5jeUZpbHRlciIsImRhdGVGaWx0ZXIiLCJmaWx0ZXJGaWx0ZXIiLCJqc29uRmlsdGVyIiwibGltaXRUb0ZpbHRlciIsImxvd2VyY2FzZUZpbHRlciIsIm51bWJlckZpbHRlciIsIm9yZGVyQnlGaWx0ZXIiLCJ1cHBlcmNhc2VGaWx0ZXIiLCJjb21wYXJhdG9yIiwiYW55UHJvcGVydHlLZXkiLCJwcmVkaWNhdGVGbiIsIm1hdGNoQWdhaW5zdEFueVByb3AiLCJleHByZXNzaW9uVHlwZSIsImdldFR5cGVGb3JGaWx0ZXIiLCJjcmVhdGVQcmVkaWNhdGVGbiIsInNob3VsZE1hdGNoUHJpbWl0aXZlcyIsImFjdHVhbCIsImV4cGVjdGVkIiwiZGVlcENvbXBhcmUiLCJkb250TWF0Y2hXaG9sZU9iamVjdCIsImFjdHVhbFR5cGUiLCJleHBlY3RlZFR5cGUiLCJleHBlY3RlZFZhbCIsIm1hdGNoQW55UHJvcGVydHkiLCIkbG9jYWxlIiwiZm9ybWF0cyIsIk5VTUJFUl9GT1JNQVRTIiwiYW1vdW50IiwiY3VycmVuY3lTeW1ib2wiLCJmcmFjdGlvblNpemUiLCJDVVJSRU5DWV9TWU0iLCJQQVRURVJOUyIsIm1heEZyYWMiLCJmb3JtYXROdW1iZXIiLCJHUk9VUF9TRVAiLCJERUNJTUFMX1NFUCIsIm51bWJlciIsIm51bVN0ciIsImRpZ2l0cyIsIm51bWJlck9mSW50ZWdlckRpZ2l0cyIsInplcm9zIiwiZXhwb25lbnQiLCJaRVJPX0NIQVIiLCJNQVhfRElHSVRTIiwicm91bmROdW1iZXIiLCJwYXJzZWROdW1iZXIiLCJtaW5GcmFjIiwiZnJhY3Rpb25MZW4iLCJtaW4iLCJyb3VuZEF0IiwiZGlnaXQiLCJrIiwiY2FycnkiLCJyZWR1Y2VSaWdodCIsImdyb3VwU2VwIiwiZGVjaW1hbFNlcCIsImlzTmFOIiwiaXNJbmZpbml0eSIsImlzRmluaXRlIiwiaXNaZXJvIiwiYWJzIiwiZm9ybWF0dGVkVGV4dCIsImludGVnZXJMZW4iLCJkZWNpbWFscyIsInJlZHVjZSIsImdyb3VwcyIsImxnU2l6ZSIsImdTaXplIiwibmVnUHJlIiwibmVnU3VmIiwicG9zUHJlIiwicG9zU3VmIiwicGFkTnVtYmVyIiwibnVtIiwibmVnV3JhcCIsIm5lZyIsImRhdGVHZXR0ZXIiLCJkYXRlU3RyR2V0dGVyIiwic2hvcnRGb3JtIiwic3RhbmRBbG9uZSIsInRpbWVab25lR2V0dGVyIiwiem9uZSIsInBhZGRlZFpvbmUiLCJnZXRGaXJzdFRodXJzZGF5T2ZZZWFyIiwieWVhciIsImRheU9mV2Vla09uRmlyc3QiLCJnZXREYXkiLCJnZXRUaHVyc2RheVRoaXNXZWVrIiwiZGF0ZXRpbWUiLCJnZXRGdWxsWWVhciIsImdldE1vbnRoIiwiZ2V0RGF0ZSIsIndlZWtHZXR0ZXIiLCJmaXJzdFRodXJzIiwidGhpc1RodXJzIiwicm91bmQiLCJhbXBtR2V0dGVyIiwiZ2V0SG91cnMiLCJBTVBNUyIsImVyYUdldHRlciIsIkVSQVMiLCJsb25nRXJhR2V0dGVyIiwiRVJBTkFNRVMiLCJqc29uU3RyaW5nVG9EYXRlIiwic3RyaW5nIiwiUl9JU084NjAxX1NUUiIsInR6SG91ciIsInR6TWluIiwiZGF0ZVNldHRlciIsInNldFVUQ0Z1bGxZZWFyIiwic2V0RnVsbFllYXIiLCJ0aW1lU2V0dGVyIiwic2V0VVRDSG91cnMiLCJzZXRIb3VycyIsIm0iLCJzIiwibXMiLCJwYXJzZUZsb2F0IiwiZm9ybWF0IiwiREFURVRJTUVfRk9STUFUUyIsIk5VTUJFUl9TVFJJTkciLCJEQVRFX0ZPUk1BVFNfU1BMSVQiLCJEQVRFX0ZPUk1BVFMiLCJzcGFjaW5nIiwiaW5wdXQiLCJsaW1pdCIsImJlZ2luIiwiSW5maW5pdHkiLCJzbGljZUZuIiwiZW5kIiwicHJvY2Vzc1ByZWRpY2F0ZXMiLCJzb3J0UHJlZGljYXRlcyIsInByZWRpY2F0ZSIsImRlc2NlbmRpbmciLCJvYmplY3RWYWx1ZSIsImdldFByZWRpY2F0ZVZhbHVlIiwiZGVmYXVsdENvbXBhcmUiLCJ2MSIsInYyIiwidHlwZTEiLCJ0eXBlMiIsInZhbHVlMSIsInZhbHVlMiIsInNvcnRQcmVkaWNhdGUiLCJyZXZlcnNlT3JkZXIiLCJjb21wYXJlRm4iLCJnZXRDb21wYXJpc29uT2JqZWN0IiwidGllQnJlYWtlciIsInByZWRpY2F0ZVZhbHVlcyIsInByZWRpY2F0ZXMiLCJkb0NvbXBhcmlzb24iLCJjb21wYXJlVmFsdWVzIiwibmdEaXJlY3RpdmUiLCJudWxsRm9ybVJlbmFtZUNvbnRyb2wiLCJjb250cm9sIiwiJG5hbWUiLCJGb3JtQ29udHJvbGxlciIsIiQkY29udHJvbHMiLCIkZXJyb3IiLCIkJHN1Y2Nlc3MiLCIkcGVuZGluZyIsIm5nRm9ybSIsIiRkaXJ0eSIsIiRwcmlzdGluZSIsIiR2YWxpZCIsIiRpbnZhbGlkIiwiJHN1Ym1pdHRlZCIsIiQkcGFyZW50Rm9ybSIsIm51bGxGb3JtQ3RybCIsIiQkYW5pbWF0ZSIsInNldHVwVmFsaWRpdHkiLCIkJGNsYXNzQ2FjaGUiLCJJTlZBTElEX0NMQVNTIiwiVkFMSURfQ0xBU1MiLCJhZGRTZXRWYWxpZGl0eU1ldGhvZCIsImNyZWF0ZUFuZFNldCIsImN0cmwiLCJ1bnNldEFuZENsZWFudXAiLCJ1bnNldCIsImlzT2JqZWN0RW1wdHkiLCJjYWNoZWRUb2dnbGVDbGFzcyIsInN3aXRjaFZhbHVlIiwidG9nZ2xlVmFsaWRhdGlvbkNzcyIsInZhbGlkYXRpb25FcnJvcktleSIsImlzVmFsaWQiLCJjbGF6eiIsIiRzZXRWYWxpZGl0eSIsIlBFTkRJTkdfQ0xBU1MiLCJjb21iaW5lZFN0YXRlIiwic3RyaW5nQmFzZWRJbnB1dFR5cGUiLCIkZm9ybWF0dGVycyIsIiRpc0VtcHR5IiwidGV4dElucHV0VHlwZSIsImJhc2VJbnB1dFR5cGUiLCJjb21wb3NpbmciLCJldiIsIm5nVHJpbSIsIiR2aWV3VmFsdWUiLCIkJGhhc05hdGl2ZVZhbGlkYXRvcnMiLCIkc2V0Vmlld1ZhbHVlIiwiZGVmZXJMaXN0ZW5lciIsIm9yaWdWYWx1ZSIsImtleUNvZGUiLCJQQVJUSUFMX1ZBTElEQVRJT05fVFlQRVMiLCJQQVJUSUFMX1ZBTElEQVRJT05fRVZFTlRTIiwidmFsaWRpdHkiLCJWQUxJRElUWV9TVEFURV9QUk9QRVJUWSIsIm9yaWdCYWRJbnB1dCIsImJhZElucHV0Iiwib3JpZ1R5cGVNaXNtYXRjaCIsInR5cGVNaXNtYXRjaCIsIiRyZW5kZXIiLCJ3ZWVrUGFyc2VyIiwiaXNvV2VlayIsImV4aXN0aW5nRGF0ZSIsIldFRUtfUkVHRVhQIiwid2VlayIsImhvdXJzIiwic2Vjb25kcyIsIm1pbGxpc2Vjb25kcyIsImFkZERheXMiLCJnZXRTZWNvbmRzIiwiZ2V0TWlsbGlzZWNvbmRzIiwiY3JlYXRlRGF0ZVBhcnNlciIsIm1hcHBpbmciLCJpc28iLCJJU09fREFURV9SRUdFWFAiLCJ5eXl5IiwiTU0iLCJkZCIsIkhIIiwibW0iLCJzcyIsInNzcyIsInBhcnQiLCJjcmVhdGVEYXRlSW5wdXRUeXBlIiwicGFyc2VEYXRlIiwiaXNWYWxpZERhdGUiLCJwYXJzZU9ic2VydmVkRGF0ZVZhbHVlIiwiYmFkSW5wdXRDaGVja2VyIiwicHJldmlvdXNEYXRlIiwiJG9wdGlvbnMiLCJnZXRPcHRpb24iLCIkJHBhcnNlck5hbWUiLCIkcGFyc2VycyIsInBhcnNlZERhdGUiLCJuZ01vZGVsTWluRXJyIiwibmdNaW4iLCJtaW5WYWwiLCIkdmFsaWRhdG9ycyIsIiR2YWxpZGF0ZSIsIm5nTWF4IiwibWF4VmFsIiwibnVtYmVyRm9ybWF0dGVyUGFyc2VyIiwiTlVNQkVSX1JFR0VYUCIsInBhcnNlTnVtYmVyQXR0clZhbCIsImlzTnVtYmVySW50ZWdlciIsImNvdW50RGVjaW1hbHMiLCJudW1TdHJpbmciLCJkZWNpbWFsU3ltYm9sSW5kZXgiLCJpc1ZhbGlkRm9yU3RlcCIsInZpZXdWYWx1ZSIsInN0ZXBCYXNlIiwic3RlcCIsImlzTm9uSW50ZWdlclZhbHVlIiwiaXNOb25JbnRlZ2VyU3RlcEJhc2UiLCJpc05vbkludGVnZXJTdGVwIiwidmFsdWVEZWNpbWFscyIsInN0ZXBCYXNlRGVjaW1hbHMiLCJzdGVwRGVjaW1hbHMiLCJkZWNpbWFsQ291bnQiLCJtdWx0aXBsaWVyIiwicG93IiwibnVtYmVySW5wdXRUeXBlIiwibmdTdGVwIiwic3RlcFZhbCIsIm1vZGVsVmFsdWUiLCJyYW5nZUlucHV0VHlwZSIsInNldEluaXRpYWxWYWx1ZUFuZE9ic2VydmVyIiwiaHRtbEF0dHJOYW1lIiwiY2hhbmdlRm4iLCJtaW5DaGFuZ2UiLCIkbW9kZWxWYWx1ZSIsInN1cHBvcnRzUmFuZ2UiLCJlbFZhbCIsIm1heENoYW5nZSIsInN0ZXBDaGFuZ2UiLCJoYXNNaW5BdHRyIiwiaGFzTWF4QXR0ciIsImhhc1N0ZXBBdHRyIiwib3JpZ2luYWxSZW5kZXIiLCJyYW5nZVVuZGVyZmxvdyIsInJhbmdlT3ZlcmZsb3ciLCJzdGVwTWlzbWF0Y2giLCJ1cmxJbnB1dFR5cGUiLCJVUkxfUkVHRVhQIiwiZW1haWxJbnB1dFR5cGUiLCJlbWFpbCIsIkVNQUlMX1JFR0VYUCIsInJhZGlvSW5wdXRUeXBlIiwiZG9UcmltIiwiY2hlY2tlZCIsInBhcnNlQ29uc3RhbnRFeHByIiwicGFyc2VGbiIsImNoZWNrYm94SW5wdXRUeXBlIiwidHJ1ZVZhbHVlIiwibmdUcnVlVmFsdWUiLCJmYWxzZVZhbHVlIiwibmdGYWxzZVZhbHVlIiwiY2xhc3NEaXJlY3RpdmUiLCJhcnJheURpZmZlcmVuY2UiLCJjbGFzc1N0cmluZyIsInRvQ2xhc3NTdHJpbmciLCJjbGFzc1ZhbHVlIiwiaW5kZXhXYXRjaEV4cHJlc3Npb24iLCJhZGRDbGFzc2VzIiwiZGlnZXN0Q2xhc3NDb3VudHMiLCJyZW1vdmVDbGFzc2VzIiwidXBkYXRlQ2xhc3NlcyIsIm9sZENsYXNzU3RyaW5nIiwibmV3Q2xhc3NTdHJpbmciLCJvbGRDbGFzc0FycmF5IiwibmV3Q2xhc3NBcnJheSIsInRvUmVtb3ZlQXJyYXkiLCJ0b0FkZEFycmF5IiwidG9SZW1vdmVTdHJpbmciLCJ0b0FkZFN0cmluZyIsImNsYXNzQXJyYXkiLCJjbGFzc2VzVG9VcGRhdGUiLCJjbGFzc0NvdW50cyIsIm5nQ2xhc3NJbmRleFdhdGNoQWN0aW9uIiwibmV3TW9kdWxvIiwib2xkTW9kdWxvIiwibmdDbGFzc1dhdGNoQWN0aW9uIiwiJGluZGV4IiwiTmdNb2RlbENvbnRyb2xsZXIiLCIkJHJhd01vZGVsVmFsdWUiLCIkYXN5bmNWYWxpZGF0b3JzIiwiJHZpZXdDaGFuZ2VMaXN0ZW5lcnMiLCIkdW50b3VjaGVkIiwiJHRvdWNoZWQiLCJkZWZhdWx0TW9kZWxPcHRpb25zIiwiJCRwYXJzZWROZ01vZGVsIiwibmdNb2RlbCIsIiQkcGFyc2VkTmdNb2RlbEFzc2lnbiIsIiQkbmdNb2RlbEdldCIsIiQkbmdNb2RlbFNldCIsIiQkcGVuZGluZ0RlYm91bmNlIiwiJCRwYXJzZXJWYWxpZCIsIiQkY3VycmVudFZhbGlkYXRpb25SdW5JZCIsImRlZmluZVByb3BlcnR5IiwiJCRhdHRyIiwiJCR0aW1lb3V0IiwiJCRleGNlcHRpb25IYW5kbGVyIiwic2V0dXBNb2RlbFdhdGNoZXIiLCJmb3JtYXR0ZXJzIiwiJCR1cGRhdGVFbXB0eUNsYXNzZXMiLCIkJGxhc3RDb21taXR0ZWRWaWV3VmFsdWUiLCIkJHJ1blZhbGlkYXRvcnMiLCJNb2RlbE9wdGlvbnMiLCIkJG9wdGlvbnMiLCJzZXRPcHRpb25TZWxlY3RlZFN0YXR1cyIsIm9wdGlvbkVsIiwibWFudWFsTG93ZXJjYXNlIiwiU3RyaW5nIiwiZnJvbUNoYXJDb2RlIiwiY2hhckNvZGVBdCIsIm1hbnVhbFVwcGVyY2FzZSIsImpRdWVyeSIsImRvY3VtZW50TW9kZSIsInJ1bGVzIiwibmdDc3BFbGVtZW50IiwibmdDc3BBdHRyaWJ1dGUiLCJub0lubGluZVN0eWxlIiwianEiLCJuYW1lXyIsImVsIiwiY3VycmVudFNjcmlwdCIsIkhUTUxTY3JpcHRFbGVtZW50IiwiU1ZHU2NyaXB0RWxlbWVudCIsImdldE5hbWVkSXRlbSIsImV2ZXJ5Iiwib3JpZ2luIiwiYmluZEpRdWVyeUZpcmVkIiwidmVyc2lvbiIsImZ1bGwiLCJtYWpvciIsIm1pbm9yIiwiZG90IiwiY29kZU5hbWUiLCJleHBhbmRvIiwiX2RhdGEiLCJtb3VzZWxlYXZlIiwibW91c2VlbnRlciIsIm9wdGlvbiIsInRoZWFkIiwiY29sIiwidHIiLCJ0ZCIsIm9wdGdyb3VwIiwidGJvZHkiLCJ0Zm9vdCIsImNvbGdyb3VwIiwiY2FwdGlvbiIsInRoIiwiTm9kZSIsImNvbnRhaW5zIiwiY29tcGFyZURvY3VtZW50UG9zaXRpb24iLCJyZWFkeSIsIm5nTWlubGVuZ3RoIiwibmdNYXhsZW5ndGgiLCJuZ1BhdHRlcm4iLCJyZW1vdmVEYXRhIiwicmVtb3ZlQXR0cmlidXRlIiwiY3NzIiwicmV0IiwibG93ZXJjYXNlZE5hbWUiLCJpc0Jvb2xlYW5BdHRyIiwiZ2V0VGV4dCIsIiRkdiIsIm11bHRpcGxlIiwic2VsZWN0ZWQiLCJub2RlQ291bnQiLCJ0eXBlcyIsImFkZEhhbmRsZXIiLCJub0V2ZW50TGlzdGVuZXIiLCJvbmUiLCJvbkZuIiwicmVwbGFjZU5vZGUiLCJpbnNlcnRCZWZvcmUiLCJjaGlsZHJlbiIsImNvbnRlbnREb2N1bWVudCIsInByZXBlbmQiLCJ3cmFwTm9kZSIsImRldGFjaCIsImFmdGVyIiwibmV3RWxlbWVudCIsInRvZ2dsZUNsYXNzIiwiY29uZGl0aW9uIiwiY2xhc3NDb25kaXRpb24iLCJuZXh0RWxlbWVudFNpYmxpbmciLCJnZXRFbGVtZW50c0J5VGFnTmFtZSIsInRyaWdnZXJIYW5kbGVyIiwiZXh0cmFQYXJhbWV0ZXJzIiwiZHVtbXlFdmVudCIsImV2ZW50Rm5zQ29weSIsImhhbmRsZXJBcmdzIiwiYXJnMyIsInVuYmluZCIsIm5hbktleSIsIl9pZHgiLCJfdHJhbnNmb3JtS2V5IiwiZGVsZXRlIiwiJCRNYXBQcm92aWRlciIsIiRhbmltYXRlTWluRXJyIiwiJCRDb3JlQW5pbWF0ZUpzUHJvdmlkZXIiLCIkJENvcmVBbmltYXRlUXVldWVQcm92aWRlciIsInBvc3REaWdlc3RFbGVtZW50cyIsIiQkQW5pbWF0ZVJ1bm5lciIsInVwZGF0ZURhdGEiLCJoYW5kbGVDU1NDbGFzc0NoYW5nZXMiLCJleGlzdGluZyIsImFkZFJlbW92ZUNsYXNzZXNQb3N0RGlnZXN0IiwiYWRkIiwiY2xhc3Nlc0FkZGVkIiwiY2xhc3Nlc1JlbW92ZWQiLCJwaW4iLCJkb21PcGVyYXRpb24iLCJmcm9tIiwidG8iLCJydW5uZXIiLCJjb21wbGV0ZSIsIiRBbmltYXRlUHJvdmlkZXIiLCJjbGFzc05hbWVGaWx0ZXIiLCIkJHJlZ2lzdGVyZWRBbmltYXRpb25zIiwiJCRhbmltYXRlUXVldWUiLCJkb21JbnNlcnQiLCJhZnRlckVsZW1lbnQiLCJhZnRlck5vZGUiLCJwcmV2aW91c0VsZW1lbnRTaWJsaW5nIiwiZW50ZXIiLCJtb3ZlIiwibGVhdmUiLCJhZGRjbGFzcyIsInNldENsYXNzIiwiYW5pbWF0ZSIsInRlbXBDbGFzc2VzIiwiJCRBbmltYXRlQXN5bmNSdW5GYWN0b3J5UHJvdmlkZXIiLCIkJHJBRiIsIndhaXRGb3JUaWNrIiwid2FpdFF1ZXVlIiwicGFzc2VkIiwiJCRBbmltYXRlUnVubmVyRmFjdG9yeVByb3ZpZGVyIiwiJCRhbmltYXRlQXN5bmNSdW4iLCIkJGlzRG9jdW1lbnRIaWRkZW4iLCJBbmltYXRlUnVubmVyIiwic2V0SG9zdCIsInJhZlRpY2siLCJ0aW1lb3V0VGljayIsIl9kb25lQ2FsbGJhY2tzIiwiX3RpY2siLCJfc3RhdGUiLCJjaGFpbiIsInJ1bm5lcnMiLCJvblByb2dyZXNzIiwiZ2V0UHJvbWlzZSIsInJlc29sdmVIYW5kbGVyIiwicmVqZWN0SGFuZGxlciIsInBhdXNlIiwicmVzdW1lIiwiX3Jlc29sdmUiLCIkQ29yZUFuaW1hdGVDc3NQcm92aWRlciIsImluaXRpYWxPcHRpb25zIiwiYXBwbHlBbmltYXRpb25Db250ZW50cyIsImNsb3NlZCIsIiQkcHJlcGFyZWQiLCJjbGVhbnVwU3R5bGVzIiwic3RhcnQiLCJpc0ZpcnN0Q2hhbmdlIiwiJCRGb3JjZVJlZmxvd1Byb3ZpZGVyIiwiZG9tTm9kZSIsIm9mZnNldFdpZHRoIiwiQ29udGVudC1UeXBlIiwiWyIsInsiLCIkanNvbnBDYWxsYmFja3NQcm92aWRlciIsImNhbGxiYWNrSWQiLCJjYWxsZWQiLCJjYWxsYmFja01hcCIsIiQkY291bnRlciIsIlBBVEhfTUFUQ0giLCJodHRwIiwiaHR0cHMiLCJmdHAiLCJsb2NhdGlvblByb3RvdHlwZSIsInBhcmFtVmFsdWUiLCJMb2NhdGlvbiIsIiRwYXJzZU1pbkVyciIsIk9QRVJBVE9SUyIsIkVTQ0FQRSIsImYiLCJ0IiwiJyIsIlwiIiwibGV4IiwidG9rZW5zIiwicmVhZFN0cmluZyIsInBlZWsiLCJyZWFkTnVtYmVyIiwicGVla011bHRpY2hhciIsInJlYWRJZGVudCIsImlzIiwiaXNXaGl0ZXNwYWNlIiwiY2gyIiwiY2gzIiwib3AxIiwib3AyIiwib3AzIiwidGhyb3dFcnJvciIsImNoYXJzIiwiY29kZVBvaW50QXQiLCJpc1ZhbGlkSWRlbnRpZmllclN0YXJ0IiwiaXNWYWxpZElkZW50aWZpZXJDb250aW51ZSIsImNwIiwiY3AxIiwiY3AyIiwiaXNFeHBPcGVyYXRvciIsImNvbFN0ciIsInBlZWtDaCIsInF1b3RlIiwicmF3U3RyaW5nIiwiaGV4IiwiRXhwcmVzc2lvblN0YXRlbWVudCIsIlByb3BlcnR5IiwicHJvZ3JhbSIsImV4cHJlc3Npb25TdGF0ZW1lbnQiLCJleHBlY3QiLCJmaWx0ZXJDaGFpbiIsImFzc2lnbm1lbnQiLCJ0ZXJuYXJ5IiwibG9naWNhbE9SIiwiY29uc3VtZSIsImxvZ2ljYWxBTkQiLCJlcXVhbGl0eSIsInJlbGF0aW9uYWwiLCJhZGRpdGl2ZSIsIm11bHRpcGxpY2F0aXZlIiwidW5hcnkiLCJwcmltYXJ5IiwiYXJyYXlEZWNsYXJhdGlvbiIsInNlbGZSZWZlcmVudGlhbCIsInBhcnNlQXJndW1lbnRzIiwiYmFzZUV4cHJlc3Npb24iLCJwZWVrVG9rZW4iLCJraW5kIiwiZTEiLCJlMiIsImUzIiwiZTQiLCJwZWVrQWhlYWQiLCIkbG9jYWxzIiwibmV4dElkIiwidmFycyIsIm93biIsImFzc2lnbmFibGUiLCJzdGFnZSIsImNvbXB1dGluZyIsInJlY3Vyc2UiLCJyZXR1cm5fIiwiZ2VuZXJhdGVGdW5jdGlvbiIsImZuS2V5IiwiaW50b0lkIiwid2F0Y2hJZCIsImZuU3RyaW5nIiwiVVNFIiwiU1RSSUNUIiwiZmlsdGVyUHJlZml4Iiwid2F0Y2hGbnMiLCJ2YXJzUHJlZml4Iiwic2VjdGlvbiIsIm5hbWVJZCIsInJlY3Vyc2lvbkZuIiwic2tpcFdhdGNoSWRDaGVjayIsImlmXyIsImxhenlBc3NpZ24iLCJjb21wdXRlZE1lbWJlciIsImxhenlSZWN1cnNlIiwicGx1cyIsIm5vdCIsImdldEhhc093blByb3BlcnR5IiwiaXNOdWxsIiwibm9uQ29tcHV0ZWRNZW1iZXIiLCJub3ROdWxsIiwibWVtYmVyIiwiZGVmYXVsdFZhbHVlIiwiU0FGRV9JREVOVElGSUVSIiwic3RyaW5nRXNjYXBlRm4iLCJzdHJpbmdFc2NhcGVSZWdleCIsImMiLCJza2lwIiwiaW5pdCIsInJocyIsImxocyIsInVuYXJ5KyIsInVuYXJ5LSIsInVuYXJ5ISIsImJpbmFyeSsiLCJiaW5hcnktIiwiYmluYXJ5KiIsImJpbmFyeS8iLCJiaW5hcnklIiwiYmluYXJ5PT09IiwiYmluYXJ5IT09IiwiYmluYXJ5PT0iLCJiaW5hcnkhPSIsImJpbmFyeTwiLCJiaW5hcnk+IiwiYmluYXJ5PD0iLCJiaW5hcnk+PSIsImJpbmFyeSYmIiwiYmluYXJ5fHwiLCJ0ZXJuYXJ5PzoiLCJ5eSIsInkiLCJNTU1NIiwiTU1NIiwiTSIsIkxMTEwiLCJIIiwiaGgiLCJFRUVFIiwiRUVFIiwiWiIsInd3IiwidyIsIkciLCJHRyIsIkdHRyIsIkdHR0ciLCJodG1sQW5jaG9yRGlyZWN0aXZlIiwieGxpbmtIcmVmIiwibmdBdHRyaWJ1dGVBbGlhc0RpcmVjdGl2ZXMiLCJwcm9wTmFtZSIsImRlZmF1bHRMaW5rRm4iLCJub3JtYWxpemVkIiwiaHRtbEF0dHIiLCIkYWRkQ29udHJvbCIsIiQkcmVuYW1lQ29udHJvbCIsIiRyZW1vdmVDb250cm9sIiwiJHNldERpcnR5IiwiJHNldFByaXN0aW5lIiwiJHNldFN1Ym1pdHRlZCIsIiRyb2xsYmFja1ZpZXdWYWx1ZSIsIiRjb21taXRWaWV3VmFsdWUiLCJuZXdOYW1lIiwib2xkTmFtZSIsIlBSSVNUSU5FX0NMQVNTIiwiRElSVFlfQ0xBU1MiLCIkc2V0VW50b3VjaGVkIiwiZm9ybURpcmVjdGl2ZUZhY3RvcnkiLCJpc05nRm9ybSIsImdldFNldHRlciIsImZvcm1FbGVtZW50IiwibmFtZUF0dHIiLCJjdHJscyIsImhhbmRsZUZvcm1TdWJtaXNzaW9uIiwic2V0dGVyIiwiZm9ybURpcmVjdGl2ZSIsIm5nRm9ybURpcmVjdGl2ZSIsIkRBVEVUSU1FTE9DQUxfUkVHRVhQIiwiVElNRV9SRUdFWFAiLCJpbnB1dFR5cGUiLCJkYXRldGltZS1sb2NhbCIsInRpbWUiLCJtb250aCIsInJhZGlvIiwicmFuZ2UiLCJjaGVja2JveCIsInN1Ym1pdCIsInJlc2V0IiwiZmlsZSIsImlucHV0RGlyZWN0aXZlIiwiQ09OU1RBTlRfVkFMVUVfUkVHRVhQIiwibmdWYWx1ZURpcmVjdGl2ZSIsInVwZGF0ZUVsZW1lbnRWYWx1ZSIsInByb3BWYWx1ZSIsInRwbEF0dHIiLCJuZ1ZhbHVlIiwibmdCaW5kRGlyZWN0aXZlIiwiJGNvbXBpbGUiLCJ0ZW1wbGF0ZUVsZW1lbnQiLCJuZ0JpbmQiLCJuZ0JpbmRUZW1wbGF0ZURpcmVjdGl2ZSIsIm5nQmluZFRlbXBsYXRlIiwibmdCaW5kSHRtbERpcmVjdGl2ZSIsIm5nQmluZEh0bWxHZXR0ZXIiLCJuZ0JpbmRIdG1sIiwibmdCaW5kSHRtbFdhdGNoIiwiZ2V0VHJ1c3RlZEh0bWwiLCJuZ0NoYW5nZURpcmVjdGl2ZSIsIm5nQ2hhbmdlIiwibmdDbGFzc0RpcmVjdGl2ZSIsIm5nQ2xhc3NPZGREaXJlY3RpdmUiLCJuZ0NsYXNzRXZlbkRpcmVjdGl2ZSIsIm5nQ2xvYWtEaXJlY3RpdmUiLCJuZ0NvbnRyb2xsZXJEaXJlY3RpdmUiLCJuZ0V2ZW50RGlyZWN0aXZlcyIsImZvcmNlQXN5bmNFdmVudHMiLCJibHVyIiwiZm9jdXMiLCJuZ0lmRGlyZWN0aXZlIiwicHJldmlvdXNFbGVtZW50cyIsIm5nSWYiLCJuZ0luY2x1ZGVEaXJlY3RpdmUiLCIkYW5jaG9yU2Nyb2xsIiwic3JjRXhwIiwibmdJbmNsdWRlIiwib25sb2FkRXhwIiwiYXV0b1Njcm9sbEV4cCIsImF1dG9zY3JvbGwiLCJwcmV2aW91c0VsZW1lbnQiLCJjdXJyZW50RWxlbWVudCIsImNoYW5nZUNvdW50ZXIiLCJjbGVhbnVwTGFzdEluY2x1ZGVDb250ZW50IiwiYWZ0ZXJBbmltYXRpb24iLCJ0aGlzQ2hhbmdlSWQiLCJuZ0luY2x1ZGVGaWxsQ29udGVudERpcmVjdGl2ZSIsIm5nSW5pdERpcmVjdGl2ZSIsIm5nSW5pdCIsIm5nTGlzdERpcmVjdGl2ZSIsIm5nTGlzdCIsInRyaW1WYWx1ZXMiLCIkJGluaXRHZXR0ZXJTZXR0ZXJzIiwiaW52b2tlTW9kZWxHZXR0ZXIiLCJpbnZva2VNb2RlbFNldHRlciIsIiQkJHAiLCIkc2V0VG91Y2hlZCIsInByZXZWYWxpZCIsInByZXZNb2RlbFZhbHVlIiwiYWxsb3dJbnZhbGlkIiwidGhhdCIsImFsbFZhbGlkIiwiJCR3cml0ZU1vZGVsVG9TY29wZSIsImRvbmVDYWxsYmFjayIsInNldFZhbGlkaXR5IiwibG9jYWxWYWxpZGF0aW9uUnVuSWQiLCJ2YWxpZGF0aW9uRG9uZSIsImVycm9yS2V5Iiwic3luY1ZhbGlkYXRvcnNWYWxpZCIsInZhbGlkYXRvciIsIkJvb2xlYW4iLCJ2YWxpZGF0b3JQcm9taXNlcyIsIiQkcGFyc2VBbmRWYWxpZGF0ZSIsIndyaXRlVG9Nb2RlbElmTmVlZGVkIiwiJCRkZWJvdW5jZVZpZXdWYWx1ZUNvbW1pdCIsImRlYm91bmNlRGVsYXkiLCIkb3ZlcnJpZGVNb2RlbE9wdGlvbnMiLCJjcmVhdGVDaGlsZCIsIm5nTW9kZWxEaXJlY3RpdmUiLCJtb2RlbEN0cmwiLCJmb3JtQ3RybCIsIm9wdGlvbnNDdHJsIiwic2V0VG91Y2hlZCIsImluaGVyaXRBbGwiLCJ1cGRhdGVPbkRlZmF1bHQiLCJ1cGRhdGVPbiIsImRlYm91bmNlIiwiZ2V0dGVyU2V0dGVyIiwibmdNb2RlbE9wdGlvbnNEaXJlY3RpdmUiLCJOZ01vZGVsT3B0aW9uc0NvbnRyb2xsZXIiLCIkJGF0dHJzIiwicGFyZW50T3B0aW9ucyIsInBhcmVudEN0cmwiLCJtb2RlbE9wdGlvbnNEZWZpbml0aW9uIiwibmdNb2RlbE9wdGlvbnMiLCJuZ05vbkJpbmRhYmxlRGlyZWN0aXZlIiwibmdPcHRpb25zTWluRXJyIiwiTkdfT1BUSU9OU19SRUdFWFAiLCJuZ09wdGlvbnNEaXJlY3RpdmUiLCJwYXJzZU9wdGlvbnNFeHByZXNzaW9uIiwib3B0aW9uc0V4cCIsInNlbGVjdEVsZW1lbnQiLCJPcHRpb24iLCJzZWxlY3RWYWx1ZSIsImxhYmVsIiwiZ3JvdXAiLCJkaXNhYmxlZCIsImdldE9wdGlvblZhbHVlc0tleXMiLCJvcHRpb25WYWx1ZXMiLCJvcHRpb25WYWx1ZXNLZXlzIiwia2V5TmFtZSIsIml0ZW1LZXkiLCJ2YWx1ZU5hbWUiLCJzZWxlY3RBcyIsInRyYWNrQnkiLCJzZWxlY3RBc0ZuIiwidmlld1ZhbHVlRm4iLCJ0cmFja0J5Rm4iLCJnZXRUcmFja0J5VmFsdWVGbiIsImdldFRyYWNrQnlWYWx1ZSIsImdldExvY2FscyIsImRpc3BsYXlGbiIsImdyb3VwQnlGbiIsImRpc2FibGVXaGVuRm4iLCJ2YWx1ZXNGbiIsImdldFdhdGNoYWJsZXMiLCJ3YXRjaGVkQXJyYXkiLCJvcHRpb25WYWx1ZXNMZW5ndGgiLCJkaXNhYmxlV2hlbiIsImdldE9wdGlvbnMiLCJvcHRpb25JdGVtcyIsInNlbGVjdFZhbHVlTWFwIiwib3B0aW9uSXRlbSIsImdldE9wdGlvbkZyb21WaWV3VmFsdWUiLCJnZXRWaWV3VmFsdWVGcm9tT3B0aW9uIiwibmdPcHRpb25zUG9zdExpbmsiLCJhZGRPcHRpb25FbGVtZW50Iiwib3B0aW9uRWxlbWVudCIsIm9wdGlvblRlbXBsYXRlIiwidXBkYXRlT3B0aW9uRWxlbWVudCIsImdldEFuZFVwZGF0ZVNlbGVjdGVkT3B0aW9uIiwidXBkYXRlT3B0aW9ucyIsInNlbGVjdEN0cmwiLCJyZWFkVmFsdWUiLCJuZ09wdGlvbnMiLCJncm91cEVsZW1lbnRNYXAiLCJwcm92aWRlZEVtcHR5T3B0aW9uIiwiZW1wdHlPcHRpb24iLCJncm91cEVsZW1lbnQiLCJvcHRHcm91cFRlbXBsYXRlIiwibGlzdEZyYWdtZW50IiwibmdNb2RlbEN0cmwiLCJuZXh0VmFsdWUiLCJoYXNFbXB0eU9wdGlvbiIsImdlbmVyYXRlVW5rbm93bk9wdGlvblZhbHVlIiwid3JpdGVWYWx1ZSIsInNlbGVjdGVkT3B0aW9ucyIsInNlbGVjdGVkVmFsdWVzIiwic2VsZWN0aW9ucyIsInNlbGVjdGVkT3B0aW9uIiwicmVtb3ZlVW5rbm93bk9wdGlvbiIsInVuc2VsZWN0RW1wdHlPcHRpb24iLCJzZWxlY3RFbXB0eU9wdGlvbiIsInVua25vd25PcHRpb24iLCJ1cGRhdGVVbmtub3duT3B0aW9uIiwicmVuZGVyVW5rbm93bk9wdGlvbiIsInJlZ2lzdGVyT3B0aW9uIiwib3B0aW9uU2NvcGUiLCJuZ1BsdXJhbGl6ZURpcmVjdGl2ZSIsIklTX1dIRU4iLCJ1cGRhdGVFbGVtZW50VGV4dCIsIm5ld1RleHQiLCJsYXN0Q291bnQiLCJudW1iZXJFeHAiLCJ3aGVuRXhwIiwid2hlbnMiLCJ3aGVuc0V4cEZucyIsImJyYWNlUmVwbGFjZW1lbnQiLCJ3YXRjaFJlbW92ZXIiLCJhdHRyaWJ1dGVOYW1lIiwidG1wTWF0Y2giLCJ3aGVuS2V5IiwiY291bnRJc05hTiIsInBsdXJhbENhdCIsIndoZW5FeHBGbiIsIm5nUmVwZWF0RGlyZWN0aXZlIiwibmdSZXBlYXRNaW5FcnIiLCJ1cGRhdGVTY29wZSIsInZhbHVlSWRlbnRpZmllciIsImtleUlkZW50aWZpZXIiLCJhcnJheUxlbmd0aCIsIiRmaXJzdCIsIiRsYXN0IiwiJG1pZGRsZSIsIiRvZGQiLCIkZXZlbiIsImdldEJsb2NrU3RhcnQiLCJnZXRCbG9ja0VuZCIsIm5nUmVwZWF0IiwibmdSZXBlYXRFbmRDb21tZW50IiwiYWxpYXNBcyIsInRyYWNrQnlFeHAiLCJ0cmFja0J5RXhwR2V0dGVyIiwidHJhY2tCeUlkRXhwRm4iLCJ0cmFja0J5SWRBcnJheUZuIiwidHJhY2tCeUlkT2JqRm4iLCJoYXNoRm5Mb2NhbHMiLCJsYXN0QmxvY2tNYXAiLCJuZXh0Tm9kZSIsImNvbGxlY3Rpb25MZW5ndGgiLCJ0cmFja0J5SWQiLCJ0cmFja0J5SWRGbiIsImNvbGxlY3Rpb25LZXlzIiwibmV4dEJsb2NrT3JkZXIiLCJwcmV2aW91c05vZGUiLCJuZXh0QmxvY2tNYXAiLCJibG9ja0tleSIsIm5nU2hvd0RpcmVjdGl2ZSIsIm5nU2hvdyIsIm5nSGlkZURpcmVjdGl2ZSIsIm5nSGlkZSIsIm5nU3R5bGVEaXJlY3RpdmUiLCJuZ1N0eWxlIiwibmV3U3R5bGVzIiwib2xkU3R5bGVzIiwibmdTd2l0Y2hEaXJlY3RpdmUiLCJjYXNlcyIsIm5nU3dpdGNoQ29udHJvbGxlciIsIndhdGNoRXhwciIsIm5nU3dpdGNoIiwic2VsZWN0ZWRUcmFuc2NsdWRlcyIsInNlbGVjdGVkRWxlbWVudHMiLCJwcmV2aW91c0xlYXZlQW5pbWF0aW9ucyIsInNlbGVjdGVkU2NvcGVzIiwic3BsaWNlRmFjdG9yeSIsInNlbGVjdGVkVHJhbnNjbHVkZSIsImNhc2VFbGVtZW50Iiwic2VsZWN0ZWRTY29wZSIsImFuY2hvciIsIm5nU3dpdGNoV2hlbkRpcmVjdGl2ZSIsIm5nU3dpdGNoV2hlbiIsIm5nU3dpdGNoV2hlblNlcGFyYXRvciIsIndoZW5DYXNlIiwibmdTd2l0Y2hEZWZhdWx0RGlyZWN0aXZlIiwibmdUcmFuc2NsdWRlTWluRXJyIiwibmdUcmFuc2NsdWRlRGlyZWN0aXZlIiwiZmFsbGJhY2tMaW5rRm4iLCJuZ1RyYW5zY2x1ZGVDbG9uZUF0dGFjaEZuIiwibm90V2hpdGVzcGFjZSIsInVzZUZhbGxiYWNrQ29udGVudCIsIm5nVHJhbnNjbHVkZSIsIm5nVHJhbnNjbHVkZVNsb3QiLCJzY3JpcHREaXJlY3RpdmUiLCJub29wTmdNb2RlbENvbnRyb2xsZXIiLCJTZWxlY3RDb250cm9sbGVyIiwic2NoZWR1bGVSZW5kZXIiLCJyZW5kZXJTY2hlZHVsZWQiLCJzY2hlZHVsZVZpZXdWYWx1ZVVwZGF0ZSIsInJlbmRlckFmdGVyIiwidXBkYXRlU2NoZWR1bGVkIiwib3B0aW9uc01hcCIsInVua25vd25WYWwiLCJyZWFsVmFsIiwiaGFzT3B0aW9uIiwiY3VycmVudGx5U2VsZWN0ZWRPcHRpb24iLCJzZWxlY3RlZEluZGV4IiwiaGFzaGVkVmFsIiwiYWRkT3B0aW9uIiwicmVtb3ZlT3B0aW9uIiwib3B0aW9uQXR0cnMiLCJpbnRlcnBvbGF0ZVZhbHVlRm4iLCJpbnRlcnBvbGF0ZVRleHRGbiIsInJlbW92YWwiLCJwcmV2aW91c2x5U2VsZWN0ZWQiLCJyZW1vdmVWYWx1ZSIsInNlbGVjdERpcmVjdGl2ZSIsInNlbGVjdFByZUxpbmsiLCJzaG91bGRCZVNlbGVjdGVkIiwibGFzdFZpZXciLCJsYXN0Vmlld1JlZiIsInNlbGVjdFBvc3RMaW5rIiwib3B0aW9uRGlyZWN0aXZlIiwicmVxdWlyZWREaXJlY3RpdmUiLCJyZXF1aXJlZCIsInBhdHRlcm5EaXJlY3RpdmUiLCJwYXR0ZXJuRXhwIiwibWF4bGVuZ3RoRGlyZWN0aXZlIiwibWF4bGVuZ3RoIiwiaW50VmFsIiwibWlubGVuZ3RoRGlyZWN0aXZlIiwibWlubGVuZ3RoIiwib3JpZ2luYWxDbGVhbkRhdGEiLCJqcU5hbWUiLCJlbGVtcyIsIiQkY3NwIiwiJCRlbmNvZGVVcmlTZWdtZW50IiwiJCRlbmNvZGVVcmlRdWVyeSIsIiQkc3RyaW5naWZ5IiwidGV4dGFyZWEiLCJmb3JtIiwic2VsZWN0IiwibmdDbGFzcyIsIm5nQ2xhc3NFdmVuIiwibmdDbGFzc09kZCIsIm5nQ2xvYWsiLCJuZ0NvbnRyb2xsZXIiLCJuZ05vbkJpbmRhYmxlIiwibmdQbHVyYWxpemUiLCJuZ1N3aXRjaERlZmF1bHQiLCJuZ1JlcXVpcmVkIiwiJGFuaW1hdGVDc3MiLCIkJGFuaW1hdGVKcyIsIiQkZm9yY2VSZWZsb3ciLCIkaW50ZXJ2YWwiLCIkaHR0cFBhcmFtU2VyaWFsaXplciIsIiRodHRwUGFyYW1TZXJpYWxpemVySlFMaWtlIiwiJCR0ZXN0YWJpbGl0eSIsIiQkanFMaXRlIiwiJCRNYXAiLCJhbmd1bGFyVmVyc2lvbiIsImdldERlY2ltYWxzIiwiZ2V0VkYiLCJvcHRfcHJlY2lzaW9uIiwiUExVUkFMX0NBVEVHT1JZIiwiWkVSTyIsIk9ORSIsIlRXTyIsIkZFVyIsIk1BTlkiLCJPVEhFUiIsIkRBWSIsIkZJUlNUREFZT0ZXRUVLIiwiTU9OVEgiLCJTSE9SVERBWSIsIlNIT1JUTU9OVEgiLCJTVEFOREFMT05FTU9OVEgiLCJXRUVLRU5EUkFOR0UiLCJmdWxsRGF0ZSIsImxvbmdEYXRlIiwibWVkaXVtIiwibWVkaXVtRGF0ZSIsIm1lZGl1bVRpbWUiLCJzaG9ydCIsInNob3J0RGF0ZSIsInNob3J0VGltZSIsIm1pbkludCIsImxvY2FsZUlEIiwidmYiLCJoZWFkIiwiand0SW50ZXJjZXB0b3IiLCJqd3RPcHRpb25zIiwiaW52b2tlVG9rZW4iLCJ0b2tlbkdldHRlciIsImludm9rZVJlZGlyZWN0b3IiLCJyZWRpcmVjdG9yIiwiaXNBdXRoZW50aWNhdGVkIiwiaXNUb2tlbkV4cGlyZWQiLCJhdXRoZW50aWNhdGUiLCJ1bmF1dGhlbnRpY2F0ZSIsImNoZWNrQXV0aE9uUmVmcmVzaCIsInJlZGlyZWN0V2hlblVuYXV0aGVudGljYXRlZCIsInVuYXV0aGVudGljYXRlZFJlZGlyZWN0b3IiLCJ2ZXJpZnlSb3V0ZSIsInJvdXRlRGF0YSIsIiQkcm91dGUiLCJyZXF1aXJlc0xvZ2luIiwiZ2V0Q29uZmlnIiwicmVkaXJlY3QiLCJ1cmxQYXJhbSIsImF1dGhIZWFkZXIiLCJhdXRoUHJlZml4Iiwid2hpdGVMaXN0ZWREb21haW5zIiwidXJsVXRpbHMiLCJpc1NhZmUiLCJpc1NhbWVPcmlnaW4iLCJkb21haW4iLCJza2lwQXV0aG9yaXphdGlvbiIsInVybEJhc2U2NERlY29kZSIsIm91dHB1dCIsImF0b2IiLCJnZXRUb2tlbkV4cGlyYXRpb25EYXRlIiwic2V0VVRDU2Vjb25kcyIsIm9mZnNldFNlY29uZHMiLCJnbG9iYWxDb25maWciLCJKd3RPcHRpb25zIiwibG9naW5QYXRoIiwidW5hdXRoZW50aWNhdGVkUmVkaXJlY3RQYXRoIiwiZ2xvYmFsIiwiZXhwb3J0cyIsImRlZmluZSIsImFtZCIsIm5nX2Zyb21faW1wb3J0IiwiY3VycnkiLCJjdXJyaWVkIiwiZnVuY19hcmdzX2xlbmd0aCIsImluaXRpYWxfYXJncyIsImNvbXBvc2UiLCJwaXBlIiwiZnVuY3MiLCJfaSIsImFuZCIsImZuMSIsImZuMiIsIm9yIiwiZm5OYW1lIiwic3RydWN0IiwieCIsImlzSW5qZWN0YWJsZSIsInZhbCQkMSIsInRhaWwiLCJub29wJDEiLCJjcmVhdGVQcm94eUZ1bmN0aW9ucyIsImZuTmFtZXMiLCJsYXRlYmluZCIsImJpbmRGdW5jdGlvbiIsIm1ha2VMYXRlUmViaW5kRm4iLCJhY2MiLCJfaW5BcnJheSIsIl9yZW1vdmVGcm9tIiwiX3B1c2hUbyIsImFyciIsIm9wdHMiLCJkZWZhdWx0c0xpc3QiLCJfZGVmYXVsdHNMaXN0IiwiZGVmYXVsdFZhbHMiLCJwaWNrIiwiYW5jZXN0b3JzIiwiZmlyc3QiLCJzZWNvbmQiLCJwcm9wTmFtZXMiLCJvYmpDb3B5IiwicHJvcF8xIiwib21pdCIsImluQXJyYXkiLCJwbHVjayIsImFjY2VwdCIsInB1c2hSIiwiYXNzZXJ0Rm4iLCJwcmVkaWNhdGVPck1hcCIsImVyck1zZyIsImFycmF5VHVwbGVzIiwibWF4QXJyYXlMZW4iLCJhcHBseVBhaXJzIiwibWVtbyIsImtleVZhbFR1cGxlIiwiX2NvcHkiLCJkZXN0IiwiX2ZvckVhY2giLCJjYiIsIl90aGlzIiwiX2V4dGVuZCIsInRvT2JqIiwiX2VxdWFscyIsInR1cCIsIl9hcnJheXNFcSIsImFueSIsImExIiwiYTIiLCJ1aVZpZXdTdHJpbmciLCJ2aWV3RGF0YSIsImNyZWF0aW9uQ29udGV4dCIsImZxbiIsIm5vcm1hbGl6ZWRDYXQiLCJDYXRlZ29yeSIsIm1hdGNoU3RhdGUiLCJjcml0ZXJpb24iLCJtYXRjaEdsb2JzIiwiZ2xvYlN0cmluZ3MiLCJ0b01hdGNoIiwiZ2xvYiIsIkdsb2IiLCJtYWtlRXZlbnQiLCJyZWdpc3RyeSIsInRyYW5zaXRpb25TZXJ2aWNlIiwiZXZlbnRUeXBlIiwiaG9va1JlZ2lzdHJhdGlvbkZuIiwibWF0Y2hPYmplY3QiLCJyZWdpc3RlcmVkSG9vayIsIlJlZ2lzdGVyZWRIb29rIiwiaG9va3MiLCJfZGVyZWdpc3RlcmVkIiwicmVtb3ZlRnJvbSIsIl9yZWdpc3RlcmVkSG9va3MiLCJ0dXBsZVNvcnQiLCJyZXZlcnNlRGVwdGhTb3J0IiwiZmFjdG9yIiwiZGVwdGhEZWx0YSIsImhvb2siLCJBcnJheVR5cGUiLCJhcnJheVdyYXAiLCJhcnJheVVud3JhcCIsImFycmF5SGFuZGxlciIsImFsbFRydXRoeU1vZGUiLCJhcnJheUVxdWFsc0hhbmRsZXIiLCJ2YWwxIiwidmFsMiIsInBhcmFtVHlwZUZuIiwid3JhcHBlckZuIiwiZHluYW1pYyIsIiRhcnJheU1vZGUiLCJ1bndyYXBTaG9ydGhhbmQiLCJjZmciLCJnZXRTdGF0aWNEZWZhdWx0VmFsdWUiLCJpc1Nob3J0aGFuZCIsIiQkZm4iLCJnZXRUeXBlIiwidXJsVHlwZSIsInBhcmFtVHlwZXMiLCJEZWZUeXBlIiwiQ09ORklHIiwiUEFUSCIsIlNFQVJDSCIsIlBhcmFtVHlwZSIsImdldFNxdWFzaFBvbGljeSIsImlzT3B0aW9uYWwiLCJkZWZhdWx0UG9saWN5Iiwic3F1YXNoIiwiZ2V0UmVwbGFjZSIsImFycmF5TW9kZSIsImNvbmZpZ3VyZWRLZXlzIiwibWF4TGVuZ3RoIiwicGFkU3RyaW5nIiwia2Vib2JTdHJpbmciLCJjYW1lbENhc2UiLCIkMSIsImZ1bmN0aW9uVG9TdHJpbmciLCJmblN0ciIsImZuVG9TdHJpbmciLCJuYW1lZEZ1bmN0aW9uTWF0Y2giLCJ0b1N0ciIsIl9mbiIsIm8iLCJzdHJpbmdpZnlQYXR0ZXJuIiwic3BsaXRPbkRlbGltIiwiZGVsaW0iLCJqb2luTmVpZ2hib3JzUiIsIm5hbWVCdWlsZGVyIiwic2VsZkJ1aWxkZXIiLCJkYXRhQnVpbGRlciIsInBhdGhCdWlsZGVyIiwiaW5jbHVkZXNCdWlsZGVyIiwicmVzb2x2YWJsZXNCdWlsZGVyIiwic2VydmljZXMiLCJpc1Jlc29sdmVMaXRlcmFsIiwiaXNMaWtlTmcyUHJvdmlkZXIiLCJwcm92aWRlIiwidXNlVmFsdWUiLCJ1c2VGYWN0b3J5IiwidXNlRXhpc3RpbmciLCJ1c2VDbGFzcyIsImlzVHVwbGVGcm9tT2JqIiwibGl0ZXJhbDJSZXNvbHZhYmxlIiwiUmVzb2x2YWJsZSIsImRlcHMiLCJwb2xpY3kiLCJkZXBlbmRlbmNpZXMiLCJ0dXBsZTJSZXNvbHZhYmxlIiwidHVwbGUiLCJpdGVtMlJlc29sdmFibGUiLCJkZWNsIiwicmVzb2x2ZU9iaiIsInJlc29sdmVQb2xpY2llcyIsInJlc29sdmVQb2xpY3kiLCJxdW90ZVJlZ0V4cCIsInBhcmFtIiwic3Vycm91bmRQYXR0ZXJuIiwiYXBwZW5kQmFzZVBhdGgiLCJpc0h0bWw1IiwiYWJzb2x1dGUiLCJnZXRIYW5kbGVyRm4iLCJUYXJnZXRTdGF0ZSIsImlzRGVmIiwiYWRkQ29yZVJlc29sdmFibGVzIiwidHJhbnMiLCJhZGRSZXNvbHZhYmxlIiwiVUlSb3V0ZXIiLCJyb3V0ZXIiLCJUcmFuc2l0aW9uIiwiZW50ZXJpbmciLCJtYWtlRW50ZXJFeGl0UmV0YWluSG9vayIsImhvb2tOYW1lIiwidHJhbnNpdGlvbiIsImhvb2tGbiIsImxhenlMb2FkU3RhdGUiLCJ1cGRhdGVTdGF0ZVJlZ2lzdHJ5Iiwic3RhdGVzIiwic3RhdGVSZWdpc3RyeSIsImxhenlMb2FkRm4iLCJsYXp5TG9hZCIsInN1Y2Nlc3MiLCJpZ25vcmVkSG9vayIsImlnbm9yZWRSZWFzb24iLCJfaWdub3JlZFJlYXNvbiIsInRyYWNlIiwidHJhY2VUcmFuc2l0aW9uSWdub3JlZCIsIlJlamVjdGlvbiIsImlnbm9yZWQiLCJ0b1Byb21pc2UiLCJpbnZhbGlkVHJhbnNpdGlvbkhvb2siLCJ2YWxpZCIsInBhcnNlVXJsJDEiLCJvckVtcHR5U3RyaW5nIiwiX2EiLCJzcGxpdEhhc2giLCJiZWZvcmVoYXNoIiwiX2IiLCJzcGxpdFF1ZXJ5IiwibG9jYXRpb25QbHVnaW5GYWN0b3J5Iiwic2VydmljZUNsYXNzIiwiY29uZmlndXJhdGlvbkNsYXNzIiwiZGlzcG9zZSIsImNvbmZpZ3VyYXRpb24iLCJsb2NhdGlvblNlcnZpY2UiLCJsb2NhdGlvbkNvbmZpZyIsInNlcnZpY2VzUGx1Z2luIiwiZ2V0TmcxVmlld0NvbmZpZ0ZhY3RvcnkiLCJ0ZW1wbGF0ZUZhY3RvcnkiLCJ2aWV3IiwiTmcxVmlld0NvbmZpZyIsIm5nMVZpZXdzQnVpbGRlciIsInRwbEtleXMiLCJjdHJsS2V5cyIsImNvbXBLZXlzIiwibm9uQ29tcEtleXMiLCJhbGxWaWV3S2V5cyIsInZpZXdzIiwiaGFzQW55S2V5Iiwidmlld3NPYmplY3QiLCIkZGVmYXVsdCIsInJlc29sdmVBcyIsIiR0eXBlIiwiJGNvbnRleHQiLCJWaWV3U2VydmljZSIsIm5vcm1hbGl6ZVVJVmlld1RhcmdldCIsIiR1aVZpZXdOYW1lIiwidWlWaWV3TmFtZSIsIiR1aVZpZXdDb250ZXh0QW5jaG9yIiwidWlWaWV3Q29udGV4dEFuY2hvciIsImdldENvbXBvbmVudEJpbmRpbmdzIiwiY21wRGVmcyIsImdldEJpbmRpbmdzIiwidW5uZXN0UiIsIiR1aVJvdXRlciIsIm5nMUxvY2F0aW9uU2VydmljZSIsIl9ydW50aW1lU2VydmljZXMiLCJzdGF0ZVByb3ZpZGVyIiwiU3RhdGVQcm92aWRlciIsInN0YXRlU2VydmljZSIsImdldFN0YXRlSG9va0J1aWxkZXIiLCJ2aWV3U2VydmljZSIsIl9wbHVnaW5hcGkiLCJfdmlld0NvbmZpZ0ZhY3RvcnkiLCJOZzFMb2NhdGlvblNlcnZpY2VzIiwibW9ua2V5UGF0Y2hQYXRoUGFyYW1ldGVyVHlwZSIsInJ1bkJsb2NrIiwiJGluamVjdG9yJCQxIiwiJHEkJDEiLCJyZXNvbHZhYmxlcyIsInJlc29sdmFibGUiLCJ3YXRjaERpZ2VzdHMiLCJhcHByb3hpbWF0ZURpZ2VzdHMiLCJwYXJzZVN0YXRlUmVmIiwicmVmIiwicGFyYW1zT25seSIsInBhcmFtRXhwciIsInN0YXRlQ29udGV4dCIsIiR1aVZpZXciLCJwcm9jZXNzZWREZWYiLCJkZWYiLCJ1aVN0YXRlIiwidWlTdGF0ZU9wdHMiLCJkZWZhdWx0T3B0cyIsInVpU3RhdGVQYXJhbXMiLCJnZXRUeXBlSW5mbyIsImlzU3ZnIiwiaXNGb3JtIiwiaXNBbmNob3IiLCJjbGlja2FibGUiLCJjbGlja0hvb2siLCJnZXREZWYiLCJpZ25vcmVQcmV2ZW50RGVmYXVsdENvdW50IiwicmVsYXRpdmUiLCIkY3VycmVudCIsImJpbmRFdmVudHMiLCJldmVudHNfMSIsImV2ZW50XzEiLCJldmVudHNfMiIsImV2ZW50XzIiLCIkSXNTdGF0ZUZpbHRlciIsImlzRmlsdGVyIiwiJEluY2x1ZGVkQnlTdGF0ZUZpbHRlciIsImluY2x1ZGVzRmlsdGVyIiwiJFZpZXdEaXJlY3RpdmVGaWxsIiwiJHRyYW5zaXRpb25zIiwiJHZpZXciLCJnZXRDb250cm9sbGVyQXMiLCJnZXRSZXNvbHZlQXMiLCJpbml0aWFsIiwiJGNmZyIsInZpZXdEZWNsIiwiZ2V0VGVtcGxhdGUiLCJyZXNvbHZlQ3R4IiwiUmVzb2x2ZUNvbnRleHQiLCJ0cmFjZVVJVmlld0ZpbGwiLCJyZWdpc3RlckNvbnRyb2xsZXJDYWxsYmFja3MiLCJjbXBfMSIsImtlYm9iTmFtZSIsInRhZ1JlZ2V4cF8xIiwiZ2V0Q29tcG9uZW50Q29udHJvbGxlciIsImRpcmVjdGl2ZUVsIiwidGFnTmFtZSIsIm5nIiwiZGVyZWdpc3RlcldhdGNoXzEiLCJjdHJsSW5zdGFuY2UiLCJoYXNDb21wb25lbnRJbXBsIiwidmlld1N0YXRlIiwiaG9va09wdGlvbnMiLCJ1aU9uUGFyYW1zQ2hhbmdlZCIsInJlc29sdmVDb250ZXh0Iiwidmlld0NyZWF0aW9uVHJhbnNfMSIsImdldFJlc29sdmFibGUiLCJwYXJhbXNVcGRhdGVkIiwiJHRyYW5zaXRpb24kIiwiZXhpdGluZyIsInRvUGFyYW1zIiwiZnJvbVBhcmFtcyIsInRvU2NoZW1hIiwidHJlZUNoYW5nZXMiLCJwYXJhbVNjaGVtYSIsImZyb21TY2hlbWEiLCJjaGFuZ2VkVG9QYXJhbXMiLCJjaGFuZ2VkS2V5c18xIiwib25TdWNjZXNzIiwidWlDYW5FeGl0IiwiaWRfMSIsIl91aUNhbkV4aXRJZCIsInByZXZUcnV0aHlBbnN3ZXJfMSIsInJlZGlyZWN0ZWRGcm9tIiwid3JhcHBlZEhvb2siLCJpZHMiLCJjcml0ZXJpYSIsIm9uQmVmb3JlIiwiJFZpZXdTY3JvbGxQcm92aWRlciIsInVzZUFuY2hvclNjcm9sbCIsInByb3BFcSIsIm90aGVyIiwicmVnZXhwU3RyaW5nIiwic2VnIiwiZnJvbVN0cmluZyIsIlN0YXRlT2JqZWN0Iiwic3RhdGVEZWNsIiwiaXNTdGF0ZUNsYXNzIiwiX19zdGF0ZU9iamVjdENhY2hlIiwibmFtZUdsb2IiLCJwYXJhbWV0ZXJzIiwibWF0Y2hpbmdLZXlzIiwicGFyYW1ldGVyIiwiaXNTdGF0ZSIsInRpcyIsImlzTnVsbE9yVW5kZWZpbmVkIiwiaXNQcm9taXNlIiwibm90SW1wbGVtZW50ZWQiLCJmbm5hbWUiLCJhbmd1bGFyJDEiLCJwdXNoVG8iLCJkZXJlZ0FsbCIsImZ1bmN0aW9ucyIsIm1lcmdlUiIsIm1hcE9iaiIsImFsbFRydWVSIiwiYW55VHJ1ZVIiLCJmbGF0dGVuUiIsInVuaXFSIiwidW5uZXN0IiwiZmxhdHRlbiIsImFzc2VydFByZWRpY2F0ZSIsImFzc2VydE1hcCIsInBhaXJzIiwic29ydEJ5IiwicHJvcEZuIiwiY2hlY2tGbiIsImNvbXBvc2VTb3J0Iiwic29ydEZucyIsInByZXYiLCJzaWxlbmNlVW5jYXVnaHRJblByb21pc2UiLCJzaWxlbnRSZWplY3Rpb24iLCJRdWV1ZSIsIl9pdGVtcyIsIl9saW1pdCIsImVucXVldWUiLCJkZXF1ZXVlIiwicGVla1RhaWwiLCJwZWVrSGVhZCIsIlJlamVjdFR5cGUiLCJkZXRhaWwiLCJfdHJhbnNpdGlvblJlamVjdGlvbiIsImlzUmVqZWN0aW9uUHJvbWlzZSIsInN1cGVyc2VkZWQiLCJyZWplY3Rpb24iLCJTVVBFUlNFREVEIiwicmVkaXJlY3RlZCIsImludmFsaWQiLCJJTlZBTElEIiwiSUdOT1JFRCIsImFib3J0ZWQiLCJBQk9SVEVEIiwiZXJyb3JlZCIsIkVSUk9SIiwibm9ybWFsaXplIiwidmlld0NvbmZpZ1N0cmluZyIsInZpZXdDb25maWciLCJfdGlkIiwiX3JpZCIsInRyYW5zTGJsIiwiVHJhY2UiLCJfZW5hYmxlZCIsIl9zZXQiLCJjYXRlZ29yaWVzIiwiY2F0ZWdvcnkiLCJlbmFibGUiLCJkaXNhYmxlIiwidHJhY2VUcmFuc2l0aW9uU3RhcnQiLCJUUkFOU0lUSU9OIiwidHJhY2VIb29rSW52b2NhdGlvbiIsIkhPT0siLCJ0cmFjZUhvb2tSZXN1bHQiLCJob29rUmVzdWx0IiwidHJhbnNpdGlvbk9wdGlvbnMiLCJ0cmFjZVJlc29sdmVQYXRoIiwiUkVTT0xWRSIsInRyYWNlUmVzb2x2YWJsZVJlc29sdmVkIiwidHJhY2VFcnJvciIsInRyYWNlU3VjY2VzcyIsImZpbmFsU3RhdGUiLCJ0cmFjZVVJVmlld0V2ZW50IiwiVUlWSUVXIiwidHJhY2VVSVZpZXdDb25maWdVcGRhdGVkIiwidHJhY2VWaWV3U2VydmljZUV2ZW50IiwiVklFV0NPTkZJRyIsInRyYWNlVmlld1NlcnZpY2VVSVZpZXdFdmVudCIsIlRyYW5zaXRpb25Ib29rUGhhc2UiLCJUcmFuc2l0aW9uSG9va1Njb3BlIiwiX2lkZW50aWZpZXIiLCJfZGVmaW5pdGlvbiIsIl9wYXJhbXMiLCJfb3B0aW9ucyIsImV4aXN0cyIsInN0YXRlTmFtZSIsImRlZmF1bHRPcHRpb25zIiwidHJhY2VEYXRhIiwiVHJhbnNpdGlvbkhvb2siLCJpc1N1cGVyc2VkZWQiLCJob29rUGhhc2UiLCJSVU4iLCJpc0FjdGl2ZSIsImxvZ0Vycm9yIiwiZGVmYXVsdEVycm9ySGFuZGxlciIsImludm9rZUhvb2siLCJub3RDdXJyZW50IiwiZ2V0Tm90Q3VycmVudFJlamVjdGlvbiIsIm5vcm1hbGl6ZUVyciIsImdldEVycm9ySGFuZGxlciIsImhhbmRsZVJlc3VsdCIsImdldFJlc3VsdEhhbmRsZXIiLCJzeW5jaHJvbm91cyIsImhhbmRsZUhvb2tSZXN1bHQiLCJfZGlzcG9zZWQiLCJfYWJvcnRlZCIsIndhaXRGb3IiLCJjcmVhdGVIb29rQ2hhaW5SIiwibmV4dEhvb2siLCJpbnZva2VIb29rcyIsInJlbWFpbmluZ0hvb2tzIiwicnVuQWxsSG9va3MiLCJIQU5ETEVfUkVTVUxUIiwiTE9HX1JFSkVDVEVEX1JFU1VMVCIsIkxPR19FUlJPUiIsIlJFSkVDVF9FUlJPUiIsIlRIUk9XX0VSUk9SIiwidHJhblN2YyIsIm1hdGNoQ3JpdGVyaWEiLCJfbWF0Y2hpbmdOb2RlcyIsIm1hdGNoaW5nIiwiX2dldERlZmF1bHRNYXRjaENyaXRlcmlhIiwiX2dldFBhdGhUeXBlcyIsIl9nZXRNYXRjaGluZ05vZGVzIiwibW4iLCJwYXRodHlwZSIsImlzU3RhdGVIb29rIiwiU1RBVEUiLCJIb29rQnVpbGRlciIsImJ1aWxkSG9va3NGb3JQaGFzZSIsIl9nZXRFdmVudHMiLCJidWlsZEhvb2tzIiwiaG9va1R5cGUiLCJtYXRjaGluZ0hvb2tzIiwiZ2V0TWF0Y2hpbmdIb29rcyIsImJhc2VIb29rT3B0aW9ucyIsIm1ha2VUcmFuc2l0aW9uSG9va3MiLCJjcml0ZXJpYU1hdGNoUGF0aCIsInRyYW5zaXRpb25Ib29rIiwicmV2ZXJzZVNvcnQiLCJpc0NyZWF0ZSIsIkNSRUFURSIsInJlZyIsImdldEhvb2tzIiwiZW5jb2RlIiwiZGVjb2RlIiwiJHN1YlBhdHRlcm4iLCJzdWIiLCIkYXNBcnJheSIsImlzU2VhcmNoIiwiaGFzT3duIiwiUGFyYW0iLCJ1cmxNYXRjaGVyRmFjdG9yeSIsImFycmF5RGVmYXVsdHMiLCJhcnJheVBhcmFtTm9tZW5jbGF0dXJlIiwicmF3IiwiZGVmYXVsdFNxdWFzaFBvbGljeSIsImluaGVyaXQkJDEiLCJpc0RlZmF1bHRWYWx1ZSIsIl9kZWZhdWx0VmFsdWVDYWNoZSIsInZhbGlkYXRlcyIsImVuY29kZWQiLCJ2YWx1ZXMkJDEiLCJwYXJhbVZhbHVlcyIsInBhcmFtc18xIiwidmFsdWVzMSIsInZhbHVlczIiLCJQYXRoTm9kZSIsInN0YXRlT3JOb2RlIiwiYXBwbHlSYXdQYXJhbXMiLCJnZXRQYXJhbVZhbCIsInBhcmFtRGVmIiwicERlZiIsInBhcmFtc0ZuIiwiUGF0aFV0aWxzIiwibWFrZVRhcmdldFN0YXRlIiwiYnVpbGRQYXRoIiwidGFyZ2V0U3RhdGUiLCJidWlsZFRvUGF0aCIsImZyb21QYXRoIiwidG9QYXRoIiwiaW5oZXJpdFBhcmFtcyIsImFwcGx5Vmlld0NvbmZpZ3MiLCJ2aWV3RGVjbHMiLCJzdWJQYXRoIiwidmlld0NvbmZpZ3MiLCJjcmVhdGVWaWV3Q29uZmlnIiwidG9LZXlzIiwibm9kZVBhcmFtVmFscyIsIm1ha2VJbmhlcml0ZWRQYXJhbXNOb2RlIiwidG9Ob2RlIiwidG9QYXJhbVZhbHMiLCJpbmNvbWluZ1BhcmFtVmFscyIsImZyb21QYXJhbVZhbHMiLCJub0luaGVyaXQiLCJvd25QYXJhbVZhbHMiLCJyZWxvYWRTdGF0ZSIsImFwcGx5VG9QYXJhbXMiLCJyZXRhaW5lZE5vZGUiLCJjbG9uZWQiLCJrZWVwIiwibm9kZTEiLCJub2RlMiIsIm5vbkR5bmFtaWNQYXJhbXMiLCJyZXRhaW5lZCIsInJldGFpbmVkV2l0aFRvUGFyYW1zIiwicGF0aEEiLCJwYXRoQiIsIm5vZGVBIiwibm9kZUIiLCJlbGVtZW50SWR4IiwiZGVmYXVsdFJlc29sdmVQb2xpY3kiLCJyZXNvbHZlZCIsImdldFBvbGljeSIsInRoaXNQb2xpY3kiLCJzdGF0ZVBvbGljeSIsImdldFJlc29sdmFibGVEZXBlbmRlbmNpZXMiLCJnZXREZXBlbmRlbmNpZXMiLCJpbnZva2VSZXNvbHZlRm4iLCJyZXNvbHZlZERlcHMiLCJ3YWl0Rm9yUngiLCJvYnNlcnZhYmxlJCIsImNhY2hlZCIsInRha2UiLCJmaW5kTm9kZSIsIm1heWJlV2FpdEZvclJ4IiwiYXBwbHlSZXNvbHZlZFZhbHVlIiwicmVzb2x2ZWRWYWx1ZSIsImZyb21EYXRhIiwiTEFaWSIsIkVBR0VSIiwiV0FJVCIsIk5PV0FJVCIsIlJYV0FJVCIsIkFMTF9XSEVOUyIsIkVBR0VSX1dIRU5TIiwiTkFUSVZFX0lOSkVDVE9SX1RPS0VOIiwiX3BhdGgiLCJnZXRUb2tlbnMiLCJzdWJDb250ZXh0IiwiYWRkUmVzb2x2YWJsZXMiLCJuZXdSZXNvbHZhYmxlcyIsInJlc29sdmVQYXRoIiwid2hlbk9wdGlvbiIsIm1hdGNoZWRXaGVucyIsIm1hdGNoZXNQb2xpY3kiLCJhY2NlcHRlZFZhbHMiLCJ3aGVuT3JBc3luYyIsIm5vZGVSZXNvbHZhYmxlcyIsIm5vd2FpdCIsIndhaXQiLCJnZXRSZXN1bHQiLCJfaW5qZWN0b3IiLCJVSUluamVjdG9ySW1wbCIsImF2YWlsYWJsZVJlc29sdmFibGVzIiwiZ2V0RGVwZW5kZW5jeSIsImZyb21JbmplY3RvciIsImdldE5hdGl2ZSIsIm5hdGl2ZSIsImdldEFzeW5jIiwic3RhdGVTZWxmIiwiX2RlZmVycmVkIiwiX2hvb2tCdWlsZGVyIiwiX3RhcmdldFN0YXRlIiwiX3RyYW5zaXRpb25Db3VudCIsIl90cmVlQ2hhbmdlcyIsImNyZWF0ZVRyYW5zaXRpb25Ib29rUmVnRm5zIiwib25DcmVhdGVIb29rcyIsIm9uU3RhcnQiLCJvbkV4aXQiLCJvblJldGFpbiIsIm9uRW50ZXIiLCJvbkZpbmlzaCIsIm9uRXJyb3IiLCJlbnRlcmluZ1N0YXRlcyIsIiRmcm9tIiwiJHRvIiwiZnJlZXplIiwicGF0aE5hbWUiLCJnZXRSZXNvbHZlVG9rZW5zIiwidG9wYXRoIiwidGFyZ2V0Tm9kZSIsIm9yaWdpbmFsVHJhbnNpdGlvbiIsInJmIiwicmVkaXJlY3RzIiwicmVkaXJlY3RPcHRzIiwibmV3T3B0aW9ucyIsIm5ld1RyYW5zaXRpb24iLCJvcmlnaW5hbEVudGVyaW5nTm9kZXMiLCJyZWRpcmVjdEVudGVyaW5nTm9kZXMiLCJfY2hhbmdlZFBhcmFtcyIsInRjIiwibm9kZVNjaGVtYXMiLCJzY2hlbWEiLCJ0b1ZhbHMiLCJmcm9tVmFscyIsInNhbWUiLCJuZXdUQyIsInBlbmRUQyIsImdldEhvb2tzRm9yIiwidHJhbnNpdGlvblN1Y2Nlc3MiLCJTVUNDRVNTIiwidHJhbnNpdGlvbkVycm9yIiwiX2Vycm9yIiwicnVuVHJhbnNpdGlvbiIsImFsbFJ1bkhvb2tzIiwic3RhcnRUcmFuc2l0aW9uIiwibGFzdFN0YXJ0ZWRUcmFuc2l0aW9uSWQiLCJ0cmFuc2l0aW9uSGlzdG9yeSIsImFsbEJlZm9yZUhvb2tzIiwiQkVGT1JFIiwiYWJzdHJhY3QiLCJmcm9tU3RhdGVPck5hbWUiLCJ0b1N0YXRlT3JOYW1lIiwiYXZvaWRFbXB0eUhhc2giLCJkaVRva2VuIiwic3RyaW5naWZ5UGF0dGVybkZuIiwiaXNSZWplY3Rpb24iLCJiZWZvcmVBZnRlclN1YnN0ciIsImNoYXIiLCJQYXJhbVR5cGVzIiwidHlwZVF1ZXVlIiwiZGVmYXVsdFR5cGVzIiwibWFrZVR5cGUiLCJkZWZpbml0aW9uRm4iLCJfZmx1c2hUeXBlUXVldWUiLCJtYWtlRGVmYXVsdFR5cGUiLCJ2YWxUb1N0cmluZyIsImRlZmF1bHRUeXBlQmFzZSIsInF1ZXJ5IiwiaW50IiwiYm9vbCIsImNhcHR1cmUiLCJTdGF0ZVBhcmFtcyIsIiRpbmhlcml0IiwibmV3UGFyYW1zIiwicGFyZW50UGFyYW1zIiwicGFyZW50cyIsImluaGVyaXRlZCIsImluaGVyaXRMaXN0IiwicGFyc2VVcmwiLCJnZXRVcmxCdWlsZGVyIiwiJHVybE1hdGNoZXJGYWN0b3J5UHJvdmlkZXIiLCJzdGF0ZURlYyIsInBhcmFtTWFwIiwicGFyYW1Db25maWciLCJyZWxvYWRPblNlYXJjaCIsImlzTWF0Y2hlciIsIm5hdmlnYWJsZSIsImdldE5hdmlnYWJsZUJ1aWxkZXIiLCJpc1Jvb3QiLCJnZXRQYXJhbXNCdWlsZGVyIiwicGFyYW1GYWN0b3J5IiwibWFrZUNvbmZpZ1BhcmFtIiwiZnJvbUNvbmZpZyIsInVybFBhcmFtcyIsIm5vblVybFBhcmFtcyIsIlN0YXRlQnVpbGRlciIsInBhcmVudEJ1aWxkZXIiLCJwYXJlbnROYW1lIiwiYnVpbGRlcnMiLCJidWlsZGVyIiwiYnVpbGQiLCJwYXJlbnRGbiIsIlN0YXRlTWF0Y2hlciIsIl9zdGF0ZXMiLCJpc1JlbGF0aXZlIiwic3RhdGVPck5hbWUiLCJtYXRjaEdsb2IiLCJpc1N0ciIsImJhc2VTdGF0ZSIsInNwbGl0TmFtZSIsInBhdGhMZW5ndGgiLCJyZWxOYW1lIiwiU3RhdGVRdWV1ZU1hbmFnZXIiLCIkcmVnaXN0cnkiLCIkdXJsUm91dGVyIiwiZmx1c2giLCJyZWdpc3RlcmVkIiwib3JwaGFucyIsInByZXZpb3VzUXVldWVMZW5ndGgiLCJnZXRTdGF0ZSIsIm5hbWVfMSIsIm9ycGhhbklkeCIsImV4aXN0aW5nU3RhdGUiLCJleGlzdGluZ0Z1dHVyZVN0YXRlIiwiZGVyZWdpc3RlciIsImF0dGFjaFJvdXRlIiwicnVsZSIsInVybFJ1bGVGYWN0b3J5IiwiU3RhdGVSZWdpc3RyeSIsIl9yb3V0ZXIiLCJzdGF0ZVF1ZXVlIiwidXJsUm91dGVyIiwiX3JlZ2lzdGVyUm9vdCIsInJvb3RTdGF0ZURlZiIsIiMiLCJfcm9vdCIsIm9uU3RhdGVzQ2hhbmdlZCIsInN0YXRlRGVmaW5pdGlvbiIsIl9kZXJlZ2lzdGVyVHJlZSIsImFsbCQkMSIsImdldENoaWxkcmVuIiwiZGVyZWdpc3RlcmVkIiwiJHVyIiwicmVtb3ZlUnVsZSIsImRlcmVnaXN0ZXJlZFN0YXRlcyIsImZvdW5kIiwibWVtb2l6ZVRvIiwicHJvcCQkMSIsInNwbGl0T25TbGFzaCIsIlVybE1hdGNoZXIiLCJwYXR0ZXJuJCQxIiwiX2NhY2hlIiwiX2NoaWxkcmVuIiwiX3NlZ21lbnRzIiwiX2NvbXBpbGVkIiwic3RyaWN0IiwiY2FzZUluc2Vuc2l0aXZlIiwic2VnbWVudCIsInBsYWNlaG9sZGVyIiwic2VhcmNoUGxhY2Vob2xkZXIiLCJwYXR0ZXJucyIsImNoZWNrUGFyYW1FcnJvcnMiLCJuYW1lVmFsaWRhdG9yIiwibWF0Y2hEZXRhaWxzIiwiZnJvbVNlYXJjaCIsImFsbFBhcmFtcyIsInBhdGhQYXJhbXMiLCJzZWFyY2hQYXJhbXMiLCJuUGF0aFNlZ21lbnRzIiwidXJsbSIsInJldmVyc2VTdHJpbmciLCJ1bnF1b3RlRGFzaGVzIiwidmFsaWRQYXJhbVZhbCIsImdldERldGFpbHMiLCJ1cmxNYXRjaGVycyIsInBhdGhTZWdtZW50c0FuZFBhcmFtcyIsInF1ZXJ5UGFyYW1zIiwiaXNJbnZhbGlkIiwicGF0aFN0cmluZyIsImVuY29kZURhc2hlcyIsInF1ZXJ5U3RyaW5nIiwicGFyYW1EZXRhaWxzIiwiY21wIiwid2VpZ2h0cyIsInBhaXJzJCQxIiwiVXJsTWF0Y2hlckZhY3RvcnkiLCJfaXNDYXNlSW5zZW5zaXRpdmUiLCJfaXNTdHJpY3RNb2RlIiwiX2RlZmF1bHRTcXVhc2hQb2xpY3kiLCJfZ2V0Q29uZmlnIiwic3RyaWN0TW9kZSIsIlVybFJ1bGVGYWN0b3J5IiwibWFrZVJ1bGUiLCJfd2hhdCIsImZyb21VcmxNYXRjaGVyIiwiZnJvbVN0YXRlIiwiZnJvbVJlZ0V4cCIsIkJhc2VVcmxSdWxlIiwidXJsTWF0Y2hlciIsIm1hdGNoUHJpb3JpdHkiLCJfaGFuZGxlciIsImRldGFpbHMiLCJ0cmFuc2l0aW9uVG8iLCJzdGlja3kiLCJyZWRpcmVjdFVybFRvIiwiaXNVcmxSdWxlIiwiZGVmYXVsdFJ1bGVTb3J0Rm4iLCJnZXRNYXRjaGVyIiwiVVJMTUFUQ0hFUiIsIlJFR0VYUCIsIlJBVyIsIlVybFJvdXRlciIsIl9zb3J0Rm4iLCJfcnVsZXMiLCJpbnRlcmNlcHREZWZlcnJlZCIsIl9pZCIsIl9zb3J0ZWQiLCJsaXN0ZW4iLCJfb3RoZXJ3aXNlRm4iLCJlbnN1cmVTb3J0ZWQiLCJiZXN0Iiwid2VpZ2h0Iiwic3luYyIsImV2dCIsIiR1cmwiLCJ1cmxTZXJ2aWNlIiwibmV3dXJsIiwiX3N0b3BGbiIsIm9uQ2hhbmdlIiwidXBkYXRlIiwicmVhZCIsInNsYXNoIiwiaGFuZGxlckZuIiwibWF0Y2hGbiIsInVybFBhcnRzIiwiZGVmZXJJbnRlcmNlcHQiLCJfdWlWaWV3cyIsIl92aWV3Q29uZmlncyIsIl92aWV3Q29uZmlnRmFjdG9yaWVzIiwiX3Jvb3RWaWV3Q29udGV4dCIsIl9yZWdpc3RlcmVkVUlWaWV3cyIsIl9hY3RpdmVWaWV3Q29uZmlncyIsIl9yb290Q29udGV4dCIsInZpZXdUeXBlIiwiY2ZnRmFjdG9yeSIsImNmZ3MiLCJkZWFjdGl2YXRlVmlld0NvbmZpZyIsImFjdGl2YXRlVmlld0NvbmZpZyIsInVpVmlld0RlcHRoIiwidWlWaWV3Iiwic3RhdGVEZXB0aCIsInZpZXdDb25maWdEZXB0aCIsInVpVmlld3NCeUZxbiIsInVpdiIsImRlcHRoQ29tcGFyZSIsImRlcHRoRm4iLCJwb3NOZWciLCJtYXRjaGluZ0NvbmZpZ1BhaXIiLCJtYXRjaGluZ0NvbmZpZ3MiLCJjb25maWd1cmVVSVZpZXciLCJjb25maWdVcGRhdGVkIiwicmVnaXN0ZXJVSVZpZXciLCJ1aVZpZXdzIiwiZnFuTWF0Y2hlcyIsImF2YWlsYWJsZSIsImFjdGl2ZSIsInJhd1ZpZXdOYW1lIiwidmlld0F0Q29udGV4dCIsInJlbGF0aXZlVmlld05hbWVTdWdhciIsInZjIiwidmNTZWdtZW50cyIsInVpdlNlZ21lbnRzIiwibmVnT2Zmc2V0IiwiZnFuVG9GaXJzdFNlZ21lbnQiLCJ1aVZpZXdDb250ZXh0IiwiVUlSb3V0ZXJHbG9iYWxzIiwic3VjY2Vzc2Z1bFRyYW5zaXRpb25zIiwibWFrZVN0dWIiLCJsb2NhdGlvblNlcnZpY2VzRm5zIiwibG9jYXRpb25Db25maWdGbnMiLCJ1bWZGbnMiLCJydWxlc0ZucyIsInN5bmNGbnMiLCJVcmxTZXJ2aWNlIiwibGF0ZUJpbmQiLCJsb2NhdGlvblNlcnZpY2VzIiwidW1mIiwibG9jYXRpb25TZXJ2aWNlU3R1YiIsImxvY2F0aW9uQ29uZmlnU3R1YiIsIl9yb3V0ZXJJbnN0YW5jZSIsIl9kaXNwb3NhYmxlcyIsIlRyYW5zaXRpb25TZXJ2aWNlIiwiU3RhdGVTZXJ2aWNlIiwiX3BsdWdpbnMiLCJkaXNwb3NhYmxlIiwicGx1Z2luIiwicGx1Z2luSW5zdGFuY2UiLCJnZXRQbHVnaW4iLCJwbHVnaW5OYW1lIiwicmVnaXN0ZXJBZGRDb3JlUmVzb2x2YWJsZXMiLCJvbkNyZWF0ZSIsInJlZGlyZWN0VG9Ib29rIiwicmVkaXJlY3RUbyIsInJlZ2lzdGVyUmVkaXJlY3RUb0hvb2siLCJvbkV4aXRIb29rIiwicmVnaXN0ZXJPbkV4aXRIb29rIiwib25SZXRhaW5Ib29rIiwicmVnaXN0ZXJPblJldGFpbkhvb2siLCJvbkVudGVySG9vayIsInJlZ2lzdGVyT25FbnRlckhvb2siLCJlYWdlclJlc29sdmVQYXRoIiwicmVnaXN0ZXJFYWdlclJlc29sdmVQYXRoIiwibGF6eVJlc29sdmVTdGF0ZSIsInJlZ2lzdGVyTGF6eVJlc29sdmVTdGF0ZSIsImxvYWRFbnRlcmluZ1ZpZXdzIiwiZW50ZXJpbmdWaWV3cyIsImxvYWQiLCJyZWdpc3RlckxvYWRFbnRlcmluZ1ZpZXdzIiwiYWN0aXZhdGVWaWV3cyIsImV4aXRpbmdWaWV3cyIsInJlZ2lzdGVyQWN0aXZhdGVWaWV3cyIsInVwZGF0ZUdsb2JhbFN0YXRlIiwidHJhbnNpdGlvblN1Y2Nlc3NmdWwiLCJjbGVhckN1cnJlbnRUcmFuc2l0aW9uIiwicmVnaXN0ZXJVcGRhdGVHbG9iYWxTdGF0ZSIsInVwZGF0ZVVybCIsInVybE9wdGlvbnMiLCJyZWdpc3RlclVwZGF0ZVVybCIsImxhenlMb2FkSG9vayIsInJldHJ5VHJhbnNpdGlvbiIsIm9yaWciLCJyZWdpc3RlckxhenlMb2FkSG9vayIsIlRyYW5zaXRpb25FdmVudFR5cGUiLCJob29rT3JkZXIiLCJyZWdpc3Rlcklnbm9yZWRUcmFuc2l0aW9uSG9vayIsInJlZ2lzdGVySW52YWxpZFRyYW5zaXRpb25Ib29rIiwiZGVmYXVsdFRyYW5zT3B0cyIsImN1c3RvbSIsIl9ldmVudFR5cGVzIiwiX2NyaXRlcmlhUGF0aHMiLCJfZGVyZWdpc3Rlckhvb2tGbnMiLCJfZGVmaW5lQ29yZVBhdGhzIiwiX2RlZmluZUNvcmVFdmVudHMiLCJfcmVnaXN0ZXJDb3JlVHJhbnNpdGlvbkhvb2tzIiwiaG9va3NBcnJheSIsIlBoYXNlIiwiVEgiLCJwYXRocyIsIl9kZWZpbmVFdmVudCIsIl9kZWZpbmVQYXRoVHlwZSIsImNtcEJ5UGhhc2UiLCJob29rU2NvcGUiLCJhZGRDb3JlUmVzb2x2ZXMiLCJlYWdlclJlc29sdmUiLCJsYXp5UmVzb2x2ZSIsImxvYWRWaWV3cyIsInVwZGF0ZUdsb2JhbHMiLCJpbnZhbGlkQ2FsbGJhY2tzIiwiX2RlZmF1bHRFcnJvckhhbmRsZXIiLCIkZXJyb3IkIiwiZ2V0dGVycyIsImJvdW5kRm5zIiwiZW51bWVyYWJsZSIsImNvbmZpZ3VyYWJsZSIsIl9oYW5kbGVJbnZhbGlkVGFyZ2V0U3RhdGUiLCJ0b1N0YXRlIiwiaW52b2tlTmV4dENhbGxiYWNrIiwibmV4dENhbGxiYWNrIiwiY2FsbGJhY2tRdWV1ZSIsImNoZWNrRm9yUmVkaXJlY3QiLCJsYXRlc3RUaGluZyIsImxhdGVzdCIsIm9uSW52YWxpZCIsImRlZmF1dEdvT3B0cyIsInRyYW5zT3B0cyIsImdldEN1cnJlbnRQYXRoIiwibGF0ZXN0U3VjY2VzcyIsImN1cnJlbnRQYXRoIiwicmVqZWN0ZWRUcmFuc2l0aW9uSGFuZGxlciIsImlzTGF0ZXN0IiwidHJhbnNpdGlvblRvUHJvbWlzZSIsImluY2x1ZGUiLCJsb3NzeSIsIm5hdiIsImVuc3VyZUV4aXN0IiwiYmVmb3JlQWZ0ZXJTdWJzdHIkMSIsInNwbGl0RXF1YWwiLCJ0cmltSGFzaFZhbCIsImtleVZhbHNUb09iamVjdFIiLCJhY2N1bSIsImdldFBhcmFtcyIsImxvYyIsInNlYXJjaE9iamVjdCIsIkJhc2VMb2NhdGlvblNlcnZpY2VzIiwiZmlyZUFmdGVyVXBkYXRlIiwiX2xpc3RlbmVyIiwiX2xpc3RlbmVycyIsIl9nZXQiLCJfbG9jYXRpb24iLCJfaGlzdG9yeSIsImV2dF8xIiwiRXZlbnQiLCJfX2V4dGVuZHMiLCJleHRlbmRTdGF0aWNzIiwic2V0UHJvdG90eXBlT2YiLCJfX3Byb3RvX18iLCJfXyIsIkhhc2hMb2NhdGlvblNlcnZpY2UiLCJfc3VwZXIiLCJ0aXRsZSIsIl9fZXh0ZW5kcyQxIiwiTWVtb3J5TG9jYXRpb25TZXJ2aWNlIiwiX3VybCIsIl9fZXh0ZW5kcyQyIiwiUHVzaFN0YXRlTG9jYXRpb25TZXJ2aWNlIiwiX2NvbmZpZyIsImZ1bGxVcmwiLCJyZXBsYWNlU3RhdGUiLCJNZW1vcnlMb2NhdGlvbkNvbmZpZyIsIl9iYXNlSHJlZiIsIl9wb3J0IiwiX3Byb3RvY29sIiwiX2hvc3QiLCJfaGFzaFByZWZpeCIsIm5ld3ZhbCIsIkJyb3dzZXJMb2NhdGlvbkNvbmZpZyIsIl9pc0h0bWw1IiwibmV3cHJlZml4IiwiYXBwbHlEb2N1bWVudEJhc2VIcmVmIiwiYmFzZVRhZ3MiLCJoYXNoTG9jYXRpb25QbHVnaW4iLCJwdXNoU3RhdGVMb2NhdGlvblBsdWdpbiIsIm1lbW9yeUxvY2F0aW9uUGx1Z2luIiwiVUlSb3V0ZXJQbHVnaW5CYXNlIiwiaW5kZXgkMSIsIm5nX2Zyb21fZ2xvYmFsIiwiaWQkMSIsImxvYWRlZCIsIm1ha2VDb21wb25lbnRUZW1wbGF0ZSIsImdldENvbnRyb2xsZXIiLCJjb250cm9sbGVyUHJvdmlkZXIiLCJwcm92aWRlckZuIiwiVGVtcGxhdGVGYWN0b3J5IiwiX3VzZUh0dHAiLCJ1c2VIdHRwU2VydmljZSIsImFzVGVtcGxhdGUiLCJhc0NvbXBvbmVudCIsImZyb21VcmwiLCJ0ZW1wbGF0ZVByb3ZpZGVyIiwiZnJvbVByb3ZpZGVyIiwiY29tcG9uZW50UHJvdmlkZXIiLCJmcm9tQ29tcG9uZW50UHJvdmlkZXIiLCJrZWJvYiIsImtlYm9iZWQiLCJhdHRyaWJ1dGVUcGwiLCJyZXNvbHZlTmFtZSIsInNjb3BlQmluZGluZ3MiLCJiaW5kaW5nc09iaiIsImRlY29yYXRlZE5nMUhvb2siLCIkc3RhdGUkIiwiX3VybExpc3RlbmVycyIsIl9scCIsIl9sb2MiLCJfYnJvd3NlciIsInBhdGhUeXBlIiwifiIsIi8iLCJ+fiIsIn4yRiIsIlVybFJvdXRlclByb3ZpZGVyIiwiX3VybFJvdXRlciIsInJ1bGVGbiIsImluamVjdGFibGVIYW5kbGVyIiwiJG1hdGNoIiwiJHN0YXRlUGFyYW1zIiwibW9kX2luaXQiLCJtb2RfdXRpbCIsIm1vZF9ydHIiLCJtb2Rfc3RhdGUiLCJtb2RfbWFpbiIsImdldFByb3ZpZGVyRm9yIiwiJHVycCIsImdldFVybFJvdXRlclByb3ZpZGVyIiwidWlSb3V0ZXIiLCJ1cmxSb3V0ZXJQcm92aWRlciIsImdldFN0YXRlUHJvdmlkZXIiLCIkdXJsTWF0Y2hlckZhY3RvcnkiLCJ1aVNyZWYiLCJjdHgiLCJ1aVNyZWZBY3RpdmUiLCJ1bmxpbmtJbmZvRm4iLCIkJGFkZFN0YXRlSW5mbyIsInJhd0RlZiIsInVpU3JlZk9wdHMiLCJpbnB1dEF0dHJzIiwid2F0Y2hEZXJlZ0ZucyIsImZpZWxkIiwidXBkYXRlQWZ0ZXJUcmFuc2l0aW9uIiwiYWRkU3RhdGUiLCJzdGF0ZVBhcmFtcyIsImFjdGl2ZUNsYXNzIiwic3RhdGVJbmZvIiwiZ2V0Q2xhc3NlcyIsInN0YXRlTGlzdCIsImFsbENsYXNzZXMiLCJhY3RpdmVFcUNsYXNzIiwiZnV6enlDbGFzc2VzIiwiZXhhY3RseU1hdGNoZXNBbnkiLCJleGFjdENsYXNzZXMiLCJjbHMiLCJ1aVNyZWZBY3RpdmVFcSIsIiR1aVZpZXdTY3JvbGwiLCJnZXRSZW5kZXJlciIsImNvbmZpZ3NFcXVhbCIsImNvbmZpZzEiLCJjb25maWcyIiwicm9vdERhdGEiLCJjb25maWdVcGRhdGVkQ2FsbGJhY2siLCJhY3RpdmVVSVZpZXciLCJ1cGRhdGVWaWV3IiwiY2xlYW51cExhc3RWaWV3IiwicHJldmlvdXNFbCIsImN1cnJlbnRFbCIsIl92aWV3RGF0YV8xIiwicmVuZGVyZXIiLCIkJGFuaW1MZWF2ZSIsImFuaW1FbnRlciIsImFuaW1MZWF2ZSIsIiR1aVZpZXdEYXRhIiwiJHVpVmlld0FuaW0iLCIkYW5pbUVudGVyIiwiJGFuaW1MZWF2ZSIsInVucmVnaXN0ZXIiLCJmcm9tUGFyZW50VGFnQ29uZmlnIiwiZnJvbVBhcmVudFRhZyIsImNvcmUiLCJub0dsb2JhbCIsIkRPTUV2YWwiLCJ3aW5ub3ciLCJxdWFsaWZpZXIiLCJncmVwIiwicmlzU2ltcGxlIiwiY3VyIiwiZGlyIiwiY3JlYXRlT3B0aW9ucyIsImVhY2giLCJybm90aHRtbHdoaXRlIiwiXyIsIklkZW50aXR5IiwiVGhyb3dlciIsImV4IiwiYWRvcHRWYWx1ZSIsIm5vVmFsdWUiLCJmYWlsIiwiY29tcGxldGVkIiwiRGF0YSIsImdldERhdGEiLCJyYnJhY2UiLCJkYXRhQXR0ciIsInJtdWx0aURhc2giLCJkYXRhVXNlciIsImFkanVzdENTUyIsInZhbHVlUGFydHMiLCJ0d2VlbiIsImFkanVzdGVkIiwic2NhbGUiLCJtYXhJdGVyYXRpb25zIiwidW5pdCIsImNzc051bWJlciIsImluaXRpYWxJblVuaXQiLCJyY3NzTnVtIiwiZ2V0RGVmYXVsdERpc3BsYXkiLCJ0ZW1wIiwib3duZXJEb2N1bWVudCIsImRpc3BsYXkiLCJkZWZhdWx0RGlzcGxheU1hcCIsInNob3dIaWRlIiwic2hvdyIsImRhdGFQcml2IiwiaXNIaWRkZW5XaXRoaW5UcmVlIiwiZ2V0QWxsIiwic2V0R2xvYmFsRXZhbCIsInJlZkVsZW1lbnRzIiwiYnVpbGRGcmFnbWVudCIsInNjcmlwdHMiLCJzZWxlY3Rpb24iLCJyaHRtbCIsInJ0YWdOYW1lIiwiaHRtbFByZWZpbHRlciIsInJzY3JpcHRUeXBlIiwicmV0dXJuVHJ1ZSIsInJldHVybkZhbHNlIiwic2FmZUFjdGl2ZUVsZW1lbnQiLCJhY3RpdmVFbGVtZW50Iiwib3JpZ0ZuIiwiZ3VpZCIsIm1hbmlwdWxhdGlvblRhcmdldCIsImRpc2FibGVTY3JpcHQiLCJyZXN0b3JlU2NyaXB0IiwicnNjcmlwdFR5cGVNYXNrZWQiLCJjbG9uZUNvcHlFdmVudCIsInBkYXRhT2xkIiwicGRhdGFDdXIiLCJ1ZGF0YU9sZCIsInVkYXRhQ3VyIiwiYWNjZXNzIiwiZml4SW5wdXQiLCJyY2hlY2thYmxlVHlwZSIsImRvbU1hbmlwIiwiaGFzU2NyaXB0cyIsImlOb0Nsb25lIiwic3VwcG9ydCIsImNoZWNrQ2xvbmUiLCJyY2hlY2tlZCIsIl9ldmFsVXJsIiwicmNsZWFuU2NyaXB0IiwiY3VyQ1NTIiwid2lkdGgiLCJtaW5XaWR0aCIsIm1heFdpZHRoIiwiZ2V0U3R5bGVzIiwiZ2V0UHJvcGVydHlWYWx1ZSIsInBpeGVsTWFyZ2luUmlnaHQiLCJybnVtbm9ucHgiLCJybWFyZ2luIiwiYWRkR2V0SG9va0lmIiwiY29uZGl0aW9uRm4iLCJ2ZW5kb3JQcm9wTmFtZSIsImVtcHR5U3R5bGUiLCJjYXBOYW1lIiwiY3NzUHJlZml4ZXMiLCJmaW5hbFByb3BOYW1lIiwiY3NzUHJvcHMiLCJzZXRQb3NpdGl2ZU51bWJlciIsInN1YnRyYWN0IiwiYXVnbWVudFdpZHRoT3JIZWlnaHQiLCJpc0JvcmRlckJveCIsInN0eWxlcyIsImNzc0V4cGFuZCIsImdldFdpZHRoT3JIZWlnaHQiLCJ2YWx1ZUlzQm9yZGVyQm94IiwiYm94U2l6aW5nUmVsaWFibGUiLCJUd2VlbiIsImVhc2luZyIsInNjaGVkdWxlIiwiaW5Qcm9ncmVzcyIsImZ4IiwidGljayIsImNyZWF0ZUZ4Tm93IiwiZnhOb3ciLCJub3ciLCJnZW5GeCIsImluY2x1ZGVXaWR0aCIsImhlaWdodCIsIm9wYWNpdHkiLCJjcmVhdGVUd2VlbiIsIkFuaW1hdGlvbiIsInR3ZWVuZXJzIiwiZGVmYXVsdFByZWZpbHRlciIsInByb3BzIiwidG9nZ2xlIiwib2xkZmlyZSIsInByb3BUd2VlbiIsInJlc3RvcmVEaXNwbGF5IiwiaXNCb3giLCJhbmltIiwiZGF0YVNob3ciLCJfcXVldWVIb29rcyIsInVucXVldWVkIiwiZmlyZSIsImFsd2F5cyIsInJmeHR5cGVzIiwiaXNFbXB0eU9iamVjdCIsIm92ZXJmbG93Iiwib3ZlcmZsb3dYIiwib3ZlcmZsb3dZIiwicHJvcEZpbHRlciIsInNwZWNpYWxFYXNpbmciLCJjc3NIb29rcyIsImV4cGFuZCIsInN0b3BwZWQiLCJwcmVmaWx0ZXJzIiwiY3VycmVudFRpbWUiLCJyZW1haW5pbmciLCJzdGFydFRpbWUiLCJkdXJhdGlvbiIsInBlcmNlbnQiLCJ0d2VlbnMiLCJub3RpZnlXaXRoIiwicmVzb2x2ZVdpdGgiLCJvcmlnaW5hbFByb3BlcnRpZXMiLCJvcmlnaW5hbE9wdGlvbnMiLCJzdG9wIiwiZ290b0VuZCIsInJlamVjdFdpdGgiLCJwcm94eSIsInN0cmlwQW5kQ29sbGFwc2UiLCJnZXRDbGFzcyIsImJ1aWxkUGFyYW1zIiwidHJhZGl0aW9uYWwiLCJyYnJhY2tldCIsImFkZFRvUHJlZmlsdGVyc09yVHJhbnNwb3J0cyIsInN0cnVjdHVyZSIsImRhdGFUeXBlRXhwcmVzc2lvbiIsImRhdGFUeXBlIiwiZGF0YVR5cGVzIiwiaW5zcGVjdFByZWZpbHRlcnNPclRyYW5zcG9ydHMiLCJqcVhIUiIsImluc3BlY3QiLCJpbnNwZWN0ZWQiLCJwcmVmaWx0ZXJPckZhY3RvcnkiLCJkYXRhVHlwZU9yVHJhbnNwb3J0Iiwic2Vla2luZ1RyYW5zcG9ydCIsInRyYW5zcG9ydHMiLCJhamF4RXh0ZW5kIiwiZmxhdE9wdGlvbnMiLCJhamF4U2V0dGluZ3MiLCJhamF4SGFuZGxlUmVzcG9uc2VzIiwicmVzcG9uc2VzIiwiY3QiLCJmaW5hbERhdGFUeXBlIiwiZmlyc3REYXRhVHlwZSIsIm1pbWVUeXBlIiwiZ2V0UmVzcG9uc2VIZWFkZXIiLCJjb252ZXJ0ZXJzIiwiYWpheENvbnZlcnQiLCJjb252MiIsImNvbnYiLCJyZXNwb25zZUZpZWxkcyIsImRhdGFGaWx0ZXIiLCJ0aHJvd3MiLCJnZXRQcm90byIsImNsYXNzMnR5cGUiLCJPYmplY3RGdW5jdGlvblN0cmluZyIsImZjYW1lbENhc2UiLCJqcXVlcnkiLCJ0b0FycmF5IiwicHVzaFN0YWNrIiwicHJldk9iamVjdCIsImNvcHlJc0FycmF5IiwiaXNQbGFpbk9iamVjdCIsInJhbmRvbSIsImlzUmVhZHkiLCJpc051bWVyaWMiLCJwcm90byIsIkN0b3IiLCJnbG9iYWxFdmFsIiwibWFrZUFycmF5IiwiaW52ZXJ0IiwiY2FsbGJhY2tFeHBlY3QiLCJTeW1ib2wiLCJTaXp6bGUiLCJzZWVkIiwibmlkIiwibmV3U2VsZWN0b3IiLCJuZXdDb250ZXh0IiwicHJlZmVycmVkRG9jIiwic2V0RG9jdW1lbnQiLCJkb2N1bWVudElzSFRNTCIsInJxdWlja0V4cHIiLCJxc2EiLCJjb21waWxlckNhY2hlIiwicmJ1Z2d5UVNBIiwicmNzc2VzY2FwZSIsImZjc3Nlc2NhcGUiLCJ0b2tlbml6ZSIsInRvU2VsZWN0b3IiLCJyc2libGluZyIsInRlc3RDb250ZXh0IiwicXNhRXJyb3IiLCJydHJpbSIsImNyZWF0ZUNhY2hlIiwiRXhwciIsImNhY2hlTGVuZ3RoIiwibWFya0Z1bmN0aW9uIiwiYXNzZXJ0IiwiYWRkSGFuZGxlIiwiYXR0ckhhbmRsZSIsInNpYmxpbmdDaGVjayIsInNvdXJjZUluZGV4IiwiY3JlYXRlRGlzYWJsZWRQc2V1ZG8iLCJpc0Rpc2FibGVkIiwiZGlzYWJsZWRBbmNlc3RvciIsImNyZWF0ZVBvc2l0aW9uYWxQc2V1ZG8iLCJtYXRjaEluZGV4ZXMiLCJzZXRGaWx0ZXJzIiwiYWRkQ29tYmluYXRvciIsImNvbWJpbmF0b3IiLCJjaGVja05vbkVsZW1lbnRzIiwiZG9uZU5hbWUiLCJ4bWwiLCJvbGRDYWNoZSIsInVuaXF1ZUNhY2hlIiwib3V0ZXJDYWNoZSIsIm5ld0NhY2hlIiwiZGlycnVucyIsInVuaXF1ZUlEIiwiZWxlbWVudE1hdGNoZXIiLCJtdWx0aXBsZUNvbnRleHRzIiwiY29udGV4dHMiLCJjb25kZW5zZSIsInVubWF0Y2hlZCIsIm5ld1VubWF0Y2hlZCIsIm1hcHBlZCIsInNldE1hdGNoZXIiLCJwcmVGaWx0ZXIiLCJwb3N0RmlsdGVyIiwicG9zdEZpbmRlciIsInBvc3RTZWxlY3RvciIsInByZU1hcCIsInBvc3RNYXAiLCJwcmVleGlzdGluZyIsIm1hdGNoZXJJbiIsIm1hdGNoZXJPdXQiLCJtYXRjaGVyRnJvbVRva2VucyIsImNoZWNrQ29udGV4dCIsImxlYWRpbmdSZWxhdGl2ZSIsImltcGxpY2l0UmVsYXRpdmUiLCJtYXRjaENvbnRleHQiLCJtYXRjaEFueUNvbnRleHQiLCJvdXRlcm1vc3RDb250ZXh0IiwibWF0Y2hlckZyb21Hcm91cE1hdGNoZXJzIiwiZWxlbWVudE1hdGNoZXJzIiwic2V0TWF0Y2hlcnMiLCJieVNldCIsImJ5RWxlbWVudCIsInN1cGVyTWF0Y2hlciIsIm91dGVybW9zdCIsIm1hdGNoZWRDb3VudCIsInNldE1hdGNoZWQiLCJjb250ZXh0QmFja3VwIiwiZGlycnVuc1VuaXF1ZSIsInVuaXF1ZVNvcnQiLCJpc1hNTCIsInNvcnRJbnB1dCIsImhhc0R1cGxpY2F0ZSIsImRvY0VsZW0iLCJyYnVnZ3lNYXRjaGVzIiwiY2xhc3NDYWNoZSIsInRva2VuQ2FjaGUiLCJzb3J0T3JkZXIiLCJwdXNoX25hdGl2ZSIsImJvb2xlYW5zIiwid2hpdGVzcGFjZSIsInBzZXVkb3MiLCJyd2hpdGVzcGFjZSIsInJjb21tYSIsInJjb21iaW5hdG9ycyIsInJhdHRyaWJ1dGVRdW90ZXMiLCJycHNldWRvIiwicmlkZW50aWZpZXIiLCJtYXRjaEV4cHIiLCJJRCIsIkNMQVNTIiwiVEFHIiwiQVRUUiIsIlBTRVVETyIsIkNISUxEIiwibmVlZHNDb250ZXh0IiwicmlucHV0cyIsInJoZWFkZXIiLCJybmF0aXZlIiwicnVuZXNjYXBlIiwiZnVuZXNjYXBlIiwiZXNjYXBlZCIsImVzY2FwZWRXaGl0ZXNwYWNlIiwiaGlnaCIsImFzQ29kZVBvaW50IiwidW5sb2FkSGFuZGxlciIsImVscyIsImhhc0NvbXBhcmUiLCJzdWJXaW5kb3ciLCJkZWZhdWx0VmlldyIsImF0dGFjaEV2ZW50IiwiZ2V0QnlJZCIsImF0dHJJZCIsImdldEF0dHJpYnV0ZU5vZGUiLCJtYXRjaGVzU2VsZWN0b3IiLCJ3ZWJraXRNYXRjaGVzU2VsZWN0b3IiLCJtb3pNYXRjaGVzU2VsZWN0b3IiLCJvTWF0Y2hlc1NlbGVjdG9yIiwibXNNYXRjaGVzU2VsZWN0b3IiLCJkaXNjb25uZWN0ZWRNYXRjaCIsImFkb3duIiwiYnVwIiwic29ydERldGFjaGVkIiwiYXVwIiwiYXAiLCJicCIsInNwZWNpZmllZCIsInNlbCIsImR1cGxpY2F0ZXMiLCJkZXRlY3REdXBsaWNhdGVzIiwic29ydFN0YWJsZSIsInNlbGVjdG9ycyIsImNyZWF0ZVBzZXVkbyIsIj4iLCIgIiwiKyIsImV4Y2VzcyIsInVucXVvdGVkIiwibm9kZU5hbWVTZWxlY3RvciIsImNoZWNrIiwic2ltcGxlIiwiZm9yd2FyZCIsIm9mVHlwZSIsIm5vZGVJbmRleCIsInVzZUNhY2hlIiwicHNldWRvIiwibWF0Y2hlZCIsImlubmVyVGV4dCIsImxhbmciLCJlbGVtTGFuZyIsImhhc0ZvY3VzIiwidGFiSW5kZXgiLCJldmVuIiwib2RkIiwibHQiLCJndCIsInBhc3N3b3JkIiwiaW1hZ2UiLCJwYXJzZU9ubHkiLCJzb0ZhciIsInByZUZpbHRlcnMiLCJ1bmlxdWUiLCJpc1hNTERvYyIsImVzY2FwZVNlbGVjdG9yIiwidW50aWwiLCJ0cnVuY2F0ZSIsInNpYmxpbmdzIiwicm5lZWRzQ29udGV4dCIsInJzaW5nbGVUYWciLCJyb290alF1ZXJ5IiwicGFyc2VIVE1MIiwicnBhcmVudHNwcmV2IiwiZ3VhcmFudGVlZFVuaXF1ZSIsInRhcmdldHMiLCJjbG9zZXN0IiwicHJldkFsbCIsImFkZEJhY2siLCJwYXJlbnRzVW50aWwiLCJuZXh0QWxsIiwibmV4dFVudGlsIiwicHJldlVudGlsIiwiQ2FsbGJhY2tzIiwiZmlyaW5nIiwibWVtb3J5IiwiZmlyZWQiLCJsb2NrZWQiLCJmaXJpbmdJbmRleCIsIm9uY2UiLCJzdG9wT25GYWxzZSIsImxvY2siLCJmaXJlV2l0aCIsInR1cGxlcyIsIm5ld0RlZmVyIiwicmV0dXJuZWQiLCJzcGVjaWFsIiwibWlnaHRUaHJvdyIsImV4Y2VwdGlvbkhvb2siLCJzdGFja1RyYWNlIiwiZ2V0U3RhY2tIb29rIiwic3RhdGVTdHJpbmciLCJzaW5nbGVWYWx1ZSIsInJlc29sdmVDb250ZXh0cyIsInJlc29sdmVWYWx1ZXMiLCJtYXN0ZXIiLCJ1cGRhdGVGdW5jIiwicmVycm9yTmFtZXMiLCJyZWFkeUV4Y2VwdGlvbiIsInJlYWR5TGlzdCIsInJlYWR5V2FpdCIsImRvU2Nyb2xsIiwiY2hhaW5hYmxlIiwiZW1wdHlHZXQiLCJidWxrIiwiYWNjZXB0RGF0YSIsIm93bmVyIiwiX3JlbW92ZURhdGEiLCJzdGFydExlbmd0aCIsImNsZWFyUXVldWUiLCJwbnVtIiwic3dhcCIsImhpZGUiLCJkaXYiLCJub0Nsb25lQ2hlY2tlZCIsInJrZXlFdmVudCIsInJtb3VzZUV2ZW50IiwicnR5cGVuYW1lc3BhY2UiLCJoYW5kbGVPYmpJbiIsImV2ZW50SGFuZGxlIiwiaGFuZGxlT2JqIiwiaGFuZGxlcnMiLCJuYW1lc3BhY2VzIiwib3JpZ1R5cGUiLCJlbGVtRGF0YSIsInRyaWdnZXJlZCIsImRpc3BhdGNoIiwiZGVsZWdhdGVUeXBlIiwiYmluZFR5cGUiLCJkZWxlZ2F0ZUNvdW50Iiwic2V0dXAiLCJtYXBwZWRUeXBlcyIsIm9yaWdDb3VudCIsInRlYXJkb3duIiwicmVtb3ZlRXZlbnQiLCJuYXRpdmVFdmVudCIsImhhbmRsZXJRdWV1ZSIsImZpeCIsImRlbGVnYXRlVGFyZ2V0IiwicHJlRGlzcGF0Y2giLCJpc1Byb3BhZ2F0aW9uU3RvcHBlZCIsImN1cnJlbnRUYXJnZXQiLCJybmFtZXNwYWNlIiwicG9zdERpc3BhdGNoIiwibWF0Y2hlZEhhbmRsZXJzIiwibWF0Y2hlZFNlbGVjdG9ycyIsImFkZFByb3AiLCJvcmlnaW5hbEV2ZW50Iiwid3JpdGFibGUiLCJub0J1YmJsZSIsImNsaWNrIiwiYmVmb3JldW5sb2FkIiwicmV0dXJuVmFsdWUiLCJ0aW1lU3RhbXAiLCJpc1NpbXVsYXRlZCIsImFsdEtleSIsImJ1YmJsZXMiLCJjYW5jZWxhYmxlIiwiY2hhbmdlZFRvdWNoZXMiLCJldmVudFBoYXNlIiwicGFnZVgiLCJwYWdlWSIsImNoYXJDb2RlIiwiYnV0dG9ucyIsImNsaWVudFgiLCJjbGllbnRZIiwib2Zmc2V0WCIsIm9mZnNldFkiLCJwb2ludGVySWQiLCJwb2ludGVyVHlwZSIsInNjcmVlblgiLCJzY3JlZW5ZIiwidGFyZ2V0VG91Y2hlcyIsInRvRWxlbWVudCIsInRvdWNoZXMiLCJwb2ludGVyZW50ZXIiLCJwb2ludGVybGVhdmUiLCJybm9Jbm5lcmh0bWwiLCJkYXRhQW5kRXZlbnRzIiwiZGVlcERhdGFBbmRFdmVudHMiLCJzcmNFbGVtZW50cyIsImRlc3RFbGVtZW50cyIsImluUGFnZSIsImJlZm9yZSIsImFwcGVuZFRvIiwicHJlcGVuZFRvIiwiaW5zZXJ0QWZ0ZXIiLCJyZXBsYWNlQWxsIiwib3JpZ2luYWwiLCJpbnNlcnQiLCJvcGVuZXIiLCJjb21wdXRlU3R5bGVUZXN0cyIsImNzc1RleHQiLCJjb250YWluZXIiLCJkaXZTdHlsZSIsInBpeGVsUG9zaXRpb25WYWwiLCJyZWxpYWJsZU1hcmdpbkxlZnRWYWwiLCJtYXJnaW5MZWZ0IiwiYm94U2l6aW5nUmVsaWFibGVWYWwiLCJtYXJnaW5SaWdodCIsInBpeGVsTWFyZ2luUmlnaHRWYWwiLCJiYWNrZ3JvdW5kQ2xpcCIsImNsZWFyQ2xvbmVTdHlsZSIsInBpeGVsUG9zaXRpb24iLCJyZWxpYWJsZU1hcmdpbkxlZnQiLCJyZGlzcGxheXN3YXAiLCJyY3VzdG9tUHJvcCIsImNzc1Nob3ciLCJ2aXNpYmlsaXR5IiwiY3NzTm9ybWFsVHJhbnNmb3JtIiwibGV0dGVyU3BhY2luZyIsImZvbnRXZWlnaHQiLCJhbmltYXRpb25JdGVyYXRpb25Db3VudCIsImNvbHVtbkNvdW50IiwiZmlsbE9wYWNpdHkiLCJmbGV4R3JvdyIsImZsZXhTaHJpbmsiLCJsaW5lSGVpZ2h0Iiwib3JkZXIiLCJ3aWRvd3MiLCJ6SW5kZXgiLCJ6b29tIiwiZmxvYXQiLCJvcmlnTmFtZSIsImlzQ3VzdG9tUHJvcCIsInNldFByb3BlcnR5IiwiZ2V0Q2xpZW50UmVjdHMiLCJtYXJnaW4iLCJwYWRkaW5nIiwiYm9yZGVyIiwiZXhwYW5kZWQiLCJwcm9wSG9va3MiLCJlYXNlZCIsInNjcm9sbFRvcCIsInNjcm9sbExlZnQiLCJsaW5lYXIiLCJzd2luZyIsImNvcyIsIlBJIiwicnJ1biIsIioiLCJ0d2VlbmVyIiwicHJlZmlsdGVyIiwic3BlZWQiLCJvcHQiLCJzcGVlZHMiLCJmYWRlVG8iLCJvcHRhbGwiLCJkb0FuaW1hdGlvbiIsImZpbmlzaCIsInN0b3BRdWV1ZSIsInRpbWVycyIsImNzc0ZuIiwic2xpZGVEb3duIiwic2xpZGVVcCIsInNsaWRlVG9nZ2xlIiwiZmFkZUluIiwiZmFkZU91dCIsImZhZGVUb2dnbGUiLCJzbG93IiwiZmFzdCIsImNoZWNrT24iLCJvcHRTZWxlY3RlZCIsInJhZGlvVmFsdWUiLCJib29sSG9vayIsIm5UeXBlIiwiYXR0ckhvb2tzIiwiYXR0ck5hbWVzIiwibG93ZXJjYXNlTmFtZSIsInJmb2N1c2FibGUiLCJyY2xpY2thYmxlIiwicmVtb3ZlUHJvcCIsInByb3BGaXgiLCJ0YWJpbmRleCIsImZvciIsImNsYXNzIiwiY3VyVmFsdWUiLCJmaW5hbFZhbHVlIiwic3RhdGVWYWwiLCJjbGFzc05hbWVzIiwidmFsSG9va3MiLCJvcHRpb25TZXQiLCJyZm9jdXNNb3JwaCIsIm9ubHlIYW5kbGVycyIsImJ1YmJsZVR5cGUiLCJvbnR5cGUiLCJldmVudFBhdGgiLCJpc1RyaWdnZXIiLCJwYXJlbnRXaW5kb3ciLCJzaW11bGF0ZSIsImhvdmVyIiwiZm5PdmVyIiwiZm5PdXQiLCJmb2N1c2luIiwiYXR0YWNoZXMiLCJub25jZSIsInJxdWVyeSIsInBhcnNlWE1MIiwiRE9NUGFyc2VyIiwicGFyc2VGcm9tU3RyaW5nIiwicnN1Ym1pdHRlclR5cGVzIiwicnN1Ym1pdHRhYmxlIiwidmFsdWVPckZ1bmN0aW9uIiwic2VyaWFsaXplQXJyYXkiLCJyaGVhZGVycyIsInJsb2NhbFByb3RvY29sIiwicm5vQ29udGVudCIsImFsbFR5cGVzIiwib3JpZ2luQW5jaG9yIiwibGFzdE1vZGlmaWVkIiwiZXRhZyIsImlzTG9jYWwiLCJwcm9jZXNzRGF0YSIsImFjY2VwdHMiLCIqIHRleHQiLCJ0ZXh0IGh0bWwiLCJ0ZXh0IGpzb24iLCJ0ZXh0IHhtbCIsImFqYXhTZXR1cCIsInNldHRpbmdzIiwiYWpheFByZWZpbHRlciIsImFqYXhUcmFuc3BvcnQiLCJhamF4IiwibmF0aXZlU3RhdHVzVGV4dCIsIm1vZGlmaWVkIiwidGltZW91dFRpbWVyIiwidHJhbnNwb3J0IiwicmVzcG9uc2VIZWFkZXJzU3RyaW5nIiwiaWZNb2RpZmllZCIsImNhY2hlVVJMIiwiY2FsbGJhY2tDb250ZXh0Iiwic3RhdHVzQ29kZSIsImZpcmVHbG9iYWxzIiwiZ2xvYmFsRXZlbnRDb250ZXh0IiwiY29tcGxldGVEZWZlcnJlZCIsInJlc3BvbnNlSGVhZGVycyIsInVybEFuY2hvciIsInVuY2FjaGVkIiwicmVxdWVzdEhlYWRlcnMiLCJyZXF1ZXN0SGVhZGVyc05hbWVzIiwic3RyQWJvcnQiLCJvdmVycmlkZU1pbWVUeXBlIiwiZmluYWxUZXh0IiwiY3Jvc3NEb21haW4iLCJoYXNDb250ZW50IiwiYmVmb3JlU2VuZCIsImdldEpTT04iLCJnZXRTY3JpcHQiLCJ3cmFwQWxsIiwiZmlyc3RFbGVtZW50Q2hpbGQiLCJ3cmFwSW5uZXIiLCJ1bndyYXAiLCJ2aXNpYmxlIiwib2Zmc2V0SGVpZ2h0IiwieGhyU3VjY2Vzc1N0YXR1cyIsIjAiLCIxMjIzIiwieGhyU3VwcG9ydGVkIiwiY29ycyIsImVycm9yQ2FsbGJhY2siLCJ1c2VybmFtZSIsInhockZpZWxkcyIsIm9ucmVhZHlzdGF0ZWNoYW5nZSIsImJpbmFyeSIsInRleHQgc2NyaXB0IiwiY2hhcnNldCIsInNjcmlwdENoYXJzZXQiLCJvbGRDYWxsYmFja3MiLCJyanNvbnAiLCJqc29ucCIsImpzb25wQ2FsbGJhY2siLCJvcmlnaW5hbFNldHRpbmdzIiwiY2FsbGJhY2tOYW1lIiwib3ZlcndyaXR0ZW4iLCJyZXNwb25zZUNvbnRhaW5lciIsImpzb25Qcm9wIiwiY3JlYXRlSFRNTERvY3VtZW50IiwiaW1wbGVtZW50YXRpb24iLCJrZWVwU2NyaXB0cyIsImFuaW1hdGVkIiwic2V0T2Zmc2V0IiwiY3VyUG9zaXRpb24iLCJjdXJMZWZ0IiwiY3VyQ1NTVG9wIiwiY3VyVG9wIiwiY3VyT2Zmc2V0IiwiY3VyQ1NTTGVmdCIsImNhbGN1bGF0ZVBvc2l0aW9uIiwiY3VyRWxlbSIsInVzaW5nIiwicmVjdCIsInBhZ2VZT2Zmc2V0IiwiY2xpZW50VG9wIiwicGFnZVhPZmZzZXQiLCJjbGllbnRMZWZ0Iiwib2Zmc2V0UGFyZW50IiwicGFyZW50T2Zmc2V0IiwiSGVpZ2h0IiwiV2lkdGgiLCIiLCJkZWZhdWx0RXh0cmEiLCJmdW5jTmFtZSIsInVuZGVsZWdhdGUiLCJob2xkUmVhZHkiLCJob2xkIiwicGFyc2VKU09OIiwiX2pRdWVyeSIsIl8kIiwibm9Db25mbGljdCIsImlzVmFsaWREb3R0ZWRQYXRoIiwiTUVNQkVSX05BTUVfUkVHRVgiLCJsb29rdXBEb3R0ZWRQYXRoIiwiJHJlc291cmNlTWluRXJyIiwic2hhbGxvd0NsZWFyQW5kQ29weSIsInN0cmlwVHJhaWxpbmdTbGFzaGVzIiwiY2FuY2VsbGFibGUiLCJhY3Rpb25zIiwic2F2ZSIsIlJvdXRlIiwicmVzb3VyY2VGYWN0b3J5IiwicGFyYW1EZWZhdWx0cyIsImV4dHJhY3RQYXJhbXMiLCJhY3Rpb25QYXJhbXMiLCJkZWZhdWx0UmVzcG9uc2VJbnRlcmNlcHRvciIsInJlc291cmNlIiwiUmVzb3VyY2UiLCJyb3V0ZSIsInRvSlNPTiIsIiRyZXNvbHZlZCIsIiRjYW5jZWxSZXF1ZXN0IiwiaGFzQm9keSIsIm51bWVyaWNUaW1lb3V0IiwiYTMiLCJhNCIsImNhbmNlbFJlcXVlc3QiLCJ0aW1lb3V0RGVmZXJyZWQiLCJudW1lcmljVGltZW91dFByb21pc2UiLCJpc0luc3RhbmNlQ2FsbCIsImh0dHBDb25maWciLCJyZXNwb25zZUludGVyY2VwdG9yIiwicmVzcG9uc2VFcnJvckludGVyY2VwdG9yIiwiaGFzRXJyb3IiLCJoYXNSZXNwb25zZUVycm9ySW50ZXJjZXB0b3IiLCJzZXRVcmxQYXJhbXMiLCJhZGRpdGlvbmFsUGFyYW1EZWZhdWx0cyIsImV4dGVuZGVkUGFyYW1EZWZhdWx0cyIsImFjdGlvblVybCIsImVuY29kZWRWYWwiLCJwcm90b2NvbEFuZElwdjYiLCJpc1F1ZXJ5UGFyYW1WYWx1ZSIsInBhcmFtSW5mbyIsInAxIiwibGVhZGluZ1NsYXNoZXMiLCJ0cmFuc2l0aW9uRW5kIiwidHJhbnNFbmRFdmVudE5hbWVzIiwiV2Via2l0VHJhbnNpdGlvbiIsIk1velRyYW5zaXRpb24iLCJPVHJhbnNpdGlvbiIsImVtdWxhdGVUcmFuc2l0aW9uRW5kIiwiJGVsIiwiYnNUcmFuc2l0aW9uRW5kIiwiUGx1Z2luIiwiJHRoaXMiLCJBbGVydCIsImRpc21pc3MiLCJjbG9zZSIsIlZFUlNJT04iLCJUUkFOU0lUSU9OX0RVUkFUSU9OIiwicmVtb3ZlRWxlbWVudCIsImFsZXJ0IiwiQnV0dG9uIiwic2V0U3RhdGUiLCJERUZBVUxUUyIsImlzTG9hZGluZyIsImxvYWRpbmdUZXh0IiwicmVzZXRUZXh0IiwiJGlucHV0IiwiJGJ0biIsIkNhcm91c2VsIiwic2xpZGUiLCJjeWNsZSIsIiRpbmRpY2F0b3JzIiwicGF1c2VkIiwic2xpZGluZyIsIiRhY3RpdmUiLCIkaXRlbXMiLCJrZXlib2FyZCIsImtleWRvd24iLCJnZXRJdGVtSW5kZXgiLCJnZXRJdGVtRm9yRGlyZWN0aW9uIiwiZGlyZWN0aW9uIiwiYWN0aXZlSW5kZXgiLCJkZWx0YSIsIml0ZW1JbmRleCIsIiRuZXh0IiwiaXNDeWNsaW5nIiwic2xpZGVFdmVudCIsIiRuZXh0SW5kaWNhdG9yIiwic2xpZEV2ZW50IiwiY2Fyb3VzZWwiLCJjbGlja0hhbmRsZXIiLCIkdGFyZ2V0Iiwic2xpZGVJbmRleCIsIiRjYXJvdXNlbCIsImdldFRhcmdldEZyb21UcmlnZ2VyIiwiJHRyaWdnZXIiLCJDb2xsYXBzZSIsInRyYW5zaXRpb25pbmciLCJnZXRQYXJlbnQiLCJhZGRBcmlhQW5kQ29sbGFwc2VkQ2xhc3MiLCJkaW1lbnNpb24iLCJhY3RpdmVzRGF0YSIsImFjdGl2ZXMiLCJzdGFydEV2ZW50Iiwic2Nyb2xsU2l6ZSIsImlzT3BlbiIsImNvbGxhcHNlIiwiY2xlYXJNZW51cyIsImJhY2tkcm9wIiwiRHJvcGRvd24iLCJkcm9wZG93biIsIl9yZWxhdGVkVGFyZ2V0IiwiTW9kYWwiLCIkYm9keSIsIiRkaWFsb2ciLCIkYmFja2Ryb3AiLCJpc1Nob3duIiwib3JpZ2luYWxCb2R5UGFkIiwic2Nyb2xsYmFyV2lkdGgiLCJpZ25vcmVCYWNrZHJvcENsaWNrIiwicmVtb3RlIiwiQkFDS0RST1BfVFJBTlNJVElPTl9EVVJBVElPTiIsImNoZWNrU2Nyb2xsYmFyIiwic2V0U2Nyb2xsYmFyIiwicmVzaXplIiwiYWRqdXN0RGlhbG9nIiwiZW5mb3JjZUZvY3VzIiwiaGlkZU1vZGFsIiwiaGFuZGxlVXBkYXRlIiwicmVzZXRBZGp1c3RtZW50cyIsInJlc2V0U2Nyb2xsYmFyIiwicmVtb3ZlQmFja2Ryb3AiLCJkb0FuaW1hdGUiLCJjYWxsYmFja1JlbW92ZSIsIm1vZGFsSXNPdmVyZmxvd2luZyIsInNjcm9sbEhlaWdodCIsImNsaWVudEhlaWdodCIsInBhZGRpbmdMZWZ0IiwiYm9keUlzT3ZlcmZsb3dpbmciLCJwYWRkaW5nUmlnaHQiLCJmdWxsV2luZG93V2lkdGgiLCJpbm5lcldpZHRoIiwiZG9jdW1lbnRFbGVtZW50UmVjdCIsImNsaWVudFdpZHRoIiwibWVhc3VyZVNjcm9sbGJhciIsImJvZHlQYWQiLCJzY3JvbGxEaXYiLCJtb2RhbCIsInNob3dFdmVudCIsIlRvb2x0aXAiLCJob3ZlclN0YXRlIiwiaW5TdGF0ZSIsInBsYWNlbWVudCIsInZpZXdwb3J0IiwiJHZpZXdwb3J0IiwidHJpZ2dlcnMiLCJldmVudEluIiwiZXZlbnRPdXQiLCJmaXhUaXRsZSIsImdldERlZmF1bHRzIiwiZ2V0RGVsZWdhdGVPcHRpb25zIiwidGlwIiwiaXNJblN0YXRlVHJ1ZSIsImluRG9tIiwiJHRpcCIsInRpcElkIiwiZ2V0VUlEIiwic2V0Q29udGVudCIsImF1dG9Ub2tlbiIsImF1dG9QbGFjZSIsImdldFBvc2l0aW9uIiwiYWN0dWFsV2lkdGgiLCJhY3R1YWxIZWlnaHQiLCJvcmdQbGFjZW1lbnQiLCJ2aWV3cG9ydERpbSIsImNhbGN1bGF0ZWRPZmZzZXQiLCJnZXRDYWxjdWxhdGVkT2Zmc2V0IiwiYXBwbHlQbGFjZW1lbnQiLCJwcmV2SG92ZXJTdGF0ZSIsIm1hcmdpblRvcCIsImdldFZpZXdwb3J0QWRqdXN0ZWREZWx0YSIsImlzVmVydGljYWwiLCJhcnJvd0RlbHRhIiwiYXJyb3dPZmZzZXRQb3NpdGlvbiIsInJlcGxhY2VBcnJvdyIsImFycm93IiwiZ2V0VGl0bGUiLCIkZSIsImlzQm9keSIsImVsUmVjdCIsIlNWR0VsZW1lbnQiLCJlbE9mZnNldCIsIm91dGVyRGltcyIsInZpZXdwb3J0UGFkZGluZyIsInZpZXdwb3J0RGltZW5zaW9ucyIsInRvcEVkZ2VPZmZzZXQiLCJib3R0b21FZGdlT2Zmc2V0IiwibGVmdEVkZ2VPZmZzZXQiLCJyaWdodEVkZ2VPZmZzZXQiLCIkYXJyb3ciLCJ0b2dnbGVFbmFibGVkIiwidG9vbHRpcCIsIlBvcG92ZXIiLCJnZXRDb250ZW50IiwicG9wb3ZlciIsIlNjcm9sbFNweSIsIiRzY3JvbGxFbGVtZW50Iiwib2Zmc2V0cyIsImFjdGl2ZVRhcmdldCIsImdldFNjcm9sbEhlaWdodCIsIm9mZnNldE1ldGhvZCIsIm9mZnNldEJhc2UiLCIkaHJlZiIsIm1heFNjcm9sbCIsImFjdGl2YXRlIiwic2Nyb2xsc3B5IiwiJHNweSIsIlRhYiIsIiR1bCIsIiRwcmV2aW91cyIsImhpZGVFdmVudCIsInRhYiIsIkFmZml4IiwiY2hlY2tQb3NpdGlvbiIsImNoZWNrUG9zaXRpb25XaXRoRXZlbnRMb29wIiwiYWZmaXhlZCIsInVucGluIiwicGlubmVkT2Zmc2V0IiwiUkVTRVQiLCJvZmZzZXRUb3AiLCJvZmZzZXRCb3R0b20iLCJ0YXJnZXRIZWlnaHQiLCJjb2xsaWRlclRvcCIsImNvbGxpZGVySGVpZ2h0IiwiZ2V0UGlubmVkT2Zmc2V0IiwiYWZmaXgiLCJhZmZpeFR5cGUiLCIkaW5qZWN0aW9uIiwiY29udHJvbGVyIl0sIm1hcHBpbmdzIjoiQUF1OHZEQSxRQUFTQSxhQUFZQyxHQUNuQixNQUFPQSxHQUFjQyxhQUFhQyxLQUFLLG1CQVF6QyxRQUFTQyxRQUFPQyxFQUFnQkMsRUFBbUJDLEdBQ2pERCxFQUFrQkUsV0FBVSxHQUU1QkgsRUFBZUksTUFBTSxRQUNuQkMsSUFBSyxJQUNMQyxZQUFhLHVCQUNaRixNQUFNLFlBQ1BDLElBQUssWUFDTEMsWUFBYSwwQkFDYkMsV0FBWSxtQkFDWkMsYUFBYyxhQUNiSixNQUFNLFNBQ1BDLElBQUssU0FDTEMsWUFBYSx1QkFDYkMsV0FBWSxZQUNaQyxhQUFjLFVBQ2JKLE1BQU0sY0FDUEMsSUFBSyxTQUNMQyxZQUFhLDZCQUNiQyxXQUFZLGlCQUNaQyxhQUFjLGVBRWhCTixFQUFtQk8sVUFBVSxLQVUvQixRQUFTQyxXQUFVQyxFQUFNQyxFQUFvQkMsR0FDM0MsR0FBSUMsR0FBS0MsSUFFVEQsR0FBR0UsTUFBUSxXQUNUTCxFQUFLSyxNQUFNRixFQUFHRyxNQUFNQyxTQUFTQyxLQUFLLFdBQ2hDUCxFQUFtQlEsVUFDbkJDLFFBQVFDLElBQUlWLEVBQW1CVyxZQUFhLG9CQUM1Q1YsRUFBT1csR0FBRyxlQUNULFNBQVVDLEdBQ1hKLFFBQVFDLElBQUlHLEVBQUssZ0NBVXZCLFFBQVNDLFVBQVNDLEVBQVlmLEVBQW9CQyxHQUNoRCxHQUFJQyxH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QWdCalUsY0FFbERBLGFBQWFtZSxTQUFXLFVBQVciLCJmaWxlIjoiYXBwLm1pbi5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogQGxpY2Vuc2UgQW5ndWxhckpTIHYxLjYuNFxuICogKGMpIDIwMTAtMjAxNyBHb29nbGUsIEluYy4gaHR0cDovL2FuZ3VsYXJqcy5vcmdcbiAqIExpY2Vuc2U6IE1JVFxuICovXG4oZnVuY3Rpb24od2luZG93KSB7J3VzZSBzdHJpY3QnO1xuXG4vKipcbiAqIEBkZXNjcmlwdGlvblxuICpcbiAqIFRoaXMgb2JqZWN0IHByb3ZpZGVzIGEgdXRpbGl0eSBmb3IgcHJvZHVjaW5nIHJpY2ggRXJyb3IgbWVzc2FnZXMgd2l0aGluXG4gKiBBbmd1bGFyLiBJdCBjYW4gYmUgY2FsbGVkIGFzIGZvbGxvd3M6XG4gKlxuICogdmFyIGV4YW1wbGVNaW5FcnIgPSBtaW5FcnIoJ2V4YW1wbGUnKTtcbiAqIHRocm93IGV4YW1wbGVNaW5FcnIoJ29uZScsICdUaGlzIHswfSBpcyB7MX0nLCBmb28sIGJhcik7XG4gKlxuICogVGhlIGFib3ZlIGNyZWF0ZXMgYW4gaW5zdGFuY2Ugb2YgbWluRXJyIGluIHRoZSBleGFtcGxlIG5hbWVzcGFjZS4gVGhlXG4gKiByZXN1bHRpbmcgZXJyb3Igd2lsbCBoYXZlIGEgbmFtZXNwYWNlZCBlcnJvciBjb2RlIG9mIGV4YW1wbGUub25lLiAgVGhlXG4gKiByZXN1bHRpbmcgZXJyb3Igd2lsbCByZXBsYWNlIHswfSB3aXRoIHRoZSB2YWx1ZSBvZiBmb28sIGFuZCB7MX0gd2l0aCB0aGVcbiAqIHZhbHVlIG9mIGJhci4gVGhlIG9iamVjdCBpcyBub3QgcmVzdHJpY3RlZCBpbiB0aGUgbnVtYmVyIG9mIGFyZ3VtZW50cyBpdCBjYW5cbiAqIHRha2UuXG4gKlxuICogSWYgZmV3ZXIgYXJndW1lbnRzIGFyZSBzcGVjaWZpZWQgdGhhbiBuZWNlc3NhcnkgZm9yIGludGVycG9sYXRpb24sIHRoZSBleHRyYVxuICogaW50ZXJwb2xhdGlvbiBtYXJrZXJzIHdpbGwgYmUgcHJlc2VydmVkIGluIHRoZSBmaW5hbCBzdHJpbmcuXG4gKlxuICogU2luY2UgZGF0YSB3aWxsIGJlIHBhcnNlZCBzdGF0aWNhbGx5IGR1cmluZyBhIGJ1aWxkIHN0ZXAsIHNvbWUgcmVzdHJpY3Rpb25zXG4gKiBhcmUgYXBwbGllZCB3aXRoIHJlc3BlY3QgdG8gaG93IG1pbkVyciBpbnN0YW5jZXMgYXJlIGNyZWF0ZWQgYW5kIGNhbGxlZC5cbiAqIEluc3RhbmNlcyBzaG91bGQgaGF2ZSBuYW1lcyBvZiB0aGUgZm9ybSBuYW1lc3BhY2VNaW5FcnIgZm9yIGEgbWluRXJyIGNyZWF0ZWRcbiAqIHVzaW5nIG1pbkVycignbmFtZXNwYWNlJykgLiBFcnJvciBjb2RlcywgbmFtZXNwYWNlcyBhbmQgdGVtcGxhdGUgc3RyaW5nc1xuICogc2hvdWxkIGFsbCBiZSBzdGF0aWMgc3RyaW5ncywgbm90IHZhcmlhYmxlcyBvciBnZW5lcmFsIGV4cHJlc3Npb25zLlxuICpcbiAqIEBwYXJhbSB7c3RyaW5nfSBtb2R1bGUgVGhlIG5hbWVzcGFjZSB0byB1c2UgZm9yIHRoZSBuZXcgbWluRXJyIGluc3RhbmNlLlxuICogQHBhcmFtIHtmdW5jdGlvbn0gRXJyb3JDb25zdHJ1Y3RvciBDdXN0b20gZXJyb3IgY29uc3RydWN0b3IgdG8gYmUgaW5zdGFudGlhdGVkIHdoZW4gcmV0dXJuaW5nXG4gKiAgIGVycm9yIGZyb20gcmV0dXJuZWQgZnVuY3Rpb24sIGZvciBjYXNlcyB3aGVuIGEgcGFydGljdWxhciB0eXBlIG9mIGVycm9yIGlzIHVzZWZ1bC5cbiAqIEByZXR1cm5zIHtmdW5jdGlvbihjb2RlOnN0cmluZywgdGVtcGxhdGU6c3RyaW5nLCAuLi50ZW1wbGF0ZUFyZ3MpOiBFcnJvcn0gbWluRXJyIGluc3RhbmNlXG4gKi9cblxuZnVuY3Rpb24gbWluRXJyKG1vZHVsZSwgRXJyb3JDb25zdHJ1Y3Rvcikge1xuICBFcnJvckNvbnN0cnVjdG9yID0gRXJyb3JDb25zdHJ1Y3RvciB8fCBFcnJvcjtcbiAgcmV0dXJuIGZ1bmN0aW9uKCkge1xuICAgIHZhciBjb2RlID0gYXJndW1lbnRzWzBdLFxuICAgICAgdGVtcGxhdGUgPSBhcmd1bWVudHNbMV0sXG4gICAgICBtZXNzYWdlID0gJ1snICsgKG1vZHVsZSA/IG1vZHVsZSArICc6JyA6ICcnKSArIGNvZGUgKyAnXSAnLFxuICAgICAgdGVtcGxhdGVBcmdzID0gc2xpY2VBcmdzKGFyZ3VtZW50cywgMikubWFwKGZ1bmN0aW9uKGFyZykge1xuICAgICAgICByZXR1cm4gdG9EZWJ1Z1N0cmluZyhhcmcsIG1pbkVyckNvbmZpZy5vYmplY3RNYXhEZXB0aCk7XG4gICAgICB9KSxcbiAgICAgIHBhcmFtUHJlZml4LCBpO1xuXG4gICAgbWVzc2FnZSArPSB0ZW1wbGF0ZS5yZXBsYWNlKC9cXHtcXGQrXFx9L2csIGZ1bmN0aW9uKG1hdGNoKSB7XG4gICAgICB2YXIgaW5kZXggPSArbWF0Y2guc2xpY2UoMSwgLTEpO1xuXG4gICAgICBpZiAoaW5kZXggPCB0ZW1wbGF0ZUFyZ3MubGVuZ3RoKSB7XG4gICAgICAgIHJldHVybiB0ZW1wbGF0ZUFyZ3NbaW5kZXhdO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gbWF0Y2g7XG4gICAgfSk7XG5cbiAgICBtZXNzYWdlICs9ICdcXG5odHRwOi8vZXJyb3JzLmFuZ3VsYXJqcy5vcmcvMS42LjQvJyArXG4gICAgICAobW9kdWxlID8gbW9kdWxlICsgJy8nIDogJycpICsgY29kZTtcblxuICAgIGZvciAoaSA9IDAsIHBhcmFtUHJlZml4ID0gJz8nOyBpIDwgdGVtcGxhdGVBcmdzLmxlbmd0aDsgaSsrLCBwYXJhbVByZWZpeCA9ICcmJykge1xuICAgICAgbWVzc2FnZSArPSBwYXJhbVByZWZpeCArICdwJyArIGkgKyAnPScgKyBlbmNvZGVVUklDb21wb25lbnQodGVtcGxhdGVBcmdzW2ldKTtcbiAgICB9XG5cbiAgICByZXR1cm4gbmV3IEVycm9yQ29uc3RydWN0b3IobWVzc2FnZSk7XG4gIH07XG59XG5cbi8qIFdlIG5lZWQgdG8gdGVsbCBFU0xpbnQgd2hhdCB2YXJpYWJsZXMgYXJlIGJlaW5nIGV4cG9ydGVkICovXG4vKiBleHBvcnRlZFxuICBhbmd1bGFyLFxuICBtc2llLFxuICBqcUxpdGUsXG4gIGpRdWVyeSxcbiAgc2xpY2UsXG4gIHNwbGljZSxcbiAgcHVzaCxcbiAgdG9TdHJpbmcsXG4gIG1pbkVyckNvbmZpZyxcbiAgZXJyb3JIYW5kbGluZ0NvbmZpZyxcbiAgaXNWYWxpZE9iamVjdE1heERlcHRoLFxuICBuZ01pbkVycixcbiAgYW5ndWxhck1vZHVsZSxcbiAgdWlkLFxuICBSRUdFWF9TVFJJTkdfUkVHRVhQLFxuICBWQUxJRElUWV9TVEFURV9QUk9QRVJUWSxcblxuICBsb3dlcmNhc2UsXG4gIHVwcGVyY2FzZSxcbiAgbWFudWFsTG93ZXJjYXNlLFxuICBtYW51YWxVcHBlcmNhc2UsXG4gIG5vZGVOYW1lXyxcbiAgaXNBcnJheUxpa2UsXG4gIGZvckVhY2gsXG4gIGZvckVhY2hTb3J0ZWQsXG4gIHJldmVyc2VQYXJhbXMsXG4gIG5leHRVaWQsXG4gIHNldEhhc2hLZXksXG4gIGV4dGVuZCxcbiAgdG9JbnQsXG4gIGluaGVyaXQsXG4gIG1lcmdlLFxuICBub29wLFxuICBpZGVudGl0eSxcbiAgdmFsdWVGbixcbiAgaXNVbmRlZmluZWQsXG4gIGlzRGVmaW5lZCxcbiAgaXNPYmplY3QsXG4gIGlzQmxhbmtPYmplY3QsXG4gIGlzU3RyaW5nLFxuICBpc051bWJlcixcbiAgaXNOdW1iZXJOYU4sXG4gIGlzRGF0ZSxcbiAgaXNBcnJheSxcbiAgaXNGdW5jdGlvbixcbiAgaXNSZWdFeHAsXG4gIGlzV2luZG93LFxuICBpc1Njb3BlLFxuICBpc0ZpbGUsXG4gIGlzRm9ybURhdGEsXG4gIGlzQmxvYixcbiAgaXNCb29sZWFuLFxuICBpc1Byb21pc2VMaWtlLFxuICB0cmltLFxuICBlc2NhcGVGb3JSZWdleHAsXG4gIGlzRWxlbWVudCxcbiAgbWFrZU1hcCxcbiAgaW5jbHVkZXMsXG4gIGFycmF5UmVtb3ZlLFxuICBjb3B5LFxuICBzaW1wbGVDb21wYXJlLFxuICBlcXVhbHMsXG4gIGNzcCxcbiAganEsXG4gIGNvbmNhdCxcbiAgc2xpY2VBcmdzLFxuICBiaW5kLFxuICB0b0pzb25SZXBsYWNlcixcbiAgdG9Kc29uLFxuICBmcm9tSnNvbixcbiAgY29udmVydFRpbWV6b25lVG9Mb2NhbCxcbiAgdGltZXpvbmVUb09mZnNldCxcbiAgc3RhcnRpbmdUYWcsXG4gIHRyeURlY29kZVVSSUNvbXBvbmVudCxcbiAgcGFyc2VLZXlWYWx1ZSxcbiAgdG9LZXlWYWx1ZSxcbiAgZW5jb2RlVXJpU2VnbWVudCxcbiAgZW5jb2RlVXJpUXVlcnksXG4gIGFuZ3VsYXJJbml0LFxuICBib290c3RyYXAsXG4gIGdldFRlc3RhYmlsaXR5LFxuICBzbmFrZV9jYXNlLFxuICBiaW5kSlF1ZXJ5LFxuICBhc3NlcnRBcmcsXG4gIGFzc2VydEFyZ0ZuLFxuICBhc3NlcnROb3RIYXNPd25Qcm9wZXJ0eSxcbiAgZ2V0dGVyLFxuICBnZXRCbG9ja05vZGVzLFxuICBoYXNPd25Qcm9wZXJ0eSxcbiAgY3JlYXRlTWFwLFxuICBzdHJpbmdpZnksXG5cbiAgTk9ERV9UWVBFX0VMRU1FTlQsXG4gIE5PREVfVFlQRV9BVFRSSUJVVEUsXG4gIE5PREVfVFlQRV9URVhULFxuICBOT0RFX1RZUEVfQ09NTUVOVCxcbiAgTk9ERV9UWVBFX0RPQ1VNRU5ULFxuICBOT0RFX1RZUEVfRE9DVU1FTlRfRlJBR01FTlRcbiovXG5cbi8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuXG4vKipcbiAqIEBuZ2RvYyBtb2R1bGVcbiAqIEBuYW1lIG5nXG4gKiBAbW9kdWxlIG5nXG4gKiBAaW5zdGFsbGF0aW9uXG4gKiBAZGVzY3JpcHRpb25cbiAqXG4gKiAjIG5nIChjb3JlIG1vZHVsZSlcbiAqIFRoZSBuZyBtb2R1bGUgaXMgbG9hZGVkIGJ5IGRlZmF1bHQgd2hlbiBhbiBBbmd1bGFySlMgYXBwbGljYXRpb24gaXMgc3RhcnRlZC4gVGhlIG1vZHVsZSBpdHNlbGZcbiAqIGNvbnRhaW5zIHRoZSBlc3NlbnRpYWwgY29tcG9uZW50cyBmb3IgYW4gQW5ndWxhckpTIGFwcGxpY2F0aW9uIHRvIGZ1bmN0aW9uLiBUaGUgdGFibGUgYmVsb3dcbiAqIGxpc3RzIGEgaGlnaCBsZXZlbCBicmVha2Rvd24gb2YgZWFjaCBvZiB0aGUgc2VydmljZXMvZmFjdG9yaWVzLCBmaWx0ZXJzLCBkaXJlY3RpdmVzIGFuZCB0ZXN0aW5nXG4gKiBjb21wb25lbnRzIGF2YWlsYWJsZSB3aXRoaW4gdGhpcyBjb3JlIG1vZHVsZS5cbiAqXG4gKiA8ZGl2IGRvYy1tb2R1bGUtY29tcG9uZW50cz1cIm5nXCI+PC9kaXY+XG4gKi9cblxudmFyIFJFR0VYX1NUUklOR19SRUdFWFAgPSAvXlxcLyguKylcXC8oW2Etel0qKSQvO1xuXG4vLyBUaGUgbmFtZSBvZiBhIGZvcm0gY29udHJvbCdzIFZhbGlkaXR5U3RhdGUgcHJvcGVydHkuXG4vLyBUaGlzIGlzIHVzZWQgc28gdGhhdCBpdCdzIHBvc3NpYmxlIGZvciBpbnRlcm5hbCB0ZXN0cyB0byBjcmVhdGUgbW9jayBWYWxpZGl0eVN0YXRlcy5cbnZhciBWQUxJRElUWV9TVEFURV9QUk9QRVJUWSA9ICd2YWxpZGl0eSc7XG5cblxudmFyIGhhc093blByb3BlcnR5ID0gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eTtcblxudmFyIG1pbkVyckNvbmZpZyA9IHtcbiAgb2JqZWN0TWF4RGVwdGg6IDVcbn07XG5cbiAvKipcbiAqIEBuZ2RvYyBmdW5jdGlvblxuICogQG5hbWUgYW5ndWxhci5lcnJvckhhbmRsaW5nQ29uZmlnXG4gKiBAbW9kdWxlIG5nXG4gKiBAa2luZCBmdW5jdGlvblxuICpcbiAqIEBkZXNjcmlwdGlvblxuICogQ29uZmlndXJlIHNldmVyYWwgYXNwZWN0cyBvZiBlcnJvciBoYW5kbGluZyBpbiBBbmd1bGFySlMgaWYgdXNlZCBhcyBhIHNldHRlciBvciByZXR1cm4gdGhlXG4gKiBjdXJyZW50IGNvbmZpZ3VyYXRpb24gaWYgdXNlZCBhcyBhIGdldHRlci4gVGhlIGZvbGxvd2luZyBvcHRpb25zIGFyZSBzdXBwb3J0ZWQ6XG4gKlxuICogLSAqKm9iamVjdE1heERlcHRoKio6IFRoZSBtYXhpbXVtIGRlcHRoIHRvIHdoaWNoIG9iamVjdHMgYXJlIHRyYXZlcnNlZCB3aGVuIHN0cmluZ2lmaWVkIGZvciBlcnJvciBtZXNzYWdlcy5cbiAqXG4gKiBPbWl0dGVkIG9yIHVuZGVmaW5lZCBvcHRpb25zIHdpbGwgbGVhdmUgdGhlIGNvcnJlc3BvbmRpbmcgY29uZmlndXJhdGlvbiB2YWx1ZXMgdW5jaGFuZ2VkLlxuICpcbiAqIEBwYXJhbSB7T2JqZWN0PX0gY29uZmlnIC0gVGhlIGNvbmZpZ3VyYXRpb24gb2JqZWN0LiBNYXkgb25seSBjb250YWluIHRoZSBvcHRpb25zIHRoYXQgbmVlZCB0byBiZVxuICogICAgIHVwZGF0ZWQuIFN1cHBvcnRlZCBrZXlzOlxuICpcbiAqICogYG9iamVjdE1heERlcHRoYCAgKip7TnVtYmVyfSoqIC0gVGhlIG1heCBkZXB0aCBmb3Igc3RyaW5naWZ5aW5nIG9iamVjdHMuIFNldHRpbmcgdG8gYVxuICogICBub24tcG9zaXRpdmUgb3Igbm9uLW51bWVyaWMgdmFsdWUsIHJlbW92ZXMgdGhlIG1heCBkZXB0aCBsaW1pdC5cbiAqICAgRGVmYXVsdDogNVxuICovXG5mdW5jdGlvbiBlcnJvckhhbmRsaW5nQ29uZmlnKGNvbmZpZykge1xuICBpZiAoaXNPYmplY3QoY29uZmlnKSkge1xuICAgIGlmIChpc0RlZmluZWQoY29uZmlnLm9iamVjdE1heERlcHRoKSkge1xuICAgICAgbWluRXJyQ29uZmlnLm9iamVjdE1heERlcHRoID0gaXNWYWxpZE9iamVjdE1heERlcHRoKGNvbmZpZy5vYmplY3RNYXhEZXB0aCkgPyBjb25maWcub2JqZWN0TWF4RGVwdGggOiBOYU47XG4gICAgfVxuICB9IGVsc2Uge1xuICAgIHJldHVybiBtaW5FcnJDb25maWc7XG4gIH1cbn1cblxuLyoqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtOdW1iZXJ9IG1heERlcHRoXG4gKiBAcmV0dXJuIHtib29sZWFufVxuICovXG5mdW5jdGlvbiBpc1ZhbGlkT2JqZWN0TWF4RGVwdGgobWF4RGVwdGgpIHtcbiAgcmV0dXJuIGlzTnVtYmVyKG1heERlcHRoKSAmJiBtYXhEZXB0aCA+IDA7XG59XG5cbi8qKlxuICogQG5nZG9jIGZ1bmN0aW9uXG4gKiBAbmFtZSBhbmd1bGFyLmxvd2VyY2FzZVxuICogQG1vZHVsZSBuZ1xuICogQGtpbmQgZnVuY3Rpb25cbiAqXG4gKiBAZGVwcmVjYXRlZFxuICogc2luY2VWZXJzaW9uPVwiMS41LjBcIlxuICogcmVtb3ZlVmVyc2lvbj1cIjEuNy4wXCJcbiAqIFVzZSBbU3RyaW5nLnByb3RvdHlwZS50b0xvd2VyQ2FzZV0oaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZG9jcy9XZWIvSmF2YVNjcmlwdC9SZWZlcmVuY2UvR2xvYmFsX09iamVjdHMvU3RyaW5nL3RvTG93ZXJDYXNlKSBpbnN0ZWFkLlxuICpcbiAqIEBkZXNjcmlwdGlvbiBDb252ZXJ0cyB0aGUgc3BlY2lmaWVkIHN0cmluZyB0byBsb3dlcmNhc2UuXG4gKiBAcGFyYW0ge3N0cmluZ30gc3RyaW5nIFN0cmluZyB0byBiZSBjb252ZXJ0ZWQgdG8gbG93ZXJjYXNlLlxuICogQHJldHVybnMge3N0cmluZ30gTG93ZXJjYXNlZCBzdHJpbmcuXG4gKi9cbnZhciBsb3dlcmNhc2UgPSBmdW5jdGlvbihzdHJpbmcpIHtyZXR1cm4gaXNTdHJpbmcoc3RyaW5nKSA/IHN0cmluZy50b0xvd2VyQ2FzZSgpIDogc3RyaW5nO307XG5cbi8qKlxuICogQG5nZG9jIGZ1bmN0aW9uXG4gKiBAbmFtZSBhbmd1bGFyLnVwcGVyY2FzZVxuICogQG1vZHVsZSBuZ1xuICogQGtpbmQgZnVuY3Rpb25cbiAqXG4gKiBAZGVwcmVjYXRlZFxuICogc2luY2VWZXJzaW9uPVwiMS41LjBcIlxuICogcmVtb3ZlVmVyc2lvbj1cIjEuNy4wXCJcbiAqIFVzZSBbU3RyaW5nLnByb3RvdHlwZS50b1VwcGVyQ2FzZV0oaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZG9jcy9XZWIvSmF2YVNjcmlwdC9SZWZlcmVuY2UvR2xvYmFsX09iamVjdHMvU3RyaW5nL3RvVXBwZXJDYXNlKSBpbnN0ZWFkLlxuICpcbiAqIEBkZXNjcmlwdGlvbiBDb252ZXJ0cyB0aGUgc3BlY2lmaWVkIHN0cmluZyB0byB1cHBlcmNhc2UuXG4gKiBAcGFyYW0ge3N0cmluZ30gc3RyaW5nIFN0cmluZyB0byBiZSBjb252ZXJ0ZWQgdG8gdXBwZXJjYXNlLlxuICogQHJldHVybnMge3N0cmluZ30gVXBwZXJjYXNlZCBzdHJpbmcuXG4gKi9cbnZhciB1cHBlcmNhc2UgPSBmdW5jdGlvbihzdHJpbmcpIHtyZXR1cm4gaXNTdHJpbmcoc3RyaW5nKSA/IHN0cmluZy50b1VwcGVyQ2FzZSgpIDogc3RyaW5nO307XG5cblxudmFyIG1hbnVhbExvd2VyY2FzZSA9IGZ1bmN0aW9uKHMpIHtcbiAgLyogZXNsaW50LWRpc2FibGUgbm8tYml0d2lzZSAqL1xuICByZXR1cm4gaXNTdHJpbmcocylcbiAgICAgID8gcy5yZXBsYWNlKC9bQS1aXS9nLCBmdW5jdGlvbihjaCkge3JldHVybiBTdHJpbmcuZnJvbUNoYXJDb2RlKGNoLmNoYXJDb2RlQXQoMCkgfCAzMik7fSlcbiAgICAgIDogcztcbiAgLyogZXNsaW50LWVuYWJsZSAqL1xufTtcbnZhciBtYW51YWxVcHBlcmNhc2UgPSBmdW5jdGlvbihzKSB7XG4gIC8qIGVzbGludC1kaXNhYmxlIG5vLWJpdHdpc2UgKi9cbiAgcmV0dXJuIGlzU3RyaW5nKHMpXG4gICAgICA/IHMucmVwbGFjZSgvW2Etel0vZywgZnVuY3Rpb24oY2gpIHtyZXR1cm4gU3RyaW5nLmZyb21DaGFyQ29kZShjaC5jaGFyQ29kZUF0KDApICYgfjMyKTt9KVxuICAgICAgOiBzO1xuICAvKiBlc2xpbnQtZW5hYmxlICovXG59O1xuXG5cbi8vIFN0cmluZyN0b0xvd2VyQ2FzZSBhbmQgU3RyaW5nI3RvVXBwZXJDYXNlIGRvbid0IHByb2R1Y2UgY29ycmVjdCByZXN1bHRzIGluIGJyb3dzZXJzIHdpdGggVHVya2lzaFxuLy8gbG9jYWxlLCBmb3IgdGhpcyByZWFzb24gd2UgbmVlZCB0byBkZXRlY3QgdGhpcyBjYXNlIGFuZCByZWRlZmluZSBsb3dlcmNhc2UvdXBwZXJjYXNlIG1ldGhvZHNcbi8vIHdpdGggY29ycmVjdCBidXQgc2xvd2VyIGFsdGVybmF0aXZlcy4gU2VlIGh0dHBzOi8vZ2l0aHViLmNvbS9hbmd1bGFyL2FuZ3VsYXIuanMvaXNzdWVzLzExMzg3XG5pZiAoJ2knICE9PSAnSScudG9Mb3dlckNhc2UoKSkge1xuICBsb3dlcmNhc2UgPSBtYW51YWxMb3dlcmNhc2U7XG4gIHVwcGVyY2FzZSA9IG1hbnVhbFVwcGVyY2FzZTtcbn1cblxuXG52YXJcbiAgICBtc2llLCAgICAgICAgICAgICAvLyBob2xkcyBtYWpvciB2ZXJzaW9uIG51bWJlciBmb3IgSUUsIG9yIE5hTiBpZiBVQSBpcyBub3QgSUUuXG4gICAganFMaXRlLCAgICAgICAgICAgLy8gZGVsYXkgYmluZGluZyBzaW5jZSBqUXVlcnkgY291bGQgYmUgbG9hZGVkIGFmdGVyIHVzLlxuICAgIGpRdWVyeSwgICAgICAgICAgIC8vIGRlbGF5IGJpbmRpbmdcbiAgICBzbGljZSAgICAgICAgICAgICA9IFtdLnNsaWNlLFxuICAgIHNwbGljZSAgICAgICAgICAgID0gW10uc3BsaWNlLFxuICAgIHB1c2ggICAgICAgICAgICAgID0gW10ucHVzaCxcbiAgICB0b1N0cmluZyAgICAgICAgICA9IE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcsXG4gICAgZ2V0UHJvdG90eXBlT2YgICAgPSBPYmplY3QuZ2V0UHJvdG90eXBlT2YsXG4gICAgbmdNaW5FcnIgICAgICAgICAgPSBtaW5FcnIoJ25nJyksXG5cbiAgICAvKiogQG5hbWUgYW5ndWxhciAqL1xuICAgIGFuZ3VsYXIgICAgICAgICAgID0gd2luZG93LmFuZ3VsYXIgfHwgKHdpbmRvdy5hbmd1bGFyID0ge30pLFxuICAgIGFuZ3VsYXJNb2R1bGUsXG4gICAgdWlkICAgICAgICAgICAgICAgPSAwO1xuXG4vLyBTdXBwb3J0OiBJRSA5LTExIG9ubHlcbi8qKlxuICogZG9jdW1lbnRNb2RlIGlzIGFuIElFLW9ubHkgcHJvcGVydHlcbiAqIGh0dHA6Ly9tc2RuLm1pY3Jvc29mdC5jb20vZW4tdXMvbGlicmFyeS9pZS9jYzE5Njk4OCh2PXZzLjg1KS5hc3B4XG4gKi9cbm1zaWUgPSB3aW5kb3cuZG9jdW1lbnQuZG9jdW1lbnRNb2RlO1xuXG5cbi8qKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7Kn0gb2JqXG4gKiBAcmV0dXJuIHtib29sZWFufSBSZXR1cm5zIHRydWUgaWYgYG9iamAgaXMgYW4gYXJyYXkgb3IgYXJyYXktbGlrZSBvYmplY3QgKE5vZGVMaXN0LCBBcmd1bWVudHMsXG4gKiAgICAgICAgICAgICAgICAgICBTdHJpbmcgLi4uKVxuICovXG5mdW5jdGlvbiBpc0FycmF5TGlrZShvYmopIHtcblxuICAvLyBgbnVsbGAsIGB1bmRlZmluZWRgIGFuZCBgd2luZG93YCBhcmUgbm90IGFycmF5LWxpa2VcbiAgaWYgKG9iaiA9PSBudWxsIHx8IGlzV2luZG93KG9iaikpIHJldHVybiBmYWxzZTtcblxuICAvLyBhcnJheXMsIHN0cmluZ3MgYW5kIGpRdWVyeS9qcUxpdGUgb2JqZWN0cyBhcmUgYXJyYXkgbGlrZVxuICAvLyAqIGpxTGl0ZSBpcyBlaXRoZXIgdGhlIGpRdWVyeSBvciBqcUxpdGUgY29uc3RydWN0b3IgZnVuY3Rpb25cbiAgLy8gKiB3ZSBoYXZlIHRvIGNoZWNrIHRoZSBleGlzdGVuY2Ugb2YganFMaXRlIGZpcnN0IGFzIHRoaXMgbWV0aG9kIGlzIGNhbGxlZFxuICAvLyAgIHZpYSB0aGUgZm9yRWFjaCBtZXRob2Qgd2hlbiBjb25zdHJ1Y3RpbmcgdGhlIGpxTGl0ZSBvYmplY3QgaW4gdGhlIGZpcnN0IHBsYWNlXG4gIGlmIChpc0FycmF5KG9iaikgfHwgaXNTdHJpbmcob2JqKSB8fCAoanFMaXRlICYmIG9iaiBpbnN0YW5jZW9mIGpxTGl0ZSkpIHJldHVybiB0cnVlO1xuXG4gIC8vIFN1cHBvcnQ6IGlPUyA4LjIgKG5vdCByZXByb2R1Y2libGUgaW4gc2ltdWxhdG9yKVxuICAvLyBcImxlbmd0aFwiIGluIG9iaiB1c2VkIHRvIHByZXZlbnQgSklUIGVycm9yIChnaC0xMTUwOClcbiAgdmFyIGxlbmd0aCA9ICdsZW5ndGgnIGluIE9iamVjdChvYmopICYmIG9iai5sZW5ndGg7XG5cbiAgLy8gTm9kZUxpc3Qgb2JqZWN0cyAod2l0aCBgaXRlbWAgbWV0aG9kKSBhbmRcbiAgLy8gb3RoZXIgb2JqZWN0cyB3aXRoIHN1aXRhYmxlIGxlbmd0aCBjaGFyYWN0ZXJpc3RpY3MgYXJlIGFycmF5LWxpa2VcbiAgcmV0dXJuIGlzTnVtYmVyKGxlbmd0aCkgJiZcbiAgICAobGVuZ3RoID49IDAgJiYgKChsZW5ndGggLSAxKSBpbiBvYmogfHwgb2JqIGluc3RhbmNlb2YgQXJyYXkpIHx8IHR5cGVvZiBvYmouaXRlbSA9PT0gJ2Z1bmN0aW9uJyk7XG5cbn1cblxuLyoqXG4gKiBAbmdkb2MgZnVuY3Rpb25cbiAqIEBuYW1lIGFuZ3VsYXIuZm9yRWFjaFxuICogQG1vZHVsZSBuZ1xuICogQGtpbmQgZnVuY3Rpb25cbiAqXG4gKiBAZGVzY3JpcHRpb25cbiAqIEludm9rZXMgdGhlIGBpdGVyYXRvcmAgZnVuY3Rpb24gb25jZSBmb3IgZWFjaCBpdGVtIGluIGBvYmpgIGNvbGxlY3Rpb24sIHdoaWNoIGNhbiBiZSBlaXRoZXIgYW5cbiAqIG9iamVjdCBvciBhbiBhcnJheS4gVGhlIGBpdGVyYXRvcmAgZnVuY3Rpb24gaXMgaW52b2tlZCB3aXRoIGBpdGVyYXRvcih2YWx1ZSwga2V5LCBvYmopYCwgd2hlcmUgYHZhbHVlYFxuICogaXMgdGhlIHZhbHVlIG9mIGFuIG9iamVjdCBwcm9wZXJ0eSBvciBhbiBhcnJheSBlbGVtZW50LCBga2V5YCBpcyB0aGUgb2JqZWN0IHByb3BlcnR5IGtleSBvclxuICogYXJyYXkgZWxlbWVudCBpbmRleCBhbmQgb2JqIGlzIHRoZSBgb2JqYCBpdHNlbGYuIFNwZWNpZnlpbmcgYSBgY29udGV4dGAgZm9yIHRoZSBmdW5jdGlvbiBpcyBvcHRpb25hbC5cbiAqXG4gKiBJdCBpcyB3b3J0aCBub3RpbmcgdGhhdCBgLmZvckVhY2hgIGRvZXMgbm90IGl0ZXJhdGUgb3ZlciBpbmhlcml0ZWQgcHJvcGVydGllcyBiZWNhdXNlIGl0IGZpbHRlcnNcbiAqIHVzaW5nIHRoZSBgaGFzT3duUHJvcGVydHlgIG1ldGhvZC5cbiAqXG4gKiBVbmxpa2UgRVMyNjInc1xuICogW0FycmF5LnByb3RvdHlwZS5mb3JFYWNoXShodHRwOi8vd3d3LmVjbWEtaW50ZXJuYXRpb25hbC5vcmcvZWNtYS0yNjIvNS4xLyNzZWMtMTUuNC40LjE4KSxcbiAqIHByb3ZpZGluZyAndW5kZWZpbmVkJyBvciAnbnVsbCcgdmFsdWVzIGZvciBgb2JqYCB3aWxsIG5vdCB0aHJvdyBhIFR5cGVFcnJvciwgYnV0IHJhdGhlciBqdXN0XG4gKiByZXR1cm4gdGhlIHZhbHVlIHByb3ZpZGVkLlxuICpcbiAgIGBgYGpzXG4gICAgIHZhciB2YWx1ZXMgPSB7bmFtZTogJ21pc2tvJywgZ2VuZGVyOiAnbWFsZSd9O1xuICAgICB2YXIgbG9nID0gW107XG4gICAgIGFuZ3VsYXIuZm9yRWFjaCh2YWx1ZXMsIGZ1bmN0aW9uKHZhbHVlLCBrZXkpIHtcbiAgICAgICB0aGlzLnB1c2goa2V5ICsgJzogJyArIHZhbHVlKTtcbiAgICAgfSwgbG9nKTtcbiAgICAgZXhwZWN0KGxvZykudG9FcXVhbChbJ25hbWU6IG1pc2tvJywgJ2dlbmRlcjogbWFsZSddKTtcbiAgIGBgYFxuICpcbiAqIEBwYXJhbSB7T2JqZWN0fEFycmF5fSBvYmogT2JqZWN0IHRvIGl0ZXJhdGUgb3Zlci5cbiAqIEBwYXJhbSB7RnVuY3Rpb259IGl0ZXJhdG9yIEl0ZXJhdG9yIGZ1bmN0aW9uLlxuICogQHBhcmFtIHtPYmplY3Q9fSBjb250ZXh0IE9iamVjdCB0byBiZWNvbWUgY29udGV4dCAoYHRoaXNgKSBmb3IgdGhlIGl0ZXJhdG9yIGZ1bmN0aW9uLlxuICogQHJldHVybnMge09iamVjdHxBcnJheX0gUmVmZXJlbmNlIHRvIGBvYmpgLlxuICovXG5cbmZ1bmN0aW9uIGZvckVhY2gob2JqLCBpdGVyYXRvciwgY29udGV4dCkge1xuICB2YXIga2V5LCBsZW5ndGg7XG4gIGlmIChvYmopIHtcbiAgICBpZiAoaXNGdW5jdGlvbihvYmopKSB7XG4gICAgICBmb3IgKGtleSBpbiBvYmopIHtcbiAgICAgICAgaWYgKGtleSAhPT0gJ3Byb3RvdHlwZScgJiYga2V5ICE9PSAnbGVuZ3RoJyAmJiBrZXkgIT09ICduYW1lJyAmJiBvYmouaGFzT3duUHJvcGVydHkoa2V5KSkge1xuICAgICAgICAgIGl0ZXJhdG9yLmNhbGwoY29udGV4dCwgb2JqW2tleV0sIGtleSwgb2JqKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0gZWxzZSBpZiAoaXNBcnJheShvYmopIHx8IGlzQXJyYXlMaWtlKG9iaikpIHtcbiAgICAgIHZhciBpc1ByaW1pdGl2ZSA9IHR5cGVvZiBvYmogIT09ICdvYmplY3QnO1xuICAgICAgZm9yIChrZXkgPSAwLCBsZW5ndGggPSBvYmoubGVuZ3RoOyBrZXkgPCBsZW5ndGg7IGtleSsrKSB7XG4gICAgICAgIGlmIChpc1ByaW1pdGl2ZSB8fCBrZXkgaW4gb2JqKSB7XG4gICAgICAgICAgaXRlcmF0b3IuY2FsbChjb250ZXh0LCBvYmpba2V5XSwga2V5LCBvYmopO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSBlbHNlIGlmIChvYmouZm9yRWFjaCAmJiBvYmouZm9yRWFjaCAhPT0gZm9yRWFjaCkge1xuICAgICAgICBvYmouZm9yRWFjaChpdGVyYXRvciwgY29udGV4dCwgb2JqKTtcbiAgICB9IGVsc2UgaWYgKGlzQmxhbmtPYmplY3Qob2JqKSkge1xuICAgICAgLy8gY3JlYXRlTWFwKCkgZmFzdCBwYXRoIC0tLSBTYWZlIHRvIGF2b2lkIGhhc093blByb3BlcnR5IGNoZWNrIGJlY2F1c2UgcHJvdG90eXBlIGNoYWluIGlzIGVtcHR5XG4gICAgICBmb3IgKGtleSBpbiBvYmopIHtcbiAgICAgICAgaXRlcmF0b3IuY2FsbChjb250ZXh0LCBvYmpba2V5XSwga2V5LCBvYmopO1xuICAgICAgfVxuICAgIH0gZWxzZSBpZiAodHlwZW9mIG9iai5oYXNPd25Qcm9wZXJ0eSA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgLy8gU2xvdyBwYXRoIGZvciBvYmplY3RzIGluaGVyaXRpbmcgT2JqZWN0LnByb3RvdHlwZSwgaGFzT3duUHJvcGVydHkgY2hlY2sgbmVlZGVkXG4gICAgICBmb3IgKGtleSBpbiBvYmopIHtcbiAgICAgICAgaWYgKG9iai5oYXNPd25Qcm9wZXJ0eShrZXkpKSB7XG4gICAgICAgICAgaXRlcmF0b3IuY2FsbChjb250ZXh0LCBvYmpba2V5XSwga2V5LCBvYmopO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIFNsb3cgcGF0aCBmb3Igb2JqZWN0cyB3aGljaCBkbyBub3QgaGF2ZSBhIG1ldGhvZCBgaGFzT3duUHJvcGVydHlgXG4gICAgICBmb3IgKGtleSBpbiBvYmopIHtcbiAgICAgICAgaWYgKGhhc093blByb3BlcnR5LmNhbGwob2JqLCBrZXkpKSB7XG4gICAgICAgICAgaXRlcmF0b3IuY2FsbChjb250ZXh0LCBvYmpba2V5XSwga2V5LCBvYmopO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9XG4gIHJldHVybiBvYmo7XG59XG5cbmZ1bmN0aW9uIGZvckVhY2hTb3J0ZWQob2JqLCBpdGVyYXRvciwgY29udGV4dCkge1xuICB2YXIga2V5cyA9IE9iamVjdC5rZXlzKG9iaikuc29ydCgpO1xuICBmb3IgKHZhciBpID0gMDsgaSA8IGtleXMubGVuZ3RoOyBpKyspIHtcbiAgICBpdGVyYXRvci5jYWxsKGNvbnRleHQsIG9ialtrZXlzW2ldXSwga2V5c1tpXSk7XG4gIH1cbiAgcmV0dXJuIGtleXM7XG59XG5cblxuLyoqXG4gKiB3aGVuIHVzaW5nIGZvckVhY2ggdGhlIHBhcmFtcyBhcmUgdmFsdWUsIGtleSwgYnV0IGl0IGlzIG9mdGVuIHVzZWZ1bCB0byBoYXZlIGtleSwgdmFsdWUuXG4gKiBAcGFyYW0ge2Z1bmN0aW9uKHN0cmluZywgKil9IGl0ZXJhdG9yRm5cbiAqIEByZXR1cm5zIHtmdW5jdGlvbigqLCBzdHJpbmcpfVxuICovXG5mdW5jdGlvbiByZXZlcnNlUGFyYW1zKGl0ZXJhdG9yRm4pIHtcbiAgcmV0dXJuIGZ1bmN0aW9uKHZhbHVlLCBrZXkpIHtpdGVyYXRvckZuKGtleSwgdmFsdWUpO307XG59XG5cbi8qKlxuICogQSBjb25zaXN0ZW50IHdheSBvZiBjcmVhdGluZyB1bmlxdWUgSURzIGluIGFuZ3VsYXIuXG4gKlxuICogVXNpbmcgc2ltcGxlIG51bWJlcnMgYWxsb3dzIHVzIHRvIGdlbmVyYXRlIDI4LjYgbWlsbGlvbiB1bmlxdWUgaWRzIHBlciBzZWNvbmQgZm9yIDEwIHllYXJzIGJlZm9yZVxuICogd2UgaGl0IG51bWJlciBwcmVjaXNpb24gaXNzdWVzIGluIEphdmFTY3JpcHQuXG4gKlxuICogTWF0aC5wb3coMiw1MykgLyA2MCAvIDYwIC8gMjQgLyAzNjUgLyAxMCA9IDI4LjZNXG4gKlxuICogQHJldHVybnMge251bWJlcn0gYW4gdW5pcXVlIGFscGhhLW51bWVyaWMgc3RyaW5nXG4gKi9cbmZ1bmN0aW9uIG5leHRVaWQoKSB7XG4gIHJldHVybiArK3VpZDtcbn1cblxuXG4vKipcbiAqIFNldCBvciBjbGVhciB0aGUgaGFzaGtleSBmb3IgYW4gb2JqZWN0LlxuICogQHBhcmFtIG9iaiBvYmplY3RcbiAqIEBwYXJhbSBoIHRoZSBoYXNoa2V5ICghdHJ1dGh5IHRvIGRlbGV0ZSB0aGUgaGFzaGtleSlcbiAqL1xuZnVuY3Rpb24gc2V0SGFzaEtleShvYmosIGgpIHtcbiAgaWYgKGgpIHtcbiAgICBvYmouJCRoYXNoS2V5ID0gaDtcbiAgfSBlbHNlIHtcbiAgICBkZWxldGUgb2JqLiQkaGFzaEtleTtcbiAgfVxufVxuXG5cbmZ1bmN0aW9uIGJhc2VFeHRlbmQoZHN0LCBvYmpzLCBkZWVwKSB7XG4gIHZhciBoID0gZHN0LiQkaGFzaEtleTtcblxuICBmb3IgKHZhciBpID0gMCwgaWkgPSBvYmpzLmxlbmd0aDsgaSA8IGlpOyArK2kpIHtcbiAgICB2YXIgb2JqID0gb2Jqc1tpXTtcbiAgICBpZiAoIWlzT2JqZWN0KG9iaikgJiYgIWlzRnVuY3Rpb24ob2JqKSkgY29udGludWU7XG4gICAgdmFyIGtleXMgPSBPYmplY3Qua2V5cyhvYmopO1xuICAgIGZvciAodmFyIGogPSAwLCBqaiA9IGtleXMubGVuZ3RoOyBqIDwgamo7IGorKykge1xuICAgICAgdmFyIGtleSA9IGtleXNbal07XG4gICAgICB2YXIgc3JjID0gb2JqW2tleV07XG5cbiAgICAgIGlmIChkZWVwICYmIGlzT2JqZWN0KHNyYykpIHtcbiAgICAgICAgaWYgKGlzRGF0ZShzcmMpKSB7XG4gICAgICAgICAgZHN0W2tleV0gPSBuZXcgRGF0ZShzcmMudmFsdWVPZigpKTtcbiAgICAgICAgfSBlbHNlIGlmIChpc1JlZ0V4cChzcmMpKSB7XG4gICAgICAgICAgZHN0W2tleV0gPSBuZXcgUmVnRXhwKHNyYyk7XG4gICAgICAgIH0gZWxzZSBpZiAoc3JjLm5vZGVOYW1lKSB7XG4gICAgICAgICAgZHN0W2tleV0gPSBzcmMuY2xvbmVOb2RlKHRydWUpO1xuICAgICAgICB9IGVsc2UgaWYgKGlzRWxlbWVudChzcmMpKSB7XG4gICAgICAgICAgZHN0W2tleV0gPSBzcmMuY2xvbmUoKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBpZiAoIWlzT2JqZWN0KGRzdFtrZXldKSkgZHN0W2tleV0gPSBpc0FycmF5KHNyYykgPyBbXSA6IHt9O1xuICAgICAgICAgIGJhc2VFeHRlbmQoZHN0W2tleV0sIFtzcmNdLCB0cnVlKTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgZHN0W2tleV0gPSBzcmM7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgc2V0SGFzaEtleShkc3QsIGgpO1xuICByZXR1cm4gZHN0O1xufVxuXG4vKipcbiAqIEBuZ2RvYyBmdW5jdGlvblxuICogQG5hbWUgYW5ndWxhci5leHRlbmRcbiAqIEBtb2R1bGUgbmdcbiAqIEBraW5kIGZ1bmN0aW9uXG4gKlxuICogQGRlc2NyaXB0aW9uXG4gKiBFeHRlbmRzIHRoZSBkZXN0aW5hdGlvbiBvYmplY3QgYGRzdGAgYnkgY29weWluZyBvd24gZW51bWVyYWJsZSBwcm9wZXJ0aWVzIGZyb20gdGhlIGBzcmNgIG9iamVjdChzKVxuICogdG8gYGRzdGAuIFlvdSBjYW4gc3BlY2lmeSBtdWx0aXBsZSBgc3JjYCBvYmplY3RzLiBJZiB5b3Ugd2FudCB0byBwcmVzZXJ2ZSBvcmlnaW5hbCBvYmplY3RzLCB5b3UgY2FuIGRvIHNvXG4gKiBieSBwYXNzaW5nIGFuIGVtcHR5IG9iamVjdCBhcyB0aGUgdGFyZ2V0OiBgdmFyIG9iamVjdCA9IGFuZ3VsYXIuZXh0ZW5kKHt9LCBvYmplY3QxLCBvYmplY3QyKWAuXG4gKlxuICogKipOb3RlOioqIEtlZXAgaW4gbWluZCB0aGF0IGBhbmd1bGFyLmV4dGVuZGAgZG9lcyBub3Qgc3VwcG9ydCByZWN1cnNpdmUgbWVyZ2UgKGRlZXAgY29weSkuIFVzZVxuICoge0BsaW5rIGFuZ3VsYXIubWVyZ2V9IGZvciB0aGlzLlxuICpcbiAqIEBwYXJhbSB7T2JqZWN0fSBkc3QgRGVzdGluYXRpb24gb2JqZWN0LlxuICogQHBhcmFtIHsuLi5PYmplY3R9IHNyYyBTb3VyY2Ugb2JqZWN0KHMpLlxuICogQHJldHVybnMge09iamVjdH0gUmVmZXJlbmNlIHRvIGBkc3RgLlxuICovXG5mdW5jdGlvbiBleHRlbmQoZHN0KSB7XG4gIHJldHVybiBiYXNlRXh0ZW5kKGRzdCwgc2xpY2UuY2FsbChhcmd1bWVudHMsIDEpLCBmYWxzZSk7XG59XG5cblxuLyoqXG4qIEBuZ2RvYyBmdW5jdGlvblxuKiBAbmFtZSBhbmd1bGFyLm1lcmdlXG4qIEBtb2R1bGUgbmdcbiogQGtpbmQgZnVuY3Rpb25cbipcbiogQGRlc2NyaXB0aW9uXG4qIERlZXBseSBleHRlbmRzIHRoZSBkZXN0aW5hdGlvbiBvYmplY3QgYGRzdGAgYnkgY29weWluZyBvd24gZW51bWVyYWJsZSBwcm9wZXJ0aWVzIGZyb20gdGhlIGBzcmNgIG9iamVjdChzKVxuKiB0byBgZHN0YC4gWW91IGNhbiBzcGVjaWZ5IG11bHRpcGxlIGBzcmNgIG9iamVjdHMuIElmIHlvdSB3YW50IHRvIHByZXNlcnZlIG9yaWdpbmFsIG9iamVjdHMsIHlvdSBjYW4gZG8gc29cbiogYnkgcGFzc2luZyBhbiBlbXB0eSBvYmplY3QgYXMgdGhlIHRhcmdldDogYHZhciBvYmplY3QgPSBhbmd1bGFyLm1lcmdlKHt9LCBvYmplY3QxLCBvYmplY3QyKWAuXG4qXG4qIFVubGlrZSB7QGxpbmsgYW5ndWxhci5leHRlbmQgZXh0ZW5kKCl9LCBgbWVyZ2UoKWAgcmVjdXJzaXZlbHkgZGVzY2VuZHMgaW50byBvYmplY3QgcHJvcGVydGllcyBvZiBzb3VyY2Vcbiogb2JqZWN0cywgcGVyZm9ybWluZyBhIGRlZXAgY29weS5cbipcbiogQHBhcmFtIHtPYmplY3R9IGRzdCBEZXN0aW5hdGlvbiBvYmplY3QuXG4qIEBwYXJhbSB7Li4uT2JqZWN0fSBzcmMgU291cmNlIG9iamVjdChzKS5cbiogQHJldHVybnMge09iamVjdH0gUmVmZXJlbmNlIHRvIGBkc3RgLlxuKi9cbmZ1bmN0aW9uIG1lcmdlKGRzdCkge1xuICByZXR1cm4gYmFzZUV4dGVuZChkc3QsIHNsaWNlLmNhbGwoYXJndW1lbnRzLCAxKSwgdHJ1ZSk7XG59XG5cblxuXG5mdW5jdGlvbiB0b0ludChzdHIpIHtcbiAgcmV0dXJuIHBhcnNlSW50KHN0ciwgMTApO1xufVxuXG52YXIgaXNOdW1iZXJOYU4gPSBOdW1iZXIuaXNOYU4gfHwgZnVuY3Rpb24gaXNOdW1iZXJOYU4obnVtKSB7XG4gIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1zZWxmLWNvbXBhcmVcbiAgcmV0dXJuIG51bSAhPT0gbnVtO1xufTtcblxuXG5mdW5jdGlvbiBpbmhlcml0KHBhcmVudCwgZXh0cmEpIHtcbiAgcmV0dXJuIGV4dGVuZChPYmplY3QuY3JlYXRlKHBhcmVudCksIGV4dHJhKTtcbn1cblxuLyoqXG4gKiBAbmdkb2MgZnVuY3Rpb25cbiAqIEBuYW1lIGFuZ3VsYXIubm9vcFxuICogQG1vZHVsZSBuZ1xuICogQGtpbmQgZnVuY3Rpb25cbiAqXG4gKiBAZGVzY3JpcHRpb25cbiAqIEEgZnVuY3Rpb24gdGhhdCBwZXJmb3JtcyBubyBvcGVyYXRpb25zLiBUaGlzIGZ1bmN0aW9uIGNhbiBiZSB1c2VmdWwgd2hlbiB3cml0aW5nIGNvZGUgaW4gdGhlXG4gKiBmdW5jdGlvbmFsIHN0eWxlLlxuICAgYGBganNcbiAgICAgZnVuY3Rpb24gZm9vKGNhbGxiYWNrKSB7XG4gICAgICAgdmFyIHJlc3VsdCA9IGNhbGN1bGF0ZVJlc3VsdCgpO1xuICAgICAgIChjYWxsYmFjayB8fCBhbmd1bGFyLm5vb3ApKHJlc3VsdCk7XG4gICAgIH1cbiAgIGBgYFxuICovXG5mdW5jdGlvbiBub29wKCkge31cbm5vb3AuJGluamVjdCA9IFtdO1xuXG5cbi8qKlxuICogQG5nZG9jIGZ1bmN0aW9uXG4gKiBAbmFtZSBhbmd1bGFyLmlkZW50aXR5XG4gKiBAbW9kdWxlIG5nXG4gKiBAa2luZCBmdW5jdGlvblxuICpcbiAqIEBkZXNjcmlwdGlvblxuICogQSBmdW5jdGlvbiB0aGF0IHJldHVybnMgaXRzIGZpcnN0IGFyZ3VtZW50LiBUaGlzIGZ1bmN0aW9uIGlzIHVzZWZ1bCB3aGVuIHdyaXRpbmcgY29kZSBpbiB0aGVcbiAqIGZ1bmN0aW9uYWwgc3R5bGUuXG4gKlxuICAgYGBganNcbiAgIGZ1bmN0aW9uIHRyYW5zZm9ybWVyKHRyYW5zZm9ybWF0aW9uRm4sIHZhbHVlKSB7XG4gICAgIHJldHVybiAodHJhbnNmb3JtYXRpb25GbiB8fCBhbmd1bGFyLmlkZW50aXR5KSh2YWx1ZSk7XG4gICB9O1xuXG4gICAvLyBFLmcuXG4gICBmdW5jdGlvbiBnZXRSZXN1bHQoZm4sIGlucHV0KSB7XG4gICAgIHJldHVybiAoZm4gfHwgYW5ndWxhci5pZGVudGl0eSkoaW5wdXQpO1xuICAgfTtcblxuICAgZ2V0UmVzdWx0KGZ1bmN0aW9uKG4pIHsgcmV0dXJuIG4gKiAyOyB9LCAyMSk7ICAgLy8gcmV0dXJucyA0MlxuICAgZ2V0UmVzdWx0KG51bGwsIDIxKTsgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gcmV0dXJucyAyMVxuICAgZ2V0UmVzdWx0KHVuZGVmaW5lZCwgMjEpOyAgICAgICAgICAgICAgICAgICAgICAgLy8gcmV0dXJucyAyMVxuICAgYGBgXG4gKlxuICogQHBhcmFtIHsqfSB2YWx1ZSB0byBiZSByZXR1cm5lZC5cbiAqIEByZXR1cm5zIHsqfSB0aGUgdmFsdWUgcGFzc2VkIGluLlxuICovXG5mdW5jdGlvbiBpZGVudGl0eSgkKSB7cmV0dXJuICQ7fVxuaWRlbnRpdHkuJGluamVjdCA9IFtdO1xuXG5cbmZ1bmN0aW9uIHZhbHVlRm4odmFsdWUpIHtyZXR1cm4gZnVuY3Rpb24gdmFsdWVSZWYoKSB7cmV0dXJuIHZhbHVlO307fVxuXG5mdW5jdGlvbiBoYXNDdXN0b21Ub1N0cmluZyhvYmopIHtcbiAgcmV0dXJuIGlzRnVuY3Rpb24ob2JqLnRvU3RyaW5nKSAmJiBvYmoudG9TdHJpbmcgIT09IHRvU3RyaW5nO1xufVxuXG5cbi8qKlxuICogQG5nZG9jIGZ1bmN0aW9uXG4gKiBAbmFtZSBhbmd1bGFyLmlzVW5kZWZpbmVkXG4gKiBAbW9kdWxlIG5nXG4gKiBAa2luZCBmdW5jdGlvblxuICpcbiAqIEBkZXNjcmlwdGlvblxuICogRGV0ZXJtaW5lcyBpZiBhIHJlZmVyZW5jZSBpcyB1bmRlZmluZWQuXG4gKlxuICogQHBhcmFtIHsqfSB2YWx1ZSBSZWZlcmVuY2UgdG8gY2hlY2suXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gVHJ1ZSBpZiBgdmFsdWVgIGlzIHVuZGVmaW5lZC5cbiAqL1xuZnVuY3Rpb24gaXNVbmRlZmluZWQodmFsdWUpIHtyZXR1cm4gdHlwZW9mIHZhbHVlID09PSAndW5kZWZpbmVkJzt9XG5cblxuLyoqXG4gKiBAbmdkb2MgZnVuY3Rpb25cbiAqIEBuYW1lIGFuZ3VsYXIuaXNEZWZpbmVkXG4gKiBAbW9kdWxlIG5nXG4gKiBAa2luZCBmdW5jdGlvblxuICpcbiAqIEBkZXNjcmlwdGlvblxuICogRGV0ZXJtaW5lcyBpZiBhIHJlZmVyZW5jZSBpcyBkZWZpbmVkLlxuICpcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgUmVmZXJlbmNlIHRvIGNoZWNrLlxuICogQHJldHVybnMge2Jvb2xlYW59IFRydWUgaWYgYHZhbHVlYCBpcyBkZWZpbmVkLlxuICovXG5mdW5jdGlvbiBpc0RlZmluZWQodmFsdWUpIHtyZXR1cm4gdHlwZW9mIHZhbHVlICE9PSAndW5kZWZpbmVkJzt9XG5cblxuLyoqXG4gKiBAbmdkb2MgZnVuY3Rpb25cbiAqIEBuYW1lIGFuZ3VsYXIuaXNPYmplY3RcbiAqIEBtb2R1bGUgbmdcbiAqIEBraW5kIGZ1bmN0aW9uXG4gKlxuICogQGRlc2NyaXB0aW9uXG4gKiBEZXRlcm1pbmVzIGlmIGEgcmVmZXJlbmNlIGlzIGFuIGBPYmplY3RgLiBVbmxpa2UgYHR5cGVvZmAgaW4gSmF2YVNjcmlwdCwgYG51bGxgcyBhcmUgbm90XG4gKiBjb25zaWRlcmVkIHRvIGJlIG9iamVjdHMuIE5vdGUgdGhhdCBKYXZhU2NyaXB0IGFycmF5cyBhcmUgb2JqZWN0cy5cbiAqXG4gKiBAcGFyYW0geyp9IHZhbHVlIFJlZmVyZW5jZSB0byBjaGVjay5cbiAqIEByZXR1cm5zIHtib29sZWFufSBUcnVlIGlmIGB2YWx1ZWAgaXMgYW4gYE9iamVjdGAgYnV0IG5vdCBgbnVsbGAuXG4gKi9cbmZ1bmN0aW9uIGlzT2JqZWN0KHZhbHVlKSB7XG4gIC8vIGh0dHA6Ly9qc3BlcmYuY29tL2lzb2JqZWN0NFxuICByZXR1cm4gdmFsdWUgIT09IG51bGwgJiYgdHlwZW9mIHZhbHVlID09PSAnb2JqZWN0Jztcbn1cblxuXG4vKipcbiAqIERldGVybWluZSBpZiBhIHZhbHVlIGlzIGFuIG9iamVjdCB3aXRoIGEgbnVsbCBwcm90b3R5cGVcbiAqXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gVHJ1ZSBpZiBgdmFsdWVgIGlzIGFuIGBPYmplY3RgIHdpdGggYSBudWxsIHByb3RvdHlwZVxuICovXG5mdW5jdGlvbiBpc0JsYW5rT2JqZWN0KHZhbHVlKSB7XG4gIHJldHVybiB2YWx1ZSAhPT0gbnVsbCAmJiB0eXBlb2YgdmFsdWUgPT09ICdvYmplY3QnICYmICFnZXRQcm90b3R5cGVPZih2YWx1ZSk7XG59XG5cblxuLyoqXG4gKiBAbmdkb2MgZnVuY3Rpb25cbiAqIEBuYW1lIGFuZ3VsYXIuaXNTdHJpbmdcbiAqIEBtb2R1bGUgbmdcbiAqIEBraW5kIGZ1bmN0aW9uXG4gKlxuICogQGRlc2NyaXB0aW9uXG4gKiBEZXRlcm1pbmVzIGlmIGEgcmVmZXJlbmNlIGlzIGEgYFN0cmluZ2AuXG4gKlxuICogQHBhcmFtIHsqfSB2YWx1ZSBSZWZlcmVuY2UgdG8gY2hlY2suXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gVHJ1ZSBpZiBgdmFsdWVgIGlzIGEgYFN0cmluZ2AuXG4gKi9cbmZ1bmN0aW9uIGlzU3RyaW5nKHZhbHVlKSB7cmV0dXJuIHR5cGVvZiB2YWx1ZSA9PT0gJ3N0cmluZyc7fVxuXG5cbi8qKlxuICogQG5nZG9jIGZ1bmN0aW9uXG4gKiBAbmFtZSBhbmd1bGFyLmlzTnVtYmVyXG4gKiBAbW9kdWxlIG5nXG4gKiBAa2luZCBmdW5jdGlvblxuICpcbiAqIEBkZXNjcmlwdGlvblxuICogRGV0ZXJtaW5lcyBpZiBhIHJlZmVyZW5jZSBpcyBhIGBOdW1iZXJgLlxuICpcbiAqIFRoaXMgaW5jbHVkZXMgdGhlIFwic3BlY2lhbFwiIG51bWJlcnMgYE5hTmAsIGArSW5maW5pdHlgIGFuZCBgLUluZmluaXR5YC5cbiAqXG4gKiBJZiB5b3Ugd2lzaCB0byBleGNsdWRlIHRoZXNlIHRoZW4geW91IGNhbiB1c2UgdGhlIG5hdGl2ZVxuICogW2Bpc0Zpbml0ZSddKGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0phdmFTY3JpcHQvUmVmZXJlbmNlL0dsb2JhbF9PYmplY3RzL2lzRmluaXRlKVxuICogbWV0aG9kLlxuICpcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgUmVmZXJlbmNlIHRvIGNoZWNrLlxuICogQHJldHVybnMge2Jvb2xlYW59IFRydWUgaWYgYHZhbHVlYCBpcyBhIGBOdW1iZXJgLlxuICovXG5mdW5jdGlvbiBpc051bWJlcih2YWx1ZSkge3JldHVybiB0eXBlb2YgdmFsdWUgPT09ICdudW1iZXInO31cblxuXG4vKipcbiAqIEBuZ2RvYyBmdW5jdGlvblxuICogQG5hbWUgYW5ndWxhci5pc0RhdGVcbiAqIEBtb2R1bGUgbmdcbiAqIEBraW5kIGZ1bmN0aW9uXG4gKlxuICogQGRlc2NyaXB0aW9uXG4gKiBEZXRlcm1pbmVzIGlmIGEgdmFsdWUgaXMgYSBkYXRlLlxuICpcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgUmVmZXJlbmNlIHRvIGNoZWNrLlxuICogQHJldHVybnMge2Jvb2xlYW59IFRydWUgaWYgYHZhbHVlYCBpcyBhIGBEYXRlYC5cbiAqL1xuZnVuY3Rpb24gaXNEYXRlKHZhbHVlKSB7XG4gIHJldHVybiB0b1N0cmluZy5jYWxsKHZhbHVlKSA9PT0gJ1tvYmplY3QgRGF0ZV0nO1xufVxuXG5cbi8qKlxuICogQG5nZG9jIGZ1bmN0aW9uXG4gKiBAbmFtZSBhbmd1bGFyLmlzQXJyYXlcbiAqIEBtb2R1bGUgbmdcbiAqIEBraW5kIGZ1bmN0aW9uXG4gKlxuICogQGRlc2NyaXB0aW9uXG4gKiBEZXRlcm1pbmVzIGlmIGEgcmVmZXJlbmNlIGlzIGFuIGBBcnJheWAuIEFsaWFzIG9mIEFycmF5LmlzQXJyYXkuXG4gKlxuICogQHBhcmFtIHsqfSB2YWx1ZSBSZWZlcmVuY2UgdG8gY2hlY2suXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gVHJ1ZSBpZiBgdmFsdWVgIGlzIGFuIGBBcnJheWAuXG4gKi9cbnZhciBpc0FycmF5ID0gQXJyYXkuaXNBcnJheTtcblxuLyoqXG4gKiBAbmdkb2MgZnVuY3Rpb25cbiAqIEBuYW1lIGFuZ3VsYXIuaXNGdW5jdGlvblxuICogQG1vZHVsZSBuZ1xuICogQGtpbmQgZnVuY3Rpb25cbiAqXG4gKiBAZGVzY3JpcHRpb25cbiAqIERldGVybWluZXMgaWYgYSByZWZlcmVuY2UgaXMgYSBgRnVuY3Rpb25gLlxuICpcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgUmVmZXJlbmNlIHRvIGNoZWNrLlxuICogQHJldHVybnMge2Jvb2xlYW59IFRydWUgaWYgYHZhbHVlYCBpcyBhIGBGdW5jdGlvbmAuXG4gKi9cbmZ1bmN0aW9uIGlzRnVuY3Rpb24odmFsdWUpIHtyZXR1cm4gdHlwZW9mIHZhbHVlID09PSAnZnVuY3Rpb24nO31cblxuXG4vKipcbiAqIERldGVybWluZXMgaWYgYSB2YWx1ZSBpcyBhIHJlZ3VsYXIgZXhwcmVzc2lvbiBvYmplY3QuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgUmVmZXJlbmNlIHRvIGNoZWNrLlxuICogQHJldHVybnMge2Jvb2xlYW59IFRydWUgaWYgYHZhbHVlYCBpcyBhIGBSZWdFeHBgLlxuICovXG5mdW5jdGlvbiBpc1JlZ0V4cCh2YWx1ZSkge1xuICByZXR1cm4gdG9TdHJpbmcuY2FsbCh2YWx1ZSkgPT09ICdbb2JqZWN0IFJlZ0V4cF0nO1xufVxuXG5cbi8qKlxuICogQ2hlY2tzIGlmIGBvYmpgIGlzIGEgd2luZG93IG9iamVjdC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHsqfSBvYmogT2JqZWN0IHRvIGNoZWNrXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gVHJ1ZSBpZiBgb2JqYCBpcyBhIHdpbmRvdyBvYmouXG4gKi9cbmZ1bmN0aW9uIGlzV2luZG93KG9iaikge1xuICByZXR1cm4gb2JqICYmIG9iai53aW5kb3cgPT09IG9iajtcbn1cblxuXG5mdW5jdGlvbiBpc1Njb3BlKG9iaikge1xuICByZXR1cm4gb2JqICYmIG9iai4kZXZhbEFzeW5jICYmIG9iai4kd2F0Y2g7XG59XG5cblxuZnVuY3Rpb24gaXNGaWxlKG9iaikge1xuICByZXR1cm4gdG9TdHJpbmcuY2FsbChvYmopID09PSAnW29iamVjdCBGaWxlXSc7XG59XG5cblxuZnVuY3Rpb24gaXNGb3JtRGF0YShvYmopIHtcbiAgcmV0dXJuIHRvU3RyaW5nLmNhbGwob2JqKSA9PT0gJ1tvYmplY3QgRm9ybURhdGFdJztcbn1cblxuXG5mdW5jdGlvbiBpc0Jsb2Iob2JqKSB7XG4gIHJldHVybiB0b1N0cmluZy5jYWxsKG9iaikgPT09ICdbb2JqZWN0IEJsb2JdJztcbn1cblxuXG5mdW5jdGlvbiBpc0Jvb2xlYW4odmFsdWUpIHtcbiAgcmV0dXJuIHR5cGVvZiB2YWx1ZSA9PT0gJ2Jvb2xlYW4nO1xufVxuXG5cbmZ1bmN0aW9uIGlzUHJvbWlzZUxpa2Uob2JqKSB7XG4gIHJldHVybiBvYmogJiYgaXNGdW5jdGlvbihvYmoudGhlbik7XG59XG5cblxudmFyIFRZUEVEX0FSUkFZX1JFR0VYUCA9IC9eXFxbb2JqZWN0ICg/OlVpbnQ4fFVpbnQ4Q2xhbXBlZHxVaW50MTZ8VWludDMyfEludDh8SW50MTZ8SW50MzJ8RmxvYXQzMnxGbG9hdDY0KUFycmF5XSQvO1xuZnVuY3Rpb24gaXNUeXBlZEFycmF5KHZhbHVlKSB7XG4gIHJldHVybiB2YWx1ZSAmJiBpc051bWJlcih2YWx1ZS5sZW5ndGgpICYmIFRZUEVEX0FSUkFZX1JFR0VYUC50ZXN0KHRvU3RyaW5nLmNhbGwodmFsdWUpKTtcbn1cblxuZnVuY3Rpb24gaXNBcnJheUJ1ZmZlcihvYmopIHtcbiAgcmV0dXJuIHRvU3RyaW5nLmNhbGwob2JqKSA9PT0gJ1tvYmplY3QgQXJyYXlCdWZmZXJdJztcbn1cblxuXG52YXIgdHJpbSA9IGZ1bmN0aW9uKHZhbHVlKSB7XG4gIHJldHVybiBpc1N0cmluZyh2YWx1ZSkgPyB2YWx1ZS50cmltKCkgOiB2YWx1ZTtcbn07XG5cbi8vIENvcGllZCBmcm9tOlxuLy8gaHR0cDovL2RvY3MuY2xvc3VyZS1saWJyYXJ5Lmdvb2dsZWNvZGUuY29tL2dpdC9sb2NhbF9jbG9zdXJlX2dvb2dfc3RyaW5nX3N0cmluZy5qcy5zb3VyY2UuaHRtbCNsaW5lMTAyMVxuLy8gUHJlcmVxOiBzIGlzIGEgc3RyaW5nLlxudmFyIGVzY2FwZUZvclJlZ2V4cCA9IGZ1bmN0aW9uKHMpIHtcbiAgcmV0dXJuIHNcbiAgICAucmVwbGFjZSgvKFstKClbXFxde30rPyouJF58LDojPCFcXFxcXSkvZywgJ1xcXFwkMScpXG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLWNvbnRyb2wtcmVnZXhcbiAgICAucmVwbGFjZSgvXFx4MDgvZywgJ1xcXFx4MDgnKTtcbn07XG5cblxuLyoqXG4gKiBAbmdkb2MgZnVuY3Rpb25cbiAqIEBuYW1lIGFuZ3VsYXIuaXNFbGVtZW50XG4gKiBAbW9kdWxlIG5nXG4gKiBAa2luZCBmdW5jdGlvblxuICpcbiAqIEBkZXNjcmlwdGlvblxuICogRGV0ZXJtaW5lcyBpZiBhIHJlZmVyZW5jZSBpcyBhIERPTSBlbGVtZW50IChvciB3cmFwcGVkIGpRdWVyeSBlbGVtZW50KS5cbiAqXG4gKiBAcGFyYW0geyp9IHZhbHVlIFJlZmVyZW5jZSB0byBjaGVjay5cbiAqIEByZXR1cm5zIHtib29sZWFufSBUcnVlIGlmIGB2YWx1ZWAgaXMgYSBET00gZWxlbWVudCAob3Igd3JhcHBlZCBqUXVlcnkgZWxlbWVudCkuXG4gKi9cbmZ1bmN0aW9uIGlzRWxlbWVudChub2RlKSB7XG4gIHJldHVybiAhIShub2RlICYmXG4gICAgKG5vZGUubm9kZU5hbWUgIC8vIFdlIGFyZSBhIGRpcmVjdCBlbGVtZW50LlxuICAgIHx8IChub2RlLnByb3AgJiYgbm9kZS5hdHRyICYmIG5vZGUuZmluZCkpKTsgIC8vIFdlIGhhdmUgYW4gb24gYW5kIGZpbmQgbWV0aG9kIHBhcnQgb2YgalF1ZXJ5IEFQSS5cbn1cblxuLyoqXG4gKiBAcGFyYW0gc3RyICdrZXkxLGtleTIsLi4uJ1xuICogQHJldHVybnMge29iamVjdH0gaW4gdGhlIGZvcm0gb2Yge2tleTE6dHJ1ZSwga2V5Mjp0cnVlLCAuLi59XG4gKi9cbmZ1bmN0aW9uIG1ha2VNYXAoc3RyKSB7XG4gIHZhciBvYmogPSB7fSwgaXRlbXMgPSBzdHIuc3BsaXQoJywnKSwgaTtcbiAgZm9yIChpID0gMDsgaSA8IGl0ZW1zLmxlbmd0aDsgaSsrKSB7XG4gICAgb2JqW2l0ZW1zW2ldXSA9IHRydWU7XG4gIH1cbiAgcmV0dXJuIG9iajtcbn1cblxuXG5mdW5jdGlvbiBub2RlTmFtZV8oZWxlbWVudCkge1xuICByZXR1cm4gbG93ZXJjYXNlKGVsZW1lbnQubm9kZU5hbWUgfHwgKGVsZW1lbnRbMF0gJiYgZWxlbWVudFswXS5ub2RlTmFtZSkpO1xufVxuXG5mdW5jdGlvbiBpbmNsdWRlcyhhcnJheSwgb2JqKSB7XG4gIHJldHVybiBBcnJheS5wcm90b3R5cGUuaW5kZXhPZi5jYWxsKGFycmF5LCBvYmopICE9PSAtMTtcbn1cblxuZnVuY3Rpb24gYXJyYXlSZW1vdmUoYXJyYXksIHZhbHVlKSB7XG4gIHZhciBpbmRleCA9IGFycmF5LmluZGV4T2YodmFsdWUpO1xuICBpZiAoaW5kZXggPj0gMCkge1xuICAgIGFycmF5LnNwbGljZShpbmRleCwgMSk7XG4gIH1cbiAgcmV0dXJuIGluZGV4O1xufVxuXG4vKipcbiAqIEBuZ2RvYyBmdW5jdGlvblxuICogQG5hbWUgYW5ndWxhci5jb3B5XG4gKiBAbW9kdWxlIG5nXG4gKiBAa2luZCBmdW5jdGlvblxuICpcbiAqIEBkZXNjcmlwdGlvblxuICogQ3JlYXRlcyBhIGRlZXAgY29weSBvZiBgc291cmNlYCwgd2hpY2ggc2hvdWxkIGJlIGFuIG9iamVjdCBvciBhbiBhcnJheS5cbiAqXG4gKiAqIElmIG5vIGRlc3RpbmF0aW9uIGlzIHN1cHBsaWVkLCBhIGNvcHkgb2YgdGhlIG9iamVjdCBvciBhcnJheSBpcyBjcmVhdGVkLlxuICogKiBJZiBhIGRlc3RpbmF0aW9uIGlzIHByb3ZpZGVkLCBhbGwgb2YgaXRzIGVsZW1lbnRzIChmb3IgYXJyYXlzKSBvciBwcm9wZXJ0aWVzIChmb3Igb2JqZWN0cylcbiAqICAgYXJlIGRlbGV0ZWQgYW5kIHRoZW4gYWxsIGVsZW1lbnRzL3Byb3BlcnRpZXMgZnJvbSB0aGUgc291cmNlIGFyZSBjb3BpZWQgdG8gaXQuXG4gKiAqIElmIGBzb3VyY2VgIGlzIG5vdCBhbiBvYmplY3Qgb3IgYXJyYXkgKGluYy4gYG51bGxgIGFuZCBgdW5kZWZpbmVkYCksIGBzb3VyY2VgIGlzIHJldHVybmVkLlxuICogKiBJZiBgc291cmNlYCBpcyBpZGVudGljYWwgdG8gYGRlc3RpbmF0aW9uYCBhbiBleGNlcHRpb24gd2lsbCBiZSB0aHJvd24uXG4gKlxuICogPGJyIC8+XG4gKiA8ZGl2IGNsYXNzPVwiYWxlcnQgYWxlcnQtd2FybmluZ1wiPlxuICogICBPbmx5IGVudW1lcmFibGUgcHJvcGVydGllcyBhcmUgdGFrZW4gaW50byBhY2NvdW50LiBOb24tZW51bWVyYWJsZSBwcm9wZXJ0aWVzIChib3RoIG9uIGBzb3VyY2VgXG4gKiAgIGFuZCBvbiBgZGVzdGluYXRpb25gKSB3aWxsIGJlIGlnbm9yZWQuXG4gKiA8L2Rpdj5cbiAqXG4gKiBAcGFyYW0geyp9IHNvdXJjZSBUaGUgc291cmNlIHRoYXQgd2lsbCBiZSB1c2VkIHRvIG1ha2UgYSBjb3B5LlxuICogICAgICAgICAgICAgICAgICAgQ2FuIGJlIGFueSB0eXBlLCBpbmNsdWRpbmcgcHJpbWl0aXZlcywgYG51bGxgLCBhbmQgYHVuZGVmaW5lZGAuXG4gKiBAcGFyYW0geyhPYmplY3R8QXJyYXkpPX0gZGVzdGluYXRpb24gRGVzdGluYXRpb24gaW50byB3aGljaCB0aGUgc291cmNlIGlzIGNvcGllZC4gSWZcbiAqICAgICBwcm92aWRlZCwgbXVzdCBiZSBvZiB0aGUgc2FtZSB0eXBlIGFzIGBzb3VyY2VgLlxuICogQHJldHVybnMgeyp9IFRoZSBjb3B5IG9yIHVwZGF0ZWQgYGRlc3RpbmF0aW9uYCwgaWYgYGRlc3RpbmF0aW9uYCB3YXMgc3BlY2lmaWVkLlxuICpcbiAqIEBleGFtcGxlXG4gIDxleGFtcGxlIG1vZHVsZT1cImNvcHlFeGFtcGxlXCIgbmFtZT1cImFuZ3VsYXItY29weVwiPlxuICAgIDxmaWxlIG5hbWU9XCJpbmRleC5odG1sXCI+XG4gICAgICA8ZGl2IG5nLWNvbnRyb2xsZXI9XCJFeGFtcGxlQ29udHJvbGxlclwiPlxuICAgICAgICA8Zm9ybSBub3ZhbGlkYXRlIGNsYXNzPVwic2ltcGxlLWZvcm1cIj5cbiAgICAgICAgICA8bGFiZWw+TmFtZTogPGlucHV0IHR5cGU9XCJ0ZXh0XCIgbmctbW9kZWw9XCJ1c2VyLm5hbWVcIiAvPjwvbGFiZWw+PGJyIC8+XG4gICAgICAgICAgPGxhYmVsPkFnZTogIDxpbnB1dCB0eXBlPVwibnVtYmVyXCIgbmctbW9kZWw9XCJ1c2VyLmFnZVwiIC8+PC9sYWJlbD48YnIgLz5cbiAgICAgICAgICBHZW5kZXI6IDxsYWJlbD48aW5wdXQgdHlwZT1cInJhZGlvXCIgbmctbW9kZWw9XCJ1c2VyLmdlbmRlclwiIHZhbHVlPVwibWFsZVwiIC8+bWFsZTwvbGFiZWw+XG4gICAgICAgICAgICAgICAgICA8bGFiZWw+PGlucHV0IHR5cGU9XCJyYWRpb1wiIG5nLW1vZGVsPVwidXNlci5nZW5kZXJcIiB2YWx1ZT1cImZlbWFsZVwiIC8+ZmVtYWxlPC9sYWJlbD48YnIgLz5cbiAgICAgICAgICA8YnV0dG9uIG5nLWNsaWNrPVwicmVzZXQoKVwiPlJFU0VUPC9idXR0b24+XG4gICAgICAgICAgPGJ1dHRvbiBuZy1jbGljaz1cInVwZGF0ZSh1c2VyKVwiPlNBVkU8L2J1dHRvbj5cbiAgICAgICAgPC9mb3JtPlxuICAgICAgICA8cHJlPmZvcm0gPSB7e3VzZXIgfCBqc29ufX08L3ByZT5cbiAgICAgICAgPHByZT5tYXN0ZXIgPSB7e21hc3RlciB8IGpzb259fTwvcHJlPlxuICAgICAgPC9kaXY+XG4gICAgPC9maWxlPlxuICAgIDxmaWxlIG5hbWU9XCJzY3JpcHQuanNcIj5cbiAgICAgIC8vIE1vZHVsZTogY29weUV4YW1wbGVcbiAgICAgIGFuZ3VsYXIuXG4gICAgICAgIG1vZHVsZSgnY29weUV4YW1wbGUnLCBbXSkuXG4gICAgICAgIGNvbnRyb2xsZXIoJ0V4YW1wbGVDb250cm9sbGVyJywgWyckc2NvcGUnLCBmdW5jdGlvbigkc2NvcGUpIHtcbiAgICAgICAgICAkc2NvcGUubWFzdGVyID0ge307XG5cbiAgICAgICAgICAkc2NvcGUucmVzZXQgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIC8vIEV4YW1wbGUgd2l0aCAxIGFyZ3VtZW50XG4gICAgICAgICAgICAkc2NvcGUudXNlciA9IGFuZ3VsYXIuY29weSgkc2NvcGUubWFzdGVyKTtcbiAgICAgICAgICB9O1xuXG4gICAgICAgICAgJHNjb3BlLnVwZGF0ZSA9IGZ1bmN0aW9uKHVzZXIpIHtcbiAgICAgICAgICAgIC8vIEV4YW1wbGUgd2l0aCAyIGFyZ3VtZW50c1xuICAgICAgICAgICAgYW5ndWxhci5jb3B5KHVzZXIsICRzY29wZS5tYXN0ZXIpO1xuICAgICAgICAgIH07XG5cbiAgICAgICAgICAkc2NvcGUucmVzZXQoKTtcbiAgICAgICAgfV0pO1xuICAgIDwvZmlsZT5cbiAgPC9leGFtcGxlPlxuICovXG5mdW5jdGlvbiBjb3B5KHNvdXJjZSwgZGVzdGluYXRpb24sIG1heERlcHRoKSB7XG4gIHZhciBzdGFja1NvdXJjZSA9IFtdO1xuICB2YXIgc3RhY2tEZXN0ID0gW107XG4gIG1heERlcHRoID0gaXNWYWxpZE9iamVjdE1heERlcHRoKG1heERlcHRoKSA/IG1heERlcHRoIDogTmFOO1xuXG4gIGlmIChkZXN0aW5hdGlvbikge1xuICAgIGlmIChpc1R5cGVkQXJyYXkoZGVzdGluYXRpb24pIHx8IGlzQXJyYXlCdWZmZXIoZGVzdGluYXRpb24pKSB7XG4gICAgICB0aHJvdyBuZ01pbkVycignY3B0YScsICdDYW5cXCd0IGNvcHkhIFR5cGVkQXJyYXkgZGVzdGluYXRpb24gY2Fubm90IGJlIG11dGF0ZWQuJyk7XG4gICAgfVxuICAgIGlmIChzb3VyY2UgPT09IGRlc3RpbmF0aW9uKSB7XG4gICAgICB0aHJvdyBuZ01pbkVycignY3BpJywgJ0NhblxcJ3QgY29weSEgU291cmNlIGFuZCBkZXN0aW5hdGlvbiBhcmUgaWRlbnRpY2FsLicpO1xuICAgIH1cblxuICAgIC8vIEVtcHR5IHRoZSBkZXN0aW5hdGlvbiBvYmplY3RcbiAgICBpZiAoaXNBcnJheShkZXN0aW5hdGlvbikpIHtcbiAgICAgIGRlc3RpbmF0aW9uLmxlbmd0aCA9IDA7XG4gICAgfSBlbHNlIHtcbiAgICAgIGZvckVhY2goZGVzdGluYXRpb24sIGZ1bmN0aW9uKHZhbHVlLCBrZXkpIHtcbiAgICAgICAgaWYgKGtleSAhPT0gJyQkaGFzaEtleScpIHtcbiAgICAgICAgICBkZWxldGUgZGVzdGluYXRpb25ba2V5XTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfVxuXG4gICAgc3RhY2tTb3VyY2UucHVzaChzb3VyY2UpO1xuICAgIHN0YWNrRGVzdC5wdXNoKGRlc3RpbmF0aW9uKTtcbiAgICByZXR1cm4gY29weVJlY3Vyc2Uoc291cmNlLCBkZXN0aW5hdGlvbiwgbWF4RGVwdGgpO1xuICB9XG5cbiAgcmV0dXJuIGNvcHlFbGVtZW50KHNvdXJjZSwgbWF4RGVwdGgpO1xuXG4gIGZ1bmN0aW9uIGNvcHlSZWN1cnNlKHNvdXJjZSwgZGVzdGluYXRpb24sIG1heERlcHRoKSB7XG4gICAgbWF4RGVwdGgtLTtcbiAgICBpZiAobWF4RGVwdGggPCAwKSB7XG4gICAgICByZXR1cm4gJy4uLic7XG4gICAgfVxuICAgIHZhciBoID0gZGVzdGluYXRpb24uJCRoYXNoS2V5O1xuICAgIHZhciBrZXk7XG4gICAgaWYgKGlzQXJyYXkoc291cmNlKSkge1xuICAgICAgZm9yICh2YXIgaSA9IDAsIGlpID0gc291cmNlLmxlbmd0aDsgaSA8IGlpOyBpKyspIHtcbiAgICAgICAgZGVzdGluYXRpb24ucHVzaChjb3B5RWxlbWVudChzb3VyY2VbaV0sIG1heERlcHRoKSk7XG4gICAgICB9XG4gICAgfSBlbHNlIGlmIChpc0JsYW5rT2JqZWN0KHNvdXJjZSkpIHtcbiAgICAgIC8vIGNyZWF0ZU1hcCgpIGZhc3QgcGF0aCAtLS0gU2FmZSB0byBhdm9pZCBoYXNPd25Qcm9wZXJ0eSBjaGVjayBiZWNhdXNlIHByb3RvdHlwZSBjaGFpbiBpcyBlbXB0eVxuICAgICAgZm9yIChrZXkgaW4gc291cmNlKSB7XG4gICAgICAgIGRlc3RpbmF0aW9uW2tleV0gPSBjb3B5RWxlbWVudChzb3VyY2Vba2V5XSwgbWF4RGVwdGgpO1xuICAgICAgfVxuICAgIH0gZWxzZSBpZiAoc291cmNlICYmIHR5cGVvZiBzb3VyY2UuaGFzT3duUHJvcGVydHkgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgIC8vIFNsb3cgcGF0aCwgd2hpY2ggbXVzdCByZWx5IG9uIGhhc093blByb3BlcnR5XG4gICAgICBmb3IgKGtleSBpbiBzb3VyY2UpIHtcbiAgICAgICAgaWYgKHNvdXJjZS5oYXNPd25Qcm9wZXJ0eShrZXkpKSB7XG4gICAgICAgICAgZGVzdGluYXRpb25ba2V5XSA9IGNvcHlFbGVtZW50KHNvdXJjZVtrZXldLCBtYXhEZXB0aCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgLy8gU2xvd2VzdCBwYXRoIC0tLSBoYXNPd25Qcm9wZXJ0eSBjYW4ndCBiZSBjYWxsZWQgYXMgYSBtZXRob2RcbiAgICAgIGZvciAoa2V5IGluIHNvdXJjZSkge1xuICAgICAgICBpZiAoaGFzT3duUHJvcGVydHkuY2FsbChzb3VyY2UsIGtleSkpIHtcbiAgICAgICAgICBkZXN0aW5hdGlvbltrZXldID0gY29weUVsZW1lbnQoc291cmNlW2tleV0sIG1heERlcHRoKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICBzZXRIYXNoS2V5KGRlc3RpbmF0aW9uLCBoKTtcbiAgICByZXR1cm4gZGVzdGluYXRpb247XG4gIH1cblxuICBmdW5jdGlvbiBjb3B5RWxlbWVudChzb3VyY2UsIG1heERlcHRoKSB7XG4gICAgLy8gU2ltcGxlIHZhbHVlc1xuICAgIGlmICghaXNPYmplY3Qoc291cmNlKSkge1xuICAgICAgcmV0dXJuIHNvdXJjZTtcbiAgICB9XG5cbiAgICAvLyBBbHJlYWR5IGNvcGllZCB2YWx1ZXNcbiAgICB2YXIgaW5kZXggPSBzdGFja1NvdXJjZS5pbmRleE9mKHNvdXJjZSk7XG4gICAgaWYgKGluZGV4ICE9PSAtMSkge1xuICAgICAgcmV0dXJuIHN0YWNrRGVzdFtpbmRleF07XG4gICAgfVxuXG4gICAgaWYgKGlzV2luZG93KHNvdXJjZSkgfHwgaXNTY29wZShzb3VyY2UpKSB7XG4gICAgICB0aHJvdyBuZ01pbkVycignY3B3cycsXG4gICAgICAgICdDYW5cXCd0IGNvcHkhIE1ha2luZyBjb3BpZXMgb2YgV2luZG93IG9yIFNjb3BlIGluc3RhbmNlcyBpcyBub3Qgc3VwcG9ydGVkLicpO1xuICAgIH1cblxuICAgIHZhciBuZWVkc1JlY3Vyc2UgPSBmYWxzZTtcbiAgICB2YXIgZGVzdGluYXRpb24gPSBjb3B5VHlwZShzb3VyY2UpO1xuXG4gICAgaWYgKGRlc3RpbmF0aW9uID09PSB1bmRlZmluZWQpIHtcbiAgICAgIGRlc3RpbmF0aW9uID0gaXNBcnJheShzb3VyY2UpID8gW10gOiBPYmplY3QuY3JlYXRlKGdldFByb3RvdHlwZU9mKHNvdXJjZSkpO1xuICAgICAgbmVlZHNSZWN1cnNlID0gdHJ1ZTtcbiAgICB9XG5cbiAgICBzdGFja1NvdXJjZS5wdXNoKHNvdXJjZSk7XG4gICAgc3RhY2tEZXN0LnB1c2goZGVzdGluYXRpb24pO1xuXG4gICAgcmV0dXJuIG5lZWRzUmVjdXJzZVxuICAgICAgPyBjb3B5UmVjdXJzZShzb3VyY2UsIGRlc3RpbmF0aW9uLCBtYXhEZXB0aClcbiAgICAgIDogZGVzdGluYXRpb247XG4gIH1cblxuICBmdW5jdGlvbiBjb3B5VHlwZShzb3VyY2UpIHtcbiAgICBzd2l0Y2ggKHRvU3RyaW5nLmNhbGwoc291cmNlKSkge1xuICAgICAgY2FzZSAnW29iamVjdCBJbnQ4QXJyYXldJzpcbiAgICAgIGNhc2UgJ1tvYmplY3QgSW50MTZBcnJheV0nOlxuICAgICAgY2FzZSAnW29iamVjdCBJbnQzMkFycmF5XSc6XG4gICAgICBjYXNlICdbb2JqZWN0IEZsb2F0MzJBcnJheV0nOlxuICAgICAgY2FzZSAnW29iamVjdCBGbG9hdDY0QXJyYXldJzpcbiAgICAgIGNhc2UgJ1tvYmplY3QgVWludDhBcnJheV0nOlxuICAgICAgY2FzZSAnW29iamVjdCBVaW50OENsYW1wZWRBcnJheV0nOlxuICAgICAgY2FzZSAnW29iamVjdCBVaW50MTZBcnJheV0nOlxuICAgICAgY2FzZSAnW29iamVjdCBVaW50MzJBcnJheV0nOlxuICAgICAgICByZXR1cm4gbmV3IHNvdXJjZS5jb25zdHJ1Y3Rvcihjb3B5RWxlbWVudChzb3VyY2UuYnVmZmVyKSwgc291cmNlLmJ5dGVPZmZzZXQsIHNvdXJjZS5sZW5ndGgpO1xuXG4gICAgICBjYXNlICdbb2JqZWN0IEFycmF5QnVmZmVyXSc6XG4gICAgICAgIC8vIFN1cHBvcnQ6IElFMTBcbiAgICAgICAgaWYgKCFzb3VyY2Uuc2xpY2UpIHtcbiAgICAgICAgICAvLyBJZiB3ZSdyZSBpbiB0aGlzIGNhc2Ugd2Uga25vdyB0aGUgZW52aXJvbm1lbnQgc3VwcG9ydHMgQXJyYXlCdWZmZXJcbiAgICAgICAgICAvKiBlc2xpbnQtZGlzYWJsZSBuby11bmRlZiAqL1xuICAgICAgICAgIHZhciBjb3BpZWQgPSBuZXcgQXJyYXlCdWZmZXIoc291cmNlLmJ5dGVMZW5ndGgpO1xuICAgICAgICAgIG5ldyBVaW50OEFycmF5KGNvcGllZCkuc2V0KG5ldyBVaW50OEFycmF5KHNvdXJjZSkpO1xuICAgICAgICAgIC8qIGVzbGludC1lbmFibGUgKi9cbiAgICAgICAgICByZXR1cm4gY29waWVkO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBzb3VyY2Uuc2xpY2UoMCk7XG5cbiAgICAgIGNhc2UgJ1tvYmplY3QgQm9vbGVhbl0nOlxuICAgICAgY2FzZSAnW29iamVjdCBOdW1iZXJdJzpcbiAgICAgIGNhc2UgJ1tvYmplY3QgU3RyaW5nXSc6XG4gICAgICBjYXNlICdbb2JqZWN0IERhdGVdJzpcbiAgICAgICAgcmV0dXJuIG5ldyBzb3VyY2UuY29uc3RydWN0b3Ioc291cmNlLnZhbHVlT2YoKSk7XG5cbiAgICAgIGNhc2UgJ1tvYmplY3QgUmVnRXhwXSc6XG4gICAgICAgIHZhciByZSA9IG5ldyBSZWdFeHAoc291cmNlLnNvdXJjZSwgc291cmNlLnRvU3RyaW5nKCkubWF0Y2goL1teL10qJC8pWzBdKTtcbiAgICAgICAgcmUubGFzdEluZGV4ID0gc291cmNlLmxhc3RJbmRleDtcbiAgICAgICAgcmV0dXJuIHJlO1xuXG4gICAgICBjYXNlICdbb2JqZWN0IEJsb2JdJzpcbiAgICAgICAgcmV0dXJuIG5ldyBzb3VyY2UuY29uc3RydWN0b3IoW3NvdXJjZV0sIHt0eXBlOiBzb3VyY2UudHlwZX0pO1xuICAgIH1cblxuICAgIGlmIChpc0Z1bmN0aW9uKHNvdXJjZS5jbG9uZU5vZGUpKSB7XG4gICAgICByZXR1cm4gc291cmNlLmNsb25lTm9kZSh0cnVlKTtcbiAgICB9XG4gIH1cbn1cblxuXG4vLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tc2VsZi1jb21wYXJlXG5mdW5jdGlvbiBzaW1wbGVDb21wYXJlKGEsIGIpIHsgcmV0dXJuIGEgPT09IGIgfHwgKGEgIT09IGEgJiYgYiAhPT0gYik7IH1cblxuXG4vKipcbiAqIEBuZ2RvYyBmdW5jdGlvblxuICogQG5hbWUgYW5ndWxhci5lcXVhbHNcbiAqIEBtb2R1bGUgbmdcbiAqIEBraW5kIGZ1bmN0aW9uXG4gKlxuICogQGRlc2NyaXB0aW9uXG4gKiBEZXRlcm1pbmVzIGlmIHR3byBvYmplY3RzIG9yIHR3byB2YWx1ZXMgYXJlIGVxdWl2YWxlbnQuIFN1cHBvcnRzIHZhbHVlIHR5cGVzLCByZWd1bGFyXG4gKiBleHByZXNzaW9ucywgYXJyYXlzIGFuZCBvYmplY3RzLlxuICpcbiAqIFR3byBvYmplY3RzIG9yIHZhbHVlcyBhcmUgY29uc2lkZXJlZCBlcXVpdmFsZW50IGlmIGF0IGxlYXN0IG9uZSBvZiB0aGUgZm9sbG93aW5nIGlzIHRydWU6XG4gKlxuICogKiBCb3RoIG9iamVjdHMgb3IgdmFsdWVzIHBhc3MgYD09PWAgY29tcGFyaXNvbi5cbiAqICogQm90aCBvYmplY3RzIG9yIHZhbHVlcyBhcmUgb2YgdGhlIHNhbWUgdHlwZSBhbmQgYWxsIG9mIHRoZWlyIHByb3BlcnRpZXMgYXJlIGVxdWFsIGJ5XG4gKiAgIGNvbXBhcmluZyB0aGVtIHdpdGggYGFuZ3VsYXIuZXF1YWxzYC5cbiAqICogQm90aCB2YWx1ZXMgYXJlIE5hTi4gKEluIEphdmFTY3JpcHQsIE5hTiA9PSBOYU4gPT4gZmFsc2UuIEJ1dCB3ZSBjb25zaWRlciB0d28gTmFOIGFzIGVxdWFsKVxuICogKiBCb3RoIHZhbHVlcyByZXByZXNlbnQgdGhlIHNhbWUgcmVndWxhciBleHByZXNzaW9uIChJbiBKYXZhU2NyaXB0LFxuICogICAvYWJjLyA9PSAvYWJjLyA9PiBmYWxzZS4gQnV0IHdlIGNvbnNpZGVyIHR3byByZWd1bGFyIGV4cHJlc3Npb25zIGFzIGVxdWFsIHdoZW4gdGhlaXIgdGV4dHVhbFxuICogICByZXByZXNlbnRhdGlvbiBtYXRjaGVzKS5cbiAqXG4gKiBEdXJpbmcgYSBwcm9wZXJ0eSBjb21wYXJpc29uLCBwcm9wZXJ0aWVzIG9mIGBmdW5jdGlvbmAgdHlwZSBhbmQgcHJvcGVydGllcyB3aXRoIG5hbWVzXG4gKiB0aGF0IGJlZ2luIHdpdGggYCRgIGFyZSBpZ25vcmVkLlxuICpcbiAqIFNjb3BlIGFuZCBET01XaW5kb3cgb2JqZWN0cyBhcmUgYmVpbmcgY29tcGFyZWQgb25seSBieSBpZGVudGlmeSAoYD09PWApLlxuICpcbiAqIEBwYXJhbSB7Kn0gbzEgT2JqZWN0IG9yIHZhbHVlIHRvIGNvbXBhcmUuXG4gKiBAcGFyYW0geyp9IG8yIE9iamVjdCBvciB2YWx1ZSB0byBjb21wYXJlLlxuICogQHJldHVybnMge2Jvb2xlYW59IFRydWUgaWYgYXJndW1lbnRzIGFyZSBlcXVhbC5cbiAqXG4gKiBAZXhhbXBsZVxuICAgPGV4YW1wbGUgbW9kdWxlPVwiZXF1YWxzRXhhbXBsZVwiIG5hbWU9XCJlcXVhbHNFeGFtcGxlXCI+XG4gICAgIDxmaWxlIG5hbWU9XCJpbmRleC5odG1sXCI+XG4gICAgICA8ZGl2IG5nLWNvbnRyb2xsZXI9XCJFeGFtcGxlQ29udHJvbGxlclwiPlxuICAgICAgICA8Zm9ybSBub3ZhbGlkYXRlPlxuICAgICAgICAgIDxoMz5Vc2VyIDE8L2gzPlxuICAgICAgICAgIE5hbWU6IDxpbnB1dCB0eXBlPVwidGV4dFwiIG5nLW1vZGVsPVwidXNlcjEubmFtZVwiPlxuICAgICAgICAgIEFnZTogPGlucHV0IHR5cGU9XCJudW1iZXJcIiBuZy1tb2RlbD1cInVzZXIxLmFnZVwiPlxuXG4gICAgICAgICAgPGgzPlVzZXIgMjwvaDM+XG4gICAgICAgICAgTmFtZTogPGlucHV0IHR5cGU9XCJ0ZXh0XCIgbmctbW9kZWw9XCJ1c2VyMi5uYW1lXCI+XG4gICAgICAgICAgQWdlOiA8aW5wdXQgdHlwZT1cIm51bWJlclwiIG5nLW1vZGVsPVwidXNlcjIuYWdlXCI+XG5cbiAgICAgICAgICA8ZGl2PlxuICAgICAgICAgICAgPGJyLz5cbiAgICAgICAgICAgIDxpbnB1dCB0eXBlPVwiYnV0dG9uXCIgdmFsdWU9XCJDb21wYXJlXCIgbmctY2xpY2s9XCJjb21wYXJlKClcIj5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICBVc2VyIDE6IDxwcmU+e3t1c2VyMSB8IGpzb259fTwvcHJlPlxuICAgICAgICAgIFVzZXIgMjogPHByZT57e3VzZXIyIHwganNvbn19PC9wcmU+XG4gICAgICAgICAgRXF1YWw6IDxwcmU+e3tyZXN1bHR9fTwvcHJlPlxuICAgICAgICA8L2Zvcm0+XG4gICAgICA8L2Rpdj5cbiAgICA8L2ZpbGU+XG4gICAgPGZpbGUgbmFtZT1cInNjcmlwdC5qc1wiPlxuICAgICAgICBhbmd1bGFyLm1vZHVsZSgnZXF1YWxzRXhhbXBsZScsIFtdKS5jb250cm9sbGVyKCdFeGFtcGxlQ29udHJvbGxlcicsIFsnJHNjb3BlJywgZnVuY3Rpb24oJHNjb3BlKSB7XG4gICAgICAgICAgJHNjb3BlLnVzZXIxID0ge307XG4gICAgICAgICAgJHNjb3BlLnVzZXIyID0ge307XG4gICAgICAgICAgJHNjb3BlLmNvbXBhcmUgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICRzY29wZS5yZXN1bHQgPSBhbmd1bGFyLmVxdWFscygkc2NvcGUudXNlcjEsICRzY29wZS51c2VyMik7XG4gICAgICAgICAgfTtcbiAgICAgICAgfV0pO1xuICAgIDwvZmlsZT5cbiAgPC9leGFtcGxlPlxuICovXG5mdW5jdGlvbiBlcXVhbHMobzEsIG8yKSB7XG4gIGlmIChvMSA9PT0gbzIpIHJldHVybiB0cnVlO1xuICBpZiAobzEgPT09IG51bGwgfHwgbzIgPT09IG51bGwpIHJldHVybiBmYWxzZTtcbiAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXNlbGYtY29tcGFyZVxuICBpZiAobzEgIT09IG8xICYmIG8yICE9PSBvMikgcmV0dXJuIHRydWU7IC8vIE5hTiA9PT0gTmFOXG4gIHZhciB0MSA9IHR5cGVvZiBvMSwgdDIgPSB0eXBlb2YgbzIsIGxlbmd0aCwga2V5LCBrZXlTZXQ7XG4gIGlmICh0MSA9PT0gdDIgJiYgdDEgPT09ICdvYmplY3QnKSB7XG4gICAgaWYgKGlzQXJyYXkobzEpKSB7XG4gICAgICBpZiAoIWlzQXJyYXkobzIpKSByZXR1cm4gZmFsc2U7XG4gICAgICBpZiAoKGxlbmd0aCA9IG8xLmxlbmd0aCkgPT09IG8yLmxlbmd0aCkge1xuICAgICAgICBmb3IgKGtleSA9IDA7IGtleSA8IGxlbmd0aDsga2V5KyspIHtcbiAgICAgICAgICBpZiAoIWVxdWFscyhvMVtrZXldLCBvMltrZXldKSkgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgfVxuICAgIH0gZWxzZSBpZiAoaXNEYXRlKG8xKSkge1xuICAgICAgaWYgKCFpc0RhdGUobzIpKSByZXR1cm4gZmFsc2U7XG4gICAgICByZXR1cm4gc2ltcGxlQ29tcGFyZShvMS5nZXRUaW1lKCksIG8yLmdldFRpbWUoKSk7XG4gICAgfSBlbHNlIGlmIChpc1JlZ0V4cChvMSkpIHtcbiAgICAgIGlmICghaXNSZWdFeHAobzIpKSByZXR1cm4gZmFsc2U7XG4gICAgICByZXR1cm4gbzEudG9TdHJpbmcoKSA9PT0gbzIudG9TdHJpbmcoKTtcbiAgICB9IGVsc2Uge1xuICAgICAgaWYgKGlzU2NvcGUobzEpIHx8IGlzU2NvcGUobzIpIHx8IGlzV2luZG93KG8xKSB8fCBpc1dpbmRvdyhvMikgfHxcbiAgICAgICAgaXNBcnJheShvMikgfHwgaXNEYXRlKG8yKSB8fCBpc1JlZ0V4cChvMikpIHJldHVybiBmYWxzZTtcbiAgICAgIGtleVNldCA9IGNyZWF0ZU1hcCgpO1xuICAgICAgZm9yIChrZXkgaW4gbzEpIHtcbiAgICAgICAgaWYgKGtleS5jaGFyQXQoMCkgPT09ICckJyB8fCBpc0Z1bmN0aW9uKG8xW2tleV0pKSBjb250aW51ZTtcbiAgICAgICAgaWYgKCFlcXVhbHMobzFba2V5XSwgbzJba2V5XSkpIHJldHVybiBmYWxzZTtcbiAgICAgICAga2V5U2V0W2tleV0gPSB0cnVlO1xuICAgICAgfVxuICAgICAgZm9yIChrZXkgaW4gbzIpIHtcbiAgICAgICAgaWYgKCEoa2V5IGluIGtleVNldCkgJiZcbiAgICAgICAgICAgIGtleS5jaGFyQXQoMCkgIT09ICckJyAmJlxuICAgICAgICAgICAgaXNEZWZpbmVkKG8yW2tleV0pICYmXG4gICAgICAgICAgICAhaXNGdW5jdGlvbihvMltrZXldKSkgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICB9XG4gIHJldHVybiBmYWxzZTtcbn1cblxudmFyIGNzcCA9IGZ1bmN0aW9uKCkge1xuICBpZiAoIWlzRGVmaW5lZChjc3AucnVsZXMpKSB7XG5cblxuICAgIHZhciBuZ0NzcEVsZW1lbnQgPSAod2luZG93LmRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tuZy1jc3BdJykgfHxcbiAgICAgICAgICAgICAgICAgICAgd2luZG93LmRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLW5nLWNzcF0nKSk7XG5cbiAgICBpZiAobmdDc3BFbGVtZW50KSB7XG4gICAgICB2YXIgbmdDc3BBdHRyaWJ1dGUgPSBuZ0NzcEVsZW1lbnQuZ2V0QXR0cmlidXRlKCduZy1jc3AnKSB8fFxuICAgICAgICAgICAgICAgICAgICBuZ0NzcEVsZW1lbnQuZ2V0QXR0cmlidXRlKCdkYXRhLW5nLWNzcCcpO1xuICAgICAgY3NwLnJ1bGVzID0ge1xuICAgICAgICBub1Vuc2FmZUV2YWw6ICFuZ0NzcEF0dHJpYnV0ZSB8fCAobmdDc3BBdHRyaWJ1dGUuaW5kZXhPZignbm8tdW5zYWZlLWV2YWwnKSAhPT0gLTEpLFxuICAgICAgICBub0lubGluZVN0eWxlOiAhbmdDc3BBdHRyaWJ1dGUgfHwgKG5nQ3NwQXR0cmlidXRlLmluZGV4T2YoJ25vLWlubGluZS1zdHlsZScpICE9PSAtMSlcbiAgICAgIH07XG4gICAgfSBlbHNlIHtcbiAgICAgIGNzcC5ydWxlcyA9IHtcbiAgICAgICAgbm9VbnNhZmVFdmFsOiBub1Vuc2FmZUV2YWwoKSxcbiAgICAgICAgbm9JbmxpbmVTdHlsZTogZmFsc2VcbiAgICAgIH07XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIGNzcC5ydWxlcztcblxuICBmdW5jdGlvbiBub1Vuc2FmZUV2YWwoKSB7XG4gICAgdHJ5IHtcbiAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1uZXcsIG5vLW5ldy1mdW5jXG4gICAgICBuZXcgRnVuY3Rpb24oJycpO1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgfVxufTtcblxuLyoqXG4gKiBAbmdkb2MgZGlyZWN0aXZlXG4gKiBAbW9kdWxlIG5nXG4gKiBAbmFtZSBuZ0pxXG4gKlxuICogQGVsZW1lbnQgQU5ZXG4gKiBAcGFyYW0ge3N0cmluZz19IG5nSnEgdGhlIG5hbWUgb2YgdGhlIGxpYnJhcnkgYXZhaWxhYmxlIHVuZGVyIGB3aW5kb3dgXG4gKiB0byBiZSB1c2VkIGZvciBhbmd1bGFyLmVsZW1lbnRcbiAqIEBkZXNjcmlwdGlvblxuICogVXNlIHRoaXMgZGlyZWN0aXZlIHRvIGZvcmNlIHRoZSBhbmd1bGFyLmVsZW1lbnQgbGlicmFyeS4gIFRoaXMgc2hvdWxkIGJlXG4gKiB1c2VkIHRvIGZvcmNlIGVpdGhlciBqcUxpdGUgYnkgbGVhdmluZyBuZy1qcSBibGFuayBvciBzZXR0aW5nIHRoZSBuYW1lIG9mXG4gKiB0aGUganF1ZXJ5IHZhcmlhYmxlIHVuZGVyIHdpbmRvdyAoZWcuIGpRdWVyeSkuXG4gKlxuICogU2luY2UgYW5ndWxhciBsb29rcyBmb3IgdGhpcyBkaXJlY3RpdmUgd2hlbiBpdCBpcyBsb2FkZWQgKGRvZXNuJ3Qgd2FpdCBmb3IgdGhlXG4gKiBET01Db250ZW50TG9hZGVkIGV2ZW50KSwgaXQgbXVzdCBiZSBwbGFjZWQgb24gYW4gZWxlbWVudCB0aGF0IGNvbWVzIGJlZm9yZSB0aGUgc2NyaXB0XG4gKiB3aGljaCBsb2FkcyBhbmd1bGFyLiBBbHNvLCBvbmx5IHRoZSBmaXJzdCBpbnN0YW5jZSBvZiBgbmctanFgIHdpbGwgYmUgdXNlZCBhbmQgYWxsXG4gKiBvdGhlcnMgaWdub3JlZC5cbiAqXG4gKiBAZXhhbXBsZVxuICogVGhpcyBleGFtcGxlIHNob3dzIGhvdyB0byBmb3JjZSBqcUxpdGUgdXNpbmcgdGhlIGBuZ0pxYCBkaXJlY3RpdmUgdG8gdGhlIGBodG1sYCB0YWcuXG4gYGBgaHRtbFxuIDwhZG9jdHlwZSBodG1sPlxuIDxodG1sIG5nLWFwcCBuZy1qcT5cbiAuLi5cbiAuLi5cbiA8L2h0bWw+XG4gYGBgXG4gKiBAZXhhbXBsZVxuICogVGhpcyBleGFtcGxlIHNob3dzIGhvdyB0byB1c2UgYSBqUXVlcnkgYmFzZWQgbGlicmFyeSBvZiBhIGRpZmZlcmVudCBuYW1lLlxuICogVGhlIGxpYnJhcnkgbmFtZSBtdXN0IGJlIGF2YWlsYWJsZSBhdCB0aGUgdG9wIG1vc3QgJ3dpbmRvdycuXG4gYGBgaHRtbFxuIDwhZG9jdHlwZSBodG1sPlxuIDxodG1sIG5nLWFwcCBuZy1qcT1cImpRdWVyeUxpYlwiPlxuIC4uLlxuIC4uLlxuIDwvaHRtbD5cbiBgYGBcbiAqL1xudmFyIGpxID0gZnVuY3Rpb24oKSB7XG4gIGlmIChpc0RlZmluZWQoanEubmFtZV8pKSByZXR1cm4ganEubmFtZV87XG4gIHZhciBlbDtcbiAgdmFyIGksIGlpID0gbmdBdHRyUHJlZml4ZXMubGVuZ3RoLCBwcmVmaXgsIG5hbWU7XG4gIGZvciAoaSA9IDA7IGkgPCBpaTsgKytpKSB7XG4gICAgcHJlZml4ID0gbmdBdHRyUHJlZml4ZXNbaV07XG4gICAgZWwgPSB3aW5kb3cuZG9jdW1lbnQucXVlcnlTZWxlY3RvcignWycgKyBwcmVmaXgucmVwbGFjZSgnOicsICdcXFxcOicpICsgJ2pxXScpO1xuICAgIGlmIChlbCkge1xuICAgICAgbmFtZSA9IGVsLmdldEF0dHJpYnV0ZShwcmVmaXggKyAnanEnKTtcbiAgICAgIGJyZWFrO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiAoanEubmFtZV8gPSBuYW1lKTtcbn07XG5cbmZ1bmN0aW9uIGNvbmNhdChhcnJheTEsIGFycmF5MiwgaW5kZXgpIHtcbiAgcmV0dXJuIGFycmF5MS5jb25jYXQoc2xpY2UuY2FsbChhcnJheTIsIGluZGV4KSk7XG59XG5cbmZ1bmN0aW9uIHNsaWNlQXJncyhhcmdzLCBzdGFydEluZGV4KSB7XG4gIHJldHVybiBzbGljZS5jYWxsKGFyZ3MsIHN0YXJ0SW5kZXggfHwgMCk7XG59XG5cblxuLyoqXG4gKiBAbmdkb2MgZnVuY3Rpb25cbiAqIEBuYW1lIGFuZ3VsYXIuYmluZFxuICogQG1vZHVsZSBuZ1xuICogQGtpbmQgZnVuY3Rpb25cbiAqXG4gKiBAZGVzY3JpcHRpb25cbiAqIFJldHVybnMgYSBmdW5jdGlvbiB3aGljaCBjYWxscyBmdW5jdGlvbiBgZm5gIGJvdW5kIHRvIGBzZWxmYCAoYHNlbGZgIGJlY29tZXMgdGhlIGB0aGlzYCBmb3JcbiAqIGBmbmApLiBZb3UgY2FuIHN1cHBseSBvcHRpb25hbCBgYXJnc2AgdGhhdCBhcmUgcHJlYm91bmQgdG8gdGhlIGZ1bmN0aW9uLiBUaGlzIGZlYXR1cmUgaXMgYWxzb1xuICoga25vd24gYXMgW3BhcnRpYWwgYXBwbGljYXRpb25dKGh0dHA6Ly9lbi53aWtpcGVkaWEub3JnL3dpa2kvUGFydGlhbF9hcHBsaWNhdGlvbiksIGFzXG4gKiBkaXN0aW5ndWlzaGVkIGZyb20gW2Z1bmN0aW9uIGN1cnJ5aW5nXShodHRwOi8vZW4ud2lraXBlZGlhLm9yZy93aWtpL0N1cnJ5aW5nI0NvbnRyYXN0X3dpdGhfcGFydGlhbF9mdW5jdGlvbl9hcHBsaWNhdGlvbikuXG4gKlxuICogQHBhcmFtIHtPYmplY3R9IHNlbGYgQ29udGV4dCB3aGljaCBgZm5gIHNob3VsZCBiZSBldmFsdWF0ZWQgaW4uXG4gKiBAcGFyYW0ge2Z1bmN0aW9uKCl9IGZuIEZ1bmN0aW9uIHRvIGJlIGJvdW5kLlxuICogQHBhcmFtIHsuLi4qfSBhcmdzIE9wdGlvbmFsIGFyZ3VtZW50cyB0byBiZSBwcmVib3VuZCB0byB0aGUgYGZuYCBmdW5jdGlvbiBjYWxsLlxuICogQHJldHVybnMge2Z1bmN0aW9uKCl9IEZ1bmN0aW9uIHRoYXQgd3JhcHMgdGhlIGBmbmAgd2l0aCBhbGwgdGhlIHNwZWNpZmllZCBiaW5kaW5ncy5cbiAqL1xuZnVuY3Rpb24gYmluZChzZWxmLCBmbikge1xuICB2YXIgY3VycnlBcmdzID0gYXJndW1lbnRzLmxlbmd0aCA+IDIgPyBzbGljZUFyZ3MoYXJndW1lbnRzLCAyKSA6IFtdO1xuICBpZiAoaXNGdW5jdGlvbihmbikgJiYgIShmbiBpbnN0YW5jZW9mIFJlZ0V4cCkpIHtcbiAgICByZXR1cm4gY3VycnlBcmdzLmxlbmd0aFxuICAgICAgPyBmdW5jdGlvbigpIHtcbiAgICAgICAgICByZXR1cm4gYXJndW1lbnRzLmxlbmd0aFxuICAgICAgICAgICAgPyBmbi5hcHBseShzZWxmLCBjb25jYXQoY3VycnlBcmdzLCBhcmd1bWVudHMsIDApKVxuICAgICAgICAgICAgOiBmbi5hcHBseShzZWxmLCBjdXJyeUFyZ3MpO1xuICAgICAgICB9XG4gICAgICA6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgIHJldHVybiBhcmd1bWVudHMubGVuZ3RoXG4gICAgICAgICAgICA/IGZuLmFwcGx5KHNlbGYsIGFyZ3VtZW50cylcbiAgICAgICAgICAgIDogZm4uY2FsbChzZWxmKTtcbiAgICAgICAgfTtcbiAgfSBlbHNlIHtcbiAgICAvLyBJbiBJRSwgbmF0aXZlIG1ldGhvZHMgYXJlIG5vdCBmdW5jdGlvbnMgc28gdGhleSBjYW5ub3QgYmUgYm91bmQgKG5vdGU6IHRoZXkgZG9uJ3QgbmVlZCB0byBiZSkuXG4gICAgcmV0dXJuIGZuO1xuICB9XG59XG5cblxuZnVuY3Rpb24gdG9Kc29uUmVwbGFjZXIoa2V5LCB2YWx1ZSkge1xuICB2YXIgdmFsID0gdmFsdWU7XG5cbiAgaWYgKHR5cGVvZiBrZXkgPT09ICdzdHJpbmcnICYmIGtleS5jaGFyQXQoMCkgPT09ICckJyAmJiBrZXkuY2hhckF0KDEpID09PSAnJCcpIHtcbiAgICB2YWwgPSB1bmRlZmluZWQ7XG4gIH0gZWxzZSBpZiAoaXNXaW5kb3codmFsdWUpKSB7XG4gICAgdmFsID0gJyRXSU5ET1cnO1xuICB9IGVsc2UgaWYgKHZhbHVlICYmICB3aW5kb3cuZG9jdW1lbnQgPT09IHZhbHVlKSB7XG4gICAgdmFsID0gJyRET0NVTUVOVCc7XG4gIH0gZWxzZSBpZiAoaXNTY29wZSh2YWx1ZSkpIHtcbiAgICB2YWwgPSAnJFNDT1BFJztcbiAgfVxuXG4gIHJldHVybiB2YWw7XG59XG5cblxuLyoqXG4gKiBAbmdkb2MgZnVuY3Rpb25cbiAqIEBuYW1lIGFuZ3VsYXIudG9Kc29uXG4gKiBAbW9kdWxlIG5nXG4gKiBAa2luZCBmdW5jdGlvblxuICpcbiAqIEBkZXNjcmlwdGlvblxuICogU2VyaWFsaXplcyBpbnB1dCBpbnRvIGEgSlNPTi1mb3JtYXR0ZWQgc3RyaW5nLiBQcm9wZXJ0aWVzIHdpdGggbGVhZGluZyAkJCBjaGFyYWN0ZXJzIHdpbGwgYmVcbiAqIHN0cmlwcGVkIHNpbmNlIGFuZ3VsYXIgdXNlcyB0aGlzIG5vdGF0aW9uIGludGVybmFsbHkuXG4gKlxuICogQHBhcmFtIHtPYmplY3R8QXJyYXl8RGF0ZXxzdHJpbmd8bnVtYmVyfGJvb2xlYW59IG9iaiBJbnB1dCB0byBiZSBzZXJpYWxpemVkIGludG8gSlNPTi5cbiAqIEBwYXJhbSB7Ym9vbGVhbnxudW1iZXJ9IFtwcmV0dHk9Ml0gSWYgc2V0IHRvIHRydWUsIHRoZSBKU09OIG91dHB1dCB3aWxsIGNvbnRhaW4gbmV3bGluZXMgYW5kIHdoaXRlc3BhY2UuXG4gKiAgICBJZiBzZXQgdG8gYW4gaW50ZWdlciwgdGhlIEpTT04gb3V0cHV0IHdpbGwgY29udGFpbiB0aGF0IG1hbnkgc3BhY2VzIHBlciBpbmRlbnRhdGlvbi5cbiAqIEByZXR1cm5zIHtzdHJpbmd8dW5kZWZpbmVkfSBKU09OLWlmaWVkIHN0cmluZyByZXByZXNlbnRpbmcgYG9iamAuXG4gKiBAa25vd25Jc3N1ZVxuICpcbiAqIFRoZSBTYWZhcmkgYnJvd3NlciB0aHJvd3MgYSBgUmFuZ2VFcnJvcmAgaW5zdGVhZCBvZiByZXR1cm5pbmcgYG51bGxgIHdoZW4gaXQgdHJpZXMgdG8gc3RyaW5naWZ5IGEgYERhdGVgXG4gKiBvYmplY3Qgd2l0aCBhbiBpbnZhbGlkIGRhdGUgdmFsdWUuIFRoZSBvbmx5IHJlbGlhYmxlIHdheSB0byBwcmV2ZW50IHRoaXMgaXMgdG8gbW9ua2V5cGF0Y2ggdGhlXG4gKiBgRGF0ZS5wcm90b3R5cGUudG9KU09OYCBtZXRob2QgYXMgZm9sbG93czpcbiAqXG4gKiBgYGBcbiAqIHZhciBfRGF0ZXRvSlNPTiA9IERhdGUucHJvdG90eXBlLnRvSlNPTjtcbiAqIERhdGUucHJvdG90eXBlLnRvSlNPTiA9IGZ1bmN0aW9uKCkge1xuICogICB0cnkge1xuICogICAgIHJldHVybiBfRGF0ZXRvSlNPTi5jYWxsKHRoaXMpO1xuICogICB9IGNhdGNoKGUpIHtcbiAqICAgICBpZiAoZSBpbnN0YW5jZW9mIFJhbmdlRXJyb3IpIHtcbiAqICAgICAgIHJldHVybiBudWxsO1xuICogICAgIH1cbiAqICAgICB0aHJvdyBlO1xuICogICB9XG4gKiB9O1xuICogYGBgXG4gKlxuICogU2VlIGh0dHBzOi8vZ2l0aHViLmNvbS9hbmd1bGFyL2FuZ3VsYXIuanMvcHVsbC8xNDIyMSBmb3IgbW9yZSBpbmZvcm1hdGlvbi5cbiAqL1xuZnVuY3Rpb24gdG9Kc29uKG9iaiwgcHJldHR5KSB7XG4gIGlmIChpc1VuZGVmaW5lZChvYmopKSByZXR1cm4gdW5kZWZpbmVkO1xuICBpZiAoIWlzTnVtYmVyKHByZXR0eSkpIHtcbiAgICBwcmV0dHkgPSBwcmV0dHkgPyAyIDogbnVsbDtcbiAgfVxuICByZXR1cm4gSlNPTi5zdHJpbmdpZnkob2JqLCB0b0pzb25SZXBsYWNlciwgcHJldHR5KTtcbn1cblxuXG4vKipcbiAqIEBuZ2RvYyBmdW5jdGlvblxuICogQG5hbWUgYW5ndWxhci5mcm9tSnNvblxuICogQG1vZHVsZSBuZ1xuICogQGtpbmQgZnVuY3Rpb25cbiAqXG4gKiBAZGVzY3JpcHRpb25cbiAqIERlc2VyaWFsaXplcyBhIEpTT04gc3RyaW5nLlxuICpcbiAqIEBwYXJhbSB7c3RyaW5nfSBqc29uIEpTT04gc3RyaW5nIHRvIGRlc2VyaWFsaXplLlxuICogQHJldHVybnMge09iamVjdHxBcnJheXxzdHJpbmd8bnVtYmVyfSBEZXNlcmlhbGl6ZWQgSlNPTiBzdHJpbmcuXG4gKi9cbmZ1bmN0aW9uIGZyb21Kc29uKGpzb24pIHtcbiAgcmV0dXJuIGlzU3RyaW5nKGpzb24pXG4gICAgICA/IEpTT04ucGFyc2UoanNvbilcbiAgICAgIDoganNvbjtcbn1cblxuXG52YXIgQUxMX0NPTE9OUyA9IC86L2c7XG5mdW5jdGlvbiB0aW1lem9uZVRvT2Zmc2V0KHRpbWV6b25lLCBmYWxsYmFjaykge1xuICAvLyBTdXBwb3J0OiBJRSA5LTExIG9ubHksIEVkZ2UgMTMtMTQrXG4gIC8vIElFL0VkZ2UgZG8gbm90IFwidW5kZXJzdGFuZFwiIGNvbG9uIChgOmApIGluIHRpbWV6b25lXG4gIHRpbWV6b25lID0gdGltZXpvbmUucmVwbGFjZShBTExfQ09MT05TLCAnJyk7XG4gIHZhciByZXF1ZXN0ZWRUaW1lem9uZU9mZnNldCA9IERhdGUucGFyc2UoJ0phbiAwMSwgMTk3MCAwMDowMDowMCAnICsgdGltZXpvbmUpIC8gNjAwMDA7XG4gIHJldHVybiBpc051bWJlck5hTihyZXF1ZXN0ZWRUaW1lem9uZU9mZnNldCkgPyBmYWxsYmFjayA6IHJlcXVlc3RlZFRpbWV6b25lT2Zmc2V0O1xufVxuXG5cbmZ1bmN0aW9uIGFkZERhdGVNaW51dGVzKGRhdGUsIG1pbnV0ZXMpIHtcbiAgZGF0ZSA9IG5ldyBEYXRlKGRhdGUuZ2V0VGltZSgpKTtcbiAgZGF0ZS5zZXRNaW51dGVzKGRhdGUuZ2V0TWludXRlcygpICsgbWludXRlcyk7XG4gIHJldHVybiBkYXRlO1xufVxuXG5cbmZ1bmN0aW9uIGNvbnZlcnRUaW1lem9uZVRvTG9jYWwoZGF0ZSwgdGltZXpvbmUsIHJldmVyc2UpIHtcbiAgcmV2ZXJzZSA9IHJldmVyc2UgPyAtMSA6IDE7XG4gIHZhciBkYXRlVGltZXpvbmVPZmZzZXQgPSBkYXRlLmdldFRpbWV6b25lT2Zmc2V0KCk7XG4gIHZhciB0aW1lem9uZU9mZnNldCA9IHRpbWV6b25lVG9PZmZzZXQodGltZXpvbmUsIGRhdGVUaW1lem9uZU9mZnNldCk7XG4gIHJldHVybiBhZGREYXRlTWludXRlcyhkYXRlLCByZXZlcnNlICogKHRpbWV6b25lT2Zmc2V0IC0gZGF0ZVRpbWV6b25lT2Zmc2V0KSk7XG59XG5cblxuLyoqXG4gKiBAcmV0dXJucyB7c3RyaW5nfSBSZXR1cm5zIHRoZSBzdHJpbmcgcmVwcmVzZW50YXRpb24gb2YgdGhlIGVsZW1lbnQuXG4gKi9cbmZ1bmN0aW9uIHN0YXJ0aW5nVGFnKGVsZW1lbnQpIHtcbiAgZWxlbWVudCA9IGpxTGl0ZShlbGVtZW50KS5jbG9uZSgpO1xuICB0cnkge1xuICAgIC8vIHR1cm5zIG91dCBJRSBkb2VzIG5vdCBsZXQgeW91IHNldCAuaHRtbCgpIG9uIGVsZW1lbnRzIHdoaWNoXG4gICAgLy8gYXJlIG5vdCBhbGxvd2VkIHRvIGhhdmUgY2hpbGRyZW4uIFNvIHdlIGp1c3QgaWdub3JlIGl0LlxuICAgIGVsZW1lbnQuZW1wdHkoKTtcbiAgfSBjYXRjaCAoZSkgeyAvKiBlbXB0eSAqLyB9XG4gIHZhciBlbGVtSHRtbCA9IGpxTGl0ZSgnPGRpdj4nKS5hcHBlbmQoZWxlbWVudCkuaHRtbCgpO1xuICB0cnkge1xuICAgIHJldHVybiBlbGVtZW50WzBdLm5vZGVUeXBlID09PSBOT0RFX1RZUEVfVEVYVCA/IGxvd2VyY2FzZShlbGVtSHRtbCkgOlxuICAgICAgICBlbGVtSHRtbC5cbiAgICAgICAgICBtYXRjaCgvXig8W14+XSs+KS8pWzFdLlxuICAgICAgICAgIHJlcGxhY2UoL148KFtcXHctXSspLywgZnVuY3Rpb24obWF0Y2gsIG5vZGVOYW1lKSB7cmV0dXJuICc8JyArIGxvd2VyY2FzZShub2RlTmFtZSk7fSk7XG4gIH0gY2F0Y2ggKGUpIHtcbiAgICByZXR1cm4gbG93ZXJjYXNlKGVsZW1IdG1sKTtcbiAgfVxuXG59XG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuXG4vKipcbiAqIFRyaWVzIHRvIGRlY29kZSB0aGUgVVJJIGNvbXBvbmVudCB3aXRob3V0IHRocm93aW5nIGFuIGV4Y2VwdGlvbi5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHN0ciB2YWx1ZSBwb3RlbnRpYWwgVVJJIGNvbXBvbmVudCB0byBjaGVjay5cbiAqIEByZXR1cm5zIHtib29sZWFufSBUcnVlIGlmIGB2YWx1ZWAgY2FuIGJlIGRlY29kZWRcbiAqIHdpdGggdGhlIGRlY29kZVVSSUNvbXBvbmVudCBmdW5jdGlvbi5cbiAqL1xuZnVuY3Rpb24gdHJ5RGVjb2RlVVJJQ29tcG9uZW50KHZhbHVlKSB7XG4gIHRyeSB7XG4gICAgcmV0dXJuIGRlY29kZVVSSUNvbXBvbmVudCh2YWx1ZSk7XG4gIH0gY2F0Y2ggKGUpIHtcbiAgICAvLyBJZ25vcmUgYW55IGludmFsaWQgdXJpIGNvbXBvbmVudC5cbiAgfVxufVxuXG5cbi8qKlxuICogUGFyc2VzIGFuIGVzY2FwZWQgdXJsIHF1ZXJ5IHN0cmluZyBpbnRvIGtleS12YWx1ZSBwYWlycy5cbiAqIEByZXR1cm5zIHtPYmplY3QuPHN0cmluZyxib29sZWFufEFycmF5Pn1cbiAqL1xuZnVuY3Rpb24gcGFyc2VLZXlWYWx1ZSgvKipzdHJpbmcqL2tleVZhbHVlKSB7XG4gIHZhciBvYmogPSB7fTtcbiAgZm9yRWFjaCgoa2V5VmFsdWUgfHwgJycpLnNwbGl0KCcmJyksIGZ1bmN0aW9uKGtleVZhbHVlKSB7XG4gICAgdmFyIHNwbGl0UG9pbnQsIGtleSwgdmFsO1xuICAgIGlmIChrZXlWYWx1ZSkge1xuICAgICAga2V5ID0ga2V5VmFsdWUgPSBrZXlWYWx1ZS5yZXBsYWNlKC9cXCsvZywnJTIwJyk7XG4gICAgICBzcGxpdFBvaW50ID0ga2V5VmFsdWUuaW5kZXhPZignPScpO1xuICAgICAgaWYgKHNwbGl0UG9pbnQgIT09IC0xKSB7XG4gICAgICAgIGtleSA9IGtleVZhbHVlLnN1YnN0cmluZygwLCBzcGxpdFBvaW50KTtcbiAgICAgICAgdmFsID0ga2V5VmFsdWUuc3Vic3RyaW5nKHNwbGl0UG9pbnQgKyAxKTtcbiAgICAgIH1cbiAgICAgIGtleSA9IHRyeURlY29kZVVSSUNvbXBvbmVudChrZXkpO1xuICAgICAgaWYgKGlzRGVmaW5lZChrZXkpKSB7XG4gICAgICAgIHZhbCA9IGlzRGVmaW5lZCh2YWwpID8gdHJ5RGVjb2RlVVJJQ29tcG9uZW50KHZhbCkgOiB0cnVlO1xuICAgICAgICBpZiAoIWhhc093blByb3BlcnR5LmNhbGwob2JqLCBrZXkpKSB7XG4gICAgICAgICAgb2JqW2tleV0gPSB2YWw7XG4gICAgICAgIH0gZWxzZSBpZiAoaXNBcnJheShvYmpba2V5XSkpIHtcbiAgICAgICAgICBvYmpba2V5XS5wdXNoKHZhbCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgb2JqW2tleV0gPSBbb2JqW2tleV0sdmFsXTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfSk7XG4gIHJldHVybiBvYmo7XG59XG5cbmZ1bmN0aW9uIHRvS2V5VmFsdWUob2JqKSB7XG4gIHZhciBwYXJ0cyA9IFtdO1xuICBmb3JFYWNoKG9iaiwgZnVuY3Rpb24odmFsdWUsIGtleSkge1xuICAgIGlmIChpc0FycmF5KHZhbHVlKSkge1xuICAgICAgZm9yRWFjaCh2YWx1ZSwgZnVuY3Rpb24oYXJyYXlWYWx1ZSkge1xuICAgICAgICBwYXJ0cy5wdXNoKGVuY29kZVVyaVF1ZXJ5KGtleSwgdHJ1ZSkgK1xuICAgICAgICAgICAgICAgICAgIChhcnJheVZhbHVlID09PSB0cnVlID8gJycgOiAnPScgKyBlbmNvZGVVcmlRdWVyeShhcnJheVZhbHVlLCB0cnVlKSkpO1xuICAgICAgfSk7XG4gICAgfSBlbHNlIHtcbiAgICBwYXJ0cy5wdXNoKGVuY29kZVVyaVF1ZXJ5KGtleSwgdHJ1ZSkgK1xuICAgICAgICAgICAgICAgKHZhbHVlID09PSB0cnVlID8gJycgOiAnPScgKyBlbmNvZGVVcmlRdWVyeSh2YWx1ZSwgdHJ1ZSkpKTtcbiAgICB9XG4gIH0pO1xuICByZXR1cm4gcGFydHMubGVuZ3RoID8gcGFydHMuam9pbignJicpIDogJyc7XG59XG5cblxuLyoqXG4gKiBXZSBuZWVkIG91ciBjdXN0b20gbWV0aG9kIGJlY2F1c2UgZW5jb2RlVVJJQ29tcG9uZW50IGlzIHRvbyBhZ2dyZXNzaXZlIGFuZCBkb2Vzbid0IGZvbGxvd1xuICogaHR0cDovL3d3dy5pZXRmLm9yZy9yZmMvcmZjMzk4Ni50eHQgd2l0aCByZWdhcmRzIHRvIHRoZSBjaGFyYWN0ZXIgc2V0IChwY2hhcikgYWxsb3dlZCBpbiBwYXRoXG4gKiBzZWdtZW50czpcbiAqICAgIHNlZ21lbnQgICAgICAgPSAqcGNoYXJcbiAqICAgIHBjaGFyICAgICAgICAgPSB1bnJlc2VydmVkIC8gcGN0LWVuY29kZWQgLyBzdWItZGVsaW1zIC8gXCI6XCIgLyBcIkBcIlxuICogICAgcGN0LWVuY29kZWQgICA9IFwiJVwiIEhFWERJRyBIRVhESUdcbiAqICAgIHVucmVzZXJ2ZWQgICAgPSBBTFBIQSAvIERJR0lUIC8gXCItXCIgLyBcIi5cIiAvIFwiX1wiIC8gXCJ+XCJcbiAqICAgIHN1Yi1kZWxpbXMgICAgPSBcIiFcIiAvIFwiJFwiIC8gXCImXCIgLyBcIidcIiAvIFwiKFwiIC8gXCIpXCJcbiAqICAgICAgICAgICAgICAgICAgICAgLyBcIipcIiAvIFwiK1wiIC8gXCIsXCIgLyBcIjtcIiAvIFwiPVwiXG4gKi9cbmZ1bmN0aW9uIGVuY29kZVVyaVNlZ21lbnQodmFsKSB7XG4gIHJldHVybiBlbmNvZGVVcmlRdWVyeSh2YWwsIHRydWUpLlxuICAgICAgICAgICAgIHJlcGxhY2UoLyUyNi9naSwgJyYnKS5cbiAgICAgICAgICAgICByZXBsYWNlKC8lM0QvZ2ksICc9JykuXG4gICAgICAgICAgICAgcmVwbGFjZSgvJTJCL2dpLCAnKycpO1xufVxuXG5cbi8qKlxuICogVGhpcyBtZXRob2QgaXMgaW50ZW5kZWQgZm9yIGVuY29kaW5nICprZXkqIG9yICp2YWx1ZSogcGFydHMgb2YgcXVlcnkgY29tcG9uZW50LiBXZSBuZWVkIGEgY3VzdG9tXG4gKiBtZXRob2QgYmVjYXVzZSBlbmNvZGVVUklDb21wb25lbnQgaXMgdG9vIGFnZ3Jlc3NpdmUgYW5kIGVuY29kZXMgc3R1ZmYgdGhhdCBkb2Vzbid0IGhhdmUgdG8gYmVcbiAqIGVuY29kZWQgcGVyIGh0dHA6Ly90b29scy5pZXRmLm9yZy9odG1sL3JmYzM5ODY6XG4gKiAgICBxdWVyeSAgICAgICAgID0gKiggcGNoYXIgLyBcIi9cIiAvIFwiP1wiIClcbiAqICAgIHBjaGFyICAgICAgICAgPSB1bnJlc2VydmVkIC8gcGN0LWVuY29kZWQgLyBzdWItZGVsaW1zIC8gXCI6XCIgLyBcIkBcIlxuICogICAgdW5yZXNlcnZlZCAgICA9IEFMUEhBIC8gRElHSVQgLyBcIi1cIiAvIFwiLlwiIC8gXCJfXCIgLyBcIn5cIlxuICogICAgcGN0LWVuY29kZWQgICA9IFwiJVwiIEhFWERJRyBIRVhESUdcbiAqICAgIHN1Yi1kZWxpbXMgICAgPSBcIiFcIiAvIFwiJFwiIC8gXCImXCIgLyBcIidcIiAvIFwiKFwiIC8gXCIpXCJcbiAqICAgICAgICAgICAgICAgICAgICAgLyBcIipcIiAvIFwiK1wiIC8gXCIsXCIgLyBcIjtcIiAvIFwiPVwiXG4gKi9cbmZ1bmN0aW9uIGVuY29kZVVyaVF1ZXJ5KHZhbCwgcGN0RW5jb2RlU3BhY2VzKSB7XG4gIHJldHVybiBlbmNvZGVVUklDb21wb25lbnQodmFsKS5cbiAgICAgICAgICAgICByZXBsYWNlKC8lNDAvZ2ksICdAJykuXG4gICAgICAgICAgICAgcmVwbGFjZSgvJTNBL2dpLCAnOicpLlxuICAgICAgICAgICAgIHJlcGxhY2UoLyUyNC9nLCAnJCcpLlxuICAgICAgICAgICAgIHJlcGxhY2UoLyUyQy9naSwgJywnKS5cbiAgICAgICAgICAgICByZXBsYWNlKC8lM0IvZ2ksICc7JykuXG4gICAgICAgICAgICAgcmVwbGFjZSgvJTIwL2csIChwY3RFbmNvZGVTcGFjZXMgPyAnJTIwJyA6ICcrJykpO1xufVxuXG52YXIgbmdBdHRyUHJlZml4ZXMgPSBbJ25nLScsICdkYXRhLW5nLScsICduZzonLCAneC1uZy0nXTtcblxuZnVuY3Rpb24gZ2V0TmdBdHRyaWJ1dGUoZWxlbWVudCwgbmdBdHRyKSB7XG4gIHZhciBhdHRyLCBpLCBpaSA9IG5nQXR0clByZWZpeGVzLmxlbmd0aDtcbiAgZm9yIChpID0gMDsgaSA8IGlpOyArK2kpIHtcbiAgICBhdHRyID0gbmdBdHRyUHJlZml4ZXNbaV0gKyBuZ0F0dHI7XG4gICAgaWYgKGlzU3RyaW5nKGF0dHIgPSBlbGVtZW50LmdldEF0dHJpYnV0ZShhdHRyKSkpIHtcbiAgICAgIHJldHVybiBhdHRyO1xuICAgIH1cbiAgfVxuICByZXR1cm4gbnVsbDtcbn1cblxuZnVuY3Rpb24gYWxsb3dBdXRvQm9vdHN0cmFwKGRvY3VtZW50KSB7XG4gIHZhciBzY3JpcHQgPSBkb2N1bWVudC5jdXJyZW50U2NyaXB0O1xuXG4gIGlmICghc2NyaXB0KSB7XG4gICAgLy8gSUUgZG9lcyBub3QgaGF2ZSBgZG9jdW1lbnQuY3VycmVudFNjcmlwdGBcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuXG4gIC8vIElmIHRoZSBgY3VycmVudFNjcmlwdGAgcHJvcGVydHkgaGFzIGJlZW4gY2xvYmJlcmVkIGp1c3QgcmV0dXJuIGZhbHNlLCBzaW5jZSB0aGlzIGluZGljYXRlcyBhIHByb2JhYmxlIGF0dGFja1xuICBpZiAoIShzY3JpcHQgaW5zdGFuY2VvZiB3aW5kb3cuSFRNTFNjcmlwdEVsZW1lbnQgfHwgc2NyaXB0IGluc3RhbmNlb2Ygd2luZG93LlNWR1NjcmlwdEVsZW1lbnQpKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgdmFyIGF0dHJpYnV0ZXMgPSBzY3JpcHQuYXR0cmlidXRlcztcbiAgdmFyIHNyY3MgPSBbYXR0cmlidXRlcy5nZXROYW1lZEl0ZW0oJ3NyYycpLCBhdHRyaWJ1dGVzLmdldE5hbWVkSXRlbSgnaHJlZicpLCBhdHRyaWJ1dGVzLmdldE5hbWVkSXRlbSgneGxpbms6aHJlZicpXTtcblxuICByZXR1cm4gc3Jjcy5ldmVyeShmdW5jdGlvbihzcmMpIHtcbiAgICBpZiAoIXNyYykge1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIGlmICghc3JjLnZhbHVlKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgdmFyIGxpbmsgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdhJyk7XG4gICAgbGluay5ocmVmID0gc3JjLnZhbHVlO1xuXG4gICAgaWYgKGRvY3VtZW50LmxvY2F0aW9uLm9yaWdpbiA9PT0gbGluay5vcmlnaW4pIHtcbiAgICAgIC8vIFNhbWUtb3JpZ2luIHJlc291cmNlcyBhcmUgYWx3YXlzIGFsbG93ZWQsIGV2ZW4gZm9yIG5vbi13aGl0ZWxpc3RlZCBzY2hlbWVzLlxuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIC8vIERpc2FibGVkIGJvb3RzdHJhcHBpbmcgdW5sZXNzIGFuZ3VsYXIuanMgd2FzIGxvYWRlZCBmcm9tIGEga25vd24gc2NoZW1lIHVzZWQgb24gdGhlIHdlYi5cbiAgICAvLyBUaGlzIGlzIHRvIHByZXZlbnQgYW5ndWxhci5qcyBidW5kbGVkIHdpdGggYnJvd3NlciBleHRlbnNpb25zIGZyb20gYmVpbmcgdXNlZCB0byBieXBhc3MgdGhlXG4gICAgLy8gY29udGVudCBzZWN1cml0eSBwb2xpY3kgaW4gd2ViIHBhZ2VzIGFuZCBvdGhlciBicm93c2VyIGV4dGVuc2lvbnMuXG4gICAgc3dpdGNoIChsaW5rLnByb3RvY29sKSB7XG4gICAgICBjYXNlICdodHRwOic6XG4gICAgICBjYXNlICdodHRwczonOlxuICAgICAgY2FzZSAnZnRwOic6XG4gICAgICBjYXNlICdibG9iOic6XG4gICAgICBjYXNlICdmaWxlOic6XG4gICAgICBjYXNlICdkYXRhOic6XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgZGVmYXVsdDpcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgfSk7XG59XG5cbi8vIENhY2hlZCBhcyBpdCBoYXMgdG8gcnVuIGR1cmluZyBsb2FkaW5nIHNvIHRoYXQgZG9jdW1lbnQuY3VycmVudFNjcmlwdCBpcyBhdmFpbGFibGUuXG52YXIgaXNBdXRvQm9vdHN0cmFwQWxsb3dlZCA9IGFsbG93QXV0b0Jvb3RzdHJhcCh3aW5kb3cuZG9jdW1lbnQpO1xuXG4vKipcbiAqIEBuZ2RvYyBkaXJlY3RpdmVcbiAqIEBuYW1lIG5nQXBwXG4gKiBAbW9kdWxlIG5nXG4gKlxuICogQGVsZW1lbnQgQU5ZXG4gKiBAcGFyYW0ge2FuZ3VsYXIuTW9kdWxlfSBuZ0FwcCBhbiBvcHRpb25hbCBhcHBsaWNhdGlvblxuICogICB7QGxpbmsgYW5ndWxhci5tb2R1bGUgbW9kdWxlfSBuYW1lIHRvIGxvYWQuXG4gKiBAcGFyYW0ge2Jvb2xlYW49fSBuZ1N0cmljdERpIGlmIHRoaXMgYXR0cmlidXRlIGlzIHByZXNlbnQgb24gdGhlIGFwcCBlbGVtZW50LCB0aGUgaW5qZWN0b3Igd2lsbCBiZVxuICogICBjcmVhdGVkIGluIFwic3RyaWN0LWRpXCIgbW9kZS4gVGhpcyBtZWFucyB0aGF0IHRoZSBhcHBsaWNhdGlvbiB3aWxsIGZhaWwgdG8gaW52b2tlIGZ1bmN0aW9ucyB3aGljaFxuICogICBkbyBub3QgdXNlIGV4cGxpY2l0IGZ1bmN0aW9uIGFubm90YXRpb24gKGFuZCBhcmUgdGh1cyB1bnN1aXRhYmxlIGZvciBtaW5pZmljYXRpb24pLCBhcyBkZXNjcmliZWRcbiAqICAgaW4ge0BsaW5rIGd1aWRlL2RpIHRoZSBEZXBlbmRlbmN5IEluamVjdGlvbiBndWlkZX0sIGFuZCB1c2VmdWwgZGVidWdnaW5nIGluZm8gd2lsbCBhc3Npc3QgaW5cbiAqICAgdHJhY2tpbmcgZG93biB0aGUgcm9vdCBvZiB0aGVzZSBidWdzLlxuICpcbiAqIEBkZXNjcmlwdGlvblxuICpcbiAqIFVzZSB0aGlzIGRpcmVjdGl2ZSB0byAqKmF1dG8tYm9vdHN0cmFwKiogYW4gQW5ndWxhckpTIGFwcGxpY2F0aW9uLiBUaGUgYG5nQXBwYCBkaXJlY3RpdmVcbiAqIGRlc2lnbmF0ZXMgdGhlICoqcm9vdCBlbGVtZW50Kiogb2YgdGhlIGFwcGxpY2F0aW9uIGFuZCBpcyB0eXBpY2FsbHkgcGxhY2VkIG5lYXIgdGhlIHJvb3QgZWxlbWVudFxuICogb2YgdGhlIHBhZ2UgLSBlLmcuIG9uIHRoZSBgPGJvZHk+YCBvciBgPGh0bWw+YCB0YWdzLlxuICpcbiAqIFRoZXJlIGFyZSBhIGZldyB0aGluZ3MgdG8ga2VlcCBpbiBtaW5kIHdoZW4gdXNpbmcgYG5nQXBwYDpcbiAqIC0gb25seSBvbmUgQW5ndWxhckpTIGFwcGxpY2F0aW9uIGNhbiBiZSBhdXRvLWJvb3RzdHJhcHBlZCBwZXIgSFRNTCBkb2N1bWVudC4gVGhlIGZpcnN0IGBuZ0FwcGBcbiAqICAgZm91bmQgaW4gdGhlIGRvY3VtZW50IHdpbGwgYmUgdXNlZCB0byBkZWZpbmUgdGhlIHJvb3QgZWxlbWVudCB0byBhdXRvLWJvb3RzdHJhcCBhcyBhblxuICogICBhcHBsaWNhdGlvbi4gVG8gcnVuIG11bHRpcGxlIGFwcGxpY2F0aW9ucyBpbiBhbiBIVE1MIGRvY3VtZW50IHlvdSBtdXN0IG1hbnVhbGx5IGJvb3RzdHJhcCB0aGVtIHVzaW5nXG4gKiAgIHtAbGluayBhbmd1bGFyLmJvb3RzdHJhcH0gaW5zdGVhZC5cbiAqIC0gQW5ndWxhckpTIGFwcGxpY2F0aW9ucyBjYW5ub3QgYmUgbmVzdGVkIHdpdGhpbiBlYWNoIG90aGVyLlxuICogLSBEbyBub3QgdXNlIGEgZGlyZWN0aXZlIHRoYXQgdXNlcyB7QGxpbmsgbmcuJGNvbXBpbGUjdHJhbnNjbHVzaW9uIHRyYW5zY2x1c2lvbn0gb24gdGhlIHNhbWUgZWxlbWVudCBhcyBgbmdBcHBgLlxuICogICBUaGlzIGluY2x1ZGVzIGRpcmVjdGl2ZXMgc3VjaCBhcyB7QGxpbmsgbmcubmdJZiBgbmdJZmB9LCB7QGxpbmsgbmcubmdJbmNsdWRlIGBuZ0luY2x1ZGVgfSBhbmRcbiAqICAge0BsaW5rIG5nUm91dGUubmdWaWV3IGBuZ1ZpZXdgfS5cbiAqICAgRG9pbmcgdGhpcyBtaXNwbGFjZXMgdGhlIGFwcCB7QGxpbmsgbmcuJHJvb3RFbGVtZW50IGAkcm9vdEVsZW1lbnRgfSBhbmQgdGhlIGFwcCdzIHtAbGluayBhdXRvLiRpbmplY3RvciBpbmplY3Rvcn0sXG4gKiAgIGNhdXNpbmcgYW5pbWF0aW9ucyB0byBzdG9wIHdvcmtpbmcgYW5kIG1ha2luZyB0aGUgaW5qZWN0b3IgaW5hY2Nlc3NpYmxlIGZyb20gb3V0c2lkZSB0aGUgYXBwLlxuICpcbiAqIFlvdSBjYW4gc3BlY2lmeSBhbiAqKkFuZ3VsYXJKUyBtb2R1bGUqKiB0byBiZSB1c2VkIGFzIHRoZSByb290IG1vZHVsZSBmb3IgdGhlIGFwcGxpY2F0aW9uLiAgVGhpc1xuICogbW9kdWxlIHdpbGwgYmUgbG9hZGVkIGludG8gdGhlIHtAbGluayBhdXRvLiRpbmplY3Rvcn0gd2hlbiB0aGUgYXBwbGljYXRpb24gaXMgYm9vdHN0cmFwcGVkLiBJdFxuICogc2hvdWxkIGNvbnRhaW4gdGhlIGFwcGxpY2F0aW9uIGNvZGUgbmVlZGVkIG9yIGhhdmUgZGVwZW5kZW5jaWVzIG9uIG90aGVyIG1vZHVsZXMgdGhhdCB3aWxsXG4gKiBjb250YWluIHRoZSBjb2RlLiBTZWUge0BsaW5rIGFuZ3VsYXIubW9kdWxlfSBmb3IgbW9yZSBpbmZvcm1hdGlvbi5cbiAqXG4gKiBJbiB0aGUgZXhhbXBsZSBiZWxvdyBpZiB0aGUgYG5nQXBwYCBkaXJlY3RpdmUgd2VyZSBub3QgcGxhY2VkIG9uIHRoZSBgaHRtbGAgZWxlbWVudCB0aGVuIHRoZVxuICogZG9jdW1lbnQgd291bGQgbm90IGJlIGNvbXBpbGVkLCB0aGUgYEFwcENvbnRyb2xsZXJgIHdvdWxkIG5vdCBiZSBpbnN0YW50aWF0ZWQgYW5kIHRoZSBge3sgYStiIH19YFxuICogd291bGQgbm90IGJlIHJlc29sdmVkIHRvIGAzYC5cbiAqXG4gKiBgbmdBcHBgIGlzIHRoZSBlYXNpZXN0LCBhbmQgbW9zdCBjb21tb24gd2F5IHRvIGJvb3RzdHJhcCBhbiBhcHBsaWNhdGlvbi5cbiAqXG4gPGV4YW1wbGUgbW9kdWxlPVwibmdBcHBEZW1vXCIgbmFtZT1cIm5nLWFwcFwiPlxuICAgPGZpbGUgbmFtZT1cImluZGV4Lmh0bWxcIj5cbiAgIDxkaXYgbmctY29udHJvbGxlcj1cIm5nQXBwRGVtb0NvbnRyb2xsZXJcIj5cbiAgICAgSSBjYW4gYWRkOiB7e2F9fSArIHt7Yn19ID0gIHt7IGErYiB9fVxuICAgPC9kaXY+XG4gICA8L2ZpbGU+XG4gICA8ZmlsZSBuYW1lPVwic2NyaXB0LmpzXCI+XG4gICBhbmd1bGFyLm1vZHVsZSgnbmdBcHBEZW1vJywgW10pLmNvbnRyb2xsZXIoJ25nQXBwRGVtb0NvbnRyb2xsZXInLCBmdW5jdGlvbigkc2NvcGUpIHtcbiAgICAgJHNjb3BlLmEgPSAxO1xuICAgICAkc2NvcGUuYiA9IDI7XG4gICB9KTtcbiAgIDwvZmlsZT5cbiA8L2V4YW1wbGU+XG4gKlxuICogVXNpbmcgYG5nU3RyaWN0RGlgLCB5b3Ugd291bGQgc2VlIHNvbWV0aGluZyBsaWtlIHRoaXM6XG4gKlxuIDxleGFtcGxlIG5nLWFwcC1pbmNsdWRlZD1cInRydWVcIiBuYW1lPVwic3RyaWN0LWRpXCI+XG4gICA8ZmlsZSBuYW1lPVwiaW5kZXguaHRtbFwiPlxuICAgPGRpdiBuZy1hcHA9XCJuZ0FwcFN0cmljdERlbW9cIiBuZy1zdHJpY3QtZGk+XG4gICAgICAgPGRpdiBuZy1jb250cm9sbGVyPVwiR29vZENvbnRyb2xsZXIxXCI+XG4gICAgICAgICAgIEkgY2FuIGFkZDoge3thfX0gKyB7e2J9fSA9ICB7eyBhK2IgfX1cblxuICAgICAgICAgICA8cD5UaGlzIHJlbmRlcnMgYmVjYXVzZSB0aGUgY29udHJvbGxlciBkb2VzIG5vdCBmYWlsIHRvXG4gICAgICAgICAgICAgIGluc3RhbnRpYXRlLCBieSB1c2luZyBleHBsaWNpdCBhbm5vdGF0aW9uIHN0eWxlIChzZWVcbiAgICAgICAgICAgICAgc2NyaXB0LmpzIGZvciBkZXRhaWxzKVxuICAgICAgICAgICA8L3A+XG4gICAgICAgPC9kaXY+XG5cbiAgICAgICA8ZGl2IG5nLWNvbnRyb2xsZXI9XCJHb29kQ29udHJvbGxlcjJcIj5cbiAgICAgICAgICAgTmFtZTogPGlucHV0IG5nLW1vZGVsPVwibmFtZVwiPjxiciAvPlxuICAgICAgICAgICBIZWxsbywge3tuYW1lfX0hXG5cbiAgICAgICAgICAgPHA+VGhpcyByZW5kZXJzIGJlY2F1c2UgdGhlIGNvbnRyb2xsZXIgZG9lcyBub3QgZmFpbCB0b1xuICAgICAgICAgICAgICBpbnN0YW50aWF0ZSwgYnkgdXNpbmcgZXhwbGljaXQgYW5ub3RhdGlvbiBzdHlsZVxuICAgICAgICAgICAgICAoc2VlIHNjcmlwdC5qcyBmb3IgZGV0YWlscylcbiAgICAgICAgICAgPC9wPlxuICAgICAgIDwvZGl2PlxuXG4gICAgICAgPGRpdiBuZy1jb250cm9sbGVyPVwiQmFkQ29udHJvbGxlclwiPlxuICAgICAgICAgICBJIGNhbiBhZGQ6IHt7YX19ICsge3tifX0gPSAge3sgYStiIH19XG5cbiAgICAgICAgICAgPHA+VGhlIGNvbnRyb2xsZXIgY291bGQgbm90IGJlIGluc3RhbnRpYXRlZCwgZHVlIHRvIHJlbHlpbmdcbiAgICAgICAgICAgICAgb24gYXV0b21hdGljIGZ1bmN0aW9uIGFubm90YXRpb25zICh3aGljaCBhcmUgZGlzYWJsZWQgaW5cbiAgICAgICAgICAgICAgc3RyaWN0IG1vZGUpLiBBcyBzdWNoLCB0aGUgY29udGVudCBvZiB0aGlzIHNlY3Rpb24gaXMgbm90XG4gICAgICAgICAgICAgIGludGVycG9sYXRlZCwgYW5kIHRoZXJlIHNob3VsZCBiZSBhbiBlcnJvciBpbiB5b3VyIHdlYiBjb25zb2xlLlxuICAgICAgICAgICA8L3A+XG4gICAgICAgPC9kaXY+XG4gICA8L2Rpdj5cbiAgIDwvZmlsZT5cbiAgIDxmaWxlIG5hbWU9XCJzY3JpcHQuanNcIj5cbiAgIGFuZ3VsYXIubW9kdWxlKCduZ0FwcFN0cmljdERlbW8nLCBbXSlcbiAgICAgLy8gQmFkQ29udHJvbGxlciB3aWxsIGZhaWwgdG8gaW5zdGFudGlhdGUsIGR1ZSB0byByZWx5aW5nIG9uIGF1dG9tYXRpYyBmdW5jdGlvbiBhbm5vdGF0aW9uLFxuICAgICAvLyByYXRoZXIgdGhhbiBhbiBleHBsaWNpdCBhbm5vdGF0aW9uXG4gICAgIC5jb250cm9sbGVyKCdCYWRDb250cm9sbGVyJywgZnVuY3Rpb24oJHNjb3BlKSB7XG4gICAgICAgJHNjb3BlLmEgPSAxO1xuICAgICAgICRzY29wZS5iID0gMjtcbiAgICAgfSlcbiAgICAgLy8gVW5saWtlIEJhZENvbnRyb2xsZXIsIEdvb2RDb250cm9sbGVyMSBhbmQgR29vZENvbnRyb2xsZXIyIHdpbGwgbm90IGZhaWwgdG8gYmUgaW5zdGFudGlhdGVkLFxuICAgICAvLyBkdWUgdG8gdXNpbmcgZXhwbGljaXQgYW5ub3RhdGlvbnMgdXNpbmcgdGhlIGFycmF5IHN0eWxlIGFuZCAkaW5qZWN0IHByb3BlcnR5LCByZXNwZWN0aXZlbHkuXG4gICAgIC5jb250cm9sbGVyKCdHb29kQ29udHJvbGxlcjEnLCBbJyRzY29wZScsIGZ1bmN0aW9uKCRzY29wZSkge1xuICAgICAgICRzY29wZS5hID0gMTtcbiAgICAgICAkc2NvcGUuYiA9IDI7XG4gICAgIH1dKVxuICAgICAuY29udHJvbGxlcignR29vZENvbnRyb2xsZXIyJywgR29vZENvbnRyb2xsZXIyKTtcbiAgICAgZnVuY3Rpb24gR29vZENvbnRyb2xsZXIyKCRzY29wZSkge1xuICAgICAgICRzY29wZS5uYW1lID0gJ1dvcmxkJztcbiAgICAgfVxuICAgICBHb29kQ29udHJvbGxlcjIuJGluamVjdCA9IFsnJHNjb3BlJ107XG4gICA8L2ZpbGU+XG4gICA8ZmlsZSBuYW1lPVwic3R5bGUuY3NzXCI+XG4gICBkaXZbbmctY29udHJvbGxlcl0ge1xuICAgICAgIG1hcmdpbi1ib3R0b206IDFlbTtcbiAgICAgICAtd2Via2l0LWJvcmRlci1yYWRpdXM6IDRweDtcbiAgICAgICBib3JkZXItcmFkaXVzOiA0cHg7XG4gICAgICAgYm9yZGVyOiAxcHggc29saWQ7XG4gICAgICAgcGFkZGluZzogLjVlbTtcbiAgIH1cbiAgIGRpdltuZy1jb250cm9sbGVyXj1Hb29kXSB7XG4gICAgICAgYm9yZGVyLWNvbG9yOiAjZDZlOWM2O1xuICAgICAgIGJhY2tncm91bmQtY29sb3I6ICNkZmYwZDg7XG4gICAgICAgY29sb3I6ICMzYzc2M2Q7XG4gICB9XG4gICBkaXZbbmctY29udHJvbGxlcl49QmFkXSB7XG4gICAgICAgYm9yZGVyLWNvbG9yOiAjZWJjY2QxO1xuICAgICAgIGJhY2tncm91bmQtY29sb3I6ICNmMmRlZGU7XG4gICAgICAgY29sb3I6ICNhOTQ0NDI7XG4gICAgICAgbWFyZ2luLWJvdHRvbTogMDtcbiAgIH1cbiAgIDwvZmlsZT5cbiA8L2V4YW1wbGU+XG4gKi9cbmZ1bmN0aW9uIGFuZ3VsYXJJbml0KGVsZW1lbnQsIGJvb3RzdHJhcCkge1xuICB2YXIgYXBwRWxlbWVudCxcbiAgICAgIG1vZHVsZSxcbiAgICAgIGNvbmZpZyA9IHt9O1xuXG4gIC8vIFRoZSBlbGVtZW50IGBlbGVtZW50YCBoYXMgcHJpb3JpdHkgb3ZlciBhbnkgb3RoZXIgZWxlbWVudC5cbiAgZm9yRWFjaChuZ0F0dHJQcmVmaXhlcywgZnVuY3Rpb24ocHJlZml4KSB7XG4gICAgdmFyIG5hbWUgPSBwcmVmaXggKyAnYXBwJztcblxuICAgIGlmICghYXBwRWxlbWVudCAmJiBlbGVtZW50Lmhhc0F0dHJpYnV0ZSAmJiBlbGVtZW50Lmhhc0F0dHJpYnV0ZShuYW1lKSkge1xuICAgICAgYXBwRWxlbWVudCA9IGVsZW1lbnQ7XG4gICAgICBtb2R1bGUgPSBlbGVtZW50LmdldEF0dHJpYnV0ZShuYW1lKTtcbiAgICB9XG4gIH0pO1xuICBmb3JFYWNoKG5nQXR0clByZWZpeGVzLCBmdW5jdGlvbihwcmVmaXgpIHtcbiAgICB2YXIgbmFtZSA9IHByZWZpeCArICdhcHAnO1xuICAgIHZhciBjYW5kaWRhdGU7XG5cbiAgICBpZiAoIWFwcEVsZW1lbnQgJiYgKGNhbmRpZGF0ZSA9IGVsZW1lbnQucXVlcnlTZWxlY3RvcignWycgKyBuYW1lLnJlcGxhY2UoJzonLCAnXFxcXDonKSArICddJykpKSB7XG4gICAgICBhcHBFbGVtZW50ID0gY2FuZGlkYXRlO1xuICAgICAgbW9kdWxlID0gY2FuZGlkYXRlLmdldEF0dHJpYnV0ZShuYW1lKTtcbiAgICB9XG4gIH0pO1xuICBpZiAoYXBwRWxlbWVudCkge1xuICAgIGlmICghaXNBdXRvQm9vdHN0cmFwQWxsb3dlZCkge1xuICAgICAgd2luZG93LmNvbnNvbGUuZXJyb3IoJ0FuZ3VsYXI6IGRpc2FibGluZyBhdXRvbWF0aWMgYm9vdHN0cmFwLiA8c2NyaXB0PiBwcm90b2NvbCBpbmRpY2F0ZXMgJyArXG4gICAgICAgICAgJ2FuIGV4dGVuc2lvbiwgZG9jdW1lbnQubG9jYXRpb24uaHJlZiBkb2VzIG5vdCBtYXRjaC4nKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgY29uZmlnLnN0cmljdERpID0gZ2V0TmdBdHRyaWJ1dGUoYXBwRWxlbWVudCwgJ3N0cmljdC1kaScpICE9PSBudWxsO1xuICAgIGJvb3RzdHJhcChhcHBFbGVtZW50LCBtb2R1bGUgPyBbbW9kdWxlXSA6IFtdLCBjb25maWcpO1xuICB9XG59XG5cbi8qKlxuICogQG5nZG9jIGZ1bmN0aW9uXG4gKiBAbmFtZSBhbmd1bGFyLmJvb3RzdHJhcFxuICogQG1vZHVsZSBuZ1xuICogQGRlc2NyaXB0aW9uXG4gKiBVc2UgdGhpcyBmdW5jdGlvbiB0byBtYW51YWxseSBzdGFydCB1cCBhbmd1bGFyIGFwcGxpY2F0aW9uLlxuICpcbiAqIEZvciBtb3JlIGluZm9ybWF0aW9uLCBzZWUgdGhlIHtAbGluayBndWlkZS9ib290c3RyYXAgQm9vdHN0cmFwIGd1aWRlfS5cbiAqXG4gKiBBbmd1bGFyIHdpbGwgZGV0ZWN0IGlmIGl0IGhhcyBiZWVuIGxvYWRlZCBpbnRvIHRoZSBicm93c2VyIG1vcmUgdGhhbiBvbmNlIGFuZCBvbmx5IGFsbG93IHRoZVxuICogZmlyc3QgbG9hZGVkIHNjcmlwdCB0byBiZSBib290c3RyYXBwZWQgYW5kIHdpbGwgcmVwb3J0IGEgd2FybmluZyB0byB0aGUgYnJvd3NlciBjb25zb2xlIGZvclxuICogZWFjaCBvZiB0aGUgc3Vic2VxdWVudCBzY3JpcHRzLiBUaGlzIHByZXZlbnRzIHN0cmFuZ2UgcmVzdWx0cyBpbiBhcHBsaWNhdGlvbnMsIHdoZXJlIG90aGVyd2lzZVxuICogbXVsdGlwbGUgaW5zdGFuY2VzIG9mIEFuZ3VsYXIgdHJ5IHRvIHdvcmsgb24gdGhlIERPTS5cbiAqXG4gKiA8ZGl2IGNsYXNzPVwiYWxlcnQgYWxlcnQtd2FybmluZ1wiPlxuICogKipOb3RlOioqIFByb3RyYWN0b3IgYmFzZWQgZW5kLXRvLWVuZCB0ZXN0cyBjYW5ub3QgdXNlIHRoaXMgZnVuY3Rpb24gdG8gYm9vdHN0cmFwIG1hbnVhbGx5LlxuICogVGhleSBtdXN0IHVzZSB7QGxpbmsgbmcuZGlyZWN0aXZlOm5nQXBwIG5nQXBwfS5cbiAqIDwvZGl2PlxuICpcbiAqIDxkaXYgY2xhc3M9XCJhbGVydCBhbGVydC13YXJuaW5nXCI+XG4gKiAqKk5vdGU6KiogRG8gbm90IGJvb3RzdHJhcCB0aGUgYXBwIG9uIGFuIGVsZW1lbnQgd2l0aCBhIGRpcmVjdGl2ZSB0aGF0IHVzZXMge0BsaW5rIG5nLiRjb21waWxlI3RyYW5zY2x1c2lvbiB0cmFuc2NsdXNpb259LFxuICogc3VjaCBhcyB7QGxpbmsgbmcubmdJZiBgbmdJZmB9LCB7QGxpbmsgbmcubmdJbmNsdWRlIGBuZ0luY2x1ZGVgfSBhbmQge0BsaW5rIG5nUm91dGUubmdWaWV3IGBuZ1ZpZXdgfS5cbiAqIERvaW5nIHRoaXMgbWlzcGxhY2VzIHRoZSBhcHAge0BsaW5rIG5nLiRyb290RWxlbWVudCBgJHJvb3RFbGVtZW50YH0gYW5kIHRoZSBhcHAncyB7QGxpbmsgYXV0by4kaW5qZWN0b3IgaW5qZWN0b3J9LFxuICogY2F1c2luZyBhbmltYXRpb25zIHRvIHN0b3Agd29ya2luZyBhbmQgbWFraW5nIHRoZSBpbmplY3RvciBpbmFjY2Vzc2libGUgZnJvbSBvdXRzaWRlIHRoZSBhcHAuXG4gKiA8L2Rpdj5cbiAqXG4gKiBgYGBodG1sXG4gKiA8IWRvY3R5cGUgaHRtbD5cbiAqIDxodG1sPlxuICogPGJvZHk+XG4gKiA8ZGl2IG5nLWNvbnRyb2xsZXI9XCJXZWxjb21lQ29udHJvbGxlclwiPlxuICogICB7e2dyZWV0aW5nfX1cbiAqIDwvZGl2PlxuICpcbiAqIDxzY3JpcHQgc3JjPVwiYW5ndWxhci5qc1wiPjwvc2NyaXB0PlxuICogPHNjcmlwdD5cbiAqICAgdmFyIGFwcCA9IGFuZ3VsYXIubW9kdWxlKCdkZW1vJywgW10pXG4gKiAgIC5jb250cm9sbGVyKCdXZWxjb21lQ29udHJvbGxlcicsIGZ1bmN0aW9uKCRzY29wZSkge1xuICogICAgICAgJHNjb3BlLmdyZWV0aW5nID0gJ1dlbGNvbWUhJztcbiAqICAgfSk7XG4gKiAgIGFuZ3VsYXIuYm9vdHN0cmFwKGRvY3VtZW50LCBbJ2RlbW8nXSk7XG4gKiA8L3NjcmlwdD5cbiAqIDwvYm9keT5cbiAqIDwvaHRtbD5cbiAqIGBgYFxuICpcbiAqIEBwYXJhbSB7RE9NRWxlbWVudH0gZWxlbWVudCBET00gZWxlbWVudCB3aGljaCBpcyB0aGUgcm9vdCBvZiBhbmd1bGFyIGFwcGxpY2F0aW9uLlxuICogQHBhcmFtIHtBcnJheTxTdHJpbmd8RnVuY3Rpb258QXJyYXk+PX0gbW9kdWxlcyBhbiBhcnJheSBvZiBtb2R1bGVzIHRvIGxvYWQgaW50byB0aGUgYXBwbGljYXRpb24uXG4gKiAgICAgRWFjaCBpdGVtIGluIHRoZSBhcnJheSBzaG91bGQgYmUgdGhlIG5hbWUgb2YgYSBwcmVkZWZpbmVkIG1vZHVsZSBvciBhIChESSBhbm5vdGF0ZWQpXG4gKiAgICAgZnVuY3Rpb24gdGhhdCB3aWxsIGJlIGludm9rZWQgYnkgdGhlIGluamVjdG9yIGFzIGEgYGNvbmZpZ2AgYmxvY2suXG4gKiAgICAgU2VlOiB7QGxpbmsgYW5ndWxhci5tb2R1bGUgbW9kdWxlc31cbiAqIEBwYXJhbSB7T2JqZWN0PX0gY29uZmlnIGFuIG9iamVjdCBmb3IgZGVmaW5pbmcgY29uZmlndXJhdGlvbiBvcHRpb25zIGZvciB0aGUgYXBwbGljYXRpb24uIFRoZVxuICogICAgIGZvbGxvd2luZyBrZXlzIGFyZSBzdXBwb3J0ZWQ6XG4gKlxuICogKiBgc3RyaWN0RGlgIC0gZGlzYWJsZSBhdXRvbWF0aWMgZnVuY3Rpb24gYW5ub3RhdGlvbiBmb3IgdGhlIGFwcGxpY2F0aW9uLiBUaGlzIGlzIG1lYW50IHRvXG4gKiAgIGFzc2lzdCBpbiBmaW5kaW5nIGJ1Z3Mgd2hpY2ggYnJlYWsgbWluaWZpZWQgY29kZS4gRGVmYXVsdHMgdG8gYGZhbHNlYC5cbiAqXG4gKiBAcmV0dXJucyB7YXV0by4kaW5qZWN0b3J9IFJldHVybnMgdGhlIG5ld2x5IGNyZWF0ZWQgaW5qZWN0b3IgZm9yIHRoaXMgYXBwLlxuICovXG5mdW5jdGlvbiBib290c3RyYXAoZWxlbWVudCwgbW9kdWxlcywgY29uZmlnKSB7XG4gIGlmICghaXNPYmplY3QoY29uZmlnKSkgY29uZmlnID0ge307XG4gIHZhciBkZWZhdWx0Q29uZmlnID0ge1xuICAgIHN0cmljdERpOiBmYWxzZVxuICB9O1xuICBjb25maWcgPSBleHRlbmQoZGVmYXVsdENvbmZpZywgY29uZmlnKTtcbiAgdmFyIGRvQm9vdHN0cmFwID0gZnVuY3Rpb24oKSB7XG4gICAgZWxlbWVudCA9IGpxTGl0ZShlbGVtZW50KTtcblxuICAgIGlmIChlbGVtZW50LmluamVjdG9yKCkpIHtcbiAgICAgIHZhciB0YWcgPSAoZWxlbWVudFswXSA9PT0gd2luZG93LmRvY3VtZW50KSA/ICdkb2N1bWVudCcgOiBzdGFydGluZ1RhZyhlbGVtZW50KTtcbiAgICAgIC8vIEVuY29kZSBhbmdsZSBicmFja2V0cyB0byBwcmV2ZW50IGlucHV0IGZyb20gYmVpbmcgc2FuaXRpemVkIHRvIGVtcHR5IHN0cmluZyAjODY4My5cbiAgICAgIHRocm93IG5nTWluRXJyKFxuICAgICAgICAgICdidHN0cnBkJyxcbiAgICAgICAgICAnQXBwIGFscmVhZHkgYm9vdHN0cmFwcGVkIHdpdGggdGhpcyBlbGVtZW50IFxcJ3swfVxcJycsXG4gICAgICAgICAgdGFnLnJlcGxhY2UoLzwvLCcmbHQ7JykucmVwbGFjZSgvPi8sJyZndDsnKSk7XG4gICAgfVxuXG4gICAgbW9kdWxlcyA9IG1vZHVsZXMgfHwgW107XG4gICAgbW9kdWxlcy51bnNoaWZ0KFsnJHByb3ZpZGUnLCBmdW5jdGlvbigkcHJvdmlkZSkge1xuICAgICAgJHByb3ZpZGUudmFsdWUoJyRyb290RWxlbWVudCcsIGVsZW1lbnQpO1xuICAgIH1dKTtcblxuICAgIGlmIChjb25maWcuZGVidWdJbmZvRW5hYmxlZCkge1xuICAgICAgLy8gUHVzaGluZyBzbyB0aGF0IHRoaXMgb3ZlcnJpZGVzIGBkZWJ1Z0luZm9FbmFibGVkYCBzZXR0aW5nIGRlZmluZWQgaW4gdXNlcidzIGBtb2R1bGVzYC5cbiAgICAgIG1vZHVsZXMucHVzaChbJyRjb21waWxlUHJvdmlkZXInLCBmdW5jdGlvbigkY29tcGlsZVByb3ZpZGVyKSB7XG4gICAgICAgICRjb21waWxlUHJvdmlkZXIuZGVidWdJbmZvRW5hYmxlZCh0cnVlKTtcbiAgICAgIH1dKTtcbiAgICB9XG5cbiAgICBtb2R1bGVzLnVuc2hpZnQoJ25nJyk7XG4gICAgdmFyIGluamVjdG9yID0gY3JlYXRlSW5qZWN0b3IobW9kdWxlcywgY29uZmlnLnN0cmljdERpKTtcbiAgICBpbmplY3Rvci5pbnZva2UoWyckcm9vdFNjb3BlJywgJyRyb290RWxlbWVudCcsICckY29tcGlsZScsICckaW5qZWN0b3InLFxuICAgICAgIGZ1bmN0aW9uIGJvb3RzdHJhcEFwcGx5KHNjb3BlLCBlbGVtZW50LCBjb21waWxlLCBpbmplY3Rvcikge1xuICAgICAgICBzY29wZS4kYXBwbHkoZnVuY3Rpb24oKSB7XG4gICAgICAgICAgZWxlbWVudC5kYXRhKCckaW5qZWN0b3InLCBpbmplY3Rvcik7XG4gICAgICAgICAgY29tcGlsZShlbGVtZW50KShzY29wZSk7XG4gICAgICAgIH0pO1xuICAgICAgfV1cbiAgICApO1xuICAgIHJldHVybiBpbmplY3RvcjtcbiAgfTtcblxuICB2YXIgTkdfRU5BQkxFX0RFQlVHX0lORk8gPSAvXk5HX0VOQUJMRV9ERUJVR19JTkZPIS87XG4gIHZhciBOR19ERUZFUl9CT09UU1RSQVAgPSAvXk5HX0RFRkVSX0JPT1RTVFJBUCEvO1xuXG4gIGlmICh3aW5kb3cgJiYgTkdfRU5BQkxFX0RFQlVHX0lORk8udGVzdCh3aW5kb3cubmFtZSkpIHtcbiAgICBjb25maWcuZGVidWdJbmZvRW5hYmxlZCA9IHRydWU7XG4gICAgd2luZG93Lm5hbWUgPSB3aW5kb3cubmFtZS5yZXBsYWNlKE5HX0VOQUJMRV9ERUJVR19JTkZPLCAnJyk7XG4gIH1cblxuICBpZiAod2luZG93ICYmICFOR19ERUZFUl9CT09UU1RSQVAudGVzdCh3aW5kb3cubmFtZSkpIHtcbiAgICByZXR1cm4gZG9Cb290c3RyYXAoKTtcbiAgfVxuXG4gIHdpbmRvdy5uYW1lID0gd2luZG93Lm5hbWUucmVwbGFjZShOR19ERUZFUl9CT09UU1RSQVAsICcnKTtcbiAgYW5ndWxhci5yZXN1bWVCb290c3RyYXAgPSBmdW5jdGlvbihleHRyYU1vZHVsZXMpIHtcbiAgICBmb3JFYWNoKGV4dHJhTW9kdWxlcywgZnVuY3Rpb24obW9kdWxlKSB7XG4gICAgICBtb2R1bGVzLnB1c2gobW9kdWxlKTtcbiAgICB9KTtcbiAgICByZXR1cm4gZG9Cb290c3RyYXAoKTtcbiAgfTtcblxuICBpZiAoaXNGdW5jdGlvbihhbmd1bGFyLnJlc3VtZURlZmVycmVkQm9vdHN0cmFwKSkge1xuICAgIGFuZ3VsYXIucmVzdW1lRGVmZXJyZWRCb290c3RyYXAoKTtcbiAgfVxufVxuXG4vKipcbiAqIEBuZ2RvYyBmdW5jdGlvblxuICogQG5hbWUgYW5ndWxhci5yZWxvYWRXaXRoRGVidWdJbmZvXG4gKiBAbW9kdWxlIG5nXG4gKiBAZGVzY3JpcHRpb25cbiAqIFVzZSB0aGlzIGZ1bmN0aW9uIHRvIHJlbG9hZCB0aGUgY3VycmVudCBhcHBsaWNhdGlvbiB3aXRoIGRlYnVnIGluZm9ybWF0aW9uIHR1cm5lZCBvbi5cbiAqIFRoaXMgdGFrZXMgcHJlY2VkZW5jZSBvdmVyIGEgY2FsbCB0byBgJGNvbXBpbGVQcm92aWRlci5kZWJ1Z0luZm9FbmFibGVkKGZhbHNlKWAuXG4gKlxuICogU2VlIHtAbGluayBuZy4kY29tcGlsZVByb3ZpZGVyI2RlYnVnSW5mb0VuYWJsZWR9IGZvciBtb3JlLlxuICovXG5mdW5jdGlvbiByZWxvYWRXaXRoRGVidWdJbmZvKCkge1xuICB3aW5kb3cubmFtZSA9ICdOR19FTkFCTEVfREVCVUdfSU5GTyEnICsgd2luZG93Lm5hbWU7XG4gIHdpbmRvdy5sb2NhdGlvbi5yZWxvYWQoKTtcbn1cblxuLyoqXG4gKiBAbmFtZSBhbmd1bGFyLmdldFRlc3RhYmlsaXR5XG4gKiBAbW9kdWxlIG5nXG4gKiBAZGVzY3JpcHRpb25cbiAqIEdldCB0aGUgdGVzdGFiaWxpdHkgc2VydmljZSBmb3IgdGhlIGluc3RhbmNlIG9mIEFuZ3VsYXIgb24gdGhlIGdpdmVuXG4gKiBlbGVtZW50LlxuICogQHBhcmFtIHtET01FbGVtZW50fSBlbGVtZW50IERPTSBlbGVtZW50IHdoaWNoIGlzIHRoZSByb290IG9mIGFuZ3VsYXIgYXBwbGljYXRpb24uXG4gKi9cbmZ1bmN0aW9uIGdldFRlc3RhYmlsaXR5KHJvb3RFbGVtZW50KSB7XG4gIHZhciBpbmplY3RvciA9IGFuZ3VsYXIuZWxlbWVudChyb290RWxlbWVudCkuaW5qZWN0b3IoKTtcbiAgaWYgKCFpbmplY3Rvcikge1xuICAgIHRocm93IG5nTWluRXJyKCd0ZXN0JyxcbiAgICAgICdubyBpbmplY3RvciBmb3VuZCBmb3IgZWxlbWVudCBhcmd1bWVudCB0byBnZXRUZXN0YWJpbGl0eScpO1xuICB9XG4gIHJldHVybiBpbmplY3Rvci5nZXQoJyQkdGVzdGFiaWxpdHknKTtcbn1cblxudmFyIFNOQUtFX0NBU0VfUkVHRVhQID0gL1tBLVpdL2c7XG5mdW5jdGlvbiBzbmFrZV9jYXNlKG5hbWUsIHNlcGFyYXRvcikge1xuICBzZXBhcmF0b3IgPSBzZXBhcmF0b3IgfHwgJ18nO1xuICByZXR1cm4gbmFtZS5yZXBsYWNlKFNOQUtFX0NBU0VfUkVHRVhQLCBmdW5jdGlvbihsZXR0ZXIsIHBvcykge1xuICAgIHJldHVybiAocG9zID8gc2VwYXJhdG9yIDogJycpICsgbGV0dGVyLnRvTG93ZXJDYXNlKCk7XG4gIH0pO1xufVxuXG52YXIgYmluZEpRdWVyeUZpcmVkID0gZmFsc2U7XG5mdW5jdGlvbiBiaW5kSlF1ZXJ5KCkge1xuICB2YXIgb3JpZ2luYWxDbGVhbkRhdGE7XG5cbiAgaWYgKGJpbmRKUXVlcnlGaXJlZCkge1xuICAgIHJldHVybjtcbiAgfVxuXG4gIC8vIGJpbmQgdG8galF1ZXJ5IGlmIHByZXNlbnQ7XG4gIHZhciBqcU5hbWUgPSBqcSgpO1xuICBqUXVlcnkgPSBpc1VuZGVmaW5lZChqcU5hbWUpID8gd2luZG93LmpRdWVyeSA6ICAgLy8gdXNlIGpRdWVyeSAoaWYgcHJlc2VudClcbiAgICAgICAgICAgIWpxTmFtZSAgICAgICAgICAgICA/IHVuZGVmaW5lZCAgICAgOiAgIC8vIHVzZSBqcUxpdGVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdpbmRvd1tqcU5hbWVdOyAgIC8vIHVzZSBqUXVlcnkgc3BlY2lmaWVkIGJ5IGBuZ0pxYFxuXG4gIC8vIFVzZSBqUXVlcnkgaWYgaXQgZXhpc3RzIHdpdGggcHJvcGVyIGZ1bmN0aW9uYWxpdHksIG90aGVyd2lzZSBkZWZhdWx0IHRvIHVzLlxuICAvLyBBbmd1bGFyIDEuMisgcmVxdWlyZXMgalF1ZXJ5IDEuNysgZm9yIG9uKCkvb2ZmKCkgc3VwcG9ydC5cbiAgLy8gQW5ndWxhciAxLjMrIHRlY2huaWNhbGx5IHJlcXVpcmVzIGF0IGxlYXN0IGpRdWVyeSAyLjErIGJ1dCBpdCBtYXkgd29yayB3aXRoIG9sZGVyXG4gIC8vIHZlcnNpb25zLiBJdCB3aWxsIG5vdCB3b3JrIGZvciBzdXJlIHdpdGggalF1ZXJ5IDwxLjcsIHRob3VnaC5cbiAgaWYgKGpRdWVyeSAmJiBqUXVlcnkuZm4ub24pIHtcbiAgICBqcUxpdGUgPSBqUXVlcnk7XG4gICAgZXh0ZW5kKGpRdWVyeS5mbiwge1xuICAgICAgc2NvcGU6IEpRTGl0ZVByb3RvdHlwZS5zY29wZSxcbiAgICAgIGlzb2xhdGVTY29wZTogSlFMaXRlUHJvdG90eXBlLmlzb2xhdGVTY29wZSxcbiAgICAgIGNvbnRyb2xsZXI6IC8qKiBAdHlwZSB7P30gKi8gKEpRTGl0ZVByb3RvdHlwZSkuY29udHJvbGxlcixcbiAgICAgIGluamVjdG9yOiBKUUxpdGVQcm90b3R5cGUuaW5qZWN0b3IsXG4gICAgICBpbmhlcml0ZWREYXRhOiBKUUxpdGVQcm90b3R5cGUuaW5oZXJpdGVkRGF0YVxuICAgIH0pO1xuXG4gICAgLy8gQWxsIG5vZGVzIHJlbW92ZWQgZnJvbSB0aGUgRE9NIHZpYSB2YXJpb3VzIGpRdWVyeSBBUElzIGxpa2UgLnJlbW92ZSgpXG4gICAgLy8gYXJlIHBhc3NlZCB0aHJvdWdoIGpRdWVyeS5jbGVhbkRhdGEuIE1vbmtleS1wYXRjaCB0aGlzIG1ldGhvZCB0byBmaXJlXG4gICAgLy8gdGhlICRkZXN0cm95IGV2ZW50IG9uIGFsbCByZW1vdmVkIG5vZGVzLlxuICAgIG9yaWdpbmFsQ2xlYW5EYXRhID0galF1ZXJ5LmNsZWFuRGF0YTtcbiAgICBqUXVlcnkuY2xlYW5EYXRhID0gZnVuY3Rpb24oZWxlbXMpIHtcbiAgICAgIHZhciBldmVudHM7XG4gICAgICBmb3IgKHZhciBpID0gMCwgZWxlbTsgKGVsZW0gPSBlbGVtc1tpXSkgIT0gbnVsbDsgaSsrKSB7XG4gICAgICAgIGV2ZW50cyA9IGpRdWVyeS5fZGF0YShlbGVtLCAnZXZlbnRzJyk7XG4gICAgICAgIGlmIChldmVudHMgJiYgZXZlbnRzLiRkZXN0cm95KSB7XG4gICAgICAgICAgalF1ZXJ5KGVsZW0pLnRyaWdnZXJIYW5kbGVyKCckZGVzdHJveScpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBvcmlnaW5hbENsZWFuRGF0YShlbGVtcyk7XG4gICAgfTtcbiAgfSBlbHNlIHtcbiAgICBqcUxpdGUgPSBKUUxpdGU7XG4gIH1cblxuICBhbmd1bGFyLmVsZW1lbnQgPSBqcUxpdGU7XG5cbiAgLy8gUHJldmVudCBkb3VibGUtcHJveHlpbmcuXG4gIGJpbmRKUXVlcnlGaXJlZCA9IHRydWU7XG59XG5cbi8qKlxuICogdGhyb3cgZXJyb3IgaWYgdGhlIGFyZ3VtZW50IGlzIGZhbHN5LlxuICovXG5mdW5jdGlvbiBhc3NlcnRBcmcoYXJnLCBuYW1lLCByZWFzb24pIHtcbiAgaWYgKCFhcmcpIHtcbiAgICB0aHJvdyBuZ01pbkVycignYXJlcScsICdBcmd1bWVudCBcXCd7MH1cXCcgaXMgezF9JywgKG5hbWUgfHwgJz8nKSwgKHJlYXNvbiB8fCAncmVxdWlyZWQnKSk7XG4gIH1cbiAgcmV0dXJuIGFyZztcbn1cblxuZnVuY3Rpb24gYXNzZXJ0QXJnRm4oYXJnLCBuYW1lLCBhY2NlcHRBcnJheUFubm90YXRpb24pIHtcbiAgaWYgKGFjY2VwdEFycmF5QW5ub3RhdGlvbiAmJiBpc0FycmF5KGFyZykpIHtcbiAgICAgIGFyZyA9IGFyZ1thcmcubGVuZ3RoIC0gMV07XG4gIH1cblxuICBhc3NlcnRBcmcoaXNGdW5jdGlvbihhcmcpLCBuYW1lLCAnbm90IGEgZnVuY3Rpb24sIGdvdCAnICtcbiAgICAgIChhcmcgJiYgdHlwZW9mIGFyZyA9PT0gJ29iamVjdCcgPyBhcmcuY29uc3RydWN0b3IubmFtZSB8fCAnT2JqZWN0JyA6IHR5cGVvZiBhcmcpKTtcbiAgcmV0dXJuIGFyZztcbn1cblxuLyoqXG4gKiB0aHJvdyBlcnJvciBpZiB0aGUgbmFtZSBnaXZlbiBpcyBoYXNPd25Qcm9wZXJ0eVxuICogQHBhcmFtICB7U3RyaW5nfSBuYW1lICAgIHRoZSBuYW1lIHRvIHRlc3RcbiAqIEBwYXJhbSAge1N0cmluZ30gY29udGV4dCB0aGUgY29udGV4dCBpbiB3aGljaCB0aGUgbmFtZSBpcyB1c2VkLCBzdWNoIGFzIG1vZHVsZSBvciBkaXJlY3RpdmVcbiAqL1xuZnVuY3Rpb24gYXNzZXJ0Tm90SGFzT3duUHJvcGVydHkobmFtZSwgY29udGV4dCkge1xuICBpZiAobmFtZSA9PT0gJ2hhc093blByb3BlcnR5Jykge1xuICAgIHRocm93IG5nTWluRXJyKCdiYWRuYW1lJywgJ2hhc093blByb3BlcnR5IGlzIG5vdCBhIHZhbGlkIHswfSBuYW1lJywgY29udGV4dCk7XG4gIH1cbn1cblxuLyoqXG4gKiBSZXR1cm4gdGhlIHZhbHVlIGFjY2Vzc2libGUgZnJvbSB0aGUgb2JqZWN0IGJ5IHBhdGguIEFueSB1bmRlZmluZWQgdHJhdmVyc2FscyBhcmUgaWdub3JlZFxuICogQHBhcmFtIHtPYmplY3R9IG9iaiBzdGFydGluZyBvYmplY3RcbiAqIEBwYXJhbSB7U3RyaW5nfSBwYXRoIHBhdGggdG8gdHJhdmVyc2VcbiAqIEBwYXJhbSB7Ym9vbGVhbn0gW2JpbmRGblRvU2NvcGU9dHJ1ZV1cbiAqIEByZXR1cm5zIHtPYmplY3R9IHZhbHVlIGFzIGFjY2Vzc2libGUgYnkgcGF0aFxuICovXG4vL1RPRE8obWlza28pOiB0aGlzIGZ1bmN0aW9uIG5lZWRzIHRvIGJlIHJlbW92ZWRcbmZ1bmN0aW9uIGdldHRlcihvYmosIHBhdGgsIGJpbmRGblRvU2NvcGUpIHtcbiAgaWYgKCFwYXRoKSByZXR1cm4gb2JqO1xuICB2YXIga2V5cyA9IHBhdGguc3BsaXQoJy4nKTtcbiAgdmFyIGtleTtcbiAgdmFyIGxhc3RJbnN0YW5jZSA9IG9iajtcbiAgdmFyIGxlbiA9IGtleXMubGVuZ3RoO1xuXG4gIGZvciAodmFyIGkgPSAwOyBpIDwgbGVuOyBpKyspIHtcbiAgICBrZXkgPSBrZXlzW2ldO1xuICAgIGlmIChvYmopIHtcbiAgICAgIG9iaiA9IChsYXN0SW5zdGFuY2UgPSBvYmopW2tleV07XG4gICAgfVxuICB9XG4gIGlmICghYmluZEZuVG9TY29wZSAmJiBpc0Z1bmN0aW9uKG9iaikpIHtcbiAgICByZXR1cm4gYmluZChsYXN0SW5zdGFuY2UsIG9iaik7XG4gIH1cbiAgcmV0dXJuIG9iajtcbn1cblxuLyoqXG4gKiBSZXR1cm4gdGhlIERPTSBzaWJsaW5ncyBiZXR3ZWVuIHRoZSBmaXJzdCBhbmQgbGFzdCBub2RlIGluIHRoZSBnaXZlbiBhcnJheS5cbiAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IGxpa2Ugb2JqZWN0XG4gKiBAcmV0dXJucyB7QXJyYXl9IHRoZSBpbnB1dHRlZCBvYmplY3Qgb3IgYSBqcUxpdGUgY29sbGVjdGlvbiBjb250YWluaW5nIHRoZSBub2Rlc1xuICovXG5mdW5jdGlvbiBnZXRCbG9ja05vZGVzKG5vZGVzKSB7XG4gIC8vIFRPRE8ocGVyZik6IHVwZGF0ZSBgbm9kZXNgIGluc3RlYWQgb2YgY3JlYXRpbmcgYSBuZXcgb2JqZWN0P1xuICB2YXIgbm9kZSA9IG5vZGVzWzBdO1xuICB2YXIgZW5kTm9kZSA9IG5vZGVzW25vZGVzLmxlbmd0aCAtIDFdO1xuICB2YXIgYmxvY2tOb2RlcztcblxuICBmb3IgKHZhciBpID0gMTsgbm9kZSAhPT0gZW5kTm9kZSAmJiAobm9kZSA9IG5vZGUubmV4dFNpYmxpbmcpOyBpKyspIHtcbiAgICBpZiAoYmxvY2tOb2RlcyB8fCBub2Rlc1tpXSAhPT0gbm9kZSkge1xuICAgICAgaWYgKCFibG9ja05vZGVzKSB7XG4gICAgICAgIGJsb2NrTm9kZXMgPSBqcUxpdGUoc2xpY2UuY2FsbChub2RlcywgMCwgaSkpO1xuICAgICAgfVxuICAgICAgYmxvY2tOb2Rlcy5wdXNoKG5vZGUpO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiBibG9ja05vZGVzIHx8IG5vZGVzO1xufVxuXG5cbi8qKlxuICogQ3JlYXRlcyBhIG5ldyBvYmplY3Qgd2l0aG91dCBhIHByb3RvdHlwZS4gVGhpcyBvYmplY3QgaXMgdXNlZnVsIGZvciBsb29rdXAgd2l0aG91dCBoYXZpbmcgdG9cbiAqIGd1YXJkIGFnYWluc3QgcHJvdG90eXBpY2FsbHkgaW5oZXJpdGVkIHByb3BlcnRpZXMgdmlhIGhhc093blByb3BlcnR5LlxuICpcbiAqIFJlbGF0ZWQgbWljcm8tYmVuY2htYXJrczpcbiAqIC0gaHR0cDovL2pzcGVyZi5jb20vb2JqZWN0LWNyZWF0ZTJcbiAqIC0gaHR0cDovL2pzcGVyZi5jb20vcHJvdG8tbWFwLWxvb2t1cC8yXG4gKiAtIGh0dHA6Ly9qc3BlcmYuY29tL2Zvci1pbi12cy1vYmplY3Qta2V5czJcbiAqXG4gKiBAcmV0dXJucyB7T2JqZWN0fVxuICovXG5mdW5jdGlvbiBjcmVhdGVNYXAoKSB7XG4gIHJldHVybiBPYmplY3QuY3JlYXRlKG51bGwpO1xufVxuXG5mdW5jdGlvbiBzdHJpbmdpZnkodmFsdWUpIHtcbiAgaWYgKHZhbHVlID09IG51bGwpIHsgLy8gbnVsbCB8fCB1bmRlZmluZWRcbiAgICByZXR1cm4gJyc7XG4gIH1cbiAgc3dpdGNoICh0eXBlb2YgdmFsdWUpIHtcbiAgICBjYXNlICdzdHJpbmcnOlxuICAgICAgYnJlYWs7XG4gICAgY2FzZSAnbnVtYmVyJzpcbiAgICAgIHZhbHVlID0gJycgKyB2YWx1ZTtcbiAgICAgIGJyZWFrO1xuICAgIGRlZmF1bHQ6XG4gICAgICBpZiAoaGFzQ3VzdG9tVG9TdHJpbmcodmFsdWUpICYmICFpc0FycmF5KHZhbHVlKSAmJiAhaXNEYXRlKHZhbHVlKSkge1xuICAgICAgICB2YWx1ZSA9IHZhbHVlLnRvU3RyaW5nKCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB2YWx1ZSA9IHRvSnNvbih2YWx1ZSk7XG4gICAgICB9XG4gIH1cblxuICByZXR1cm4gdmFsdWU7XG59XG5cbnZhciBOT0RFX1RZUEVfRUxFTUVOVCA9IDE7XG52YXIgTk9ERV9UWVBFX0FUVFJJQlVURSA9IDI7XG52YXIgTk9ERV9UWVBFX1RFWFQgPSAzO1xudmFyIE5PREVfVFlQRV9DT01NRU5UID0gODtcbnZhciBOT0RFX1RZUEVfRE9DVU1FTlQgPSA5O1xudmFyIE5PREVfVFlQRV9ET0NVTUVOVF9GUkFHTUVOVCA9IDExO1xuXG4vKipcbiAqIEBuZ2RvYyB0eXBlXG4gKiBAbmFtZSBhbmd1bGFyLk1vZHVsZVxuICogQG1vZHVsZSBuZ1xuICogQGRlc2NyaXB0aW9uXG4gKlxuICogSW50ZXJmYWNlIGZvciBjb25maWd1cmluZyBhbmd1bGFyIHtAbGluayBhbmd1bGFyLm1vZHVsZSBtb2R1bGVzfS5cbiAqL1xuXG5mdW5jdGlvbiBzZXR1cE1vZHVsZUxvYWRlcih3aW5kb3cpIHtcblxuICB2YXIgJGluamVjdG9yTWluRXJyID0gbWluRXJyKCckaW5qZWN0b3InKTtcbiAgdmFyIG5nTWluRXJyID0gbWluRXJyKCduZycpO1xuXG4gIGZ1bmN0aW9uIGVuc3VyZShvYmosIG5hbWUsIGZhY3RvcnkpIHtcbiAgICByZXR1cm4gb2JqW25hbWVdIHx8IChvYmpbbmFtZV0gPSBmYWN0b3J5KCkpO1xuICB9XG5cbiAgdmFyIGFuZ3VsYXIgPSBlbnN1cmUod2luZG93LCAnYW5ndWxhcicsIE9iamVjdCk7XG5cbiAgLy8gV2UgbmVlZCB0byBleHBvc2UgYGFuZ3VsYXIuJCRtaW5FcnJgIHRvIG1vZHVsZXMgc3VjaCBhcyBgbmdSZXNvdXJjZWAgdGhhdCByZWZlcmVuY2UgaXQgZHVyaW5nIGJvb3RzdHJhcFxuICBhbmd1bGFyLiQkbWluRXJyID0gYW5ndWxhci4kJG1pbkVyciB8fCBtaW5FcnI7XG5cbiAgcmV0dXJuIGVuc3VyZShhbmd1bGFyLCAnbW9kdWxlJywgZnVuY3Rpb24oKSB7XG4gICAgLyoqIEB0eXBlIHtPYmplY3QuPHN0cmluZywgYW5ndWxhci5Nb2R1bGU+fSAqL1xuICAgIHZhciBtb2R1bGVzID0ge307XG5cbiAgICAvKipcbiAgICAgKiBAbmdkb2MgZnVuY3Rpb25cbiAgICAgKiBAbmFtZSBhbmd1bGFyLm1vZHVsZVxuICAgICAqIEBtb2R1bGUgbmdcbiAgICAgKiBAZGVzY3JpcHRpb25cbiAgICAgKlxuICAgICAqIFRoZSBgYW5ndWxhci5tb2R1bGVgIGlzIGEgZ2xvYmFsIHBsYWNlIGZvciBjcmVhdGluZywgcmVnaXN0ZXJpbmcgYW5kIHJldHJpZXZpbmcgQW5ndWxhclxuICAgICAqIG1vZHVsZXMuXG4gICAgICogQWxsIG1vZHVsZXMgKGFuZ3VsYXIgY29yZSBvciAzcmQgcGFydHkpIHRoYXQgc2hvdWxkIGJlIGF2YWlsYWJsZSB0byBhbiBhcHBsaWNhdGlvbiBtdXN0IGJlXG4gICAgICogcmVnaXN0ZXJlZCB1c2luZyB0aGlzIG1lY2hhbmlzbS5cbiAgICAgKlxuICAgICAqIFBhc3Npbmcgb25lIGFyZ3VtZW50IHJldHJpZXZlcyBhbiBleGlzdGluZyB7QGxpbmsgYW5ndWxhci5Nb2R1bGV9LFxuICAgICAqIHdoZXJlYXMgcGFzc2luZyBtb3JlIHRoYW4gb25lIGFyZ3VtZW50IGNyZWF0ZXMgYSBuZXcge0BsaW5rIGFuZ3VsYXIuTW9kdWxlfVxuICAgICAqXG4gICAgICpcbiAgICAgKiAjIE1vZHVsZVxuICAgICAqXG4gICAgICogQSBtb2R1bGUgaXMgYSBjb2xsZWN0aW9uIG9mIHNlcnZpY2VzLCBkaXJlY3RpdmVzLCBjb250cm9sbGVycywgZmlsdGVycywgYW5kIGNvbmZpZ3VyYXRpb24gaW5mb3JtYXRpb24uXG4gICAgICogYGFuZ3VsYXIubW9kdWxlYCBpcyB1c2VkIHRvIGNvbmZpZ3VyZSB0aGUge0BsaW5rIGF1dG8uJGluamVjdG9yICRpbmplY3Rvcn0uXG4gICAgICpcbiAgICAgKiBgYGBqc1xuICAgICAqIC8vIENyZWF0ZSBhIG5ldyBtb2R1bGVcbiAgICAgKiB2YXIgbXlNb2R1bGUgPSBhbmd1bGFyLm1vZHVsZSgnbXlNb2R1bGUnLCBbXSk7XG4gICAgICpcbiAgICAgKiAvLyByZWdpc3RlciBhIG5ldyBzZXJ2aWNlXG4gICAgICogbXlNb2R1bGUudmFsdWUoJ2FwcE5hbWUnLCAnTXlDb29sQXBwJyk7XG4gICAgICpcbiAgICAgKiAvLyBjb25maWd1cmUgZXhpc3Rpbmcgc2VydmljZXMgaW5zaWRlIGluaXRpYWxpemF0aW9uIGJsb2Nrcy5cbiAgICAgKiBteU1vZHVsZS5jb25maWcoWyckbG9jYXRpb25Qcm92aWRlcicsIGZ1bmN0aW9uKCRsb2NhdGlvblByb3ZpZGVyKSB7XG4gICAgICogICAvLyBDb25maWd1cmUgZXhpc3RpbmcgcHJvdmlkZXJzXG4gICAgICogICAkbG9jYXRpb25Qcm92aWRlci5oYXNoUHJlZml4KCchJyk7XG4gICAgICogfV0pO1xuICAgICAqIGBgYFxuICAgICAqXG4gICAgICogVGhlbiB5b3UgY2FuIGNyZWF0ZSBhbiBpbmplY3RvciBhbmQgbG9hZCB5b3VyIG1vZHVsZXMgbGlrZSB0aGlzOlxuICAgICAqXG4gICAgICogYGBganNcbiAgICAgKiB2YXIgaW5qZWN0b3IgPSBhbmd1bGFyLmluamVjdG9yKFsnbmcnLCAnbXlNb2R1bGUnXSlcbiAgICAgKiBgYGBcbiAgICAgKlxuICAgICAqIEhvd2V2ZXIgaXQncyBtb3JlIGxpa2VseSB0aGF0IHlvdSdsbCBqdXN0IHVzZVxuICAgICAqIHtAbGluayBuZy5kaXJlY3RpdmU6bmdBcHAgbmdBcHB9IG9yXG4gICAgICoge0BsaW5rIGFuZ3VsYXIuYm9vdHN0cmFwfSB0byBzaW1wbGlmeSB0aGlzIHByb2Nlc3MgZm9yIHlvdS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7IXN0cmluZ30gbmFtZSBUaGUgbmFtZSBvZiB0aGUgbW9kdWxlIHRvIGNyZWF0ZSBvciByZXRyaWV2ZS5cbiAgICAgKiBAcGFyYW0geyFBcnJheS48c3RyaW5nPj19IHJlcXVpcmVzIElmIHNwZWNpZmllZCB0aGVuIG5ldyBtb2R1bGUgaXMgYmVpbmcgY3JlYXRlZC4gSWZcbiAgICAgKiAgICAgICAgdW5zcGVjaWZpZWQgdGhlbiB0aGUgbW9kdWxlIGlzIGJlaW5nIHJldHJpZXZlZCBmb3IgZnVydGhlciBjb25maWd1cmF0aW9uLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb249fSBjb25maWdGbiBPcHRpb25hbCBjb25maWd1cmF0aW9uIGZ1bmN0aW9uIGZvciB0aGUgbW9kdWxlLiBTYW1lIGFzXG4gICAgICogICAgICAgIHtAbGluayBhbmd1bGFyLk1vZHVsZSNjb25maWcgTW9kdWxlI2NvbmZpZygpfS5cbiAgICAgKiBAcmV0dXJucyB7YW5ndWxhci5Nb2R1bGV9IG5ldyBtb2R1bGUgd2l0aCB0aGUge0BsaW5rIGFuZ3VsYXIuTW9kdWxlfSBhcGkuXG4gICAgICovXG4gICAgcmV0dXJuIGZ1bmN0aW9uIG1vZHVsZShuYW1lLCByZXF1aXJlcywgY29uZmlnRm4pIHtcblxuICAgICAgdmFyIGluZm8gPSB7fTtcblxuICAgICAgdmFyIGFzc2VydE5vdEhhc093blByb3BlcnR5ID0gZnVuY3Rpb24obmFtZSwgY29udGV4dCkge1xuICAgICAgICBpZiAobmFtZSA9PT0gJ2hhc093blByb3BlcnR5Jykge1xuICAgICAgICAgIHRocm93IG5nTWluRXJyKCdiYWRuYW1lJywgJ2hhc093blByb3BlcnR5IGlzIG5vdCBhIHZhbGlkIHswfSBuYW1lJywgY29udGV4dCk7XG4gICAgICAgIH1cbiAgICAgIH07XG5cbiAgICAgIGFzc2VydE5vdEhhc093blByb3BlcnR5KG5hbWUsICdtb2R1bGUnKTtcbiAgICAgIGlmIChyZXF1aXJlcyAmJiBtb2R1bGVzLmhhc093blByb3BlcnR5KG5hbWUpKSB7XG4gICAgICAgIG1vZHVsZXNbbmFtZV0gPSBudWxsO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGVuc3VyZShtb2R1bGVzLCBuYW1lLCBmdW5jdGlvbigpIHtcbiAgICAgICAgaWYgKCFyZXF1aXJlcykge1xuICAgICAgICAgIHRocm93ICRpbmplY3Rvck1pbkVycignbm9tb2QnLCAnTW9kdWxlIFxcJ3swfVxcJyBpcyBub3QgYXZhaWxhYmxlISBZb3UgZWl0aGVyIG1pc3NwZWxsZWQgJyArXG4gICAgICAgICAgICAgJ3RoZSBtb2R1bGUgbmFtZSBvciBmb3Jnb3QgdG8gbG9hZCBpdC4gSWYgcmVnaXN0ZXJpbmcgYSBtb2R1bGUgZW5zdXJlIHRoYXQgeW91ICcgK1xuICAgICAgICAgICAgICdzcGVjaWZ5IHRoZSBkZXBlbmRlbmNpZXMgYXMgdGhlIHNlY29uZCBhcmd1bWVudC4nLCBuYW1lKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8qKiBAdHlwZSB7IUFycmF5LjxBcnJheS48Kj4+fSAqL1xuICAgICAgICB2YXIgaW52b2tlUXVldWUgPSBbXTtcblxuICAgICAgICAvKiogQHR5cGUgeyFBcnJheS48RnVuY3Rpb24+fSAqL1xuICAgICAgICB2YXIgY29uZmlnQmxvY2tzID0gW107XG5cbiAgICAgICAgLyoqIEB0eXBlIHshQXJyYXkuPEZ1bmN0aW9uPn0gKi9cbiAgICAgICAgdmFyIHJ1bkJsb2NrcyA9IFtdO1xuXG4gICAgICAgIHZhciBjb25maWcgPSBpbnZva2VMYXRlcignJGluamVjdG9yJywgJ2ludm9rZScsICdwdXNoJywgY29uZmlnQmxvY2tzKTtcblxuICAgICAgICAvKiogQHR5cGUge2FuZ3VsYXIuTW9kdWxlfSAqL1xuICAgICAgICB2YXIgbW9kdWxlSW5zdGFuY2UgPSB7XG4gICAgICAgICAgLy8gUHJpdmF0ZSBzdGF0ZVxuICAgICAgICAgIF9pbnZva2VRdWV1ZTogaW52b2tlUXVldWUsXG4gICAgICAgICAgX2NvbmZpZ0Jsb2NrczogY29uZmlnQmxvY2tzLFxuICAgICAgICAgIF9ydW5CbG9ja3M6IHJ1bkJsb2NrcyxcblxuICAgICAgICAgIC8qKlxuICAgICAgICAgICAqIEBuZ2RvYyBtZXRob2RcbiAgICAgICAgICAgKiBAbmFtZSBhbmd1bGFyLk1vZHVsZSNpbmZvXG4gICAgICAgICAgICogQG1vZHVsZSBuZ1xuICAgICAgICAgICAqXG4gICAgICAgICAgICogQHBhcmFtIHtPYmplY3Q9fSBpbmZvIEluZm9ybWF0aW9uIGFib3V0IHRoZSBtb2R1bGVcbiAgICAgICAgICAgKiBAcmV0dXJucyB7T2JqZWN0fE1vZHVsZX0gVGhlIGN1cnJlbnQgaW5mbyBvYmplY3QgZm9yIHRoaXMgbW9kdWxlIGlmIGNhbGxlZCBhcyBhIGdldHRlcixcbiAgICAgICAgICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgb3IgYHRoaXNgIGlmIGNhbGxlZCBhcyBhIHNldHRlci5cbiAgICAgICAgICAgKlxuICAgICAgICAgICAqIEBkZXNjcmlwdGlvblxuICAgICAgICAgICAqIFJlYWQgYW5kIHdyaXRlIGN1c3RvbSBpbmZvcm1hdGlvbiBhYm91dCB0aGlzIG1vZHVsZS5cbiAgICAgICAgICAgKiBGb3IgZXhhbXBsZSB5b3UgY291bGQgcHV0IHRoZSB2ZXJzaW9uIG9mIHRoZSBtb2R1bGUgaW4gaGVyZS5cbiAgICAgICAgICAgKlxuICAgICAgICAgICAqIGBgYGpzXG4gICAgICAgICAgICogYW5ndWxhci5tb2R1bGUoJ215TW9kdWxlJywgW10pLmluZm8oeyB2ZXJzaW9uOiAnMS4wLjAnIH0pO1xuICAgICAgICAgICAqIGBgYFxuICAgICAgICAgICAqXG4gICAgICAgICAgICogVGhlIHZlcnNpb24gY291bGQgdGhlbiBiZSByZWFkIGJhY2sgb3V0IGJ5IGFjY2Vzc2luZyB0aGUgbW9kdWxlIGVsc2V3aGVyZTpcbiAgICAgICAgICAgKlxuICAgICAgICAgICAqIGBgYFxuICAgICAgICAgICAqIHZhciB2ZXJzaW9uID0gYW5ndWxhci5tb2R1bGUoJ215TW9kdWxlJykuaW5mbygpLnZlcnNpb247XG4gICAgICAgICAgICogYGBgXG4gICAgICAgICAgICpcbiAgICAgICAgICAgKiBZb3UgY2FuIGFsc28gcmV0cmlldmUgdGhpcyBpbmZvcm1hdGlvbiBkdXJpbmcgcnVudGltZSB2aWEgdGhlXG4gICAgICAgICAgICoge0BsaW5rICRpbmplY3RvciNtb2R1bGVzIGAkaW5qZWN0b3IubW9kdWxlc2B9IHByb3BlcnR5OlxuICAgICAgICAgICAqXG4gICAgICAgICAgICogYGBganNcbiAgICAgICAgICAgKiB2YXIgdmVyc2lvbiA9ICRpbmplY3Rvci5tb2R1bGVzWydteU1vZHVsZSddLmluZm8oKS52ZXJzaW9uO1xuICAgICAgICAgICAqIGBgYFxuICAgICAgICAgICAqL1xuICAgICAgICAgIGluZm86IGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgICAgICAgICBpZiAoaXNEZWZpbmVkKHZhbHVlKSkge1xuICAgICAgICAgICAgICBpZiAoIWlzT2JqZWN0KHZhbHVlKSkgdGhyb3cgbmdNaW5FcnIoJ2FvYmonLCAnQXJndW1lbnQgXFwnezB9XFwnIG11c3QgYmUgYW4gb2JqZWN0JywgJ3ZhbHVlJyk7XG4gICAgICAgICAgICAgIGluZm8gPSB2YWx1ZTtcbiAgICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gaW5mbztcbiAgICAgICAgICB9LFxuXG4gICAgICAgICAgLyoqXG4gICAgICAgICAgICogQG5nZG9jIHByb3BlcnR5XG4gICAgICAgICAgICogQG5hbWUgYW5ndWxhci5Nb2R1bGUjcmVxdWlyZXNcbiAgICAgICAgICAgKiBAbW9kdWxlIG5nXG4gICAgICAgICAgICpcbiAgICAgICAgICAgKiBAZGVzY3JpcHRpb25cbiAgICAgICAgICAgKiBIb2xkcyB0aGUgbGlzdCBvZiBtb2R1bGVzIHdoaWNoIHRoZSBpbmplY3RvciB3aWxsIGxvYWQgYmVmb3JlIHRoZSBjdXJyZW50IG1vZHVsZSBpc1xuICAgICAgICAgICAqIGxvYWRlZC5cbiAgICAgICAgICAgKi9cbiAgICAgICAgICByZXF1aXJlczogcmVxdWlyZXMsXG5cbiAgICAgICAgICAvKipcbiAgICAgICAgICAgKiBAbmdkb2MgcHJvcGVydHlcbiAgICAgICAgICAgKiBAbmFtZSBhbmd1bGFyLk1vZHVsZSNuYW1lXG4gICAgICAgICAgICogQG1vZHVsZSBuZ1xuICAgICAgICAgICAqXG4gICAgICAgICAgICogQGRlc2NyaXB0aW9uXG4gICAgICAgICAgICogTmFtZSBvZiB0aGUgbW9kdWxlLlxuICAgICAgICAgICAqL1xuICAgICAgICAgIG5hbWU6IG5hbWUsXG5cblxuICAgICAgICAgIC8qKlxuICAgICAgICAgICAqIEBuZ2RvYyBtZXRob2RcbiAgICAgICAgICAgKiBAbmFtZSBhbmd1bGFyLk1vZHVsZSNwcm92aWRlclxuICAgICAgICAgICAqIEBtb2R1bGUgbmdcbiAgICAgICAgICAgKiBAcGFyYW0ge3N0cmluZ30gbmFtZSBzZXJ2aWNlIG5hbWVcbiAgICAgICAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBwcm92aWRlclR5cGUgQ29uc3RydWN0aW9uIGZ1bmN0aW9uIGZvciBjcmVhdGluZyBuZXcgaW5zdGFuY2Ugb2YgdGhlXG4gICAgICAgICAgICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlcnZpY2UuXG4gICAgICAgICAgICogQGRlc2NyaXB0aW9uXG4gICAgICAgICAgICogU2VlIHtAbGluayBhdXRvLiRwcm92aWRlI3Byb3ZpZGVyICRwcm92aWRlLnByb3ZpZGVyKCl9LlxuICAgICAgICAgICAqL1xuICAgICAgICAgIHByb3ZpZGVyOiBpbnZva2VMYXRlckFuZFNldE1vZHVsZU5hbWUoJyRwcm92aWRlJywgJ3Byb3ZpZGVyJyksXG5cbiAgICAgICAgICAvKipcbiAgICAgICAgICAgKiBAbmdkb2MgbWV0aG9kXG4gICAgICAgICAgICogQG5hbWUgYW5ndWxhci5Nb2R1bGUjZmFjdG9yeVxuICAgICAgICAgICAqIEBtb2R1bGUgbmdcbiAgICAgICAgICAgKiBAcGFyYW0ge3N0cmluZ30gbmFtZSBzZXJ2aWNlIG5hbWVcbiAgICAgICAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBwcm92aWRlckZ1bmN0aW9uIEZ1bmN0aW9uIGZvciBjcmVhdGluZyBuZXcgaW5zdGFuY2Ugb2YgdGhlIHNlcnZpY2UuXG4gICAgICAgICAgICogQGRlc2NyaXB0aW9uXG4gICAgICAgICAgICogU2VlIHtAbGluayBhdXRvLiRwcm92aWRlI2ZhY3RvcnkgJHByb3ZpZGUuZmFjdG9yeSgpfS5cbiAgICAgICAgICAgKi9cbiAgICAgICAgICBmYWN0b3J5OiBpbnZva2VMYXRlckFuZFNldE1vZHVsZU5hbWUoJyRwcm92aWRlJywgJ2ZhY3RvcnknKSxcblxuICAgICAgICAgIC8qKlxuICAgICAgICAgICAqIEBuZ2RvYyBtZXRob2RcbiAgICAgICAgICAgKiBAbmFtZSBhbmd1bGFyLk1vZHVsZSNzZXJ2aWNlXG4gICAgICAgICAgICogQG1vZHVsZSBuZ1xuICAgICAgICAgICAqIEBwYXJhbSB7c3RyaW5nfSBuYW1lIHNlcnZpY2UgbmFtZVxuICAgICAgICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGNvbnN0cnVjdG9yIEEgY29uc3RydWN0b3IgZnVuY3Rpb24gdGhhdCB3aWxsIGJlIGluc3RhbnRpYXRlZC5cbiAgICAgICAgICAgKiBAZGVzY3JpcHRpb25cbiAgICAgICAgICAgKiBTZWUge0BsaW5rIGF1dG8uJHByb3ZpZGUjc2VydmljZSAkcHJvdmlkZS5zZXJ2aWNlKCl9LlxuICAgICAgICAgICAqL1xuICAgICAgICAgIHNlcnZpY2U6IGludm9rZUxhdGVyQW5kU2V0TW9kdWxlTmFtZSgnJHByb3ZpZGUnLCAnc2VydmljZScpLFxuXG4gICAgICAgICAgLyoqXG4gICAgICAgICAgICogQG5nZG9jIG1ldGhvZFxuICAgICAgICAgICAqIEBuYW1lIGFuZ3VsYXIuTW9kdWxlI3ZhbHVlXG4gICAgICAgICAgICogQG1vZHVsZSBuZ1xuICAgICAgICAgICAqIEBwYXJhbSB7c3RyaW5nfSBuYW1lIHNlcnZpY2UgbmFtZVxuICAgICAgICAgICAqIEBwYXJhbSB7Kn0gb2JqZWN0IFNlcnZpY2UgaW5zdGFuY2Ugb2JqZWN0LlxuICAgICAgICAgICAqIEBkZXNjcmlwdGlvblxuICAgICAgICAgICAqIFNlZSB7QGxpbmsgYXV0by4kcHJvdmlkZSN2YWx1ZSAkcHJvdmlkZS52YWx1ZSgpfS5cbiAgICAgICAgICAgKi9cbiAgICAgICAgICB2YWx1ZTogaW52b2tlTGF0ZXIoJyRwcm92aWRlJywgJ3ZhbHVlJyksXG5cbiAgICAgICAgICAvKipcbiAgICAgICAgICAgKiBAbmdkb2MgbWV0aG9kXG4gICAgICAgICAgICogQG5hbWUgYW5ndWxhci5Nb2R1bGUjY29uc3RhbnRcbiAgICAgICAgICAgKiBAbW9kdWxlIG5nXG4gICAgICAgICAgICogQHBhcmFtIHtzdHJpbmd9IG5hbWUgY29uc3RhbnQgbmFtZVxuICAgICAgICAgICAqIEBwYXJhbSB7Kn0gb2JqZWN0IENvbnN0YW50IHZhbHVlLlxuICAgICAgICAgICAqIEBkZXNjcmlwdGlvblxuICAgICAgICAgICAqIEJlY2F1c2UgdGhlIGNvbnN0YW50cyBhcmUgZml4ZWQsIHRoZXkgZ2V0IGFwcGxpZWQgYmVmb3JlIG90aGVyIHByb3ZpZGUgbWV0aG9kcy5cbiAgICAgICAgICAgKiBTZWUge0BsaW5rIGF1dG8uJHByb3ZpZGUjY29uc3RhbnQgJHByb3ZpZGUuY29uc3RhbnQoKX0uXG4gICAgICAgICAgICovXG4gICAgICAgICAgY29uc3RhbnQ6IGludm9rZUxhdGVyKCckcHJvdmlkZScsICdjb25zdGFudCcsICd1bnNoaWZ0JyksXG5cbiAgICAgICAgICAgLyoqXG4gICAgICAgICAgICogQG5nZG9jIG1ldGhvZFxuICAgICAgICAgICAqIEBuYW1lIGFuZ3VsYXIuTW9kdWxlI2RlY29yYXRvclxuICAgICAgICAgICAqIEBtb2R1bGUgbmdcbiAgICAgICAgICAgKiBAcGFyYW0ge3N0cmluZ30gbmFtZSBUaGUgbmFtZSBvZiB0aGUgc2VydmljZSB0byBkZWNvcmF0ZS5cbiAgICAgICAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBkZWNvckZuIFRoaXMgZnVuY3Rpb24gd2lsbCBiZSBpbnZva2VkIHdoZW4gdGhlIHNlcnZpY2UgbmVlZHMgdG8gYmVcbiAgICAgICAgICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgIGluc3RhbnRpYXRlZCBhbmQgc2hvdWxkIHJldHVybiB0aGUgZGVjb3JhdGVkIHNlcnZpY2UgaW5zdGFuY2UuXG4gICAgICAgICAgICogQGRlc2NyaXB0aW9uXG4gICAgICAgICAgICogU2VlIHtAbGluayBhdXRvLiRwcm92aWRlI2RlY29yYXRvciAkcHJvdmlkZS5kZWNvcmF0b3IoKX0uXG4gICAgICAgICAgICovXG4gICAgICAgICAgZGVjb3JhdG9yOiBpbnZva2VMYXRlckFuZFNldE1vZHVsZU5hbWUoJyRwcm92aWRlJywgJ2RlY29yYXRvcicsIGNvbmZpZ0Jsb2NrcyksXG5cbiAgICAgICAgICAvKipcbiAgICAgICAgICAgKiBAbmdkb2MgbWV0aG9kXG4gICAgICAgICAgICogQG5hbWUgYW5ndWxhci5Nb2R1bGUjYW5pbWF0aW9uXG4gICAgICAgICAgICogQG1vZHVsZSBuZ1xuICAgICAgICAgICAqIEBwYXJhbSB7c3RyaW5nfSBuYW1lIGFuaW1hdGlvbiBuYW1lXG4gICAgICAgICAgICogQHBhcmFtIHtGdW5jdGlvbn0gYW5pbWF0aW9uRmFjdG9yeSBGYWN0b3J5IGZ1bmN0aW9uIGZvciBjcmVhdGluZyBuZXcgaW5zdGFuY2Ugb2YgYW5cbiAgICAgICAgICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFuaW1hdGlvbi5cbiAgICAgICAgICAgKiBAZGVzY3JpcHRpb25cbiAgICAgICAgICAgKlxuICAgICAgICAgICAqICoqTk9URSoqOiBhbmltYXRpb25zIHRha2UgZWZmZWN0IG9ubHkgaWYgdGhlICoqbmdBbmltYXRlKiogbW9kdWxlIGlzIGxvYWRlZC5cbiAgICAgICAgICAgKlxuICAgICAgICAgICAqXG4gICAgICAgICAgICogRGVmaW5lcyBhbiBhbmltYXRpb24gaG9vayB0aGF0IGNhbiBiZSBsYXRlciB1c2VkIHdpdGhcbiAgICAgICAgICAgKiB7QGxpbmsgJGFuaW1hdGUgJGFuaW1hdGV9IHNlcnZpY2UgYW5kIGRpcmVjdGl2ZXMgdGhhdCB1c2UgdGhpcyBzZXJ2aWNlLlxuICAgICAgICAgICAqXG4gICAgICAgICAgICogYGBganNcbiAgICAgICAgICAgKiBtb2R1bGUuYW5pbWF0aW9uKCcuYW5pbWF0aW9uLW5hbWUnLCBmdW5jdGlvbigkaW5qZWN0MSwgJGluamVjdDIpIHtcbiAgICAgICAgICAgKiAgIHJldHVybiB7XG4gICAgICAgICAgICogICAgIGV2ZW50TmFtZSA6IGZ1bmN0aW9uKGVsZW1lbnQsIGRvbmUpIHtcbiAgICAgICAgICAgKiAgICAgICAvL2NvZGUgdG8gcnVuIHRoZSBhbmltYXRpb25cbiAgICAgICAgICAgKiAgICAgICAvL29uY2UgY29tcGxldGUsIHRoZW4gcnVuIGRvbmUoKVxuICAgICAgICAgICAqICAgICAgIHJldHVybiBmdW5jdGlvbiBjYW5jZWxsYXRpb25GdW5jdGlvbihlbGVtZW50KSB7XG4gICAgICAgICAgICogICAgICAgICAvL2NvZGUgdG8gY2FuY2VsIHRoZSBhbmltYXRpb25cbiAgICAgICAgICAgKiAgICAgICB9XG4gICAgICAgICAgICogICAgIH1cbiAgICAgICAgICAgKiAgIH1cbiAgICAgICAgICAgKiB9KVxuICAgICAgICAgICAqIGBgYFxuICAgICAgICAgICAqXG4gICAgICAgICAgICogU2VlIHtAbGluayBuZy4kYW5pbWF0ZVByb3ZpZGVyI3JlZ2lzdGVyICRhbmltYXRlUHJvdmlkZXIucmVnaXN0ZXIoKX0gYW5kXG4gICAgICAgICAgICoge0BsaW5rIG5nQW5pbWF0ZSBuZ0FuaW1hdGUgbW9kdWxlfSBmb3IgbW9yZSBpbmZvcm1hdGlvbi5cbiAgICAgICAgICAgKi9cbiAgICAgICAgICBhbmltYXRpb246IGludm9rZUxhdGVyQW5kU2V0TW9kdWxlTmFtZSgnJGFuaW1hdGVQcm92aWRlcicsICdyZWdpc3RlcicpLFxuXG4gICAgICAgICAgLyoqXG4gICAgICAgICAgICogQG5nZG9jIG1ldGhvZFxuICAgICAgICAgICAqIEBuYW1lIGFuZ3VsYXIuTW9kdWxlI2ZpbHRlclxuICAgICAgICAgICAqIEBtb2R1bGUgbmdcbiAgICAgICAgICAgKiBAcGFyYW0ge3N0cmluZ30gbmFtZSBGaWx0ZXIgbmFtZSAtIHRoaXMgbXVzdCBiZSBhIHZhbGlkIGFuZ3VsYXIgZXhwcmVzc2lvbiBpZGVudGlmaWVyXG4gICAgICAgICAgICogQHBhcmFtIHtGdW5jdGlvbn0gZmlsdGVyRmFjdG9yeSBGYWN0b3J5IGZ1bmN0aW9uIGZvciBjcmVhdGluZyBuZXcgaW5zdGFuY2Ugb2YgZmlsdGVyLlxuICAgICAgICAgICAqIEBkZXNjcmlwdGlvblxuICAgICAgICAgICAqIFNlZSB7QGxpbmsgbmcuJGZpbHRlclByb3ZpZGVyI3JlZ2lzdGVyICRmaWx0ZXJQcm92aWRlci5yZWdpc3RlcigpfS5cbiAgICAgICAgICAgKlxuICAgICAgICAgICAqIDxkaXYgY2xhc3M9XCJhbGVydCBhbGVydC13YXJuaW5nXCI+XG4gICAgICAgICAgICogKipOb3RlOioqIEZpbHRlciBuYW1lcyBtdXN0IGJlIHZhbGlkIGFuZ3VsYXIge0BsaW5rIGV4cHJlc3Npb259IGlkZW50aWZpZXJzLCBzdWNoIGFzIGB1cHBlcmNhc2VgIG9yIGBvcmRlckJ5YC5cbiAgICAgICAgICAgKiBOYW1lcyB3aXRoIHNwZWNpYWwgY2hhcmFjdGVycywgc3VjaCBhcyBoeXBoZW5zIGFuZCBkb3RzLCBhcmUgbm90IGFsbG93ZWQuIElmIHlvdSB3aXNoIHRvIG5hbWVzcGFjZVxuICAgICAgICAgICAqIHlvdXIgZmlsdGVycywgdGhlbiB5b3UgY2FuIHVzZSBjYXBpdGFsaXphdGlvbiAoYG15YXBwU3Vic2VjdGlvbkZpbHRlcnhgKSBvciB1bmRlcnNjb3Jlc1xuICAgICAgICAgICAqIChgbXlhcHBfc3Vic2VjdGlvbl9maWx0ZXJ4YCkuXG4gICAgICAgICAgICogPC9kaXY+XG4gICAgICAgICAgICovXG4gICAgICAgICAgZmlsdGVyOiBpbnZva2VMYXRlckFuZFNldE1vZHVsZU5hbWUoJyRmaWx0ZXJQcm92aWRlcicsICdyZWdpc3RlcicpLFxuXG4gICAgICAgICAgLyoqXG4gICAgICAgICAgICogQG5nZG9jIG1ldGhvZFxuICAgICAgICAgICAqIEBuYW1lIGFuZ3VsYXIuTW9kdWxlI2NvbnRyb2xsZXJcbiAgICAgICAgICAgKiBAbW9kdWxlIG5nXG4gICAgICAgICAgICogQHBhcmFtIHtzdHJpbmd8T2JqZWN0fSBuYW1lIENvbnRyb2xsZXIgbmFtZSwgb3IgYW4gb2JqZWN0IG1hcCBvZiBjb250cm9sbGVycyB3aGVyZSB0aGVcbiAgICAgICAgICAgKiAgICBrZXlzIGFyZSB0aGUgbmFtZXMgYW5kIHRoZSB2YWx1ZXMgYXJlIHRoZSBjb25zdHJ1Y3RvcnMuXG4gICAgICAgICAgICogQHBhcmFtIHtGdW5jdGlvbn0gY29uc3RydWN0b3IgQ29udHJvbGxlciBjb25zdHJ1Y3RvciBmdW5jdGlvbi5cbiAgICAgICAgICAgKiBAZGVzY3JpcHRpb25cbiAgICAgICAgICAgKiBTZWUge0BsaW5rIG5nLiRjb250cm9sbGVyUHJvdmlkZXIjcmVnaXN0ZXIgJGNvbnRyb2xsZXJQcm92aWRlci5yZWdpc3RlcigpfS5cbiAgICAgICAgICAgKi9cbiAgICAgICAgICBjb250cm9sbGVyOiBpbnZva2VMYXRlckFuZFNldE1vZHVsZU5hbWUoJyRjb250cm9sbGVyUHJvdmlkZXInLCAncmVnaXN0ZXInKSxcblxuICAgICAgICAgIC8qKlxuICAgICAgICAgICAqIEBuZ2RvYyBtZXRob2RcbiAgICAgICAgICAgKiBAbmFtZSBhbmd1bGFyLk1vZHVsZSNkaXJlY3RpdmVcbiAgICAgICAgICAgKiBAbW9kdWxlIG5nXG4gICAgICAgICAgICogQHBhcmFtIHtzdHJpbmd8T2JqZWN0fSBuYW1lIERpcmVjdGl2ZSBuYW1lLCBvciBhbiBvYmplY3QgbWFwIG9mIGRpcmVjdGl2ZXMgd2hlcmUgdGhlXG4gICAgICAgICAgICogICAga2V5cyBhcmUgdGhlIG5hbWVzIGFuZCB0aGUgdmFsdWVzIGFyZSB0aGUgZmFjdG9yaWVzLlxuICAgICAgICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGRpcmVjdGl2ZUZhY3RvcnkgRmFjdG9yeSBmdW5jdGlvbiBmb3IgY3JlYXRpbmcgbmV3IGluc3RhbmNlIG9mXG4gICAgICAgICAgICogZGlyZWN0aXZlcy5cbiAgICAgICAgICAgKiBAZGVzY3JpcHRpb25cbiAgICAgICAgICAgKiBTZWUge0BsaW5rIG5nLiRjb21waWxlUHJvdmlkZXIjZGlyZWN0aXZlICRjb21waWxlUHJvdmlkZXIuZGlyZWN0aXZlKCl9LlxuICAgICAgICAgICAqL1xuICAgICAgICAgIGRpcmVjdGl2ZTogaW52b2tlTGF0ZXJBbmRTZXRNb2R1bGVOYW1lKCckY29tcGlsZVByb3ZpZGVyJywgJ2RpcmVjdGl2ZScpLFxuXG4gICAgICAgICAgLyoqXG4gICAgICAgICAgICogQG5nZG9jIG1ldGhvZFxuICAgICAgICAgICAqIEBuYW1lIGFuZ3VsYXIuTW9kdWxlI2NvbXBvbmVudFxuICAgICAgICAgICAqIEBtb2R1bGUgbmdcbiAgICAgICAgICAgKiBAcGFyYW0ge3N0cmluZ30gbmFtZSBOYW1lIG9mIHRoZSBjb21wb25lbnQgaW4gY2FtZWwtY2FzZSAoaS5lLiBteUNvbXAgd2hpY2ggd2lsbCBtYXRjaCBhcyBteS1jb21wKVxuICAgICAgICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvcHRpb25zIENvbXBvbmVudCBkZWZpbml0aW9uIG9iamVjdCAoYSBzaW1wbGlmaWVkXG4gICAgICAgICAgICogICAge0BsaW5rIG5nLiRjb21waWxlI2RpcmVjdGl2ZS1kZWZpbml0aW9uLW9iamVjdCBkaXJlY3RpdmUgZGVmaW5pdGlvbiBvYmplY3R9KVxuICAgICAgICAgICAqXG4gICAgICAgICAgICogQGRlc2NyaXB0aW9uXG4gICAgICAgICAgICogU2VlIHtAbGluayBuZy4kY29tcGlsZVByb3ZpZGVyI2NvbXBvbmVudCAkY29tcGlsZVByb3ZpZGVyLmNvbXBvbmVudCgpfS5cbiAgICAgICAgICAgKi9cbiAgICAgICAgICBjb21wb25lbnQ6IGludm9rZUxhdGVyQW5kU2V0TW9kdWxlTmFtZSgnJGNvbXBpbGVQcm92aWRlcicsICdjb21wb25lbnQnKSxcblxuICAgICAgICAgIC8qKlxuICAgICAgICAgICAqIEBuZ2RvYyBtZXRob2RcbiAgICAgICAgICAgKiBAbmFtZSBhbmd1bGFyLk1vZHVsZSNjb25maWdcbiAgICAgICAgICAgKiBAbW9kdWxlIG5nXG4gICAgICAgICAgICogQHBhcmFtIHtGdW5jdGlvbn0gY29uZmlnRm4gRXhlY3V0ZSB0aGlzIGZ1bmN0aW9uIG9uIG1vZHVsZSBsb2FkLiBVc2VmdWwgZm9yIHNlcnZpY2VcbiAgICAgICAgICAgKiAgICBjb25maWd1cmF0aW9uLlxuICAgICAgICAgICAqIEBkZXNjcmlwdGlvblxuICAgICAgICAgICAqIFVzZSB0aGlzIG1ldGhvZCB0byByZWdpc3RlciB3b3JrIHdoaWNoIG5lZWRzIHRvIGJlIHBlcmZvcm1lZCBvbiBtb2R1bGUgbG9hZGluZy5cbiAgICAgICAgICAgKiBGb3IgbW9yZSBhYm91dCBob3cgdG8gY29uZmlndXJlIHNlcnZpY2VzLCBzZWVcbiAgICAgICAgICAgKiB7QGxpbmsgcHJvdmlkZXJzI3Byb3ZpZGVyLXJlY2lwZSBQcm92aWRlciBSZWNpcGV9LlxuICAgICAgICAgICAqL1xuICAgICAgICAgIGNvbmZpZzogY29uZmlnLFxuXG4gICAgICAgICAgLyoqXG4gICAgICAgICAgICogQG5nZG9jIG1ldGhvZFxuICAgICAgICAgICAqIEBuYW1lIGFuZ3VsYXIuTW9kdWxlI3J1blxuICAgICAgICAgICAqIEBtb2R1bGUgbmdcbiAgICAgICAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBpbml0aWFsaXphdGlvbkZuIEV4ZWN1dGUgdGhpcyBmdW5jdGlvbiBhZnRlciBpbmplY3RvciBjcmVhdGlvbi5cbiAgICAgICAgICAgKiAgICBVc2VmdWwgZm9yIGFwcGxpY2F0aW9uIGluaXRpYWxpemF0aW9uLlxuICAgICAgICAgICAqIEBkZXNjcmlwdGlvblxuICAgICAgICAgICAqIFVzZSB0aGlzIG1ldGhvZCB0byByZWdpc3RlciB3b3JrIHdoaWNoIHNob3VsZCBiZSBwZXJmb3JtZWQgd2hlbiB0aGUgaW5qZWN0b3IgaXMgZG9uZVxuICAgICAgICAgICAqIGxvYWRpbmcgYWxsIG1vZHVsZXMuXG4gICAgICAgICAgICovXG4gICAgICAgICAgcnVuOiBmdW5jdGlvbihibG9jaykge1xuICAgICAgICAgICAgcnVuQmxvY2tzLnB1c2goYmxvY2spO1xuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgICAgfVxuICAgICAgICB9O1xuXG4gICAgICAgIGlmIChjb25maWdGbikge1xuICAgICAgICAgIGNvbmZpZyhjb25maWdGbik7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gbW9kdWxlSW5zdGFuY2U7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBwYXJhbSB7c3RyaW5nfSBwcm92aWRlclxuICAgICAgICAgKiBAcGFyYW0ge3N0cmluZ30gbWV0aG9kXG4gICAgICAgICAqIEBwYXJhbSB7U3RyaW5nPX0gaW5zZXJ0TWV0aG9kXG4gICAgICAgICAqIEByZXR1cm5zIHthbmd1bGFyLk1vZHVsZX1cbiAgICAgICAgICovXG4gICAgICAgIGZ1bmN0aW9uIGludm9rZUxhdGVyKHByb3ZpZGVyLCBtZXRob2QsIGluc2VydE1ldGhvZCwgcXVldWUpIHtcbiAgICAgICAgICBpZiAoIXF1ZXVlKSBxdWV1ZSA9IGludm9rZVF1ZXVlO1xuICAgICAgICAgIHJldHVybiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHF1ZXVlW2luc2VydE1ldGhvZCB8fCAncHVzaCddKFtwcm92aWRlciwgbWV0aG9kLCBhcmd1bWVudHNdKTtcbiAgICAgICAgICAgIHJldHVybiBtb2R1bGVJbnN0YW5jZTtcbiAgICAgICAgICB9O1xuICAgICAgICB9XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBwYXJhbSB7c3RyaW5nfSBwcm92aWRlclxuICAgICAgICAgKiBAcGFyYW0ge3N0cmluZ30gbWV0aG9kXG4gICAgICAgICAqIEByZXR1cm5zIHthbmd1bGFyLk1vZHVsZX1cbiAgICAgICAgICovXG4gICAgICAgIGZ1bmN0aW9uIGludm9rZUxhdGVyQW5kU2V0TW9kdWxlTmFtZShwcm92aWRlciwgbWV0aG9kLCBxdWV1ZSkge1xuICAgICAgICAgIGlmICghcXVldWUpIHF1ZXVlID0gaW52b2tlUXVldWU7XG4gICAgICAgICAgcmV0dXJuIGZ1bmN0aW9uKHJlY2lwZU5hbWUsIGZhY3RvcnlGdW5jdGlvbikge1xuICAgICAgICAgICAgaWYgKGZhY3RvcnlGdW5jdGlvbiAmJiBpc0Z1bmN0aW9uKGZhY3RvcnlGdW5jdGlvbikpIGZhY3RvcnlGdW5jdGlvbi4kJG1vZHVsZU5hbWUgPSBuYW1lO1xuICAgICAgICAgICAgcXVldWUucHVzaChbcHJvdmlkZXIsIG1ldGhvZCwgYXJndW1lbnRzXSk7XG4gICAgICAgICAgICByZXR1cm4gbW9kdWxlSW5zdGFuY2U7XG4gICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfTtcbiAgfSk7XG5cbn1cblxuLyogZ2xvYmFsIHNoYWxsb3dDb3B5OiB0cnVlICovXG5cbi8qKlxuICogQ3JlYXRlcyBhIHNoYWxsb3cgY29weSBvZiBhbiBvYmplY3QsIGFuIGFycmF5IG9yIGEgcHJpbWl0aXZlLlxuICpcbiAqIEFzc3VtZXMgdGhhdCB0aGVyZSBhcmUgbm8gcHJvdG8gcHJvcGVydGllcyBmb3Igb2JqZWN0cy5cbiAqL1xuZnVuY3Rpb24gc2hhbGxvd0NvcHkoc3JjLCBkc3QpIHtcbiAgaWYgKGlzQXJyYXkoc3JjKSkge1xuICAgIGRzdCA9IGRzdCB8fCBbXTtcblxuICAgIGZvciAodmFyIGkgPSAwLCBpaSA9IHNyYy5sZW5ndGg7IGkgPCBpaTsgaSsrKSB7XG4gICAgICBkc3RbaV0gPSBzcmNbaV07XG4gICAgfVxuICB9IGVsc2UgaWYgKGlzT2JqZWN0KHNyYykpIHtcbiAgICBkc3QgPSBkc3QgfHwge307XG5cbiAgICBmb3IgKHZhciBrZXkgaW4gc3JjKSB7XG4gICAgICBpZiAoIShrZXkuY2hhckF0KDApID09PSAnJCcgJiYga2V5LmNoYXJBdCgxKSA9PT0gJyQnKSkge1xuICAgICAgICBkc3Rba2V5XSA9IHNyY1trZXldO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIHJldHVybiBkc3QgfHwgc3JjO1xufVxuXG4vKiBnbG9iYWwgdG9EZWJ1Z1N0cmluZzogdHJ1ZSAqL1xuXG5mdW5jdGlvbiBzZXJpYWxpemVPYmplY3Qob2JqLCBtYXhEZXB0aCkge1xuICB2YXIgc2VlbiA9IFtdO1xuXG4gIC8vIFRoZXJlIGlzIG5vIGRpcmVjdCB3YXkgdG8gc3RyaW5naWZ5IG9iamVjdCB1bnRpbCByZWFjaGluZyBhIHNwZWNpZmljIGRlcHRoXG4gIC8vIGFuZCBhIHZlcnkgZGVlcCBvYmplY3QgY2FuIGNhdXNlIGEgcGVyZm9ybWFuY2UgaXNzdWUsIHNvIHdlIGNvcHkgdGhlIG9iamVjdFxuICAvLyBiYXNlZCBvbiB0aGlzIHNwZWNpZmljIGRlcHRoIGFuZCB0aGVuIHN0cmluZ2lmeSBpdC5cbiAgaWYgKGlzVmFsaWRPYmplY3RNYXhEZXB0aChtYXhEZXB0aCkpIHtcbiAgICBvYmogPSBjb3B5KG9iaiwgbnVsbCwgbWF4RGVwdGgpO1xuICB9XG4gIHJldHVybiBKU09OLnN0cmluZ2lmeShvYmosIGZ1bmN0aW9uKGtleSwgdmFsKSB7XG4gICAgdmFsID0gdG9Kc29uUmVwbGFjZXIoa2V5LCB2YWwpO1xuICAgIGlmIChpc09iamVjdCh2YWwpKSB7XG5cbiAgICAgIGlmIChzZWVuLmluZGV4T2YodmFsKSA+PSAwKSByZXR1cm4gJy4uLic7XG5cbiAgICAgIHNlZW4ucHVzaCh2YWwpO1xuICAgIH1cbiAgICByZXR1cm4gdmFsO1xuICB9KTtcbn1cblxuZnVuY3Rpb24gdG9EZWJ1Z1N0cmluZyhvYmosIG1heERlcHRoKSB7XG4gIGlmICh0eXBlb2Ygb2JqID09PSAnZnVuY3Rpb24nKSB7XG4gICAgcmV0dXJuIG9iai50b1N0cmluZygpLnJlcGxhY2UoLyBcXHtbXFxzXFxTXSokLywgJycpO1xuICB9IGVsc2UgaWYgKGlzVW5kZWZpbmVkKG9iaikpIHtcbiAgICByZXR1cm4gJ3VuZGVmaW5lZCc7XG4gIH0gZWxzZSBpZiAodHlwZW9mIG9iaiAhPT0gJ3N0cmluZycpIHtcbiAgICByZXR1cm4gc2VyaWFsaXplT2JqZWN0KG9iaiwgbWF4RGVwdGgpO1xuICB9XG4gIHJldHVybiBvYmo7XG59XG5cbi8qIGdsb2JhbCBhbmd1bGFyTW9kdWxlOiB0cnVlLFxuICB2ZXJzaW9uOiB0cnVlLFxuXG4gICRDb21waWxlUHJvdmlkZXIsXG5cbiAgaHRtbEFuY2hvckRpcmVjdGl2ZSxcbiAgaW5wdXREaXJlY3RpdmUsXG4gIGlucHV0RGlyZWN0aXZlLFxuICBmb3JtRGlyZWN0aXZlLFxuICBzY3JpcHREaXJlY3RpdmUsXG4gIHNlbGVjdERpcmVjdGl2ZSxcbiAgb3B0aW9uRGlyZWN0aXZlLFxuICBuZ0JpbmREaXJlY3RpdmUsXG4gIG5nQmluZEh0bWxEaXJlY3RpdmUsXG4gIG5nQmluZFRlbXBsYXRlRGlyZWN0aXZlLFxuICBuZ0NsYXNzRGlyZWN0aXZlLFxuICBuZ0NsYXNzRXZlbkRpcmVjdGl2ZSxcbiAgbmdDbGFzc09kZERpcmVjdGl2ZSxcbiAgbmdDbG9ha0RpcmVjdGl2ZSxcbiAgbmdDb250cm9sbGVyRGlyZWN0aXZlLFxuICBuZ0Zvcm1EaXJlY3RpdmUsXG4gIG5nSGlkZURpcmVjdGl2ZSxcbiAgbmdJZkRpcmVjdGl2ZSxcbiAgbmdJbmNsdWRlRGlyZWN0aXZlLFxuICBuZ0luY2x1ZGVGaWxsQ29udGVudERpcmVjdGl2ZSxcbiAgbmdJbml0RGlyZWN0aXZlLFxuICBuZ05vbkJpbmRhYmxlRGlyZWN0aXZlLFxuICBuZ1BsdXJhbGl6ZURpcmVjdGl2ZSxcbiAgbmdSZXBlYXREaXJlY3RpdmUsXG4gIG5nU2hvd0RpcmVjdGl2ZSxcbiAgbmdTdHlsZURpcmVjdGl2ZSxcbiAgbmdTd2l0Y2hEaXJlY3RpdmUsXG4gIG5nU3dpdGNoV2hlbkRpcmVjdGl2ZSxcbiAgbmdTd2l0Y2hEZWZhdWx0RGlyZWN0aXZlLFxuICBuZ09wdGlvbnNEaXJlY3RpdmUsXG4gIG5nVHJhbnNjbHVkZURpcmVjdGl2ZSxcbiAgbmdNb2RlbERpcmVjdGl2ZSxcbiAgbmdMaXN0RGlyZWN0aXZlLFxuICBuZ0NoYW5nZURpcmVjdGl2ZSxcbiAgcGF0dGVybkRpcmVjdGl2ZSxcbiAgcGF0dGVybkRpcmVjdGl2ZSxcbiAgcmVxdWlyZWREaXJlY3RpdmUsXG4gIHJlcXVpcmVkRGlyZWN0aXZlLFxuICBtaW5sZW5ndGhEaXJlY3RpdmUsXG4gIG1pbmxlbmd0aERpcmVjdGl2ZSxcbiAgbWF4bGVuZ3RoRGlyZWN0aXZlLFxuICBtYXhsZW5ndGhEaXJlY3RpdmUsXG4gIG5nVmFsdWVEaXJlY3RpdmUsXG4gIG5nTW9kZWxPcHRpb25zRGlyZWN0aXZlLFxuICBuZ0F0dHJpYnV0ZUFsaWFzRGlyZWN0aXZlcyxcbiAgbmdFdmVudERpcmVjdGl2ZXMsXG5cbiAgJEFuY2hvclNjcm9sbFByb3ZpZGVyLFxuICAkQW5pbWF0ZVByb3ZpZGVyLFxuICAkQ29yZUFuaW1hdGVDc3NQcm92aWRlcixcbiAgJCRDb3JlQW5pbWF0ZUpzUHJvdmlkZXIsXG4gICQkQ29yZUFuaW1hdGVRdWV1ZVByb3ZpZGVyLFxuICAkJEFuaW1hdGVSdW5uZXJGYWN0b3J5UHJvdmlkZXIsXG4gICQkQW5pbWF0ZUFzeW5jUnVuRmFjdG9yeVByb3ZpZGVyLFxuICAkQnJvd3NlclByb3ZpZGVyLFxuICAkQ2FjaGVGYWN0b3J5UHJvdmlkZXIsXG4gICRDb250cm9sbGVyUHJvdmlkZXIsXG4gICREYXRlUHJvdmlkZXIsXG4gICREb2N1bWVudFByb3ZpZGVyLFxuICAkJElzRG9jdW1lbnRIaWRkZW5Qcm92aWRlcixcbiAgJEV4Y2VwdGlvbkhhbmRsZXJQcm92aWRlcixcbiAgJEZpbHRlclByb3ZpZGVyLFxuICAkJEZvcmNlUmVmbG93UHJvdmlkZXIsXG4gICRJbnRlcnBvbGF0ZVByb3ZpZGVyLFxuICAkSW50ZXJ2YWxQcm92aWRlcixcbiAgJEh0dHBQcm92aWRlcixcbiAgJEh0dHBQYXJhbVNlcmlhbGl6ZXJQcm92aWRlcixcbiAgJEh0dHBQYXJhbVNlcmlhbGl6ZXJKUUxpa2VQcm92aWRlcixcbiAgJEh0dHBCYWNrZW5kUHJvdmlkZXIsXG4gICR4aHJGYWN0b3J5UHJvdmlkZXIsXG4gICRqc29ucENhbGxiYWNrc1Byb3ZpZGVyLFxuICAkTG9jYXRpb25Qcm92aWRlcixcbiAgJExvZ1Byb3ZpZGVyLFxuICAkJE1hcFByb3ZpZGVyLFxuICAkUGFyc2VQcm92aWRlcixcbiAgJFJvb3RTY29wZVByb3ZpZGVyLFxuICAkUVByb3ZpZGVyLFxuICAkJFFQcm92aWRlcixcbiAgJCRTYW5pdGl6ZVVyaVByb3ZpZGVyLFxuICAkU2NlUHJvdmlkZXIsXG4gICRTY2VEZWxlZ2F0ZVByb3ZpZGVyLFxuICAkU25pZmZlclByb3ZpZGVyLFxuICAkVGVtcGxhdGVDYWNoZVByb3ZpZGVyLFxuICAkVGVtcGxhdGVSZXF1ZXN0UHJvdmlkZXIsXG4gICQkVGVzdGFiaWxpdHlQcm92aWRlcixcbiAgJFRpbWVvdXRQcm92aWRlcixcbiAgJCRSQUZQcm92aWRlcixcbiAgJFdpbmRvd1Byb3ZpZGVyLFxuICAkJGpxTGl0ZVByb3ZpZGVyLFxuICAkJENvb2tpZVJlYWRlclByb3ZpZGVyXG4qL1xuXG5cbi8qKlxuICogQG5nZG9jIG9iamVjdFxuICogQG5hbWUgYW5ndWxhci52ZXJzaW9uXG4gKiBAbW9kdWxlIG5nXG4gKiBAZGVzY3JpcHRpb25cbiAqIEFuIG9iamVjdCB0aGF0IGNvbnRhaW5zIGluZm9ybWF0aW9uIGFib3V0IHRoZSBjdXJyZW50IEFuZ3VsYXJKUyB2ZXJzaW9uLlxuICpcbiAqIFRoaXMgb2JqZWN0IGhhcyB0aGUgZm9sbG93aW5nIHByb3BlcnRpZXM6XG4gKlxuICogLSBgZnVsbGAg4oCTIGB7c3RyaW5nfWAg4oCTIEZ1bGwgdmVyc2lvbiBzdHJpbmcsIHN1Y2ggYXMgXCIwLjkuMThcIi5cbiAqIC0gYG1ham9yYCDigJMgYHtudW1iZXJ9YCDigJMgTWFqb3IgdmVyc2lvbiBudW1iZXIsIHN1Y2ggYXMgXCIwXCIuXG4gKiAtIGBtaW5vcmAg4oCTIGB7bnVtYmVyfWAg4oCTIE1pbm9yIHZlcnNpb24gbnVtYmVyLCBzdWNoIGFzIFwiOVwiLlxuICogLSBgZG90YCDigJMgYHtudW1iZXJ9YCDigJMgRG90IHZlcnNpb24gbnVtYmVyLCBzdWNoIGFzIFwiMThcIi5cbiAqIC0gYGNvZGVOYW1lYCDigJMgYHtzdHJpbmd9YCDigJMgQ29kZSBuYW1lIG9mIHRoZSByZWxlYXNlLCBzdWNoIGFzIFwiamlnZ2xpbmctYXJtZmF0XCIuXG4gKi9cbnZhciB2ZXJzaW9uID0ge1xuICAvLyBUaGVzZSBwbGFjZWhvbGRlciBzdHJpbmdzIHdpbGwgYmUgcmVwbGFjZWQgYnkgZ3J1bnQncyBgYnVpbGRgIHRhc2suXG4gIC8vIFRoZXkgbmVlZCB0byBiZSBkb3VibGUtIG9yIHNpbmdsZS1xdW90ZWQuXG4gIGZ1bGw6ICcxLjYuNCcsXG4gIG1ham9yOiAxLFxuICBtaW5vcjogNixcbiAgZG90OiA0LFxuICBjb2RlTmFtZTogJ3BoZW5vbWVuYWwtZm9vdG5vdGUnXG59O1xuXG5cbmZ1bmN0aW9uIHB1Ymxpc2hFeHRlcm5hbEFQSShhbmd1bGFyKSB7XG4gIGV4dGVuZChhbmd1bGFyLCB7XG4gICAgJ2Vycm9ySGFuZGxpbmdDb25maWcnOiBlcnJvckhhbmRsaW5nQ29uZmlnLFxuICAgICdib290c3RyYXAnOiBib290c3RyYXAsXG4gICAgJ2NvcHknOiBjb3B5LFxuICAgICdleHRlbmQnOiBleHRlbmQsXG4gICAgJ21lcmdlJzogbWVyZ2UsXG4gICAgJ2VxdWFscyc6IGVxdWFscyxcbiAgICAnZWxlbWVudCc6IGpxTGl0ZSxcbiAgICAnZm9yRWFjaCc6IGZvckVhY2gsXG4gICAgJ2luamVjdG9yJzogY3JlYXRlSW5qZWN0b3IsXG4gICAgJ25vb3AnOiBub29wLFxuICAgICdiaW5kJzogYmluZCxcbiAgICAndG9Kc29uJzogdG9Kc29uLFxuICAgICdmcm9tSnNvbic6IGZyb21Kc29uLFxuICAgICdpZGVudGl0eSc6IGlkZW50aXR5LFxuICAgICdpc1VuZGVmaW5lZCc6IGlzVW5kZWZpbmVkLFxuICAgICdpc0RlZmluZWQnOiBpc0RlZmluZWQsXG4gICAgJ2lzU3RyaW5nJzogaXNTdHJpbmcsXG4gICAgJ2lzRnVuY3Rpb24nOiBpc0Z1bmN0aW9uLFxuICAgICdpc09iamVjdCc6IGlzT2JqZWN0LFxuICAgICdpc051bWJlcic6IGlzTnVtYmVyLFxuICAgICdpc0VsZW1lbnQnOiBpc0VsZW1lbnQsXG4gICAgJ2lzQXJyYXknOiBpc0FycmF5LFxuICAgICd2ZXJzaW9uJzogdmVyc2lvbixcbiAgICAnaXNEYXRlJzogaXNEYXRlLFxuICAgICdsb3dlcmNhc2UnOiBsb3dlcmNhc2UsXG4gICAgJ3VwcGVyY2FzZSc6IHVwcGVyY2FzZSxcbiAgICAnY2FsbGJhY2tzJzogeyQkY291bnRlcjogMH0sXG4gICAgJ2dldFRlc3RhYmlsaXR5JzogZ2V0VGVzdGFiaWxpdHksXG4gICAgJ3JlbG9hZFdpdGhEZWJ1Z0luZm8nOiByZWxvYWRXaXRoRGVidWdJbmZvLFxuICAgICckJG1pbkVycic6IG1pbkVycixcbiAgICAnJCRjc3AnOiBjc3AsXG4gICAgJyQkZW5jb2RlVXJpU2VnbWVudCc6IGVuY29kZVVyaVNlZ21lbnQsXG4gICAgJyQkZW5jb2RlVXJpUXVlcnknOiBlbmNvZGVVcmlRdWVyeSxcbiAgICAnJCRzdHJpbmdpZnknOiBzdHJpbmdpZnlcbiAgfSk7XG5cbiAgYW5ndWxhck1vZHVsZSA9IHNldHVwTW9kdWxlTG9hZGVyKHdpbmRvdyk7XG5cbiAgYW5ndWxhck1vZHVsZSgnbmcnLCBbJ25nTG9jYWxlJ10sIFsnJHByb3ZpZGUnLFxuICAgIGZ1bmN0aW9uIG5nTW9kdWxlKCRwcm92aWRlKSB7XG4gICAgICAvLyAkJHNhbml0aXplVXJpUHJvdmlkZXIgbmVlZHMgdG8gYmUgYmVmb3JlICRjb21waWxlUHJvdmlkZXIgYXMgaXQgaXMgdXNlZCBieSBpdC5cbiAgICAgICRwcm92aWRlLnByb3ZpZGVyKHtcbiAgICAgICAgJCRzYW5pdGl6ZVVyaTogJCRTYW5pdGl6ZVVyaVByb3ZpZGVyXG4gICAgICB9KTtcbiAgICAgICRwcm92aWRlLnByb3ZpZGVyKCckY29tcGlsZScsICRDb21waWxlUHJvdmlkZXIpLlxuICAgICAgICBkaXJlY3RpdmUoe1xuICAgICAgICAgICAgYTogaHRtbEFuY2hvckRpcmVjdGl2ZSxcbiAgICAgICAgICAgIGlucHV0OiBpbnB1dERpcmVjdGl2ZSxcbiAgICAgICAgICAgIHRleHRhcmVhOiBpbnB1dERpcmVjdGl2ZSxcbiAgICAgICAgICAgIGZvcm06IGZvcm1EaXJlY3RpdmUsXG4gICAgICAgICAgICBzY3JpcHQ6IHNjcmlwdERpcmVjdGl2ZSxcbiAgICAgICAgICAgIHNlbGVjdDogc2VsZWN0RGlyZWN0aXZlLFxuICAgICAgICAgICAgb3B0aW9uOiBvcHRpb25EaXJlY3RpdmUsXG4gICAgICAgICAgICBuZ0JpbmQ6IG5nQmluZERpcmVjdGl2ZSxcbiAgICAgICAgICAgIG5nQmluZEh0bWw6IG5nQmluZEh0bWxEaXJlY3RpdmUsXG4gICAgICAgICAgICBuZ0JpbmRUZW1wbGF0ZTogbmdCaW5kVGVtcGxhdGVEaXJlY3RpdmUsXG4gICAgICAgICAgICBuZ0NsYXNzOiBuZ0NsYXNzRGlyZWN0aXZlLFxuICAgICAgICAgICAgbmdDbGFzc0V2ZW46IG5nQ2xhc3NFdmVuRGlyZWN0aXZlLFxuICAgICAgICAgICAgbmdDbGFzc09kZDogbmdDbGFzc09kZERpcmVjdGl2ZSxcbiAgICAgICAgICAgIG5nQ2xvYWs6IG5nQ2xvYWtEaXJlY3RpdmUsXG4gICAgICAgICAgICBuZ0NvbnRyb2xsZXI6IG5nQ29udHJvbGxlckRpcmVjdGl2ZSxcbiAgICAgICAgICAgIG5nRm9ybTogbmdGb3JtRGlyZWN0aXZlLFxuICAgICAgICAgICAgbmdIaWRlOiBuZ0hpZGVEaXJlY3RpdmUsXG4gICAgICAgICAgICBuZ0lmOiBuZ0lmRGlyZWN0aXZlLFxuICAgICAgICAgICAgbmdJbmNsdWRlOiBuZ0luY2x1ZGVEaXJlY3RpdmUsXG4gICAgICAgICAgICBuZ0luaXQ6IG5nSW5pdERpcmVjdGl2ZSxcbiAgICAgICAgICAgIG5nTm9uQmluZGFibGU6IG5nTm9uQmluZGFibGVEaXJlY3RpdmUsXG4gICAgICAgICAgICBuZ1BsdXJhbGl6ZTogbmdQbHVyYWxpemVEaXJlY3RpdmUsXG4gICAgICAgICAgICBuZ1JlcGVhdDogbmdSZXBlYXREaXJlY3RpdmUsXG4gICAgICAgICAgICBuZ1Nob3c6IG5nU2hvd0RpcmVjdGl2ZSxcbiAgICAgICAgICAgIG5nU3R5bGU6IG5nU3R5bGVEaXJlY3RpdmUsXG4gICAgICAgICAgICBuZ1N3aXRjaDogbmdTd2l0Y2hEaXJlY3RpdmUsXG4gICAgICAgICAgICBuZ1N3aXRjaFdoZW46IG5nU3dpdGNoV2hlbkRpcmVjdGl2ZSxcbiAgICAgICAgICAgIG5nU3dpdGNoRGVmYXVsdDogbmdTd2l0Y2hEZWZhdWx0RGlyZWN0aXZlLFxuICAgICAgICAgICAgbmdPcHRpb25zOiBuZ09wdGlvbnNEaXJlY3RpdmUsXG4gICAgICAgICAgICBuZ1RyYW5zY2x1ZGU6IG5nVHJhbnNjbHVkZURpcmVjdGl2ZSxcbiAgICAgICAgICAgIG5nTW9kZWw6IG5nTW9kZWxEaXJlY3RpdmUsXG4gICAgICAgICAgICBuZ0xpc3Q6IG5nTGlzdERpcmVjdGl2ZSxcbiAgICAgICAgICAgIG5nQ2hhbmdlOiBuZ0NoYW5nZURpcmVjdGl2ZSxcbiAgICAgICAgICAgIHBhdHRlcm46IHBhdHRlcm5EaXJlY3RpdmUsXG4gICAgICAgICAgICBuZ1BhdHRlcm46IHBhdHRlcm5EaXJlY3RpdmUsXG4gICAgICAgICAgICByZXF1aXJlZDogcmVxdWlyZWREaXJlY3RpdmUsXG4gICAgICAgICAgICBuZ1JlcXVpcmVkOiByZXF1aXJlZERpcmVjdGl2ZSxcbiAgICAgICAgICAgIG1pbmxlbmd0aDogbWlubGVuZ3RoRGlyZWN0aXZlLFxuICAgICAgICAgICAgbmdNaW5sZW5ndGg6IG1pbmxlbmd0aERpcmVjdGl2ZSxcbiAgICAgICAgICAgIG1heGxlbmd0aDogbWF4bGVuZ3RoRGlyZWN0aXZlLFxuICAgICAgICAgICAgbmdNYXhsZW5ndGg6IG1heGxlbmd0aERpcmVjdGl2ZSxcbiAgICAgICAgICAgIG5nVmFsdWU6IG5nVmFsdWVEaXJlY3RpdmUsXG4gICAgICAgICAgICBuZ01vZGVsT3B0aW9uczogbmdNb2RlbE9wdGlvbnNEaXJlY3RpdmVcbiAgICAgICAgfSkuXG4gICAgICAgIGRpcmVjdGl2ZSh7XG4gICAgICAgICAgbmdJbmNsdWRlOiBuZ0luY2x1ZGVGaWxsQ29udGVudERpcmVjdGl2ZVxuICAgICAgICB9KS5cbiAgICAgICAgZGlyZWN0aXZlKG5nQXR0cmlidXRlQWxpYXNEaXJlY3RpdmVzKS5cbiAgICAgICAgZGlyZWN0aXZlKG5nRXZlbnREaXJlY3RpdmVzKTtcbiAgICAgICRwcm92aWRlLnByb3ZpZGVyKHtcbiAgICAgICAgJGFuY2hvclNjcm9sbDogJEFuY2hvclNjcm9sbFByb3ZpZGVyLFxuICAgICAgICAkYW5pbWF0ZTogJEFuaW1hdGVQcm92aWRlcixcbiAgICAgICAgJGFuaW1hdGVDc3M6ICRDb3JlQW5pbWF0ZUNzc1Byb3ZpZGVyLFxuICAgICAgICAkJGFuaW1hdGVKczogJCRDb3JlQW5pbWF0ZUpzUHJvdmlkZXIsXG4gICAgICAgICQkYW5pbWF0ZVF1ZXVlOiAkJENvcmVBbmltYXRlUXVldWVQcm92aWRlcixcbiAgICAgICAgJCRBbmltYXRlUnVubmVyOiAkJEFuaW1hdGVSdW5uZXJGYWN0b3J5UHJvdmlkZXIsXG4gICAgICAgICQkYW5pbWF0ZUFzeW5jUnVuOiAkJEFuaW1hdGVBc3luY1J1bkZhY3RvcnlQcm92aWRlcixcbiAgICAgICAgJGJyb3dzZXI6ICRCcm93c2VyUHJvdmlkZXIsXG4gICAgICAgICRjYWNoZUZhY3Rvcnk6ICRDYWNoZUZhY3RvcnlQcm92aWRlcixcbiAgICAgICAgJGNvbnRyb2xsZXI6ICRDb250cm9sbGVyUHJvdmlkZXIsXG4gICAgICAgICRkb2N1bWVudDogJERvY3VtZW50UHJvdmlkZXIsXG4gICAgICAgICQkaXNEb2N1bWVudEhpZGRlbjogJCRJc0RvY3VtZW50SGlkZGVuUHJvdmlkZXIsXG4gICAgICAgICRleGNlcHRpb25IYW5kbGVyOiAkRXhjZXB0aW9uSGFuZGxlclByb3ZpZGVyLFxuICAgICAgICAkZmlsdGVyOiAkRmlsdGVyUHJvdmlkZXIsXG4gICAgICAgICQkZm9yY2VSZWZsb3c6ICQkRm9yY2VSZWZsb3dQcm92aWRlcixcbiAgICAgICAgJGludGVycG9sYXRlOiAkSW50ZXJwb2xhdGVQcm92aWRlcixcbiAgICAgICAgJGludGVydmFsOiAkSW50ZXJ2YWxQcm92aWRlcixcbiAgICAgICAgJGh0dHA6ICRIdHRwUHJvdmlkZXIsXG4gICAgICAgICRodHRwUGFyYW1TZXJpYWxpemVyOiAkSHR0cFBhcmFtU2VyaWFsaXplclByb3ZpZGVyLFxuICAgICAgICAkaHR0cFBhcmFtU2VyaWFsaXplckpRTGlrZTogJEh0dHBQYXJhbVNlcmlhbGl6ZXJKUUxpa2VQcm92aWRlcixcbiAgICAgICAgJGh0dHBCYWNrZW5kOiAkSHR0cEJhY2tlbmRQcm92aWRlcixcbiAgICAgICAgJHhockZhY3Rvcnk6ICR4aHJGYWN0b3J5UHJvdmlkZXIsXG4gICAgICAgICRqc29ucENhbGxiYWNrczogJGpzb25wQ2FsbGJhY2tzUHJvdmlkZXIsXG4gICAgICAgICRsb2NhdGlvbjogJExvY2F0aW9uUHJvdmlkZXIsXG4gICAgICAgICRsb2c6ICRMb2dQcm92aWRlcixcbiAgICAgICAgJHBhcnNlOiAkUGFyc2VQcm92aWRlcixcbiAgICAgICAgJHJvb3RTY29wZTogJFJvb3RTY29wZVByb3ZpZGVyLFxuICAgICAgICAkcTogJFFQcm92aWRlcixcbiAgICAgICAgJCRxOiAkJFFQcm92aWRlcixcbiAgICAgICAgJHNjZTogJFNjZVByb3ZpZGVyLFxuICAgICAgICAkc2NlRGVsZWdhdGU6ICRTY2VEZWxlZ2F0ZVByb3ZpZGVyLFxuICAgICAgICAkc25pZmZlcjogJFNuaWZmZXJQcm92aWRlcixcbiAgICAgICAgJHRlbXBsYXRlQ2FjaGU6ICRUZW1wbGF0ZUNhY2hlUHJvdmlkZXIsXG4gICAgICAgICR0ZW1wbGF0ZVJlcXVlc3Q6ICRUZW1wbGF0ZVJlcXVlc3RQcm92aWRlcixcbiAgICAgICAgJCR0ZXN0YWJpbGl0eTogJCRUZXN0YWJpbGl0eVByb3ZpZGVyLFxuICAgICAgICAkdGltZW91dDogJFRpbWVvdXRQcm92aWRlcixcbiAgICAgICAgJHdpbmRvdzogJFdpbmRvd1Byb3ZpZGVyLFxuICAgICAgICAkJHJBRjogJCRSQUZQcm92aWRlcixcbiAgICAgICAgJCRqcUxpdGU6ICQkanFMaXRlUHJvdmlkZXIsXG4gICAgICAgICQkTWFwOiAkJE1hcFByb3ZpZGVyLFxuICAgICAgICAkJGNvb2tpZVJlYWRlcjogJCRDb29raWVSZWFkZXJQcm92aWRlclxuICAgICAgfSk7XG4gICAgfVxuICBdKVxuICAuaW5mbyh7IGFuZ3VsYXJWZXJzaW9uOiAnMS42LjQnIH0pO1xufVxuXG4vKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqXG4gKiAgICAgQW55IGNvbW1pdHMgdG8gdGhpcyBmaWxlIHNob3VsZCBiZSByZXZpZXdlZCB3aXRoIHNlY3VyaXR5IGluIG1pbmQuICAqXG4gKiAgIENoYW5nZXMgdG8gdGhpcyBmaWxlIGNhbiBwb3RlbnRpYWxseSBjcmVhdGUgc2VjdXJpdHkgdnVsbmVyYWJpbGl0aWVzLiAqXG4gKiAgICAgICAgICBBbiBhcHByb3ZhbCBmcm9tIDIgQ29yZSBtZW1iZXJzIHdpdGggaGlzdG9yeSBvZiBtb2RpZnlpbmcgICAgICAqXG4gKiAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzIGZpbGUgaXMgcmVxdWlyZWQuICAgICAgICAgICAgICAgICAgICAgICAgICAqXG4gKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqXG4gKiAgRG9lcyB0aGUgY2hhbmdlIHNvbWVob3cgYWxsb3cgZm9yIGFyYml0cmFyeSBqYXZhc2NyaXB0IHRvIGJlIGV4ZWN1dGVkPyAqXG4gKiAgICBPciBhbGxvd3MgZm9yIHNvbWVvbmUgdG8gY2hhbmdlIHRoZSBwcm90b3R5cGUgb2YgYnVpbHQtaW4gb2JqZWN0cz8gICAqXG4gKiAgICAgT3IgZ2l2ZXMgdW5kZXNpcmVkIGFjY2VzcyB0byB2YXJpYWJsZXMgbGlrZXMgZG9jdW1lbnQgb3Igd2luZG93PyAgICAqXG4gKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqL1xuXG4vKiBnbG9iYWxcbiAgSlFMaXRlUHJvdG90eXBlOiB0cnVlLFxuICBCT09MRUFOX0FUVFI6IHRydWUsXG4gIEFMSUFTRURfQVRUUjogdHJ1ZVxuKi9cblxuLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuLy9KUUxpdGVcbi8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cblxuLyoqXG4gKiBAbmdkb2MgZnVuY3Rpb25cbiAqIEBuYW1lIGFuZ3VsYXIuZWxlbWVudFxuICogQG1vZHVsZSBuZ1xuICogQGtpbmQgZnVuY3Rpb25cbiAqXG4gKiBAZGVzY3JpcHRpb25cbiAqIFdyYXBzIGEgcmF3IERPTSBlbGVtZW50IG9yIEhUTUwgc3RyaW5nIGFzIGEgW2pRdWVyeV0oaHR0cDovL2pxdWVyeS5jb20pIGVsZW1lbnQuXG4gKlxuICogSWYgalF1ZXJ5IGlzIGF2YWlsYWJsZSwgYGFuZ3VsYXIuZWxlbWVudGAgaXMgYW4gYWxpYXMgZm9yIHRoZVxuICogW2pRdWVyeV0oaHR0cDovL2FwaS5qcXVlcnkuY29tL2pRdWVyeS8pIGZ1bmN0aW9uLiBJZiBqUXVlcnkgaXMgbm90IGF2YWlsYWJsZSwgYGFuZ3VsYXIuZWxlbWVudGBcbiAqIGRlbGVnYXRlcyB0byBBbmd1bGFyJ3MgYnVpbHQtaW4gc3Vic2V0IG9mIGpRdWVyeSwgY2FsbGVkIFwialF1ZXJ5IGxpdGVcIiBvciAqKmpxTGl0ZSoqLlxuICpcbiAqIGpxTGl0ZSBpcyBhIHRpbnksIEFQSS1jb21wYXRpYmxlIHN1YnNldCBvZiBqUXVlcnkgdGhhdCBhbGxvd3NcbiAqIEFuZ3VsYXIgdG8gbWFuaXB1bGF0ZSB0aGUgRE9NIGluIGEgY3Jvc3MtYnJvd3NlciBjb21wYXRpYmxlIHdheS4ganFMaXRlIGltcGxlbWVudHMgb25seSB0aGUgbW9zdFxuICogY29tbW9ubHkgbmVlZGVkIGZ1bmN0aW9uYWxpdHkgd2l0aCB0aGUgZ29hbCBvZiBoYXZpbmcgYSB2ZXJ5IHNtYWxsIGZvb3RwcmludC5cbiAqXG4gKiBUbyB1c2UgYGpRdWVyeWAsIHNpbXBseSBlbnN1cmUgaXQgaXMgbG9hZGVkIGJlZm9yZSB0aGUgYGFuZ3VsYXIuanNgIGZpbGUuIFlvdSBjYW4gYWxzbyB1c2UgdGhlXG4gKiB7QGxpbmsgbmdKcSBgbmdKcWB9IGRpcmVjdGl2ZSB0byBzcGVjaWZ5IHRoYXQganFsaXRlIHNob3VsZCBiZSB1c2VkIG92ZXIgalF1ZXJ5LCBvciB0byB1c2UgYVxuICogc3BlY2lmaWMgdmVyc2lvbiBvZiBqUXVlcnkgaWYgbXVsdGlwbGUgdmVyc2lvbnMgZXhpc3Qgb24gdGhlIHBhZ2UuXG4gKlxuICogPGRpdiBjbGFzcz1cImFsZXJ0IGFsZXJ0LWluZm9cIj4qKk5vdGU6KiogQWxsIGVsZW1lbnQgcmVmZXJlbmNlcyBpbiBBbmd1bGFyIGFyZSBhbHdheXMgd3JhcHBlZCB3aXRoIGpRdWVyeSBvclxuICoganFMaXRlIChzdWNoIGFzIHRoZSBlbGVtZW50IGFyZ3VtZW50IGluIGEgZGlyZWN0aXZlJ3MgY29tcGlsZSAvIGxpbmsgZnVuY3Rpb24pLiBUaGV5IGFyZSBuZXZlciByYXcgRE9NIHJlZmVyZW5jZXMuPC9kaXY+XG4gKlxuICogPGRpdiBjbGFzcz1cImFsZXJ0IGFsZXJ0LXdhcm5pbmdcIj4qKk5vdGU6KiogS2VlcCBpbiBtaW5kIHRoYXQgdGhpcyBmdW5jdGlvbiB3aWxsIG5vdCBmaW5kIGVsZW1lbnRzXG4gKiBieSB0YWcgbmFtZSAvIENTUyBzZWxlY3Rvci4gRm9yIGxvb2t1cHMgYnkgdGFnIG5hbWUsIHRyeSBpbnN0ZWFkIGBhbmd1bGFyLmVsZW1lbnQoZG9jdW1lbnQpLmZpbmQoLi4uKWBcbiAqIG9yIGAkZG9jdW1lbnQuZmluZCgpYCwgb3IgdXNlIHRoZSBzdGFuZGFyZCBET00gQVBJcywgZS5nLiBgZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgpYC48L2Rpdj5cbiAqXG4gKiAjIyBBbmd1bGFyJ3MganFMaXRlXG4gKiBqcUxpdGUgcHJvdmlkZXMgb25seSB0aGUgZm9sbG93aW5nIGpRdWVyeSBtZXRob2RzOlxuICpcbiAqIC0gW2BhZGRDbGFzcygpYF0oaHR0cDovL2FwaS5qcXVlcnkuY29tL2FkZENsYXNzLykgLSBEb2VzIG5vdCBzdXBwb3J0IGEgZnVuY3Rpb24gYXMgZmlyc3QgYXJndW1lbnRcbiAqIC0gW2BhZnRlcigpYF0oaHR0cDovL2FwaS5qcXVlcnkuY29tL2FmdGVyLylcbiAqIC0gW2BhcHBlbmQoKWBdKGh0dHA6Ly9hcGkuanF1ZXJ5LmNvbS9hcHBlbmQvKVxuICogLSBbYGF0dHIoKWBdKGh0dHA6Ly9hcGkuanF1ZXJ5LmNvbS9hdHRyLykgLSBEb2VzIG5vdCBzdXBwb3J0IGZ1bmN0aW9ucyBhcyBwYXJhbWV0ZXJzXG4gKiAtIFtgYmluZCgpYF0oaHR0cDovL2FwaS5qcXVlcnkuY29tL2JpbmQvKSAoX2RlcHJlY2F0ZWRfLCB1c2UgW2BvbigpYF0oaHR0cDovL2FwaS5qcXVlcnkuY29tL29uLykpIC0gRG9lcyBub3Qgc3VwcG9ydCBuYW1lc3BhY2VzLCBzZWxlY3RvcnMgb3IgZXZlbnREYXRhXG4gKiAtIFtgY2hpbGRyZW4oKWBdKGh0dHA6Ly9hcGkuanF1ZXJ5LmNvbS9jaGlsZHJlbi8pIC0gRG9lcyBub3Qgc3VwcG9ydCBzZWxlY3RvcnNcbiAqIC0gW2BjbG9uZSgpYF0oaHR0cDovL2FwaS5qcXVlcnkuY29tL2Nsb25lLylcbiAqIC0gW2Bjb250ZW50cygpYF0oaHR0cDovL2FwaS5qcXVlcnkuY29tL2NvbnRlbnRzLylcbiAqIC0gW2Bjc3MoKWBdKGh0dHA6Ly9hcGkuanF1ZXJ5LmNvbS9jc3MvKSAtIE9ubHkgcmV0cmlldmVzIGlubGluZS1zdHlsZXMsIGRvZXMgbm90IGNhbGwgYGdldENvbXB1dGVkU3R5bGUoKWAuXG4gKiAgIEFzIGEgc2V0dGVyLCBkb2VzIG5vdCBjb252ZXJ0IG51bWJlcnMgdG8gc3RyaW5ncyBvciBhcHBlbmQgJ3B4JywgYW5kIGFsc28gZG9lcyBub3QgaGF2ZSBhdXRvbWF0aWMgcHJvcGVydHkgcHJlZml4aW5nLlxuICogLSBbYGRhdGEoKWBdKGh0dHA6Ly9hcGkuanF1ZXJ5LmNvbS9kYXRhLylcbiAqIC0gW2BkZXRhY2goKWBdKGh0dHA6Ly9hcGkuanF1ZXJ5LmNvbS9kZXRhY2gvKVxuICogLSBbYGVtcHR5KClgXShodHRwOi8vYXBpLmpxdWVyeS5jb20vZW1wdHkvKVxuICogLSBbYGVxKClgXShodHRwOi8vYXBpLmpxdWVyeS5jb20vZXEvKVxuICogLSBbYGZpbmQoKWBdKGh0dHA6Ly9hcGkuanF1ZXJ5LmNvbS9maW5kLykgLSBMaW1pdGVkIHRvIGxvb2t1cHMgYnkgdGFnIG5hbWVcbiAqIC0gW2BoYXNDbGFzcygpYF0oaHR0cDovL2FwaS5qcXVlcnkuY29tL2hhc0NsYXNzLylcbiAqIC0gW2BodG1sKClgXShodHRwOi8vYXBpLmpxdWVyeS5jb20vaHRtbC8pXG4gKiAtIFtgbmV4dCgpYF0oaHR0cDovL2FwaS5qcXVlcnkuY29tL25leHQvKSAtIERvZXMgbm90IHN1cHBvcnQgc2VsZWN0b3JzXG4gKiAtIFtgb24oKWBdKGh0dHA6Ly9hcGkuanF1ZXJ5LmNvbS9vbi8pIC0gRG9lcyBub3Qgc3VwcG9ydCBuYW1lc3BhY2VzLCBzZWxlY3RvcnMgb3IgZXZlbnREYXRhXG4gKiAtIFtgb2ZmKClgXShodHRwOi8vYXBpLmpxdWVyeS5jb20vb2ZmLykgLSBEb2VzIG5vdCBzdXBwb3J0IG5hbWVzcGFjZXMsIHNlbGVjdG9ycyBvciBldmVudCBvYmplY3QgYXMgcGFyYW1ldGVyXG4gKiAtIFtgb25lKClgXShodHRwOi8vYXBpLmpxdWVyeS5jb20vb25lLykgLSBEb2VzIG5vdCBzdXBwb3J0IG5hbWVzcGFjZXMgb3Igc2VsZWN0b3JzXG4gKiAtIFtgcGFyZW50KClgXShodHRwOi8vYXBpLmpxdWVyeS5jb20vcGFyZW50LykgLSBEb2VzIG5vdCBzdXBwb3J0IHNlbGVjdG9yc1xuICogLSBbYHByZXBlbmQoKWBdKGh0dHA6Ly9hcGkuanF1ZXJ5LmNvbS9wcmVwZW5kLylcbiAqIC0gW2Bwcm9wKClgXShodHRwOi8vYXBpLmpxdWVyeS5jb20vcHJvcC8pXG4gKiAtIFtgcmVhZHkoKWBdKGh0dHA6Ly9hcGkuanF1ZXJ5LmNvbS9yZWFkeS8pIChfZGVwcmVjYXRlZF8sIHVzZSBgYW5ndWxhci5lbGVtZW50KGNhbGxiYWNrKWAgaW5zdGVhZCBvZiBgYW5ndWxhci5lbGVtZW50KGRvY3VtZW50KS5yZWFkeShjYWxsYmFjaylgKVxuICogLSBbYHJlbW92ZSgpYF0oaHR0cDovL2FwaS5qcXVlcnkuY29tL3JlbW92ZS8pXG4gKiAtIFtgcmVtb3ZlQXR0cigpYF0oaHR0cDovL2FwaS5qcXVlcnkuY29tL3JlbW92ZUF0dHIvKSAtIERvZXMgbm90IHN1cHBvcnQgbXVsdGlwbGUgYXR0cmlidXRlc1xuICogLSBbYHJlbW92ZUNsYXNzKClgXShodHRwOi8vYXBpLmpxdWVyeS5jb20vcmVtb3ZlQ2xhc3MvKSAtIERvZXMgbm90IHN1cHBvcnQgYSBmdW5jdGlvbiBhcyBmaXJzdCBhcmd1bWVudFxuICogLSBbYHJlbW92ZURhdGEoKWBdKGh0dHA6Ly9hcGkuanF1ZXJ5LmNvbS9yZW1vdmVEYXRhLylcbiAqIC0gW2ByZXBsYWNlV2l0aCgpYF0oaHR0cDovL2FwaS5qcXVlcnkuY29tL3JlcGxhY2VXaXRoLylcbiAqIC0gW2B0ZXh0KClgXShodHRwOi8vYXBpLmpxdWVyeS5jb20vdGV4dC8pXG4gKiAtIFtgdG9nZ2xlQ2xhc3MoKWBdKGh0dHA6Ly9hcGkuanF1ZXJ5LmNvbS90b2dnbGVDbGFzcy8pIC0gRG9lcyBub3Qgc3VwcG9ydCBhIGZ1bmN0aW9uIGFzIGZpcnN0IGFyZ3VtZW50XG4gKiAtIFtgdHJpZ2dlckhhbmRsZXIoKWBdKGh0dHA6Ly9hcGkuanF1ZXJ5LmNvbS90cmlnZ2VySGFuZGxlci8pIC0gUGFzc2VzIGEgZHVtbXkgZXZlbnQgb2JqZWN0IHRvIGhhbmRsZXJzXG4gKiAtIFtgdW5iaW5kKClgXShodHRwOi8vYXBpLmpxdWVyeS5jb20vdW5iaW5kLykgKF9kZXByZWNhdGVkXywgdXNlIFtgb2ZmKClgXShodHRwOi8vYXBpLmpxdWVyeS5jb20vb2ZmLykpIC0gRG9lcyBub3Qgc3VwcG9ydCBuYW1lc3BhY2VzIG9yIGV2ZW50IG9iamVjdCBhcyBwYXJhbWV0ZXJcbiAqIC0gW2B2YWwoKWBdKGh0dHA6Ly9hcGkuanF1ZXJ5LmNvbS92YWwvKVxuICogLSBbYHdyYXAoKWBdKGh0dHA6Ly9hcGkuanF1ZXJ5LmNvbS93cmFwLylcbiAqXG4gKiAjIyBqUXVlcnkvanFMaXRlIEV4dHJhc1xuICogQW5ndWxhciBhbHNvIHByb3ZpZGVzIHRoZSBmb2xsb3dpbmcgYWRkaXRpb25hbCBtZXRob2RzIGFuZCBldmVudHMgdG8gYm90aCBqUXVlcnkgYW5kIGpxTGl0ZTpcbiAqXG4gKiAjIyMgRXZlbnRzXG4gKiAtIGAkZGVzdHJveWAgLSBBbmd1bGFySlMgaW50ZXJjZXB0cyBhbGwganFMaXRlL2pRdWVyeSdzIERPTSBkZXN0cnVjdGlvbiBhcGlzIGFuZCBmaXJlcyB0aGlzIGV2ZW50XG4gKiAgICBvbiBhbGwgRE9NIG5vZGVzIGJlaW5nIHJlbW92ZWQuICBUaGlzIGNhbiBiZSB1c2VkIHRvIGNsZWFuIHVwIGFueSAzcmQgcGFydHkgYmluZGluZ3MgdG8gdGhlIERPTVxuICogICAgZWxlbWVudCBiZWZvcmUgaXQgaXMgcmVtb3ZlZC5cbiAqXG4gKiAjIyMgTWV0aG9kc1xuICogLSBgY29udHJvbGxlcihuYW1lKWAgLSByZXRyaWV2ZXMgdGhlIGNvbnRyb2xsZXIgb2YgdGhlIGN1cnJlbnQgZWxlbWVudCBvciBpdHMgcGFyZW50LiBCeSBkZWZhdWx0XG4gKiAgIHJldHJpZXZlcyBjb250cm9sbGVyIGFzc29jaWF0ZWQgd2l0aCB0aGUgYG5nQ29udHJvbGxlcmAgZGlyZWN0aXZlLiBJZiBgbmFtZWAgaXMgcHJvdmlkZWQgYXNcbiAqICAgY2FtZWxDYXNlIGRpcmVjdGl2ZSBuYW1lLCB0aGVuIHRoZSBjb250cm9sbGVyIGZvciB0aGlzIGRpcmVjdGl2ZSB3aWxsIGJlIHJldHJpZXZlZCAoZS5nLlxuICogICBgJ25nTW9kZWwnYCkuXG4gKiAtIGBpbmplY3RvcigpYCAtIHJldHJpZXZlcyB0aGUgaW5qZWN0b3Igb2YgdGhlIGN1cnJlbnQgZWxlbWVudCBvciBpdHMgcGFyZW50LlxuICogLSBgc2NvcGUoKWAgLSByZXRyaWV2ZXMgdGhlIHtAbGluayBuZy4kcm9vdFNjb3BlLlNjb3BlIHNjb3BlfSBvZiB0aGUgY3VycmVudFxuICogICBlbGVtZW50IG9yIGl0cyBwYXJlbnQuIFJlcXVpcmVzIHtAbGluayBndWlkZS9wcm9kdWN0aW9uI2Rpc2FibGluZy1kZWJ1Zy1kYXRhIERlYnVnIERhdGF9IHRvXG4gKiAgIGJlIGVuYWJsZWQuXG4gKiAtIGBpc29sYXRlU2NvcGUoKWAgLSByZXRyaWV2ZXMgYW4gaXNvbGF0ZSB7QGxpbmsgbmcuJHJvb3RTY29wZS5TY29wZSBzY29wZX0gaWYgb25lIGlzIGF0dGFjaGVkIGRpcmVjdGx5IHRvIHRoZVxuICogICBjdXJyZW50IGVsZW1lbnQuIFRoaXMgZ2V0dGVyIHNob3VsZCBiZSB1c2VkIG9ubHkgb24gZWxlbWVudHMgdGhhdCBjb250YWluIGEgZGlyZWN0aXZlIHdoaWNoIHN0YXJ0cyBhIG5ldyBpc29sYXRlXG4gKiAgIHNjb3BlLiBDYWxsaW5nIGBzY29wZSgpYCBvbiB0aGlzIGVsZW1lbnQgYWx3YXlzIHJldHVybnMgdGhlIG9yaWdpbmFsIG5vbi1pc29sYXRlIHNjb3BlLlxuICogICBSZXF1aXJlcyB7QGxpbmsgZ3VpZGUvcHJvZHVjdGlvbiNkaXNhYmxpbmctZGVidWctZGF0YSBEZWJ1ZyBEYXRhfSB0byBiZSBlbmFibGVkLlxuICogLSBgaW5oZXJpdGVkRGF0YSgpYCAtIHNhbWUgYXMgYGRhdGEoKWAsIGJ1dCB3YWxrcyB1cCB0aGUgRE9NIHVudGlsIGEgdmFsdWUgaXMgZm91bmQgb3IgdGhlIHRvcFxuICogICBwYXJlbnQgZWxlbWVudCBpcyByZWFjaGVkLlxuICpcbiAqIEBrbm93bklzc3VlIFlvdSBjYW5ub3Qgc3B5IG9uIGBhbmd1bGFyLmVsZW1lbnRgIGlmIHlvdSBhcmUgdXNpbmcgSmFzbWluZSB2ZXJzaW9uIDEueC4gU2VlXG4gKiBodHRwczovL2dpdGh1Yi5jb20vYW5ndWxhci9hbmd1bGFyLmpzL2lzc3Vlcy8xNDI1MSBmb3IgbW9yZSBpbmZvcm1hdGlvbi5cbiAqXG4gKiBAcGFyYW0ge3N0cmluZ3xET01FbGVtZW50fSBlbGVtZW50IEhUTUwgc3RyaW5nIG9yIERPTUVsZW1lbnQgdG8gYmUgd3JhcHBlZCBpbnRvIGpRdWVyeS5cbiAqIEByZXR1cm5zIHtPYmplY3R9IGpRdWVyeSBvYmplY3QuXG4gKi9cblxuSlFMaXRlLmV4cGFuZG8gPSAnbmczMzknO1xuXG52YXIganFDYWNoZSA9IEpRTGl0ZS5jYWNoZSA9IHt9LFxuICAgIGpxSWQgPSAxO1xuXG4vKlxuICogISEhIFRoaXMgaXMgYW4gdW5kb2N1bWVudGVkIFwicHJpdmF0ZVwiIGZ1bmN0aW9uICEhIVxuICovXG5KUUxpdGUuX2RhdGEgPSBmdW5jdGlvbihub2RlKSB7XG4gIC8valF1ZXJ5IGFsd2F5cyByZXR1cm5zIGFuIG9iamVjdCBvbiBjYWNoZSBtaXNzXG4gIHJldHVybiB0aGlzLmNhY2hlW25vZGVbdGhpcy5leHBhbmRvXV0gfHwge307XG59O1xuXG5mdW5jdGlvbiBqcU5leHRJZCgpIHsgcmV0dXJuICsranFJZDsgfVxuXG5cbnZhciBEQVNIX0xPV0VSQ0FTRV9SRUdFWFAgPSAvLShbYS16XSkvZztcbnZhciBNU19IQUNLX1JFR0VYUCA9IC9eLW1zLS87XG52YXIgTU9VU0VfRVZFTlRfTUFQID0geyBtb3VzZWxlYXZlOiAnbW91c2VvdXQnLCBtb3VzZWVudGVyOiAnbW91c2VvdmVyJyB9O1xudmFyIGpxTGl0ZU1pbkVyciA9IG1pbkVycignanFMaXRlJyk7XG5cbi8qKlxuICogQ29udmVydHMga2ViYWItY2FzZSB0byBjYW1lbENhc2UuXG4gKiBUaGVyZSBpcyBhbHNvIGEgc3BlY2lhbCBjYXNlIGZvciB0aGUgbXMgcHJlZml4IHN0YXJ0aW5nIHdpdGggYSBsb3dlcmNhc2UgbGV0dGVyLlxuICogQHBhcmFtIG5hbWUgTmFtZSB0byBub3JtYWxpemVcbiAqL1xuZnVuY3Rpb24gY3NzS2ViYWJUb0NhbWVsKG5hbWUpIHtcbiAgICByZXR1cm4ga2ViYWJUb0NhbWVsKG5hbWUucmVwbGFjZShNU19IQUNLX1JFR0VYUCwgJ21zLScpKTtcbn1cblxuZnVuY3Rpb24gZm5DYW1lbENhc2VSZXBsYWNlKGFsbCwgbGV0dGVyKSB7XG4gIHJldHVybiBsZXR0ZXIudG9VcHBlckNhc2UoKTtcbn1cblxuLyoqXG4gKiBDb252ZXJ0cyBrZWJhYi1jYXNlIHRvIGNhbWVsQ2FzZS5cbiAqIEBwYXJhbSBuYW1lIE5hbWUgdG8gbm9ybWFsaXplXG4gKi9cbmZ1bmN0aW9uIGtlYmFiVG9DYW1lbChuYW1lKSB7XG4gIHJldHVybiBuYW1lXG4gICAgLnJlcGxhY2UoREFTSF9MT1dFUkNBU0VfUkVHRVhQLCBmbkNhbWVsQ2FzZVJlcGxhY2UpO1xufVxuXG52YXIgU0lOR0xFX1RBR19SRUdFWFAgPSAvXjwoW1xcdy1dKylcXHMqXFwvPz4oPzo8XFwvXFwxPnwpJC87XG52YXIgSFRNTF9SRUdFWFAgPSAvPHwmIz9cXHcrOy87XG52YXIgVEFHX05BTUVfUkVHRVhQID0gLzwoW1xcdzotXSspLztcbnZhciBYSFRNTF9UQUdfUkVHRVhQID0gLzwoPyFhcmVhfGJyfGNvbHxlbWJlZHxocnxpbWd8aW5wdXR8bGlua3xtZXRhfHBhcmFtKSgoW1xcdzotXSspW14+XSopXFwvPi9naTtcblxudmFyIHdyYXBNYXAgPSB7XG4gICdvcHRpb24nOiBbMSwgJzxzZWxlY3QgbXVsdGlwbGU9XCJtdWx0aXBsZVwiPicsICc8L3NlbGVjdD4nXSxcblxuICAndGhlYWQnOiBbMSwgJzx0YWJsZT4nLCAnPC90YWJsZT4nXSxcbiAgJ2NvbCc6IFsyLCAnPHRhYmxlPjxjb2xncm91cD4nLCAnPC9jb2xncm91cD48L3RhYmxlPiddLFxuICAndHInOiBbMiwgJzx0YWJsZT48dGJvZHk+JywgJzwvdGJvZHk+PC90YWJsZT4nXSxcbiAgJ3RkJzogWzMsICc8dGFibGU+PHRib2R5Pjx0cj4nLCAnPC90cj48L3Rib2R5PjwvdGFibGU+J10sXG4gICdfZGVmYXVsdCc6IFswLCAnJywgJyddXG59O1xuXG53cmFwTWFwLm9wdGdyb3VwID0gd3JhcE1hcC5vcHRpb247XG53cmFwTWFwLnRib2R5ID0gd3JhcE1hcC50Zm9vdCA9IHdyYXBNYXAuY29sZ3JvdXAgPSB3cmFwTWFwLmNhcHRpb24gPSB3cmFwTWFwLnRoZWFkO1xud3JhcE1hcC50aCA9IHdyYXBNYXAudGQ7XG5cblxuZnVuY3Rpb24ganFMaXRlSXNUZXh0Tm9kZShodG1sKSB7XG4gIHJldHVybiAhSFRNTF9SRUdFWFAudGVzdChodG1sKTtcbn1cblxuZnVuY3Rpb24ganFMaXRlQWNjZXB0c0RhdGEobm9kZSkge1xuICAvLyBUaGUgd2luZG93IG9iamVjdCBjYW4gYWNjZXB0IGRhdGEgYnV0IGhhcyBubyBub2RlVHlwZVxuICAvLyBPdGhlcndpc2Ugd2UgYXJlIG9ubHkgaW50ZXJlc3RlZCBpbiBlbGVtZW50cyAoMSkgYW5kIGRvY3VtZW50cyAoOSlcbiAgdmFyIG5vZGVUeXBlID0gbm9kZS5ub2RlVHlwZTtcbiAgcmV0dXJuIG5vZGVUeXBlID09PSBOT0RFX1RZUEVfRUxFTUVOVCB8fCAhbm9kZVR5cGUgfHwgbm9kZVR5cGUgPT09IE5PREVfVFlQRV9ET0NVTUVOVDtcbn1cblxuZnVuY3Rpb24ganFMaXRlSGFzRGF0YShub2RlKSB7XG4gIGZvciAodmFyIGtleSBpbiBqcUNhY2hlW25vZGUubmczMzldKSB7XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cbiAgcmV0dXJuIGZhbHNlO1xufVxuXG5mdW5jdGlvbiBqcUxpdGVCdWlsZEZyYWdtZW50KGh0bWwsIGNvbnRleHQpIHtcbiAgdmFyIHRtcCwgdGFnLCB3cmFwLFxuICAgICAgZnJhZ21lbnQgPSBjb250ZXh0LmNyZWF0ZURvY3VtZW50RnJhZ21lbnQoKSxcbiAgICAgIG5vZGVzID0gW10sIGk7XG5cbiAgaWYgKGpxTGl0ZUlzVGV4dE5vZGUoaHRtbCkpIHtcbiAgICAvLyBDb252ZXJ0IG5vbi1odG1sIGludG8gYSB0ZXh0IG5vZGVcbiAgICBub2Rlcy5wdXNoKGNvbnRleHQuY3JlYXRlVGV4dE5vZGUoaHRtbCkpO1xuICB9IGVsc2Uge1xuICAgIC8vIENvbnZlcnQgaHRtbCBpbnRvIERPTSBub2Rlc1xuICAgIHRtcCA9IGZyYWdtZW50LmFwcGVuZENoaWxkKGNvbnRleHQuY3JlYXRlRWxlbWVudCgnZGl2JykpO1xuICAgIHRhZyA9IChUQUdfTkFNRV9SRUdFWFAuZXhlYyhodG1sKSB8fCBbJycsICcnXSlbMV0udG9Mb3dlckNhc2UoKTtcbiAgICB3cmFwID0gd3JhcE1hcFt0YWddIHx8IHdyYXBNYXAuX2RlZmF1bHQ7XG4gICAgdG1wLmlubmVySFRNTCA9IHdyYXBbMV0gKyBodG1sLnJlcGxhY2UoWEhUTUxfVEFHX1JFR0VYUCwgJzwkMT48LyQyPicpICsgd3JhcFsyXTtcblxuICAgIC8vIERlc2NlbmQgdGhyb3VnaCB3cmFwcGVycyB0byB0aGUgcmlnaHQgY29udGVudFxuICAgIGkgPSB3cmFwWzBdO1xuICAgIHdoaWxlIChpLS0pIHtcbiAgICAgIHRtcCA9IHRtcC5sYXN0Q2hpbGQ7XG4gICAgfVxuXG4gICAgbm9kZXMgPSBjb25jYXQobm9kZXMsIHRtcC5jaGlsZE5vZGVzKTtcblxuICAgIHRtcCA9IGZyYWdtZW50LmZpcnN0Q2hpbGQ7XG4gICAgdG1wLnRleHRDb250ZW50ID0gJyc7XG4gIH1cblxuICAvLyBSZW1vdmUgd3JhcHBlciBmcm9tIGZyYWdtZW50XG4gIGZyYWdtZW50LnRleHRDb250ZW50ID0gJyc7XG4gIGZyYWdtZW50LmlubmVySFRNTCA9ICcnOyAvLyBDbGVhciBpbm5lciBIVE1MXG4gIGZvckVhY2gobm9kZXMsIGZ1bmN0aW9uKG5vZGUpIHtcbiAgICBmcmFnbWVudC5hcHBlbmRDaGlsZChub2RlKTtcbiAgfSk7XG5cbiAgcmV0dXJuIGZyYWdtZW50O1xufVxuXG5mdW5jdGlvbiBqcUxpdGVQYXJzZUhUTUwoaHRtbCwgY29udGV4dCkge1xuICBjb250ZXh0ID0gY29udGV4dCB8fCB3aW5kb3cuZG9jdW1lbnQ7XG4gIHZhciBwYXJzZWQ7XG5cbiAgaWYgKChwYXJzZWQgPSBTSU5HTEVfVEFHX1JFR0VYUC5leGVjKGh0bWwpKSkge1xuICAgIHJldHVybiBbY29udGV4dC5jcmVhdGVFbGVtZW50KHBhcnNlZFsxXSldO1xuICB9XG5cbiAgaWYgKChwYXJzZWQgPSBqcUxpdGVCdWlsZEZyYWdtZW50KGh0bWwsIGNvbnRleHQpKSkge1xuICAgIHJldHVybiBwYXJzZWQuY2hpbGROb2RlcztcbiAgfVxuXG4gIHJldHVybiBbXTtcbn1cblxuZnVuY3Rpb24ganFMaXRlV3JhcE5vZGUobm9kZSwgd3JhcHBlcikge1xuICB2YXIgcGFyZW50ID0gbm9kZS5wYXJlbnROb2RlO1xuXG4gIGlmIChwYXJlbnQpIHtcbiAgICBwYXJlbnQucmVwbGFjZUNoaWxkKHdyYXBwZXIsIG5vZGUpO1xuICB9XG5cbiAgd3JhcHBlci5hcHBlbmRDaGlsZChub2RlKTtcbn1cblxuXG4vLyBJRTktMTEgaGFzIG5vIG1ldGhvZCBcImNvbnRhaW5zXCIgaW4gU1ZHIGVsZW1lbnQgYW5kIGluIE5vZGUucHJvdG90eXBlLiBCdWcgIzEwMjU5LlxudmFyIGpxTGl0ZUNvbnRhaW5zID0gd2luZG93Lk5vZGUucHJvdG90eXBlLmNvbnRhaW5zIHx8IC8qKiBAdGhpcyAqLyBmdW5jdGlvbihhcmcpIHtcbiAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLWJpdHdpc2VcbiAgcmV0dXJuICEhKHRoaXMuY29tcGFyZURvY3VtZW50UG9zaXRpb24oYXJnKSAmIDE2KTtcbn07XG5cbi8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuZnVuY3Rpb24gSlFMaXRlKGVsZW1lbnQpIHtcbiAgaWYgKGVsZW1lbnQgaW5zdGFuY2VvZiBKUUxpdGUpIHtcbiAgICByZXR1cm4gZWxlbWVudDtcbiAgfVxuXG4gIHZhciBhcmdJc1N0cmluZztcblxuICBpZiAoaXNTdHJpbmcoZWxlbWVudCkpIHtcbiAgICBlbGVtZW50ID0gdHJpbShlbGVtZW50KTtcbiAgICBhcmdJc1N0cmluZyA9IHRydWU7XG4gIH1cbiAgaWYgKCEodGhpcyBpbnN0YW5jZW9mIEpRTGl0ZSkpIHtcbiAgICBpZiAoYXJnSXNTdHJpbmcgJiYgZWxlbWVudC5jaGFyQXQoMCkgIT09ICc8Jykge1xuICAgICAgdGhyb3cganFMaXRlTWluRXJyKCdub3NlbCcsICdMb29raW5nIHVwIGVsZW1lbnRzIHZpYSBzZWxlY3RvcnMgaXMgbm90IHN1cHBvcnRlZCBieSBqcUxpdGUhIFNlZTogaHR0cDovL2RvY3MuYW5ndWxhcmpzLm9yZy9hcGkvYW5ndWxhci5lbGVtZW50Jyk7XG4gICAgfVxuICAgIHJldHVybiBuZXcgSlFMaXRlKGVsZW1lbnQpO1xuICB9XG5cbiAgaWYgKGFyZ0lzU3RyaW5nKSB7XG4gICAganFMaXRlQWRkTm9kZXModGhpcywganFMaXRlUGFyc2VIVE1MKGVsZW1lbnQpKTtcbiAgfSBlbHNlIGlmIChpc0Z1bmN0aW9uKGVsZW1lbnQpKSB7XG4gICAganFMaXRlUmVhZHkoZWxlbWVudCk7XG4gIH0gZWxzZSB7XG4gICAganFMaXRlQWRkTm9kZXModGhpcywgZWxlbWVudCk7XG4gIH1cbn1cblxuZnVuY3Rpb24ganFMaXRlQ2xvbmUoZWxlbWVudCkge1xuICByZXR1cm4gZWxlbWVudC5jbG9uZU5vZGUodHJ1ZSk7XG59XG5cbmZ1bmN0aW9uIGpxTGl0ZURlYWxvYyhlbGVtZW50LCBvbmx5RGVzY2VuZGFudHMpIHtcbiAgaWYgKCFvbmx5RGVzY2VuZGFudHMgJiYganFMaXRlQWNjZXB0c0RhdGEoZWxlbWVudCkpIGpxTGl0ZS5jbGVhbkRhdGEoW2VsZW1lbnRdKTtcblxuICBpZiAoZWxlbWVudC5xdWVyeVNlbGVjdG9yQWxsKSB7XG4gICAganFMaXRlLmNsZWFuRGF0YShlbGVtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJyonKSk7XG4gIH1cbn1cblxuZnVuY3Rpb24ganFMaXRlT2ZmKGVsZW1lbnQsIHR5cGUsIGZuLCB1bnN1cHBvcnRlZCkge1xuICBpZiAoaXNEZWZpbmVkKHVuc3VwcG9ydGVkKSkgdGhyb3cganFMaXRlTWluRXJyKCdvZmZhcmdzJywgJ2pxTGl0ZSNvZmYoKSBkb2VzIG5vdCBzdXBwb3J0IHRoZSBgc2VsZWN0b3JgIGFyZ3VtZW50Jyk7XG5cbiAgdmFyIGV4cGFuZG9TdG9yZSA9IGpxTGl0ZUV4cGFuZG9TdG9yZShlbGVtZW50KTtcbiAgdmFyIGV2ZW50cyA9IGV4cGFuZG9TdG9yZSAmJiBleHBhbmRvU3RvcmUuZXZlbnRzO1xuICB2YXIgaGFuZGxlID0gZXhwYW5kb1N0b3JlICYmIGV4cGFuZG9TdG9yZS5oYW5kbGU7XG5cbiAgaWYgKCFoYW5kbGUpIHJldHVybjsgLy9ubyBsaXN0ZW5lcnMgcmVnaXN0ZXJlZFxuXG4gIGlmICghdHlwZSkge1xuICAgIGZvciAodHlwZSBpbiBldmVudHMpIHtcbiAgICAgIGlmICh0eXBlICE9PSAnJGRlc3Ryb3knKSB7XG4gICAgICAgIGVsZW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcih0eXBlLCBoYW5kbGUpO1xuICAgICAgfVxuICAgICAgZGVsZXRlIGV2ZW50c1t0eXBlXTtcbiAgICB9XG4gIH0gZWxzZSB7XG5cbiAgICB2YXIgcmVtb3ZlSGFuZGxlciA9IGZ1bmN0aW9uKHR5cGUpIHtcbiAgICAgIHZhciBsaXN0ZW5lckZucyA9IGV2ZW50c1t0eXBlXTtcbiAgICAgIGlmIChpc0RlZmluZWQoZm4pKSB7XG4gICAgICAgIGFycmF5UmVtb3ZlKGxpc3RlbmVyRm5zIHx8IFtdLCBmbik7XG4gICAgICB9XG4gICAgICBpZiAoIShpc0RlZmluZWQoZm4pICYmIGxpc3RlbmVyRm5zICYmIGxpc3RlbmVyRm5zLmxlbmd0aCA+IDApKSB7XG4gICAgICAgIGVsZW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcih0eXBlLCBoYW5kbGUpO1xuICAgICAgICBkZWxldGUgZXZlbnRzW3R5cGVdO1xuICAgICAgfVxuICAgIH07XG5cbiAgICBmb3JFYWNoKHR5cGUuc3BsaXQoJyAnKSwgZnVuY3Rpb24odHlwZSkge1xuICAgICAgcmVtb3ZlSGFuZGxlcih0eXBlKTtcbiAgICAgIGlmIChNT1VTRV9FVkVOVF9NQVBbdHlwZV0pIHtcbiAgICAgICAgcmVtb3ZlSGFuZGxlcihNT1VTRV9FVkVOVF9NQVBbdHlwZV0pO1xuICAgICAgfVxuICAgIH0pO1xuICB9XG59XG5cbmZ1bmN0aW9uIGpxTGl0ZVJlbW92ZURhdGEoZWxlbWVudCwgbmFtZSkge1xuICB2YXIgZXhwYW5kb0lkID0gZWxlbWVudC5uZzMzOTtcbiAgdmFyIGV4cGFuZG9TdG9yZSA9IGV4cGFuZG9JZCAmJiBqcUNhY2hlW2V4cGFuZG9JZF07XG5cbiAgaWYgKGV4cGFuZG9TdG9yZSkge1xuICAgIGlmIChuYW1lKSB7XG4gICAgICBkZWxldGUgZXhwYW5kb1N0b3JlLmRhdGFbbmFtZV07XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgaWYgKGV4cGFuZG9TdG9yZS5oYW5kbGUpIHtcbiAgICAgIGlmIChleHBhbmRvU3RvcmUuZXZlbnRzLiRkZXN0cm95KSB7XG4gICAgICAgIGV4cGFuZG9TdG9yZS5oYW5kbGUoe30sICckZGVzdHJveScpO1xuICAgICAgfVxuICAgICAganFMaXRlT2ZmKGVsZW1lbnQpO1xuICAgIH1cbiAgICBkZWxldGUganFDYWNoZVtleHBhbmRvSWRdO1xuICAgIGVsZW1lbnQubmczMzkgPSB1bmRlZmluZWQ7IC8vIGRvbid0IGRlbGV0ZSBET00gZXhwYW5kb3MuIElFIGFuZCBDaHJvbWUgZG9uJ3QgbGlrZSBpdFxuICB9XG59XG5cblxuZnVuY3Rpb24ganFMaXRlRXhwYW5kb1N0b3JlKGVsZW1lbnQsIGNyZWF0ZUlmTmVjZXNzYXJ5KSB7XG4gIHZhciBleHBhbmRvSWQgPSBlbGVtZW50Lm5nMzM5LFxuICAgICAgZXhwYW5kb1N0b3JlID0gZXhwYW5kb0lkICYmIGpxQ2FjaGVbZXhwYW5kb0lkXTtcblxuICBpZiAoY3JlYXRlSWZOZWNlc3NhcnkgJiYgIWV4cGFuZG9TdG9yZSkge1xuICAgIGVsZW1lbnQubmczMzkgPSBleHBhbmRvSWQgPSBqcU5leHRJZCgpO1xuICAgIGV4cGFuZG9TdG9yZSA9IGpxQ2FjaGVbZXhwYW5kb0lkXSA9IHtldmVudHM6IHt9LCBkYXRhOiB7fSwgaGFuZGxlOiB1bmRlZmluZWR9O1xuICB9XG5cbiAgcmV0dXJuIGV4cGFuZG9TdG9yZTtcbn1cblxuXG5mdW5jdGlvbiBqcUxpdGVEYXRhKGVsZW1lbnQsIGtleSwgdmFsdWUpIHtcbiAgaWYgKGpxTGl0ZUFjY2VwdHNEYXRhKGVsZW1lbnQpKSB7XG4gICAgdmFyIHByb3A7XG5cbiAgICB2YXIgaXNTaW1wbGVTZXR0ZXIgPSBpc0RlZmluZWQodmFsdWUpO1xuICAgIHZhciBpc1NpbXBsZUdldHRlciA9ICFpc1NpbXBsZVNldHRlciAmJiBrZXkgJiYgIWlzT2JqZWN0KGtleSk7XG4gICAgdmFyIG1hc3NHZXR0ZXIgPSAha2V5O1xuICAgIHZhciBleHBhbmRvU3RvcmUgPSBqcUxpdGVFeHBhbmRvU3RvcmUoZWxlbWVudCwgIWlzU2ltcGxlR2V0dGVyKTtcbiAgICB2YXIgZGF0YSA9IGV4cGFuZG9TdG9yZSAmJiBleHBhbmRvU3RvcmUuZGF0YTtcblxuICAgIGlmIChpc1NpbXBsZVNldHRlcikgeyAvLyBkYXRhKCdrZXknLCB2YWx1ZSlcbiAgICAgIGRhdGFba2ViYWJUb0NhbWVsKGtleSldID0gdmFsdWU7XG4gICAgfSBlbHNlIHtcbiAgICAgIGlmIChtYXNzR2V0dGVyKSB7ICAvLyBkYXRhKClcbiAgICAgICAgcmV0dXJuIGRhdGE7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBpZiAoaXNTaW1wbGVHZXR0ZXIpIHsgLy8gZGF0YSgna2V5JylcbiAgICAgICAgICAvLyBkb24ndCBmb3JjZSBjcmVhdGlvbiBvZiBleHBhbmRvU3RvcmUgaWYgaXQgZG9lc24ndCBleGlzdCB5ZXRcbiAgICAgICAgICByZXR1cm4gZGF0YSAmJiBkYXRhW2tlYmFiVG9DYW1lbChrZXkpXTtcbiAgICAgICAgfSBlbHNlIHsgLy8gbWFzcy1zZXR0ZXI6IGRhdGEoe2tleTE6IHZhbDEsIGtleTI6IHZhbDJ9KVxuICAgICAgICAgIGZvciAocHJvcCBpbiBrZXkpIHtcbiAgICAgICAgICAgIGRhdGFba2ViYWJUb0NhbWVsKHByb3ApXSA9IGtleVtwcm9wXTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH1cbn1cblxuZnVuY3Rpb24ganFMaXRlSGFzQ2xhc3MoZWxlbWVudCwgc2VsZWN0b3IpIHtcbiAgaWYgKCFlbGVtZW50LmdldEF0dHJpYnV0ZSkgcmV0dXJuIGZhbHNlO1xuICByZXR1cm4gKCgnICcgKyAoZWxlbWVudC5nZXRBdHRyaWJ1dGUoJ2NsYXNzJykgfHwgJycpICsgJyAnKS5yZXBsYWNlKC9bXFxuXFx0XS9nLCAnICcpLlxuICAgICAgaW5kZXhPZignICcgKyBzZWxlY3RvciArICcgJykgPiAtMSk7XG59XG5cbmZ1bmN0aW9uIGpxTGl0ZVJlbW92ZUNsYXNzKGVsZW1lbnQsIGNzc0NsYXNzZXMpIHtcbiAgaWYgKGNzc0NsYXNzZXMgJiYgZWxlbWVudC5zZXRBdHRyaWJ1dGUpIHtcbiAgICBmb3JFYWNoKGNzc0NsYXNzZXMuc3BsaXQoJyAnKSwgZnVuY3Rpb24oY3NzQ2xhc3MpIHtcbiAgICAgIGVsZW1lbnQuc2V0QXR0cmlidXRlKCdjbGFzcycsIHRyaW0oXG4gICAgICAgICAgKCcgJyArIChlbGVtZW50LmdldEF0dHJpYnV0ZSgnY2xhc3MnKSB8fCAnJykgKyAnICcpXG4gICAgICAgICAgLnJlcGxhY2UoL1tcXG5cXHRdL2csICcgJylcbiAgICAgICAgICAucmVwbGFjZSgnICcgKyB0cmltKGNzc0NsYXNzKSArICcgJywgJyAnKSlcbiAgICAgICk7XG4gICAgfSk7XG4gIH1cbn1cblxuZnVuY3Rpb24ganFMaXRlQWRkQ2xhc3MoZWxlbWVudCwgY3NzQ2xhc3Nlcykge1xuICBpZiAoY3NzQ2xhc3NlcyAmJiBlbGVtZW50LnNldEF0dHJpYnV0ZSkge1xuICAgIHZhciBleGlzdGluZ0NsYXNzZXMgPSAoJyAnICsgKGVsZW1lbnQuZ2V0QXR0cmlidXRlKCdjbGFzcycpIHx8ICcnKSArICcgJylcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAucmVwbGFjZSgvW1xcblxcdF0vZywgJyAnKTtcblxuICAgIGZvckVhY2goY3NzQ2xhc3Nlcy5zcGxpdCgnICcpLCBmdW5jdGlvbihjc3NDbGFzcykge1xuICAgICAgY3NzQ2xhc3MgPSB0cmltKGNzc0NsYXNzKTtcbiAgICAgIGlmIChleGlzdGluZ0NsYXNzZXMuaW5kZXhPZignICcgKyBjc3NDbGFzcyArICcgJykgPT09IC0xKSB7XG4gICAgICAgIGV4aXN0aW5nQ2xhc3NlcyArPSBjc3NDbGFzcyArICcgJztcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIGVsZW1lbnQuc2V0QXR0cmlidXRlKCdjbGFzcycsIHRyaW0oZXhpc3RpbmdDbGFzc2VzKSk7XG4gIH1cbn1cblxuXG5mdW5jdGlvbiBqcUxpdGVBZGROb2Rlcyhyb290LCBlbGVtZW50cykge1xuICAvLyBUSElTIENPREUgSVMgVkVSWSBIT1QuIERvbid0IG1ha2UgY2hhbmdlcyB3aXRob3V0IGJlbmNobWFya2luZy5cblxuICBpZiAoZWxlbWVudHMpIHtcblxuICAgIC8vIGlmIGEgTm9kZSAodGhlIG1vc3QgY29tbW9uIGNhc2UpXG4gICAgaWYgKGVsZW1lbnRzLm5vZGVUeXBlKSB7XG4gICAgICByb290W3Jvb3QubGVuZ3RoKytdID0gZWxlbWVudHM7XG4gICAgfSBlbHNlIHtcbiAgICAgIHZhciBsZW5ndGggPSBlbGVtZW50cy5sZW5ndGg7XG5cbiAgICAgIC8vIGlmIGFuIEFycmF5IG9yIE5vZGVMaXN0IGFuZCBub3QgYSBXaW5kb3dcbiAgICAgIGlmICh0eXBlb2YgbGVuZ3RoID09PSAnbnVtYmVyJyAmJiBlbGVtZW50cy53aW5kb3cgIT09IGVsZW1lbnRzKSB7XG4gICAgICAgIGlmIChsZW5ndGgpIHtcbiAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICByb290W3Jvb3QubGVuZ3RoKytdID0gZWxlbWVudHNbaV07XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByb290W3Jvb3QubGVuZ3RoKytdID0gZWxlbWVudHM7XG4gICAgICB9XG4gICAgfVxuICB9XG59XG5cblxuZnVuY3Rpb24ganFMaXRlQ29udHJvbGxlcihlbGVtZW50LCBuYW1lKSB7XG4gIHJldHVybiBqcUxpdGVJbmhlcml0ZWREYXRhKGVsZW1lbnQsICckJyArIChuYW1lIHx8ICduZ0NvbnRyb2xsZXInKSArICdDb250cm9sbGVyJyk7XG59XG5cbmZ1bmN0aW9uIGpxTGl0ZUluaGVyaXRlZERhdGEoZWxlbWVudCwgbmFtZSwgdmFsdWUpIHtcbiAgLy8gaWYgZWxlbWVudCBpcyB0aGUgZG9jdW1lbnQgb2JqZWN0IHdvcmsgd2l0aCB0aGUgaHRtbCBlbGVtZW50IGluc3RlYWRcbiAgLy8gdGhpcyBtYWtlcyAkKGRvY3VtZW50KS5zY29wZSgpIHBvc3NpYmxlXG4gIGlmIChlbGVtZW50Lm5vZGVUeXBlID09PSBOT0RFX1RZUEVfRE9DVU1FTlQpIHtcbiAgICBlbGVtZW50ID0gZWxlbWVudC5kb2N1bWVudEVsZW1lbnQ7XG4gIH1cbiAgdmFyIG5hbWVzID0gaXNBcnJheShuYW1lKSA/IG5hbWUgOiBbbmFtZV07XG5cbiAgd2hpbGUgKGVsZW1lbnQpIHtcbiAgICBmb3IgKHZhciBpID0gMCwgaWkgPSBuYW1lcy5sZW5ndGg7IGkgPCBpaTsgaSsrKSB7XG4gICAgICBpZiAoaXNEZWZpbmVkKHZhbHVlID0ganFMaXRlLmRhdGEoZWxlbWVudCwgbmFtZXNbaV0pKSkgcmV0dXJuIHZhbHVlO1xuICAgIH1cblxuICAgIC8vIElmIGRlYWxpbmcgd2l0aCBhIGRvY3VtZW50IGZyYWdtZW50IG5vZGUgd2l0aCBhIGhvc3QgZWxlbWVudCwgYW5kIG5vIHBhcmVudCwgdXNlIHRoZSBob3N0XG4gICAgLy8gZWxlbWVudCBhcyB0aGUgcGFyZW50LiBUaGlzIGVuYWJsZXMgZGlyZWN0aXZlcyB3aXRoaW4gYSBTaGFkb3cgRE9NIG9yIHBvbHlmaWxsZWQgU2hhZG93IERPTVxuICAgIC8vIHRvIGxvb2t1cCBwYXJlbnQgY29udHJvbGxlcnMuXG4gICAgZWxlbWVudCA9IGVsZW1lbnQucGFyZW50Tm9kZSB8fCAoZWxlbWVudC5ub2RlVHlwZSA9PT0gTk9ERV9UWVBFX0RPQ1VNRU5UX0ZSQUdNRU5UICYmIGVsZW1lbnQuaG9zdCk7XG4gIH1cbn1cblxuZnVuY3Rpb24ganFMaXRlRW1wdHkoZWxlbWVudCkge1xuICBqcUxpdGVEZWFsb2MoZWxlbWVudCwgdHJ1ZSk7XG4gIHdoaWxlIChlbGVtZW50LmZpcnN0Q2hpbGQpIHtcbiAgICBlbGVtZW50LnJlbW92ZUNoaWxkKGVsZW1lbnQuZmlyc3RDaGlsZCk7XG4gIH1cbn1cblxuZnVuY3Rpb24ganFMaXRlUmVtb3ZlKGVsZW1lbnQsIGtlZXBEYXRhKSB7XG4gIGlmICgha2VlcERhdGEpIGpxTGl0ZURlYWxvYyhlbGVtZW50KTtcbiAgdmFyIHBhcmVudCA9IGVsZW1lbnQucGFyZW50Tm9kZTtcbiAgaWYgKHBhcmVudCkgcGFyZW50LnJlbW92ZUNoaWxkKGVsZW1lbnQpO1xufVxuXG5cbmZ1bmN0aW9uIGpxTGl0ZURvY3VtZW50TG9hZGVkKGFjdGlvbiwgd2luKSB7XG4gIHdpbiA9IHdpbiB8fCB3aW5kb3c7XG4gIGlmICh3aW4uZG9jdW1lbnQucmVhZHlTdGF0ZSA9PT0gJ2NvbXBsZXRlJykge1xuICAgIC8vIEZvcmNlIHRoZSBhY3Rpb24gdG8gYmUgcnVuIGFzeW5jIGZvciBjb25zaXN0ZW50IGJlaGF2aW9yXG4gICAgLy8gZnJvbSB0aGUgYWN0aW9uJ3MgcG9pbnQgb2Ygdmlld1xuICAgIC8vIGkuZS4gaXQgd2lsbCBkZWZpbml0ZWx5IG5vdCBiZSBpbiBhICRhcHBseVxuICAgIHdpbi5zZXRUaW1lb3V0KGFjdGlvbik7XG4gIH0gZWxzZSB7XG4gICAgLy8gTm8gbmVlZCB0byB1bmJpbmQgdGhpcyBoYW5kbGVyIGFzIGxvYWQgaXMgb25seSBldmVyIGNhbGxlZCBvbmNlXG4gICAganFMaXRlKHdpbikub24oJ2xvYWQnLCBhY3Rpb24pO1xuICB9XG59XG5cbmZ1bmN0aW9uIGpxTGl0ZVJlYWR5KGZuKSB7XG4gIGZ1bmN0aW9uIHRyaWdnZXIoKSB7XG4gICAgd2luZG93LmRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ0RPTUNvbnRlbnRMb2FkZWQnLCB0cmlnZ2VyKTtcbiAgICB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcignbG9hZCcsIHRyaWdnZXIpO1xuICAgIGZuKCk7XG4gIH1cblxuICAvLyBjaGVjayBpZiBkb2N1bWVudCBpcyBhbHJlYWR5IGxvYWRlZFxuICBpZiAod2luZG93LmRvY3VtZW50LnJlYWR5U3RhdGUgPT09ICdjb21wbGV0ZScpIHtcbiAgICB3aW5kb3cuc2V0VGltZW91dChmbik7XG4gIH0gZWxzZSB7XG4gICAgLy8gV2UgY2FuIG5vdCB1c2UganFMaXRlIHNpbmNlIHdlIGFyZSBub3QgZG9uZSBsb2FkaW5nIGFuZCBqUXVlcnkgY291bGQgYmUgbG9hZGVkIGxhdGVyLlxuXG4gICAgLy8gV29ya3MgZm9yIG1vZGVybiBicm93c2VycyBhbmQgSUU5XG4gICAgd2luZG93LmRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ0RPTUNvbnRlbnRMb2FkZWQnLCB0cmlnZ2VyKTtcblxuICAgIC8vIEZhbGxiYWNrIHRvIHdpbmRvdy5vbmxvYWQgZm9yIG90aGVyc1xuICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdsb2FkJywgdHJpZ2dlcik7XG4gIH1cbn1cblxuLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBGdW5jdGlvbnMgd2hpY2ggYXJlIGRlY2xhcmVkIGRpcmVjdGx5LlxuLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG52YXIgSlFMaXRlUHJvdG90eXBlID0gSlFMaXRlLnByb3RvdHlwZSA9IHtcbiAgcmVhZHk6IGpxTGl0ZVJlYWR5LFxuICB0b1N0cmluZzogZnVuY3Rpb24oKSB7XG4gICAgdmFyIHZhbHVlID0gW107XG4gICAgZm9yRWFjaCh0aGlzLCBmdW5jdGlvbihlKSB7IHZhbHVlLnB1c2goJycgKyBlKTt9KTtcbiAgICByZXR1cm4gJ1snICsgdmFsdWUuam9pbignLCAnKSArICddJztcbiAgfSxcblxuICBlcTogZnVuY3Rpb24oaW5kZXgpIHtcbiAgICAgIHJldHVybiAoaW5kZXggPj0gMCkgPyBqcUxpdGUodGhpc1tpbmRleF0pIDoganFMaXRlKHRoaXNbdGhpcy5sZW5ndGggKyBpbmRleF0pO1xuICB9LFxuXG4gIGxlbmd0aDogMCxcbiAgcHVzaDogcHVzaCxcbiAgc29ydDogW10uc29ydCxcbiAgc3BsaWNlOiBbXS5zcGxpY2Vcbn07XG5cbi8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gRnVuY3Rpb25zIGl0ZXJhdGluZyBnZXR0ZXIvc2V0dGVycy5cbi8vIHRoZXNlIGZ1bmN0aW9ucyByZXR1cm4gc2VsZiBvbiBzZXR0ZXIgYW5kXG4vLyB2YWx1ZSBvbiBnZXQuXG4vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cbnZhciBCT09MRUFOX0FUVFIgPSB7fTtcbmZvckVhY2goJ211bHRpcGxlLHNlbGVjdGVkLGNoZWNrZWQsZGlzYWJsZWQscmVhZE9ubHkscmVxdWlyZWQsb3Blbicuc3BsaXQoJywnKSwgZnVuY3Rpb24odmFsdWUpIHtcbiAgQk9PTEVBTl9BVFRSW2xvd2VyY2FzZSh2YWx1ZSldID0gdmFsdWU7XG59KTtcbnZhciBCT09MRUFOX0VMRU1FTlRTID0ge307XG5mb3JFYWNoKCdpbnB1dCxzZWxlY3Qsb3B0aW9uLHRleHRhcmVhLGJ1dHRvbixmb3JtLGRldGFpbHMnLnNwbGl0KCcsJyksIGZ1bmN0aW9uKHZhbHVlKSB7XG4gIEJPT0xFQU5fRUxFTUVOVFNbdmFsdWVdID0gdHJ1ZTtcbn0pO1xudmFyIEFMSUFTRURfQVRUUiA9IHtcbiAgJ25nTWlubGVuZ3RoJzogJ21pbmxlbmd0aCcsXG4gICduZ01heGxlbmd0aCc6ICdtYXhsZW5ndGgnLFxuICAnbmdNaW4nOiAnbWluJyxcbiAgJ25nTWF4JzogJ21heCcsXG4gICduZ1BhdHRlcm4nOiAncGF0dGVybicsXG4gICduZ1N0ZXAnOiAnc3RlcCdcbn07XG5cbmZ1bmN0aW9uIGdldEJvb2xlYW5BdHRyTmFtZShlbGVtZW50LCBuYW1lKSB7XG4gIC8vIGNoZWNrIGRvbSBsYXN0IHNpbmNlIHdlIHdpbGwgbW9zdCBsaWtlbHkgZmFpbCBvbiBuYW1lXG4gIHZhciBib29sZWFuQXR0ciA9IEJPT0xFQU5fQVRUUltuYW1lLnRvTG93ZXJDYXNlKCldO1xuXG4gIC8vIGJvb2xlYW5BdHRyIGlzIGhlcmUgdHdpY2UgdG8gbWluaW1pemUgRE9NIGFjY2Vzc1xuICByZXR1cm4gYm9vbGVhbkF0dHIgJiYgQk9PTEVBTl9FTEVNRU5UU1tub2RlTmFtZV8oZWxlbWVudCldICYmIGJvb2xlYW5BdHRyO1xufVxuXG5mdW5jdGlvbiBnZXRBbGlhc2VkQXR0ck5hbWUobmFtZSkge1xuICByZXR1cm4gQUxJQVNFRF9BVFRSW25hbWVdO1xufVxuXG5mb3JFYWNoKHtcbiAgZGF0YToganFMaXRlRGF0YSxcbiAgcmVtb3ZlRGF0YToganFMaXRlUmVtb3ZlRGF0YSxcbiAgaGFzRGF0YToganFMaXRlSGFzRGF0YSxcbiAgY2xlYW5EYXRhOiBmdW5jdGlvbiBqcUxpdGVDbGVhbkRhdGEobm9kZXMpIHtcbiAgICBmb3IgKHZhciBpID0gMCwgaWkgPSBub2Rlcy5sZW5ndGg7IGkgPCBpaTsgaSsrKSB7XG4gICAgICBqcUxpdGVSZW1vdmVEYXRhKG5vZGVzW2ldKTtcbiAgICB9XG4gIH1cbn0sIGZ1bmN0aW9uKGZuLCBuYW1lKSB7XG4gIEpRTGl0ZVtuYW1lXSA9IGZuO1xufSk7XG5cbmZvckVhY2goe1xuICBkYXRhOiBqcUxpdGVEYXRhLFxuICBpbmhlcml0ZWREYXRhOiBqcUxpdGVJbmhlcml0ZWREYXRhLFxuXG4gIHNjb3BlOiBmdW5jdGlvbihlbGVtZW50KSB7XG4gICAgLy8gQ2FuJ3QgdXNlIGpxTGl0ZURhdGEgaGVyZSBkaXJlY3RseSBzbyB3ZSBzdGF5IGNvbXBhdGlibGUgd2l0aCBqUXVlcnkhXG4gICAgcmV0dXJuIGpxTGl0ZS5kYXRhKGVsZW1lbnQsICckc2NvcGUnKSB8fCBqcUxpdGVJbmhlcml0ZWREYXRhKGVsZW1lbnQucGFyZW50Tm9kZSB8fCBlbGVtZW50LCBbJyRpc29sYXRlU2NvcGUnLCAnJHNjb3BlJ10pO1xuICB9LFxuXG4gIGlzb2xhdGVTY29wZTogZnVuY3Rpb24oZWxlbWVudCkge1xuICAgIC8vIENhbid0IHVzZSBqcUxpdGVEYXRhIGhlcmUgZGlyZWN0bHkgc28gd2Ugc3RheSBjb21wYXRpYmxlIHdpdGggalF1ZXJ5IVxuICAgIHJldHVybiBqcUxpdGUuZGF0YShlbGVtZW50LCAnJGlzb2xhdGVTY29wZScpIHx8IGpxTGl0ZS5kYXRhKGVsZW1lbnQsICckaXNvbGF0ZVNjb3BlTm9UZW1wbGF0ZScpO1xuICB9LFxuXG4gIGNvbnRyb2xsZXI6IGpxTGl0ZUNvbnRyb2xsZXIsXG5cbiAgaW5qZWN0b3I6IGZ1bmN0aW9uKGVsZW1lbnQpIHtcbiAgICByZXR1cm4ganFMaXRlSW5oZXJpdGVkRGF0YShlbGVtZW50LCAnJGluamVjdG9yJyk7XG4gIH0sXG5cbiAgcmVtb3ZlQXR0cjogZnVuY3Rpb24oZWxlbWVudCwgbmFtZSkge1xuICAgIGVsZW1lbnQucmVtb3ZlQXR0cmlidXRlKG5hbWUpO1xuICB9LFxuXG4gIGhhc0NsYXNzOiBqcUxpdGVIYXNDbGFzcyxcblxuICBjc3M6IGZ1bmN0aW9uKGVsZW1lbnQsIG5hbWUsIHZhbHVlKSB7XG4gICAgbmFtZSA9IGNzc0tlYmFiVG9DYW1lbChuYW1lKTtcblxuICAgIGlmIChpc0RlZmluZWQodmFsdWUpKSB7XG4gICAgICBlbGVtZW50LnN0eWxlW25hbWVdID0gdmFsdWU7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBlbGVtZW50LnN0eWxlW25hbWVdO1xuICAgIH1cbiAgfSxcblxuICBhdHRyOiBmdW5jdGlvbihlbGVtZW50LCBuYW1lLCB2YWx1ZSkge1xuICAgIHZhciByZXQ7XG4gICAgdmFyIG5vZGVUeXBlID0gZWxlbWVudC5ub2RlVHlwZTtcbiAgICBpZiAobm9kZVR5cGUgPT09IE5PREVfVFlQRV9URVhUIHx8IG5vZGVUeXBlID09PSBOT0RFX1RZUEVfQVRUUklCVVRFIHx8IG5vZGVUeXBlID09PSBOT0RFX1RZUEVfQ09NTUVOVCB8fFxuICAgICAgIWVsZW1lbnQuZ2V0QXR0cmlidXRlKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgdmFyIGxvd2VyY2FzZWROYW1lID0gbG93ZXJjYXNlKG5hbWUpO1xuICAgIHZhciBpc0Jvb2xlYW5BdHRyID0gQk9PTEVBTl9BVFRSW2xvd2VyY2FzZWROYW1lXTtcblxuICAgIGlmIChpc0RlZmluZWQodmFsdWUpKSB7XG4gICAgICAvLyBzZXR0ZXJcblxuICAgICAgaWYgKHZhbHVlID09PSBudWxsIHx8ICh2YWx1ZSA9PT0gZmFsc2UgJiYgaXNCb29sZWFuQXR0cikpIHtcbiAgICAgICAgZWxlbWVudC5yZW1vdmVBdHRyaWJ1dGUobmFtZSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBlbGVtZW50LnNldEF0dHJpYnV0ZShuYW1lLCBpc0Jvb2xlYW5BdHRyID8gbG93ZXJjYXNlZE5hbWUgOiB2YWx1ZSk7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIGdldHRlclxuXG4gICAgICByZXQgPSBlbGVtZW50LmdldEF0dHJpYnV0ZShuYW1lKTtcblxuICAgICAgaWYgKGlzQm9vbGVhbkF0dHIgJiYgcmV0ICE9PSBudWxsKSB7XG4gICAgICAgIHJldCA9IGxvd2VyY2FzZWROYW1lO1xuICAgICAgfVxuICAgICAgLy8gTm9ybWFsaXplIG5vbi1leGlzdGluZyBhdHRyaWJ1dGVzIHRvIHVuZGVmaW5lZCAoYXMgalF1ZXJ5KS5cbiAgICAgIHJldHVybiByZXQgPT09IG51bGwgPyB1bmRlZmluZWQgOiByZXQ7XG4gICAgfVxuICB9LFxuXG4gIHByb3A6IGZ1bmN0aW9uKGVsZW1lbnQsIG5hbWUsIHZhbHVlKSB7XG4gICAgaWYgKGlzRGVmaW5lZCh2YWx1ZSkpIHtcbiAgICAgIGVsZW1lbnRbbmFtZV0gPSB2YWx1ZTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIGVsZW1lbnRbbmFtZV07XG4gICAgfVxuICB9LFxuXG4gIHRleHQ6IChmdW5jdGlvbigpIHtcbiAgICBnZXRUZXh0LiRkdiA9ICcnO1xuICAgIHJldHVybiBnZXRUZXh0O1xuXG4gICAgZnVuY3Rpb24gZ2V0VGV4dChlbGVtZW50LCB2YWx1ZSkge1xuICAgICAgaWYgKGlzVW5kZWZpbmVkKHZhbHVlKSkge1xuICAgICAgICB2YXIgbm9kZVR5cGUgPSBlbGVtZW50Lm5vZGVUeXBlO1xuICAgICAgICByZXR1cm4gKG5vZGVUeXBlID09PSBOT0RFX1RZUEVfRUxFTUVOVCB8fCBub2RlVHlwZSA9PT0gTk9ERV9UWVBFX1RFWFQpID8gZWxlbWVudC50ZXh0Q29udGVudCA6ICcnO1xuICAgICAgfVxuICAgICAgZWxlbWVudC50ZXh0Q29udGVudCA9IHZhbHVlO1xuICAgIH1cbiAgfSkoKSxcblxuICB2YWw6IGZ1bmN0aW9uKGVsZW1lbnQsIHZhbHVlKSB7XG4gICAgaWYgKGlzVW5kZWZpbmVkKHZhbHVlKSkge1xuICAgICAgaWYgKGVsZW1lbnQubXVsdGlwbGUgJiYgbm9kZU5hbWVfKGVsZW1lbnQpID09PSAnc2VsZWN0Jykge1xuICAgICAgICB2YXIgcmVzdWx0ID0gW107XG4gICAgICAgIGZvckVhY2goZWxlbWVudC5vcHRpb25zLCBmdW5jdGlvbihvcHRpb24pIHtcbiAgICAgICAgICBpZiAob3B0aW9uLnNlbGVjdGVkKSB7XG4gICAgICAgICAgICByZXN1bHQucHVzaChvcHRpb24udmFsdWUgfHwgb3B0aW9uLnRleHQpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICB9XG4gICAgICByZXR1cm4gZWxlbWVudC52YWx1ZTtcbiAgICB9XG4gICAgZWxlbWVudC52YWx1ZSA9IHZhbHVlO1xuICB9LFxuXG4gIGh0bWw6IGZ1bmN0aW9uKGVsZW1lbnQsIHZhbHVlKSB7XG4gICAgaWYgKGlzVW5kZWZpbmVkKHZhbHVlKSkge1xuICAgICAgcmV0dXJuIGVsZW1lbnQuaW5uZXJIVE1MO1xuICAgIH1cbiAgICBqcUxpdGVEZWFsb2MoZWxlbWVudCwgdHJ1ZSk7XG4gICAgZWxlbWVudC5pbm5lckhUTUwgPSB2YWx1ZTtcbiAgfSxcblxuICBlbXB0eToganFMaXRlRW1wdHlcbn0sIGZ1bmN0aW9uKGZuLCBuYW1lKSB7XG4gIC8qKlxuICAgKiBQcm9wZXJ0aWVzOiB3cml0ZXMgcmV0dXJuIHNlbGVjdGlvbiwgcmVhZHMgcmV0dXJuIGZpcnN0IHZhbHVlXG4gICAqL1xuICBKUUxpdGUucHJvdG90eXBlW25hbWVdID0gZnVuY3Rpb24oYXJnMSwgYXJnMikge1xuICAgIHZhciBpLCBrZXk7XG4gICAgdmFyIG5vZGVDb3VudCA9IHRoaXMubGVuZ3RoO1xuXG4gICAgLy8ganFMaXRlSGFzQ2xhc3MgaGFzIG9ubHkgdHdvIGFyZ3VtZW50cywgYnV0IGlzIGEgZ2V0dGVyLW9ubHkgZm4sIHNvIHdlIG5lZWQgdG8gc3BlY2lhbC1jYXNlIGl0XG4gICAgLy8gaW4gYSB3YXkgdGhhdCBzdXJ2aXZlcyBtaW5pZmljYXRpb24uXG4gICAgLy8ganFMaXRlRW1wdHkgdGFrZXMgbm8gYXJndW1lbnRzIGJ1dCBpcyBhIHNldHRlci5cbiAgICBpZiAoZm4gIT09IGpxTGl0ZUVtcHR5ICYmXG4gICAgICAgIChpc1VuZGVmaW5lZCgoZm4ubGVuZ3RoID09PSAyICYmIChmbiAhPT0ganFMaXRlSGFzQ2xhc3MgJiYgZm4gIT09IGpxTGl0ZUNvbnRyb2xsZXIpKSA/IGFyZzEgOiBhcmcyKSkpIHtcbiAgICAgIGlmIChpc09iamVjdChhcmcxKSkge1xuXG4gICAgICAgIC8vIHdlIGFyZSBhIHdyaXRlLCBidXQgdGhlIG9iamVjdCBwcm9wZXJ0aWVzIGFyZSB0aGUga2V5L3ZhbHVlc1xuICAgICAgICBmb3IgKGkgPSAwOyBpIDwgbm9kZUNvdW50OyBpKyspIHtcbiAgICAgICAgICBpZiAoZm4gPT09IGpxTGl0ZURhdGEpIHtcbiAgICAgICAgICAgIC8vIGRhdGEoKSB0YWtlcyB0aGUgd2hvbGUgb2JqZWN0IGluIGpRdWVyeVxuICAgICAgICAgICAgZm4odGhpc1tpXSwgYXJnMSk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGZvciAoa2V5IGluIGFyZzEpIHtcbiAgICAgICAgICAgICAgZm4odGhpc1tpXSwga2V5LCBhcmcxW2tleV0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICAvLyByZXR1cm4gc2VsZiBmb3IgY2hhaW5pbmdcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICAvLyB3ZSBhcmUgYSByZWFkLCBzbyByZWFkIHRoZSBmaXJzdCBjaGlsZC5cbiAgICAgICAgLy8gVE9ETzogZG8gd2Ugc3RpbGwgbmVlZCB0aGlzP1xuICAgICAgICB2YXIgdmFsdWUgPSBmbi4kZHY7XG4gICAgICAgIC8vIE9ubHkgaWYgd2UgaGF2ZSAkZHYgZG8gd2UgaXRlcmF0ZSBvdmVyIGFsbCwgb3RoZXJ3aXNlIGl0IGlzIGp1c3QgdGhlIGZpcnN0IGVsZW1lbnQuXG4gICAgICAgIHZhciBqaiA9IChpc1VuZGVmaW5lZCh2YWx1ZSkpID8gTWF0aC5taW4obm9kZUNvdW50LCAxKSA6IG5vZGVDb3VudDtcbiAgICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCBqajsgaisrKSB7XG4gICAgICAgICAgdmFyIG5vZGVWYWx1ZSA9IGZuKHRoaXNbal0sIGFyZzEsIGFyZzIpO1xuICAgICAgICAgIHZhbHVlID0gdmFsdWUgPyB2YWx1ZSArIG5vZGVWYWx1ZSA6IG5vZGVWYWx1ZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdmFsdWU7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIHdlIGFyZSBhIHdyaXRlLCBzbyBhcHBseSB0byBhbGwgY2hpbGRyZW5cbiAgICAgIGZvciAoaSA9IDA7IGkgPCBub2RlQ291bnQ7IGkrKykge1xuICAgICAgICBmbih0aGlzW2ldLCBhcmcxLCBhcmcyKTtcbiAgICAgIH1cbiAgICAgIC8vIHJldHVybiBzZWxmIGZvciBjaGFpbmluZ1xuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICB9O1xufSk7XG5cbmZ1bmN0aW9uIGNyZWF0ZUV2ZW50SGFuZGxlcihlbGVtZW50LCBldmVudHMpIHtcbiAgdmFyIGV2ZW50SGFuZGxlciA9IGZ1bmN0aW9uKGV2ZW50LCB0eXBlKSB7XG4gICAgLy8galF1ZXJ5IHNwZWNpZmljIGFwaVxuICAgIGV2ZW50LmlzRGVmYXVsdFByZXZlbnRlZCA9IGZ1bmN0aW9uKCkge1xuICAgICAgcmV0dXJuIGV2ZW50LmRlZmF1bHRQcmV2ZW50ZWQ7XG4gICAgfTtcblxuICAgIHZhciBldmVudEZucyA9IGV2ZW50c1t0eXBlIHx8IGV2ZW50LnR5cGVdO1xuICAgIHZhciBldmVudEZuc0xlbmd0aCA9IGV2ZW50Rm5zID8gZXZlbnRGbnMubGVuZ3RoIDogMDtcblxuICAgIGlmICghZXZlbnRGbnNMZW5ndGgpIHJldHVybjtcblxuICAgIGlmIChpc1VuZGVmaW5lZChldmVudC5pbW1lZGlhdGVQcm9wYWdhdGlvblN0b3BwZWQpKSB7XG4gICAgICB2YXIgb3JpZ2luYWxTdG9wSW1tZWRpYXRlUHJvcGFnYXRpb24gPSBldmVudC5zdG9wSW1tZWRpYXRlUHJvcGFnYXRpb247XG4gICAgICBldmVudC5zdG9wSW1tZWRpYXRlUHJvcGFnYXRpb24gPSBmdW5jdGlvbigpIHtcbiAgICAgICAgZXZlbnQuaW1tZWRpYXRlUHJvcGFnYXRpb25TdG9wcGVkID0gdHJ1ZTtcblxuICAgICAgICBpZiAoZXZlbnQuc3RvcFByb3BhZ2F0aW9uKSB7XG4gICAgICAgICAgZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAob3JpZ2luYWxTdG9wSW1tZWRpYXRlUHJvcGFnYXRpb24pIHtcbiAgICAgICAgICBvcmlnaW5hbFN0b3BJbW1lZGlhdGVQcm9wYWdhdGlvbi5jYWxsKGV2ZW50KTtcbiAgICAgICAgfVxuICAgICAgfTtcbiAgICB9XG5cbiAgICBldmVudC5pc0ltbWVkaWF0ZVByb3BhZ2F0aW9uU3RvcHBlZCA9IGZ1bmN0aW9uKCkge1xuICAgICAgcmV0dXJuIGV2ZW50LmltbWVkaWF0ZVByb3BhZ2F0aW9uU3RvcHBlZCA9PT0gdHJ1ZTtcbiAgICB9O1xuXG4gICAgLy8gU29tZSBldmVudHMgaGF2ZSBzcGVjaWFsIGhhbmRsZXJzIHRoYXQgd3JhcCB0aGUgcmVhbCBoYW5kbGVyXG4gICAgdmFyIGhhbmRsZXJXcmFwcGVyID0gZXZlbnRGbnMuc3BlY2lhbEhhbmRsZXJXcmFwcGVyIHx8IGRlZmF1bHRIYW5kbGVyV3JhcHBlcjtcblxuICAgIC8vIENvcHkgZXZlbnQgaGFuZGxlcnMgaW4gY2FzZSBldmVudCBoYW5kbGVycyBhcnJheSBpcyBtb2RpZmllZCBkdXJpbmcgZXhlY3V0aW9uLlxuICAgIGlmICgoZXZlbnRGbnNMZW5ndGggPiAxKSkge1xuICAgICAgZXZlbnRGbnMgPSBzaGFsbG93Q29weShldmVudEZucyk7XG4gICAgfVxuXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBldmVudEZuc0xlbmd0aDsgaSsrKSB7XG4gICAgICBpZiAoIWV2ZW50LmlzSW1tZWRpYXRlUHJvcGFnYXRpb25TdG9wcGVkKCkpIHtcbiAgICAgICAgaGFuZGxlcldyYXBwZXIoZWxlbWVudCwgZXZlbnQsIGV2ZW50Rm5zW2ldKTtcbiAgICAgIH1cbiAgICB9XG4gIH07XG5cbiAgLy8gVE9ETzogdGhpcyBpcyBhIGhhY2sgZm9yIGFuZ3VsYXJNb2Nrcy9jbGVhckRhdGFDYWNoZSB0aGF0IG1ha2VzIGl0IHBvc3NpYmxlIHRvIGRlcmVnaXN0ZXIgYWxsXG4gIC8vICAgICAgIGV2ZW50cyBvbiBgZWxlbWVudGBcbiAgZXZlbnRIYW5kbGVyLmVsZW0gPSBlbGVtZW50O1xuICByZXR1cm4gZXZlbnRIYW5kbGVyO1xufVxuXG5mdW5jdGlvbiBkZWZhdWx0SGFuZGxlcldyYXBwZXIoZWxlbWVudCwgZXZlbnQsIGhhbmRsZXIpIHtcbiAgaGFuZGxlci5jYWxsKGVsZW1lbnQsIGV2ZW50KTtcbn1cblxuZnVuY3Rpb24gc3BlY2lhbE1vdXNlSGFuZGxlcldyYXBwZXIodGFyZ2V0LCBldmVudCwgaGFuZGxlcikge1xuICAvLyBSZWZlciB0byBqUXVlcnkncyBpbXBsZW1lbnRhdGlvbiBvZiBtb3VzZWVudGVyICYgbW91c2VsZWF2ZVxuICAvLyBSZWFkIGFib3V0IG1vdXNlZW50ZXIgYW5kIG1vdXNlbGVhdmU6XG4gIC8vIGh0dHA6Ly93d3cucXVpcmtzbW9kZS5vcmcvanMvZXZlbnRzX21vdXNlLmh0bWwjbGluazhcbiAgdmFyIHJlbGF0ZWQgPSBldmVudC5yZWxhdGVkVGFyZ2V0O1xuICAvLyBGb3IgbW91c2VudGVyL2xlYXZlIGNhbGwgdGhlIGhhbmRsZXIgaWYgcmVsYXRlZCBpcyBvdXRzaWRlIHRoZSB0YXJnZXQuXG4gIC8vIE5COiBObyByZWxhdGVkVGFyZ2V0IGlmIHRoZSBtb3VzZSBsZWZ0L2VudGVyZWQgdGhlIGJyb3dzZXIgd2luZG93XG4gIGlmICghcmVsYXRlZCB8fCAocmVsYXRlZCAhPT0gdGFyZ2V0ICYmICFqcUxpdGVDb250YWlucy5jYWxsKHRhcmdldCwgcmVsYXRlZCkpKSB7XG4gICAgaGFuZGxlci5jYWxsKHRhcmdldCwgZXZlbnQpO1xuICB9XG59XG5cbi8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gRnVuY3Rpb25zIGl0ZXJhdGluZyB0cmF2ZXJzYWwuXG4vLyBUaGVzZSBmdW5jdGlvbnMgY2hhaW4gcmVzdWx0cyBpbnRvIGEgc2luZ2xlXG4vLyBzZWxlY3Rvci5cbi8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuZm9yRWFjaCh7XG4gIHJlbW92ZURhdGE6IGpxTGl0ZVJlbW92ZURhdGEsXG5cbiAgb246IGZ1bmN0aW9uIGpxTGl0ZU9uKGVsZW1lbnQsIHR5cGUsIGZuLCB1bnN1cHBvcnRlZCkge1xuICAgIGlmIChpc0RlZmluZWQodW5zdXBwb3J0ZWQpKSB0aHJvdyBqcUxpdGVNaW5FcnIoJ29uYXJncycsICdqcUxpdGUjb24oKSBkb2VzIG5vdCBzdXBwb3J0IHRoZSBgc2VsZWN0b3JgIG9yIGBldmVudERhdGFgIHBhcmFtZXRlcnMnKTtcblxuICAgIC8vIERvIG5vdCBhZGQgZXZlbnQgaGFuZGxlcnMgdG8gbm9uLWVsZW1lbnRzIGJlY2F1c2UgdGhleSB3aWxsIG5vdCBiZSBjbGVhbmVkIHVwLlxuICAgIGlmICghanFMaXRlQWNjZXB0c0RhdGEoZWxlbWVudCkpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICB2YXIgZXhwYW5kb1N0b3JlID0ganFMaXRlRXhwYW5kb1N0b3JlKGVsZW1lbnQsIHRydWUpO1xuICAgIHZhciBldmVudHMgPSBleHBhbmRvU3RvcmUuZXZlbnRzO1xuICAgIHZhciBoYW5kbGUgPSBleHBhbmRvU3RvcmUuaGFuZGxlO1xuXG4gICAgaWYgKCFoYW5kbGUpIHtcbiAgICAgIGhhbmRsZSA9IGV4cGFuZG9TdG9yZS5oYW5kbGUgPSBjcmVhdGVFdmVudEhhbmRsZXIoZWxlbWVudCwgZXZlbnRzKTtcbiAgICB9XG5cbiAgICAvLyBodHRwOi8vanNwZXJmLmNvbS9zdHJpbmctaW5kZXhvZi12cy1zcGxpdFxuICAgIHZhciB0eXBlcyA9IHR5cGUuaW5kZXhPZignICcpID49IDAgPyB0eXBlLnNwbGl0KCcgJykgOiBbdHlwZV07XG4gICAgdmFyIGkgPSB0eXBlcy5sZW5ndGg7XG5cbiAgICB2YXIgYWRkSGFuZGxlciA9IGZ1bmN0aW9uKHR5cGUsIHNwZWNpYWxIYW5kbGVyV3JhcHBlciwgbm9FdmVudExpc3RlbmVyKSB7XG4gICAgICB2YXIgZXZlbnRGbnMgPSBldmVudHNbdHlwZV07XG5cbiAgICAgIGlmICghZXZlbnRGbnMpIHtcbiAgICAgICAgZXZlbnRGbnMgPSBldmVudHNbdHlwZV0gPSBbXTtcbiAgICAgICAgZXZlbnRGbnMuc3BlY2lhbEhhbmRsZXJXcmFwcGVyID0gc3BlY2lhbEhhbmRsZXJXcmFwcGVyO1xuICAgICAgICBpZiAodHlwZSAhPT0gJyRkZXN0cm95JyAmJiAhbm9FdmVudExpc3RlbmVyKSB7XG4gICAgICAgICAgZWxlbWVudC5hZGRFdmVudExpc3RlbmVyKHR5cGUsIGhhbmRsZSk7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgZXZlbnRGbnMucHVzaChmbik7XG4gICAgfTtcblxuICAgIHdoaWxlIChpLS0pIHtcbiAgICAgIHR5cGUgPSB0eXBlc1tpXTtcbiAgICAgIGlmIChNT1VTRV9FVkVOVF9NQVBbdHlwZV0pIHtcbiAgICAgICAgYWRkSGFuZGxlcihNT1VTRV9FVkVOVF9NQVBbdHlwZV0sIHNwZWNpYWxNb3VzZUhhbmRsZXJXcmFwcGVyKTtcbiAgICAgICAgYWRkSGFuZGxlcih0eXBlLCB1bmRlZmluZWQsIHRydWUpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgYWRkSGFuZGxlcih0eXBlKTtcbiAgICAgIH1cbiAgICB9XG4gIH0sXG5cbiAgb2ZmOiBqcUxpdGVPZmYsXG5cbiAgb25lOiBmdW5jdGlvbihlbGVtZW50LCB0eXBlLCBmbikge1xuICAgIGVsZW1lbnQgPSBqcUxpdGUoZWxlbWVudCk7XG5cbiAgICAvL2FkZCB0aGUgbGlzdGVuZXIgdHdpY2Ugc28gdGhhdCB3aGVuIGl0IGlzIGNhbGxlZFxuICAgIC8veW91IGNhbiByZW1vdmUgdGhlIG9yaWdpbmFsIGZ1bmN0aW9uIGFuZCBzdGlsbCBiZVxuICAgIC8vYWJsZSB0byBjYWxsIGVsZW1lbnQub2ZmKGV2LCBmbikgbm9ybWFsbHlcbiAgICBlbGVtZW50Lm9uKHR5cGUsIGZ1bmN0aW9uIG9uRm4oKSB7XG4gICAgICBlbGVtZW50Lm9mZih0eXBlLCBmbik7XG4gICAgICBlbGVtZW50Lm9mZih0eXBlLCBvbkZuKTtcbiAgICB9KTtcbiAgICBlbGVtZW50Lm9uKHR5cGUsIGZuKTtcbiAgfSxcblxuICByZXBsYWNlV2l0aDogZnVuY3Rpb24oZWxlbWVudCwgcmVwbGFjZU5vZGUpIHtcbiAgICB2YXIgaW5kZXgsIHBhcmVudCA9IGVsZW1lbnQucGFyZW50Tm9kZTtcbiAgICBqcUxpdGVEZWFsb2MoZWxlbWVudCk7XG4gICAgZm9yRWFjaChuZXcgSlFMaXRlKHJlcGxhY2VOb2RlKSwgZnVuY3Rpb24obm9kZSkge1xuICAgICAgaWYgKGluZGV4KSB7XG4gICAgICAgIHBhcmVudC5pbnNlcnRCZWZvcmUobm9kZSwgaW5kZXgubmV4dFNpYmxpbmcpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcGFyZW50LnJlcGxhY2VDaGlsZChub2RlLCBlbGVtZW50KTtcbiAgICAgIH1cbiAgICAgIGluZGV4ID0gbm9kZTtcbiAgICB9KTtcbiAgfSxcblxuICBjaGlsZHJlbjogZnVuY3Rpb24oZWxlbWVudCkge1xuICAgIHZhciBjaGlsZHJlbiA9IFtdO1xuICAgIGZvckVhY2goZWxlbWVudC5jaGlsZE5vZGVzLCBmdW5jdGlvbihlbGVtZW50KSB7XG4gICAgICBpZiAoZWxlbWVudC5ub2RlVHlwZSA9PT0gTk9ERV9UWVBFX0VMRU1FTlQpIHtcbiAgICAgICAgY2hpbGRyZW4ucHVzaChlbGVtZW50KTtcbiAgICAgIH1cbiAgICB9KTtcbiAgICByZXR1cm4gY2hpbGRyZW47XG4gIH0sXG5cbiAgY29udGVudHM6IGZ1bmN0aW9uKGVsZW1lbnQpIHtcbiAgICByZXR1cm4gZWxlbWVudC5jb250ZW50RG9jdW1lbnQgfHwgZWxlbWVudC5jaGlsZE5vZGVzIHx8IFtdO1xuICB9LFxuXG4gIGFwcGVuZDogZnVuY3Rpb24oZWxlbWVudCwgbm9kZSkge1xuICAgIHZhciBub2RlVHlwZSA9IGVsZW1lbnQubm9kZVR5cGU7XG4gICAgaWYgKG5vZGVUeXBlICE9PSBOT0RFX1RZUEVfRUxFTUVOVCAmJiBub2RlVHlwZSAhPT0gTk9ERV9UWVBFX0RPQ1VNRU5UX0ZSQUdNRU5UKSByZXR1cm47XG5cbiAgICBub2RlID0gbmV3IEpRTGl0ZShub2RlKTtcblxuICAgIGZvciAodmFyIGkgPSAwLCBpaSA9IG5vZGUubGVuZ3RoOyBpIDwgaWk7IGkrKykge1xuICAgICAgdmFyIGNoaWxkID0gbm9kZVtpXTtcbiAgICAgIGVsZW1lbnQuYXBwZW5kQ2hpbGQoY2hpbGQpO1xuICAgIH1cbiAgfSxcblxuICBwcmVwZW5kOiBmdW5jdGlvbihlbGVtZW50LCBub2RlKSB7XG4gICAgaWYgKGVsZW1lbnQubm9kZVR5cGUgPT09IE5PREVfVFlQRV9FTEVNRU5UKSB7XG4gICAgICB2YXIgaW5kZXggPSBlbGVtZW50LmZpcnN0Q2hpbGQ7XG4gICAgICBmb3JFYWNoKG5ldyBKUUxpdGUobm9kZSksIGZ1bmN0aW9uKGNoaWxkKSB7XG4gICAgICAgIGVsZW1lbnQuaW5zZXJ0QmVmb3JlKGNoaWxkLCBpbmRleCk7XG4gICAgICB9KTtcbiAgICB9XG4gIH0sXG5cbiAgd3JhcDogZnVuY3Rpb24oZWxlbWVudCwgd3JhcE5vZGUpIHtcbiAgICBqcUxpdGVXcmFwTm9kZShlbGVtZW50LCBqcUxpdGUod3JhcE5vZGUpLmVxKDApLmNsb25lKClbMF0pO1xuICB9LFxuXG4gIHJlbW92ZToganFMaXRlUmVtb3ZlLFxuXG4gIGRldGFjaDogZnVuY3Rpb24oZWxlbWVudCkge1xuICAgIGpxTGl0ZVJlbW92ZShlbGVtZW50LCB0cnVlKTtcbiAgfSxcblxuICBhZnRlcjogZnVuY3Rpb24oZWxlbWVudCwgbmV3RWxlbWVudCkge1xuICAgIHZhciBpbmRleCA9IGVsZW1lbnQsIHBhcmVudCA9IGVsZW1lbnQucGFyZW50Tm9kZTtcblxuICAgIGlmIChwYXJlbnQpIHtcbiAgICAgIG5ld0VsZW1lbnQgPSBuZXcgSlFMaXRlKG5ld0VsZW1lbnQpO1xuXG4gICAgICBmb3IgKHZhciBpID0gMCwgaWkgPSBuZXdFbGVtZW50Lmxlbmd0aDsgaSA8IGlpOyBpKyspIHtcbiAgICAgICAgdmFyIG5vZGUgPSBuZXdFbGVtZW50W2ldO1xuICAgICAgICBwYXJlbnQuaW5zZXJ0QmVmb3JlKG5vZGUsIGluZGV4Lm5leHRTaWJsaW5nKTtcbiAgICAgICAgaW5kZXggPSBub2RlO1xuICAgICAgfVxuICAgIH1cbiAgfSxcblxuICBhZGRDbGFzczoganFMaXRlQWRkQ2xhc3MsXG4gIHJlbW92ZUNsYXNzOiBqcUxpdGVSZW1vdmVDbGFzcyxcblxuICB0b2dnbGVDbGFzczogZnVuY3Rpb24oZWxlbWVudCwgc2VsZWN0b3IsIGNvbmRpdGlvbikge1xuICAgIGlmIChzZWxlY3Rvcikge1xuICAgICAgZm9yRWFjaChzZWxlY3Rvci5zcGxpdCgnICcpLCBmdW5jdGlvbihjbGFzc05hbWUpIHtcbiAgICAgICAgdmFyIGNsYXNzQ29uZGl0aW9uID0gY29uZGl0aW9uO1xuICAgICAgICBpZiAoaXNVbmRlZmluZWQoY2xhc3NDb25kaXRpb24pKSB7XG4gICAgICAgICAgY2xhc3NDb25kaXRpb24gPSAhanFMaXRlSGFzQ2xhc3MoZWxlbWVudCwgY2xhc3NOYW1lKTtcbiAgICAgICAgfVxuICAgICAgICAoY2xhc3NDb25kaXRpb24gPyBqcUxpdGVBZGRDbGFzcyA6IGpxTGl0ZVJlbW92ZUNsYXNzKShlbGVtZW50LCBjbGFzc05hbWUpO1xuICAgICAgfSk7XG4gICAgfVxuICB9LFxuXG4gIHBhcmVudDogZnVuY3Rpb24oZWxlbWVudCkge1xuICAgIHZhciBwYXJlbnQgPSBlbGVtZW50LnBhcmVudE5vZGU7XG4gICAgcmV0dXJuIHBhcmVudCAmJiBwYXJlbnQubm9kZVR5cGUgIT09IE5PREVfVFlQRV9ET0NVTUVOVF9GUkFHTUVOVCA/IHBhcmVudCA6IG51bGw7XG4gIH0sXG5cbiAgbmV4dDogZnVuY3Rpb24oZWxlbWVudCkge1xuICAgIHJldHVybiBlbGVtZW50Lm5leHRFbGVtZW50U2libGluZztcbiAgfSxcblxuICBmaW5kOiBmdW5jdGlvbihlbGVtZW50LCBzZWxlY3Rvcikge1xuICAgIGlmIChlbGVtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lKSB7XG4gICAgICByZXR1cm4gZWxlbWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZShzZWxlY3Rvcik7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBbXTtcbiAgICB9XG4gIH0sXG5cbiAgY2xvbmU6IGpxTGl0ZUNsb25lLFxuXG4gIHRyaWdnZXJIYW5kbGVyOiBmdW5jdGlvbihlbGVtZW50LCBldmVudCwgZXh0cmFQYXJhbWV0ZXJzKSB7XG5cbiAgICB2YXIgZHVtbXlFdmVudCwgZXZlbnRGbnNDb3B5LCBoYW5kbGVyQXJncztcbiAgICB2YXIgZXZlbnROYW1lID0gZXZlbnQudHlwZSB8fCBldmVudDtcbiAgICB2YXIgZXhwYW5kb1N0b3JlID0ganFMaXRlRXhwYW5kb1N0b3JlKGVsZW1lbnQpO1xuICAgIHZhciBldmVudHMgPSBleHBhbmRvU3RvcmUgJiYgZXhwYW5kb1N0b3JlLmV2ZW50cztcbiAgICB2YXIgZXZlbnRGbnMgPSBldmVudHMgJiYgZXZlbnRzW2V2ZW50TmFtZV07XG5cbiAgICBpZiAoZXZlbnRGbnMpIHtcbiAgICAgIC8vIENyZWF0ZSBhIGR1bW15IGV2ZW50IHRvIHBhc3MgdG8gdGhlIGhhbmRsZXJzXG4gICAgICBkdW1teUV2ZW50ID0ge1xuICAgICAgICBwcmV2ZW50RGVmYXVsdDogZnVuY3Rpb24oKSB7IHRoaXMuZGVmYXVsdFByZXZlbnRlZCA9IHRydWU7IH0sXG4gICAgICAgIGlzRGVmYXVsdFByZXZlbnRlZDogZnVuY3Rpb24oKSB7IHJldHVybiB0aGlzLmRlZmF1bHRQcmV2ZW50ZWQgPT09IHRydWU7IH0sXG4gICAgICAgIHN0b3BJbW1lZGlhdGVQcm9wYWdhdGlvbjogZnVuY3Rpb24oKSB7IHRoaXMuaW1tZWRpYXRlUHJvcGFnYXRpb25TdG9wcGVkID0gdHJ1ZTsgfSxcbiAgICAgICAgaXNJbW1lZGlhdGVQcm9wYWdhdGlvblN0b3BwZWQ6IGZ1bmN0aW9uKCkgeyByZXR1cm4gdGhpcy5pbW1lZGlhdGVQcm9wYWdhdGlvblN0b3BwZWQgPT09IHRydWU7IH0sXG4gICAgICAgIHN0b3BQcm9wYWdhdGlvbjogbm9vcCxcbiAgICAgICAgdHlwZTogZXZlbnROYW1lLFxuICAgICAgICB0YXJnZXQ6IGVsZW1lbnRcbiAgICAgIH07XG5cbiAgICAgIC8vIElmIGEgY3VzdG9tIGV2ZW50IHdhcyBwcm92aWRlZCB0aGVuIGV4dGVuZCBvdXIgZHVtbXkgZXZlbnQgd2l0aCBpdFxuICAgICAgaWYgKGV2ZW50LnR5cGUpIHtcbiAgICAgICAgZHVtbXlFdmVudCA9IGV4dGVuZChkdW1teUV2ZW50LCBldmVudCk7XG4gICAgICB9XG5cbiAgICAgIC8vIENvcHkgZXZlbnQgaGFuZGxlcnMgaW4gY2FzZSBldmVudCBoYW5kbGVycyBhcnJheSBpcyBtb2RpZmllZCBkdXJpbmcgZXhlY3V0aW9uLlxuICAgICAgZXZlbnRGbnNDb3B5ID0gc2hhbGxvd0NvcHkoZXZlbnRGbnMpO1xuICAgICAgaGFuZGxlckFyZ3MgPSBleHRyYVBhcmFtZXRlcnMgPyBbZHVtbXlFdmVudF0uY29uY2F0KGV4dHJhUGFyYW1ldGVycykgOiBbZHVtbXlFdmVudF07XG5cbiAgICAgIGZvckVhY2goZXZlbnRGbnNDb3B5LCBmdW5jdGlvbihmbikge1xuICAgICAgICBpZiAoIWR1bW15RXZlbnQuaXNJbW1lZGlhdGVQcm9wYWdhdGlvblN0b3BwZWQoKSkge1xuICAgICAgICAgIGZuLmFwcGx5KGVsZW1lbnQsIGhhbmRsZXJBcmdzKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfVxuICB9XG59LCBmdW5jdGlvbihmbiwgbmFtZSkge1xuICAvKipcbiAgICogY2hhaW5pbmcgZnVuY3Rpb25zXG4gICAqL1xuICBKUUxpdGUucHJvdG90eXBlW25hbWVdID0gZnVuY3Rpb24oYXJnMSwgYXJnMiwgYXJnMykge1xuICAgIHZhciB2YWx1ZTtcblxuICAgIGZvciAodmFyIGkgPSAwLCBpaSA9IHRoaXMubGVuZ3RoOyBpIDwgaWk7IGkrKykge1xuICAgICAgaWYgKGlzVW5kZWZpbmVkKHZhbHVlKSkge1xuICAgICAgICB2YWx1ZSA9IGZuKHRoaXNbaV0sIGFyZzEsIGFyZzIsIGFyZzMpO1xuICAgICAgICBpZiAoaXNEZWZpbmVkKHZhbHVlKSkge1xuICAgICAgICAgIC8vIGFueSBmdW5jdGlvbiB3aGljaCByZXR1cm5zIGEgdmFsdWUgbmVlZHMgdG8gYmUgd3JhcHBlZFxuICAgICAgICAgIHZhbHVlID0ganFMaXRlKHZhbHVlKTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAganFMaXRlQWRkTm9kZXModmFsdWUsIGZuKHRoaXNbaV0sIGFyZzEsIGFyZzIsIGFyZzMpKTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGlzRGVmaW5lZCh2YWx1ZSkgPyB2YWx1ZSA6IHRoaXM7XG4gIH07XG59KTtcblxuLy8gYmluZCBsZWdhY3kgYmluZC91bmJpbmQgdG8gb24vb2ZmXG5KUUxpdGUucHJvdG90eXBlLmJpbmQgPSBKUUxpdGUucHJvdG90eXBlLm9uO1xuSlFMaXRlLnByb3RvdHlwZS51bmJpbmQgPSBKUUxpdGUucHJvdG90eXBlLm9mZjtcblxuXG4vLyBQcm92aWRlciBmb3IgcHJpdmF0ZSAkJGpxTGl0ZSBzZXJ2aWNlXG4vKiogQHRoaXMgKi9cbmZ1bmN0aW9uICQkanFMaXRlUHJvdmlkZXIoKSB7XG4gIHRoaXMuJGdldCA9IGZ1bmN0aW9uICQkanFMaXRlKCkge1xuICAgIHJldHVybiBleHRlbmQoSlFMaXRlLCB7XG4gICAgICBoYXNDbGFzczogZnVuY3Rpb24obm9kZSwgY2xhc3Nlcykge1xuICAgICAgICBpZiAobm9kZS5hdHRyKSBub2RlID0gbm9kZVswXTtcbiAgICAgICAgcmV0dXJuIGpxTGl0ZUhhc0NsYXNzKG5vZGUsIGNsYXNzZXMpO1xuICAgICAgfSxcbiAgICAgIGFkZENsYXNzOiBmdW5jdGlvbihub2RlLCBjbGFzc2VzKSB7XG4gICAgICAgIGlmIChub2RlLmF0dHIpIG5vZGUgPSBub2RlWzBdO1xuICAgICAgICByZXR1cm4ganFMaXRlQWRkQ2xhc3Mobm9kZSwgY2xhc3Nlcyk7XG4gICAgICB9LFxuICAgICAgcmVtb3ZlQ2xhc3M6IGZ1bmN0aW9uKG5vZGUsIGNsYXNzZXMpIHtcbiAgICAgICAgaWYgKG5vZGUuYXR0cikgbm9kZSA9IG5vZGVbMF07XG4gICAgICAgIHJldHVybiBqcUxpdGVSZW1vdmVDbGFzcyhub2RlLCBjbGFzc2VzKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfTtcbn1cblxuLyoqXG4gKiBDb21wdXRlcyBhIGhhc2ggb2YgYW4gJ29iaicuXG4gKiBIYXNoIG9mIGE6XG4gKiAgc3RyaW5nIGlzIHN0cmluZ1xuICogIG51bWJlciBpcyBudW1iZXIgYXMgc3RyaW5nXG4gKiAgb2JqZWN0IGlzIGVpdGhlciByZXN1bHQgb2YgY2FsbGluZyAkJGhhc2hLZXkgZnVuY3Rpb24gb24gdGhlIG9iamVjdCBvciB1bmlxdWVseSBnZW5lcmF0ZWQgaWQsXG4gKiAgICAgICAgIHRoYXQgaXMgYWxzbyBhc3NpZ25lZCB0byB0aGUgJCRoYXNoS2V5IHByb3BlcnR5IG9mIHRoZSBvYmplY3QuXG4gKlxuICogQHBhcmFtIG9ialxuICogQHJldHVybnMge3N0cmluZ30gaGFzaCBzdHJpbmcgc3VjaCB0aGF0IHRoZSBzYW1lIGlucHV0IHdpbGwgaGF2ZSB0aGUgc2FtZSBoYXNoIHN0cmluZy5cbiAqICAgICAgICAgVGhlIHJlc3VsdGluZyBzdHJpbmcga2V5IGlzIGluICd0eXBlOmhhc2hLZXknIGZvcm1hdC5cbiAqL1xuZnVuY3Rpb24gaGFzaEtleShvYmosIG5leHRVaWRGbikge1xuICB2YXIga2V5ID0gb2JqICYmIG9iai4kJGhhc2hLZXk7XG5cbiAgaWYgKGtleSkge1xuICAgIGlmICh0eXBlb2Yga2V5ID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICBrZXkgPSBvYmouJCRoYXNoS2V5KCk7XG4gICAgfVxuICAgIHJldHVybiBrZXk7XG4gIH1cblxuICB2YXIgb2JqVHlwZSA9IHR5cGVvZiBvYmo7XG4gIGlmIChvYmpUeXBlID09PSAnZnVuY3Rpb24nIHx8IChvYmpUeXBlID09PSAnb2JqZWN0JyAmJiBvYmogIT09IG51bGwpKSB7XG4gICAga2V5ID0gb2JqLiQkaGFzaEtleSA9IG9ialR5cGUgKyAnOicgKyAobmV4dFVpZEZuIHx8IG5leHRVaWQpKCk7XG4gIH0gZWxzZSB7XG4gICAga2V5ID0gb2JqVHlwZSArICc6JyArIG9iajtcbiAgfVxuXG4gIHJldHVybiBrZXk7XG59XG5cbi8vIEEgbWluaW1hbCBFUzIwMTUgTWFwIGltcGxlbWVudGF0aW9uLlxuLy8gU2hvdWxkIGJlIGJ1Zy9mZWF0dXJlIGVxdWl2YWxlbnQgdG8gdGhlIG5hdGl2ZSBpbXBsZW1lbnRhdGlvbnMgb2Ygc3VwcG9ydGVkIGJyb3dzZXJzXG4vLyAoZm9yIHRoZSBmZWF0dXJlcyByZXF1aXJlZCBpbiBBbmd1bGFyKS5cbi8vIFNlZSBodHRwczovL2thbmdheC5naXRodWIuaW8vY29tcGF0LXRhYmxlL2VzNi8jdGVzdC1NYXBcbnZhciBuYW5LZXkgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuZnVuY3Rpb24gTmdNYXBTaGltKCkge1xuICB0aGlzLl9rZXlzID0gW107XG4gIHRoaXMuX3ZhbHVlcyA9IFtdO1xuICB0aGlzLl9sYXN0S2V5ID0gTmFOO1xuICB0aGlzLl9sYXN0SW5kZXggPSAtMTtcbn1cbk5nTWFwU2hpbS5wcm90b3R5cGUgPSB7XG4gIF9pZHg6IGZ1bmN0aW9uKGtleSkge1xuICAgIGlmIChrZXkgPT09IHRoaXMuX2xhc3RLZXkpIHtcbiAgICAgIHJldHVybiB0aGlzLl9sYXN0SW5kZXg7XG4gICAgfVxuICAgIHRoaXMuX2xhc3RLZXkgPSBrZXk7XG4gICAgdGhpcy5fbGFzdEluZGV4ID0gdGhpcy5fa2V5cy5pbmRleE9mKGtleSk7XG4gICAgcmV0dXJuIHRoaXMuX2xhc3RJbmRleDtcbiAgfSxcbiAgX3RyYW5zZm9ybUtleTogZnVuY3Rpb24oa2V5KSB7XG4gICAgcmV0dXJuIGlzTnVtYmVyTmFOKGtleSkgPyBuYW5LZXkgOiBrZXk7XG4gIH0sXG4gIGdldDogZnVuY3Rpb24oa2V5KSB7XG4gICAga2V5ID0gdGhpcy5fdHJhbnNmb3JtS2V5KGtleSk7XG4gICAgdmFyIGlkeCA9IHRoaXMuX2lkeChrZXkpO1xuICAgIGlmIChpZHggIT09IC0xKSB7XG4gICAgICByZXR1cm4gdGhpcy5fdmFsdWVzW2lkeF07XG4gICAgfVxuICB9LFxuICBzZXQ6IGZ1bmN0aW9uKGtleSwgdmFsdWUpIHtcbiAgICBrZXkgPSB0aGlzLl90cmFuc2Zvcm1LZXkoa2V5KTtcbiAgICB2YXIgaWR4ID0gdGhpcy5faWR4KGtleSk7XG4gICAgaWYgKGlkeCA9PT0gLTEpIHtcbiAgICAgIGlkeCA9IHRoaXMuX2xhc3RJbmRleCA9IHRoaXMuX2tleXMubGVuZ3RoO1xuICAgIH1cbiAgICB0aGlzLl9rZXlzW2lkeF0gPSBrZXk7XG4gICAgdGhpcy5fdmFsdWVzW2lkeF0gPSB2YWx1ZTtcblxuICAgIC8vIFN1cHBvcnQ6IElFMTFcbiAgICAvLyBEbyBub3QgYHJldHVybiB0aGlzYCB0byBzaW11bGF0ZSB0aGUgcGFydGlhbCBJRTExIGltcGxlbWVudGF0aW9uXG4gIH0sXG4gIGRlbGV0ZTogZnVuY3Rpb24oa2V5KSB7XG4gICAga2V5ID0gdGhpcy5fdHJhbnNmb3JtS2V5KGtleSk7XG4gICAgdmFyIGlkeCA9IHRoaXMuX2lkeChrZXkpO1xuICAgIGlmIChpZHggPT09IC0xKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIHRoaXMuX2tleXMuc3BsaWNlKGlkeCwgMSk7XG4gICAgdGhpcy5fdmFsdWVzLnNwbGljZShpZHgsIDEpO1xuICAgIHRoaXMuX2xhc3RLZXkgPSBOYU47XG4gICAgdGhpcy5fbGFzdEluZGV4ID0gLTE7XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cbn07XG5cbi8vIEZvciBub3csIGFsd2F5cyB1c2UgYE5nTWFwU2hpbWAsIGV2ZW4gaWYgYHdpbmRvdy5NYXBgIGlzIGF2YWlsYWJsZS4gU29tZSBuYXRpdmUgaW1wbGVtZW50YXRpb25zXG4vLyBhcmUgc3RpbGwgYnVnZ3kgKG9mdGVuIGluIHN1YnRsZSB3YXlzKSBhbmQgY2FuIGNhdXNlIGhhcmQtdG8tZGVidWcgZmFpbHVyZXMuIFdoZW4gbmF0aXZlIGBNYXBgXG4vLyBpbXBsZW1lbnRhdGlvbnMgZ2V0IG1vcmUgc3RhYmxlLCB3ZSBjYW4gcmVjb25zaWRlciBzd2l0Y2hpbmcgdG8gYHdpbmRvdy5NYXBgICh3aGVuIGF2YWlsYWJsZSkuXG52YXIgTmdNYXAgPSBOZ01hcFNoaW07XG5cbnZhciAkJE1hcFByb3ZpZGVyID0gWy8qKiBAdGhpcyAqL2Z1bmN0aW9uKCkge1xuICB0aGlzLiRnZXQgPSBbZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIE5nTWFwO1xuICB9XTtcbn1dO1xuXG4vKipcbiAqIEBuZ2RvYyBmdW5jdGlvblxuICogQG1vZHVsZSBuZ1xuICogQG5hbWUgYW5ndWxhci5pbmplY3RvclxuICogQGtpbmQgZnVuY3Rpb25cbiAqXG4gKiBAZGVzY3JpcHRpb25cbiAqIENyZWF0ZXMgYW4gaW5qZWN0b3Igb2JqZWN0IHRoYXQgY2FuIGJlIHVzZWQgZm9yIHJldHJpZXZpbmcgc2VydmljZXMgYXMgd2VsbCBhcyBmb3JcbiAqIGRlcGVuZGVuY3kgaW5qZWN0aW9uIChzZWUge0BsaW5rIGd1aWRlL2RpIGRlcGVuZGVuY3kgaW5qZWN0aW9ufSkuXG4gKlxuICogQHBhcmFtIHtBcnJheS48c3RyaW5nfEZ1bmN0aW9uPn0gbW9kdWxlcyBBIGxpc3Qgb2YgbW9kdWxlIGZ1bmN0aW9ucyBvciB0aGVpciBhbGlhc2VzLiBTZWVcbiAqICAgICB7QGxpbmsgYW5ndWxhci5tb2R1bGV9LiBUaGUgYG5nYCBtb2R1bGUgbXVzdCBiZSBleHBsaWNpdGx5IGFkZGVkLlxuICogQHBhcmFtIHtib29sZWFuPX0gW3N0cmljdERpPWZhbHNlXSBXaGV0aGVyIHRoZSBpbmplY3RvciBzaG91bGQgYmUgaW4gc3RyaWN0IG1vZGUsIHdoaWNoXG4gKiAgICAgZGlzYWxsb3dzIGFyZ3VtZW50IG5hbWUgYW5ub3RhdGlvbiBpbmZlcmVuY2UuXG4gKiBAcmV0dXJucyB7aW5qZWN0b3J9IEluamVjdG9yIG9iamVjdC4gU2VlIHtAbGluayBhdXRvLiRpbmplY3RvciAkaW5qZWN0b3J9LlxuICpcbiAqIEBleGFtcGxlXG4gKiBUeXBpY2FsIHVzYWdlXG4gKiBgYGBqc1xuICogICAvLyBjcmVhdGUgYW4gaW5qZWN0b3JcbiAqICAgdmFyICRpbmplY3RvciA9IGFuZ3VsYXIuaW5qZWN0b3IoWyduZyddKTtcbiAqXG4gKiAgIC8vIHVzZSB0aGUgaW5qZWN0b3IgdG8ga2ljayBvZmYgeW91ciBhcHBsaWNhdGlvblxuICogICAvLyB1c2UgdGhlIHR5cGUgaW5mZXJlbmNlIHRvIGF1dG8gaW5qZWN0IGFyZ3VtZW50cywgb3IgdXNlIGltcGxpY2l0IGluamVjdGlvblxuICogICAkaW5qZWN0b3IuaW52b2tlKGZ1bmN0aW9uKCRyb290U2NvcGUsICRjb21waWxlLCAkZG9jdW1lbnQpIHtcbiAqICAgICAkY29tcGlsZSgkZG9jdW1lbnQpKCRyb290U2NvcGUpO1xuICogICAgICRyb290U2NvcGUuJGRpZ2VzdCgpO1xuICogICB9KTtcbiAqIGBgYFxuICpcbiAqIFNvbWV0aW1lcyB5b3Ugd2FudCB0byBnZXQgYWNjZXNzIHRvIHRoZSBpbmplY3RvciBvZiBhIGN1cnJlbnRseSBydW5uaW5nIEFuZ3VsYXIgYXBwXG4gKiBmcm9tIG91dHNpZGUgQW5ndWxhci4gUGVyaGFwcywgeW91IHdhbnQgdG8gaW5qZWN0IGFuZCBjb21waWxlIHNvbWUgbWFya3VwIGFmdGVyIHRoZVxuICogYXBwbGljYXRpb24gaGFzIGJlZW4gYm9vdHN0cmFwcGVkLiBZb3UgY2FuIGRvIHRoaXMgdXNpbmcgdGhlIGV4dHJhIGBpbmplY3RvcigpYCBhZGRlZFxuICogdG8gSlF1ZXJ5L2pxTGl0ZSBlbGVtZW50cy4gU2VlIHtAbGluayBhbmd1bGFyLmVsZW1lbnR9LlxuICpcbiAqICpUaGlzIGlzIGZhaXJseSByYXJlIGJ1dCBjb3VsZCBiZSB0aGUgY2FzZSBpZiBhIHRoaXJkIHBhcnR5IGxpYnJhcnkgaXMgaW5qZWN0aW5nIHRoZVxuICogbWFya3VwLipcbiAqXG4gKiBJbiB0aGUgZm9sbG93aW5nIGV4YW1wbGUgYSBuZXcgYmxvY2sgb2YgSFRNTCBjb250YWluaW5nIGEgYG5nLWNvbnRyb2xsZXJgXG4gKiBkaXJlY3RpdmUgaXMgYWRkZWQgdG8gdGhlIGVuZCBvZiB0aGUgZG9jdW1lbnQgYm9keSBieSBKUXVlcnkuIFdlIHRoZW4gY29tcGlsZSBhbmQgbGlua1xuICogaXQgaW50byB0aGUgY3VycmVudCBBbmd1bGFySlMgc2NvcGUuXG4gKlxuICogYGBganNcbiAqIHZhciAkZGl2ID0gJCgnPGRpdiBuZy1jb250cm9sbGVyPVwiTXlDdHJsXCI+e3tjb250ZW50LmxhYmVsfX08L2Rpdj4nKTtcbiAqICQoZG9jdW1lbnQuYm9keSkuYXBwZW5kKCRkaXYpO1xuICpcbiAqIGFuZ3VsYXIuZWxlbWVudChkb2N1bWVudCkuaW5qZWN0b3IoKS5pbnZva2UoZnVuY3Rpb24oJGNvbXBpbGUpIHtcbiAqICAgdmFyIHNjb3BlID0gYW5ndWxhci5lbGVtZW50KCRkaXYpLnNjb3BlKCk7XG4gKiAgICRjb21waWxlKCRkaXYpKHNjb3BlKTtcbiAqIH0pO1xuICogYGBgXG4gKi9cblxuXG4vKipcbiAqIEBuZ2RvYyBtb2R1bGVcbiAqIEBuYW1lIGF1dG9cbiAqIEBpbnN0YWxsYXRpb25cbiAqIEBkZXNjcmlwdGlvblxuICpcbiAqIEltcGxpY2l0IG1vZHVsZSB3aGljaCBnZXRzIGF1dG9tYXRpY2FsbHkgYWRkZWQgdG8gZWFjaCB7QGxpbmsgYXV0by4kaW5qZWN0b3IgJGluamVjdG9yfS5cbiAqL1xuXG52YXIgQVJST1dfQVJHID0gL14oW14oXSs/KT0+LztcbnZhciBGTl9BUkdTID0gL15bXihdKlxcKFxccyooW14pXSopXFwpL207XG52YXIgRk5fQVJHX1NQTElUID0gLywvO1xudmFyIEZOX0FSRyA9IC9eXFxzKihfPykoXFxTKz8pXFwxXFxzKiQvO1xudmFyIFNUUklQX0NPTU1FTlRTID0gLygoXFwvXFwvLiokKXwoXFwvXFwqW1xcc1xcU10qP1xcKlxcLykpL21nO1xudmFyICRpbmplY3Rvck1pbkVyciA9IG1pbkVycignJGluamVjdG9yJyk7XG5cbmZ1bmN0aW9uIHN0cmluZ2lmeUZuKGZuKSB7XG4gIHJldHVybiBGdW5jdGlvbi5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChmbik7XG59XG5cbmZ1bmN0aW9uIGV4dHJhY3RBcmdzKGZuKSB7XG4gIHZhciBmblRleHQgPSBzdHJpbmdpZnlGbihmbikucmVwbGFjZShTVFJJUF9DT01NRU5UUywgJycpLFxuICAgICAgYXJncyA9IGZuVGV4dC5tYXRjaChBUlJPV19BUkcpIHx8IGZuVGV4dC5tYXRjaChGTl9BUkdTKTtcbiAgcmV0dXJuIGFyZ3M7XG59XG5cbmZ1bmN0aW9uIGFub25Gbihmbikge1xuICAvLyBGb3IgYW5vbnltb3VzIGZ1bmN0aW9ucywgc2hvd2luZyBhdCB0aGUgdmVyeSBsZWFzdCB0aGUgZnVuY3Rpb24gc2lnbmF0dXJlIGNhbiBoZWxwIGluXG4gIC8vIGRlYnVnZ2luZy5cbiAgdmFyIGFyZ3MgPSBleHRyYWN0QXJncyhmbik7XG4gIGlmIChhcmdzKSB7XG4gICAgcmV0dXJuICdmdW5jdGlvbignICsgKGFyZ3NbMV0gfHwgJycpLnJlcGxhY2UoL1tcXHNcXHJcXG5dKy8sICcgJykgKyAnKSc7XG4gIH1cbiAgcmV0dXJuICdmbic7XG59XG5cbmZ1bmN0aW9uIGFubm90YXRlKGZuLCBzdHJpY3REaSwgbmFtZSkge1xuICB2YXIgJGluamVjdCxcbiAgICAgIGFyZ0RlY2wsXG4gICAgICBsYXN0O1xuXG4gIGlmICh0eXBlb2YgZm4gPT09ICdmdW5jdGlvbicpIHtcbiAgICBpZiAoISgkaW5qZWN0ID0gZm4uJGluamVjdCkpIHtcbiAgICAgICRpbmplY3QgPSBbXTtcbiAgICAgIGlmIChmbi5sZW5ndGgpIHtcbiAgICAgICAgaWYgKHN0cmljdERpKSB7XG4gICAgICAgICAgaWYgKCFpc1N0cmluZyhuYW1lKSB8fCAhbmFtZSkge1xuICAgICAgICAgICAgbmFtZSA9IGZuLm5hbWUgfHwgYW5vbkZuKGZuKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgdGhyb3cgJGluamVjdG9yTWluRXJyKCdzdHJpY3RkaScsXG4gICAgICAgICAgICAnezB9IGlzIG5vdCB1c2luZyBleHBsaWNpdCBhbm5vdGF0aW9uIGFuZCBjYW5ub3QgYmUgaW52b2tlZCBpbiBzdHJpY3QgbW9kZScsIG5hbWUpO1xuICAgICAgICB9XG4gICAgICAgIGFyZ0RlY2wgPSBleHRyYWN0QXJncyhmbik7XG4gICAgICAgIGZvckVhY2goYXJnRGVjbFsxXS5zcGxpdChGTl9BUkdfU1BMSVQpLCBmdW5jdGlvbihhcmcpIHtcbiAgICAgICAgICBhcmcucmVwbGFjZShGTl9BUkcsIGZ1bmN0aW9uKGFsbCwgdW5kZXJzY29yZSwgbmFtZSkge1xuICAgICAgICAgICAgJGluamVjdC5wdXNoKG5hbWUpO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICAgIGZuLiRpbmplY3QgPSAkaW5qZWN0O1xuICAgIH1cbiAgfSBlbHNlIGlmIChpc0FycmF5KGZuKSkge1xuICAgIGxhc3QgPSBmbi5sZW5ndGggLSAxO1xuICAgIGFzc2VydEFyZ0ZuKGZuW2xhc3RdLCAnZm4nKTtcbiAgICAkaW5qZWN0ID0gZm4uc2xpY2UoMCwgbGFzdCk7XG4gIH0gZWxzZSB7XG4gICAgYXNzZXJ0QXJnRm4oZm4sICdmbicsIHRydWUpO1xuICB9XG4gIHJldHVybiAkaW5qZWN0O1xufVxuXG4vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cblxuLyoqXG4gKiBAbmdkb2Mgc2VydmljZVxuICogQG5hbWUgJGluamVjdG9yXG4gKlxuICogQGRlc2NyaXB0aW9uXG4gKlxuICogYCRpbmplY3RvcmAgaXMgdXNlZCB0byByZXRyaWV2ZSBvYmplY3QgaW5zdGFuY2VzIGFzIGRlZmluZWQgYnlcbiAqIHtAbGluayBhdXRvLiRwcm92aWRlIHByb3ZpZGVyfSwgaW5zdGFudGlhdGUgdHlwZXMsIGludm9rZSBtZXRob2RzLFxuICogYW5kIGxvYWQgbW9kdWxlcy5cbiAqXG4gKiBUaGUgZm9sbG93aW5nIGFsd2F5cyBob2xkcyB0cnVlOlxuICpcbiAqIGBgYGpzXG4gKiAgIHZhciAkaW5qZWN0b3IgPSBhbmd1bGFyLmluamVjdG9yKCk7XG4gKiAgIGV4cGVjdCgkaW5qZWN0b3IuZ2V0KCckaW5qZWN0b3InKSkudG9CZSgkaW5qZWN0b3IpO1xuICogICBleHBlY3QoJGluamVjdG9yLmludm9rZShmdW5jdGlvbigkaW5qZWN0b3IpIHtcbiAqICAgICByZXR1cm4gJGluamVjdG9yO1xuICogICB9KSkudG9CZSgkaW5qZWN0b3IpO1xuICogYGBgXG4gKlxuICogIyBJbmplY3Rpb24gRnVuY3Rpb24gQW5ub3RhdGlvblxuICpcbiAqIEphdmFTY3JpcHQgZG9lcyBub3QgaGF2ZSBhbm5vdGF0aW9ucywgYW5kIGFubm90YXRpb25zIGFyZSBuZWVkZWQgZm9yIGRlcGVuZGVuY3kgaW5qZWN0aW9uLiBUaGVcbiAqIGZvbGxvd2luZyBhcmUgYWxsIHZhbGlkIHdheXMgb2YgYW5ub3RhdGluZyBmdW5jdGlvbiB3aXRoIGluamVjdGlvbiBhcmd1bWVudHMgYW5kIGFyZSBlcXVpdmFsZW50LlxuICpcbiAqIGBgYGpzXG4gKiAgIC8vIGluZmVycmVkIChvbmx5IHdvcmtzIGlmIGNvZGUgbm90IG1pbmlmaWVkL29iZnVzY2F0ZWQpXG4gKiAgICRpbmplY3Rvci5pbnZva2UoZnVuY3Rpb24oc2VydmljZUEpe30pO1xuICpcbiAqICAgLy8gYW5ub3RhdGVkXG4gKiAgIGZ1bmN0aW9uIGV4cGxpY2l0KHNlcnZpY2VBKSB7fTtcbiAqICAgZXhwbGljaXQuJGluamVjdCA9IFsnc2VydmljZUEnXTtcbiAqICAgJGluamVjdG9yLmludm9rZShleHBsaWNpdCk7XG4gKlxuICogICAvLyBpbmxpbmVcbiAqICAgJGluamVjdG9yLmludm9rZShbJ3NlcnZpY2VBJywgZnVuY3Rpb24oc2VydmljZUEpe31dKTtcbiAqIGBgYFxuICpcbiAqICMjIEluZmVyZW5jZVxuICpcbiAqIEluIEphdmFTY3JpcHQgY2FsbGluZyBgdG9TdHJpbmcoKWAgb24gYSBmdW5jdGlvbiByZXR1cm5zIHRoZSBmdW5jdGlvbiBkZWZpbml0aW9uLiBUaGUgZGVmaW5pdGlvblxuICogY2FuIHRoZW4gYmUgcGFyc2VkIGFuZCB0aGUgZnVuY3Rpb24gYXJndW1lbnRzIGNhbiBiZSBleHRyYWN0ZWQuIFRoaXMgbWV0aG9kIG9mIGRpc2NvdmVyaW5nXG4gKiBhbm5vdGF0aW9ucyBpcyBkaXNhbGxvd2VkIHdoZW4gdGhlIGluamVjdG9yIGlzIGluIHN0cmljdCBtb2RlLlxuICogKk5PVEU6KiBUaGlzIGRvZXMgbm90IHdvcmsgd2l0aCBtaW5pZmljYXRpb24sIGFuZCBvYmZ1c2NhdGlvbiB0b29scyBzaW5jZSB0aGVzZSB0b29scyBjaGFuZ2UgdGhlXG4gKiBhcmd1bWVudCBuYW1lcy5cbiAqXG4gKiAjIyBgJGluamVjdGAgQW5ub3RhdGlvblxuICogQnkgYWRkaW5nIGFuIGAkaW5qZWN0YCBwcm9wZXJ0eSBvbnRvIGEgZnVuY3Rpb24gdGhlIGluamVjdGlvbiBwYXJhbWV0ZXJzIGNhbiBiZSBzcGVjaWZpZWQuXG4gKlxuICogIyMgSW5saW5lXG4gKiBBcyBhbiBhcnJheSBvZiBpbmplY3Rpb24gbmFtZXMsIHdoZXJlIHRoZSBsYXN0IGl0ZW0gaW4gdGhlIGFycmF5IGlzIHRoZSBmdW5jdGlvbiB0byBjYWxsLlxuICovXG5cbi8qKlxuICogQG5nZG9jIHByb3BlcnR5XG4gKiBAbmFtZSAkaW5qZWN0b3IjbW9kdWxlc1xuICogQHR5cGUge09iamVjdH1cbiAqIEBkZXNjcmlwdGlvblxuICogQSBoYXNoIGNvbnRhaW5pbmcgYWxsIHRoZSBtb2R1bGVzIHRoYXQgaGF2ZSBiZWVuIGxvYWRlZCBpbnRvIHRoZVxuICogJGluamVjdG9yLlxuICpcbiAqIFlvdSBjYW4gdXNlIHRoaXMgcHJvcGVydHkgdG8gZmluZCBvdXQgaW5mb3JtYXRpb24gYWJvdXQgYSBtb2R1bGUgdmlhIHRoZVxuICoge0BsaW5rIGFuZ3VsYXIuTW9kdWxlI2luZm8gYG15TW9kdWxlLmluZm8oLi4uKWB9IG1ldGhvZC5cbiAqXG4gKiBGb3IgZXhhbXBsZTpcbiAqXG4gKiBgYGBcbiAqIHZhciBpbmZvID0gJGluamVjdG9yLm1vZHVsZXNbJ25nQW5pbWF0ZSddLmluZm8oKTtcbiAqIGBgYFxuICpcbiAqICoqRG8gbm90IHVzZSB0aGlzIHByb3BlcnR5IHRvIGF0dGVtcHQgdG8gbW9kaWZ5IHRoZSBtb2R1bGVzIGFmdGVyIHRoZSBhcHBsaWNhdGlvblxuICogaGFzIGJlZW4gYm9vdHN0cmFwcGVkLioqXG4gKi9cblxuXG4vKipcbiAqIEBuZ2RvYyBtZXRob2RcbiAqIEBuYW1lICRpbmplY3RvciNnZXRcbiAqXG4gKiBAZGVzY3JpcHRpb25cbiAqIFJldHVybiBhbiBpbnN0YW5jZSBvZiB0aGUgc2VydmljZS5cbiAqXG4gKiBAcGFyYW0ge3N0cmluZ30gbmFtZSBUaGUgbmFtZSBvZiB0aGUgaW5zdGFuY2UgdG8gcmV0cmlldmUuXG4gKiBAcGFyYW0ge3N0cmluZz19IGNhbGxlciBBbiBvcHRpb25hbCBzdHJpbmcgdG8gcHJvdmlkZSB0aGUgb3JpZ2luIG9mIHRoZSBmdW5jdGlvbiBjYWxsIGZvciBlcnJvciBtZXNzYWdlcy5cbiAqIEByZXR1cm4geyp9IFRoZSBpbnN0YW5jZS5cbiAqL1xuXG4vKipcbiAqIEBuZ2RvYyBtZXRob2RcbiAqIEBuYW1lICRpbmplY3RvciNpbnZva2VcbiAqXG4gKiBAZGVzY3JpcHRpb25cbiAqIEludm9rZSB0aGUgbWV0aG9kIGFuZCBzdXBwbHkgdGhlIG1ldGhvZCBhcmd1bWVudHMgZnJvbSB0aGUgYCRpbmplY3RvcmAuXG4gKlxuICogQHBhcmFtIHtGdW5jdGlvbnxBcnJheS48c3RyaW5nfEZ1bmN0aW9uPn0gZm4gVGhlIGluamVjdGFibGUgZnVuY3Rpb24gdG8gaW52b2tlLiBGdW5jdGlvbiBwYXJhbWV0ZXJzIGFyZVxuICogICBpbmplY3RlZCBhY2NvcmRpbmcgdG8gdGhlIHtAbGluayBndWlkZS9kaSAkaW5qZWN0IEFubm90YXRpb259IHJ1bGVzLlxuICogQHBhcmFtIHtPYmplY3Q9fSBzZWxmIFRoZSBgdGhpc2AgZm9yIHRoZSBpbnZva2VkIG1ldGhvZC5cbiAqIEBwYXJhbSB7T2JqZWN0PX0gbG9jYWxzIE9wdGlvbmFsIG9iamVjdC4gSWYgcHJlc2V0IHRoZW4gYW55IGFyZ3VtZW50IG5hbWVzIGFyZSByZWFkIGZyb20gdGhpc1xuICogICAgICAgICAgICAgICAgICAgICAgICAgb2JqZWN0IGZpcnN0LCBiZWZvcmUgdGhlIGAkaW5qZWN0b3JgIGlzIGNvbnN1bHRlZC5cbiAqIEByZXR1cm5zIHsqfSB0aGUgdmFsdWUgcmV0dXJuZWQgYnkgdGhlIGludm9rZWQgYGZuYCBmdW5jdGlvbi5cbiAqL1xuXG4vKipcbiAqIEBuZ2RvYyBtZXRob2RcbiAqIEBuYW1lICRpbmplY3RvciNoYXNcbiAqXG4gKiBAZGVzY3JpcHRpb25cbiAqIEFsbG93cyB0aGUgdXNlciB0byBxdWVyeSBpZiB0aGUgcGFydGljdWxhciBzZXJ2aWNlIGV4aXN0cy5cbiAqXG4gKiBAcGFyYW0ge3N0cmluZ30gbmFtZSBOYW1lIG9mIHRoZSBzZXJ2aWNlIHRvIHF1ZXJ5LlxuICogQHJldHVybnMge2Jvb2xlYW59IGB0cnVlYCBpZiBpbmplY3RvciBoYXMgZ2l2ZW4gc2VydmljZS5cbiAqL1xuXG4vKipcbiAqIEBuZ2RvYyBtZXRob2RcbiAqIEBuYW1lICRpbmplY3RvciNpbnN0YW50aWF0ZVxuICogQGRlc2NyaXB0aW9uXG4gKiBDcmVhdGUgYSBuZXcgaW5zdGFuY2Ugb2YgSlMgdHlwZS4gVGhlIG1ldGhvZCB0YWtlcyBhIGNvbnN0cnVjdG9yIGZ1bmN0aW9uLCBpbnZva2VzIHRoZSBuZXdcbiAqIG9wZXJhdG9yLCBhbmQgc3VwcGxpZXMgYWxsIG9mIHRoZSBhcmd1bWVudHMgdG8gdGhlIGNvbnN0cnVjdG9yIGZ1bmN0aW9uIGFzIHNwZWNpZmllZCBieSB0aGVcbiAqIGNvbnN0cnVjdG9yIGFubm90YXRpb24uXG4gKlxuICogQHBhcmFtIHtGdW5jdGlvbn0gVHlwZSBBbm5vdGF0ZWQgY29uc3RydWN0b3IgZnVuY3Rpb24uXG4gKiBAcGFyYW0ge09iamVjdD19IGxvY2FscyBPcHRpb25hbCBvYmplY3QuIElmIHByZXNldCB0aGVuIGFueSBhcmd1bWVudCBuYW1lcyBhcmUgcmVhZCBmcm9tIHRoaXNcbiAqIG9iamVjdCBmaXJzdCwgYmVmb3JlIHRoZSBgJGluamVjdG9yYCBpcyBjb25zdWx0ZWQuXG4gKiBAcmV0dXJucyB7T2JqZWN0fSBuZXcgaW5zdGFuY2Ugb2YgYFR5cGVgLlxuICovXG5cbi8qKlxuICogQG5nZG9jIG1ldGhvZFxuICogQG5hbWUgJGluamVjdG9yI2Fubm90YXRlXG4gKlxuICogQGRlc2NyaXB0aW9uXG4gKiBSZXR1cm5zIGFuIGFycmF5IG9mIHNlcnZpY2UgbmFtZXMgd2hpY2ggdGhlIGZ1bmN0aW9uIGlzIHJlcXVlc3RpbmcgZm9yIGluamVjdGlvbi4gVGhpcyBBUEkgaXNcbiAqIHVzZWQgYnkgdGhlIGluamVjdG9yIHRvIGRldGVybWluZSB3aGljaCBzZXJ2aWNlcyBuZWVkIHRvIGJlIGluamVjdGVkIGludG8gdGhlIGZ1bmN0aW9uIHdoZW4gdGhlXG4gKiBmdW5jdGlvbiBpcyBpbnZva2VkLiBUaGVyZSBhcmUgdGhyZWUgd2F5cyBpbiB3aGljaCB0aGUgZnVuY3Rpb24gY2FuIGJlIGFubm90YXRlZCB3aXRoIHRoZSBuZWVkZWRcbiAqIGRlcGVuZGVuY2llcy5cbiAqXG4gKiAjIEFyZ3VtZW50IG5hbWVzXG4gKlxuICogVGhlIHNpbXBsZXN0IGZvcm0gaXMgdG8gZXh0cmFjdCB0aGUgZGVwZW5kZW5jaWVzIGZyb20gdGhlIGFyZ3VtZW50cyBvZiB0aGUgZnVuY3Rpb24uIFRoaXMgaXMgZG9uZVxuICogYnkgY29udmVydGluZyB0aGUgZnVuY3Rpb24gaW50byBhIHN0cmluZyB1c2luZyBgdG9TdHJpbmcoKWAgbWV0aG9kIGFuZCBleHRyYWN0aW5nIHRoZSBhcmd1bWVudFxuICogbmFtZXMuXG4gKiBgYGBqc1xuICogICAvLyBHaXZlblxuICogICBmdW5jdGlvbiBNeUNvbnRyb2xsZXIoJHNjb3BlLCAkcm91dGUpIHtcbiAqICAgICAvLyAuLi5cbiAqICAgfVxuICpcbiAqICAgLy8gVGhlblxuICogICBleHBlY3QoaW5qZWN0b3IuYW5ub3RhdGUoTXlDb250cm9sbGVyKSkudG9FcXVhbChbJyRzY29wZScsICckcm91dGUnXSk7XG4gKiBgYGBcbiAqXG4gKiBZb3UgY2FuIGRpc2FsbG93IHRoaXMgbWV0aG9kIGJ5IHVzaW5nIHN0cmljdCBpbmplY3Rpb24gbW9kZS5cbiAqXG4gKiBUaGlzIG1ldGhvZCBkb2VzIG5vdCB3b3JrIHdpdGggY29kZSBtaW5pZmljYXRpb24gLyBvYmZ1c2NhdGlvbi4gRm9yIHRoaXMgcmVhc29uIHRoZSBmb2xsb3dpbmdcbiAqIGFubm90YXRpb24gc3RyYXRlZ2llcyBhcmUgc3VwcG9ydGVkLlxuICpcbiAqICMgVGhlIGAkaW5qZWN0YCBwcm9wZXJ0eVxuICpcbiAqIElmIGEgZnVuY3Rpb24gaGFzIGFuIGAkaW5qZWN0YCBwcm9wZXJ0eSBhbmQgaXRzIHZhbHVlIGlzIGFuIGFycmF5IG9mIHN0cmluZ3MsIHRoZW4gdGhlIHN0cmluZ3NcbiAqIHJlcHJlc2VudCBuYW1lcyBvZiBzZXJ2aWNlcyB0byBiZSBpbmplY3RlZCBpbnRvIHRoZSBmdW5jdGlvbi5cbiAqIGBgYGpzXG4gKiAgIC8vIEdpdmVuXG4gKiAgIHZhciBNeUNvbnRyb2xsZXIgPSBmdW5jdGlvbihvYmZ1c2NhdGVkU2NvcGUsIG9iZnVzY2F0ZWRSb3V0ZSkge1xuICogICAgIC8vIC4uLlxuICogICB9XG4gKiAgIC8vIERlZmluZSBmdW5jdGlvbiBkZXBlbmRlbmNpZXNcbiAqICAgTXlDb250cm9sbGVyWyckaW5qZWN0J10gPSBbJyRzY29wZScsICckcm91dGUnXTtcbiAqXG4gKiAgIC8vIFRoZW5cbiAqICAgZXhwZWN0KGluamVjdG9yLmFubm90YXRlKE15Q29udHJvbGxlcikpLnRvRXF1YWwoWyckc2NvcGUnLCAnJHJvdXRlJ10pO1xuICogYGBgXG4gKlxuICogIyBUaGUgYXJyYXkgbm90YXRpb25cbiAqXG4gKiBJdCBpcyBvZnRlbiBkZXNpcmFibGUgdG8gaW5saW5lIEluamVjdGVkIGZ1bmN0aW9ucyBhbmQgdGhhdCdzIHdoZW4gc2V0dGluZyB0aGUgYCRpbmplY3RgIHByb3BlcnR5XG4gKiBpcyB2ZXJ5IGluY29udmVuaWVudC4gSW4gdGhlc2Ugc2l0dWF0aW9ucyB1c2luZyB0aGUgYXJyYXkgbm90YXRpb24gdG8gc3BlY2lmeSB0aGUgZGVwZW5kZW5jaWVzIGluXG4gKiBhIHdheSB0aGF0IHN1cnZpdmVzIG1pbmlmaWNhdGlvbiBpcyBhIGJldHRlciBjaG9pY2U6XG4gKlxuICogYGBganNcbiAqICAgLy8gV2Ugd2lzaCB0byB3cml0ZSB0aGlzIChub3QgbWluaWZpY2F0aW9uIC8gb2JmdXNjYXRpb24gc2FmZSlcbiAqICAgaW5qZWN0b3IuaW52b2tlKGZ1bmN0aW9uKCRjb21waWxlLCAkcm9vdFNjb3BlKSB7XG4gKiAgICAgLy8gLi4uXG4gKiAgIH0pO1xuICpcbiAqICAgLy8gV2UgYXJlIGZvcmNlZCB0byB3cml0ZSBicmVhayBpbmxpbmluZ1xuICogICB2YXIgdG1wRm4gPSBmdW5jdGlvbihvYmZ1c2NhdGVkQ29tcGlsZSwgb2JmdXNjYXRlZFJvb3RTY29wZSkge1xuICogICAgIC8vIC4uLlxuICogICB9O1xuICogICB0bXBGbi4kaW5qZWN0ID0gWyckY29tcGlsZScsICckcm9vdFNjb3BlJ107XG4gKiAgIGluamVjdG9yLmludm9rZSh0bXBGbik7XG4gKlxuICogICAvLyBUbyBiZXR0ZXIgc3VwcG9ydCBpbmxpbmUgZnVuY3Rpb24gdGhlIGlubGluZSBhbm5vdGF0aW9uIGlzIHN1cHBvcnRlZFxuICogICBpbmplY3Rvci5pbnZva2UoWyckY29tcGlsZScsICckcm9vdFNjb3BlJywgZnVuY3Rpb24ob2JmQ29tcGlsZSwgb2JmUm9vdFNjb3BlKSB7XG4gKiAgICAgLy8gLi4uXG4gKiAgIH1dKTtcbiAqXG4gKiAgIC8vIFRoZXJlZm9yZVxuICogICBleHBlY3QoaW5qZWN0b3IuYW5ub3RhdGUoXG4gKiAgICAgIFsnJGNvbXBpbGUnLCAnJHJvb3RTY29wZScsIGZ1bmN0aW9uKG9iZnVzXyRjb21waWxlLCBvYmZ1c18kcm9vdFNjb3BlKSB7fV0pXG4gKiAgICApLnRvRXF1YWwoWyckY29tcGlsZScsICckcm9vdFNjb3BlJ10pO1xuICogYGBgXG4gKlxuICogQHBhcmFtIHtGdW5jdGlvbnxBcnJheS48c3RyaW5nfEZ1bmN0aW9uPn0gZm4gRnVuY3Rpb24gZm9yIHdoaWNoIGRlcGVuZGVudCBzZXJ2aWNlIG5hbWVzIG5lZWQgdG9cbiAqIGJlIHJldHJpZXZlZCBhcyBkZXNjcmliZWQgYWJvdmUuXG4gKlxuICogQHBhcmFtIHtib29sZWFuPX0gW3N0cmljdERpPWZhbHNlXSBEaXNhbGxvdyBhcmd1bWVudCBuYW1lIGFubm90YXRpb24gaW5mZXJlbmNlLlxuICpcbiAqIEByZXR1cm5zIHtBcnJheS48c3RyaW5nPn0gVGhlIG5hbWVzIG9mIHRoZSBzZXJ2aWNlcyB3aGljaCB0aGUgZnVuY3Rpb24gcmVxdWlyZXMuXG4gKi9cblxuXG5cbi8qKlxuICogQG5nZG9jIHNlcnZpY2VcbiAqIEBuYW1lICRwcm92aWRlXG4gKlxuICogQGRlc2NyaXB0aW9uXG4gKlxuICogVGhlIHtAbGluayBhdXRvLiRwcm92aWRlICRwcm92aWRlfSBzZXJ2aWNlIGhhcyBhIG51bWJlciBvZiBtZXRob2RzIGZvciByZWdpc3RlcmluZyBjb21wb25lbnRzXG4gKiB3aXRoIHRoZSB7QGxpbmsgYXV0by4kaW5qZWN0b3IgJGluamVjdG9yfS4gTWFueSBvZiB0aGVzZSBmdW5jdGlvbnMgYXJlIGFsc28gZXhwb3NlZCBvblxuICoge0BsaW5rIGFuZ3VsYXIuTW9kdWxlfS5cbiAqXG4gKiBBbiBBbmd1bGFyICoqc2VydmljZSoqIGlzIGEgc2luZ2xldG9uIG9iamVjdCBjcmVhdGVkIGJ5IGEgKipzZXJ2aWNlIGZhY3RvcnkqKi4gIFRoZXNlICoqc2VydmljZVxuICogZmFjdG9yaWVzKiogYXJlIGZ1bmN0aW9ucyB3aGljaCwgaW4gdHVybiwgYXJlIGNyZWF0ZWQgYnkgYSAqKnNlcnZpY2UgcHJvdmlkZXIqKi5cbiAqIFRoZSAqKnNlcnZpY2UgcHJvdmlkZXJzKiogYXJlIGNvbnN0cnVjdG9yIGZ1bmN0aW9ucy4gV2hlbiBpbnN0YW50aWF0ZWQgdGhleSBtdXN0IGNvbnRhaW4gYVxuICogcHJvcGVydHkgY2FsbGVkIGAkZ2V0YCwgd2hpY2ggaG9sZHMgdGhlICoqc2VydmljZSBmYWN0b3J5KiogZnVuY3Rpb24uXG4gKlxuICogV2hlbiB5b3UgcmVxdWVzdCBhIHNlcnZpY2UsIHRoZSB7QGxpbmsgYXV0by4kaW5qZWN0b3IgJGluamVjdG9yfSBpcyByZXNwb25zaWJsZSBmb3IgZmluZGluZyB0aGVcbiAqIGNvcnJlY3QgKipzZXJ2aWNlIHByb3ZpZGVyKiosIGluc3RhbnRpYXRpbmcgaXQgYW5kIHRoZW4gY2FsbGluZyBpdHMgYCRnZXRgICoqc2VydmljZSBmYWN0b3J5KipcbiAqIGZ1bmN0aW9uIHRvIGdldCB0aGUgaW5zdGFuY2Ugb2YgdGhlICoqc2VydmljZSoqLlxuICpcbiAqIE9mdGVuIHNlcnZpY2VzIGhhdmUgbm8gY29uZmlndXJhdGlvbiBvcHRpb25zIGFuZCB0aGVyZSBpcyBubyBuZWVkIHRvIGFkZCBtZXRob2RzIHRvIHRoZSBzZXJ2aWNlXG4gKiBwcm92aWRlci4gIFRoZSBwcm92aWRlciB3aWxsIGJlIG5vIG1vcmUgdGhhbiBhIGNvbnN0cnVjdG9yIGZ1bmN0aW9uIHdpdGggYSBgJGdldGAgcHJvcGVydHkuIEZvclxuICogdGhlc2UgY2FzZXMgdGhlIHtAbGluayBhdXRvLiRwcm92aWRlICRwcm92aWRlfSBzZXJ2aWNlIGhhcyBhZGRpdGlvbmFsIGhlbHBlciBtZXRob2RzIHRvIHJlZ2lzdGVyXG4gKiBzZXJ2aWNlcyB3aXRob3V0IHNwZWNpZnlpbmcgYSBwcm92aWRlci5cbiAqXG4gKiAqIHtAbGluayBhdXRvLiRwcm92aWRlI3Byb3ZpZGVyIHByb3ZpZGVyKG5hbWUsIHByb3ZpZGVyKX0gLSByZWdpc3RlcnMgYSAqKnNlcnZpY2UgcHJvdmlkZXIqKiB3aXRoIHRoZVxuICogICAgIHtAbGluayBhdXRvLiRpbmplY3RvciAkaW5qZWN0b3J9XG4gKiAqIHtAbGluayBhdXRvLiRwcm92aWRlI2NvbnN0YW50IGNvbnN0YW50KG5hbWUsIG9iail9IC0gcmVnaXN0ZXJzIGEgdmFsdWUvb2JqZWN0IHRoYXQgY2FuIGJlIGFjY2Vzc2VkIGJ5XG4gKiAgICAgcHJvdmlkZXJzIGFuZCBzZXJ2aWNlcy5cbiAqICoge0BsaW5rIGF1dG8uJHByb3ZpZGUjdmFsdWUgdmFsdWUobmFtZSwgb2JqKX0gLSByZWdpc3RlcnMgYSB2YWx1ZS9vYmplY3QgdGhhdCBjYW4gb25seSBiZSBhY2Nlc3NlZCBieVxuICogICAgIHNlcnZpY2VzLCBub3QgcHJvdmlkZXJzLlxuICogKiB7QGxpbmsgYXV0by4kcHJvdmlkZSNmYWN0b3J5IGZhY3RvcnkobmFtZSwgZm4pfSAtIHJlZ2lzdGVycyBhIHNlcnZpY2UgKipmYWN0b3J5IGZ1bmN0aW9uKipcbiAqICAgICB0aGF0IHdpbGwgYmUgd3JhcHBlZCBpbiBhICoqc2VydmljZSBwcm92aWRlcioqIG9iamVjdCwgd2hvc2UgYCRnZXRgIHByb3BlcnR5IHdpbGwgY29udGFpbiB0aGVcbiAqICAgICBnaXZlbiBmYWN0b3J5IGZ1bmN0aW9uLlxuICogKiB7QGxpbmsgYXV0by4kcHJvdmlkZSNzZXJ2aWNlIHNlcnZpY2UobmFtZSwgRm4pfSAtIHJlZ2lzdGVycyBhICoqY29uc3RydWN0b3IgZnVuY3Rpb24qKlxuICogICAgIHRoYXQgd2lsbCBiZSB3cmFwcGVkIGluIGEgKipzZXJ2aWNlIHByb3ZpZGVyKiogb2JqZWN0LCB3aG9zZSBgJGdldGAgcHJvcGVydHkgd2lsbCBpbnN0YW50aWF0ZVxuICogICAgICBhIG5ldyBvYmplY3QgdXNpbmcgdGhlIGdpdmVuIGNvbnN0cnVjdG9yIGZ1bmN0aW9uLlxuICogKiB7QGxpbmsgYXV0by4kcHJvdmlkZSNkZWNvcmF0b3IgZGVjb3JhdG9yKG5hbWUsIGRlY29yRm4pfSAtIHJlZ2lzdGVycyBhICoqZGVjb3JhdG9yIGZ1bmN0aW9uKiogdGhhdFxuICogICAgICB3aWxsIGJlIGFibGUgdG8gbW9kaWZ5IG9yIHJlcGxhY2UgdGhlIGltcGxlbWVudGF0aW9uIG9mIGFub3RoZXIgc2VydmljZS5cbiAqXG4gKiBTZWUgdGhlIGluZGl2aWR1YWwgbWV0aG9kcyBmb3IgbW9yZSBpbmZvcm1hdGlvbiBhbmQgZXhhbXBsZXMuXG4gKi9cblxuLyoqXG4gKiBAbmdkb2MgbWV0aG9kXG4gKiBAbmFtZSAkcHJvdmlkZSNwcm92aWRlclxuICogQGRlc2NyaXB0aW9uXG4gKlxuICogUmVnaXN0ZXIgYSAqKnByb3ZpZGVyIGZ1bmN0aW9uKiogd2l0aCB0aGUge0BsaW5rIGF1dG8uJGluamVjdG9yICRpbmplY3Rvcn0uIFByb3ZpZGVyIGZ1bmN0aW9uc1xuICogYXJlIGNvbnN0cnVjdG9yIGZ1bmN0aW9ucywgd2hvc2UgaW5zdGFuY2VzIGFyZSByZXNwb25zaWJsZSBmb3IgXCJwcm92aWRpbmdcIiBhIGZhY3RvcnkgZm9yIGFcbiAqIHNlcnZpY2UuXG4gKlxuICogU2VydmljZSBwcm92aWRlciBuYW1lcyBzdGFydCB3aXRoIHRoZSBuYW1lIG9mIHRoZSBzZXJ2aWNlIHRoZXkgcHJvdmlkZSBmb2xsb3dlZCBieSBgUHJvdmlkZXJgLlxuICogRm9yIGV4YW1wbGUsIHRoZSB7QGxpbmsgbmcuJGxvZyAkbG9nfSBzZXJ2aWNlIGhhcyBhIHByb3ZpZGVyIGNhbGxlZFxuICoge0BsaW5rIG5nLiRsb2dQcm92aWRlciAkbG9nUHJvdmlkZXJ9LlxuICpcbiAqIFNlcnZpY2UgcHJvdmlkZXIgb2JqZWN0cyBjYW4gaGF2ZSBhZGRpdGlvbmFsIG1ldGhvZHMgd2hpY2ggYWxsb3cgY29uZmlndXJhdGlvbiBvZiB0aGUgcHJvdmlkZXJcbiAqIGFuZCBpdHMgc2VydmljZS4gSW1wb3J0YW50bHksIHlvdSBjYW4gY29uZmlndXJlIHdoYXQga2luZCBvZiBzZXJ2aWNlIGlzIGNyZWF0ZWQgYnkgdGhlIGAkZ2V0YFxuICogbWV0aG9kLCBvciBob3cgdGhhdCBzZXJ2aWNlIHdpbGwgYWN0LiBGb3IgZXhhbXBsZSwgdGhlIHtAbGluayBuZy4kbG9nUHJvdmlkZXIgJGxvZ1Byb3ZpZGVyfSBoYXMgYVxuICogbWV0aG9kIHtAbGluayBuZy4kbG9nUHJvdmlkZXIjZGVidWdFbmFibGVkIGRlYnVnRW5hYmxlZH1cbiAqIHdoaWNoIGxldHMgeW91IHNwZWNpZnkgd2hldGhlciB0aGUge0BsaW5rIG5nLiRsb2cgJGxvZ30gc2VydmljZSB3aWxsIGxvZyBkZWJ1ZyBtZXNzYWdlcyB0byB0aGVcbiAqIGNvbnNvbGUgb3Igbm90LlxuICpcbiAqIEBwYXJhbSB7c3RyaW5nfSBuYW1lIFRoZSBuYW1lIG9mIHRoZSBpbnN0YW5jZS4gTk9URTogdGhlIHByb3ZpZGVyIHdpbGwgYmUgYXZhaWxhYmxlIHVuZGVyIGBuYW1lICtcbiAgICAgICAgICAgICAgICAgICAgICAgICdQcm92aWRlcidgIGtleS5cbiAqIEBwYXJhbSB7KE9iamVjdHxmdW5jdGlvbigpKX0gcHJvdmlkZXIgSWYgdGhlIHByb3ZpZGVyIGlzOlxuICpcbiAqICAgLSBgT2JqZWN0YDogdGhlbiBpdCBzaG91bGQgaGF2ZSBhIGAkZ2V0YCBtZXRob2QuIFRoZSBgJGdldGAgbWV0aG9kIHdpbGwgYmUgaW52b2tlZCB1c2luZ1xuICogICAgIHtAbGluayBhdXRvLiRpbmplY3RvciNpbnZva2UgJGluamVjdG9yLmludm9rZSgpfSB3aGVuIGFuIGluc3RhbmNlIG5lZWRzIHRvIGJlIGNyZWF0ZWQuXG4gKiAgIC0gYENvbnN0cnVjdG9yYDogYSBuZXcgaW5zdGFuY2Ugb2YgdGhlIHByb3ZpZGVyIHdpbGwgYmUgY3JlYXRlZCB1c2luZ1xuICogICAgIHtAbGluayBhdXRvLiRpbmplY3RvciNpbnN0YW50aWF0ZSAkaW5qZWN0b3IuaW5zdGFudGlhdGUoKX0sIHRoZW4gdHJlYXRlZCBhcyBgb2JqZWN0YC5cbiAqXG4gKiBAcmV0dXJucyB7T2JqZWN0fSByZWdpc3RlcmVkIHByb3ZpZGVyIGluc3RhbmNlXG5cbiAqIEBleGFtcGxlXG4gKlxuICogVGhlIGZvbGxvd2luZyBleGFtcGxlIHNob3dzIGhvdyB0byBjcmVhdGUgYSBzaW1wbGUgZXZlbnQgdHJhY2tpbmcgc2VydmljZSBhbmQgcmVnaXN0ZXIgaXQgdXNpbmdcbiAqIHtAbGluayBhdXRvLiRwcm92aWRlI3Byb3ZpZGVyICRwcm92aWRlLnByb3ZpZGVyKCl9LlxuICpcbiAqIGBgYGpzXG4gKiAgLy8gRGVmaW5lIHRoZSBldmVudFRyYWNrZXIgcHJvdmlkZXJcbiAqICBmdW5jdGlvbiBFdmVudFRyYWNrZXJQcm92aWRlcigpIHtcbiAqICAgIHZhciB0cmFja2luZ1VybCA9ICcvdHJhY2snO1xuICpcbiAqICAgIC8vIEEgcHJvdmlkZXIgbWV0aG9kIGZvciBjb25maWd1cmluZyB3aGVyZSB0aGUgdHJhY2tlZCBldmVudHMgc2hvdWxkIGJlZW4gc2F2ZWRcbiAqICAgIHRoaXMuc2V0VHJhY2tpbmdVcmwgPSBmdW5jdGlvbih1cmwpIHtcbiAqICAgICAgdHJhY2tpbmdVcmwgPSB1cmw7XG4gKiAgICB9O1xuICpcbiAqICAgIC8vIFRoZSBzZXJ2aWNlIGZhY3RvcnkgZnVuY3Rpb25cbiAqICAgIHRoaXMuJGdldCA9IFsnJGh0dHAnLCBmdW5jdGlvbigkaHR0cCkge1xuICogICAgICB2YXIgdHJhY2tlZEV2ZW50cyA9IHt9O1xuICogICAgICByZXR1cm4ge1xuICogICAgICAgIC8vIENhbGwgdGhpcyB0byB0cmFjayBhbiBldmVudFxuICogICAgICAgIGV2ZW50OiBmdW5jdGlvbihldmVudCkge1xuICogICAgICAgICAgdmFyIGNvdW50ID0gdHJhY2tlZEV2ZW50c1tldmVudF0gfHwgMDtcbiAqICAgICAgICAgIGNvdW50ICs9IDE7XG4gKiAgICAgICAgICB0cmFja2VkRXZlbnRzW2V2ZW50XSA9IGNvdW50O1xuICogICAgICAgICAgcmV0dXJuIGNvdW50O1xuICogICAgICAgIH0sXG4gKiAgICAgICAgLy8gQ2FsbCB0aGlzIHRvIHNhdmUgdGhlIHRyYWNrZWQgZXZlbnRzIHRvIHRoZSB0cmFja2luZ1VybFxuICogICAgICAgIHNhdmU6IGZ1bmN0aW9uKCkge1xuICogICAgICAgICAgJGh0dHAucG9zdCh0cmFja2luZ1VybCwgdHJhY2tlZEV2ZW50cyk7XG4gKiAgICAgICAgfVxuICogICAgICB9O1xuICogICAgfV07XG4gKiAgfVxuICpcbiAqICBkZXNjcmliZSgnZXZlbnRUcmFja2VyJywgZnVuY3Rpb24oKSB7XG4gKiAgICB2YXIgcG9zdFNweTtcbiAqXG4gKiAgICBiZWZvcmVFYWNoKG1vZHVsZShmdW5jdGlvbigkcHJvdmlkZSkge1xuICogICAgICAvLyBSZWdpc3RlciB0aGUgZXZlbnRUcmFja2VyIHByb3ZpZGVyXG4gKiAgICAgICRwcm92aWRlLnByb3ZpZGVyKCdldmVudFRyYWNrZXInLCBFdmVudFRyYWNrZXJQcm92aWRlcik7XG4gKiAgICB9KSk7XG4gKlxuICogICAgYmVmb3JlRWFjaChtb2R1bGUoZnVuY3Rpb24oZXZlbnRUcmFja2VyUHJvdmlkZXIpIHtcbiAqICAgICAgLy8gQ29uZmlndXJlIGV2ZW50VHJhY2tlciBwcm92aWRlclxuICogICAgICBldmVudFRyYWNrZXJQcm92aWRlci5zZXRUcmFja2luZ1VybCgnL2N1c3RvbS10cmFjaycpO1xuICogICAgfSkpO1xuICpcbiAqICAgIGl0KCd0cmFja3MgZXZlbnRzJywgaW5qZWN0KGZ1bmN0aW9uKGV2ZW50VHJhY2tlcikge1xuICogICAgICBleHBlY3QoZXZlbnRUcmFja2VyLmV2ZW50KCdsb2dpbicpKS50b0VxdWFsKDEpO1xuICogICAgICBleHBlY3QoZXZlbnRUcmFja2VyLmV2ZW50KCdsb2dpbicpKS50b0VxdWFsKDIpO1xuICogICAgfSkpO1xuICpcbiAqICAgIGl0KCdzYXZlcyB0byB0aGUgdHJhY2tpbmcgdXJsJywgaW5qZWN0KGZ1bmN0aW9uKGV2ZW50VHJhY2tlciwgJGh0dHApIHtcbiAqICAgICAgcG9zdFNweSA9IHNweU9uKCRodHRwLCAncG9zdCcpO1xuICogICAgICBldmVudFRyYWNrZXIuZXZlbnQoJ2xvZ2luJyk7XG4gKiAgICAgIGV2ZW50VHJhY2tlci5zYXZlKCk7XG4gKiAgICAgIGV4cGVjdChwb3N0U3B5KS50b0hhdmVCZWVuQ2FsbGVkKCk7XG4gKiAgICAgIGV4cGVjdChwb3N0U3B5Lm1vc3RSZWNlbnRDYWxsLmFyZ3NbMF0pLm5vdC50b0VxdWFsKCcvdHJhY2snKTtcbiAqICAgICAgZXhwZWN0KHBvc3RTcHkubW9zdFJlY2VudENhbGwuYXJnc1swXSkudG9FcXVhbCgnL2N1c3RvbS10cmFjaycpO1xuICogICAgICBleHBlY3QocG9zdFNweS5tb3N0UmVjZW50Q2FsbC5hcmdzWzFdKS50b0VxdWFsKHsgJ2xvZ2luJzogMSB9KTtcbiAqICAgIH0pKTtcbiAqICB9KTtcbiAqIGBgYFxuICovXG5cbi8qKlxuICogQG5nZG9jIG1ldGhvZFxuICogQG5hbWUgJHByb3ZpZGUjZmFjdG9yeVxuICogQGRlc2NyaXB0aW9uXG4gKlxuICogUmVnaXN0ZXIgYSAqKnNlcnZpY2UgZmFjdG9yeSoqLCB3aGljaCB3aWxsIGJlIGNhbGxlZCB0byByZXR1cm4gdGhlIHNlcnZpY2UgaW5zdGFuY2UuXG4gKiBUaGlzIGlzIHNob3J0IGZvciByZWdpc3RlcmluZyBhIHNlcnZpY2Ugd2hlcmUgaXRzIHByb3ZpZGVyIGNvbnNpc3RzIG9mIG9ubHkgYSBgJGdldGAgcHJvcGVydHksXG4gKiB3aGljaCBpcyB0aGUgZ2l2ZW4gc2VydmljZSBmYWN0b3J5IGZ1bmN0aW9uLlxuICogWW91IHNob3VsZCB1c2Uge0BsaW5rIGF1dG8uJHByb3ZpZGUjZmFjdG9yeSAkcHJvdmlkZS5mYWN0b3J5KGdldEZuKX0gaWYgeW91IGRvIG5vdCBuZWVkIHRvXG4gKiBjb25maWd1cmUgeW91ciBzZXJ2aWNlIGluIGEgcHJvdmlkZXIuXG4gKlxuICogQHBhcmFtIHtzdHJpbmd9IG5hbWUgVGhlIG5hbWUgb2YgdGhlIGluc3RhbmNlLlxuICogQHBhcmFtIHtGdW5jdGlvbnxBcnJheS48c3RyaW5nfEZ1bmN0aW9uPn0gJGdldEZuIFRoZSBpbmplY3RhYmxlICRnZXRGbiBmb3IgdGhlIGluc3RhbmNlIGNyZWF0aW9uLlxuICogICAgICAgICAgICAgICAgICAgICAgSW50ZXJuYWxseSB0aGlzIGlzIGEgc2hvcnQgaGFuZCBmb3IgYCRwcm92aWRlLnByb3ZpZGVyKG5hbWUsIHskZ2V0OiAkZ2V0Rm59KWAuXG4gKiBAcmV0dXJucyB7T2JqZWN0fSByZWdpc3RlcmVkIHByb3ZpZGVyIGluc3RhbmNlXG4gKlxuICogQGV4YW1wbGVcbiAqIEhlcmUgaXMgYW4gZXhhbXBsZSBvZiByZWdpc3RlcmluZyBhIHNlcnZpY2VcbiAqIGBgYGpzXG4gKiAgICRwcm92aWRlLmZhY3RvcnkoJ3BpbmcnLCBbJyRodHRwJywgZnVuY3Rpb24oJGh0dHApIHtcbiAqICAgICByZXR1cm4gZnVuY3Rpb24gcGluZygpIHtcbiAqICAgICAgIHJldHVybiAkaHR0cC5zZW5kKCcvcGluZycpO1xuICogICAgIH07XG4gKiAgIH1dKTtcbiAqIGBgYFxuICogWW91IHdvdWxkIHRoZW4gaW5qZWN0IGFuZCB1c2UgdGhpcyBzZXJ2aWNlIGxpa2UgdGhpczpcbiAqIGBgYGpzXG4gKiAgIHNvbWVNb2R1bGUuY29udHJvbGxlcignQ3RybCcsIFsncGluZycsIGZ1bmN0aW9uKHBpbmcpIHtcbiAqICAgICBwaW5nKCk7XG4gKiAgIH1dKTtcbiAqIGBgYFxuICovXG5cblxuLyoqXG4gKiBAbmdkb2MgbWV0aG9kXG4gKiBAbmFtZSAkcHJvdmlkZSNzZXJ2aWNlXG4gKiBAZGVzY3JpcHRpb25cbiAqXG4gKiBSZWdpc3RlciBhICoqc2VydmljZSBjb25zdHJ1Y3RvcioqLCB3aGljaCB3aWxsIGJlIGludm9rZWQgd2l0aCBgbmV3YCB0byBjcmVhdGUgdGhlIHNlcnZpY2VcbiAqIGluc3RhbmNlLlxuICogVGhpcyBpcyBzaG9ydCBmb3IgcmVnaXN0ZXJpbmcgYSBzZXJ2aWNlIHdoZXJlIGl0cyBwcm92aWRlcidzIGAkZ2V0YCBwcm9wZXJ0eSBpcyBhIGZhY3RvcnlcbiAqIGZ1bmN0aW9uIHRoYXQgcmV0dXJucyBhbiBpbnN0YW5jZSBpbnN0YW50aWF0ZWQgYnkgdGhlIGluamVjdG9yIGZyb20gdGhlIHNlcnZpY2UgY29uc3RydWN0b3JcbiAqIGZ1bmN0aW9uLlxuICpcbiAqIEludGVybmFsbHkgaXQgbG9va3MgYSBiaXQgbGlrZSB0aGlzOlxuICpcbiAqIGBgYFxuICoge1xuICogICAkZ2V0OiBmdW5jdGlvbigpIHtcbiAqICAgICByZXR1cm4gJGluamVjdG9yLmluc3RhbnRpYXRlKGNvbnN0cnVjdG9yKTtcbiAqICAgfVxuICogfVxuICogYGBgXG4gKlxuICpcbiAqIFlvdSBzaG91bGQgdXNlIHtAbGluayBhdXRvLiRwcm92aWRlI3NlcnZpY2UgJHByb3ZpZGUuc2VydmljZShjbGFzcyl9IGlmIHlvdSBkZWZpbmUgeW91ciBzZXJ2aWNlXG4gKiBhcyBhIHR5cGUvY2xhc3MuXG4gKlxuICogQHBhcmFtIHtzdHJpbmd9IG5hbWUgVGhlIG5hbWUgb2YgdGhlIGluc3RhbmNlLlxuICogQHBhcmFtIHtGdW5jdGlvbnxBcnJheS48c3RyaW5nfEZ1bmN0aW9uPn0gY29uc3RydWN0b3IgQW4gaW5qZWN0YWJsZSBjbGFzcyAoY29uc3RydWN0b3IgZnVuY3Rpb24pXG4gKiAgICAgdGhhdCB3aWxsIGJlIGluc3RhbnRpYXRlZC5cbiAqIEByZXR1cm5zIHtPYmplY3R9IHJlZ2lzdGVyZWQgcHJvdmlkZXIgaW5zdGFuY2VcbiAqXG4gKiBAZXhhbXBsZVxuICogSGVyZSBpcyBhbiBleGFtcGxlIG9mIHJlZ2lzdGVyaW5nIGEgc2VydmljZSB1c2luZ1xuICoge0BsaW5rIGF1dG8uJHByb3ZpZGUjc2VydmljZSAkcHJvdmlkZS5zZXJ2aWNlKGNsYXNzKX0uXG4gKiBgYGBqc1xuICogICB2YXIgUGluZyA9IGZ1bmN0aW9uKCRodHRwKSB7XG4gKiAgICAgdGhpcy4kaHR0cCA9ICRodHRwO1xuICogICB9O1xuICpcbiAqICAgUGluZy4kaW5qZWN0ID0gWyckaHR0cCddO1xuICpcbiAqICAgUGluZy5wcm90b3R5cGUuc2VuZCA9IGZ1bmN0aW9uKCkge1xuICogICAgIHJldHVybiB0aGlzLiRodHRwLmdldCgnL3BpbmcnKTtcbiAqICAgfTtcbiAqICAgJHByb3ZpZGUuc2VydmljZSgncGluZycsIFBpbmcpO1xuICogYGBgXG4gKiBZb3Ugd291bGQgdGhlbiBpbmplY3QgYW5kIHVzZSB0aGlzIHNlcnZpY2UgbGlrZSB0aGlzOlxuICogYGBganNcbiAqICAgc29tZU1vZHVsZS5jb250cm9sbGVyKCdDdHJsJywgWydwaW5nJywgZnVuY3Rpb24ocGluZykge1xuICogICAgIHBpbmcuc2VuZCgpO1xuICogICB9XSk7XG4gKiBgYGBcbiAqL1xuXG5cbi8qKlxuICogQG5nZG9jIG1ldGhvZFxuICogQG5hbWUgJHByb3ZpZGUjdmFsdWVcbiAqIEBkZXNjcmlwdGlvblxuICpcbiAqIFJlZ2lzdGVyIGEgKip2YWx1ZSBzZXJ2aWNlKiogd2l0aCB0aGUge0BsaW5rIGF1dG8uJGluamVjdG9yICRpbmplY3Rvcn0sIHN1Y2ggYXMgYSBzdHJpbmcsIGFcbiAqIG51bWJlciwgYW4gYXJyYXksIGFuIG9iamVjdCBvciBhIGZ1bmN0aW9uLiBUaGlzIGlzIHNob3J0IGZvciByZWdpc3RlcmluZyBhIHNlcnZpY2Ugd2hlcmUgaXRzXG4gKiBwcm92aWRlcidzIGAkZ2V0YCBwcm9wZXJ0eSBpcyBhIGZhY3RvcnkgZnVuY3Rpb24gdGhhdCB0YWtlcyBubyBhcmd1bWVudHMgYW5kIHJldHVybnMgdGhlICoqdmFsdWVcbiAqIHNlcnZpY2UqKi4gVGhhdCBhbHNvIG1lYW5zIGl0IGlzIG5vdCBwb3NzaWJsZSB0byBpbmplY3Qgb3RoZXIgc2VydmljZXMgaW50byBhIHZhbHVlIHNlcnZpY2UuXG4gKlxuICogVmFsdWUgc2VydmljZXMgYXJlIHNpbWlsYXIgdG8gY29uc3RhbnQgc2VydmljZXMsIGV4Y2VwdCB0aGF0IHRoZXkgY2Fubm90IGJlIGluamVjdGVkIGludG8gYVxuICogbW9kdWxlIGNvbmZpZ3VyYXRpb24gZnVuY3Rpb24gKHNlZSB7QGxpbmsgYW5ndWxhci5Nb2R1bGUjY29uZmlnfSkgYnV0IHRoZXkgY2FuIGJlIG92ZXJyaWRkZW4gYnlcbiAqIGFuIEFuZ3VsYXIge0BsaW5rIGF1dG8uJHByb3ZpZGUjZGVjb3JhdG9yIGRlY29yYXRvcn0uXG4gKlxuICogQHBhcmFtIHtzdHJpbmd9IG5hbWUgVGhlIG5hbWUgb2YgdGhlIGluc3RhbmNlLlxuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUuXG4gKiBAcmV0dXJucyB7T2JqZWN0fSByZWdpc3RlcmVkIHByb3ZpZGVyIGluc3RhbmNlXG4gKlxuICogQGV4YW1wbGVcbiAqIEhlcmUgYXJlIHNvbWUgZXhhbXBsZXMgb2YgY3JlYXRpbmcgdmFsdWUgc2VydmljZXMuXG4gKiBgYGBqc1xuICogICAkcHJvdmlkZS52YWx1ZSgnQURNSU5fVVNFUicsICdhZG1pbicpO1xuICpcbiAqICAgJHByb3ZpZGUudmFsdWUoJ1JvbGVMb29rdXAnLCB7IGFkbWluOiAwLCB3cml0ZXI6IDEsIHJlYWRlcjogMiB9KTtcbiAqXG4gKiAgICRwcm92aWRlLnZhbHVlKCdoYWxmT2YnLCBmdW5jdGlvbih2YWx1ZSkge1xuICogICAgIHJldHVybiB2YWx1ZSAvIDI7XG4gKiAgIH0pO1xuICogYGBgXG4gKi9cblxuXG4vKipcbiAqIEBuZ2RvYyBtZXRob2RcbiAqIEBuYW1lICRwcm92aWRlI2NvbnN0YW50XG4gKiBAZGVzY3JpcHRpb25cbiAqXG4gKiBSZWdpc3RlciBhICoqY29uc3RhbnQgc2VydmljZSoqIHdpdGggdGhlIHtAbGluayBhdXRvLiRpbmplY3RvciAkaW5qZWN0b3J9LCBzdWNoIGFzIGEgc3RyaW5nLFxuICogYSBudW1iZXIsIGFuIGFycmF5LCBhbiBvYmplY3Qgb3IgYSBmdW5jdGlvbi4gTGlrZSB0aGUge0BsaW5rIGF1dG8uJHByb3ZpZGUjdmFsdWUgdmFsdWV9LCBpdCBpcyBub3RcbiAqIHBvc3NpYmxlIHRvIGluamVjdCBvdGhlciBzZXJ2aWNlcyBpbnRvIGEgY29uc3RhbnQuXG4gKlxuICogQnV0IHVubGlrZSB7QGxpbmsgYXV0by4kcHJvdmlkZSN2YWx1ZSB2YWx1ZX0sIGEgY29uc3RhbnQgY2FuIGJlXG4gKiBpbmplY3RlZCBpbnRvIGEgbW9kdWxlIGNvbmZpZ3VyYXRpb24gZnVuY3Rpb24gKHNlZSB7QGxpbmsgYW5ndWxhci5Nb2R1bGUjY29uZmlnfSkgYW5kIGl0IGNhbm5vdFxuICogYmUgb3ZlcnJpZGRlbiBieSBhbiBBbmd1bGFyIHtAbGluayBhdXRvLiRwcm92aWRlI2RlY29yYXRvciBkZWNvcmF0b3J9LlxuICpcbiAqIEBwYXJhbSB7c3RyaW5nfSBuYW1lIFRoZSBuYW1lIG9mIHRoZSBjb25zdGFudC5cbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIGNvbnN0YW50IHZhbHVlLlxuICogQHJldHVybnMge09iamVjdH0gcmVnaXN0ZXJlZCBpbnN0YW5jZVxuICpcbiAqIEBleGFtcGxlXG4gKiBIZXJlIGEgc29tZSBleGFtcGxlcyBvZiBjcmVhdGluZyBjb25zdGFudHM6XG4gKiBgYGBqc1xuICogICAkcHJvdmlkZS5jb25zdGFudCgnU0hBUkRfSEVJR0hUJywgMzA2KTtcbiAqXG4gKiAgICRwcm92aWRlLmNvbnN0YW50KCdNWV9DT0xPVVJTJywgWydyZWQnLCAnYmx1ZScsICdncmV5J10pO1xuICpcbiAqICAgJHByb3ZpZGUuY29uc3RhbnQoJ2RvdWJsZScsIGZ1bmN0aW9uKHZhbHVlKSB7XG4gKiAgICAgcmV0dXJuIHZhbHVlICogMjtcbiAqICAgfSk7XG4gKiBgYGBcbiAqL1xuXG5cbi8qKlxuICogQG5nZG9jIG1ldGhvZFxuICogQG5hbWUgJHByb3ZpZGUjZGVjb3JhdG9yXG4gKiBAZGVzY3JpcHRpb25cbiAqXG4gKiBSZWdpc3RlciBhICoqZGVjb3JhdG9yIGZ1bmN0aW9uKiogd2l0aCB0aGUge0BsaW5rIGF1dG8uJGluamVjdG9yICRpbmplY3Rvcn0uIEEgZGVjb3JhdG9yIGZ1bmN0aW9uXG4gKiBpbnRlcmNlcHRzIHRoZSBjcmVhdGlvbiBvZiBhIHNlcnZpY2UsIGFsbG93aW5nIGl0IHRvIG92ZXJyaWRlIG9yIG1vZGlmeSB0aGUgYmVoYXZpb3Igb2YgdGhlXG4gKiBzZXJ2aWNlLiBUaGUgcmV0dXJuIHZhbHVlIG9mIHRoZSBkZWNvcmF0b3IgZnVuY3Rpb24gbWF5IGJlIHRoZSBvcmlnaW5hbCBzZXJ2aWNlLCBvciBhIG5ldyBzZXJ2aWNlXG4gKiB0aGF0IHJlcGxhY2VzIChvciB3cmFwcyBhbmQgZGVsZWdhdGVzIHRvKSB0aGUgb3JpZ2luYWwgc2VydmljZS5cbiAqXG4gKiBZb3UgY2FuIGZpbmQgb3V0IG1vcmUgYWJvdXQgdXNpbmcgZGVjb3JhdG9ycyBpbiB0aGUge0BsaW5rIGd1aWRlL2RlY29yYXRvcnN9IGd1aWRlLlxuICpcbiAqIEBwYXJhbSB7c3RyaW5nfSBuYW1lIFRoZSBuYW1lIG9mIHRoZSBzZXJ2aWNlIHRvIGRlY29yYXRlLlxuICogQHBhcmFtIHtGdW5jdGlvbnxBcnJheS48c3RyaW5nfEZ1bmN0aW9uPn0gZGVjb3JhdG9yIFRoaXMgZnVuY3Rpb24gd2lsbCBiZSBpbnZva2VkIHdoZW4gdGhlIHNlcnZpY2UgbmVlZHMgdG8gYmVcbiAqICAgIHByb3ZpZGVkIGFuZCBzaG91bGQgcmV0dXJuIHRoZSBkZWNvcmF0ZWQgc2VydmljZSBpbnN0YW5jZS4gVGhlIGZ1bmN0aW9uIGlzIGNhbGxlZCB1c2luZ1xuICogICAgdGhlIHtAbGluayBhdXRvLiRpbmplY3RvciNpbnZva2UgaW5qZWN0b3IuaW52b2tlfSBtZXRob2QgYW5kIGlzIHRoZXJlZm9yZSBmdWxseSBpbmplY3RhYmxlLlxuICogICAgTG9jYWwgaW5qZWN0aW9uIGFyZ3VtZW50czpcbiAqXG4gKiAgICAqIGAkZGVsZWdhdGVgIC0gVGhlIG9yaWdpbmFsIHNlcnZpY2UgaW5zdGFuY2UsIHdoaWNoIGNhbiBiZSByZXBsYWNlZCwgbW9ua2V5IHBhdGNoZWQsIGNvbmZpZ3VyZWQsXG4gKiAgICAgIGRlY29yYXRlZCBvciBkZWxlZ2F0ZWQgdG8uXG4gKlxuICogQGV4YW1wbGVcbiAqIEhlcmUgd2UgZGVjb3JhdGUgdGhlIHtAbGluayBuZy4kbG9nICRsb2d9IHNlcnZpY2UgdG8gY29udmVydCB3YXJuaW5ncyB0byBlcnJvcnMgYnkgaW50ZXJjZXB0aW5nXG4gKiBjYWxscyB0byB7QGxpbmsgbmcuJGxvZyNlcnJvciAkbG9nLndhcm4oKX0uXG4gKiBgYGBqc1xuICogICAkcHJvdmlkZS5kZWNvcmF0b3IoJyRsb2cnLCBbJyRkZWxlZ2F0ZScsIGZ1bmN0aW9uKCRkZWxlZ2F0ZSkge1xuICogICAgICRkZWxlZ2F0ZS53YXJuID0gJGRlbGVnYXRlLmVycm9yO1xuICogICAgIHJldHVybiAkZGVsZWdhdGU7XG4gKiAgIH1dKTtcbiAqIGBgYFxuICovXG5cblxuZnVuY3Rpb24gY3JlYXRlSW5qZWN0b3IobW9kdWxlc1RvTG9hZCwgc3RyaWN0RGkpIHtcbiAgc3RyaWN0RGkgPSAoc3RyaWN0RGkgPT09IHRydWUpO1xuICB2YXIgSU5TVEFOVElBVElORyA9IHt9LFxuICAgICAgcHJvdmlkZXJTdWZmaXggPSAnUHJvdmlkZXInLFxuICAgICAgcGF0aCA9IFtdLFxuICAgICAgbG9hZGVkTW9kdWxlcyA9IG5ldyBOZ01hcCgpLFxuICAgICAgcHJvdmlkZXJDYWNoZSA9IHtcbiAgICAgICAgJHByb3ZpZGU6IHtcbiAgICAgICAgICAgIHByb3ZpZGVyOiBzdXBwb3J0T2JqZWN0KHByb3ZpZGVyKSxcbiAgICAgICAgICAgIGZhY3Rvcnk6IHN1cHBvcnRPYmplY3QoZmFjdG9yeSksXG4gICAgICAgICAgICBzZXJ2aWNlOiBzdXBwb3J0T2JqZWN0KHNlcnZpY2UpLFxuICAgICAgICAgICAgdmFsdWU6IHN1cHBvcnRPYmplY3QodmFsdWUpLFxuICAgICAgICAgICAgY29uc3RhbnQ6IHN1cHBvcnRPYmplY3QoY29uc3RhbnQpLFxuICAgICAgICAgICAgZGVjb3JhdG9yOiBkZWNvcmF0b3JcbiAgICAgICAgICB9XG4gICAgICB9LFxuICAgICAgcHJvdmlkZXJJbmplY3RvciA9IChwcm92aWRlckNhY2hlLiRpbmplY3RvciA9XG4gICAgICAgICAgY3JlYXRlSW50ZXJuYWxJbmplY3Rvcihwcm92aWRlckNhY2hlLCBmdW5jdGlvbihzZXJ2aWNlTmFtZSwgY2FsbGVyKSB7XG4gICAgICAgICAgICBpZiAoYW5ndWxhci5pc1N0cmluZyhjYWxsZXIpKSB7XG4gICAgICAgICAgICAgIHBhdGgucHVzaChjYWxsZXIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhyb3cgJGluamVjdG9yTWluRXJyKCd1bnByJywgJ1Vua25vd24gcHJvdmlkZXI6IHswfScsIHBhdGguam9pbignIDwtICcpKTtcbiAgICAgICAgICB9KSksXG4gICAgICBpbnN0YW5jZUNhY2hlID0ge30sXG4gICAgICBwcm90b0luc3RhbmNlSW5qZWN0b3IgPVxuICAgICAgICAgIGNyZWF0ZUludGVybmFsSW5qZWN0b3IoaW5zdGFuY2VDYWNoZSwgZnVuY3Rpb24oc2VydmljZU5hbWUsIGNhbGxlcikge1xuICAgICAgICAgICAgdmFyIHByb3ZpZGVyID0gcHJvdmlkZXJJbmplY3Rvci5nZXQoc2VydmljZU5hbWUgKyBwcm92aWRlclN1ZmZpeCwgY2FsbGVyKTtcbiAgICAgICAgICAgIHJldHVybiBpbnN0YW5jZUluamVjdG9yLmludm9rZShcbiAgICAgICAgICAgICAgICBwcm92aWRlci4kZ2V0LCBwcm92aWRlciwgdW5kZWZpbmVkLCBzZXJ2aWNlTmFtZSk7XG4gICAgICAgICAgfSksXG4gICAgICBpbnN0YW5jZUluamVjdG9yID0gcHJvdG9JbnN0YW5jZUluamVjdG9yO1xuXG4gIHByb3ZpZGVyQ2FjaGVbJyRpbmplY3RvcicgKyBwcm92aWRlclN1ZmZpeF0gPSB7ICRnZXQ6IHZhbHVlRm4ocHJvdG9JbnN0YW5jZUluamVjdG9yKSB9O1xuICBpbnN0YW5jZUluamVjdG9yLm1vZHVsZXMgPSBwcm92aWRlckluamVjdG9yLm1vZHVsZXMgPSBjcmVhdGVNYXAoKTtcbiAgdmFyIHJ1bkJsb2NrcyA9IGxvYWRNb2R1bGVzKG1vZHVsZXNUb0xvYWQpO1xuICBpbnN0YW5jZUluamVjdG9yID0gcHJvdG9JbnN0YW5jZUluamVjdG9yLmdldCgnJGluamVjdG9yJyk7XG4gIGluc3RhbmNlSW5qZWN0b3Iuc3RyaWN0RGkgPSBzdHJpY3REaTtcbiAgZm9yRWFjaChydW5CbG9ja3MsIGZ1bmN0aW9uKGZuKSB7IGlmIChmbikgaW5zdGFuY2VJbmplY3Rvci5pbnZva2UoZm4pOyB9KTtcblxuICByZXR1cm4gaW5zdGFuY2VJbmplY3RvcjtcblxuICAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cbiAgLy8gJHByb3ZpZGVyXG4gIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuXG4gIGZ1bmN0aW9uIHN1cHBvcnRPYmplY3QoZGVsZWdhdGUpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24oa2V5LCB2YWx1ZSkge1xuICAgICAgaWYgKGlzT2JqZWN0KGtleSkpIHtcbiAgICAgICAgZm9yRWFjaChrZXksIHJldmVyc2VQYXJhbXMoZGVsZWdhdGUpKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiBkZWxlZ2F0ZShrZXksIHZhbHVlKTtcbiAgICAgIH1cbiAgICB9O1xuICB9XG5cbiAgZnVuY3Rpb24gcHJvdmlkZXIobmFtZSwgcHJvdmlkZXJfKSB7XG4gICAgYXNzZXJ0Tm90SGFzT3duUHJvcGVydHkobmFtZSwgJ3NlcnZpY2UnKTtcbiAgICBpZiAoaXNGdW5jdGlvbihwcm92aWRlcl8pIHx8IGlzQXJyYXkocHJvdmlkZXJfKSkge1xuICAgICAgcHJvdmlkZXJfID0gcHJvdmlkZXJJbmplY3Rvci5pbnN0YW50aWF0ZShwcm92aWRlcl8pO1xuICAgIH1cbiAgICBpZiAoIXByb3ZpZGVyXy4kZ2V0KSB7XG4gICAgICB0aHJvdyAkaW5qZWN0b3JNaW5FcnIoJ3BnZXQnLCAnUHJvdmlkZXIgXFwnezB9XFwnIG11c3QgZGVmaW5lICRnZXQgZmFjdG9yeSBtZXRob2QuJywgbmFtZSk7XG4gICAgfVxuICAgIHJldHVybiAocHJvdmlkZXJDYWNoZVtuYW1lICsgcHJvdmlkZXJTdWZmaXhdID0gcHJvdmlkZXJfKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGVuZm9yY2VSZXR1cm5WYWx1ZShuYW1lLCBmYWN0b3J5KSB7XG4gICAgcmV0dXJuIC8qKiBAdGhpcyAqLyBmdW5jdGlvbiBlbmZvcmNlZFJldHVyblZhbHVlKCkge1xuICAgICAgdmFyIHJlc3VsdCA9IGluc3RhbmNlSW5qZWN0b3IuaW52b2tlKGZhY3RvcnksIHRoaXMpO1xuICAgICAgaWYgKGlzVW5kZWZpbmVkKHJlc3VsdCkpIHtcbiAgICAgICAgdGhyb3cgJGluamVjdG9yTWluRXJyKCd1bmRlZicsICdQcm92aWRlciBcXCd7MH1cXCcgbXVzdCByZXR1cm4gYSB2YWx1ZSBmcm9tICRnZXQgZmFjdG9yeSBtZXRob2QuJywgbmFtZSk7XG4gICAgICB9XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH07XG4gIH1cblxuICBmdW5jdGlvbiBmYWN0b3J5KG5hbWUsIGZhY3RvcnlGbiwgZW5mb3JjZSkge1xuICAgIHJldHVybiBwcm92aWRlcihuYW1lLCB7XG4gICAgICAkZ2V0OiBlbmZvcmNlICE9PSBmYWxzZSA/IGVuZm9yY2VSZXR1cm5WYWx1ZShuYW1lLCBmYWN0b3J5Rm4pIDogZmFjdG9yeUZuXG4gICAgfSk7XG4gIH1cblxuICBmdW5jdGlvbiBzZXJ2aWNlKG5hbWUsIGNvbnN0cnVjdG9yKSB7XG4gICAgcmV0dXJuIGZhY3RvcnkobmFtZSwgWyckaW5qZWN0b3InLCBmdW5jdGlvbigkaW5qZWN0b3IpIHtcbiAgICAgIHJldHVybiAkaW5qZWN0b3IuaW5zdGFudGlhdGUoY29uc3RydWN0b3IpO1xuICAgIH1dKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHZhbHVlKG5hbWUsIHZhbCkgeyByZXR1cm4gZmFjdG9yeShuYW1lLCB2YWx1ZUZuKHZhbCksIGZhbHNlKTsgfVxuXG4gIGZ1bmN0aW9uIGNvbnN0YW50KG5hbWUsIHZhbHVlKSB7XG4gICAgYXNzZXJ0Tm90SGFzT3duUHJvcGVydHkobmFtZSwgJ2NvbnN0YW50Jyk7XG4gICAgcHJvdmlkZXJDYWNoZVtuYW1lXSA9IHZhbHVlO1xuICAgIGluc3RhbmNlQ2FjaGVbbmFtZV0gPSB2YWx1ZTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGRlY29yYXRvcihzZXJ2aWNlTmFtZSwgZGVjb3JGbikge1xuICAgIHZhciBvcmlnUHJvdmlkZXIgPSBwcm92aWRlckluamVjdG9yLmdldChzZXJ2aWNlTmFtZSArIHByb3ZpZGVyU3VmZml4KSxcbiAgICAgICAgb3JpZyRnZXQgPSBvcmlnUHJvdmlkZXIuJGdldDtcblxuICAgIG9yaWdQcm92aWRlci4kZ2V0ID0gZnVuY3Rpb24oKSB7XG4gICAgICB2YXIgb3JpZ0luc3RhbmNlID0gaW5zdGFuY2VJbmplY3Rvci5pbnZva2Uob3JpZyRnZXQsIG9yaWdQcm92aWRlcik7XG4gICAgICByZXR1cm4gaW5zdGFuY2VJbmplY3Rvci5pbnZva2UoZGVjb3JGbiwgbnVsbCwgeyRkZWxlZ2F0ZTogb3JpZ0luc3RhbmNlfSk7XG4gICAgfTtcbiAgfVxuXG4gIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuICAvLyBNb2R1bGUgTG9hZGluZ1xuICAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cbiAgZnVuY3Rpb24gbG9hZE1vZHVsZXMobW9kdWxlc1RvTG9hZCkge1xuICAgIGFzc2VydEFyZyhpc1VuZGVmaW5lZChtb2R1bGVzVG9Mb2FkKSB8fCBpc0FycmF5KG1vZHVsZXNUb0xvYWQpLCAnbW9kdWxlc1RvTG9hZCcsICdub3QgYW4gYXJyYXknKTtcbiAgICB2YXIgcnVuQmxvY2tzID0gW10sIG1vZHVsZUZuO1xuICAgIGZvckVhY2gobW9kdWxlc1RvTG9hZCwgZnVuY3Rpb24obW9kdWxlKSB7XG4gICAgICBpZiAobG9hZGVkTW9kdWxlcy5nZXQobW9kdWxlKSkgcmV0dXJuO1xuICAgICAgbG9hZGVkTW9kdWxlcy5zZXQobW9kdWxlLCB0cnVlKTtcblxuICAgICAgZnVuY3Rpb24gcnVuSW52b2tlUXVldWUocXVldWUpIHtcbiAgICAgICAgdmFyIGksIGlpO1xuICAgICAgICBmb3IgKGkgPSAwLCBpaSA9IHF1ZXVlLmxlbmd0aDsgaSA8IGlpOyBpKyspIHtcbiAgICAgICAgICB2YXIgaW52b2tlQXJncyA9IHF1ZXVlW2ldLFxuICAgICAgICAgICAgICBwcm92aWRlciA9IHByb3ZpZGVySW5qZWN0b3IuZ2V0KGludm9rZUFyZ3NbMF0pO1xuXG4gICAgICAgICAgcHJvdmlkZXJbaW52b2tlQXJnc1sxXV0uYXBwbHkocHJvdmlkZXIsIGludm9rZUFyZ3NbMl0pO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIHRyeSB7XG4gICAgICAgIGlmIChpc1N0cmluZyhtb2R1bGUpKSB7XG4gICAgICAgICAgbW9kdWxlRm4gPSBhbmd1bGFyTW9kdWxlKG1vZHVsZSk7XG4gICAgICAgICAgaW5zdGFuY2VJbmplY3Rvci5tb2R1bGVzW21vZHVsZV0gPSBtb2R1bGVGbjtcbiAgICAgICAgICBydW5CbG9ja3MgPSBydW5CbG9ja3MuY29uY2F0KGxvYWRNb2R1bGVzKG1vZHVsZUZuLnJlcXVpcmVzKSkuY29uY2F0KG1vZHVsZUZuLl9ydW5CbG9ja3MpO1xuICAgICAgICAgIHJ1bkludm9rZVF1ZXVlKG1vZHVsZUZuLl9pbnZva2VRdWV1ZSk7XG4gICAgICAgICAgcnVuSW52b2tlUXVldWUobW9kdWxlRm4uX2NvbmZpZ0Jsb2Nrcyk7XG4gICAgICAgIH0gZWxzZSBpZiAoaXNGdW5jdGlvbihtb2R1bGUpKSB7XG4gICAgICAgICAgICBydW5CbG9ja3MucHVzaChwcm92aWRlckluamVjdG9yLmludm9rZShtb2R1bGUpKTtcbiAgICAgICAgfSBlbHNlIGlmIChpc0FycmF5KG1vZHVsZSkpIHtcbiAgICAgICAgICAgIHJ1bkJsb2Nrcy5wdXNoKHByb3ZpZGVySW5qZWN0b3IuaW52b2tlKG1vZHVsZSkpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGFzc2VydEFyZ0ZuKG1vZHVsZSwgJ21vZHVsZScpO1xuICAgICAgICB9XG4gICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgIGlmIChpc0FycmF5KG1vZHVsZSkpIHtcbiAgICAgICAgICBtb2R1bGUgPSBtb2R1bGVbbW9kdWxlLmxlbmd0aCAtIDFdO1xuICAgICAgICB9XG4gICAgICAgIGlmIChlLm1lc3NhZ2UgJiYgZS5zdGFjayAmJiBlLnN0YWNrLmluZGV4T2YoZS5tZXNzYWdlKSA9PT0gLTEpIHtcbiAgICAgICAgICAvLyBTYWZhcmkgJiBGRidzIHN0YWNrIHRyYWNlcyBkb24ndCBjb250YWluIGVycm9yLm1lc3NhZ2UgY29udGVudFxuICAgICAgICAgIC8vIHVubGlrZSB0aG9zZSBvZiBDaHJvbWUgYW5kIElFXG4gICAgICAgICAgLy8gU28gaWYgc3RhY2sgZG9lc24ndCBjb250YWluIG1lc3NhZ2UsIHdlIGNyZWF0ZSBhIG5ldyBzdHJpbmcgdGhhdCBjb250YWlucyBib3RoLlxuICAgICAgICAgIC8vIFNpbmNlIGVycm9yLnN0YWNrIGlzIHJlYWQtb25seSBpbiBTYWZhcmksIEknbSBvdmVycmlkaW5nIGUgYW5kIG5vdCBlLnN0YWNrIGhlcmUuXG4gICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLWV4LWFzc2lnblxuICAgICAgICAgIGUgPSBlLm1lc3NhZ2UgKyAnXFxuJyArIGUuc3RhY2s7XG4gICAgICAgIH1cbiAgICAgICAgdGhyb3cgJGluamVjdG9yTWluRXJyKCdtb2R1bGVycicsICdGYWlsZWQgdG8gaW5zdGFudGlhdGUgbW9kdWxlIHswfSBkdWUgdG86XFxuezF9JyxcbiAgICAgICAgICAgICAgICAgIG1vZHVsZSwgZS5zdGFjayB8fCBlLm1lc3NhZ2UgfHwgZSk7XG4gICAgICB9XG4gICAgfSk7XG4gICAgcmV0dXJuIHJ1bkJsb2NrcztcbiAgfVxuXG4gIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuICAvLyBpbnRlcm5hbCBJbmplY3RvclxuICAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cblxuICBmdW5jdGlvbiBjcmVhdGVJbnRlcm5hbEluamVjdG9yKGNhY2hlLCBmYWN0b3J5KSB7XG5cbiAgICBmdW5jdGlvbiBnZXRTZXJ2aWNlKHNlcnZpY2VOYW1lLCBjYWxsZXIpIHtcbiAgICAgIGlmIChjYWNoZS5oYXNPd25Qcm9wZXJ0eShzZXJ2aWNlTmFtZSkpIHtcbiAgICAgICAgaWYgKGNhY2hlW3NlcnZpY2VOYW1lXSA9PT0gSU5TVEFOVElBVElORykge1xuICAgICAgICAgIHRocm93ICRpbmplY3Rvck1pbkVycignY2RlcCcsICdDaXJjdWxhciBkZXBlbmRlbmN5IGZvdW5kOiB7MH0nLFxuICAgICAgICAgICAgICAgICAgICBzZXJ2aWNlTmFtZSArICcgPC0gJyArIHBhdGguam9pbignIDwtICcpKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gY2FjaGVbc2VydmljZU5hbWVdO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICBwYXRoLnVuc2hpZnQoc2VydmljZU5hbWUpO1xuICAgICAgICAgIGNhY2hlW3NlcnZpY2VOYW1lXSA9IElOU1RBTlRJQVRJTkc7XG4gICAgICAgICAgY2FjaGVbc2VydmljZU5hbWVdID0gZmFjdG9yeShzZXJ2aWNlTmFtZSwgY2FsbGVyKTtcbiAgICAgICAgICByZXR1cm4gY2FjaGVbc2VydmljZU5hbWVdO1xuICAgICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgICBpZiAoY2FjaGVbc2VydmljZU5hbWVdID09PSBJTlNUQU5USUFUSU5HKSB7XG4gICAgICAgICAgICBkZWxldGUgY2FjaGVbc2VydmljZU5hbWVdO1xuICAgICAgICAgIH1cbiAgICAgICAgICB0aHJvdyBlcnI7XG4gICAgICAgIH0gZmluYWxseSB7XG4gICAgICAgICAgcGF0aC5zaGlmdCgpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG5cbiAgICBmdW5jdGlvbiBpbmplY3Rpb25BcmdzKGZuLCBsb2NhbHMsIHNlcnZpY2VOYW1lKSB7XG4gICAgICB2YXIgYXJncyA9IFtdLFxuICAgICAgICAgICRpbmplY3QgPSBjcmVhdGVJbmplY3Rvci4kJGFubm90YXRlKGZuLCBzdHJpY3REaSwgc2VydmljZU5hbWUpO1xuXG4gICAgICBmb3IgKHZhciBpID0gMCwgbGVuZ3RoID0gJGluamVjdC5sZW5ndGg7IGkgPCBsZW5ndGg7IGkrKykge1xuICAgICAgICB2YXIga2V5ID0gJGluamVjdFtpXTtcbiAgICAgICAgaWYgKHR5cGVvZiBrZXkgIT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgdGhyb3cgJGluamVjdG9yTWluRXJyKCdpdGtuJyxcbiAgICAgICAgICAgICAgICAgICdJbmNvcnJlY3QgaW5qZWN0aW9uIHRva2VuISBFeHBlY3RlZCBzZXJ2aWNlIG5hbWUgYXMgc3RyaW5nLCBnb3QgezB9Jywga2V5KTtcbiAgICAgICAgfVxuICAgICAgICBhcmdzLnB1c2gobG9jYWxzICYmIGxvY2Fscy5oYXNPd25Qcm9wZXJ0eShrZXkpID8gbG9jYWxzW2tleV0gOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZ2V0U2VydmljZShrZXksIHNlcnZpY2VOYW1lKSk7XG4gICAgICB9XG4gICAgICByZXR1cm4gYXJncztcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBpc0NsYXNzKGZ1bmMpIHtcbiAgICAgIC8vIFN1cHBvcnQ6IElFIDktMTEgb25seVxuICAgICAgLy8gSUUgOS0xMSBkbyBub3Qgc3VwcG9ydCBjbGFzc2VzIGFuZCBJRTkgbGVha3Mgd2l0aCB0aGUgY29kZSBiZWxvdy5cbiAgICAgIGlmIChtc2llIHx8IHR5cGVvZiBmdW5jICE9PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cbiAgICAgIHZhciByZXN1bHQgPSBmdW5jLiQkbmdJc0NsYXNzO1xuICAgICAgaWYgKCFpc0Jvb2xlYW4ocmVzdWx0KSkge1xuICAgICAgICAvLyBTdXBwb3J0OiBFZGdlIDEyLTEzIG9ubHlcbiAgICAgICAgLy8gU2VlOiBodHRwczovL2RldmVsb3Blci5taWNyb3NvZnQuY29tL2VuLXVzL21pY3Jvc29mdC1lZGdlL3BsYXRmb3JtL2lzc3Vlcy82MTU2MTM1L1xuICAgICAgICByZXN1bHQgPSBmdW5jLiQkbmdJc0NsYXNzID0gL14oPzpjbGFzc1xcYnxjb25zdHJ1Y3RvclxcKCkvLnRlc3Qoc3RyaW5naWZ5Rm4oZnVuYykpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBpbnZva2UoZm4sIHNlbGYsIGxvY2Fscywgc2VydmljZU5hbWUpIHtcbiAgICAgIGlmICh0eXBlb2YgbG9jYWxzID09PSAnc3RyaW5nJykge1xuICAgICAgICBzZXJ2aWNlTmFtZSA9IGxvY2FscztcbiAgICAgICAgbG9jYWxzID0gbnVsbDtcbiAgICAgIH1cblxuICAgICAgdmFyIGFyZ3MgPSBpbmplY3Rpb25BcmdzKGZuLCBsb2NhbHMsIHNlcnZpY2VOYW1lKTtcbiAgICAgIGlmIChpc0FycmF5KGZuKSkge1xuICAgICAgICBmbiA9IGZuW2ZuLmxlbmd0aCAtIDFdO1xuICAgICAgfVxuXG4gICAgICBpZiAoIWlzQ2xhc3MoZm4pKSB7XG4gICAgICAgIC8vIGh0dHA6Ly9qc3BlcmYuY29tL2FuZ3VsYXJqcy1pbnZva2UtYXBwbHktdnMtc3dpdGNoXG4gICAgICAgIC8vICM1Mzg4XG4gICAgICAgIHJldHVybiBmbi5hcHBseShzZWxmLCBhcmdzKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGFyZ3MudW5zaGlmdChudWxsKTtcbiAgICAgICAgcmV0dXJuIG5ldyAoRnVuY3Rpb24ucHJvdG90eXBlLmJpbmQuYXBwbHkoZm4sIGFyZ3MpKSgpO1xuICAgICAgfVxuICAgIH1cblxuXG4gICAgZnVuY3Rpb24gaW5zdGFudGlhdGUoVHlwZSwgbG9jYWxzLCBzZXJ2aWNlTmFtZSkge1xuICAgICAgLy8gQ2hlY2sgaWYgVHlwZSBpcyBhbm5vdGF0ZWQgYW5kIHVzZSBqdXN0IHRoZSBnaXZlbiBmdW5jdGlvbiBhdCBuLTEgYXMgcGFyYW1ldGVyXG4gICAgICAvLyBlLmcuIHNvbWVNb2R1bGUuZmFjdG9yeSgnZ3JlZXRlcicsIFsnJHdpbmRvdycsIGZ1bmN0aW9uKHJlbmFtZWQkd2luZG93KSB7fV0pO1xuICAgICAgdmFyIGN0b3IgPSAoaXNBcnJheShUeXBlKSA/IFR5cGVbVHlwZS5sZW5ndGggLSAxXSA6IFR5cGUpO1xuICAgICAgdmFyIGFyZ3MgPSBpbmplY3Rpb25BcmdzKFR5cGUsIGxvY2Fscywgc2VydmljZU5hbWUpO1xuICAgICAgLy8gRW1wdHkgb2JqZWN0IGF0IHBvc2l0aW9uIDAgaXMgaWdub3JlZCBmb3IgaW52b2NhdGlvbiB3aXRoIGBuZXdgLCBidXQgcmVxdWlyZWQuXG4gICAgICBhcmdzLnVuc2hpZnQobnVsbCk7XG4gICAgICByZXR1cm4gbmV3IChGdW5jdGlvbi5wcm90b3R5cGUuYmluZC5hcHBseShjdG9yLCBhcmdzKSkoKTtcbiAgICB9XG5cblxuICAgIHJldHVybiB7XG4gICAgICBpbnZva2U6IGludm9rZSxcbiAgICAgIGluc3RhbnRpYXRlOiBpbnN0YW50aWF0ZSxcbiAgICAgIGdldDogZ2V0U2VydmljZSxcbiAgICAgIGFubm90YXRlOiBjcmVhdGVJbmplY3Rvci4kJGFubm90YXRlLFxuICAgICAgaGFzOiBmdW5jdGlvbihuYW1lKSB7XG4gICAgICAgIHJldHVybiBwcm92aWRlckNhY2hlLmhhc093blByb3BlcnR5KG5hbWUgKyBwcm92aWRlclN1ZmZpeCkgfHwgY2FjaGUuaGFzT3duUHJvcGVydHkobmFtZSk7XG4gICAgICB9XG4gICAgfTtcbiAgfVxufVxuXG5jcmVhdGVJbmplY3Rvci4kJGFubm90YXRlID0gYW5ub3RhdGU7XG5cbi8qKlxuICogQG5nZG9jIHByb3ZpZGVyXG4gKiBAbmFtZSAkYW5jaG9yU2Nyb2xsUHJvdmlkZXJcbiAqIEB0aGlzXG4gKlxuICogQGRlc2NyaXB0aW9uXG4gKiBVc2UgYCRhbmNob3JTY3JvbGxQcm92aWRlcmAgdG8gZGlzYWJsZSBhdXRvbWF0aWMgc2Nyb2xsaW5nIHdoZW5ldmVyXG4gKiB7QGxpbmsgbmcuJGxvY2F0aW9uI2hhc2ggJGxvY2F0aW9uLmhhc2goKX0gY2hhbmdlcy5cbiAqL1xuZnVuY3Rpb24gJEFuY2hvclNjcm9sbFByb3ZpZGVyKCkge1xuXG4gIHZhciBhdXRvU2Nyb2xsaW5nRW5hYmxlZCA9IHRydWU7XG5cbiAgLyoqXG4gICAqIEBuZ2RvYyBtZXRob2RcbiAgICogQG5hbWUgJGFuY2hvclNjcm9sbFByb3ZpZGVyI2Rpc2FibGVBdXRvU2Nyb2xsaW5nXG4gICAqXG4gICAqIEBkZXNjcmlwdGlvblxuICAgKiBCeSBkZWZhdWx0LCB7QGxpbmsgbmcuJGFuY2hvclNjcm9sbCAkYW5jaG9yU2Nyb2xsKCl9IHdpbGwgYXV0b21hdGljYWxseSBkZXRlY3QgY2hhbmdlcyB0b1xuICAgKiB7QGxpbmsgbmcuJGxvY2F0aW9uI2hhc2ggJGxvY2F0aW9uLmhhc2goKX0gYW5kIHNjcm9sbCB0byB0aGUgZWxlbWVudCBtYXRjaGluZyB0aGUgbmV3IGhhc2guPGJyIC8+XG4gICAqIFVzZSB0aGlzIG1ldGhvZCB0byBkaXNhYmxlIGF1dG9tYXRpYyBzY3JvbGxpbmcuXG4gICAqXG4gICAqIElmIGF1dG9tYXRpYyBzY3JvbGxpbmcgaXMgZGlzYWJsZWQsIG9uZSBtdXN0IGV4cGxpY2l0bHkgY2FsbFxuICAgKiB7QGxpbmsgbmcuJGFuY2hvclNjcm9sbCAkYW5jaG9yU2Nyb2xsKCl9IGluIG9yZGVyIHRvIHNjcm9sbCB0byB0aGUgZWxlbWVudCByZWxhdGVkIHRvIHRoZVxuICAgKiBjdXJyZW50IGhhc2guXG4gICAqL1xuICB0aGlzLmRpc2FibGVBdXRvU2Nyb2xsaW5nID0gZnVuY3Rpb24oKSB7XG4gICAgYXV0b1Njcm9sbGluZ0VuYWJsZWQgPSBmYWxzZTtcbiAgfTtcblxuICAvKipcbiAgICogQG5nZG9jIHNlcnZpY2VcbiAgICogQG5hbWUgJGFuY2hvclNjcm9sbFxuICAgKiBAa2luZCBmdW5jdGlvblxuICAgKiBAcmVxdWlyZXMgJHdpbmRvd1xuICAgKiBAcmVxdWlyZXMgJGxvY2F0aW9uXG4gICAqIEByZXF1aXJlcyAkcm9vdFNjb3BlXG4gICAqXG4gICAqIEBkZXNjcmlwdGlvblxuICAgKiBXaGVuIGNhbGxlZCwgaXQgc2Nyb2xscyB0byB0aGUgZWxlbWVudCByZWxhdGVkIHRvIHRoZSBzcGVjaWZpZWQgYGhhc2hgIG9yIChpZiBvbWl0dGVkKSB0byB0aGVcbiAgICogY3VycmVudCB2YWx1ZSBvZiB7QGxpbmsgbmcuJGxvY2F0aW9uI2hhc2ggJGxvY2F0aW9uLmhhc2goKX0sIGFjY29yZGluZyB0byB0aGUgcnVsZXMgc3BlY2lmaWVkXG4gICAqIGluIHRoZVxuICAgKiBbSFRNTDUgc3BlY10oaHR0cDovL3d3dy53My5vcmcvaHRtbC93Zy9kcmFmdHMvaHRtbC9tYXN0ZXIvYnJvd3NlcnMuaHRtbCNhbi1pbmRpY2F0ZWQtcGFydC1vZi10aGUtZG9jdW1lbnQpLlxuICAgKlxuICAgKiBJdCBhbHNvIHdhdGNoZXMgdGhlIHtAbGluayBuZy4kbG9jYXRpb24jaGFzaCAkbG9jYXRpb24uaGFzaCgpfSBhbmQgYXV0b21hdGljYWxseSBzY3JvbGxzIHRvXG4gICAqIG1hdGNoIGFueSBhbmNob3Igd2hlbmV2ZXIgaXQgY2hhbmdlcy4gVGhpcyBjYW4gYmUgZGlzYWJsZWQgYnkgY2FsbGluZ1xuICAgKiB7QGxpbmsgbmcuJGFuY2hvclNjcm9sbFByb3ZpZGVyI2Rpc2FibGVBdXRvU2Nyb2xsaW5nICRhbmNob3JTY3JvbGxQcm92aWRlci5kaXNhYmxlQXV0b1Njcm9sbGluZygpfS5cbiAgICpcbiAgICogQWRkaXRpb25hbGx5LCB5b3UgY2FuIHVzZSBpdHMge0BsaW5rIG5nLiRhbmNob3JTY3JvbGwjeU9mZnNldCB5T2Zmc2V0fSBwcm9wZXJ0eSB0byBzcGVjaWZ5IGFcbiAgICogdmVydGljYWwgc2Nyb2xsLW9mZnNldCAoZWl0aGVyIGZpeGVkIG9yIGR5bmFtaWMpLlxuICAgKlxuICAgKiBAcGFyYW0ge3N0cmluZz19IGhhc2ggVGhlIGhhc2ggc3BlY2lmeWluZyB0aGUgZWxlbWVudCB0byBzY3JvbGwgdG8uIElmIG9taXR0ZWQsIHRoZSB2YWx1ZSBvZlxuICAgKiAgICAgICAgICAgICAgICAgICAgICAge0BsaW5rIG5nLiRsb2NhdGlvbiNoYXNoICRsb2NhdGlvbi5oYXNoKCl9IHdpbGwgYmUgdXNlZC5cbiAgICpcbiAgICogQHByb3BlcnR5IHsobnVtYmVyfGZ1bmN0aW9ufGpxTGl0ZSl9IHlPZmZzZXRcbiAgICogSWYgc2V0LCBzcGVjaWZpZXMgYSB2ZXJ0aWNhbCBzY3JvbGwtb2Zmc2V0LiBUaGlzIGlzIG9mdGVuIHVzZWZ1bCB3aGVuIHRoZXJlIGFyZSBmaXhlZFxuICAgKiBwb3NpdGlvbmVkIGVsZW1lbnRzIGF0IHRoZSB0b3Agb2YgdGhlIHBhZ2UsIHN1Y2ggYXMgbmF2YmFycywgaGVhZGVycyBldGMuXG4gICAqXG4gICAqIGB5T2Zmc2V0YCBjYW4gYmUgc3BlY2lmaWVkIGluIHZhcmlvdXMgd2F5czpcbiAgICogLSAqKm51bWJlcioqOiBBIGZpeGVkIG51bWJlciBvZiBwaXhlbHMgdG8gYmUgdXNlZCBhcyBvZmZzZXQuPGJyIC8+PGJyIC8+XG4gICAqIC0gKipmdW5jdGlvbioqOiBBIGdldHRlciBmdW5jdGlvbiBjYWxsZWQgZXZlcnl0aW1lIGAkYW5jaG9yU2Nyb2xsKClgIGlzIGV4ZWN1dGVkLiBNdXN0IHJldHVyblxuICAgKiAgIGEgbnVtYmVyIHJlcHJlc2VudGluZyB0aGUgb2Zmc2V0IChpbiBwaXhlbHMpLjxiciAvPjxiciAvPlxuICAgKiAtICoqanFMaXRlKio6IEEganFMaXRlL2pRdWVyeSBlbGVtZW50IHRvIGJlIHVzZWQgZm9yIHNwZWNpZnlpbmcgdGhlIG9mZnNldC4gVGhlIGRpc3RhbmNlIGZyb21cbiAgICogICB0aGUgdG9wIG9mIHRoZSBwYWdlIHRvIHRoZSBlbGVtZW50J3MgYm90dG9tIHdpbGwgYmUgdXNlZCBhcyBvZmZzZXQuPGJyIC8+XG4gICAqICAgKipOb3RlKio6IFRoZSBlbGVtZW50IHdpbGwgYmUgdGFrZW4gaW50byBhY2NvdW50IG9ubHkgYXMgbG9uZyBhcyBpdHMgYHBvc2l0aW9uYCBpcyBzZXQgdG9cbiAgICogICBgZml4ZWRgLiBUaGlzIG9wdGlvbiBpcyB1c2VmdWwsIHdoZW4gZGVhbGluZyB3aXRoIHJlc3BvbnNpdmUgbmF2YmFycy9oZWFkZXJzIHRoYXQgYWRqdXN0XG4gICAqICAgdGhlaXIgaGVpZ2h0IGFuZC9vciBwb3NpdGlvbmluZyBhY2NvcmRpbmcgdG8gdGhlIHZpZXdwb3J0J3Mgc2l6ZS5cbiAgICpcbiAgICogPGJyIC8+XG4gICAqIDxkaXYgY2xhc3M9XCJhbGVydCBhbGVydC13YXJuaW5nXCI+XG4gICAqIEluIG9yZGVyIGZvciBgeU9mZnNldGAgdG8gd29yayBwcm9wZXJseSwgc2Nyb2xsaW5nIHNob3VsZCB0YWtlIHBsYWNlIG9uIHRoZSBkb2N1bWVudCdzIHJvb3QgYW5kXG4gICAqIG5vdCBzb21lIGNoaWxkIGVsZW1lbnQuXG4gICAqIDwvZGl2PlxuICAgKlxuICAgKiBAZXhhbXBsZVxuICAgICA8ZXhhbXBsZSBtb2R1bGU9XCJhbmNob3JTY3JvbGxFeGFtcGxlXCIgbmFtZT1cImFuY2hvci1zY3JvbGxcIj5cbiAgICAgICA8ZmlsZSBuYW1lPVwiaW5kZXguaHRtbFwiPlxuICAgICAgICAgPGRpdiBpZD1cInNjcm9sbEFyZWFcIiBuZy1jb250cm9sbGVyPVwiU2Nyb2xsQ29udHJvbGxlclwiPlxuICAgICAgICAgICA8YSBuZy1jbGljaz1cImdvdG9Cb3R0b20oKVwiPkdvIHRvIGJvdHRvbTwvYT5cbiAgICAgICAgICAgPGEgaWQ9XCJib3R0b21cIj48L2E+IFlvdSdyZSBhdCB0aGUgYm90dG9tIVxuICAgICAgICAgPC9kaXY+XG4gICAgICAgPC9maWxlPlxuICAgICAgIDxmaWxlIG5hbWU9XCJzY3JpcHQuanNcIj5cbiAgICAgICAgIGFuZ3VsYXIubW9kdWxlKCdhbmNob3JTY3JvbGxFeGFtcGxlJywgW10pXG4gICAgICAgICAgIC5jb250cm9sbGVyKCdTY3JvbGxDb250cm9sbGVyJywgWyckc2NvcGUnLCAnJGxvY2F0aW9uJywgJyRhbmNob3JTY3JvbGwnLFxuICAgICAgICAgICAgIGZ1bmN0aW9uKCRzY29wZSwgJGxvY2F0aW9uLCAkYW5jaG9yU2Nyb2xsKSB7XG4gICAgICAgICAgICAgICAkc2NvcGUuZ290b0JvdHRvbSA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICAvLyBzZXQgdGhlIGxvY2F0aW9uLmhhc2ggdG8gdGhlIGlkIG9mXG4gICAgICAgICAgICAgICAgIC8vIHRoZSBlbGVtZW50IHlvdSB3aXNoIHRvIHNjcm9sbCB0by5cbiAgICAgICAgICAgICAgICAgJGxvY2F0aW9uLmhhc2goJ2JvdHRvbScpO1xuXG4gICAgICAgICAgICAgICAgIC8vIGNhbGwgJGFuY2hvclNjcm9sbCgpXG4gICAgICAgICAgICAgICAgICRhbmNob3JTY3JvbGwoKTtcbiAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgfV0pO1xuICAgICAgIDwvZmlsZT5cbiAgICAgICA8ZmlsZSBuYW1lPVwic3R5bGUuY3NzXCI+XG4gICAgICAgICAjc2Nyb2xsQXJlYSB7XG4gICAgICAgICAgIGhlaWdodDogMjgwcHg7XG4gICAgICAgICAgIG92ZXJmbG93OiBhdXRvO1xuICAgICAgICAgfVxuXG4gICAgICAgICAjYm90dG9tIHtcbiAgICAgICAgICAgZGlzcGxheTogYmxvY2s7XG4gICAgICAgICAgIG1hcmdpbi10b3A6IDIwMDBweDtcbiAgICAgICAgIH1cbiAgICAgICA8L2ZpbGU+XG4gICAgIDwvZXhhbXBsZT5cbiAgICpcbiAgICogPGhyIC8+XG4gICAqIFRoZSBleGFtcGxlIGJlbG93IGlsbHVzdHJhdGVzIHRoZSB1c2Ugb2YgYSB2ZXJ0aWNhbCBzY3JvbGwtb2Zmc2V0IChzcGVjaWZpZWQgYXMgYSBmaXhlZCB2YWx1ZSkuXG4gICAqIFNlZSB7QGxpbmsgbmcuJGFuY2hvclNjcm9sbCN5T2Zmc2V0ICRhbmNob3JTY3JvbGwueU9mZnNldH0gZm9yIG1vcmUgZGV0YWlscy5cbiAgICpcbiAgICogQGV4YW1wbGVcbiAgICAgPGV4YW1wbGUgbW9kdWxlPVwiYW5jaG9yU2Nyb2xsT2Zmc2V0RXhhbXBsZVwiIG5hbWU9XCJhbmNob3Itc2Nyb2xsLW9mZnNldFwiPlxuICAgICAgIDxmaWxlIG5hbWU9XCJpbmRleC5odG1sXCI+XG4gICAgICAgICA8ZGl2IGNsYXNzPVwiZml4ZWQtaGVhZGVyXCIgbmctY29udHJvbGxlcj1cImhlYWRlckN0cmxcIj5cbiAgICAgICAgICAgPGEgaHJlZj1cIlwiIG5nLWNsaWNrPVwiZ290b0FuY2hvcih4KVwiIG5nLXJlcGVhdD1cInggaW4gWzEsMiwzLDQsNV1cIj5cbiAgICAgICAgICAgICBHbyB0byBhbmNob3Ige3t4fX1cbiAgICAgICAgICAgPC9hPlxuICAgICAgICAgPC9kaXY+XG4gICAgICAgICA8ZGl2IGlkPVwiYW5jaG9ye3t4fX1cIiBjbGFzcz1cImFuY2hvclwiIG5nLXJlcGVhdD1cInggaW4gWzEsMiwzLDQsNV1cIj5cbiAgICAgICAgICAgQW5jaG9yIHt7eH19IG9mIDVcbiAgICAgICAgIDwvZGl2PlxuICAgICAgIDwvZmlsZT5cbiAgICAgICA8ZmlsZSBuYW1lPVwic2NyaXB0LmpzXCI+XG4gICAgICAgICBhbmd1bGFyLm1vZHVsZSgnYW5jaG9yU2Nyb2xsT2Zmc2V0RXhhbXBsZScsIFtdKVxuICAgICAgICAgICAucnVuKFsnJGFuY2hvclNjcm9sbCcsIGZ1bmN0aW9uKCRhbmNob3JTY3JvbGwpIHtcbiAgICAgICAgICAgICAkYW5jaG9yU2Nyb2xsLnlPZmZzZXQgPSA1MDsgICAvLyBhbHdheXMgc2Nyb2xsIGJ5IDUwIGV4dHJhIHBpeGVsc1xuICAgICAgICAgICB9XSlcbiAgICAgICAgICAgLmNvbnRyb2xsZXIoJ2hlYWRlckN0cmwnLCBbJyRhbmNob3JTY3JvbGwnLCAnJGxvY2F0aW9uJywgJyRzY29wZScsXG4gICAgICAgICAgICAgZnVuY3Rpb24oJGFuY2hvclNjcm9sbCwgJGxvY2F0aW9uLCAkc2NvcGUpIHtcbiAgICAgICAgICAgICAgICRzY29wZS5nb3RvQW5jaG9yID0gZnVuY3Rpb24oeCkge1xuICAgICAgICAgICAgICAgICB2YXIgbmV3SGFzaCA9ICdhbmNob3InICsgeDtcbiAgICAgICAgICAgICAgICAgaWYgKCRsb2NhdGlvbi5oYXNoKCkgIT09IG5ld0hhc2gpIHtcbiAgICAgICAgICAgICAgICAgICAvLyBzZXQgdGhlICRsb2NhdGlvbi5oYXNoIHRvIGBuZXdIYXNoYCBhbmRcbiAgICAgICAgICAgICAgICAgICAvLyAkYW5jaG9yU2Nyb2xsIHdpbGwgYXV0b21hdGljYWxseSBzY3JvbGwgdG8gaXRcbiAgICAgICAgICAgICAgICAgICAkbG9jYXRpb24uaGFzaCgnYW5jaG9yJyArIHgpO1xuICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgIC8vIGNhbGwgJGFuY2hvclNjcm9sbCgpIGV4cGxpY2l0bHksXG4gICAgICAgICAgICAgICAgICAgLy8gc2luY2UgJGxvY2F0aW9uLmhhc2ggaGFzbid0IGNoYW5nZWRcbiAgICAgICAgICAgICAgICAgICAkYW5jaG9yU2Nyb2xsKCk7XG4gICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgfVxuICAgICAgICAgICBdKTtcbiAgICAgICA8L2ZpbGU+XG4gICAgICAgPGZpbGUgbmFtZT1cInN0eWxlLmNzc1wiPlxuICAgICAgICAgYm9keSB7XG4gICAgICAgICAgIHBhZGRpbmctdG9wOiA1MHB4O1xuICAgICAgICAgfVxuXG4gICAgICAgICAuYW5jaG9yIHtcbiAgICAgICAgICAgYm9yZGVyOiAycHggZGFzaGVkIERhcmtPcmNoaWQ7XG4gICAgICAgICAgIHBhZGRpbmc6IDEwcHggMTBweCAyMDBweCAxMHB4O1xuICAgICAgICAgfVxuXG4gICAgICAgICAuZml4ZWQtaGVhZGVyIHtcbiAgICAgICAgICAgYmFja2dyb3VuZC1jb2xvcjogcmdiYSgwLCAwLCAwLCAwLjIpO1xuICAgICAgICAgICBoZWlnaHQ6IDUwcHg7XG4gICAgICAgICAgIHBvc2l0aW9uOiBmaXhlZDtcbiAgICAgICAgICAgdG9wOiAwOyBsZWZ0OiAwOyByaWdodDogMDtcbiAgICAgICAgIH1cblxuICAgICAgICAgLmZpeGVkLWhlYWRlciA+IGEge1xuICAgICAgICAgICBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7XG4gICAgICAgICAgIG1hcmdpbjogNXB4IDE1cHg7XG4gICAgICAgICB9XG4gICAgICAgPC9maWxlPlxuICAgICA8L2V4YW1wbGU+XG4gICAqL1xuICB0aGlzLiRnZXQgPSBbJyR3aW5kb3cnLCAnJGxvY2F0aW9uJywgJyRyb290U2NvcGUnLCBmdW5jdGlvbigkd2luZG93LCAkbG9jYXRpb24sICRyb290U2NvcGUpIHtcbiAgICB2YXIgZG9jdW1lbnQgPSAkd2luZG93LmRvY3VtZW50O1xuXG4gICAgLy8gSGVscGVyIGZ1bmN0aW9uIHRvIGdldCBmaXJzdCBhbmNob3IgZnJvbSBhIE5vZGVMaXN0XG4gICAgLy8gKHVzaW5nIGBBcnJheSNzb21lKClgIGluc3RlYWQgb2YgYGFuZ3VsYXIjZm9yRWFjaCgpYCBzaW5jZSBpdCdzIG1vcmUgcGVyZm9ybWFudFxuICAgIC8vICBhbmQgd29ya2luZyBpbiBhbGwgc3VwcG9ydGVkIGJyb3dzZXJzLilcbiAgICBmdW5jdGlvbiBnZXRGaXJzdEFuY2hvcihsaXN0KSB7XG4gICAgICB2YXIgcmVzdWx0ID0gbnVsbDtcbiAgICAgIEFycmF5LnByb3RvdHlwZS5zb21lLmNhbGwobGlzdCwgZnVuY3Rpb24oZWxlbWVudCkge1xuICAgICAgICBpZiAobm9kZU5hbWVfKGVsZW1lbnQpID09PSAnYScpIHtcbiAgICAgICAgICByZXN1bHQgPSBlbGVtZW50O1xuICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gZ2V0WU9mZnNldCgpIHtcblxuICAgICAgdmFyIG9mZnNldCA9IHNjcm9sbC55T2Zmc2V0O1xuXG4gICAgICBpZiAoaXNGdW5jdGlvbihvZmZzZXQpKSB7XG4gICAgICAgIG9mZnNldCA9IG9mZnNldCgpO1xuICAgICAgfSBlbHNlIGlmIChpc0VsZW1lbnQob2Zmc2V0KSkge1xuICAgICAgICB2YXIgZWxlbSA9IG9mZnNldFswXTtcbiAgICAgICAgdmFyIHN0eWxlID0gJHdpbmRvdy5nZXRDb21wdXRlZFN0eWxlKGVsZW0pO1xuICAgICAgICBpZiAoc3R5bGUucG9zaXRpb24gIT09ICdmaXhlZCcpIHtcbiAgICAgICAgICBvZmZzZXQgPSAwO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIG9mZnNldCA9IGVsZW0uZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkuYm90dG9tO1xuICAgICAgICB9XG4gICAgICB9IGVsc2UgaWYgKCFpc051bWJlcihvZmZzZXQpKSB7XG4gICAgICAgIG9mZnNldCA9IDA7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBvZmZzZXQ7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gc2Nyb2xsVG8oZWxlbSkge1xuICAgICAgaWYgKGVsZW0pIHtcbiAgICAgICAgZWxlbS5zY3JvbGxJbnRvVmlldygpO1xuXG4gICAgICAgIHZhciBvZmZzZXQgPSBnZXRZT2Zmc2V0KCk7XG5cbiAgICAgICAgaWYgKG9mZnNldCkge1xuICAgICAgICAgIC8vIGBvZmZzZXRgIGlzIHRoZSBudW1iZXIgb2YgcGl4ZWxzIHdlIHNob3VsZCBzY3JvbGwgVVAgaW4gb3JkZXIgdG8gYWxpZ24gYGVsZW1gIHByb3Blcmx5LlxuICAgICAgICAgIC8vIFRoaXMgaXMgdHJ1ZSBPTkxZIGlmIHRoZSBjYWxsIHRvIGBlbGVtLnNjcm9sbEludG9WaWV3KClgIGluaXRpYWxseSBhbGlnbnMgYGVsZW1gIGF0IHRoZVxuICAgICAgICAgIC8vIHRvcCBvZiB0aGUgdmlld3BvcnQuXG4gICAgICAgICAgLy9cbiAgICAgICAgICAvLyBJRiB0aGUgbnVtYmVyIG9mIHBpeGVscyBmcm9tIHRoZSB0b3Agb2YgYGVsZW1gIHRvIHRoZSBlbmQgb2YgdGhlIHBhZ2UncyBjb250ZW50IGlzIGxlc3NcbiAgICAgICAgICAvLyB0aGFuIHRoZSBoZWlnaHQgb2YgdGhlIHZpZXdwb3J0LCB0aGVuIGBlbGVtLnNjcm9sbEludG9WaWV3KClgIHdpbGwgYWxpZ24gdGhlIGBlbGVtYCBzb21lXG4gICAgICAgICAgLy8gd2F5IGRvd24gdGhlIHBhZ2UuXG4gICAgICAgICAgLy9cbiAgICAgICAgICAvLyBUaGlzIGlzIG9mdGVuIHRoZSBjYXNlIGZvciBlbGVtZW50cyBuZWFyIHRoZSBib3R0b20gb2YgdGhlIHBhZ2UuXG4gICAgICAgICAgLy9cbiAgICAgICAgICAvLyBJbiBzdWNoIGNhc2VzIHdlIGRvIG5vdCBuZWVkIHRvIHNjcm9sbCB0aGUgd2hvbGUgYG9mZnNldGAgdXAsIGp1c3QgdGhlIGRpZmZlcmVuY2UgYmV0d2VlblxuICAgICAgICAgIC8vIHRoZSB0b3Agb2YgdGhlIGVsZW1lbnQgYW5kIHRoZSBvZmZzZXQsIHdoaWNoIGlzIGVub3VnaCB0byBhbGlnbiB0aGUgdG9wIG9mIGBlbGVtYCBhdCB0aGVcbiAgICAgICAgICAvLyBkZXNpcmVkIHBvc2l0aW9uLlxuICAgICAgICAgIHZhciBlbGVtVG9wID0gZWxlbS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS50b3A7XG4gICAgICAgICAgJHdpbmRvdy5zY3JvbGxCeSgwLCBlbGVtVG9wIC0gb2Zmc2V0KTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgJHdpbmRvdy5zY3JvbGxUbygwLCAwKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBmdW5jdGlvbiBzY3JvbGwoaGFzaCkge1xuICAgICAgLy8gQWxsb3cgbnVtZXJpYyBoYXNoZXNcbiAgICAgIGhhc2ggPSBpc1N0cmluZyhoYXNoKSA/IGhhc2ggOiBpc051bWJlcihoYXNoKSA/IGhhc2gudG9TdHJpbmcoKSA6ICRsb2NhdGlvbi5oYXNoKCk7XG4gICAgICB2YXIgZWxtO1xuXG4gICAgICAvLyBlbXB0eSBoYXNoLCBzY3JvbGwgdG8gdGhlIHRvcCBvZiB0aGUgcGFnZVxuICAgICAgaWYgKCFoYXNoKSBzY3JvbGxUbyhudWxsKTtcblxuICAgICAgLy8gZWxlbWVudCB3aXRoIGdpdmVuIGlkXG4gICAgICBlbHNlIGlmICgoZWxtID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoaGFzaCkpKSBzY3JvbGxUbyhlbG0pO1xuXG4gICAgICAvLyBmaXJzdCBhbmNob3Igd2l0aCBnaXZlbiBuYW1lIDotRFxuICAgICAgZWxzZSBpZiAoKGVsbSA9IGdldEZpcnN0QW5jaG9yKGRvY3VtZW50LmdldEVsZW1lbnRzQnlOYW1lKGhhc2gpKSkpIHNjcm9sbFRvKGVsbSk7XG5cbiAgICAgIC8vIG5vIGVsZW1lbnQgYW5kIGhhc2ggPT09ICd0b3AnLCBzY3JvbGwgdG8gdGhlIHRvcCBvZiB0aGUgcGFnZVxuICAgICAgZWxzZSBpZiAoaGFzaCA9PT0gJ3RvcCcpIHNjcm9sbFRvKG51bGwpO1xuICAgIH1cblxuICAgIC8vIGRvZXMgbm90IHNjcm9sbCB3aGVuIHVzZXIgY2xpY2tzIG9uIGFuY2hvciBsaW5rIHRoYXQgaXMgY3VycmVudGx5IG9uXG4gICAgLy8gKG5vIHVybCBjaGFuZ2UsIG5vICRsb2NhdGlvbi5oYXNoKCkgY2hhbmdlKSwgYnJvd3NlciBuYXRpdmUgZG9lcyBzY3JvbGxcbiAgICBpZiAoYXV0b1Njcm9sbGluZ0VuYWJsZWQpIHtcbiAgICAgICRyb290U2NvcGUuJHdhdGNoKGZ1bmN0aW9uIGF1dG9TY3JvbGxXYXRjaCgpIHtyZXR1cm4gJGxvY2F0aW9uLmhhc2goKTt9LFxuICAgICAgICBmdW5jdGlvbiBhdXRvU2Nyb2xsV2F0Y2hBY3Rpb24obmV3VmFsLCBvbGRWYWwpIHtcbiAgICAgICAgICAvLyBza2lwIHRoZSBpbml0aWFsIHNjcm9sbCBpZiAkbG9jYXRpb24uaGFzaCBpcyBlbXB0eVxuICAgICAgICAgIGlmIChuZXdWYWwgPT09IG9sZFZhbCAmJiBuZXdWYWwgPT09ICcnKSByZXR1cm47XG5cbiAgICAgICAgICBqcUxpdGVEb2N1bWVudExvYWRlZChmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICRyb290U2NvcGUuJGV2YWxBc3luYyhzY3JvbGwpO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICByZXR1cm4gc2Nyb2xsO1xuICB9XTtcbn1cblxudmFyICRhbmltYXRlTWluRXJyID0gbWluRXJyKCckYW5pbWF0ZScpO1xudmFyIEVMRU1FTlRfTk9ERSA9IDE7XG52YXIgTkdfQU5JTUFURV9DTEFTU05BTUUgPSAnbmctYW5pbWF0ZSc7XG5cbmZ1bmN0aW9uIG1lcmdlQ2xhc3NlcyhhLGIpIHtcbiAgaWYgKCFhICYmICFiKSByZXR1cm4gJyc7XG4gIGlmICghYSkgcmV0dXJuIGI7XG4gIGlmICghYikgcmV0dXJuIGE7XG4gIGlmIChpc0FycmF5KGEpKSBhID0gYS5qb2luKCcgJyk7XG4gIGlmIChpc0FycmF5KGIpKSBiID0gYi5qb2luKCcgJyk7XG4gIHJldHVybiBhICsgJyAnICsgYjtcbn1cblxuZnVuY3Rpb24gZXh0cmFjdEVsZW1lbnROb2RlKGVsZW1lbnQpIHtcbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBlbGVtZW50Lmxlbmd0aDsgaSsrKSB7XG4gICAgdmFyIGVsbSA9IGVsZW1lbnRbaV07XG4gICAgaWYgKGVsbS5ub2RlVHlwZSA9PT0gRUxFTUVOVF9OT0RFKSB7XG4gICAgICByZXR1cm4gZWxtO1xuICAgIH1cbiAgfVxufVxuXG5mdW5jdGlvbiBzcGxpdENsYXNzZXMoY2xhc3Nlcykge1xuICBpZiAoaXNTdHJpbmcoY2xhc3NlcykpIHtcbiAgICBjbGFzc2VzID0gY2xhc3Nlcy5zcGxpdCgnICcpO1xuICB9XG5cbiAgLy8gVXNlIGNyZWF0ZU1hcCgpIHRvIHByZXZlbnQgY2xhc3MgYXNzdW1wdGlvbnMgaW52b2x2aW5nIHByb3BlcnR5IG5hbWVzIGluXG4gIC8vIE9iamVjdC5wcm90b3R5cGVcbiAgdmFyIG9iaiA9IGNyZWF0ZU1hcCgpO1xuICBmb3JFYWNoKGNsYXNzZXMsIGZ1bmN0aW9uKGtsYXNzKSB7XG4gICAgLy8gc29tZXRpbWVzIHRoZSBzcGxpdCBsZWF2ZXMgZW1wdHkgc3RyaW5nIHZhbHVlc1xuICAgIC8vIGluY2FzZSBleHRyYSBzcGFjZXMgd2VyZSBhcHBsaWVkIHRvIHRoZSBvcHRpb25zXG4gICAgaWYgKGtsYXNzLmxlbmd0aCkge1xuICAgICAgb2JqW2tsYXNzXSA9IHRydWU7XG4gICAgfVxuICB9KTtcbiAgcmV0dXJuIG9iajtcbn1cblxuLy8gaWYgYW55IG90aGVyIHR5cGUgb2Ygb3B0aW9ucyB2YWx1ZSBiZXNpZGVzIGFuIE9iamVjdCB2YWx1ZSBpc1xuLy8gcGFzc2VkIGludG8gdGhlICRhbmltYXRlLm1ldGhvZCgpIGFuaW1hdGlvbiB0aGVuIHRoaXMgaGVscGVyIGNvZGVcbi8vIHdpbGwgYmUgcnVuIHdoaWNoIHdpbGwgaWdub3JlIGl0LiBXaGlsZSB0aGlzIHBhdGNoIGlzIG5vdCB0aGVcbi8vIGdyZWF0ZXN0IHNvbHV0aW9uIHRvIHRoaXMsIGEgbG90IG9mIGV4aXN0aW5nIHBsdWdpbnMgZGVwZW5kIG9uXG4vLyAkYW5pbWF0ZSB0byBlaXRoZXIgY2FsbCB0aGUgY2FsbGJhY2sgKDwgMS4yKSBvciByZXR1cm4gYSBwcm9taXNlXG4vLyB0aGF0IGNhbiBiZSBjaGFuZ2VkLiBUaGlzIGhlbHBlciBmdW5jdGlvbiBlbnN1cmVzIHRoYXQgdGhlIG9wdGlvbnNcbi8vIGFyZSB3aXBlZCBjbGVhbiBpbmNhc2UgYSBjYWxsYmFjayBmdW5jdGlvbiBpcyBwcm92aWRlZC5cbmZ1bmN0aW9uIHByZXBhcmVBbmltYXRlT3B0aW9ucyhvcHRpb25zKSB7XG4gIHJldHVybiBpc09iamVjdChvcHRpb25zKVxuICAgICAgPyBvcHRpb25zXG4gICAgICA6IHt9O1xufVxuXG52YXIgJCRDb3JlQW5pbWF0ZUpzUHJvdmlkZXIgPSAvKiogQHRoaXMgKi8gZnVuY3Rpb24oKSB7XG4gIHRoaXMuJGdldCA9IG5vb3A7XG59O1xuXG4vLyB0aGlzIGlzIHByZWZpeGVkIHdpdGggQ29yZSBzaW5jZSBpdCBjb25mbGljdHMgd2l0aFxuLy8gdGhlIGFuaW1hdGVRdWV1ZVByb3ZpZGVyIGRlZmluZWQgaW4gbmdBbmltYXRlL2FuaW1hdGVRdWV1ZS5qc1xudmFyICQkQ29yZUFuaW1hdGVRdWV1ZVByb3ZpZGVyID0gLyoqIEB0aGlzICovIGZ1bmN0aW9uKCkge1xuICB2YXIgcG9zdERpZ2VzdFF1ZXVlID0gbmV3IE5nTWFwKCk7XG4gIHZhciBwb3N0RGlnZXN0RWxlbWVudHMgPSBbXTtcblxuICB0aGlzLiRnZXQgPSBbJyQkQW5pbWF0ZVJ1bm5lcicsICckcm9vdFNjb3BlJyxcbiAgICAgICBmdW5jdGlvbigkJEFuaW1hdGVSdW5uZXIsICAgJHJvb3RTY29wZSkge1xuICAgIHJldHVybiB7XG4gICAgICBlbmFibGVkOiBub29wLFxuICAgICAgb246IG5vb3AsXG4gICAgICBvZmY6IG5vb3AsXG4gICAgICBwaW46IG5vb3AsXG5cbiAgICAgIHB1c2g6IGZ1bmN0aW9uKGVsZW1lbnQsIGV2ZW50LCBvcHRpb25zLCBkb21PcGVyYXRpb24pIHtcbiAgICAgICAgaWYgKGRvbU9wZXJhdGlvbikge1xuICAgICAgICAgIGRvbU9wZXJhdGlvbigpO1xuICAgICAgICB9XG5cbiAgICAgICAgb3B0aW9ucyA9IG9wdGlvbnMgfHwge307XG4gICAgICAgIGlmIChvcHRpb25zLmZyb20pIHtcbiAgICAgICAgICBlbGVtZW50LmNzcyhvcHRpb25zLmZyb20pO1xuICAgICAgICB9XG4gICAgICAgIGlmIChvcHRpb25zLnRvKSB7XG4gICAgICAgICAgZWxlbWVudC5jc3Mob3B0aW9ucy50byk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAob3B0aW9ucy5hZGRDbGFzcyB8fCBvcHRpb25zLnJlbW92ZUNsYXNzKSB7XG4gICAgICAgICAgYWRkUmVtb3ZlQ2xhc3Nlc1Bvc3REaWdlc3QoZWxlbWVudCwgb3B0aW9ucy5hZGRDbGFzcywgb3B0aW9ucy5yZW1vdmVDbGFzcyk7XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgcnVubmVyID0gbmV3ICQkQW5pbWF0ZVJ1bm5lcigpO1xuXG4gICAgICAgIC8vIHNpbmNlIHRoZXJlIGFyZSBubyBhbmltYXRpb25zIHRvIHJ1biB0aGUgcnVubmVyIG5lZWRzIHRvIGJlXG4gICAgICAgIC8vIG5vdGlmaWVkIHRoYXQgdGhlIGFuaW1hdGlvbiBjYWxsIGlzIGNvbXBsZXRlLlxuICAgICAgICBydW5uZXIuY29tcGxldGUoKTtcbiAgICAgICAgcmV0dXJuIHJ1bm5lcjtcbiAgICAgIH1cbiAgICB9O1xuXG5cbiAgICBmdW5jdGlvbiB1cGRhdGVEYXRhKGRhdGEsIGNsYXNzZXMsIHZhbHVlKSB7XG4gICAgICB2YXIgY2hhbmdlZCA9IGZhbHNlO1xuICAgICAgaWYgKGNsYXNzZXMpIHtcbiAgICAgICAgY2xhc3NlcyA9IGlzU3RyaW5nKGNsYXNzZXMpID8gY2xhc3Nlcy5zcGxpdCgnICcpIDpcbiAgICAgICAgICAgICAgICAgIGlzQXJyYXkoY2xhc3NlcykgPyBjbGFzc2VzIDogW107XG4gICAgICAgIGZvckVhY2goY2xhc3NlcywgZnVuY3Rpb24oY2xhc3NOYW1lKSB7XG4gICAgICAgICAgaWYgKGNsYXNzTmFtZSkge1xuICAgICAgICAgICAgY2hhbmdlZCA9IHRydWU7XG4gICAgICAgICAgICBkYXRhW2NsYXNzTmFtZV0gPSB2YWx1ZTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGNoYW5nZWQ7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gaGFuZGxlQ1NTQ2xhc3NDaGFuZ2VzKCkge1xuICAgICAgZm9yRWFjaChwb3N0RGlnZXN0RWxlbWVudHMsIGZ1bmN0aW9uKGVsZW1lbnQpIHtcbiAgICAgICAgdmFyIGRhdGEgPSBwb3N0RGlnZXN0UXVldWUuZ2V0KGVsZW1lbnQpO1xuICAgICAgICBpZiAoZGF0YSkge1xuICAgICAgICAgIHZhciBleGlzdGluZyA9IHNwbGl0Q2xhc3NlcyhlbGVtZW50LmF0dHIoJ2NsYXNzJykpO1xuICAgICAgICAgIHZhciB0b0FkZCA9ICcnO1xuICAgICAgICAgIHZhciB0b1JlbW92ZSA9ICcnO1xuICAgICAgICAgIGZvckVhY2goZGF0YSwgZnVuY3Rpb24oc3RhdHVzLCBjbGFzc05hbWUpIHtcbiAgICAgICAgICAgIHZhciBoYXNDbGFzcyA9ICEhZXhpc3RpbmdbY2xhc3NOYW1lXTtcbiAgICAgICAgICAgIGlmIChzdGF0dXMgIT09IGhhc0NsYXNzKSB7XG4gICAgICAgICAgICAgIGlmIChzdGF0dXMpIHtcbiAgICAgICAgICAgICAgICB0b0FkZCArPSAodG9BZGQubGVuZ3RoID8gJyAnIDogJycpICsgY2xhc3NOYW1lO1xuICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHRvUmVtb3ZlICs9ICh0b1JlbW92ZS5sZW5ndGggPyAnICcgOiAnJykgKyBjbGFzc05hbWU7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9KTtcblxuICAgICAgICAgIGZvckVhY2goZWxlbWVudCwgZnVuY3Rpb24oZWxtKSB7XG4gICAgICAgICAgICBpZiAodG9BZGQpIHtcbiAgICAgICAgICAgICAganFMaXRlQWRkQ2xhc3MoZWxtLCB0b0FkZCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAodG9SZW1vdmUpIHtcbiAgICAgICAgICAgICAganFMaXRlUmVtb3ZlQ2xhc3MoZWxtLCB0b1JlbW92ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSk7XG4gICAgICAgICAgcG9zdERpZ2VzdFF1ZXVlLmRlbGV0ZShlbGVtZW50KTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgICBwb3N0RGlnZXN0RWxlbWVudHMubGVuZ3RoID0gMDtcbiAgICB9XG5cblxuICAgIGZ1bmN0aW9uIGFkZFJlbW92ZUNsYXNzZXNQb3N0RGlnZXN0KGVsZW1lbnQsIGFkZCwgcmVtb3ZlKSB7XG4gICAgICB2YXIgZGF0YSA9IHBvc3REaWdlc3RRdWV1ZS5nZXQoZWxlbWVudCkgfHwge307XG5cbiAgICAgIHZhciBjbGFzc2VzQWRkZWQgPSB1cGRhdGVEYXRhKGRhdGEsIGFkZCwgdHJ1ZSk7XG4gICAgICB2YXIgY2xhc3Nlc1JlbW92ZWQgPSB1cGRhdGVEYXRhKGRhdGEsIHJlbW92ZSwgZmFsc2UpO1xuXG4gICAgICBpZiAoY2xhc3Nlc0FkZGVkIHx8IGNsYXNzZXNSZW1vdmVkKSB7XG5cbiAgICAgICAgcG9zdERpZ2VzdFF1ZXVlLnNldChlbGVtZW50LCBkYXRhKTtcbiAgICAgICAgcG9zdERpZ2VzdEVsZW1lbnRzLnB1c2goZWxlbWVudCk7XG5cbiAgICAgICAgaWYgKHBvc3REaWdlc3RFbGVtZW50cy5sZW5ndGggPT09IDEpIHtcbiAgICAgICAgICAkcm9vdFNjb3BlLiQkcG9zdERpZ2VzdChoYW5kbGVDU1NDbGFzc0NoYW5nZXMpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9XTtcbn07XG5cbi8qKlxuICogQG5nZG9jIHByb3ZpZGVyXG4gKiBAbmFtZSAkYW5pbWF0ZVByb3ZpZGVyXG4gKlxuICogQGRlc2NyaXB0aW9uXG4gKiBEZWZhdWx0IGltcGxlbWVudGF0aW9uIG9mICRhbmltYXRlIHRoYXQgZG9lc24ndCBwZXJmb3JtIGFueSBhbmltYXRpb25zLCBpbnN0ZWFkIGp1c3RcbiAqIHN5bmNocm9ub3VzbHkgcGVyZm9ybXMgRE9NIHVwZGF0ZXMgYW5kIHJlc29sdmVzIHRoZSByZXR1cm5lZCBydW5uZXIgcHJvbWlzZS5cbiAqXG4gKiBJbiBvcmRlciB0byBlbmFibGUgYW5pbWF0aW9ucyB0aGUgYG5nQW5pbWF0ZWAgbW9kdWxlIGhhcyB0byBiZSBsb2FkZWQuXG4gKlxuICogVG8gc2VlIHRoZSBmdW5jdGlvbmFsIGltcGxlbWVudGF0aW9uIGNoZWNrIG91dCBgc3JjL25nQW5pbWF0ZS9hbmltYXRlLmpzYC5cbiAqL1xudmFyICRBbmltYXRlUHJvdmlkZXIgPSBbJyRwcm92aWRlJywgLyoqIEB0aGlzICovIGZ1bmN0aW9uKCRwcm92aWRlKSB7XG4gIHZhciBwcm92aWRlciA9IHRoaXM7XG4gIHZhciBjbGFzc05hbWVGaWx0ZXIgPSBudWxsO1xuXG4gIHRoaXMuJCRyZWdpc3RlcmVkQW5pbWF0aW9ucyA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG5cbiAgIC8qKlxuICAgKiBAbmdkb2MgbWV0aG9kXG4gICAqIEBuYW1lICRhbmltYXRlUHJvdmlkZXIjcmVnaXN0ZXJcbiAgICpcbiAgICogQGRlc2NyaXB0aW9uXG4gICAqIFJlZ2lzdGVycyBhIG5ldyBpbmplY3RhYmxlIGFuaW1hdGlvbiBmYWN0b3J5IGZ1bmN0aW9uLiBUaGUgZmFjdG9yeSBmdW5jdGlvbiBwcm9kdWNlcyB0aGVcbiAgICogYW5pbWF0aW9uIG9iamVjdCB3aGljaCBjb250YWlucyBjYWxsYmFjayBmdW5jdGlvbnMgZm9yIGVhY2ggZXZlbnQgdGhhdCBpcyBleHBlY3RlZCB0byBiZVxuICAgKiBhbmltYXRlZC5cbiAgICpcbiAgICogICAqIGBldmVudEZuYDogYGZ1bmN0aW9uKGVsZW1lbnQsIC4uLiAsIGRvbmVGdW5jdGlvbiwgb3B0aW9ucylgXG4gICAqICAgVGhlIGVsZW1lbnQgdG8gYW5pbWF0ZSwgdGhlIGBkb25lRnVuY3Rpb25gIGFuZCB0aGUgb3B0aW9ucyBmZWQgaW50byB0aGUgYW5pbWF0aW9uLiBEZXBlbmRpbmdcbiAgICogICBvbiB0aGUgdHlwZSBvZiBhbmltYXRpb24gYWRkaXRpb25hbCBhcmd1bWVudHMgd2lsbCBiZSBpbmplY3RlZCBpbnRvIHRoZSBhbmltYXRpb24gZnVuY3Rpb24uIFRoZVxuICAgKiAgIGxpc3QgYmVsb3cgZXhwbGFpbnMgdGhlIGZ1bmN0aW9uIHNpZ25hdHVyZXMgZm9yIHRoZSBkaWZmZXJlbnQgYW5pbWF0aW9uIG1ldGhvZHM6XG4gICAqXG4gICAqICAgLSBzZXRDbGFzczogZnVuY3Rpb24oZWxlbWVudCwgYWRkZWRDbGFzc2VzLCByZW1vdmVkQ2xhc3NlcywgZG9uZUZ1bmN0aW9uLCBvcHRpb25zKVxuICAgKiAgIC0gYWRkQ2xhc3M6IGZ1bmN0aW9uKGVsZW1lbnQsIGFkZGVkQ2xhc3NlcywgZG9uZUZ1bmN0aW9uLCBvcHRpb25zKVxuICAgKiAgIC0gcmVtb3ZlQ2xhc3M6IGZ1bmN0aW9uKGVsZW1lbnQsIHJlbW92ZWRDbGFzc2VzLCBkb25lRnVuY3Rpb24sIG9wdGlvbnMpXG4gICAqICAgLSBlbnRlciwgbGVhdmUsIG1vdmU6IGZ1bmN0aW9uKGVsZW1lbnQsIGRvbmVGdW5jdGlvbiwgb3B0aW9ucylcbiAgICogICAtIGFuaW1hdGU6IGZ1bmN0aW9uKGVsZW1lbnQsIGZyb21TdHlsZXMsIHRvU3R5bGVzLCBkb25lRnVuY3Rpb24sIG9wdGlvbnMpXG4gICAqXG4gICAqICAgTWFrZSBzdXJlIHRvIHRyaWdnZXIgdGhlIGBkb25lRnVuY3Rpb25gIG9uY2UgdGhlIGFuaW1hdGlvbiBpcyBmdWxseSBjb21wbGV0ZS5cbiAgICpcbiAgICogYGBganNcbiAgICogICByZXR1cm4ge1xuICAgKiAgICAgLy9lbnRlciwgbGVhdmUsIG1vdmUgc2lnbmF0dXJlXG4gICAqICAgICBldmVudEZuIDogZnVuY3Rpb24oZWxlbWVudCwgZG9uZSwgb3B0aW9ucykge1xuICAgKiAgICAgICAvL2NvZGUgdG8gcnVuIHRoZSBhbmltYXRpb25cbiAgICogICAgICAgLy9vbmNlIGNvbXBsZXRlLCB0aGVuIHJ1biBkb25lKClcbiAgICogICAgICAgcmV0dXJuIGZ1bmN0aW9uIGVuZEZ1bmN0aW9uKHdhc0NhbmNlbGxlZCkge1xuICAgKiAgICAgICAgIC8vY29kZSB0byBjYW5jZWwgdGhlIGFuaW1hdGlvblxuICAgKiAgICAgICB9XG4gICAqICAgICB9XG4gICAqICAgfVxuICAgKiBgYGBcbiAgICpcbiAgICogQHBhcmFtIHtzdHJpbmd9IG5hbWUgVGhlIG5hbWUgb2YgdGhlIGFuaW1hdGlvbiAodGhpcyBpcyB3aGF0IHRoZSBjbGFzcy1iYXNlZCBDU1MgdmFsdWUgd2lsbCBiZSBjb21wYXJlZCB0bykuXG4gICAqIEBwYXJhbSB7RnVuY3Rpb259IGZhY3RvcnkgVGhlIGZhY3RvcnkgZnVuY3Rpb24gdGhhdCB3aWxsIGJlIGV4ZWN1dGVkIHRvIHJldHVybiB0aGUgYW5pbWF0aW9uXG4gICAqICAgICAgICAgICAgICAgICAgICAgICAgICAgb2JqZWN0LlxuICAgKi9cbiAgdGhpcy5yZWdpc3RlciA9IGZ1bmN0aW9uKG5hbWUsIGZhY3RvcnkpIHtcbiAgICBpZiAobmFtZSAmJiBuYW1lLmNoYXJBdCgwKSAhPT0gJy4nKSB7XG4gICAgICB0aHJvdyAkYW5pbWF0ZU1pbkVycignbm90Y3NlbCcsICdFeHBlY3RpbmcgY2xhc3Mgc2VsZWN0b3Igc3RhcnRpbmcgd2l0aCBcXCcuXFwnIGdvdCBcXCd7MH1cXCcuJywgbmFtZSk7XG4gICAgfVxuXG4gICAgdmFyIGtleSA9IG5hbWUgKyAnLWFuaW1hdGlvbic7XG4gICAgcHJvdmlkZXIuJCRyZWdpc3RlcmVkQW5pbWF0aW9uc1tuYW1lLnN1YnN0cigxKV0gPSBrZXk7XG4gICAgJHByb3ZpZGUuZmFjdG9yeShrZXksIGZhY3RvcnkpO1xuICB9O1xuXG4gIC8qKlxuICAgKiBAbmdkb2MgbWV0aG9kXG4gICAqIEBuYW1lICRhbmltYXRlUHJvdmlkZXIjY2xhc3NOYW1lRmlsdGVyXG4gICAqXG4gICAqIEBkZXNjcmlwdGlvblxuICAgKiBTZXRzIGFuZC9vciByZXR1cm5zIHRoZSBDU1MgY2xhc3MgcmVndWxhciBleHByZXNzaW9uIHRoYXQgaXMgY2hlY2tlZCB3aGVuIHBlcmZvcm1pbmdcbiAgICogYW4gYW5pbWF0aW9uLiBVcG9uIGJvb3RzdHJhcCB0aGUgY2xhc3NOYW1lRmlsdGVyIHZhbHVlIGlzIG5vdCBzZXQgYXQgYWxsIGFuZCB3aWxsXG4gICAqIHRoZXJlZm9yZSBlbmFibGUgJGFuaW1hdGUgdG8gYXR0ZW1wdCB0byBwZXJmb3JtIGFuIGFuaW1hdGlvbiBvbiBhbnkgZWxlbWVudCB0aGF0IGlzIHRyaWdnZXJlZC5cbiAgICogV2hlbiBzZXR0aW5nIHRoZSBgY2xhc3NOYW1lRmlsdGVyYCB2YWx1ZSwgYW5pbWF0aW9ucyB3aWxsIG9ubHkgYmUgcGVyZm9ybWVkIG9uIGVsZW1lbnRzXG4gICAqIHRoYXQgc3VjY2Vzc2Z1bGx5IG1hdGNoIHRoZSBmaWx0ZXIgZXhwcmVzc2lvbi4gVGhpcyBpbiB0dXJuIGNhbiBib29zdCBwZXJmb3JtYW5jZVxuICAgKiBmb3IgbG93LXBvd2VyZWQgZGV2aWNlcyBhcyB3ZWxsIGFzIGFwcGxpY2F0aW9ucyBjb250YWluaW5nIGEgbG90IG9mIHN0cnVjdHVyYWwgb3BlcmF0aW9ucy5cbiAgICogQHBhcmFtIHtSZWdFeHA9fSBleHByZXNzaW9uIFRoZSBjbGFzc05hbWUgZXhwcmVzc2lvbiB3aGljaCB3aWxsIGJlIGNoZWNrZWQgYWdhaW5zdCBhbGwgYW5pbWF0aW9uc1xuICAgKiBAcmV0dXJuIHtSZWdFeHB9IFRoZSBjdXJyZW50IENTUyBjbGFzc05hbWUgZXhwcmVzc2lvbiB2YWx1ZS4gSWYgbnVsbCB0aGVuIHRoZXJlIGlzIG5vIGV4cHJlc3Npb24gdmFsdWVcbiAgICovXG4gIHRoaXMuY2xhc3NOYW1lRmlsdGVyID0gZnVuY3Rpb24oZXhwcmVzc2lvbikge1xuICAgIGlmIChhcmd1bWVudHMubGVuZ3RoID09PSAxKSB7XG4gICAgICBjbGFzc05hbWVGaWx0ZXIgPSAoZXhwcmVzc2lvbiBpbnN0YW5jZW9mIFJlZ0V4cCkgPyBleHByZXNzaW9uIDogbnVsbDtcbiAgICAgIGlmIChjbGFzc05hbWVGaWx0ZXIpIHtcbiAgICAgICAgdmFyIHJlc2VydmVkUmVnZXggPSBuZXcgUmVnRXhwKCdbKFxcXFxzfFxcXFwvKV0nICsgTkdfQU5JTUFURV9DTEFTU05BTUUgKyAnWyhcXFxcc3xcXFxcLyldJyk7XG4gICAgICAgIGlmIChyZXNlcnZlZFJlZ2V4LnRlc3QoY2xhc3NOYW1lRmlsdGVyLnRvU3RyaW5nKCkpKSB7XG4gICAgICAgICAgY2xhc3NOYW1lRmlsdGVyID0gbnVsbDtcbiAgICAgICAgICB0aHJvdyAkYW5pbWF0ZU1pbkVycignbm9uZ2NscycsICckYW5pbWF0ZVByb3ZpZGVyLmNsYXNzTmFtZUZpbHRlcihyZWdleCkgcHJvaGliaXRzIGFjY2VwdGluZyBhIHJlZ2V4IHZhbHVlIHdoaWNoIG1hdGNoZXMvY29udGFpbnMgdGhlIFwiezB9XCIgQ1NTIGNsYXNzLicsIE5HX0FOSU1BVEVfQ0xBU1NOQU1FKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gY2xhc3NOYW1lRmlsdGVyO1xuICB9O1xuXG4gIHRoaXMuJGdldCA9IFsnJCRhbmltYXRlUXVldWUnLCBmdW5jdGlvbigkJGFuaW1hdGVRdWV1ZSkge1xuICAgIGZ1bmN0aW9uIGRvbUluc2VydChlbGVtZW50LCBwYXJlbnRFbGVtZW50LCBhZnRlckVsZW1lbnQpIHtcbiAgICAgIC8vIGlmIGZvciBzb21lIHJlYXNvbiB0aGUgcHJldmlvdXMgZWxlbWVudCB3YXMgcmVtb3ZlZFxuICAgICAgLy8gZnJvbSB0aGUgZG9tIHNvbWV0aW1lIGJlZm9yZSB0aGlzIGNvZGUgcnVucyB0aGVuIGxldCdzXG4gICAgICAvLyBqdXN0IHN0aWNrIHRvIHVzaW5nIHRoZSBwYXJlbnQgZWxlbWVudCBhcyB0aGUgYW5jaG9yXG4gICAgICBpZiAoYWZ0ZXJFbGVtZW50KSB7XG4gICAgICAgIHZhciBhZnRlck5vZGUgPSBleHRyYWN0RWxlbWVudE5vZGUoYWZ0ZXJFbGVtZW50KTtcbiAgICAgICAgaWYgKGFmdGVyTm9kZSAmJiAhYWZ0ZXJOb2RlLnBhcmVudE5vZGUgJiYgIWFmdGVyTm9kZS5wcmV2aW91c0VsZW1lbnRTaWJsaW5nKSB7XG4gICAgICAgICAgYWZ0ZXJFbGVtZW50ID0gbnVsbDtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgaWYgKGFmdGVyRWxlbWVudCkge1xuICAgICAgICBhZnRlckVsZW1lbnQuYWZ0ZXIoZWxlbWVudCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBwYXJlbnRFbGVtZW50LnByZXBlbmQoZWxlbWVudCk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQG5nZG9jIHNlcnZpY2VcbiAgICAgKiBAbmFtZSAkYW5pbWF0ZVxuICAgICAqIEBkZXNjcmlwdGlvbiBUaGUgJGFuaW1hdGUgc2VydmljZSBleHBvc2VzIGEgc2VyaWVzIG9mIERPTSB1dGlsaXR5IG1ldGhvZHMgdGhhdCBwcm92aWRlIHN1cHBvcnRcbiAgICAgKiBmb3IgYW5pbWF0aW9uIGhvb2tzLiBUaGUgZGVmYXVsdCBiZWhhdmlvciBpcyB0aGUgYXBwbGljYXRpb24gb2YgRE9NIG9wZXJhdGlvbnMsIGhvd2V2ZXIsXG4gICAgICogd2hlbiBhbiBhbmltYXRpb24gaXMgZGV0ZWN0ZWQgKGFuZCBhbmltYXRpb25zIGFyZSBlbmFibGVkKSwgJGFuaW1hdGUgd2lsbCBkbyB0aGUgaGVhdnkgbGlmdGluZ1xuICAgICAqIHRvIGVuc3VyZSB0aGF0IGFuaW1hdGlvbiBydW5zIHdpdGggdGhlIHRyaWdnZXJlZCBET00gb3BlcmF0aW9uLlxuICAgICAqXG4gICAgICogQnkgZGVmYXVsdCAkYW5pbWF0ZSBkb2Vzbid0IHRyaWdnZXIgYW55IGFuaW1hdGlvbnMuIFRoaXMgaXMgYmVjYXVzZSB0aGUgYG5nQW5pbWF0ZWAgbW9kdWxlIGlzbid0XG4gICAgICogaW5jbHVkZWQgYW5kIG9ubHkgd2hlbiBpdCBpcyBhY3RpdmUgdGhlbiB0aGUgYW5pbWF0aW9uIGhvb2tzIHRoYXQgYCRhbmltYXRlYCB0cmlnZ2VycyB3aWxsIGJlXG4gICAgICogZnVuY3Rpb25hbC4gT25jZSBhY3RpdmUgdGhlbiBhbGwgc3RydWN0dXJhbCBgbmctYCBkaXJlY3RpdmVzIHdpbGwgdHJpZ2dlciBhbmltYXRpb25zIGFzIHRoZXkgcGVyZm9ybVxuICAgICAqIHRoZWlyIERPTS1yZWxhdGVkIG9wZXJhdGlvbnMgKGVudGVyLCBsZWF2ZSBhbmQgbW92ZSkuIE90aGVyIGRpcmVjdGl2ZXMgc3VjaCBhcyBgbmdDbGFzc2AsXG4gICAgICogYG5nU2hvd2AsIGBuZ0hpZGVgIGFuZCBgbmdNZXNzYWdlc2AgYWxzbyBwcm92aWRlIHN1cHBvcnQgZm9yIGFuaW1hdGlvbnMuXG4gICAgICpcbiAgICAgKiBJdCBpcyByZWNvbW1lbmRlZCB0aGF0IHRoZWAkYW5pbWF0ZWAgc2VydmljZSBpcyBhbHdheXMgdXNlZCB3aGVuIGV4ZWN1dGluZyBET00tcmVsYXRlZCBwcm9jZWR1cmVzIHdpdGhpbiBkaXJlY3RpdmVzLlxuICAgICAqXG4gICAgICogVG8gbGVhcm4gbW9yZSBhYm91dCBlbmFibGluZyBhbmltYXRpb24gc3VwcG9ydCwgY2xpY2sgaGVyZSB0byB2aXNpdCB0aGVcbiAgICAgKiB7QGxpbmsgbmdBbmltYXRlIG5nQW5pbWF0ZSBtb2R1bGUgcGFnZX0uXG4gICAgICovXG4gICAgcmV0dXJuIHtcbiAgICAgIC8vIHdlIGRvbid0IGNhbGwgaXQgZGlyZWN0bHkgc2luY2Ugbm9uLWV4aXN0YW50IGFyZ3VtZW50cyBtYXlcbiAgICAgIC8vIGJlIGludGVycHJldGVkIGFzIG51bGwgd2l0aGluIHRoZSBzdWIgZW5hYmxlZCBmdW5jdGlvblxuXG4gICAgICAvKipcbiAgICAgICAqXG4gICAgICAgKiBAbmdkb2MgbWV0aG9kXG4gICAgICAgKiBAbmFtZSAkYW5pbWF0ZSNvblxuICAgICAgICogQGtpbmQgZnVuY3Rpb25cbiAgICAgICAqIEBkZXNjcmlwdGlvbiBTZXRzIHVwIGFuIGV2ZW50IGxpc3RlbmVyIHRvIGZpcmUgd2hlbmV2ZXIgdGhlIGFuaW1hdGlvbiBldmVudCAoZW50ZXIsIGxlYXZlLCBtb3ZlLCBldGMuLi4pXG4gICAgICAgKiAgICBoYXMgZmlyZWQgb24gdGhlIGdpdmVuIGVsZW1lbnQgb3IgYW1vbmcgYW55IG9mIGl0cyBjaGlsZHJlbi4gT25jZSB0aGUgbGlzdGVuZXIgaXMgZmlyZWQsIHRoZSBwcm92aWRlZCBjYWxsYmFja1xuICAgICAgICogICAgaXMgZmlyZWQgd2l0aCB0aGUgZm9sbG93aW5nIHBhcmFtczpcbiAgICAgICAqXG4gICAgICAgKiBgYGBqc1xuICAgICAgICogJGFuaW1hdGUub24oJ2VudGVyJywgY29udGFpbmVyLFxuICAgICAgICogICAgZnVuY3Rpb24gY2FsbGJhY2soZWxlbWVudCwgcGhhc2UpIHtcbiAgICAgICAqICAgICAgLy8gY29vbCB3ZSBkZXRlY3RlZCBhbiBlbnRlciBhbmltYXRpb24gd2l0aGluIHRoZSBjb250YWluZXJcbiAgICAgICAqICAgIH1cbiAgICAgICAqICk7XG4gICAgICAgKiBgYGBcbiAgICAgICAqXG4gICAgICAgKiBAcGFyYW0ge3N0cmluZ30gZXZlbnQgdGhlIGFuaW1hdGlvbiBldmVudCB0aGF0IHdpbGwgYmUgY2FwdHVyZWQgKGUuZy4gZW50ZXIsIGxlYXZlLCBtb3ZlLCBhZGRDbGFzcywgcmVtb3ZlQ2xhc3MsIGV0Yy4uLilcbiAgICAgICAqIEBwYXJhbSB7RE9NRWxlbWVudH0gY29udGFpbmVyIHRoZSBjb250YWluZXIgZWxlbWVudCB0aGF0IHdpbGwgY2FwdHVyZSBlYWNoIG9mIHRoZSBhbmltYXRpb24gZXZlbnRzIHRoYXQgYXJlIGZpcmVkIG9uIGl0c2VsZlxuICAgICAgICogICAgIGFzIHdlbGwgYXMgYW1vbmcgaXRzIGNoaWxkcmVuXG4gICAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBjYWxsYmFjayB0aGUgY2FsbGJhY2sgZnVuY3Rpb24gdGhhdCB3aWxsIGJlIGZpcmVkIHdoZW4gdGhlIGxpc3RlbmVyIGlzIHRyaWdnZXJlZFxuICAgICAgICpcbiAgICAgICAqIFRoZSBhcmd1bWVudHMgcHJlc2VudCBpbiB0aGUgY2FsbGJhY2sgZnVuY3Rpb24gYXJlOlxuICAgICAgICogKiBgZWxlbWVudGAgLSBUaGUgY2FwdHVyZWQgRE9NIGVsZW1lbnQgdGhhdCB0aGUgYW5pbWF0aW9uIHdhcyBmaXJlZCBvbi5cbiAgICAgICAqICogYHBoYXNlYCAtIFRoZSBwaGFzZSBvZiB0aGUgYW5pbWF0aW9uLiBUaGUgdHdvIHBvc3NpYmxlIHBoYXNlcyBhcmUgKipzdGFydCoqICh3aGVuIHRoZSBhbmltYXRpb24gc3RhcnRzKSBhbmQgKipjbG9zZSoqICh3aGVuIGl0IGVuZHMpLlxuICAgICAgICovXG4gICAgICBvbjogJCRhbmltYXRlUXVldWUub24sXG5cbiAgICAgIC8qKlxuICAgICAgICpcbiAgICAgICAqIEBuZ2RvYyBtZXRob2RcbiAgICAgICAqIEBuYW1lICRhbmltYXRlI29mZlxuICAgICAgICogQGtpbmQgZnVuY3Rpb25cbiAgICAgICAqIEBkZXNjcmlwdGlvbiBEZXJlZ2lzdGVycyBhbiBldmVudCBsaXN0ZW5lciBiYXNlZCBvbiB0aGUgZXZlbnQgd2hpY2ggaGFzIGJlZW4gYXNzb2NpYXRlZCB3aXRoIHRoZSBwcm92aWRlZCBlbGVtZW50LiBUaGlzIG1ldGhvZFxuICAgICAgICogY2FuIGJlIHVzZWQgaW4gdGhyZWUgZGlmZmVyZW50IHdheXMgZGVwZW5kaW5nIG9uIHRoZSBhcmd1bWVudHM6XG4gICAgICAgKlxuICAgICAgICogYGBganNcbiAgICAgICAqIC8vIHJlbW92ZSBhbGwgdGhlIGFuaW1hdGlvbiBldmVudCBsaXN0ZW5lcnMgbGlzdGVuaW5nIGZvciBgZW50ZXJgXG4gICAgICAgKiAkYW5pbWF0ZS5vZmYoJ2VudGVyJyk7XG4gICAgICAgKlxuICAgICAgICogLy8gcmVtb3ZlIGxpc3RlbmVycyBmb3IgYWxsIGFuaW1hdGlvbiBldmVudHMgZnJvbSB0aGUgY29udGFpbmVyIGVsZW1lbnRcbiAgICAgICAqICRhbmltYXRlLm9mZihjb250YWluZXIpO1xuICAgICAgICpcbiAgICAgICAqIC8vIHJlbW92ZSBhbGwgdGhlIGFuaW1hdGlvbiBldmVudCBsaXN0ZW5lcnMgbGlzdGVuaW5nIGZvciBgZW50ZXJgIG9uIHRoZSBnaXZlbiBlbGVtZW50IGFuZCBpdHMgY2hpbGRyZW5cbiAgICAgICAqICRhbmltYXRlLm9mZignZW50ZXInLCBjb250YWluZXIpO1xuICAgICAgICpcbiAgICAgICAqIC8vIHJlbW92ZSB0aGUgZXZlbnQgbGlzdGVuZXIgZnVuY3Rpb24gcHJvdmlkZWQgYnkgYGNhbGxiYWNrYCB0aGF0IGlzIHNldFxuICAgICAgICogLy8gdG8gbGlzdGVuIGZvciBgZW50ZXJgIG9uIHRoZSBnaXZlbiBgY29udGFpbmVyYCBhcyB3ZWxsIGFzIGl0cyBjaGlsZHJlblxuICAgICAgICogJGFuaW1hdGUub2ZmKCdlbnRlcicsIGNvbnRhaW5lciwgY2FsbGJhY2spO1xuICAgICAgICogYGBgXG4gICAgICAgKlxuICAgICAgICogQHBhcmFtIHtzdHJpbmd8RE9NRWxlbWVudH0gZXZlbnR8Y29udGFpbmVyIHRoZSBhbmltYXRpb24gZXZlbnQgKGUuZy4gZW50ZXIsIGxlYXZlLCBtb3ZlLFxuICAgICAgICogYWRkQ2xhc3MsIHJlbW92ZUNsYXNzLCBldGMuLi4pLCBvciB0aGUgY29udGFpbmVyIGVsZW1lbnQuIElmIGl0IGlzIHRoZSBlbGVtZW50LCBhbGwgb3RoZXJcbiAgICAgICAqIGFyZ3VtZW50cyBhcmUgaWdub3JlZC5cbiAgICAgICAqIEBwYXJhbSB7RE9NRWxlbWVudD19IGNvbnRhaW5lciB0aGUgY29udGFpbmVyIGVsZW1lbnQgdGhlIGV2ZW50IGxpc3RlbmVyIHdhcyBwbGFjZWQgb25cbiAgICAgICAqIEBwYXJhbSB7RnVuY3Rpb249fSBjYWxsYmFjayB0aGUgY2FsbGJhY2sgZnVuY3Rpb24gdGhhdCB3YXMgcmVnaXN0ZXJlZCBhcyB0aGUgbGlzdGVuZXJcbiAgICAgICAqL1xuICAgICAgb2ZmOiAkJGFuaW1hdGVRdWV1ZS5vZmYsXG5cbiAgICAgIC8qKlxuICAgICAgICogQG5nZG9jIG1ldGhvZFxuICAgICAgICogQG5hbWUgJGFuaW1hdGUjcGluXG4gICAgICAgKiBAa2luZCBmdW5jdGlvblxuICAgICAgICogQGRlc2NyaXB0aW9uIEFzc29jaWF0ZXMgdGhlIHByb3ZpZGVkIGVsZW1lbnQgd2l0aCBhIGhvc3QgcGFyZW50IGVsZW1lbnQgdG8gYWxsb3cgdGhlIGVsZW1lbnQgdG8gYmUgYW5pbWF0ZWQgZXZlbiBpZiBpdCBleGlzdHNcbiAgICAgICAqICAgIG91dHNpZGUgb2YgdGhlIERPTSBzdHJ1Y3R1cmUgb2YgdGhlIEFuZ3VsYXIgYXBwbGljYXRpb24uIEJ5IGRvaW5nIHNvLCBhbnkgYW5pbWF0aW9uIHRyaWdnZXJlZCB2aWEgYCRhbmltYXRlYCBjYW4gYmUgaXNzdWVkIG9uIHRoZVxuICAgICAgICogICAgZWxlbWVudCBkZXNwaXRlIGJlaW5nIG91dHNpZGUgdGhlIHJlYWxtIG9mIHRoZSBhcHBsaWNhdGlvbiBvciB3aXRoaW4gYW5vdGhlciBhcHBsaWNhdGlvbi4gU2F5IGZvciBleGFtcGxlIGlmIHRoZSBhcHBsaWNhdGlvblxuICAgICAgICogICAgd2FzIGJvb3RzdHJhcHBlZCBvbiBhbiBlbGVtZW50IHRoYXQgaXMgc29tZXdoZXJlIGluc2lkZSBvZiB0aGUgYDxib2R5PmAgdGFnLCBidXQgd2Ugd2FudGVkIHRvIGFsbG93IGZvciBhbiBlbGVtZW50IHRvIGJlIHNpdHVhdGVkXG4gICAgICAgKiAgICBhcyBhIGRpcmVjdCBjaGlsZCBvZiBgZG9jdW1lbnQuYm9keWAsIHRoZW4gdGhpcyBjYW4gYmUgYWNoaWV2ZWQgYnkgcGlubmluZyB0aGUgZWxlbWVudCB2aWEgYCRhbmltYXRlLnBpbihlbGVtZW50KWAuIEtlZXAgaW4gbWluZFxuICAgICAgICogICAgdGhhdCBjYWxsaW5nIGAkYW5pbWF0ZS5waW4oZWxlbWVudCwgcGFyZW50RWxlbWVudClgIHdpbGwgbm90IGFjdHVhbGx5IGluc2VydCBpbnRvIHRoZSBET00gYW55d2hlcmU7IGl0IHdpbGwganVzdCBjcmVhdGUgdGhlIGFzc29jaWF0aW9uLlxuICAgICAgICpcbiAgICAgICAqICAgIE5vdGUgdGhhdCB0aGlzIGZlYXR1cmUgaXMgb25seSBhY3RpdmUgd2hlbiB0aGUgYG5nQW5pbWF0ZWAgbW9kdWxlIGlzIHVzZWQuXG4gICAgICAgKlxuICAgICAgICogQHBhcmFtIHtET01FbGVtZW50fSBlbGVtZW50IHRoZSBleHRlcm5hbCBlbGVtZW50IHRoYXQgd2lsbCBiZSBwaW5uZWRcbiAgICAgICAqIEBwYXJhbSB7RE9NRWxlbWVudH0gcGFyZW50RWxlbWVudCB0aGUgaG9zdCBwYXJlbnQgZWxlbWVudCB0aGF0IHdpbGwgYmUgYXNzb2NpYXRlZCB3aXRoIHRoZSBleHRlcm5hbCBlbGVtZW50XG4gICAgICAgKi9cbiAgICAgIHBpbjogJCRhbmltYXRlUXVldWUucGluLFxuXG4gICAgICAvKipcbiAgICAgICAqXG4gICAgICAgKiBAbmdkb2MgbWV0aG9kXG4gICAgICAgKiBAbmFtZSAkYW5pbWF0ZSNlbmFibGVkXG4gICAgICAgKiBAa2luZCBmdW5jdGlvblxuICAgICAgICogQGRlc2NyaXB0aW9uIFVzZWQgdG8gZ2V0IGFuZCBzZXQgd2hldGhlciBhbmltYXRpb25zIGFyZSBlbmFibGVkIG9yIG5vdCBvbiB0aGUgZW50aXJlIGFwcGxpY2F0aW9uIG9yIG9uIGFuIGVsZW1lbnQgYW5kIGl0cyBjaGlsZHJlbi4gVGhpc1xuICAgICAgICogZnVuY3Rpb24gY2FuIGJlIGNhbGxlZCBpbiBmb3VyIHdheXM6XG4gICAgICAgKlxuICAgICAgICogYGBganNcbiAgICAgICAqIC8vIHJldHVybnMgdHJ1ZSBvciBmYWxzZVxuICAgICAgICogJGFuaW1hdGUuZW5hYmxlZCgpO1xuICAgICAgICpcbiAgICAgICAqIC8vIGNoYW5nZXMgdGhlIGVuYWJsZWQgc3RhdGUgZm9yIGFsbCBhbmltYXRpb25zXG4gICAgICAgKiAkYW5pbWF0ZS5lbmFibGVkKGZhbHNlKTtcbiAgICAgICAqICRhbmltYXRlLmVuYWJsZWQodHJ1ZSk7XG4gICAgICAgKlxuICAgICAgICogLy8gcmV0dXJucyB0cnVlIG9yIGZhbHNlIGlmIGFuaW1hdGlvbnMgYXJlIGVuYWJsZWQgZm9yIGFuIGVsZW1lbnRcbiAgICAgICAqICRhbmltYXRlLmVuYWJsZWQoZWxlbWVudCk7XG4gICAgICAgKlxuICAgICAgICogLy8gY2hhbmdlcyB0aGUgZW5hYmxlZCBzdGF0ZSBmb3IgYW4gZWxlbWVudCBhbmQgaXRzIGNoaWxkcmVuXG4gICAgICAgKiAkYW5pbWF0ZS5lbmFibGVkKGVsZW1lbnQsIHRydWUpO1xuICAgICAgICogJGFuaW1hdGUuZW5hYmxlZChlbGVtZW50LCBmYWxzZSk7XG4gICAgICAgKiBgYGBcbiAgICAgICAqXG4gICAgICAgKiBAcGFyYW0ge0RPTUVsZW1lbnQ9fSBlbGVtZW50IHRoZSBlbGVtZW50IHRoYXQgd2lsbCBiZSBjb25zaWRlcmVkIGZvciBjaGVja2luZy9zZXR0aW5nIHRoZSBlbmFibGVkIHN0YXRlXG4gICAgICAgKiBAcGFyYW0ge2Jvb2xlYW49fSBlbmFibGVkIHdoZXRoZXIgb3Igbm90IHRoZSBhbmltYXRpb25zIHdpbGwgYmUgZW5hYmxlZCBmb3IgdGhlIGVsZW1lbnRcbiAgICAgICAqXG4gICAgICAgKiBAcmV0dXJuIHtib29sZWFufSB3aGV0aGVyIG9yIG5vdCBhbmltYXRpb25zIGFyZSBlbmFibGVkXG4gICAgICAgKi9cbiAgICAgIGVuYWJsZWQ6ICQkYW5pbWF0ZVF1ZXVlLmVuYWJsZWQsXG5cbiAgICAgIC8qKlxuICAgICAgICogQG5nZG9jIG1ldGhvZFxuICAgICAgICogQG5hbWUgJGFuaW1hdGUjY2FuY2VsXG4gICAgICAgKiBAa2luZCBmdW5jdGlvblxuICAgICAgICogQGRlc2NyaXB0aW9uIENhbmNlbHMgdGhlIHByb3ZpZGVkIGFuaW1hdGlvbi5cbiAgICAgICAqXG4gICAgICAgKiBAcGFyYW0ge1Byb21pc2V9IGFuaW1hdGlvblByb21pc2UgVGhlIGFuaW1hdGlvbiBwcm9taXNlIHRoYXQgaXMgcmV0dXJuZWQgd2hlbiBhbiBhbmltYXRpb24gaXMgc3RhcnRlZC5cbiAgICAgICAqL1xuICAgICAgY2FuY2VsOiBmdW5jdGlvbihydW5uZXIpIHtcbiAgICAgICAgaWYgKHJ1bm5lci5lbmQpIHtcbiAgICAgICAgICBydW5uZXIuZW5kKCk7XG4gICAgICAgIH1cbiAgICAgIH0sXG5cbiAgICAgIC8qKlxuICAgICAgICpcbiAgICAgICAqIEBuZ2RvYyBtZXRob2RcbiAgICAgICAqIEBuYW1lICRhbmltYXRlI2VudGVyXG4gICAgICAgKiBAa2luZCBmdW5jdGlvblxuICAgICAgICogQGRlc2NyaXB0aW9uIEluc2VydHMgdGhlIGVsZW1lbnQgaW50byB0aGUgRE9NIGVpdGhlciBhZnRlciB0aGUgYGFmdGVyYCBlbGVtZW50IChpZiBwcm92aWRlZCkgb3JcbiAgICAgICAqICAgYXMgdGhlIGZpcnN0IGNoaWxkIHdpdGhpbiB0aGUgYHBhcmVudGAgZWxlbWVudCBhbmQgdGhlbiB0cmlnZ2VycyBhbiBhbmltYXRpb24uXG4gICAgICAgKiAgIEEgcHJvbWlzZSBpcyByZXR1cm5lZCB0aGF0IHdpbGwgYmUgcmVzb2x2ZWQgZHVyaW5nIHRoZSBuZXh0IGRpZ2VzdCBvbmNlIHRoZSBhbmltYXRpb25cbiAgICAgICAqICAgaGFzIGNvbXBsZXRlZC5cbiAgICAgICAqXG4gICAgICAgKiBAcGFyYW0ge0RPTUVsZW1lbnR9IGVsZW1lbnQgdGhlIGVsZW1lbnQgd2hpY2ggd2lsbCBiZSBpbnNlcnRlZCBpbnRvIHRoZSBET01cbiAgICAgICAqIEBwYXJhbSB7RE9NRWxlbWVudH0gcGFyZW50IHRoZSBwYXJlbnQgZWxlbWVudCB3aGljaCB3aWxsIGFwcGVuZCB0aGUgZWxlbWVudCBhc1xuICAgICAgICogICBhIGNoaWxkIChzbyBsb25nIGFzIHRoZSBhZnRlciBlbGVtZW50IGlzIG5vdCBwcmVzZW50KVxuICAgICAgICogQHBhcmFtIHtET01FbGVtZW50PX0gYWZ0ZXIgdGhlIHNpYmxpbmcgZWxlbWVudCBhZnRlciB3aGljaCB0aGUgZWxlbWVudCB3aWxsIGJlIGFwcGVuZGVkXG4gICAgICAgKiBAcGFyYW0ge29iamVjdD19IG9wdGlvbnMgYW4gb3B0aW9uYWwgY29sbGVjdGlvbiBvZiBvcHRpb25zL3N0eWxlcyB0aGF0IHdpbGwgYmUgYXBwbGllZCB0byB0aGUgZWxlbWVudC5cbiAgICAgICAqICAgVGhlIG9iamVjdCBjYW4gaGF2ZSB0aGUgZm9sbG93aW5nIHByb3BlcnRpZXM6XG4gICAgICAgKlxuICAgICAgICogICAtICoqYWRkQ2xhc3MqKiAtIGB7c3RyaW5nfWAgLSBzcGFjZS1zZXBhcmF0ZWQgQ1NTIGNsYXNzZXMgdG8gYWRkIHRvIGVsZW1lbnRcbiAgICAgICAqICAgLSAqKmZyb20qKiAtIGB7T2JqZWN0fWAgLSBDU1MgcHJvcGVydGllcyAmIHZhbHVlcyBhdCB0aGUgYmVnaW5uaW5nIG9mIGFuaW1hdGlvbi4gTXVzdCBoYXZlIG1hdGNoaW5nIGB0b2BcbiAgICAgICAqICAgLSAqKnJlbW92ZUNsYXNzKiogLSBge3N0cmluZ31gIC0gc3BhY2Utc2VwYXJhdGVkIENTUyBjbGFzc2VzIHRvIHJlbW92ZSBmcm9tIGVsZW1lbnRcbiAgICAgICAqICAgLSAqKnRvKiogLSBge09iamVjdH1gIC0gQ1NTIHByb3BlcnRpZXMgJiB2YWx1ZXMgYXQgZW5kIG9mIGFuaW1hdGlvbi4gTXVzdCBoYXZlIG1hdGNoaW5nIGBmcm9tYFxuICAgICAgICpcbiAgICAgICAqIEByZXR1cm4ge1Byb21pc2V9IHRoZSBhbmltYXRpb24gY2FsbGJhY2sgcHJvbWlzZVxuICAgICAgICovXG4gICAgICBlbnRlcjogZnVuY3Rpb24oZWxlbWVudCwgcGFyZW50LCBhZnRlciwgb3B0aW9ucykge1xuICAgICAgICBwYXJlbnQgPSBwYXJlbnQgJiYganFMaXRlKHBhcmVudCk7XG4gICAgICAgIGFmdGVyID0gYWZ0ZXIgJiYganFMaXRlKGFmdGVyKTtcbiAgICAgICAgcGFyZW50ID0gcGFyZW50IHx8IGFmdGVyLnBhcmVudCgpO1xuICAgICAgICBkb21JbnNlcnQoZWxlbWVudCwgcGFyZW50LCBhZnRlcik7XG4gICAgICAgIHJldHVybiAkJGFuaW1hdGVRdWV1ZS5wdXNoKGVsZW1lbnQsICdlbnRlcicsIHByZXBhcmVBbmltYXRlT3B0aW9ucyhvcHRpb25zKSk7XG4gICAgICB9LFxuXG4gICAgICAvKipcbiAgICAgICAqXG4gICAgICAgKiBAbmdkb2MgbWV0aG9kXG4gICAgICAgKiBAbmFtZSAkYW5pbWF0ZSNtb3ZlXG4gICAgICAgKiBAa2luZCBmdW5jdGlvblxuICAgICAgICogQGRlc2NyaXB0aW9uIEluc2VydHMgKG1vdmVzKSB0aGUgZWxlbWVudCBpbnRvIGl0cyBuZXcgcG9zaXRpb24gaW4gdGhlIERPTSBlaXRoZXIgYWZ0ZXJcbiAgICAgICAqICAgdGhlIGBhZnRlcmAgZWxlbWVudCAoaWYgcHJvdmlkZWQpIG9yIGFzIHRoZSBmaXJzdCBjaGlsZCB3aXRoaW4gdGhlIGBwYXJlbnRgIGVsZW1lbnRcbiAgICAgICAqICAgYW5kIHRoZW4gdHJpZ2dlcnMgYW4gYW5pbWF0aW9uLiBBIHByb21pc2UgaXMgcmV0dXJuZWQgdGhhdCB3aWxsIGJlIHJlc29sdmVkXG4gICAgICAgKiAgIGR1cmluZyB0aGUgbmV4dCBkaWdlc3Qgb25jZSB0aGUgYW5pbWF0aW9uIGhhcyBjb21wbGV0ZWQuXG4gICAgICAgKlxuICAgICAgICogQHBhcmFtIHtET01FbGVtZW50fSBlbGVtZW50IHRoZSBlbGVtZW50IHdoaWNoIHdpbGwgYmUgbW92ZWQgaW50byB0aGUgbmV3IERPTSBwb3NpdGlvblxuICAgICAgICogQHBhcmFtIHtET01FbGVtZW50fSBwYXJlbnQgdGhlIHBhcmVudCBlbGVtZW50IHdoaWNoIHdpbGwgYXBwZW5kIHRoZSBlbGVtZW50IGFzXG4gICAgICAgKiAgIGEgY2hpbGQgKHNvIGxvbmcgYXMgdGhlIGFmdGVyIGVsZW1lbnQgaXMgbm90IHByZXNlbnQpXG4gICAgICAgKiBAcGFyYW0ge0RPTUVsZW1lbnQ9fSBhZnRlciB0aGUgc2libGluZyBlbGVtZW50IGFmdGVyIHdoaWNoIHRoZSBlbGVtZW50IHdpbGwgYmUgYXBwZW5kZWRcbiAgICAgICAqIEBwYXJhbSB7b2JqZWN0PX0gb3B0aW9ucyBhbiBvcHRpb25hbCBjb2xsZWN0aW9uIG9mIG9wdGlvbnMvc3R5bGVzIHRoYXQgd2lsbCBiZSBhcHBsaWVkIHRvIHRoZSBlbGVtZW50LlxuICAgICAgICogICBUaGUgb2JqZWN0IGNhbiBoYXZlIHRoZSBmb2xsb3dpbmcgcHJvcGVydGllczpcbiAgICAgICAqXG4gICAgICAgKiAgIC0gKiphZGRDbGFzcyoqIC0gYHtzdHJpbmd9YCAtIHNwYWNlLXNlcGFyYXRlZCBDU1MgY2xhc3NlcyB0byBhZGQgdG8gZWxlbWVudFxuICAgICAgICogICAtICoqZnJvbSoqIC0gYHtPYmplY3R9YCAtIENTUyBwcm9wZXJ0aWVzICYgdmFsdWVzIGF0IHRoZSBiZWdpbm5pbmcgb2YgYW5pbWF0aW9uLiBNdXN0IGhhdmUgbWF0Y2hpbmcgYHRvYFxuICAgICAgICogICAtICoqcmVtb3ZlQ2xhc3MqKiAtIGB7c3RyaW5nfWAgLSBzcGFjZS1zZXBhcmF0ZWQgQ1NTIGNsYXNzZXMgdG8gcmVtb3ZlIGZyb20gZWxlbWVudFxuICAgICAgICogICAtICoqdG8qKiAtIGB7T2JqZWN0fWAgLSBDU1MgcHJvcGVydGllcyAmIHZhbHVlcyBhdCBlbmQgb2YgYW5pbWF0aW9uLiBNdXN0IGhhdmUgbWF0Y2hpbmcgYGZyb21gXG4gICAgICAgKlxuICAgICAgICogQHJldHVybiB7UHJvbWlzZX0gdGhlIGFuaW1hdGlvbiBjYWxsYmFjayBwcm9taXNlXG4gICAgICAgKi9cbiAgICAgIG1vdmU6IGZ1bmN0aW9uKGVsZW1lbnQsIHBhcmVudCwgYWZ0ZXIsIG9wdGlvbnMpIHtcbiAgICAgICAgcGFyZW50ID0gcGFyZW50ICYmIGpxTGl0ZShwYXJlbnQpO1xuICAgICAgICBhZnRlciA9IGFmdGVyICYmIGpxTGl0ZShhZnRlcik7XG4gICAgICAgIHBhcmVudCA9IHBhcmVudCB8fCBhZnRlci5wYXJlbnQoKTtcbiAgICAgICAgZG9tSW5zZXJ0KGVsZW1lbnQsIHBhcmVudCwgYWZ0ZXIpO1xuICAgICAgICByZXR1cm4gJCRhbmltYXRlUXVldWUucHVzaChlbGVtZW50LCAnbW92ZScsIHByZXBhcmVBbmltYXRlT3B0aW9ucyhvcHRpb25zKSk7XG4gICAgICB9LFxuXG4gICAgICAvKipcbiAgICAgICAqIEBuZ2RvYyBtZXRob2RcbiAgICAgICAqIEBuYW1lICRhbmltYXRlI2xlYXZlXG4gICAgICAgKiBAa2luZCBmdW5jdGlvblxuICAgICAgICogQGRlc2NyaXB0aW9uIFRyaWdnZXJzIGFuIGFuaW1hdGlvbiBhbmQgdGhlbiByZW1vdmVzIHRoZSBlbGVtZW50IGZyb20gdGhlIERPTS5cbiAgICAgICAqIFdoZW4gdGhlIGZ1bmN0aW9uIGlzIGNhbGxlZCBhIHByb21pc2UgaXMgcmV0dXJuZWQgdGhhdCB3aWxsIGJlIHJlc29sdmVkIGR1cmluZyB0aGUgbmV4dFxuICAgICAgICogZGlnZXN0IG9uY2UgdGhlIGFuaW1hdGlvbiBoYXMgY29tcGxldGVkLlxuICAgICAgICpcbiAgICAgICAqIEBwYXJhbSB7RE9NRWxlbWVudH0gZWxlbWVudCB0aGUgZWxlbWVudCB3aGljaCB3aWxsIGJlIHJlbW92ZWQgZnJvbSB0aGUgRE9NXG4gICAgICAgKiBAcGFyYW0ge29iamVjdD19IG9wdGlvbnMgYW4gb3B0aW9uYWwgY29sbGVjdGlvbiBvZiBvcHRpb25zL3N0eWxlcyB0aGF0IHdpbGwgYmUgYXBwbGllZCB0byB0aGUgZWxlbWVudC5cbiAgICAgICAqICAgVGhlIG9iamVjdCBjYW4gaGF2ZSB0aGUgZm9sbG93aW5nIHByb3BlcnRpZXM6XG4gICAgICAgKlxuICAgICAgICogICAtICoqYWRkQ2xhc3MqKiAtIGB7c3RyaW5nfWAgLSBzcGFjZS1zZXBhcmF0ZWQgQ1NTIGNsYXNzZXMgdG8gYWRkIHRvIGVsZW1lbnRcbiAgICAgICAqICAgLSAqKmZyb20qKiAtIGB7T2JqZWN0fWAgLSBDU1MgcHJvcGVydGllcyAmIHZhbHVlcyBhdCB0aGUgYmVnaW5uaW5nIG9mIGFuaW1hdGlvbi4gTXVzdCBoYXZlIG1hdGNoaW5nIGB0b2BcbiAgICAgICAqICAgLSAqKnJlbW92ZUNsYXNzKiogLSBge3N0cmluZ31gIC0gc3BhY2Utc2VwYXJhdGVkIENTUyBjbGFzc2VzIHRvIHJlbW92ZSBmcm9tIGVsZW1lbnRcbiAgICAgICAqICAgLSAqKnRvKiogLSBge09iamVjdH1gIC0gQ1NTIHByb3BlcnRpZXMgJiB2YWx1ZXMgYXQgZW5kIG9mIGFuaW1hdGlvbi4gTXVzdCBoYXZlIG1hdGNoaW5nIGBmcm9tYFxuICAgICAgICpcbiAgICAgICAqIEByZXR1cm4ge1Byb21pc2V9IHRoZSBhbmltYXRpb24gY2FsbGJhY2sgcHJvbWlzZVxuICAgICAgICovXG4gICAgICBsZWF2ZTogZnVuY3Rpb24oZWxlbWVudCwgb3B0aW9ucykge1xuICAgICAgICByZXR1cm4gJCRhbmltYXRlUXVldWUucHVzaChlbGVtZW50LCAnbGVhdmUnLCBwcmVwYXJlQW5pbWF0ZU9wdGlvbnMob3B0aW9ucyksIGZ1bmN0aW9uKCkge1xuICAgICAgICAgIGVsZW1lbnQucmVtb3ZlKCk7XG4gICAgICAgIH0pO1xuICAgICAgfSxcblxuICAgICAgLyoqXG4gICAgICAgKiBAbmdkb2MgbWV0aG9kXG4gICAgICAgKiBAbmFtZSAkYW5pbWF0ZSNhZGRDbGFzc1xuICAgICAgICogQGtpbmQgZnVuY3Rpb25cbiAgICAgICAqXG4gICAgICAgKiBAZGVzY3JpcHRpb24gVHJpZ2dlcnMgYW4gYWRkQ2xhc3MgYW5pbWF0aW9uIHN1cnJvdW5kaW5nIHRoZSBhZGRpdGlvbiBvZiB0aGUgcHJvdmlkZWQgQ1NTIGNsYXNzKGVzKS4gVXBvblxuICAgICAgICogICBleGVjdXRpb24sIHRoZSBhZGRDbGFzcyBvcGVyYXRpb24gd2lsbCBvbmx5IGJlIGhhbmRsZWQgYWZ0ZXIgdGhlIG5leHQgZGlnZXN0IGFuZCBpdCB3aWxsIG5vdCB0cmlnZ2VyIGFuXG4gICAgICAgKiAgIGFuaW1hdGlvbiBpZiBlbGVtZW50IGFscmVhZHkgY29udGFpbnMgdGhlIENTUyBjbGFzcyBvciBpZiB0aGUgY2xhc3MgaXMgcmVtb3ZlZCBhdCBhIGxhdGVyIHN0ZXAuXG4gICAgICAgKiAgIE5vdGUgdGhhdCBjbGFzcy1iYXNlZCBhbmltYXRpb25zIGFyZSB0cmVhdGVkIGRpZmZlcmVudGx5IGNvbXBhcmVkIHRvIHN0cnVjdHVyYWwgYW5pbWF0aW9uc1xuICAgICAgICogICAobGlrZSBlbnRlciwgbW92ZSBhbmQgbGVhdmUpIHNpbmNlIHRoZSBDU1MgY2xhc3NlcyBtYXkgYmUgYWRkZWQvcmVtb3ZlZCBhdCBkaWZmZXJlbnQgcG9pbnRzXG4gICAgICAgKiAgIGRlcGVuZGluZyBpZiBDU1Mgb3IgSmF2YVNjcmlwdCBhbmltYXRpb25zIGFyZSB1c2VkLlxuICAgICAgICpcbiAgICAgICAqIEBwYXJhbSB7RE9NRWxlbWVudH0gZWxlbWVudCB0aGUgZWxlbWVudCB3aGljaCB0aGUgQ1NTIGNsYXNzZXMgd2lsbCBiZSBhcHBsaWVkIHRvXG4gICAgICAgKiBAcGFyYW0ge3N0cmluZ30gY2xhc3NOYW1lIHRoZSBDU1MgY2xhc3MoZXMpIHRoYXQgd2lsbCBiZSBhZGRlZCAobXVsdGlwbGUgY2xhc3NlcyBhcmUgc2VwYXJhdGVkIHZpYSBzcGFjZXMpXG4gICAgICAgKiBAcGFyYW0ge29iamVjdD19IG9wdGlvbnMgYW4gb3B0aW9uYWwgY29sbGVjdGlvbiBvZiBvcHRpb25zL3N0eWxlcyB0aGF0IHdpbGwgYmUgYXBwbGllZCB0byB0aGUgZWxlbWVudC5cbiAgICAgICAqICAgVGhlIG9iamVjdCBjYW4gaGF2ZSB0aGUgZm9sbG93aW5nIHByb3BlcnRpZXM6XG4gICAgICAgKlxuICAgICAgICogICAtICoqYWRkQ2xhc3MqKiAtIGB7c3RyaW5nfWAgLSBzcGFjZS1zZXBhcmF0ZWQgQ1NTIGNsYXNzZXMgdG8gYWRkIHRvIGVsZW1lbnRcbiAgICAgICAqICAgLSAqKmZyb20qKiAtIGB7T2JqZWN0fWAgLSBDU1MgcHJvcGVydGllcyAmIHZhbHVlcyBhdCB0aGUgYmVnaW5uaW5nIG9mIGFuaW1hdGlvbi4gTXVzdCBoYXZlIG1hdGNoaW5nIGB0b2BcbiAgICAgICAqICAgLSAqKnJlbW92ZUNsYXNzKiogLSBge3N0cmluZ31gIC0gc3BhY2Utc2VwYXJhdGVkIENTUyBjbGFzc2VzIHRvIHJlbW92ZSBmcm9tIGVsZW1lbnRcbiAgICAgICAqICAgLSAqKnRvKiogLSBge09iamVjdH1gIC0gQ1NTIHByb3BlcnRpZXMgJiB2YWx1ZXMgYXQgZW5kIG9mIGFuaW1hdGlvbi4gTXVzdCBoYXZlIG1hdGNoaW5nIGBmcm9tYFxuICAgICAgICpcbiAgICAgICAqIEByZXR1cm4ge1Byb21pc2V9IHRoZSBhbmltYXRpb24gY2FsbGJhY2sgcHJvbWlzZVxuICAgICAgICovXG4gICAgICBhZGRDbGFzczogZnVuY3Rpb24oZWxlbWVudCwgY2xhc3NOYW1lLCBvcHRpb25zKSB7XG4gICAgICAgIG9wdGlvbnMgPSBwcmVwYXJlQW5pbWF0ZU9wdGlvbnMob3B0aW9ucyk7XG4gICAgICAgIG9wdGlvbnMuYWRkQ2xhc3MgPSBtZXJnZUNsYXNzZXMob3B0aW9ucy5hZGRjbGFzcywgY2xhc3NOYW1lKTtcbiAgICAgICAgcmV0dXJuICQkYW5pbWF0ZVF1ZXVlLnB1c2goZWxlbWVudCwgJ2FkZENsYXNzJywgb3B0aW9ucyk7XG4gICAgICB9LFxuXG4gICAgICAvKipcbiAgICAgICAqIEBuZ2RvYyBtZXRob2RcbiAgICAgICAqIEBuYW1lICRhbmltYXRlI3JlbW92ZUNsYXNzXG4gICAgICAgKiBAa2luZCBmdW5jdGlvblxuICAgICAgICpcbiAgICAgICAqIEBkZXNjcmlwdGlvbiBUcmlnZ2VycyBhIHJlbW92ZUNsYXNzIGFuaW1hdGlvbiBzdXJyb3VuZGluZyB0aGUgcmVtb3ZhbCBvZiB0aGUgcHJvdmlkZWQgQ1NTIGNsYXNzKGVzKS4gVXBvblxuICAgICAgICogICBleGVjdXRpb24sIHRoZSByZW1vdmVDbGFzcyBvcGVyYXRpb24gd2lsbCBvbmx5IGJlIGhhbmRsZWQgYWZ0ZXIgdGhlIG5leHQgZGlnZXN0IGFuZCBpdCB3aWxsIG5vdCB0cmlnZ2VyIGFuXG4gICAgICAgKiAgIGFuaW1hdGlvbiBpZiBlbGVtZW50IGRvZXMgbm90IGNvbnRhaW4gdGhlIENTUyBjbGFzcyBvciBpZiB0aGUgY2xhc3MgaXMgYWRkZWQgYXQgYSBsYXRlciBzdGVwLlxuICAgICAgICogICBOb3RlIHRoYXQgY2xhc3MtYmFzZWQgYW5pbWF0aW9ucyBhcmUgdHJlYXRlZCBkaWZmZXJlbnRseSBjb21wYXJlZCB0byBzdHJ1Y3R1cmFsIGFuaW1hdGlvbnNcbiAgICAgICAqICAgKGxpa2UgZW50ZXIsIG1vdmUgYW5kIGxlYXZlKSBzaW5jZSB0aGUgQ1NTIGNsYXNzZXMgbWF5IGJlIGFkZGVkL3JlbW92ZWQgYXQgZGlmZmVyZW50IHBvaW50c1xuICAgICAgICogICBkZXBlbmRpbmcgaWYgQ1NTIG9yIEphdmFTY3JpcHQgYW5pbWF0aW9ucyBhcmUgdXNlZC5cbiAgICAgICAqXG4gICAgICAgKiBAcGFyYW0ge0RPTUVsZW1lbnR9IGVsZW1lbnQgdGhlIGVsZW1lbnQgd2hpY2ggdGhlIENTUyBjbGFzc2VzIHdpbGwgYmUgYXBwbGllZCB0b1xuICAgICAgICogQHBhcmFtIHtzdHJpbmd9IGNsYXNzTmFtZSB0aGUgQ1NTIGNsYXNzKGVzKSB0aGF0IHdpbGwgYmUgcmVtb3ZlZCAobXVsdGlwbGUgY2xhc3NlcyBhcmUgc2VwYXJhdGVkIHZpYSBzcGFjZXMpXG4gICAgICAgKiBAcGFyYW0ge29iamVjdD19IG9wdGlvbnMgYW4gb3B0aW9uYWwgY29sbGVjdGlvbiBvZiBvcHRpb25zL3N0eWxlcyB0aGF0IHdpbGwgYmUgYXBwbGllZCB0byB0aGUgZWxlbWVudC5cbiAgICAgICAqICAgVGhlIG9iamVjdCBjYW4gaGF2ZSB0aGUgZm9sbG93aW5nIHByb3BlcnRpZXM6XG4gICAgICAgKlxuICAgICAgICogICAtICoqYWRkQ2xhc3MqKiAtIGB7c3RyaW5nfWAgLSBzcGFjZS1zZXBhcmF0ZWQgQ1NTIGNsYXNzZXMgdG8gYWRkIHRvIGVsZW1lbnRcbiAgICAgICAqICAgLSAqKmZyb20qKiAtIGB7T2JqZWN0fWAgLSBDU1MgcHJvcGVydGllcyAmIHZhbHVlcyBhdCB0aGUgYmVnaW5uaW5nIG9mIGFuaW1hdGlvbi4gTXVzdCBoYXZlIG1hdGNoaW5nIGB0b2BcbiAgICAgICAqICAgLSAqKnJlbW92ZUNsYXNzKiogLSBge3N0cmluZ31gIC0gc3BhY2Utc2VwYXJhdGVkIENTUyBjbGFzc2VzIHRvIHJlbW92ZSBmcm9tIGVsZW1lbnRcbiAgICAgICAqICAgLSAqKnRvKiogLSBge09iamVjdH1gIC0gQ1NTIHByb3BlcnRpZXMgJiB2YWx1ZXMgYXQgZW5kIG9mIGFuaW1hdGlvbi4gTXVzdCBoYXZlIG1hdGNoaW5nIGBmcm9tYFxuICAgICAgICpcbiAgICAgICAqIEByZXR1cm4ge1Byb21pc2V9IHRoZSBhbmltYXRpb24gY2FsbGJhY2sgcHJvbWlzZVxuICAgICAgICovXG4gICAgICByZW1vdmVDbGFzczogZnVuY3Rpb24oZWxlbWVudCwgY2xhc3NOYW1lLCBvcHRpb25zKSB7XG4gICAgICAgIG9wdGlvbnMgPSBwcmVwYXJlQW5pbWF0ZU9wdGlvbnMob3B0aW9ucyk7XG4gICAgICAgIG9wdGlvbnMucmVtb3ZlQ2xhc3MgPSBtZXJnZUNsYXNzZXMob3B0aW9ucy5yZW1vdmVDbGFzcywgY2xhc3NOYW1lKTtcbiAgICAgICAgcmV0dXJuICQkYW5pbWF0ZVF1ZXVlLnB1c2goZWxlbWVudCwgJ3JlbW92ZUNsYXNzJywgb3B0aW9ucyk7XG4gICAgICB9LFxuXG4gICAgICAvKipcbiAgICAgICAqIEBuZ2RvYyBtZXRob2RcbiAgICAgICAqIEBuYW1lICRhbmltYXRlI3NldENsYXNzXG4gICAgICAgKiBAa2luZCBmdW5jdGlvblxuICAgICAgICpcbiAgICAgICAqIEBkZXNjcmlwdGlvbiBQZXJmb3JtcyBib3RoIHRoZSBhZGRpdGlvbiBhbmQgcmVtb3ZhbCBvZiBhIENTUyBjbGFzc2VzIG9uIGFuIGVsZW1lbnQgYW5kIChkdXJpbmcgdGhlIHByb2Nlc3MpXG4gICAgICAgKiAgICB0cmlnZ2VycyBhbiBhbmltYXRpb24gc3Vycm91bmRpbmcgdGhlIGNsYXNzIGFkZGl0aW9uL3JlbW92YWwuIE11Y2ggbGlrZSBgJGFuaW1hdGUuYWRkQ2xhc3NgIGFuZFxuICAgICAgICogICAgYCRhbmltYXRlLnJlbW92ZUNsYXNzYCwgYHNldENsYXNzYCB3aWxsIG9ubHkgZXZhbHVhdGUgdGhlIGNsYXNzZXMgYmVpbmcgYWRkZWQvcmVtb3ZlZCBvbmNlIGEgZGlnZXN0IGhhc1xuICAgICAgICogICAgcGFzc2VkLiBOb3RlIHRoYXQgY2xhc3MtYmFzZWQgYW5pbWF0aW9ucyBhcmUgdHJlYXRlZCBkaWZmZXJlbnRseSBjb21wYXJlZCB0byBzdHJ1Y3R1cmFsIGFuaW1hdGlvbnNcbiAgICAgICAqICAgIChsaWtlIGVudGVyLCBtb3ZlIGFuZCBsZWF2ZSkgc2luY2UgdGhlIENTUyBjbGFzc2VzIG1heSBiZSBhZGRlZC9yZW1vdmVkIGF0IGRpZmZlcmVudCBwb2ludHNcbiAgICAgICAqICAgIGRlcGVuZGluZyBpZiBDU1Mgb3IgSmF2YVNjcmlwdCBhbmltYXRpb25zIGFyZSB1c2VkLlxuICAgICAgICpcbiAgICAgICAqIEBwYXJhbSB7RE9NRWxlbWVudH0gZWxlbWVudCB0aGUgZWxlbWVudCB3aGljaCB0aGUgQ1NTIGNsYXNzZXMgd2lsbCBiZSBhcHBsaWVkIHRvXG4gICAgICAgKiBAcGFyYW0ge3N0cmluZ30gYWRkIHRoZSBDU1MgY2xhc3MoZXMpIHRoYXQgd2lsbCBiZSBhZGRlZCAobXVsdGlwbGUgY2xhc3NlcyBhcmUgc2VwYXJhdGVkIHZpYSBzcGFjZXMpXG4gICAgICAgKiBAcGFyYW0ge3N0cmluZ30gcmVtb3ZlIHRoZSBDU1MgY2xhc3MoZXMpIHRoYXQgd2lsbCBiZSByZW1vdmVkIChtdWx0aXBsZSBjbGFzc2VzIGFyZSBzZXBhcmF0ZWQgdmlhIHNwYWNlcylcbiAgICAgICAqIEBwYXJhbSB7b2JqZWN0PX0gb3B0aW9ucyBhbiBvcHRpb25hbCBjb2xsZWN0aW9uIG9mIG9wdGlvbnMvc3R5bGVzIHRoYXQgd2lsbCBiZSBhcHBsaWVkIHRvIHRoZSBlbGVtZW50LlxuICAgICAgICogICBUaGUgb2JqZWN0IGNhbiBoYXZlIHRoZSBmb2xsb3dpbmcgcHJvcGVydGllczpcbiAgICAgICAqXG4gICAgICAgKiAgIC0gKiphZGRDbGFzcyoqIC0gYHtzdHJpbmd9YCAtIHNwYWNlLXNlcGFyYXRlZCBDU1MgY2xhc3NlcyB0byBhZGQgdG8gZWxlbWVudFxuICAgICAgICogICAtICoqZnJvbSoqIC0gYHtPYmplY3R9YCAtIENTUyBwcm9wZXJ0aWVzICYgdmFsdWVzIGF0IHRoZSBiZWdpbm5pbmcgb2YgYW5pbWF0aW9uLiBNdXN0IGhhdmUgbWF0Y2hpbmcgYHRvYFxuICAgICAgICogICAtICoqcmVtb3ZlQ2xhc3MqKiAtIGB7c3RyaW5nfWAgLSBzcGFjZS1zZXBhcmF0ZWQgQ1NTIGNsYXNzZXMgdG8gcmVtb3ZlIGZyb20gZWxlbWVudFxuICAgICAgICogICAtICoqdG8qKiAtIGB7T2JqZWN0fWAgLSBDU1MgcHJvcGVydGllcyAmIHZhbHVlcyBhdCBlbmQgb2YgYW5pbWF0aW9uLiBNdXN0IGhhdmUgbWF0Y2hpbmcgYGZyb21gXG4gICAgICAgKlxuICAgICAgICogQHJldHVybiB7UHJvbWlzZX0gdGhlIGFuaW1hdGlvbiBjYWxsYmFjayBwcm9taXNlXG4gICAgICAgKi9cbiAgICAgIHNldENsYXNzOiBmdW5jdGlvbihlbGVtZW50LCBhZGQsIHJlbW92ZSwgb3B0aW9ucykge1xuICAgICAgICBvcHRpb25zID0gcHJlcGFyZUFuaW1hdGVPcHRpb25zKG9wdGlvbnMpO1xuICAgICAgICBvcHRpb25zLmFkZENsYXNzID0gbWVyZ2VDbGFzc2VzKG9wdGlvbnMuYWRkQ2xhc3MsIGFkZCk7XG4gICAgICAgIG9wdGlvbnMucmVtb3ZlQ2xhc3MgPSBtZXJnZUNsYXNzZXMob3B0aW9ucy5yZW1vdmVDbGFzcywgcmVtb3ZlKTtcbiAgICAgICAgcmV0dXJuICQkYW5pbWF0ZVF1ZXVlLnB1c2goZWxlbWVudCwgJ3NldENsYXNzJywgb3B0aW9ucyk7XG4gICAgICB9LFxuXG4gICAgICAvKipcbiAgICAgICAqIEBuZ2RvYyBtZXRob2RcbiAgICAgICAqIEBuYW1lICRhbmltYXRlI2FuaW1hdGVcbiAgICAgICAqIEBraW5kIGZ1bmN0aW9uXG4gICAgICAgKlxuICAgICAgICogQGRlc2NyaXB0aW9uIFBlcmZvcm1zIGFuIGlubGluZSBhbmltYXRpb24gb24gdGhlIGVsZW1lbnQgd2hpY2ggYXBwbGllcyB0aGUgcHJvdmlkZWQgdG8gYW5kIGZyb20gQ1NTIHN0eWxlcyB0byB0aGUgZWxlbWVudC5cbiAgICAgICAqIElmIGFueSBkZXRlY3RlZCBDU1MgdHJhbnNpdGlvbiwga2V5ZnJhbWUgb3IgSmF2YVNjcmlwdCBtYXRjaGVzIHRoZSBwcm92aWRlZCBjbGFzc05hbWUgdmFsdWUsIHRoZW4gdGhlIGFuaW1hdGlvbiB3aWxsIHRha2VcbiAgICAgICAqIG9uIHRoZSBwcm92aWRlZCBzdHlsZXMuIEZvciBleGFtcGxlLCBpZiBhIHRyYW5zaXRpb24gYW5pbWF0aW9uIGlzIHNldCBmb3IgdGhlIGdpdmVuIGNsYXNzTmFtZSwgdGhlbiB0aGUgcHJvdmlkZWQgYGZyb21gIGFuZFxuICAgICAgICogYHRvYCBzdHlsZXMgd2lsbCBiZSBhcHBsaWVkIGFsb25nc2lkZSB0aGUgZ2l2ZW4gdHJhbnNpdGlvbi4gSWYgdGhlIENTUyBzdHlsZSBwcm92aWRlZCBpbiBgZnJvbWAgZG9lcyBub3QgaGF2ZSBhIGNvcnJlc3BvbmRpbmdcbiAgICAgICAqIHN0eWxlIGluIGB0b2AsIHRoZSBzdHlsZSBpbiBgZnJvbWAgaXMgYXBwbGllZCBpbW1lZGlhdGVseSwgYW5kIG5vIGFuaW1hdGlvbiBpcyBydW4uXG4gICAgICAgKiBJZiBhIEphdmFTY3JpcHQgYW5pbWF0aW9uIGlzIGRldGVjdGVkIHRoZW4gdGhlIHByb3ZpZGVkIHN0eWxlcyB3aWxsIGJlIGdpdmVuIGluIGFzIGZ1bmN0aW9uIHBhcmFtZXRlcnMgaW50byB0aGUgYGFuaW1hdGVgXG4gICAgICAgKiBtZXRob2QgKG9yIGFzIHBhcnQgb2YgdGhlIGBvcHRpb25zYCBwYXJhbWV0ZXIpOlxuICAgICAgICpcbiAgICAgICAqIGBgYGpzXG4gICAgICAgKiBuZ01vZHVsZS5hbmltYXRpb24oJy5teS1pbmxpbmUtYW5pbWF0aW9uJywgZnVuY3Rpb24oKSB7XG4gICAgICAgKiAgIHJldHVybiB7XG4gICAgICAgKiAgICAgYW5pbWF0ZSA6IGZ1bmN0aW9uKGVsZW1lbnQsIGZyb20sIHRvLCBkb25lLCBvcHRpb25zKSB7XG4gICAgICAgKiAgICAgICAvL2FuaW1hdGlvblxuICAgICAgICogICAgICAgZG9uZSgpO1xuICAgICAgICogICAgIH1cbiAgICAgICAqICAgfVxuICAgICAgICogfSk7XG4gICAgICAgKiBgYGBcbiAgICAgICAqXG4gICAgICAgKiBAcGFyYW0ge0RPTUVsZW1lbnR9IGVsZW1lbnQgdGhlIGVsZW1lbnQgd2hpY2ggdGhlIENTUyBzdHlsZXMgd2lsbCBiZSBhcHBsaWVkIHRvXG4gICAgICAgKiBAcGFyYW0ge29iamVjdH0gZnJvbSB0aGUgZnJvbSAoc3RhcnRpbmcpIENTUyBzdHlsZXMgdGhhdCB3aWxsIGJlIGFwcGxpZWQgdG8gdGhlIGVsZW1lbnQgYW5kIGFjcm9zcyB0aGUgYW5pbWF0aW9uLlxuICAgICAgICogQHBhcmFtIHtvYmplY3R9IHRvIHRoZSB0byAoZGVzdGluYXRpb24pIENTUyBzdHlsZXMgdGhhdCB3aWxsIGJlIGFwcGxpZWQgdG8gdGhlIGVsZW1lbnQgYW5kIGFjcm9zcyB0aGUgYW5pbWF0aW9uLlxuICAgICAgICogQHBhcmFtIHtzdHJpbmc9fSBjbGFzc05hbWUgYW4gb3B0aW9uYWwgQ1NTIGNsYXNzIHRoYXQgd2lsbCBiZSBhcHBsaWVkIHRvIHRoZSBlbGVtZW50IGZvciB0aGUgZHVyYXRpb24gb2YgdGhlIGFuaW1hdGlvbi4gSWZcbiAgICAgICAqICAgIHRoaXMgdmFsdWUgaXMgbGVmdCBhcyBlbXB0eSB0aGVuIGEgQ1NTIGNsYXNzIG9mIGBuZy1pbmxpbmUtYW5pbWF0ZWAgd2lsbCBiZSBhcHBsaWVkIHRvIHRoZSBlbGVtZW50LlxuICAgICAgICogICAgKE5vdGUgdGhhdCBpZiBubyBhbmltYXRpb24gaXMgZGV0ZWN0ZWQgdGhlbiB0aGlzIHZhbHVlIHdpbGwgbm90IGJlIGFwcGxpZWQgdG8gdGhlIGVsZW1lbnQuKVxuICAgICAgICogQHBhcmFtIHtvYmplY3Q9fSBvcHRpb25zIGFuIG9wdGlvbmFsIGNvbGxlY3Rpb24gb2Ygb3B0aW9ucy9zdHlsZXMgdGhhdCB3aWxsIGJlIGFwcGxpZWQgdG8gdGhlIGVsZW1lbnQuXG4gICAgICAgKiAgIFRoZSBvYmplY3QgY2FuIGhhdmUgdGhlIGZvbGxvd2luZyBwcm9wZXJ0aWVzOlxuICAgICAgICpcbiAgICAgICAqICAgLSAqKmFkZENsYXNzKiogLSBge3N0cmluZ31gIC0gc3BhY2Utc2VwYXJhdGVkIENTUyBjbGFzc2VzIHRvIGFkZCB0byBlbGVtZW50XG4gICAgICAgKiAgIC0gKipmcm9tKiogLSBge09iamVjdH1gIC0gQ1NTIHByb3BlcnRpZXMgJiB2YWx1ZXMgYXQgdGhlIGJlZ2lubmluZyBvZiBhbmltYXRpb24uIE11c3QgaGF2ZSBtYXRjaGluZyBgdG9gXG4gICAgICAgKiAgIC0gKipyZW1vdmVDbGFzcyoqIC0gYHtzdHJpbmd9YCAtIHNwYWNlLXNlcGFyYXRlZCBDU1MgY2xhc3NlcyB0byByZW1vdmUgZnJvbSBlbGVtZW50XG4gICAgICAgKiAgIC0gKip0byoqIC0gYHtPYmplY3R9YCAtIENTUyBwcm9wZXJ0aWVzICYgdmFsdWVzIGF0IGVuZCBvZiBhbmltYXRpb24uIE11c3QgaGF2ZSBtYXRjaGluZyBgZnJvbWBcbiAgICAgICAqXG4gICAgICAgKiBAcmV0dXJuIHtQcm9taXNlfSB0aGUgYW5pbWF0aW9uIGNhbGxiYWNrIHByb21pc2VcbiAgICAgICAqL1xuICAgICAgYW5pbWF0ZTogZnVuY3Rpb24oZWxlbWVudCwgZnJvbSwgdG8sIGNsYXNzTmFtZSwgb3B0aW9ucykge1xuICAgICAgICBvcHRpb25zID0gcHJlcGFyZUFuaW1hdGVPcHRpb25zKG9wdGlvbnMpO1xuICAgICAgICBvcHRpb25zLmZyb20gPSBvcHRpb25zLmZyb20gPyBleHRlbmQob3B0aW9ucy5mcm9tLCBmcm9tKSA6IGZyb207XG4gICAgICAgIG9wdGlvbnMudG8gICA9IG9wdGlvbnMudG8gICA/IGV4dGVuZChvcHRpb25zLnRvLCB0bykgICAgIDogdG87XG5cbiAgICAgICAgY2xhc3NOYW1lID0gY2xhc3NOYW1lIHx8ICduZy1pbmxpbmUtYW5pbWF0ZSc7XG4gICAgICAgIG9wdGlvbnMudGVtcENsYXNzZXMgPSBtZXJnZUNsYXNzZXMob3B0aW9ucy50ZW1wQ2xhc3NlcywgY2xhc3NOYW1lKTtcbiAgICAgICAgcmV0dXJuICQkYW5pbWF0ZVF1ZXVlLnB1c2goZWxlbWVudCwgJ2FuaW1hdGUnLCBvcHRpb25zKTtcbiAgICAgIH1cbiAgICB9O1xuICB9XTtcbn1dO1xuXG52YXIgJCRBbmltYXRlQXN5bmNSdW5GYWN0b3J5UHJvdmlkZXIgPSAvKiogQHRoaXMgKi8gZnVuY3Rpb24oKSB7XG4gIHRoaXMuJGdldCA9IFsnJCRyQUYnLCBmdW5jdGlvbigkJHJBRikge1xuICAgIHZhciB3YWl0UXVldWUgPSBbXTtcblxuICAgIGZ1bmN0aW9uIHdhaXRGb3JUaWNrKGZuKSB7XG4gICAgICB3YWl0UXVldWUucHVzaChmbik7XG4gICAgICBpZiAod2FpdFF1ZXVlLmxlbmd0aCA+IDEpIHJldHVybjtcbiAgICAgICQkckFGKGZ1bmN0aW9uKCkge1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHdhaXRRdWV1ZS5sZW5ndGg7IGkrKykge1xuICAgICAgICAgIHdhaXRRdWV1ZVtpXSgpO1xuICAgICAgICB9XG4gICAgICAgIHdhaXRRdWV1ZSA9IFtdO1xuICAgICAgfSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIGZ1bmN0aW9uKCkge1xuICAgICAgdmFyIHBhc3NlZCA9IGZhbHNlO1xuICAgICAgd2FpdEZvclRpY2soZnVuY3Rpb24oKSB7XG4gICAgICAgIHBhc3NlZCA9IHRydWU7XG4gICAgICB9KTtcbiAgICAgIHJldHVybiBmdW5jdGlvbihjYWxsYmFjaykge1xuICAgICAgICBpZiAocGFzc2VkKSB7XG4gICAgICAgICAgY2FsbGJhY2soKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB3YWl0Rm9yVGljayhjYWxsYmFjayk7XG4gICAgICAgIH1cbiAgICAgIH07XG4gICAgfTtcbiAgfV07XG59O1xuXG52YXIgJCRBbmltYXRlUnVubmVyRmFjdG9yeVByb3ZpZGVyID0gLyoqIEB0aGlzICovIGZ1bmN0aW9uKCkge1xuICB0aGlzLiRnZXQgPSBbJyRxJywgJyRzbmlmZmVyJywgJyQkYW5pbWF0ZUFzeW5jUnVuJywgJyQkaXNEb2N1bWVudEhpZGRlbicsICckdGltZW91dCcsXG4gICAgICAgZnVuY3Rpb24oJHEsICAgJHNuaWZmZXIsICAgJCRhbmltYXRlQXN5bmNSdW4sICAgJCRpc0RvY3VtZW50SGlkZGVuLCAgICR0aW1lb3V0KSB7XG5cbiAgICB2YXIgSU5JVElBTF9TVEFURSA9IDA7XG4gICAgdmFyIERPTkVfUEVORElOR19TVEFURSA9IDE7XG4gICAgdmFyIERPTkVfQ09NUExFVEVfU1RBVEUgPSAyO1xuXG4gICAgQW5pbWF0ZVJ1bm5lci5jaGFpbiA9IGZ1bmN0aW9uKGNoYWluLCBjYWxsYmFjaykge1xuICAgICAgdmFyIGluZGV4ID0gMDtcblxuICAgICAgbmV4dCgpO1xuICAgICAgZnVuY3Rpb24gbmV4dCgpIHtcbiAgICAgICAgaWYgKGluZGV4ID09PSBjaGFpbi5sZW5ndGgpIHtcbiAgICAgICAgICBjYWxsYmFjayh0cnVlKTtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBjaGFpbltpbmRleF0oZnVuY3Rpb24ocmVzcG9uc2UpIHtcbiAgICAgICAgICBpZiAocmVzcG9uc2UgPT09IGZhbHNlKSB7XG4gICAgICAgICAgICBjYWxsYmFjayhmYWxzZSk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgfVxuICAgICAgICAgIGluZGV4Kys7XG4gICAgICAgICAgbmV4dCgpO1xuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgQW5pbWF0ZVJ1bm5lci5hbGwgPSBmdW5jdGlvbihydW5uZXJzLCBjYWxsYmFjaykge1xuICAgICAgdmFyIGNvdW50ID0gMDtcbiAgICAgIHZhciBzdGF0dXMgPSB0cnVlO1xuICAgICAgZm9yRWFjaChydW5uZXJzLCBmdW5jdGlvbihydW5uZXIpIHtcbiAgICAgICAgcnVubmVyLmRvbmUob25Qcm9ncmVzcyk7XG4gICAgICB9KTtcblxuICAgICAgZnVuY3Rpb24gb25Qcm9ncmVzcyhyZXNwb25zZSkge1xuICAgICAgICBzdGF0dXMgPSBzdGF0dXMgJiYgcmVzcG9uc2U7XG4gICAgICAgIGlmICgrK2NvdW50ID09PSBydW5uZXJzLmxlbmd0aCkge1xuICAgICAgICAgIGNhbGxiYWNrKHN0YXR1cyk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9O1xuXG4gICAgZnVuY3Rpb24gQW5pbWF0ZVJ1bm5lcihob3N0KSB7XG4gICAgICB0aGlzLnNldEhvc3QoaG9zdCk7XG5cbiAgICAgIHZhciByYWZUaWNrID0gJCRhbmltYXRlQXN5bmNSdW4oKTtcbiAgICAgIHZhciB0aW1lb3V0VGljayA9IGZ1bmN0aW9uKGZuKSB7XG4gICAgICAgICR0aW1lb3V0KGZuLCAwLCBmYWxzZSk7XG4gICAgICB9O1xuXG4gICAgICB0aGlzLl9kb25lQ2FsbGJhY2tzID0gW107XG4gICAgICB0aGlzLl90aWNrID0gZnVuY3Rpb24oZm4pIHtcbiAgICAgICAgaWYgKCQkaXNEb2N1bWVudEhpZGRlbigpKSB7XG4gICAgICAgICAgdGltZW91dFRpY2soZm4pO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHJhZlRpY2soZm4pO1xuICAgICAgICB9XG4gICAgICB9O1xuICAgICAgdGhpcy5fc3RhdGUgPSAwO1xuICAgIH1cblxuICAgIEFuaW1hdGVSdW5uZXIucHJvdG90eXBlID0ge1xuICAgICAgc2V0SG9zdDogZnVuY3Rpb24oaG9zdCkge1xuICAgICAgICB0aGlzLmhvc3QgPSBob3N0IHx8IHt9O1xuICAgICAgfSxcblxuICAgICAgZG9uZTogZnVuY3Rpb24oZm4pIHtcbiAgICAgICAgaWYgKHRoaXMuX3N0YXRlID09PSBET05FX0NPTVBMRVRFX1NUQVRFKSB7XG4gICAgICAgICAgZm4oKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB0aGlzLl9kb25lQ2FsbGJhY2tzLnB1c2goZm4pO1xuICAgICAgICB9XG4gICAgICB9LFxuXG4gICAgICBwcm9ncmVzczogbm9vcCxcblxuICAgICAgZ2V0UHJvbWlzZTogZnVuY3Rpb24oKSB7XG4gICAgICAgIGlmICghdGhpcy5wcm9taXNlKSB7XG4gICAgICAgICAgdmFyIHNlbGYgPSB0aGlzO1xuICAgICAgICAgIHRoaXMucHJvbWlzZSA9ICRxKGZ1bmN0aW9uKHJlc29sdmUsIHJlamVjdCkge1xuICAgICAgICAgICAgc2VsZi5kb25lKGZ1bmN0aW9uKHN0YXR1cykge1xuICAgICAgICAgICAgICBpZiAoc3RhdHVzID09PSBmYWxzZSkge1xuICAgICAgICAgICAgICAgIHJlamVjdCgpO1xuICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHJlc29sdmUoKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMucHJvbWlzZTtcbiAgICAgIH0sXG5cbiAgICAgIHRoZW46IGZ1bmN0aW9uKHJlc29sdmVIYW5kbGVyLCByZWplY3RIYW5kbGVyKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmdldFByb21pc2UoKS50aGVuKHJlc29sdmVIYW5kbGVyLCByZWplY3RIYW5kbGVyKTtcbiAgICAgIH0sXG5cbiAgICAgICdjYXRjaCc6IGZ1bmN0aW9uKGhhbmRsZXIpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZ2V0UHJvbWlzZSgpWydjYXRjaCddKGhhbmRsZXIpO1xuICAgICAgfSxcblxuICAgICAgJ2ZpbmFsbHknOiBmdW5jdGlvbihoYW5kbGVyKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmdldFByb21pc2UoKVsnZmluYWxseSddKGhhbmRsZXIpO1xuICAgICAgfSxcblxuICAgICAgcGF1c2U6IGZ1bmN0aW9uKCkge1xuICAgICAgICBpZiAodGhpcy5ob3N0LnBhdXNlKSB7XG4gICAgICAgICAgdGhpcy5ob3N0LnBhdXNlKCk7XG4gICAgICAgIH1cbiAgICAgIH0sXG5cbiAgICAgIHJlc3VtZTogZnVuY3Rpb24oKSB7XG4gICAgICAgIGlmICh0aGlzLmhvc3QucmVzdW1lKSB7XG4gICAgICAgICAgdGhpcy5ob3N0LnJlc3VtZSgpO1xuICAgICAgICB9XG4gICAgICB9LFxuXG4gICAgICBlbmQ6IGZ1bmN0aW9uKCkge1xuICAgICAgICBpZiAodGhpcy5ob3N0LmVuZCkge1xuICAgICAgICAgIHRoaXMuaG9zdC5lbmQoKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLl9yZXNvbHZlKHRydWUpO1xuICAgICAgfSxcblxuICAgICAgY2FuY2VsOiBmdW5jdGlvbigpIHtcbiAgICAgICAgaWYgKHRoaXMuaG9zdC5jYW5jZWwpIHtcbiAgICAgICAgICB0aGlzLmhvc3QuY2FuY2VsKCk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fcmVzb2x2ZShmYWxzZSk7XG4gICAgICB9LFxuXG4gICAgICBjb21wbGV0ZTogZnVuY3Rpb24ocmVzcG9uc2UpIHtcbiAgICAgICAgdmFyIHNlbGYgPSB0aGlzO1xuICAgICAgICBpZiAoc2VsZi5fc3RhdGUgPT09IElOSVRJQUxfU1RBVEUpIHtcbiAgICAgICAgICBzZWxmLl9zdGF0ZSA9IERPTkVfUEVORElOR19TVEFURTtcbiAgICAgICAgICBzZWxmLl90aWNrKGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgc2VsZi5fcmVzb2x2ZShyZXNwb25zZSk7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgIH0sXG5cbiAgICAgIF9yZXNvbHZlOiBmdW5jdGlvbihyZXNwb25zZSkge1xuICAgICAgICBpZiAodGhpcy5fc3RhdGUgIT09IERPTkVfQ09NUExFVEVfU1RBVEUpIHtcbiAgICAgICAgICBmb3JFYWNoKHRoaXMuX2RvbmVDYWxsYmFja3MsIGZ1bmN0aW9uKGZuKSB7XG4gICAgICAgICAgICBmbihyZXNwb25zZSk7XG4gICAgICAgICAgfSk7XG4gICAgICAgICAgdGhpcy5fZG9uZUNhbGxiYWNrcy5sZW5ndGggPSAwO1xuICAgICAgICAgIHRoaXMuX3N0YXRlID0gRE9ORV9DT01QTEVURV9TVEFURTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH07XG5cbiAgICByZXR1cm4gQW5pbWF0ZVJ1bm5lcjtcbiAgfV07XG59O1xuXG4vKiBleHBvcnRlZCAkQ29yZUFuaW1hdGVDc3NQcm92aWRlciAqL1xuXG4vKipcbiAqIEBuZ2RvYyBzZXJ2aWNlXG4gKiBAbmFtZSAkYW5pbWF0ZUNzc1xuICogQGtpbmQgb2JqZWN0XG4gKiBAdGhpc1xuICpcbiAqIEBkZXNjcmlwdGlvblxuICogVGhpcyBpcyB0aGUgY29yZSB2ZXJzaW9uIG9mIGAkYW5pbWF0ZUNzc2AuIEJ5IGRlZmF1bHQsIG9ubHkgd2hlbiB0aGUgYG5nQW5pbWF0ZWAgaXMgaW5jbHVkZWQsXG4gKiB0aGVuIHRoZSBgJGFuaW1hdGVDc3NgIHNlcnZpY2Ugd2lsbCBhY3R1YWxseSBwZXJmb3JtIGFuaW1hdGlvbnMuXG4gKlxuICogQ2xpY2sgaGVyZSB7QGxpbmsgbmdBbmltYXRlLiRhbmltYXRlQ3NzIHRvIHJlYWQgdGhlIGRvY3VtZW50YXRpb24gZm9yICRhbmltYXRlQ3NzfS5cbiAqL1xudmFyICRDb3JlQW5pbWF0ZUNzc1Byb3ZpZGVyID0gZnVuY3Rpb24oKSB7XG4gIHRoaXMuJGdldCA9IFsnJCRyQUYnLCAnJHEnLCAnJCRBbmltYXRlUnVubmVyJywgZnVuY3Rpb24oJCRyQUYsICRxLCAkJEFuaW1hdGVSdW5uZXIpIHtcblxuICAgIHJldHVybiBmdW5jdGlvbihlbGVtZW50LCBpbml0aWFsT3B0aW9ucykge1xuICAgICAgLy8gYWxsIG9mIHRoZSBhbmltYXRpb24gZnVuY3Rpb25zIHNob3VsZCBjcmVhdGVcbiAgICAgIC8vIGEgY29weSBvZiB0aGUgb3B0aW9ucyBkYXRhLCBob3dldmVyLCBpZiBhXG4gICAgICAvLyBwYXJlbnQgc2VydmljZSBoYXMgYWxyZWFkeSBjcmVhdGVkIGEgY29weSB0aGVuXG4gICAgICAvLyB3ZSBzaG91bGQgc3RpY2sgdG8gdXNpbmcgdGhhdFxuICAgICAgdmFyIG9wdGlvbnMgPSBpbml0aWFsT3B0aW9ucyB8fCB7fTtcbiAgICAgIGlmICghb3B0aW9ucy4kJHByZXBhcmVkKSB7XG4gICAgICAgIG9wdGlvbnMgPSBjb3B5KG9wdGlvbnMpO1xuICAgICAgfVxuXG4gICAgICAvLyB0aGVyZSBpcyBubyBwb2ludCBpbiBhcHBseWluZyB0aGUgc3R5bGVzIHNpbmNlXG4gICAgICAvLyB0aGVyZSBpcyBubyBhbmltYXRpb24gdGhhdCBnb2VzIG9uIGF0IGFsbCBpblxuICAgICAgLy8gdGhpcyB2ZXJzaW9uIG9mICRhbmltYXRlQ3NzLlxuICAgICAgaWYgKG9wdGlvbnMuY2xlYW51cFN0eWxlcykge1xuICAgICAgICBvcHRpb25zLmZyb20gPSBvcHRpb25zLnRvID0gbnVsbDtcbiAgICAgIH1cblxuICAgICAgaWYgKG9wdGlvbnMuZnJvbSkge1xuICAgICAgICBlbGVtZW50LmNzcyhvcHRpb25zLmZyb20pO1xuICAgICAgICBvcHRpb25zLmZyb20gPSBudWxsO1xuICAgICAgfVxuXG4gICAgICB2YXIgY2xvc2VkLCBydW5uZXIgPSBuZXcgJCRBbmltYXRlUnVubmVyKCk7XG4gICAgICByZXR1cm4ge1xuICAgICAgICBzdGFydDogcnVuLFxuICAgICAgICBlbmQ6IHJ1blxuICAgICAgfTtcblxuICAgICAgZnVuY3Rpb24gcnVuKCkge1xuICAgICAgICAkJHJBRihmdW5jdGlvbigpIHtcbiAgICAgICAgICBhcHBseUFuaW1hdGlvbkNvbnRlbnRzKCk7XG4gICAgICAgICAgaWYgKCFjbG9zZWQpIHtcbiAgICAgICAgICAgIHJ1bm5lci5jb21wbGV0ZSgpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBjbG9zZWQgPSB0cnVlO1xuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIHJ1bm5lcjtcbiAgICAgIH1cblxuICAgICAgZnVuY3Rpb24gYXBwbHlBbmltYXRpb25Db250ZW50cygpIHtcbiAgICAgICAgaWYgKG9wdGlvbnMuYWRkQ2xhc3MpIHtcbiAgICAgICAgICBlbGVtZW50LmFkZENsYXNzKG9wdGlvbnMuYWRkQ2xhc3MpO1xuICAgICAgICAgIG9wdGlvbnMuYWRkQ2xhc3MgPSBudWxsO1xuICAgICAgICB9XG4gICAgICAgIGlmIChvcHRpb25zLnJlbW92ZUNsYXNzKSB7XG4gICAgICAgICAgZWxlbWVudC5yZW1vdmVDbGFzcyhvcHRpb25zLnJlbW92ZUNsYXNzKTtcbiAgICAgICAgICBvcHRpb25zLnJlbW92ZUNsYXNzID0gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICBpZiAob3B0aW9ucy50bykge1xuICAgICAgICAgIGVsZW1lbnQuY3NzKG9wdGlvbnMudG8pO1xuICAgICAgICAgIG9wdGlvbnMudG8gPSBudWxsO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfTtcbiAgfV07XG59O1xuXG4vKiBnbG9iYWwgc3RyaXBIYXNoOiB0cnVlICovXG5cbi8qKlxuICogISBUaGlzIGlzIGEgcHJpdmF0ZSB1bmRvY3VtZW50ZWQgc2VydmljZSAhXG4gKlxuICogQG5hbWUgJGJyb3dzZXJcbiAqIEByZXF1aXJlcyAkbG9nXG4gKiBAZGVzY3JpcHRpb25cbiAqIFRoaXMgb2JqZWN0IGhhcyB0d28gZ29hbHM6XG4gKlxuICogLSBoaWRlIGFsbCB0aGUgZ2xvYmFsIHN0YXRlIGluIHRoZSBicm93c2VyIGNhdXNlZCBieSB0aGUgd2luZG93IG9iamVjdFxuICogLSBhYnN0cmFjdCBhd2F5IGFsbCB0aGUgYnJvd3NlciBzcGVjaWZpYyBmZWF0dXJlcyBhbmQgaW5jb25zaXN0ZW5jaWVzXG4gKlxuICogRm9yIHRlc3RzIHdlIHByb3ZpZGUge0BsaW5rIG5nTW9jay4kYnJvd3NlciBtb2NrIGltcGxlbWVudGF0aW9ufSBvZiB0aGUgYCRicm93c2VyYFxuICogc2VydmljZSwgd2hpY2ggY2FuIGJlIHVzZWQgZm9yIGNvbnZlbmllbnQgdGVzdGluZyBvZiB0aGUgYXBwbGljYXRpb24gd2l0aG91dCB0aGUgaW50ZXJhY3Rpb24gd2l0aFxuICogdGhlIHJlYWwgYnJvd3NlciBhcGlzLlxuICovXG4vKipcbiAqIEBwYXJhbSB7b2JqZWN0fSB3aW5kb3cgVGhlIGdsb2JhbCB3aW5kb3cgb2JqZWN0LlxuICogQHBhcmFtIHtvYmplY3R9IGRvY3VtZW50IGpRdWVyeSB3cmFwcGVkIGRvY3VtZW50LlxuICogQHBhcmFtIHtvYmplY3R9ICRsb2cgd2luZG93LmNvbnNvbGUgb3IgYW4gb2JqZWN0IHdpdGggdGhlIHNhbWUgaW50ZXJmYWNlLlxuICogQHBhcmFtIHtvYmplY3R9ICRzbmlmZmVyICRzbmlmZmVyIHNlcnZpY2VcbiAqL1xuZnVuY3Rpb24gQnJvd3Nlcih3aW5kb3csIGRvY3VtZW50LCAkbG9nLCAkc25pZmZlcikge1xuICB2YXIgc2VsZiA9IHRoaXMsXG4gICAgICBsb2NhdGlvbiA9IHdpbmRvdy5sb2NhdGlvbixcbiAgICAgIGhpc3RvcnkgPSB3aW5kb3cuaGlzdG9yeSxcbiAgICAgIHNldFRpbWVvdXQgPSB3aW5kb3cuc2V0VGltZW91dCxcbiAgICAgIGNsZWFyVGltZW91dCA9IHdpbmRvdy5jbGVhclRpbWVvdXQsXG4gICAgICBwZW5kaW5nRGVmZXJJZHMgPSB7fTtcblxuICBzZWxmLmlzTW9jayA9IGZhbHNlO1xuXG4gIHZhciBvdXRzdGFuZGluZ1JlcXVlc3RDb3VudCA9IDA7XG4gIHZhciBvdXRzdGFuZGluZ1JlcXVlc3RDYWxsYmFja3MgPSBbXTtcblxuICAvLyBUT0RPKHZvanRhKTogcmVtb3ZlIHRoaXMgdGVtcG9yYXJ5IGFwaVxuICBzZWxmLiQkY29tcGxldGVPdXRzdGFuZGluZ1JlcXVlc3QgPSBjb21wbGV0ZU91dHN0YW5kaW5nUmVxdWVzdDtcbiAgc2VsZi4kJGluY091dHN0YW5kaW5nUmVxdWVzdENvdW50ID0gZnVuY3Rpb24oKSB7IG91dHN0YW5kaW5nUmVxdWVzdENvdW50Kys7IH07XG5cbiAgLyoqXG4gICAqIEV4ZWN1dGVzIHRoZSBgZm5gIGZ1bmN0aW9uKHN1cHBvcnRzIGN1cnJ5aW5nKSBhbmQgZGVjcmVtZW50cyB0aGUgYG91dHN0YW5kaW5nUmVxdWVzdENhbGxiYWNrc2BcbiAgICogY291bnRlci4gSWYgdGhlIGNvdW50ZXIgcmVhY2hlcyAwLCBhbGwgdGhlIGBvdXRzdGFuZGluZ1JlcXVlc3RDYWxsYmFja3NgIGFyZSBleGVjdXRlZC5cbiAgICovXG4gIGZ1bmN0aW9uIGNvbXBsZXRlT3V0c3RhbmRpbmdSZXF1ZXN0KGZuKSB7XG4gICAgdHJ5IHtcbiAgICAgIGZuLmFwcGx5KG51bGwsIHNsaWNlQXJncyhhcmd1bWVudHMsIDEpKTtcbiAgICB9IGZpbmFsbHkge1xuICAgICAgb3V0c3RhbmRpbmdSZXF1ZXN0Q291bnQtLTtcbiAgICAgIGlmIChvdXRzdGFuZGluZ1JlcXVlc3RDb3VudCA9PT0gMCkge1xuICAgICAgICB3aGlsZSAob3V0c3RhbmRpbmdSZXF1ZXN0Q2FsbGJhY2tzLmxlbmd0aCkge1xuICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICBvdXRzdGFuZGluZ1JlcXVlc3RDYWxsYmFja3MucG9wKCkoKTtcbiAgICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgICAkbG9nLmVycm9yKGUpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIGdldEhhc2godXJsKSB7XG4gICAgdmFyIGluZGV4ID0gdXJsLmluZGV4T2YoJyMnKTtcbiAgICByZXR1cm4gaW5kZXggPT09IC0xID8gJycgOiB1cmwuc3Vic3RyKGluZGV4KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBOb3RlOiB0aGlzIG1ldGhvZCBpcyB1c2VkIG9ubHkgYnkgc2NlbmFyaW8gcnVubmVyXG4gICAqIFRPRE8odm9qdGEpOiBwcmVmaXggdGhpcyBtZXRob2Qgd2l0aCAkJCA/XG4gICAqIEBwYXJhbSB7ZnVuY3Rpb24oKX0gY2FsbGJhY2sgRnVuY3Rpb24gdGhhdCB3aWxsIGJlIGNhbGxlZCB3aGVuIG5vIG91dHN0YW5kaW5nIHJlcXVlc3RcbiAgICovXG4gIHNlbGYubm90aWZ5V2hlbk5vT3V0c3RhbmRpbmdSZXF1ZXN0cyA9IGZ1bmN0aW9uKGNhbGxiYWNrKSB7XG4gICAgaWYgKG91dHN0YW5kaW5nUmVxdWVzdENvdW50ID09PSAwKSB7XG4gICAgICBjYWxsYmFjaygpO1xuICAgIH0gZWxzZSB7XG4gICAgICBvdXRzdGFuZGluZ1JlcXVlc3RDYWxsYmFja3MucHVzaChjYWxsYmFjayk7XG4gICAgfVxuICB9O1xuXG4gIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG4gIC8vIFVSTCBBUElcbiAgLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cblxuICB2YXIgY2FjaGVkU3RhdGUsIGxhc3RIaXN0b3J5U3RhdGUsXG4gICAgICBsYXN0QnJvd3NlclVybCA9IGxvY2F0aW9uLmhyZWYsXG4gICAgICBiYXNlRWxlbWVudCA9IGRvY3VtZW50LmZpbmQoJ2Jhc2UnKSxcbiAgICAgIHBlbmRpbmdMb2NhdGlvbiA9IG51bGwsXG4gICAgICBnZXRDdXJyZW50U3RhdGUgPSAhJHNuaWZmZXIuaGlzdG9yeSA/IG5vb3AgOiBmdW5jdGlvbiBnZXRDdXJyZW50U3RhdGUoKSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgcmV0dXJuIGhpc3Rvcnkuc3RhdGU7XG4gICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICAvLyBNU0lFIGNhbiByZXBvcnRlZGx5IHRocm93IHdoZW4gdGhlcmUgaXMgbm8gc3RhdGUgKFVOQ09ORklSTUVEKS5cbiAgICAgICAgfVxuICAgICAgfTtcblxuICBjYWNoZVN0YXRlKCk7XG5cbiAgLyoqXG4gICAqIEBuYW1lICRicm93c2VyI3VybFxuICAgKlxuICAgKiBAZGVzY3JpcHRpb25cbiAgICogR0VUVEVSOlxuICAgKiBXaXRob3V0IGFueSBhcmd1bWVudCwgdGhpcyBtZXRob2QganVzdCByZXR1cm5zIGN1cnJlbnQgdmFsdWUgb2YgbG9jYXRpb24uaHJlZi5cbiAgICpcbiAgICogU0VUVEVSOlxuICAgKiBXaXRoIGF0IGxlYXN0IG9uZSBhcmd1bWVudCwgdGhpcyBtZXRob2Qgc2V0cyB1cmwgdG8gbmV3IHZhbHVlLlxuICAgKiBJZiBodG1sNSBoaXN0b3J5IGFwaSBzdXBwb3J0ZWQsIHB1c2hTdGF0ZS9yZXBsYWNlU3RhdGUgaXMgdXNlZCwgb3RoZXJ3aXNlXG4gICAqIGxvY2F0aW9uLmhyZWYvbG9jYXRpb24ucmVwbGFjZSBpcyB1c2VkLlxuICAgKiBSZXR1cm5zIGl0cyBvd24gaW5zdGFuY2UgdG8gYWxsb3cgY2hhaW5pbmdcbiAgICpcbiAgICogTk9URTogdGhpcyBhcGkgaXMgaW50ZW5kZWQgZm9yIHVzZSBvbmx5IGJ5IHRoZSAkbG9jYXRpb24gc2VydmljZS4gUGxlYXNlIHVzZSB0aGVcbiAgICoge0BsaW5rIG5nLiRsb2NhdGlvbiAkbG9jYXRpb24gc2VydmljZX0gdG8gY2hhbmdlIHVybC5cbiAgICpcbiAgICogQHBhcmFtIHtzdHJpbmd9IHVybCBOZXcgdXJsICh3aGVuIHVzZWQgYXMgc2V0dGVyKVxuICAgKiBAcGFyYW0ge2Jvb2xlYW49fSByZXBsYWNlIFNob3VsZCBuZXcgdXJsIHJlcGxhY2UgY3VycmVudCBoaXN0b3J5IHJlY29yZD9cbiAgICogQHBhcmFtIHtvYmplY3Q9fSBzdGF0ZSBvYmplY3QgdG8gdXNlIHdpdGggcHVzaFN0YXRlL3JlcGxhY2VTdGF0ZVxuICAgKi9cbiAgc2VsZi51cmwgPSBmdW5jdGlvbih1cmwsIHJlcGxhY2UsIHN0YXRlKSB7XG4gICAgLy8gSW4gbW9kZXJuIGJyb3dzZXJzIGBoaXN0b3J5LnN0YXRlYCBpcyBgbnVsbGAgYnkgZGVmYXVsdDsgdHJlYXRpbmcgaXQgc2VwYXJhdGVseVxuICAgIC8vIGZyb20gYHVuZGVmaW5lZGAgd291bGQgY2F1c2UgYCRicm93c2VyLnVybCgnL2ZvbycpYCB0byBjaGFuZ2UgYGhpc3Rvcnkuc3RhdGVgXG4gICAgLy8gdG8gdW5kZWZpbmVkIHZpYSBgcHVzaFN0YXRlYC4gSW5zdGVhZCwgbGV0J3MgY2hhbmdlIGB1bmRlZmluZWRgIHRvIGBudWxsYCBoZXJlLlxuICAgIGlmIChpc1VuZGVmaW5lZChzdGF0ZSkpIHtcbiAgICAgIHN0YXRlID0gbnVsbDtcbiAgICB9XG5cbiAgICAvLyBBbmRyb2lkIEJyb3dzZXIgQkZDYWNoZSBjYXVzZXMgbG9jYXRpb24sIGhpc3RvcnkgcmVmZXJlbmNlIHRvIGJlY29tZSBzdGFsZS5cbiAgICBpZiAobG9jYXRpb24gIT09IHdpbmRvdy5sb2NhdGlvbikgbG9jYXRpb24gPSB3aW5kb3cubG9jYXRpb247XG4gICAgaWYgKGhpc3RvcnkgIT09IHdpbmRvdy5oaXN0b3J5KSBoaXN0b3J5ID0gd2luZG93Lmhpc3Rvcnk7XG5cbiAgICAvLyBzZXR0ZXJcbiAgICBpZiAodXJsKSB7XG4gICAgICB2YXIgc2FtZVN0YXRlID0gbGFzdEhpc3RvcnlTdGF0ZSA9PT0gc3RhdGU7XG5cbiAgICAgIC8vIERvbid0IGNoYW5nZSBhbnl0aGluZyBpZiBwcmV2aW91cyBhbmQgY3VycmVudCBVUkxzIGFuZCBzdGF0ZXMgbWF0Y2guIFRoaXMgYWxzbyBwcmV2ZW50c1xuICAgICAgLy8gSUU8MTAgZnJvbSBnZXR0aW5nIGludG8gcmVkaXJlY3QgbG9vcCB3aGVuIGluIExvY2F0aW9uSGFzaGJhbmdJbkh0bWw1VXJsIG1vZGUuXG4gICAgICAvLyBTZWUgaHR0cHM6Ly9naXRodWIuY29tL2FuZ3VsYXIvYW5ndWxhci5qcy9jb21taXQvZmZiMjcwMVxuICAgICAgaWYgKGxhc3RCcm93c2VyVXJsID09PSB1cmwgJiYgKCEkc25pZmZlci5oaXN0b3J5IHx8IHNhbWVTdGF0ZSkpIHtcbiAgICAgICAgcmV0dXJuIHNlbGY7XG4gICAgICB9XG4gICAgICB2YXIgc2FtZUJhc2UgPSBsYXN0QnJvd3NlclVybCAmJiBzdHJpcEhhc2gobGFzdEJyb3dzZXJVcmwpID09PSBzdHJpcEhhc2godXJsKTtcbiAgICAgIGxhc3RCcm93c2VyVXJsID0gdXJsO1xuICAgICAgbGFzdEhpc3RvcnlTdGF0ZSA9IHN0YXRlO1xuICAgICAgLy8gRG9uJ3QgdXNlIGhpc3RvcnkgQVBJIGlmIG9ubHkgdGhlIGhhc2ggY2hhbmdlZFxuICAgICAgLy8gZHVlIHRvIGEgYnVnIGluIElFMTAvSUUxMSB3aGljaCBsZWFkc1xuICAgICAgLy8gdG8gbm90IGZpcmluZyBhIGBoYXNoY2hhbmdlYCBub3IgYHBvcHN0YXRlYCBldmVudFxuICAgICAgLy8gaW4gc29tZSBjYXNlcyAoc2VlICM5MTQzKS5cbiAgICAgIGlmICgkc25pZmZlci5oaXN0b3J5ICYmICghc2FtZUJhc2UgfHwgIXNhbWVTdGF0ZSkpIHtcbiAgICAgICAgaGlzdG9yeVtyZXBsYWNlID8gJ3JlcGxhY2VTdGF0ZScgOiAncHVzaFN0YXRlJ10oc3RhdGUsICcnLCB1cmwpO1xuICAgICAgICBjYWNoZVN0YXRlKCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBpZiAoIXNhbWVCYXNlKSB7XG4gICAgICAgICAgcGVuZGluZ0xvY2F0aW9uID0gdXJsO1xuICAgICAgICB9XG4gICAgICAgIGlmIChyZXBsYWNlKSB7XG4gICAgICAgICAgbG9jYXRpb24ucmVwbGFjZSh1cmwpO1xuICAgICAgICB9IGVsc2UgaWYgKCFzYW1lQmFzZSkge1xuICAgICAgICAgIGxvY2F0aW9uLmhyZWYgPSB1cmw7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgbG9jYXRpb24uaGFzaCA9IGdldEhhc2godXJsKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAobG9jYXRpb24uaHJlZiAhPT0gdXJsKSB7XG4gICAgICAgICAgcGVuZGluZ0xvY2F0aW9uID0gdXJsO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBpZiAocGVuZGluZ0xvY2F0aW9uKSB7XG4gICAgICAgIHBlbmRpbmdMb2NhdGlvbiA9IHVybDtcbiAgICAgIH1cbiAgICAgIHJldHVybiBzZWxmO1xuICAgIC8vIGdldHRlclxuICAgIH0gZWxzZSB7XG4gICAgICAvLyAtIHBlbmRpbmdMb2NhdGlvbiBpcyBuZWVkZWQgYXMgYnJvd3NlcnMgZG9uJ3QgYWxsb3cgdG8gcmVhZCBvdXRcbiAgICAgIC8vICAgdGhlIG5ldyBsb2NhdGlvbi5ocmVmIGlmIGEgcmVsb2FkIGhhcHBlbmVkIG9yIGlmIHRoZXJlIGlzIGEgYnVnIGxpa2UgaW4gaU9TIDkgKHNlZVxuICAgICAgLy8gICBodHRwczovL29wZW5yYWRhci5hcHBzcG90LmNvbS8yMjE4NjEwOSkuXG4gICAgICAvLyAtIHRoZSByZXBsYWNlbWVudCBpcyBhIHdvcmthcm91bmQgZm9yIGh0dHBzOi8vYnVnemlsbGEubW96aWxsYS5vcmcvc2hvd19idWcuY2dpP2lkPTQwNzE3MlxuICAgICAgcmV0dXJuIHBlbmRpbmdMb2NhdGlvbiB8fCBsb2NhdGlvbi5ocmVmLnJlcGxhY2UoLyUyNy9nLCdcXCcnKTtcbiAgICB9XG4gIH07XG5cbiAgLyoqXG4gICAqIEBuYW1lICRicm93c2VyI3N0YXRlXG4gICAqXG4gICAqIEBkZXNjcmlwdGlvblxuICAgKiBUaGlzIG1ldGhvZCBpcyBhIGdldHRlci5cbiAgICpcbiAgICogUmV0dXJuIGhpc3Rvcnkuc3RhdGUgb3IgbnVsbCBpZiBoaXN0b3J5LnN0YXRlIGlzIHVuZGVmaW5lZC5cbiAgICpcbiAgICogQHJldHVybnMge29iamVjdH0gc3RhdGVcbiAgICovXG4gIHNlbGYuc3RhdGUgPSBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gY2FjaGVkU3RhdGU7XG4gIH07XG5cbiAgdmFyIHVybENoYW5nZUxpc3RlbmVycyA9IFtdLFxuICAgICAgdXJsQ2hhbmdlSW5pdCA9IGZhbHNlO1xuXG4gIGZ1bmN0aW9uIGNhY2hlU3RhdGVBbmRGaXJlVXJsQ2hhbmdlKCkge1xuICAgIHBlbmRpbmdMb2NhdGlvbiA9IG51bGw7XG4gICAgZmlyZVN0YXRlT3JVcmxDaGFuZ2UoKTtcbiAgfVxuXG4gIC8vIFRoaXMgdmFyaWFibGUgc2hvdWxkIGJlIHVzZWQgKm9ubHkqIGluc2lkZSB0aGUgY2FjaGVTdGF0ZSBmdW5jdGlvbi5cbiAgdmFyIGxhc3RDYWNoZWRTdGF0ZSA9IG51bGw7XG4gIGZ1bmN0aW9uIGNhY2hlU3RhdGUoKSB7XG4gICAgLy8gVGhpcyBzaG91bGQgYmUgdGhlIG9ubHkgcGxhY2UgaW4gJGJyb3dzZXIgd2hlcmUgYGhpc3Rvcnkuc3RhdGVgIGlzIHJlYWQuXG4gICAgY2FjaGVkU3RhdGUgPSBnZXRDdXJyZW50U3RhdGUoKTtcbiAgICBjYWNoZWRTdGF0ZSA9IGlzVW5kZWZpbmVkKGNhY2hlZFN0YXRlKSA/IG51bGwgOiBjYWNoZWRTdGF0ZTtcblxuICAgIC8vIFByZXZlbnQgY2FsbGJhY2tzIGZvIGZpcmUgdHdpY2UgaWYgYm90aCBoYXNoY2hhbmdlICYgcG9wc3RhdGUgd2VyZSBmaXJlZC5cbiAgICBpZiAoZXF1YWxzKGNhY2hlZFN0YXRlLCBsYXN0Q2FjaGVkU3RhdGUpKSB7XG4gICAgICBjYWNoZWRTdGF0ZSA9IGxhc3RDYWNoZWRTdGF0ZTtcbiAgICB9XG5cbiAgICBsYXN0Q2FjaGVkU3RhdGUgPSBjYWNoZWRTdGF0ZTtcbiAgICBsYXN0SGlzdG9yeVN0YXRlID0gY2FjaGVkU3RhdGU7XG4gIH1cblxuICBmdW5jdGlvbiBmaXJlU3RhdGVPclVybENoYW5nZSgpIHtcbiAgICB2YXIgcHJldkxhc3RIaXN0b3J5U3RhdGUgPSBsYXN0SGlzdG9yeVN0YXRlO1xuICAgIGNhY2hlU3RhdGUoKTtcblxuICAgIGlmIChsYXN0QnJvd3NlclVybCA9PT0gc2VsZi51cmwoKSAmJiBwcmV2TGFzdEhpc3RvcnlTdGF0ZSA9PT0gY2FjaGVkU3RhdGUpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBsYXN0QnJvd3NlclVybCA9IHNlbGYudXJsKCk7XG4gICAgbGFzdEhpc3RvcnlTdGF0ZSA9IGNhY2hlZFN0YXRlO1xuICAgIGZvckVhY2godXJsQ2hhbmdlTGlzdGVuZXJzLCBmdW5jdGlvbihsaXN0ZW5lcikge1xuICAgICAgbGlzdGVuZXIoc2VsZi51cmwoKSwgY2FjaGVkU3RhdGUpO1xuICAgIH0pO1xuICB9XG5cbiAgLyoqXG4gICAqIEBuYW1lICRicm93c2VyI29uVXJsQ2hhbmdlXG4gICAqXG4gICAqIEBkZXNjcmlwdGlvblxuICAgKiBSZWdpc3RlciBjYWxsYmFjayBmdW5jdGlvbiB0aGF0IHdpbGwgYmUgY2FsbGVkLCB3aGVuIHVybCBjaGFuZ2VzLlxuICAgKlxuICAgKiBJdCdzIG9ubHkgY2FsbGVkIHdoZW4gdGhlIHVybCBpcyBjaGFuZ2VkIGZyb20gb3V0c2lkZSBvZiBhbmd1bGFyOlxuICAgKiAtIHVzZXIgdHlwZXMgZGlmZmVyZW50IHVybCBpbnRvIGFkZHJlc3MgYmFyXG4gICAqIC0gdXNlciBjbGlja3Mgb24gaGlzdG9yeSAoZm9yd2FyZC9iYWNrKSBidXR0b25cbiAgICogLSB1c2VyIGNsaWNrcyBvbiBhIGxpbmtcbiAgICpcbiAgICogSXQncyBub3QgY2FsbGVkIHdoZW4gdXJsIGlzIGNoYW5nZWQgYnkgJGJyb3dzZXIudXJsKCkgbWV0aG9kXG4gICAqXG4gICAqIFRoZSBsaXN0ZW5lciBnZXRzIGNhbGxlZCB3aXRoIG5ldyB1cmwgYXMgcGFyYW1ldGVyLlxuICAgKlxuICAgKiBOT1RFOiB0aGlzIGFwaSBpcyBpbnRlbmRlZCBmb3IgdXNlIG9ubHkgYnkgdGhlICRsb2NhdGlvbiBzZXJ2aWNlLiBQbGVhc2UgdXNlIHRoZVxuICAgKiB7QGxpbmsgbmcuJGxvY2F0aW9uICRsb2NhdGlvbiBzZXJ2aWNlfSB0byBtb25pdG9yIHVybCBjaGFuZ2VzIGluIGFuZ3VsYXIgYXBwcy5cbiAgICpcbiAgICogQHBhcmFtIHtmdW5jdGlvbihzdHJpbmcpfSBsaXN0ZW5lciBMaXN0ZW5lciBmdW5jdGlvbiB0byBiZSBjYWxsZWQgd2hlbiB1cmwgY2hhbmdlcy5cbiAgICogQHJldHVybiB7ZnVuY3Rpb24oc3RyaW5nKX0gUmV0dXJucyB0aGUgcmVnaXN0ZXJlZCBsaXN0ZW5lciBmbiAtIGhhbmR5IGlmIHRoZSBmbiBpcyBhbm9ueW1vdXMuXG4gICAqL1xuICBzZWxmLm9uVXJsQ2hhbmdlID0gZnVuY3Rpb24oY2FsbGJhY2spIHtcbiAgICAvLyBUT0RPKHZvanRhKTogcmVmYWN0b3IgdG8gdXNlIG5vZGUncyBzeW50YXggZm9yIGV2ZW50c1xuICAgIGlmICghdXJsQ2hhbmdlSW5pdCkge1xuICAgICAgLy8gV2UgbGlzdGVuIG9uIGJvdGggKGhhc2hjaGFuZ2UvcG9wc3RhdGUpIHdoZW4gYXZhaWxhYmxlLCBhcyBzb21lIGJyb3dzZXJzIGRvbid0XG4gICAgICAvLyBmaXJlIHBvcHN0YXRlIHdoZW4gdXNlciBjaGFuZ2VzIHRoZSBhZGRyZXNzIGJhciBhbmQgZG9uJ3QgZmlyZSBoYXNoY2hhbmdlIHdoZW4gdXJsXG4gICAgICAvLyBjaGFuZ2VkIGJ5IHB1c2gvcmVwbGFjZVN0YXRlXG5cbiAgICAgIC8vIGh0bWw1IGhpc3RvcnkgYXBpIC0gcG9wc3RhdGUgZXZlbnRcbiAgICAgIGlmICgkc25pZmZlci5oaXN0b3J5KSBqcUxpdGUod2luZG93KS5vbigncG9wc3RhdGUnLCBjYWNoZVN0YXRlQW5kRmlyZVVybENoYW5nZSk7XG4gICAgICAvLyBoYXNoY2hhbmdlIGV2ZW50XG4gICAgICBqcUxpdGUod2luZG93KS5vbignaGFzaGNoYW5nZScsIGNhY2hlU3RhdGVBbmRGaXJlVXJsQ2hhbmdlKTtcblxuICAgICAgdXJsQ2hhbmdlSW5pdCA9IHRydWU7XG4gICAgfVxuXG4gICAgdXJsQ2hhbmdlTGlzdGVuZXJzLnB1c2goY2FsbGJhY2spO1xuICAgIHJldHVybiBjYWxsYmFjaztcbiAgfTtcblxuICAvKipcbiAgICogQHByaXZhdGVcbiAgICogUmVtb3ZlIHBvcHN0YXRlIGFuZCBoYXNoY2hhbmdlIGhhbmRsZXIgZnJvbSB3aW5kb3cuXG4gICAqXG4gICAqIE5PVEU6IHRoaXMgYXBpIGlzIGludGVuZGVkIGZvciB1c2Ugb25seSBieSAkcm9vdFNjb3BlLlxuICAgKi9cbiAgc2VsZi4kJGFwcGxpY2F0aW9uRGVzdHJveWVkID0gZnVuY3Rpb24oKSB7XG4gICAganFMaXRlKHdpbmRvdykub2ZmKCdoYXNoY2hhbmdlIHBvcHN0YXRlJywgY2FjaGVTdGF0ZUFuZEZpcmVVcmxDaGFuZ2UpO1xuICB9O1xuXG4gIC8qKlxuICAgKiBDaGVja3Mgd2hldGhlciB0aGUgdXJsIGhhcyBjaGFuZ2VkIG91dHNpZGUgb2YgQW5ndWxhci5cbiAgICogTmVlZHMgdG8gYmUgZXhwb3J0ZWQgdG8gYmUgYWJsZSB0byBjaGVjayBmb3IgY2hhbmdlcyB0aGF0IGhhdmUgYmVlbiBkb25lIGluIHN5bmMsXG4gICAqIGFzIGhhc2hjaGFuZ2UvcG9wc3RhdGUgZXZlbnRzIGZpcmUgaW4gYXN5bmMuXG4gICAqL1xuICBzZWxmLiQkY2hlY2tVcmxDaGFuZ2UgPSBmaXJlU3RhdGVPclVybENoYW5nZTtcblxuICAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuICAvLyBNaXNjIEFQSVxuICAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuXG4gIC8qKlxuICAgKiBAbmFtZSAkYnJvd3NlciNiYXNlSHJlZlxuICAgKlxuICAgKiBAZGVzY3JpcHRpb25cbiAgICogUmV0dXJucyBjdXJyZW50IDxiYXNlIGhyZWY+XG4gICAqIChhbHdheXMgcmVsYXRpdmUgLSB3aXRob3V0IGRvbWFpbilcbiAgICpcbiAgICogQHJldHVybnMge3N0cmluZ30gVGhlIGN1cnJlbnQgYmFzZSBocmVmXG4gICAqL1xuICBzZWxmLmJhc2VIcmVmID0gZnVuY3Rpb24oKSB7XG4gICAgdmFyIGhyZWYgPSBiYXNlRWxlbWVudC5hdHRyKCdocmVmJyk7XG4gICAgcmV0dXJuIGhyZWYgPyBocmVmLnJlcGxhY2UoL14oaHR0cHM/Oik/XFwvXFwvW14vXSovLCAnJykgOiAnJztcbiAgfTtcblxuICAvKipcbiAgICogQG5hbWUgJGJyb3dzZXIjZGVmZXJcbiAgICogQHBhcmFtIHtmdW5jdGlvbigpfSBmbiBBIGZ1bmN0aW9uLCB3aG8ncyBleGVjdXRpb24gc2hvdWxkIGJlIGRlZmVycmVkLlxuICAgKiBAcGFyYW0ge251bWJlcj19IFtkZWxheT0wXSBvZiBtaWxsaXNlY29uZHMgdG8gZGVmZXIgdGhlIGZ1bmN0aW9uIGV4ZWN1dGlvbi5cbiAgICogQHJldHVybnMgeyp9IERlZmVySWQgdGhhdCBjYW4gYmUgdXNlZCB0byBjYW5jZWwgdGhlIHRhc2sgdmlhIGAkYnJvd3Nlci5kZWZlci5jYW5jZWwoKWAuXG4gICAqXG4gICAqIEBkZXNjcmlwdGlvblxuICAgKiBFeGVjdXRlcyBhIGZuIGFzeW5jaHJvbm91c2x5IHZpYSBgc2V0VGltZW91dChmbiwgZGVsYXkpYC5cbiAgICpcbiAgICogVW5saWtlIHdoZW4gY2FsbGluZyBgc2V0VGltZW91dGAgZGlyZWN0bHksIGluIHRlc3QgdGhpcyBmdW5jdGlvbiBpcyBtb2NrZWQgYW5kIGluc3RlYWQgb2YgdXNpbmdcbiAgICogYHNldFRpbWVvdXRgIGluIHRlc3RzLCB0aGUgZm5zIGFyZSBxdWV1ZWQgaW4gYW4gYXJyYXksIHdoaWNoIGNhbiBiZSBwcm9ncmFtbWF0aWNhbGx5IGZsdXNoZWRcbiAgICogdmlhIGAkYnJvd3Nlci5kZWZlci5mbHVzaCgpYC5cbiAgICpcbiAgICovXG4gIHNlbGYuZGVmZXIgPSBmdW5jdGlvbihmbiwgZGVsYXkpIHtcbiAgICB2YXIgdGltZW91dElkO1xuICAgIG91dHN0YW5kaW5nUmVxdWVzdENvdW50Kys7XG4gICAgdGltZW91dElkID0gc2V0VGltZW91dChmdW5jdGlvbigpIHtcbiAgICAgIGRlbGV0ZSBwZW5kaW5nRGVmZXJJZHNbdGltZW91dElkXTtcbiAgICAgIGNvbXBsZXRlT3V0c3RhbmRpbmdSZXF1ZXN0KGZuKTtcbiAgICB9LCBkZWxheSB8fCAwKTtcbiAgICBwZW5kaW5nRGVmZXJJZHNbdGltZW91dElkXSA9IHRydWU7XG4gICAgcmV0dXJuIHRpbWVvdXRJZDtcbiAgfTtcblxuXG4gIC8qKlxuICAgKiBAbmFtZSAkYnJvd3NlciNkZWZlci5jYW5jZWxcbiAgICpcbiAgICogQGRlc2NyaXB0aW9uXG4gICAqIENhbmNlbHMgYSBkZWZlcnJlZCB0YXNrIGlkZW50aWZpZWQgd2l0aCBgZGVmZXJJZGAuXG4gICAqXG4gICAqIEBwYXJhbSB7Kn0gZGVmZXJJZCBUb2tlbiByZXR1cm5lZCBieSB0aGUgYCRicm93c2VyLmRlZmVyYCBmdW5jdGlvbi5cbiAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIHRoZSB0YXNrIGhhc24ndCBleGVjdXRlZCB5ZXQgYW5kIHdhcyBzdWNjZXNzZnVsbHlcbiAgICogICAgICAgICAgICAgICAgICAgIGNhbmNlbGVkLlxuICAgKi9cbiAgc2VsZi5kZWZlci5jYW5jZWwgPSBmdW5jdGlvbihkZWZlcklkKSB7XG4gICAgaWYgKHBlbmRpbmdEZWZlcklkc1tkZWZlcklkXSkge1xuICAgICAgZGVsZXRlIHBlbmRpbmdEZWZlcklkc1tkZWZlcklkXTtcbiAgICAgIGNsZWFyVGltZW91dChkZWZlcklkKTtcbiAgICAgIGNvbXBsZXRlT3V0c3RhbmRpbmdSZXF1ZXN0KG5vb3ApO1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIHJldHVybiBmYWxzZTtcbiAgfTtcblxufVxuXG4vKiogQHRoaXMgKi9cbmZ1bmN0aW9uICRCcm93c2VyUHJvdmlkZXIoKSB7XG4gIHRoaXMuJGdldCA9IFsnJHdpbmRvdycsICckbG9nJywgJyRzbmlmZmVyJywgJyRkb2N1bWVudCcsXG4gICAgICBmdW5jdGlvbigkd2luZG93LCAkbG9nLCAkc25pZmZlciwgJGRvY3VtZW50KSB7XG4gICAgICAgIHJldHVybiBuZXcgQnJvd3Nlcigkd2luZG93LCAkZG9jdW1lbnQsICRsb2csICRzbmlmZmVyKTtcbiAgICAgIH1dO1xufVxuXG4vKipcbiAqIEBuZ2RvYyBzZXJ2aWNlXG4gKiBAbmFtZSAkY2FjaGVGYWN0b3J5XG4gKiBAdGhpc1xuICpcbiAqIEBkZXNjcmlwdGlvblxuICogRmFjdG9yeSB0aGF0IGNvbnN0cnVjdHMge0BsaW5rICRjYWNoZUZhY3RvcnkuQ2FjaGUgQ2FjaGV9IG9iamVjdHMgYW5kIGdpdmVzIGFjY2VzcyB0b1xuICogdGhlbS5cbiAqXG4gKiBgYGBqc1xuICpcbiAqICB2YXIgY2FjaGUgPSAkY2FjaGVGYWN0b3J5KCdjYWNoZUlkJyk7XG4gKiAgZXhwZWN0KCRjYWNoZUZhY3RvcnkuZ2V0KCdjYWNoZUlkJykpLnRvQmUoY2FjaGUpO1xuICogIGV4cGVjdCgkY2FjaGVGYWN0b3J5LmdldCgnbm9TdWNoQ2FjaGVJZCcpKS5ub3QudG9CZURlZmluZWQoKTtcbiAqXG4gKiAgY2FjaGUucHV0KFwia2V5XCIsIFwidmFsdWVcIik7XG4gKiAgY2FjaGUucHV0KFwiYW5vdGhlciBrZXlcIiwgXCJhbm90aGVyIHZhbHVlXCIpO1xuICpcbiAqICAvLyBXZSd2ZSBzcGVjaWZpZWQgbm8gb3B0aW9ucyBvbiBjcmVhdGlvblxuICogIGV4cGVjdChjYWNoZS5pbmZvKCkpLnRvRXF1YWwoe2lkOiAnY2FjaGVJZCcsIHNpemU6IDJ9KTtcbiAqXG4gKiBgYGBcbiAqXG4gKlxuICogQHBhcmFtIHtzdHJpbmd9IGNhY2hlSWQgTmFtZSBvciBpZCBvZiB0aGUgbmV3bHkgY3JlYXRlZCBjYWNoZS5cbiAqIEBwYXJhbSB7b2JqZWN0PX0gb3B0aW9ucyBPcHRpb25zIG9iamVjdCB0aGF0IHNwZWNpZmllcyB0aGUgY2FjaGUgYmVoYXZpb3IuIFByb3BlcnRpZXM6XG4gKlxuICogICAtIGB7bnVtYmVyPX1gIGBjYXBhY2l0eWAg4oCUIHR1cm5zIHRoZSBjYWNoZSBpbnRvIExSVSBjYWNoZS5cbiAqXG4gKiBAcmV0dXJucyB7b2JqZWN0fSBOZXdseSBjcmVhdGVkIGNhY2hlIG9iamVjdCB3aXRoIHRoZSBmb2xsb3dpbmcgc2V0IG9mIG1ldGhvZHM6XG4gKlxuICogLSBge29iamVjdH1gIGBpbmZvKClgIOKAlCBSZXR1cm5zIGlkLCBzaXplLCBhbmQgb3B0aW9ucyBvZiBjYWNoZS5cbiAqIC0gYHt7Kn19YCBgcHV0KHtzdHJpbmd9IGtleSwgeyp9IHZhbHVlKWAg4oCUIFB1dHMgYSBuZXcga2V5LXZhbHVlIHBhaXIgaW50byB0aGUgY2FjaGUgYW5kIHJldHVybnNcbiAqICAgaXQuXG4gKiAtIGB7eyp9fWAgYGdldCh7c3RyaW5nfSBrZXkpYCDigJQgUmV0dXJucyBjYWNoZWQgdmFsdWUgZm9yIGBrZXlgIG9yIHVuZGVmaW5lZCBmb3IgY2FjaGUgbWlzcy5cbiAqIC0gYHt2b2lkfWAgYHJlbW92ZSh7c3RyaW5nfSBrZXkpYCDigJQgUmVtb3ZlcyBhIGtleS12YWx1ZSBwYWlyIGZyb20gdGhlIGNhY2hlLlxuICogLSBge3ZvaWR9YCBgcmVtb3ZlQWxsKClgIOKAlCBSZW1vdmVzIGFsbCBjYWNoZWQgdmFsdWVzLlxuICogLSBge3ZvaWR9YCBgZGVzdHJveSgpYCDigJQgUmVtb3ZlcyByZWZlcmVuY2VzIHRvIHRoaXMgY2FjaGUgZnJvbSAkY2FjaGVGYWN0b3J5LlxuICpcbiAqIEBleGFtcGxlXG4gICA8ZXhhbXBsZSBtb2R1bGU9XCJjYWNoZUV4YW1wbGVBcHBcIiBuYW1lPVwiY2FjaGUtZmFjdG9yeVwiPlxuICAgICA8ZmlsZSBuYW1lPVwiaW5kZXguaHRtbFwiPlxuICAgICAgIDxkaXYgbmctY29udHJvbGxlcj1cIkNhY2hlQ29udHJvbGxlclwiPlxuICAgICAgICAgPGlucHV0IG5nLW1vZGVsPVwibmV3Q2FjaGVLZXlcIiBwbGFjZWhvbGRlcj1cIktleVwiPlxuICAgICAgICAgPGlucHV0IG5nLW1vZGVsPVwibmV3Q2FjaGVWYWx1ZVwiIHBsYWNlaG9sZGVyPVwiVmFsdWVcIj5cbiAgICAgICAgIDxidXR0b24gbmctY2xpY2s9XCJwdXQobmV3Q2FjaGVLZXksIG5ld0NhY2hlVmFsdWUpXCI+Q2FjaGU8L2J1dHRvbj5cblxuICAgICAgICAgPHAgbmctaWY9XCJrZXlzLmxlbmd0aFwiPkNhY2hlZCBWYWx1ZXM8L3A+XG4gICAgICAgICA8ZGl2IG5nLXJlcGVhdD1cImtleSBpbiBrZXlzXCI+XG4gICAgICAgICAgIDxzcGFuIG5nLWJpbmQ9XCJrZXlcIj48L3NwYW4+XG4gICAgICAgICAgIDxzcGFuPjogPC9zcGFuPlxuICAgICAgICAgICA8YiBuZy1iaW5kPVwiY2FjaGUuZ2V0KGtleSlcIj48L2I+XG4gICAgICAgICA8L2Rpdj5cblxuICAgICAgICAgPHA+Q2FjaGUgSW5mbzwvcD5cbiAgICAgICAgIDxkaXYgbmctcmVwZWF0PVwiKGtleSwgdmFsdWUpIGluIGNhY2hlLmluZm8oKVwiPlxuICAgICAgICAgICA8c3BhbiBuZy1iaW5kPVwia2V5XCI+PC9zcGFuPlxuICAgICAgICAgICA8c3Bhbj46IDwvc3Bhbj5cbiAgICAgICAgICAgPGIgbmctYmluZD1cInZhbHVlXCI+PC9iPlxuICAgICAgICAgPC9kaXY+XG4gICAgICAgPC9kaXY+XG4gICAgIDwvZmlsZT5cbiAgICAgPGZpbGUgbmFtZT1cInNjcmlwdC5qc1wiPlxuICAgICAgIGFuZ3VsYXIubW9kdWxlKCdjYWNoZUV4YW1wbGVBcHAnLCBbXSkuXG4gICAgICAgICBjb250cm9sbGVyKCdDYWNoZUNvbnRyb2xsZXInLCBbJyRzY29wZScsICckY2FjaGVGYWN0b3J5JywgZnVuY3Rpb24oJHNjb3BlLCAkY2FjaGVGYWN0b3J5KSB7XG4gICAgICAgICAgICRzY29wZS5rZXlzID0gW107XG4gICAgICAgICAgICRzY29wZS5jYWNoZSA9ICRjYWNoZUZhY3RvcnkoJ2NhY2hlSWQnKTtcbiAgICAgICAgICAgJHNjb3BlLnB1dCA9IGZ1bmN0aW9uKGtleSwgdmFsdWUpIHtcbiAgICAgICAgICAgICBpZiAoYW5ndWxhci5pc1VuZGVmaW5lZCgkc2NvcGUuY2FjaGUuZ2V0KGtleSkpKSB7XG4gICAgICAgICAgICAgICAkc2NvcGUua2V5cy5wdXNoKGtleSk7XG4gICAgICAgICAgICAgfVxuICAgICAgICAgICAgICRzY29wZS5jYWNoZS5wdXQoa2V5LCBhbmd1bGFyLmlzVW5kZWZpbmVkKHZhbHVlKSA/IG51bGwgOiB2YWx1ZSk7XG4gICAgICAgICAgIH07XG4gICAgICAgICB9XSk7XG4gICAgIDwvZmlsZT5cbiAgICAgPGZpbGUgbmFtZT1cInN0eWxlLmNzc1wiPlxuICAgICAgIHAge1xuICAgICAgICAgbWFyZ2luOiAxMHB4IDAgM3B4O1xuICAgICAgIH1cbiAgICAgPC9maWxlPlxuICAgPC9leGFtcGxlPlxuICovXG5mdW5jdGlvbiAkQ2FjaGVGYWN0b3J5UHJvdmlkZXIoKSB7XG5cbiAgdGhpcy4kZ2V0ID0gZnVuY3Rpb24oKSB7XG4gICAgdmFyIGNhY2hlcyA9IHt9O1xuXG4gICAgZnVuY3Rpb24gY2FjaGVGYWN0b3J5KGNhY2hlSWQsIG9wdGlvbnMpIHtcbiAgICAgIGlmIChjYWNoZUlkIGluIGNhY2hlcykge1xuICAgICAgICB0aHJvdyBtaW5FcnIoJyRjYWNoZUZhY3RvcnknKSgnaWlkJywgJ0NhY2hlSWQgXFwnezB9XFwnIGlzIGFscmVhZHkgdGFrZW4hJywgY2FjaGVJZCk7XG4gICAgICB9XG5cbiAgICAgIHZhciBzaXplID0gMCxcbiAgICAgICAgICBzdGF0cyA9IGV4dGVuZCh7fSwgb3B0aW9ucywge2lkOiBjYWNoZUlkfSksXG4gICAgICAgICAgZGF0YSA9IGNyZWF0ZU1hcCgpLFxuICAgICAgICAgIGNhcGFjaXR5ID0gKG9wdGlvbnMgJiYgb3B0aW9ucy5jYXBhY2l0eSkgfHwgTnVtYmVyLk1BWF9WQUxVRSxcbiAgICAgICAgICBscnVIYXNoID0gY3JlYXRlTWFwKCksXG4gICAgICAgICAgZnJlc2hFbmQgPSBudWxsLFxuICAgICAgICAgIHN0YWxlRW5kID0gbnVsbDtcblxuICAgICAgLyoqXG4gICAgICAgKiBAbmdkb2MgdHlwZVxuICAgICAgICogQG5hbWUgJGNhY2hlRmFjdG9yeS5DYWNoZVxuICAgICAgICpcbiAgICAgICAqIEBkZXNjcmlwdGlvblxuICAgICAgICogQSBjYWNoZSBvYmplY3QgdXNlZCB0byBzdG9yZSBhbmQgcmV0cmlldmUgZGF0YSwgcHJpbWFyaWx5IHVzZWQgYnlcbiAgICAgICAqIHtAbGluayAkaHR0cCAkaHR0cH0gYW5kIHRoZSB7QGxpbmsgbmcuZGlyZWN0aXZlOnNjcmlwdCBzY3JpcHR9IGRpcmVjdGl2ZSB0byBjYWNoZVxuICAgICAgICogdGVtcGxhdGVzIGFuZCBvdGhlciBkYXRhLlxuICAgICAgICpcbiAgICAgICAqIGBgYGpzXG4gICAgICAgKiAgYW5ndWxhci5tb2R1bGUoJ3N1cGVyQ2FjaGUnKVxuICAgICAgICogICAgLmZhY3RvcnkoJ3N1cGVyQ2FjaGUnLCBbJyRjYWNoZUZhY3RvcnknLCBmdW5jdGlvbigkY2FjaGVGYWN0b3J5KSB7XG4gICAgICAgKiAgICAgIHJldHVybiAkY2FjaGVGYWN0b3J5KCdzdXBlci1jYWNoZScpO1xuICAgICAgICogICAgfV0pO1xuICAgICAgICogYGBgXG4gICAgICAgKlxuICAgICAgICogRXhhbXBsZSB0ZXN0OlxuICAgICAgICpcbiAgICAgICAqIGBgYGpzXG4gICAgICAgKiAgaXQoJ3Nob3VsZCBiZWhhdmUgbGlrZSBhIGNhY2hlJywgaW5qZWN0KGZ1bmN0aW9uKHN1cGVyQ2FjaGUpIHtcbiAgICAgICAqICAgIHN1cGVyQ2FjaGUucHV0KCdrZXknLCAndmFsdWUnKTtcbiAgICAgICAqICAgIHN1cGVyQ2FjaGUucHV0KCdhbm90aGVyIGtleScsICdhbm90aGVyIHZhbHVlJyk7XG4gICAgICAgKlxuICAgICAgICogICAgZXhwZWN0KHN1cGVyQ2FjaGUuaW5mbygpKS50b0VxdWFsKHtcbiAgICAgICAqICAgICAgaWQ6ICdzdXBlci1jYWNoZScsXG4gICAgICAgKiAgICAgIHNpemU6IDJcbiAgICAgICAqICAgIH0pO1xuICAgICAgICpcbiAgICAgICAqICAgIHN1cGVyQ2FjaGUucmVtb3ZlKCdhbm90aGVyIGtleScpO1xuICAgICAgICogICAgZXhwZWN0KHN1cGVyQ2FjaGUuZ2V0KCdhbm90aGVyIGtleScpKS50b0JlVW5kZWZpbmVkKCk7XG4gICAgICAgKlxuICAgICAgICogICAgc3VwZXJDYWNoZS5yZW1vdmVBbGwoKTtcbiAgICAgICAqICAgIGV4cGVjdChzdXBlckNhY2hlLmluZm8oKSkudG9FcXVhbCh7XG4gICAgICAgKiAgICAgIGlkOiAnc3VwZXItY2FjaGUnLFxuICAgICAgICogICAgICBzaXplOiAwXG4gICAgICAgKiAgICB9KTtcbiAgICAgICAqICB9KSk7XG4gICAgICAgKiBgYGBcbiAgICAgICAqL1xuICAgICAgcmV0dXJuIChjYWNoZXNbY2FjaGVJZF0gPSB7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBuZ2RvYyBtZXRob2RcbiAgICAgICAgICogQG5hbWUgJGNhY2hlRmFjdG9yeS5DYWNoZSNwdXRcbiAgICAgICAgICogQGtpbmQgZnVuY3Rpb25cbiAgICAgICAgICpcbiAgICAgICAgICogQGRlc2NyaXB0aW9uXG4gICAgICAgICAqIEluc2VydHMgYSBuYW1lZCBlbnRyeSBpbnRvIHRoZSB7QGxpbmsgJGNhY2hlRmFjdG9yeS5DYWNoZSBDYWNoZX0gb2JqZWN0IHRvIGJlXG4gICAgICAgICAqIHJldHJpZXZlZCBsYXRlciwgYW5kIGluY3JlbWVudGluZyB0aGUgc2l6ZSBvZiB0aGUgY2FjaGUgaWYgdGhlIGtleSB3YXMgbm90IGFscmVhZHlcbiAgICAgICAgICogcHJlc2VudCBpbiB0aGUgY2FjaGUuIElmIGJlaGF2aW5nIGxpa2UgYW4gTFJVIGNhY2hlLCBpdCB3aWxsIGFsc28gcmVtb3ZlIHN0YWxlXG4gICAgICAgICAqIGVudHJpZXMgZnJvbSB0aGUgc2V0LlxuICAgICAgICAgKlxuICAgICAgICAgKiBJdCB3aWxsIG5vdCBpbnNlcnQgdW5kZWZpbmVkIHZhbHVlcyBpbnRvIHRoZSBjYWNoZS5cbiAgICAgICAgICpcbiAgICAgICAgICogQHBhcmFtIHtzdHJpbmd9IGtleSB0aGUga2V5IHVuZGVyIHdoaWNoIHRoZSBjYWNoZWQgZGF0YSBpcyBzdG9yZWQuXG4gICAgICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgdGhlIHZhbHVlIHRvIHN0b3JlIGFsb25nc2lkZSB0aGUga2V5LiBJZiBpdCBpcyB1bmRlZmluZWQsIHRoZSBrZXlcbiAgICAgICAgICogICAgd2lsbCBub3QgYmUgc3RvcmVkLlxuICAgICAgICAgKiBAcmV0dXJucyB7Kn0gdGhlIHZhbHVlIHN0b3JlZC5cbiAgICAgICAgICovXG4gICAgICAgIHB1dDogZnVuY3Rpb24oa2V5LCB2YWx1ZSkge1xuICAgICAgICAgIGlmIChpc1VuZGVmaW5lZCh2YWx1ZSkpIHJldHVybjtcbiAgICAgICAgICBpZiAoY2FwYWNpdHkgPCBOdW1iZXIuTUFYX1ZBTFVFKSB7XG4gICAgICAgICAgICB2YXIgbHJ1RW50cnkgPSBscnVIYXNoW2tleV0gfHwgKGxydUhhc2hba2V5XSA9IHtrZXk6IGtleX0pO1xuXG4gICAgICAgICAgICByZWZyZXNoKGxydUVudHJ5KTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBpZiAoIShrZXkgaW4gZGF0YSkpIHNpemUrKztcbiAgICAgICAgICBkYXRhW2tleV0gPSB2YWx1ZTtcblxuICAgICAgICAgIGlmIChzaXplID4gY2FwYWNpdHkpIHtcbiAgICAgICAgICAgIHRoaXMucmVtb3ZlKHN0YWxlRW5kLmtleSk7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgcmV0dXJuIHZhbHVlO1xuICAgICAgICB9LFxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAbmdkb2MgbWV0aG9kXG4gICAgICAgICAqIEBuYW1lICRjYWNoZUZhY3RvcnkuQ2FjaGUjZ2V0XG4gICAgICAgICAqIEBraW5kIGZ1bmN0aW9uXG4gICAgICAgICAqXG4gICAgICAgICAqIEBkZXNjcmlwdGlvblxuICAgICAgICAgKiBSZXRyaWV2ZXMgbmFtZWQgZGF0YSBzdG9yZWQgaW4gdGhlIHtAbGluayAkY2FjaGVGYWN0b3J5LkNhY2hlIENhY2hlfSBvYmplY3QuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgdGhlIGtleSBvZiB0aGUgZGF0YSB0byBiZSByZXRyaWV2ZWRcbiAgICAgICAgICogQHJldHVybnMgeyp9IHRoZSB2YWx1ZSBzdG9yZWQuXG4gICAgICAgICAqL1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uKGtleSkge1xuICAgICAgICAgIGlmIChjYXBhY2l0eSA8IE51bWJlci5NQVhfVkFMVUUpIHtcbiAgICAgICAgICAgIHZhciBscnVFbnRyeSA9IGxydUhhc2hba2V5XTtcblxuICAgICAgICAgICAgaWYgKCFscnVFbnRyeSkgcmV0dXJuO1xuXG4gICAgICAgICAgICByZWZyZXNoKGxydUVudHJ5KTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICByZXR1cm4gZGF0YVtrZXldO1xuICAgICAgICB9LFxuXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBuZ2RvYyBtZXRob2RcbiAgICAgICAgICogQG5hbWUgJGNhY2hlRmFjdG9yeS5DYWNoZSNyZW1vdmVcbiAgICAgICAgICogQGtpbmQgZnVuY3Rpb25cbiAgICAgICAgICpcbiAgICAgICAgICogQGRlc2NyaXB0aW9uXG4gICAgICAgICAqIFJlbW92ZXMgYW4gZW50cnkgZnJvbSB0aGUge0BsaW5rICRjYWNoZUZhY3RvcnkuQ2FjaGUgQ2FjaGV9IG9iamVjdC5cbiAgICAgICAgICpcbiAgICAgICAgICogQHBhcmFtIHtzdHJpbmd9IGtleSB0aGUga2V5IG9mIHRoZSBlbnRyeSB0byBiZSByZW1vdmVkXG4gICAgICAgICAqL1xuICAgICAgICByZW1vdmU6IGZ1bmN0aW9uKGtleSkge1xuICAgICAgICAgIGlmIChjYXBhY2l0eSA8IE51bWJlci5NQVhfVkFMVUUpIHtcbiAgICAgICAgICAgIHZhciBscnVFbnRyeSA9IGxydUhhc2hba2V5XTtcblxuICAgICAgICAgICAgaWYgKCFscnVFbnRyeSkgcmV0dXJuO1xuXG4gICAgICAgICAgICBpZiAobHJ1RW50cnkgPT09IGZyZXNoRW5kKSBmcmVzaEVuZCA9IGxydUVudHJ5LnA7XG4gICAgICAgICAgICBpZiAobHJ1RW50cnkgPT09IHN0YWxlRW5kKSBzdGFsZUVuZCA9IGxydUVudHJ5Lm47XG4gICAgICAgICAgICBsaW5rKGxydUVudHJ5Lm4sbHJ1RW50cnkucCk7XG5cbiAgICAgICAgICAgIGRlbGV0ZSBscnVIYXNoW2tleV07XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgaWYgKCEoa2V5IGluIGRhdGEpKSByZXR1cm47XG5cbiAgICAgICAgICBkZWxldGUgZGF0YVtrZXldO1xuICAgICAgICAgIHNpemUtLTtcbiAgICAgICAgfSxcblxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAbmdkb2MgbWV0aG9kXG4gICAgICAgICAqIEBuYW1lICRjYWNoZUZhY3RvcnkuQ2FjaGUjcmVtb3ZlQWxsXG4gICAgICAgICAqIEBraW5kIGZ1bmN0aW9uXG4gICAgICAgICAqXG4gICAgICAgICAqIEBkZXNjcmlwdGlvblxuICAgICAgICAgKiBDbGVhcnMgdGhlIGNhY2hlIG9iamVjdCBvZiBhbnkgZW50cmllcy5cbiAgICAgICAgICovXG4gICAgICAgIHJlbW92ZUFsbDogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgZGF0YSA9IGNyZWF0ZU1hcCgpO1xuICAgICAgICAgIHNpemUgPSAwO1xuICAgICAgICAgIGxydUhhc2ggPSBjcmVhdGVNYXAoKTtcbiAgICAgICAgICBmcmVzaEVuZCA9IHN0YWxlRW5kID0gbnVsbDtcbiAgICAgICAgfSxcblxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAbmdkb2MgbWV0aG9kXG4gICAgICAgICAqIEBuYW1lICRjYWNoZUZhY3RvcnkuQ2FjaGUjZGVzdHJveVxuICAgICAgICAgKiBAa2luZCBmdW5jdGlvblxuICAgICAgICAgKlxuICAgICAgICAgKiBAZGVzY3JpcHRpb25cbiAgICAgICAgICogRGVzdHJveXMgdGhlIHtAbGluayAkY2FjaGVGYWN0b3J5LkNhY2hlIENhY2hlfSBvYmplY3QgZW50aXJlbHksXG4gICAgICAgICAqIHJlbW92aW5nIGl0IGZyb20gdGhlIHtAbGluayAkY2FjaGVGYWN0b3J5ICRjYWNoZUZhY3Rvcnl9IHNldC5cbiAgICAgICAgICovXG4gICAgICAgIGRlc3Ryb3k6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgIGRhdGEgPSBudWxsO1xuICAgICAgICAgIHN0YXRzID0gbnVsbDtcbiAgICAgICAgICBscnVIYXNoID0gbnVsbDtcbiAgICAgICAgICBkZWxldGUgY2FjaGVzW2NhY2hlSWRdO1xuICAgICAgICB9LFxuXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBuZ2RvYyBtZXRob2RcbiAgICAgICAgICogQG5hbWUgJGNhY2hlRmFjdG9yeS5DYWNoZSNpbmZvXG4gICAgICAgICAqIEBraW5kIGZ1bmN0aW9uXG4gICAgICAgICAqXG4gICAgICAgICAqIEBkZXNjcmlwdGlvblxuICAgICAgICAgKiBSZXRyaWV2ZSBpbmZvcm1hdGlvbiByZWdhcmRpbmcgYSBwYXJ0aWN1bGFyIHtAbGluayAkY2FjaGVGYWN0b3J5LkNhY2hlIENhY2hlfS5cbiAgICAgICAgICpcbiAgICAgICAgICogQHJldHVybnMge29iamVjdH0gYW4gb2JqZWN0IHdpdGggdGhlIGZvbGxvd2luZyBwcm9wZXJ0aWVzOlxuICAgICAgICAgKiAgIDx1bD5cbiAgICAgICAgICogICAgIDxsaT4qKmlkKio6IHRoZSBpZCBvZiB0aGUgY2FjaGUgaW5zdGFuY2U8L2xpPlxuICAgICAgICAgKiAgICAgPGxpPioqc2l6ZSoqOiB0aGUgbnVtYmVyIG9mIGVudHJpZXMga2VwdCBpbiB0aGUgY2FjaGUgaW5zdGFuY2U8L2xpPlxuICAgICAgICAgKiAgICAgPGxpPioqLi4uKio6IGFueSBhZGRpdGlvbmFsIHByb3BlcnRpZXMgZnJvbSB0aGUgb3B0aW9ucyBvYmplY3Qgd2hlbiBjcmVhdGluZyB0aGVcbiAgICAgICAgICogICAgICAgY2FjaGUuPC9saT5cbiAgICAgICAgICogICA8L3VsPlxuICAgICAgICAgKi9cbiAgICAgICAgaW5mbzogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgcmV0dXJuIGV4dGVuZCh7fSwgc3RhdHMsIHtzaXplOiBzaXplfSk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuXG5cbiAgICAgIC8qKlxuICAgICAgICogbWFrZXMgdGhlIGBlbnRyeWAgdGhlIGZyZXNoRW5kIG9mIHRoZSBMUlUgbGlua2VkIGxpc3RcbiAgICAgICAqL1xuICAgICAgZnVuY3Rpb24gcmVmcmVzaChlbnRyeSkge1xuICAgICAgICBpZiAoZW50cnkgIT09IGZyZXNoRW5kKSB7XG4gICAgICAgICAgaWYgKCFzdGFsZUVuZCkge1xuICAgICAgICAgICAgc3RhbGVFbmQgPSBlbnRyeTtcbiAgICAgICAgICB9IGVsc2UgaWYgKHN0YWxlRW5kID09PSBlbnRyeSkge1xuICAgICAgICAgICAgc3RhbGVFbmQgPSBlbnRyeS5uO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGxpbmsoZW50cnkubiwgZW50cnkucCk7XG4gICAgICAgICAgbGluayhlbnRyeSwgZnJlc2hFbmQpO1xuICAgICAgICAgIGZyZXNoRW5kID0gZW50cnk7XG4gICAgICAgICAgZnJlc2hFbmQubiA9IG51bGw7XG4gICAgICAgIH1cbiAgICAgIH1cblxuXG4gICAgICAvKipcbiAgICAgICAqIGJpZGlyZWN0aW9uYWxseSBsaW5rcyB0d28gZW50cmllcyBvZiB0aGUgTFJVIGxpbmtlZCBsaXN0XG4gICAgICAgKi9cbiAgICAgIGZ1bmN0aW9uIGxpbmsobmV4dEVudHJ5LCBwcmV2RW50cnkpIHtcbiAgICAgICAgaWYgKG5leHRFbnRyeSAhPT0gcHJldkVudHJ5KSB7XG4gICAgICAgICAgaWYgKG5leHRFbnRyeSkgbmV4dEVudHJ5LnAgPSBwcmV2RW50cnk7IC8vcCBzdGFuZHMgZm9yIHByZXZpb3VzLCAncHJldicgZGlkbid0IG1pbmlmeVxuICAgICAgICAgIGlmIChwcmV2RW50cnkpIHByZXZFbnRyeS5uID0gbmV4dEVudHJ5OyAvL24gc3RhbmRzIGZvciBuZXh0LCAnbmV4dCcgZGlkbid0IG1pbmlmeVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG5cbiAgLyoqXG4gICAqIEBuZ2RvYyBtZXRob2RcbiAgICogQG5hbWUgJGNhY2hlRmFjdG9yeSNpbmZvXG4gICAqXG4gICAqIEBkZXNjcmlwdGlvblxuICAgKiBHZXQgaW5mb3JtYXRpb24gYWJvdXQgYWxsIHRoZSBjYWNoZXMgdGhhdCBoYXZlIGJlZW4gY3JlYXRlZFxuICAgKlxuICAgKiBAcmV0dXJucyB7T2JqZWN0fSAtIGtleS12YWx1ZSBtYXAgb2YgYGNhY2hlSWRgIHRvIHRoZSByZXN1bHQgb2YgY2FsbGluZyBgY2FjaGUjaW5mb2BcbiAgICovXG4gICAgY2FjaGVGYWN0b3J5LmluZm8gPSBmdW5jdGlvbigpIHtcbiAgICAgIHZhciBpbmZvID0ge307XG4gICAgICBmb3JFYWNoKGNhY2hlcywgZnVuY3Rpb24oY2FjaGUsIGNhY2hlSWQpIHtcbiAgICAgICAgaW5mb1tjYWNoZUlkXSA9IGNhY2hlLmluZm8oKTtcbiAgICAgIH0pO1xuICAgICAgcmV0dXJuIGluZm87XG4gICAgfTtcblxuXG4gIC8qKlxuICAgKiBAbmdkb2MgbWV0aG9kXG4gICAqIEBuYW1lICRjYWNoZUZhY3RvcnkjZ2V0XG4gICAqXG4gICAqIEBkZXNjcmlwdGlvblxuICAgKiBHZXQgYWNjZXNzIHRvIGEgY2FjaGUgb2JqZWN0IGJ5IHRoZSBgY2FjaGVJZGAgdXNlZCB3aGVuIGl0IHdhcyBjcmVhdGVkLlxuICAgKlxuICAgKiBAcGFyYW0ge3N0cmluZ30gY2FjaGVJZCBOYW1lIG9yIGlkIG9mIGEgY2FjaGUgdG8gYWNjZXNzLlxuICAgKiBAcmV0dXJucyB7b2JqZWN0fSBDYWNoZSBvYmplY3QgaWRlbnRpZmllZCBieSB0aGUgY2FjaGVJZCBvciB1bmRlZmluZWQgaWYgbm8gc3VjaCBjYWNoZS5cbiAgICovXG4gICAgY2FjaGVGYWN0b3J5LmdldCA9IGZ1bmN0aW9uKGNhY2hlSWQpIHtcbiAgICAgIHJldHVybiBjYWNoZXNbY2FjaGVJZF07XG4gICAgfTtcblxuXG4gICAgcmV0dXJuIGNhY2hlRmFjdG9yeTtcbiAgfTtcbn1cblxuLyoqXG4gKiBAbmdkb2Mgc2VydmljZVxuICogQG5hbWUgJHRlbXBsYXRlQ2FjaGVcbiAqIEB0aGlzXG4gKlxuICogQGRlc2NyaXB0aW9uXG4gKiBUaGUgZmlyc3QgdGltZSBhIHRlbXBsYXRlIGlzIHVzZWQsIGl0IGlzIGxvYWRlZCBpbiB0aGUgdGVtcGxhdGUgY2FjaGUgZm9yIHF1aWNrIHJldHJpZXZhbC4gWW91XG4gKiBjYW4gbG9hZCB0ZW1wbGF0ZXMgZGlyZWN0bHkgaW50byB0aGUgY2FjaGUgaW4gYSBgc2NyaXB0YCB0YWcsIG9yIGJ5IGNvbnN1bWluZyB0aGVcbiAqIGAkdGVtcGxhdGVDYWNoZWAgc2VydmljZSBkaXJlY3RseS5cbiAqXG4gKiBBZGRpbmcgdmlhIHRoZSBgc2NyaXB0YCB0YWc6XG4gKlxuICogYGBgaHRtbFxuICogICA8c2NyaXB0IHR5cGU9XCJ0ZXh0L25nLXRlbXBsYXRlXCIgaWQ9XCJ0ZW1wbGF0ZUlkLmh0bWxcIj5cbiAqICAgICA8cD5UaGlzIGlzIHRoZSBjb250ZW50IG9mIHRoZSB0ZW1wbGF0ZTwvcD5cbiAqICAgPC9zY3JpcHQ+XG4gKiBgYGBcbiAqXG4gKiAqKk5vdGU6KiogdGhlIGBzY3JpcHRgIHRhZyBjb250YWluaW5nIHRoZSB0ZW1wbGF0ZSBkb2VzIG5vdCBuZWVkIHRvIGJlIGluY2x1ZGVkIGluIHRoZSBgaGVhZGAgb2ZcbiAqIHRoZSBkb2N1bWVudCwgYnV0IGl0IG11c3QgYmUgYSBkZXNjZW5kZW50IG9mIHRoZSB7QGxpbmsgbmcuJHJvb3RFbGVtZW50ICRyb290RWxlbWVudH0gKElFLFxuICogZWxlbWVudCB3aXRoIG5nLWFwcCBhdHRyaWJ1dGUpLCBvdGhlcndpc2UgdGhlIHRlbXBsYXRlIHdpbGwgYmUgaWdub3JlZC5cbiAqXG4gKiBBZGRpbmcgdmlhIHRoZSBgJHRlbXBsYXRlQ2FjaGVgIHNlcnZpY2U6XG4gKlxuICogYGBganNcbiAqIHZhciBteUFwcCA9IGFuZ3VsYXIubW9kdWxlKCdteUFwcCcsIFtdKTtcbiAqIG15QXBwLnJ1bihmdW5jdGlvbigkdGVtcGxhdGVDYWNoZSkge1xuICogICAkdGVtcGxhdGVDYWNoZS5wdXQoJ3RlbXBsYXRlSWQuaHRtbCcsICdUaGlzIGlzIHRoZSBjb250ZW50IG9mIHRoZSB0ZW1wbGF0ZScpO1xuICogfSk7XG4gKiBgYGBcbiAqXG4gKiBUbyByZXRyaWV2ZSB0aGUgdGVtcGxhdGUgbGF0ZXIsIHNpbXBseSB1c2UgaXQgaW4geW91ciBjb21wb25lbnQ6XG4gKiBgYGBqc1xuICogbXlBcHAuY29tcG9uZW50KCdteUNvbXBvbmVudCcsIHtcbiAqICAgIHRlbXBsYXRlVXJsOiAndGVtcGxhdGVJZC5odG1sJ1xuICogfSk7XG4gKiBgYGBcbiAqXG4gKiBvciBnZXQgaXQgdmlhIHRoZSBgJHRlbXBsYXRlQ2FjaGVgIHNlcnZpY2U6XG4gKiBgYGBqc1xuICogJHRlbXBsYXRlQ2FjaGUuZ2V0KCd0ZW1wbGF0ZUlkLmh0bWwnKVxuICogYGBgXG4gKlxuICogU2VlIHtAbGluayBuZy4kY2FjaGVGYWN0b3J5ICRjYWNoZUZhY3Rvcnl9LlxuICpcbiAqL1xuZnVuY3Rpb24gJFRlbXBsYXRlQ2FjaGVQcm92aWRlcigpIHtcbiAgdGhpcy4kZ2V0ID0gWyckY2FjaGVGYWN0b3J5JywgZnVuY3Rpb24oJGNhY2hlRmFjdG9yeSkge1xuICAgIHJldHVybiAkY2FjaGVGYWN0b3J5KCd0ZW1wbGF0ZXMnKTtcbiAgfV07XG59XG5cbi8qICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICpcbiAqICAgICBBbnkgY29tbWl0cyB0byB0aGlzIGZpbGUgc2hvdWxkIGJlIHJldmlld2VkIHdpdGggc2VjdXJpdHkgaW4gbWluZC4gICpcbiAqICAgQ2hhbmdlcyB0byB0aGlzIGZpbGUgY2FuIHBvdGVudGlhbGx5IGNyZWF0ZSBzZWN1cml0eSB2dWxuZXJhYmlsaXRpZXMuICpcbiAqICAgICAgICAgIEFuIGFwcHJvdmFsIGZyb20gMiBDb3JlIG1lbWJlcnMgd2l0aCBoaXN0b3J5IG9mIG1vZGlmeWluZyAgICAgICpcbiAqICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMgZmlsZSBpcyByZXF1aXJlZC4gICAgICAgICAgICAgICAgICAgICAgICAgICpcbiAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICpcbiAqICBEb2VzIHRoZSBjaGFuZ2Ugc29tZWhvdyBhbGxvdyBmb3IgYXJiaXRyYXJ5IGphdmFzY3JpcHQgdG8gYmUgZXhlY3V0ZWQ/ICpcbiAqICAgIE9yIGFsbG93cyBmb3Igc29tZW9uZSB0byBjaGFuZ2UgdGhlIHByb3RvdHlwZSBvZiBidWlsdC1pbiBvYmplY3RzPyAgICpcbiAqICAgICBPciBnaXZlcyB1bmRlc2lyZWQgYWNjZXNzIHRvIHZhcmlhYmxlcyBsaWtlIGRvY3VtZW50IG9yIHdpbmRvdz8gICAgKlxuICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKi9cblxuLyogISBWQVJJQUJMRS9GVU5DVElPTiBOQU1JTkcgQ09OVkVOVElPTlMgVEhBVCBBUFBMWSBUTyBUSElTIEZJTEUhXG4gKlxuICogRE9NLXJlbGF0ZWQgdmFyaWFibGVzOlxuICpcbiAqIC0gXCJub2RlXCIgLSBET00gTm9kZVxuICogLSBcImVsZW1lbnRcIiAtIERPTSBFbGVtZW50IG9yIE5vZGVcbiAqIC0gXCIkbm9kZVwiIG9yIFwiJGVsZW1lbnRcIiAtIGpxTGl0ZS13cmFwcGVkIG5vZGUgb3IgZWxlbWVudFxuICpcbiAqXG4gKiBDb21waWxlciByZWxhdGVkIHN0dWZmOlxuICpcbiAqIC0gXCJsaW5rRm5cIiAtIGxpbmtpbmcgZm4gb2YgYSBzaW5nbGUgZGlyZWN0aXZlXG4gKiAtIFwibm9kZUxpbmtGblwiIC0gZnVuY3Rpb24gdGhhdCBhZ2dyZWdhdGVzIGFsbCBsaW5raW5nIGZucyBmb3IgYSBwYXJ0aWN1bGFyIG5vZGVcbiAqIC0gXCJjaGlsZExpbmtGblwiIC0gIGZ1bmN0aW9uIHRoYXQgYWdncmVnYXRlcyBhbGwgbGlua2luZyBmbnMgZm9yIGNoaWxkIG5vZGVzIG9mIGEgcGFydGljdWxhciBub2RlXG4gKiAtIFwiY29tcG9zaXRlTGlua0ZuXCIgLSBmdW5jdGlvbiB0aGF0IGFnZ3JlZ2F0ZXMgYWxsIGxpbmtpbmcgZm5zIGZvciBhIGNvbXBpbGF0aW9uIHJvb3QgKG5vZGVMaXN0KVxuICovXG5cblxuLyoqXG4gKiBAbmdkb2Mgc2VydmljZVxuICogQG5hbWUgJGNvbXBpbGVcbiAqIEBraW5kIGZ1bmN0aW9uXG4gKlxuICogQGRlc2NyaXB0aW9uXG4gKiBDb21waWxlcyBhbiBIVE1MIHN0cmluZyBvciBET00gaW50byBhIHRlbXBsYXRlIGFuZCBwcm9kdWNlcyBhIHRlbXBsYXRlIGZ1bmN0aW9uLCB3aGljaFxuICogY2FuIHRoZW4gYmUgdXNlZCB0byBsaW5rIHtAbGluayBuZy4kcm9vdFNjb3BlLlNjb3BlIGBzY29wZWB9IGFuZCB0aGUgdGVtcGxhdGUgdG9nZXRoZXIuXG4gKlxuICogVGhlIGNvbXBpbGF0aW9uIGlzIGEgcHJvY2VzcyBvZiB3YWxraW5nIHRoZSBET00gdHJlZSBhbmQgbWF0Y2hpbmcgRE9NIGVsZW1lbnRzIHRvXG4gKiB7QGxpbmsgbmcuJGNvbXBpbGVQcm92aWRlciNkaXJlY3RpdmUgZGlyZWN0aXZlc30uXG4gKlxuICogPGRpdiBjbGFzcz1cImFsZXJ0IGFsZXJ0LXdhcm5pbmdcIj5cbiAqICoqTm90ZToqKiBUaGlzIGRvY3VtZW50IGlzIGFuIGluLWRlcHRoIHJlZmVyZW5jZSBvZiBhbGwgZGlyZWN0aXZlIG9wdGlvbnMuXG4gKiBGb3IgYSBnZW50bGUgaW50cm9kdWN0aW9uIHRvIGRpcmVjdGl2ZXMgd2l0aCBleGFtcGxlcyBvZiBjb21tb24gdXNlIGNhc2VzLFxuICogc2VlIHRoZSB7QGxpbmsgZ3VpZGUvZGlyZWN0aXZlIGRpcmVjdGl2ZSBndWlkZX0uXG4gKiA8L2Rpdj5cbiAqXG4gKiAjIyBDb21wcmVoZW5zaXZlIERpcmVjdGl2ZSBBUElcbiAqXG4gKiBUaGVyZSBhcmUgbWFueSBkaWZmZXJlbnQgb3B0aW9ucyBmb3IgYSBkaXJlY3RpdmUuXG4gKlxuICogVGhlIGRpZmZlcmVuY2UgcmVzaWRlcyBpbiB0aGUgcmV0dXJuIHZhbHVlIG9mIHRoZSBmYWN0b3J5IGZ1bmN0aW9uLlxuICogWW91IGNhbiBlaXRoZXIgcmV0dXJuIGEge0BsaW5rICRjb21waWxlI2RpcmVjdGl2ZS1kZWZpbml0aW9uLW9iamVjdCBEaXJlY3RpdmUgRGVmaW5pdGlvbiBPYmplY3QgKHNlZSBiZWxvdyl9XG4gKiB0aGF0IGRlZmluZXMgdGhlIGRpcmVjdGl2ZSBwcm9wZXJ0aWVzLCBvciBqdXN0IHRoZSBgcG9zdExpbmtgIGZ1bmN0aW9uIChhbGwgb3RoZXIgcHJvcGVydGllcyB3aWxsIGhhdmVcbiAqIHRoZSBkZWZhdWx0IHZhbHVlcykuXG4gKlxuICogPGRpdiBjbGFzcz1cImFsZXJ0IGFsZXJ0LXN1Y2Nlc3NcIj5cbiAqICoqQmVzdCBQcmFjdGljZToqKiBJdCdzIHJlY29tbWVuZGVkIHRvIHVzZSB0aGUgXCJkaXJlY3RpdmUgZGVmaW5pdGlvbiBvYmplY3RcIiBmb3JtLlxuICogPC9kaXY+XG4gKlxuICogSGVyZSdzIGFuIGV4YW1wbGUgZGlyZWN0aXZlIGRlY2xhcmVkIHdpdGggYSBEaXJlY3RpdmUgRGVmaW5pdGlvbiBPYmplY3Q6XG4gKlxuICogYGBganNcbiAqICAgdmFyIG15TW9kdWxlID0gYW5ndWxhci5tb2R1bGUoLi4uKTtcbiAqXG4gKiAgIG15TW9kdWxlLmRpcmVjdGl2ZSgnZGlyZWN0aXZlTmFtZScsIGZ1bmN0aW9uIGZhY3RvcnkoaW5qZWN0YWJsZXMpIHtcbiAqICAgICB2YXIgZGlyZWN0aXZlRGVmaW5pdGlvbk9iamVjdCA9IHtcbiAqICAgICAgIHtAbGluayAkY29tcGlsZSMtcHJpb3JpdHktIHByaW9yaXR5fTogMCxcbiAqICAgICAgIHtAbGluayAkY29tcGlsZSMtdGVtcGxhdGUtIHRlbXBsYXRlfTogJzxkaXY+PC9kaXY+JywgLy8gb3IgLy8gZnVuY3Rpb24odEVsZW1lbnQsIHRBdHRycykgeyAuLi4gfSxcbiAqICAgICAgIC8vIG9yXG4gKiAgICAgICAvLyB7QGxpbmsgJGNvbXBpbGUjLXRlbXBsYXRldXJsLSB0ZW1wbGF0ZVVybH06ICdkaXJlY3RpdmUuaHRtbCcsIC8vIG9yIC8vIGZ1bmN0aW9uKHRFbGVtZW50LCB0QXR0cnMpIHsgLi4uIH0sXG4gKiAgICAgICB7QGxpbmsgJGNvbXBpbGUjLXRyYW5zY2x1ZGUtIHRyYW5zY2x1ZGV9OiBmYWxzZSxcbiAqICAgICAgIHtAbGluayAkY29tcGlsZSMtcmVzdHJpY3QtIHJlc3RyaWN0fTogJ0EnLFxuICogICAgICAge0BsaW5rICRjb21waWxlIy10ZW1wbGF0ZW5hbWVzcGFjZS0gdGVtcGxhdGVOYW1lc3BhY2V9OiAnaHRtbCcsXG4gKiAgICAgICB7QGxpbmsgJGNvbXBpbGUjLXNjb3BlLSBzY29wZX06IGZhbHNlLFxuICogICAgICAge0BsaW5rICRjb21waWxlIy1jb250cm9sbGVyLSBjb250cm9sbGVyfTogZnVuY3Rpb24oJHNjb3BlLCAkZWxlbWVudCwgJGF0dHJzLCAkdHJhbnNjbHVkZSwgb3RoZXJJbmplY3RhYmxlcykgeyAuLi4gfSxcbiAqICAgICAgIHtAbGluayAkY29tcGlsZSMtY29udHJvbGxlcmFzLSBjb250cm9sbGVyQXN9OiAnc3RyaW5nSWRlbnRpZmllcicsXG4gKiAgICAgICB7QGxpbmsgJGNvbXBpbGUjLWJpbmR0b2NvbnRyb2xsZXItIGJpbmRUb0NvbnRyb2xsZXJ9OiBmYWxzZSxcbiAqICAgICAgIHtAbGluayAkY29tcGlsZSMtcmVxdWlyZS0gcmVxdWlyZX06ICdzaWJsaW5nRGlyZWN0aXZlTmFtZScsIC8vIG9yIC8vIFsnXnBhcmVudERpcmVjdGl2ZU5hbWUnLCAnP29wdGlvbmFsRGlyZWN0aXZlTmFtZScsICc/Xm9wdGlvbmFsUGFyZW50J10sXG4gKiAgICAgICB7QGxpbmsgJGNvbXBpbGUjLW11bHRpZWxlbWVudC0gbXVsdGlFbGVtZW50fTogZmFsc2UsXG4gKiAgICAgICB7QGxpbmsgJGNvbXBpbGUjLWNvbXBpbGUtIGNvbXBpbGV9OiBmdW5jdGlvbiBjb21waWxlKHRFbGVtZW50LCB0QXR0cnMsIHRyYW5zY2x1ZGUpIHtcbiAqICAgICAgICAgcmV0dXJuIHtcbiAqICAgICAgICAgICAge0BsaW5rICRjb21waWxlI3ByZS1saW5raW5nLWZ1bmN0aW9uIHByZX06IGZ1bmN0aW9uIHByZUxpbmsoc2NvcGUsIGlFbGVtZW50LCBpQXR0cnMsIGNvbnRyb2xsZXIpIHsgLi4uIH0sXG4gKiAgICAgICAgICAgIHtAbGluayAkY29tcGlsZSNwb3N0LWxpbmtpbmctZnVuY3Rpb24gcG9zdH06IGZ1bmN0aW9uIHBvc3RMaW5rKHNjb3BlLCBpRWxlbWVudCwgaUF0dHJzLCBjb250cm9sbGVyKSB7IC4uLiB9XG4gKiAgICAgICAgIH1cbiAqICAgICAgICAgLy8gb3JcbiAqICAgICAgICAgLy8gcmV0dXJuIGZ1bmN0aW9uIHBvc3RMaW5rKCAuLi4gKSB7IC4uLiB9XG4gKiAgICAgICB9LFxuICogICAgICAgLy8gb3JcbiAqICAgICAgIC8vIHtAbGluayAkY29tcGlsZSMtbGluay0gbGlua306IHtcbiAqICAgICAgIC8vICB7QGxpbmsgJGNvbXBpbGUjcHJlLWxpbmtpbmctZnVuY3Rpb24gcHJlfTogZnVuY3Rpb24gcHJlTGluayhzY29wZSwgaUVsZW1lbnQsIGlBdHRycywgY29udHJvbGxlcikgeyAuLi4gfSxcbiAqICAgICAgIC8vICB7QGxpbmsgJGNvbXBpbGUjcG9zdC1saW5raW5nLWZ1bmN0aW9uIHBvc3R9OiBmdW5jdGlvbiBwb3N0TGluayhzY29wZSwgaUVsZW1lbnQsIGlBdHRycywgY29udHJvbGxlcikgeyAuLi4gfVxuICogICAgICAgLy8gfVxuICogICAgICAgLy8gb3JcbiAqICAgICAgIC8vIHtAbGluayAkY29tcGlsZSMtbGluay0gbGlua306IGZ1bmN0aW9uIHBvc3RMaW5rKCAuLi4gKSB7IC4uLiB9XG4gKiAgICAgfTtcbiAqICAgICByZXR1cm4gZGlyZWN0aXZlRGVmaW5pdGlvbk9iamVjdDtcbiAqICAgfSk7XG4gKiBgYGBcbiAqXG4gKiA8ZGl2IGNsYXNzPVwiYWxlcnQgYWxlcnQtd2FybmluZ1wiPlxuICogKipOb3RlOioqIEFueSB1bnNwZWNpZmllZCBvcHRpb25zIHdpbGwgdXNlIHRoZSBkZWZhdWx0IHZhbHVlLiBZb3UgY2FuIHNlZSB0aGUgZGVmYXVsdCB2YWx1ZXMgYmVsb3cuXG4gKiA8L2Rpdj5cbiAqXG4gKiBUaGVyZWZvcmUgdGhlIGFib3ZlIGNhbiBiZSBzaW1wbGlmaWVkIGFzOlxuICpcbiAqIGBgYGpzXG4gKiAgIHZhciBteU1vZHVsZSA9IGFuZ3VsYXIubW9kdWxlKC4uLik7XG4gKlxuICogICBteU1vZHVsZS5kaXJlY3RpdmUoJ2RpcmVjdGl2ZU5hbWUnLCBmdW5jdGlvbiBmYWN0b3J5KGluamVjdGFibGVzKSB7XG4gKiAgICAgdmFyIGRpcmVjdGl2ZURlZmluaXRpb25PYmplY3QgPSB7XG4gKiAgICAgICBsaW5rOiBmdW5jdGlvbiBwb3N0TGluayhzY29wZSwgaUVsZW1lbnQsIGlBdHRycykgeyAuLi4gfVxuICogICAgIH07XG4gKiAgICAgcmV0dXJuIGRpcmVjdGl2ZURlZmluaXRpb25PYmplY3Q7XG4gKiAgICAgLy8gb3JcbiAqICAgICAvLyByZXR1cm4gZnVuY3Rpb24gcG9zdExpbmsoc2NvcGUsIGlFbGVtZW50LCBpQXR0cnMpIHsgLi4uIH1cbiAqICAgfSk7XG4gKiBgYGBcbiAqXG4gKiAjIyMgTGlmZS1jeWNsZSBob29rc1xuICogRGlyZWN0aXZlIGNvbnRyb2xsZXJzIGNhbiBwcm92aWRlIHRoZSBmb2xsb3dpbmcgbWV0aG9kcyB0aGF0IGFyZSBjYWxsZWQgYnkgQW5ndWxhciBhdCBwb2ludHMgaW4gdGhlIGxpZmUtY3ljbGUgb2YgdGhlXG4gKiBkaXJlY3RpdmU6XG4gKiAqIGAkb25Jbml0KClgIC0gQ2FsbGVkIG9uIGVhY2ggY29udHJvbGxlciBhZnRlciBhbGwgdGhlIGNvbnRyb2xsZXJzIG9uIGFuIGVsZW1lbnQgaGF2ZSBiZWVuIGNvbnN0cnVjdGVkIGFuZFxuICogICBoYWQgdGhlaXIgYmluZGluZ3MgaW5pdGlhbGl6ZWQgKGFuZCBiZWZvcmUgdGhlIHByZSAmYW1wOyBwb3N0IGxpbmtpbmcgZnVuY3Rpb25zIGZvciB0aGUgZGlyZWN0aXZlcyBvblxuICogICB0aGlzIGVsZW1lbnQpLiBUaGlzIGlzIGEgZ29vZCBwbGFjZSB0byBwdXQgaW5pdGlhbGl6YXRpb24gY29kZSBmb3IgeW91ciBjb250cm9sbGVyLlxuICogKiBgJG9uQ2hhbmdlcyhjaGFuZ2VzT2JqKWAgLSBDYWxsZWQgd2hlbmV2ZXIgb25lLXdheSAoYDxgKSBvciBpbnRlcnBvbGF0aW9uIChgQGApIGJpbmRpbmdzIGFyZSB1cGRhdGVkLiBUaGVcbiAqICAgYGNoYW5nZXNPYmpgIGlzIGEgaGFzaCB3aG9zZSBrZXlzIGFyZSB0aGUgbmFtZXMgb2YgdGhlIGJvdW5kIHByb3BlcnRpZXMgdGhhdCBoYXZlIGNoYW5nZWQsIGFuZCB0aGUgdmFsdWVzIGFyZSBhblxuICogICBvYmplY3Qgb2YgdGhlIGZvcm0gYHsgY3VycmVudFZhbHVlLCBwcmV2aW91c1ZhbHVlLCBpc0ZpcnN0Q2hhbmdlKCkgfWAuIFVzZSB0aGlzIGhvb2sgdG8gdHJpZ2dlciB1cGRhdGVzIHdpdGhpbiBhXG4gKiAgIGNvbXBvbmVudCBzdWNoIGFzIGNsb25pbmcgdGhlIGJvdW5kIHZhbHVlIHRvIHByZXZlbnQgYWNjaWRlbnRhbCBtdXRhdGlvbiBvZiB0aGUgb3V0ZXIgdmFsdWUuIE5vdGUgdGhhdCB0aGlzIHdpbGxcbiAqICAgYWxzbyBiZSBjYWxsZWQgd2hlbiB5b3VyIGJpbmRpbmdzIGFyZSBpbml0aWFsaXplZC5cbiAqICogYCRkb0NoZWNrKClgIC0gQ2FsbGVkIG9uIGVhY2ggdHVybiBvZiB0aGUgZGlnZXN0IGN5Y2xlLiBQcm92aWRlcyBhbiBvcHBvcnR1bml0eSB0byBkZXRlY3QgYW5kIGFjdCBvblxuICogICBjaGFuZ2VzLiBBbnkgYWN0aW9ucyB0aGF0IHlvdSB3aXNoIHRvIHRha2UgaW4gcmVzcG9uc2UgdG8gdGhlIGNoYW5nZXMgdGhhdCB5b3UgZGV0ZWN0IG11c3QgYmVcbiAqICAgaW52b2tlZCBmcm9tIHRoaXMgaG9vazsgaW1wbGVtZW50aW5nIHRoaXMgaGFzIG5vIGVmZmVjdCBvbiB3aGVuIGAkb25DaGFuZ2VzYCBpcyBjYWxsZWQuIEZvciBleGFtcGxlLCB0aGlzIGhvb2tcbiAqICAgY291bGQgYmUgdXNlZnVsIGlmIHlvdSB3aXNoIHRvIHBlcmZvcm0gYSBkZWVwIGVxdWFsaXR5IGNoZWNrLCBvciB0byBjaGVjayBhIERhdGUgb2JqZWN0LCBjaGFuZ2VzIHRvIHdoaWNoIHdvdWxkIG5vdFxuICogICBiZSBkZXRlY3RlZCBieSBBbmd1bGFyJ3MgY2hhbmdlIGRldGVjdG9yIGFuZCB0aHVzIG5vdCB0cmlnZ2VyIGAkb25DaGFuZ2VzYC4gVGhpcyBob29rIGlzIGludm9rZWQgd2l0aCBubyBhcmd1bWVudHM7XG4gKiAgIGlmIGRldGVjdGluZyBjaGFuZ2VzLCB5b3UgbXVzdCBzdG9yZSB0aGUgcHJldmlvdXMgdmFsdWUocykgZm9yIGNvbXBhcmlzb24gdG8gdGhlIGN1cnJlbnQgdmFsdWVzLlxuICogKiBgJG9uRGVzdHJveSgpYCAtIENhbGxlZCBvbiBhIGNvbnRyb2xsZXIgd2hlbiBpdHMgY29udGFpbmluZyBzY29wZSBpcyBkZXN0cm95ZWQuIFVzZSB0aGlzIGhvb2sgZm9yIHJlbGVhc2luZ1xuICogICBleHRlcm5hbCByZXNvdXJjZXMsIHdhdGNoZXMgYW5kIGV2ZW50IGhhbmRsZXJzLiBOb3RlIHRoYXQgY29tcG9uZW50cyBoYXZlIHRoZWlyIGAkb25EZXN0cm95KClgIGhvb2tzIGNhbGxlZCBpblxuICogICB0aGUgc2FtZSBvcmRlciBhcyB0aGUgYCRzY29wZS4kYnJvYWRjYXN0YCBldmVudHMgYXJlIHRyaWdnZXJlZCwgd2hpY2ggaXMgdG9wIGRvd24uIFRoaXMgbWVhbnMgdGhhdCBwYXJlbnRcbiAqICAgY29tcG9uZW50cyB3aWxsIGhhdmUgdGhlaXIgYCRvbkRlc3Ryb3koKWAgaG9vayBjYWxsZWQgYmVmb3JlIGNoaWxkIGNvbXBvbmVudHMuXG4gKiAqIGAkcG9zdExpbmsoKWAgLSBDYWxsZWQgYWZ0ZXIgdGhpcyBjb250cm9sbGVyJ3MgZWxlbWVudCBhbmQgaXRzIGNoaWxkcmVuIGhhdmUgYmVlbiBsaW5rZWQuIFNpbWlsYXIgdG8gdGhlIHBvc3QtbGlua1xuICogICBmdW5jdGlvbiB0aGlzIGhvb2sgY2FuIGJlIHVzZWQgdG8gc2V0IHVwIERPTSBldmVudCBoYW5kbGVycyBhbmQgZG8gZGlyZWN0IERPTSBtYW5pcHVsYXRpb24uXG4gKiAgIE5vdGUgdGhhdCBjaGlsZCBlbGVtZW50cyB0aGF0IGNvbnRhaW4gYHRlbXBsYXRlVXJsYCBkaXJlY3RpdmVzIHdpbGwgbm90IGhhdmUgYmVlbiBjb21waWxlZCBhbmQgbGlua2VkIHNpbmNlXG4gKiAgIHRoZXkgYXJlIHdhaXRpbmcgZm9yIHRoZWlyIHRlbXBsYXRlIHRvIGxvYWQgYXN5bmNocm9ub3VzbHkgYW5kIHRoZWlyIG93biBjb21waWxhdGlvbiBhbmQgbGlua2luZyBoYXMgYmVlblxuICogICBzdXNwZW5kZWQgdW50aWwgdGhhdCBvY2N1cnMuXG4gKlxuICogIyMjIyBDb21wYXJpc29uIHdpdGggQW5ndWxhciAyIGxpZmUtY3ljbGUgaG9va3NcbiAqIEFuZ3VsYXIgMiBhbHNvIHVzZXMgbGlmZS1jeWNsZSBob29rcyBmb3IgaXRzIGNvbXBvbmVudHMuIFdoaWxlIHRoZSBBbmd1bGFyIDEgbGlmZS1jeWNsZSBob29rcyBhcmUgc2ltaWxhciB0aGVyZSBhcmVcbiAqIHNvbWUgZGlmZmVyZW5jZXMgdGhhdCB5b3Ugc2hvdWxkIGJlIGF3YXJlIG9mLCBlc3BlY2lhbGx5IHdoZW4gaXQgY29tZXMgdG8gbW92aW5nIHlvdXIgY29kZSBmcm9tIEFuZ3VsYXIgMSB0byBBbmd1bGFyIDI6XG4gKlxuICogKiBBbmd1bGFyIDEgaG9va3MgYXJlIHByZWZpeGVkIHdpdGggYCRgLCBzdWNoIGFzIGAkb25Jbml0YC4gQW5ndWxhciAyIGhvb2tzIGFyZSBwcmVmaXhlZCB3aXRoIGBuZ2AsIHN1Y2ggYXMgYG5nT25Jbml0YC5cbiAqICogQW5ndWxhciAxIGhvb2tzIGNhbiBiZSBkZWZpbmVkIG9uIHRoZSBjb250cm9sbGVyIHByb3RvdHlwZSBvciBhZGRlZCB0byB0aGUgY29udHJvbGxlciBpbnNpZGUgaXRzIGNvbnN0cnVjdG9yLlxuICogICBJbiBBbmd1bGFyIDIgeW91IGNhbiBvbmx5IGRlZmluZSBob29rcyBvbiB0aGUgcHJvdG90eXBlIG9mIHRoZSBDb21wb25lbnQgY2xhc3MuXG4gKiAqIER1ZSB0byB0aGUgZGlmZmVyZW5jZXMgaW4gY2hhbmdlLWRldGVjdGlvbiwgeW91IG1heSBnZXQgbWFueSBtb3JlIGNhbGxzIHRvIGAkZG9DaGVja2AgaW4gQW5ndWxhciAxIHRoYW4geW91IHdvdWxkIHRvXG4gKiAgIGBuZ0RvQ2hlY2tgIGluIEFuZ3VsYXIgMlxuICogKiBDaGFuZ2VzIHRvIHRoZSBtb2RlbCBpbnNpZGUgYCRkb0NoZWNrYCB3aWxsIHRyaWdnZXIgbmV3IHR1cm5zIG9mIHRoZSBkaWdlc3QgbG9vcCwgd2hpY2ggd2lsbCBjYXVzZSB0aGUgY2hhbmdlcyB0byBiZVxuICogICBwcm9wYWdhdGVkIHRocm91Z2hvdXQgdGhlIGFwcGxpY2F0aW9uLlxuICogICBBbmd1bGFyIDIgZG9lcyBub3QgYWxsb3cgdGhlIGBuZ0RvQ2hlY2tgIGhvb2sgdG8gdHJpZ2dlciBhIGNoYW5nZSBvdXRzaWRlIG9mIHRoZSBjb21wb25lbnQuIEl0IHdpbGwgZWl0aGVyIHRocm93IGFuXG4gKiAgIGVycm9yIG9yIGRvIG5vdGhpbmcgZGVwZW5kaW5nIHVwb24gdGhlIHN0YXRlIG9mIGBlbmFibGVQcm9kTW9kZSgpYC5cbiAqXG4gKiAjIyMjIExpZmUtY3ljbGUgaG9vayBleGFtcGxlc1xuICpcbiAqIFRoaXMgZXhhbXBsZSBzaG93cyBob3cgeW91IGNhbiBjaGVjayBmb3IgbXV0YXRpb25zIHRvIGEgRGF0ZSBvYmplY3QgZXZlbiB0aG91Z2ggdGhlIGlkZW50aXR5IG9mIHRoZSBvYmplY3RcbiAqIGhhcyBub3QgY2hhbmdlZC5cbiAqXG4gKiA8ZXhhbXBsZSBuYW1lPVwiZG9DaGVja0RhdGVFeGFtcGxlXCIgbW9kdWxlPVwiZG8tY2hlY2stbW9kdWxlXCI+XG4gKiAgIDxmaWxlIG5hbWU9XCJhcHAuanNcIj5cbiAqICAgICBhbmd1bGFyLm1vZHVsZSgnZG8tY2hlY2stbW9kdWxlJywgW10pXG4gKiAgICAgICAuY29tcG9uZW50KCdhcHAnLCB7XG4gKiAgICAgICAgIHRlbXBsYXRlOlxuICogICAgICAgICAgICdNb250aDogPGlucHV0IG5nLW1vZGVsPVwiJGN0cmwubW9udGhcIiBuZy1jaGFuZ2U9XCIkY3RybC51cGRhdGVEYXRlKClcIj4nICtcbiAqICAgICAgICAgICAnRGF0ZToge3sgJGN0cmwuZGF0ZSB9fScgK1xuICogICAgICAgICAgICc8dGVzdCBkYXRlPVwiJGN0cmwuZGF0ZVwiPjwvdGVzdD4nLFxuICogICAgICAgICBjb250cm9sbGVyOiBmdW5jdGlvbigpIHtcbiAqICAgICAgICAgICB0aGlzLmRhdGUgPSBuZXcgRGF0ZSgpO1xuICogICAgICAgICAgIHRoaXMubW9udGggPSB0aGlzLmRhdGUuZ2V0TW9udGgoKTtcbiAqICAgICAgICAgICB0aGlzLnVwZGF0ZURhdGUgPSBmdW5jdGlvbigpIHtcbiAqICAgICAgICAgICAgIHRoaXMuZGF0ZS5zZXRNb250aCh0aGlzLm1vbnRoKTtcbiAqICAgICAgICAgICB9O1xuICogICAgICAgICB9XG4gKiAgICAgICB9KVxuICogICAgICAgLmNvbXBvbmVudCgndGVzdCcsIHtcbiAqICAgICAgICAgYmluZGluZ3M6IHsgZGF0ZTogJzwnIH0sXG4gKiAgICAgICAgIHRlbXBsYXRlOlxuICogICAgICAgICAgICc8cHJlPnt7ICRjdHJsLmxvZyB8IGpzb24gfX08L3ByZT4nLFxuICogICAgICAgICBjb250cm9sbGVyOiBmdW5jdGlvbigpIHtcbiAqICAgICAgICAgICB2YXIgcHJldmlvdXNWYWx1ZTtcbiAqICAgICAgICAgICB0aGlzLmxvZyA9IFtdO1xuICogICAgICAgICAgIHRoaXMuJGRvQ2hlY2sgPSBmdW5jdGlvbigpIHtcbiAqICAgICAgICAgICAgIHZhciBjdXJyZW50VmFsdWUgPSB0aGlzLmRhdGUgJiYgdGhpcy5kYXRlLnZhbHVlT2YoKTtcbiAqICAgICAgICAgICAgIGlmIChwcmV2aW91c1ZhbHVlICE9PSBjdXJyZW50VmFsdWUpIHtcbiAqICAgICAgICAgICAgICAgdGhpcy5sb2cucHVzaCgnZG9DaGVjazogZGF0ZSBtdXRhdGVkOiAnICsgdGhpcy5kYXRlKTtcbiAqICAgICAgICAgICAgICAgcHJldmlvdXNWYWx1ZSA9IGN1cnJlbnRWYWx1ZTtcbiAqICAgICAgICAgICAgIH1cbiAqICAgICAgICAgICB9O1xuICogICAgICAgICB9XG4gKiAgICAgICB9KTtcbiAqICAgPC9maWxlPlxuICogICA8ZmlsZSBuYW1lPVwiaW5kZXguaHRtbFwiPlxuICogICAgIDxhcHA+PC9hcHA+XG4gKiAgIDwvZmlsZT5cbiAqIDwvZXhhbXBsZT5cbiAqXG4gKiBUaGlzIGV4YW1wbGUgc2hvdyBob3cgeW91IG1pZ2h0IHVzZSBgJGRvQ2hlY2tgIHRvIHRyaWdnZXIgY2hhbmdlcyBpbiB5b3VyIGNvbXBvbmVudCdzIGlucHV0cyBldmVuIGlmIHRoZVxuICogYWN0dWFsIGlkZW50aXR5IG9mIHRoZSBjb21wb25lbnQgZG9lc24ndCBjaGFuZ2UuIChCZSBhd2FyZSB0aGF0IGNsb25pbmcgYW5kIGRlZXAgZXF1YWxpdHkgY2hlY2tzIG9uIGxhcmdlXG4gKiBhcnJheXMgb3Igb2JqZWN0cyBjYW4gaGF2ZSBhIG5lZ2F0aXZlIGltcGFjdCBvbiB5b3VyIGFwcGxpY2F0aW9uIHBlcmZvcm1hbmNlKVxuICpcbiAqIDxleGFtcGxlIG5hbWU9XCJkb0NoZWNrQXJyYXlFeGFtcGxlXCIgbW9kdWxlPVwiZG8tY2hlY2stbW9kdWxlXCI+XG4gKiAgIDxmaWxlIG5hbWU9XCJpbmRleC5odG1sXCI+XG4gKiAgICAgPGRpdiBuZy1pbml0PVwiaXRlbXMgPSBbXVwiPlxuICogICAgICAgPGJ1dHRvbiBuZy1jbGljaz1cIml0ZW1zLnB1c2goaXRlbXMubGVuZ3RoKVwiPkFkZCBJdGVtPC9idXR0b24+XG4gKiAgICAgICA8YnV0dG9uIG5nLWNsaWNrPVwiaXRlbXMgPSBbXVwiPlJlc2V0IEl0ZW1zPC9idXR0b24+XG4gKiAgICAgICA8cHJlPnt7IGl0ZW1zIH19PC9wcmU+XG4gKiAgICAgICA8dGVzdCBpdGVtcz1cIml0ZW1zXCI+PC90ZXN0PlxuICogICAgIDwvZGl2PlxuICogICA8L2ZpbGU+XG4gKiAgIDxmaWxlIG5hbWU9XCJhcHAuanNcIj5cbiAqICAgICAgYW5ndWxhci5tb2R1bGUoJ2RvLWNoZWNrLW1vZHVsZScsIFtdKVxuICogICAgICAgIC5jb21wb25lbnQoJ3Rlc3QnLCB7XG4gKiAgICAgICAgICBiaW5kaW5nczogeyBpdGVtczogJzwnIH0sXG4gKiAgICAgICAgICB0ZW1wbGF0ZTpcbiAqICAgICAgICAgICAgJzxwcmU+e3sgJGN0cmwubG9nIHwganNvbiB9fTwvcHJlPicsXG4gKiAgICAgICAgICBjb250cm9sbGVyOiBmdW5jdGlvbigpIHtcbiAqICAgICAgICAgICAgdGhpcy5sb2cgPSBbXTtcbiAqXG4gKiAgICAgICAgICAgIHRoaXMuJGRvQ2hlY2sgPSBmdW5jdGlvbigpIHtcbiAqICAgICAgICAgICAgICBpZiAodGhpcy5pdGVtc19yZWYgIT09IHRoaXMuaXRlbXMpIHtcbiAqICAgICAgICAgICAgICAgIHRoaXMubG9nLnB1c2goJ2RvQ2hlY2s6IGl0ZW1zIGNoYW5nZWQnKTtcbiAqICAgICAgICAgICAgICAgIHRoaXMuaXRlbXNfcmVmID0gdGhpcy5pdGVtcztcbiAqICAgICAgICAgICAgICB9XG4gKiAgICAgICAgICAgICAgaWYgKCFhbmd1bGFyLmVxdWFscyh0aGlzLml0ZW1zX2Nsb25lLCB0aGlzLml0ZW1zKSkge1xuICogICAgICAgICAgICAgICAgdGhpcy5sb2cucHVzaCgnZG9DaGVjazogaXRlbXMgbXV0YXRlZCcpO1xuICogICAgICAgICAgICAgICAgdGhpcy5pdGVtc19jbG9uZSA9IGFuZ3VsYXIuY29weSh0aGlzLml0ZW1zKTtcbiAqICAgICAgICAgICAgICB9XG4gKiAgICAgICAgICAgIH07XG4gKiAgICAgICAgICB9XG4gKiAgICAgICAgfSk7XG4gKiAgIDwvZmlsZT5cbiAqIDwvZXhhbXBsZT5cbiAqXG4gKlxuICogIyMjIERpcmVjdGl2ZSBEZWZpbml0aW9uIE9iamVjdFxuICpcbiAqIFRoZSBkaXJlY3RpdmUgZGVmaW5pdGlvbiBvYmplY3QgcHJvdmlkZXMgaW5zdHJ1Y3Rpb25zIHRvIHRoZSB7QGxpbmsgbmcuJGNvbXBpbGVcbiAqIGNvbXBpbGVyfS4gVGhlIGF0dHJpYnV0ZXMgYXJlOlxuICpcbiAqICMjIyMgYG11bHRpRWxlbWVudGBcbiAqIFdoZW4gdGhpcyBwcm9wZXJ0eSBpcyBzZXQgdG8gdHJ1ZSAoZGVmYXVsdCBpcyBgZmFsc2VgKSwgdGhlIEhUTUwgY29tcGlsZXIgd2lsbCBjb2xsZWN0IERPTSBub2RlcyBiZXR3ZWVuXG4gKiBub2RlcyB3aXRoIHRoZSBhdHRyaWJ1dGVzIGBkaXJlY3RpdmUtbmFtZS1zdGFydGAgYW5kIGBkaXJlY3RpdmUtbmFtZS1lbmRgLCBhbmQgZ3JvdXAgdGhlbVxuICogdG9nZXRoZXIgYXMgdGhlIGRpcmVjdGl2ZSBlbGVtZW50cy4gSXQgaXMgcmVjb21tZW5kZWQgdGhhdCB0aGlzIGZlYXR1cmUgYmUgdXNlZCBvbiBkaXJlY3RpdmVzXG4gKiB3aGljaCBhcmUgbm90IHN0cmljdGx5IGJlaGF2aW9yYWwgKHN1Y2ggYXMge0BsaW5rIG5nQ2xpY2t9KSwgYW5kIHdoaWNoXG4gKiBkbyBub3QgbWFuaXB1bGF0ZSBvciByZXBsYWNlIGNoaWxkIG5vZGVzIChzdWNoIGFzIHtAbGluayBuZ0luY2x1ZGV9KS5cbiAqXG4gKiAjIyMjIGBwcmlvcml0eWBcbiAqIFdoZW4gdGhlcmUgYXJlIG11bHRpcGxlIGRpcmVjdGl2ZXMgZGVmaW5lZCBvbiBhIHNpbmdsZSBET00gZWxlbWVudCwgc29tZXRpbWVzIGl0XG4gKiBpcyBuZWNlc3NhcnkgdG8gc3BlY2lmeSB0aGUgb3JkZXIgaW4gd2hpY2ggdGhlIGRpcmVjdGl2ZXMgYXJlIGFwcGxpZWQuIFRoZSBgcHJpb3JpdHlgIGlzIHVzZWRcbiAqIHRvIHNvcnQgdGhlIGRpcmVjdGl2ZXMgYmVmb3JlIHRoZWlyIGBjb21waWxlYCBmdW5jdGlvbnMgZ2V0IGNhbGxlZC4gUHJpb3JpdHkgaXMgZGVmaW5lZCBhcyBhXG4gKiBudW1iZXIuIERpcmVjdGl2ZXMgd2l0aCBncmVhdGVyIG51bWVyaWNhbCBgcHJpb3JpdHlgIGFyZSBjb21waWxlZCBmaXJzdC4gUHJlLWxpbmsgZnVuY3Rpb25zXG4gKiBhcmUgYWxzbyBydW4gaW4gcHJpb3JpdHkgb3JkZXIsIGJ1dCBwb3N0LWxpbmsgZnVuY3Rpb25zIGFyZSBydW4gaW4gcmV2ZXJzZSBvcmRlci4gVGhlIG9yZGVyXG4gKiBvZiBkaXJlY3RpdmVzIHdpdGggdGhlIHNhbWUgcHJpb3JpdHkgaXMgdW5kZWZpbmVkLiBUaGUgZGVmYXVsdCBwcmlvcml0eSBpcyBgMGAuXG4gKlxuICogIyMjIyBgdGVybWluYWxgXG4gKiBJZiBzZXQgdG8gdHJ1ZSB0aGVuIHRoZSBjdXJyZW50IGBwcmlvcml0eWAgd2lsbCBiZSB0aGUgbGFzdCBzZXQgb2YgZGlyZWN0aXZlc1xuICogd2hpY2ggd2lsbCBleGVjdXRlIChhbnkgZGlyZWN0aXZlcyBhdCB0aGUgY3VycmVudCBwcmlvcml0eSB3aWxsIHN0aWxsIGV4ZWN1dGVcbiAqIGFzIHRoZSBvcmRlciBvZiBleGVjdXRpb24gb24gc2FtZSBgcHJpb3JpdHlgIGlzIHVuZGVmaW5lZCkuIE5vdGUgdGhhdCBleHByZXNzaW9uc1xuICogYW5kIG90aGVyIGRpcmVjdGl2ZXMgdXNlZCBpbiB0aGUgZGlyZWN0aXZlJ3MgdGVtcGxhdGUgd2lsbCBhbHNvIGJlIGV4Y2x1ZGVkIGZyb20gZXhlY3V0aW9uLlxuICpcbiAqICMjIyMgYHNjb3BlYFxuICogVGhlIHNjb3BlIHByb3BlcnR5IGNhbiBiZSBgZmFsc2VgLCBgdHJ1ZWAsIG9yIGFuIG9iamVjdDpcbiAqXG4gKiAqICoqYGZhbHNlYCAoZGVmYXVsdCk6KiogTm8gc2NvcGUgd2lsbCBiZSBjcmVhdGVkIGZvciB0aGUgZGlyZWN0aXZlLiBUaGUgZGlyZWN0aXZlIHdpbGwgdXNlIGl0c1xuICogcGFyZW50J3Mgc2NvcGUuXG4gKlxuICogKiAqKmB0cnVlYDoqKiBBIG5ldyBjaGlsZCBzY29wZSB0aGF0IHByb3RvdHlwaWNhbGx5IGluaGVyaXRzIGZyb20gaXRzIHBhcmVudCB3aWxsIGJlIGNyZWF0ZWQgZm9yXG4gKiB0aGUgZGlyZWN0aXZlJ3MgZWxlbWVudC4gSWYgbXVsdGlwbGUgZGlyZWN0aXZlcyBvbiB0aGUgc2FtZSBlbGVtZW50IHJlcXVlc3QgYSBuZXcgc2NvcGUsXG4gKiBvbmx5IG9uZSBuZXcgc2NvcGUgaXMgY3JlYXRlZC5cbiAqXG4gKiAqICoqYHsuLi59YCAoYW4gb2JqZWN0IGhhc2gpOioqIEEgbmV3IFwiaXNvbGF0ZVwiIHNjb3BlIGlzIGNyZWF0ZWQgZm9yIHRoZSBkaXJlY3RpdmUncyB0ZW1wbGF0ZS5cbiAqIFRoZSAnaXNvbGF0ZScgc2NvcGUgZGlmZmVycyBmcm9tIG5vcm1hbCBzY29wZSBpbiB0aGF0IGl0IGRvZXMgbm90IHByb3RvdHlwaWNhbGx5XG4gKiBpbmhlcml0IGZyb20gaXRzIHBhcmVudCBzY29wZS4gVGhpcyBpcyB1c2VmdWwgd2hlbiBjcmVhdGluZyByZXVzYWJsZSBjb21wb25lbnRzLCB3aGljaCBzaG91bGQgbm90XG4gKiBhY2NpZGVudGFsbHkgcmVhZCBvciBtb2RpZnkgZGF0YSBpbiB0aGUgcGFyZW50IHNjb3BlLiBOb3RlIHRoYXQgYW4gaXNvbGF0ZSBzY29wZVxuICogZGlyZWN0aXZlIHdpdGhvdXQgYSBgdGVtcGxhdGVgIG9yIGB0ZW1wbGF0ZVVybGAgd2lsbCBub3QgYXBwbHkgdGhlIGlzb2xhdGUgc2NvcGVcbiAqIHRvIGl0cyBjaGlsZHJlbiBlbGVtZW50cy5cbiAqXG4gKiBUaGUgJ2lzb2xhdGUnIHNjb3BlIG9iamVjdCBoYXNoIGRlZmluZXMgYSBzZXQgb2YgbG9jYWwgc2NvcGUgcHJvcGVydGllcyBkZXJpdmVkIGZyb20gYXR0cmlidXRlcyBvbiB0aGVcbiAqIGRpcmVjdGl2ZSdzIGVsZW1lbnQuIFRoZXNlIGxvY2FsIHByb3BlcnRpZXMgYXJlIHVzZWZ1bCBmb3IgYWxpYXNpbmcgdmFsdWVzIGZvciB0ZW1wbGF0ZXMuIFRoZSBrZXlzIGluXG4gKiB0aGUgb2JqZWN0IGhhc2ggbWFwIHRvIHRoZSBuYW1lIG9mIHRoZSBwcm9wZXJ0eSBvbiB0aGUgaXNvbGF0ZSBzY29wZTsgdGhlIHZhbHVlcyBkZWZpbmUgaG93IHRoZSBwcm9wZXJ0eVxuICogaXMgYm91bmQgdG8gdGhlIHBhcmVudCBzY29wZSwgdmlhIG1hdGNoaW5nIGF0dHJpYnV0ZXMgb24gdGhlIGRpcmVjdGl2ZSdzIGVsZW1lbnQ6XG4gKlxuICogKiBgQGAgb3IgYEBhdHRyYCAtIGJpbmQgYSBsb2NhbCBzY29wZSBwcm9wZXJ0eSB0byB0aGUgdmFsdWUgb2YgRE9NIGF0dHJpYnV0ZS4gVGhlIHJlc3VsdCBpc1xuICogICBhbHdheXMgYSBzdHJpbmcgc2luY2UgRE9NIGF0dHJpYnV0ZXMgYXJlIHN0cmluZ3MuIElmIG5vIGBhdHRyYCBuYW1lIGlzIHNwZWNpZmllZCB0aGVuIHRoZVxuICogICBhdHRyaWJ1dGUgbmFtZSBpcyBhc3N1bWVkIHRvIGJlIHRoZSBzYW1lIGFzIHRoZSBsb2NhbCBuYW1lLiBHaXZlbiBgPG15LWNvbXBvbmVudFxuICogICBteS1hdHRyPVwiaGVsbG8ge3tuYW1lfX1cIj5gIGFuZCB0aGUgaXNvbGF0ZSBzY29wZSBkZWZpbml0aW9uIGBzY29wZTogeyBsb2NhbE5hbWU6J0BteUF0dHInIH1gLFxuICogICB0aGUgZGlyZWN0aXZlJ3Mgc2NvcGUgcHJvcGVydHkgYGxvY2FsTmFtZWAgd2lsbCByZWZsZWN0IHRoZSBpbnRlcnBvbGF0ZWQgdmFsdWUgb2YgYGhlbGxvXG4gKiAgIHt7bmFtZX19YC4gQXMgdGhlIGBuYW1lYCBhdHRyaWJ1dGUgY2hhbmdlcyBzbyB3aWxsIHRoZSBgbG9jYWxOYW1lYCBwcm9wZXJ0eSBvbiB0aGUgZGlyZWN0aXZlJ3NcbiAqICAgc2NvcGUuIFRoZSBgbmFtZWAgaXMgcmVhZCBmcm9tIHRoZSBwYXJlbnQgc2NvcGUgKG5vdCB0aGUgZGlyZWN0aXZlJ3Mgc2NvcGUpLlxuICpcbiAqICogYD1gIG9yIGA9YXR0cmAgLSBzZXQgdXAgYSBiaWRpcmVjdGlvbmFsIGJpbmRpbmcgYmV0d2VlbiBhIGxvY2FsIHNjb3BlIHByb3BlcnR5IGFuZCBhbiBleHByZXNzaW9uXG4gKiAgIHBhc3NlZCB2aWEgdGhlIGF0dHJpYnV0ZSBgYXR0cmAuIFRoZSBleHByZXNzaW9uIGlzIGV2YWx1YXRlZCBpbiB0aGUgY29udGV4dCBvZiB0aGUgcGFyZW50IHNjb3BlLlxuICogICBJZiBubyBgYXR0cmAgbmFtZSBpcyBzcGVjaWZpZWQgdGhlbiB0aGUgYXR0cmlidXRlIG5hbWUgaXMgYXNzdW1lZCB0byBiZSB0aGUgc2FtZSBhcyB0aGUgbG9jYWxcbiAqICAgbmFtZS4gR2l2ZW4gYDxteS1jb21wb25lbnQgbXktYXR0cj1cInBhcmVudE1vZGVsXCI+YCBhbmQgdGhlIGlzb2xhdGUgc2NvcGUgZGVmaW5pdGlvbiBgc2NvcGU6IHtcbiAqICAgbG9jYWxNb2RlbDogJz1teUF0dHInIH1gLCB0aGUgcHJvcGVydHkgYGxvY2FsTW9kZWxgIG9uIHRoZSBkaXJlY3RpdmUncyBzY29wZSB3aWxsIHJlZmxlY3QgdGhlXG4gKiAgIHZhbHVlIG9mIGBwYXJlbnRNb2RlbGAgb24gdGhlIHBhcmVudCBzY29wZS4gQ2hhbmdlcyB0byBgcGFyZW50TW9kZWxgIHdpbGwgYmUgcmVmbGVjdGVkIGluXG4gKiAgIGBsb2NhbE1vZGVsYCBhbmQgdmljZSB2ZXJzYS4gT3B0aW9uYWwgYXR0cmlidXRlcyBzaG91bGQgYmUgbWFya2VkIGFzIHN1Y2ggd2l0aCBhIHF1ZXN0aW9uIG1hcms6XG4gKiAgIGA9P2Agb3IgYD0/YXR0cmAuIElmIHRoZSBiaW5kaW5nIGV4cHJlc3Npb24gaXMgbm9uLWFzc2lnbmFibGUsIG9yIGlmIHRoZSBhdHRyaWJ1dGUgaXNuJ3RcbiAqICAgb3B0aW9uYWwgYW5kIGRvZXNuJ3QgZXhpc3QsIGFuIGV4Y2VwdGlvbiAoe0BsaW5rIGVycm9yLyRjb21waWxlL25vbmFzc2lnbiBgJGNvbXBpbGU6bm9uYXNzaWduYH0pXG4gKiAgIHdpbGwgYmUgdGhyb3duIHVwb24gZGlzY292ZXJpbmcgY2hhbmdlcyB0byB0aGUgbG9jYWwgdmFsdWUsIHNpbmNlIGl0IHdpbGwgYmUgaW1wb3NzaWJsZSB0byBzeW5jXG4gKiAgIHRoZW0gYmFjayB0byB0aGUgcGFyZW50IHNjb3BlLiBCeSBkZWZhdWx0LCB0aGUge0BsaW5rIG5nLiRyb290U2NvcGUuU2NvcGUjJHdhdGNoIGAkd2F0Y2hgfVxuICogICBtZXRob2QgaXMgdXNlZCBmb3IgdHJhY2tpbmcgY2hhbmdlcywgYW5kIHRoZSBlcXVhbGl0eSBjaGVjayBpcyBiYXNlZCBvbiBvYmplY3QgaWRlbnRpdHkuXG4gKiAgIEhvd2V2ZXIsIGlmIGFuIG9iamVjdCBsaXRlcmFsIG9yIGFuIGFycmF5IGxpdGVyYWwgaXMgcGFzc2VkIGFzIHRoZSBiaW5kaW5nIGV4cHJlc3Npb24sIHRoZVxuICogICBlcXVhbGl0eSBjaGVjayBpcyBkb25lIGJ5IHZhbHVlICh1c2luZyB0aGUge0BsaW5rIGFuZ3VsYXIuZXF1YWxzfSBmdW5jdGlvbikuIEl0J3MgYWxzbyBwb3NzaWJsZVxuICogICB0byB3YXRjaCB0aGUgZXZhbHVhdGVkIHZhbHVlIHNoYWxsb3dseSB3aXRoIHtAbGluayBuZy4kcm9vdFNjb3BlLlNjb3BlIyR3YXRjaENvbGxlY3Rpb25cbiAqICAgYCR3YXRjaENvbGxlY3Rpb25gfTogdXNlIGA9KmAgb3IgYD0qYXR0cmAgKGA9Kj9gIG9yIGA9Kj9hdHRyYCBpZiB0aGUgYXR0cmlidXRlIGlzIG9wdGlvbmFsKS5cbiAqXG4gICogKiBgPGAgb3IgYDxhdHRyYCAtIHNldCB1cCBhIG9uZS13YXkgKG9uZS1kaXJlY3Rpb25hbCkgYmluZGluZyBiZXR3ZWVuIGEgbG9jYWwgc2NvcGUgcHJvcGVydHkgYW5kIGFuXG4gKiAgIGV4cHJlc3Npb24gcGFzc2VkIHZpYSB0aGUgYXR0cmlidXRlIGBhdHRyYC4gVGhlIGV4cHJlc3Npb24gaXMgZXZhbHVhdGVkIGluIHRoZSBjb250ZXh0IG9mIHRoZVxuICogICBwYXJlbnQgc2NvcGUuIElmIG5vIGBhdHRyYCBuYW1lIGlzIHNwZWNpZmllZCB0aGVuIHRoZSBhdHRyaWJ1dGUgbmFtZSBpcyBhc3N1bWVkIHRvIGJlIHRoZSBzYW1lIGFzIHRoZVxuICogICBsb2NhbCBuYW1lLiBZb3UgY2FuIGFsc28gbWFrZSB0aGUgYmluZGluZyBvcHRpb25hbCBieSBhZGRpbmcgYD9gOiBgPD9gIG9yIGA8P2F0dHJgLlxuICpcbiAqICAgRm9yIGV4YW1wbGUsIGdpdmVuIGA8bXktY29tcG9uZW50IG15LWF0dHI9XCJwYXJlbnRNb2RlbFwiPmAgYW5kIGRpcmVjdGl2ZSBkZWZpbml0aW9uIG9mXG4gKiAgIGBzY29wZTogeyBsb2NhbE1vZGVsOic8bXlBdHRyJyB9YCwgdGhlbiB0aGUgaXNvbGF0ZWQgc2NvcGUgcHJvcGVydHkgYGxvY2FsTW9kZWxgIHdpbGwgcmVmbGVjdCB0aGVcbiAqICAgdmFsdWUgb2YgYHBhcmVudE1vZGVsYCBvbiB0aGUgcGFyZW50IHNjb3BlLiBBbnkgY2hhbmdlcyB0byBgcGFyZW50TW9kZWxgIHdpbGwgYmUgcmVmbGVjdGVkXG4gKiAgIGluIGBsb2NhbE1vZGVsYCwgYnV0IGNoYW5nZXMgaW4gYGxvY2FsTW9kZWxgIHdpbGwgbm90IHJlZmxlY3QgaW4gYHBhcmVudE1vZGVsYC4gVGhlcmUgYXJlIGhvd2V2ZXJcbiAqICAgdHdvIGNhdmVhdHM6XG4gKiAgICAgMS4gb25lLXdheSBiaW5kaW5nIGRvZXMgbm90IGNvcHkgdGhlIHZhbHVlIGZyb20gdGhlIHBhcmVudCB0byB0aGUgaXNvbGF0ZSBzY29wZSwgaXQgc2ltcGx5XG4gKiAgICAgc2V0cyB0aGUgc2FtZSB2YWx1ZS4gVGhhdCBtZWFucyBpZiB5b3VyIGJvdW5kIHZhbHVlIGlzIGFuIG9iamVjdCwgY2hhbmdlcyB0byBpdHMgcHJvcGVydGllc1xuICogICAgIGluIHRoZSBpc29sYXRlZCBzY29wZSB3aWxsIGJlIHJlZmxlY3RlZCBpbiB0aGUgcGFyZW50IHNjb3BlIChiZWNhdXNlIGJvdGggcmVmZXJlbmNlIHRoZSBzYW1lIG9iamVjdCkuXG4gKiAgICAgMi4gb25lLXdheSBiaW5kaW5nIHdhdGNoZXMgY2hhbmdlcyB0byB0aGUgKippZGVudGl0eSoqIG9mIHRoZSBwYXJlbnQgdmFsdWUuIFRoYXQgbWVhbnMgdGhlXG4gKiAgICAge0BsaW5rIG5nLiRyb290U2NvcGUuU2NvcGUjJHdhdGNoIGAkd2F0Y2hgfSBvbiB0aGUgcGFyZW50IHZhbHVlIG9ubHkgZmlyZXMgaWYgdGhlIHJlZmVyZW5jZVxuICogICAgIHRvIHRoZSB2YWx1ZSBoYXMgY2hhbmdlZC4gSW4gbW9zdCBjYXNlcywgdGhpcyBzaG91bGQgbm90IGJlIG9mIGNvbmNlcm4sIGJ1dCBjYW4gYmUgaW1wb3J0YW50XG4gKiAgICAgdG8ga25vdyBpZiB5b3Ugb25lLXdheSBiaW5kIHRvIGFuIG9iamVjdCwgYW5kIHRoZW4gcmVwbGFjZSB0aGF0IG9iamVjdCBpbiB0aGUgaXNvbGF0ZWQgc2NvcGUuXG4gKiAgICAgSWYgeW91IG5vdyBjaGFuZ2UgYSBwcm9wZXJ0eSBvZiB0aGUgb2JqZWN0IGluIHlvdXIgcGFyZW50IHNjb3BlLCB0aGUgY2hhbmdlIHdpbGwgbm90IGJlXG4gKiAgICAgcHJvcGFnYXRlZCB0byB0aGUgaXNvbGF0ZWQgc2NvcGUsIGJlY2F1c2UgdGhlIGlkZW50aXR5IG9mIHRoZSBvYmplY3Qgb24gdGhlIHBhcmVudCBzY29wZVxuICogICAgIGhhcyBub3QgY2hhbmdlZC4gSW5zdGVhZCB5b3UgbXVzdCBhc3NpZ24gYSBuZXcgb2JqZWN0LlxuICpcbiAqICAgT25lLXdheSBiaW5kaW5nIGlzIHVzZWZ1bCBpZiB5b3UgZG8gbm90IHBsYW4gdG8gcHJvcGFnYXRlIGNoYW5nZXMgdG8geW91ciBpc29sYXRlZCBzY29wZSBiaW5kaW5nc1xuICogICBiYWNrIHRvIHRoZSBwYXJlbnQuIEhvd2V2ZXIsIGl0IGRvZXMgbm90IG1ha2UgdGhpcyBjb21wbGV0ZWx5IGltcG9zc2libGUuXG4gKlxuICogKiBgJmAgb3IgYCZhdHRyYCAtIHByb3ZpZGVzIGEgd2F5IHRvIGV4ZWN1dGUgYW4gZXhwcmVzc2lvbiBpbiB0aGUgY29udGV4dCBvZiB0aGUgcGFyZW50IHNjb3BlLiBJZlxuICogICBubyBgYXR0cmAgbmFtZSBpcyBzcGVjaWZpZWQgdGhlbiB0aGUgYXR0cmlidXRlIG5hbWUgaXMgYXNzdW1lZCB0byBiZSB0aGUgc2FtZSBhcyB0aGUgbG9jYWwgbmFtZS5cbiAqICAgR2l2ZW4gYDxteS1jb21wb25lbnQgbXktYXR0cj1cImNvdW50ID0gY291bnQgKyB2YWx1ZVwiPmAgYW5kIHRoZSBpc29sYXRlIHNjb3BlIGRlZmluaXRpb24gYHNjb3BlOiB7XG4gKiAgIGxvY2FsRm46JyZteUF0dHInIH1gLCB0aGUgaXNvbGF0ZSBzY29wZSBwcm9wZXJ0eSBgbG9jYWxGbmAgd2lsbCBwb2ludCB0byBhIGZ1bmN0aW9uIHdyYXBwZXIgZm9yXG4gKiAgIHRoZSBgY291bnQgPSBjb3VudCArIHZhbHVlYCBleHByZXNzaW9uLiBPZnRlbiBpdCdzIGRlc2lyYWJsZSB0byBwYXNzIGRhdGEgZnJvbSB0aGUgaXNvbGF0ZWQgc2NvcGVcbiAqICAgdmlhIGFuIGV4cHJlc3Npb24gdG8gdGhlIHBhcmVudCBzY29wZS4gVGhpcyBjYW4gYmUgZG9uZSBieSBwYXNzaW5nIGEgbWFwIG9mIGxvY2FsIHZhcmlhYmxlIG5hbWVzXG4gKiAgIGFuZCB2YWx1ZXMgaW50byB0aGUgZXhwcmVzc2lvbiB3cmFwcGVyIGZuLiBGb3IgZXhhbXBsZSwgaWYgdGhlIGV4cHJlc3Npb24gaXMgYGluY3JlbWVudChhbW91bnQpYFxuICogICB0aGVuIHdlIGNhbiBzcGVjaWZ5IHRoZSBhbW91bnQgdmFsdWUgYnkgY2FsbGluZyB0aGUgYGxvY2FsRm5gIGFzIGBsb2NhbEZuKHthbW91bnQ6IDIyfSlgLlxuICpcbiAqIEluIGdlbmVyYWwgaXQncyBwb3NzaWJsZSB0byBhcHBseSBtb3JlIHRoYW4gb25lIGRpcmVjdGl2ZSB0byBvbmUgZWxlbWVudCwgYnV0IHRoZXJlIG1pZ2h0IGJlIGxpbWl0YXRpb25zXG4gKiBkZXBlbmRpbmcgb24gdGhlIHR5cGUgb2Ygc2NvcGUgcmVxdWlyZWQgYnkgdGhlIGRpcmVjdGl2ZXMuIFRoZSBmb2xsb3dpbmcgcG9pbnRzIHdpbGwgaGVscCBleHBsYWluIHRoZXNlIGxpbWl0YXRpb25zLlxuICogRm9yIHNpbXBsaWNpdHkgb25seSB0d28gZGlyZWN0aXZlcyBhcmUgdGFrZW4gaW50byBhY2NvdW50LCBidXQgaXQgaXMgYWxzbyBhcHBsaWNhYmxlIGZvciBzZXZlcmFsIGRpcmVjdGl2ZXM6XG4gKlxuICogKiAqKm5vIHNjb3BlKiogKyAqKm5vIHNjb3BlKiogPT4gVHdvIGRpcmVjdGl2ZXMgd2hpY2ggZG9uJ3QgcmVxdWlyZSB0aGVpciBvd24gc2NvcGUgd2lsbCB1c2UgdGhlaXIgcGFyZW50J3Mgc2NvcGVcbiAqICogKipjaGlsZCBzY29wZSoqICsgKipubyBzY29wZSoqID0+ICBCb3RoIGRpcmVjdGl2ZXMgd2lsbCBzaGFyZSBvbmUgc2luZ2xlIGNoaWxkIHNjb3BlXG4gKiAqICoqY2hpbGQgc2NvcGUqKiArICoqY2hpbGQgc2NvcGUqKiA9PiAgQm90aCBkaXJlY3RpdmVzIHdpbGwgc2hhcmUgb25lIHNpbmdsZSBjaGlsZCBzY29wZVxuICogKiAqKmlzb2xhdGVkIHNjb3BlKiogKyAqKm5vIHNjb3BlKiogPT4gIFRoZSBpc29sYXRlZCBkaXJlY3RpdmUgd2lsbCB1c2UgaXQncyBvd24gY3JlYXRlZCBpc29sYXRlZCBzY29wZS4gVGhlIG90aGVyIGRpcmVjdGl2ZSB3aWxsIHVzZVxuICogaXRzIHBhcmVudCdzIHNjb3BlXG4gKiAqICoqaXNvbGF0ZWQgc2NvcGUqKiArICoqY2hpbGQgc2NvcGUqKiA9PiAgKipXb24ndCB3b3JrISoqIE9ubHkgb25lIHNjb3BlIGNhbiBiZSByZWxhdGVkIHRvIG9uZSBlbGVtZW50LiBUaGVyZWZvcmUgdGhlc2UgZGlyZWN0aXZlcyBjYW5ub3RcbiAqIGJlIGFwcGxpZWQgdG8gdGhlIHNhbWUgZWxlbWVudC5cbiAqICogKippc29sYXRlZCBzY29wZSoqICsgKippc29sYXRlZCBzY29wZSoqICA9PiAgKipXb24ndCB3b3JrISoqIE9ubHkgb25lIHNjb3BlIGNhbiBiZSByZWxhdGVkIHRvIG9uZSBlbGVtZW50LiBUaGVyZWZvcmUgdGhlc2UgZGlyZWN0aXZlc1xuICogY2Fubm90IGJlIGFwcGxpZWQgdG8gdGhlIHNhbWUgZWxlbWVudC5cbiAqXG4gKlxuICogIyMjIyBgYmluZFRvQ29udHJvbGxlcmBcbiAqIFRoaXMgcHJvcGVydHkgaXMgdXNlZCB0byBiaW5kIHNjb3BlIHByb3BlcnRpZXMgZGlyZWN0bHkgdG8gdGhlIGNvbnRyb2xsZXIuIEl0IGNhbiBiZSBlaXRoZXJcbiAqIGB0cnVlYCBvciBhbiBvYmplY3QgaGFzaCB3aXRoIHRoZSBzYW1lIGZvcm1hdCBhcyB0aGUgYHNjb3BlYCBwcm9wZXJ0eS5cbiAqXG4gKiBXaGVuIGFuIGlzb2xhdGUgc2NvcGUgaXMgdXNlZCBmb3IgYSBkaXJlY3RpdmUgKHNlZSBhYm92ZSksIGBiaW5kVG9Db250cm9sbGVyOiB0cnVlYCB3aWxsXG4gKiBhbGxvdyBhIGNvbXBvbmVudCB0byBoYXZlIGl0cyBwcm9wZXJ0aWVzIGJvdW5kIHRvIHRoZSBjb250cm9sbGVyLCByYXRoZXIgdGhhbiB0byBzY29wZS5cbiAqXG4gKiBBZnRlciB0aGUgY29udHJvbGxlciBpcyBpbnN0YW50aWF0ZWQsIHRoZSBpbml0aWFsIHZhbHVlcyBvZiB0aGUgaXNvbGF0ZSBzY29wZSBiaW5kaW5ncyB3aWxsIGJlIGJvdW5kIHRvIHRoZSBjb250cm9sbGVyXG4gKiBwcm9wZXJ0aWVzLiBZb3UgY2FuIGFjY2VzcyB0aGVzZSBiaW5kaW5ncyBvbmNlIHRoZXkgaGF2ZSBiZWVuIGluaXRpYWxpemVkIGJ5IHByb3ZpZGluZyBhIGNvbnRyb2xsZXIgbWV0aG9kIGNhbGxlZFxuICogYCRvbkluaXRgLCB3aGljaCBpcyBjYWxsZWQgYWZ0ZXIgYWxsIHRoZSBjb250cm9sbGVycyBvbiBhbiBlbGVtZW50IGhhdmUgYmVlbiBjb25zdHJ1Y3RlZCBhbmQgaGFkIHRoZWlyIGJpbmRpbmdzXG4gKiBpbml0aWFsaXplZC5cbiAqXG4gKiA8ZGl2IGNsYXNzPVwiYWxlcnQgYWxlcnQtd2FybmluZ1wiPlxuICogKipEZXByZWNhdGlvbiB3YXJuaW5nOioqIGlmIGAkY29tcGlsZVByb2N2aWRlci5wcmVBc3NpZ25CaW5kaW5nc0VuYWJsZWQodHJ1ZSlgIHdhcyBjYWxsZWQsIGJpbmRpbmdzIGZvciBub24tRVM2IGNsYXNzXG4gKiBjb250cm9sbGVycyBhcmUgYm91bmQgdG8gYHRoaXNgIGJlZm9yZSB0aGUgY29udHJvbGxlciBjb25zdHJ1Y3RvciBpcyBjYWxsZWQgYnV0IHRoaXMgdXNlIGlzIG5vdyBkZXByZWNhdGVkLiBQbGVhc2VcbiAqIHBsYWNlIGluaXRpYWxpemF0aW9uIGNvZGUgdGhhdCByZWxpZXMgdXBvbiBiaW5kaW5ncyBpbnNpZGUgYSBgJG9uSW5pdGAgbWV0aG9kIG9uIHRoZSBjb250cm9sbGVyLCBpbnN0ZWFkLlxuICogPC9kaXY+XG4gKlxuICogSXQgaXMgYWxzbyBwb3NzaWJsZSB0byBzZXQgYGJpbmRUb0NvbnRyb2xsZXJgIHRvIGFuIG9iamVjdCBoYXNoIHdpdGggdGhlIHNhbWUgZm9ybWF0IGFzIHRoZSBgc2NvcGVgIHByb3BlcnR5LlxuICogVGhpcyB3aWxsIHNldCB1cCB0aGUgc2NvcGUgYmluZGluZ3MgdG8gdGhlIGNvbnRyb2xsZXIgZGlyZWN0bHkuIE5vdGUgdGhhdCBgc2NvcGVgIGNhbiBzdGlsbCBiZSB1c2VkXG4gKiB0byBkZWZpbmUgd2hpY2gga2luZCBvZiBzY29wZSBpcyBjcmVhdGVkLiBCeSBkZWZhdWx0LCBubyBzY29wZSBpcyBjcmVhdGVkLiBVc2UgYHNjb3BlOiB7fWAgdG8gY3JlYXRlIGFuIGlzb2xhdGVcbiAqIHNjb3BlICh1c2VmdWwgZm9yIGNvbXBvbmVudCBkaXJlY3RpdmVzKS5cbiAqXG4gKiBJZiBib3RoIGBiaW5kVG9Db250cm9sbGVyYCBhbmQgYHNjb3BlYCBhcmUgZGVmaW5lZCBhbmQgaGF2ZSBvYmplY3QgaGFzaGVzLCBgYmluZFRvQ29udHJvbGxlcmAgb3ZlcnJpZGVzIGBzY29wZWAuXG4gKlxuICpcbiAqICMjIyMgYGNvbnRyb2xsZXJgXG4gKiBDb250cm9sbGVyIGNvbnN0cnVjdG9yIGZ1bmN0aW9uLiBUaGUgY29udHJvbGxlciBpcyBpbnN0YW50aWF0ZWQgYmVmb3JlIHRoZVxuICogcHJlLWxpbmtpbmcgcGhhc2UgYW5kIGNhbiBiZSBhY2Nlc3NlZCBieSBvdGhlciBkaXJlY3RpdmVzIChzZWVcbiAqIGByZXF1aXJlYCBhdHRyaWJ1dGUpLiBUaGlzIGFsbG93cyB0aGUgZGlyZWN0aXZlcyB0byBjb21tdW5pY2F0ZSB3aXRoIGVhY2ggb3RoZXIgYW5kIGF1Z21lbnRcbiAqIGVhY2ggb3RoZXIncyBiZWhhdmlvci4gVGhlIGNvbnRyb2xsZXIgaXMgaW5qZWN0YWJsZSAoYW5kIHN1cHBvcnRzIGJyYWNrZXQgbm90YXRpb24pIHdpdGggdGhlIGZvbGxvd2luZyBsb2NhbHM6XG4gKlxuICogKiBgJHNjb3BlYCAtIEN1cnJlbnQgc2NvcGUgYXNzb2NpYXRlZCB3aXRoIHRoZSBlbGVtZW50XG4gKiAqIGAkZWxlbWVudGAgLSBDdXJyZW50IGVsZW1lbnRcbiAqICogYCRhdHRyc2AgLSBDdXJyZW50IGF0dHJpYnV0ZXMgb2JqZWN0IGZvciB0aGUgZWxlbWVudFxuICogKiBgJHRyYW5zY2x1ZGVgIC0gQSB0cmFuc2NsdWRlIGxpbmtpbmcgZnVuY3Rpb24gcHJlLWJvdW5kIHRvIHRoZSBjb3JyZWN0IHRyYW5zY2x1c2lvbiBzY29wZTpcbiAqICAgYGZ1bmN0aW9uKFtzY29wZV0sIGNsb25lTGlua2luZ0ZuLCBmdXR1cmVQYXJlbnRFbGVtZW50LCBzbG90TmFtZSlgOlxuICogICAgKiBgc2NvcGVgOiAob3B0aW9uYWwpIG92ZXJyaWRlIHRoZSBzY29wZS5cbiAqICAgICogYGNsb25lTGlua2luZ0ZuYDogKG9wdGlvbmFsKSBhcmd1bWVudCB0byBjcmVhdGUgY2xvbmVzIG9mIHRoZSBvcmlnaW5hbCB0cmFuc2NsdWRlZCBjb250ZW50LlxuICogICAgKiBgZnV0dXJlUGFyZW50RWxlbWVudGAgKG9wdGlvbmFsKTpcbiAqICAgICAgICAqIGRlZmluZXMgdGhlIHBhcmVudCB0byB3aGljaCB0aGUgYGNsb25lTGlua2luZ0ZuYCB3aWxsIGFkZCB0aGUgY2xvbmVkIGVsZW1lbnRzLlxuICogICAgICAgICogZGVmYXVsdDogYCRlbGVtZW50LnBhcmVudCgpYCByZXNwLiBgJGVsZW1lbnRgIGZvciBgdHJhbnNjbHVkZTonZWxlbWVudCdgIHJlc3AuIGB0cmFuc2NsdWRlOnRydWVgLlxuICogICAgICAgICogb25seSBuZWVkZWQgZm9yIHRyYW5zY2x1ZGVzIHRoYXQgYXJlIGFsbG93ZWQgdG8gY29udGFpbiBub24gaHRtbCBlbGVtZW50cyAoZS5nLiBTVkcgZWxlbWVudHMpXG4gKiAgICAgICAgICBhbmQgd2hlbiB0aGUgYGNsb25lTGlua2luZ0ZuYCBpcyBwYXNzZWQsXG4gKiAgICAgICAgICBhcyB0aG9zZSBlbGVtZW50cyBuZWVkIHRvIGNyZWF0ZWQgYW5kIGNsb25lZCBpbiBhIHNwZWNpYWwgd2F5IHdoZW4gdGhleSBhcmUgZGVmaW5lZCBvdXRzaWRlIHRoZWlyXG4gKiAgICAgICAgICB1c3VhbCBjb250YWluZXJzIChlLmcuIGxpa2UgYDxzdmc+YCkuXG4gKiAgICAgICAgKiBTZWUgYWxzbyB0aGUgYGRpcmVjdGl2ZS50ZW1wbGF0ZU5hbWVzcGFjZWAgcHJvcGVydHkuXG4gKiAgICAqIGBzbG90TmFtZWA6IChvcHRpb25hbCkgdGhlIG5hbWUgb2YgdGhlIHNsb3QgdG8gdHJhbnNjbHVkZS4gSWYgZmFsc3kgKGUuZy4gYG51bGxgLCBgdW5kZWZpbmVkYCBvciBgJydgKVxuICogICAgICB0aGVuIHRoZSBkZWZhdWx0IHRyYW5zY2x1c2lvbiBpcyBwcm92aWRlZC5cbiAqICAgIFRoZSBgJHRyYW5zY2x1ZGVgIGZ1bmN0aW9uIGFsc28gaGFzIGEgbWV0aG9kIG9uIGl0LCBgJHRyYW5zY2x1ZGUuaXNTbG90RmlsbGVkKHNsb3ROYW1lKWAsIHdoaWNoIHJldHVybnNcbiAqICAgIGB0cnVlYCBpZiB0aGUgc3BlY2lmaWVkIHNsb3QgY29udGFpbnMgY29udGVudCAoaS5lLiBvbmUgb3IgbW9yZSBET00gbm9kZXMpLlxuICpcbiAqICMjIyMgYHJlcXVpcmVgXG4gKiBSZXF1aXJlIGFub3RoZXIgZGlyZWN0aXZlIGFuZCBpbmplY3QgaXRzIGNvbnRyb2xsZXIgYXMgdGhlIGZvdXJ0aCBhcmd1bWVudCB0byB0aGUgbGlua2luZyBmdW5jdGlvbi4gVGhlXG4gKiBgcmVxdWlyZWAgcHJvcGVydHkgY2FuIGJlIGEgc3RyaW5nLCBhbiBhcnJheSBvciBhbiBvYmplY3Q6XG4gKiAqIGEgKipzdHJpbmcqKiBjb250YWluaW5nIHRoZSBuYW1lIG9mIHRoZSBkaXJlY3RpdmUgdG8gcGFzcyB0byB0aGUgbGlua2luZyBmdW5jdGlvblxuICogKiBhbiAqKmFycmF5KiogY29udGFpbmluZyB0aGUgbmFtZXMgb2YgZGlyZWN0aXZlcyB0byBwYXNzIHRvIHRoZSBsaW5raW5nIGZ1bmN0aW9uLiBUaGUgYXJndW1lbnQgcGFzc2VkIHRvIHRoZVxuICogbGlua2luZyBmdW5jdGlvbiB3aWxsIGJlIGFuIGFycmF5IG9mIGNvbnRyb2xsZXJzIGluIHRoZSBzYW1lIG9yZGVyIGFzIHRoZSBuYW1lcyBpbiB0aGUgYHJlcXVpcmVgIHByb3BlcnR5XG4gKiAqIGFuICoqb2JqZWN0Kiogd2hvc2UgcHJvcGVydHkgdmFsdWVzIGFyZSB0aGUgbmFtZXMgb2YgdGhlIGRpcmVjdGl2ZXMgdG8gcGFzcyB0byB0aGUgbGlua2luZyBmdW5jdGlvbi4gVGhlIGFyZ3VtZW50XG4gKiBwYXNzZWQgdG8gdGhlIGxpbmtpbmcgZnVuY3Rpb24gd2lsbCBhbHNvIGJlIGFuIG9iamVjdCB3aXRoIG1hdGNoaW5nIGtleXMsIHdob3NlIHZhbHVlcyB3aWxsIGhvbGQgdGhlIGNvcnJlc3BvbmRpbmdcbiAqIGNvbnRyb2xsZXJzLlxuICpcbiAqIElmIHRoZSBgcmVxdWlyZWAgcHJvcGVydHkgaXMgYW4gb2JqZWN0IGFuZCBgYmluZFRvQ29udHJvbGxlcmAgaXMgdHJ1dGh5LCB0aGVuIHRoZSByZXF1aXJlZCBjb250cm9sbGVycyBhcmVcbiAqIGJvdW5kIHRvIHRoZSBjb250cm9sbGVyIHVzaW5nIHRoZSBrZXlzIG9mIHRoZSBgcmVxdWlyZWAgcHJvcGVydHkuIFRoaXMgYmluZGluZyBvY2N1cnMgYWZ0ZXIgYWxsIHRoZSBjb250cm9sbGVyc1xuICogaGF2ZSBiZWVuIGNvbnN0cnVjdGVkIGJ1dCBiZWZvcmUgYCRvbkluaXRgIGlzIGNhbGxlZC5cbiAqIElmIHRoZSBuYW1lIG9mIHRoZSByZXF1aXJlZCBjb250cm9sbGVyIGlzIHRoZSBzYW1lIGFzIHRoZSBsb2NhbCBuYW1lICh0aGUga2V5KSwgdGhlIG5hbWUgY2FuIGJlXG4gKiBvbWl0dGVkLiBGb3IgZXhhbXBsZSwgYHtwYXJlbnREaXI6ICdeXid9YCBpcyBlcXVpdmFsZW50IHRvIGB7cGFyZW50RGlyOiAnXl5wYXJlbnREaXInfWAuXG4gKiBTZWUgdGhlIHtAbGluayAkY29tcGlsZVByb3ZpZGVyI2NvbXBvbmVudH0gaGVscGVyIGZvciBhbiBleGFtcGxlIG9mIGhvdyB0aGlzIGNhbiBiZSB1c2VkLlxuICogSWYgbm8gc3VjaCByZXF1aXJlZCBkaXJlY3RpdmUocykgY2FuIGJlIGZvdW5kLCBvciBpZiB0aGUgZGlyZWN0aXZlIGRvZXMgbm90IGhhdmUgYSBjb250cm9sbGVyLCB0aGVuIGFuIGVycm9yIGlzXG4gKiByYWlzZWQgKHVubGVzcyBubyBsaW5rIGZ1bmN0aW9uIGlzIHNwZWNpZmllZCBhbmQgdGhlIHJlcXVpcmVkIGNvbnRyb2xsZXJzIGFyZSBub3QgYmVpbmcgYm91bmQgdG8gdGhlIGRpcmVjdGl2ZVxuICogY29udHJvbGxlciwgaW4gd2hpY2ggY2FzZSBlcnJvciBjaGVja2luZyBpcyBza2lwcGVkKS4gVGhlIG5hbWUgY2FuIGJlIHByZWZpeGVkIHdpdGg6XG4gKlxuICogKiAobm8gcHJlZml4KSAtIExvY2F0ZSB0aGUgcmVxdWlyZWQgY29udHJvbGxlciBvbiB0aGUgY3VycmVudCBlbGVtZW50LiBUaHJvdyBhbiBlcnJvciBpZiBub3QgZm91bmQuXG4gKiAqIGA/YCAtIEF0dGVtcHQgdG8gbG9jYXRlIHRoZSByZXF1aXJlZCBjb250cm9sbGVyIG9yIHBhc3MgYG51bGxgIHRvIHRoZSBgbGlua2AgZm4gaWYgbm90IGZvdW5kLlxuICogKiBgXmAgLSBMb2NhdGUgdGhlIHJlcXVpcmVkIGNvbnRyb2xsZXIgYnkgc2VhcmNoaW5nIHRoZSBlbGVtZW50IGFuZCBpdHMgcGFyZW50cy4gVGhyb3cgYW4gZXJyb3IgaWYgbm90IGZvdW5kLlxuICogKiBgXl5gIC0gTG9jYXRlIHRoZSByZXF1aXJlZCBjb250cm9sbGVyIGJ5IHNlYXJjaGluZyB0aGUgZWxlbWVudCdzIHBhcmVudHMuIFRocm93IGFuIGVycm9yIGlmIG5vdCBmb3VuZC5cbiAqICogYD9eYCAtIEF0dGVtcHQgdG8gbG9jYXRlIHRoZSByZXF1aXJlZCBjb250cm9sbGVyIGJ5IHNlYXJjaGluZyB0aGUgZWxlbWVudCBhbmQgaXRzIHBhcmVudHMgb3IgcGFzc1xuICogICBgbnVsbGAgdG8gdGhlIGBsaW5rYCBmbiBpZiBub3QgZm91bmQuXG4gKiAqIGA/Xl5gIC0gQXR0ZW1wdCB0byBsb2NhdGUgdGhlIHJlcXVpcmVkIGNvbnRyb2xsZXIgYnkgc2VhcmNoaW5nIHRoZSBlbGVtZW50J3MgcGFyZW50cywgb3IgcGFzc1xuICogICBgbnVsbGAgdG8gdGhlIGBsaW5rYCBmbiBpZiBub3QgZm91bmQuXG4gKlxuICpcbiAqICMjIyMgYGNvbnRyb2xsZXJBc2BcbiAqIElkZW50aWZpZXIgbmFtZSBmb3IgYSByZWZlcmVuY2UgdG8gdGhlIGNvbnRyb2xsZXIgaW4gdGhlIGRpcmVjdGl2ZSdzIHNjb3BlLlxuICogVGhpcyBhbGxvd3MgdGhlIGNvbnRyb2xsZXIgdG8gYmUgcmVmZXJlbmNlZCBmcm9tIHRoZSBkaXJlY3RpdmUgdGVtcGxhdGUuIFRoaXMgaXMgZXNwZWNpYWxseVxuICogdXNlZnVsIHdoZW4gYSBkaXJlY3RpdmUgaXMgdXNlZCBhcyBjb21wb25lbnQsIGkuZS4gd2l0aCBhbiBgaXNvbGF0ZWAgc2NvcGUuIEl0J3MgYWxzbyBwb3NzaWJsZVxuICogdG8gdXNlIGl0IGluIGEgZGlyZWN0aXZlIHdpdGhvdXQgYW4gYGlzb2xhdGVgIC8gYG5ld2Agc2NvcGUsIGJ1dCB5b3UgbmVlZCB0byBiZSBhd2FyZSB0aGF0IHRoZVxuICogYGNvbnRyb2xsZXJBc2AgcmVmZXJlbmNlIG1pZ2h0IG92ZXJ3cml0ZSBhIHByb3BlcnR5IHRoYXQgYWxyZWFkeSBleGlzdHMgb24gdGhlIHBhcmVudCBzY29wZS5cbiAqXG4gKlxuICogIyMjIyBgcmVzdHJpY3RgXG4gKiBTdHJpbmcgb2Ygc3Vic2V0IG9mIGBFQUNNYCB3aGljaCByZXN0cmljdHMgdGhlIGRpcmVjdGl2ZSB0byBhIHNwZWNpZmljIGRpcmVjdGl2ZVxuICogZGVjbGFyYXRpb24gc3R5bGUuIElmIG9taXR0ZWQsIHRoZSBkZWZhdWx0cyAoZWxlbWVudHMgYW5kIGF0dHJpYnV0ZXMpIGFyZSB1c2VkLlxuICpcbiAqICogYEVgIC0gRWxlbWVudCBuYW1lIChkZWZhdWx0KTogYDxteS1kaXJlY3RpdmU+PC9teS1kaXJlY3RpdmU+YFxuICogKiBgQWAgLSBBdHRyaWJ1dGUgKGRlZmF1bHQpOiBgPGRpdiBteS1kaXJlY3RpdmU9XCJleHBcIj48L2Rpdj5gXG4gKiAqIGBDYCAtIENsYXNzOiBgPGRpdiBjbGFzcz1cIm15LWRpcmVjdGl2ZTogZXhwO1wiPjwvZGl2PmBcbiAqICogYE1gIC0gQ29tbWVudDogYDwhLS0gZGlyZWN0aXZlOiBteS1kaXJlY3RpdmUgZXhwIC0tPmBcbiAqXG4gKlxuICogIyMjIyBgdGVtcGxhdGVOYW1lc3BhY2VgXG4gKiBTdHJpbmcgcmVwcmVzZW50aW5nIHRoZSBkb2N1bWVudCB0eXBlIHVzZWQgYnkgdGhlIG1hcmt1cCBpbiB0aGUgdGVtcGxhdGUuXG4gKiBBbmd1bGFySlMgbmVlZHMgdGhpcyBpbmZvcm1hdGlvbiBhcyB0aG9zZSBlbGVtZW50cyBuZWVkIHRvIGJlIGNyZWF0ZWQgYW5kIGNsb25lZFxuICogaW4gYSBzcGVjaWFsIHdheSB3aGVuIHRoZXkgYXJlIGRlZmluZWQgb3V0c2lkZSB0aGVpciB1c3VhbCBjb250YWluZXJzIGxpa2UgYDxzdmc+YCBhbmQgYDxtYXRoPmAuXG4gKlxuICogKiBgaHRtbGAgLSBBbGwgcm9vdCBub2RlcyBpbiB0aGUgdGVtcGxhdGUgYXJlIEhUTUwuIFJvb3Qgbm9kZXMgbWF5IGFsc28gYmVcbiAqICAgdG9wLWxldmVsIGVsZW1lbnRzIHN1Y2ggYXMgYDxzdmc+YCBvciBgPG1hdGg+YC5cbiAqICogYHN2Z2AgLSBUaGUgcm9vdCBub2RlcyBpbiB0aGUgdGVtcGxhdGUgYXJlIFNWRyBlbGVtZW50cyAoZXhjbHVkaW5nIGA8bWF0aD5gKS5cbiAqICogYG1hdGhgIC0gVGhlIHJvb3Qgbm9kZXMgaW4gdGhlIHRlbXBsYXRlIGFyZSBNYXRoTUwgZWxlbWVudHMgKGV4Y2x1ZGluZyBgPHN2Zz5gKS5cbiAqXG4gKiBJZiBubyBgdGVtcGxhdGVOYW1lc3BhY2VgIGlzIHNwZWNpZmllZCwgdGhlbiB0aGUgbmFtZXNwYWNlIGlzIGNvbnNpZGVyZWQgdG8gYmUgYGh0bWxgLlxuICpcbiAqICMjIyMgYHRlbXBsYXRlYFxuICogSFRNTCBtYXJrdXAgdGhhdCBtYXk6XG4gKiAqIFJlcGxhY2UgdGhlIGNvbnRlbnRzIG9mIHRoZSBkaXJlY3RpdmUncyBlbGVtZW50IChkZWZhdWx0KS5cbiAqICogUmVwbGFjZSB0aGUgZGlyZWN0aXZlJ3MgZWxlbWVudCBpdHNlbGYgKGlmIGByZXBsYWNlYCBpcyB0cnVlIC0gREVQUkVDQVRFRCkuXG4gKiAqIFdyYXAgdGhlIGNvbnRlbnRzIG9mIHRoZSBkaXJlY3RpdmUncyBlbGVtZW50IChpZiBgdHJhbnNjbHVkZWAgaXMgdHJ1ZSkuXG4gKlxuICogVmFsdWUgbWF5IGJlOlxuICpcbiAqICogQSBzdHJpbmcuIEZvciBleGFtcGxlIGA8ZGl2IHJlZC1vbi1ob3Zlcj57e2RlbGV0ZV9zdHJ9fTwvZGl2PmAuXG4gKiAqIEEgZnVuY3Rpb24gd2hpY2ggdGFrZXMgdHdvIGFyZ3VtZW50cyBgdEVsZW1lbnRgIGFuZCBgdEF0dHJzYCAoZGVzY3JpYmVkIGluIHRoZSBgY29tcGlsZWBcbiAqICAgZnVuY3Rpb24gYXBpIGJlbG93KSBhbmQgcmV0dXJucyBhIHN0cmluZyB2YWx1ZS5cbiAqXG4gKlxuICogIyMjIyBgdGVtcGxhdGVVcmxgXG4gKiBUaGlzIGlzIHNpbWlsYXIgdG8gYHRlbXBsYXRlYCBidXQgdGhlIHRlbXBsYXRlIGlzIGxvYWRlZCBmcm9tIHRoZSBzcGVjaWZpZWQgVVJMLCBhc3luY2hyb25vdXNseS5cbiAqXG4gKiBCZWNhdXNlIHRlbXBsYXRlIGxvYWRpbmcgaXMgYXN5bmNocm9ub3VzIHRoZSBjb21waWxlciB3aWxsIHN1c3BlbmQgY29tcGlsYXRpb24gb2YgZGlyZWN0aXZlcyBvbiB0aGF0IGVsZW1lbnRcbiAqIGZvciBsYXRlciB3aGVuIHRoZSB0ZW1wbGF0ZSBoYXMgYmVlbiByZXNvbHZlZC4gIEluIHRoZSBtZWFudGltZSBpdCB3aWxsIGNvbnRpbnVlIHRvIGNvbXBpbGUgYW5kIGxpbmtcbiAqIHNpYmxpbmcgYW5kIHBhcmVudCBlbGVtZW50cyBhcyB0aG91Z2ggdGhpcyBlbGVtZW50IGhhZCBub3QgY29udGFpbmVkIGFueSBkaXJlY3RpdmVzLlxuICpcbiAqIFRoZSBjb21waWxlciBkb2VzIG5vdCBzdXNwZW5kIHRoZSBlbnRpcmUgY29tcGlsYXRpb24gdG8gd2FpdCBmb3IgdGVtcGxhdGVzIHRvIGJlIGxvYWRlZCBiZWNhdXNlIHRoaXNcbiAqIHdvdWxkIHJlc3VsdCBpbiB0aGUgd2hvbGUgYXBwIFwic3RhbGxpbmdcIiB1bnRpbCBhbGwgdGVtcGxhdGVzIGFyZSBsb2FkZWQgYXN5bmNocm9ub3VzbHkgLSBldmVuIGluIHRoZVxuICogY2FzZSB3aGVuIG9ubHkgb25lIGRlZXBseSBuZXN0ZWQgZGlyZWN0aXZlIGhhcyBgdGVtcGxhdGVVcmxgLlxuICpcbiAqIFRlbXBsYXRlIGxvYWRpbmcgaXMgYXN5bmNocm9ub3VzIGV2ZW4gaWYgdGhlIHRlbXBsYXRlIGhhcyBiZWVuIHByZWxvYWRlZCBpbnRvIHRoZSB7QGxpbmsgJHRlbXBsYXRlQ2FjaGV9XG4gKlxuICogWW91IGNhbiBzcGVjaWZ5IGB0ZW1wbGF0ZVVybGAgYXMgYSBzdHJpbmcgcmVwcmVzZW50aW5nIHRoZSBVUkwgb3IgYXMgYSBmdW5jdGlvbiB3aGljaCB0YWtlcyB0d29cbiAqIGFyZ3VtZW50cyBgdEVsZW1lbnRgIGFuZCBgdEF0dHJzYCAoZGVzY3JpYmVkIGluIHRoZSBgY29tcGlsZWAgZnVuY3Rpb24gYXBpIGJlbG93KSBhbmQgcmV0dXJuc1xuICogYSBzdHJpbmcgdmFsdWUgcmVwcmVzZW50aW5nIHRoZSB1cmwuICBJbiBlaXRoZXIgY2FzZSwgdGhlIHRlbXBsYXRlIFVSTCBpcyBwYXNzZWQgdGhyb3VnaCB7QGxpbmtcbiAqICRzY2UjZ2V0VHJ1c3RlZFJlc291cmNlVXJsICRzY2UuZ2V0VHJ1c3RlZFJlc291cmNlVXJsfS5cbiAqXG4gKlxuICogIyMjIyBgcmVwbGFjZWAgKFsqREVQUkVDQVRFRCohXSwgd2lsbCBiZSByZW1vdmVkIGluIG5leHQgbWFqb3IgcmVsZWFzZSAtIGkuZS4gdjIuMClcbiAqIHNwZWNpZnkgd2hhdCB0aGUgdGVtcGxhdGUgc2hvdWxkIHJlcGxhY2UuIERlZmF1bHRzIHRvIGBmYWxzZWAuXG4gKlxuICogKiBgdHJ1ZWAgLSB0aGUgdGVtcGxhdGUgd2lsbCByZXBsYWNlIHRoZSBkaXJlY3RpdmUncyBlbGVtZW50LlxuICogKiBgZmFsc2VgIC0gdGhlIHRlbXBsYXRlIHdpbGwgcmVwbGFjZSB0aGUgY29udGVudHMgb2YgdGhlIGRpcmVjdGl2ZSdzIGVsZW1lbnQuXG4gKlxuICogVGhlIHJlcGxhY2VtZW50IHByb2Nlc3MgbWlncmF0ZXMgYWxsIG9mIHRoZSBhdHRyaWJ1dGVzIC8gY2xhc3NlcyBmcm9tIHRoZSBvbGQgZWxlbWVudCB0byB0aGUgbmV3XG4gKiBvbmUuIFNlZSB0aGUge0BsaW5rIGd1aWRlL2RpcmVjdGl2ZSN0ZW1wbGF0ZS1leHBhbmRpbmctZGlyZWN0aXZlXG4gKiBEaXJlY3RpdmVzIEd1aWRlfSBmb3IgYW4gZXhhbXBsZS5cbiAqXG4gKiBUaGVyZSBhcmUgdmVyeSBmZXcgc2NlbmFyaW9zIHdoZXJlIGVsZW1lbnQgcmVwbGFjZW1lbnQgaXMgcmVxdWlyZWQgZm9yIHRoZSBhcHBsaWNhdGlvbiBmdW5jdGlvbixcbiAqIHRoZSBtYWluIG9uZSBiZWluZyByZXVzYWJsZSBjdXN0b20gY29tcG9uZW50cyB0aGF0IGFyZSB1c2VkIHdpdGhpbiBTVkcgY29udGV4dHNcbiAqIChiZWNhdXNlIFNWRyBkb2Vzbid0IHdvcmsgd2l0aCBjdXN0b20gZWxlbWVudHMgaW4gdGhlIERPTSB0cmVlKS5cbiAqXG4gKiAjIyMjIGB0cmFuc2NsdWRlYFxuICogRXh0cmFjdCB0aGUgY29udGVudHMgb2YgdGhlIGVsZW1lbnQgd2hlcmUgdGhlIGRpcmVjdGl2ZSBhcHBlYXJzIGFuZCBtYWtlIGl0IGF2YWlsYWJsZSB0byB0aGUgZGlyZWN0aXZlLlxuICogVGhlIGNvbnRlbnRzIGFyZSBjb21waWxlZCBhbmQgcHJvdmlkZWQgdG8gdGhlIGRpcmVjdGl2ZSBhcyBhICoqdHJhbnNjbHVzaW9uIGZ1bmN0aW9uKiouIFNlZSB0aGVcbiAqIHtAbGluayAkY29tcGlsZSN0cmFuc2NsdXNpb24gVHJhbnNjbHVzaW9ufSBzZWN0aW9uIGJlbG93LlxuICpcbiAqXG4gKiAjIyMjIGBjb21waWxlYFxuICpcbiAqIGBgYGpzXG4gKiAgIGZ1bmN0aW9uIGNvbXBpbGUodEVsZW1lbnQsIHRBdHRycywgdHJhbnNjbHVkZSkgeyAuLi4gfVxuICogYGBgXG4gKlxuICogVGhlIGNvbXBpbGUgZnVuY3Rpb24gZGVhbHMgd2l0aCB0cmFuc2Zvcm1pbmcgdGhlIHRlbXBsYXRlIERPTS4gU2luY2UgbW9zdCBkaXJlY3RpdmVzIGRvIG5vdCBkb1xuICogdGVtcGxhdGUgdHJhbnNmb3JtYXRpb24sIGl0IGlzIG5vdCB1c2VkIG9mdGVuLiBUaGUgY29tcGlsZSBmdW5jdGlvbiB0YWtlcyB0aGUgZm9sbG93aW5nIGFyZ3VtZW50czpcbiAqXG4gKiAgICogYHRFbGVtZW50YCAtIHRlbXBsYXRlIGVsZW1lbnQgLSBUaGUgZWxlbWVudCB3aGVyZSB0aGUgZGlyZWN0aXZlIGhhcyBiZWVuIGRlY2xhcmVkLiBJdCBpc1xuICogICAgIHNhZmUgdG8gZG8gdGVtcGxhdGUgdHJhbnNmb3JtYXRpb24gb24gdGhlIGVsZW1lbnQgYW5kIGNoaWxkIGVsZW1lbnRzIG9ubHkuXG4gKlxuICogICAqIGB0QXR0cnNgIC0gdGVtcGxhdGUgYXR0cmlidXRlcyAtIE5vcm1hbGl6ZWQgbGlzdCBvZiBhdHRyaWJ1dGVzIGRlY2xhcmVkIG9uIHRoaXMgZWxlbWVudCBzaGFyZWRcbiAqICAgICBiZXR3ZWVuIGFsbCBkaXJlY3RpdmUgY29tcGlsZSBmdW5jdGlvbnMuXG4gKlxuICogICAqIGB0cmFuc2NsdWRlYCAtICBbKkRFUFJFQ0FURUQqIV0gQSB0cmFuc2NsdWRlIGxpbmtpbmcgZnVuY3Rpb246IGBmdW5jdGlvbihzY29wZSwgY2xvbmVMaW5raW5nRm4pYFxuICpcbiAqIDxkaXYgY2xhc3M9XCJhbGVydCBhbGVydC13YXJuaW5nXCI+XG4gKiAqKk5vdGU6KiogVGhlIHRlbXBsYXRlIGluc3RhbmNlIGFuZCB0aGUgbGluayBpbnN0YW5jZSBtYXkgYmUgZGlmZmVyZW50IG9iamVjdHMgaWYgdGhlIHRlbXBsYXRlIGhhc1xuICogYmVlbiBjbG9uZWQuIEZvciB0aGlzIHJlYXNvbiBpdCBpcyAqKm5vdCoqIHNhZmUgdG8gZG8gYW55dGhpbmcgb3RoZXIgdGhhbiBET00gdHJhbnNmb3JtYXRpb25zIHRoYXRcbiAqIGFwcGx5IHRvIGFsbCBjbG9uZWQgRE9NIG5vZGVzIHdpdGhpbiB0aGUgY29tcGlsZSBmdW5jdGlvbi4gU3BlY2lmaWNhbGx5LCBET00gbGlzdGVuZXIgcmVnaXN0cmF0aW9uXG4gKiBzaG91bGQgYmUgZG9uZSBpbiBhIGxpbmtpbmcgZnVuY3Rpb24gcmF0aGVyIHRoYW4gaW4gYSBjb21waWxlIGZ1bmN0aW9uLlxuICogPC9kaXY+XG5cbiAqIDxkaXYgY2xhc3M9XCJhbGVydCBhbGVydC13YXJuaW5nXCI+XG4gKiAqKk5vdGU6KiogVGhlIGNvbXBpbGUgZnVuY3Rpb24gY2Fubm90IGhhbmRsZSBkaXJlY3RpdmVzIHRoYXQgcmVjdXJzaXZlbHkgdXNlIHRoZW1zZWx2ZXMgaW4gdGhlaXJcbiAqIG93biB0ZW1wbGF0ZXMgb3IgY29tcGlsZSBmdW5jdGlvbnMuIENvbXBpbGluZyB0aGVzZSBkaXJlY3RpdmVzIHJlc3VsdHMgaW4gYW4gaW5maW5pdGUgbG9vcCBhbmRcbiAqIHN0YWNrIG92ZXJmbG93IGVycm9ycy5cbiAqXG4gKiBUaGlzIGNhbiBiZSBhdm9pZGVkIGJ5IG1hbnVhbGx5IHVzaW5nICRjb21waWxlIGluIHRoZSBwb3N0TGluayBmdW5jdGlvbiB0byBpbXBlcmF0aXZlbHkgY29tcGlsZVxuICogYSBkaXJlY3RpdmUncyB0ZW1wbGF0ZSBpbnN0ZWFkIG9mIHJlbHlpbmcgb24gYXV0b21hdGljIHRlbXBsYXRlIGNvbXBpbGF0aW9uIHZpYSBgdGVtcGxhdGVgIG9yXG4gKiBgdGVtcGxhdGVVcmxgIGRlY2xhcmF0aW9uIG9yIG1hbnVhbCBjb21waWxhdGlvbiBpbnNpZGUgdGhlIGNvbXBpbGUgZnVuY3Rpb24uXG4gKiA8L2Rpdj5cbiAqXG4gKiA8ZGl2IGNsYXNzPVwiYWxlcnQgYWxlcnQtZGFuZ2VyXCI+XG4gKiAqKk5vdGU6KiogVGhlIGB0cmFuc2NsdWRlYCBmdW5jdGlvbiB0aGF0IGlzIHBhc3NlZCB0byB0aGUgY29tcGlsZSBmdW5jdGlvbiBpcyBkZXByZWNhdGVkLCBhcyBpdFxuICogICBlLmcuIGRvZXMgbm90IGtub3cgYWJvdXQgdGhlIHJpZ2h0IG91dGVyIHNjb3BlLiBQbGVhc2UgdXNlIHRoZSB0cmFuc2NsdWRlIGZ1bmN0aW9uIHRoYXQgaXMgcGFzc2VkXG4gKiAgIHRvIHRoZSBsaW5rIGZ1bmN0aW9uIGluc3RlYWQuXG4gKiA8L2Rpdj5cblxuICogQSBjb21waWxlIGZ1bmN0aW9uIGNhbiBoYXZlIGEgcmV0dXJuIHZhbHVlIHdoaWNoIGNhbiBiZSBlaXRoZXIgYSBmdW5jdGlvbiBvciBhbiBvYmplY3QuXG4gKlxuICogKiByZXR1cm5pbmcgYSAocG9zdC1saW5rKSBmdW5jdGlvbiAtIGlzIGVxdWl2YWxlbnQgdG8gcmVnaXN0ZXJpbmcgdGhlIGxpbmtpbmcgZnVuY3Rpb24gdmlhIHRoZVxuICogICBgbGlua2AgcHJvcGVydHkgb2YgdGhlIGNvbmZpZyBvYmplY3Qgd2hlbiB0aGUgY29tcGlsZSBmdW5jdGlvbiBpcyBlbXB0eS5cbiAqXG4gKiAqIHJldHVybmluZyBhbiBvYmplY3Qgd2l0aCBmdW5jdGlvbihzKSByZWdpc3RlcmVkIHZpYSBgcHJlYCBhbmQgYHBvc3RgIHByb3BlcnRpZXMgLSBhbGxvd3MgeW91IHRvXG4gKiAgIGNvbnRyb2wgd2hlbiBhIGxpbmtpbmcgZnVuY3Rpb24gc2hvdWxkIGJlIGNhbGxlZCBkdXJpbmcgdGhlIGxpbmtpbmcgcGhhc2UuIFNlZSBpbmZvIGFib3V0XG4gKiAgIHByZS1saW5raW5nIGFuZCBwb3N0LWxpbmtpbmcgZnVuY3Rpb25zIGJlbG93LlxuICpcbiAqXG4gKiAjIyMjIGBsaW5rYFxuICogVGhpcyBwcm9wZXJ0eSBpcyB1c2VkIG9ubHkgaWYgdGhlIGBjb21waWxlYCBwcm9wZXJ0eSBpcyBub3QgZGVmaW5lZC5cbiAqXG4gKiBgYGBqc1xuICogICBmdW5jdGlvbiBsaW5rKHNjb3BlLCBpRWxlbWVudCwgaUF0dHJzLCBjb250cm9sbGVyLCB0cmFuc2NsdWRlRm4pIHsgLi4uIH1cbiAqIGBgYFxuICpcbiAqIFRoZSBsaW5rIGZ1bmN0aW9uIGlzIHJlc3BvbnNpYmxlIGZvciByZWdpc3RlcmluZyBET00gbGlzdGVuZXJzIGFzIHdlbGwgYXMgdXBkYXRpbmcgdGhlIERPTS4gSXQgaXNcbiAqIGV4ZWN1dGVkIGFmdGVyIHRoZSB0ZW1wbGF0ZSBoYXMgYmVlbiBjbG9uZWQuIFRoaXMgaXMgd2hlcmUgbW9zdCBvZiB0aGUgZGlyZWN0aXZlIGxvZ2ljIHdpbGwgYmVcbiAqIHB1dC5cbiAqXG4gKiAgICogYHNjb3BlYCAtIHtAbGluayBuZy4kcm9vdFNjb3BlLlNjb3BlIFNjb3BlfSAtIFRoZSBzY29wZSB0byBiZSB1c2VkIGJ5IHRoZVxuICogICAgIGRpcmVjdGl2ZSBmb3IgcmVnaXN0ZXJpbmcge0BsaW5rIG5nLiRyb290U2NvcGUuU2NvcGUjJHdhdGNoIHdhdGNoZXN9LlxuICpcbiAqICAgKiBgaUVsZW1lbnRgIC0gaW5zdGFuY2UgZWxlbWVudCAtIFRoZSBlbGVtZW50IHdoZXJlIHRoZSBkaXJlY3RpdmUgaXMgdG8gYmUgdXNlZC4gSXQgaXMgc2FmZSB0b1xuICogICAgIG1hbmlwdWxhdGUgdGhlIGNoaWxkcmVuIG9mIHRoZSBlbGVtZW50IG9ubHkgaW4gYHBvc3RMaW5rYCBmdW5jdGlvbiBzaW5jZSB0aGUgY2hpbGRyZW4gaGF2ZVxuICogICAgIGFscmVhZHkgYmVlbiBsaW5rZWQuXG4gKlxuICogICAqIGBpQXR0cnNgIC0gaW5zdGFuY2UgYXR0cmlidXRlcyAtIE5vcm1hbGl6ZWQgbGlzdCBvZiBhdHRyaWJ1dGVzIGRlY2xhcmVkIG9uIHRoaXMgZWxlbWVudCBzaGFyZWRcbiAqICAgICBiZXR3ZWVuIGFsbCBkaXJlY3RpdmUgbGlua2luZyBmdW5jdGlvbnMuXG4gKlxuICogICAqIGBjb250cm9sbGVyYCAtIHRoZSBkaXJlY3RpdmUncyByZXF1aXJlZCBjb250cm9sbGVyIGluc3RhbmNlKHMpIC0gSW5zdGFuY2VzIGFyZSBzaGFyZWRcbiAqICAgICBhbW9uZyBhbGwgZGlyZWN0aXZlcywgd2hpY2ggYWxsb3dzIHRoZSBkaXJlY3RpdmVzIHRvIHVzZSB0aGUgY29udHJvbGxlcnMgYXMgYSBjb21tdW5pY2F0aW9uXG4gKiAgICAgY2hhbm5lbC4gVGhlIGV4YWN0IHZhbHVlIGRlcGVuZHMgb24gdGhlIGRpcmVjdGl2ZSdzIGByZXF1aXJlYCBwcm9wZXJ0eTpcbiAqICAgICAgICogbm8gY29udHJvbGxlcihzKSByZXF1aXJlZDogdGhlIGRpcmVjdGl2ZSdzIG93biBjb250cm9sbGVyLCBvciBgdW5kZWZpbmVkYCBpZiBpdCBkb2Vzbid0IGhhdmUgb25lXG4gKiAgICAgICAqIGBzdHJpbmdgOiB0aGUgY29udHJvbGxlciBpbnN0YW5jZVxuICogICAgICAgKiBgYXJyYXlgOiBhcnJheSBvZiBjb250cm9sbGVyIGluc3RhbmNlc1xuICpcbiAqICAgICBJZiBhIHJlcXVpcmVkIGNvbnRyb2xsZXIgY2Fubm90IGJlIGZvdW5kLCBhbmQgaXQgaXMgb3B0aW9uYWwsIHRoZSBpbnN0YW5jZSBpcyBgbnVsbGAsXG4gKiAgICAgb3RoZXJ3aXNlIHRoZSB7QGxpbmsgZXJyb3I6JGNvbXBpbGU6Y3RyZXEgTWlzc2luZyBSZXF1aXJlZCBDb250cm9sbGVyfSBlcnJvciBpcyB0aHJvd24uXG4gKlxuICogICAgIE5vdGUgdGhhdCB5b3UgY2FuIGFsc28gcmVxdWlyZSB0aGUgZGlyZWN0aXZlJ3Mgb3duIGNvbnRyb2xsZXIgLSBpdCB3aWxsIGJlIG1hZGUgYXZhaWxhYmxlIGxpa2VcbiAqICAgICBhbnkgb3RoZXIgY29udHJvbGxlci5cbiAqXG4gKiAgICogYHRyYW5zY2x1ZGVGbmAgLSBBIHRyYW5zY2x1ZGUgbGlua2luZyBmdW5jdGlvbiBwcmUtYm91bmQgdG8gdGhlIGNvcnJlY3QgdHJhbnNjbHVzaW9uIHNjb3BlLlxuICogICAgIFRoaXMgaXMgdGhlIHNhbWUgYXMgdGhlIGAkdHJhbnNjbHVkZWAgcGFyYW1ldGVyIG9mIGRpcmVjdGl2ZSBjb250cm9sbGVycyxcbiAqICAgICBzZWUge0BsaW5rIG5nLiRjb21waWxlIy1jb250cm9sbGVyLSB0aGUgY29udHJvbGxlciBzZWN0aW9uIGZvciBkZXRhaWxzfS5cbiAqICAgICBgZnVuY3Rpb24oW3Njb3BlXSwgY2xvbmVMaW5raW5nRm4sIGZ1dHVyZVBhcmVudEVsZW1lbnQpYC5cbiAqXG4gKiAjIyMjIFByZS1saW5raW5nIGZ1bmN0aW9uXG4gKlxuICogRXhlY3V0ZWQgYmVmb3JlIHRoZSBjaGlsZCBlbGVtZW50cyBhcmUgbGlua2VkLiBOb3Qgc2FmZSB0byBkbyBET00gdHJhbnNmb3JtYXRpb24gc2luY2UgdGhlXG4gKiBjb21waWxlciBsaW5raW5nIGZ1bmN0aW9uIHdpbGwgZmFpbCB0byBsb2NhdGUgdGhlIGNvcnJlY3QgZWxlbWVudHMgZm9yIGxpbmtpbmcuXG4gKlxuICogIyMjIyBQb3N0LWxpbmtpbmcgZnVuY3Rpb25cbiAqXG4gKiBFeGVjdXRlZCBhZnRlciB0aGUgY2hpbGQgZWxlbWVudHMgYXJlIGxpbmtlZC5cbiAqXG4gKiBOb3RlIHRoYXQgY2hpbGQgZWxlbWVudHMgdGhhdCBjb250YWluIGB0ZW1wbGF0ZVVybGAgZGlyZWN0aXZlcyB3aWxsIG5vdCBoYXZlIGJlZW4gY29tcGlsZWRcbiAqIGFuZCBsaW5rZWQgc2luY2UgdGhleSBhcmUgd2FpdGluZyBmb3IgdGhlaXIgdGVtcGxhdGUgdG8gbG9hZCBhc3luY2hyb25vdXNseSBhbmQgdGhlaXIgb3duXG4gKiBjb21waWxhdGlvbiBhbmQgbGlua2luZyBoYXMgYmVlbiBzdXNwZW5kZWQgdW50aWwgdGhhdCBvY2N1cnMuXG4gKlxuICogSXQgaXMgc2FmZSB0byBkbyBET00gdHJhbnNmb3JtYXRpb24gaW4gdGhlIHBvc3QtbGlua2luZyBmdW5jdGlvbiBvbiBlbGVtZW50cyB0aGF0IGFyZSBub3Qgd2FpdGluZ1xuICogZm9yIHRoZWlyIGFzeW5jIHRlbXBsYXRlcyB0byBiZSByZXNvbHZlZC5cbiAqXG4gKlxuICogIyMjIFRyYW5zY2x1c2lvblxuICpcbiAqIFRyYW5zY2x1c2lvbiBpcyB0aGUgcHJvY2VzcyBvZiBleHRyYWN0aW5nIGEgY29sbGVjdGlvbiBvZiBET00gZWxlbWVudHMgZnJvbSBvbmUgcGFydCBvZiB0aGUgRE9NIGFuZFxuICogY29weWluZyB0aGVtIHRvIGFub3RoZXIgcGFydCBvZiB0aGUgRE9NLCB3aGlsZSBtYWludGFpbmluZyB0aGVpciBjb25uZWN0aW9uIHRvIHRoZSBvcmlnaW5hbCBBbmd1bGFySlNcbiAqIHNjb3BlIGZyb20gd2hlcmUgdGhleSB3ZXJlIHRha2VuLlxuICpcbiAqIFRyYW5zY2x1c2lvbiBpcyB1c2VkIChvZnRlbiB3aXRoIHtAbGluayBuZ1RyYW5zY2x1ZGV9KSB0byBpbnNlcnQgdGhlXG4gKiBvcmlnaW5hbCBjb250ZW50cyBvZiBhIGRpcmVjdGl2ZSdzIGVsZW1lbnQgaW50byBhIHNwZWNpZmllZCBwbGFjZSBpbiB0aGUgdGVtcGxhdGUgb2YgdGhlIGRpcmVjdGl2ZS5cbiAqIFRoZSBiZW5lZml0IG9mIHRyYW5zY2x1c2lvbiwgb3ZlciBzaW1wbHkgbW92aW5nIHRoZSBET00gZWxlbWVudHMgbWFudWFsbHksIGlzIHRoYXQgdGhlIHRyYW5zY2x1ZGVkXG4gKiBjb250ZW50IGhhcyBhY2Nlc3MgdG8gdGhlIHByb3BlcnRpZXMgb24gdGhlIHNjb3BlIGZyb20gd2hpY2ggaXQgd2FzIHRha2VuLCBldmVuIGlmIHRoZSBkaXJlY3RpdmVcbiAqIGhhcyBpc29sYXRlZCBzY29wZS5cbiAqIFNlZSB0aGUge0BsaW5rIGd1aWRlL2RpcmVjdGl2ZSNjcmVhdGluZy1hLWRpcmVjdGl2ZS10aGF0LXdyYXBzLW90aGVyLWVsZW1lbnRzIERpcmVjdGl2ZXMgR3VpZGV9LlxuICpcbiAqIFRoaXMgbWFrZXMgaXQgcG9zc2libGUgZm9yIHRoZSB3aWRnZXQgdG8gaGF2ZSBwcml2YXRlIHN0YXRlIGZvciBpdHMgdGVtcGxhdGUsIHdoaWxlIHRoZSB0cmFuc2NsdWRlZFxuICogY29udGVudCBoYXMgYWNjZXNzIHRvIGl0cyBvcmlnaW5hdGluZyBzY29wZS5cbiAqXG4gKiA8ZGl2IGNsYXNzPVwiYWxlcnQgYWxlcnQtd2FybmluZ1wiPlxuICogKipOb3RlOioqIFdoZW4gdGVzdGluZyBhbiBlbGVtZW50IHRyYW5zY2x1ZGUgZGlyZWN0aXZlIHlvdSBtdXN0IG5vdCBwbGFjZSB0aGUgZGlyZWN0aXZlIGF0IHRoZSByb290IG9mIHRoZVxuICogRE9NIGZyYWdtZW50IHRoYXQgaXMgYmVpbmcgY29tcGlsZWQuIFNlZSB7QGxpbmsgZ3VpZGUvdW5pdC10ZXN0aW5nI3Rlc3RpbmctdHJhbnNjbHVzaW9uLWRpcmVjdGl2ZXNcbiAqIFRlc3RpbmcgVHJhbnNjbHVzaW9uIERpcmVjdGl2ZXN9LlxuICogPC9kaXY+XG4gKlxuICogVGhlcmUgYXJlIHRocmVlIGtpbmRzIG9mIHRyYW5zY2x1c2lvbiBkZXBlbmRpbmcgdXBvbiB3aGV0aGVyIHlvdSB3YW50IHRvIHRyYW5zY2x1ZGUganVzdCB0aGUgY29udGVudHMgb2YgdGhlXG4gKiBkaXJlY3RpdmUncyBlbGVtZW50LCB0aGUgZW50aXJlIGVsZW1lbnQgb3IgbXVsdGlwbGUgcGFydHMgb2YgdGhlIGVsZW1lbnQgY29udGVudHM6XG4gKlxuICogKiBgdHJ1ZWAgLSB0cmFuc2NsdWRlIHRoZSBjb250ZW50IChpLmUuIHRoZSBjaGlsZCBub2Rlcykgb2YgdGhlIGRpcmVjdGl2ZSdzIGVsZW1lbnQuXG4gKiAqIGAnZWxlbWVudCdgIC0gdHJhbnNjbHVkZSB0aGUgd2hvbGUgb2YgdGhlIGRpcmVjdGl2ZSdzIGVsZW1lbnQgaW5jbHVkaW5nIGFueSBkaXJlY3RpdmVzIG9uIHRoaXNcbiAqICAgZWxlbWVudCB0aGF0IGRlZmluZWQgYXQgYSBsb3dlciBwcmlvcml0eSB0aGFuIHRoaXMgZGlyZWN0aXZlLiBXaGVuIHVzZWQsIHRoZSBgdGVtcGxhdGVgXG4gKiAgIHByb3BlcnR5IGlzIGlnbm9yZWQuXG4gKiAqICoqYHsuLi59YCAoYW4gb2JqZWN0IGhhc2gpOioqIC0gbWFwIGVsZW1lbnRzIG9mIHRoZSBjb250ZW50IG9udG8gdHJhbnNjbHVzaW9uIFwic2xvdHNcIiBpbiB0aGUgdGVtcGxhdGUuXG4gKlxuICogKipNdWx0LXNsb3QgdHJhbnNjbHVzaW9uKiogaXMgZGVjbGFyZWQgYnkgcHJvdmlkaW5nIGFuIG9iamVjdCBmb3IgdGhlIGB0cmFuc2NsdWRlYCBwcm9wZXJ0eS5cbiAqXG4gKiBUaGlzIG9iamVjdCBpcyBhIG1hcCB3aGVyZSB0aGUga2V5cyBhcmUgdGhlIG5hbWUgb2YgdGhlIHNsb3QgdG8gZmlsbCBhbmQgdGhlIHZhbHVlIGlzIGFuIGVsZW1lbnQgc2VsZWN0b3JcbiAqIHVzZWQgdG8gbWF0Y2ggdGhlIEhUTUwgdG8gdGhlIHNsb3QuIFRoZSBlbGVtZW50IHNlbGVjdG9yIHNob3VsZCBiZSBpbiBub3JtYWxpemVkIGZvcm0gKGUuZy4gYG15RWxlbWVudGApXG4gKiBhbmQgd2lsbCBtYXRjaCB0aGUgc3RhbmRhcmQgZWxlbWVudCB2YXJpYW50cyAoZS5nLiBgbXktZWxlbWVudGAsIGBteTplbGVtZW50YCwgYGRhdGEtbXktZWxlbWVudGAsIGV0YykuXG4gKlxuICogRm9yIGZ1cnRoZXIgaW5mb3JtYXRpb24gY2hlY2sgb3V0IHRoZSBndWlkZSBvbiB7QGxpbmsgZ3VpZGUvZGlyZWN0aXZlI21hdGNoaW5nLWRpcmVjdGl2ZXMgTWF0Y2hpbmcgRGlyZWN0aXZlc31cbiAqXG4gKiBJZiB0aGUgZWxlbWVudCBzZWxlY3RvciBpcyBwcmVmaXhlZCB3aXRoIGEgYD9gIHRoZW4gdGhhdCBzbG90IGlzIG9wdGlvbmFsLlxuICpcbiAqIEZvciBleGFtcGxlLCB0aGUgdHJhbnNjbHVkZSBvYmplY3QgYHsgc2xvdEE6ICc/bXlDdXN0b21FbGVtZW50JyB9YCBtYXBzIGA8bXktY3VzdG9tLWVsZW1lbnQ+YCBlbGVtZW50cyB0b1xuICogdGhlIGBzbG90QWAgc2xvdCwgd2hpY2ggY2FuIGJlIGFjY2Vzc2VkIHZpYSB0aGUgYCR0cmFuc2NsdWRlYCBmdW5jdGlvbiBvciB2aWEgdGhlIHtAbGluayBuZ1RyYW5zY2x1ZGV9IGRpcmVjdGl2ZS5cbiAqXG4gKiBTbG90cyB0aGF0IGFyZSBub3QgbWFya2VkIGFzIG9wdGlvbmFsIChgP2ApIHdpbGwgdHJpZ2dlciBhIGNvbXBpbGUgdGltZSBlcnJvciBpZiB0aGVyZSBhcmUgbm8gbWF0Y2hpbmcgZWxlbWVudHNcbiAqIGluIHRoZSB0cmFuc2NsdWRlIGNvbnRlbnQuIElmIHlvdSB3aXNoIHRvIGtub3cgaWYgYW4gb3B0aW9uYWwgc2xvdCB3YXMgZmlsbGVkIHdpdGggY29udGVudCwgdGhlbiB5b3UgY2FuIGNhbGxcbiAqIGAkdHJhbnNjbHVkZS5pc1Nsb3RGaWxsZWQoc2xvdE5hbWUpYCBvbiB0aGUgdHJhbnNjbHVkZSBmdW5jdGlvbiBwYXNzZWQgdG8gdGhlIGRpcmVjdGl2ZSdzIGxpbmsgZnVuY3Rpb24gYW5kXG4gKiBpbmplY3RhYmxlIGludG8gdGhlIGRpcmVjdGl2ZSdzIGNvbnRyb2xsZXIuXG4gKlxuICpcbiAqICMjIyMgVHJhbnNjbHVzaW9uIEZ1bmN0aW9uc1xuICpcbiAqIFdoZW4gYSBkaXJlY3RpdmUgcmVxdWVzdHMgdHJhbnNjbHVzaW9uLCB0aGUgY29tcGlsZXIgZXh0cmFjdHMgaXRzIGNvbnRlbnRzIGFuZCBwcm92aWRlcyBhICoqdHJhbnNjbHVzaW9uXG4gKiBmdW5jdGlvbioqIHRvIHRoZSBkaXJlY3RpdmUncyBgbGlua2AgZnVuY3Rpb24gYW5kIGBjb250cm9sbGVyYC4gVGhpcyB0cmFuc2NsdXNpb24gZnVuY3Rpb24gaXMgYSBzcGVjaWFsXG4gKiAqKmxpbmtpbmcgZnVuY3Rpb24qKiB0aGF0IHdpbGwgcmV0dXJuIHRoZSBjb21waWxlZCBjb250ZW50cyBsaW5rZWQgdG8gYSBuZXcgdHJhbnNjbHVzaW9uIHNjb3BlLlxuICpcbiAqIDxkaXYgY2xhc3M9XCJhbGVydCBhbGVydC1pbmZvXCI+XG4gKiBJZiB5b3UgYXJlIGp1c3QgdXNpbmcge0BsaW5rIG5nVHJhbnNjbHVkZX0gdGhlbiB5b3UgZG9uJ3QgbmVlZCB0byB3b3JyeSBhYm91dCB0aGlzIGZ1bmN0aW9uLCBzaW5jZVxuICogbmdUcmFuc2NsdWRlIHdpbGwgZGVhbCB3aXRoIGl0IGZvciB1cy5cbiAqIDwvZGl2PlxuICpcbiAqIElmIHlvdSB3YW50IHRvIG1hbnVhbGx5IGNvbnRyb2wgdGhlIGluc2VydGlvbiBhbmQgcmVtb3ZhbCBvZiB0aGUgdHJhbnNjbHVkZWQgY29udGVudCBpbiB5b3VyIGRpcmVjdGl2ZVxuICogdGhlbiB5b3UgbXVzdCB1c2UgdGhpcyB0cmFuc2NsdWRlIGZ1bmN0aW9uLiBXaGVuIHlvdSBjYWxsIGEgdHJhbnNjbHVkZSBmdW5jdGlvbiBpdCByZXR1cm5zIGEgYSBqcUxpdGUvSlF1ZXJ5XG4gKiBvYmplY3QgdGhhdCBjb250YWlucyB0aGUgY29tcGlsZWQgRE9NLCB3aGljaCBpcyBsaW5rZWQgdG8gdGhlIGNvcnJlY3QgdHJhbnNjbHVzaW9uIHNjb3BlLlxuICpcbiAqIFdoZW4geW91IGNhbGwgYSB0cmFuc2NsdXNpb24gZnVuY3Rpb24geW91IGNhbiBwYXNzIGluIGEgKipjbG9uZSBhdHRhY2ggZnVuY3Rpb24qKi4gVGhpcyBmdW5jdGlvbiBhY2NlcHRzXG4gKiB0d28gcGFyYW1ldGVycywgYGZ1bmN0aW9uKGNsb25lLCBzY29wZSkgeyAuLi4gfWAsIHdoZXJlIHRoZSBgY2xvbmVgIGlzIGEgZnJlc2ggY29tcGlsZWQgY29weSBvZiB5b3VyIHRyYW5zY2x1ZGVkXG4gKiBjb250ZW50IGFuZCB0aGUgYHNjb3BlYCBpcyB0aGUgbmV3bHkgY3JlYXRlZCB0cmFuc2NsdXNpb24gc2NvcGUsIHdoaWNoIHRoZSBjbG9uZSB3aWxsIGJlIGxpbmtlZCB0by5cbiAqXG4gKiA8ZGl2IGNsYXNzPVwiYWxlcnQgYWxlcnQtaW5mb1wiPlxuICogKipCZXN0IFByYWN0aWNlKio6IEFsd2F5cyBwcm92aWRlIGEgYGNsb25lRm5gIChjbG9uZSBhdHRhY2ggZnVuY3Rpb24pIHdoZW4geW91IGNhbGwgYSB0cmFuc2NsdWRlIGZ1bmN0aW9uXG4gKiBzaW5jZSB5b3UgdGhlbiBnZXQgYSBmcmVzaCBjbG9uZSBvZiB0aGUgb3JpZ2luYWwgRE9NIGFuZCBhbHNvIGhhdmUgYWNjZXNzIHRvIHRoZSBuZXcgdHJhbnNjbHVzaW9uIHNjb3BlLlxuICogPC9kaXY+XG4gKlxuICogSXQgaXMgbm9ybWFsIHByYWN0aWNlIHRvIGF0dGFjaCB5b3VyIHRyYW5zY2x1ZGVkIGNvbnRlbnQgKGBjbG9uZWApIHRvIHRoZSBET00gaW5zaWRlIHlvdXIgKipjbG9uZVxuICogYXR0YWNoIGZ1bmN0aW9uKio6XG4gKlxuICogYGBganNcbiAqIHZhciB0cmFuc2NsdWRlZENvbnRlbnQsIHRyYW5zY2x1c2lvblNjb3BlO1xuICpcbiAqICR0cmFuc2NsdWRlKGZ1bmN0aW9uKGNsb25lLCBzY29wZSkge1xuICogICBlbGVtZW50LmFwcGVuZChjbG9uZSk7XG4gKiAgIHRyYW5zY2x1ZGVkQ29udGVudCA9IGNsb25lO1xuICogICB0cmFuc2NsdXNpb25TY29wZSA9IHNjb3BlO1xuICogfSk7XG4gKiBgYGBcbiAqXG4gKiBMYXRlciwgaWYgeW91IHdhbnQgdG8gcmVtb3ZlIHRoZSB0cmFuc2NsdWRlZCBjb250ZW50IGZyb20geW91ciBET00gdGhlbiB5b3Ugc2hvdWxkIGFsc28gZGVzdHJveSB0aGVcbiAqIGFzc29jaWF0ZWQgdHJhbnNjbHVzaW9uIHNjb3BlOlxuICpcbiAqIGBgYGpzXG4gKiB0cmFuc2NsdWRlZENvbnRlbnQucmVtb3ZlKCk7XG4gKiB0cmFuc2NsdXNpb25TY29wZS4kZGVzdHJveSgpO1xuICogYGBgXG4gKlxuICogPGRpdiBjbGFzcz1cImFsZXJ0IGFsZXJ0LWluZm9cIj5cbiAqICoqQmVzdCBQcmFjdGljZSoqOiBpZiB5b3UgaW50ZW5kIHRvIGFkZCBhbmQgcmVtb3ZlIHRyYW5zY2x1ZGVkIGNvbnRlbnQgbWFudWFsbHkgaW4geW91ciBkaXJlY3RpdmVcbiAqIChieSBjYWxsaW5nIHRoZSB0cmFuc2NsdWRlIGZ1bmN0aW9uIHRvIGdldCB0aGUgRE9NIGFuZCBjYWxsaW5nIGBlbGVtZW50LnJlbW92ZSgpYCB0byByZW1vdmUgaXQpLFxuICogdGhlbiB5b3UgYXJlIGFsc28gcmVzcG9uc2libGUgZm9yIGNhbGxpbmcgYCRkZXN0cm95YCBvbiB0aGUgdHJhbnNjbHVzaW9uIHNjb3BlLlxuICogPC9kaXY+XG4gKlxuICogVGhlIGJ1aWx0LWluIERPTSBtYW5pcHVsYXRpb24gZGlyZWN0aXZlcywgc3VjaCBhcyB7QGxpbmsgbmdJZn0sIHtAbGluayBuZ1N3aXRjaH0gYW5kIHtAbGluayBuZ1JlcGVhdH1cbiAqIGF1dG9tYXRpY2FsbHkgZGVzdHJveSB0aGVpciB0cmFuc2NsdWRlZCBjbG9uZXMgYXMgbmVjZXNzYXJ5IHNvIHlvdSBkbyBub3QgbmVlZCB0byB3b3JyeSBhYm91dCB0aGlzIGlmXG4gKiB5b3UgYXJlIHNpbXBseSB1c2luZyB7QGxpbmsgbmdUcmFuc2NsdWRlfSB0byBpbmplY3QgdGhlIHRyYW5zY2x1c2lvbiBpbnRvIHlvdXIgZGlyZWN0aXZlLlxuICpcbiAqXG4gKiAjIyMjIFRyYW5zY2x1c2lvbiBTY29wZXNcbiAqXG4gKiBXaGVuIHlvdSBjYWxsIGEgdHJhbnNjbHVkZSBmdW5jdGlvbiBpdCByZXR1cm5zIGEgRE9NIGZyYWdtZW50IHRoYXQgaXMgcHJlLWJvdW5kIHRvIGEgKip0cmFuc2NsdXNpb25cbiAqIHNjb3BlKiouIFRoaXMgc2NvcGUgaXMgc3BlY2lhbCwgaW4gdGhhdCBpdCBpcyBhIGNoaWxkIG9mIHRoZSBkaXJlY3RpdmUncyBzY29wZSAoYW5kIHNvIGdldHMgZGVzdHJveWVkXG4gKiB3aGVuIHRoZSBkaXJlY3RpdmUncyBzY29wZSBnZXRzIGRlc3Ryb3llZCkgYnV0IGl0IGluaGVyaXRzIHRoZSBwcm9wZXJ0aWVzIG9mIHRoZSBzY29wZSBmcm9tIHdoaWNoIGl0XG4gKiB3YXMgdGFrZW4uXG4gKlxuICogRm9yIGV4YW1wbGUgY29uc2lkZXIgYSBkaXJlY3RpdmUgdGhhdCB1c2VzIHRyYW5zY2x1c2lvbiBhbmQgaXNvbGF0ZWQgc2NvcGUuIFRoZSBET00gaGllcmFyY2h5IG1pZ2h0IGxvb2tcbiAqIGxpa2UgdGhpczpcbiAqXG4gKiBgYGBodG1sXG4gKiA8ZGl2IG5nLWFwcD5cbiAqICAgPGRpdiBpc29sYXRlPlxuICogICAgIDxkaXYgdHJhbnNjbHVzaW9uPlxuICogICAgIDwvZGl2PlxuICogICA8L2Rpdj5cbiAqIDwvZGl2PlxuICogYGBgXG4gKlxuICogVGhlIGAkcGFyZW50YCBzY29wZSBoaWVyYXJjaHkgd2lsbCBsb29rIGxpa2UgdGhpczpcbiAqXG4gICBgYGBcbiAgIC0gJHJvb3RTY29wZVxuICAgICAtIGlzb2xhdGVcbiAgICAgICAtIHRyYW5zY2x1c2lvblxuICAgYGBgXG4gKlxuICogYnV0IHRoZSBzY29wZXMgd2lsbCBpbmhlcml0IHByb3RvdHlwaWNhbGx5IGZyb20gZGlmZmVyZW50IHNjb3BlcyB0byB0aGVpciBgJHBhcmVudGAuXG4gKlxuICAgYGBgXG4gICAtICRyb290U2NvcGVcbiAgICAgLSB0cmFuc2NsdXNpb25cbiAgIC0gaXNvbGF0ZVxuICAgYGBgXG4gKlxuICpcbiAqICMjIyBBdHRyaWJ1dGVzXG4gKlxuICogVGhlIHtAbGluayBuZy4kY29tcGlsZS5kaXJlY3RpdmUuQXR0cmlidXRlcyBBdHRyaWJ1dGVzfSBvYmplY3QgLSBwYXNzZWQgYXMgYSBwYXJhbWV0ZXIgaW4gdGhlXG4gKiBgbGluaygpYCBvciBgY29tcGlsZSgpYCBmdW5jdGlvbnMuIEl0IGhhcyBhIHZhcmlldHkgb2YgdXNlcy5cbiAqXG4gKiAqICpBY2Nlc3Npbmcgbm9ybWFsaXplZCBhdHRyaWJ1dGUgbmFtZXM6KiBEaXJlY3RpdmVzIGxpa2UgJ25nQmluZCcgY2FuIGJlIGV4cHJlc3NlZCBpbiBtYW55IHdheXM6XG4gKiAgICduZzpiaW5kJywgYGRhdGEtbmctYmluZGAsIG9yICd4LW5nLWJpbmQnLiBUaGUgYXR0cmlidXRlcyBvYmplY3QgYWxsb3dzIGZvciBub3JtYWxpemVkIGFjY2Vzc1xuICogICB0byB0aGUgYXR0cmlidXRlcy5cbiAqXG4gKiAqICpEaXJlY3RpdmUgaW50ZXItY29tbXVuaWNhdGlvbjoqIEFsbCBkaXJlY3RpdmVzIHNoYXJlIHRoZSBzYW1lIGluc3RhbmNlIG9mIHRoZSBhdHRyaWJ1dGVzXG4gKiAgIG9iamVjdCB3aGljaCBhbGxvd3MgdGhlIGRpcmVjdGl2ZXMgdG8gdXNlIHRoZSBhdHRyaWJ1dGVzIG9iamVjdCBhcyBpbnRlciBkaXJlY3RpdmVcbiAqICAgY29tbXVuaWNhdGlvbi5cbiAqXG4gKiAqICpTdXBwb3J0cyBpbnRlcnBvbGF0aW9uOiogSW50ZXJwb2xhdGlvbiBhdHRyaWJ1dGVzIGFyZSBhc3NpZ25lZCB0byB0aGUgYXR0cmlidXRlIG9iamVjdFxuICogICBhbGxvd2luZyBvdGhlciBkaXJlY3RpdmVzIHRvIHJlYWQgdGhlIGludGVycG9sYXRlZCB2YWx1ZS5cbiAqXG4gKiAqICpPYnNlcnZpbmcgaW50ZXJwb2xhdGVkIGF0dHJpYnV0ZXM6KiBVc2UgYCRvYnNlcnZlYCB0byBvYnNlcnZlIHRoZSB2YWx1ZSBjaGFuZ2VzIG9mIGF0dHJpYnV0ZXNcbiAqICAgdGhhdCBjb250YWluIGludGVycG9sYXRpb24gKGUuZy4gYHNyYz1cInt7YmFyfX1cImApLiBOb3Qgb25seSBpcyB0aGlzIHZlcnkgZWZmaWNpZW50IGJ1dCBpdCdzIGFsc29cbiAqICAgdGhlIG9ubHkgd2F5IHRvIGVhc2lseSBnZXQgdGhlIGFjdHVhbCB2YWx1ZSBiZWNhdXNlIGR1cmluZyB0aGUgbGlua2luZyBwaGFzZSB0aGUgaW50ZXJwb2xhdGlvblxuICogICBoYXNuJ3QgYmVlbiBldmFsdWF0ZWQgeWV0IGFuZCBzbyB0aGUgdmFsdWUgaXMgYXQgdGhpcyB0aW1lIHNldCB0byBgdW5kZWZpbmVkYC5cbiAqXG4gKiBgYGBqc1xuICogZnVuY3Rpb24gbGlua2luZ0ZuKHNjb3BlLCBlbG0sIGF0dHJzLCBjdHJsKSB7XG4gKiAgIC8vIGdldCB0aGUgYXR0cmlidXRlIHZhbHVlXG4gKiAgIGNvbnNvbGUubG9nKGF0dHJzLm5nTW9kZWwpO1xuICpcbiAqICAgLy8gY2hhbmdlIHRoZSBhdHRyaWJ1dGVcbiAqICAgYXR0cnMuJHNldCgnbmdNb2RlbCcsICduZXcgdmFsdWUnKTtcbiAqXG4gKiAgIC8vIG9ic2VydmUgY2hhbmdlcyB0byBpbnRlcnBvbGF0ZWQgYXR0cmlidXRlXG4gKiAgIGF0dHJzLiRvYnNlcnZlKCduZ01vZGVsJywgZnVuY3Rpb24odmFsdWUpIHtcbiAqICAgICBjb25zb2xlLmxvZygnbmdNb2RlbCBoYXMgY2hhbmdlZCB2YWx1ZSB0byAnICsgdmFsdWUpO1xuICogICB9KTtcbiAqIH1cbiAqIGBgYFxuICpcbiAqICMjIEV4YW1wbGVcbiAqXG4gKiA8ZGl2IGNsYXNzPVwiYWxlcnQgYWxlcnQtd2FybmluZ1wiPlxuICogKipOb3RlKio6IFR5cGljYWxseSBkaXJlY3RpdmVzIGFyZSByZWdpc3RlcmVkIHdpdGggYG1vZHVsZS5kaXJlY3RpdmVgLiBUaGUgZXhhbXBsZSBiZWxvdyBpc1xuICogdG8gaWxsdXN0cmF0ZSBob3cgYCRjb21waWxlYCB3b3Jrcy5cbiAqIDwvZGl2PlxuICpcbiA8ZXhhbXBsZSBtb2R1bGU9XCJjb21waWxlRXhhbXBsZVwiIG5hbWU9XCJjb21waWxlXCI+XG4gICA8ZmlsZSBuYW1lPVwiaW5kZXguaHRtbFwiPlxuICAgIDxzY3JpcHQ+XG4gICAgICBhbmd1bGFyLm1vZHVsZSgnY29tcGlsZUV4YW1wbGUnLCBbXSwgZnVuY3Rpb24oJGNvbXBpbGVQcm92aWRlcikge1xuICAgICAgICAvLyBjb25maWd1cmUgbmV3ICdjb21waWxlJyBkaXJlY3RpdmUgYnkgcGFzc2luZyBhIGRpcmVjdGl2ZVxuICAgICAgICAvLyBmYWN0b3J5IGZ1bmN0aW9uLiBUaGUgZmFjdG9yeSBmdW5jdGlvbiBpbmplY3RzIHRoZSAnJGNvbXBpbGUnXG4gICAgICAgICRjb21waWxlUHJvdmlkZXIuZGlyZWN0aXZlKCdjb21waWxlJywgZnVuY3Rpb24oJGNvbXBpbGUpIHtcbiAgICAgICAgICAvLyBkaXJlY3RpdmUgZmFjdG9yeSBjcmVhdGVzIGEgbGluayBmdW5jdGlvblxuICAgICAgICAgIHJldHVybiBmdW5jdGlvbihzY29wZSwgZWxlbWVudCwgYXR0cnMpIHtcbiAgICAgICAgICAgIHNjb3BlLiR3YXRjaChcbiAgICAgICAgICAgICAgZnVuY3Rpb24oc2NvcGUpIHtcbiAgICAgICAgICAgICAgICAgLy8gd2F0Y2ggdGhlICdjb21waWxlJyBleHByZXNzaW9uIGZvciBjaGFuZ2VzXG4gICAgICAgICAgICAgICAgcmV0dXJuIHNjb3BlLiRldmFsKGF0dHJzLmNvbXBpbGUpO1xuICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICBmdW5jdGlvbih2YWx1ZSkge1xuICAgICAgICAgICAgICAgIC8vIHdoZW4gdGhlICdjb21waWxlJyBleHByZXNzaW9uIGNoYW5nZXNcbiAgICAgICAgICAgICAgICAvLyBhc3NpZ24gaXQgaW50byB0aGUgY3VycmVudCBET01cbiAgICAgICAgICAgICAgICBlbGVtZW50Lmh0bWwodmFsdWUpO1xuXG4gICAgICAgICAgICAgICAgLy8gY29tcGlsZSB0aGUgbmV3IERPTSBhbmQgbGluayBpdCB0byB0aGUgY3VycmVudFxuICAgICAgICAgICAgICAgIC8vIHNjb3BlLlxuICAgICAgICAgICAgICAgIC8vIE5PVEU6IHdlIG9ubHkgY29tcGlsZSAuY2hpbGROb2RlcyBzbyB0aGF0XG4gICAgICAgICAgICAgICAgLy8gd2UgZG9uJ3QgZ2V0IGludG8gaW5maW5pdGUgbG9vcCBjb21waWxpbmcgb3Vyc2VsdmVzXG4gICAgICAgICAgICAgICAgJGNvbXBpbGUoZWxlbWVudC5jb250ZW50cygpKShzY29wZSk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICk7XG4gICAgICAgICAgfTtcbiAgICAgICAgfSk7XG4gICAgICB9KVxuICAgICAgLmNvbnRyb2xsZXIoJ0dyZWV0ZXJDb250cm9sbGVyJywgWyckc2NvcGUnLCBmdW5jdGlvbigkc2NvcGUpIHtcbiAgICAgICAgJHNjb3BlLm5hbWUgPSAnQW5ndWxhcic7XG4gICAgICAgICRzY29wZS5odG1sID0gJ0hlbGxvIHt7bmFtZX19JztcbiAgICAgIH1dKTtcbiAgICA8L3NjcmlwdD5cbiAgICA8ZGl2IG5nLWNvbnRyb2xsZXI9XCJHcmVldGVyQ29udHJvbGxlclwiPlxuICAgICAgPGlucHV0IG5nLW1vZGVsPVwibmFtZVwiPiA8YnIvPlxuICAgICAgPHRleHRhcmVhIG5nLW1vZGVsPVwiaHRtbFwiPjwvdGV4dGFyZWE+IDxici8+XG4gICAgICA8ZGl2IGNvbXBpbGU9XCJodG1sXCI+PC9kaXY+XG4gICAgPC9kaXY+XG4gICA8L2ZpbGU+XG4gICA8ZmlsZSBuYW1lPVwicHJvdHJhY3Rvci5qc1wiIHR5cGU9XCJwcm90cmFjdG9yXCI+XG4gICAgIGl0KCdzaG91bGQgYXV0byBjb21waWxlJywgZnVuY3Rpb24oKSB7XG4gICAgICAgdmFyIHRleHRhcmVhID0gJCgndGV4dGFyZWEnKTtcbiAgICAgICB2YXIgb3V0cHV0ID0gJCgnZGl2W2NvbXBpbGVdJyk7XG4gICAgICAgLy8gVGhlIGluaXRpYWwgc3RhdGUgcmVhZHMgJ0hlbGxvIEFuZ3VsYXInLlxuICAgICAgIGV4cGVjdChvdXRwdXQuZ2V0VGV4dCgpKS50b0JlKCdIZWxsbyBBbmd1bGFyJyk7XG4gICAgICAgdGV4dGFyZWEuY2xlYXIoKTtcbiAgICAgICB0ZXh0YXJlYS5zZW5kS2V5cygne3tuYW1lfX0hJyk7XG4gICAgICAgZXhwZWN0KG91dHB1dC5nZXRUZXh0KCkpLnRvQmUoJ0FuZ3VsYXIhJyk7XG4gICAgIH0pO1xuICAgPC9maWxlPlxuIDwvZXhhbXBsZT5cblxuICpcbiAqXG4gKiBAcGFyYW0ge3N0cmluZ3xET01FbGVtZW50fSBlbGVtZW50IEVsZW1lbnQgb3IgSFRNTCBzdHJpbmcgdG8gY29tcGlsZSBpbnRvIGEgdGVtcGxhdGUgZnVuY3Rpb24uXG4gKiBAcGFyYW0ge2Z1bmN0aW9uKGFuZ3VsYXIuU2NvcGUsIGNsb25lQXR0YWNoRm49KX0gdHJhbnNjbHVkZSBmdW5jdGlvbiBhdmFpbGFibGUgdG8gZGlyZWN0aXZlcyAtIERFUFJFQ0FURUQuXG4gKlxuICogPGRpdiBjbGFzcz1cImFsZXJ0IGFsZXJ0LWRhbmdlclwiPlxuICogKipOb3RlOioqIFBhc3NpbmcgYSBgdHJhbnNjbHVkZWAgZnVuY3Rpb24gdG8gdGhlICRjb21waWxlIGZ1bmN0aW9uIGlzIGRlcHJlY2F0ZWQsIGFzIGl0XG4gKiAgIGUuZy4gd2lsbCBub3QgdXNlIHRoZSByaWdodCBvdXRlciBzY29wZS4gUGxlYXNlIHBhc3MgdGhlIHRyYW5zY2x1ZGUgZnVuY3Rpb24gYXMgYVxuICogICBgcGFyZW50Qm91bmRUcmFuc2NsdWRlRm5gIHRvIHRoZSBsaW5rIGZ1bmN0aW9uIGluc3RlYWQuXG4gKiA8L2Rpdj5cbiAqXG4gKiBAcGFyYW0ge251bWJlcn0gbWF4UHJpb3JpdHkgb25seSBhcHBseSBkaXJlY3RpdmVzIGxvd2VyIHRoYW4gZ2l2ZW4gcHJpb3JpdHkgKE9ubHkgZWZmZWN0cyB0aGVcbiAqICAgICAgICAgICAgICAgICByb290IGVsZW1lbnQocyksIG5vdCB0aGVpciBjaGlsZHJlbilcbiAqIEByZXR1cm5zIHtmdW5jdGlvbihzY29wZSwgY2xvbmVBdHRhY2hGbj0sIG9wdGlvbnM9KX0gYSBsaW5rIGZ1bmN0aW9uIHdoaWNoIGlzIHVzZWQgdG8gYmluZCB0ZW1wbGF0ZVxuICogKGEgRE9NIGVsZW1lbnQvdHJlZSkgdG8gYSBzY29wZS4gV2hlcmU6XG4gKlxuICogICogYHNjb3BlYCAtIEEge0BsaW5rIG5nLiRyb290U2NvcGUuU2NvcGUgU2NvcGV9IHRvIGJpbmQgdG8uXG4gKiAgKiBgY2xvbmVBdHRhY2hGbmAgLSBJZiBgY2xvbmVBdHRhY2hGbmAgaXMgcHJvdmlkZWQsIHRoZW4gdGhlIGxpbmsgZnVuY3Rpb24gd2lsbCBjbG9uZSB0aGVcbiAqICBgdGVtcGxhdGVgIGFuZCBjYWxsIHRoZSBgY2xvbmVBdHRhY2hGbmAgZnVuY3Rpb24gYWxsb3dpbmcgdGhlIGNhbGxlciB0byBhdHRhY2ggdGhlXG4gKiAgY2xvbmVkIGVsZW1lbnRzIHRvIHRoZSBET00gZG9jdW1lbnQgYXQgdGhlIGFwcHJvcHJpYXRlIHBsYWNlLiBUaGUgYGNsb25lQXR0YWNoRm5gIGlzXG4gKiAgY2FsbGVkIGFzOiA8YnIvPiBgY2xvbmVBdHRhY2hGbihjbG9uZWRFbGVtZW50LCBzY29wZSlgIHdoZXJlOlxuICpcbiAqICAgICAgKiBgY2xvbmVkRWxlbWVudGAgLSBpcyBhIGNsb25lIG9mIHRoZSBvcmlnaW5hbCBgZWxlbWVudGAgcGFzc2VkIGludG8gdGhlIGNvbXBpbGVyLlxuICogICAgICAqIGBzY29wZWAgLSBpcyB0aGUgY3VycmVudCBzY29wZSB3aXRoIHdoaWNoIHRoZSBsaW5raW5nIGZ1bmN0aW9uIGlzIHdvcmtpbmcgd2l0aC5cbiAqXG4gKiAgKiBgb3B0aW9uc2AgLSBBbiBvcHRpb25hbCBvYmplY3QgaGFzaCB3aXRoIGxpbmtpbmcgb3B0aW9ucy4gSWYgYG9wdGlvbnNgIGlzIHByb3ZpZGVkLCB0aGVuIHRoZSBmb2xsb3dpbmdcbiAqICBrZXlzIG1heSBiZSB1c2VkIHRvIGNvbnRyb2wgbGlua2luZyBiZWhhdmlvcjpcbiAqXG4gKiAgICAgICogYHBhcmVudEJvdW5kVHJhbnNjbHVkZUZuYCAtIHRoZSB0cmFuc2NsdWRlIGZ1bmN0aW9uIG1hZGUgYXZhaWxhYmxlIHRvXG4gKiAgICAgICAgZGlyZWN0aXZlczsgaWYgZ2l2ZW4sIGl0IHdpbGwgYmUgcGFzc2VkIHRocm91Z2ggdG8gdGhlIGxpbmsgZnVuY3Rpb25zIG9mXG4gKiAgICAgICAgZGlyZWN0aXZlcyBmb3VuZCBpbiBgZWxlbWVudGAgZHVyaW5nIGNvbXBpbGF0aW9uLlxuICogICAgICAqIGB0cmFuc2NsdWRlQ29udHJvbGxlcnNgIC0gYW4gb2JqZWN0IGhhc2ggd2l0aCBrZXlzIHRoYXQgbWFwIGNvbnRyb2xsZXIgbmFtZXNcbiAqICAgICAgICB0byBhIGhhc2ggd2l0aCB0aGUga2V5IGBpbnN0YW5jZWAsIHdoaWNoIG1hcHMgdG8gdGhlIGNvbnRyb2xsZXIgaW5zdGFuY2U7XG4gKiAgICAgICAgaWYgZ2l2ZW4sIGl0IHdpbGwgbWFrZSB0aGUgY29udHJvbGxlcnMgYXZhaWxhYmxlIHRvIGRpcmVjdGl2ZXMgb24gdGhlIGNvbXBpbGVOb2RlOlxuICogICAgICAgIGBgYFxuICogICAgICAgIHtcbiAqICAgICAgICAgIHBhcmVudDoge1xuICogICAgICAgICAgICBpbnN0YW5jZTogcGFyZW50Q29udHJvbGxlckluc3RhbmNlXG4gKiAgICAgICAgICB9XG4gKiAgICAgICAgfVxuICogICAgICAgIGBgYFxuICogICAgICAqIGBmdXR1cmVQYXJlbnRFbGVtZW50YCAtIGRlZmluZXMgdGhlIHBhcmVudCB0byB3aGljaCB0aGUgYGNsb25lQXR0YWNoRm5gIHdpbGwgYWRkXG4gKiAgICAgICAgdGhlIGNsb25lZCBlbGVtZW50czsgb25seSBuZWVkZWQgZm9yIHRyYW5zY2x1ZGVzIHRoYXQgYXJlIGFsbG93ZWQgdG8gY29udGFpbiBub24gaHRtbFxuICogICAgICAgIGVsZW1lbnRzIChlLmcuIFNWRyBlbGVtZW50cykuIFNlZSBhbHNvIHRoZSBkaXJlY3RpdmUuY29udHJvbGxlciBwcm9wZXJ0eS5cbiAqXG4gKiBDYWxsaW5nIHRoZSBsaW5raW5nIGZ1bmN0aW9uIHJldHVybnMgdGhlIGVsZW1lbnQgb2YgdGhlIHRlbXBsYXRlLiBJdCBpcyBlaXRoZXIgdGhlIG9yaWdpbmFsXG4gKiBlbGVtZW50IHBhc3NlZCBpbiwgb3IgdGhlIGNsb25lIG9mIHRoZSBlbGVtZW50IGlmIHRoZSBgY2xvbmVBdHRhY2hGbmAgaXMgcHJvdmlkZWQuXG4gKlxuICogQWZ0ZXIgbGlua2luZyB0aGUgdmlldyBpcyBub3QgdXBkYXRlZCB1bnRpbCBhZnRlciBhIGNhbGwgdG8gJGRpZ2VzdCB3aGljaCB0eXBpY2FsbHkgaXMgZG9uZSBieVxuICogQW5ndWxhciBhdXRvbWF0aWNhbGx5LlxuICpcbiAqIElmIHlvdSBuZWVkIGFjY2VzcyB0byB0aGUgYm91bmQgdmlldywgdGhlcmUgYXJlIHR3byB3YXlzIHRvIGRvIGl0OlxuICpcbiAqIC0gSWYgeW91IGFyZSBub3QgYXNraW5nIHRoZSBsaW5raW5nIGZ1bmN0aW9uIHRvIGNsb25lIHRoZSB0ZW1wbGF0ZSwgY3JlYXRlIHRoZSBET00gZWxlbWVudChzKVxuICogICBiZWZvcmUgeW91IHNlbmQgdGhlbSB0byB0aGUgY29tcGlsZXIgYW5kIGtlZXAgdGhpcyByZWZlcmVuY2UgYXJvdW5kLlxuICogICBgYGBqc1xuICogICAgIHZhciBlbGVtZW50ID0gJGNvbXBpbGUoJzxwPnt7dG90YWx9fTwvcD4nKShzY29wZSk7XG4gKiAgIGBgYFxuICpcbiAqIC0gaWYgb24gdGhlIG90aGVyIGhhbmQsIHlvdSBuZWVkIHRoZSBlbGVtZW50IHRvIGJlIGNsb25lZCwgdGhlIHZpZXcgcmVmZXJlbmNlIGZyb20gdGhlIG9yaWdpbmFsXG4gKiAgIGV4YW1wbGUgd291bGQgbm90IHBvaW50IHRvIHRoZSBjbG9uZSwgYnV0IHJhdGhlciB0byB0aGUgb3JpZ2luYWwgdGVtcGxhdGUgdGhhdCB3YXMgY2xvbmVkLiBJblxuICogICB0aGlzIGNhc2UsIHlvdSBjYW4gYWNjZXNzIHRoZSBjbG9uZSB2aWEgdGhlIGNsb25lQXR0YWNoRm46XG4gKiAgIGBgYGpzXG4gKiAgICAgdmFyIHRlbXBsYXRlRWxlbWVudCA9IGFuZ3VsYXIuZWxlbWVudCgnPHA+e3t0b3RhbH19PC9wPicpLFxuICogICAgICAgICBzY29wZSA9IC4uLi47XG4gKlxuICogICAgIHZhciBjbG9uZWRFbGVtZW50ID0gJGNvbXBpbGUodGVtcGxhdGVFbGVtZW50KShzY29wZSwgZnVuY3Rpb24oY2xvbmVkRWxlbWVudCwgc2NvcGUpIHtcbiAqICAgICAgIC8vYXR0YWNoIHRoZSBjbG9uZSB0byBET00gZG9jdW1lbnQgYXQgdGhlIHJpZ2h0IHBsYWNlXG4gKiAgICAgfSk7XG4gKlxuICogICAgIC8vbm93IHdlIGhhdmUgcmVmZXJlbmNlIHRvIHRoZSBjbG9uZWQgRE9NIHZpYSBgY2xvbmVkRWxlbWVudGBcbiAqICAgYGBgXG4gKlxuICpcbiAqIEZvciBpbmZvcm1hdGlvbiBvbiBob3cgdGhlIGNvbXBpbGVyIHdvcmtzLCBzZWUgdGhlXG4gKiB7QGxpbmsgZ3VpZGUvY29tcGlsZXIgQW5ndWxhciBIVE1MIENvbXBpbGVyfSBzZWN0aW9uIG9mIHRoZSBEZXZlbG9wZXIgR3VpZGUuXG4gKlxuICogQGtub3duSXNzdWVcbiAqXG4gKiAjIyMgRG91YmxlIENvbXBpbGF0aW9uXG4gKlxuICAgRG91YmxlIGNvbXBpbGF0aW9uIG9jY3VycyB3aGVuIGFuIGFscmVhZHkgY29tcGlsZWQgcGFydCBvZiB0aGUgRE9NIGdldHNcbiAgIGNvbXBpbGVkIGFnYWluLiBUaGlzIGlzIGFuIHVuZGVzaXJlZCBlZmZlY3QgYW5kIGNhbiBsZWFkIHRvIG1pc2JlaGF2aW5nIGRpcmVjdGl2ZXMsIHBlcmZvcm1hbmNlIGlzc3VlcyxcbiAgIGFuZCBtZW1vcnkgbGVha3MuIFJlZmVyIHRvIHRoZSBDb21waWxlciBHdWlkZSB7QGxpbmsgZ3VpZGUvY29tcGlsZXIjZG91YmxlLWNvbXBpbGF0aW9uLWFuZC1ob3ctdG8tYXZvaWQtaXRcbiAgIHNlY3Rpb24gb24gZG91YmxlIGNvbXBpbGF0aW9ufSBmb3IgYW4gaW4tZGVwdGggZXhwbGFuYXRpb24gYW5kIHdheXMgdG8gYXZvaWQgaXQuXG4gKlxuICovXG5cbnZhciAkY29tcGlsZU1pbkVyciA9IG1pbkVycignJGNvbXBpbGUnKTtcblxuZnVuY3Rpb24gVU5JTklUSUFMSVpFRF9WQUxVRSgpIHt9XG52YXIgX1VOSU5JVElBTElaRURfVkFMVUUgPSBuZXcgVU5JTklUSUFMSVpFRF9WQUxVRSgpO1xuXG4vKipcbiAqIEBuZ2RvYyBwcm92aWRlclxuICogQG5hbWUgJGNvbXBpbGVQcm92aWRlclxuICpcbiAqIEBkZXNjcmlwdGlvblxuICovXG4kQ29tcGlsZVByb3ZpZGVyLiRpbmplY3QgPSBbJyRwcm92aWRlJywgJyQkc2FuaXRpemVVcmlQcm92aWRlciddO1xuLyoqIEB0aGlzICovXG5mdW5jdGlvbiAkQ29tcGlsZVByb3ZpZGVyKCRwcm92aWRlLCAkJHNhbml0aXplVXJpUHJvdmlkZXIpIHtcbiAgdmFyIGhhc0RpcmVjdGl2ZXMgPSB7fSxcbiAgICAgIFN1ZmZpeCA9ICdEaXJlY3RpdmUnLFxuICAgICAgQ09NTUVOVF9ESVJFQ1RJVkVfUkVHRVhQID0gL15cXHMqZGlyZWN0aXZlOlxccyooW1xcdy1dKylcXHMrKC4qKSQvLFxuICAgICAgQ0xBU1NfRElSRUNUSVZFX1JFR0VYUCA9IC8oKFtcXHctXSspKD86OihbXjtdKykpPzs/KS8sXG4gICAgICBBTExfT1JfTk9USElOR19BVFRSUyA9IG1ha2VNYXAoJ25nU3JjLG5nU3Jjc2V0LHNyYyxzcmNzZXQnKSxcbiAgICAgIFJFUVVJUkVfUFJFRklYX1JFR0VYUCA9IC9eKD86KFxcXlxcXj8pPyhcXD8pPyhcXF5cXF4/KT8pPy87XG5cbiAgLy8gUmVmOiBodHRwOi8vZGV2ZWxvcGVycy53aGF0d2cub3JnL3dlYmFwcGFwaXMuaHRtbCNldmVudC1oYW5kbGVyLWlkbC1hdHRyaWJ1dGVzXG4gIC8vIFRoZSBhc3N1bXB0aW9uIGlzIHRoYXQgZnV0dXJlIERPTSBldmVudCBhdHRyaWJ1dGUgbmFtZXMgd2lsbCBiZWdpbiB3aXRoXG4gIC8vICdvbicgYW5kIGJlIGNvbXBvc2VkIG9mIG9ubHkgRW5nbGlzaCBsZXR0ZXJzLlxuICB2YXIgRVZFTlRfSEFORExFUl9BVFRSX1JFR0VYUCA9IC9eKG9uW2Etel0rfGZvcm1hY3Rpb24pJC87XG4gIHZhciBiaW5kaW5nQ2FjaGUgPSBjcmVhdGVNYXAoKTtcblxuICBmdW5jdGlvbiBwYXJzZUlzb2xhdGVCaW5kaW5ncyhzY29wZSwgZGlyZWN0aXZlTmFtZSwgaXNDb250cm9sbGVyKSB7XG4gICAgdmFyIExPQ0FMX1JFR0VYUCA9IC9eXFxzKihbQCY8XXw9KFxcKj8pKShcXD8/KVxccyooW1xcdyRdKilcXHMqJC87XG5cbiAgICB2YXIgYmluZGluZ3MgPSBjcmVhdGVNYXAoKTtcblxuICAgIGZvckVhY2goc2NvcGUsIGZ1bmN0aW9uKGRlZmluaXRpb24sIHNjb3BlTmFtZSkge1xuICAgICAgaWYgKGRlZmluaXRpb24gaW4gYmluZGluZ0NhY2hlKSB7XG4gICAgICAgIGJpbmRpbmdzW3Njb3BlTmFtZV0gPSBiaW5kaW5nQ2FjaGVbZGVmaW5pdGlvbl07XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIHZhciBtYXRjaCA9IGRlZmluaXRpb24ubWF0Y2goTE9DQUxfUkVHRVhQKTtcblxuICAgICAgaWYgKCFtYXRjaCkge1xuICAgICAgICB0aHJvdyAkY29tcGlsZU1pbkVycignaXNjcCcsXG4gICAgICAgICAgICAnSW52YWxpZCB7M30gZm9yIGRpcmVjdGl2ZSBcXCd7MH1cXCcuJyArXG4gICAgICAgICAgICAnIERlZmluaXRpb246IHsuLi4gezF9OiBcXCd7Mn1cXCcgLi4ufScsXG4gICAgICAgICAgICBkaXJlY3RpdmVOYW1lLCBzY29wZU5hbWUsIGRlZmluaXRpb24sXG4gICAgICAgICAgICAoaXNDb250cm9sbGVyID8gJ2NvbnRyb2xsZXIgYmluZGluZ3MgZGVmaW5pdGlvbicgOlxuICAgICAgICAgICAgJ2lzb2xhdGUgc2NvcGUgZGVmaW5pdGlvbicpKTtcbiAgICAgIH1cblxuICAgICAgYmluZGluZ3Nbc2NvcGVOYW1lXSA9IHtcbiAgICAgICAgbW9kZTogbWF0Y2hbMV1bMF0sXG4gICAgICAgIGNvbGxlY3Rpb246IG1hdGNoWzJdID09PSAnKicsXG4gICAgICAgIG9wdGlvbmFsOiBtYXRjaFszXSA9PT0gJz8nLFxuICAgICAgICBhdHRyTmFtZTogbWF0Y2hbNF0gfHwgc2NvcGVOYW1lXG4gICAgICB9O1xuICAgICAgaWYgKG1hdGNoWzRdKSB7XG4gICAgICAgIGJpbmRpbmdDYWNoZVtkZWZpbml0aW9uXSA9IGJpbmRpbmdzW3Njb3BlTmFtZV07XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICByZXR1cm4gYmluZGluZ3M7XG4gIH1cblxuICBmdW5jdGlvbiBwYXJzZURpcmVjdGl2ZUJpbmRpbmdzKGRpcmVjdGl2ZSwgZGlyZWN0aXZlTmFtZSkge1xuICAgIHZhciBiaW5kaW5ncyA9IHtcbiAgICAgIGlzb2xhdGVTY29wZTogbnVsbCxcbiAgICAgIGJpbmRUb0NvbnRyb2xsZXI6IG51bGxcbiAgICB9O1xuICAgIGlmIChpc09iamVjdChkaXJlY3RpdmUuc2NvcGUpKSB7XG4gICAgICBpZiAoZGlyZWN0aXZlLmJpbmRUb0NvbnRyb2xsZXIgPT09IHRydWUpIHtcbiAgICAgICAgYmluZGluZ3MuYmluZFRvQ29udHJvbGxlciA9IHBhcnNlSXNvbGF0ZUJpbmRpbmdzKGRpcmVjdGl2ZS5zY29wZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRpcmVjdGl2ZU5hbWUsIHRydWUpO1xuICAgICAgICBiaW5kaW5ncy5pc29sYXRlU2NvcGUgPSB7fTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGJpbmRpbmdzLmlzb2xhdGVTY29wZSA9IHBhcnNlSXNvbGF0ZUJpbmRpbmdzKGRpcmVjdGl2ZS5zY29wZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGlyZWN0aXZlTmFtZSwgZmFsc2UpO1xuICAgICAgfVxuICAgIH1cbiAgICBpZiAoaXNPYmplY3QoZGlyZWN0aXZlLmJpbmRUb0NvbnRyb2xsZXIpKSB7XG4gICAgICBiaW5kaW5ncy5iaW5kVG9Db250cm9sbGVyID1cbiAgICAgICAgICBwYXJzZUlzb2xhdGVCaW5kaW5ncyhkaXJlY3RpdmUuYmluZFRvQ29udHJvbGxlciwgZGlyZWN0aXZlTmFtZSwgdHJ1ZSk7XG4gICAgfVxuICAgIGlmIChiaW5kaW5ncy5iaW5kVG9Db250cm9sbGVyICYmICFkaXJlY3RpdmUuY29udHJvbGxlcikge1xuICAgICAgLy8gVGhlcmUgaXMgbm8gY29udHJvbGxlclxuICAgICAgdGhyb3cgJGNvbXBpbGVNaW5FcnIoJ25vY3RybCcsXG4gICAgICAgICAgICAnQ2Fubm90IGJpbmQgdG8gY29udHJvbGxlciB3aXRob3V0IGRpcmVjdGl2ZSBcXCd7MH1cXCdzIGNvbnRyb2xsZXIuJyxcbiAgICAgICAgICAgIGRpcmVjdGl2ZU5hbWUpO1xuICAgIH1cbiAgICByZXR1cm4gYmluZGluZ3M7XG4gIH1cblxuICBmdW5jdGlvbiBhc3NlcnRWYWxpZERpcmVjdGl2ZU5hbWUobmFtZSkge1xuICAgIHZhciBsZXR0ZXIgPSBuYW1lLmNoYXJBdCgwKTtcbiAgICBpZiAoIWxldHRlciB8fCBsZXR0ZXIgIT09IGxvd2VyY2FzZShsZXR0ZXIpKSB7XG4gICAgICB0aHJvdyAkY29tcGlsZU1pbkVycignYmFkZGlyJywgJ0RpcmVjdGl2ZS9Db21wb25lbnQgbmFtZSBcXCd7MH1cXCcgaXMgaW52YWxpZC4gVGhlIGZpcnN0IGNoYXJhY3RlciBtdXN0IGJlIGEgbG93ZXJjYXNlIGxldHRlcicsIG5hbWUpO1xuICAgIH1cbiAgICBpZiAobmFtZSAhPT0gbmFtZS50cmltKCkpIHtcbiAgICAgIHRocm93ICRjb21waWxlTWluRXJyKCdiYWRkaXInLFxuICAgICAgICAgICAgJ0RpcmVjdGl2ZS9Db21wb25lbnQgbmFtZSBcXCd7MH1cXCcgaXMgaW52YWxpZC4gVGhlIG5hbWUgc2hvdWxkIG5vdCBjb250YWluIGxlYWRpbmcgb3IgdHJhaWxpbmcgd2hpdGVzcGFjZXMnLFxuICAgICAgICAgICAgbmFtZSk7XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gZ2V0RGlyZWN0aXZlUmVxdWlyZShkaXJlY3RpdmUpIHtcbiAgICB2YXIgcmVxdWlyZSA9IGRpcmVjdGl2ZS5yZXF1aXJlIHx8IChkaXJlY3RpdmUuY29udHJvbGxlciAmJiBkaXJlY3RpdmUubmFtZSk7XG5cbiAgICBpZiAoIWlzQXJyYXkocmVxdWlyZSkgJiYgaXNPYmplY3QocmVxdWlyZSkpIHtcbiAgICAgIGZvckVhY2gocmVxdWlyZSwgZnVuY3Rpb24odmFsdWUsIGtleSkge1xuICAgICAgICB2YXIgbWF0Y2ggPSB2YWx1ZS5tYXRjaChSRVFVSVJFX1BSRUZJWF9SRUdFWFApO1xuICAgICAgICB2YXIgbmFtZSA9IHZhbHVlLnN1YnN0cmluZyhtYXRjaFswXS5sZW5ndGgpO1xuICAgICAgICBpZiAoIW5hbWUpIHJlcXVpcmVba2V5XSA9IG1hdGNoWzBdICsga2V5O1xuICAgICAgfSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHJlcXVpcmU7XG4gIH1cblxuICBmdW5jdGlvbiBnZXREaXJlY3RpdmVSZXN0cmljdChyZXN0cmljdCwgbmFtZSkge1xuICAgIGlmIChyZXN0cmljdCAmJiAhKGlzU3RyaW5nKHJlc3RyaWN0KSAmJiAvW0VBQ01dLy50ZXN0KHJlc3RyaWN0KSkpIHtcbiAgICAgIHRocm93ICRjb21waWxlTWluRXJyKCdiYWRyZXN0cmljdCcsXG4gICAgICAgICAgJ1Jlc3RyaWN0IHByb3BlcnR5IFxcJ3swfVxcJyBvZiBkaXJlY3RpdmUgXFwnezF9XFwnIGlzIGludmFsaWQnLFxuICAgICAgICAgIHJlc3RyaWN0LFxuICAgICAgICAgIG5hbWUpO1xuICAgIH1cblxuICAgIHJldHVybiByZXN0cmljdCB8fCAnRUEnO1xuICB9XG5cbiAgLyoqXG4gICAqIEBuZ2RvYyBtZXRob2RcbiAgICogQG5hbWUgJGNvbXBpbGVQcm92aWRlciNkaXJlY3RpdmVcbiAgICogQGtpbmQgZnVuY3Rpb25cbiAgICpcbiAgICogQGRlc2NyaXB0aW9uXG4gICAqIFJlZ2lzdGVyIGEgbmV3IGRpcmVjdGl2ZSB3aXRoIHRoZSBjb21waWxlci5cbiAgICpcbiAgICogQHBhcmFtIHtzdHJpbmd8T2JqZWN0fSBuYW1lIE5hbWUgb2YgdGhlIGRpcmVjdGl2ZSBpbiBjYW1lbC1jYXNlIChpLmUuIDxjb2RlPm5nQmluZDwvY29kZT4gd2hpY2hcbiAgICogICAgd2lsbCBtYXRjaCBhcyA8Y29kZT5uZy1iaW5kPC9jb2RlPiksIG9yIGFuIG9iamVjdCBtYXAgb2YgZGlyZWN0aXZlcyB3aGVyZSB0aGUga2V5cyBhcmUgdGhlXG4gICAqICAgIG5hbWVzIGFuZCB0aGUgdmFsdWVzIGFyZSB0aGUgZmFjdG9yaWVzLlxuICAgKiBAcGFyYW0ge0Z1bmN0aW9ufEFycmF5fSBkaXJlY3RpdmVGYWN0b3J5IEFuIGluamVjdGFibGUgZGlyZWN0aXZlIGZhY3RvcnkgZnVuY3Rpb24uIFNlZSB0aGVcbiAgICogICAge0BsaW5rIGd1aWRlL2RpcmVjdGl2ZSBkaXJlY3RpdmUgZ3VpZGV9IGFuZCB0aGUge0BsaW5rICRjb21waWxlIGNvbXBpbGUgQVBJfSBmb3IgbW9yZSBpbmZvLlxuICAgKiBAcmV0dXJucyB7bmcuJGNvbXBpbGVQcm92aWRlcn0gU2VsZiBmb3IgY2hhaW5pbmcuXG4gICAqL1xuICB0aGlzLmRpcmVjdGl2ZSA9IGZ1bmN0aW9uIHJlZ2lzdGVyRGlyZWN0aXZlKG5hbWUsIGRpcmVjdGl2ZUZhY3RvcnkpIHtcbiAgICBhc3NlcnRBcmcobmFtZSwgJ25hbWUnKTtcbiAgICBhc3NlcnROb3RIYXNPd25Qcm9wZXJ0eShuYW1lLCAnZGlyZWN0aXZlJyk7XG4gICAgaWYgKGlzU3RyaW5nKG5hbWUpKSB7XG4gICAgICBhc3NlcnRWYWxpZERpcmVjdGl2ZU5hbWUobmFtZSk7XG4gICAgICBhc3NlcnRBcmcoZGlyZWN0aXZlRmFjdG9yeSwgJ2RpcmVjdGl2ZUZhY3RvcnknKTtcbiAgICAgIGlmICghaGFzRGlyZWN0aXZlcy5oYXNPd25Qcm9wZXJ0eShuYW1lKSkge1xuICAgICAgICBoYXNEaXJlY3RpdmVzW25hbWVdID0gW107XG4gICAgICAgICRwcm92aWRlLmZhY3RvcnkobmFtZSArIFN1ZmZpeCwgWyckaW5qZWN0b3InLCAnJGV4Y2VwdGlvbkhhbmRsZXInLFxuICAgICAgICAgIGZ1bmN0aW9uKCRpbmplY3RvciwgJGV4Y2VwdGlvbkhhbmRsZXIpIHtcbiAgICAgICAgICAgIHZhciBkaXJlY3RpdmVzID0gW107XG4gICAgICAgICAgICBmb3JFYWNoKGhhc0RpcmVjdGl2ZXNbbmFtZV0sIGZ1bmN0aW9uKGRpcmVjdGl2ZUZhY3RvcnksIGluZGV4KSB7XG4gICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgdmFyIGRpcmVjdGl2ZSA9ICRpbmplY3Rvci5pbnZva2UoZGlyZWN0aXZlRmFjdG9yeSk7XG4gICAgICAgICAgICAgICAgaWYgKGlzRnVuY3Rpb24oZGlyZWN0aXZlKSkge1xuICAgICAgICAgICAgICAgICAgZGlyZWN0aXZlID0geyBjb21waWxlOiB2YWx1ZUZuKGRpcmVjdGl2ZSkgfTtcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKCFkaXJlY3RpdmUuY29tcGlsZSAmJiBkaXJlY3RpdmUubGluaykge1xuICAgICAgICAgICAgICAgICAgZGlyZWN0aXZlLmNvbXBpbGUgPSB2YWx1ZUZuKGRpcmVjdGl2ZS5saW5rKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZGlyZWN0aXZlLnByaW9yaXR5ID0gZGlyZWN0aXZlLnByaW9yaXR5IHx8IDA7XG4gICAgICAgICAgICAgICAgZGlyZWN0aXZlLmluZGV4ID0gaW5kZXg7XG4gICAgICAgICAgICAgICAgZGlyZWN0aXZlLm5hbWUgPSBkaXJlY3RpdmUubmFtZSB8fCBuYW1lO1xuICAgICAgICAgICAgICAgIGRpcmVjdGl2ZS5yZXF1aXJlID0gZ2V0RGlyZWN0aXZlUmVxdWlyZShkaXJlY3RpdmUpO1xuICAgICAgICAgICAgICAgIGRpcmVjdGl2ZS5yZXN0cmljdCA9IGdldERpcmVjdGl2ZVJlc3RyaWN0KGRpcmVjdGl2ZS5yZXN0cmljdCwgbmFtZSk7XG4gICAgICAgICAgICAgICAgZGlyZWN0aXZlLiQkbW9kdWxlTmFtZSA9IGRpcmVjdGl2ZUZhY3RvcnkuJCRtb2R1bGVOYW1lO1xuICAgICAgICAgICAgICAgIGRpcmVjdGl2ZXMucHVzaChkaXJlY3RpdmUpO1xuICAgICAgICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgICAgICAgJGV4Y2VwdGlvbkhhbmRsZXIoZSk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgcmV0dXJuIGRpcmVjdGl2ZXM7XG4gICAgICAgICAgfV0pO1xuICAgICAgfVxuICAgICAgaGFzRGlyZWN0aXZlc1tuYW1lXS5wdXNoKGRpcmVjdGl2ZUZhY3RvcnkpO1xuICAgIH0gZWxzZSB7XG4gICAgICBmb3JFYWNoKG5hbWUsIHJldmVyc2VQYXJhbXMocmVnaXN0ZXJEaXJlY3RpdmUpKTtcbiAgICB9XG4gICAgcmV0dXJuIHRoaXM7XG4gIH07XG5cbiAgLyoqXG4gICAqIEBuZ2RvYyBtZXRob2RcbiAgICogQG5hbWUgJGNvbXBpbGVQcm92aWRlciNjb21wb25lbnRcbiAgICogQG1vZHVsZSBuZ1xuICAgKiBAcGFyYW0ge3N0cmluZ30gbmFtZSBOYW1lIG9mIHRoZSBjb21wb25lbnQgaW4gY2FtZWxDYXNlIChpLmUuIGBteUNvbXBgIHdoaWNoIHdpbGwgbWF0Y2ggYDxteS1jb21wPmApXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBvcHRpb25zIENvbXBvbmVudCBkZWZpbml0aW9uIG9iamVjdCAoYSBzaW1wbGlmaWVkXG4gICAqICAgIHtAbGluayBuZy4kY29tcGlsZSNkaXJlY3RpdmUtZGVmaW5pdGlvbi1vYmplY3QgZGlyZWN0aXZlIGRlZmluaXRpb24gb2JqZWN0fSksXG4gICAqICAgIHdpdGggdGhlIGZvbGxvd2luZyBwcm9wZXJ0aWVzIChhbGwgb3B0aW9uYWwpOlxuICAgKlxuICAgKiAgICAtIGBjb250cm9sbGVyYCDigJMgYHsoc3RyaW5nfGZ1bmN0aW9uKCk9fWAg4oCTIGNvbnRyb2xsZXIgY29uc3RydWN0b3IgZnVuY3Rpb24gdGhhdCBzaG91bGQgYmVcbiAgICogICAgICBhc3NvY2lhdGVkIHdpdGggbmV3bHkgY3JlYXRlZCBzY29wZSBvciB0aGUgbmFtZSBvZiBhIHtAbGluayBuZy4kY29tcGlsZSMtY29udHJvbGxlci1cbiAgICogICAgICByZWdpc3RlcmVkIGNvbnRyb2xsZXJ9IGlmIHBhc3NlZCBhcyBhIHN0cmluZy4gQW4gZW1wdHkgYG5vb3BgIGZ1bmN0aW9uIGJ5IGRlZmF1bHQuXG4gICAqICAgIC0gYGNvbnRyb2xsZXJBc2Ag4oCTIGB7c3RyaW5nPX1gIOKAkyBpZGVudGlmaWVyIG5hbWUgZm9yIHRvIHJlZmVyZW5jZSB0aGUgY29udHJvbGxlciBpbiB0aGUgY29tcG9uZW50J3Mgc2NvcGUuXG4gICAqICAgICAgSWYgcHJlc2VudCwgdGhlIGNvbnRyb2xsZXIgd2lsbCBiZSBwdWJsaXNoZWQgdG8gc2NvcGUgdW5kZXIgdGhlIGBjb250cm9sbGVyQXNgIG5hbWUuXG4gICAqICAgICAgSWYgbm90IHByZXNlbnQsIHRoaXMgd2lsbCBkZWZhdWx0IHRvIGJlIGAkY3RybGAuXG4gICAqICAgIC0gYHRlbXBsYXRlYCDigJMgYHtzdHJpbmc9fGZ1bmN0aW9uKCk9fWAg4oCTIGh0bWwgdGVtcGxhdGUgYXMgYSBzdHJpbmcgb3IgYSBmdW5jdGlvbiB0aGF0XG4gICAqICAgICAgcmV0dXJucyBhbiBodG1sIHRlbXBsYXRlIGFzIGEgc3RyaW5nIHdoaWNoIHNob3VsZCBiZSB1c2VkIGFzIHRoZSBjb250ZW50cyBvZiB0aGlzIGNvbXBvbmVudC5cbiAgICogICAgICBFbXB0eSBzdHJpbmcgYnkgZGVmYXVsdC5cbiAgICpcbiAgICogICAgICBJZiBgdGVtcGxhdGVgIGlzIGEgZnVuY3Rpb24sIHRoZW4gaXQgaXMge0BsaW5rIGF1dG8uJGluamVjdG9yI2ludm9rZSBpbmplY3RlZH0gd2l0aFxuICAgKiAgICAgIHRoZSBmb2xsb3dpbmcgbG9jYWxzOlxuICAgKlxuICAgKiAgICAgIC0gYCRlbGVtZW50YCAtIEN1cnJlbnQgZWxlbWVudFxuICAgKiAgICAgIC0gYCRhdHRyc2AgLSBDdXJyZW50IGF0dHJpYnV0ZXMgb2JqZWN0IGZvciB0aGUgZWxlbWVudFxuICAgKlxuICAgKiAgICAtIGB0ZW1wbGF0ZVVybGAg4oCTIGB7c3RyaW5nPXxmdW5jdGlvbigpPX1gIOKAkyBwYXRoIG9yIGZ1bmN0aW9uIHRoYXQgcmV0dXJucyBhIHBhdGggdG8gYW4gaHRtbFxuICAgKiAgICAgIHRlbXBsYXRlIHRoYXQgc2hvdWxkIGJlIHVzZWQgIGFzIHRoZSBjb250ZW50cyBvZiB0aGlzIGNvbXBvbmVudC5cbiAgICpcbiAgICogICAgICBJZiBgdGVtcGxhdGVVcmxgIGlzIGEgZnVuY3Rpb24sIHRoZW4gaXQgaXMge0BsaW5rIGF1dG8uJGluamVjdG9yI2ludm9rZSBpbmplY3RlZH0gd2l0aFxuICAgKiAgICAgIHRoZSBmb2xsb3dpbmcgbG9jYWxzOlxuICAgKlxuICAgKiAgICAgIC0gYCRlbGVtZW50YCAtIEN1cnJlbnQgZWxlbWVudFxuICAgKiAgICAgIC0gYCRhdHRyc2AgLSBDdXJyZW50IGF0dHJpYnV0ZXMgb2JqZWN0IGZvciB0aGUgZWxlbWVudFxuICAgKlxuICAgKiAgICAtIGBiaW5kaW5nc2Ag4oCTIGB7b2JqZWN0PX1gIOKAkyBkZWZpbmVzIGJpbmRpbmdzIGJldHdlZW4gRE9NIGF0dHJpYnV0ZXMgYW5kIGNvbXBvbmVudCBwcm9wZXJ0aWVzLlxuICAgKiAgICAgIENvbXBvbmVudCBwcm9wZXJ0aWVzIGFyZSBhbHdheXMgYm91bmQgdG8gdGhlIGNvbXBvbmVudCBjb250cm9sbGVyIGFuZCBub3QgdG8gdGhlIHNjb3BlLlxuICAgKiAgICAgIFNlZSB7QGxpbmsgbmcuJGNvbXBpbGUjLWJpbmR0b2NvbnRyb2xsZXItIGBiaW5kVG9Db250cm9sbGVyYH0uXG4gICAqICAgIC0gYHRyYW5zY2x1ZGVgIOKAkyBge2Jvb2xlYW49fWAg4oCTIHdoZXRoZXIge0BsaW5rICRjb21waWxlI3RyYW5zY2x1c2lvbiBjb250ZW50IHRyYW5zY2x1c2lvbn0gaXMgZW5hYmxlZC5cbiAgICogICAgICBEaXNhYmxlZCBieSBkZWZhdWx0LlxuICAgKiAgICAtIGByZXF1aXJlYCAtIGB7T2JqZWN0PHN0cmluZywgc3RyaW5nPj19YCAtIHJlcXVpcmVzIHRoZSBjb250cm9sbGVycyBvZiBvdGhlciBkaXJlY3RpdmVzIGFuZCBiaW5kcyB0aGVtIHRvXG4gICAqICAgICAgdGhpcyBjb21wb25lbnQncyBjb250cm9sbGVyLiBUaGUgb2JqZWN0IGtleXMgc3BlY2lmeSB0aGUgcHJvcGVydHkgbmFtZXMgdW5kZXIgd2hpY2ggdGhlIHJlcXVpcmVkXG4gICAqICAgICAgY29udHJvbGxlcnMgKG9iamVjdCB2YWx1ZXMpIHdpbGwgYmUgYm91bmQuIFNlZSB7QGxpbmsgbmcuJGNvbXBpbGUjLXJlcXVpcmUtIGByZXF1aXJlYH0uXG4gICAqICAgIC0gYCQuLi5gIOKAkyBhZGRpdGlvbmFsIHByb3BlcnRpZXMgdG8gYXR0YWNoIHRvIHRoZSBkaXJlY3RpdmUgZmFjdG9yeSBmdW5jdGlvbiBhbmQgdGhlIGNvbnRyb2xsZXJcbiAgICogICAgICBjb25zdHJ1Y3RvciBmdW5jdGlvbi4gKFRoaXMgaXMgdXNlZCBieSB0aGUgY29tcG9uZW50IHJvdXRlciB0byBhbm5vdGF0ZSlcbiAgICpcbiAgICogQHJldHVybnMge25nLiRjb21waWxlUHJvdmlkZXJ9IHRoZSBjb21waWxlIHByb3ZpZGVyIGl0c2VsZiwgZm9yIGNoYWluaW5nIG9mIGZ1bmN0aW9uIGNhbGxzLlxuICAgKiBAZGVzY3JpcHRpb25cbiAgICogUmVnaXN0ZXIgYSAqKmNvbXBvbmVudCBkZWZpbml0aW9uKiogd2l0aCB0aGUgY29tcGlsZXIuIFRoaXMgaXMgYSBzaG9ydGhhbmQgZm9yIHJlZ2lzdGVyaW5nIGEgc3BlY2lhbFxuICAgKiB0eXBlIG9mIGRpcmVjdGl2ZSwgd2hpY2ggcmVwcmVzZW50cyBhIHNlbGYtY29udGFpbmVkIFVJIGNvbXBvbmVudCBpbiB5b3VyIGFwcGxpY2F0aW9uLiBTdWNoIGNvbXBvbmVudHNcbiAgICogYXJlIGFsd2F5cyBpc29sYXRlZCAoaS5lLiBgc2NvcGU6IHt9YCkgYW5kIGFyZSBhbHdheXMgcmVzdHJpY3RlZCB0byBlbGVtZW50cyAoaS5lLiBgcmVzdHJpY3Q6ICdFJ2ApLlxuICAgKlxuICAgKiBDb21wb25lbnQgZGVmaW5pdGlvbnMgYXJlIHZlcnkgc2ltcGxlIGFuZCBkbyBub3QgcmVxdWlyZSBhcyBtdWNoIGNvbmZpZ3VyYXRpb24gYXMgZGVmaW5pbmcgZ2VuZXJhbFxuICAgKiBkaXJlY3RpdmVzLiBDb21wb25lbnQgZGVmaW5pdGlvbnMgdXN1YWxseSBjb25zaXN0IG9ubHkgb2YgYSB0ZW1wbGF0ZSBhbmQgYSBjb250cm9sbGVyIGJhY2tpbmcgaXQuXG4gICAqXG4gICAqIEluIG9yZGVyIHRvIG1ha2UgdGhlIGRlZmluaXRpb24gZWFzaWVyLCBjb21wb25lbnRzIGVuZm9yY2UgYmVzdCBwcmFjdGljZXMgbGlrZSB1c2Ugb2YgYGNvbnRyb2xsZXJBc2AsXG4gICAqIGBiaW5kVG9Db250cm9sbGVyYC4gVGhleSBhbHdheXMgaGF2ZSAqKmlzb2xhdGUgc2NvcGUqKiBhbmQgYXJlIHJlc3RyaWN0ZWQgdG8gZWxlbWVudHMuXG4gICAqXG4gICAqIEhlcmUgYXJlIGEgZmV3IGV4YW1wbGVzIG9mIGhvdyB5b3Ugd291bGQgdXN1YWxseSBkZWZpbmUgY29tcG9uZW50czpcbiAgICpcbiAgICogYGBganNcbiAgICogICB2YXIgbXlNb2QgPSBhbmd1bGFyLm1vZHVsZSguLi4pO1xuICAgKiAgIG15TW9kLmNvbXBvbmVudCgnbXlDb21wJywge1xuICAgKiAgICAgdGVtcGxhdGU6ICc8ZGl2Pk15IG5hbWUgaXMge3skY3RybC5uYW1lfX08L2Rpdj4nLFxuICAgKiAgICAgY29udHJvbGxlcjogZnVuY3Rpb24oKSB7XG4gICAqICAgICAgIHRoaXMubmFtZSA9ICdzaGFoYXInO1xuICAgKiAgICAgfVxuICAgKiAgIH0pO1xuICAgKlxuICAgKiAgIG15TW9kLmNvbXBvbmVudCgnbXlDb21wJywge1xuICAgKiAgICAgdGVtcGxhdGU6ICc8ZGl2Pk15IG5hbWUgaXMge3skY3RybC5uYW1lfX08L2Rpdj4nLFxuICAgKiAgICAgYmluZGluZ3M6IHtuYW1lOiAnQCd9XG4gICAqICAgfSk7XG4gICAqXG4gICAqICAgbXlNb2QuY29tcG9uZW50KCdteUNvbXAnLCB7XG4gICAqICAgICB0ZW1wbGF0ZVVybDogJ3ZpZXdzL215LWNvbXAuaHRtbCcsXG4gICAqICAgICBjb250cm9sbGVyOiAnTXlDdHJsJyxcbiAgICogICAgIGNvbnRyb2xsZXJBczogJ2N0cmwnLFxuICAgKiAgICAgYmluZGluZ3M6IHtuYW1lOiAnQCd9XG4gICAqICAgfSk7XG4gICAqXG4gICAqIGBgYFxuICAgKiBGb3IgbW9yZSBleGFtcGxlcywgYW5kIGFuIGluLWRlcHRoIGd1aWRlLCBzZWUgdGhlIHtAbGluayBndWlkZS9jb21wb25lbnQgY29tcG9uZW50IGd1aWRlfS5cbiAgICpcbiAgICogPGJyIC8+XG4gICAqIFNlZSBhbHNvIHtAbGluayBuZy4kY29tcGlsZVByb3ZpZGVyI2RpcmVjdGl2ZSAkY29tcGlsZVByb3ZpZGVyLmRpcmVjdGl2ZSgpfS5cbiAgICovXG4gIHRoaXMuY29tcG9uZW50ID0gZnVuY3Rpb24gcmVnaXN0ZXJDb21wb25lbnQobmFtZSwgb3B0aW9ucykge1xuICAgIHZhciBjb250cm9sbGVyID0gb3B0aW9ucy5jb250cm9sbGVyIHx8IGZ1bmN0aW9uKCkge307XG5cbiAgICBmdW5jdGlvbiBmYWN0b3J5KCRpbmplY3Rvcikge1xuICAgICAgZnVuY3Rpb24gbWFrZUluamVjdGFibGUoZm4pIHtcbiAgICAgICAgaWYgKGlzRnVuY3Rpb24oZm4pIHx8IGlzQXJyYXkoZm4pKSB7XG4gICAgICAgICAgcmV0dXJuIC8qKiBAdGhpcyAqLyBmdW5jdGlvbih0RWxlbWVudCwgdEF0dHJzKSB7XG4gICAgICAgICAgICByZXR1cm4gJGluamVjdG9yLmludm9rZShmbiwgdGhpcywgeyRlbGVtZW50OiB0RWxlbWVudCwgJGF0dHJzOiB0QXR0cnN9KTtcbiAgICAgICAgICB9O1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHJldHVybiBmbjtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICB2YXIgdGVtcGxhdGUgPSAoIW9wdGlvbnMudGVtcGxhdGUgJiYgIW9wdGlvbnMudGVtcGxhdGVVcmwgPyAnJyA6IG9wdGlvbnMudGVtcGxhdGUpO1xuICAgICAgdmFyIGRkbyA9IHtcbiAgICAgICAgY29udHJvbGxlcjogY29udHJvbGxlcixcbiAgICAgICAgY29udHJvbGxlckFzOiBpZGVudGlmaWVyRm9yQ29udHJvbGxlcihvcHRpb25zLmNvbnRyb2xsZXIpIHx8IG9wdGlvbnMuY29udHJvbGxlckFzIHx8ICckY3RybCcsXG4gICAgICAgIHRlbXBsYXRlOiBtYWtlSW5qZWN0YWJsZSh0ZW1wbGF0ZSksXG4gICAgICAgIHRlbXBsYXRlVXJsOiBtYWtlSW5qZWN0YWJsZShvcHRpb25zLnRlbXBsYXRlVXJsKSxcbiAgICAgICAgdHJhbnNjbHVkZTogb3B0aW9ucy50cmFuc2NsdWRlLFxuICAgICAgICBzY29wZToge30sXG4gICAgICAgIGJpbmRUb0NvbnRyb2xsZXI6IG9wdGlvbnMuYmluZGluZ3MgfHwge30sXG4gICAgICAgIHJlc3RyaWN0OiAnRScsXG4gICAgICAgIHJlcXVpcmU6IG9wdGlvbnMucmVxdWlyZVxuICAgICAgfTtcblxuICAgICAgLy8gQ29weSBhbm5vdGF0aW9ucyAoc3RhcnRpbmcgd2l0aCAkKSBvdmVyIHRvIHRoZSBERE9cbiAgICAgIGZvckVhY2gob3B0aW9ucywgZnVuY3Rpb24odmFsLCBrZXkpIHtcbiAgICAgICAgaWYgKGtleS5jaGFyQXQoMCkgPT09ICckJykgZGRvW2tleV0gPSB2YWw7XG4gICAgICB9KTtcblxuICAgICAgcmV0dXJuIGRkbztcbiAgICB9XG5cbiAgICAvLyBUT0RPKHBldGUpIHJlbW92ZSB0aGUgZm9sbG93aW5nIGBmb3JFYWNoYCBiZWZvcmUgd2UgcmVsZWFzZSAxLjYuMFxuICAgIC8vIFRoZSBjb21wb25lbnQtcm91dGVyQDAuMi4wIGxvb2tzIGZvciB0aGUgYW5ub3RhdGlvbnMgb24gdGhlIGNvbnRyb2xsZXIgY29uc3RydWN0b3JcbiAgICAvLyBOb3RoaW5nIGluIEFuZ3VsYXIgbG9va3MgZm9yIGFubm90YXRpb25zIG9uIHRoZSBmYWN0b3J5IGZ1bmN0aW9uIGJ1dCB3ZSBjYW4ndCByZW1vdmVcbiAgICAvLyBpdCBmcm9tIDEuNS54IHlldC5cblxuICAgIC8vIENvcHkgYW55IGFubm90YXRpb24gcHJvcGVydGllcyAoc3RhcnRpbmcgd2l0aCAkKSBvdmVyIHRvIHRoZSBmYWN0b3J5IGFuZCBjb250cm9sbGVyIGNvbnN0cnVjdG9yIGZ1bmN0aW9uc1xuICAgIC8vIFRoZXNlIGNvdWxkIGJlIHVzZWQgYnkgbGlicmFyaWVzIHN1Y2ggYXMgdGhlIG5ldyBjb21wb25lbnQgcm91dGVyXG4gICAgZm9yRWFjaChvcHRpb25zLCBmdW5jdGlvbih2YWwsIGtleSkge1xuICAgICAgaWYgKGtleS5jaGFyQXQoMCkgPT09ICckJykge1xuICAgICAgICBmYWN0b3J5W2tleV0gPSB2YWw7XG4gICAgICAgIC8vIERvbid0IHRyeSB0byBjb3B5IG92ZXIgYW5ub3RhdGlvbnMgdG8gbmFtZWQgY29udHJvbGxlclxuICAgICAgICBpZiAoaXNGdW5jdGlvbihjb250cm9sbGVyKSkgY29udHJvbGxlcltrZXldID0gdmFsO1xuICAgICAgfVxuICAgIH0pO1xuXG4gICAgZmFjdG9yeS4kaW5qZWN0ID0gWyckaW5qZWN0b3InXTtcblxuICAgIHJldHVybiB0aGlzLmRpcmVjdGl2ZShuYW1lLCBmYWN0b3J5KTtcbiAgfTtcblxuXG4gIC8qKlxuICAgKiBAbmdkb2MgbWV0aG9kXG4gICAqIEBuYW1lICRjb21waWxlUHJvdmlkZXIjYUhyZWZTYW5pdGl6YXRpb25XaGl0ZWxpc3RcbiAgICogQGtpbmQgZnVuY3Rpb25cbiAgICpcbiAgICogQGRlc2NyaXB0aW9uXG4gICAqIFJldHJpZXZlcyBvciBvdmVycmlkZXMgdGhlIGRlZmF1bHQgcmVndWxhciBleHByZXNzaW9uIHRoYXQgaXMgdXNlZCBmb3Igd2hpdGVsaXN0aW5nIG9mIHNhZmVcbiAgICogdXJscyBkdXJpbmcgYVtocmVmXSBzYW5pdGl6YXRpb24uXG4gICAqXG4gICAqIFRoZSBzYW5pdGl6YXRpb24gaXMgYSBzZWN1cml0eSBtZWFzdXJlIGFpbWVkIGF0IHByZXZlbnRpbmcgWFNTIGF0dGFja3MgdmlhIGh0bWwgbGlua3MuXG4gICAqXG4gICAqIEFueSB1cmwgYWJvdXQgdG8gYmUgYXNzaWduZWQgdG8gYVtocmVmXSB2aWEgZGF0YS1iaW5kaW5nIGlzIGZpcnN0IG5vcm1hbGl6ZWQgYW5kIHR1cm5lZCBpbnRvXG4gICAqIGFuIGFic29sdXRlIHVybC4gQWZ0ZXJ3YXJkcywgdGhlIHVybCBpcyBtYXRjaGVkIGFnYWluc3QgdGhlIGBhSHJlZlNhbml0aXphdGlvbldoaXRlbGlzdGBcbiAgICogcmVndWxhciBleHByZXNzaW9uLiBJZiBhIG1hdGNoIGlzIGZvdW5kLCB0aGUgb3JpZ2luYWwgdXJsIGlzIHdyaXR0ZW4gaW50byB0aGUgZG9tLiBPdGhlcndpc2UsXG4gICAqIHRoZSBhYnNvbHV0ZSB1cmwgaXMgcHJlZml4ZWQgd2l0aCBgJ3Vuc2FmZTonYCBzdHJpbmcgYW5kIG9ubHkgdGhlbiBpcyBpdCB3cml0dGVuIGludG8gdGhlIERPTS5cbiAgICpcbiAgICogQHBhcmFtIHtSZWdFeHA9fSByZWdleHAgTmV3IHJlZ2V4cCB0byB3aGl0ZWxpc3QgdXJscyB3aXRoLlxuICAgKiBAcmV0dXJucyB7UmVnRXhwfG5nLiRjb21waWxlUHJvdmlkZXJ9IEN1cnJlbnQgUmVnRXhwIGlmIGNhbGxlZCB3aXRob3V0IHZhbHVlIG9yIHNlbGYgZm9yXG4gICAqICAgIGNoYWluaW5nIG90aGVyd2lzZS5cbiAgICovXG4gIHRoaXMuYUhyZWZTYW5pdGl6YXRpb25XaGl0ZWxpc3QgPSBmdW5jdGlvbihyZWdleHApIHtcbiAgICBpZiAoaXNEZWZpbmVkKHJlZ2V4cCkpIHtcbiAgICAgICQkc2FuaXRpemVVcmlQcm92aWRlci5hSHJlZlNhbml0aXphdGlvbldoaXRlbGlzdChyZWdleHApO1xuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiAkJHNhbml0aXplVXJpUHJvdmlkZXIuYUhyZWZTYW5pdGl6YXRpb25XaGl0ZWxpc3QoKTtcbiAgICB9XG4gIH07XG5cblxuICAvKipcbiAgICogQG5nZG9jIG1ldGhvZFxuICAgKiBAbmFtZSAkY29tcGlsZVByb3ZpZGVyI2ltZ1NyY1Nhbml0aXphdGlvbldoaXRlbGlzdFxuICAgKiBAa2luZCBmdW5jdGlvblxuICAgKlxuICAgKiBAZGVzY3JpcHRpb25cbiAgICogUmV0cmlldmVzIG9yIG92ZXJyaWRlcyB0aGUgZGVmYXVsdCByZWd1bGFyIGV4cHJlc3Npb24gdGhhdCBpcyB1c2VkIGZvciB3aGl0ZWxpc3Rpbmcgb2Ygc2FmZVxuICAgKiB1cmxzIGR1cmluZyBpbWdbc3JjXSBzYW5pdGl6YXRpb24uXG4gICAqXG4gICAqIFRoZSBzYW5pdGl6YXRpb24gaXMgYSBzZWN1cml0eSBtZWFzdXJlIGFpbWVkIGF0IHByZXZlbnQgWFNTIGF0dGFja3MgdmlhIGh0bWwgbGlua3MuXG4gICAqXG4gICAqIEFueSB1cmwgYWJvdXQgdG8gYmUgYXNzaWduZWQgdG8gaW1nW3NyY10gdmlhIGRhdGEtYmluZGluZyBpcyBmaXJzdCBub3JtYWxpemVkIGFuZCB0dXJuZWQgaW50b1xuICAgKiBhbiBhYnNvbHV0ZSB1cmwuIEFmdGVyd2FyZHMsIHRoZSB1cmwgaXMgbWF0Y2hlZCBhZ2FpbnN0IHRoZSBgaW1nU3JjU2FuaXRpemF0aW9uV2hpdGVsaXN0YFxuICAgKiByZWd1bGFyIGV4cHJlc3Npb24uIElmIGEgbWF0Y2ggaXMgZm91bmQsIHRoZSBvcmlnaW5hbCB1cmwgaXMgd3JpdHRlbiBpbnRvIHRoZSBkb20uIE90aGVyd2lzZSxcbiAgICogdGhlIGFic29sdXRlIHVybCBpcyBwcmVmaXhlZCB3aXRoIGAndW5zYWZlOidgIHN0cmluZyBhbmQgb25seSB0aGVuIGlzIGl0IHdyaXR0ZW4gaW50byB0aGUgRE9NLlxuICAgKlxuICAgKiBAcGFyYW0ge1JlZ0V4cD19IHJlZ2V4cCBOZXcgcmVnZXhwIHRvIHdoaXRlbGlzdCB1cmxzIHdpdGguXG4gICAqIEByZXR1cm5zIHtSZWdFeHB8bmcuJGNvbXBpbGVQcm92aWRlcn0gQ3VycmVudCBSZWdFeHAgaWYgY2FsbGVkIHdpdGhvdXQgdmFsdWUgb3Igc2VsZiBmb3JcbiAgICogICAgY2hhaW5pbmcgb3RoZXJ3aXNlLlxuICAgKi9cbiAgdGhpcy5pbWdTcmNTYW5pdGl6YXRpb25XaGl0ZWxpc3QgPSBmdW5jdGlvbihyZWdleHApIHtcbiAgICBpZiAoaXNEZWZpbmVkKHJlZ2V4cCkpIHtcbiAgICAgICQkc2FuaXRpemVVcmlQcm92aWRlci5pbWdTcmNTYW5pdGl6YXRpb25XaGl0ZWxpc3QocmVnZXhwKTtcbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gJCRzYW5pdGl6ZVVyaVByb3ZpZGVyLmltZ1NyY1Nhbml0aXphdGlvbldoaXRlbGlzdCgpO1xuICAgIH1cbiAgfTtcblxuICAvKipcbiAgICogQG5nZG9jIG1ldGhvZFxuICAgKiBAbmFtZSAgJGNvbXBpbGVQcm92aWRlciNkZWJ1Z0luZm9FbmFibGVkXG4gICAqXG4gICAqIEBwYXJhbSB7Ym9vbGVhbj19IGVuYWJsZWQgdXBkYXRlIHRoZSBkZWJ1Z0luZm9FbmFibGVkIHN0YXRlIGlmIHByb3ZpZGVkLCBvdGhlcndpc2UganVzdCByZXR1cm4gdGhlXG4gICAqIGN1cnJlbnQgZGVidWdJbmZvRW5hYmxlZCBzdGF0ZVxuICAgKiBAcmV0dXJucyB7Kn0gY3VycmVudCB2YWx1ZSBpZiB1c2VkIGFzIGdldHRlciBvciBpdHNlbGYgKGNoYWluaW5nKSBpZiB1c2VkIGFzIHNldHRlclxuICAgKlxuICAgKiBAa2luZCBmdW5jdGlvblxuICAgKlxuICAgKiBAZGVzY3JpcHRpb25cbiAgICogQ2FsbCB0aGlzIG1ldGhvZCB0byBlbmFibGUvZGlzYWJsZSB2YXJpb3VzIGRlYnVnIHJ1bnRpbWUgaW5mb3JtYXRpb24gaW4gdGhlIGNvbXBpbGVyIHN1Y2ggYXMgYWRkaW5nXG4gICAqIGJpbmRpbmcgaW5mb3JtYXRpb24gYW5kIGEgcmVmZXJlbmNlIHRvIHRoZSBjdXJyZW50IHNjb3BlIG9uIHRvIERPTSBlbGVtZW50cy5cbiAgICogSWYgZW5hYmxlZCwgdGhlIGNvbXBpbGVyIHdpbGwgYWRkIHRoZSBmb2xsb3dpbmcgdG8gRE9NIGVsZW1lbnRzIHRoYXQgaGF2ZSBiZWVuIGJvdW5kIHRvIHRoZSBzY29wZVxuICAgKiAqIGBuZy1iaW5kaW5nYCBDU1MgY2xhc3NcbiAgICogKiBgJGJpbmRpbmdgIGRhdGEgcHJvcGVydHkgY29udGFpbmluZyBhbiBhcnJheSBvZiB0aGUgYmluZGluZyBleHByZXNzaW9uc1xuICAgKlxuICAgKiBZb3UgbWF5IHdhbnQgdG8gZGlzYWJsZSB0aGlzIGluIHByb2R1Y3Rpb24gZm9yIGEgc2lnbmlmaWNhbnQgcGVyZm9ybWFuY2UgYm9vc3QuIFNlZVxuICAgKiB7QGxpbmsgZ3VpZGUvcHJvZHVjdGlvbiNkaXNhYmxpbmctZGVidWctZGF0YSBEaXNhYmxpbmcgRGVidWcgRGF0YX0gZm9yIG1vcmUuXG4gICAqXG4gICAqIFRoZSBkZWZhdWx0IHZhbHVlIGlzIHRydWUuXG4gICAqL1xuICB2YXIgZGVidWdJbmZvRW5hYmxlZCA9IHRydWU7XG4gIHRoaXMuZGVidWdJbmZvRW5hYmxlZCA9IGZ1bmN0aW9uKGVuYWJsZWQpIHtcbiAgICBpZiAoaXNEZWZpbmVkKGVuYWJsZWQpKSB7XG4gICAgICBkZWJ1Z0luZm9FbmFibGVkID0gZW5hYmxlZDtcbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICByZXR1cm4gZGVidWdJbmZvRW5hYmxlZDtcbiAgfTtcblxuICAvKipcbiAgICogQG5nZG9jIG1ldGhvZFxuICAgKiBAbmFtZSAgJGNvbXBpbGVQcm92aWRlciNwcmVBc3NpZ25CaW5kaW5nc0VuYWJsZWRcbiAgICpcbiAgICogQHBhcmFtIHtib29sZWFuPX0gZW5hYmxlZCB1cGRhdGUgdGhlIHByZUFzc2lnbkJpbmRpbmdzRW5hYmxlZCBzdGF0ZSBpZiBwcm92aWRlZCwgb3RoZXJ3aXNlIGp1c3QgcmV0dXJuIHRoZVxuICAgKiBjdXJyZW50IHByZUFzc2lnbkJpbmRpbmdzRW5hYmxlZCBzdGF0ZVxuICAgKiBAcmV0dXJucyB7Kn0gY3VycmVudCB2YWx1ZSBpZiB1c2VkIGFzIGdldHRlciBvciBpdHNlbGYgKGNoYWluaW5nKSBpZiB1c2VkIGFzIHNldHRlclxuICAgKlxuICAgKiBAa2luZCBmdW5jdGlvblxuICAgKlxuICAgKiBAZGVzY3JpcHRpb25cbiAgICogQ2FsbCB0aGlzIG1ldGhvZCB0byBlbmFibGUvZGlzYWJsZSB3aGV0aGVyIGRpcmVjdGl2ZSBjb250cm9sbGVycyBhcmUgYXNzaWduZWQgYmluZGluZ3MgYmVmb3JlXG4gICAqIGNhbGxpbmcgdGhlIGNvbnRyb2xsZXIncyBjb25zdHJ1Y3Rvci5cbiAgICogSWYgZW5hYmxlZCAodHJ1ZSksIHRoZSBjb21waWxlciBhc3NpZ25zIHRoZSB2YWx1ZSBvZiBlYWNoIG9mIHRoZSBiaW5kaW5ncyB0byB0aGVcbiAgICogcHJvcGVydGllcyBvZiB0aGUgY29udHJvbGxlciBvYmplY3QgYmVmb3JlIHRoZSBjb25zdHJ1Y3RvciBvZiB0aGlzIG9iamVjdCBpcyBjYWxsZWQuXG4gICAqXG4gICAqIElmIGRpc2FibGVkIChmYWxzZSksIHRoZSBjb21waWxlciBjYWxscyB0aGUgY29uc3RydWN0b3IgZmlyc3QgYmVmb3JlIGFzc2lnbmluZyBiaW5kaW5ncy5cbiAgICpcbiAgICogVGhlIGRlZmF1bHQgdmFsdWUgaXMgZmFsc2UuXG4gICAqXG4gICAqIEBkZXByZWNhdGVkXG4gICAqIHNpbmNlVmVyc2lvbj1cIjEuNi4wXCJcbiAgICogcmVtb3ZlVmVyc2lvbj1cIjEuNy4wXCJcbiAgICpcbiAgICogVGhpcyBtZXRob2QgYW5kIHRoZSBvcHRpb24gdG8gYXNzaWduIHRoZSBiaW5kaW5ncyBiZWZvcmUgY2FsbGluZyB0aGUgY29udHJvbGxlcidzIGNvbnN0cnVjdG9yXG4gICAqIHdpbGwgYmUgcmVtb3ZlZCBpbiB2MS43LjAuXG4gICAqL1xuICB2YXIgcHJlQXNzaWduQmluZGluZ3NFbmFibGVkID0gZmFsc2U7XG4gIHRoaXMucHJlQXNzaWduQmluZGluZ3NFbmFibGVkID0gZnVuY3Rpb24oZW5hYmxlZCkge1xuICAgIGlmIChpc0RlZmluZWQoZW5hYmxlZCkpIHtcbiAgICAgIHByZUFzc2lnbkJpbmRpbmdzRW5hYmxlZCA9IGVuYWJsZWQ7XG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgcmV0dXJuIHByZUFzc2lnbkJpbmRpbmdzRW5hYmxlZDtcbiAgfTtcblxuXG4gIHZhciBUVEwgPSAxMDtcbiAgLyoqXG4gICAqIEBuZ2RvYyBtZXRob2RcbiAgICogQG5hbWUgJGNvbXBpbGVQcm92aWRlciNvbkNoYW5nZXNUdGxcbiAgICogQGRlc2NyaXB0aW9uXG4gICAqXG4gICAqIFNldHMgdGhlIG51bWJlciBvZiB0aW1lcyBgJG9uQ2hhbmdlc2AgaG9va3MgY2FuIHRyaWdnZXIgbmV3IGNoYW5nZXMgYmVmb3JlIGdpdmluZyB1cCBhbmRcbiAgICogYXNzdW1pbmcgdGhhdCB0aGUgbW9kZWwgaXMgdW5zdGFibGUuXG4gICAqXG4gICAqIFRoZSBjdXJyZW50IGRlZmF1bHQgaXMgMTAgaXRlcmF0aW9ucy5cbiAgICpcbiAgICogSW4gY29tcGxleCBhcHBsaWNhdGlvbnMgaXQncyBwb3NzaWJsZSB0aGF0IGRlcGVuZGVuY2llcyBiZXR3ZWVuIGAkb25DaGFuZ2VzYCBob29rcyBhbmQgYmluZGluZ3Mgd2lsbCByZXN1bHRcbiAgICogaW4gc2V2ZXJhbCBpdGVyYXRpb25zIG9mIGNhbGxzIHRvIHRoZXNlIGhvb2tzLiBIb3dldmVyIGlmIGFuIGFwcGxpY2F0aW9uIG5lZWRzIG1vcmUgdGhhbiB0aGUgZGVmYXVsdCAxMFxuICAgKiBpdGVyYXRpb25zIHRvIHN0YWJpbGl6ZSB0aGVuIHlvdSBzaG91bGQgaW52ZXN0aWdhdGUgd2hhdCBpcyBjYXVzaW5nIHRoZSBtb2RlbCB0byBjb250aW51b3VzbHkgY2hhbmdlIGR1cmluZ1xuICAgKiB0aGUgYCRvbkNoYW5nZXNgIGhvb2sgZXhlY3V0aW9uLlxuICAgKlxuICAgKiBJbmNyZWFzaW5nIHRoZSBUVEwgY291bGQgaGF2ZSBwZXJmb3JtYW5jZSBpbXBsaWNhdGlvbnMsIHNvIHlvdSBzaG91bGQgbm90IGNoYW5nZSBpdCB3aXRob3V0IHByb3BlciBqdXN0aWZpY2F0aW9uLlxuICAgKlxuICAgKiBAcGFyYW0ge251bWJlcn0gbGltaXQgVGhlIG51bWJlciBvZiBgJG9uQ2hhbmdlc2AgaG9vayBpdGVyYXRpb25zLlxuICAgKiBAcmV0dXJucyB7bnVtYmVyfG9iamVjdH0gdGhlIGN1cnJlbnQgbGltaXQgKG9yIGB0aGlzYCBpZiBjYWxsZWQgYXMgYSBzZXR0ZXIgZm9yIGNoYWluaW5nKVxuICAgKi9cbiAgdGhpcy5vbkNoYW5nZXNUdGwgPSBmdW5jdGlvbih2YWx1ZSkge1xuICAgIGlmIChhcmd1bWVudHMubGVuZ3RoKSB7XG4gICAgICBUVEwgPSB2YWx1ZTtcbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICByZXR1cm4gVFRMO1xuICB9O1xuXG4gIHZhciBjb21tZW50RGlyZWN0aXZlc0VuYWJsZWRDb25maWcgPSB0cnVlO1xuICAvKipcbiAgICogQG5nZG9jIG1ldGhvZFxuICAgKiBAbmFtZSAkY29tcGlsZVByb3ZpZGVyI2NvbW1lbnREaXJlY3RpdmVzRW5hYmxlZFxuICAgKiBAZGVzY3JpcHRpb25cbiAgICpcbiAgICogSXQgaW5kaWNhdGVzIHRvIHRoZSBjb21waWxlclxuICAgKiB3aGV0aGVyIG9yIG5vdCBkaXJlY3RpdmVzIG9uIGNvbW1lbnRzIHNob3VsZCBiZSBjb21waWxlZC5cbiAgICogRGVmYXVsdHMgdG8gYHRydWVgLlxuICAgKlxuICAgKiBDYWxsaW5nIHRoaXMgZnVuY3Rpb24gd2l0aCBmYWxzZSBkaXNhYmxlcyB0aGUgY29tcGlsYXRpb24gb2YgZGlyZWN0aXZlc1xuICAgKiBvbiBjb21tZW50cyBmb3IgdGhlIHdob2xlIGFwcGxpY2F0aW9uLlxuICAgKiBUaGlzIHJlc3VsdHMgaW4gYSBjb21waWxhdGlvbiBwZXJmb3JtYW5jZSBnYWluLFxuICAgKiBhcyB0aGUgY29tcGlsZXIgZG9lc24ndCBoYXZlIHRvIGNoZWNrIGNvbW1lbnRzIHdoZW4gbG9va2luZyBmb3IgZGlyZWN0aXZlcy5cbiAgICogVGhpcyBzaG91bGQgaG93ZXZlciBvbmx5IGJlIHVzZWQgaWYgeW91IGFyZSBzdXJlIHRoYXQgbm8gY29tbWVudCBkaXJlY3RpdmVzIGFyZSB1c2VkIGluXG4gICAqIHRoZSBhcHBsaWNhdGlvbiAoaW5jbHVkaW5nIGFueSAzcmQgcGFydHkgZGlyZWN0aXZlcykuXG4gICAqXG4gICAqIEBwYXJhbSB7Ym9vbGVhbn0gZW5hYmxlZCBgZmFsc2VgIGlmIHRoZSBjb21waWxlciBtYXkgaWdub3JlIGRpcmVjdGl2ZXMgb24gY29tbWVudHNcbiAgICogQHJldHVybnMge2Jvb2xlYW58b2JqZWN0fSB0aGUgY3VycmVudCB2YWx1ZSAob3IgYHRoaXNgIGlmIGNhbGxlZCBhcyBhIHNldHRlciBmb3IgY2hhaW5pbmcpXG4gICAqL1xuICB0aGlzLmNvbW1lbnREaXJlY3RpdmVzRW5hYmxlZCA9IGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgaWYgKGFyZ3VtZW50cy5sZW5ndGgpIHtcbiAgICAgIGNvbW1lbnREaXJlY3RpdmVzRW5hYmxlZENvbmZpZyA9IHZhbHVlO1xuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICAgIHJldHVybiBjb21tZW50RGlyZWN0aXZlc0VuYWJsZWRDb25maWc7XG4gIH07XG5cblxuICB2YXIgY3NzQ2xhc3NEaXJlY3RpdmVzRW5hYmxlZENvbmZpZyA9IHRydWU7XG4gIC8qKlxuICAgKiBAbmdkb2MgbWV0aG9kXG4gICAqIEBuYW1lICRjb21waWxlUHJvdmlkZXIjY3NzQ2xhc3NEaXJlY3RpdmVzRW5hYmxlZFxuICAgKiBAZGVzY3JpcHRpb25cbiAgICpcbiAgICogSXQgaW5kaWNhdGVzIHRvIHRoZSBjb21waWxlclxuICAgKiB3aGV0aGVyIG9yIG5vdCBkaXJlY3RpdmVzIG9uIGVsZW1lbnQgY2xhc3NlcyBzaG91bGQgYmUgY29tcGlsZWQuXG4gICAqIERlZmF1bHRzIHRvIGB0cnVlYC5cbiAgICpcbiAgICogQ2FsbGluZyB0aGlzIGZ1bmN0aW9uIHdpdGggZmFsc2UgZGlzYWJsZXMgdGhlIGNvbXBpbGF0aW9uIG9mIGRpcmVjdGl2ZXNcbiAgICogb24gZWxlbWVudCBjbGFzc2VzIGZvciB0aGUgd2hvbGUgYXBwbGljYXRpb24uXG4gICAqIFRoaXMgcmVzdWx0cyBpbiBhIGNvbXBpbGF0aW9uIHBlcmZvcm1hbmNlIGdhaW4sXG4gICAqIGFzIHRoZSBjb21waWxlciBkb2Vzbid0IGhhdmUgdG8gY2hlY2sgZWxlbWVudCBjbGFzc2VzIHdoZW4gbG9va2luZyBmb3IgZGlyZWN0aXZlcy5cbiAgICogVGhpcyBzaG91bGQgaG93ZXZlciBvbmx5IGJlIHVzZWQgaWYgeW91IGFyZSBzdXJlIHRoYXQgbm8gY2xhc3MgZGlyZWN0aXZlcyBhcmUgdXNlZCBpblxuICAgKiB0aGUgYXBwbGljYXRpb24gKGluY2x1ZGluZyBhbnkgM3JkIHBhcnR5IGRpcmVjdGl2ZXMpLlxuICAgKlxuICAgKiBAcGFyYW0ge2Jvb2xlYW59IGVuYWJsZWQgYGZhbHNlYCBpZiB0aGUgY29tcGlsZXIgbWF5IGlnbm9yZSBkaXJlY3RpdmVzIG9uIGVsZW1lbnQgY2xhc3Nlc1xuICAgKiBAcmV0dXJucyB7Ym9vbGVhbnxvYmplY3R9IHRoZSBjdXJyZW50IHZhbHVlIChvciBgdGhpc2AgaWYgY2FsbGVkIGFzIGEgc2V0dGVyIGZvciBjaGFpbmluZylcbiAgICovXG4gIHRoaXMuY3NzQ2xhc3NEaXJlY3RpdmVzRW5hYmxlZCA9IGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgaWYgKGFyZ3VtZW50cy5sZW5ndGgpIHtcbiAgICAgIGNzc0NsYXNzRGlyZWN0aXZlc0VuYWJsZWRDb25maWcgPSB2YWx1ZTtcbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICByZXR1cm4gY3NzQ2xhc3NEaXJlY3RpdmVzRW5hYmxlZENvbmZpZztcbiAgfTtcblxuICB0aGlzLiRnZXQgPSBbXG4gICAgICAgICAgICAnJGluamVjdG9yJywgJyRpbnRlcnBvbGF0ZScsICckZXhjZXB0aW9uSGFuZGxlcicsICckdGVtcGxhdGVSZXF1ZXN0JywgJyRwYXJzZScsXG4gICAgICAgICAgICAnJGNvbnRyb2xsZXInLCAnJHJvb3RTY29wZScsICckc2NlJywgJyRhbmltYXRlJywgJyQkc2FuaXRpemVVcmknLFxuICAgIGZ1bmN0aW9uKCRpbmplY3RvciwgICAkaW50ZXJwb2xhdGUsICAgJGV4Y2VwdGlvbkhhbmRsZXIsICAgJHRlbXBsYXRlUmVxdWVzdCwgICAkcGFyc2UsXG4gICAgICAgICAgICAgJGNvbnRyb2xsZXIsICAgJHJvb3RTY29wZSwgICAkc2NlLCAgICRhbmltYXRlLCAgICQkc2FuaXRpemVVcmkpIHtcblxuICAgIHZhciBTSU1QTEVfQVRUUl9OQU1FID0gL15cXHcvO1xuICAgIHZhciBzcGVjaWFsQXR0ckhvbGRlciA9IHdpbmRvdy5kb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcblxuXG4gICAgdmFyIGNvbW1lbnREaXJlY3RpdmVzRW5hYmxlZCA9IGNvbW1lbnREaXJlY3RpdmVzRW5hYmxlZENvbmZpZztcbiAgICB2YXIgY3NzQ2xhc3NEaXJlY3RpdmVzRW5hYmxlZCA9IGNzc0NsYXNzRGlyZWN0aXZlc0VuYWJsZWRDb25maWc7XG5cblxuICAgIHZhciBvbkNoYW5nZXNUdGwgPSBUVEw7XG4gICAgLy8gVGhlIG9uQ2hhbmdlcyBob29rcyBzaG91bGQgYWxsIGJlIHJ1biB0b2dldGhlciBpbiBhIHNpbmdsZSBkaWdlc3RcbiAgICAvLyBXaGVuIGNoYW5nZXMgb2NjdXIsIHRoZSBjYWxsIHRvIHRyaWdnZXIgdGhlaXIgaG9va3Mgd2lsbCBiZSBhZGRlZCB0byB0aGlzIHF1ZXVlXG4gICAgdmFyIG9uQ2hhbmdlc1F1ZXVlO1xuXG4gICAgLy8gVGhpcyBmdW5jdGlvbiBpcyBjYWxsZWQgaW4gYSAkJHBvc3REaWdlc3QgdG8gdHJpZ2dlciBhbGwgdGhlIG9uQ2hhbmdlcyBob29rcyBpbiBhIHNpbmdsZSBkaWdlc3RcbiAgICBmdW5jdGlvbiBmbHVzaE9uQ2hhbmdlc1F1ZXVlKCkge1xuICAgICAgdHJ5IHtcbiAgICAgICAgaWYgKCEoLS1vbkNoYW5nZXNUdGwpKSB7XG4gICAgICAgICAgLy8gV2UgaGF2ZSBoaXQgdGhlIFRUTCBsaW1pdCBzbyByZXNldCBldmVyeXRoaW5nXG4gICAgICAgICAgb25DaGFuZ2VzUXVldWUgPSB1bmRlZmluZWQ7XG4gICAgICAgICAgdGhyb3cgJGNvbXBpbGVNaW5FcnIoJ2luZmNobmcnLCAnezB9ICRvbkNoYW5nZXMoKSBpdGVyYXRpb25zIHJlYWNoZWQuIEFib3J0aW5nIVxcbicsIFRUTCk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gV2UgbXVzdCBydW4gdGhpcyBob29rIGluIGFuIGFwcGx5IHNpbmNlIHRoZSAkJHBvc3REaWdlc3QgcnVucyBvdXRzaWRlIGFwcGx5XG4gICAgICAgICRyb290U2NvcGUuJGFwcGx5KGZ1bmN0aW9uKCkge1xuICAgICAgICAgIHZhciBlcnJvcnMgPSBbXTtcbiAgICAgICAgICBmb3IgKHZhciBpID0gMCwgaWkgPSBvbkNoYW5nZXNRdWV1ZS5sZW5ndGg7IGkgPCBpaTsgKytpKSB7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICBvbkNoYW5nZXNRdWV1ZVtpXSgpO1xuICAgICAgICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAgICAgICBlcnJvcnMucHVzaChlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgICAgLy8gUmVzZXQgdGhlIHF1ZXVlIHRvIHRyaWdnZXIgYSBuZXcgc2NoZWR1bGUgbmV4dCB0aW1lIHRoZXJlIGlzIGEgY2hhbmdlXG4gICAgICAgICAgb25DaGFuZ2VzUXVldWUgPSB1bmRlZmluZWQ7XG4gICAgICAgICAgaWYgKGVycm9ycy5sZW5ndGgpIHtcbiAgICAgICAgICAgIHRocm93IGVycm9ycztcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgb25DaGFuZ2VzVHRsKys7XG4gICAgICB9XG4gICAgfVxuXG5cbiAgICBmdW5jdGlvbiBBdHRyaWJ1dGVzKGVsZW1lbnQsIGF0dHJpYnV0ZXNUb0NvcHkpIHtcbiAgICAgIGlmIChhdHRyaWJ1dGVzVG9Db3B5KSB7XG4gICAgICAgIHZhciBrZXlzID0gT2JqZWN0LmtleXMoYXR0cmlidXRlc1RvQ29weSk7XG4gICAgICAgIHZhciBpLCBsLCBrZXk7XG5cbiAgICAgICAgZm9yIChpID0gMCwgbCA9IGtleXMubGVuZ3RoOyBpIDwgbDsgaSsrKSB7XG4gICAgICAgICAga2V5ID0ga2V5c1tpXTtcbiAgICAgICAgICB0aGlzW2tleV0gPSBhdHRyaWJ1dGVzVG9Db3B5W2tleV07XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMuJGF0dHIgPSB7fTtcbiAgICAgIH1cblxuICAgICAgdGhpcy4kJGVsZW1lbnQgPSBlbGVtZW50O1xuICAgIH1cblxuICAgIEF0dHJpYnV0ZXMucHJvdG90eXBlID0ge1xuICAgICAgLyoqXG4gICAgICAgKiBAbmdkb2MgbWV0aG9kXG4gICAgICAgKiBAbmFtZSAkY29tcGlsZS5kaXJlY3RpdmUuQXR0cmlidXRlcyMkbm9ybWFsaXplXG4gICAgICAgKiBAa2luZCBmdW5jdGlvblxuICAgICAgICpcbiAgICAgICAqIEBkZXNjcmlwdGlvblxuICAgICAgICogQ29udmVydHMgYW4gYXR0cmlidXRlIG5hbWUgKGUuZy4gZGFzaC9jb2xvbi91bmRlcnNjb3JlLWRlbGltaXRlZCBzdHJpbmcsIG9wdGlvbmFsbHkgcHJlZml4ZWQgd2l0aCBgeC1gIG9yXG4gICAgICAgKiBgZGF0YS1gKSB0byBpdHMgbm9ybWFsaXplZCwgY2FtZWxDYXNlIGZvcm0uXG4gICAgICAgKlxuICAgICAgICogQWxzbyB0aGVyZSBpcyBzcGVjaWFsIGNhc2UgZm9yIE1veiBwcmVmaXggc3RhcnRpbmcgd2l0aCB1cHBlciBjYXNlIGxldHRlci5cbiAgICAgICAqXG4gICAgICAgKiBGb3IgZnVydGhlciBpbmZvcm1hdGlvbiBjaGVjayBvdXQgdGhlIGd1aWRlIG9uIHtAbGluayBndWlkZS9kaXJlY3RpdmUjbWF0Y2hpbmctZGlyZWN0aXZlcyBNYXRjaGluZyBEaXJlY3RpdmVzfVxuICAgICAgICpcbiAgICAgICAqIEBwYXJhbSB7c3RyaW5nfSBuYW1lIE5hbWUgdG8gbm9ybWFsaXplXG4gICAgICAgKi9cbiAgICAgICRub3JtYWxpemU6IGRpcmVjdGl2ZU5vcm1hbGl6ZSxcblxuXG4gICAgICAvKipcbiAgICAgICAqIEBuZ2RvYyBtZXRob2RcbiAgICAgICAqIEBuYW1lICRjb21waWxlLmRpcmVjdGl2ZS5BdHRyaWJ1dGVzIyRhZGRDbGFzc1xuICAgICAgICogQGtpbmQgZnVuY3Rpb25cbiAgICAgICAqXG4gICAgICAgKiBAZGVzY3JpcHRpb25cbiAgICAgICAqIEFkZHMgdGhlIENTUyBjbGFzcyB2YWx1ZSBzcGVjaWZpZWQgYnkgdGhlIGNsYXNzVmFsIHBhcmFtZXRlciB0byB0aGUgZWxlbWVudC4gSWYgYW5pbWF0aW9uc1xuICAgICAgICogYXJlIGVuYWJsZWQgdGhlbiBhbiBhbmltYXRpb24gd2lsbCBiZSB0cmlnZ2VyZWQgZm9yIHRoZSBjbGFzcyBhZGRpdGlvbi5cbiAgICAgICAqXG4gICAgICAgKiBAcGFyYW0ge3N0cmluZ30gY2xhc3NWYWwgVGhlIGNsYXNzTmFtZSB2YWx1ZSB0aGF0IHdpbGwgYmUgYWRkZWQgdG8gdGhlIGVsZW1lbnRcbiAgICAgICAqL1xuICAgICAgJGFkZENsYXNzOiBmdW5jdGlvbihjbGFzc1ZhbCkge1xuICAgICAgICBpZiAoY2xhc3NWYWwgJiYgY2xhc3NWYWwubGVuZ3RoID4gMCkge1xuICAgICAgICAgICRhbmltYXRlLmFkZENsYXNzKHRoaXMuJCRlbGVtZW50LCBjbGFzc1ZhbCk7XG4gICAgICAgIH1cbiAgICAgIH0sXG5cbiAgICAgIC8qKlxuICAgICAgICogQG5nZG9jIG1ldGhvZFxuICAgICAgICogQG5hbWUgJGNvbXBpbGUuZGlyZWN0aXZlLkF0dHJpYnV0ZXMjJHJlbW92ZUNsYXNzXG4gICAgICAgKiBAa2luZCBmdW5jdGlvblxuICAgICAgICpcbiAgICAgICAqIEBkZXNjcmlwdGlvblxuICAgICAgICogUmVtb3ZlcyB0aGUgQ1NTIGNsYXNzIHZhbHVlIHNwZWNpZmllZCBieSB0aGUgY2xhc3NWYWwgcGFyYW1ldGVyIGZyb20gdGhlIGVsZW1lbnQuIElmXG4gICAgICAgKiBhbmltYXRpb25zIGFyZSBlbmFibGVkIHRoZW4gYW4gYW5pbWF0aW9uIHdpbGwgYmUgdHJpZ2dlcmVkIGZvciB0aGUgY2xhc3MgcmVtb3ZhbC5cbiAgICAgICAqXG4gICAgICAgKiBAcGFyYW0ge3N0cmluZ30gY2xhc3NWYWwgVGhlIGNsYXNzTmFtZSB2YWx1ZSB0aGF0IHdpbGwgYmUgcmVtb3ZlZCBmcm9tIHRoZSBlbGVtZW50XG4gICAgICAgKi9cbiAgICAgICRyZW1vdmVDbGFzczogZnVuY3Rpb24oY2xhc3NWYWwpIHtcbiAgICAgICAgaWYgKGNsYXNzVmFsICYmIGNsYXNzVmFsLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAkYW5pbWF0ZS5yZW1vdmVDbGFzcyh0aGlzLiQkZWxlbWVudCwgY2xhc3NWYWwpO1xuICAgICAgICB9XG4gICAgICB9LFxuXG4gICAgICAvKipcbiAgICAgICAqIEBuZ2RvYyBtZXRob2RcbiAgICAgICAqIEBuYW1lICRjb21waWxlLmRpcmVjdGl2ZS5BdHRyaWJ1dGVzIyR1cGRhdGVDbGFzc1xuICAgICAgICogQGtpbmQgZnVuY3Rpb25cbiAgICAgICAqXG4gICAgICAgKiBAZGVzY3JpcHRpb25cbiAgICAgICAqIEFkZHMgYW5kIHJlbW92ZXMgdGhlIGFwcHJvcHJpYXRlIENTUyBjbGFzcyB2YWx1ZXMgdG8gdGhlIGVsZW1lbnQgYmFzZWQgb24gdGhlIGRpZmZlcmVuY2VcbiAgICAgICAqIGJldHdlZW4gdGhlIG5ldyBhbmQgb2xkIENTUyBjbGFzcyB2YWx1ZXMgKHNwZWNpZmllZCBhcyBuZXdDbGFzc2VzIGFuZCBvbGRDbGFzc2VzKS5cbiAgICAgICAqXG4gICAgICAgKiBAcGFyYW0ge3N0cmluZ30gbmV3Q2xhc3NlcyBUaGUgY3VycmVudCBDU1MgY2xhc3NOYW1lIHZhbHVlXG4gICAgICAgKiBAcGFyYW0ge3N0cmluZ30gb2xkQ2xhc3NlcyBUaGUgZm9ybWVyIENTUyBjbGFzc05hbWUgdmFsdWVcbiAgICAgICAqL1xuICAgICAgJHVwZGF0ZUNsYXNzOiBmdW5jdGlvbihuZXdDbGFzc2VzLCBvbGRDbGFzc2VzKSB7XG4gICAgICAgIHZhciB0b0FkZCA9IHRva2VuRGlmZmVyZW5jZShuZXdDbGFzc2VzLCBvbGRDbGFzc2VzKTtcbiAgICAgICAgaWYgKHRvQWRkICYmIHRvQWRkLmxlbmd0aCkge1xuICAgICAgICAgICRhbmltYXRlLmFkZENsYXNzKHRoaXMuJCRlbGVtZW50LCB0b0FkZCk7XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgdG9SZW1vdmUgPSB0b2tlbkRpZmZlcmVuY2Uob2xkQ2xhc3NlcywgbmV3Q2xhc3Nlcyk7XG4gICAgICAgIGlmICh0b1JlbW92ZSAmJiB0b1JlbW92ZS5sZW5ndGgpIHtcbiAgICAgICAgICAkYW5pbWF0ZS5yZW1vdmVDbGFzcyh0aGlzLiQkZWxlbWVudCwgdG9SZW1vdmUpO1xuICAgICAgICB9XG4gICAgICB9LFxuXG4gICAgICAvKipcbiAgICAgICAqIFNldCBhIG5vcm1hbGl6ZWQgYXR0cmlidXRlIG9uIHRoZSBlbGVtZW50IGluIGEgd2F5IHN1Y2ggdGhhdCBhbGwgZGlyZWN0aXZlc1xuICAgICAgICogY2FuIHNoYXJlIHRoZSBhdHRyaWJ1dGUuIFRoaXMgZnVuY3Rpb24gcHJvcGVybHkgaGFuZGxlcyBib29sZWFuIGF0dHJpYnV0ZXMuXG4gICAgICAgKiBAcGFyYW0ge3N0cmluZ30ga2V5IE5vcm1hbGl6ZWQga2V5LiAoaWUgbmdBdHRyaWJ1dGUpXG4gICAgICAgKiBAcGFyYW0ge3N0cmluZ3xib29sZWFufSB2YWx1ZSBUaGUgdmFsdWUgdG8gc2V0LiBJZiBgbnVsbGAgYXR0cmlidXRlIHdpbGwgYmUgZGVsZXRlZC5cbiAgICAgICAqIEBwYXJhbSB7Ym9vbGVhbj19IHdyaXRlQXR0ciBJZiBmYWxzZSwgZG9lcyBub3Qgd3JpdGUgdGhlIHZhbHVlIHRvIERPTSBlbGVtZW50IGF0dHJpYnV0ZS5cbiAgICAgICAqICAgICBEZWZhdWx0cyB0byB0cnVlLlxuICAgICAgICogQHBhcmFtIHtzdHJpbmc9fSBhdHRyTmFtZSBPcHRpb25hbCBub25lIG5vcm1hbGl6ZWQgbmFtZS4gRGVmYXVsdHMgdG8ga2V5LlxuICAgICAgICovXG4gICAgICAkc2V0OiBmdW5jdGlvbihrZXksIHZhbHVlLCB3cml0ZUF0dHIsIGF0dHJOYW1lKSB7XG4gICAgICAgIC8vIFRPRE86IGRlY2lkZSB3aGV0aGVyIG9yIG5vdCB0byB0aHJvdyBhbiBlcnJvciBpZiBcImNsYXNzXCJcbiAgICAgICAgLy9pcyBzZXQgdGhyb3VnaCB0aGlzIGZ1bmN0aW9uIHNpbmNlIGl0IG1heSBjYXVzZSAkdXBkYXRlQ2xhc3MgdG9cbiAgICAgICAgLy9iZWNvbWUgdW5zdGFibGUuXG5cbiAgICAgICAgdmFyIG5vZGUgPSB0aGlzLiQkZWxlbWVudFswXSxcbiAgICAgICAgICAgIGJvb2xlYW5LZXkgPSBnZXRCb29sZWFuQXR0ck5hbWUobm9kZSwga2V5KSxcbiAgICAgICAgICAgIGFsaWFzZWRLZXkgPSBnZXRBbGlhc2VkQXR0ck5hbWUoa2V5KSxcbiAgICAgICAgICAgIG9ic2VydmVyID0ga2V5LFxuICAgICAgICAgICAgbm9kZU5hbWU7XG5cbiAgICAgICAgaWYgKGJvb2xlYW5LZXkpIHtcbiAgICAgICAgICB0aGlzLiQkZWxlbWVudC5wcm9wKGtleSwgdmFsdWUpO1xuICAgICAgICAgIGF0dHJOYW1lID0gYm9vbGVhbktleTtcbiAgICAgICAgfSBlbHNlIGlmIChhbGlhc2VkS2V5KSB7XG4gICAgICAgICAgdGhpc1thbGlhc2VkS2V5XSA9IHZhbHVlO1xuICAgICAgICAgIG9ic2VydmVyID0gYWxpYXNlZEtleTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXNba2V5XSA9IHZhbHVlO1xuXG4gICAgICAgIC8vIHRyYW5zbGF0ZSBub3JtYWxpemVkIGtleSB0byBhY3R1YWwga2V5XG4gICAgICAgIGlmIChhdHRyTmFtZSkge1xuICAgICAgICAgIHRoaXMuJGF0dHJba2V5XSA9IGF0dHJOYW1lO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGF0dHJOYW1lID0gdGhpcy4kYXR0cltrZXldO1xuICAgICAgICAgIGlmICghYXR0ck5hbWUpIHtcbiAgICAgICAgICAgIHRoaXMuJGF0dHJba2V5XSA9IGF0dHJOYW1lID0gc25ha2VfY2FzZShrZXksICctJyk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgbm9kZU5hbWUgPSBub2RlTmFtZV8odGhpcy4kJGVsZW1lbnQpO1xuXG4gICAgICAgIGlmICgobm9kZU5hbWUgPT09ICdhJyAmJiAoa2V5ID09PSAnaHJlZicgfHwga2V5ID09PSAneGxpbmtIcmVmJykpIHx8XG4gICAgICAgICAgICAobm9kZU5hbWUgPT09ICdpbWcnICYmIGtleSA9PT0gJ3NyYycpKSB7XG4gICAgICAgICAgLy8gc2FuaXRpemUgYVtocmVmXSBhbmQgaW1nW3NyY10gdmFsdWVzXG4gICAgICAgICAgdGhpc1trZXldID0gdmFsdWUgPSAkJHNhbml0aXplVXJpKHZhbHVlLCBrZXkgPT09ICdzcmMnKTtcbiAgICAgICAgfSBlbHNlIGlmIChub2RlTmFtZSA9PT0gJ2ltZycgJiYga2V5ID09PSAnc3Jjc2V0JyAmJiBpc0RlZmluZWQodmFsdWUpKSB7XG4gICAgICAgICAgLy8gc2FuaXRpemUgaW1nW3NyY3NldF0gdmFsdWVzXG4gICAgICAgICAgdmFyIHJlc3VsdCA9ICcnO1xuXG4gICAgICAgICAgLy8gZmlyc3QgY2hlY2sgaWYgdGhlcmUgYXJlIHNwYWNlcyBiZWNhdXNlIGl0J3Mgbm90IHRoZSBzYW1lIHBhdHRlcm5cbiAgICAgICAgICB2YXIgdHJpbW1lZFNyY3NldCA9IHRyaW0odmFsdWUpO1xuICAgICAgICAgIC8vICAgICAgICAgICAgICAgICggICA5OTl4ICAgLHwgICA5OTl3ICAgLHwgICAsfCwgICApXG4gICAgICAgICAgdmFyIHNyY1BhdHRlcm4gPSAvKFxccytcXGQreFxccyosfFxccytcXGQrd1xccyosfFxccyssfCxcXHMrKS87XG4gICAgICAgICAgdmFyIHBhdHRlcm4gPSAvXFxzLy50ZXN0KHRyaW1tZWRTcmNzZXQpID8gc3JjUGF0dGVybiA6IC8oLCkvO1xuXG4gICAgICAgICAgLy8gc3BsaXQgc3Jjc2V0IGludG8gdHVwbGUgb2YgdXJpIGFuZCBkZXNjcmlwdG9yIGV4Y2VwdCBmb3IgdGhlIGxhc3QgaXRlbVxuICAgICAgICAgIHZhciByYXdVcmlzID0gdHJpbW1lZFNyY3NldC5zcGxpdChwYXR0ZXJuKTtcblxuICAgICAgICAgIC8vIGZvciBlYWNoIHR1cGxlc1xuICAgICAgICAgIHZhciBuYnJVcmlzV2l0aDJwYXJ0cyA9IE1hdGguZmxvb3IocmF3VXJpcy5sZW5ndGggLyAyKTtcbiAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IG5iclVyaXNXaXRoMnBhcnRzOyBpKyspIHtcbiAgICAgICAgICAgIHZhciBpbm5lcklkeCA9IGkgKiAyO1xuICAgICAgICAgICAgLy8gc2FuaXRpemUgdGhlIHVyaVxuICAgICAgICAgICAgcmVzdWx0ICs9ICQkc2FuaXRpemVVcmkodHJpbShyYXdVcmlzW2lubmVySWR4XSksIHRydWUpO1xuICAgICAgICAgICAgLy8gYWRkIHRoZSBkZXNjcmlwdG9yXG4gICAgICAgICAgICByZXN1bHQgKz0gKCcgJyArIHRyaW0ocmF3VXJpc1tpbm5lcklkeCArIDFdKSk7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgLy8gc3BsaXQgdGhlIGxhc3QgaXRlbSBpbnRvIHVyaSBhbmQgZGVzY3JpcHRvclxuICAgICAgICAgIHZhciBsYXN0VHVwbGUgPSB0cmltKHJhd1VyaXNbaSAqIDJdKS5zcGxpdCgvXFxzLyk7XG5cbiAgICAgICAgICAvLyBzYW5pdGl6ZSB0aGUgbGFzdCB1cmlcbiAgICAgICAgICByZXN1bHQgKz0gJCRzYW5pdGl6ZVVyaSh0cmltKGxhc3RUdXBsZVswXSksIHRydWUpO1xuXG4gICAgICAgICAgLy8gYW5kIGFkZCB0aGUgbGFzdCBkZXNjcmlwdG9yIGlmIGFueVxuICAgICAgICAgIGlmIChsYXN0VHVwbGUubGVuZ3RoID09PSAyKSB7XG4gICAgICAgICAgICByZXN1bHQgKz0gKCcgJyArIHRyaW0obGFzdFR1cGxlWzFdKSk7XG4gICAgICAgICAgfVxuICAgICAgICAgIHRoaXNba2V5XSA9IHZhbHVlID0gcmVzdWx0O1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHdyaXRlQXR0ciAhPT0gZmFsc2UpIHtcbiAgICAgICAgICBpZiAodmFsdWUgPT09IG51bGwgfHwgaXNVbmRlZmluZWQodmFsdWUpKSB7XG4gICAgICAgICAgICB0aGlzLiQkZWxlbWVudC5yZW1vdmVBdHRyKGF0dHJOYW1lKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgaWYgKFNJTVBMRV9BVFRSX05BTUUudGVzdChhdHRyTmFtZSkpIHtcbiAgICAgICAgICAgICAgdGhpcy4kJGVsZW1lbnQuYXR0cihhdHRyTmFtZSwgdmFsdWUpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgc2V0U3BlY2lhbEF0dHIodGhpcy4kJGVsZW1lbnRbMF0sIGF0dHJOYW1lLCB2YWx1ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgLy8gZmlyZSBvYnNlcnZlcnNcbiAgICAgICAgdmFyICQkb2JzZXJ2ZXJzID0gdGhpcy4kJG9ic2VydmVycztcbiAgICAgICAgaWYgKCQkb2JzZXJ2ZXJzKSB7XG4gICAgICAgICAgZm9yRWFjaCgkJG9ic2VydmVyc1tvYnNlcnZlcl0sIGZ1bmN0aW9uKGZuKSB7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICBmbih2YWx1ZSk7XG4gICAgICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgICAgICRleGNlcHRpb25IYW5kbGVyKGUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICB9LFxuXG5cbiAgICAgIC8qKlxuICAgICAgICogQG5nZG9jIG1ldGhvZFxuICAgICAgICogQG5hbWUgJGNvbXBpbGUuZGlyZWN0aXZlLkF0dHJpYnV0ZXMjJG9ic2VydmVcbiAgICAgICAqIEBraW5kIGZ1bmN0aW9uXG4gICAgICAgKlxuICAgICAgICogQGRlc2NyaXB0aW9uXG4gICAgICAgKiBPYnNlcnZlcyBhbiBpbnRlcnBvbGF0ZWQgYXR0cmlidXRlLlxuICAgICAgICpcbiAgICAgICAqIFRoZSBvYnNlcnZlciBmdW5jdGlvbiB3aWxsIGJlIGludm9rZWQgb25jZSBkdXJpbmcgdGhlIG5leHQgYCRkaWdlc3RgIGZvbGxvd2luZ1xuICAgICAgICogY29tcGlsYXRpb24uIFRoZSBvYnNlcnZlciBpcyB0aGVuIGludm9rZWQgd2hlbmV2ZXIgdGhlIGludGVycG9sYXRlZCB2YWx1ZVxuICAgICAgICogY2hhbmdlcy5cbiAgICAgICAqXG4gICAgICAgKiBAcGFyYW0ge3N0cmluZ30ga2V5IE5vcm1hbGl6ZWQga2V5LiAoaWUgbmdBdHRyaWJ1dGUpIC5cbiAgICAgICAqIEBwYXJhbSB7ZnVuY3Rpb24oaW50ZXJwb2xhdGVkVmFsdWUpfSBmbiBGdW5jdGlvbiB0aGF0IHdpbGwgYmUgY2FsbGVkIHdoZW5ldmVyXG4gICAgICAgICAgICAgICAgdGhlIGludGVycG9sYXRlZCB2YWx1ZSBvZiB0aGUgYXR0cmlidXRlIGNoYW5nZXMuXG4gICAgICAgKiAgICAgICAgU2VlIHRoZSB7QGxpbmsgZ3VpZGUvaW50ZXJwb2xhdGlvbiNob3ctdGV4dC1hbmQtYXR0cmlidXRlLWJpbmRpbmdzLXdvcmsgSW50ZXJwb2xhdGlvblxuICAgICAgICogICAgICAgIGd1aWRlfSBmb3IgbW9yZSBpbmZvLlxuICAgICAgICogQHJldHVybnMge2Z1bmN0aW9uKCl9IFJldHVybnMgYSBkZXJlZ2lzdHJhdGlvbiBmdW5jdGlvbiBmb3IgdGhpcyBvYnNlcnZlci5cbiAgICAgICAqL1xuICAgICAgJG9ic2VydmU6IGZ1bmN0aW9uKGtleSwgZm4pIHtcbiAgICAgICAgdmFyIGF0dHJzID0gdGhpcyxcbiAgICAgICAgICAgICQkb2JzZXJ2ZXJzID0gKGF0dHJzLiQkb2JzZXJ2ZXJzIHx8IChhdHRycy4kJG9ic2VydmVycyA9IGNyZWF0ZU1hcCgpKSksXG4gICAgICAgICAgICBsaXN0ZW5lcnMgPSAoJCRvYnNlcnZlcnNba2V5XSB8fCAoJCRvYnNlcnZlcnNba2V5XSA9IFtdKSk7XG5cbiAgICAgICAgbGlzdGVuZXJzLnB1c2goZm4pO1xuICAgICAgICAkcm9vdFNjb3BlLiRldmFsQXN5bmMoZnVuY3Rpb24oKSB7XG4gICAgICAgICAgaWYgKCFsaXN0ZW5lcnMuJCRpbnRlciAmJiBhdHRycy5oYXNPd25Qcm9wZXJ0eShrZXkpICYmICFpc1VuZGVmaW5lZChhdHRyc1trZXldKSkge1xuICAgICAgICAgICAgLy8gbm8gb25lIHJlZ2lzdGVyZWQgYXR0cmlidXRlIGludGVycG9sYXRpb24gZnVuY3Rpb24sIHNvIGxldHMgY2FsbCBpdCBtYW51YWxseVxuICAgICAgICAgICAgZm4oYXR0cnNba2V5XSk7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcblxuICAgICAgICByZXR1cm4gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgYXJyYXlSZW1vdmUobGlzdGVuZXJzLCBmbik7XG4gICAgICAgIH07XG4gICAgICB9XG4gICAgfTtcblxuICAgIGZ1bmN0aW9uIHNldFNwZWNpYWxBdHRyKGVsZW1lbnQsIGF0dHJOYW1lLCB2YWx1ZSkge1xuICAgICAgLy8gQXR0cmlidXRlcyBuYW1lcyB0aGF0IGRvIG5vdCBzdGFydCB3aXRoIGxldHRlcnMgKHN1Y2ggYXMgYChjbGljaylgKSBjYW5ub3QgYmUgc2V0IHVzaW5nIGBzZXRBdHRyaWJ1dGVgXG4gICAgICAvLyBzbyB3ZSBoYXZlIHRvIGp1bXAgdGhyb3VnaCBzb21lIGhvb3BzIHRvIGdldCBzdWNoIGFuIGF0dHJpYnV0ZVxuICAgICAgLy8gaHR0cHM6Ly9naXRodWIuY29tL2FuZ3VsYXIvYW5ndWxhci5qcy9wdWxsLzEzMzE4XG4gICAgICBzcGVjaWFsQXR0ckhvbGRlci5pbm5lckhUTUwgPSAnPHNwYW4gJyArIGF0dHJOYW1lICsgJz4nO1xuICAgICAgdmFyIGF0dHJpYnV0ZXMgPSBzcGVjaWFsQXR0ckhvbGRlci5maXJzdENoaWxkLmF0dHJpYnV0ZXM7XG4gICAgICB2YXIgYXR0cmlidXRlID0gYXR0cmlidXRlc1swXTtcbiAgICAgIC8vIFdlIGhhdmUgdG8gcmVtb3ZlIHRoZSBhdHRyaWJ1dGUgZnJvbSBpdHMgY29udGFpbmVyIGVsZW1lbnQgYmVmb3JlIHdlIGNhbiBhZGQgaXQgdG8gdGhlIGRlc3RpbmF0aW9uIGVsZW1lbnRcbiAgICAgIGF0dHJpYnV0ZXMucmVtb3ZlTmFtZWRJdGVtKGF0dHJpYnV0ZS5uYW1lKTtcbiAgICAgIGF0dHJpYnV0ZS52YWx1ZSA9IHZhbHVlO1xuICAgICAgZWxlbWVudC5hdHRyaWJ1dGVzLnNldE5hbWVkSXRlbShhdHRyaWJ1dGUpO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIHNhZmVBZGRDbGFzcygkZWxlbWVudCwgY2xhc3NOYW1lKSB7XG4gICAgICB0cnkge1xuICAgICAgICAkZWxlbWVudC5hZGRDbGFzcyhjbGFzc05hbWUpO1xuICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAvLyBpZ25vcmUsIHNpbmNlIGl0IG1lYW5zIHRoYXQgd2UgYXJlIHRyeWluZyB0byBzZXQgY2xhc3Mgb25cbiAgICAgICAgLy8gU1ZHIGVsZW1lbnQsIHdoZXJlIGNsYXNzIG5hbWUgaXMgcmVhZC1vbmx5LlxuICAgICAgfVxuICAgIH1cblxuXG4gICAgdmFyIHN0YXJ0U3ltYm9sID0gJGludGVycG9sYXRlLnN0YXJ0U3ltYm9sKCksXG4gICAgICAgIGVuZFN5bWJvbCA9ICRpbnRlcnBvbGF0ZS5lbmRTeW1ib2woKSxcbiAgICAgICAgZGVub3JtYWxpemVUZW1wbGF0ZSA9IChzdGFydFN5bWJvbCA9PT0gJ3t7JyAmJiBlbmRTeW1ib2wgID09PSAnfX0nKVxuICAgICAgICAgICAgPyBpZGVudGl0eVxuICAgICAgICAgICAgOiBmdW5jdGlvbiBkZW5vcm1hbGl6ZVRlbXBsYXRlKHRlbXBsYXRlKSB7XG4gICAgICAgICAgICAgIHJldHVybiB0ZW1wbGF0ZS5yZXBsYWNlKC9cXHtcXHsvZywgc3RhcnRTeW1ib2wpLnJlcGxhY2UoL319L2csIGVuZFN5bWJvbCk7XG4gICAgICAgIH0sXG4gICAgICAgIE5HX0FUVFJfQklORElORyA9IC9ebmdBdHRyW0EtWl0vO1xuICAgIHZhciBNVUxUSV9FTEVNRU5UX0RJUl9SRSA9IC9eKC4rKVN0YXJ0JC87XG5cbiAgICBjb21waWxlLiQkYWRkQmluZGluZ0luZm8gPSBkZWJ1Z0luZm9FbmFibGVkID8gZnVuY3Rpb24gJCRhZGRCaW5kaW5nSW5mbygkZWxlbWVudCwgYmluZGluZykge1xuICAgICAgdmFyIGJpbmRpbmdzID0gJGVsZW1lbnQuZGF0YSgnJGJpbmRpbmcnKSB8fCBbXTtcblxuICAgICAgaWYgKGlzQXJyYXkoYmluZGluZykpIHtcbiAgICAgICAgYmluZGluZ3MgPSBiaW5kaW5ncy5jb25jYXQoYmluZGluZyk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBiaW5kaW5ncy5wdXNoKGJpbmRpbmcpO1xuICAgICAgfVxuXG4gICAgICAkZWxlbWVudC5kYXRhKCckYmluZGluZycsIGJpbmRpbmdzKTtcbiAgICB9IDogbm9vcDtcblxuICAgIGNvbXBpbGUuJCRhZGRCaW5kaW5nQ2xhc3MgPSBkZWJ1Z0luZm9FbmFibGVkID8gZnVuY3Rpb24gJCRhZGRCaW5kaW5nQ2xhc3MoJGVsZW1lbnQpIHtcbiAgICAgIHNhZmVBZGRDbGFzcygkZWxlbWVudCwgJ25nLWJpbmRpbmcnKTtcbiAgICB9IDogbm9vcDtcblxuICAgIGNvbXBpbGUuJCRhZGRTY29wZUluZm8gPSBkZWJ1Z0luZm9FbmFibGVkID8gZnVuY3Rpb24gJCRhZGRTY29wZUluZm8oJGVsZW1lbnQsIHNjb3BlLCBpc29sYXRlZCwgbm9UZW1wbGF0ZSkge1xuICAgICAgdmFyIGRhdGFOYW1lID0gaXNvbGF0ZWQgPyAobm9UZW1wbGF0ZSA/ICckaXNvbGF0ZVNjb3BlTm9UZW1wbGF0ZScgOiAnJGlzb2xhdGVTY29wZScpIDogJyRzY29wZSc7XG4gICAgICAkZWxlbWVudC5kYXRhKGRhdGFOYW1lLCBzY29wZSk7XG4gICAgfSA6IG5vb3A7XG5cbiAgICBjb21waWxlLiQkYWRkU2NvcGVDbGFzcyA9IGRlYnVnSW5mb0VuYWJsZWQgPyBmdW5jdGlvbiAkJGFkZFNjb3BlQ2xhc3MoJGVsZW1lbnQsIGlzb2xhdGVkKSB7XG4gICAgICBzYWZlQWRkQ2xhc3MoJGVsZW1lbnQsIGlzb2xhdGVkID8gJ25nLWlzb2xhdGUtc2NvcGUnIDogJ25nLXNjb3BlJyk7XG4gICAgfSA6IG5vb3A7XG5cbiAgICBjb21waWxlLiQkY3JlYXRlQ29tbWVudCA9IGZ1bmN0aW9uKGRpcmVjdGl2ZU5hbWUsIGNvbW1lbnQpIHtcbiAgICAgIHZhciBjb250ZW50ID0gJyc7XG4gICAgICBpZiAoZGVidWdJbmZvRW5hYmxlZCkge1xuICAgICAgICBjb250ZW50ID0gJyAnICsgKGRpcmVjdGl2ZU5hbWUgfHwgJycpICsgJzogJztcbiAgICAgICAgaWYgKGNvbW1lbnQpIGNvbnRlbnQgKz0gY29tbWVudCArICcgJztcbiAgICAgIH1cbiAgICAgIHJldHVybiB3aW5kb3cuZG9jdW1lbnQuY3JlYXRlQ29tbWVudChjb250ZW50KTtcbiAgICB9O1xuXG4gICAgcmV0dXJuIGNvbXBpbGU7XG5cbiAgICAvLz09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG5cbiAgICBmdW5jdGlvbiBjb21waWxlKCRjb21waWxlTm9kZXMsIHRyYW5zY2x1ZGVGbiwgbWF4UHJpb3JpdHksIGlnbm9yZURpcmVjdGl2ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHByZXZpb3VzQ29tcGlsZUNvbnRleHQpIHtcbiAgICAgIGlmICghKCRjb21waWxlTm9kZXMgaW5zdGFuY2VvZiBqcUxpdGUpKSB7XG4gICAgICAgIC8vIGpxdWVyeSBhbHdheXMgcmV3cmFwcywgd2hlcmVhcyB3ZSBuZWVkIHRvIHByZXNlcnZlIHRoZSBvcmlnaW5hbCBzZWxlY3RvciBzbyB0aGF0IHdlIGNhblxuICAgICAgICAvLyBtb2RpZnkgaXQuXG4gICAgICAgICRjb21waWxlTm9kZXMgPSBqcUxpdGUoJGNvbXBpbGVOb2Rlcyk7XG4gICAgICB9XG4gICAgICB2YXIgY29tcG9zaXRlTGlua0ZuID1cbiAgICAgICAgICAgICAgY29tcGlsZU5vZGVzKCRjb21waWxlTm9kZXMsIHRyYW5zY2x1ZGVGbiwgJGNvbXBpbGVOb2RlcyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgIG1heFByaW9yaXR5LCBpZ25vcmVEaXJlY3RpdmUsIHByZXZpb3VzQ29tcGlsZUNvbnRleHQpO1xuICAgICAgY29tcGlsZS4kJGFkZFNjb3BlQ2xhc3MoJGNvbXBpbGVOb2Rlcyk7XG4gICAgICB2YXIgbmFtZXNwYWNlID0gbnVsbDtcbiAgICAgIHJldHVybiBmdW5jdGlvbiBwdWJsaWNMaW5rRm4oc2NvcGUsIGNsb25lQ29ubmVjdEZuLCBvcHRpb25zKSB7XG4gICAgICAgIGlmICghJGNvbXBpbGVOb2Rlcykge1xuICAgICAgICAgIHRocm93ICRjb21waWxlTWluRXJyKCdtdWx0aWxpbmsnLCAnVGhpcyBlbGVtZW50IGhhcyBhbHJlYWR5IGJlZW4gbGlua2VkLicpO1xuICAgICAgICB9XG4gICAgICAgIGFzc2VydEFyZyhzY29wZSwgJ3Njb3BlJyk7XG5cbiAgICAgICAgaWYgKHByZXZpb3VzQ29tcGlsZUNvbnRleHQgJiYgcHJldmlvdXNDb21waWxlQ29udGV4dC5uZWVkc05ld1Njb3BlKSB7XG4gICAgICAgICAgLy8gQSBwYXJlbnQgZGlyZWN0aXZlIGRpZCBhIHJlcGxhY2UgYW5kIGEgZGlyZWN0aXZlIG9uIHRoaXMgZWxlbWVudCBhc2tlZFxuICAgICAgICAgIC8vIGZvciB0cmFuc2NsdXNpb24sIHdoaWNoIGNhdXNlZCB1cyB0byBsb3NlIGEgbGF5ZXIgb2YgZWxlbWVudCBvbiB3aGljaFxuICAgICAgICAgIC8vIHdlIGNvdWxkIGhvbGQgdGhlIG5ldyB0cmFuc2NsdXNpb24gc2NvcGUsIHNvIHdlIHdpbGwgY3JlYXRlIGl0IG1hbnVhbGx5XG4gICAgICAgICAgLy8gaGVyZS5cbiAgICAgICAgICBzY29wZSA9IHNjb3BlLiRwYXJlbnQuJG5ldygpO1xuICAgICAgICB9XG5cbiAgICAgICAgb3B0aW9ucyA9IG9wdGlvbnMgfHwge307XG4gICAgICAgIHZhciBwYXJlbnRCb3VuZFRyYW5zY2x1ZGVGbiA9IG9wdGlvbnMucGFyZW50Qm91bmRUcmFuc2NsdWRlRm4sXG4gICAgICAgICAgdHJhbnNjbHVkZUNvbnRyb2xsZXJzID0gb3B0aW9ucy50cmFuc2NsdWRlQ29udHJvbGxlcnMsXG4gICAgICAgICAgZnV0dXJlUGFyZW50RWxlbWVudCA9IG9wdGlvbnMuZnV0dXJlUGFyZW50RWxlbWVudDtcblxuICAgICAgICAvLyBXaGVuIGBwYXJlbnRCb3VuZFRyYW5zY2x1ZGVGbmAgaXMgcGFzc2VkLCBpdCBpcyBhXG4gICAgICAgIC8vIGBjb250cm9sbGVyc0JvdW5kVHJhbnNjbHVkZWAgZnVuY3Rpb24gKGl0IHdhcyBwcmV2aW91c2x5IHBhc3NlZFxuICAgICAgICAvLyBhcyBgdHJhbnNjbHVkZWAgdG8gZGlyZWN0aXZlLmxpbmspIHNvIHdlIG11c3QgdW53cmFwIGl0IHRvIGdldFxuICAgICAgICAvLyBpdHMgYGJvdW5kVHJhbnNjbHVkZUZuYFxuICAgICAgICBpZiAocGFyZW50Qm91bmRUcmFuc2NsdWRlRm4gJiYgcGFyZW50Qm91bmRUcmFuc2NsdWRlRm4uJCRib3VuZFRyYW5zY2x1ZGUpIHtcbiAgICAgICAgICBwYXJlbnRCb3VuZFRyYW5zY2x1ZGVGbiA9IHBhcmVudEJvdW5kVHJhbnNjbHVkZUZuLiQkYm91bmRUcmFuc2NsdWRlO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKCFuYW1lc3BhY2UpIHtcbiAgICAgICAgICBuYW1lc3BhY2UgPSBkZXRlY3ROYW1lc3BhY2VGb3JDaGlsZEVsZW1lbnRzKGZ1dHVyZVBhcmVudEVsZW1lbnQpO1xuICAgICAgICB9XG4gICAgICAgIHZhciAkbGlua05vZGU7XG4gICAgICAgIGlmIChuYW1lc3BhY2UgIT09ICdodG1sJykge1xuICAgICAgICAgIC8vIFdoZW4gdXNpbmcgYSBkaXJlY3RpdmUgd2l0aCByZXBsYWNlOnRydWUgYW5kIHRlbXBsYXRlVXJsIHRoZSAkY29tcGlsZU5vZGVzXG4gICAgICAgICAgLy8gKG9yIGEgY2hpbGQgZWxlbWVudCBpbnNpZGUgb2YgdGhlbSlcbiAgICAgICAgICAvLyBtaWdodCBjaGFuZ2UsIHNvIHdlIG5lZWQgdG8gcmVjcmVhdGUgdGhlIG5hbWVzcGFjZSBhZGFwdGVkIGNvbXBpbGVOb2Rlc1xuICAgICAgICAgIC8vIGZvciBjYWxsIHRvIHRoZSBsaW5rIGZ1bmN0aW9uLlxuICAgICAgICAgIC8vIE5vdGU6IFRoaXMgd2lsbCBhbHJlYWR5IGNsb25lIHRoZSBub2Rlcy4uLlxuICAgICAgICAgICRsaW5rTm9kZSA9IGpxTGl0ZShcbiAgICAgICAgICAgIHdyYXBUZW1wbGF0ZShuYW1lc3BhY2UsIGpxTGl0ZSgnPGRpdj4nKS5hcHBlbmQoJGNvbXBpbGVOb2RlcykuaHRtbCgpKVxuICAgICAgICAgICk7XG4gICAgICAgIH0gZWxzZSBpZiAoY2xvbmVDb25uZWN0Rm4pIHtcbiAgICAgICAgICAvLyBpbXBvcnRhbnQhITogd2UgbXVzdCBjYWxsIG91ciBqcUxpdGUuY2xvbmUoKSBzaW5jZSB0aGUgalF1ZXJ5IG9uZSBpcyB0cnlpbmcgdG8gYmUgc21hcnRcbiAgICAgICAgICAvLyBhbmQgc29tZXRpbWVzIGNoYW5nZXMgdGhlIHN0cnVjdHVyZSBvZiB0aGUgRE9NLlxuICAgICAgICAgICRsaW5rTm9kZSA9IEpRTGl0ZVByb3RvdHlwZS5jbG9uZS5jYWxsKCRjb21waWxlTm9kZXMpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICRsaW5rTm9kZSA9ICRjb21waWxlTm9kZXM7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodHJhbnNjbHVkZUNvbnRyb2xsZXJzKSB7XG4gICAgICAgICAgZm9yICh2YXIgY29udHJvbGxlck5hbWUgaW4gdHJhbnNjbHVkZUNvbnRyb2xsZXJzKSB7XG4gICAgICAgICAgICAkbGlua05vZGUuZGF0YSgnJCcgKyBjb250cm9sbGVyTmFtZSArICdDb250cm9sbGVyJywgdHJhbnNjbHVkZUNvbnRyb2xsZXJzW2NvbnRyb2xsZXJOYW1lXS5pbnN0YW5jZSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgY29tcGlsZS4kJGFkZFNjb3BlSW5mbygkbGlua05vZGUsIHNjb3BlKTtcblxuICAgICAgICBpZiAoY2xvbmVDb25uZWN0Rm4pIGNsb25lQ29ubmVjdEZuKCRsaW5rTm9kZSwgc2NvcGUpO1xuICAgICAgICBpZiAoY29tcG9zaXRlTGlua0ZuKSBjb21wb3NpdGVMaW5rRm4oc2NvcGUsICRsaW5rTm9kZSwgJGxpbmtOb2RlLCBwYXJlbnRCb3VuZFRyYW5zY2x1ZGVGbik7XG5cbiAgICAgICAgaWYgKCFjbG9uZUNvbm5lY3RGbikge1xuICAgICAgICAgICRjb21waWxlTm9kZXMgPSBjb21wb3NpdGVMaW5rRm4gPSBudWxsO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiAkbGlua05vZGU7XG4gICAgICB9O1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGRldGVjdE5hbWVzcGFjZUZvckNoaWxkRWxlbWVudHMocGFyZW50RWxlbWVudCkge1xuICAgICAgLy8gVE9ETzogTWFrZSB0aGlzIGRldGVjdCBNYXRoTUwgYXMgd2VsbC4uLlxuICAgICAgdmFyIG5vZGUgPSBwYXJlbnRFbGVtZW50ICYmIHBhcmVudEVsZW1lbnRbMF07XG4gICAgICBpZiAoIW5vZGUpIHtcbiAgICAgICAgcmV0dXJuICdodG1sJztcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiBub2RlTmFtZV8obm9kZSkgIT09ICdmb3JlaWdub2JqZWN0JyAmJiB0b1N0cmluZy5jYWxsKG5vZGUpLm1hdGNoKC9TVkcvKSA/ICdzdmcnIDogJ2h0bWwnO1xuICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENvbXBpbGUgZnVuY3Rpb24gbWF0Y2hlcyBlYWNoIG5vZGUgaW4gbm9kZUxpc3QgYWdhaW5zdCB0aGUgZGlyZWN0aXZlcy4gT25jZSBhbGwgZGlyZWN0aXZlc1xuICAgICAqIGZvciBhIHBhcnRpY3VsYXIgbm9kZSBhcmUgY29sbGVjdGVkIHRoZWlyIGNvbXBpbGUgZnVuY3Rpb25zIGFyZSBleGVjdXRlZC4gVGhlIGNvbXBpbGVcbiAgICAgKiBmdW5jdGlvbnMgcmV0dXJuIHZhbHVlcyAtIHRoZSBsaW5raW5nIGZ1bmN0aW9ucyAtIGFyZSBjb21iaW5lZCBpbnRvIGEgY29tcG9zaXRlIGxpbmtpbmdcbiAgICAgKiBmdW5jdGlvbiwgd2hpY2ggaXMgdGhlIGEgbGlua2luZyBmdW5jdGlvbiBmb3IgdGhlIG5vZGUuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge05vZGVMaXN0fSBub2RlTGlzdCBhbiBhcnJheSBvZiBub2RlcyBvciBOb2RlTGlzdCB0byBjb21waWxlXG4gICAgICogQHBhcmFtIHtmdW5jdGlvbihhbmd1bGFyLlNjb3BlLCBjbG9uZUF0dGFjaEZuPSl9IHRyYW5zY2x1ZGVGbiBBIGxpbmtpbmcgZnVuY3Rpb24sIHdoZXJlIHRoZVxuICAgICAqICAgICAgICBzY29wZSBhcmd1bWVudCBpcyBhdXRvLWdlbmVyYXRlZCB0byB0aGUgbmV3IGNoaWxkIG9mIHRoZSB0cmFuc2NsdWRlZCBwYXJlbnQgc2NvcGUuXG4gICAgICogQHBhcmFtIHtET01FbGVtZW50PX0gJHJvb3RFbGVtZW50IElmIHRoZSBub2RlTGlzdCBpcyB0aGUgcm9vdCBvZiB0aGUgY29tcGlsYXRpb24gdHJlZSB0aGVuXG4gICAgICogICAgICAgIHRoZSByb290RWxlbWVudCBtdXN0IGJlIHNldCB0aGUganFMaXRlIGNvbGxlY3Rpb24gb2YgdGhlIGNvbXBpbGUgcm9vdC4gVGhpcyBpc1xuICAgICAqICAgICAgICBuZWVkZWQgc28gdGhhdCB0aGUganFMaXRlIGNvbGxlY3Rpb24gaXRlbXMgY2FuIGJlIHJlcGxhY2VkIHdpdGggd2lkZ2V0cy5cbiAgICAgKiBAcGFyYW0ge251bWJlcj19IG1heFByaW9yaXR5IE1heCBkaXJlY3RpdmUgcHJpb3JpdHkuXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBBIGNvbXBvc2l0ZSBsaW5raW5nIGZ1bmN0aW9uIG9mIGFsbCBvZiB0aGUgbWF0Y2hlZCBkaXJlY3RpdmVzIG9yIG51bGwuXG4gICAgICovXG4gICAgZnVuY3Rpb24gY29tcGlsZU5vZGVzKG5vZGVMaXN0LCB0cmFuc2NsdWRlRm4sICRyb290RWxlbWVudCwgbWF4UHJpb3JpdHksIGlnbm9yZURpcmVjdGl2ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcmV2aW91c0NvbXBpbGVDb250ZXh0KSB7XG4gICAgICB2YXIgbGlua0ZucyA9IFtdLFxuICAgICAgICAgIC8vIGBub2RlTGlzdGAgY2FuIGJlIGVpdGhlciBhbiBlbGVtZW50J3MgYC5jaGlsZE5vZGVzYCAobGl2ZSBOb2RlTGlzdClcbiAgICAgICAgICAvLyBvciBhIGpxTGl0ZS9qUXVlcnkgY29sbGVjdGlvbiBvciBhbiBhcnJheVxuICAgICAgICAgIG5vdExpdmVMaXN0ID0gaXNBcnJheShub2RlTGlzdCkgfHwgKG5vZGVMaXN0IGluc3RhbmNlb2YganFMaXRlKSxcbiAgICAgICAgICBhdHRycywgZGlyZWN0aXZlcywgbm9kZUxpbmtGbiwgY2hpbGROb2RlcywgY2hpbGRMaW5rRm4sIGxpbmtGbkZvdW5kLCBub2RlTGlua0ZuRm91bmQ7XG5cblxuICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBub2RlTGlzdC5sZW5ndGg7IGkrKykge1xuICAgICAgICBhdHRycyA9IG5ldyBBdHRyaWJ1dGVzKCk7XG5cbiAgICAgICAgLy8gU3VwcG9ydDogSUUgMTEgb25seVxuICAgICAgICAvLyBXb3JrYXJvdW5kIGZvciAjMTE3ODEgYW5kICMxNDkyNFxuICAgICAgICBpZiAobXNpZSA9PT0gMTEpIHtcbiAgICAgICAgICBtZXJnZUNvbnNlY3V0aXZlVGV4dE5vZGVzKG5vZGVMaXN0LCBpLCBub3RMaXZlTGlzdCk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBXZSBtdXN0IGFsd2F5cyByZWZlciB0byBgbm9kZUxpc3RbaV1gIGhlcmVhZnRlcixcbiAgICAgICAgLy8gc2luY2UgdGhlIG5vZGVzIGNhbiBiZSByZXBsYWNlZCB1bmRlcm5lYXRoIHVzLlxuICAgICAgICBkaXJlY3RpdmVzID0gY29sbGVjdERpcmVjdGl2ZXMobm9kZUxpc3RbaV0sIFtdLCBhdHRycywgaSA9PT0gMCA/IG1heFByaW9yaXR5IDogdW5kZWZpbmVkLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlnbm9yZURpcmVjdGl2ZSk7XG5cbiAgICAgICAgbm9kZUxpbmtGbiA9IChkaXJlY3RpdmVzLmxlbmd0aClcbiAgICAgICAgICAgID8gYXBwbHlEaXJlY3RpdmVzVG9Ob2RlKGRpcmVjdGl2ZXMsIG5vZGVMaXN0W2ldLCBhdHRycywgdHJhbnNjbHVkZUZuLCAkcm9vdEVsZW1lbnQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG51bGwsIFtdLCBbXSwgcHJldmlvdXNDb21waWxlQ29udGV4dClcbiAgICAgICAgICAgIDogbnVsbDtcblxuICAgICAgICBpZiAobm9kZUxpbmtGbiAmJiBub2RlTGlua0ZuLnNjb3BlKSB7XG4gICAgICAgICAgY29tcGlsZS4kJGFkZFNjb3BlQ2xhc3MoYXR0cnMuJCRlbGVtZW50KTtcbiAgICAgICAgfVxuXG4gICAgICAgIGNoaWxkTGlua0ZuID0gKG5vZGVMaW5rRm4gJiYgbm9kZUxpbmtGbi50ZXJtaW5hbCB8fFxuICAgICAgICAgICAgICAgICAgICAgICEoY2hpbGROb2RlcyA9IG5vZGVMaXN0W2ldLmNoaWxkTm9kZXMpIHx8XG4gICAgICAgICAgICAgICAgICAgICAgIWNoaWxkTm9kZXMubGVuZ3RoKVxuICAgICAgICAgICAgPyBudWxsXG4gICAgICAgICAgICA6IGNvbXBpbGVOb2RlcyhjaGlsZE5vZGVzLFxuICAgICAgICAgICAgICAgICBub2RlTGlua0ZuID8gKFxuICAgICAgICAgICAgICAgICAgKG5vZGVMaW5rRm4udHJhbnNjbHVkZU9uVGhpc0VsZW1lbnQgfHwgIW5vZGVMaW5rRm4udGVtcGxhdGVPblRoaXNFbGVtZW50KVxuICAgICAgICAgICAgICAgICAgICAgJiYgbm9kZUxpbmtGbi50cmFuc2NsdWRlKSA6IHRyYW5zY2x1ZGVGbik7XG5cbiAgICAgICAgaWYgKG5vZGVMaW5rRm4gfHwgY2hpbGRMaW5rRm4pIHtcbiAgICAgICAgICBsaW5rRm5zLnB1c2goaSwgbm9kZUxpbmtGbiwgY2hpbGRMaW5rRm4pO1xuICAgICAgICAgIGxpbmtGbkZvdW5kID0gdHJ1ZTtcbiAgICAgICAgICBub2RlTGlua0ZuRm91bmQgPSBub2RlTGlua0ZuRm91bmQgfHwgbm9kZUxpbmtGbjtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vdXNlIHRoZSBwcmV2aW91cyBjb250ZXh0IG9ubHkgZm9yIHRoZSBmaXJzdCBlbGVtZW50IGluIHRoZSB2aXJ0dWFsIGdyb3VwXG4gICAgICAgIHByZXZpb3VzQ29tcGlsZUNvbnRleHQgPSBudWxsO1xuICAgICAgfVxuXG4gICAgICAvLyByZXR1cm4gYSBsaW5raW5nIGZ1bmN0aW9uIGlmIHdlIGhhdmUgZm91bmQgYW55dGhpbmcsIG51bGwgb3RoZXJ3aXNlXG4gICAgICByZXR1cm4gbGlua0ZuRm91bmQgPyBjb21wb3NpdGVMaW5rRm4gOiBudWxsO1xuXG4gICAgICBmdW5jdGlvbiBjb21wb3NpdGVMaW5rRm4oc2NvcGUsIG5vZGVMaXN0LCAkcm9vdEVsZW1lbnQsIHBhcmVudEJvdW5kVHJhbnNjbHVkZUZuKSB7XG4gICAgICAgIHZhciBub2RlTGlua0ZuLCBjaGlsZExpbmtGbiwgbm9kZSwgY2hpbGRTY29wZSwgaSwgaWksIGlkeCwgY2hpbGRCb3VuZFRyYW5zY2x1ZGVGbjtcbiAgICAgICAgdmFyIHN0YWJsZU5vZGVMaXN0O1xuXG5cbiAgICAgICAgaWYgKG5vZGVMaW5rRm5Gb3VuZCkge1xuICAgICAgICAgIC8vIGNvcHkgbm9kZUxpc3Qgc28gdGhhdCBpZiBhIG5vZGVMaW5rRm4gcmVtb3ZlcyBvciBhZGRzIGFuIGVsZW1lbnQgYXQgdGhpcyBET00gbGV2ZWwgb3VyXG4gICAgICAgICAgLy8gb2Zmc2V0cyBkb24ndCBnZXQgc2NyZXdlZCB1cFxuICAgICAgICAgIHZhciBub2RlTGlzdExlbmd0aCA9IG5vZGVMaXN0Lmxlbmd0aDtcbiAgICAgICAgICBzdGFibGVOb2RlTGlzdCA9IG5ldyBBcnJheShub2RlTGlzdExlbmd0aCk7XG5cbiAgICAgICAgICAvLyBjcmVhdGUgYSBzcGFyc2UgYXJyYXkgYnkgb25seSBjb3B5aW5nIHRoZSBlbGVtZW50cyB3aGljaCBoYXZlIGEgbGlua0ZuXG4gICAgICAgICAgZm9yIChpID0gMDsgaSA8IGxpbmtGbnMubGVuZ3RoOyBpICs9IDMpIHtcbiAgICAgICAgICAgIGlkeCA9IGxpbmtGbnNbaV07XG4gICAgICAgICAgICBzdGFibGVOb2RlTGlzdFtpZHhdID0gbm9kZUxpc3RbaWR4XTtcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgc3RhYmxlTm9kZUxpc3QgPSBub2RlTGlzdDtcbiAgICAgICAgfVxuXG4gICAgICAgIGZvciAoaSA9IDAsIGlpID0gbGlua0Zucy5sZW5ndGg7IGkgPCBpaTspIHtcbiAgICAgICAgICBub2RlID0gc3RhYmxlTm9kZUxpc3RbbGlua0Zuc1tpKytdXTtcbiAgICAgICAgICBub2RlTGlua0ZuID0gbGlua0Zuc1tpKytdO1xuICAgICAgICAgIGNoaWxkTGlua0ZuID0gbGlua0Zuc1tpKytdO1xuXG4gICAgICAgICAgaWYgKG5vZGVMaW5rRm4pIHtcbiAgICAgICAgICAgIGlmIChub2RlTGlua0ZuLnNjb3BlKSB7XG4gICAgICAgICAgICAgIGNoaWxkU2NvcGUgPSBzY29wZS4kbmV3KCk7XG4gICAgICAgICAgICAgIGNvbXBpbGUuJCRhZGRTY29wZUluZm8oanFMaXRlKG5vZGUpLCBjaGlsZFNjb3BlKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIGNoaWxkU2NvcGUgPSBzY29wZTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKG5vZGVMaW5rRm4udHJhbnNjbHVkZU9uVGhpc0VsZW1lbnQpIHtcbiAgICAgICAgICAgICAgY2hpbGRCb3VuZFRyYW5zY2x1ZGVGbiA9IGNyZWF0ZUJvdW5kVHJhbnNjbHVkZUZuKFxuICAgICAgICAgICAgICAgICAgc2NvcGUsIG5vZGVMaW5rRm4udHJhbnNjbHVkZSwgcGFyZW50Qm91bmRUcmFuc2NsdWRlRm4pO1xuXG4gICAgICAgICAgICB9IGVsc2UgaWYgKCFub2RlTGlua0ZuLnRlbXBsYXRlT25UaGlzRWxlbWVudCAmJiBwYXJlbnRCb3VuZFRyYW5zY2x1ZGVGbikge1xuICAgICAgICAgICAgICBjaGlsZEJvdW5kVHJhbnNjbHVkZUZuID0gcGFyZW50Qm91bmRUcmFuc2NsdWRlRm47XG5cbiAgICAgICAgICAgIH0gZWxzZSBpZiAoIXBhcmVudEJvdW5kVHJhbnNjbHVkZUZuICYmIHRyYW5zY2x1ZGVGbikge1xuICAgICAgICAgICAgICBjaGlsZEJvdW5kVHJhbnNjbHVkZUZuID0gY3JlYXRlQm91bmRUcmFuc2NsdWRlRm4oc2NvcGUsIHRyYW5zY2x1ZGVGbik7XG5cbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIGNoaWxkQm91bmRUcmFuc2NsdWRlRm4gPSBudWxsO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBub2RlTGlua0ZuKGNoaWxkTGlua0ZuLCBjaGlsZFNjb3BlLCBub2RlLCAkcm9vdEVsZW1lbnQsIGNoaWxkQm91bmRUcmFuc2NsdWRlRm4pO1xuXG4gICAgICAgICAgfSBlbHNlIGlmIChjaGlsZExpbmtGbikge1xuICAgICAgICAgICAgY2hpbGRMaW5rRm4oc2NvcGUsIG5vZGUuY2hpbGROb2RlcywgdW5kZWZpbmVkLCBwYXJlbnRCb3VuZFRyYW5zY2x1ZGVGbik7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gbWVyZ2VDb25zZWN1dGl2ZVRleHROb2Rlcyhub2RlTGlzdCwgaWR4LCBub3RMaXZlTGlzdCkge1xuICAgICAgdmFyIG5vZGUgPSBub2RlTGlzdFtpZHhdO1xuICAgICAgdmFyIHBhcmVudCA9IG5vZGUucGFyZW50Tm9kZTtcbiAgICAgIHZhciBzaWJsaW5nO1xuXG4gICAgICBpZiAobm9kZS5ub2RlVHlwZSAhPT0gTk9ERV9UWVBFX1RFWFQpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICB3aGlsZSAodHJ1ZSkge1xuICAgICAgICBzaWJsaW5nID0gcGFyZW50ID8gbm9kZS5uZXh0U2libGluZyA6IG5vZGVMaXN0W2lkeCArIDFdO1xuICAgICAgICBpZiAoIXNpYmxpbmcgfHwgc2libGluZy5ub2RlVHlwZSAhPT0gTk9ERV9UWVBFX1RFWFQpIHtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuXG4gICAgICAgIG5vZGUubm9kZVZhbHVlID0gbm9kZS5ub2RlVmFsdWUgKyBzaWJsaW5nLm5vZGVWYWx1ZTtcblxuICAgICAgICBpZiAoc2libGluZy5wYXJlbnROb2RlKSB7XG4gICAgICAgICAgc2libGluZy5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKHNpYmxpbmcpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChub3RMaXZlTGlzdCAmJiBzaWJsaW5nID09PSBub2RlTGlzdFtpZHggKyAxXSkge1xuICAgICAgICAgIG5vZGVMaXN0LnNwbGljZShpZHggKyAxLCAxKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIGZ1bmN0aW9uIGNyZWF0ZUJvdW5kVHJhbnNjbHVkZUZuKHNjb3BlLCB0cmFuc2NsdWRlRm4sIHByZXZpb3VzQm91bmRUcmFuc2NsdWRlRm4pIHtcbiAgICAgIGZ1bmN0aW9uIGJvdW5kVHJhbnNjbHVkZUZuKHRyYW5zY2x1ZGVkU2NvcGUsIGNsb25lRm4sIGNvbnRyb2xsZXJzLCBmdXR1cmVQYXJlbnRFbGVtZW50LCBjb250YWluaW5nU2NvcGUpIHtcblxuICAgICAgICBpZiAoIXRyYW5zY2x1ZGVkU2NvcGUpIHtcbiAgICAgICAgICB0cmFuc2NsdWRlZFNjb3BlID0gc2NvcGUuJG5ldyhmYWxzZSwgY29udGFpbmluZ1Njb3BlKTtcbiAgICAgICAgICB0cmFuc2NsdWRlZFNjb3BlLiQkdHJhbnNjbHVkZWQgPSB0cnVlO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHRyYW5zY2x1ZGVGbih0cmFuc2NsdWRlZFNjb3BlLCBjbG9uZUZuLCB7XG4gICAgICAgICAgcGFyZW50Qm91bmRUcmFuc2NsdWRlRm46IHByZXZpb3VzQm91bmRUcmFuc2NsdWRlRm4sXG4gICAgICAgICAgdHJhbnNjbHVkZUNvbnRyb2xsZXJzOiBjb250cm9sbGVycyxcbiAgICAgICAgICBmdXR1cmVQYXJlbnRFbGVtZW50OiBmdXR1cmVQYXJlbnRFbGVtZW50XG4gICAgICAgIH0pO1xuICAgICAgfVxuXG4gICAgICAvLyBXZSBuZWVkICB0byBhdHRhY2ggdGhlIHRyYW5zY2x1c2lvbiBzbG90cyBvbnRvIHRoZSBgYm91bmRUcmFuc2NsdWRlRm5gXG4gICAgICAvLyBzbyB0aGF0IHRoZXkgYXJlIGF2YWlsYWJsZSBpbnNpZGUgdGhlIGBjb250cm9sbGVyc0JvdW5kVHJhbnNjbHVkZWAgZnVuY3Rpb25cbiAgICAgIHZhciBib3VuZFNsb3RzID0gYm91bmRUcmFuc2NsdWRlRm4uJCRzbG90cyA9IGNyZWF0ZU1hcCgpO1xuICAgICAgZm9yICh2YXIgc2xvdE5hbWUgaW4gdHJhbnNjbHVkZUZuLiQkc2xvdHMpIHtcbiAgICAgICAgaWYgKHRyYW5zY2x1ZGVGbi4kJHNsb3RzW3Nsb3ROYW1lXSkge1xuICAgICAgICAgIGJvdW5kU2xvdHNbc2xvdE5hbWVdID0gY3JlYXRlQm91bmRUcmFuc2NsdWRlRm4oc2NvcGUsIHRyYW5zY2x1ZGVGbi4kJHNsb3RzW3Nsb3ROYW1lXSwgcHJldmlvdXNCb3VuZFRyYW5zY2x1ZGVGbik7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgYm91bmRTbG90c1tzbG90TmFtZV0gPSBudWxsO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBib3VuZFRyYW5zY2x1ZGVGbjtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBMb29rcyBmb3IgZGlyZWN0aXZlcyBvbiB0aGUgZ2l2ZW4gbm9kZSBhbmQgYWRkcyB0aGVtIHRvIHRoZSBkaXJlY3RpdmUgY29sbGVjdGlvbiB3aGljaCBpc1xuICAgICAqIHNvcnRlZC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBub2RlIE5vZGUgdG8gc2VhcmNoLlxuICAgICAqIEBwYXJhbSBkaXJlY3RpdmVzIEFuIGFycmF5IHRvIHdoaWNoIHRoZSBkaXJlY3RpdmVzIGFyZSBhZGRlZCB0by4gVGhpcyBhcnJheSBpcyBzb3J0ZWQgYmVmb3JlXG4gICAgICogICAgICAgIHRoZSBmdW5jdGlvbiByZXR1cm5zLlxuICAgICAqIEBwYXJhbSBhdHRycyBUaGUgc2hhcmVkIGF0dHJzIG9iamVjdCB3aGljaCBpcyB1c2VkIHRvIHBvcHVsYXRlIHRoZSBub3JtYWxpemVkIGF0dHJpYnV0ZXMuXG4gICAgICogQHBhcmFtIHtudW1iZXI9fSBtYXhQcmlvcml0eSBNYXggZGlyZWN0aXZlIHByaW9yaXR5LlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGNvbGxlY3REaXJlY3RpdmVzKG5vZGUsIGRpcmVjdGl2ZXMsIGF0dHJzLCBtYXhQcmlvcml0eSwgaWdub3JlRGlyZWN0aXZlKSB7XG4gICAgICB2YXIgbm9kZVR5cGUgPSBub2RlLm5vZGVUeXBlLFxuICAgICAgICAgIGF0dHJzTWFwID0gYXR0cnMuJGF0dHIsXG4gICAgICAgICAgbWF0Y2gsXG4gICAgICAgICAgbm9kZU5hbWUsXG4gICAgICAgICAgY2xhc3NOYW1lO1xuXG4gICAgICBzd2l0Y2ggKG5vZGVUeXBlKSB7XG4gICAgICAgIGNhc2UgTk9ERV9UWVBFX0VMRU1FTlQ6IC8qIEVsZW1lbnQgKi9cblxuICAgICAgICAgIG5vZGVOYW1lID0gbm9kZU5hbWVfKG5vZGUpO1xuXG4gICAgICAgICAgLy8gdXNlIHRoZSBub2RlIG5hbWU6IDxkaXJlY3RpdmU+XG4gICAgICAgICAgYWRkRGlyZWN0aXZlKGRpcmVjdGl2ZXMsXG4gICAgICAgICAgICAgIGRpcmVjdGl2ZU5vcm1hbGl6ZShub2RlTmFtZSksICdFJywgbWF4UHJpb3JpdHksIGlnbm9yZURpcmVjdGl2ZSk7XG5cbiAgICAgICAgICAvLyBpdGVyYXRlIG92ZXIgdGhlIGF0dHJpYnV0ZXNcbiAgICAgICAgICBmb3IgKHZhciBhdHRyLCBuYW1lLCBuTmFtZSwgbmdBdHRyTmFtZSwgdmFsdWUsIGlzTmdBdHRyLCBuQXR0cnMgPSBub2RlLmF0dHJpYnV0ZXMsXG4gICAgICAgICAgICAgICAgICAgaiA9IDAsIGpqID0gbkF0dHJzICYmIG5BdHRycy5sZW5ndGg7IGogPCBqajsgaisrKSB7XG4gICAgICAgICAgICB2YXIgYXR0clN0YXJ0TmFtZSA9IGZhbHNlO1xuICAgICAgICAgICAgdmFyIGF0dHJFbmROYW1lID0gZmFsc2U7XG5cbiAgICAgICAgICAgIGF0dHIgPSBuQXR0cnNbal07XG4gICAgICAgICAgICBuYW1lID0gYXR0ci5uYW1lO1xuICAgICAgICAgICAgdmFsdWUgPSBhdHRyLnZhbHVlO1xuXG4gICAgICAgICAgICAvLyBzdXBwb3J0IG5nQXR0ciBhdHRyaWJ1dGUgYmluZGluZ1xuICAgICAgICAgICAgbmdBdHRyTmFtZSA9IGRpcmVjdGl2ZU5vcm1hbGl6ZShuYW1lKTtcbiAgICAgICAgICAgIGlzTmdBdHRyID0gTkdfQVRUUl9CSU5ESU5HLnRlc3QobmdBdHRyTmFtZSk7XG4gICAgICAgICAgICBpZiAoaXNOZ0F0dHIpIHtcbiAgICAgICAgICAgICAgbmFtZSA9IG5hbWUucmVwbGFjZShQUkVGSVhfUkVHRVhQLCAnJylcbiAgICAgICAgICAgICAgICAuc3Vic3RyKDgpLnJlcGxhY2UoL18oLikvZywgZnVuY3Rpb24obWF0Y2gsIGxldHRlcikge1xuICAgICAgICAgICAgICAgICAgcmV0dXJuIGxldHRlci50b1VwcGVyQ2FzZSgpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB2YXIgbXVsdGlFbGVtZW50TWF0Y2ggPSBuZ0F0dHJOYW1lLm1hdGNoKE1VTFRJX0VMRU1FTlRfRElSX1JFKTtcbiAgICAgICAgICAgIGlmIChtdWx0aUVsZW1lbnRNYXRjaCAmJiBkaXJlY3RpdmVJc011bHRpRWxlbWVudChtdWx0aUVsZW1lbnRNYXRjaFsxXSkpIHtcbiAgICAgICAgICAgICAgYXR0clN0YXJ0TmFtZSA9IG5hbWU7XG4gICAgICAgICAgICAgIGF0dHJFbmROYW1lID0gbmFtZS5zdWJzdHIoMCwgbmFtZS5sZW5ndGggLSA1KSArICdlbmQnO1xuICAgICAgICAgICAgICBuYW1lID0gbmFtZS5zdWJzdHIoMCwgbmFtZS5sZW5ndGggLSA2KTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgbk5hbWUgPSBkaXJlY3RpdmVOb3JtYWxpemUobmFtZS50b0xvd2VyQ2FzZSgpKTtcbiAgICAgICAgICAgIGF0dHJzTWFwW25OYW1lXSA9IG5hbWU7XG4gICAgICAgICAgICBpZiAoaXNOZ0F0dHIgfHwgIWF0dHJzLmhhc093blByb3BlcnR5KG5OYW1lKSkge1xuICAgICAgICAgICAgICAgIGF0dHJzW25OYW1lXSA9IHZhbHVlO1xuICAgICAgICAgICAgICAgIGlmIChnZXRCb29sZWFuQXR0ck5hbWUobm9kZSwgbk5hbWUpKSB7XG4gICAgICAgICAgICAgICAgICBhdHRyc1tuTmFtZV0gPSB0cnVlOyAvLyBwcmVzZW5jZSBtZWFucyB0cnVlXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgYWRkQXR0ckludGVycG9sYXRlRGlyZWN0aXZlKG5vZGUsIGRpcmVjdGl2ZXMsIHZhbHVlLCBuTmFtZSwgaXNOZ0F0dHIpO1xuICAgICAgICAgICAgYWRkRGlyZWN0aXZlKGRpcmVjdGl2ZXMsIG5OYW1lLCAnQScsIG1heFByaW9yaXR5LCBpZ25vcmVEaXJlY3RpdmUsIGF0dHJTdGFydE5hbWUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGF0dHJFbmROYW1lKTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBpZiAobm9kZU5hbWUgPT09ICdpbnB1dCcgJiYgbm9kZS5nZXRBdHRyaWJ1dGUoJ3R5cGUnKSA9PT0gJ2hpZGRlbicpIHtcbiAgICAgICAgICAgIC8vIEhpZGRlbiBpbnB1dCBlbGVtZW50cyBjYW4gaGF2ZSBzdHJhbmdlIGJlaGF2aW91ciB3aGVuIG5hdmlnYXRpbmcgYmFjayB0byB0aGUgcGFnZVxuICAgICAgICAgICAgLy8gVGhpcyB0ZWxscyB0aGUgYnJvd3NlciBub3QgdG8gdHJ5IHRvIGNhY2hlIGFuZCByZWluc3RhdGUgcHJldmlvdXMgdmFsdWVzXG4gICAgICAgICAgICBub2RlLnNldEF0dHJpYnV0ZSgnYXV0b2NvbXBsZXRlJywgJ29mZicpO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIC8vIHVzZSBjbGFzcyBhcyBkaXJlY3RpdmVcbiAgICAgICAgICBpZiAoIWNzc0NsYXNzRGlyZWN0aXZlc0VuYWJsZWQpIGJyZWFrO1xuICAgICAgICAgIGNsYXNzTmFtZSA9IG5vZGUuY2xhc3NOYW1lO1xuICAgICAgICAgIGlmIChpc09iamVjdChjbGFzc05hbWUpKSB7XG4gICAgICAgICAgICAgIC8vIE1heWJlIFNWR0FuaW1hdGVkU3RyaW5nXG4gICAgICAgICAgICAgIGNsYXNzTmFtZSA9IGNsYXNzTmFtZS5hbmltVmFsO1xuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAoaXNTdHJpbmcoY2xhc3NOYW1lKSAmJiBjbGFzc05hbWUgIT09ICcnKSB7XG4gICAgICAgICAgICB3aGlsZSAoKG1hdGNoID0gQ0xBU1NfRElSRUNUSVZFX1JFR0VYUC5leGVjKGNsYXNzTmFtZSkpKSB7XG4gICAgICAgICAgICAgIG5OYW1lID0gZGlyZWN0aXZlTm9ybWFsaXplKG1hdGNoWzJdKTtcbiAgICAgICAgICAgICAgaWYgKGFkZERpcmVjdGl2ZShkaXJlY3RpdmVzLCBuTmFtZSwgJ0MnLCBtYXhQcmlvcml0eSwgaWdub3JlRGlyZWN0aXZlKSkge1xuICAgICAgICAgICAgICAgIGF0dHJzW25OYW1lXSA9IHRyaW0obWF0Y2hbM10pO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIGNsYXNzTmFtZSA9IGNsYXNzTmFtZS5zdWJzdHIobWF0Y2guaW5kZXggKyBtYXRjaFswXS5sZW5ndGgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBOT0RFX1RZUEVfVEVYVDogLyogVGV4dCBOb2RlICovXG4gICAgICAgICAgYWRkVGV4dEludGVycG9sYXRlRGlyZWN0aXZlKGRpcmVjdGl2ZXMsIG5vZGUubm9kZVZhbHVlKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBOT0RFX1RZUEVfQ09NTUVOVDogLyogQ29tbWVudCAqL1xuICAgICAgICAgIGlmICghY29tbWVudERpcmVjdGl2ZXNFbmFibGVkKSBicmVhaztcbiAgICAgICAgICBjb2xsZWN0Q29tbWVudERpcmVjdGl2ZXMobm9kZSwgZGlyZWN0aXZlcywgYXR0cnMsIG1heFByaW9yaXR5LCBpZ25vcmVEaXJlY3RpdmUpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgfVxuXG4gICAgICBkaXJlY3RpdmVzLnNvcnQoYnlQcmlvcml0eSk7XG4gICAgICByZXR1cm4gZGlyZWN0aXZlcztcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBjb2xsZWN0Q29tbWVudERpcmVjdGl2ZXMobm9kZSwgZGlyZWN0aXZlcywgYXR0cnMsIG1heFByaW9yaXR5LCBpZ25vcmVEaXJlY3RpdmUpIHtcbiAgICAgIC8vIGZ1bmN0aW9uIGNyZWF0ZWQgYmVjYXVzZSBvZiBwZXJmb3JtYW5jZSwgdHJ5L2NhdGNoIGRpc2FibGVzXG4gICAgICAvLyB0aGUgb3B0aW1pemF0aW9uIG9mIHRoZSB3aG9sZSBmdW5jdGlvbiAjMTQ4NDhcbiAgICAgIHRyeSB7XG4gICAgICAgIHZhciBtYXRjaCA9IENPTU1FTlRfRElSRUNUSVZFX1JFR0VYUC5leGVjKG5vZGUubm9kZVZhbHVlKTtcbiAgICAgICAgaWYgKG1hdGNoKSB7XG4gICAgICAgICAgdmFyIG5OYW1lID0gZGlyZWN0aXZlTm9ybWFsaXplKG1hdGNoWzFdKTtcbiAgICAgICAgICBpZiAoYWRkRGlyZWN0aXZlKGRpcmVjdGl2ZXMsIG5OYW1lLCAnTScsIG1heFByaW9yaXR5LCBpZ25vcmVEaXJlY3RpdmUpKSB7XG4gICAgICAgICAgICBhdHRyc1tuTmFtZV0gPSB0cmltKG1hdGNoWzJdKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgLy8gdHVybnMgb3V0IHRoYXQgdW5kZXIgc29tZSBjaXJjdW1zdGFuY2VzIElFOSB0aHJvd3MgZXJyb3JzIHdoZW4gb25lIGF0dGVtcHRzIHRvIHJlYWRcbiAgICAgICAgLy8gY29tbWVudCdzIG5vZGUgdmFsdWUuXG4gICAgICAgIC8vIEp1c3QgaWdub3JlIGl0IGFuZCBjb250aW51ZS4gKENhbid0IHNlZW0gdG8gcmVwcm9kdWNlIGluIHRlc3QgY2FzZS4pXG4gICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogR2l2ZW4gYSBub2RlIHdpdGggYSBkaXJlY3RpdmUtc3RhcnQgaXQgY29sbGVjdHMgYWxsIG9mIHRoZSBzaWJsaW5ncyB1bnRpbCBpdCBmaW5kc1xuICAgICAqIGRpcmVjdGl2ZS1lbmQuXG4gICAgICogQHBhcmFtIG5vZGVcbiAgICAgKiBAcGFyYW0gYXR0clN0YXJ0XG4gICAgICogQHBhcmFtIGF0dHJFbmRcbiAgICAgKiBAcmV0dXJucyB7Kn1cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBncm91cFNjYW4obm9kZSwgYXR0clN0YXJ0LCBhdHRyRW5kKSB7XG4gICAgICB2YXIgbm9kZXMgPSBbXTtcbiAgICAgIHZhciBkZXB0aCA9IDA7XG4gICAgICBpZiAoYXR0clN0YXJ0ICYmIG5vZGUuaGFzQXR0cmlidXRlICYmIG5vZGUuaGFzQXR0cmlidXRlKGF0dHJTdGFydCkpIHtcbiAgICAgICAgZG8ge1xuICAgICAgICAgIGlmICghbm9kZSkge1xuICAgICAgICAgICAgdGhyb3cgJGNvbXBpbGVNaW5FcnIoJ3V0ZXJkaXInLFxuICAgICAgICAgICAgICAgICAgICAgICdVbnRlcm1pbmF0ZWQgYXR0cmlidXRlLCBmb3VuZCBcXCd7MH1cXCcgYnV0IG5vIG1hdGNoaW5nIFxcJ3sxfVxcJyBmb3VuZC4nLFxuICAgICAgICAgICAgICAgICAgICAgIGF0dHJTdGFydCwgYXR0ckVuZCk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmIChub2RlLm5vZGVUeXBlID09PSBOT0RFX1RZUEVfRUxFTUVOVCkge1xuICAgICAgICAgICAgaWYgKG5vZGUuaGFzQXR0cmlidXRlKGF0dHJTdGFydCkpIGRlcHRoKys7XG4gICAgICAgICAgICBpZiAobm9kZS5oYXNBdHRyaWJ1dGUoYXR0ckVuZCkpIGRlcHRoLS07XG4gICAgICAgICAgfVxuICAgICAgICAgIG5vZGVzLnB1c2gobm9kZSk7XG4gICAgICAgICAgbm9kZSA9IG5vZGUubmV4dFNpYmxpbmc7XG4gICAgICAgIH0gd2hpbGUgKGRlcHRoID4gMCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBub2Rlcy5wdXNoKG5vZGUpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4ganFMaXRlKG5vZGVzKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBXcmFwcGVyIGZvciBsaW5raW5nIGZ1bmN0aW9uIHdoaWNoIGNvbnZlcnRzIG5vcm1hbCBsaW5raW5nIGZ1bmN0aW9uIGludG8gYSBncm91cGVkXG4gICAgICogbGlua2luZyBmdW5jdGlvbi5cbiAgICAgKiBAcGFyYW0gbGlua0ZuXG4gICAgICogQHBhcmFtIGF0dHJTdGFydFxuICAgICAqIEBwYXJhbSBhdHRyRW5kXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGdyb3VwRWxlbWVudHNMaW5rRm5XcmFwcGVyKGxpbmtGbiwgYXR0clN0YXJ0LCBhdHRyRW5kKSB7XG4gICAgICByZXR1cm4gZnVuY3Rpb24gZ3JvdXBlZEVsZW1lbnRzTGluayhzY29wZSwgZWxlbWVudCwgYXR0cnMsIGNvbnRyb2xsZXJzLCB0cmFuc2NsdWRlRm4pIHtcbiAgICAgICAgZWxlbWVudCA9IGdyb3VwU2NhbihlbGVtZW50WzBdLCBhdHRyU3RhcnQsIGF0dHJFbmQpO1xuICAgICAgICByZXR1cm4gbGlua0ZuKHNjb3BlLCBlbGVtZW50LCBhdHRycywgY29udHJvbGxlcnMsIHRyYW5zY2x1ZGVGbik7XG4gICAgICB9O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEEgZnVuY3Rpb24gZ2VuZXJhdG9yIHRoYXQgaXMgdXNlZCB0byBzdXBwb3J0IGJvdGggZWFnZXIgYW5kIGxhenkgY29tcGlsYXRpb25cbiAgICAgKiBsaW5raW5nIGZ1bmN0aW9uLlxuICAgICAqIEBwYXJhbSBlYWdlclxuICAgICAqIEBwYXJhbSAkY29tcGlsZU5vZGVzXG4gICAgICogQHBhcmFtIHRyYW5zY2x1ZGVGblxuICAgICAqIEBwYXJhbSBtYXhQcmlvcml0eVxuICAgICAqIEBwYXJhbSBpZ25vcmVEaXJlY3RpdmVcbiAgICAgKiBAcGFyYW0gcHJldmlvdXNDb21waWxlQ29udGV4dFxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn1cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBjb21waWxhdGlvbkdlbmVyYXRvcihlYWdlciwgJGNvbXBpbGVOb2RlcywgdHJhbnNjbHVkZUZuLCBtYXhQcmlvcml0eSwgaWdub3JlRGlyZWN0aXZlLCBwcmV2aW91c0NvbXBpbGVDb250ZXh0KSB7XG4gICAgICB2YXIgY29tcGlsZWQ7XG5cbiAgICAgIGlmIChlYWdlcikge1xuICAgICAgICByZXR1cm4gY29tcGlsZSgkY29tcGlsZU5vZGVzLCB0cmFuc2NsdWRlRm4sIG1heFByaW9yaXR5LCBpZ25vcmVEaXJlY3RpdmUsIHByZXZpb3VzQ29tcGlsZUNvbnRleHQpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIC8qKiBAdGhpcyAqLyBmdW5jdGlvbiBsYXp5Q29tcGlsYXRpb24oKSB7XG4gICAgICAgIGlmICghY29tcGlsZWQpIHtcbiAgICAgICAgICBjb21waWxlZCA9IGNvbXBpbGUoJGNvbXBpbGVOb2RlcywgdHJhbnNjbHVkZUZuLCBtYXhQcmlvcml0eSwgaWdub3JlRGlyZWN0aXZlLCBwcmV2aW91c0NvbXBpbGVDb250ZXh0KTtcblxuICAgICAgICAgIC8vIE51bGwgb3V0IGFsbCBvZiB0aGVzZSByZWZlcmVuY2VzIGluIG9yZGVyIHRvIG1ha2UgdGhlbSBlbGlnaWJsZSBmb3IgZ2FyYmFnZSBjb2xsZWN0aW9uXG4gICAgICAgICAgLy8gc2luY2UgdGhpcyBpcyBhIHBvdGVudGlhbGx5IGxvbmcgbGl2ZWQgY2xvc3VyZVxuICAgICAgICAgICRjb21waWxlTm9kZXMgPSB0cmFuc2NsdWRlRm4gPSBwcmV2aW91c0NvbXBpbGVDb250ZXh0ID0gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gY29tcGlsZWQuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgICAgIH07XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogT25jZSB0aGUgZGlyZWN0aXZlcyBoYXZlIGJlZW4gY29sbGVjdGVkLCB0aGVpciBjb21waWxlIGZ1bmN0aW9ucyBhcmUgZXhlY3V0ZWQuIFRoaXMgbWV0aG9kXG4gICAgICogaXMgcmVzcG9uc2libGUgZm9yIGlubGluaW5nIGRpcmVjdGl2ZSB0ZW1wbGF0ZXMgYXMgd2VsbCBhcyB0ZXJtaW5hdGluZyB0aGUgYXBwbGljYXRpb25cbiAgICAgKiBvZiB0aGUgZGlyZWN0aXZlcyBpZiB0aGUgdGVybWluYWwgZGlyZWN0aXZlIGhhcyBiZWVuIHJlYWNoZWQuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBkaXJlY3RpdmVzIEFycmF5IG9mIGNvbGxlY3RlZCBkaXJlY3RpdmVzIHRvIGV4ZWN1dGUgdGhlaXIgY29tcGlsZSBmdW5jdGlvbi5cbiAgICAgKiAgICAgICAgdGhpcyBuZWVkcyB0byBiZSBwcmUtc29ydGVkIGJ5IHByaW9yaXR5IG9yZGVyLlxuICAgICAqIEBwYXJhbSB7Tm9kZX0gY29tcGlsZU5vZGUgVGhlIHJhdyBET00gbm9kZSB0byBhcHBseSB0aGUgY29tcGlsZSBmdW5jdGlvbnMgdG9cbiAgICAgKiBAcGFyYW0ge09iamVjdH0gdGVtcGxhdGVBdHRycyBUaGUgc2hhcmVkIGF0dHJpYnV0ZSBmdW5jdGlvblxuICAgICAqIEBwYXJhbSB7ZnVuY3Rpb24oYW5ndWxhci5TY29wZSwgY2xvbmVBdHRhY2hGbj0pfSB0cmFuc2NsdWRlRm4gQSBsaW5raW5nIGZ1bmN0aW9uLCB3aGVyZSB0aGVcbiAgICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2NvcGUgYXJndW1lbnQgaXMgYXV0by1nZW5lcmF0ZWQgdG8gdGhlIG5ld1xuICAgICAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjaGlsZCBvZiB0aGUgdHJhbnNjbHVkZWQgcGFyZW50IHNjb3BlLlxuICAgICAqIEBwYXJhbSB7SlFMaXRlfSBqcUNvbGxlY3Rpb24gSWYgd2UgYXJlIHdvcmtpbmcgb24gdGhlIHJvb3Qgb2YgdGhlIGNvbXBpbGUgdHJlZSB0aGVuIHRoaXNcbiAgICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFyZ3VtZW50IGhhcyB0aGUgcm9vdCBqcUxpdGUgYXJyYXkgc28gdGhhdCB3ZSBjYW4gcmVwbGFjZSBub2Rlc1xuICAgICAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb24gaXQuXG4gICAgICogQHBhcmFtIHtPYmplY3Q9fSBvcmlnaW5hbFJlcGxhY2VEaXJlY3RpdmUgQW4gb3B0aW9uYWwgZGlyZWN0aXZlIHRoYXQgd2lsbCBiZSBpZ25vcmVkIHdoZW5cbiAgICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb21waWxpbmcgdGhlIHRyYW5zY2x1c2lvbi5cbiAgICAgKiBAcGFyYW0ge0FycmF5LjxGdW5jdGlvbj59IHByZUxpbmtGbnNcbiAgICAgKiBAcGFyYW0ge0FycmF5LjxGdW5jdGlvbj59IHBvc3RMaW5rRm5zXG4gICAgICogQHBhcmFtIHtPYmplY3R9IHByZXZpb3VzQ29tcGlsZUNvbnRleHQgQ29udGV4dCB1c2VkIGZvciBwcmV2aW91cyBjb21waWxhdGlvbiBvZiB0aGUgY3VycmVudFxuICAgICAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5vZGVcbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IGxpbmtGblxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGFwcGx5RGlyZWN0aXZlc1RvTm9kZShkaXJlY3RpdmVzLCBjb21waWxlTm9kZSwgdGVtcGxhdGVBdHRycywgdHJhbnNjbHVkZUZuLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBqcUNvbGxlY3Rpb24sIG9yaWdpbmFsUmVwbGFjZURpcmVjdGl2ZSwgcHJlTGlua0ZucywgcG9zdExpbmtGbnMsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByZXZpb3VzQ29tcGlsZUNvbnRleHQpIHtcbiAgICAgIHByZXZpb3VzQ29tcGlsZUNvbnRleHQgPSBwcmV2aW91c0NvbXBpbGVDb250ZXh0IHx8IHt9O1xuXG4gICAgICB2YXIgdGVybWluYWxQcmlvcml0eSA9IC1OdW1iZXIuTUFYX1ZBTFVFLFxuICAgICAgICAgIG5ld1Njb3BlRGlyZWN0aXZlID0gcHJldmlvdXNDb21waWxlQ29udGV4dC5uZXdTY29wZURpcmVjdGl2ZSxcbiAgICAgICAgICBjb250cm9sbGVyRGlyZWN0aXZlcyA9IHByZXZpb3VzQ29tcGlsZUNvbnRleHQuY29udHJvbGxlckRpcmVjdGl2ZXMsXG4gICAgICAgICAgbmV3SXNvbGF0ZVNjb3BlRGlyZWN0aXZlID0gcHJldmlvdXNDb21waWxlQ29udGV4dC5uZXdJc29sYXRlU2NvcGVEaXJlY3RpdmUsXG4gICAgICAgICAgdGVtcGxhdGVEaXJlY3RpdmUgPSBwcmV2aW91c0NvbXBpbGVDb250ZXh0LnRlbXBsYXRlRGlyZWN0aXZlLFxuICAgICAgICAgIG5vblRsYlRyYW5zY2x1ZGVEaXJlY3RpdmUgPSBwcmV2aW91c0NvbXBpbGVDb250ZXh0Lm5vblRsYlRyYW5zY2x1ZGVEaXJlY3RpdmUsXG4gICAgICAgICAgaGFzVHJhbnNjbHVkZURpcmVjdGl2ZSA9IGZhbHNlLFxuICAgICAgICAgIGhhc1RlbXBsYXRlID0gZmFsc2UsXG4gICAgICAgICAgaGFzRWxlbWVudFRyYW5zY2x1ZGVEaXJlY3RpdmUgPSBwcmV2aW91c0NvbXBpbGVDb250ZXh0Lmhhc0VsZW1lbnRUcmFuc2NsdWRlRGlyZWN0aXZlLFxuICAgICAgICAgICRjb21waWxlTm9kZSA9IHRlbXBsYXRlQXR0cnMuJCRlbGVtZW50ID0ganFMaXRlKGNvbXBpbGVOb2RlKSxcbiAgICAgICAgICBkaXJlY3RpdmUsXG4gICAgICAgICAgZGlyZWN0aXZlTmFtZSxcbiAgICAgICAgICAkdGVtcGxhdGUsXG4gICAgICAgICAgcmVwbGFjZURpcmVjdGl2ZSA9IG9yaWdpbmFsUmVwbGFjZURpcmVjdGl2ZSxcbiAgICAgICAgICBjaGlsZFRyYW5zY2x1ZGVGbiA9IHRyYW5zY2x1ZGVGbixcbiAgICAgICAgICBsaW5rRm4sXG4gICAgICAgICAgZGlkU2NhbkZvck11bHRpcGxlVHJhbnNjbHVzaW9uID0gZmFsc2UsXG4gICAgICAgICAgbWlnaHRIYXZlTXVsdGlwbGVUcmFuc2NsdXNpb25FcnJvciA9IGZhbHNlLFxuICAgICAgICAgIGRpcmVjdGl2ZVZhbHVlO1xuXG4gICAgICAvLyBleGVjdXRlcyBhbGwgZGlyZWN0aXZlcyBvbiB0aGUgY3VycmVudCBlbGVtZW50XG4gICAgICBmb3IgKHZhciBpID0gMCwgaWkgPSBkaXJlY3RpdmVzLmxlbmd0aDsgaSA8IGlpOyBpKyspIHtcbiAgICAgICAgZGlyZWN0aXZlID0gZGlyZWN0aXZlc1tpXTtcbiAgICAgICAgdmFyIGF0dHJTdGFydCA9IGRpcmVjdGl2ZS4kJHN0YXJ0O1xuICAgICAgICB2YXIgYXR0ckVuZCA9IGRpcmVjdGl2ZS4kJGVuZDtcblxuICAgICAgICAvLyBjb2xsZWN0IG11bHRpYmxvY2sgc2VjdGlvbnNcbiAgICAgICAgaWYgKGF0dHJTdGFydCkge1xuICAgICAgICAgICRjb21waWxlTm9kZSA9IGdyb3VwU2Nhbihjb21waWxlTm9kZSwgYXR0clN0YXJ0LCBhdHRyRW5kKTtcbiAgICAgICAgfVxuICAgICAgICAkdGVtcGxhdGUgPSB1bmRlZmluZWQ7XG5cbiAgICAgICAgaWYgKHRlcm1pbmFsUHJpb3JpdHkgPiBkaXJlY3RpdmUucHJpb3JpdHkpIHtcbiAgICAgICAgICBicmVhazsgLy8gcHJldmVudCBmdXJ0aGVyIHByb2Nlc3Npbmcgb2YgZGlyZWN0aXZlc1xuICAgICAgICB9XG5cbiAgICAgICAgZGlyZWN0aXZlVmFsdWUgPSBkaXJlY3RpdmUuc2NvcGU7XG5cbiAgICAgICAgaWYgKGRpcmVjdGl2ZVZhbHVlKSB7XG5cbiAgICAgICAgICAvLyBza2lwIHRoZSBjaGVjayBmb3IgZGlyZWN0aXZlcyB3aXRoIGFzeW5jIHRlbXBsYXRlcywgd2UnbGwgY2hlY2sgdGhlIGRlcml2ZWQgc3luY1xuICAgICAgICAgIC8vIGRpcmVjdGl2ZSB3aGVuIHRoZSB0ZW1wbGF0ZSBhcnJpdmVzXG4gICAgICAgICAgaWYgKCFkaXJlY3RpdmUudGVtcGxhdGVVcmwpIHtcbiAgICAgICAgICAgIGlmIChpc09iamVjdChkaXJlY3RpdmVWYWx1ZSkpIHtcbiAgICAgICAgICAgICAgLy8gVGhpcyBkaXJlY3RpdmUgaXMgdHJ5aW5nIHRvIGFkZCBhbiBpc29sYXRlZCBzY29wZS5cbiAgICAgICAgICAgICAgLy8gQ2hlY2sgdGhhdCB0aGVyZSBpcyBubyBzY29wZSBvZiBhbnkga2luZCBhbHJlYWR5XG4gICAgICAgICAgICAgIGFzc2VydE5vRHVwbGljYXRlKCduZXcvaXNvbGF0ZWQgc2NvcGUnLCBuZXdJc29sYXRlU2NvcGVEaXJlY3RpdmUgfHwgbmV3U2NvcGVEaXJlY3RpdmUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRpcmVjdGl2ZSwgJGNvbXBpbGVOb2RlKTtcbiAgICAgICAgICAgICAgbmV3SXNvbGF0ZVNjb3BlRGlyZWN0aXZlID0gZGlyZWN0aXZlO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgLy8gVGhpcyBkaXJlY3RpdmUgaXMgdHJ5aW5nIHRvIGFkZCBhIGNoaWxkIHNjb3BlLlxuICAgICAgICAgICAgICAvLyBDaGVjayB0aGF0IHRoZXJlIGlzIG5vIGlzb2xhdGVkIHNjb3BlIGFscmVhZHlcbiAgICAgICAgICAgICAgYXNzZXJ0Tm9EdXBsaWNhdGUoJ25ldy9pc29sYXRlZCBzY29wZScsIG5ld0lzb2xhdGVTY29wZURpcmVjdGl2ZSwgZGlyZWN0aXZlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkY29tcGlsZU5vZGUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cblxuICAgICAgICAgIG5ld1Njb3BlRGlyZWN0aXZlID0gbmV3U2NvcGVEaXJlY3RpdmUgfHwgZGlyZWN0aXZlO1xuICAgICAgICB9XG5cbiAgICAgICAgZGlyZWN0aXZlTmFtZSA9IGRpcmVjdGl2ZS5uYW1lO1xuXG4gICAgICAgIC8vIElmIHdlIGVuY291bnRlciBhIGNvbmRpdGlvbiB0aGF0IGNhbiByZXN1bHQgaW4gdHJhbnNjbHVzaW9uIG9uIHRoZSBkaXJlY3RpdmUsXG4gICAgICAgIC8vIHRoZW4gc2NhbiBhaGVhZCBpbiB0aGUgcmVtYWluaW5nIGRpcmVjdGl2ZXMgZm9yIG90aGVycyB0aGF0IG1heSBjYXVzZSBhIG11bHRpcGxlXG4gICAgICAgIC8vIHRyYW5zY2x1c2lvbiBlcnJvciB0byBiZSB0aHJvd24gZHVyaW5nIHRoZSBjb21waWxhdGlvbiBwcm9jZXNzLiAgSWYgYSBtYXRjaGluZyBkaXJlY3RpdmVcbiAgICAgICAgLy8gaXMgZm91bmQsIHRoZW4gd2Uga25vdyB0aGF0IHdoZW4gd2UgZW5jb3VudGVyIGEgdHJhbnNjbHVkZWQgZGlyZWN0aXZlLCB3ZSBuZWVkIHRvIGVhZ2VybHlcbiAgICAgICAgLy8gY29tcGlsZSB0aGUgYHRyYW5zY2x1ZGVgIGZ1bmN0aW9uIHJhdGhlciB0aGFuIGRvaW5nIGl0IGxhemlseSBpbiBvcmRlciB0byB0aHJvd1xuICAgICAgICAvLyBleGNlcHRpb25zIGF0IHRoZSBjb3JyZWN0IHRpbWVcbiAgICAgICAgaWYgKCFkaWRTY2FuRm9yTXVsdGlwbGVUcmFuc2NsdXNpb24gJiYgKChkaXJlY3RpdmUucmVwbGFjZSAmJiAoZGlyZWN0aXZlLnRlbXBsYXRlVXJsIHx8IGRpcmVjdGl2ZS50ZW1wbGF0ZSkpXG4gICAgICAgICAgICB8fCAoZGlyZWN0aXZlLnRyYW5zY2x1ZGUgJiYgIWRpcmVjdGl2ZS4kJHRsYikpKSB7XG4gICAgICAgICAgICAgICAgdmFyIGNhbmRpZGF0ZURpcmVjdGl2ZTtcblxuICAgICAgICAgICAgICAgIGZvciAodmFyIHNjYW5uaW5nSW5kZXggPSBpICsgMTsgKGNhbmRpZGF0ZURpcmVjdGl2ZSA9IGRpcmVjdGl2ZXNbc2Nhbm5pbmdJbmRleCsrXSk7KSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICgoY2FuZGlkYXRlRGlyZWN0aXZlLnRyYW5zY2x1ZGUgJiYgIWNhbmRpZGF0ZURpcmVjdGl2ZS4kJHRsYilcbiAgICAgICAgICAgICAgICAgICAgICAgIHx8IChjYW5kaWRhdGVEaXJlY3RpdmUucmVwbGFjZSAmJiAoY2FuZGlkYXRlRGlyZWN0aXZlLnRlbXBsYXRlVXJsIHx8IGNhbmRpZGF0ZURpcmVjdGl2ZS50ZW1wbGF0ZSkpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBtaWdodEhhdmVNdWx0aXBsZVRyYW5zY2x1c2lvbkVycm9yID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgZGlkU2NhbkZvck11bHRpcGxlVHJhbnNjbHVzaW9uID0gdHJ1ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICghZGlyZWN0aXZlLnRlbXBsYXRlVXJsICYmIGRpcmVjdGl2ZS5jb250cm9sbGVyKSB7XG4gICAgICAgICAgY29udHJvbGxlckRpcmVjdGl2ZXMgPSBjb250cm9sbGVyRGlyZWN0aXZlcyB8fCBjcmVhdGVNYXAoKTtcbiAgICAgICAgICBhc3NlcnROb0R1cGxpY2F0ZSgnXFwnJyArIGRpcmVjdGl2ZU5hbWUgKyAnXFwnIGNvbnRyb2xsZXInLFxuICAgICAgICAgICAgICBjb250cm9sbGVyRGlyZWN0aXZlc1tkaXJlY3RpdmVOYW1lXSwgZGlyZWN0aXZlLCAkY29tcGlsZU5vZGUpO1xuICAgICAgICAgIGNvbnRyb2xsZXJEaXJlY3RpdmVzW2RpcmVjdGl2ZU5hbWVdID0gZGlyZWN0aXZlO1xuICAgICAgICB9XG5cbiAgICAgICAgZGlyZWN0aXZlVmFsdWUgPSBkaXJlY3RpdmUudHJhbnNjbHVkZTtcblxuICAgICAgICBpZiAoZGlyZWN0aXZlVmFsdWUpIHtcbiAgICAgICAgICBoYXNUcmFuc2NsdWRlRGlyZWN0aXZlID0gdHJ1ZTtcblxuICAgICAgICAgIC8vIFNwZWNpYWwgY2FzZSBuZ0lmIGFuZCBuZ1JlcGVhdCBzbyB0aGF0IHdlIGRvbid0IGNvbXBsYWluIGFib3V0IGR1cGxpY2F0ZSB0cmFuc2NsdXNpb24uXG4gICAgICAgICAgLy8gVGhpcyBvcHRpb24gc2hvdWxkIG9ubHkgYmUgdXNlZCBieSBkaXJlY3RpdmVzIHRoYXQga25vdyBob3cgdG8gc2FmZWx5IGhhbmRsZSBlbGVtZW50IHRyYW5zY2x1c2lvbixcbiAgICAgICAgICAvLyB3aGVyZSB0aGUgdHJhbnNjbHVkZWQgbm9kZXMgYXJlIGFkZGVkIG9yIHJlcGxhY2VkIGFmdGVyIGxpbmtpbmcuXG4gICAgICAgICAgaWYgKCFkaXJlY3RpdmUuJCR0bGIpIHtcbiAgICAgICAgICAgIGFzc2VydE5vRHVwbGljYXRlKCd0cmFuc2NsdXNpb24nLCBub25UbGJUcmFuc2NsdWRlRGlyZWN0aXZlLCBkaXJlY3RpdmUsICRjb21waWxlTm9kZSk7XG4gICAgICAgICAgICBub25UbGJUcmFuc2NsdWRlRGlyZWN0aXZlID0gZGlyZWN0aXZlO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGlmIChkaXJlY3RpdmVWYWx1ZSA9PT0gJ2VsZW1lbnQnKSB7XG4gICAgICAgICAgICBoYXNFbGVtZW50VHJhbnNjbHVkZURpcmVjdGl2ZSA9IHRydWU7XG4gICAgICAgICAgICB0ZXJtaW5hbFByaW9yaXR5ID0gZGlyZWN0aXZlLnByaW9yaXR5O1xuICAgICAgICAgICAgJHRlbXBsYXRlID0gJGNvbXBpbGVOb2RlO1xuICAgICAgICAgICAgJGNvbXBpbGVOb2RlID0gdGVtcGxhdGVBdHRycy4kJGVsZW1lbnQgPVxuICAgICAgICAgICAgICAgIGpxTGl0ZShjb21waWxlLiQkY3JlYXRlQ29tbWVudChkaXJlY3RpdmVOYW1lLCB0ZW1wbGF0ZUF0dHJzW2RpcmVjdGl2ZU5hbWVdKSk7XG4gICAgICAgICAgICBjb21waWxlTm9kZSA9ICRjb21waWxlTm9kZVswXTtcbiAgICAgICAgICAgIHJlcGxhY2VXaXRoKGpxQ29sbGVjdGlvbiwgc2xpY2VBcmdzKCR0ZW1wbGF0ZSksIGNvbXBpbGVOb2RlKTtcblxuICAgICAgICAgICAgLy8gU3VwcG9ydDogQ2hyb21lIDwgNTBcbiAgICAgICAgICAgIC8vIGh0dHBzOi8vZ2l0aHViLmNvbS9hbmd1bGFyL2FuZ3VsYXIuanMvaXNzdWVzLzE0MDQxXG5cbiAgICAgICAgICAgIC8vIEluIHRoZSB2ZXJzaW9ucyBvZiBWOCBwcmlvciB0byBDaHJvbWUgNTAsIHRoZSBkb2N1bWVudCBmcmFnbWVudCB0aGF0IGlzIGNyZWF0ZWRcbiAgICAgICAgICAgIC8vIGluIHRoZSBgcmVwbGFjZVdpdGhgIGZ1bmN0aW9uIGlzIGltcHJvcGVybHkgZ2FyYmFnZSBjb2xsZWN0ZWQgZGVzcGl0ZSBzdGlsbFxuICAgICAgICAgICAgLy8gYmVpbmcgcmVmZXJlbmNlZCBieSB0aGUgYHBhcmVudE5vZGVgIHByb3BlcnR5IG9mIGFsbCBvZiB0aGUgY2hpbGQgbm9kZXMuICBCeSBhZGRpbmdcbiAgICAgICAgICAgIC8vIGEgcmVmZXJlbmNlIHRvIHRoZSBmcmFnbWVudCB2aWEgYSBkaWZmZXJlbnQgcHJvcGVydHksIHdlIGNhbiBhdm9pZCB0aGF0IGluY29ycmVjdFxuICAgICAgICAgICAgLy8gYmVoYXZpb3IuXG4gICAgICAgICAgICAvLyBUT0RPOiByZW1vdmUgdGhpcyBsaW5lIGFmdGVyIENocm9tZSA1MCBoYXMgYmVlbiByZWxlYXNlZFxuICAgICAgICAgICAgJHRlbXBsYXRlWzBdLiQkcGFyZW50Tm9kZSA9ICR0ZW1wbGF0ZVswXS5wYXJlbnROb2RlO1xuXG4gICAgICAgICAgICBjaGlsZFRyYW5zY2x1ZGVGbiA9IGNvbXBpbGF0aW9uR2VuZXJhdG9yKG1pZ2h0SGF2ZU11bHRpcGxlVHJhbnNjbHVzaW9uRXJyb3IsICR0ZW1wbGF0ZSwgdHJhbnNjbHVkZUZuLCB0ZXJtaW5hbFByaW9yaXR5LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlcGxhY2VEaXJlY3RpdmUgJiYgcmVwbGFjZURpcmVjdGl2ZS5uYW1lLCB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBEb24ndCBwYXNzIGluOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gLSBjb250cm9sbGVyRGlyZWN0aXZlcyAtIG90aGVyd2lzZSB3ZSdsbCBjcmVhdGUgZHVwbGljYXRlcyBjb250cm9sbGVyc1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gLSBuZXdJc29sYXRlU2NvcGVEaXJlY3RpdmUgb3IgdGVtcGxhdGVEaXJlY3RpdmUgLSBjb21iaW5pbmcgdGVtcGxhdGVzIHdpdGhcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vICAgZWxlbWVudCB0cmFuc2NsdXNpb24gZG9lc24ndCBtYWtlIHNlbnNlLlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy9cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIFdlIG5lZWQgb25seSBub25UbGJUcmFuc2NsdWRlRGlyZWN0aXZlIHNvIHRoYXQgd2UgcHJldmVudCBwdXR0aW5nIHRyYW5zY2x1c2lvblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gb24gdGhlIHNhbWUgZWxlbWVudCBtb3JlIHRoYW4gb25jZS5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5vblRsYlRyYW5zY2x1ZGVEaXJlY3RpdmU6IG5vblRsYlRyYW5zY2x1ZGVEaXJlY3RpdmVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICB9IGVsc2Uge1xuXG4gICAgICAgICAgICB2YXIgc2xvdHMgPSBjcmVhdGVNYXAoKTtcblxuICAgICAgICAgICAgaWYgKCFpc09iamVjdChkaXJlY3RpdmVWYWx1ZSkpIHtcbiAgICAgICAgICAgICAgJHRlbXBsYXRlID0ganFMaXRlKGpxTGl0ZUNsb25lKGNvbXBpbGVOb2RlKSkuY29udGVudHMoKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG5cbiAgICAgICAgICAgICAgLy8gV2UgaGF2ZSB0cmFuc2NsdXNpb24gc2xvdHMsXG4gICAgICAgICAgICAgIC8vIGNvbGxlY3QgdGhlbSB1cCwgY29tcGlsZSB0aGVtIGFuZCBzdG9yZSB0aGVpciB0cmFuc2NsdXNpb24gZnVuY3Rpb25zXG4gICAgICAgICAgICAgICR0ZW1wbGF0ZSA9IFtdO1xuXG4gICAgICAgICAgICAgIHZhciBzbG90TWFwID0gY3JlYXRlTWFwKCk7XG4gICAgICAgICAgICAgIHZhciBmaWxsZWRTbG90cyA9IGNyZWF0ZU1hcCgpO1xuXG4gICAgICAgICAgICAgIC8vIFBhcnNlIHRoZSBlbGVtZW50IHNlbGVjdG9yc1xuICAgICAgICAgICAgICBmb3JFYWNoKGRpcmVjdGl2ZVZhbHVlLCBmdW5jdGlvbihlbGVtZW50U2VsZWN0b3IsIHNsb3ROYW1lKSB7XG4gICAgICAgICAgICAgICAgLy8gSWYgYW4gZWxlbWVudCBzZWxlY3RvciBzdGFydHMgd2l0aCBhID8gdGhlbiBpdCBpcyBvcHRpb25hbFxuICAgICAgICAgICAgICAgIHZhciBvcHRpb25hbCA9IChlbGVtZW50U2VsZWN0b3IuY2hhckF0KDApID09PSAnPycpO1xuICAgICAgICAgICAgICAgIGVsZW1lbnRTZWxlY3RvciA9IG9wdGlvbmFsID8gZWxlbWVudFNlbGVjdG9yLnN1YnN0cmluZygxKSA6IGVsZW1lbnRTZWxlY3RvcjtcblxuICAgICAgICAgICAgICAgIHNsb3RNYXBbZWxlbWVudFNlbGVjdG9yXSA9IHNsb3ROYW1lO1xuXG4gICAgICAgICAgICAgICAgLy8gV2UgZXhwbGljaXRseSBhc3NpZ24gYG51bGxgIHNpbmNlIHRoaXMgaW1wbGllcyB0aGF0IGEgc2xvdCB3YXMgZGVmaW5lZCBidXQgbm90IGZpbGxlZC5cbiAgICAgICAgICAgICAgICAvLyBMYXRlciB3aGVuIGNhbGxpbmcgYm91bmRUcmFuc2NsdXNpb24gZnVuY3Rpb25zIHdpdGggYSBzbG90IG5hbWUgd2Ugb25seSBlcnJvciBpZiB0aGVcbiAgICAgICAgICAgICAgICAvLyBzbG90IGlzIGB1bmRlZmluZWRgXG4gICAgICAgICAgICAgICAgc2xvdHNbc2xvdE5hbWVdID0gbnVsbDtcblxuICAgICAgICAgICAgICAgIC8vIGZpbGxlZFNsb3RzIGNvbnRhaW5zIGB0cnVlYCBmb3IgYWxsIHNsb3RzIHRoYXQgYXJlIGVpdGhlciBvcHRpb25hbCBvciBoYXZlIGJlZW5cbiAgICAgICAgICAgICAgICAvLyBmaWxsZWQuIFRoaXMgaXMgdXNlZCB0byBjaGVjayB0aGF0IHdlIGhhdmUgbm90IG1pc3NlZCBhbnkgcmVxdWlyZWQgc2xvdHNcbiAgICAgICAgICAgICAgICBmaWxsZWRTbG90c1tzbG90TmFtZV0gPSBvcHRpb25hbDtcbiAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgLy8gQWRkIHRoZSBtYXRjaGluZyBlbGVtZW50cyBpbnRvIHRoZWlyIHNsb3RcbiAgICAgICAgICAgICAgZm9yRWFjaCgkY29tcGlsZU5vZGUuY29udGVudHMoKSwgZnVuY3Rpb24obm9kZSkge1xuICAgICAgICAgICAgICAgIHZhciBzbG90TmFtZSA9IHNsb3RNYXBbZGlyZWN0aXZlTm9ybWFsaXplKG5vZGVOYW1lXyhub2RlKSldO1xuICAgICAgICAgICAgICAgIGlmIChzbG90TmFtZSkge1xuICAgICAgICAgICAgICAgICAgZmlsbGVkU2xvdHNbc2xvdE5hbWVdID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgIHNsb3RzW3Nsb3ROYW1lXSA9IHNsb3RzW3Nsb3ROYW1lXSB8fCBbXTtcbiAgICAgICAgICAgICAgICAgIHNsb3RzW3Nsb3ROYW1lXS5wdXNoKG5vZGUpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAkdGVtcGxhdGUucHVzaChub2RlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgIC8vIENoZWNrIGZvciByZXF1aXJlZCBzbG90cyB0aGF0IHdlcmUgbm90IGZpbGxlZFxuICAgICAgICAgICAgICBmb3JFYWNoKGZpbGxlZFNsb3RzLCBmdW5jdGlvbihmaWxsZWQsIHNsb3ROYW1lKSB7XG4gICAgICAgICAgICAgICAgaWYgKCFmaWxsZWQpIHtcbiAgICAgICAgICAgICAgICAgIHRocm93ICRjb21waWxlTWluRXJyKCdyZXFzbG90JywgJ1JlcXVpcmVkIHRyYW5zY2x1c2lvbiBzbG90IGB7MH1gIHdhcyBub3QgZmlsbGVkLicsIHNsb3ROYW1lKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgIGZvciAodmFyIHNsb3ROYW1lIGluIHNsb3RzKSB7XG4gICAgICAgICAgICAgICAgaWYgKHNsb3RzW3Nsb3ROYW1lXSkge1xuICAgICAgICAgICAgICAgICAgLy8gT25seSBkZWZpbmUgYSB0cmFuc2NsdXNpb24gZnVuY3Rpb24gaWYgdGhlIHNsb3Qgd2FzIGZpbGxlZFxuICAgICAgICAgICAgICAgICAgc2xvdHNbc2xvdE5hbWVdID0gY29tcGlsYXRpb25HZW5lcmF0b3IobWlnaHRIYXZlTXVsdGlwbGVUcmFuc2NsdXNpb25FcnJvciwgc2xvdHNbc2xvdE5hbWVdLCB0cmFuc2NsdWRlRm4pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAkY29tcGlsZU5vZGUuZW1wdHkoKTsgLy8gY2xlYXIgY29udGVudHNcbiAgICAgICAgICAgIGNoaWxkVHJhbnNjbHVkZUZuID0gY29tcGlsYXRpb25HZW5lcmF0b3IobWlnaHRIYXZlTXVsdGlwbGVUcmFuc2NsdXNpb25FcnJvciwgJHRlbXBsYXRlLCB0cmFuc2NsdWRlRm4sIHVuZGVmaW5lZCxcbiAgICAgICAgICAgICAgICB1bmRlZmluZWQsIHsgbmVlZHNOZXdTY29wZTogZGlyZWN0aXZlLiQkaXNvbGF0ZVNjb3BlIHx8IGRpcmVjdGl2ZS4kJG5ld1Njb3BlfSk7XG4gICAgICAgICAgICBjaGlsZFRyYW5zY2x1ZGVGbi4kJHNsb3RzID0gc2xvdHM7XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGRpcmVjdGl2ZS50ZW1wbGF0ZSkge1xuICAgICAgICAgIGhhc1RlbXBsYXRlID0gdHJ1ZTtcbiAgICAgICAgICBhc3NlcnROb0R1cGxpY2F0ZSgndGVtcGxhdGUnLCB0ZW1wbGF0ZURpcmVjdGl2ZSwgZGlyZWN0aXZlLCAkY29tcGlsZU5vZGUpO1xuICAgICAgICAgIHRlbXBsYXRlRGlyZWN0aXZlID0gZGlyZWN0aXZlO1xuXG4gICAgICAgICAgZGlyZWN0aXZlVmFsdWUgPSAoaXNGdW5jdGlvbihkaXJlY3RpdmUudGVtcGxhdGUpKVxuICAgICAgICAgICAgICA/IGRpcmVjdGl2ZS50ZW1wbGF0ZSgkY29tcGlsZU5vZGUsIHRlbXBsYXRlQXR0cnMpXG4gICAgICAgICAgICAgIDogZGlyZWN0aXZlLnRlbXBsYXRlO1xuXG4gICAgICAgICAgZGlyZWN0aXZlVmFsdWUgPSBkZW5vcm1hbGl6ZVRlbXBsYXRlKGRpcmVjdGl2ZVZhbHVlKTtcblxuICAgICAgICAgIGlmIChkaXJlY3RpdmUucmVwbGFjZSkge1xuICAgICAgICAgICAgcmVwbGFjZURpcmVjdGl2ZSA9IGRpcmVjdGl2ZTtcbiAgICAgICAgICAgIGlmIChqcUxpdGVJc1RleHROb2RlKGRpcmVjdGl2ZVZhbHVlKSkge1xuICAgICAgICAgICAgICAkdGVtcGxhdGUgPSBbXTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICR0ZW1wbGF0ZSA9IHJlbW92ZUNvbW1lbnRzKHdyYXBUZW1wbGF0ZShkaXJlY3RpdmUudGVtcGxhdGVOYW1lc3BhY2UsIHRyaW0oZGlyZWN0aXZlVmFsdWUpKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb21waWxlTm9kZSA9ICR0ZW1wbGF0ZVswXTtcblxuICAgICAgICAgICAgaWYgKCR0ZW1wbGF0ZS5sZW5ndGggIT09IDEgfHwgY29tcGlsZU5vZGUubm9kZVR5cGUgIT09IE5PREVfVFlQRV9FTEVNRU5UKSB7XG4gICAgICAgICAgICAgIHRocm93ICRjb21waWxlTWluRXJyKCd0cGxydCcsXG4gICAgICAgICAgICAgICAgICAnVGVtcGxhdGUgZm9yIGRpcmVjdGl2ZSBcXCd7MH1cXCcgbXVzdCBoYXZlIGV4YWN0bHkgb25lIHJvb3QgZWxlbWVudC4gezF9JyxcbiAgICAgICAgICAgICAgICAgIGRpcmVjdGl2ZU5hbWUsICcnKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmVwbGFjZVdpdGgoanFDb2xsZWN0aW9uLCAkY29tcGlsZU5vZGUsIGNvbXBpbGVOb2RlKTtcblxuICAgICAgICAgICAgdmFyIG5ld1RlbXBsYXRlQXR0cnMgPSB7JGF0dHI6IHt9fTtcblxuICAgICAgICAgICAgLy8gY29tYmluZSBkaXJlY3RpdmVzIGZyb20gdGhlIG9yaWdpbmFsIG5vZGUgYW5kIGZyb20gdGhlIHRlbXBsYXRlOlxuICAgICAgICAgICAgLy8gLSB0YWtlIHRoZSBhcnJheSBvZiBkaXJlY3RpdmVzIGZvciB0aGlzIGVsZW1lbnRcbiAgICAgICAgICAgIC8vIC0gc3BsaXQgaXQgaW50byB0d28gcGFydHMsIHRob3NlIHRoYXQgYWxyZWFkeSBhcHBsaWVkIChwcm9jZXNzZWQpIGFuZCB0aG9zZSB0aGF0IHdlcmVuJ3QgKHVucHJvY2Vzc2VkKVxuICAgICAgICAgICAgLy8gLSBjb2xsZWN0IGRpcmVjdGl2ZXMgZnJvbSB0aGUgdGVtcGxhdGUgYW5kIHNvcnQgdGhlbSBieSBwcmlvcml0eVxuICAgICAgICAgICAgLy8gLSBjb21iaW5lIGRpcmVjdGl2ZXMgYXM6IHByb2Nlc3NlZCArIHRlbXBsYXRlICsgdW5wcm9jZXNzZWRcbiAgICAgICAgICAgIHZhciB0ZW1wbGF0ZURpcmVjdGl2ZXMgPSBjb2xsZWN0RGlyZWN0aXZlcyhjb21waWxlTm9kZSwgW10sIG5ld1RlbXBsYXRlQXR0cnMpO1xuICAgICAgICAgICAgdmFyIHVucHJvY2Vzc2VkRGlyZWN0aXZlcyA9IGRpcmVjdGl2ZXMuc3BsaWNlKGkgKyAxLCBkaXJlY3RpdmVzLmxlbmd0aCAtIChpICsgMSkpO1xuXG4gICAgICAgICAgICBpZiAobmV3SXNvbGF0ZVNjb3BlRGlyZWN0aXZlIHx8IG5ld1Njb3BlRGlyZWN0aXZlKSB7XG4gICAgICAgICAgICAgIC8vIFRoZSBvcmlnaW5hbCBkaXJlY3RpdmUgY2F1c2VkIHRoZSBjdXJyZW50IGVsZW1lbnQgdG8gYmUgcmVwbGFjZWQgYnV0IHRoaXMgZWxlbWVudFxuICAgICAgICAgICAgICAvLyBhbHNvIG5lZWRzIHRvIGhhdmUgYSBuZXcgc2NvcGUsIHNvIHdlIG5lZWQgdG8gdGVsbCB0aGUgdGVtcGxhdGUgZGlyZWN0aXZlc1xuICAgICAgICAgICAgICAvLyB0aGF0IHRoZXkgd291bGQgbmVlZCB0byBnZXQgdGhlaXIgc2NvcGUgZnJvbSBmdXJ0aGVyIHVwLCBpZiB0aGV5IHJlcXVpcmUgdHJhbnNjbHVzaW9uXG4gICAgICAgICAgICAgIG1hcmtEaXJlY3RpdmVTY29wZSh0ZW1wbGF0ZURpcmVjdGl2ZXMsIG5ld0lzb2xhdGVTY29wZURpcmVjdGl2ZSwgbmV3U2NvcGVEaXJlY3RpdmUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZGlyZWN0aXZlcyA9IGRpcmVjdGl2ZXMuY29uY2F0KHRlbXBsYXRlRGlyZWN0aXZlcykuY29uY2F0KHVucHJvY2Vzc2VkRGlyZWN0aXZlcyk7XG4gICAgICAgICAgICBtZXJnZVRlbXBsYXRlQXR0cmlidXRlcyh0ZW1wbGF0ZUF0dHJzLCBuZXdUZW1wbGF0ZUF0dHJzKTtcblxuICAgICAgICAgICAgaWkgPSBkaXJlY3RpdmVzLmxlbmd0aDtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgJGNvbXBpbGVOb2RlLmh0bWwoZGlyZWN0aXZlVmFsdWUpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChkaXJlY3RpdmUudGVtcGxhdGVVcmwpIHtcbiAgICAgICAgICBoYXNUZW1wbGF0ZSA9IHRydWU7XG4gICAgICAgICAgYXNzZXJ0Tm9EdXBsaWNhdGUoJ3RlbXBsYXRlJywgdGVtcGxhdGVEaXJlY3RpdmUsIGRpcmVjdGl2ZSwgJGNvbXBpbGVOb2RlKTtcbiAgICAgICAgICB0ZW1wbGF0ZURpcmVjdGl2ZSA9IGRpcmVjdGl2ZTtcblxuICAgICAgICAgIGlmIChkaXJlY3RpdmUucmVwbGFjZSkge1xuICAgICAgICAgICAgcmVwbGFjZURpcmVjdGl2ZSA9IGRpcmVjdGl2ZTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tZnVuYy1hc3NpZ25cbiAgICAgICAgICBub2RlTGlua0ZuID0gY29tcGlsZVRlbXBsYXRlVXJsKGRpcmVjdGl2ZXMuc3BsaWNlKGksIGRpcmVjdGl2ZXMubGVuZ3RoIC0gaSksICRjb21waWxlTm9kZSxcbiAgICAgICAgICAgICAgdGVtcGxhdGVBdHRycywganFDb2xsZWN0aW9uLCBoYXNUcmFuc2NsdWRlRGlyZWN0aXZlICYmIGNoaWxkVHJhbnNjbHVkZUZuLCBwcmVMaW5rRm5zLCBwb3N0TGlua0Zucywge1xuICAgICAgICAgICAgICAgIGNvbnRyb2xsZXJEaXJlY3RpdmVzOiBjb250cm9sbGVyRGlyZWN0aXZlcyxcbiAgICAgICAgICAgICAgICBuZXdTY29wZURpcmVjdGl2ZTogKG5ld1Njb3BlRGlyZWN0aXZlICE9PSBkaXJlY3RpdmUpICYmIG5ld1Njb3BlRGlyZWN0aXZlLFxuICAgICAgICAgICAgICAgIG5ld0lzb2xhdGVTY29wZURpcmVjdGl2ZTogbmV3SXNvbGF0ZVNjb3BlRGlyZWN0aXZlLFxuICAgICAgICAgICAgICAgIHRlbXBsYXRlRGlyZWN0aXZlOiB0ZW1wbGF0ZURpcmVjdGl2ZSxcbiAgICAgICAgICAgICAgICBub25UbGJUcmFuc2NsdWRlRGlyZWN0aXZlOiBub25UbGJUcmFuc2NsdWRlRGlyZWN0aXZlXG4gICAgICAgICAgICAgIH0pO1xuICAgICAgICAgIGlpID0gZGlyZWN0aXZlcy5sZW5ndGg7XG4gICAgICAgIH0gZWxzZSBpZiAoZGlyZWN0aXZlLmNvbXBpbGUpIHtcbiAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgbGlua0ZuID0gZGlyZWN0aXZlLmNvbXBpbGUoJGNvbXBpbGVOb2RlLCB0ZW1wbGF0ZUF0dHJzLCBjaGlsZFRyYW5zY2x1ZGVGbik7XG4gICAgICAgICAgICB2YXIgY29udGV4dCA9IGRpcmVjdGl2ZS4kJG9yaWdpbmFsRGlyZWN0aXZlIHx8IGRpcmVjdGl2ZTtcbiAgICAgICAgICAgIGlmIChpc0Z1bmN0aW9uKGxpbmtGbikpIHtcbiAgICAgICAgICAgICAgYWRkTGlua0ZucyhudWxsLCBiaW5kKGNvbnRleHQsIGxpbmtGbiksIGF0dHJTdGFydCwgYXR0ckVuZCk7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKGxpbmtGbikge1xuICAgICAgICAgICAgICBhZGRMaW5rRm5zKGJpbmQoY29udGV4dCwgbGlua0ZuLnByZSksIGJpbmQoY29udGV4dCwgbGlua0ZuLnBvc3QpLCBhdHRyU3RhcnQsIGF0dHJFbmQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgICRleGNlcHRpb25IYW5kbGVyKGUsIHN0YXJ0aW5nVGFnKCRjb21waWxlTm9kZSkpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChkaXJlY3RpdmUudGVybWluYWwpIHtcbiAgICAgICAgICBub2RlTGlua0ZuLnRlcm1pbmFsID0gdHJ1ZTtcbiAgICAgICAgICB0ZXJtaW5hbFByaW9yaXR5ID0gTWF0aC5tYXgodGVybWluYWxQcmlvcml0eSwgZGlyZWN0aXZlLnByaW9yaXR5KTtcbiAgICAgICAgfVxuXG4gICAgICB9XG5cbiAgICAgIG5vZGVMaW5rRm4uc2NvcGUgPSBuZXdTY29wZURpcmVjdGl2ZSAmJiBuZXdTY29wZURpcmVjdGl2ZS5zY29wZSA9PT0gdHJ1ZTtcbiAgICAgIG5vZGVMaW5rRm4udHJhbnNjbHVkZU9uVGhpc0VsZW1lbnQgPSBoYXNUcmFuc2NsdWRlRGlyZWN0aXZlO1xuICAgICAgbm9kZUxpbmtGbi50ZW1wbGF0ZU9uVGhpc0VsZW1lbnQgPSBoYXNUZW1wbGF0ZTtcbiAgICAgIG5vZGVMaW5rRm4udHJhbnNjbHVkZSA9IGNoaWxkVHJhbnNjbHVkZUZuO1xuXG4gICAgICBwcmV2aW91c0NvbXBpbGVDb250ZXh0Lmhhc0VsZW1lbnRUcmFuc2NsdWRlRGlyZWN0aXZlID0gaGFzRWxlbWVudFRyYW5zY2x1ZGVEaXJlY3RpdmU7XG5cbiAgICAgIC8vIG1pZ2h0IGJlIG5vcm1hbCBvciBkZWxheWVkIG5vZGVMaW5rRm4gZGVwZW5kaW5nIG9uIGlmIHRlbXBsYXRlVXJsIGlzIHByZXNlbnRcbiAgICAgIHJldHVybiBub2RlTGlua0ZuO1xuXG4gICAgICAvLy8vLy8vLy8vLy8vLy8vLy8vL1xuXG4gICAgICBmdW5jdGlvbiBhZGRMaW5rRm5zKHByZSwgcG9zdCwgYXR0clN0YXJ0LCBhdHRyRW5kKSB7XG4gICAgICAgIGlmIChwcmUpIHtcbiAgICAgICAgICBpZiAoYXR0clN0YXJ0KSBwcmUgPSBncm91cEVsZW1lbnRzTGlua0ZuV3JhcHBlcihwcmUsIGF0dHJTdGFydCwgYXR0ckVuZCk7XG4gICAgICAgICAgcHJlLnJlcXVpcmUgPSBkaXJlY3RpdmUucmVxdWlyZTtcbiAgICAgICAgICBwcmUuZGlyZWN0aXZlTmFtZSA9IGRpcmVjdGl2ZU5hbWU7XG4gICAgICAgICAgaWYgKG5ld0lzb2xhdGVTY29wZURpcmVjdGl2ZSA9PT0gZGlyZWN0aXZlIHx8IGRpcmVjdGl2ZS4kJGlzb2xhdGVTY29wZSkge1xuICAgICAgICAgICAgcHJlID0gY2xvbmVBbmRBbm5vdGF0ZUZuKHByZSwge2lzb2xhdGVTY29wZTogdHJ1ZX0pO1xuICAgICAgICAgIH1cbiAgICAgICAgICBwcmVMaW5rRm5zLnB1c2gocHJlKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAocG9zdCkge1xuICAgICAgICAgIGlmIChhdHRyU3RhcnQpIHBvc3QgPSBncm91cEVsZW1lbnRzTGlua0ZuV3JhcHBlcihwb3N0LCBhdHRyU3RhcnQsIGF0dHJFbmQpO1xuICAgICAgICAgIHBvc3QucmVxdWlyZSA9IGRpcmVjdGl2ZS5yZXF1aXJlO1xuICAgICAgICAgIHBvc3QuZGlyZWN0aXZlTmFtZSA9IGRpcmVjdGl2ZU5hbWU7XG4gICAgICAgICAgaWYgKG5ld0lzb2xhdGVTY29wZURpcmVjdGl2ZSA9PT0gZGlyZWN0aXZlIHx8IGRpcmVjdGl2ZS4kJGlzb2xhdGVTY29wZSkge1xuICAgICAgICAgICAgcG9zdCA9IGNsb25lQW5kQW5ub3RhdGVGbihwb3N0LCB7aXNvbGF0ZVNjb3BlOiB0cnVlfSk7XG4gICAgICAgICAgfVxuICAgICAgICAgIHBvc3RMaW5rRm5zLnB1c2gocG9zdCk7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgZnVuY3Rpb24gbm9kZUxpbmtGbihjaGlsZExpbmtGbiwgc2NvcGUsIGxpbmtOb2RlLCAkcm9vdEVsZW1lbnQsIGJvdW5kVHJhbnNjbHVkZUZuKSB7XG4gICAgICAgIHZhciBpLCBpaSwgbGlua0ZuLCBpc29sYXRlU2NvcGUsIGNvbnRyb2xsZXJTY29wZSwgZWxlbWVudENvbnRyb2xsZXJzLCB0cmFuc2NsdWRlRm4sICRlbGVtZW50LFxuICAgICAgICAgICAgYXR0cnMsIHNjb3BlQmluZGluZ0luZm87XG5cbiAgICAgICAgaWYgKGNvbXBpbGVOb2RlID09PSBsaW5rTm9kZSkge1xuICAgICAgICAgIGF0dHJzID0gdGVtcGxhdGVBdHRycztcbiAgICAgICAgICAkZWxlbWVudCA9IHRlbXBsYXRlQXR0cnMuJCRlbGVtZW50O1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICRlbGVtZW50ID0ganFMaXRlKGxpbmtOb2RlKTtcbiAgICAgICAgICBhdHRycyA9IG5ldyBBdHRyaWJ1dGVzKCRlbGVtZW50LCB0ZW1wbGF0ZUF0dHJzKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnRyb2xsZXJTY29wZSA9IHNjb3BlO1xuICAgICAgICBpZiAobmV3SXNvbGF0ZVNjb3BlRGlyZWN0aXZlKSB7XG4gICAgICAgICAgaXNvbGF0ZVNjb3BlID0gc2NvcGUuJG5ldyh0cnVlKTtcbiAgICAgICAgfSBlbHNlIGlmIChuZXdTY29wZURpcmVjdGl2ZSkge1xuICAgICAgICAgIGNvbnRyb2xsZXJTY29wZSA9IHNjb3BlLiRwYXJlbnQ7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoYm91bmRUcmFuc2NsdWRlRm4pIHtcbiAgICAgICAgICAvLyB0cmFjayBgYm91bmRUcmFuc2NsdWRlRm5gIHNvIGl0IGNhbiBiZSB1bndyYXBwZWQgaWYgYHRyYW5zY2x1ZGVGbmBcbiAgICAgICAgICAvLyBpcyBsYXRlciBwYXNzZWQgYXMgYHBhcmVudEJvdW5kVHJhbnNjbHVkZUZuYCB0byBgcHVibGljTGlua0ZuYFxuICAgICAgICAgIHRyYW5zY2x1ZGVGbiA9IGNvbnRyb2xsZXJzQm91bmRUcmFuc2NsdWRlO1xuICAgICAgICAgIHRyYW5zY2x1ZGVGbi4kJGJvdW5kVHJhbnNjbHVkZSA9IGJvdW5kVHJhbnNjbHVkZUZuO1xuICAgICAgICAgIC8vIGV4cG9zZSB0aGUgc2xvdHMgb24gdGhlIGAkdHJhbnNjbHVkZWAgZnVuY3Rpb25cbiAgICAgICAgICB0cmFuc2NsdWRlRm4uaXNTbG90RmlsbGVkID0gZnVuY3Rpb24oc2xvdE5hbWUpIHtcbiAgICAgICAgICAgIHJldHVybiAhIWJvdW5kVHJhbnNjbHVkZUZuLiQkc2xvdHNbc2xvdE5hbWVdO1xuICAgICAgICAgIH07XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoY29udHJvbGxlckRpcmVjdGl2ZXMpIHtcbiAgICAgICAgICBlbGVtZW50Q29udHJvbGxlcnMgPSBzZXR1cENvbnRyb2xsZXJzKCRlbGVtZW50LCBhdHRycywgdHJhbnNjbHVkZUZuLCBjb250cm9sbGVyRGlyZWN0aXZlcywgaXNvbGF0ZVNjb3BlLCBzY29wZSwgbmV3SXNvbGF0ZVNjb3BlRGlyZWN0aXZlKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChuZXdJc29sYXRlU2NvcGVEaXJlY3RpdmUpIHtcbiAgICAgICAgICAvLyBJbml0aWFsaXplIGlzb2xhdGUgc2NvcGUgYmluZGluZ3MgZm9yIG5ldyBpc29sYXRlIHNjb3BlIGRpcmVjdGl2ZS5cbiAgICAgICAgICBjb21waWxlLiQkYWRkU2NvcGVJbmZvKCRlbGVtZW50LCBpc29sYXRlU2NvcGUsIHRydWUsICEodGVtcGxhdGVEaXJlY3RpdmUgJiYgKHRlbXBsYXRlRGlyZWN0aXZlID09PSBuZXdJc29sYXRlU2NvcGVEaXJlY3RpdmUgfHxcbiAgICAgICAgICAgICAgdGVtcGxhdGVEaXJlY3RpdmUgPT09IG5ld0lzb2xhdGVTY29wZURpcmVjdGl2ZS4kJG9yaWdpbmFsRGlyZWN0aXZlKSkpO1xuICAgICAgICAgIGNvbXBpbGUuJCRhZGRTY29wZUNsYXNzKCRlbGVtZW50LCB0cnVlKTtcbiAgICAgICAgICBpc29sYXRlU2NvcGUuJCRpc29sYXRlQmluZGluZ3MgPVxuICAgICAgICAgICAgICBuZXdJc29sYXRlU2NvcGVEaXJlY3RpdmUuJCRpc29sYXRlQmluZGluZ3M7XG4gICAgICAgICAgc2NvcGVCaW5kaW5nSW5mbyA9IGluaXRpYWxpemVEaXJlY3RpdmVCaW5kaW5ncyhzY29wZSwgYXR0cnMsIGlzb2xhdGVTY29wZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpc29sYXRlU2NvcGUuJCRpc29sYXRlQmluZGluZ3MsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV3SXNvbGF0ZVNjb3BlRGlyZWN0aXZlKTtcbiAgICAgICAgICBpZiAoc2NvcGVCaW5kaW5nSW5mby5yZW1vdmVXYXRjaGVzKSB7XG4gICAgICAgICAgICBpc29sYXRlU2NvcGUuJG9uKCckZGVzdHJveScsIHNjb3BlQmluZGluZ0luZm8ucmVtb3ZlV2F0Y2hlcyk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgLy8gSW5pdGlhbGl6ZSBiaW5kVG9Db250cm9sbGVyIGJpbmRpbmdzXG4gICAgICAgIGZvciAodmFyIG5hbWUgaW4gZWxlbWVudENvbnRyb2xsZXJzKSB7XG4gICAgICAgICAgdmFyIGNvbnRyb2xsZXJEaXJlY3RpdmUgPSBjb250cm9sbGVyRGlyZWN0aXZlc1tuYW1lXTtcbiAgICAgICAgICB2YXIgY29udHJvbGxlciA9IGVsZW1lbnRDb250cm9sbGVyc1tuYW1lXTtcbiAgICAgICAgICB2YXIgYmluZGluZ3MgPSBjb250cm9sbGVyRGlyZWN0aXZlLiQkYmluZGluZ3MuYmluZFRvQ29udHJvbGxlcjtcblxuICAgICAgICAgIGlmIChwcmVBc3NpZ25CaW5kaW5nc0VuYWJsZWQpIHtcbiAgICAgICAgICAgIGlmIChiaW5kaW5ncykge1xuICAgICAgICAgICAgICBjb250cm9sbGVyLmJpbmRpbmdJbmZvID1cbiAgICAgICAgICAgICAgICBpbml0aWFsaXplRGlyZWN0aXZlQmluZGluZ3MoY29udHJvbGxlclNjb3BlLCBhdHRycywgY29udHJvbGxlci5pbnN0YW5jZSwgYmluZGluZ3MsIGNvbnRyb2xsZXJEaXJlY3RpdmUpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgY29udHJvbGxlci5iaW5kaW5nSW5mbyA9IHt9O1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB2YXIgY29udHJvbGxlclJlc3VsdCA9IGNvbnRyb2xsZXIoKTtcbiAgICAgICAgICAgIGlmIChjb250cm9sbGVyUmVzdWx0ICE9PSBjb250cm9sbGVyLmluc3RhbmNlKSB7XG4gICAgICAgICAgICAgIC8vIElmIHRoZSBjb250cm9sbGVyIGNvbnN0cnVjdG9yIGhhcyBhIHJldHVybiB2YWx1ZSwgb3ZlcndyaXRlIHRoZSBpbnN0YW5jZVxuICAgICAgICAgICAgICAvLyBmcm9tIHNldHVwQ29udHJvbGxlcnNcbiAgICAgICAgICAgICAgY29udHJvbGxlci5pbnN0YW5jZSA9IGNvbnRyb2xsZXJSZXN1bHQ7XG4gICAgICAgICAgICAgICRlbGVtZW50LmRhdGEoJyQnICsgY29udHJvbGxlckRpcmVjdGl2ZS5uYW1lICsgJ0NvbnRyb2xsZXInLCBjb250cm9sbGVyUmVzdWx0KTtcbiAgICAgICAgICAgICAgaWYgKGNvbnRyb2xsZXIuYmluZGluZ0luZm8ucmVtb3ZlV2F0Y2hlcykge1xuICAgICAgICAgICAgICAgIGNvbnRyb2xsZXIuYmluZGluZ0luZm8ucmVtb3ZlV2F0Y2hlcygpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIGNvbnRyb2xsZXIuYmluZGluZ0luZm8gPVxuICAgICAgICAgICAgICAgIGluaXRpYWxpemVEaXJlY3RpdmVCaW5kaW5ncyhjb250cm9sbGVyU2NvcGUsIGF0dHJzLCBjb250cm9sbGVyLmluc3RhbmNlLCBiaW5kaW5ncywgY29udHJvbGxlckRpcmVjdGl2ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGNvbnRyb2xsZXIuaW5zdGFuY2UgPSBjb250cm9sbGVyKCk7XG4gICAgICAgICAgICAkZWxlbWVudC5kYXRhKCckJyArIGNvbnRyb2xsZXJEaXJlY3RpdmUubmFtZSArICdDb250cm9sbGVyJywgY29udHJvbGxlci5pbnN0YW5jZSk7XG4gICAgICAgICAgICBjb250cm9sbGVyLmJpbmRpbmdJbmZvID1cbiAgICAgICAgICAgICAgaW5pdGlhbGl6ZURpcmVjdGl2ZUJpbmRpbmdzKGNvbnRyb2xsZXJTY29wZSwgYXR0cnMsIGNvbnRyb2xsZXIuaW5zdGFuY2UsIGJpbmRpbmdzLCBjb250cm9sbGVyRGlyZWN0aXZlKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICAvLyBCaW5kIHRoZSByZXF1aXJlZCBjb250cm9sbGVycyB0byB0aGUgY29udHJvbGxlciwgaWYgYHJlcXVpcmVgIGlzIGFuIG9iamVjdCBhbmQgYGJpbmRUb0NvbnRyb2xsZXJgIGlzIHRydXRoeVxuICAgICAgICBmb3JFYWNoKGNvbnRyb2xsZXJEaXJlY3RpdmVzLCBmdW5jdGlvbihjb250cm9sbGVyRGlyZWN0aXZlLCBuYW1lKSB7XG4gICAgICAgICAgdmFyIHJlcXVpcmUgPSBjb250cm9sbGVyRGlyZWN0aXZlLnJlcXVpcmU7XG4gICAgICAgICAgaWYgKGNvbnRyb2xsZXJEaXJlY3RpdmUuYmluZFRvQ29udHJvbGxlciAmJiAhaXNBcnJheShyZXF1aXJlKSAmJiBpc09iamVjdChyZXF1aXJlKSkge1xuICAgICAgICAgICAgZXh0ZW5kKGVsZW1lbnRDb250cm9sbGVyc1tuYW1lXS5pbnN0YW5jZSwgZ2V0Q29udHJvbGxlcnMobmFtZSwgcmVxdWlyZSwgJGVsZW1lbnQsIGVsZW1lbnRDb250cm9sbGVycykpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG5cbiAgICAgICAgLy8gSGFuZGxlIHRoZSBpbml0IGFuZCBkZXN0cm95IGxpZmVjeWNsZSBob29rcyBvbiBhbGwgY29udHJvbGxlcnMgdGhhdCBoYXZlIHRoZW1cbiAgICAgICAgZm9yRWFjaChlbGVtZW50Q29udHJvbGxlcnMsIGZ1bmN0aW9uKGNvbnRyb2xsZXIpIHtcbiAgICAgICAgICB2YXIgY29udHJvbGxlckluc3RhbmNlID0gY29udHJvbGxlci5pbnN0YW5jZTtcbiAgICAgICAgICBpZiAoaXNGdW5jdGlvbihjb250cm9sbGVySW5zdGFuY2UuJG9uQ2hhbmdlcykpIHtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgIGNvbnRyb2xsZXJJbnN0YW5jZS4kb25DaGFuZ2VzKGNvbnRyb2xsZXIuYmluZGluZ0luZm8uaW5pdGlhbENoYW5nZXMpO1xuICAgICAgICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAgICAgICAkZXhjZXB0aW9uSGFuZGxlcihlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKGlzRnVuY3Rpb24oY29udHJvbGxlckluc3RhbmNlLiRvbkluaXQpKSB7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICBjb250cm9sbGVySW5zdGFuY2UuJG9uSW5pdCgpO1xuICAgICAgICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAgICAgICAkZXhjZXB0aW9uSGFuZGxlcihlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKGlzRnVuY3Rpb24oY29udHJvbGxlckluc3RhbmNlLiRkb0NoZWNrKSkge1xuICAgICAgICAgICAgY29udHJvbGxlclNjb3BlLiR3YXRjaChmdW5jdGlvbigpIHsgY29udHJvbGxlckluc3RhbmNlLiRkb0NoZWNrKCk7IH0pO1xuICAgICAgICAgICAgY29udHJvbGxlckluc3RhbmNlLiRkb0NoZWNrKCk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmIChpc0Z1bmN0aW9uKGNvbnRyb2xsZXJJbnN0YW5jZS4kb25EZXN0cm95KSkge1xuICAgICAgICAgICAgY29udHJvbGxlclNjb3BlLiRvbignJGRlc3Ryb3knLCBmdW5jdGlvbiBjYWxsT25EZXN0cm95SG9vaygpIHtcbiAgICAgICAgICAgICAgY29udHJvbGxlckluc3RhbmNlLiRvbkRlc3Ryb3koKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG5cbiAgICAgICAgLy8gUFJFTElOS0lOR1xuICAgICAgICBmb3IgKGkgPSAwLCBpaSA9IHByZUxpbmtGbnMubGVuZ3RoOyBpIDwgaWk7IGkrKykge1xuICAgICAgICAgIGxpbmtGbiA9IHByZUxpbmtGbnNbaV07XG4gICAgICAgICAgaW52b2tlTGlua0ZuKGxpbmtGbixcbiAgICAgICAgICAgICAgbGlua0ZuLmlzb2xhdGVTY29wZSA/IGlzb2xhdGVTY29wZSA6IHNjb3BlLFxuICAgICAgICAgICAgICAkZWxlbWVudCxcbiAgICAgICAgICAgICAgYXR0cnMsXG4gICAgICAgICAgICAgIGxpbmtGbi5yZXF1aXJlICYmIGdldENvbnRyb2xsZXJzKGxpbmtGbi5kaXJlY3RpdmVOYW1lLCBsaW5rRm4ucmVxdWlyZSwgJGVsZW1lbnQsIGVsZW1lbnRDb250cm9sbGVycyksXG4gICAgICAgICAgICAgIHRyYW5zY2x1ZGVGblxuICAgICAgICAgICk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBSRUNVUlNJT05cbiAgICAgICAgLy8gV2Ugb25seSBwYXNzIHRoZSBpc29sYXRlIHNjb3BlLCBpZiB0aGUgaXNvbGF0ZSBkaXJlY3RpdmUgaGFzIGEgdGVtcGxhdGUsXG4gICAgICAgIC8vIG90aGVyd2lzZSB0aGUgY2hpbGQgZWxlbWVudHMgZG8gbm90IGJlbG9uZyB0byB0aGUgaXNvbGF0ZSBkaXJlY3RpdmUuXG4gICAgICAgIHZhciBzY29wZVRvQ2hpbGQgPSBzY29wZTtcbiAgICAgICAgaWYgKG5ld0lzb2xhdGVTY29wZURpcmVjdGl2ZSAmJiAobmV3SXNvbGF0ZVNjb3BlRGlyZWN0aXZlLnRlbXBsYXRlIHx8IG5ld0lzb2xhdGVTY29wZURpcmVjdGl2ZS50ZW1wbGF0ZVVybCA9PT0gbnVsbCkpIHtcbiAgICAgICAgICBzY29wZVRvQ2hpbGQgPSBpc29sYXRlU2NvcGU7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGNoaWxkTGlua0ZuKSB7XG4gICAgICAgICAgY2hpbGRMaW5rRm4oc2NvcGVUb0NoaWxkLCBsaW5rTm9kZS5jaGlsZE5vZGVzLCB1bmRlZmluZWQsIGJvdW5kVHJhbnNjbHVkZUZuKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIFBPU1RMSU5LSU5HXG4gICAgICAgIGZvciAoaSA9IHBvc3RMaW5rRm5zLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSB7XG4gICAgICAgICAgbGlua0ZuID0gcG9zdExpbmtGbnNbaV07XG4gICAgICAgICAgaW52b2tlTGlua0ZuKGxpbmtGbixcbiAgICAgICAgICAgICAgbGlua0ZuLmlzb2xhdGVTY29wZSA/IGlzb2xhdGVTY29wZSA6IHNjb3BlLFxuICAgICAgICAgICAgICAkZWxlbWVudCxcbiAgICAgICAgICAgICAgYXR0cnMsXG4gICAgICAgICAgICAgIGxpbmtGbi5yZXF1aXJlICYmIGdldENvbnRyb2xsZXJzKGxpbmtGbi5kaXJlY3RpdmVOYW1lLCBsaW5rRm4ucmVxdWlyZSwgJGVsZW1lbnQsIGVsZW1lbnRDb250cm9sbGVycyksXG4gICAgICAgICAgICAgIHRyYW5zY2x1ZGVGblxuICAgICAgICAgICk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBUcmlnZ2VyICRwb3N0TGluayBsaWZlY3ljbGUgaG9va3NcbiAgICAgICAgZm9yRWFjaChlbGVtZW50Q29udHJvbGxlcnMsIGZ1bmN0aW9uKGNvbnRyb2xsZXIpIHtcbiAgICAgICAgICB2YXIgY29udHJvbGxlckluc3RhbmNlID0gY29udHJvbGxlci5pbnN0YW5jZTtcbiAgICAgICAgICBpZiAoaXNGdW5jdGlvbihjb250cm9sbGVySW5zdGFuY2UuJHBvc3RMaW5rKSkge1xuICAgICAgICAgICAgY29udHJvbGxlckluc3RhbmNlLiRwb3N0TGluaygpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG5cbiAgICAgICAgLy8gVGhpcyBpcyB0aGUgZnVuY3Rpb24gdGhhdCBpcyBpbmplY3RlZCBhcyBgJHRyYW5zY2x1ZGVgLlxuICAgICAgICAvLyBOb3RlOiBhbGwgYXJndW1lbnRzIGFyZSBvcHRpb25hbCFcbiAgICAgICAgZnVuY3Rpb24gY29udHJvbGxlcnNCb3VuZFRyYW5zY2x1ZGUoc2NvcGUsIGNsb25lQXR0YWNoRm4sIGZ1dHVyZVBhcmVudEVsZW1lbnQsIHNsb3ROYW1lKSB7XG4gICAgICAgICAgdmFyIHRyYW5zY2x1ZGVDb250cm9sbGVycztcbiAgICAgICAgICAvLyBObyBzY29wZSBwYXNzZWQgaW46XG4gICAgICAgICAgaWYgKCFpc1Njb3BlKHNjb3BlKSkge1xuICAgICAgICAgICAgc2xvdE5hbWUgPSBmdXR1cmVQYXJlbnRFbGVtZW50O1xuICAgICAgICAgICAgZnV0dXJlUGFyZW50RWxlbWVudCA9IGNsb25lQXR0YWNoRm47XG4gICAgICAgICAgICBjbG9uZUF0dGFjaEZuID0gc2NvcGU7XG4gICAgICAgICAgICBzY29wZSA9IHVuZGVmaW5lZDtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBpZiAoaGFzRWxlbWVudFRyYW5zY2x1ZGVEaXJlY3RpdmUpIHtcbiAgICAgICAgICAgIHRyYW5zY2x1ZGVDb250cm9sbGVycyA9IGVsZW1lbnRDb250cm9sbGVycztcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKCFmdXR1cmVQYXJlbnRFbGVtZW50KSB7XG4gICAgICAgICAgICBmdXR1cmVQYXJlbnRFbGVtZW50ID0gaGFzRWxlbWVudFRyYW5zY2x1ZGVEaXJlY3RpdmUgPyAkZWxlbWVudC5wYXJlbnQoKSA6ICRlbGVtZW50O1xuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAoc2xvdE5hbWUpIHtcbiAgICAgICAgICAgIC8vIHNsb3RUcmFuc2NsdWRlRm4gY2FuIGJlIG9uZSBvZiB0aHJlZSB0aGluZ3M6XG4gICAgICAgICAgICAvLyAgKiBhIHRyYW5zY2x1ZGUgZnVuY3Rpb24gLSBhIGZpbGxlZCBzbG90XG4gICAgICAgICAgICAvLyAgKiBgbnVsbGAgLSBhbiBvcHRpb25hbCBzbG90IHRoYXQgd2FzIG5vdCBmaWxsZWRcbiAgICAgICAgICAgIC8vICAqIGB1bmRlZmluZWRgIC0gYSBzbG90IHRoYXQgd2FzIG5vdCBkZWNsYXJlZCAoaS5lLiBpbnZhbGlkKVxuICAgICAgICAgICAgdmFyIHNsb3RUcmFuc2NsdWRlRm4gPSBib3VuZFRyYW5zY2x1ZGVGbi4kJHNsb3RzW3Nsb3ROYW1lXTtcbiAgICAgICAgICAgIGlmIChzbG90VHJhbnNjbHVkZUZuKSB7XG4gICAgICAgICAgICAgIHJldHVybiBzbG90VHJhbnNjbHVkZUZuKHNjb3BlLCBjbG9uZUF0dGFjaEZuLCB0cmFuc2NsdWRlQ29udHJvbGxlcnMsIGZ1dHVyZVBhcmVudEVsZW1lbnQsIHNjb3BlVG9DaGlsZCk7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKGlzVW5kZWZpbmVkKHNsb3RUcmFuc2NsdWRlRm4pKSB7XG4gICAgICAgICAgICAgIHRocm93ICRjb21waWxlTWluRXJyKCdub3Nsb3QnLFxuICAgICAgICAgICAgICAgJ05vIHBhcmVudCBkaXJlY3RpdmUgdGhhdCByZXF1aXJlcyBhIHRyYW5zY2x1c2lvbiB3aXRoIHNsb3QgbmFtZSBcInswfVwiLiAnICtcbiAgICAgICAgICAgICAgICdFbGVtZW50OiB7MX0nLFxuICAgICAgICAgICAgICAgc2xvdE5hbWUsIHN0YXJ0aW5nVGFnKCRlbGVtZW50KSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiBib3VuZFRyYW5zY2x1ZGVGbihzY29wZSwgY2xvbmVBdHRhY2hGbiwgdHJhbnNjbHVkZUNvbnRyb2xsZXJzLCBmdXR1cmVQYXJlbnRFbGVtZW50LCBzY29wZVRvQ2hpbGQpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIGZ1bmN0aW9uIGdldENvbnRyb2xsZXJzKGRpcmVjdGl2ZU5hbWUsIHJlcXVpcmUsICRlbGVtZW50LCBlbGVtZW50Q29udHJvbGxlcnMpIHtcbiAgICAgIHZhciB2YWx1ZTtcblxuICAgICAgaWYgKGlzU3RyaW5nKHJlcXVpcmUpKSB7XG4gICAgICAgIHZhciBtYXRjaCA9IHJlcXVpcmUubWF0Y2goUkVRVUlSRV9QUkVGSVhfUkVHRVhQKTtcbiAgICAgICAgdmFyIG5hbWUgPSByZXF1aXJlLnN1YnN0cmluZyhtYXRjaFswXS5sZW5ndGgpO1xuICAgICAgICB2YXIgaW5oZXJpdFR5cGUgPSBtYXRjaFsxXSB8fCBtYXRjaFszXTtcbiAgICAgICAgdmFyIG9wdGlvbmFsID0gbWF0Y2hbMl0gPT09ICc/JztcblxuICAgICAgICAvL0lmIG9ubHkgcGFyZW50cyB0aGVuIHN0YXJ0IGF0IHRoZSBwYXJlbnQgZWxlbWVudFxuICAgICAgICBpZiAoaW5oZXJpdFR5cGUgPT09ICdeXicpIHtcbiAgICAgICAgICAkZWxlbWVudCA9ICRlbGVtZW50LnBhcmVudCgpO1xuICAgICAgICAvL090aGVyd2lzZSBhdHRlbXB0IGdldHRpbmcgdGhlIGNvbnRyb2xsZXIgZnJvbSBlbGVtZW50Q29udHJvbGxlcnMgaW4gY2FzZVxuICAgICAgICAvL3RoZSBlbGVtZW50IGlzIHRyYW5zY2x1ZGVkIChhbmQgaGFzIG5vIGRhdGEpIGFuZCB0byBhdm9pZCAuZGF0YSBpZiBwb3NzaWJsZVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHZhbHVlID0gZWxlbWVudENvbnRyb2xsZXJzICYmIGVsZW1lbnRDb250cm9sbGVyc1tuYW1lXTtcbiAgICAgICAgICB2YWx1ZSA9IHZhbHVlICYmIHZhbHVlLmluc3RhbmNlO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKCF2YWx1ZSkge1xuICAgICAgICAgIHZhciBkYXRhTmFtZSA9ICckJyArIG5hbWUgKyAnQ29udHJvbGxlcic7XG4gICAgICAgICAgdmFsdWUgPSBpbmhlcml0VHlwZSA/ICRlbGVtZW50LmluaGVyaXRlZERhdGEoZGF0YU5hbWUpIDogJGVsZW1lbnQuZGF0YShkYXRhTmFtZSk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoIXZhbHVlICYmICFvcHRpb25hbCkge1xuICAgICAgICAgIHRocm93ICRjb21waWxlTWluRXJyKCdjdHJlcScsXG4gICAgICAgICAgICAgICdDb250cm9sbGVyIFxcJ3swfVxcJywgcmVxdWlyZWQgYnkgZGlyZWN0aXZlIFxcJ3sxfVxcJywgY2FuXFwndCBiZSBmb3VuZCEnLFxuICAgICAgICAgICAgICBuYW1lLCBkaXJlY3RpdmVOYW1lKTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIGlmIChpc0FycmF5KHJlcXVpcmUpKSB7XG4gICAgICAgIHZhbHVlID0gW107XG4gICAgICAgIGZvciAodmFyIGkgPSAwLCBpaSA9IHJlcXVpcmUubGVuZ3RoOyBpIDwgaWk7IGkrKykge1xuICAgICAgICAgIHZhbHVlW2ldID0gZ2V0Q29udHJvbGxlcnMoZGlyZWN0aXZlTmFtZSwgcmVxdWlyZVtpXSwgJGVsZW1lbnQsIGVsZW1lbnRDb250cm9sbGVycyk7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSBpZiAoaXNPYmplY3QocmVxdWlyZSkpIHtcbiAgICAgICAgdmFsdWUgPSB7fTtcbiAgICAgICAgZm9yRWFjaChyZXF1aXJlLCBmdW5jdGlvbihjb250cm9sbGVyLCBwcm9wZXJ0eSkge1xuICAgICAgICAgIHZhbHVlW3Byb3BlcnR5XSA9IGdldENvbnRyb2xsZXJzKGRpcmVjdGl2ZU5hbWUsIGNvbnRyb2xsZXIsICRlbGVtZW50LCBlbGVtZW50Q29udHJvbGxlcnMpO1xuICAgICAgICB9KTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHZhbHVlIHx8IG51bGw7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gc2V0dXBDb250cm9sbGVycygkZWxlbWVudCwgYXR0cnMsIHRyYW5zY2x1ZGVGbiwgY29udHJvbGxlckRpcmVjdGl2ZXMsIGlzb2xhdGVTY29wZSwgc2NvcGUsIG5ld0lzb2xhdGVTY29wZURpcmVjdGl2ZSkge1xuICAgICAgdmFyIGVsZW1lbnRDb250cm9sbGVycyA9IGNyZWF0ZU1hcCgpO1xuICAgICAgZm9yICh2YXIgY29udHJvbGxlcktleSBpbiBjb250cm9sbGVyRGlyZWN0aXZlcykge1xuICAgICAgICB2YXIgZGlyZWN0aXZlID0gY29udHJvbGxlckRpcmVjdGl2ZXNbY29udHJvbGxlcktleV07XG4gICAgICAgIHZhciBsb2NhbHMgPSB7XG4gICAgICAgICAgJHNjb3BlOiBkaXJlY3RpdmUgPT09IG5ld0lzb2xhdGVTY29wZURpcmVjdGl2ZSB8fCBkaXJlY3RpdmUuJCRpc29sYXRlU2NvcGUgPyBpc29sYXRlU2NvcGUgOiBzY29wZSxcbiAgICAgICAgICAkZWxlbWVudDogJGVsZW1lbnQsXG4gICAgICAgICAgJGF0dHJzOiBhdHRycyxcbiAgICAgICAgICAkdHJhbnNjbHVkZTogdHJhbnNjbHVkZUZuXG4gICAgICAgIH07XG5cbiAgICAgICAgdmFyIGNvbnRyb2xsZXIgPSBkaXJlY3RpdmUuY29udHJvbGxlcjtcbiAgICAgICAgaWYgKGNvbnRyb2xsZXIgPT09ICdAJykge1xuICAgICAgICAgIGNvbnRyb2xsZXIgPSBhdHRyc1tkaXJlY3RpdmUubmFtZV07XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgY29udHJvbGxlckluc3RhbmNlID0gJGNvbnRyb2xsZXIoY29udHJvbGxlciwgbG9jYWxzLCB0cnVlLCBkaXJlY3RpdmUuY29udHJvbGxlckFzKTtcblxuICAgICAgICAvLyBGb3IgZGlyZWN0aXZlcyB3aXRoIGVsZW1lbnQgdHJhbnNjbHVzaW9uIHRoZSBlbGVtZW50IGlzIGEgY29tbWVudC5cbiAgICAgICAgLy8gSW4gdGhpcyBjYXNlIC5kYXRhIHdpbGwgbm90IGF0dGFjaCBhbnkgZGF0YS5cbiAgICAgICAgLy8gSW5zdGVhZCwgd2Ugc2F2ZSB0aGUgY29udHJvbGxlcnMgZm9yIHRoZSBlbGVtZW50IGluIGEgbG9jYWwgaGFzaCBhbmQgYXR0YWNoIHRvIC5kYXRhXG4gICAgICAgIC8vIGxhdGVyLCBvbmNlIHdlIGhhdmUgdGhlIGFjdHVhbCBlbGVtZW50LlxuICAgICAgICBlbGVtZW50Q29udHJvbGxlcnNbZGlyZWN0aXZlLm5hbWVdID0gY29udHJvbGxlckluc3RhbmNlO1xuICAgICAgICAkZWxlbWVudC5kYXRhKCckJyArIGRpcmVjdGl2ZS5uYW1lICsgJ0NvbnRyb2xsZXInLCBjb250cm9sbGVySW5zdGFuY2UuaW5zdGFuY2UpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGVsZW1lbnRDb250cm9sbGVycztcbiAgICB9XG5cbiAgICAvLyBEZXBlbmRpbmcgdXBvbiB0aGUgY29udGV4dCBpbiB3aGljaCBhIGRpcmVjdGl2ZSBmaW5kcyBpdHNlbGYgaXQgbWlnaHQgbmVlZCB0byBoYXZlIGEgbmV3IGlzb2xhdGVkXG4gICAgLy8gb3IgY2hpbGQgc2NvcGUgY3JlYXRlZC4gRm9yIGluc3RhbmNlOlxuICAgIC8vICogaWYgdGhlIGRpcmVjdGl2ZSBoYXMgYmVlbiBwdWxsZWQgaW50byBhIHRlbXBsYXRlIGJlY2F1c2UgYW5vdGhlciBkaXJlY3RpdmUgd2l0aCBhIGhpZ2hlciBwcmlvcml0eVxuICAgIC8vIGFza2VkIGZvciBlbGVtZW50IHRyYW5zY2x1c2lvblxuICAgIC8vICogaWYgdGhlIGRpcmVjdGl2ZSBpdHNlbGYgYXNrcyBmb3IgdHJhbnNjbHVzaW9uIGJ1dCBpdCBpcyBhdCB0aGUgcm9vdCBvZiBhIHRlbXBsYXRlIGFuZCB0aGUgb3JpZ2luYWxcbiAgICAvLyBlbGVtZW50IHdhcyByZXBsYWNlZC4gU2VlIGh0dHBzOi8vZ2l0aHViLmNvbS9hbmd1bGFyL2FuZ3VsYXIuanMvaXNzdWVzLzEyOTM2XG4gICAgZnVuY3Rpb24gbWFya0RpcmVjdGl2ZVNjb3BlKGRpcmVjdGl2ZXMsIGlzb2xhdGVTY29wZSwgbmV3U2NvcGUpIHtcbiAgICAgIGZvciAodmFyIGogPSAwLCBqaiA9IGRpcmVjdGl2ZXMubGVuZ3RoOyBqIDwgamo7IGorKykge1xuICAgICAgICBkaXJlY3RpdmVzW2pdID0gaW5oZXJpdChkaXJlY3RpdmVzW2pdLCB7JCRpc29sYXRlU2NvcGU6IGlzb2xhdGVTY29wZSwgJCRuZXdTY29wZTogbmV3U2NvcGV9KTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBsb29rcyB1cCB0aGUgZGlyZWN0aXZlIGFuZCBkZWNvcmF0ZXMgaXQgd2l0aCBleGNlcHRpb24gaGFuZGxpbmcgYW5kIHByb3BlciBwYXJhbWV0ZXJzLiBXZVxuICAgICAqIGNhbGwgdGhpcyB0aGUgYm91bmREaXJlY3RpdmUuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gbmFtZSBuYW1lIG9mIHRoZSBkaXJlY3RpdmUgdG8gbG9vayB1cC5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gbG9jYXRpb24gVGhlIGRpcmVjdGl2ZSBtdXN0IGJlIGZvdW5kIGluIHNwZWNpZmljIGZvcm1hdC5cbiAgICAgKiAgIFN0cmluZyBjb250YWluaW5nIGFueSBvZiB0aGVzZXMgY2hhcmFjdGVyczpcbiAgICAgKlxuICAgICAqICAgKiBgRWA6IGVsZW1lbnQgbmFtZVxuICAgICAqICAgKiBgQSc6IGF0dHJpYnV0ZVxuICAgICAqICAgKiBgQ2A6IGNsYXNzXG4gICAgICogICAqIGBNYDogY29tbWVudFxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSB0cnVlIGlmIGRpcmVjdGl2ZSB3YXMgYWRkZWQuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYWRkRGlyZWN0aXZlKHREaXJlY3RpdmVzLCBuYW1lLCBsb2NhdGlvbiwgbWF4UHJpb3JpdHksIGlnbm9yZURpcmVjdGl2ZSwgc3RhcnRBdHRyTmFtZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgZW5kQXR0ck5hbWUpIHtcbiAgICAgIGlmIChuYW1lID09PSBpZ25vcmVEaXJlY3RpdmUpIHJldHVybiBudWxsO1xuICAgICAgdmFyIG1hdGNoID0gbnVsbDtcbiAgICAgIGlmIChoYXNEaXJlY3RpdmVzLmhhc093blByb3BlcnR5KG5hbWUpKSB7XG4gICAgICAgIGZvciAodmFyIGRpcmVjdGl2ZSwgZGlyZWN0aXZlcyA9ICRpbmplY3Rvci5nZXQobmFtZSArIFN1ZmZpeCksXG4gICAgICAgICAgICBpID0gMCwgaWkgPSBkaXJlY3RpdmVzLmxlbmd0aDsgaSA8IGlpOyBpKyspIHtcbiAgICAgICAgICBkaXJlY3RpdmUgPSBkaXJlY3RpdmVzW2ldO1xuICAgICAgICAgIGlmICgoaXNVbmRlZmluZWQobWF4UHJpb3JpdHkpIHx8IG1heFByaW9yaXR5ID4gZGlyZWN0aXZlLnByaW9yaXR5KSAmJlxuICAgICAgICAgICAgICAgZGlyZWN0aXZlLnJlc3RyaWN0LmluZGV4T2YobG9jYXRpb24pICE9PSAtMSkge1xuICAgICAgICAgICAgaWYgKHN0YXJ0QXR0ck5hbWUpIHtcbiAgICAgICAgICAgICAgZGlyZWN0aXZlID0gaW5oZXJpdChkaXJlY3RpdmUsIHskJHN0YXJ0OiBzdGFydEF0dHJOYW1lLCAkJGVuZDogZW5kQXR0ck5hbWV9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICghZGlyZWN0aXZlLiQkYmluZGluZ3MpIHtcbiAgICAgICAgICAgICAgdmFyIGJpbmRpbmdzID0gZGlyZWN0aXZlLiQkYmluZGluZ3MgPVxuICAgICAgICAgICAgICAgICAgcGFyc2VEaXJlY3RpdmVCaW5kaW5ncyhkaXJlY3RpdmUsIGRpcmVjdGl2ZS5uYW1lKTtcbiAgICAgICAgICAgICAgaWYgKGlzT2JqZWN0KGJpbmRpbmdzLmlzb2xhdGVTY29wZSkpIHtcbiAgICAgICAgICAgICAgICBkaXJlY3RpdmUuJCRpc29sYXRlQmluZGluZ3MgPSBiaW5kaW5ncy5pc29sYXRlU2NvcGU7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHREaXJlY3RpdmVzLnB1c2goZGlyZWN0aXZlKTtcbiAgICAgICAgICAgIG1hdGNoID0gZGlyZWN0aXZlO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIG1hdGNoO1xuICAgIH1cblxuXG4gICAgLyoqXG4gICAgICogbG9va3MgdXAgdGhlIGRpcmVjdGl2ZSBhbmQgcmV0dXJucyB0cnVlIGlmIGl0IGlzIGEgbXVsdGktZWxlbWVudCBkaXJlY3RpdmUsXG4gICAgICogYW5kIHRoZXJlZm9yZSByZXF1aXJlcyBET00gbm9kZXMgYmV0d2VlbiAtc3RhcnQgYW5kIC1lbmQgbWFya2VycyB0byBiZSBncm91cGVkXG4gICAgICogdG9nZXRoZXIuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gbmFtZSBuYW1lIG9mIHRoZSBkaXJlY3RpdmUgdG8gbG9vayB1cC5cbiAgICAgKiBAcmV0dXJucyB0cnVlIGlmIGRpcmVjdGl2ZSB3YXMgcmVnaXN0ZXJlZCBhcyBtdWx0aS1lbGVtZW50LlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGRpcmVjdGl2ZUlzTXVsdGlFbGVtZW50KG5hbWUpIHtcbiAgICAgIGlmIChoYXNEaXJlY3RpdmVzLmhhc093blByb3BlcnR5KG5hbWUpKSB7XG4gICAgICAgIGZvciAodmFyIGRpcmVjdGl2ZSwgZGlyZWN0aXZlcyA9ICRpbmplY3Rvci5nZXQobmFtZSArIFN1ZmZpeCksXG4gICAgICAgICAgICBpID0gMCwgaWkgPSBkaXJlY3RpdmVzLmxlbmd0aDsgaSA8IGlpOyBpKyspIHtcbiAgICAgICAgICBkaXJlY3RpdmUgPSBkaXJlY3RpdmVzW2ldO1xuICAgICAgICAgIGlmIChkaXJlY3RpdmUubXVsdGlFbGVtZW50KSB7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBXaGVuIHRoZSBlbGVtZW50IGlzIHJlcGxhY2VkIHdpdGggSFRNTCB0ZW1wbGF0ZSB0aGVuIHRoZSBuZXcgYXR0cmlidXRlc1xuICAgICAqIG9uIHRoZSB0ZW1wbGF0ZSBuZWVkIHRvIGJlIG1lcmdlZCB3aXRoIHRoZSBleGlzdGluZyBhdHRyaWJ1dGVzIGluIHRoZSBET00uXG4gICAgICogVGhlIGRlc2lyZWQgZWZmZWN0IGlzIHRvIGhhdmUgYm90aCBvZiB0aGUgYXR0cmlidXRlcyBwcmVzZW50LlxuICAgICAqXG4gICAgICogQHBhcmFtIHtvYmplY3R9IGRzdCBkZXN0aW5hdGlvbiBhdHRyaWJ1dGVzIChvcmlnaW5hbCBET00pXG4gICAgICogQHBhcmFtIHtvYmplY3R9IHNyYyBzb3VyY2UgYXR0cmlidXRlcyAoZnJvbSB0aGUgZGlyZWN0aXZlIHRlbXBsYXRlKVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIG1lcmdlVGVtcGxhdGVBdHRyaWJ1dGVzKGRzdCwgc3JjKSB7XG4gICAgICB2YXIgc3JjQXR0ciA9IHNyYy4kYXR0cixcbiAgICAgICAgICBkc3RBdHRyID0gZHN0LiRhdHRyO1xuXG4gICAgICAvLyByZWFwcGx5IHRoZSBvbGQgYXR0cmlidXRlcyB0byB0aGUgbmV3IGVsZW1lbnRcbiAgICAgIGZvckVhY2goZHN0LCBmdW5jdGlvbih2YWx1ZSwga2V5KSB7XG4gICAgICAgIGlmIChrZXkuY2hhckF0KDApICE9PSAnJCcpIHtcbiAgICAgICAgICBpZiAoc3JjW2tleV0gJiYgc3JjW2tleV0gIT09IHZhbHVlKSB7XG4gICAgICAgICAgICBpZiAodmFsdWUubGVuZ3RoKSB7XG4gICAgICAgICAgICAgIHZhbHVlICs9IChrZXkgPT09ICdzdHlsZScgPyAnOycgOiAnICcpICsgc3JjW2tleV07XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICB2YWx1ZSA9IHNyY1trZXldO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgICBkc3QuJHNldChrZXksIHZhbHVlLCB0cnVlLCBzcmNBdHRyW2tleV0pO1xuICAgICAgICB9XG4gICAgICB9KTtcblxuICAgICAgLy8gY29weSB0aGUgbmV3IGF0dHJpYnV0ZXMgb24gdGhlIG9sZCBhdHRycyBvYmplY3RcbiAgICAgIGZvckVhY2goc3JjLCBmdW5jdGlvbih2YWx1ZSwga2V5KSB7XG4gICAgICAgIC8vIENoZWNrIGlmIHdlIGFscmVhZHkgc2V0IHRoaXMgYXR0cmlidXRlIGluIHRoZSBsb29wIGFib3ZlLlxuICAgICAgICAvLyBgZHN0YCB3aWxsIG5ldmVyIGNvbnRhaW4gaGFzT3duUHJvcGVydHkgYXMgRE9NIHBhcnNlciB3b24ndCBsZXQgaXQuXG4gICAgICAgIC8vIFlvdSB3aWxsIGdldCBhbiBcIkludmFsaWRDaGFyYWN0ZXJFcnJvcjogRE9NIEV4Y2VwdGlvbiA1XCIgZXJyb3IgaWYgeW91XG4gICAgICAgIC8vIGhhdmUgYW4gYXR0cmlidXRlIGxpa2UgXCJoYXMtb3duLXByb3BlcnR5XCIgb3IgXCJkYXRhLWhhcy1vd24tcHJvcGVydHlcIiwgZXRjLlxuICAgICAgICBpZiAoIWRzdC5oYXNPd25Qcm9wZXJ0eShrZXkpICYmIGtleS5jaGFyQXQoMCkgIT09ICckJykge1xuICAgICAgICAgIGRzdFtrZXldID0gdmFsdWU7XG5cbiAgICAgICAgICBpZiAoa2V5ICE9PSAnY2xhc3MnICYmIGtleSAhPT0gJ3N0eWxlJykge1xuICAgICAgICAgICAgZHN0QXR0cltrZXldID0gc3JjQXR0cltrZXldO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfVxuXG5cbiAgICBmdW5jdGlvbiBjb21waWxlVGVtcGxhdGVVcmwoZGlyZWN0aXZlcywgJGNvbXBpbGVOb2RlLCB0QXR0cnMsXG4gICAgICAgICRyb290RWxlbWVudCwgY2hpbGRUcmFuc2NsdWRlRm4sIHByZUxpbmtGbnMsIHBvc3RMaW5rRm5zLCBwcmV2aW91c0NvbXBpbGVDb250ZXh0KSB7XG4gICAgICB2YXIgbGlua1F1ZXVlID0gW10sXG4gICAgICAgICAgYWZ0ZXJUZW1wbGF0ZU5vZGVMaW5rRm4sXG4gICAgICAgICAgYWZ0ZXJUZW1wbGF0ZUNoaWxkTGlua0ZuLFxuICAgICAgICAgIGJlZm9yZVRlbXBsYXRlQ29tcGlsZU5vZGUgPSAkY29tcGlsZU5vZGVbMF0sXG4gICAgICAgICAgb3JpZ0FzeW5jRGlyZWN0aXZlID0gZGlyZWN0aXZlcy5zaGlmdCgpLFxuICAgICAgICAgIGRlcml2ZWRTeW5jRGlyZWN0aXZlID0gaW5oZXJpdChvcmlnQXN5bmNEaXJlY3RpdmUsIHtcbiAgICAgICAgICAgIHRlbXBsYXRlVXJsOiBudWxsLCB0cmFuc2NsdWRlOiBudWxsLCByZXBsYWNlOiBudWxsLCAkJG9yaWdpbmFsRGlyZWN0aXZlOiBvcmlnQXN5bmNEaXJlY3RpdmVcbiAgICAgICAgICB9KSxcbiAgICAgICAgICB0ZW1wbGF0ZVVybCA9IChpc0Z1bmN0aW9uKG9yaWdBc3luY0RpcmVjdGl2ZS50ZW1wbGF0ZVVybCkpXG4gICAgICAgICAgICAgID8gb3JpZ0FzeW5jRGlyZWN0aXZlLnRlbXBsYXRlVXJsKCRjb21waWxlTm9kZSwgdEF0dHJzKVxuICAgICAgICAgICAgICA6IG9yaWdBc3luY0RpcmVjdGl2ZS50ZW1wbGF0ZVVybCxcbiAgICAgICAgICB0ZW1wbGF0ZU5hbWVzcGFjZSA9IG9yaWdBc3luY0RpcmVjdGl2ZS50ZW1wbGF0ZU5hbWVzcGFjZTtcblxuICAgICAgJGNvbXBpbGVOb2RlLmVtcHR5KCk7XG5cbiAgICAgICR0ZW1wbGF0ZVJlcXVlc3QodGVtcGxhdGVVcmwpXG4gICAgICAgIC50aGVuKGZ1bmN0aW9uKGNvbnRlbnQpIHtcbiAgICAgICAgICB2YXIgY29tcGlsZU5vZGUsIHRlbXBUZW1wbGF0ZUF0dHJzLCAkdGVtcGxhdGUsIGNoaWxkQm91bmRUcmFuc2NsdWRlRm47XG5cbiAgICAgICAgICBjb250ZW50ID0gZGVub3JtYWxpemVUZW1wbGF0ZShjb250ZW50KTtcblxuICAgICAgICAgIGlmIChvcmlnQXN5bmNEaXJlY3RpdmUucmVwbGFjZSkge1xuICAgICAgICAgICAgaWYgKGpxTGl0ZUlzVGV4dE5vZGUoY29udGVudCkpIHtcbiAgICAgICAgICAgICAgJHRlbXBsYXRlID0gW107XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAkdGVtcGxhdGUgPSByZW1vdmVDb21tZW50cyh3cmFwVGVtcGxhdGUodGVtcGxhdGVOYW1lc3BhY2UsIHRyaW0oY29udGVudCkpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbXBpbGVOb2RlID0gJHRlbXBsYXRlWzBdO1xuXG4gICAgICAgICAgICBpZiAoJHRlbXBsYXRlLmxlbmd0aCAhPT0gMSB8fCBjb21waWxlTm9kZS5ub2RlVHlwZSAhPT0gTk9ERV9UWVBFX0VMRU1FTlQpIHtcbiAgICAgICAgICAgICAgdGhyb3cgJGNvbXBpbGVNaW5FcnIoJ3RwbHJ0JyxcbiAgICAgICAgICAgICAgICAgICdUZW1wbGF0ZSBmb3IgZGlyZWN0aXZlIFxcJ3swfVxcJyBtdXN0IGhhdmUgZXhhY3RseSBvbmUgcm9vdCBlbGVtZW50LiB7MX0nLFxuICAgICAgICAgICAgICAgICAgb3JpZ0FzeW5jRGlyZWN0aXZlLm5hbWUsIHRlbXBsYXRlVXJsKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdGVtcFRlbXBsYXRlQXR0cnMgPSB7JGF0dHI6IHt9fTtcbiAgICAgICAgICAgIHJlcGxhY2VXaXRoKCRyb290RWxlbWVudCwgJGNvbXBpbGVOb2RlLCBjb21waWxlTm9kZSk7XG4gICAgICAgICAgICB2YXIgdGVtcGxhdGVEaXJlY3RpdmVzID0gY29sbGVjdERpcmVjdGl2ZXMoY29tcGlsZU5vZGUsIFtdLCB0ZW1wVGVtcGxhdGVBdHRycyk7XG5cbiAgICAgICAgICAgIGlmIChpc09iamVjdChvcmlnQXN5bmNEaXJlY3RpdmUuc2NvcGUpKSB7XG4gICAgICAgICAgICAgIC8vIHRoZSBvcmlnaW5hbCBkaXJlY3RpdmUgdGhhdCBjYXVzZWQgdGhlIHRlbXBsYXRlIHRvIGJlIGxvYWRlZCBhc3luYyByZXF1aXJlZFxuICAgICAgICAgICAgICAvLyBhbiBpc29sYXRlIHNjb3BlXG4gICAgICAgICAgICAgIG1hcmtEaXJlY3RpdmVTY29wZSh0ZW1wbGF0ZURpcmVjdGl2ZXMsIHRydWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZGlyZWN0aXZlcyA9IHRlbXBsYXRlRGlyZWN0aXZlcy5jb25jYXQoZGlyZWN0aXZlcyk7XG4gICAgICAgICAgICBtZXJnZVRlbXBsYXRlQXR0cmlidXRlcyh0QXR0cnMsIHRlbXBUZW1wbGF0ZUF0dHJzKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgY29tcGlsZU5vZGUgPSBiZWZvcmVUZW1wbGF0ZUNvbXBpbGVOb2RlO1xuICAgICAgICAgICAgJGNvbXBpbGVOb2RlLmh0bWwoY29udGVudCk7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgZGlyZWN0aXZlcy51bnNoaWZ0KGRlcml2ZWRTeW5jRGlyZWN0aXZlKTtcblxuICAgICAgICAgIGFmdGVyVGVtcGxhdGVOb2RlTGlua0ZuID0gYXBwbHlEaXJlY3RpdmVzVG9Ob2RlKGRpcmVjdGl2ZXMsIGNvbXBpbGVOb2RlLCB0QXR0cnMsXG4gICAgICAgICAgICAgIGNoaWxkVHJhbnNjbHVkZUZuLCAkY29tcGlsZU5vZGUsIG9yaWdBc3luY0RpcmVjdGl2ZSwgcHJlTGlua0ZucywgcG9zdExpbmtGbnMsXG4gICAgICAgICAgICAgIHByZXZpb3VzQ29tcGlsZUNvbnRleHQpO1xuICAgICAgICAgIGZvckVhY2goJHJvb3RFbGVtZW50LCBmdW5jdGlvbihub2RlLCBpKSB7XG4gICAgICAgICAgICBpZiAobm9kZSA9PT0gY29tcGlsZU5vZGUpIHtcbiAgICAgICAgICAgICAgJHJvb3RFbGVtZW50W2ldID0gJGNvbXBpbGVOb2RlWzBdO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pO1xuICAgICAgICAgIGFmdGVyVGVtcGxhdGVDaGlsZExpbmtGbiA9IGNvbXBpbGVOb2RlcygkY29tcGlsZU5vZGVbMF0uY2hpbGROb2RlcywgY2hpbGRUcmFuc2NsdWRlRm4pO1xuXG4gICAgICAgICAgd2hpbGUgKGxpbmtRdWV1ZS5sZW5ndGgpIHtcbiAgICAgICAgICAgIHZhciBzY29wZSA9IGxpbmtRdWV1ZS5zaGlmdCgpLFxuICAgICAgICAgICAgICAgIGJlZm9yZVRlbXBsYXRlTGlua05vZGUgPSBsaW5rUXVldWUuc2hpZnQoKSxcbiAgICAgICAgICAgICAgICBsaW5rUm9vdEVsZW1lbnQgPSBsaW5rUXVldWUuc2hpZnQoKSxcbiAgICAgICAgICAgICAgICBib3VuZFRyYW5zY2x1ZGVGbiA9IGxpbmtRdWV1ZS5zaGlmdCgpLFxuICAgICAgICAgICAgICAgIGxpbmtOb2RlID0gJGNvbXBpbGVOb2RlWzBdO1xuXG4gICAgICAgICAgICBpZiAoc2NvcGUuJCRkZXN0cm95ZWQpIGNvbnRpbnVlO1xuXG4gICAgICAgICAgICBpZiAoYmVmb3JlVGVtcGxhdGVMaW5rTm9kZSAhPT0gYmVmb3JlVGVtcGxhdGVDb21waWxlTm9kZSkge1xuICAgICAgICAgICAgICB2YXIgb2xkQ2xhc3NlcyA9IGJlZm9yZVRlbXBsYXRlTGlua05vZGUuY2xhc3NOYW1lO1xuXG4gICAgICAgICAgICAgIGlmICghKHByZXZpb3VzQ29tcGlsZUNvbnRleHQuaGFzRWxlbWVudFRyYW5zY2x1ZGVEaXJlY3RpdmUgJiZcbiAgICAgICAgICAgICAgICAgIG9yaWdBc3luY0RpcmVjdGl2ZS5yZXBsYWNlKSkge1xuICAgICAgICAgICAgICAgIC8vIGl0IHdhcyBjbG9uZWQgdGhlcmVmb3JlIHdlIGhhdmUgdG8gY2xvbmUgYXMgd2VsbC5cbiAgICAgICAgICAgICAgICBsaW5rTm9kZSA9IGpxTGl0ZUNsb25lKGNvbXBpbGVOb2RlKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICByZXBsYWNlV2l0aChsaW5rUm9vdEVsZW1lbnQsIGpxTGl0ZShiZWZvcmVUZW1wbGF0ZUxpbmtOb2RlKSwgbGlua05vZGUpO1xuXG4gICAgICAgICAgICAgIC8vIENvcHkgaW4gQ1NTIGNsYXNzZXMgZnJvbSBvcmlnaW5hbCBub2RlXG4gICAgICAgICAgICAgIHNhZmVBZGRDbGFzcyhqcUxpdGUobGlua05vZGUpLCBvbGRDbGFzc2VzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChhZnRlclRlbXBsYXRlTm9kZUxpbmtGbi50cmFuc2NsdWRlT25UaGlzRWxlbWVudCkge1xuICAgICAgICAgICAgICBjaGlsZEJvdW5kVHJhbnNjbHVkZUZuID0gY3JlYXRlQm91bmRUcmFuc2NsdWRlRm4oc2NvcGUsIGFmdGVyVGVtcGxhdGVOb2RlTGlua0ZuLnRyYW5zY2x1ZGUsIGJvdW5kVHJhbnNjbHVkZUZuKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIGNoaWxkQm91bmRUcmFuc2NsdWRlRm4gPSBib3VuZFRyYW5zY2x1ZGVGbjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGFmdGVyVGVtcGxhdGVOb2RlTGlua0ZuKGFmdGVyVGVtcGxhdGVDaGlsZExpbmtGbiwgc2NvcGUsIGxpbmtOb2RlLCAkcm9vdEVsZW1lbnQsXG4gICAgICAgICAgICAgIGNoaWxkQm91bmRUcmFuc2NsdWRlRm4pO1xuICAgICAgICAgIH1cbiAgICAgICAgICBsaW5rUXVldWUgPSBudWxsO1xuICAgICAgICB9KS5jYXRjaChmdW5jdGlvbihlcnJvcikge1xuICAgICAgICAgIGlmIChlcnJvciBpbnN0YW5jZW9mIEVycm9yKSB7XG4gICAgICAgICAgICAkZXhjZXB0aW9uSGFuZGxlcihlcnJvcik7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcblxuICAgICAgcmV0dXJuIGZ1bmN0aW9uIGRlbGF5ZWROb2RlTGlua0ZuKGlnbm9yZUNoaWxkTGlua0ZuLCBzY29wZSwgbm9kZSwgcm9vdEVsZW1lbnQsIGJvdW5kVHJhbnNjbHVkZUZuKSB7XG4gICAgICAgIHZhciBjaGlsZEJvdW5kVHJhbnNjbHVkZUZuID0gYm91bmRUcmFuc2NsdWRlRm47XG4gICAgICAgIGlmIChzY29wZS4kJGRlc3Ryb3llZCkgcmV0dXJuO1xuICAgICAgICBpZiAobGlua1F1ZXVlKSB7XG4gICAgICAgICAgbGlua1F1ZXVlLnB1c2goc2NvcGUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgbm9kZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICByb290RWxlbWVudCxcbiAgICAgICAgICAgICAgICAgICAgICAgICBjaGlsZEJvdW5kVHJhbnNjbHVkZUZuKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBpZiAoYWZ0ZXJUZW1wbGF0ZU5vZGVMaW5rRm4udHJhbnNjbHVkZU9uVGhpc0VsZW1lbnQpIHtcbiAgICAgICAgICAgIGNoaWxkQm91bmRUcmFuc2NsdWRlRm4gPSBjcmVhdGVCb3VuZFRyYW5zY2x1ZGVGbihzY29wZSwgYWZ0ZXJUZW1wbGF0ZU5vZGVMaW5rRm4udHJhbnNjbHVkZSwgYm91bmRUcmFuc2NsdWRlRm4pO1xuICAgICAgICAgIH1cbiAgICAgICAgICBhZnRlclRlbXBsYXRlTm9kZUxpbmtGbihhZnRlclRlbXBsYXRlQ2hpbGRMaW5rRm4sIHNjb3BlLCBub2RlLCByb290RWxlbWVudCwgY2hpbGRCb3VuZFRyYW5zY2x1ZGVGbik7XG4gICAgICAgIH1cbiAgICAgIH07XG4gICAgfVxuXG5cbiAgICAvKipcbiAgICAgKiBTb3J0aW5nIGZ1bmN0aW9uIGZvciBib3VuZCBkaXJlY3RpdmVzLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGJ5UHJpb3JpdHkoYSwgYikge1xuICAgICAgdmFyIGRpZmYgPSBiLnByaW9yaXR5IC0gYS5wcmlvcml0eTtcbiAgICAgIGlmIChkaWZmICE9PSAwKSByZXR1cm4gZGlmZjtcbiAgICAgIGlmIChhLm5hbWUgIT09IGIubmFtZSkgcmV0dXJuIChhLm5hbWUgPCBiLm5hbWUpID8gLTEgOiAxO1xuICAgICAgcmV0dXJuIGEuaW5kZXggLSBiLmluZGV4O1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGFzc2VydE5vRHVwbGljYXRlKHdoYXQsIHByZXZpb3VzRGlyZWN0aXZlLCBkaXJlY3RpdmUsIGVsZW1lbnQpIHtcblxuICAgICAgZnVuY3Rpb24gd3JhcE1vZHVsZU5hbWVJZkRlZmluZWQobW9kdWxlTmFtZSkge1xuICAgICAgICByZXR1cm4gbW9kdWxlTmFtZSA/XG4gICAgICAgICAgKCcgKG1vZHVsZTogJyArIG1vZHVsZU5hbWUgKyAnKScpIDpcbiAgICAgICAgICAnJztcbiAgICAgIH1cblxuICAgICAgaWYgKHByZXZpb3VzRGlyZWN0aXZlKSB7XG4gICAgICAgIHRocm93ICRjb21waWxlTWluRXJyKCdtdWx0aWRpcicsICdNdWx0aXBsZSBkaXJlY3RpdmVzIFt7MH17MX0sIHsyfXszfV0gYXNraW5nIGZvciB7NH0gb246IHs1fScsXG4gICAgICAgICAgICBwcmV2aW91c0RpcmVjdGl2ZS5uYW1lLCB3cmFwTW9kdWxlTmFtZUlmRGVmaW5lZChwcmV2aW91c0RpcmVjdGl2ZS4kJG1vZHVsZU5hbWUpLFxuICAgICAgICAgICAgZGlyZWN0aXZlLm5hbWUsIHdyYXBNb2R1bGVOYW1lSWZEZWZpbmVkKGRpcmVjdGl2ZS4kJG1vZHVsZU5hbWUpLCB3aGF0LCBzdGFydGluZ1RhZyhlbGVtZW50KSk7XG4gICAgICB9XG4gICAgfVxuXG5cbiAgICBmdW5jdGlvbiBhZGRUZXh0SW50ZXJwb2xhdGVEaXJlY3RpdmUoZGlyZWN0aXZlcywgdGV4dCkge1xuICAgICAgdmFyIGludGVycG9sYXRlRm4gPSAkaW50ZXJwb2xhdGUodGV4dCwgdHJ1ZSk7XG4gICAgICBpZiAoaW50ZXJwb2xhdGVGbikge1xuICAgICAgICBkaXJlY3RpdmVzLnB1c2goe1xuICAgICAgICAgIHByaW9yaXR5OiAwLFxuICAgICAgICAgIGNvbXBpbGU6IGZ1bmN0aW9uIHRleHRJbnRlcnBvbGF0ZUNvbXBpbGVGbih0ZW1wbGF0ZU5vZGUpIHtcbiAgICAgICAgICAgIHZhciB0ZW1wbGF0ZU5vZGVQYXJlbnQgPSB0ZW1wbGF0ZU5vZGUucGFyZW50KCksXG4gICAgICAgICAgICAgICAgaGFzQ29tcGlsZVBhcmVudCA9ICEhdGVtcGxhdGVOb2RlUGFyZW50Lmxlbmd0aDtcblxuICAgICAgICAgICAgLy8gV2hlbiB0cmFuc2NsdWRpbmcgYSB0ZW1wbGF0ZSB0aGF0IGhhcyBiaW5kaW5ncyBpbiB0aGUgcm9vdFxuICAgICAgICAgICAgLy8gd2UgZG9uJ3QgaGF2ZSBhIHBhcmVudCBhbmQgdGh1cyBuZWVkIHRvIGFkZCB0aGUgY2xhc3MgZHVyaW5nIGxpbmtpbmcgZm4uXG4gICAgICAgICAgICBpZiAoaGFzQ29tcGlsZVBhcmVudCkgY29tcGlsZS4kJGFkZEJpbmRpbmdDbGFzcyh0ZW1wbGF0ZU5vZGVQYXJlbnQpO1xuXG4gICAgICAgICAgICByZXR1cm4gZnVuY3Rpb24gdGV4dEludGVycG9sYXRlTGlua0ZuKHNjb3BlLCBub2RlKSB7XG4gICAgICAgICAgICAgIHZhciBwYXJlbnQgPSBub2RlLnBhcmVudCgpO1xuICAgICAgICAgICAgICBpZiAoIWhhc0NvbXBpbGVQYXJlbnQpIGNvbXBpbGUuJCRhZGRCaW5kaW5nQ2xhc3MocGFyZW50KTtcbiAgICAgICAgICAgICAgY29tcGlsZS4kJGFkZEJpbmRpbmdJbmZvKHBhcmVudCwgaW50ZXJwb2xhdGVGbi5leHByZXNzaW9ucyk7XG4gICAgICAgICAgICAgIHNjb3BlLiR3YXRjaChpbnRlcnBvbGF0ZUZuLCBmdW5jdGlvbiBpbnRlcnBvbGF0ZUZuV2F0Y2hBY3Rpb24odmFsdWUpIHtcbiAgICAgICAgICAgICAgICBub2RlWzBdLm5vZGVWYWx1ZSA9IHZhbHVlO1xuICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9XG5cblxuICAgIGZ1bmN0aW9uIHdyYXBUZW1wbGF0ZSh0eXBlLCB0ZW1wbGF0ZSkge1xuICAgICAgdHlwZSA9IGxvd2VyY2FzZSh0eXBlIHx8ICdodG1sJyk7XG4gICAgICBzd2l0Y2ggKHR5cGUpIHtcbiAgICAgIGNhc2UgJ3N2Zyc6XG4gICAgICBjYXNlICdtYXRoJzpcbiAgICAgICAgdmFyIHdyYXBwZXIgPSB3aW5kb3cuZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgICAgIHdyYXBwZXIuaW5uZXJIVE1MID0gJzwnICsgdHlwZSArICc+JyArIHRlbXBsYXRlICsgJzwvJyArIHR5cGUgKyAnPic7XG4gICAgICAgIHJldHVybiB3cmFwcGVyLmNoaWxkTm9kZXNbMF0uY2hpbGROb2RlcztcbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIHJldHVybiB0ZW1wbGF0ZTtcbiAgICAgIH1cbiAgICB9XG5cblxuICAgIGZ1bmN0aW9uIGdldFRydXN0ZWRDb250ZXh0KG5vZGUsIGF0dHJOb3JtYWxpemVkTmFtZSkge1xuICAgICAgaWYgKGF0dHJOb3JtYWxpemVkTmFtZSA9PT0gJ3NyY2RvYycpIHtcbiAgICAgICAgcmV0dXJuICRzY2UuSFRNTDtcbiAgICAgIH1cbiAgICAgIHZhciB0YWcgPSBub2RlTmFtZV8obm9kZSk7XG4gICAgICAvLyBBbGwgdGFncyB3aXRoIHNyYyBhdHRyaWJ1dGVzIHJlcXVpcmUgYSBSRVNPVVJDRV9VUkwgdmFsdWUsIGV4Y2VwdCBmb3JcbiAgICAgIC8vIGltZyBhbmQgdmFyaW91cyBodG1sNSBtZWRpYSB0YWdzLlxuICAgICAgaWYgKGF0dHJOb3JtYWxpemVkTmFtZSA9PT0gJ3NyYycgfHwgYXR0ck5vcm1hbGl6ZWROYW1lID09PSAnbmdTcmMnKSB7XG4gICAgICAgIGlmIChbJ2ltZycsICd2aWRlbycsICdhdWRpbycsICdzb3VyY2UnLCAndHJhY2snXS5pbmRleE9mKHRhZykgPT09IC0xKSB7XG4gICAgICAgICAgcmV0dXJuICRzY2UuUkVTT1VSQ0VfVVJMO1xuICAgICAgICB9XG4gICAgICAvLyBtYWN0aW9uW3hsaW5rOmhyZWZdIGNhbiBzb3VyY2UgU1ZHLiAgSXQncyBub3QgbGltaXRlZCB0byA8bWFjdGlvbj4uXG4gICAgICB9IGVsc2UgaWYgKGF0dHJOb3JtYWxpemVkTmFtZSA9PT0gJ3hsaW5rSHJlZicgfHxcbiAgICAgICAgICAodGFnID09PSAnZm9ybScgJiYgYXR0ck5vcm1hbGl6ZWROYW1lID09PSAnYWN0aW9uJykgfHxcbiAgICAgICAgICAvLyBsaW5rcyBjYW4gYmUgc3R5bGVzaGVldHMgb3IgaW1wb3J0cywgd2hpY2ggY2FuIHJ1biBzY3JpcHQgaW4gdGhlIGN1cnJlbnQgb3JpZ2luXG4gICAgICAgICAgKHRhZyA9PT0gJ2xpbmsnICYmIGF0dHJOb3JtYWxpemVkTmFtZSA9PT0gJ2hyZWYnKVxuICAgICAgKSB7XG4gICAgICAgIHJldHVybiAkc2NlLlJFU09VUkNFX1VSTDtcbiAgICAgIH1cbiAgICB9XG5cblxuICAgIGZ1bmN0aW9uIGFkZEF0dHJJbnRlcnBvbGF0ZURpcmVjdGl2ZShub2RlLCBkaXJlY3RpdmVzLCB2YWx1ZSwgbmFtZSwgaXNOZ0F0dHIpIHtcbiAgICAgIHZhciB0cnVzdGVkQ29udGV4dCA9IGdldFRydXN0ZWRDb250ZXh0KG5vZGUsIG5hbWUpO1xuICAgICAgdmFyIG11c3RIYXZlRXhwcmVzc2lvbiA9ICFpc05nQXR0cjtcbiAgICAgIHZhciBhbGxPck5vdGhpbmcgPSBBTExfT1JfTk9USElOR19BVFRSU1tuYW1lXSB8fCBpc05nQXR0cjtcblxuICAgICAgdmFyIGludGVycG9sYXRlRm4gPSAkaW50ZXJwb2xhdGUodmFsdWUsIG11c3RIYXZlRXhwcmVzc2lvbiwgdHJ1c3RlZENvbnRleHQsIGFsbE9yTm90aGluZyk7XG5cbiAgICAgIC8vIG5vIGludGVycG9sYXRpb24gZm91bmQgLT4gaWdub3JlXG4gICAgICBpZiAoIWludGVycG9sYXRlRm4pIHJldHVybjtcblxuICAgICAgaWYgKG5hbWUgPT09ICdtdWx0aXBsZScgJiYgbm9kZU5hbWVfKG5vZGUpID09PSAnc2VsZWN0Jykge1xuICAgICAgICB0aHJvdyAkY29tcGlsZU1pbkVycignc2VsbXVsdGknLFxuICAgICAgICAgICAgJ0JpbmRpbmcgdG8gdGhlIFxcJ211bHRpcGxlXFwnIGF0dHJpYnV0ZSBpcyBub3Qgc3VwcG9ydGVkLiBFbGVtZW50OiB7MH0nLFxuICAgICAgICAgICAgc3RhcnRpbmdUYWcobm9kZSkpO1xuICAgICAgfVxuXG4gICAgICBpZiAoRVZFTlRfSEFORExFUl9BVFRSX1JFR0VYUC50ZXN0KG5hbWUpKSB7XG4gICAgICAgIHRocm93ICRjb21waWxlTWluRXJyKCdub2RvbWV2ZW50cycsXG4gICAgICAgICAgICAnSW50ZXJwb2xhdGlvbnMgZm9yIEhUTUwgRE9NIGV2ZW50IGF0dHJpYnV0ZXMgYXJlIGRpc2FsbG93ZWQuICBQbGVhc2UgdXNlIHRoZSAnICtcbiAgICAgICAgICAgICAgICAnbmctIHZlcnNpb25zIChzdWNoIGFzIG5nLWNsaWNrIGluc3RlYWQgb2Ygb25jbGljaykgaW5zdGVhZC4nKTtcbiAgICAgIH1cblxuICAgICAgZGlyZWN0aXZlcy5wdXNoKHtcbiAgICAgICAgcHJpb3JpdHk6IDEwMCxcbiAgICAgICAgY29tcGlsZTogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICBwcmU6IGZ1bmN0aW9uIGF0dHJJbnRlcnBvbGF0ZVByZUxpbmtGbihzY29wZSwgZWxlbWVudCwgYXR0cikge1xuICAgICAgICAgICAgICAgIHZhciAkJG9ic2VydmVycyA9IChhdHRyLiQkb2JzZXJ2ZXJzIHx8IChhdHRyLiQkb2JzZXJ2ZXJzID0gY3JlYXRlTWFwKCkpKTtcblxuICAgICAgICAgICAgICAgIC8vIElmIHRoZSBhdHRyaWJ1dGUgaGFzIGNoYW5nZWQgc2luY2UgbGFzdCAkaW50ZXJwb2xhdGUoKWVkXG4gICAgICAgICAgICAgICAgdmFyIG5ld1ZhbHVlID0gYXR0cltuYW1lXTtcbiAgICAgICAgICAgICAgICBpZiAobmV3VmFsdWUgIT09IHZhbHVlKSB7XG4gICAgICAgICAgICAgICAgICAvLyB3ZSBuZWVkIHRvIGludGVycG9sYXRlIGFnYWluIHNpbmNlIHRoZSBhdHRyaWJ1dGUgdmFsdWUgaGFzIGJlZW4gdXBkYXRlZFxuICAgICAgICAgICAgICAgICAgLy8gKGUuZy4gYnkgYW5vdGhlciBkaXJlY3RpdmUncyBjb21waWxlIGZ1bmN0aW9uKVxuICAgICAgICAgICAgICAgICAgLy8gZW5zdXJlIHVuc2V0L2VtcHR5IHZhbHVlcyBtYWtlIGludGVycG9sYXRlRm4gZmFsc3lcbiAgICAgICAgICAgICAgICAgIGludGVycG9sYXRlRm4gPSBuZXdWYWx1ZSAmJiAkaW50ZXJwb2xhdGUobmV3VmFsdWUsIHRydWUsIHRydXN0ZWRDb250ZXh0LCBhbGxPck5vdGhpbmcpO1xuICAgICAgICAgICAgICAgICAgdmFsdWUgPSBuZXdWYWx1ZTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAvLyBpZiBhdHRyaWJ1dGUgd2FzIHVwZGF0ZWQgc28gdGhhdCB0aGVyZSBpcyBubyBpbnRlcnBvbGF0aW9uIGdvaW5nIG9uIHdlIGRvbid0IHdhbnQgdG9cbiAgICAgICAgICAgICAgICAvLyByZWdpc3RlciBhbnkgb2JzZXJ2ZXJzXG4gICAgICAgICAgICAgICAgaWYgKCFpbnRlcnBvbGF0ZUZuKSByZXR1cm47XG5cbiAgICAgICAgICAgICAgICAvLyBpbml0aWFsaXplIGF0dHIgb2JqZWN0IHNvIHRoYXQgaXQncyByZWFkeSBpbiBjYXNlIHdlIG5lZWQgdGhlIHZhbHVlIGZvciBpc29sYXRlXG4gICAgICAgICAgICAgICAgLy8gc2NvcGUgaW5pdGlhbGl6YXRpb24sIG90aGVyd2lzZSB0aGUgdmFsdWUgd291bGQgbm90IGJlIGF2YWlsYWJsZSBmcm9tIGlzb2xhdGVcbiAgICAgICAgICAgICAgICAvLyBkaXJlY3RpdmUncyBsaW5raW5nIGZuIGR1cmluZyBsaW5raW5nIHBoYXNlXG4gICAgICAgICAgICAgICAgYXR0cltuYW1lXSA9IGludGVycG9sYXRlRm4oc2NvcGUpO1xuXG4gICAgICAgICAgICAgICAgKCQkb2JzZXJ2ZXJzW25hbWVdIHx8ICgkJG9ic2VydmVyc1tuYW1lXSA9IFtdKSkuJCRpbnRlciA9IHRydWU7XG4gICAgICAgICAgICAgICAgKGF0dHIuJCRvYnNlcnZlcnMgJiYgYXR0ci4kJG9ic2VydmVyc1tuYW1lXS4kJHNjb3BlIHx8IHNjb3BlKS5cbiAgICAgICAgICAgICAgICAgICR3YXRjaChpbnRlcnBvbGF0ZUZuLCBmdW5jdGlvbiBpbnRlcnBvbGF0ZUZuV2F0Y2hBY3Rpb24obmV3VmFsdWUsIG9sZFZhbHVlKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vc3BlY2lhbCBjYXNlIGZvciBjbGFzcyBhdHRyaWJ1dGUgYWRkaXRpb24gKyByZW1vdmFsXG4gICAgICAgICAgICAgICAgICAgIC8vc28gdGhhdCBjbGFzcyBjaGFuZ2VzIGNhbiB0YXAgaW50byB0aGUgYW5pbWF0aW9uXG4gICAgICAgICAgICAgICAgICAgIC8vaG9va3MgcHJvdmlkZWQgYnkgdGhlICRhbmltYXRlIHNlcnZpY2UuIEJlIHN1cmUgdG9cbiAgICAgICAgICAgICAgICAgICAgLy9za2lwIGFuaW1hdGlvbnMgd2hlbiB0aGUgZmlyc3QgZGlnZXN0IG9jY3VycyAod2hlblxuICAgICAgICAgICAgICAgICAgICAvL2JvdGggdGhlIG5ldyBhbmQgdGhlIG9sZCB2YWx1ZXMgYXJlIHRoZSBzYW1lKSBzaW5jZVxuICAgICAgICAgICAgICAgICAgICAvL3RoZSBDU1MgY2xhc3NlcyBhcmUgdGhlIG5vbi1pbnRlcnBvbGF0ZWQgdmFsdWVzXG4gICAgICAgICAgICAgICAgICAgIGlmIChuYW1lID09PSAnY2xhc3MnICYmIG5ld1ZhbHVlICE9PSBvbGRWYWx1ZSkge1xuICAgICAgICAgICAgICAgICAgICAgIGF0dHIuJHVwZGF0ZUNsYXNzKG5ld1ZhbHVlLCBvbGRWYWx1ZSk7XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgYXR0ci4kc2V0KG5hbWUsIG5ld1ZhbHVlKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH07XG4gICAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfVxuXG5cbiAgICAvKipcbiAgICAgKiBUaGlzIGlzIGEgc3BlY2lhbCBqcUxpdGUucmVwbGFjZVdpdGgsIHdoaWNoIGNhbiByZXBsYWNlIGl0ZW1zIHdoaWNoXG4gICAgICogaGF2ZSBubyBwYXJlbnRzLCBwcm92aWRlZCB0aGF0IHRoZSBjb250YWluaW5nIGpxTGl0ZSBjb2xsZWN0aW9uIGlzIHByb3ZpZGVkLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtKcUxpdGU9fSAkcm9vdEVsZW1lbnQgVGhlIHJvb3Qgb2YgdGhlIGNvbXBpbGUgdHJlZS4gVXNlZCBzbyB0aGF0IHdlIGNhbiByZXBsYWNlIG5vZGVzXG4gICAgICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaW4gdGhlIHJvb3Qgb2YgdGhlIHRyZWUuXG4gICAgICogQHBhcmFtIHtKcUxpdGV9IGVsZW1lbnRzVG9SZW1vdmUgVGhlIGpxTGl0ZSBlbGVtZW50IHdoaWNoIHdlIGFyZSBnb2luZyB0byByZXBsYWNlLiBXZSBrZWVwXG4gICAgICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhlIHNoZWxsLCBidXQgcmVwbGFjZSBpdHMgRE9NIG5vZGUgcmVmZXJlbmNlLlxuICAgICAqIEBwYXJhbSB7Tm9kZX0gbmV3Tm9kZSBUaGUgbmV3IERPTSBub2RlLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHJlcGxhY2VXaXRoKCRyb290RWxlbWVudCwgZWxlbWVudHNUb1JlbW92ZSwgbmV3Tm9kZSkge1xuICAgICAgdmFyIGZpcnN0RWxlbWVudFRvUmVtb3ZlID0gZWxlbWVudHNUb1JlbW92ZVswXSxcbiAgICAgICAgICByZW1vdmVDb3VudCA9IGVsZW1lbnRzVG9SZW1vdmUubGVuZ3RoLFxuICAgICAgICAgIHBhcmVudCA9IGZpcnN0RWxlbWVudFRvUmVtb3ZlLnBhcmVudE5vZGUsXG4gICAgICAgICAgaSwgaWk7XG5cbiAgICAgIGlmICgkcm9vdEVsZW1lbnQpIHtcbiAgICAgICAgZm9yIChpID0gMCwgaWkgPSAkcm9vdEVsZW1lbnQubGVuZ3RoOyBpIDwgaWk7IGkrKykge1xuICAgICAgICAgIGlmICgkcm9vdEVsZW1lbnRbaV0gPT09IGZpcnN0RWxlbWVudFRvUmVtb3ZlKSB7XG4gICAgICAgICAgICAkcm9vdEVsZW1lbnRbaSsrXSA9IG5ld05vZGU7XG4gICAgICAgICAgICBmb3IgKHZhciBqID0gaSwgajIgPSBqICsgcmVtb3ZlQ291bnQgLSAxLFxuICAgICAgICAgICAgICAgICAgICAgamogPSAkcm9vdEVsZW1lbnQubGVuZ3RoO1xuICAgICAgICAgICAgICAgICBqIDwgamo7IGorKywgajIrKykge1xuICAgICAgICAgICAgICBpZiAoajIgPCBqaikge1xuICAgICAgICAgICAgICAgICRyb290RWxlbWVudFtqXSA9ICRyb290RWxlbWVudFtqMl07XG4gICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgZGVsZXRlICRyb290RWxlbWVudFtqXTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgJHJvb3RFbGVtZW50Lmxlbmd0aCAtPSByZW1vdmVDb3VudCAtIDE7XG5cbiAgICAgICAgICAgIC8vIElmIHRoZSByZXBsYWNlZCBlbGVtZW50IGlzIGFsc28gdGhlIGpRdWVyeSAuY29udGV4dCB0aGVuIHJlcGxhY2UgaXRcbiAgICAgICAgICAgIC8vIC5jb250ZXh0IGlzIGEgZGVwcmVjYXRlZCBqUXVlcnkgYXBpLCBzbyB3ZSBzaG91bGQgc2V0IGl0IG9ubHkgd2hlbiBqUXVlcnkgc2V0IGl0XG4gICAgICAgICAgICAvLyBodHRwOi8vYXBpLmpxdWVyeS5jb20vY29udGV4dC9cbiAgICAgICAgICAgIGlmICgkcm9vdEVsZW1lbnQuY29udGV4dCA9PT0gZmlyc3RFbGVtZW50VG9SZW1vdmUpIHtcbiAgICAgICAgICAgICAgJHJvb3RFbGVtZW50LmNvbnRleHQgPSBuZXdOb2RlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIGlmIChwYXJlbnQpIHtcbiAgICAgICAgcGFyZW50LnJlcGxhY2VDaGlsZChuZXdOb2RlLCBmaXJzdEVsZW1lbnRUb1JlbW92ZSk7XG4gICAgICB9XG5cbiAgICAgIC8vIEFwcGVuZCBhbGwgdGhlIGBlbGVtZW50c1RvUmVtb3ZlYCB0byBhIGZyYWdtZW50LiBUaGlzIHdpbGwuLi5cbiAgICAgIC8vIC0gcmVtb3ZlIHRoZW0gZnJvbSB0aGUgRE9NXG4gICAgICAvLyAtIGFsbG93IHRoZW0gdG8gc3RpbGwgYmUgdHJhdmVyc2VkIHdpdGggLm5leHRTaWJsaW5nXG4gICAgICAvLyAtIGFsbG93IGEgc2luZ2xlIGZyYWdtZW50LnFTQSB0byBmZXRjaCBhbGwgZWxlbWVudHMgYmVpbmcgcmVtb3ZlZFxuICAgICAgdmFyIGZyYWdtZW50ID0gd2luZG93LmRvY3VtZW50LmNyZWF0ZURvY3VtZW50RnJhZ21lbnQoKTtcbiAgICAgIGZvciAoaSA9IDA7IGkgPCByZW1vdmVDb3VudDsgaSsrKSB7XG4gICAgICAgIGZyYWdtZW50LmFwcGVuZENoaWxkKGVsZW1lbnRzVG9SZW1vdmVbaV0pO1xuICAgICAgfVxuXG4gICAgICBpZiAoanFMaXRlLmhhc0RhdGEoZmlyc3RFbGVtZW50VG9SZW1vdmUpKSB7XG4gICAgICAgIC8vIENvcHkgb3ZlciB1c2VyIGRhdGEgKHRoYXQgaW5jbHVkZXMgQW5ndWxhcidzICRzY29wZSBldGMuKS4gRG9uJ3QgY29weSBwcml2YXRlXG4gICAgICAgIC8vIGRhdGEgaGVyZSBiZWNhdXNlIHRoZXJlJ3Mgbm8gcHVibGljIGludGVyZmFjZSBpbiBqUXVlcnkgdG8gZG8gdGhhdCBhbmQgY29weWluZyBvdmVyXG4gICAgICAgIC8vIGV2ZW50IGxpc3RlbmVycyAod2hpY2ggaXMgdGhlIG1haW4gdXNlIG9mIHByaXZhdGUgZGF0YSkgd291bGRuJ3Qgd29yayBhbnl3YXkuXG4gICAgICAgIGpxTGl0ZS5kYXRhKG5ld05vZGUsIGpxTGl0ZS5kYXRhKGZpcnN0RWxlbWVudFRvUmVtb3ZlKSk7XG5cbiAgICAgICAgLy8gUmVtb3ZlICRkZXN0cm95IGV2ZW50IGxpc3RlbmVycyBmcm9tIGBmaXJzdEVsZW1lbnRUb1JlbW92ZWBcbiAgICAgICAganFMaXRlKGZpcnN0RWxlbWVudFRvUmVtb3ZlKS5vZmYoJyRkZXN0cm95Jyk7XG4gICAgICB9XG5cbiAgICAgIC8vIENsZWFudXAgYW55IGRhdGEvbGlzdGVuZXJzIG9uIHRoZSBlbGVtZW50cyBhbmQgY2hpbGRyZW4uXG4gICAgICAvLyBUaGlzIGluY2x1ZGVzIGludm9raW5nIHRoZSAkZGVzdHJveSBldmVudCBvbiBhbnkgZWxlbWVudHMgd2l0aCBsaXN0ZW5lcnMuXG4gICAgICBqcUxpdGUuY2xlYW5EYXRhKGZyYWdtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJyonKSk7XG5cbiAgICAgIC8vIFVwZGF0ZSB0aGUganFMaXRlIGNvbGxlY3Rpb24gdG8gb25seSBjb250YWluIHRoZSBgbmV3Tm9kZWBcbiAgICAgIGZvciAoaSA9IDE7IGkgPCByZW1vdmVDb3VudDsgaSsrKSB7XG4gICAgICAgIGRlbGV0ZSBlbGVtZW50c1RvUmVtb3ZlW2ldO1xuICAgICAgfVxuICAgICAgZWxlbWVudHNUb1JlbW92ZVswXSA9IG5ld05vZGU7XG4gICAgICBlbGVtZW50c1RvUmVtb3ZlLmxlbmd0aCA9IDE7XG4gICAgfVxuXG5cbiAgICBmdW5jdGlvbiBjbG9uZUFuZEFubm90YXRlRm4oZm4sIGFubm90YXRpb24pIHtcbiAgICAgIHJldHVybiBleHRlbmQoZnVuY3Rpb24oKSB7IHJldHVybiBmbi5hcHBseShudWxsLCBhcmd1bWVudHMpOyB9LCBmbiwgYW5ub3RhdGlvbik7XG4gICAgfVxuXG5cbiAgICBmdW5jdGlvbiBpbnZva2VMaW5rRm4obGlua0ZuLCBzY29wZSwgJGVsZW1lbnQsIGF0dHJzLCBjb250cm9sbGVycywgdHJhbnNjbHVkZUZuKSB7XG4gICAgICB0cnkge1xuICAgICAgICBsaW5rRm4oc2NvcGUsICRlbGVtZW50LCBhdHRycywgY29udHJvbGxlcnMsIHRyYW5zY2x1ZGVGbik7XG4gICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICRleGNlcHRpb25IYW5kbGVyKGUsIHN0YXJ0aW5nVGFnKCRlbGVtZW50KSk7XG4gICAgICB9XG4gICAgfVxuXG5cbiAgICAvLyBTZXQgdXAgJHdhdGNoZXMgZm9yIGlzb2xhdGUgc2NvcGUgYW5kIGNvbnRyb2xsZXIgYmluZGluZ3MuXG4gICAgZnVuY3Rpb24gaW5pdGlhbGl6ZURpcmVjdGl2ZUJpbmRpbmdzKHNjb3BlLCBhdHRycywgZGVzdGluYXRpb24sIGJpbmRpbmdzLCBkaXJlY3RpdmUpIHtcbiAgICAgIHZhciByZW1vdmVXYXRjaENvbGxlY3Rpb24gPSBbXTtcbiAgICAgIHZhciBpbml0aWFsQ2hhbmdlcyA9IHt9O1xuICAgICAgdmFyIGNoYW5nZXM7XG4gICAgICBmb3JFYWNoKGJpbmRpbmdzLCBmdW5jdGlvbiBpbml0aWFsaXplQmluZGluZyhkZWZpbml0aW9uLCBzY29wZU5hbWUpIHtcbiAgICAgICAgdmFyIGF0dHJOYW1lID0gZGVmaW5pdGlvbi5hdHRyTmFtZSxcbiAgICAgICAgb3B0aW9uYWwgPSBkZWZpbml0aW9uLm9wdGlvbmFsLFxuICAgICAgICBtb2RlID0gZGVmaW5pdGlvbi5tb2RlLCAvLyBALCA9LCA8LCBvciAmXG4gICAgICAgIGxhc3RWYWx1ZSxcbiAgICAgICAgcGFyZW50R2V0LCBwYXJlbnRTZXQsIGNvbXBhcmUsIHJlbW92ZVdhdGNoO1xuXG4gICAgICAgIHN3aXRjaCAobW9kZSkge1xuXG4gICAgICAgICAgY2FzZSAnQCc6XG4gICAgICAgICAgICBpZiAoIW9wdGlvbmFsICYmICFoYXNPd25Qcm9wZXJ0eS5jYWxsKGF0dHJzLCBhdHRyTmFtZSkpIHtcbiAgICAgICAgICAgICAgZGVzdGluYXRpb25bc2NvcGVOYW1lXSA9IGF0dHJzW2F0dHJOYW1lXSA9IHVuZGVmaW5lZDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJlbW92ZVdhdGNoID0gYXR0cnMuJG9ic2VydmUoYXR0ck5hbWUsIGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgICAgICAgICAgIGlmIChpc1N0cmluZyh2YWx1ZSkgfHwgaXNCb29sZWFuKHZhbHVlKSkge1xuICAgICAgICAgICAgICAgIHZhciBvbGRWYWx1ZSA9IGRlc3RpbmF0aW9uW3Njb3BlTmFtZV07XG4gICAgICAgICAgICAgICAgcmVjb3JkQ2hhbmdlcyhzY29wZU5hbWUsIHZhbHVlLCBvbGRWYWx1ZSk7XG4gICAgICAgICAgICAgICAgZGVzdGluYXRpb25bc2NvcGVOYW1lXSA9IHZhbHVlO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGF0dHJzLiQkb2JzZXJ2ZXJzW2F0dHJOYW1lXS4kJHNjb3BlID0gc2NvcGU7XG4gICAgICAgICAgICBsYXN0VmFsdWUgPSBhdHRyc1thdHRyTmFtZV07XG4gICAgICAgICAgICBpZiAoaXNTdHJpbmcobGFzdFZhbHVlKSkge1xuICAgICAgICAgICAgICAvLyBJZiB0aGUgYXR0cmlidXRlIGhhcyBiZWVuIHByb3ZpZGVkIHRoZW4gd2UgdHJpZ2dlciBhbiBpbnRlcnBvbGF0aW9uIHRvIGVuc3VyZVxuICAgICAgICAgICAgICAvLyB0aGUgdmFsdWUgaXMgdGhlcmUgZm9yIHVzZSBpbiB0aGUgbGluayBmblxuICAgICAgICAgICAgICBkZXN0aW5hdGlvbltzY29wZU5hbWVdID0gJGludGVycG9sYXRlKGxhc3RWYWx1ZSkoc2NvcGUpO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChpc0Jvb2xlYW4obGFzdFZhbHVlKSkge1xuICAgICAgICAgICAgICAvLyBJZiB0aGUgYXR0cmlidXRlcyBpcyBvbmUgb2YgdGhlIEJPT0xFQU5fQVRUUiB0aGVuIEFuZ3VsYXIgd2lsbCBoYXZlIGNvbnZlcnRlZFxuICAgICAgICAgICAgICAvLyB0aGUgdmFsdWUgdG8gYm9vbGVhbiByYXRoZXIgdGhhbiBhIHN0cmluZywgc28gd2Ugc3BlY2lhbCBjYXNlIHRoaXMgc2l0dWF0aW9uXG4gICAgICAgICAgICAgIGRlc3RpbmF0aW9uW3Njb3BlTmFtZV0gPSBsYXN0VmFsdWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpbml0aWFsQ2hhbmdlc1tzY29wZU5hbWVdID0gbmV3IFNpbXBsZUNoYW5nZShfVU5JTklUSUFMSVpFRF9WQUxVRSwgZGVzdGluYXRpb25bc2NvcGVOYW1lXSk7XG4gICAgICAgICAgICByZW1vdmVXYXRjaENvbGxlY3Rpb24ucHVzaChyZW1vdmVXYXRjaCk7XG4gICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgIGNhc2UgJz0nOlxuICAgICAgICAgICAgaWYgKCFoYXNPd25Qcm9wZXJ0eS5jYWxsKGF0dHJzLCBhdHRyTmFtZSkpIHtcbiAgICAgICAgICAgICAgaWYgKG9wdGlvbmFsKSBicmVhaztcbiAgICAgICAgICAgICAgYXR0cnNbYXR0ck5hbWVdID0gdW5kZWZpbmVkO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKG9wdGlvbmFsICYmICFhdHRyc1thdHRyTmFtZV0pIGJyZWFrO1xuXG4gICAgICAgICAgICBwYXJlbnRHZXQgPSAkcGFyc2UoYXR0cnNbYXR0ck5hbWVdKTtcbiAgICAgICAgICAgIGlmIChwYXJlbnRHZXQubGl0ZXJhbCkge1xuICAgICAgICAgICAgICBjb21wYXJlID0gZXF1YWxzO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgY29tcGFyZSA9IHNpbXBsZUNvbXBhcmU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBwYXJlbnRTZXQgPSBwYXJlbnRHZXQuYXNzaWduIHx8IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAvLyByZXNldCB0aGUgY2hhbmdlLCBvciB3ZSB3aWxsIHRocm93IHRoaXMgZXhjZXB0aW9uIG9uIGV2ZXJ5ICRkaWdlc3RcbiAgICAgICAgICAgICAgbGFzdFZhbHVlID0gZGVzdGluYXRpb25bc2NvcGVOYW1lXSA9IHBhcmVudEdldChzY29wZSk7XG4gICAgICAgICAgICAgIHRocm93ICRjb21waWxlTWluRXJyKCdub25hc3NpZ24nLFxuICAgICAgICAgICAgICAgICAgJ0V4cHJlc3Npb24gXFwnezB9XFwnIGluIGF0dHJpYnV0ZSBcXCd7MX1cXCcgdXNlZCB3aXRoIGRpcmVjdGl2ZSBcXCd7Mn1cXCcgaXMgbm9uLWFzc2lnbmFibGUhJyxcbiAgICAgICAgICAgICAgICAgIGF0dHJzW2F0dHJOYW1lXSwgYXR0ck5hbWUsIGRpcmVjdGl2ZS5uYW1lKTtcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBsYXN0VmFsdWUgPSBkZXN0aW5hdGlvbltzY29wZU5hbWVdID0gcGFyZW50R2V0KHNjb3BlKTtcbiAgICAgICAgICAgIHZhciBwYXJlbnRWYWx1ZVdhdGNoID0gZnVuY3Rpb24gcGFyZW50VmFsdWVXYXRjaChwYXJlbnRWYWx1ZSkge1xuICAgICAgICAgICAgICBpZiAoIWNvbXBhcmUocGFyZW50VmFsdWUsIGRlc3RpbmF0aW9uW3Njb3BlTmFtZV0pKSB7XG4gICAgICAgICAgICAgICAgLy8gd2UgYXJlIG91dCBvZiBzeW5jIGFuZCBuZWVkIHRvIGNvcHlcbiAgICAgICAgICAgICAgICBpZiAoIWNvbXBhcmUocGFyZW50VmFsdWUsIGxhc3RWYWx1ZSkpIHtcbiAgICAgICAgICAgICAgICAgIC8vIHBhcmVudCBjaGFuZ2VkIGFuZCBpdCBoYXMgcHJlY2VkZW5jZVxuICAgICAgICAgICAgICAgICAgZGVzdGluYXRpb25bc2NvcGVOYW1lXSA9IHBhcmVudFZhbHVlO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAvLyBpZiB0aGUgcGFyZW50IGNhbiBiZSBhc3NpZ25lZCB0aGVuIGRvIHNvXG4gICAgICAgICAgICAgICAgICBwYXJlbnRTZXQoc2NvcGUsIHBhcmVudFZhbHVlID0gZGVzdGluYXRpb25bc2NvcGVOYW1lXSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIGxhc3RWYWx1ZSA9IHBhcmVudFZhbHVlO1xuICAgICAgICAgICAgICByZXR1cm4gbGFzdFZhbHVlO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIHBhcmVudFZhbHVlV2F0Y2guJHN0YXRlZnVsID0gdHJ1ZTtcbiAgICAgICAgICAgIGlmIChkZWZpbml0aW9uLmNvbGxlY3Rpb24pIHtcbiAgICAgICAgICAgICAgcmVtb3ZlV2F0Y2ggPSBzY29wZS4kd2F0Y2hDb2xsZWN0aW9uKGF0dHJzW2F0dHJOYW1lXSwgcGFyZW50VmFsdWVXYXRjaCk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICByZW1vdmVXYXRjaCA9IHNjb3BlLiR3YXRjaCgkcGFyc2UoYXR0cnNbYXR0ck5hbWVdLCBwYXJlbnRWYWx1ZVdhdGNoKSwgbnVsbCwgcGFyZW50R2V0LmxpdGVyYWwpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmVtb3ZlV2F0Y2hDb2xsZWN0aW9uLnB1c2gocmVtb3ZlV2F0Y2gpO1xuICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICBjYXNlICc8JzpcbiAgICAgICAgICAgIGlmICghaGFzT3duUHJvcGVydHkuY2FsbChhdHRycywgYXR0ck5hbWUpKSB7XG4gICAgICAgICAgICAgIGlmIChvcHRpb25hbCkgYnJlYWs7XG4gICAgICAgICAgICAgIGF0dHJzW2F0dHJOYW1lXSA9IHVuZGVmaW5lZDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChvcHRpb25hbCAmJiAhYXR0cnNbYXR0ck5hbWVdKSBicmVhaztcblxuICAgICAgICAgICAgcGFyZW50R2V0ID0gJHBhcnNlKGF0dHJzW2F0dHJOYW1lXSk7XG4gICAgICAgICAgICB2YXIgZGVlcFdhdGNoID0gcGFyZW50R2V0LmxpdGVyYWw7XG5cbiAgICAgICAgICAgIHZhciBpbml0aWFsVmFsdWUgPSBkZXN0aW5hdGlvbltzY29wZU5hbWVdID0gcGFyZW50R2V0KHNjb3BlKTtcbiAgICAgICAgICAgIGluaXRpYWxDaGFuZ2VzW3Njb3BlTmFtZV0gPSBuZXcgU2ltcGxlQ2hhbmdlKF9VTklOSVRJQUxJWkVEX1ZBTFVFLCBkZXN0aW5hdGlvbltzY29wZU5hbWVdKTtcblxuICAgICAgICAgICAgcmVtb3ZlV2F0Y2ggPSBzY29wZS4kd2F0Y2gocGFyZW50R2V0LCBmdW5jdGlvbiBwYXJlbnRWYWx1ZVdhdGNoQWN0aW9uKG5ld1ZhbHVlLCBvbGRWYWx1ZSkge1xuICAgICAgICAgICAgICBpZiAob2xkVmFsdWUgPT09IG5ld1ZhbHVlKSB7XG4gICAgICAgICAgICAgICAgaWYgKG9sZFZhbHVlID09PSBpbml0aWFsVmFsdWUgfHwgKGRlZXBXYXRjaCAmJiBlcXVhbHMob2xkVmFsdWUsIGluaXRpYWxWYWx1ZSkpKSB7XG4gICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIG9sZFZhbHVlID0gaW5pdGlhbFZhbHVlO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIHJlY29yZENoYW5nZXMoc2NvcGVOYW1lLCBuZXdWYWx1ZSwgb2xkVmFsdWUpO1xuICAgICAgICAgICAgICBkZXN0aW5hdGlvbltzY29wZU5hbWVdID0gbmV3VmFsdWU7XG4gICAgICAgICAgICB9LCBkZWVwV2F0Y2gpO1xuXG4gICAgICAgICAgICByZW1vdmVXYXRjaENvbGxlY3Rpb24ucHVzaChyZW1vdmVXYXRjaCk7XG4gICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgIGNhc2UgJyYnOlxuICAgICAgICAgICAgLy8gRG9uJ3QgYXNzaWduIE9iamVjdC5wcm90b3R5cGUgbWV0aG9kIHRvIHNjb3BlXG4gICAgICAgICAgICBwYXJlbnRHZXQgPSBhdHRycy5oYXNPd25Qcm9wZXJ0eShhdHRyTmFtZSkgPyAkcGFyc2UoYXR0cnNbYXR0ck5hbWVdKSA6IG5vb3A7XG5cbiAgICAgICAgICAgIC8vIERvbid0IGFzc2lnbiBub29wIHRvIGRlc3RpbmF0aW9uIGlmIGV4cHJlc3Npb24gaXMgbm90IHZhbGlkXG4gICAgICAgICAgICBpZiAocGFyZW50R2V0ID09PSBub29wICYmIG9wdGlvbmFsKSBicmVhaztcblxuICAgICAgICAgICAgZGVzdGluYXRpb25bc2NvcGVOYW1lXSA9IGZ1bmN0aW9uKGxvY2Fscykge1xuICAgICAgICAgICAgICByZXR1cm4gcGFyZW50R2V0KHNjb3BlLCBsb2NhbHMpO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICB9KTtcblxuICAgICAgZnVuY3Rpb24gcmVjb3JkQ2hhbmdlcyhrZXksIGN1cnJlbnRWYWx1ZSwgcHJldmlvdXNWYWx1ZSkge1xuICAgICAgICBpZiAoaXNGdW5jdGlvbihkZXN0aW5hdGlvbi4kb25DaGFuZ2VzKSAmJiAhc2ltcGxlQ29tcGFyZShjdXJyZW50VmFsdWUsIHByZXZpb3VzVmFsdWUpKSB7XG4gICAgICAgICAgLy8gSWYgd2UgaGF2ZSBub3QgYWxyZWFkeSBzY2hlZHVsZWQgdGhlIHRvcCBsZXZlbCBvbkNoYW5nZXNRdWV1ZSBoYW5kbGVyIHRoZW4gZG8gc28gbm93XG4gICAgICAgICAgaWYgKCFvbkNoYW5nZXNRdWV1ZSkge1xuICAgICAgICAgICAgc2NvcGUuJCRwb3N0RGlnZXN0KGZsdXNoT25DaGFuZ2VzUXVldWUpO1xuICAgICAgICAgICAgb25DaGFuZ2VzUXVldWUgPSBbXTtcbiAgICAgICAgICB9XG4gICAgICAgICAgLy8gSWYgd2UgaGF2ZSBub3QgYWxyZWFkeSBxdWV1ZWQgYSB0cmlnZ2VyIG9mIG9uQ2hhbmdlcyBmb3IgdGhpcyBjb250cm9sbGVyIHRoZW4gZG8gc28gbm93XG4gICAgICAgICAgaWYgKCFjaGFuZ2VzKSB7XG4gICAgICAgICAgICBjaGFuZ2VzID0ge307XG4gICAgICAgICAgICBvbkNoYW5nZXNRdWV1ZS5wdXNoKHRyaWdnZXJPbkNoYW5nZXNIb29rKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgLy8gSWYgdGhlIGhhcyBiZWVuIGEgY2hhbmdlIG9uIHRoaXMgcHJvcGVydHkgYWxyZWFkeSB0aGVuIHdlIG5lZWQgdG8gcmV1c2UgdGhlIHByZXZpb3VzIHZhbHVlXG4gICAgICAgICAgaWYgKGNoYW5nZXNba2V5XSkge1xuICAgICAgICAgICAgcHJldmlvdXNWYWx1ZSA9IGNoYW5nZXNba2V5XS5wcmV2aW91c1ZhbHVlO1xuICAgICAgICAgIH1cbiAgICAgICAgICAvLyBTdG9yZSB0aGlzIGNoYW5nZVxuICAgICAgICAgIGNoYW5nZXNba2V5XSA9IG5ldyBTaW1wbGVDaGFuZ2UocHJldmlvdXNWYWx1ZSwgY3VycmVudFZhbHVlKTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBmdW5jdGlvbiB0cmlnZ2VyT25DaGFuZ2VzSG9vaygpIHtcbiAgICAgICAgZGVzdGluYXRpb24uJG9uQ2hhbmdlcyhjaGFuZ2VzKTtcbiAgICAgICAgLy8gTm93IGNsZWFyIHRoZSBjaGFuZ2VzIHNvIHRoYXQgd2Ugc2NoZWR1bGUgb25DaGFuZ2VzIHdoZW4gbW9yZSBjaGFuZ2VzIGFycml2ZVxuICAgICAgICBjaGFuZ2VzID0gdW5kZWZpbmVkO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4ge1xuICAgICAgICBpbml0aWFsQ2hhbmdlczogaW5pdGlhbENoYW5nZXMsXG4gICAgICAgIHJlbW92ZVdhdGNoZXM6IHJlbW92ZVdhdGNoQ29sbGVjdGlvbi5sZW5ndGggJiYgZnVuY3Rpb24gcmVtb3ZlV2F0Y2hlcygpIHtcbiAgICAgICAgICBmb3IgKHZhciBpID0gMCwgaWkgPSByZW1vdmVXYXRjaENvbGxlY3Rpb24ubGVuZ3RoOyBpIDwgaWk7ICsraSkge1xuICAgICAgICAgICAgcmVtb3ZlV2F0Y2hDb2xsZWN0aW9uW2ldKCk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9O1xuICAgIH1cbiAgfV07XG59XG5cbmZ1bmN0aW9uIFNpbXBsZUNoYW5nZShwcmV2aW91cywgY3VycmVudCkge1xuICB0aGlzLnByZXZpb3VzVmFsdWUgPSBwcmV2aW91cztcbiAgdGhpcy5jdXJyZW50VmFsdWUgPSBjdXJyZW50O1xufVxuU2ltcGxlQ2hhbmdlLnByb3RvdHlwZS5pc0ZpcnN0Q2hhbmdlID0gZnVuY3Rpb24oKSB7IHJldHVybiB0aGlzLnByZXZpb3VzVmFsdWUgPT09IF9VTklOSVRJQUxJWkVEX1ZBTFVFOyB9O1xuXG5cbnZhciBQUkVGSVhfUkVHRVhQID0gL14oKD86eHxkYXRhKVs6XFwtX10pL2k7XG52YXIgU1BFQ0lBTF9DSEFSU19SRUdFWFAgPSAvWzpcXC1fXSsoLikvZztcblxuLyoqXG4gKiBDb252ZXJ0cyBhbGwgYWNjZXB0ZWQgZGlyZWN0aXZlcyBmb3JtYXQgaW50byBwcm9wZXIgZGlyZWN0aXZlIG5hbWUuXG4gKiBAcGFyYW0gbmFtZSBOYW1lIHRvIG5vcm1hbGl6ZVxuICovXG5mdW5jdGlvbiBkaXJlY3RpdmVOb3JtYWxpemUobmFtZSkge1xuICByZXR1cm4gbmFtZVxuICAgIC5yZXBsYWNlKFBSRUZJWF9SRUdFWFAsICcnKVxuICAgIC5yZXBsYWNlKFNQRUNJQUxfQ0hBUlNfUkVHRVhQLCBmbkNhbWVsQ2FzZVJlcGxhY2UpO1xufVxuXG4vKipcbiAqIEBuZ2RvYyB0eXBlXG4gKiBAbmFtZSAkY29tcGlsZS5kaXJlY3RpdmUuQXR0cmlidXRlc1xuICpcbiAqIEBkZXNjcmlwdGlvblxuICogQSBzaGFyZWQgb2JqZWN0IGJldHdlZW4gZGlyZWN0aXZlIGNvbXBpbGUgLyBsaW5raW5nIGZ1bmN0aW9ucyB3aGljaCBjb250YWlucyBub3JtYWxpemVkIERPTVxuICogZWxlbWVudCBhdHRyaWJ1dGVzLiBUaGUgdmFsdWVzIHJlZmxlY3QgY3VycmVudCBiaW5kaW5nIHN0YXRlIGB7eyB9fWAuIFRoZSBub3JtYWxpemF0aW9uIGlzXG4gKiBuZWVkZWQgc2luY2UgYWxsIG9mIHRoZXNlIGFyZSB0cmVhdGVkIGFzIGVxdWl2YWxlbnQgaW4gQW5ndWxhcjpcbiAqXG4gKiBgYGBcbiAqICAgIDxzcGFuIG5nOmJpbmQ9XCJhXCIgbmctYmluZD1cImFcIiBkYXRhLW5nLWJpbmQ9XCJhXCIgeC1uZy1iaW5kPVwiYVwiPlxuICogYGBgXG4gKi9cblxuLyoqXG4gKiBAbmdkb2MgcHJvcGVydHlcbiAqIEBuYW1lICRjb21waWxlLmRpcmVjdGl2ZS5BdHRyaWJ1dGVzIyRhdHRyXG4gKlxuICogQGRlc2NyaXB0aW9uXG4gKiBBIG1hcCBvZiBET00gZWxlbWVudCBhdHRyaWJ1dGUgbmFtZXMgdG8gdGhlIG5vcm1hbGl6ZWQgbmFtZS4gVGhpcyBpc1xuICogbmVlZGVkIHRvIGRvIHJldmVyc2UgbG9va3VwIGZyb20gbm9ybWFsaXplZCBuYW1lIGJhY2sgdG8gYWN0dWFsIG5hbWUuXG4gKi9cblxuXG4vKipcbiAqIEBuZ2RvYyBtZXRob2RcbiAqIEBuYW1lICRjb21waWxlLmRpcmVjdGl2ZS5BdHRyaWJ1dGVzIyRzZXRcbiAqIEBraW5kIGZ1bmN0aW9uXG4gKlxuICogQGRlc2NyaXB0aW9uXG4gKiBTZXQgRE9NIGVsZW1lbnQgYXR0cmlidXRlIHZhbHVlLlxuICpcbiAqXG4gKiBAcGFyYW0ge3N0cmluZ30gbmFtZSBOb3JtYWxpemVkIGVsZW1lbnQgYXR0cmlidXRlIG5hbWUgb2YgdGhlIHByb3BlcnR5IHRvIG1vZGlmeS4gVGhlIG5hbWUgaXNcbiAqICAgICAgICAgIHJldmVyc2UtdHJhbnNsYXRlZCB1c2luZyB0aGUge0BsaW5rIG5nLiRjb21waWxlLmRpcmVjdGl2ZS5BdHRyaWJ1dGVzIyRhdHRyICRhdHRyfVxuICogICAgICAgICAgcHJvcGVydHkgdG8gdGhlIG9yaWdpbmFsIG5hbWUuXG4gKiBAcGFyYW0ge3N0cmluZ30gdmFsdWUgVmFsdWUgdG8gc2V0IHRoZSBhdHRyaWJ1dGUgdG8uIFRoZSB2YWx1ZSBjYW4gYmUgYW4gaW50ZXJwb2xhdGVkIHN0cmluZy5cbiAqL1xuXG5cblxuLyoqXG4gKiBDbG9zdXJlIGNvbXBpbGVyIHR5cGUgaW5mb3JtYXRpb25cbiAqL1xuXG5mdW5jdGlvbiBub2Rlc2V0TGlua2luZ0ZuKFxuICAvKiBhbmd1bGFyLlNjb3BlICovIHNjb3BlLFxuICAvKiBOb2RlTGlzdCAqLyBub2RlTGlzdCxcbiAgLyogRWxlbWVudCAqLyByb290RWxlbWVudCxcbiAgLyogZnVuY3Rpb24oRnVuY3Rpb24pICovIGJvdW5kVHJhbnNjbHVkZUZuXG4pIHt9XG5cbmZ1bmN0aW9uIGRpcmVjdGl2ZUxpbmtpbmdGbihcbiAgLyogbm9kZXNldExpbmtpbmdGbiAqLyBub2Rlc2V0TGlua2luZ0ZuLFxuICAvKiBhbmd1bGFyLlNjb3BlICovIHNjb3BlLFxuICAvKiBOb2RlICovIG5vZGUsXG4gIC8qIEVsZW1lbnQgKi8gcm9vdEVsZW1lbnQsXG4gIC8qIGZ1bmN0aW9uKEZ1bmN0aW9uKSAqLyBib3VuZFRyYW5zY2x1ZGVGblxuKSB7fVxuXG5mdW5jdGlvbiB0b2tlbkRpZmZlcmVuY2Uoc3RyMSwgc3RyMikge1xuICB2YXIgdmFsdWVzID0gJycsXG4gICAgICB0b2tlbnMxID0gc3RyMS5zcGxpdCgvXFxzKy8pLFxuICAgICAgdG9rZW5zMiA9IHN0cjIuc3BsaXQoL1xccysvKTtcblxuICBvdXRlcjpcbiAgZm9yICh2YXIgaSA9IDA7IGkgPCB0b2tlbnMxLmxlbmd0aDsgaSsrKSB7XG4gICAgdmFyIHRva2VuID0gdG9rZW5zMVtpXTtcbiAgICBmb3IgKHZhciBqID0gMDsgaiA8IHRva2VuczIubGVuZ3RoOyBqKyspIHtcbiAgICAgIGlmICh0b2tlbiA9PT0gdG9rZW5zMltqXSkgY29udGludWUgb3V0ZXI7XG4gICAgfVxuICAgIHZhbHVlcyArPSAodmFsdWVzLmxlbmd0aCA+IDAgPyAnICcgOiAnJykgKyB0b2tlbjtcbiAgfVxuICByZXR1cm4gdmFsdWVzO1xufVxuXG5mdW5jdGlvbiByZW1vdmVDb21tZW50cyhqcU5vZGVzKSB7XG4gIGpxTm9kZXMgPSBqcUxpdGUoanFOb2Rlcyk7XG4gIHZhciBpID0ganFOb2Rlcy5sZW5ndGg7XG5cbiAgaWYgKGkgPD0gMSkge1xuICAgIHJldHVybiBqcU5vZGVzO1xuICB9XG5cbiAgd2hpbGUgKGktLSkge1xuICAgIHZhciBub2RlID0ganFOb2Rlc1tpXTtcbiAgICBpZiAobm9kZS5ub2RlVHlwZSA9PT0gTk9ERV9UWVBFX0NPTU1FTlQgfHxcbiAgICAgICAobm9kZS5ub2RlVHlwZSA9PT0gTk9ERV9UWVBFX1RFWFQgJiYgbm9kZS5ub2RlVmFsdWUudHJpbSgpID09PSAnJykpIHtcbiAgICAgICAgIHNwbGljZS5jYWxsKGpxTm9kZXMsIGksIDEpO1xuICAgIH1cbiAgfVxuICByZXR1cm4ganFOb2Rlcztcbn1cblxudmFyICRjb250cm9sbGVyTWluRXJyID0gbWluRXJyKCckY29udHJvbGxlcicpO1xuXG5cbnZhciBDTlRSTF9SRUcgPSAvXihcXFMrKShcXHMrYXNcXHMrKFtcXHckXSspKT8kLztcbmZ1bmN0aW9uIGlkZW50aWZpZXJGb3JDb250cm9sbGVyKGNvbnRyb2xsZXIsIGlkZW50KSB7XG4gIGlmIChpZGVudCAmJiBpc1N0cmluZyhpZGVudCkpIHJldHVybiBpZGVudDtcbiAgaWYgKGlzU3RyaW5nKGNvbnRyb2xsZXIpKSB7XG4gICAgdmFyIG1hdGNoID0gQ05UUkxfUkVHLmV4ZWMoY29udHJvbGxlcik7XG4gICAgaWYgKG1hdGNoKSByZXR1cm4gbWF0Y2hbM107XG4gIH1cbn1cblxuXG4vKipcbiAqIEBuZ2RvYyBwcm92aWRlclxuICogQG5hbWUgJGNvbnRyb2xsZXJQcm92aWRlclxuICogQHRoaXNcbiAqXG4gKiBAZGVzY3JpcHRpb25cbiAqIFRoZSB7QGxpbmsgbmcuJGNvbnRyb2xsZXIgJGNvbnRyb2xsZXIgc2VydmljZX0gaXMgdXNlZCBieSBBbmd1bGFyIHRvIGNyZWF0ZSBuZXdcbiAqIGNvbnRyb2xsZXJzLlxuICpcbiAqIFRoaXMgcHJvdmlkZXIgYWxsb3dzIGNvbnRyb2xsZXIgcmVnaXN0cmF0aW9uIHZpYSB0aGVcbiAqIHtAbGluayBuZy4kY29udHJvbGxlclByb3ZpZGVyI3JlZ2lzdGVyIHJlZ2lzdGVyfSBtZXRob2QuXG4gKi9cbmZ1bmN0aW9uICRDb250cm9sbGVyUHJvdmlkZXIoKSB7XG4gIHZhciBjb250cm9sbGVycyA9IHt9LFxuICAgICAgZ2xvYmFscyA9IGZhbHNlO1xuXG4gIC8qKlxuICAgKiBAbmdkb2MgbWV0aG9kXG4gICAqIEBuYW1lICRjb250cm9sbGVyUHJvdmlkZXIjaGFzXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBuYW1lIENvbnRyb2xsZXIgbmFtZSB0byBjaGVjay5cbiAgICovXG4gIHRoaXMuaGFzID0gZnVuY3Rpb24obmFtZSkge1xuICAgIHJldHVybiBjb250cm9sbGVycy5oYXNPd25Qcm9wZXJ0eShuYW1lKTtcbiAgfTtcblxuICAvKipcbiAgICogQG5nZG9jIG1ldGhvZFxuICAgKiBAbmFtZSAkY29udHJvbGxlclByb3ZpZGVyI3JlZ2lzdGVyXG4gICAqIEBwYXJhbSB7c3RyaW5nfE9iamVjdH0gbmFtZSBDb250cm9sbGVyIG5hbWUsIG9yIGFuIG9iamVjdCBtYXAgb2YgY29udHJvbGxlcnMgd2hlcmUgdGhlIGtleXMgYXJlXG4gICAqICAgIHRoZSBuYW1lcyBhbmQgdGhlIHZhbHVlcyBhcmUgdGhlIGNvbnN0cnVjdG9ycy5cbiAgICogQHBhcmFtIHtGdW5jdGlvbnxBcnJheX0gY29uc3RydWN0b3IgQ29udHJvbGxlciBjb25zdHJ1Y3RvciBmbiAob3B0aW9uYWxseSBkZWNvcmF0ZWQgd2l0aCBESVxuICAgKiAgICBhbm5vdGF0aW9ucyBpbiB0aGUgYXJyYXkgbm90YXRpb24pLlxuICAgKi9cbiAgdGhpcy5yZWdpc3RlciA9IGZ1bmN0aW9uKG5hbWUsIGNvbnN0cnVjdG9yKSB7XG4gICAgYXNzZXJ0Tm90SGFzT3duUHJvcGVydHkobmFtZSwgJ2NvbnRyb2xsZXInKTtcbiAgICBpZiAoaXNPYmplY3QobmFtZSkpIHtcbiAgICAgIGV4dGVuZChjb250cm9sbGVycywgbmFtZSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGNvbnRyb2xsZXJzW25hbWVdID0gY29uc3RydWN0b3I7XG4gICAgfVxuICB9O1xuXG4gIC8qKlxuICAgKiBAbmdkb2MgbWV0aG9kXG4gICAqIEBuYW1lICRjb250cm9sbGVyUHJvdmlkZXIjYWxsb3dHbG9iYWxzXG4gICAqIEBkZXNjcmlwdGlvbiBJZiBjYWxsZWQsIGFsbG93cyBgJGNvbnRyb2xsZXJgIHRvIGZpbmQgY29udHJvbGxlciBjb25zdHJ1Y3RvcnMgb24gYHdpbmRvd2BcbiAgICpcbiAgICogQGRlcHJlY2F0ZWRcbiAgICogc2luY2VWZXJzaW9uPVwidjEuMy4wXCJcbiAgICogcmVtb3ZlVmVyc2lvbj1cInYxLjcuMFwiXG4gICAqIFRoaXMgbWV0aG9kIG9mIGZpbmRpbmcgY29udHJvbGxlcnMgaGFzIGJlZW4gZGVwcmVjYXRlZC5cbiAgICovXG4gIHRoaXMuYWxsb3dHbG9iYWxzID0gZnVuY3Rpb24oKSB7XG4gICAgZ2xvYmFscyA9IHRydWU7XG4gIH07XG5cblxuICB0aGlzLiRnZXQgPSBbJyRpbmplY3RvcicsICckd2luZG93JywgZnVuY3Rpb24oJGluamVjdG9yLCAkd2luZG93KSB7XG5cbiAgICAvKipcbiAgICAgKiBAbmdkb2Mgc2VydmljZVxuICAgICAqIEBuYW1lICRjb250cm9sbGVyXG4gICAgICogQHJlcXVpcmVzICRpbmplY3RvclxuICAgICAqXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbnxzdHJpbmd9IGNvbnN0cnVjdG9yIElmIGNhbGxlZCB3aXRoIGEgZnVuY3Rpb24gdGhlbiBpdCdzIGNvbnNpZGVyZWQgdG8gYmUgdGhlXG4gICAgICogICAgY29udHJvbGxlciBjb25zdHJ1Y3RvciBmdW5jdGlvbi4gT3RoZXJ3aXNlIGl0J3MgY29uc2lkZXJlZCB0byBiZSBhIHN0cmluZyB3aGljaCBpcyB1c2VkXG4gICAgICogICAgdG8gcmV0cmlldmUgdGhlIGNvbnRyb2xsZXIgY29uc3RydWN0b3IgdXNpbmcgdGhlIGZvbGxvd2luZyBzdGVwczpcbiAgICAgKlxuICAgICAqICAgICogY2hlY2sgaWYgYSBjb250cm9sbGVyIHdpdGggZ2l2ZW4gbmFtZSBpcyByZWdpc3RlcmVkIHZpYSBgJGNvbnRyb2xsZXJQcm92aWRlcmBcbiAgICAgKiAgICAqIGNoZWNrIGlmIGV2YWx1YXRpbmcgdGhlIHN0cmluZyBvbiB0aGUgY3VycmVudCBzY29wZSByZXR1cm5zIGEgY29uc3RydWN0b3JcbiAgICAgKiAgICAqIGlmICRjb250cm9sbGVyUHJvdmlkZXIjYWxsb3dHbG9iYWxzLCBjaGVjayBgd2luZG93W2NvbnN0cnVjdG9yXWAgb24gdGhlIGdsb2JhbFxuICAgICAqICAgICAgYHdpbmRvd2Agb2JqZWN0IChkZXByZWNhdGVkLCBub3QgcmVjb21tZW5kZWQpXG4gICAgICpcbiAgICAgKiAgICBUaGUgc3RyaW5nIGNhbiB1c2UgdGhlIGBjb250cm9sbGVyIGFzIHByb3BlcnR5YCBzeW50YXgsIHdoZXJlIHRoZSBjb250cm9sbGVyIGluc3RhbmNlIGlzIHB1Ymxpc2hlZFxuICAgICAqICAgIGFzIHRoZSBzcGVjaWZpZWQgcHJvcGVydHkgb24gdGhlIGBzY29wZWA7IHRoZSBgc2NvcGVgIG11c3QgYmUgaW5qZWN0ZWQgaW50byBgbG9jYWxzYCBwYXJhbSBmb3IgdGhpc1xuICAgICAqICAgIHRvIHdvcmsgY29ycmVjdGx5LlxuICAgICAqXG4gICAgICogQHBhcmFtIHtPYmplY3R9IGxvY2FscyBJbmplY3Rpb24gbG9jYWxzIGZvciBDb250cm9sbGVyLlxuICAgICAqIEByZXR1cm4ge09iamVjdH0gSW5zdGFuY2Ugb2YgZ2l2ZW4gY29udHJvbGxlci5cbiAgICAgKlxuICAgICAqIEBkZXNjcmlwdGlvblxuICAgICAqIGAkY29udHJvbGxlcmAgc2VydmljZSBpcyByZXNwb25zaWJsZSBmb3IgaW5zdGFudGlhdGluZyBjb250cm9sbGVycy5cbiAgICAgKlxuICAgICAqIEl0J3MganVzdCBhIHNpbXBsZSBjYWxsIHRvIHtAbGluayBhdXRvLiRpbmplY3RvciAkaW5qZWN0b3J9LCBidXQgZXh0cmFjdGVkIGludG9cbiAgICAgKiBhIHNlcnZpY2UsIHNvIHRoYXQgb25lIGNhbiBvdmVycmlkZSB0aGlzIHNlcnZpY2Ugd2l0aCBbQkMgdmVyc2lvbl0oaHR0cHM6Ly9naXN0LmdpdGh1Yi5jb20vMTY0OTc4OCkuXG4gICAgICovXG4gICAgcmV0dXJuIGZ1bmN0aW9uICRjb250cm9sbGVyKGV4cHJlc3Npb24sIGxvY2FscywgbGF0ZXIsIGlkZW50KSB7XG4gICAgICAvLyBQUklWQVRFIEFQSTpcbiAgICAgIC8vICAgcGFyYW0gYGxhdGVyYCAtLS0gaW5kaWNhdGVzIHRoYXQgdGhlIGNvbnRyb2xsZXIncyBjb25zdHJ1Y3RvciBpcyBpbnZva2VkIGF0IGEgbGF0ZXIgdGltZS5cbiAgICAgIC8vICAgICAgICAgICAgICAgICAgICAgSWYgdHJ1ZSwgJGNvbnRyb2xsZXIgd2lsbCBhbGxvY2F0ZSB0aGUgb2JqZWN0IHdpdGggdGhlIGNvcnJlY3RcbiAgICAgIC8vICAgICAgICAgICAgICAgICAgICAgcHJvdG90eXBlIGNoYWluLCBidXQgd2lsbCBub3QgaW52b2tlIHRoZSBjb250cm9sbGVyIHVudGlsIGEgcmV0dXJuZWRcbiAgICAgIC8vICAgICAgICAgICAgICAgICAgICAgY2FsbGJhY2sgaXMgaW52b2tlZC5cbiAgICAgIC8vICAgcGFyYW0gYGlkZW50YCAtLS0gQW4gb3B0aW9uYWwgbGFiZWwgd2hpY2ggb3ZlcnJpZGVzIHRoZSBsYWJlbCBwYXJzZWQgZnJvbSB0aGUgY29udHJvbGxlclxuICAgICAgLy8gICAgICAgICAgICAgICAgICAgICBleHByZXNzaW9uLCBpZiBhbnkuXG4gICAgICB2YXIgaW5zdGFuY2UsIG1hdGNoLCBjb25zdHJ1Y3RvciwgaWRlbnRpZmllcjtcbiAgICAgIGxhdGVyID0gbGF0ZXIgPT09IHRydWU7XG4gICAgICBpZiAoaWRlbnQgJiYgaXNTdHJpbmcoaWRlbnQpKSB7XG4gICAgICAgIGlkZW50aWZpZXIgPSBpZGVudDtcbiAgICAgIH1cblxuICAgICAgaWYgKGlzU3RyaW5nKGV4cHJlc3Npb24pKSB7XG4gICAgICAgIG1hdGNoID0gZXhwcmVzc2lvbi5tYXRjaChDTlRSTF9SRUcpO1xuICAgICAgICBpZiAoIW1hdGNoKSB7XG4gICAgICAgICAgdGhyb3cgJGNvbnRyb2xsZXJNaW5FcnIoJ2N0cmxmbXQnLFxuICAgICAgICAgICAgJ0JhZGx5IGZvcm1lZCBjb250cm9sbGVyIHN0cmluZyBcXCd7MH1cXCcuICcgK1xuICAgICAgICAgICAgJ011c3QgbWF0Y2ggYF9fbmFtZV9fIGFzIF9faWRfX2Agb3IgYF9fbmFtZV9fYC4nLCBleHByZXNzaW9uKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdHJ1Y3RvciA9IG1hdGNoWzFdO1xuICAgICAgICBpZGVudGlmaWVyID0gaWRlbnRpZmllciB8fCBtYXRjaFszXTtcbiAgICAgICAgZXhwcmVzc2lvbiA9IGNvbnRyb2xsZXJzLmhhc093blByb3BlcnR5KGNvbnN0cnVjdG9yKVxuICAgICAgICAgICAgPyBjb250cm9sbGVyc1tjb25zdHJ1Y3Rvcl1cbiAgICAgICAgICAgIDogZ2V0dGVyKGxvY2Fscy4kc2NvcGUsIGNvbnN0cnVjdG9yLCB0cnVlKSB8fFxuICAgICAgICAgICAgICAgIChnbG9iYWxzID8gZ2V0dGVyKCR3aW5kb3csIGNvbnN0cnVjdG9yLCB0cnVlKSA6IHVuZGVmaW5lZCk7XG5cbiAgICAgICAgaWYgKCFleHByZXNzaW9uKSB7XG4gICAgICAgICAgdGhyb3cgJGNvbnRyb2xsZXJNaW5FcnIoJ2N0cmxyZWcnLFxuICAgICAgICAgICAgJ1RoZSBjb250cm9sbGVyIHdpdGggdGhlIG5hbWUgXFwnezB9XFwnIGlzIG5vdCByZWdpc3RlcmVkLicsIGNvbnN0cnVjdG9yKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGFzc2VydEFyZ0ZuKGV4cHJlc3Npb24sIGNvbnN0cnVjdG9yLCB0cnVlKTtcbiAgICAgIH1cblxuICAgICAgaWYgKGxhdGVyKSB7XG4gICAgICAgIC8vIEluc3RhbnRpYXRlIGNvbnRyb2xsZXIgbGF0ZXI6XG4gICAgICAgIC8vIFRoaXMgbWFjaGluZXJ5IGlzIHVzZWQgdG8gY3JlYXRlIGFuIGluc3RhbmNlIG9mIHRoZSBvYmplY3QgYmVmb3JlIGNhbGxpbmcgdGhlXG4gICAgICAgIC8vIGNvbnRyb2xsZXIncyBjb25zdHJ1Y3RvciBpdHNlbGYuXG4gICAgICAgIC8vXG4gICAgICAgIC8vIFRoaXMgYWxsb3dzIHByb3BlcnRpZXMgdG8gYmUgYWRkZWQgdG8gdGhlIGNvbnRyb2xsZXIgYmVmb3JlIHRoZSBjb25zdHJ1Y3RvciBpc1xuICAgICAgICAvLyBpbnZva2VkLiBQcmltYXJpbHksIHRoaXMgaXMgdXNlZCBmb3IgaXNvbGF0ZSBzY29wZSBiaW5kaW5ncyBpbiAkY29tcGlsZS5cbiAgICAgICAgLy9cbiAgICAgICAgLy8gVGhpcyBmZWF0dXJlIGlzIG5vdCBpbnRlbmRlZCBmb3IgdXNlIGJ5IGFwcGxpY2F0aW9ucywgYW5kIGlzIHRodXMgbm90IGRvY3VtZW50ZWRcbiAgICAgICAgLy8gcHVibGljbHkuXG4gICAgICAgIC8vIE9iamVjdCBjcmVhdGlvbjogaHR0cDovL2pzcGVyZi5jb20vY3JlYXRlLWNvbnN0cnVjdG9yLzJcbiAgICAgICAgdmFyIGNvbnRyb2xsZXJQcm90b3R5cGUgPSAoaXNBcnJheShleHByZXNzaW9uKSA/XG4gICAgICAgICAgZXhwcmVzc2lvbltleHByZXNzaW9uLmxlbmd0aCAtIDFdIDogZXhwcmVzc2lvbikucHJvdG90eXBlO1xuICAgICAgICBpbnN0YW5jZSA9IE9iamVjdC5jcmVhdGUoY29udHJvbGxlclByb3RvdHlwZSB8fCBudWxsKTtcblxuICAgICAgICBpZiAoaWRlbnRpZmllcikge1xuICAgICAgICAgIGFkZElkZW50aWZpZXIobG9jYWxzLCBpZGVudGlmaWVyLCBpbnN0YW5jZSwgY29uc3RydWN0b3IgfHwgZXhwcmVzc2lvbi5uYW1lKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBleHRlbmQoZnVuY3Rpb24gJGNvbnRyb2xsZXJJbml0KCkge1xuICAgICAgICAgIHZhciByZXN1bHQgPSAkaW5qZWN0b3IuaW52b2tlKGV4cHJlc3Npb24sIGluc3RhbmNlLCBsb2NhbHMsIGNvbnN0cnVjdG9yKTtcbiAgICAgICAgICBpZiAocmVzdWx0ICE9PSBpbnN0YW5jZSAmJiAoaXNPYmplY3QocmVzdWx0KSB8fCBpc0Z1bmN0aW9uKHJlc3VsdCkpKSB7XG4gICAgICAgICAgICBpbnN0YW5jZSA9IHJlc3VsdDtcbiAgICAgICAgICAgIGlmIChpZGVudGlmaWVyKSB7XG4gICAgICAgICAgICAgIC8vIElmIHJlc3VsdCBjaGFuZ2VkLCByZS1hc3NpZ24gY29udHJvbGxlckFzIHZhbHVlIHRvIHNjb3BlLlxuICAgICAgICAgICAgICBhZGRJZGVudGlmaWVyKGxvY2FscywgaWRlbnRpZmllciwgaW5zdGFuY2UsIGNvbnN0cnVjdG9yIHx8IGV4cHJlc3Npb24ubmFtZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICAgIHJldHVybiBpbnN0YW5jZTtcbiAgICAgICAgfSwge1xuICAgICAgICAgIGluc3RhbmNlOiBpbnN0YW5jZSxcbiAgICAgICAgICBpZGVudGlmaWVyOiBpZGVudGlmaWVyXG4gICAgICAgIH0pO1xuICAgICAgfVxuXG4gICAgICBpbnN0YW5jZSA9ICRpbmplY3Rvci5pbnN0YW50aWF0ZShleHByZXNzaW9uLCBsb2NhbHMsIGNvbnN0cnVjdG9yKTtcblxuICAgICAgaWYgKGlkZW50aWZpZXIpIHtcbiAgICAgICAgYWRkSWRlbnRpZmllcihsb2NhbHMsIGlkZW50aWZpZXIsIGluc3RhbmNlLCBjb25zdHJ1Y3RvciB8fCBleHByZXNzaW9uLm5hbWUpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gaW5zdGFuY2U7XG4gICAgfTtcblxuICAgIGZ1bmN0aW9uIGFkZElkZW50aWZpZXIobG9jYWxzLCBpZGVudGlmaWVyLCBpbnN0YW5jZSwgbmFtZSkge1xuICAgICAgaWYgKCEobG9jYWxzICYmIGlzT2JqZWN0KGxvY2Fscy4kc2NvcGUpKSkge1xuICAgICAgICB0aHJvdyBtaW5FcnIoJyRjb250cm9sbGVyJykoJ25vc2NwJyxcbiAgICAgICAgICAnQ2Fubm90IGV4cG9ydCBjb250cm9sbGVyIFxcJ3swfVxcJyBhcyBcXCd7MX1cXCchIE5vICRzY29wZSBvYmplY3QgcHJvdmlkZWQgdmlhIGBsb2NhbHNgLicsXG4gICAgICAgICAgbmFtZSwgaWRlbnRpZmllcik7XG4gICAgICB9XG5cbiAgICAgIGxvY2Fscy4kc2NvcGVbaWRlbnRpZmllcl0gPSBpbnN0YW5jZTtcbiAgICB9XG4gIH1dO1xufVxuXG4vKipcbiAqIEBuZ2RvYyBzZXJ2aWNlXG4gKiBAbmFtZSAkZG9jdW1lbnRcbiAqIEByZXF1aXJlcyAkd2luZG93XG4gKiBAdGhpc1xuICpcbiAqIEBkZXNjcmlwdGlvblxuICogQSB7QGxpbmsgYW5ndWxhci5lbGVtZW50IGpRdWVyeSBvciBqcUxpdGV9IHdyYXBwZXIgZm9yIHRoZSBicm93c2VyJ3MgYHdpbmRvdy5kb2N1bWVudGAgb2JqZWN0LlxuICpcbiAqIEBleGFtcGxlXG4gICA8ZXhhbXBsZSBtb2R1bGU9XCJkb2N1bWVudEV4YW1wbGVcIiBuYW1lPVwiZG9jdW1lbnRcIj5cbiAgICAgPGZpbGUgbmFtZT1cImluZGV4Lmh0bWxcIj5cbiAgICAgICA8ZGl2IG5nLWNvbnRyb2xsZXI9XCJFeGFtcGxlQ29udHJvbGxlclwiPlxuICAgICAgICAgPHA+JGRvY3VtZW50IHRpdGxlOiA8YiBuZy1iaW5kPVwidGl0bGVcIj48L2I+PC9wPlxuICAgICAgICAgPHA+d2luZG93LmRvY3VtZW50IHRpdGxlOiA8YiBuZy1iaW5kPVwid2luZG93VGl0bGVcIj48L2I+PC9wPlxuICAgICAgIDwvZGl2PlxuICAgICA8L2ZpbGU+XG4gICAgIDxmaWxlIG5hbWU9XCJzY3JpcHQuanNcIj5cbiAgICAgICBhbmd1bGFyLm1vZHVsZSgnZG9jdW1lbnRFeGFtcGxlJywgW10pXG4gICAgICAgICAuY29udHJvbGxlcignRXhhbXBsZUNvbnRyb2xsZXInLCBbJyRzY29wZScsICckZG9jdW1lbnQnLCBmdW5jdGlvbigkc2NvcGUsICRkb2N1bWVudCkge1xuICAgICAgICAgICAkc2NvcGUudGl0bGUgPSAkZG9jdW1lbnRbMF0udGl0bGU7XG4gICAgICAgICAgICRzY29wZS53aW5kb3dUaXRsZSA9IGFuZ3VsYXIuZWxlbWVudCh3aW5kb3cuZG9jdW1lbnQpWzBdLnRpdGxlO1xuICAgICAgICAgfV0pO1xuICAgICA8L2ZpbGU+XG4gICA8L2V4YW1wbGU+XG4gKi9cbmZ1bmN0aW9uICREb2N1bWVudFByb3ZpZGVyKCkge1xuICB0aGlzLiRnZXQgPSBbJyR3aW5kb3cnLCBmdW5jdGlvbih3aW5kb3cpIHtcbiAgICByZXR1cm4ganFMaXRlKHdpbmRvdy5kb2N1bWVudCk7XG4gIH1dO1xufVxuXG5cbi8qKlxuICogQHByaXZhdGVcbiAqIEB0aGlzXG4gKiBMaXN0ZW5zIGZvciBkb2N1bWVudCB2aXNpYmlsaXR5IGNoYW5nZSBhbmQgbWFrZXMgdGhlIGN1cnJlbnQgc3RhdHVzIGFjY2Vzc2libGUuXG4gKi9cbmZ1bmN0aW9uICQkSXNEb2N1bWVudEhpZGRlblByb3ZpZGVyKCkge1xuICB0aGlzLiRnZXQgPSBbJyRkb2N1bWVudCcsICckcm9vdFNjb3BlJywgZnVuY3Rpb24oJGRvY3VtZW50LCAkcm9vdFNjb3BlKSB7XG4gICAgdmFyIGRvYyA9ICRkb2N1bWVudFswXTtcbiAgICB2YXIgaGlkZGVuID0gZG9jICYmIGRvYy5oaWRkZW47XG5cbiAgICAkZG9jdW1lbnQub24oJ3Zpc2liaWxpdHljaGFuZ2UnLCBjaGFuZ2VMaXN0ZW5lcik7XG5cbiAgICAkcm9vdFNjb3BlLiRvbignJGRlc3Ryb3knLCBmdW5jdGlvbigpIHtcbiAgICAgICRkb2N1bWVudC5vZmYoJ3Zpc2liaWxpdHljaGFuZ2UnLCBjaGFuZ2VMaXN0ZW5lcik7XG4gICAgfSk7XG5cbiAgICBmdW5jdGlvbiBjaGFuZ2VMaXN0ZW5lcigpIHtcbiAgICAgIGhpZGRlbiA9IGRvYy5oaWRkZW47XG4gICAgfVxuXG4gICAgcmV0dXJuIGZ1bmN0aW9uKCkge1xuICAgICAgcmV0dXJuIGhpZGRlbjtcbiAgICB9O1xuICB9XTtcbn1cblxuLyoqXG4gKiBAbmdkb2Mgc2VydmljZVxuICogQG5hbWUgJGV4Y2VwdGlvbkhhbmRsZXJcbiAqIEByZXF1aXJlcyBuZy4kbG9nXG4gKiBAdGhpc1xuICpcbiAqIEBkZXNjcmlwdGlvblxuICogQW55IHVuY2F1Z2h0IGV4Y2VwdGlvbiBpbiBhbmd1bGFyIGV4cHJlc3Npb25zIGlzIGRlbGVnYXRlZCB0byB0aGlzIHNlcnZpY2UuXG4gKiBUaGUgZGVmYXVsdCBpbXBsZW1lbnRhdGlvbiBzaW1wbHkgZGVsZWdhdGVzIHRvIGAkbG9nLmVycm9yYCB3aGljaCBsb2dzIGl0IGludG9cbiAqIHRoZSBicm93c2VyIGNvbnNvbGUuXG4gKlxuICogSW4gdW5pdCB0ZXN0cywgaWYgYGFuZ3VsYXItbW9ja3MuanNgIGlzIGxvYWRlZCwgdGhpcyBzZXJ2aWNlIGlzIG92ZXJyaWRkZW4gYnlcbiAqIHtAbGluayBuZ01vY2suJGV4Y2VwdGlvbkhhbmRsZXIgbW9jayAkZXhjZXB0aW9uSGFuZGxlcn0gd2hpY2ggYWlkcyBpbiB0ZXN0aW5nLlxuICpcbiAqICMjIEV4YW1wbGU6XG4gKlxuICogVGhlIGV4YW1wbGUgYmVsb3cgd2lsbCBvdmVyd3JpdGUgdGhlIGRlZmF1bHQgYCRleGNlcHRpb25IYW5kbGVyYCBpbiBvcmRlciB0byAoYSkgbG9nIHVuY2F1Z2h0XG4gKiBlcnJvcnMgdG8gdGhlIGJhY2tlbmQgZm9yIGxhdGVyIGluc3BlY3Rpb24gYnkgdGhlIGRldmVsb3BlcnMgYW5kIChiKSB0byB1c2UgYCRsb2cud2FybigpYCBpbnN0ZWFkXG4gKiBvZiBgJGxvZy5lcnJvcigpYC5cbiAqXG4gKiBgYGBqc1xuICogICBhbmd1bGFyLlxuICogICAgIG1vZHVsZSgnZXhjZXB0aW9uT3ZlcndyaXRlJywgW10pLlxuICogICAgIGZhY3RvcnkoJyRleGNlcHRpb25IYW5kbGVyJywgWyckbG9nJywgJ2xvZ0Vycm9yc1RvQmFja2VuZCcsIGZ1bmN0aW9uKCRsb2csIGxvZ0Vycm9yc1RvQmFja2VuZCkge1xuICogICAgICAgcmV0dXJuIGZ1bmN0aW9uIG15RXhjZXB0aW9uSGFuZGxlcihleGNlcHRpb24sIGNhdXNlKSB7XG4gKiAgICAgICAgIGxvZ0Vycm9yc1RvQmFja2VuZChleGNlcHRpb24sIGNhdXNlKTtcbiAqICAgICAgICAgJGxvZy53YXJuKGV4Y2VwdGlvbiwgY2F1c2UpO1xuICogICAgICAgfTtcbiAqICAgICB9XSk7XG4gKiBgYGBcbiAqXG4gKiA8aHIgLz5cbiAqIE5vdGUsIHRoYXQgY29kZSBleGVjdXRlZCBpbiBldmVudC1saXN0ZW5lcnMgKGV2ZW4gdGhvc2UgcmVnaXN0ZXJlZCB1c2luZyBqcUxpdGUncyBgb25gL2BiaW5kYFxuICogbWV0aG9kcykgZG9lcyBub3QgZGVsZWdhdGUgZXhjZXB0aW9ucyB0byB0aGUge0BsaW5rIG5nLiRleGNlcHRpb25IYW5kbGVyICRleGNlcHRpb25IYW5kbGVyfVxuICogKHVubGVzcyBleGVjdXRlZCBkdXJpbmcgYSBkaWdlc3QpLlxuICpcbiAqIElmIHlvdSB3aXNoLCB5b3UgY2FuIG1hbnVhbGx5IGRlbGVnYXRlIGV4Y2VwdGlvbnMsIGUuZy5cbiAqIGB0cnkgeyAuLi4gfSBjYXRjaChlKSB7ICRleGNlcHRpb25IYW5kbGVyKGUpOyB9YFxuICpcbiAqIEBwYXJhbSB7RXJyb3J9IGV4Y2VwdGlvbiBFeGNlcHRpb24gYXNzb2NpYXRlZCB3aXRoIHRoZSBlcnJvci5cbiAqIEBwYXJhbSB7c3RyaW5nPX0gY2F1c2UgT3B0aW9uYWwgaW5mb3JtYXRpb24gYWJvdXQgdGhlIGNvbnRleHQgaW4gd2hpY2hcbiAqICAgICAgIHRoZSBlcnJvciB3YXMgdGhyb3duLlxuICpcbiAqL1xuZnVuY3Rpb24gJEV4Y2VwdGlvbkhhbmRsZXJQcm92aWRlcigpIHtcbiAgdGhpcy4kZ2V0ID0gWyckbG9nJywgZnVuY3Rpb24oJGxvZykge1xuICAgIHJldHVybiBmdW5jdGlvbihleGNlcHRpb24sIGNhdXNlKSB7XG4gICAgICAkbG9nLmVycm9yLmFwcGx5KCRsb2csIGFyZ3VtZW50cyk7XG4gICAgfTtcbiAgfV07XG59XG5cbnZhciAkJEZvcmNlUmVmbG93UHJvdmlkZXIgPSAvKiogQHRoaXMgKi8gZnVuY3Rpb24oKSB7XG4gIHRoaXMuJGdldCA9IFsnJGRvY3VtZW50JywgZnVuY3Rpb24oJGRvY3VtZW50KSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uKGRvbU5vZGUpIHtcbiAgICAgIC8vdGhlIGxpbmUgYmVsb3cgd2lsbCBmb3JjZSB0aGUgYnJvd3NlciB0byBwZXJmb3JtIGEgcmVwYWludCBzb1xuICAgICAgLy90aGF0IGFsbCB0aGUgYW5pbWF0ZWQgZWxlbWVudHMgd2l0aGluIHRoZSBhbmltYXRpb24gZnJhbWUgd2lsbFxuICAgICAgLy9iZSBwcm9wZXJseSB1cGRhdGVkIGFuZCBkcmF3biBvbiBzY3JlZW4uIFRoaXMgaXMgcmVxdWlyZWQgdG9cbiAgICAgIC8vZW5zdXJlIHRoYXQgdGhlIHByZXBhcmF0aW9uIGFuaW1hdGlvbiBpcyBwcm9wZXJseSBmbHVzaGVkIHNvIHRoYXRcbiAgICAgIC8vdGhlIGFjdGl2ZSBzdGF0ZSBwaWNrcyB1cCBmcm9tIHRoZXJlLiBETyBOT1QgUkVNT1ZFIFRISVMgTElORS5cbiAgICAgIC8vRE8gTk9UIE9QVElNSVpFIFRISVMgTElORS4gVEhFIE1JTklGSUVSIFdJTEwgUkVNT1ZFIElUIE9USEVSV0lTRSBXSElDSFxuICAgICAgLy9XSUxMIFJFU1VMVCBJTiBBTiBVTlBSRURJQ1RBQkxFIEJVRyBUSEFUIElTIFZFUlkgSEFSRCBUTyBUUkFDSyBET1dOIEFORFxuICAgICAgLy9XSUxMIFRBS0UgWUVBUlMgQVdBWSBGUk9NIFlPVVIgTElGRS5cbiAgICAgIGlmIChkb21Ob2RlKSB7XG4gICAgICAgIGlmICghZG9tTm9kZS5ub2RlVHlwZSAmJiBkb21Ob2RlIGluc3RhbmNlb2YganFMaXRlKSB7XG4gICAgICAgICAgZG9tTm9kZSA9IGRvbU5vZGVbMF07XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGRvbU5vZGUgPSAkZG9jdW1lbnRbMF0uYm9keTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBkb21Ob2RlLm9mZnNldFdpZHRoICsgMTtcbiAgICB9O1xuICB9XTtcbn07XG5cbnZhciBBUFBMSUNBVElPTl9KU09OID0gJ2FwcGxpY2F0aW9uL2pzb24nO1xudmFyIENPTlRFTlRfVFlQRV9BUFBMSUNBVElPTl9KU09OID0geydDb250ZW50LVR5cGUnOiBBUFBMSUNBVElPTl9KU09OICsgJztjaGFyc2V0PXV0Zi04J307XG52YXIgSlNPTl9TVEFSVCA9IC9eXFxbfF5cXHsoPyFcXHspLztcbnZhciBKU09OX0VORFMgPSB7XG4gICdbJzogL10kLyxcbiAgJ3snOiAvfSQvXG59O1xudmFyIEpTT05fUFJPVEVDVElPTl9QUkVGSVggPSAvXlxcKV1cXH0nLD9cXG4vO1xudmFyICRodHRwTWluRXJyID0gbWluRXJyKCckaHR0cCcpO1xuXG5mdW5jdGlvbiBzZXJpYWxpemVWYWx1ZSh2KSB7XG4gIGlmIChpc09iamVjdCh2KSkge1xuICAgIHJldHVybiBpc0RhdGUodikgPyB2LnRvSVNPU3RyaW5nKCkgOiB0b0pzb24odik7XG4gIH1cbiAgcmV0dXJuIHY7XG59XG5cblxuLyoqIEB0aGlzICovXG5mdW5jdGlvbiAkSHR0cFBhcmFtU2VyaWFsaXplclByb3ZpZGVyKCkge1xuICAvKipcbiAgICogQG5nZG9jIHNlcnZpY2VcbiAgICogQG5hbWUgJGh0dHBQYXJhbVNlcmlhbGl6ZXJcbiAgICogQGRlc2NyaXB0aW9uXG4gICAqXG4gICAqIERlZmF1bHQge0BsaW5rICRodHRwIGAkaHR0cGB9IHBhcmFtcyBzZXJpYWxpemVyIHRoYXQgY29udmVydHMgb2JqZWN0cyB0byBzdHJpbmdzXG4gICAqIGFjY29yZGluZyB0byB0aGUgZm9sbG93aW5nIHJ1bGVzOlxuICAgKlxuICAgKiAqIGB7J2Zvbyc6ICdiYXInfWAgcmVzdWx0cyBpbiBgZm9vPWJhcmBcbiAgICogKiBgeydmb28nOiBEYXRlLm5vdygpfWAgcmVzdWx0cyBpbiBgZm9vPTIwMTUtMDQtMDFUMDklM0E1MCUzQTQ5LjI2MlpgIChgdG9JU09TdHJpbmcoKWAgYW5kIGVuY29kZWQgcmVwcmVzZW50YXRpb24gb2YgYSBEYXRlIG9iamVjdClcbiAgICogKiBgeydmb28nOiBbJ2JhcicsICdiYXonXX1gIHJlc3VsdHMgaW4gYGZvbz1iYXImZm9vPWJhemAgKHJlcGVhdGVkIGtleSBmb3IgZWFjaCBhcnJheSBlbGVtZW50KVxuICAgKiAqIGB7J2Zvbyc6IHsnYmFyJzonYmF6J319YCByZXN1bHRzIGluIGBmb289JTdCJTIyYmFyJTIyJTNBJTIyYmF6JTIyJTdEYCAoc3RyaW5naWZpZWQgYW5kIGVuY29kZWQgcmVwcmVzZW50YXRpb24gb2YgYW4gb2JqZWN0KVxuICAgKlxuICAgKiBOb3RlIHRoYXQgc2VyaWFsaXplciB3aWxsIHNvcnQgdGhlIHJlcXVlc3QgcGFyYW1ldGVycyBhbHBoYWJldGljYWxseS5cbiAgICogKi9cblxuICB0aGlzLiRnZXQgPSBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24gbmdQYXJhbVNlcmlhbGl6ZXIocGFyYW1zKSB7XG4gICAgICBpZiAoIXBhcmFtcykgcmV0dXJuICcnO1xuICAgICAgdmFyIHBhcnRzID0gW107XG4gICAgICBmb3JFYWNoU29ydGVkKHBhcmFtcywgZnVuY3Rpb24odmFsdWUsIGtleSkge1xuICAgICAgICBpZiAodmFsdWUgPT09IG51bGwgfHwgaXNVbmRlZmluZWQodmFsdWUpKSByZXR1cm47XG4gICAgICAgIGlmIChpc0FycmF5KHZhbHVlKSkge1xuICAgICAgICAgIGZvckVhY2godmFsdWUsIGZ1bmN0aW9uKHYpIHtcbiAgICAgICAgICAgIHBhcnRzLnB1c2goZW5jb2RlVXJpUXVlcnkoa2V5KSAgKyAnPScgKyBlbmNvZGVVcmlRdWVyeShzZXJpYWxpemVWYWx1ZSh2KSkpO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHBhcnRzLnB1c2goZW5jb2RlVXJpUXVlcnkoa2V5KSArICc9JyArIGVuY29kZVVyaVF1ZXJ5KHNlcmlhbGl6ZVZhbHVlKHZhbHVlKSkpO1xuICAgICAgICB9XG4gICAgICB9KTtcblxuICAgICAgcmV0dXJuIHBhcnRzLmpvaW4oJyYnKTtcbiAgICB9O1xuICB9O1xufVxuXG4vKiogQHRoaXMgKi9cbmZ1bmN0aW9uICRIdHRwUGFyYW1TZXJpYWxpemVySlFMaWtlUHJvdmlkZXIoKSB7XG4gIC8qKlxuICAgKiBAbmdkb2Mgc2VydmljZVxuICAgKiBAbmFtZSAkaHR0cFBhcmFtU2VyaWFsaXplckpRTGlrZVxuICAgKlxuICAgKiBAZGVzY3JpcHRpb25cbiAgICpcbiAgICogQWx0ZXJuYXRpdmUge0BsaW5rICRodHRwIGAkaHR0cGB9IHBhcmFtcyBzZXJpYWxpemVyIHRoYXQgZm9sbG93c1xuICAgKiBqUXVlcnkncyBbYHBhcmFtKClgXShodHRwOi8vYXBpLmpxdWVyeS5jb20vanF1ZXJ5LnBhcmFtLykgbWV0aG9kIGxvZ2ljLlxuICAgKiBUaGUgc2VyaWFsaXplciB3aWxsIGFsc28gc29ydCB0aGUgcGFyYW1zIGFscGhhYmV0aWNhbGx5LlxuICAgKlxuICAgKiBUbyB1c2UgaXQgZm9yIHNlcmlhbGl6aW5nIGAkaHR0cGAgcmVxdWVzdCBwYXJhbWV0ZXJzLCBzZXQgaXQgYXMgdGhlIGBwYXJhbVNlcmlhbGl6ZXJgIHByb3BlcnR5OlxuICAgKlxuICAgKiBgYGBqc1xuICAgKiAkaHR0cCh7XG4gICAqICAgdXJsOiBteVVybCxcbiAgICogICBtZXRob2Q6ICdHRVQnLFxuICAgKiAgIHBhcmFtczogbXlQYXJhbXMsXG4gICAqICAgcGFyYW1TZXJpYWxpemVyOiAnJGh0dHBQYXJhbVNlcmlhbGl6ZXJKUUxpa2UnXG4gICAqIH0pO1xuICAgKiBgYGBcbiAgICpcbiAgICogSXQgaXMgYWxzbyBwb3NzaWJsZSB0byBzZXQgaXQgYXMgdGhlIGRlZmF1bHQgYHBhcmFtU2VyaWFsaXplcmAgaW4gdGhlXG4gICAqIHtAbGluayAkaHR0cFByb3ZpZGVyI2RlZmF1bHRzIGAkaHR0cFByb3ZpZGVyYH0uXG4gICAqXG4gICAqIEFkZGl0aW9uYWxseSwgeW91IGNhbiBpbmplY3QgdGhlIHNlcmlhbGl6ZXIgYW5kIHVzZSBpdCBleHBsaWNpdGx5LCBmb3IgZXhhbXBsZSB0byBzZXJpYWxpemVcbiAgICogZm9ybSBkYXRhIGZvciBzdWJtaXNzaW9uOlxuICAgKlxuICAgKiBgYGBqc1xuICAgKiAuY29udHJvbGxlcihmdW5jdGlvbigkaHR0cCwgJGh0dHBQYXJhbVNlcmlhbGl6ZXJKUUxpa2UpIHtcbiAgICogICAvLy4uLlxuICAgKlxuICAgKiAgICRodHRwKHtcbiAgICogICAgIHVybDogbXlVcmwsXG4gICAqICAgICBtZXRob2Q6ICdQT1NUJyxcbiAgICogICAgIGRhdGE6ICRodHRwUGFyYW1TZXJpYWxpemVySlFMaWtlKG15RGF0YSksXG4gICAqICAgICBoZWFkZXJzOiB7XG4gICAqICAgICAgICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24veC13d3ctZm9ybS11cmxlbmNvZGVkJ1xuICAgKiAgICAgfVxuICAgKiAgIH0pO1xuICAgKlxuICAgKiB9KTtcbiAgICogYGBgXG4gICAqXG4gICAqICovXG4gIHRoaXMuJGdldCA9IGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiBmdW5jdGlvbiBqUXVlcnlMaWtlUGFyYW1TZXJpYWxpemVyKHBhcmFtcykge1xuICAgICAgaWYgKCFwYXJhbXMpIHJldHVybiAnJztcbiAgICAgIHZhciBwYXJ0cyA9IFtdO1xuICAgICAgc2VyaWFsaXplKHBhcmFtcywgJycsIHRydWUpO1xuICAgICAgcmV0dXJuIHBhcnRzLmpvaW4oJyYnKTtcblxuICAgICAgZnVuY3Rpb24gc2VyaWFsaXplKHRvU2VyaWFsaXplLCBwcmVmaXgsIHRvcExldmVsKSB7XG4gICAgICAgIGlmICh0b1NlcmlhbGl6ZSA9PT0gbnVsbCB8fCBpc1VuZGVmaW5lZCh0b1NlcmlhbGl6ZSkpIHJldHVybjtcbiAgICAgICAgaWYgKGlzQXJyYXkodG9TZXJpYWxpemUpKSB7XG4gICAgICAgICAgZm9yRWFjaCh0b1NlcmlhbGl6ZSwgZnVuY3Rpb24odmFsdWUsIGluZGV4KSB7XG4gICAgICAgICAgICBzZXJpYWxpemUodmFsdWUsIHByZWZpeCArICdbJyArIChpc09iamVjdCh2YWx1ZSkgPyBpbmRleCA6ICcnKSArICddJyk7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH0gZWxzZSBpZiAoaXNPYmplY3QodG9TZXJpYWxpemUpICYmICFpc0RhdGUodG9TZXJpYWxpemUpKSB7XG4gICAgICAgICAgZm9yRWFjaFNvcnRlZCh0b1NlcmlhbGl6ZSwgZnVuY3Rpb24odmFsdWUsIGtleSkge1xuICAgICAgICAgICAgc2VyaWFsaXplKHZhbHVlLCBwcmVmaXggK1xuICAgICAgICAgICAgICAgICh0b3BMZXZlbCA/ICcnIDogJ1snKSArXG4gICAgICAgICAgICAgICAga2V5ICtcbiAgICAgICAgICAgICAgICAodG9wTGV2ZWwgPyAnJyA6ICddJykpO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHBhcnRzLnB1c2goZW5jb2RlVXJpUXVlcnkocHJlZml4KSArICc9JyArIGVuY29kZVVyaVF1ZXJ5KHNlcmlhbGl6ZVZhbHVlKHRvU2VyaWFsaXplKSkpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfTtcbiAgfTtcbn1cblxuZnVuY3Rpb24gZGVmYXVsdEh0dHBSZXNwb25zZVRyYW5zZm9ybShkYXRhLCBoZWFkZXJzKSB7XG4gIGlmIChpc1N0cmluZyhkYXRhKSkge1xuICAgIC8vIFN0cmlwIGpzb24gdnVsbmVyYWJpbGl0eSBwcm90ZWN0aW9uIHByZWZpeCBhbmQgdHJpbSB3aGl0ZXNwYWNlXG4gICAgdmFyIHRlbXBEYXRhID0gZGF0YS5yZXBsYWNlKEpTT05fUFJPVEVDVElPTl9QUkVGSVgsICcnKS50cmltKCk7XG5cbiAgICBpZiAodGVtcERhdGEpIHtcbiAgICAgIHZhciBjb250ZW50VHlwZSA9IGhlYWRlcnMoJ0NvbnRlbnQtVHlwZScpO1xuICAgICAgaWYgKChjb250ZW50VHlwZSAmJiAoY29udGVudFR5cGUuaW5kZXhPZihBUFBMSUNBVElPTl9KU09OKSA9PT0gMCkpIHx8IGlzSnNvbkxpa2UodGVtcERhdGEpKSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgZGF0YSA9IGZyb21Kc29uKHRlbXBEYXRhKTtcbiAgICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAgIHRocm93ICRodHRwTWluRXJyKCdiYWRkYXRhJywgJ0RhdGEgbXVzdCBiZSBhIHZhbGlkIEpTT04gb2JqZWN0LiBSZWNlaXZlZDogXCJ7MH1cIi4gJyArXG4gICAgICAgICAgJ1BhcnNlIGVycm9yOiBcInsxfVwiJywgZGF0YSwgZSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICByZXR1cm4gZGF0YTtcbn1cblxuZnVuY3Rpb24gaXNKc29uTGlrZShzdHIpIHtcbiAgICB2YXIganNvblN0YXJ0ID0gc3RyLm1hdGNoKEpTT05fU1RBUlQpO1xuICAgIHJldHVybiBqc29uU3RhcnQgJiYgSlNPTl9FTkRTW2pzb25TdGFydFswXV0udGVzdChzdHIpO1xufVxuXG4vKipcbiAqIFBhcnNlIGhlYWRlcnMgaW50byBrZXkgdmFsdWUgb2JqZWN0XG4gKlxuICogQHBhcmFtIHtzdHJpbmd9IGhlYWRlcnMgUmF3IGhlYWRlcnMgYXMgYSBzdHJpbmdcbiAqIEByZXR1cm5zIHtPYmplY3R9IFBhcnNlZCBoZWFkZXJzIGFzIGtleSB2YWx1ZSBvYmplY3RcbiAqL1xuZnVuY3Rpb24gcGFyc2VIZWFkZXJzKGhlYWRlcnMpIHtcbiAgdmFyIHBhcnNlZCA9IGNyZWF0ZU1hcCgpLCBpO1xuXG4gIGZ1bmN0aW9uIGZpbGxJblBhcnNlZChrZXksIHZhbCkge1xuICAgIGlmIChrZXkpIHtcbiAgICAgIHBhcnNlZFtrZXldID0gcGFyc2VkW2tleV0gPyBwYXJzZWRba2V5XSArICcsICcgKyB2YWwgOiB2YWw7XG4gICAgfVxuICB9XG5cbiAgaWYgKGlzU3RyaW5nKGhlYWRlcnMpKSB7XG4gICAgZm9yRWFjaChoZWFkZXJzLnNwbGl0KCdcXG4nKSwgZnVuY3Rpb24obGluZSkge1xuICAgICAgaSA9IGxpbmUuaW5kZXhPZignOicpO1xuICAgICAgZmlsbEluUGFyc2VkKGxvd2VyY2FzZSh0cmltKGxpbmUuc3Vic3RyKDAsIGkpKSksIHRyaW0obGluZS5zdWJzdHIoaSArIDEpKSk7XG4gICAgfSk7XG4gIH0gZWxzZSBpZiAoaXNPYmplY3QoaGVhZGVycykpIHtcbiAgICBmb3JFYWNoKGhlYWRlcnMsIGZ1bmN0aW9uKGhlYWRlclZhbCwgaGVhZGVyS2V5KSB7XG4gICAgICBmaWxsSW5QYXJzZWQobG93ZXJjYXNlKGhlYWRlcktleSksIHRyaW0oaGVhZGVyVmFsKSk7XG4gICAgfSk7XG4gIH1cblxuICByZXR1cm4gcGFyc2VkO1xufVxuXG5cbi8qKlxuICogUmV0dXJucyBhIGZ1bmN0aW9uIHRoYXQgcHJvdmlkZXMgYWNjZXNzIHRvIHBhcnNlZCBoZWFkZXJzLlxuICpcbiAqIEhlYWRlcnMgYXJlIGxhenkgcGFyc2VkIHdoZW4gZmlyc3QgcmVxdWVzdGVkLlxuICogQHNlZSBwYXJzZUhlYWRlcnNcbiAqXG4gKiBAcGFyYW0geyhzdHJpbmd8T2JqZWN0KX0gaGVhZGVycyBIZWFkZXJzIHRvIHByb3ZpZGUgYWNjZXNzIHRvLlxuICogQHJldHVybnMge2Z1bmN0aW9uKHN0cmluZz0pfSBSZXR1cm5zIGEgZ2V0dGVyIGZ1bmN0aW9uIHdoaWNoIGlmIGNhbGxlZCB3aXRoOlxuICpcbiAqICAgLSBpZiBjYWxsZWQgd2l0aCBhbiBhcmd1bWVudCByZXR1cm5zIGEgc2luZ2xlIGhlYWRlciB2YWx1ZSBvciBudWxsXG4gKiAgIC0gaWYgY2FsbGVkIHdpdGggbm8gYXJndW1lbnRzIHJldHVybnMgYW4gb2JqZWN0IGNvbnRhaW5pbmcgYWxsIGhlYWRlcnMuXG4gKi9cbmZ1bmN0aW9uIGhlYWRlcnNHZXR0ZXIoaGVhZGVycykge1xuICB2YXIgaGVhZGVyc09iajtcblxuICByZXR1cm4gZnVuY3Rpb24obmFtZSkge1xuICAgIGlmICghaGVhZGVyc09iaikgaGVhZGVyc09iaiA9ICBwYXJzZUhlYWRlcnMoaGVhZGVycyk7XG5cbiAgICBpZiAobmFtZSkge1xuICAgICAgdmFyIHZhbHVlID0gaGVhZGVyc09ialtsb3dlcmNhc2UobmFtZSldO1xuICAgICAgaWYgKHZhbHVlID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgdmFsdWUgPSBudWxsO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHZhbHVlO1xuICAgIH1cblxuICAgIHJldHVybiBoZWFkZXJzT2JqO1xuICB9O1xufVxuXG5cbi8qKlxuICogQ2hhaW4gYWxsIGdpdmVuIGZ1bmN0aW9uc1xuICpcbiAqIFRoaXMgZnVuY3Rpb24gaXMgdXNlZCBmb3IgYm90aCByZXF1ZXN0IGFuZCByZXNwb25zZSB0cmFuc2Zvcm1pbmdcbiAqXG4gKiBAcGFyYW0geyp9IGRhdGEgRGF0YSB0byB0cmFuc2Zvcm0uXG4gKiBAcGFyYW0ge2Z1bmN0aW9uKHN0cmluZz0pfSBoZWFkZXJzIEhUVFAgaGVhZGVycyBnZXR0ZXIgZm4uXG4gKiBAcGFyYW0ge251bWJlcn0gc3RhdHVzIEhUVFAgc3RhdHVzIGNvZGUgb2YgdGhlIHJlc3BvbnNlLlxuICogQHBhcmFtIHsoRnVuY3Rpb258QXJyYXkuPEZ1bmN0aW9uPil9IGZucyBGdW5jdGlvbiBvciBhbiBhcnJheSBvZiBmdW5jdGlvbnMuXG4gKiBAcmV0dXJucyB7Kn0gVHJhbnNmb3JtZWQgZGF0YS5cbiAqL1xuZnVuY3Rpb24gdHJhbnNmb3JtRGF0YShkYXRhLCBoZWFkZXJzLCBzdGF0dXMsIGZucykge1xuICBpZiAoaXNGdW5jdGlvbihmbnMpKSB7XG4gICAgcmV0dXJuIGZucyhkYXRhLCBoZWFkZXJzLCBzdGF0dXMpO1xuICB9XG5cbiAgZm9yRWFjaChmbnMsIGZ1bmN0aW9uKGZuKSB7XG4gICAgZGF0YSA9IGZuKGRhdGEsIGhlYWRlcnMsIHN0YXR1cyk7XG4gIH0pO1xuXG4gIHJldHVybiBkYXRhO1xufVxuXG5cbmZ1bmN0aW9uIGlzU3VjY2VzcyhzdGF0dXMpIHtcbiAgcmV0dXJuIDIwMCA8PSBzdGF0dXMgJiYgc3RhdHVzIDwgMzAwO1xufVxuXG5cbi8qKlxuICogQG5nZG9jIHByb3ZpZGVyXG4gKiBAbmFtZSAkaHR0cFByb3ZpZGVyXG4gKiBAdGhpc1xuICpcbiAqIEBkZXNjcmlwdGlvblxuICogVXNlIGAkaHR0cFByb3ZpZGVyYCB0byBjaGFuZ2UgdGhlIGRlZmF1bHQgYmVoYXZpb3Igb2YgdGhlIHtAbGluayBuZy4kaHR0cCAkaHR0cH0gc2VydmljZS5cbiAqICovXG5mdW5jdGlvbiAkSHR0cFByb3ZpZGVyKCkge1xuICAvKipcbiAgICogQG5nZG9jIHByb3BlcnR5XG4gICAqIEBuYW1lICRodHRwUHJvdmlkZXIjZGVmYXVsdHNcbiAgICogQGRlc2NyaXB0aW9uXG4gICAqXG4gICAqIE9iamVjdCBjb250YWluaW5nIGRlZmF1bHQgdmFsdWVzIGZvciBhbGwge0BsaW5rIG5nLiRodHRwICRodHRwfSByZXF1ZXN0cy5cbiAgICpcbiAgICogLSAqKmBkZWZhdWx0cy5jYWNoZWAqKiAtIHtib29sZWFufE9iamVjdH0gLSBBIGJvb2xlYW4gdmFsdWUgb3Igb2JqZWN0IGNyZWF0ZWQgd2l0aFxuICAgKiB7QGxpbmsgbmcuJGNhY2hlRmFjdG9yeSBgJGNhY2hlRmFjdG9yeWB9IHRvIGVuYWJsZSBvciBkaXNhYmxlIGNhY2hpbmcgb2YgSFRUUCByZXNwb25zZXNcbiAgICogYnkgZGVmYXVsdC4gU2VlIHtAbGluayAkaHR0cCNjYWNoaW5nICRodHRwIENhY2hpbmd9IGZvciBtb3JlIGluZm9ybWF0aW9uLlxuICAgKlxuICAgKiAtICoqYGRlZmF1bHRzLnhzcmZDb29raWVOYW1lYCoqIC0ge3N0cmluZ30gLSBOYW1lIG9mIGNvb2tpZSBjb250YWluaW5nIHRoZSBYU1JGIHRva2VuLlxuICAgKiBEZWZhdWx0cyB2YWx1ZSBpcyBgJ1hTUkYtVE9LRU4nYC5cbiAgICpcbiAgICogLSAqKmBkZWZhdWx0cy54c3JmSGVhZGVyTmFtZWAqKiAtIHtzdHJpbmd9IC0gTmFtZSBvZiBIVFRQIGhlYWRlciB0byBwb3B1bGF0ZSB3aXRoIHRoZVxuICAgKiBYU1JGIHRva2VuLiBEZWZhdWx0cyB2YWx1ZSBpcyBgJ1gtWFNSRi1UT0tFTidgLlxuICAgKlxuICAgKiAtICoqYGRlZmF1bHRzLmhlYWRlcnNgKiogLSB7T2JqZWN0fSAtIERlZmF1bHQgaGVhZGVycyBmb3IgYWxsICRodHRwIHJlcXVlc3RzLlxuICAgKiBSZWZlciB0byB7QGxpbmsgbmcuJGh0dHAjc2V0dGluZy1odHRwLWhlYWRlcnMgJGh0dHB9IGZvciBkb2N1bWVudGF0aW9uIG9uXG4gICAqIHNldHRpbmcgZGVmYXVsdCBoZWFkZXJzLlxuICAgKiAgICAgLSAqKmBkZWZhdWx0cy5oZWFkZXJzLmNvbW1vbmAqKlxuICAgKiAgICAgLSAqKmBkZWZhdWx0cy5oZWFkZXJzLnBvc3RgKipcbiAgICogICAgIC0gKipgZGVmYXVsdHMuaGVhZGVycy5wdXRgKipcbiAgICogICAgIC0gKipgZGVmYXVsdHMuaGVhZGVycy5wYXRjaGAqKlxuICAgKlxuICAgKlxuICAgKiAtICoqYGRlZmF1bHRzLnBhcmFtU2VyaWFsaXplcmAqKiAtIGB7c3RyaW5nfGZ1bmN0aW9uKE9iamVjdDxzdHJpbmcsc3RyaW5nPik6c3RyaW5nfWAgLSBBIGZ1bmN0aW9uXG4gICAqICB1c2VkIHRvIHRoZSBwcmVwYXJlIHN0cmluZyByZXByZXNlbnRhdGlvbiBvZiByZXF1ZXN0IHBhcmFtZXRlcnMgKHNwZWNpZmllZCBhcyBhbiBvYmplY3QpLlxuICAgKiAgSWYgc3BlY2lmaWVkIGFzIHN0cmluZywgaXQgaXMgaW50ZXJwcmV0ZWQgYXMgYSBmdW5jdGlvbiByZWdpc3RlcmVkIHdpdGggdGhlIHtAbGluayBhdXRvLiRpbmplY3RvciAkaW5qZWN0b3J9LlxuICAgKiAgRGVmYXVsdHMgdG8ge0BsaW5rIG5nLiRodHRwUGFyYW1TZXJpYWxpemVyICRodHRwUGFyYW1TZXJpYWxpemVyfS5cbiAgICpcbiAgICogLSAqKmBkZWZhdWx0cy5qc29ucENhbGxiYWNrUGFyYW1gKiogLSBge3N0cmluZ31gIC0gdGhlIG5hbWUgb2YgdGhlIHF1ZXJ5IHBhcmFtZXRlciB0aGF0IHBhc3NlcyB0aGUgbmFtZSBvZiB0aGVcbiAgICogY2FsbGJhY2sgaW4gYSBKU09OUCByZXF1ZXN0LiBUaGUgdmFsdWUgb2YgdGhpcyBwYXJhbWV0ZXIgd2lsbCBiZSByZXBsYWNlZCB3aXRoIHRoZSBleHByZXNzaW9uIGdlbmVyYXRlZCBieSB0aGVcbiAgICoge0BsaW5rICRqc29ucENhbGxiYWNrc30gc2VydmljZS4gRGVmYXVsdHMgdG8gYCdjYWxsYmFjaydgLlxuICAgKlxuICAgKiovXG4gIHZhciBkZWZhdWx0cyA9IHRoaXMuZGVmYXVsdHMgPSB7XG4gICAgLy8gdHJhbnNmb3JtIGluY29taW5nIHJlc3BvbnNlIGRhdGFcbiAgICB0cmFuc2Zvcm1SZXNwb25zZTogW2RlZmF1bHRIdHRwUmVzcG9uc2VUcmFuc2Zvcm1dLFxuXG4gICAgLy8gdHJhbnNmb3JtIG91dGdvaW5nIHJlcXVlc3QgZGF0YVxuICAgIHRyYW5zZm9ybVJlcXVlc3Q6IFtmdW5jdGlvbihkKSB7XG4gICAgICByZXR1cm4gaXNPYmplY3QoZCkgJiYgIWlzRmlsZShkKSAmJiAhaXNCbG9iKGQpICYmICFpc0Zvcm1EYXRhKGQpID8gdG9Kc29uKGQpIDogZDtcbiAgICB9XSxcblxuICAgIC8vIGRlZmF1bHQgaGVhZGVyc1xuICAgIGhlYWRlcnM6IHtcbiAgICAgIGNvbW1vbjoge1xuICAgICAgICAnQWNjZXB0JzogJ2FwcGxpY2F0aW9uL2pzb24sIHRleHQvcGxhaW4sICovKidcbiAgICAgIH0sXG4gICAgICBwb3N0OiAgIHNoYWxsb3dDb3B5KENPTlRFTlRfVFlQRV9BUFBMSUNBVElPTl9KU09OKSxcbiAgICAgIHB1dDogICAgc2hhbGxvd0NvcHkoQ09OVEVOVF9UWVBFX0FQUExJQ0FUSU9OX0pTT04pLFxuICAgICAgcGF0Y2g6ICBzaGFsbG93Q29weShDT05URU5UX1RZUEVfQVBQTElDQVRJT05fSlNPTilcbiAgICB9LFxuXG4gICAgeHNyZkNvb2tpZU5hbWU6ICdYU1JGLVRPS0VOJyxcbiAgICB4c3JmSGVhZGVyTmFtZTogJ1gtWFNSRi1UT0tFTicsXG5cbiAgICBwYXJhbVNlcmlhbGl6ZXI6ICckaHR0cFBhcmFtU2VyaWFsaXplcicsXG5cbiAgICBqc29ucENhbGxiYWNrUGFyYW06ICdjYWxsYmFjaydcbiAgfTtcblxuICB2YXIgdXNlQXBwbHlBc3luYyA9IGZhbHNlO1xuICAvKipcbiAgICogQG5nZG9jIG1ldGhvZFxuICAgKiBAbmFtZSAkaHR0cFByb3ZpZGVyI3VzZUFwcGx5QXN5bmNcbiAgICogQGRlc2NyaXB0aW9uXG4gICAqXG4gICAqIENvbmZpZ3VyZSAkaHR0cCBzZXJ2aWNlIHRvIGNvbWJpbmUgcHJvY2Vzc2luZyBvZiBtdWx0aXBsZSBodHRwIHJlc3BvbnNlcyByZWNlaXZlZCBhdCBhcm91bmRcbiAgICogdGhlIHNhbWUgdGltZSB2aWEge0BsaW5rIG5nLiRyb290U2NvcGUuU2NvcGUjJGFwcGx5QXN5bmMgJHJvb3RTY29wZS4kYXBwbHlBc3luY30uIFRoaXMgY2FuIHJlc3VsdCBpblxuICAgKiBzaWduaWZpY2FudCBwZXJmb3JtYW5jZSBpbXByb3ZlbWVudCBmb3IgYmlnZ2VyIGFwcGxpY2F0aW9ucyB0aGF0IG1ha2UgbWFueSBIVFRQIHJlcXVlc3RzXG4gICAqIGNvbmN1cnJlbnRseSAoY29tbW9uIGR1cmluZyBhcHBsaWNhdGlvbiBib290c3RyYXApLlxuICAgKlxuICAgKiBEZWZhdWx0cyB0byBmYWxzZS4gSWYgbm8gdmFsdWUgaXMgc3BlY2lmaWVkLCByZXR1cm5zIHRoZSBjdXJyZW50IGNvbmZpZ3VyZWQgdmFsdWUuXG4gICAqXG4gICAqIEBwYXJhbSB7Ym9vbGVhbj19IHZhbHVlIElmIHRydWUsIHdoZW4gcmVxdWVzdHMgYXJlIGxvYWRlZCwgdGhleSB3aWxsIHNjaGVkdWxlIGEgZGVmZXJyZWRcbiAgICogICAgXCJhcHBseVwiIG9uIHRoZSBuZXh0IHRpY2ssIGdpdmluZyB0aW1lIGZvciBzdWJzZXF1ZW50IHJlcXVlc3RzIGluIGEgcm91Z2hseSB+MTBtcyB3aW5kb3dcbiAgICogICAgdG8gbG9hZCBhbmQgc2hhcmUgdGhlIHNhbWUgZGlnZXN0IGN5Y2xlLlxuICAgKlxuICAgKiBAcmV0dXJucyB7Ym9vbGVhbnxPYmplY3R9IElmIGEgdmFsdWUgaXMgc3BlY2lmaWVkLCByZXR1cm5zIHRoZSAkaHR0cFByb3ZpZGVyIGZvciBjaGFpbmluZy5cbiAgICogICAgb3RoZXJ3aXNlLCByZXR1cm5zIHRoZSBjdXJyZW50IGNvbmZpZ3VyZWQgdmFsdWUuXG4gICAqKi9cbiAgdGhpcy51c2VBcHBseUFzeW5jID0gZnVuY3Rpb24odmFsdWUpIHtcbiAgICBpZiAoaXNEZWZpbmVkKHZhbHVlKSkge1xuICAgICAgdXNlQXBwbHlBc3luYyA9ICEhdmFsdWU7XG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgcmV0dXJuIHVzZUFwcGx5QXN5bmM7XG4gIH07XG5cbiAgLyoqXG4gICAqIEBuZ2RvYyBwcm9wZXJ0eVxuICAgKiBAbmFtZSAkaHR0cFByb3ZpZGVyI2ludGVyY2VwdG9yc1xuICAgKiBAZGVzY3JpcHRpb25cbiAgICpcbiAgICogQXJyYXkgY29udGFpbmluZyBzZXJ2aWNlIGZhY3RvcmllcyBmb3IgYWxsIHN5bmNocm9ub3VzIG9yIGFzeW5jaHJvbm91cyB7QGxpbmsgbmcuJGh0dHAgJGh0dHB9XG4gICAqIHByZS1wcm9jZXNzaW5nIG9mIHJlcXVlc3Qgb3IgcG9zdHByb2Nlc3Npbmcgb2YgcmVzcG9uc2VzLlxuICAgKlxuICAgKiBUaGVzZSBzZXJ2aWNlIGZhY3RvcmllcyBhcmUgb3JkZXJlZCBieSByZXF1ZXN0LCBpLmUuIHRoZXkgYXJlIGFwcGxpZWQgaW4gdGhlIHNhbWUgb3JkZXIgYXMgdGhlXG4gICAqIGFycmF5LCBvbiByZXF1ZXN0LCBidXQgcmV2ZXJzZSBvcmRlciwgb24gcmVzcG9uc2UuXG4gICAqXG4gICAqIHtAbGluayBuZy4kaHR0cCNpbnRlcmNlcHRvcnMgSW50ZXJjZXB0b3JzIGRldGFpbGVkIGluZm99XG4gICAqKi9cbiAgdmFyIGludGVyY2VwdG9yRmFjdG9yaWVzID0gdGhpcy5pbnRlcmNlcHRvcnMgPSBbXTtcblxuICB0aGlzLiRnZXQgPSBbJyRicm93c2VyJywgJyRodHRwQmFja2VuZCcsICckJGNvb2tpZVJlYWRlcicsICckY2FjaGVGYWN0b3J5JywgJyRyb290U2NvcGUnLCAnJHEnLCAnJGluamVjdG9yJywgJyRzY2UnLFxuICAgICAgZnVuY3Rpb24oJGJyb3dzZXIsICRodHRwQmFja2VuZCwgJCRjb29raWVSZWFkZXIsICRjYWNoZUZhY3RvcnksICRyb290U2NvcGUsICRxLCAkaW5qZWN0b3IsICRzY2UpIHtcblxuICAgIHZhciBkZWZhdWx0Q2FjaGUgPSAkY2FjaGVGYWN0b3J5KCckaHR0cCcpO1xuXG4gICAgLyoqXG4gICAgICogTWFrZSBzdXJlIHRoYXQgZGVmYXVsdCBwYXJhbSBzZXJpYWxpemVyIGlzIGV4cG9zZWQgYXMgYSBmdW5jdGlvblxuICAgICAqL1xuICAgIGRlZmF1bHRzLnBhcmFtU2VyaWFsaXplciA9IGlzU3RyaW5nKGRlZmF1bHRzLnBhcmFtU2VyaWFsaXplcikgP1xuICAgICAgJGluamVjdG9yLmdldChkZWZhdWx0cy5wYXJhbVNlcmlhbGl6ZXIpIDogZGVmYXVsdHMucGFyYW1TZXJpYWxpemVyO1xuXG4gICAgLyoqXG4gICAgICogSW50ZXJjZXB0b3JzIHN0b3JlZCBpbiByZXZlcnNlIG9yZGVyLiBJbm5lciBpbnRlcmNlcHRvcnMgYmVmb3JlIG91dGVyIGludGVyY2VwdG9ycy5cbiAgICAgKiBUaGUgcmV2ZXJzYWwgaXMgbmVlZGVkIHNvIHRoYXQgd2UgY2FuIGJ1aWxkIHVwIHRoZSBpbnRlcmNlcHRpb24gY2hhaW4gYXJvdW5kIHRoZVxuICAgICAqIHNlcnZlciByZXF1ZXN0LlxuICAgICAqL1xuICAgIHZhciByZXZlcnNlZEludGVyY2VwdG9ycyA9IFtdO1xuXG4gICAgZm9yRWFjaChpbnRlcmNlcHRvckZhY3RvcmllcywgZnVuY3Rpb24oaW50ZXJjZXB0b3JGYWN0b3J5KSB7XG4gICAgICByZXZlcnNlZEludGVyY2VwdG9ycy51bnNoaWZ0KGlzU3RyaW5nKGludGVyY2VwdG9yRmFjdG9yeSlcbiAgICAgICAgICA/ICRpbmplY3Rvci5nZXQoaW50ZXJjZXB0b3JGYWN0b3J5KSA6ICRpbmplY3Rvci5pbnZva2UoaW50ZXJjZXB0b3JGYWN0b3J5KSk7XG4gICAgfSk7XG5cbiAgICAvKipcbiAgICAgKiBAbmdkb2Mgc2VydmljZVxuICAgICAqIEBraW5kIGZ1bmN0aW9uXG4gICAgICogQG5hbWUgJGh0dHBcbiAgICAgKiBAcmVxdWlyZXMgbmcuJGh0dHBCYWNrZW5kXG4gICAgICogQHJlcXVpcmVzICRjYWNoZUZhY3RvcnlcbiAgICAgKiBAcmVxdWlyZXMgJHJvb3RTY29wZVxuICAgICAqIEByZXF1aXJlcyAkcVxuICAgICAqIEByZXF1aXJlcyAkaW5qZWN0b3JcbiAgICAgKlxuICAgICAqIEBkZXNjcmlwdGlvblxuICAgICAqIFRoZSBgJGh0dHBgIHNlcnZpY2UgaXMgYSBjb3JlIEFuZ3VsYXIgc2VydmljZSB0aGF0IGZhY2lsaXRhdGVzIGNvbW11bmljYXRpb24gd2l0aCB0aGUgcmVtb3RlXG4gICAgICogSFRUUCBzZXJ2ZXJzIHZpYSB0aGUgYnJvd3NlcidzIFtYTUxIdHRwUmVxdWVzdF0oaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4veG1saHR0cHJlcXVlc3QpXG4gICAgICogb2JqZWN0IG9yIHZpYSBbSlNPTlBdKGh0dHA6Ly9lbi53aWtpcGVkaWEub3JnL3dpa2kvSlNPTlApLlxuICAgICAqXG4gICAgICogRm9yIHVuaXQgdGVzdGluZyBhcHBsaWNhdGlvbnMgdGhhdCB1c2UgYCRodHRwYCBzZXJ2aWNlLCBzZWVcbiAgICAgKiB7QGxpbmsgbmdNb2NrLiRodHRwQmFja2VuZCAkaHR0cEJhY2tlbmQgbW9ja30uXG4gICAgICpcbiAgICAgKiBGb3IgYSBoaWdoZXIgbGV2ZWwgb2YgYWJzdHJhY3Rpb24sIHBsZWFzZSBjaGVjayBvdXQgdGhlIHtAbGluayBuZ1Jlc291cmNlLiRyZXNvdXJjZVxuICAgICAqICRyZXNvdXJjZX0gc2VydmljZS5cbiAgICAgKlxuICAgICAqIFRoZSAkaHR0cCBBUEkgaXMgYmFzZWQgb24gdGhlIHtAbGluayBuZy4kcSBkZWZlcnJlZC9wcm9taXNlIEFQSXN9IGV4cG9zZWQgYnlcbiAgICAgKiB0aGUgJHEgc2VydmljZS4gV2hpbGUgZm9yIHNpbXBsZSB1c2FnZSBwYXR0ZXJucyB0aGlzIGRvZXNuJ3QgbWF0dGVyIG11Y2gsIGZvciBhZHZhbmNlZCB1c2FnZVxuICAgICAqIGl0IGlzIGltcG9ydGFudCB0byBmYW1pbGlhcml6ZSB5b3Vyc2VsZiB3aXRoIHRoZXNlIEFQSXMgYW5kIHRoZSBndWFyYW50ZWVzIHRoZXkgcHJvdmlkZS5cbiAgICAgKlxuICAgICAqXG4gICAgICogIyMgR2VuZXJhbCB1c2FnZVxuICAgICAqIFRoZSBgJGh0dHBgIHNlcnZpY2UgaXMgYSBmdW5jdGlvbiB3aGljaCB0YWtlcyBhIHNpbmdsZSBhcmd1bWVudCDigJQgYSB7QGxpbmsgJGh0dHAjdXNhZ2UgY29uZmlndXJhdGlvbiBvYmplY3R9IOKAlFxuICAgICAqIHRoYXQgaXMgdXNlZCB0byBnZW5lcmF0ZSBhbiBIVFRQIHJlcXVlc3QgYW5kIHJldHVybnMgIGEge0BsaW5rIG5nLiRxIHByb21pc2V9LlxuICAgICAqXG4gICAgICogYGBganNcbiAgICAgKiAgIC8vIFNpbXBsZSBHRVQgcmVxdWVzdCBleGFtcGxlOlxuICAgICAqICAgJGh0dHAoe1xuICAgICAqICAgICBtZXRob2Q6ICdHRVQnLFxuICAgICAqICAgICB1cmw6ICcvc29tZVVybCdcbiAgICAgKiAgIH0pLnRoZW4oZnVuY3Rpb24gc3VjY2Vzc0NhbGxiYWNrKHJlc3BvbnNlKSB7XG4gICAgICogICAgICAgLy8gdGhpcyBjYWxsYmFjayB3aWxsIGJlIGNhbGxlZCBhc3luY2hyb25vdXNseVxuICAgICAqICAgICAgIC8vIHdoZW4gdGhlIHJlc3BvbnNlIGlzIGF2YWlsYWJsZVxuICAgICAqICAgICB9LCBmdW5jdGlvbiBlcnJvckNhbGxiYWNrKHJlc3BvbnNlKSB7XG4gICAgICogICAgICAgLy8gY2FsbGVkIGFzeW5jaHJvbm91c2x5IGlmIGFuIGVycm9yIG9jY3Vyc1xuICAgICAqICAgICAgIC8vIG9yIHNlcnZlciByZXR1cm5zIHJlc3BvbnNlIHdpdGggYW4gZXJyb3Igc3RhdHVzLlxuICAgICAqICAgICB9KTtcbiAgICAgKiBgYGBcbiAgICAgKlxuICAgICAqIFRoZSByZXNwb25zZSBvYmplY3QgaGFzIHRoZXNlIHByb3BlcnRpZXM6XG4gICAgICpcbiAgICAgKiAgIC0gKipkYXRhKiog4oCTIGB7c3RyaW5nfE9iamVjdH1gIOKAkyBUaGUgcmVzcG9uc2UgYm9keSB0cmFuc2Zvcm1lZCB3aXRoIHRoZSB0cmFuc2Zvcm1cbiAgICAgKiAgICAgZnVuY3Rpb25zLlxuICAgICAqICAgLSAqKnN0YXR1cyoqIOKAkyBge251bWJlcn1gIOKAkyBIVFRQIHN0YXR1cyBjb2RlIG9mIHRoZSByZXNwb25zZS5cbiAgICAgKiAgIC0gKipoZWFkZXJzKiog4oCTIGB7ZnVuY3Rpb24oW2hlYWRlck5hbWVdKX1gIOKAkyBIZWFkZXIgZ2V0dGVyIGZ1bmN0aW9uLlxuICAgICAqICAgLSAqKmNvbmZpZyoqIOKAkyBge09iamVjdH1gIOKAkyBUaGUgY29uZmlndXJhdGlvbiBvYmplY3QgdGhhdCB3YXMgdXNlZCB0byBnZW5lcmF0ZSB0aGUgcmVxdWVzdC5cbiAgICAgKiAgIC0gKipzdGF0dXNUZXh0Kiog4oCTIGB7c3RyaW5nfWAg4oCTIEhUVFAgc3RhdHVzIHRleHQgb2YgdGhlIHJlc3BvbnNlLlxuICAgICAqXG4gICAgICogQSByZXNwb25zZSBzdGF0dXMgY29kZSBiZXR3ZWVuIDIwMCBhbmQgMjk5IGlzIGNvbnNpZGVyZWQgYSBzdWNjZXNzIHN0YXR1cyBhbmQgd2lsbCByZXN1bHQgaW5cbiAgICAgKiB0aGUgc3VjY2VzcyBjYWxsYmFjayBiZWluZyBjYWxsZWQuIEFueSByZXNwb25zZSBzdGF0dXMgY29kZSBvdXRzaWRlIG9mIHRoYXQgcmFuZ2UgaXNcbiAgICAgKiBjb25zaWRlcmVkIGFuIGVycm9yIHN0YXR1cyBhbmQgd2lsbCByZXN1bHQgaW4gdGhlIGVycm9yIGNhbGxiYWNrIGJlaW5nIGNhbGxlZC5cbiAgICAgKiBBbHNvLCBzdGF0dXMgY29kZXMgbGVzcyB0aGFuIC0xIGFyZSBub3JtYWxpemVkIHRvIHplcm8uIC0xIHVzdWFsbHkgbWVhbnMgdGhlIHJlcXVlc3Qgd2FzXG4gICAgICogYWJvcnRlZCwgZS5nLiB1c2luZyBhIGBjb25maWcudGltZW91dGAuXG4gICAgICogTm90ZSB0aGF0IGlmIHRoZSByZXNwb25zZSBpcyBhIHJlZGlyZWN0LCBYTUxIdHRwUmVxdWVzdCB3aWxsIHRyYW5zcGFyZW50bHkgZm9sbG93IGl0LCBtZWFuaW5nXG4gICAgICogdGhhdCB0aGUgb3V0Y29tZSAoc3VjY2VzcyBvciBlcnJvcikgd2lsbCBiZSBkZXRlcm1pbmVkIGJ5IHRoZSBmaW5hbCByZXNwb25zZSBzdGF0dXMgY29kZS5cbiAgICAgKlxuICAgICAqXG4gICAgICogIyMgU2hvcnRjdXQgbWV0aG9kc1xuICAgICAqXG4gICAgICogU2hvcnRjdXQgbWV0aG9kcyBhcmUgYWxzbyBhdmFpbGFibGUuIEFsbCBzaG9ydGN1dCBtZXRob2RzIHJlcXVpcmUgcGFzc2luZyBpbiB0aGUgVVJMLCBhbmRcbiAgICAgKiByZXF1ZXN0IGRhdGEgbXVzdCBiZSBwYXNzZWQgaW4gZm9yIFBPU1QvUFVUIHJlcXVlc3RzLiBBbiBvcHRpb25hbCBjb25maWcgY2FuIGJlIHBhc3NlZCBhcyB0aGVcbiAgICAgKiBsYXN0IGFyZ3VtZW50LlxuICAgICAqXG4gICAgICogYGBganNcbiAgICAgKiAgICRodHRwLmdldCgnL3NvbWVVcmwnLCBjb25maWcpLnRoZW4oc3VjY2Vzc0NhbGxiYWNrLCBlcnJvckNhbGxiYWNrKTtcbiAgICAgKiAgICRodHRwLnBvc3QoJy9zb21lVXJsJywgZGF0YSwgY29uZmlnKS50aGVuKHN1Y2Nlc3NDYWxsYmFjaywgZXJyb3JDYWxsYmFjayk7XG4gICAgICogYGBgXG4gICAgICpcbiAgICAgKiBDb21wbGV0ZSBsaXN0IG9mIHNob3J0Y3V0IG1ldGhvZHM6XG4gICAgICpcbiAgICAgKiAtIHtAbGluayBuZy4kaHR0cCNnZXQgJGh0dHAuZ2V0fVxuICAgICAqIC0ge0BsaW5rIG5nLiRodHRwI2hlYWQgJGh0dHAuaGVhZH1cbiAgICAgKiAtIHtAbGluayBuZy4kaHR0cCNwb3N0ICRodHRwLnBvc3R9XG4gICAgICogLSB7QGxpbmsgbmcuJGh0dHAjcHV0ICRodHRwLnB1dH1cbiAgICAgKiAtIHtAbGluayBuZy4kaHR0cCNkZWxldGUgJGh0dHAuZGVsZXRlfVxuICAgICAqIC0ge0BsaW5rIG5nLiRodHRwI2pzb25wICRodHRwLmpzb25wfVxuICAgICAqIC0ge0BsaW5rIG5nLiRodHRwI3BhdGNoICRodHRwLnBhdGNofVxuICAgICAqXG4gICAgICpcbiAgICAgKiAjIyBXcml0aW5nIFVuaXQgVGVzdHMgdGhhdCB1c2UgJGh0dHBcbiAgICAgKiBXaGVuIHVuaXQgdGVzdGluZyAodXNpbmcge0BsaW5rIG5nTW9jayBuZ01vY2t9KSwgaXQgaXMgbmVjZXNzYXJ5IHRvIGNhbGxcbiAgICAgKiB7QGxpbmsgbmdNb2NrLiRodHRwQmFja2VuZCNmbHVzaCAkaHR0cEJhY2tlbmQuZmx1c2goKX0gdG8gZmx1c2ggZWFjaCBwZW5kaW5nXG4gICAgICogcmVxdWVzdCB1c2luZyB0cmFpbmVkIHJlc3BvbnNlcy5cbiAgICAgKlxuICAgICAqIGBgYFxuICAgICAqICRodHRwQmFja2VuZC5leHBlY3RHRVQoLi4uKTtcbiAgICAgKiAkaHR0cC5nZXQoLi4uKTtcbiAgICAgKiAkaHR0cEJhY2tlbmQuZmx1c2goKTtcbiAgICAgKiBgYGBcbiAgICAgKlxuICAgICAqICMjIFNldHRpbmcgSFRUUCBIZWFkZXJzXG4gICAgICpcbiAgICAgKiBUaGUgJGh0dHAgc2VydmljZSB3aWxsIGF1dG9tYXRpY2FsbHkgYWRkIGNlcnRhaW4gSFRUUCBoZWFkZXJzIHRvIGFsbCByZXF1ZXN0cy4gVGhlc2UgZGVmYXVsdHNcbiAgICAgKiBjYW4gYmUgZnVsbHkgY29uZmlndXJlZCBieSBhY2Nlc3NpbmcgdGhlIGAkaHR0cFByb3ZpZGVyLmRlZmF1bHRzLmhlYWRlcnNgIGNvbmZpZ3VyYXRpb25cbiAgICAgKiBvYmplY3QsIHdoaWNoIGN1cnJlbnRseSBjb250YWlucyB0aGlzIGRlZmF1bHQgY29uZmlndXJhdGlvbjpcbiAgICAgKlxuICAgICAqIC0gYCRodHRwUHJvdmlkZXIuZGVmYXVsdHMuaGVhZGVycy5jb21tb25gIChoZWFkZXJzIHRoYXQgYXJlIGNvbW1vbiBmb3IgYWxsIHJlcXVlc3RzKTpcbiAgICAgKiAgIC0gPGNvZGU+QWNjZXB0OiBhcHBsaWNhdGlvbi9qc29uLCB0ZXh0L3BsYWluLCBcXComIzY1Mjc5Oy8mIzY1Mjc5O1xcKjwvY29kZT5cbiAgICAgKiAtIGAkaHR0cFByb3ZpZGVyLmRlZmF1bHRzLmhlYWRlcnMucG9zdGA6IChoZWFkZXIgZGVmYXVsdHMgZm9yIFBPU1QgcmVxdWVzdHMpXG4gICAgICogICAtIGBDb250ZW50LVR5cGU6IGFwcGxpY2F0aW9uL2pzb25gXG4gICAgICogLSBgJGh0dHBQcm92aWRlci5kZWZhdWx0cy5oZWFkZXJzLnB1dGAgKGhlYWRlciBkZWZhdWx0cyBmb3IgUFVUIHJlcXVlc3RzKVxuICAgICAqICAgLSBgQ29udGVudC1UeXBlOiBhcHBsaWNhdGlvbi9qc29uYFxuICAgICAqXG4gICAgICogVG8gYWRkIG9yIG92ZXJ3cml0ZSB0aGVzZSBkZWZhdWx0cywgc2ltcGx5IGFkZCBvciByZW1vdmUgYSBwcm9wZXJ0eSBmcm9tIHRoZXNlIGNvbmZpZ3VyYXRpb25cbiAgICAgKiBvYmplY3RzLiBUbyBhZGQgaGVhZGVycyBmb3IgYW4gSFRUUCBtZXRob2Qgb3RoZXIgdGhhbiBQT1NUIG9yIFBVVCwgc2ltcGx5IGFkZCBhIG5ldyBvYmplY3RcbiAgICAgKiB3aXRoIHRoZSBsb3dlcmNhc2VkIEhUVFAgbWV0aG9kIG5hbWUgYXMgdGhlIGtleSwgZS5nLlxuICAgICAqIGAkaHR0cFByb3ZpZGVyLmRlZmF1bHRzLmhlYWRlcnMuZ2V0ID0geyAnTXktSGVhZGVyJyA6ICd2YWx1ZScgfWAuXG4gICAgICpcbiAgICAgKiBUaGUgZGVmYXVsdHMgY2FuIGFsc28gYmUgc2V0IGF0IHJ1bnRpbWUgdmlhIHRoZSBgJGh0dHAuZGVmYXVsdHNgIG9iamVjdCBpbiB0aGUgc2FtZVxuICAgICAqIGZhc2hpb24uIEZvciBleGFtcGxlOlxuICAgICAqXG4gICAgICogYGBgXG4gICAgICogbW9kdWxlLnJ1bihmdW5jdGlvbigkaHR0cCkge1xuICAgICAqICAgJGh0dHAuZGVmYXVsdHMuaGVhZGVycy5jb21tb24uQXV0aG9yaXphdGlvbiA9ICdCYXNpYyBZbVZsY0RwaWIyOXcnO1xuICAgICAqIH0pO1xuICAgICAqIGBgYFxuICAgICAqXG4gICAgICogSW4gYWRkaXRpb24sIHlvdSBjYW4gc3VwcGx5IGEgYGhlYWRlcnNgIHByb3BlcnR5IGluIHRoZSBjb25maWcgb2JqZWN0IHBhc3NlZCB3aGVuXG4gICAgICogY2FsbGluZyBgJGh0dHAoY29uZmlnKWAsIHdoaWNoIG92ZXJyaWRlcyB0aGUgZGVmYXVsdHMgd2l0aG91dCBjaGFuZ2luZyB0aGVtIGdsb2JhbGx5LlxuICAgICAqXG4gICAgICogVG8gZXhwbGljaXRseSByZW1vdmUgYSBoZWFkZXIgYXV0b21hdGljYWxseSBhZGRlZCB2aWEgJGh0dHBQcm92aWRlci5kZWZhdWx0cy5oZWFkZXJzIG9uIGEgcGVyIHJlcXVlc3QgYmFzaXMsXG4gICAgICogVXNlIHRoZSBgaGVhZGVyc2AgcHJvcGVydHksIHNldHRpbmcgdGhlIGRlc2lyZWQgaGVhZGVyIHRvIGB1bmRlZmluZWRgLiBGb3IgZXhhbXBsZTpcbiAgICAgKlxuICAgICAqIGBgYGpzXG4gICAgICogdmFyIHJlcSA9IHtcbiAgICAgKiAgbWV0aG9kOiAnUE9TVCcsXG4gICAgICogIHVybDogJ2h0dHA6Ly9leGFtcGxlLmNvbScsXG4gICAgICogIGhlYWRlcnM6IHtcbiAgICAgKiAgICAnQ29udGVudC1UeXBlJzogdW5kZWZpbmVkXG4gICAgICogIH0sXG4gICAgICogIGRhdGE6IHsgdGVzdDogJ3Rlc3QnIH1cbiAgICAgKiB9XG4gICAgICpcbiAgICAgKiAkaHR0cChyZXEpLnRoZW4oZnVuY3Rpb24oKXsuLi59LCBmdW5jdGlvbigpey4uLn0pO1xuICAgICAqIGBgYFxuICAgICAqXG4gICAgICogIyMgVHJhbnNmb3JtaW5nIFJlcXVlc3RzIGFuZCBSZXNwb25zZXNcbiAgICAgKlxuICAgICAqIEJvdGggcmVxdWVzdHMgYW5kIHJlc3BvbnNlcyBjYW4gYmUgdHJhbnNmb3JtZWQgdXNpbmcgdHJhbnNmb3JtYXRpb24gZnVuY3Rpb25zOiBgdHJhbnNmb3JtUmVxdWVzdGBcbiAgICAgKiBhbmQgYHRyYW5zZm9ybVJlc3BvbnNlYC4gVGhlc2UgcHJvcGVydGllcyBjYW4gYmUgYSBzaW5nbGUgZnVuY3Rpb24gdGhhdCByZXR1cm5zXG4gICAgICogdGhlIHRyYW5zZm9ybWVkIHZhbHVlIChgZnVuY3Rpb24oZGF0YSwgaGVhZGVyc0dldHRlciwgc3RhdHVzKWApIG9yIGFuIGFycmF5IG9mIHN1Y2ggdHJhbnNmb3JtYXRpb24gZnVuY3Rpb25zLFxuICAgICAqIHdoaWNoIGFsbG93cyB5b3UgdG8gYHB1c2hgIG9yIGB1bnNoaWZ0YCBhIG5ldyB0cmFuc2Zvcm1hdGlvbiBmdW5jdGlvbiBpbnRvIHRoZSB0cmFuc2Zvcm1hdGlvbiBjaGFpbi5cbiAgICAgKlxuICAgICAqIDxkaXYgY2xhc3M9XCJhbGVydCBhbGVydC13YXJuaW5nXCI+XG4gICAgICogKipOb3RlOioqIEFuZ3VsYXIgZG9lcyBub3QgbWFrZSBhIGNvcHkgb2YgdGhlIGBkYXRhYCBwYXJhbWV0ZXIgYmVmb3JlIGl0IGlzIHBhc3NlZCBpbnRvIHRoZSBgdHJhbnNmb3JtUmVxdWVzdGAgcGlwZWxpbmUuXG4gICAgICogVGhhdCBtZWFucyBjaGFuZ2VzIHRvIHRoZSBwcm9wZXJ0aWVzIG9mIGBkYXRhYCBhcmUgbm90IGxvY2FsIHRvIHRoZSB0cmFuc2Zvcm0gZnVuY3Rpb24gKHNpbmNlIEphdmFzY3JpcHQgcGFzc2VzIG9iamVjdHMgYnkgcmVmZXJlbmNlKS5cbiAgICAgKiBGb3IgZXhhbXBsZSwgd2hlbiBjYWxsaW5nIGAkaHR0cC5nZXQodXJsLCAkc2NvcGUubXlPYmplY3QpYCwgbW9kaWZpY2F0aW9ucyB0byB0aGUgb2JqZWN0J3MgcHJvcGVydGllcyBpbiBhIHRyYW5zZm9ybVJlcXVlc3RcbiAgICAgKiBmdW5jdGlvbiB3aWxsIGJlIHJlZmxlY3RlZCBvbiB0aGUgc2NvcGUgYW5kIGluIGFueSB0ZW1wbGF0ZXMgd2hlcmUgdGhlIG9iamVjdCBpcyBkYXRhLWJvdW5kLlxuICAgICAqIFRvIHByZXZlbnQgdGhpcywgdHJhbnNmb3JtIGZ1bmN0aW9ucyBzaG91bGQgaGF2ZSBubyBzaWRlLWVmZmVjdHMuXG4gICAgICogSWYgeW91IG5lZWQgdG8gbW9kaWZ5IHByb3BlcnRpZXMsIGl0IGlzIHJlY29tbWVuZGVkIHRvIG1ha2UgYSBjb3B5IG9mIHRoZSBkYXRhLCBvciBjcmVhdGUgbmV3IG9iamVjdCB0byByZXR1cm4uXG4gICAgICogPC9kaXY+XG4gICAgICpcbiAgICAgKiAjIyMgRGVmYXVsdCBUcmFuc2Zvcm1hdGlvbnNcbiAgICAgKlxuICAgICAqIFRoZSBgJGh0dHBQcm92aWRlcmAgcHJvdmlkZXIgYW5kIGAkaHR0cGAgc2VydmljZSBleHBvc2UgYGRlZmF1bHRzLnRyYW5zZm9ybVJlcXVlc3RgIGFuZFxuICAgICAqIGBkZWZhdWx0cy50cmFuc2Zvcm1SZXNwb25zZWAgcHJvcGVydGllcy4gSWYgYSByZXF1ZXN0IGRvZXMgbm90IHByb3ZpZGUgaXRzIG93biB0cmFuc2Zvcm1hdGlvbnNcbiAgICAgKiB0aGVuIHRoZXNlIHdpbGwgYmUgYXBwbGllZC5cbiAgICAgKlxuICAgICAqIFlvdSBjYW4gYXVnbWVudCBvciByZXBsYWNlIHRoZSBkZWZhdWx0IHRyYW5zZm9ybWF0aW9ucyBieSBtb2RpZnlpbmcgdGhlc2UgcHJvcGVydGllcyBieSBhZGRpbmcgdG8gb3JcbiAgICAgKiByZXBsYWNpbmcgdGhlIGFycmF5LlxuICAgICAqXG4gICAgICogQW5ndWxhciBwcm92aWRlcyB0aGUgZm9sbG93aW5nIGRlZmF1bHQgdHJhbnNmb3JtYXRpb25zOlxuICAgICAqXG4gICAgICogUmVxdWVzdCB0cmFuc2Zvcm1hdGlvbnMgKGAkaHR0cFByb3ZpZGVyLmRlZmF1bHRzLnRyYW5zZm9ybVJlcXVlc3RgIGFuZCBgJGh0dHAuZGVmYXVsdHMudHJhbnNmb3JtUmVxdWVzdGApOlxuICAgICAqXG4gICAgICogLSBJZiB0aGUgYGRhdGFgIHByb3BlcnR5IG9mIHRoZSByZXF1ZXN0IGNvbmZpZ3VyYXRpb24gb2JqZWN0IGNvbnRhaW5zIGFuIG9iamVjdCwgc2VyaWFsaXplIGl0XG4gICAgICogICBpbnRvIEpTT04gZm9ybWF0LlxuICAgICAqXG4gICAgICogUmVzcG9uc2UgdHJhbnNmb3JtYXRpb25zIChgJGh0dHBQcm92aWRlci5kZWZhdWx0cy50cmFuc2Zvcm1SZXNwb25zZWAgYW5kIGAkaHR0cC5kZWZhdWx0cy50cmFuc2Zvcm1SZXNwb25zZWApOlxuICAgICAqXG4gICAgICogIC0gSWYgWFNSRiBwcmVmaXggaXMgZGV0ZWN0ZWQsIHN0cmlwIGl0IChzZWUgU2VjdXJpdHkgQ29uc2lkZXJhdGlvbnMgc2VjdGlvbiBiZWxvdykuXG4gICAgICogIC0gSWYgSlNPTiByZXNwb25zZSBpcyBkZXRlY3RlZCwgZGVzZXJpYWxpemUgaXQgdXNpbmcgYSBKU09OIHBhcnNlci5cbiAgICAgKlxuICAgICAqXG4gICAgICogIyMjIE92ZXJyaWRpbmcgdGhlIERlZmF1bHQgVHJhbnNmb3JtYXRpb25zIFBlciBSZXF1ZXN0XG4gICAgICpcbiAgICAgKiBJZiB5b3Ugd2lzaCB0byBvdmVycmlkZSB0aGUgcmVxdWVzdC9yZXNwb25zZSB0cmFuc2Zvcm1hdGlvbnMgb25seSBmb3IgYSBzaW5nbGUgcmVxdWVzdCB0aGVuIHByb3ZpZGVcbiAgICAgKiBgdHJhbnNmb3JtUmVxdWVzdGAgYW5kL29yIGB0cmFuc2Zvcm1SZXNwb25zZWAgcHJvcGVydGllcyBvbiB0aGUgY29uZmlndXJhdGlvbiBvYmplY3QgcGFzc2VkXG4gICAgICogaW50byBgJGh0dHBgLlxuICAgICAqXG4gICAgICogTm90ZSB0aGF0IGlmIHlvdSBwcm92aWRlIHRoZXNlIHByb3BlcnRpZXMgb24gdGhlIGNvbmZpZyBvYmplY3QgdGhlIGRlZmF1bHQgdHJhbnNmb3JtYXRpb25zIHdpbGwgYmVcbiAgICAgKiBvdmVyd3JpdHRlbi4gSWYgeW91IHdpc2ggdG8gYXVnbWVudCB0aGUgZGVmYXVsdCB0cmFuc2Zvcm1hdGlvbnMgdGhlbiB5b3UgbXVzdCBpbmNsdWRlIHRoZW0gaW4geW91clxuICAgICAqIGxvY2FsIHRyYW5zZm9ybWF0aW9uIGFycmF5LlxuICAgICAqXG4gICAgICogVGhlIGZvbGxvd2luZyBjb2RlIGRlbW9uc3RyYXRlcyBhZGRpbmcgYSBuZXcgcmVzcG9uc2UgdHJhbnNmb3JtYXRpb24gdG8gYmUgcnVuIGFmdGVyIHRoZSBkZWZhdWx0IHJlc3BvbnNlXG4gICAgICogdHJhbnNmb3JtYXRpb25zIGhhdmUgYmVlbiBydW4uXG4gICAgICpcbiAgICAgKiBgYGBqc1xuICAgICAqIGZ1bmN0aW9uIGFwcGVuZFRyYW5zZm9ybShkZWZhdWx0cywgdHJhbnNmb3JtKSB7XG4gICAgICpcbiAgICAgKiAgIC8vIFdlIGNhbid0IGd1YXJhbnRlZSB0aGF0IHRoZSBkZWZhdWx0IHRyYW5zZm9ybWF0aW9uIGlzIGFuIGFycmF5XG4gICAgICogICBkZWZhdWx0cyA9IGFuZ3VsYXIuaXNBcnJheShkZWZhdWx0cykgPyBkZWZhdWx0cyA6IFtkZWZhdWx0c107XG4gICAgICpcbiAgICAgKiAgIC8vIEFwcGVuZCB0aGUgbmV3IHRyYW5zZm9ybWF0aW9uIHRvIHRoZSBkZWZhdWx0c1xuICAgICAqICAgcmV0dXJuIGRlZmF1bHRzLmNvbmNhdCh0cmFuc2Zvcm0pO1xuICAgICAqIH1cbiAgICAgKlxuICAgICAqICRodHRwKHtcbiAgICAgKiAgIHVybDogJy4uLicsXG4gICAgICogICBtZXRob2Q6ICdHRVQnLFxuICAgICAqICAgdHJhbnNmb3JtUmVzcG9uc2U6IGFwcGVuZFRyYW5zZm9ybSgkaHR0cC5kZWZhdWx0cy50cmFuc2Zvcm1SZXNwb25zZSwgZnVuY3Rpb24odmFsdWUpIHtcbiAgICAgKiAgICAgcmV0dXJuIGRvVHJhbnNmb3JtKHZhbHVlKTtcbiAgICAgKiAgIH0pXG4gICAgICogfSk7XG4gICAgICogYGBgXG4gICAgICpcbiAgICAgKlxuICAgICAqICMjIENhY2hpbmdcbiAgICAgKlxuICAgICAqIHtAbGluayBuZy4kaHR0cCBgJGh0dHBgfSByZXNwb25zZXMgYXJlIG5vdCBjYWNoZWQgYnkgZGVmYXVsdC4gVG8gZW5hYmxlIGNhY2hpbmcsIHlvdSBtdXN0XG4gICAgICogc2V0IHRoZSBjb25maWcuY2FjaGUgdmFsdWUgb3IgdGhlIGRlZmF1bHQgY2FjaGUgdmFsdWUgdG8gVFJVRSBvciB0byBhIGNhY2hlIG9iamVjdCAoY3JlYXRlZFxuICAgICAqIHdpdGgge0BsaW5rIG5nLiRjYWNoZUZhY3RvcnkgYCRjYWNoZUZhY3RvcnlgfSkuIElmIGRlZmluZWQsIHRoZSB2YWx1ZSBvZiBjb25maWcuY2FjaGUgdGFrZXNcbiAgICAgKiBwcmVjZWRlbmNlIG92ZXIgdGhlIGRlZmF1bHQgY2FjaGUgdmFsdWUuXG4gICAgICpcbiAgICAgKiBJbiBvcmRlciB0bzpcbiAgICAgKiAgICogY2FjaGUgYWxsIHJlc3BvbnNlcyAtIHNldCB0aGUgZGVmYXVsdCBjYWNoZSB2YWx1ZSB0byBUUlVFIG9yIHRvIGEgY2FjaGUgb2JqZWN0XG4gICAgICogICAqIGNhY2hlIGEgc3BlY2lmaWMgcmVzcG9uc2UgLSBzZXQgY29uZmlnLmNhY2hlIHZhbHVlIHRvIFRSVUUgb3IgdG8gYSBjYWNoZSBvYmplY3RcbiAgICAgKlxuICAgICAqIElmIGNhY2hpbmcgaXMgZW5hYmxlZCwgYnV0IG5laXRoZXIgdGhlIGRlZmF1bHQgY2FjaGUgbm9yIGNvbmZpZy5jYWNoZSBhcmUgc2V0IHRvIGEgY2FjaGUgb2JqZWN0LFxuICAgICAqIHRoZW4gdGhlIGRlZmF1bHQgYCRjYWNoZUZhY3RvcnkoXCIkaHR0cFwiKWAgb2JqZWN0IGlzIHVzZWQuXG4gICAgICpcbiAgICAgKiBUaGUgZGVmYXVsdCBjYWNoZSB2YWx1ZSBjYW4gYmUgc2V0IGJ5IHVwZGF0aW5nIHRoZVxuICAgICAqIHtAbGluayBuZy4kaHR0cCNkZWZhdWx0cyBgJGh0dHAuZGVmYXVsdHMuY2FjaGVgfSBwcm9wZXJ0eSBvciB0aGVcbiAgICAgKiB7QGxpbmsgJGh0dHBQcm92aWRlciNkZWZhdWx0cyBgJGh0dHBQcm92aWRlci5kZWZhdWx0cy5jYWNoZWB9IHByb3BlcnR5LlxuICAgICAqXG4gICAgICogV2hlbiBjYWNoaW5nIGlzIGVuYWJsZWQsIHtAbGluayBuZy4kaHR0cCBgJGh0dHBgfSBzdG9yZXMgdGhlIHJlc3BvbnNlIGZyb20gdGhlIHNlcnZlciB1c2luZ1xuICAgICAqIHRoZSByZWxldmFudCBjYWNoZSBvYmplY3QuIFRoZSBuZXh0IHRpbWUgdGhlIHNhbWUgcmVxdWVzdCBpcyBtYWRlLCB0aGUgcmVzcG9uc2UgaXMgcmV0dXJuZWRcbiAgICAgKiBmcm9tIHRoZSBjYWNoZSB3aXRob3V0IHNlbmRpbmcgYSByZXF1ZXN0IHRvIHRoZSBzZXJ2ZXIuXG4gICAgICpcbiAgICAgKiBUYWtlIG5vdGUgdGhhdDpcbiAgICAgKlxuICAgICAqICAgKiBPbmx5IEdFVCBhbmQgSlNPTlAgcmVxdWVzdHMgYXJlIGNhY2hlZC5cbiAgICAgKiAgICogVGhlIGNhY2hlIGtleSBpcyB0aGUgcmVxdWVzdCBVUkwgaW5jbHVkaW5nIHNlYXJjaCBwYXJhbWV0ZXJzOyBoZWFkZXJzIGFyZSBub3QgY29uc2lkZXJlZC5cbiAgICAgKiAgICogQ2FjaGVkIHJlc3BvbnNlcyBhcmUgcmV0dXJuZWQgYXN5bmNocm9ub3VzbHksIGluIHRoZSBzYW1lIHdheSBhcyByZXNwb25zZXMgZnJvbSB0aGUgc2VydmVyLlxuICAgICAqICAgKiBJZiBtdWx0aXBsZSBpZGVudGljYWwgcmVxdWVzdHMgYXJlIG1hZGUgdXNpbmcgdGhlIHNhbWUgY2FjaGUsIHdoaWNoIGlzIG5vdCB5ZXQgcG9wdWxhdGVkLFxuICAgICAqICAgICBvbmUgcmVxdWVzdCB3aWxsIGJlIG1hZGUgdG8gdGhlIHNlcnZlciBhbmQgcmVtYWluaW5nIHJlcXVlc3RzIHdpbGwgcmV0dXJuIHRoZSBzYW1lIHJlc3BvbnNlLlxuICAgICAqICAgKiBBIGNhY2hlLWNvbnRyb2wgaGVhZGVyIG9uIHRoZSByZXNwb25zZSBkb2VzIG5vdCBhZmZlY3QgaWYgb3IgaG93IHJlc3BvbnNlcyBhcmUgY2FjaGVkLlxuICAgICAqXG4gICAgICpcbiAgICAgKiAjIyBJbnRlcmNlcHRvcnNcbiAgICAgKlxuICAgICAqIEJlZm9yZSB5b3Ugc3RhcnQgY3JlYXRpbmcgaW50ZXJjZXB0b3JzLCBiZSBzdXJlIHRvIHVuZGVyc3RhbmQgdGhlXG4gICAgICoge0BsaW5rIG5nLiRxICRxIGFuZCBkZWZlcnJlZC9wcm9taXNlIEFQSXN9LlxuICAgICAqXG4gICAgICogRm9yIHB1cnBvc2VzIG9mIGdsb2JhbCBlcnJvciBoYW5kbGluZywgYXV0aGVudGljYXRpb24sIG9yIGFueSBraW5kIG9mIHN5bmNocm9ub3VzIG9yXG4gICAgICogYXN5bmNocm9ub3VzIHByZS1wcm9jZXNzaW5nIG9mIHJlcXVlc3Qgb3IgcG9zdHByb2Nlc3Npbmcgb2YgcmVzcG9uc2VzLCBpdCBpcyBkZXNpcmFibGUgdG8gYmVcbiAgICAgKiBhYmxlIHRvIGludGVyY2VwdCByZXF1ZXN0cyBiZWZvcmUgdGhleSBhcmUgaGFuZGVkIHRvIHRoZSBzZXJ2ZXIgYW5kXG4gICAgICogcmVzcG9uc2VzIGJlZm9yZSB0aGV5IGFyZSBoYW5kZWQgb3ZlciB0byB0aGUgYXBwbGljYXRpb24gY29kZSB0aGF0XG4gICAgICogaW5pdGlhdGVkIHRoZXNlIHJlcXVlc3RzLiBUaGUgaW50ZXJjZXB0b3JzIGxldmVyYWdlIHRoZSB7QGxpbmsgbmcuJHFcbiAgICAgKiBwcm9taXNlIEFQSXN9IHRvIGZ1bGZpbGwgdGhpcyBuZWVkIGZvciBib3RoIHN5bmNocm9ub3VzIGFuZCBhc3luY2hyb25vdXMgcHJlLXByb2Nlc3NpbmcuXG4gICAgICpcbiAgICAgKiBUaGUgaW50ZXJjZXB0b3JzIGFyZSBzZXJ2aWNlIGZhY3RvcmllcyB0aGF0IGFyZSByZWdpc3RlcmVkIHdpdGggdGhlIGAkaHR0cFByb3ZpZGVyYCBieVxuICAgICAqIGFkZGluZyB0aGVtIHRvIHRoZSBgJGh0dHBQcm92aWRlci5pbnRlcmNlcHRvcnNgIGFycmF5LiBUaGUgZmFjdG9yeSBpcyBjYWxsZWQgYW5kXG4gICAgICogaW5qZWN0ZWQgd2l0aCBkZXBlbmRlbmNpZXMgKGlmIHNwZWNpZmllZCkgYW5kIHJldHVybnMgdGhlIGludGVyY2VwdG9yLlxuICAgICAqXG4gICAgICogVGhlcmUgYXJlIHR3byBraW5kcyBvZiBpbnRlcmNlcHRvcnMgKGFuZCB0d28ga2luZHMgb2YgcmVqZWN0aW9uIGludGVyY2VwdG9ycyk6XG4gICAgICpcbiAgICAgKiAgICogYHJlcXVlc3RgOiBpbnRlcmNlcHRvcnMgZ2V0IGNhbGxlZCB3aXRoIGEgaHR0cCB7QGxpbmsgJGh0dHAjdXNhZ2UgY29uZmlnfSBvYmplY3QuIFRoZSBmdW5jdGlvbiBpcyBmcmVlIHRvXG4gICAgICogICAgIG1vZGlmeSB0aGUgYGNvbmZpZ2Agb2JqZWN0IG9yIGNyZWF0ZSBhIG5ldyBvbmUuIFRoZSBmdW5jdGlvbiBuZWVkcyB0byByZXR1cm4gdGhlIGBjb25maWdgXG4gICAgICogICAgIG9iamVjdCBkaXJlY3RseSwgb3IgYSBwcm9taXNlIGNvbnRhaW5pbmcgdGhlIGBjb25maWdgIG9yIGEgbmV3IGBjb25maWdgIG9iamVjdC5cbiAgICAgKiAgICogYHJlcXVlc3RFcnJvcmA6IGludGVyY2VwdG9yIGdldHMgY2FsbGVkIHdoZW4gYSBwcmV2aW91cyBpbnRlcmNlcHRvciB0aHJldyBhbiBlcnJvciBvclxuICAgICAqICAgICByZXNvbHZlZCB3aXRoIGEgcmVqZWN0aW9uLlxuICAgICAqICAgKiBgcmVzcG9uc2VgOiBpbnRlcmNlcHRvcnMgZ2V0IGNhbGxlZCB3aXRoIGh0dHAgYHJlc3BvbnNlYCBvYmplY3QuIFRoZSBmdW5jdGlvbiBpcyBmcmVlIHRvXG4gICAgICogICAgIG1vZGlmeSB0aGUgYHJlc3BvbnNlYCBvYmplY3Qgb3IgY3JlYXRlIGEgbmV3IG9uZS4gVGhlIGZ1bmN0aW9uIG5lZWRzIHRvIHJldHVybiB0aGUgYHJlc3BvbnNlYFxuICAgICAqICAgICBvYmplY3QgZGlyZWN0bHksIG9yIGFzIGEgcHJvbWlzZSBjb250YWluaW5nIHRoZSBgcmVzcG9uc2VgIG9yIGEgbmV3IGByZXNwb25zZWAgb2JqZWN0LlxuICAgICAqICAgKiBgcmVzcG9uc2VFcnJvcmA6IGludGVyY2VwdG9yIGdldHMgY2FsbGVkIHdoZW4gYSBwcmV2aW91cyBpbnRlcmNlcHRvciB0aHJldyBhbiBlcnJvciBvclxuICAgICAqICAgICByZXNvbHZlZCB3aXRoIGEgcmVqZWN0aW9uLlxuICAgICAqXG4gICAgICpcbiAgICAgKiBgYGBqc1xuICAgICAqICAgLy8gcmVnaXN0ZXIgdGhlIGludGVyY2VwdG9yIGFzIGEgc2VydmljZVxuICAgICAqICAgJHByb3ZpZGUuZmFjdG9yeSgnbXlIdHRwSW50ZXJjZXB0b3InLCBmdW5jdGlvbigkcSwgZGVwZW5kZW5jeTEsIGRlcGVuZGVuY3kyKSB7XG4gICAgICogICAgIHJldHVybiB7XG4gICAgICogICAgICAgLy8gb3B0aW9uYWwgbWV0aG9kXG4gICAgICogICAgICAgJ3JlcXVlc3QnOiBmdW5jdGlvbihjb25maWcpIHtcbiAgICAgKiAgICAgICAgIC8vIGRvIHNvbWV0aGluZyBvbiBzdWNjZXNzXG4gICAgICogICAgICAgICByZXR1cm4gY29uZmlnO1xuICAgICAqICAgICAgIH0sXG4gICAgICpcbiAgICAgKiAgICAgICAvLyBvcHRpb25hbCBtZXRob2RcbiAgICAgKiAgICAgICdyZXF1ZXN0RXJyb3InOiBmdW5jdGlvbihyZWplY3Rpb24pIHtcbiAgICAgKiAgICAgICAgIC8vIGRvIHNvbWV0aGluZyBvbiBlcnJvclxuICAgICAqICAgICAgICAgaWYgKGNhblJlY292ZXIocmVqZWN0aW9uKSkge1xuICAgICAqICAgICAgICAgICByZXR1cm4gcmVzcG9uc2VPck5ld1Byb21pc2VcbiAgICAgKiAgICAgICAgIH1cbiAgICAgKiAgICAgICAgIHJldHVybiAkcS5yZWplY3QocmVqZWN0aW9uKTtcbiAgICAgKiAgICAgICB9LFxuICAgICAqXG4gICAgICpcbiAgICAgKlxuICAgICAqICAgICAgIC8vIG9wdGlvbmFsIG1ldGhvZFxuICAgICAqICAgICAgICdyZXNwb25zZSc6IGZ1bmN0aW9uKHJlc3BvbnNlKSB7XG4gICAgICogICAgICAgICAvLyBkbyBzb21ldGhpbmcgb24gc3VjY2Vzc1xuICAgICAqICAgICAgICAgcmV0dXJuIHJlc3BvbnNlO1xuICAgICAqICAgICAgIH0sXG4gICAgICpcbiAgICAgKiAgICAgICAvLyBvcHRpb25hbCBtZXRob2RcbiAgICAgKiAgICAgICdyZXNwb25zZUVycm9yJzogZnVuY3Rpb24ocmVqZWN0aW9uKSB7XG4gICAgICogICAgICAgICAvLyBkbyBzb21ldGhpbmcgb24gZXJyb3JcbiAgICAgKiAgICAgICAgIGlmIChjYW5SZWNvdmVyKHJlamVjdGlvbikpIHtcbiAgICAgKiAgICAgICAgICAgcmV0dXJuIHJlc3BvbnNlT3JOZXdQcm9taXNlXG4gICAgICogICAgICAgICB9XG4gICAgICogICAgICAgICByZXR1cm4gJHEucmVqZWN0KHJlamVjdGlvbik7XG4gICAgICogICAgICAgfVxuICAgICAqICAgICB9O1xuICAgICAqICAgfSk7XG4gICAgICpcbiAgICAgKiAgICRodHRwUHJvdmlkZXIuaW50ZXJjZXB0b3JzLnB1c2goJ215SHR0cEludGVyY2VwdG9yJyk7XG4gICAgICpcbiAgICAgKlxuICAgICAqICAgLy8gYWx0ZXJuYXRpdmVseSwgcmVnaXN0ZXIgdGhlIGludGVyY2VwdG9yIHZpYSBhbiBhbm9ueW1vdXMgZmFjdG9yeVxuICAgICAqICAgJGh0dHBQcm92aWRlci5pbnRlcmNlcHRvcnMucHVzaChmdW5jdGlvbigkcSwgZGVwZW5kZW5jeTEsIGRlcGVuZGVuY3kyKSB7XG4gICAgICogICAgIHJldHVybiB7XG4gICAgICogICAgICAncmVxdWVzdCc6IGZ1bmN0aW9uKGNvbmZpZykge1xuICAgICAqICAgICAgICAgIC8vIHNhbWUgYXMgYWJvdmVcbiAgICAgKiAgICAgICB9LFxuICAgICAqXG4gICAgICogICAgICAgJ3Jlc3BvbnNlJzogZnVuY3Rpb24ocmVzcG9uc2UpIHtcbiAgICAgKiAgICAgICAgICAvLyBzYW1lIGFzIGFib3ZlXG4gICAgICogICAgICAgfVxuICAgICAqICAgICB9O1xuICAgICAqICAgfSk7XG4gICAgICogYGBgXG4gICAgICpcbiAgICAgKiAjIyBTZWN1cml0eSBDb25zaWRlcmF0aW9uc1xuICAgICAqXG4gICAgICogV2hlbiBkZXNpZ25pbmcgd2ViIGFwcGxpY2F0aW9ucywgY29uc2lkZXIgc2VjdXJpdHkgdGhyZWF0cyBmcm9tOlxuICAgICAqXG4gICAgICogLSBbSlNPTiB2dWxuZXJhYmlsaXR5XShodHRwOi8vaGFhY2tlZC5jb20vYXJjaGl2ZS8yMDA4LzExLzIwL2FuYXRvbXktb2YtYS1zdWJ0bGUtanNvbi12dWxuZXJhYmlsaXR5LmFzcHgpXG4gICAgICogLSBbWFNSRl0oaHR0cDovL2VuLndpa2lwZWRpYS5vcmcvd2lraS9Dcm9zcy1zaXRlX3JlcXVlc3RfZm9yZ2VyeSlcbiAgICAgKlxuICAgICAqIEJvdGggc2VydmVyIGFuZCB0aGUgY2xpZW50IG11c3QgY29vcGVyYXRlIGluIG9yZGVyIHRvIGVsaW1pbmF0ZSB0aGVzZSB0aHJlYXRzLiBBbmd1bGFyIGNvbWVzXG4gICAgICogcHJlLWNvbmZpZ3VyZWQgd2l0aCBzdHJhdGVnaWVzIHRoYXQgYWRkcmVzcyB0aGVzZSBpc3N1ZXMsIGJ1dCBmb3IgdGhpcyB0byB3b3JrIGJhY2tlbmQgc2VydmVyXG4gICAgICogY29vcGVyYXRpb24gaXMgcmVxdWlyZWQuXG4gICAgICpcbiAgICAgKiAjIyMgSlNPTiBWdWxuZXJhYmlsaXR5IFByb3RlY3Rpb25cbiAgICAgKlxuICAgICAqIEEgW0pTT04gdnVsbmVyYWJpbGl0eV0oaHR0cDovL2hhYWNrZWQuY29tL2FyY2hpdmUvMjAwOC8xMS8yMC9hbmF0b215LW9mLWEtc3VidGxlLWpzb24tdnVsbmVyYWJpbGl0eS5hc3B4KVxuICAgICAqIGFsbG93cyB0aGlyZCBwYXJ0eSB3ZWJzaXRlIHRvIHR1cm4geW91ciBKU09OIHJlc291cmNlIFVSTCBpbnRvXG4gICAgICogW0pTT05QXShodHRwOi8vZW4ud2lraXBlZGlhLm9yZy93aWtpL0pTT05QKSByZXF1ZXN0IHVuZGVyIHNvbWUgY29uZGl0aW9ucy4gVG9cbiAgICAgKiBjb3VudGVyIHRoaXMgeW91ciBzZXJ2ZXIgY2FuIHByZWZpeCBhbGwgSlNPTiByZXF1ZXN0cyB3aXRoIGZvbGxvd2luZyBzdHJpbmcgYFwiKV19JyxcXG5cImAuXG4gICAgICogQW5ndWxhciB3aWxsIGF1dG9tYXRpY2FsbHkgc3RyaXAgdGhlIHByZWZpeCBiZWZvcmUgcHJvY2Vzc2luZyBpdCBhcyBKU09OLlxuICAgICAqXG4gICAgICogRm9yIGV4YW1wbGUgaWYgeW91ciBzZXJ2ZXIgbmVlZHMgdG8gcmV0dXJuOlxuICAgICAqIGBgYGpzXG4gICAgICogWydvbmUnLCd0d28nXVxuICAgICAqIGBgYFxuICAgICAqXG4gICAgICogd2hpY2ggaXMgdnVsbmVyYWJsZSB0byBhdHRhY2ssIHlvdXIgc2VydmVyIGNhbiByZXR1cm46XG4gICAgICogYGBganNcbiAgICAgKiApXX0nLFxuICAgICAqIFsnb25lJywndHdvJ11cbiAgICAgKiBgYGBcbiAgICAgKlxuICAgICAqIEFuZ3VsYXIgd2lsbCBzdHJpcCB0aGUgcHJlZml4LCBiZWZvcmUgcHJvY2Vzc2luZyB0aGUgSlNPTi5cbiAgICAgKlxuICAgICAqXG4gICAgICogIyMjIENyb3NzIFNpdGUgUmVxdWVzdCBGb3JnZXJ5IChYU1JGKSBQcm90ZWN0aW9uXG4gICAgICpcbiAgICAgKiBbWFNSRl0oaHR0cDovL2VuLndpa2lwZWRpYS5vcmcvd2lraS9Dcm9zcy1zaXRlX3JlcXVlc3RfZm9yZ2VyeSkgaXMgYW4gYXR0YWNrIHRlY2huaXF1ZSBieVxuICAgICAqIHdoaWNoIHRoZSBhdHRhY2tlciBjYW4gdHJpY2sgYW4gYXV0aGVudGljYXRlZCB1c2VyIGludG8gdW5rbm93aW5nbHkgZXhlY3V0aW5nIGFjdGlvbnMgb24geW91clxuICAgICAqIHdlYnNpdGUuIEFuZ3VsYXIgcHJvdmlkZXMgYSBtZWNoYW5pc20gdG8gY291bnRlciBYU1JGLiBXaGVuIHBlcmZvcm1pbmcgWEhSIHJlcXVlc3RzLCB0aGVcbiAgICAgKiAkaHR0cCBzZXJ2aWNlIHJlYWRzIGEgdG9rZW4gZnJvbSBhIGNvb2tpZSAoYnkgZGVmYXVsdCwgYFhTUkYtVE9LRU5gKSBhbmQgc2V0cyBpdCBhcyBhbiBIVFRQXG4gICAgICogaGVhZGVyIChgWC1YU1JGLVRPS0VOYCkuIFNpbmNlIG9ubHkgSmF2YVNjcmlwdCB0aGF0IHJ1bnMgb24geW91ciBkb21haW4gY291bGQgcmVhZCB0aGVcbiAgICAgKiBjb29raWUsIHlvdXIgc2VydmVyIGNhbiBiZSBhc3N1cmVkIHRoYXQgdGhlIFhIUiBjYW1lIGZyb20gSmF2YVNjcmlwdCBydW5uaW5nIG9uIHlvdXIgZG9tYWluLlxuICAgICAqIFRoZSBoZWFkZXIgd2lsbCBub3QgYmUgc2V0IGZvciBjcm9zcy1kb21haW4gcmVxdWVzdHMuXG4gICAgICpcbiAgICAgKiBUbyB0YWtlIGFkdmFudGFnZSBvZiB0aGlzLCB5b3VyIHNlcnZlciBuZWVkcyB0byBzZXQgYSB0b2tlbiBpbiBhIEphdmFTY3JpcHQgcmVhZGFibGUgc2Vzc2lvblxuICAgICAqIGNvb2tpZSBjYWxsZWQgYFhTUkYtVE9LRU5gIG9uIHRoZSBmaXJzdCBIVFRQIEdFVCByZXF1ZXN0LiBPbiBzdWJzZXF1ZW50IFhIUiByZXF1ZXN0cyB0aGVcbiAgICAgKiBzZXJ2ZXIgY2FuIHZlcmlmeSB0aGF0IHRoZSBjb29raWUgbWF0Y2hlcyBgWC1YU1JGLVRPS0VOYCBIVFRQIGhlYWRlciwgYW5kIHRoZXJlZm9yZSBiZSBzdXJlXG4gICAgICogdGhhdCBvbmx5IEphdmFTY3JpcHQgcnVubmluZyBvbiB5b3VyIGRvbWFpbiBjb3VsZCBoYXZlIHNlbnQgdGhlIHJlcXVlc3QuIFRoZSB0b2tlbiBtdXN0IGJlXG4gICAgICogdW5pcXVlIGZvciBlYWNoIHVzZXIgYW5kIG11c3QgYmUgdmVyaWZpYWJsZSBieSB0aGUgc2VydmVyICh0byBwcmV2ZW50IHRoZSBKYXZhU2NyaXB0IGZyb21cbiAgICAgKiBtYWtpbmcgdXAgaXRzIG93biB0b2tlbnMpLiBXZSByZWNvbW1lbmQgdGhhdCB0aGUgdG9rZW4gaXMgYSBkaWdlc3Qgb2YgeW91ciBzaXRlJ3NcbiAgICAgKiBhdXRoZW50aWNhdGlvbiBjb29raWUgd2l0aCBhIFtzYWx0XShodHRwczovL2VuLndpa2lwZWRpYS5vcmcvd2lraS9TYWx0XyhjcnlwdG9ncmFwaHkmIzQxOylcbiAgICAgKiBmb3IgYWRkZWQgc2VjdXJpdHkuXG4gICAgICpcbiAgICAgKiBUaGUgbmFtZSBvZiB0aGUgaGVhZGVycyBjYW4gYmUgc3BlY2lmaWVkIHVzaW5nIHRoZSB4c3JmSGVhZGVyTmFtZSBhbmQgeHNyZkNvb2tpZU5hbWVcbiAgICAgKiBwcm9wZXJ0aWVzIG9mIGVpdGhlciAkaHR0cFByb3ZpZGVyLmRlZmF1bHRzIGF0IGNvbmZpZy10aW1lLCAkaHR0cC5kZWZhdWx0cyBhdCBydW4tdGltZSxcbiAgICAgKiBvciB0aGUgcGVyLXJlcXVlc3QgY29uZmlnIG9iamVjdC5cbiAgICAgKlxuICAgICAqIEluIG9yZGVyIHRvIHByZXZlbnQgY29sbGlzaW9ucyBpbiBlbnZpcm9ubWVudHMgd2hlcmUgbXVsdGlwbGUgQW5ndWxhciBhcHBzIHNoYXJlIHRoZVxuICAgICAqIHNhbWUgZG9tYWluIG9yIHN1YmRvbWFpbiwgd2UgcmVjb21tZW5kIHRoYXQgZWFjaCBhcHBsaWNhdGlvbiB1c2VzIHVuaXF1ZSBjb29raWUgbmFtZS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7b2JqZWN0fSBjb25maWcgT2JqZWN0IGRlc2NyaWJpbmcgdGhlIHJlcXVlc3QgdG8gYmUgbWFkZSBhbmQgaG93IGl0IHNob3VsZCBiZVxuICAgICAqICAgIHByb2Nlc3NlZC4gVGhlIG9iamVjdCBoYXMgZm9sbG93aW5nIHByb3BlcnRpZXM6XG4gICAgICpcbiAgICAgKiAgICAtICoqbWV0aG9kKiog4oCTIGB7c3RyaW5nfWAg4oCTIEhUVFAgbWV0aG9kIChlLmcuICdHRVQnLCAnUE9TVCcsIGV0YylcbiAgICAgKiAgICAtICoqdXJsKiog4oCTIGB7c3RyaW5nfFRydXN0ZWRPYmplY3R9YCDigJMgQWJzb2x1dGUgb3IgcmVsYXRpdmUgVVJMIG9mIHRoZSByZXNvdXJjZSB0aGF0IGlzIGJlaW5nIHJlcXVlc3RlZDtcbiAgICAgKiAgICAgIG9yIGFuIG9iamVjdCBjcmVhdGVkIGJ5IGEgY2FsbCB0byBgJHNjZS50cnVzdEFzUmVzb3VyY2VVcmwodXJsKWAuXG4gICAgICogICAgLSAqKnBhcmFtcyoqIOKAkyBge09iamVjdC48c3RyaW5nfE9iamVjdD59YCDigJMgTWFwIG9mIHN0cmluZ3Mgb3Igb2JqZWN0cyB3aGljaCB3aWxsIGJlIHNlcmlhbGl6ZWRcbiAgICAgKiAgICAgIHdpdGggdGhlIGBwYXJhbVNlcmlhbGl6ZXJgIGFuZCBhcHBlbmRlZCBhcyBHRVQgcGFyYW1ldGVycy5cbiAgICAgKiAgICAtICoqZGF0YSoqIOKAkyBge3N0cmluZ3xPYmplY3R9YCDigJMgRGF0YSB0byBiZSBzZW50IGFzIHRoZSByZXF1ZXN0IG1lc3NhZ2UgZGF0YS5cbiAgICAgKiAgICAtICoqaGVhZGVycyoqIOKAkyBge09iamVjdH1gIOKAkyBNYXAgb2Ygc3RyaW5ncyBvciBmdW5jdGlvbnMgd2hpY2ggcmV0dXJuIHN0cmluZ3MgcmVwcmVzZW50aW5nXG4gICAgICogICAgICBIVFRQIGhlYWRlcnMgdG8gc2VuZCB0byB0aGUgc2VydmVyLiBJZiB0aGUgcmV0dXJuIHZhbHVlIG9mIGEgZnVuY3Rpb24gaXMgbnVsbCwgdGhlXG4gICAgICogICAgICBoZWFkZXIgd2lsbCBub3QgYmUgc2VudC4gRnVuY3Rpb25zIGFjY2VwdCBhIGNvbmZpZyBvYmplY3QgYXMgYW4gYXJndW1lbnQuXG4gICAgICogICAgLSAqKmV2ZW50SGFuZGxlcnMqKiAtIGB7T2JqZWN0fWAgLSBFdmVudCBsaXN0ZW5lcnMgdG8gYmUgYm91bmQgdG8gdGhlIFhNTEh0dHBSZXF1ZXN0IG9iamVjdC5cbiAgICAgKiAgICAgIFRvIGJpbmQgZXZlbnRzIHRvIHRoZSBYTUxIdHRwUmVxdWVzdCB1cGxvYWQgb2JqZWN0LCB1c2UgYHVwbG9hZEV2ZW50SGFuZGxlcnNgLlxuICAgICAqICAgICAgVGhlIGhhbmRsZXIgd2lsbCBiZSBjYWxsZWQgaW4gdGhlIGNvbnRleHQgb2YgYSBgJGFwcGx5YCBibG9jay5cbiAgICAgKiAgICAtICoqdXBsb2FkRXZlbnRIYW5kbGVycyoqIC0gYHtPYmplY3R9YCAtIEV2ZW50IGxpc3RlbmVycyB0byBiZSBib3VuZCB0byB0aGUgWE1MSHR0cFJlcXVlc3QgdXBsb2FkXG4gICAgICogICAgICBvYmplY3QuIFRvIGJpbmQgZXZlbnRzIHRvIHRoZSBYTUxIdHRwUmVxdWVzdCBvYmplY3QsIHVzZSBgZXZlbnRIYW5kbGVyc2AuXG4gICAgICogICAgICBUaGUgaGFuZGxlciB3aWxsIGJlIGNhbGxlZCBpbiB0aGUgY29udGV4dCBvZiBhIGAkYXBwbHlgIGJsb2NrLlxuICAgICAqICAgIC0gKip4c3JmSGVhZGVyTmFtZSoqIOKAkyBge3N0cmluZ31gIOKAkyBOYW1lIG9mIEhUVFAgaGVhZGVyIHRvIHBvcHVsYXRlIHdpdGggdGhlIFhTUkYgdG9rZW4uXG4gICAgICogICAgLSAqKnhzcmZDb29raWVOYW1lKiog4oCTIGB7c3RyaW5nfWAg4oCTIE5hbWUgb2YgY29va2llIGNvbnRhaW5pbmcgdGhlIFhTUkYgdG9rZW4uXG4gICAgICogICAgLSAqKnRyYW5zZm9ybVJlcXVlc3QqKiDigJNcbiAgICAgKiAgICAgIGB7ZnVuY3Rpb24oZGF0YSwgaGVhZGVyc0dldHRlcil8QXJyYXkuPGZ1bmN0aW9uKGRhdGEsIGhlYWRlcnNHZXR0ZXIpPn1gIOKAk1xuICAgICAqICAgICAgdHJhbnNmb3JtIGZ1bmN0aW9uIG9yIGFuIGFycmF5IG9mIHN1Y2ggZnVuY3Rpb25zLiBUaGUgdHJhbnNmb3JtIGZ1bmN0aW9uIHRha2VzIHRoZSBodHRwXG4gICAgICogICAgICByZXF1ZXN0IGJvZHkgYW5kIGhlYWRlcnMgYW5kIHJldHVybnMgaXRzIHRyYW5zZm9ybWVkICh0eXBpY2FsbHkgc2VyaWFsaXplZCkgdmVyc2lvbi5cbiAgICAgKiAgICAgIFNlZSB7QGxpbmsgbmcuJGh0dHAjb3ZlcnJpZGluZy10aGUtZGVmYXVsdC10cmFuc2Zvcm1hdGlvbnMtcGVyLXJlcXVlc3RcbiAgICAgKiAgICAgIE92ZXJyaWRpbmcgdGhlIERlZmF1bHQgVHJhbnNmb3JtYXRpb25zfVxuICAgICAqICAgIC0gKip0cmFuc2Zvcm1SZXNwb25zZSoqIOKAk1xuICAgICAqICAgICAgYHtmdW5jdGlvbihkYXRhLCBoZWFkZXJzR2V0dGVyLCBzdGF0dXMpfEFycmF5LjxmdW5jdGlvbihkYXRhLCBoZWFkZXJzR2V0dGVyLCBzdGF0dXMpPn1gIOKAk1xuICAgICAqICAgICAgdHJhbnNmb3JtIGZ1bmN0aW9uIG9yIGFuIGFycmF5IG9mIHN1Y2ggZnVuY3Rpb25zLiBUaGUgdHJhbnNmb3JtIGZ1bmN0aW9uIHRha2VzIHRoZSBodHRwXG4gICAgICogICAgICByZXNwb25zZSBib2R5LCBoZWFkZXJzIGFuZCBzdGF0dXMgYW5kIHJldHVybnMgaXRzIHRyYW5zZm9ybWVkICh0eXBpY2FsbHkgZGVzZXJpYWxpemVkKSB2ZXJzaW9uLlxuICAgICAqICAgICAgU2VlIHtAbGluayBuZy4kaHR0cCNvdmVycmlkaW5nLXRoZS1kZWZhdWx0LXRyYW5zZm9ybWF0aW9ucy1wZXItcmVxdWVzdFxuICAgICAqICAgICAgT3ZlcnJpZGluZyB0aGUgRGVmYXVsdCBUcmFuc2Zvcm1hdGlvbnN9XG4gICAgICogICAgLSAqKnBhcmFtU2VyaWFsaXplcioqIC0gYHtzdHJpbmd8ZnVuY3Rpb24oT2JqZWN0PHN0cmluZyxzdHJpbmc+KTpzdHJpbmd9YCAtIEEgZnVuY3Rpb24gdXNlZCB0b1xuICAgICAqICAgICAgcHJlcGFyZSB0aGUgc3RyaW5nIHJlcHJlc2VudGF0aW9uIG9mIHJlcXVlc3QgcGFyYW1ldGVycyAoc3BlY2lmaWVkIGFzIGFuIG9iamVjdCkuXG4gICAgICogICAgICBJZiBzcGVjaWZpZWQgYXMgc3RyaW5nLCBpdCBpcyBpbnRlcnByZXRlZCBhcyBmdW5jdGlvbiByZWdpc3RlcmVkIHdpdGggdGhlXG4gICAgICogICAgICB7QGxpbmsgJGluamVjdG9yICRpbmplY3Rvcn0sIHdoaWNoIG1lYW5zIHlvdSBjYW4gY3JlYXRlIHlvdXIgb3duIHNlcmlhbGl6ZXJcbiAgICAgKiAgICAgIGJ5IHJlZ2lzdGVyaW5nIGl0IGFzIGEge0BsaW5rIGF1dG8uJHByb3ZpZGUjc2VydmljZSBzZXJ2aWNlfS5cbiAgICAgKiAgICAgIFRoZSBkZWZhdWx0IHNlcmlhbGl6ZXIgaXMgdGhlIHtAbGluayAkaHR0cFBhcmFtU2VyaWFsaXplciAkaHR0cFBhcmFtU2VyaWFsaXplcn07XG4gICAgICogICAgICBhbHRlcm5hdGl2ZWx5LCB5b3UgY2FuIHVzZSB0aGUge0BsaW5rICRodHRwUGFyYW1TZXJpYWxpemVySlFMaWtlICRodHRwUGFyYW1TZXJpYWxpemVySlFMaWtlfVxuICAgICAqICAgIC0gKipjYWNoZSoqIOKAkyBge2Jvb2xlYW58T2JqZWN0fWAg4oCTIEEgYm9vbGVhbiB2YWx1ZSBvciBvYmplY3QgY3JlYXRlZCB3aXRoXG4gICAgICogICAgICB7QGxpbmsgbmcuJGNhY2hlRmFjdG9yeSBgJGNhY2hlRmFjdG9yeWB9IHRvIGVuYWJsZSBvciBkaXNhYmxlIGNhY2hpbmcgb2YgdGhlIEhUVFAgcmVzcG9uc2UuXG4gICAgICogICAgICBTZWUge0BsaW5rICRodHRwI2NhY2hpbmcgJGh0dHAgQ2FjaGluZ30gZm9yIG1vcmUgaW5mb3JtYXRpb24uXG4gICAgICogICAgLSAqKnRpbWVvdXQqKiDigJMgYHtudW1iZXJ8UHJvbWlzZX1gIOKAkyB0aW1lb3V0IGluIG1pbGxpc2Vjb25kcywgb3Ige0BsaW5rIG5nLiRxIHByb21pc2V9XG4gICAgICogICAgICB0aGF0IHNob3VsZCBhYm9ydCB0aGUgcmVxdWVzdCB3aGVuIHJlc29sdmVkLlxuICAgICAqICAgIC0gKip3aXRoQ3JlZGVudGlhbHMqKiAtIGB7Ym9vbGVhbn1gIC0gd2hldGhlciB0byBzZXQgdGhlIGB3aXRoQ3JlZGVudGlhbHNgIGZsYWcgb24gdGhlXG4gICAgICogICAgICBYSFIgb2JqZWN0LiBTZWUgW3JlcXVlc3RzIHdpdGggY3JlZGVudGlhbHNdKGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2RvY3MvV2ViL0hUVFAvQWNjZXNzX2NvbnRyb2xfQ09SUyNSZXF1ZXN0c193aXRoX2NyZWRlbnRpYWxzKVxuICAgICAqICAgICAgZm9yIG1vcmUgaW5mb3JtYXRpb24uXG4gICAgICogICAgLSAqKnJlc3BvbnNlVHlwZSoqIC0gYHtzdHJpbmd9YCAtIHNlZVxuICAgICAqICAgICAgW1hNTEh0dHBSZXF1ZXN0LnJlc3BvbnNlVHlwZV0oaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvQVBJL1hNTEh0dHBSZXF1ZXN0I3htbGh0dHByZXF1ZXN0LXJlc3BvbnNldHlwZSkuXG4gICAgICpcbiAgICAgKiBAcmV0dXJucyB7SHR0cFByb21pc2V9IFJldHVybnMgYSB7QGxpbmsgbmcuJHEgYFByb21pc2V9YCB0aGF0IHdpbGwgYmUgcmVzb2x2ZWQgdG8gYSByZXNwb25zZSBvYmplY3RcbiAgICAgKiAgICAgICAgICAgICAgICAgICAgICAgIHdoZW4gdGhlIHJlcXVlc3Qgc3VjY2VlZHMgb3IgZmFpbHMuXG4gICAgICpcbiAgICAgKlxuICAgICAqIEBwcm9wZXJ0eSB7QXJyYXkuPE9iamVjdD59IHBlbmRpbmdSZXF1ZXN0cyBBcnJheSBvZiBjb25maWcgb2JqZWN0cyBmb3IgY3VycmVudGx5IHBlbmRpbmdcbiAgICAgKiAgIHJlcXVlc3RzLiBUaGlzIGlzIHByaW1hcmlseSBtZWFudCB0byBiZSB1c2VkIGZvciBkZWJ1Z2dpbmcgcHVycG9zZXMuXG4gICAgICpcbiAgICAgKlxuICAgICAqIEBleGFtcGxlXG48ZXhhbXBsZSBtb2R1bGU9XCJodHRwRXhhbXBsZVwiIG5hbWU9XCJodHRwLXNlcnZpY2VcIj5cbjxmaWxlIG5hbWU9XCJpbmRleC5odG1sXCI+XG4gIDxkaXYgbmctY29udHJvbGxlcj1cIkZldGNoQ29udHJvbGxlclwiPlxuICAgIDxzZWxlY3QgbmctbW9kZWw9XCJtZXRob2RcIiBhcmlhLWxhYmVsPVwiUmVxdWVzdCBtZXRob2RcIj5cbiAgICAgIDxvcHRpb24+R0VUPC9vcHRpb24+XG4gICAgICA8b3B0aW9uPkpTT05QPC9vcHRpb24+XG4gICAgPC9zZWxlY3Q+XG4gICAgPGlucHV0IHR5cGU9XCJ0ZXh0XCIgbmctbW9kZWw9XCJ1cmxcIiBzaXplPVwiODBcIiBhcmlhLWxhYmVsPVwiVVJMXCIgLz5cbiAgICA8YnV0dG9uIGlkPVwiZmV0Y2hidG5cIiBuZy1jbGljaz1cImZldGNoKClcIj5mZXRjaDwvYnV0dG9uPjxicj5cbiAgICA8YnV0dG9uIGlkPVwic2FtcGxlZ2V0YnRuXCIgbmctY2xpY2s9XCJ1cGRhdGVNb2RlbCgnR0VUJywgJ2h0dHAtaGVsbG8uaHRtbCcpXCI+U2FtcGxlIEdFVDwvYnV0dG9uPlxuICAgIDxidXR0b24gaWQ9XCJzYW1wbGVqc29ucGJ0blwiXG4gICAgICBuZy1jbGljaz1cInVwZGF0ZU1vZGVsKCdKU09OUCcsXG4gICAgICAgICAgICAgICAgICAgICdodHRwczovL2FuZ3VsYXJqcy5vcmcvZ3JlZXQucGhwP25hbWU9U3VwZXIlMjBIZXJvJylcIj5cbiAgICAgIFNhbXBsZSBKU09OUFxuICAgIDwvYnV0dG9uPlxuICAgIDxidXR0b24gaWQ9XCJpbnZhbGlkanNvbnBidG5cIlxuICAgICAgbmctY2xpY2s9XCJ1cGRhdGVNb2RlbCgnSlNPTlAnLCAnaHR0cHM6Ly9hbmd1bGFyanMub3JnL2RvZXNudGV4aXN0JylcIj5cbiAgICAgICAgSW52YWxpZCBKU09OUFxuICAgICAgPC9idXR0b24+XG4gICAgPHByZT5odHRwIHN0YXR1cyBjb2RlOiB7e3N0YXR1c319PC9wcmU+XG4gICAgPHByZT5odHRwIHJlc3BvbnNlIGRhdGE6IHt7ZGF0YX19PC9wcmU+XG4gIDwvZGl2PlxuPC9maWxlPlxuPGZpbGUgbmFtZT1cInNjcmlwdC5qc1wiPlxuICBhbmd1bGFyLm1vZHVsZSgnaHR0cEV4YW1wbGUnLCBbXSlcbiAgICAuY29uZmlnKFsnJHNjZURlbGVnYXRlUHJvdmlkZXInLCBmdW5jdGlvbigkc2NlRGVsZWdhdGVQcm92aWRlcikge1xuICAgICAgLy8gV2UgbXVzdCB3aGl0ZWxpc3QgdGhlIEpTT05QIGVuZHBvaW50IHRoYXQgd2UgYXJlIHVzaW5nIHRvIHNob3cgdGhhdCB3ZSB0cnVzdCBpdFxuICAgICAgJHNjZURlbGVnYXRlUHJvdmlkZXIucmVzb3VyY2VVcmxXaGl0ZWxpc3QoW1xuICAgICAgICAnc2VsZicsXG4gICAgICAgICdodHRwczovL2FuZ3VsYXJqcy5vcmcvKionXG4gICAgICBdKTtcbiAgICB9XSlcbiAgICAuY29udHJvbGxlcignRmV0Y2hDb250cm9sbGVyJywgWyckc2NvcGUnLCAnJGh0dHAnLCAnJHRlbXBsYXRlQ2FjaGUnLFxuICAgICAgZnVuY3Rpb24oJHNjb3BlLCAkaHR0cCwgJHRlbXBsYXRlQ2FjaGUpIHtcbiAgICAgICAgJHNjb3BlLm1ldGhvZCA9ICdHRVQnO1xuICAgICAgICAkc2NvcGUudXJsID0gJ2h0dHAtaGVsbG8uaHRtbCc7XG5cbiAgICAgICAgJHNjb3BlLmZldGNoID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgJHNjb3BlLmNvZGUgPSBudWxsO1xuICAgICAgICAgICRzY29wZS5yZXNwb25zZSA9IG51bGw7XG5cbiAgICAgICAgICAkaHR0cCh7bWV0aG9kOiAkc2NvcGUubWV0aG9kLCB1cmw6ICRzY29wZS51cmwsIGNhY2hlOiAkdGVtcGxhdGVDYWNoZX0pLlxuICAgICAgICAgICAgdGhlbihmdW5jdGlvbihyZXNwb25zZSkge1xuICAgICAgICAgICAgICAkc2NvcGUuc3RhdHVzID0gcmVzcG9uc2Uuc3RhdHVzO1xuICAgICAgICAgICAgICAkc2NvcGUuZGF0YSA9IHJlc3BvbnNlLmRhdGE7XG4gICAgICAgICAgICB9LCBmdW5jdGlvbihyZXNwb25zZSkge1xuICAgICAgICAgICAgICAkc2NvcGUuZGF0YSA9IHJlc3BvbnNlLmRhdGEgfHwgJ1JlcXVlc3QgZmFpbGVkJztcbiAgICAgICAgICAgICAgJHNjb3BlLnN0YXR1cyA9IHJlc3BvbnNlLnN0YXR1cztcbiAgICAgICAgICB9KTtcbiAgICAgICAgfTtcblxuICAgICAgICAkc2NvcGUudXBkYXRlTW9kZWwgPSBmdW5jdGlvbihtZXRob2QsIHVybCkge1xuICAgICAgICAgICRzY29wZS5tZXRob2QgPSBtZXRob2Q7XG4gICAgICAgICAgJHNjb3BlLnVybCA9IHVybDtcbiAgICAgICAgfTtcbiAgICAgIH1dKTtcbjwvZmlsZT5cbjxmaWxlIG5hbWU9XCJodHRwLWhlbGxvLmh0bWxcIj5cbiAgSGVsbG8sICRodHRwIVxuPC9maWxlPlxuPGZpbGUgbmFtZT1cInByb3RyYWN0b3IuanNcIiB0eXBlPVwicHJvdHJhY3RvclwiPlxuICB2YXIgc3RhdHVzID0gZWxlbWVudChieS5iaW5kaW5nKCdzdGF0dXMnKSk7XG4gIHZhciBkYXRhID0gZWxlbWVudChieS5iaW5kaW5nKCdkYXRhJykpO1xuICB2YXIgZmV0Y2hCdG4gPSBlbGVtZW50KGJ5LmlkKCdmZXRjaGJ0bicpKTtcbiAgdmFyIHNhbXBsZUdldEJ0biA9IGVsZW1lbnQoYnkuaWQoJ3NhbXBsZWdldGJ0bicpKTtcbiAgdmFyIGludmFsaWRKc29ucEJ0biA9IGVsZW1lbnQoYnkuaWQoJ2ludmFsaWRqc29ucGJ0bicpKTtcblxuICBpdCgnc2hvdWxkIG1ha2UgYW4geGhyIEdFVCByZXF1ZXN0JywgZnVuY3Rpb24oKSB7XG4gICAgc2FtcGxlR2V0QnRuLmNsaWNrKCk7XG4gICAgZmV0Y2hCdG4uY2xpY2soKTtcbiAgICBleHBlY3Qoc3RhdHVzLmdldFRleHQoKSkudG9NYXRjaCgnMjAwJyk7XG4gICAgZXhwZWN0KGRhdGEuZ2V0VGV4dCgpKS50b01hdGNoKC9IZWxsbywgXFwkaHR0cCEvKTtcbiAgfSk7XG5cbi8vIENvbW1lbnRlZCBvdXQgZHVlIHRvIGZsYWtlcy4gU2VlIGh0dHBzOi8vZ2l0aHViLmNvbS9hbmd1bGFyL2FuZ3VsYXIuanMvaXNzdWVzLzkxODVcbi8vIGl0KCdzaG91bGQgbWFrZSBhIEpTT05QIHJlcXVlc3QgdG8gYW5ndWxhcmpzLm9yZycsIGZ1bmN0aW9uKCkge1xuLy8gICB2YXIgc2FtcGxlSnNvbnBCdG4gPSBlbGVtZW50KGJ5LmlkKCdzYW1wbGVqc29ucGJ0bicpKTtcbi8vICAgc2FtcGxlSnNvbnBCdG4uY2xpY2soKTtcbi8vICAgZmV0Y2hCdG4uY2xpY2soKTtcbi8vICAgZXhwZWN0KHN0YXR1cy5nZXRUZXh0KCkpLnRvTWF0Y2goJzIwMCcpO1xuLy8gICBleHBlY3QoZGF0YS5nZXRUZXh0KCkpLnRvTWF0Y2goL1N1cGVyIEhlcm8hLyk7XG4vLyB9KTtcblxuICBpdCgnc2hvdWxkIG1ha2UgSlNPTlAgcmVxdWVzdCB0byBpbnZhbGlkIFVSTCBhbmQgaW52b2tlIHRoZSBlcnJvciBoYW5kbGVyJyxcbiAgICAgIGZ1bmN0aW9uKCkge1xuICAgIGludmFsaWRKc29ucEJ0bi5jbGljaygpO1xuICAgIGZldGNoQnRuLmNsaWNrKCk7XG4gICAgZXhwZWN0KHN0YXR1cy5nZXRUZXh0KCkpLnRvTWF0Y2goJzAnKTtcbiAgICBleHBlY3QoZGF0YS5nZXRUZXh0KCkpLnRvTWF0Y2goJ1JlcXVlc3QgZmFpbGVkJyk7XG4gIH0pO1xuPC9maWxlPlxuPC9leGFtcGxlPlxuICAgICAqL1xuICAgIGZ1bmN0aW9uICRodHRwKHJlcXVlc3RDb25maWcpIHtcblxuICAgICAgaWYgKCFpc09iamVjdChyZXF1ZXN0Q29uZmlnKSkge1xuICAgICAgICB0aHJvdyBtaW5FcnIoJyRodHRwJykoJ2JhZHJlcScsICdIdHRwIHJlcXVlc3QgY29uZmlndXJhdGlvbiBtdXN0IGJlIGFuIG9iamVjdC4gIFJlY2VpdmVkOiB7MH0nLCByZXF1ZXN0Q29uZmlnKTtcbiAgICAgIH1cblxuICAgICAgaWYgKCFpc1N0cmluZygkc2NlLnZhbHVlT2YocmVxdWVzdENvbmZpZy51cmwpKSkge1xuICAgICAgICB0aHJvdyBtaW5FcnIoJyRodHRwJykoJ2JhZHJlcScsICdIdHRwIHJlcXVlc3QgY29uZmlndXJhdGlvbiB1cmwgbXVzdCBiZSBhIHN0cmluZyBvciBhICRzY2UgdHJ1c3RlZCBvYmplY3QuICBSZWNlaXZlZDogezB9JywgcmVxdWVzdENvbmZpZy51cmwpO1xuICAgICAgfVxuXG4gICAgICB2YXIgY29uZmlnID0gZXh0ZW5kKHtcbiAgICAgICAgbWV0aG9kOiAnZ2V0JyxcbiAgICAgICAgdHJhbnNmb3JtUmVxdWVzdDogZGVmYXVsdHMudHJhbnNmb3JtUmVxdWVzdCxcbiAgICAgICAgdHJhbnNmb3JtUmVzcG9uc2U6IGRlZmF1bHRzLnRyYW5zZm9ybVJlc3BvbnNlLFxuICAgICAgICBwYXJhbVNlcmlhbGl6ZXI6IGRlZmF1bHRzLnBhcmFtU2VyaWFsaXplcixcbiAgICAgICAganNvbnBDYWxsYmFja1BhcmFtOiBkZWZhdWx0cy5qc29ucENhbGxiYWNrUGFyYW1cbiAgICAgIH0sIHJlcXVlc3RDb25maWcpO1xuXG4gICAgICBjb25maWcuaGVhZGVycyA9IG1lcmdlSGVhZGVycyhyZXF1ZXN0Q29uZmlnKTtcbiAgICAgIGNvbmZpZy5tZXRob2QgPSB1cHBlcmNhc2UoY29uZmlnLm1ldGhvZCk7XG4gICAgICBjb25maWcucGFyYW1TZXJpYWxpemVyID0gaXNTdHJpbmcoY29uZmlnLnBhcmFtU2VyaWFsaXplcikgP1xuICAgICAgICAgICRpbmplY3Rvci5nZXQoY29uZmlnLnBhcmFtU2VyaWFsaXplcikgOiBjb25maWcucGFyYW1TZXJpYWxpemVyO1xuXG4gICAgICAkYnJvd3Nlci4kJGluY091dHN0YW5kaW5nUmVxdWVzdENvdW50KCk7XG5cbiAgICAgIHZhciByZXF1ZXN0SW50ZXJjZXB0b3JzID0gW107XG4gICAgICB2YXIgcmVzcG9uc2VJbnRlcmNlcHRvcnMgPSBbXTtcbiAgICAgIHZhciBwcm9taXNlID0gJHEucmVzb2x2ZShjb25maWcpO1xuXG4gICAgICAvLyBhcHBseSBpbnRlcmNlcHRvcnNcbiAgICAgIGZvckVhY2gocmV2ZXJzZWRJbnRlcmNlcHRvcnMsIGZ1bmN0aW9uKGludGVyY2VwdG9yKSB7XG4gICAgICAgIGlmIChpbnRlcmNlcHRvci5yZXF1ZXN0IHx8IGludGVyY2VwdG9yLnJlcXVlc3RFcnJvcikge1xuICAgICAgICAgIHJlcXVlc3RJbnRlcmNlcHRvcnMudW5zaGlmdChpbnRlcmNlcHRvci5yZXF1ZXN0LCBpbnRlcmNlcHRvci5yZXF1ZXN0RXJyb3IpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChpbnRlcmNlcHRvci5yZXNwb25zZSB8fCBpbnRlcmNlcHRvci5yZXNwb25zZUVycm9yKSB7XG4gICAgICAgICAgcmVzcG9uc2VJbnRlcmNlcHRvcnMucHVzaChpbnRlcmNlcHRvci5yZXNwb25zZSwgaW50ZXJjZXB0b3IucmVzcG9uc2VFcnJvcik7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuXG4gICAgICBwcm9taXNlID0gY2hhaW5JbnRlcmNlcHRvcnMocHJvbWlzZSwgcmVxdWVzdEludGVyY2VwdG9ycyk7XG4gICAgICBwcm9taXNlID0gcHJvbWlzZS50aGVuKHNlcnZlclJlcXVlc3QpO1xuICAgICAgcHJvbWlzZSA9IGNoYWluSW50ZXJjZXB0b3JzKHByb21pc2UsIHJlc3BvbnNlSW50ZXJjZXB0b3JzKTtcbiAgICAgIHByb21pc2UgPSBwcm9taXNlLmZpbmFsbHkoY29tcGxldGVPdXRzdGFuZGluZ1JlcXVlc3QpO1xuXG4gICAgICByZXR1cm4gcHJvbWlzZTtcblxuXG4gICAgICBmdW5jdGlvbiBjaGFpbkludGVyY2VwdG9ycyhwcm9taXNlLCBpbnRlcmNlcHRvcnMpIHtcbiAgICAgICAgZm9yICh2YXIgaSA9IDAsIGlpID0gaW50ZXJjZXB0b3JzLmxlbmd0aDsgaSA8IGlpOykge1xuICAgICAgICAgIHZhciB0aGVuRm4gPSBpbnRlcmNlcHRvcnNbaSsrXTtcbiAgICAgICAgICB2YXIgcmVqZWN0Rm4gPSBpbnRlcmNlcHRvcnNbaSsrXTtcblxuICAgICAgICAgIHByb21pc2UgPSBwcm9taXNlLnRoZW4odGhlbkZuLCByZWplY3RGbik7XG4gICAgICAgIH1cblxuICAgICAgICBpbnRlcmNlcHRvcnMubGVuZ3RoID0gMDtcblxuICAgICAgICByZXR1cm4gcHJvbWlzZTtcbiAgICAgIH1cblxuICAgICAgZnVuY3Rpb24gY29tcGxldGVPdXRzdGFuZGluZ1JlcXVlc3QoKSB7XG4gICAgICAgICRicm93c2VyLiQkY29tcGxldGVPdXRzdGFuZGluZ1JlcXVlc3Qobm9vcCk7XG4gICAgICB9XG5cbiAgICAgIGZ1bmN0aW9uIGV4ZWN1dGVIZWFkZXJGbnMoaGVhZGVycywgY29uZmlnKSB7XG4gICAgICAgIHZhciBoZWFkZXJDb250ZW50LCBwcm9jZXNzZWRIZWFkZXJzID0ge307XG5cbiAgICAgICAgZm9yRWFjaChoZWFkZXJzLCBmdW5jdGlvbihoZWFkZXJGbiwgaGVhZGVyKSB7XG4gICAgICAgICAgaWYgKGlzRnVuY3Rpb24oaGVhZGVyRm4pKSB7XG4gICAgICAgICAgICBoZWFkZXJDb250ZW50ID0gaGVhZGVyRm4oY29uZmlnKTtcbiAgICAgICAgICAgIGlmIChoZWFkZXJDb250ZW50ICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgcHJvY2Vzc2VkSGVhZGVyc1toZWFkZXJdID0gaGVhZGVyQ29udGVudDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcHJvY2Vzc2VkSGVhZGVyc1toZWFkZXJdID0gaGVhZGVyRm47XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcblxuICAgICAgICByZXR1cm4gcHJvY2Vzc2VkSGVhZGVycztcbiAgICAgIH1cblxuICAgICAgZnVuY3Rpb24gbWVyZ2VIZWFkZXJzKGNvbmZpZykge1xuICAgICAgICB2YXIgZGVmSGVhZGVycyA9IGRlZmF1bHRzLmhlYWRlcnMsXG4gICAgICAgICAgICByZXFIZWFkZXJzID0gZXh0ZW5kKHt9LCBjb25maWcuaGVhZGVycyksXG4gICAgICAgICAgICBkZWZIZWFkZXJOYW1lLCBsb3dlcmNhc2VEZWZIZWFkZXJOYW1lLCByZXFIZWFkZXJOYW1lO1xuXG4gICAgICAgIGRlZkhlYWRlcnMgPSBleHRlbmQoe30sIGRlZkhlYWRlcnMuY29tbW9uLCBkZWZIZWFkZXJzW2xvd2VyY2FzZShjb25maWcubWV0aG9kKV0pO1xuXG4gICAgICAgIC8vIHVzaW5nIGZvci1pbiBpbnN0ZWFkIG9mIGZvckVhY2ggdG8gYXZvaWQgdW5uZWNlc3NhcnkgaXRlcmF0aW9uIGFmdGVyIGhlYWRlciBoYXMgYmVlbiBmb3VuZFxuICAgICAgICBkZWZhdWx0SGVhZGVyc0l0ZXJhdGlvbjpcbiAgICAgICAgZm9yIChkZWZIZWFkZXJOYW1lIGluIGRlZkhlYWRlcnMpIHtcbiAgICAgICAgICBsb3dlcmNhc2VEZWZIZWFkZXJOYW1lID0gbG93ZXJjYXNlKGRlZkhlYWRlck5hbWUpO1xuXG4gICAgICAgICAgZm9yIChyZXFIZWFkZXJOYW1lIGluIHJlcUhlYWRlcnMpIHtcbiAgICAgICAgICAgIGlmIChsb3dlcmNhc2UocmVxSGVhZGVyTmFtZSkgPT09IGxvd2VyY2FzZURlZkhlYWRlck5hbWUpIHtcbiAgICAgICAgICAgICAgY29udGludWUgZGVmYXVsdEhlYWRlcnNJdGVyYXRpb247XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgcmVxSGVhZGVyc1tkZWZIZWFkZXJOYW1lXSA9IGRlZkhlYWRlcnNbZGVmSGVhZGVyTmFtZV07XG4gICAgICAgIH1cblxuICAgICAgICAvLyBleGVjdXRlIGlmIGhlYWRlciB2YWx1ZSBpcyBhIGZ1bmN0aW9uIGZvciBtZXJnZWQgaGVhZGVyc1xuICAgICAgICByZXR1cm4gZXhlY3V0ZUhlYWRlckZucyhyZXFIZWFkZXJzLCBzaGFsbG93Q29weShjb25maWcpKTtcbiAgICAgIH1cblxuICAgICAgZnVuY3Rpb24gc2VydmVyUmVxdWVzdChjb25maWcpIHtcbiAgICAgICAgdmFyIGhlYWRlcnMgPSBjb25maWcuaGVhZGVycztcbiAgICAgICAgdmFyIHJlcURhdGEgPSB0cmFuc2Zvcm1EYXRhKGNvbmZpZy5kYXRhLCBoZWFkZXJzR2V0dGVyKGhlYWRlcnMpLCB1bmRlZmluZWQsIGNvbmZpZy50cmFuc2Zvcm1SZXF1ZXN0KTtcblxuICAgICAgICAvLyBzdHJpcCBjb250ZW50LXR5cGUgaWYgZGF0YSBpcyB1bmRlZmluZWRcbiAgICAgICAgaWYgKGlzVW5kZWZpbmVkKHJlcURhdGEpKSB7XG4gICAgICAgICAgZm9yRWFjaChoZWFkZXJzLCBmdW5jdGlvbih2YWx1ZSwgaGVhZGVyKSB7XG4gICAgICAgICAgICBpZiAobG93ZXJjYXNlKGhlYWRlcikgPT09ICdjb250ZW50LXR5cGUnKSB7XG4gICAgICAgICAgICAgIGRlbGV0ZSBoZWFkZXJzW2hlYWRlcl07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoaXNVbmRlZmluZWQoY29uZmlnLndpdGhDcmVkZW50aWFscykgJiYgIWlzVW5kZWZpbmVkKGRlZmF1bHRzLndpdGhDcmVkZW50aWFscykpIHtcbiAgICAgICAgICBjb25maWcud2l0aENyZWRlbnRpYWxzID0gZGVmYXVsdHMud2l0aENyZWRlbnRpYWxzO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gc2VuZCByZXF1ZXN0XG4gICAgICAgIHJldHVybiBzZW5kUmVxKGNvbmZpZywgcmVxRGF0YSkudGhlbih0cmFuc2Zvcm1SZXNwb25zZSwgdHJhbnNmb3JtUmVzcG9uc2UpO1xuICAgICAgfVxuXG4gICAgICBmdW5jdGlvbiB0cmFuc2Zvcm1SZXNwb25zZShyZXNwb25zZSkge1xuICAgICAgICAvLyBtYWtlIGEgY29weSBzaW5jZSB0aGUgcmVzcG9uc2UgbXVzdCBiZSBjYWNoZWFibGVcbiAgICAgICAgdmFyIHJlc3AgPSBleHRlbmQoe30sIHJlc3BvbnNlKTtcbiAgICAgICAgcmVzcC5kYXRhID0gdHJhbnNmb3JtRGF0YShyZXNwb25zZS5kYXRhLCByZXNwb25zZS5oZWFkZXJzLCByZXNwb25zZS5zdGF0dXMsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uZmlnLnRyYW5zZm9ybVJlc3BvbnNlKTtcbiAgICAgICAgcmV0dXJuIChpc1N1Y2Nlc3MocmVzcG9uc2Uuc3RhdHVzKSlcbiAgICAgICAgICA/IHJlc3BcbiAgICAgICAgICA6ICRxLnJlamVjdChyZXNwKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAkaHR0cC5wZW5kaW5nUmVxdWVzdHMgPSBbXTtcblxuICAgIC8qKlxuICAgICAqIEBuZ2RvYyBtZXRob2RcbiAgICAgKiBAbmFtZSAkaHR0cCNnZXRcbiAgICAgKlxuICAgICAqIEBkZXNjcmlwdGlvblxuICAgICAqIFNob3J0Y3V0IG1ldGhvZCB0byBwZXJmb3JtIGBHRVRgIHJlcXVlc3QuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge3N0cmluZ3xUcnVzdGVkT2JqZWN0fSB1cmwgQWJzb2x1dGUgb3IgcmVsYXRpdmUgVVJMIG9mIHRoZSByZXNvdXJjZSB0aGF0IGlzIGJlaW5nIHJlcXVlc3RlZDtcbiAgICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb3IgYW4gb2JqZWN0IGNyZWF0ZWQgYnkgYSBjYWxsIHRvIGAkc2NlLnRydXN0QXNSZXNvdXJjZVVybCh1cmwpYC5cbiAgICAgKiBAcGFyYW0ge09iamVjdD19IGNvbmZpZyBPcHRpb25hbCBjb25maWd1cmF0aW9uIG9iamVjdFxuICAgICAqIEByZXR1cm5zIHtIdHRwUHJvbWlzZX0gRnV0dXJlIG9iamVjdFxuICAgICAqL1xuXG4gICAgLyoqXG4gICAgICogQG5nZG9jIG1ldGhvZFxuICAgICAqIEBuYW1lICRodHRwI2RlbGV0ZVxuICAgICAqXG4gICAgICogQGRlc2NyaXB0aW9uXG4gICAgICogU2hvcnRjdXQgbWV0aG9kIHRvIHBlcmZvcm0gYERFTEVURWAgcmVxdWVzdC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfFRydXN0ZWRPYmplY3R9IHVybCBBYnNvbHV0ZSBvciByZWxhdGl2ZSBVUkwgb2YgdGhlIHJlc291cmNlIHRoYXQgaXMgYmVpbmcgcmVxdWVzdGVkO1xuICAgICAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvciBhbiBvYmplY3QgY3JlYXRlZCBieSBhIGNhbGwgdG8gYCRzY2UudHJ1c3RBc1Jlc291cmNlVXJsKHVybClgLlxuICAgICAqIEBwYXJhbSB7T2JqZWN0PX0gY29uZmlnIE9wdGlvbmFsIGNvbmZpZ3VyYXRpb24gb2JqZWN0XG4gICAgICogQHJldHVybnMge0h0dHBQcm9taXNlfSBGdXR1cmUgb2JqZWN0XG4gICAgICovXG5cbiAgICAvKipcbiAgICAgKiBAbmdkb2MgbWV0aG9kXG4gICAgICogQG5hbWUgJGh0dHAjaGVhZFxuICAgICAqXG4gICAgICogQGRlc2NyaXB0aW9uXG4gICAgICogU2hvcnRjdXQgbWV0aG9kIHRvIHBlcmZvcm0gYEhFQURgIHJlcXVlc3QuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge3N0cmluZ3xUcnVzdGVkT2JqZWN0fSB1cmwgQWJzb2x1dGUgb3IgcmVsYXRpdmUgVVJMIG9mIHRoZSByZXNvdXJjZSB0aGF0IGlzIGJlaW5nIHJlcXVlc3RlZDtcbiAgICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb3IgYW4gb2JqZWN0IGNyZWF0ZWQgYnkgYSBjYWxsIHRvIGAkc2NlLnRydXN0QXNSZXNvdXJjZVVybCh1cmwpYC5cbiAgICAgKiBAcGFyYW0ge09iamVjdD19IGNvbmZpZyBPcHRpb25hbCBjb25maWd1cmF0aW9uIG9iamVjdFxuICAgICAqIEByZXR1cm5zIHtIdHRwUHJvbWlzZX0gRnV0dXJlIG9iamVjdFxuICAgICAqL1xuXG4gICAgLyoqXG4gICAgICogQG5nZG9jIG1ldGhvZFxuICAgICAqIEBuYW1lICRodHRwI2pzb25wXG4gICAgICpcbiAgICAgKiBAZGVzY3JpcHRpb25cbiAgICAgKiBTaG9ydGN1dCBtZXRob2QgdG8gcGVyZm9ybSBgSlNPTlBgIHJlcXVlc3QuXG4gICAgICpcbiAgICAgKiBOb3RlIHRoYXQsIHNpbmNlIEpTT05QIHJlcXVlc3RzIGFyZSBzZW5zaXRpdmUgYmVjYXVzZSB0aGUgcmVzcG9uc2UgaXMgZ2l2ZW4gZnVsbCBhY2Nlc3MgdG8gdGhlIGJyb3dzZXIsXG4gICAgICogdGhlIHVybCBtdXN0IGJlIGRlY2xhcmVkLCB2aWEge0BsaW5rICRzY2V9IGFzIGEgdHJ1c3RlZCByZXNvdXJjZSBVUkwuXG4gICAgICogWW91IGNhbiB0cnVzdCBhIFVSTCBieSBhZGRpbmcgaXQgdG8gdGhlIHdoaXRlbGlzdCB2aWFcbiAgICAgKiB7QGxpbmsgJHNjZURlbGVnYXRlUHJvdmlkZXIjcmVzb3VyY2VVcmxXaGl0ZWxpc3QgIGAkc2NlRGVsZWdhdGVQcm92aWRlci5yZXNvdXJjZVVybFdoaXRlbGlzdGB9IG9yXG4gICAgICogYnkgZXhwbGljaXRseSB0cnVzdGluZyB0aGUgVVJMIHZpYSB7QGxpbmsgJHNjZSN0cnVzdEFzUmVzb3VyY2VVcmwgYCRzY2UudHJ1c3RBc1Jlc291cmNlVXJsKHVybClgfS5cbiAgICAgKlxuICAgICAqIEpTT05QIHJlcXVlc3RzIG11c3Qgc3BlY2lmeSBhIGNhbGxiYWNrIHRvIGJlIHVzZWQgaW4gdGhlIHJlc3BvbnNlIGZyb20gdGhlIHNlcnZlci4gVGhpcyBjYWxsYmFja1xuICAgICAqIGlzIHBhc3NlZCBhcyBhIHF1ZXJ5IHBhcmFtZXRlciBpbiB0aGUgcmVxdWVzdC4gWW91IG11c3Qgc3BlY2lmeSB0aGUgbmFtZSBvZiB0aGlzIHBhcmFtZXRlciBieVxuICAgICAqIHNldHRpbmcgdGhlIGBqc29ucENhbGxiYWNrUGFyYW1gIHByb3BlcnR5IG9uIHRoZSByZXF1ZXN0IGNvbmZpZyBvYmplY3QuXG4gICAgICpcbiAgICAgKiBgYGBcbiAgICAgKiAkaHR0cC5qc29ucCgnc29tZS90cnVzdGVkL3VybCcsIHtqc29ucENhbGxiYWNrUGFyYW06ICdjYWxsYmFjayd9KVxuICAgICAqIGBgYFxuICAgICAqXG4gICAgICogWW91IGNhbiBhbHNvIHNwZWNpZnkgYSBkZWZhdWx0IGNhbGxiYWNrIHBhcmFtZXRlciBuYW1lIGluIGAkaHR0cC5kZWZhdWx0cy5qc29ucENhbGxiYWNrUGFyYW1gLlxuICAgICAqIEluaXRpYWxseSB0aGlzIGlzIHNldCB0byBgJ2NhbGxiYWNrJ2AuXG4gICAgICpcbiAgICAgKiA8ZGl2IGNsYXNzPVwiYWxlcnQgYWxlcnQtZGFuZ2VyXCI+XG4gICAgICogWW91IGNhbiBubyBsb25nZXIgdXNlIHRoZSBgSlNPTl9DQUxMQkFDS2Agc3RyaW5nIGFzIGEgcGxhY2Vob2xkZXIgZm9yIHNwZWNpZnlpbmcgd2hlcmUgdGhlIGNhbGxiYWNrXG4gICAgICogcGFyYW1ldGVyIHZhbHVlIHNob3VsZCBnby5cbiAgICAgKiA8L2Rpdj5cbiAgICAgKlxuICAgICAqIElmIHlvdSB3b3VsZCBsaWtlIHRvIGN1c3RvbWlzZSB3aGVyZSBhbmQgaG93IHRoZSBjYWxsYmFja3MgYXJlIHN0b3JlZCB0aGVuIHRyeSBvdmVycmlkaW5nXG4gICAgICogb3IgZGVjb3JhdGluZyB0aGUge0BsaW5rICRqc29ucENhbGxiYWNrc30gc2VydmljZS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfFRydXN0ZWRPYmplY3R9IHVybCBBYnNvbHV0ZSBvciByZWxhdGl2ZSBVUkwgb2YgdGhlIHJlc291cmNlIHRoYXQgaXMgYmVpbmcgcmVxdWVzdGVkO1xuICAgICAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvciBhbiBvYmplY3QgY3JlYXRlZCBieSBhIGNhbGwgdG8gYCRzY2UudHJ1c3RBc1Jlc291cmNlVXJsKHVybClgLlxuICAgICAqIEBwYXJhbSB7T2JqZWN0PX0gY29uZmlnIE9wdGlvbmFsIGNvbmZpZ3VyYXRpb24gb2JqZWN0XG4gICAgICogQHJldHVybnMge0h0dHBQcm9taXNlfSBGdXR1cmUgb2JqZWN0XG4gICAgICovXG4gICAgY3JlYXRlU2hvcnRNZXRob2RzKCdnZXQnLCAnZGVsZXRlJywgJ2hlYWQnLCAnanNvbnAnKTtcblxuICAgIC8qKlxuICAgICAqIEBuZ2RvYyBtZXRob2RcbiAgICAgKiBAbmFtZSAkaHR0cCNwb3N0XG4gICAgICpcbiAgICAgKiBAZGVzY3JpcHRpb25cbiAgICAgKiBTaG9ydGN1dCBtZXRob2QgdG8gcGVyZm9ybSBgUE9TVGAgcmVxdWVzdC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSB1cmwgUmVsYXRpdmUgb3IgYWJzb2x1dGUgVVJMIHNwZWNpZnlpbmcgdGhlIGRlc3RpbmF0aW9uIG9mIHRoZSByZXF1ZXN0XG4gICAgICogQHBhcmFtIHsqfSBkYXRhIFJlcXVlc3QgY29udGVudFxuICAgICAqIEBwYXJhbSB7T2JqZWN0PX0gY29uZmlnIE9wdGlvbmFsIGNvbmZpZ3VyYXRpb24gb2JqZWN0XG4gICAgICogQHJldHVybnMge0h0dHBQcm9taXNlfSBGdXR1cmUgb2JqZWN0XG4gICAgICovXG5cbiAgICAvKipcbiAgICAgKiBAbmdkb2MgbWV0aG9kXG4gICAgICogQG5hbWUgJGh0dHAjcHV0XG4gICAgICpcbiAgICAgKiBAZGVzY3JpcHRpb25cbiAgICAgKiBTaG9ydGN1dCBtZXRob2QgdG8gcGVyZm9ybSBgUFVUYCByZXF1ZXN0LlxuICAgICAqXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHVybCBSZWxhdGl2ZSBvciBhYnNvbHV0ZSBVUkwgc3BlY2lmeWluZyB0aGUgZGVzdGluYXRpb24gb2YgdGhlIHJlcXVlc3RcbiAgICAgKiBAcGFyYW0geyp9IGRhdGEgUmVxdWVzdCBjb250ZW50XG4gICAgICogQHBhcmFtIHtPYmplY3Q9fSBjb25maWcgT3B0aW9uYWwgY29uZmlndXJhdGlvbiBvYmplY3RcbiAgICAgKiBAcmV0dXJucyB7SHR0cFByb21pc2V9IEZ1dHVyZSBvYmplY3RcbiAgICAgKi9cblxuICAgICAvKipcbiAgICAgICogQG5nZG9jIG1ldGhvZFxuICAgICAgKiBAbmFtZSAkaHR0cCNwYXRjaFxuICAgICAgKlxuICAgICAgKiBAZGVzY3JpcHRpb25cbiAgICAgICogU2hvcnRjdXQgbWV0aG9kIHRvIHBlcmZvcm0gYFBBVENIYCByZXF1ZXN0LlxuICAgICAgKlxuICAgICAgKiBAcGFyYW0ge3N0cmluZ30gdXJsIFJlbGF0aXZlIG9yIGFic29sdXRlIFVSTCBzcGVjaWZ5aW5nIHRoZSBkZXN0aW5hdGlvbiBvZiB0aGUgcmVxdWVzdFxuICAgICAgKiBAcGFyYW0geyp9IGRhdGEgUmVxdWVzdCBjb250ZW50XG4gICAgICAqIEBwYXJhbSB7T2JqZWN0PX0gY29uZmlnIE9wdGlvbmFsIGNvbmZpZ3VyYXRpb24gb2JqZWN0XG4gICAgICAqIEByZXR1cm5zIHtIdHRwUHJvbWlzZX0gRnV0dXJlIG9iamVjdFxuICAgICAgKi9cbiAgICBjcmVhdGVTaG9ydE1ldGhvZHNXaXRoRGF0YSgncG9zdCcsICdwdXQnLCAncGF0Y2gnKTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogQG5nZG9jIHByb3BlcnR5XG4gICAgICAgICAqIEBuYW1lICRodHRwI2RlZmF1bHRzXG4gICAgICAgICAqXG4gICAgICAgICAqIEBkZXNjcmlwdGlvblxuICAgICAgICAgKiBSdW50aW1lIGVxdWl2YWxlbnQgb2YgdGhlIGAkaHR0cFByb3ZpZGVyLmRlZmF1bHRzYCBwcm9wZXJ0eS4gQWxsb3dzIGNvbmZpZ3VyYXRpb24gb2ZcbiAgICAgICAgICogZGVmYXVsdCBoZWFkZXJzLCB3aXRoQ3JlZGVudGlhbHMgYXMgd2VsbCBhcyByZXF1ZXN0IGFuZCByZXNwb25zZSB0cmFuc2Zvcm1hdGlvbnMuXG4gICAgICAgICAqXG4gICAgICAgICAqIFNlZSBcIlNldHRpbmcgSFRUUCBIZWFkZXJzXCIgYW5kIFwiVHJhbnNmb3JtaW5nIFJlcXVlc3RzIGFuZCBSZXNwb25zZXNcIiBzZWN0aW9ucyBhYm92ZS5cbiAgICAgICAgICovXG4gICAgJGh0dHAuZGVmYXVsdHMgPSBkZWZhdWx0cztcblxuXG4gICAgcmV0dXJuICRodHRwO1xuXG5cbiAgICBmdW5jdGlvbiBjcmVhdGVTaG9ydE1ldGhvZHMobmFtZXMpIHtcbiAgICAgIGZvckVhY2goYXJndW1lbnRzLCBmdW5jdGlvbihuYW1lKSB7XG4gICAgICAgICRodHRwW25hbWVdID0gZnVuY3Rpb24odXJsLCBjb25maWcpIHtcbiAgICAgICAgICByZXR1cm4gJGh0dHAoZXh0ZW5kKHt9LCBjb25maWcgfHwge30sIHtcbiAgICAgICAgICAgIG1ldGhvZDogbmFtZSxcbiAgICAgICAgICAgIHVybDogdXJsXG4gICAgICAgICAgfSkpO1xuICAgICAgICB9O1xuICAgICAgfSk7XG4gICAgfVxuXG5cbiAgICBmdW5jdGlvbiBjcmVhdGVTaG9ydE1ldGhvZHNXaXRoRGF0YShuYW1lKSB7XG4gICAgICBmb3JFYWNoKGFyZ3VtZW50cywgZnVuY3Rpb24obmFtZSkge1xuICAgICAgICAkaHR0cFtuYW1lXSA9IGZ1bmN0aW9uKHVybCwgZGF0YSwgY29uZmlnKSB7XG4gICAgICAgICAgcmV0dXJuICRodHRwKGV4dGVuZCh7fSwgY29uZmlnIHx8IHt9LCB7XG4gICAgICAgICAgICBtZXRob2Q6IG5hbWUsXG4gICAgICAgICAgICB1cmw6IHVybCxcbiAgICAgICAgICAgIGRhdGE6IGRhdGFcbiAgICAgICAgICB9KSk7XG4gICAgICAgIH07XG4gICAgICB9KTtcbiAgICB9XG5cblxuICAgIC8qKlxuICAgICAqIE1ha2VzIHRoZSByZXF1ZXN0LlxuICAgICAqXG4gICAgICogISEhIEFDQ0VTU0VTIENMT1NVUkUgVkFSUzpcbiAgICAgKiAkaHR0cEJhY2tlbmQsIGRlZmF1bHRzLCAkbG9nLCAkcm9vdFNjb3BlLCBkZWZhdWx0Q2FjaGUsICRodHRwLnBlbmRpbmdSZXF1ZXN0c1xuICAgICAqL1xuICAgIGZ1bmN0aW9uIHNlbmRSZXEoY29uZmlnLCByZXFEYXRhKSB7XG4gICAgICB2YXIgZGVmZXJyZWQgPSAkcS5kZWZlcigpLFxuICAgICAgICAgIHByb21pc2UgPSBkZWZlcnJlZC5wcm9taXNlLFxuICAgICAgICAgIGNhY2hlLFxuICAgICAgICAgIGNhY2hlZFJlc3AsXG4gICAgICAgICAgcmVxSGVhZGVycyA9IGNvbmZpZy5oZWFkZXJzLFxuICAgICAgICAgIGlzSnNvbnAgPSBsb3dlcmNhc2UoY29uZmlnLm1ldGhvZCkgPT09ICdqc29ucCcsXG4gICAgICAgICAgdXJsID0gY29uZmlnLnVybDtcblxuICAgICAgaWYgKGlzSnNvbnApIHtcbiAgICAgICAgLy8gSlNPTlAgaXMgYSBwcmV0dHkgc2Vuc2l0aXZlIG9wZXJhdGlvbiB3aGVyZSB3ZSdyZSBhbGxvd2luZyBhIHNjcmlwdCB0byBoYXZlIGZ1bGwgYWNjZXNzIHRvXG4gICAgICAgIC8vIG91ciBET00gYW5kIEpTIHNwYWNlLiAgU28gd2UgcmVxdWlyZSB0aGF0IHRoZSBVUkwgc2F0aXNmaWVzIFNDRS5SRVNPVVJDRV9VUkwuXG4gICAgICAgIHVybCA9ICRzY2UuZ2V0VHJ1c3RlZFJlc291cmNlVXJsKHVybCk7XG4gICAgICB9IGVsc2UgaWYgKCFpc1N0cmluZyh1cmwpKSB7XG4gICAgICAgIC8vIElmIGl0IGlzIG5vdCBhIHN0cmluZyB0aGVuIHRoZSBVUkwgbXVzdCBiZSBhICRzY2UgdHJ1c3RlZCBvYmplY3RcbiAgICAgICAgdXJsID0gJHNjZS52YWx1ZU9mKHVybCk7XG4gICAgICB9XG5cbiAgICAgIHVybCA9IGJ1aWxkVXJsKHVybCwgY29uZmlnLnBhcmFtU2VyaWFsaXplcihjb25maWcucGFyYW1zKSk7XG5cbiAgICAgIGlmIChpc0pzb25wKSB7XG4gICAgICAgIC8vIENoZWNrIHRoZSB1cmwgYW5kIGFkZCB0aGUgSlNPTlAgY2FsbGJhY2sgcGxhY2Vob2xkZXJcbiAgICAgICAgdXJsID0gc2FuaXRpemVKc29ucENhbGxiYWNrUGFyYW0odXJsLCBjb25maWcuanNvbnBDYWxsYmFja1BhcmFtKTtcbiAgICAgIH1cblxuICAgICAgJGh0dHAucGVuZGluZ1JlcXVlc3RzLnB1c2goY29uZmlnKTtcbiAgICAgIHByb21pc2UudGhlbihyZW1vdmVQZW5kaW5nUmVxLCByZW1vdmVQZW5kaW5nUmVxKTtcblxuICAgICAgaWYgKChjb25maWcuY2FjaGUgfHwgZGVmYXVsdHMuY2FjaGUpICYmIGNvbmZpZy5jYWNoZSAhPT0gZmFsc2UgJiZcbiAgICAgICAgICAoY29uZmlnLm1ldGhvZCA9PT0gJ0dFVCcgfHwgY29uZmlnLm1ldGhvZCA9PT0gJ0pTT05QJykpIHtcbiAgICAgICAgY2FjaGUgPSBpc09iamVjdChjb25maWcuY2FjaGUpID8gY29uZmlnLmNhY2hlXG4gICAgICAgICAgICA6IGlzT2JqZWN0KC8qKiBAdHlwZSB7P30gKi8gKGRlZmF1bHRzKS5jYWNoZSlcbiAgICAgICAgICAgICAgPyAvKiogQHR5cGUgez99ICovIChkZWZhdWx0cykuY2FjaGVcbiAgICAgICAgICAgICAgOiBkZWZhdWx0Q2FjaGU7XG4gICAgICB9XG5cbiAgICAgIGlmIChjYWNoZSkge1xuICAgICAgICBjYWNoZWRSZXNwID0gY2FjaGUuZ2V0KHVybCk7XG4gICAgICAgIGlmIChpc0RlZmluZWQoY2FjaGVkUmVzcCkpIHtcbiAgICAgICAgICBpZiAoaXNQcm9taXNlTGlrZShjYWNoZWRSZXNwKSkge1xuICAgICAgICAgICAgLy8gY2FjaGVkIHJlcXVlc3QgaGFzIGFscmVhZHkgYmVlbiBzZW50LCBidXQgdGhlcmUgaXMgbm8gcmVzcG9uc2UgeWV0XG4gICAgICAgICAgICBjYWNoZWRSZXNwLnRoZW4ocmVzb2x2ZVByb21pc2VXaXRoUmVzdWx0LCByZXNvbHZlUHJvbWlzZVdpdGhSZXN1bHQpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAvLyBzZXJ2aW5nIGZyb20gY2FjaGVcbiAgICAgICAgICAgIGlmIChpc0FycmF5KGNhY2hlZFJlc3ApKSB7XG4gICAgICAgICAgICAgIHJlc29sdmVQcm9taXNlKGNhY2hlZFJlc3BbMV0sIGNhY2hlZFJlc3BbMF0sIHNoYWxsb3dDb3B5KGNhY2hlZFJlc3BbMl0pLCBjYWNoZWRSZXNwWzNdKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIHJlc29sdmVQcm9taXNlKGNhY2hlZFJlc3AsIDIwMCwge30sICdPSycpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAvLyBwdXQgdGhlIHByb21pc2UgZm9yIHRoZSBub24tdHJhbnNmb3JtZWQgcmVzcG9uc2UgaW50byBjYWNoZSBhcyBhIHBsYWNlaG9sZGVyXG4gICAgICAgICAgY2FjaGUucHV0KHVybCwgcHJvbWlzZSk7XG4gICAgICAgIH1cbiAgICAgIH1cblxuXG4gICAgICAvLyBpZiB3ZSB3b24ndCBoYXZlIHRoZSByZXNwb25zZSBpbiBjYWNoZSwgc2V0IHRoZSB4c3JmIGhlYWRlcnMgYW5kXG4gICAgICAvLyBzZW5kIHRoZSByZXF1ZXN0IHRvIHRoZSBiYWNrZW5kXG4gICAgICBpZiAoaXNVbmRlZmluZWQoY2FjaGVkUmVzcCkpIHtcbiAgICAgICAgdmFyIHhzcmZWYWx1ZSA9IHVybElzU2FtZU9yaWdpbihjb25maWcudXJsKVxuICAgICAgICAgICAgPyAkJGNvb2tpZVJlYWRlcigpW2NvbmZpZy54c3JmQ29va2llTmFtZSB8fCBkZWZhdWx0cy54c3JmQ29va2llTmFtZV1cbiAgICAgICAgICAgIDogdW5kZWZpbmVkO1xuICAgICAgICBpZiAoeHNyZlZhbHVlKSB7XG4gICAgICAgICAgcmVxSGVhZGVyc1soY29uZmlnLnhzcmZIZWFkZXJOYW1lIHx8IGRlZmF1bHRzLnhzcmZIZWFkZXJOYW1lKV0gPSB4c3JmVmFsdWU7XG4gICAgICAgIH1cblxuICAgICAgICAkaHR0cEJhY2tlbmQoY29uZmlnLm1ldGhvZCwgdXJsLCByZXFEYXRhLCBkb25lLCByZXFIZWFkZXJzLCBjb25maWcudGltZW91dCxcbiAgICAgICAgICAgIGNvbmZpZy53aXRoQ3JlZGVudGlhbHMsIGNvbmZpZy5yZXNwb25zZVR5cGUsXG4gICAgICAgICAgICBjcmVhdGVBcHBseUhhbmRsZXJzKGNvbmZpZy5ldmVudEhhbmRsZXJzKSxcbiAgICAgICAgICAgIGNyZWF0ZUFwcGx5SGFuZGxlcnMoY29uZmlnLnVwbG9hZEV2ZW50SGFuZGxlcnMpKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHByb21pc2U7XG5cbiAgICAgIGZ1bmN0aW9uIGNyZWF0ZUFwcGx5SGFuZGxlcnMoZXZlbnRIYW5kbGVycykge1xuICAgICAgICBpZiAoZXZlbnRIYW5kbGVycykge1xuICAgICAgICAgIHZhciBhcHBseUhhbmRsZXJzID0ge307XG4gICAgICAgICAgZm9yRWFjaChldmVudEhhbmRsZXJzLCBmdW5jdGlvbihldmVudEhhbmRsZXIsIGtleSkge1xuICAgICAgICAgICAgYXBwbHlIYW5kbGVyc1trZXldID0gZnVuY3Rpb24oZXZlbnQpIHtcbiAgICAgICAgICAgICAgaWYgKHVzZUFwcGx5QXN5bmMpIHtcbiAgICAgICAgICAgICAgICAkcm9vdFNjb3BlLiRhcHBseUFzeW5jKGNhbGxFdmVudEhhbmRsZXIpO1xuICAgICAgICAgICAgICB9IGVsc2UgaWYgKCRyb290U2NvcGUuJCRwaGFzZSkge1xuICAgICAgICAgICAgICAgIGNhbGxFdmVudEhhbmRsZXIoKTtcbiAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAkcm9vdFNjb3BlLiRhcHBseShjYWxsRXZlbnRIYW5kbGVyKTtcbiAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgIGZ1bmN0aW9uIGNhbGxFdmVudEhhbmRsZXIoKSB7XG4gICAgICAgICAgICAgICAgZXZlbnRIYW5kbGVyKGV2ZW50KTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgICByZXR1cm4gYXBwbHlIYW5kbGVycztcbiAgICAgICAgfVxuICAgICAgfVxuXG5cbiAgICAgIC8qKlxuICAgICAgICogQ2FsbGJhY2sgcmVnaXN0ZXJlZCB0byAkaHR0cEJhY2tlbmQoKTpcbiAgICAgICAqICAtIGNhY2hlcyB0aGUgcmVzcG9uc2UgaWYgZGVzaXJlZFxuICAgICAgICogIC0gcmVzb2x2ZXMgdGhlIHJhdyAkaHR0cCBwcm9taXNlXG4gICAgICAgKiAgLSBjYWxscyAkYXBwbHlcbiAgICAgICAqL1xuICAgICAgZnVuY3Rpb24gZG9uZShzdGF0dXMsIHJlc3BvbnNlLCBoZWFkZXJzU3RyaW5nLCBzdGF0dXNUZXh0KSB7XG4gICAgICAgIGlmIChjYWNoZSkge1xuICAgICAgICAgIGlmIChpc1N1Y2Nlc3Moc3RhdHVzKSkge1xuICAgICAgICAgICAgY2FjaGUucHV0KHVybCwgW3N0YXR1cywgcmVzcG9uc2UsIHBhcnNlSGVhZGVycyhoZWFkZXJzU3RyaW5nKSwgc3RhdHVzVGV4dF0pO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAvLyByZW1vdmUgcHJvbWlzZSBmcm9tIHRoZSBjYWNoZVxuICAgICAgICAgICAgY2FjaGUucmVtb3ZlKHVybCk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgZnVuY3Rpb24gcmVzb2x2ZUh0dHBQcm9taXNlKCkge1xuICAgICAgICAgIHJlc29sdmVQcm9taXNlKHJlc3BvbnNlLCBzdGF0dXMsIGhlYWRlcnNTdHJpbmcsIHN0YXR1c1RleHQpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHVzZUFwcGx5QXN5bmMpIHtcbiAgICAgICAgICAkcm9vdFNjb3BlLiRhcHBseUFzeW5jKHJlc29sdmVIdHRwUHJvbWlzZSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcmVzb2x2ZUh0dHBQcm9taXNlKCk7XG4gICAgICAgICAgaWYgKCEkcm9vdFNjb3BlLiQkcGhhc2UpICRyb290U2NvcGUuJGFwcGx5KCk7XG4gICAgICAgIH1cbiAgICAgIH1cblxuXG4gICAgICAvKipcbiAgICAgICAqIFJlc29sdmVzIHRoZSByYXcgJGh0dHAgcHJvbWlzZS5cbiAgICAgICAqL1xuICAgICAgZnVuY3Rpb24gcmVzb2x2ZVByb21pc2UocmVzcG9uc2UsIHN0YXR1cywgaGVhZGVycywgc3RhdHVzVGV4dCkge1xuICAgICAgICAvL3N0YXR1czogSFRUUCByZXNwb25zZSBzdGF0dXMgY29kZSwgMCwgLTEgKGFib3J0ZWQgYnkgdGltZW91dCAvIHByb21pc2UpXG4gICAgICAgIHN0YXR1cyA9IHN0YXR1cyA+PSAtMSA/IHN0YXR1cyA6IDA7XG5cbiAgICAgICAgKGlzU3VjY2VzcyhzdGF0dXMpID8gZGVmZXJyZWQucmVzb2x2ZSA6IGRlZmVycmVkLnJlamVjdCkoe1xuICAgICAgICAgIGRhdGE6IHJlc3BvbnNlLFxuICAgICAgICAgIHN0YXR1czogc3RhdHVzLFxuICAgICAgICAgIGhlYWRlcnM6IGhlYWRlcnNHZXR0ZXIoaGVhZGVycyksXG4gICAgICAgICAgY29uZmlnOiBjb25maWcsXG4gICAgICAgICAgc3RhdHVzVGV4dDogc3RhdHVzVGV4dFxuICAgICAgICB9KTtcbiAgICAgIH1cblxuICAgICAgZnVuY3Rpb24gcmVzb2x2ZVByb21pc2VXaXRoUmVzdWx0KHJlc3VsdCkge1xuICAgICAgICByZXNvbHZlUHJvbWlzZShyZXN1bHQuZGF0YSwgcmVzdWx0LnN0YXR1cywgc2hhbGxvd0NvcHkocmVzdWx0LmhlYWRlcnMoKSksIHJlc3VsdC5zdGF0dXNUZXh0KTtcbiAgICAgIH1cblxuICAgICAgZnVuY3Rpb24gcmVtb3ZlUGVuZGluZ1JlcSgpIHtcbiAgICAgICAgdmFyIGlkeCA9ICRodHRwLnBlbmRpbmdSZXF1ZXN0cy5pbmRleE9mKGNvbmZpZyk7XG4gICAgICAgIGlmIChpZHggIT09IC0xKSAkaHR0cC5wZW5kaW5nUmVxdWVzdHMuc3BsaWNlKGlkeCwgMSk7XG4gICAgICB9XG4gICAgfVxuXG5cbiAgICBmdW5jdGlvbiBidWlsZFVybCh1cmwsIHNlcmlhbGl6ZWRQYXJhbXMpIHtcbiAgICAgIGlmIChzZXJpYWxpemVkUGFyYW1zLmxlbmd0aCA+IDApIHtcbiAgICAgICAgdXJsICs9ICgodXJsLmluZGV4T2YoJz8nKSA9PT0gLTEpID8gJz8nIDogJyYnKSArIHNlcmlhbGl6ZWRQYXJhbXM7XG4gICAgICB9XG4gICAgICByZXR1cm4gdXJsO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIHNhbml0aXplSnNvbnBDYWxsYmFja1BhcmFtKHVybCwga2V5KSB7XG4gICAgICBpZiAoL1smP11bXj1dKz1KU09OX0NBTExCQUNLLy50ZXN0KHVybCkpIHtcbiAgICAgICAgLy8gVGhyb3cgaWYgdGhlIHVybCBhbHJlYWR5IGNvbnRhaW5zIGEgcmVmZXJlbmNlIHRvIEpTT05fQ0FMTEJBQ0tcbiAgICAgICAgdGhyb3cgJGh0dHBNaW5FcnIoJ2JhZGpzb25wJywgJ0lsbGVnYWwgdXNlIG9mIEpTT05fQ0FMTEJBQ0sgaW4gdXJsLCBcInswfVwiJywgdXJsKTtcbiAgICAgIH1cblxuICAgICAgdmFyIGNhbGxiYWNrUGFyYW1SZWdleCA9IG5ldyBSZWdFeHAoJ1smP10nICsga2V5ICsgJz0nKTtcbiAgICAgIGlmIChjYWxsYmFja1BhcmFtUmVnZXgudGVzdCh1cmwpKSB7XG4gICAgICAgIC8vIFRocm93IGlmIHRoZSBjYWxsYmFjayBwYXJhbSB3YXMgYWxyZWFkeSBwcm92aWRlZFxuICAgICAgICB0aHJvdyAkaHR0cE1pbkVycignYmFkanNvbnAnLCAnSWxsZWdhbCB1c2Ugb2YgY2FsbGJhY2sgcGFyYW0sIFwiezB9XCIsIGluIHVybCwgXCJ7MX1cIicsIGtleSwgdXJsKTtcbiAgICAgIH1cblxuICAgICAgLy8gQWRkIGluIHRoZSBKU09OX0NBTExCQUNLIGNhbGxiYWNrIHBhcmFtIHZhbHVlXG4gICAgICB1cmwgKz0gKCh1cmwuaW5kZXhPZignPycpID09PSAtMSkgPyAnPycgOiAnJicpICsga2V5ICsgJz1KU09OX0NBTExCQUNLJztcblxuICAgICAgcmV0dXJuIHVybDtcbiAgICB9XG4gIH1dO1xufVxuXG4vKipcbiAqIEBuZ2RvYyBzZXJ2aWNlXG4gKiBAbmFtZSAkeGhyRmFjdG9yeVxuICogQHRoaXNcbiAqXG4gKiBAZGVzY3JpcHRpb25cbiAqIEZhY3RvcnkgZnVuY3Rpb24gdXNlZCB0byBjcmVhdGUgWE1MSHR0cFJlcXVlc3Qgb2JqZWN0cy5cbiAqXG4gKiBSZXBsYWNlIG9yIGRlY29yYXRlIHRoaXMgc2VydmljZSB0byBjcmVhdGUgeW91ciBvd24gY3VzdG9tIFhNTEh0dHBSZXF1ZXN0IG9iamVjdHMuXG4gKlxuICogYGBgXG4gKiBhbmd1bGFyLm1vZHVsZSgnbXlBcHAnLCBbXSlcbiAqIC5mYWN0b3J5KCckeGhyRmFjdG9yeScsIGZ1bmN0aW9uKCkge1xuICogICByZXR1cm4gZnVuY3Rpb24gY3JlYXRlWGhyKG1ldGhvZCwgdXJsKSB7XG4gKiAgICAgcmV0dXJuIG5ldyB3aW5kb3cuWE1MSHR0cFJlcXVlc3Qoe21velN5c3RlbTogdHJ1ZX0pO1xuICogICB9O1xuICogfSk7XG4gKiBgYGBcbiAqXG4gKiBAcGFyYW0ge3N0cmluZ30gbWV0aG9kIEhUVFAgbWV0aG9kIG9mIHRoZSByZXF1ZXN0IChHRVQsIFBPU1QsIFBVVCwgLi4pXG4gKiBAcGFyYW0ge3N0cmluZ30gdXJsIFVSTCBvZiB0aGUgcmVxdWVzdC5cbiAqL1xuZnVuY3Rpb24gJHhockZhY3RvcnlQcm92aWRlcigpIHtcbiAgdGhpcy4kZ2V0ID0gZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uIGNyZWF0ZVhocigpIHtcbiAgICAgIHJldHVybiBuZXcgd2luZG93LlhNTEh0dHBSZXF1ZXN0KCk7XG4gICAgfTtcbiAgfTtcbn1cblxuLyoqXG4gKiBAbmdkb2Mgc2VydmljZVxuICogQG5hbWUgJGh0dHBCYWNrZW5kXG4gKiBAcmVxdWlyZXMgJGpzb25wQ2FsbGJhY2tzXG4gKiBAcmVxdWlyZXMgJGRvY3VtZW50XG4gKiBAcmVxdWlyZXMgJHhockZhY3RvcnlcbiAqIEB0aGlzXG4gKlxuICogQGRlc2NyaXB0aW9uXG4gKiBIVFRQIGJhY2tlbmQgdXNlZCBieSB0aGUge0BsaW5rIG5nLiRodHRwIHNlcnZpY2V9IHRoYXQgZGVsZWdhdGVzIHRvXG4gKiBYTUxIdHRwUmVxdWVzdCBvYmplY3Qgb3IgSlNPTlAgYW5kIGRlYWxzIHdpdGggYnJvd3NlciBpbmNvbXBhdGliaWxpdGllcy5cbiAqXG4gKiBZb3Ugc2hvdWxkIG5ldmVyIG5lZWQgdG8gdXNlIHRoaXMgc2VydmljZSBkaXJlY3RseSwgaW5zdGVhZCB1c2UgdGhlIGhpZ2hlci1sZXZlbCBhYnN0cmFjdGlvbnM6XG4gKiB7QGxpbmsgbmcuJGh0dHAgJGh0dHB9IG9yIHtAbGluayBuZ1Jlc291cmNlLiRyZXNvdXJjZSAkcmVzb3VyY2V9LlxuICpcbiAqIER1cmluZyB0ZXN0aW5nIHRoaXMgaW1wbGVtZW50YXRpb24gaXMgc3dhcHBlZCB3aXRoIHtAbGluayBuZ01vY2suJGh0dHBCYWNrZW5kIG1vY2tcbiAqICRodHRwQmFja2VuZH0gd2hpY2ggY2FuIGJlIHRyYWluZWQgd2l0aCByZXNwb25zZXMuXG4gKi9cbmZ1bmN0aW9uICRIdHRwQmFja2VuZFByb3ZpZGVyKCkge1xuICB0aGlzLiRnZXQgPSBbJyRicm93c2VyJywgJyRqc29ucENhbGxiYWNrcycsICckZG9jdW1lbnQnLCAnJHhockZhY3RvcnknLCBmdW5jdGlvbigkYnJvd3NlciwgJGpzb25wQ2FsbGJhY2tzLCAkZG9jdW1lbnQsICR4aHJGYWN0b3J5KSB7XG4gICAgcmV0dXJuIGNyZWF0ZUh0dHBCYWNrZW5kKCRicm93c2VyLCAkeGhyRmFjdG9yeSwgJGJyb3dzZXIuZGVmZXIsICRqc29ucENhbGxiYWNrcywgJGRvY3VtZW50WzBdKTtcbiAgfV07XG59XG5cbmZ1bmN0aW9uIGNyZWF0ZUh0dHBCYWNrZW5kKCRicm93c2VyLCBjcmVhdGVYaHIsICRicm93c2VyRGVmZXIsIGNhbGxiYWNrcywgcmF3RG9jdW1lbnQpIHtcbiAgLy8gVE9ETyh2b2p0YSk6IGZpeCB0aGUgc2lnbmF0dXJlXG4gIHJldHVybiBmdW5jdGlvbihtZXRob2QsIHVybCwgcG9zdCwgY2FsbGJhY2ssIGhlYWRlcnMsIHRpbWVvdXQsIHdpdGhDcmVkZW50aWFscywgcmVzcG9uc2VUeXBlLCBldmVudEhhbmRsZXJzLCB1cGxvYWRFdmVudEhhbmRsZXJzKSB7XG4gICAgdXJsID0gdXJsIHx8ICRicm93c2VyLnVybCgpO1xuXG4gICAgaWYgKGxvd2VyY2FzZShtZXRob2QpID09PSAnanNvbnAnKSB7XG4gICAgICB2YXIgY2FsbGJhY2tQYXRoID0gY2FsbGJhY2tzLmNyZWF0ZUNhbGxiYWNrKHVybCk7XG4gICAgICB2YXIganNvbnBEb25lID0ganNvbnBSZXEodXJsLCBjYWxsYmFja1BhdGgsIGZ1bmN0aW9uKHN0YXR1cywgdGV4dCkge1xuICAgICAgICAvLyBqc29ucFJlcSBvbmx5IGV2ZXIgc2V0cyBzdGF0dXMgdG8gMjAwIChPSyksIDQwNCAoRVJST1IpIG9yIC0xIChXQUlUSU5HKVxuICAgICAgICB2YXIgcmVzcG9uc2UgPSAoc3RhdHVzID09PSAyMDApICYmIGNhbGxiYWNrcy5nZXRSZXNwb25zZShjYWxsYmFja1BhdGgpO1xuICAgICAgICBjb21wbGV0ZVJlcXVlc3QoY2FsbGJhY2ssIHN0YXR1cywgcmVzcG9uc2UsICcnLCB0ZXh0KTtcbiAgICAgICAgY2FsbGJhY2tzLnJlbW92ZUNhbGxiYWNrKGNhbGxiYWNrUGF0aCk7XG4gICAgICB9KTtcbiAgICB9IGVsc2Uge1xuXG4gICAgICB2YXIgeGhyID0gY3JlYXRlWGhyKG1ldGhvZCwgdXJsKTtcblxuICAgICAgeGhyLm9wZW4obWV0aG9kLCB1cmwsIHRydWUpO1xuICAgICAgZm9yRWFjaChoZWFkZXJzLCBmdW5jdGlvbih2YWx1ZSwga2V5KSB7XG4gICAgICAgIGlmIChpc0RlZmluZWQodmFsdWUpKSB7XG4gICAgICAgICAgICB4aHIuc2V0UmVxdWVzdEhlYWRlcihrZXksIHZhbHVlKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG5cbiAgICAgIHhoci5vbmxvYWQgPSBmdW5jdGlvbiByZXF1ZXN0TG9hZGVkKCkge1xuICAgICAgICB2YXIgc3RhdHVzVGV4dCA9IHhoci5zdGF0dXNUZXh0IHx8ICcnO1xuXG4gICAgICAgIC8vIHJlc3BvbnNlVGV4dCBpcyB0aGUgb2xkLXNjaG9vbCB3YXkgb2YgcmV0cmlldmluZyByZXNwb25zZSAoc3VwcG9ydGVkIGJ5IElFOSlcbiAgICAgICAgLy8gcmVzcG9uc2UvcmVzcG9uc2VUeXBlIHByb3BlcnRpZXMgd2VyZSBpbnRyb2R1Y2VkIGluIFhIUiBMZXZlbDIgc3BlYyAoc3VwcG9ydGVkIGJ5IElFMTApXG4gICAgICAgIHZhciByZXNwb25zZSA9ICgncmVzcG9uc2UnIGluIHhocikgPyB4aHIucmVzcG9uc2UgOiB4aHIucmVzcG9uc2VUZXh0O1xuXG4gICAgICAgIC8vIG5vcm1hbGl6ZSBJRTkgYnVnIChodHRwOi8vYnVncy5qcXVlcnkuY29tL3RpY2tldC8xNDUwKVxuICAgICAgICB2YXIgc3RhdHVzID0geGhyLnN0YXR1cyA9PT0gMTIyMyA/IDIwNCA6IHhoci5zdGF0dXM7XG5cbiAgICAgICAgLy8gZml4IHN0YXR1cyBjb2RlIHdoZW4gaXQgaXMgMCAoMCBzdGF0dXMgaXMgdW5kb2N1bWVudGVkKS5cbiAgICAgICAgLy8gT2NjdXJzIHdoZW4gYWNjZXNzaW5nIGZpbGUgcmVzb3VyY2VzIG9yIG9uIEFuZHJvaWQgNC4xIHN0b2NrIGJyb3dzZXJcbiAgICAgICAgLy8gd2hpbGUgcmV0cmlldmluZyBmaWxlcyBmcm9tIGFwcGxpY2F0aW9uIGNhY2hlLlxuICAgICAgICBpZiAoc3RhdHVzID09PSAwKSB7XG4gICAgICAgICAgc3RhdHVzID0gcmVzcG9uc2UgPyAyMDAgOiB1cmxSZXNvbHZlKHVybCkucHJvdG9jb2wgPT09ICdmaWxlJyA/IDQwNCA6IDA7XG4gICAgICAgIH1cblxuICAgICAgICBjb21wbGV0ZVJlcXVlc3QoY2FsbGJhY2ssXG4gICAgICAgICAgICBzdGF0dXMsXG4gICAgICAgICAgICByZXNwb25zZSxcbiAgICAgICAgICAgIHhoci5nZXRBbGxSZXNwb25zZUhlYWRlcnMoKSxcbiAgICAgICAgICAgIHN0YXR1c1RleHQpO1xuICAgICAgfTtcblxuICAgICAgdmFyIHJlcXVlc3RFcnJvciA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAvLyBUaGUgcmVzcG9uc2UgaXMgYWx3YXlzIGVtcHR5XG4gICAgICAgIC8vIFNlZSBodHRwczovL3hoci5zcGVjLndoYXR3Zy5vcmcvI3JlcXVlc3QtZXJyb3Itc3RlcHMgYW5kIGh0dHBzOi8vZmV0Y2guc3BlYy53aGF0d2cub3JnLyNjb25jZXB0LW5ldHdvcmstZXJyb3JcbiAgICAgICAgY29tcGxldGVSZXF1ZXN0KGNhbGxiYWNrLCAtMSwgbnVsbCwgbnVsbCwgJycpO1xuICAgICAgfTtcblxuICAgICAgeGhyLm9uZXJyb3IgPSByZXF1ZXN0RXJyb3I7XG4gICAgICB4aHIub25hYm9ydCA9IHJlcXVlc3RFcnJvcjtcbiAgICAgIHhoci5vbnRpbWVvdXQgPSByZXF1ZXN0RXJyb3I7XG5cbiAgICAgIGZvckVhY2goZXZlbnRIYW5kbGVycywgZnVuY3Rpb24odmFsdWUsIGtleSkge1xuICAgICAgICAgIHhoci5hZGRFdmVudExpc3RlbmVyKGtleSwgdmFsdWUpO1xuICAgICAgfSk7XG5cbiAgICAgIGZvckVhY2godXBsb2FkRXZlbnRIYW5kbGVycywgZnVuY3Rpb24odmFsdWUsIGtleSkge1xuICAgICAgICB4aHIudXBsb2FkLmFkZEV2ZW50TGlzdGVuZXIoa2V5LCB2YWx1ZSk7XG4gICAgICB9KTtcblxuICAgICAgaWYgKHdpdGhDcmVkZW50aWFscykge1xuICAgICAgICB4aHIud2l0aENyZWRlbnRpYWxzID0gdHJ1ZTtcbiAgICAgIH1cblxuICAgICAgaWYgKHJlc3BvbnNlVHlwZSkge1xuICAgICAgICB0cnkge1xuICAgICAgICAgIHhoci5yZXNwb25zZVR5cGUgPSByZXNwb25zZVR5cGU7XG4gICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICAvLyBXZWJLaXQgYWRkZWQgc3VwcG9ydCBmb3IgdGhlIGpzb24gcmVzcG9uc2VUeXBlIHZhbHVlIG9uIDA5LzAzLzIwMTNcbiAgICAgICAgICAvLyBodHRwczovL2J1Z3Mud2Via2l0Lm9yZy9zaG93X2J1Zy5jZ2k/aWQ9NzM2NDguIFZlcnNpb25zIG9mIFNhZmFyaSBwcmlvciB0byA3IGFyZVxuICAgICAgICAgIC8vIGtub3duIHRvIHRocm93IHdoZW4gc2V0dGluZyB0aGUgdmFsdWUgXCJqc29uXCIgYXMgdGhlIHJlc3BvbnNlIHR5cGUuIE90aGVyIG9sZGVyXG4gICAgICAgICAgLy8gYnJvd3NlcnMgaW1wbGVtZW50aW5nIHRoZSByZXNwb25zZVR5cGVcbiAgICAgICAgICAvL1xuICAgICAgICAgIC8vIFRoZSBqc29uIHJlc3BvbnNlIHR5cGUgY2FuIGJlIGlnbm9yZWQgaWYgbm90IHN1cHBvcnRlZCwgYmVjYXVzZSBKU09OIHBheWxvYWRzIGFyZVxuICAgICAgICAgIC8vIHBhcnNlZCBvbiB0aGUgY2xpZW50LXNpZGUgcmVnYXJkbGVzcy5cbiAgICAgICAgICBpZiAocmVzcG9uc2VUeXBlICE9PSAnanNvbicpIHtcbiAgICAgICAgICAgIHRocm93IGU7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIHhoci5zZW5kKGlzVW5kZWZpbmVkKHBvc3QpID8gbnVsbCA6IHBvc3QpO1xuICAgIH1cblxuICAgIGlmICh0aW1lb3V0ID4gMCkge1xuICAgICAgdmFyIHRpbWVvdXRJZCA9ICRicm93c2VyRGVmZXIodGltZW91dFJlcXVlc3QsIHRpbWVvdXQpO1xuICAgIH0gZWxzZSBpZiAoaXNQcm9taXNlTGlrZSh0aW1lb3V0KSkge1xuICAgICAgdGltZW91dC50aGVuKHRpbWVvdXRSZXF1ZXN0KTtcbiAgICB9XG5cblxuICAgIGZ1bmN0aW9uIHRpbWVvdXRSZXF1ZXN0KCkge1xuICAgICAgaWYgKGpzb25wRG9uZSkge1xuICAgICAgICBqc29ucERvbmUoKTtcbiAgICAgIH1cbiAgICAgIGlmICh4aHIpIHtcbiAgICAgICAgeGhyLmFib3J0KCk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gY29tcGxldGVSZXF1ZXN0KGNhbGxiYWNrLCBzdGF0dXMsIHJlc3BvbnNlLCBoZWFkZXJzU3RyaW5nLCBzdGF0dXNUZXh0KSB7XG4gICAgICAvLyBjYW5jZWwgdGltZW91dCBhbmQgc3Vic2VxdWVudCB0aW1lb3V0IHByb21pc2UgcmVzb2x1dGlvblxuICAgICAgaWYgKGlzRGVmaW5lZCh0aW1lb3V0SWQpKSB7XG4gICAgICAgICRicm93c2VyRGVmZXIuY2FuY2VsKHRpbWVvdXRJZCk7XG4gICAgICB9XG4gICAgICBqc29ucERvbmUgPSB4aHIgPSBudWxsO1xuXG4gICAgICBjYWxsYmFjayhzdGF0dXMsIHJlc3BvbnNlLCBoZWFkZXJzU3RyaW5nLCBzdGF0dXNUZXh0KTtcbiAgICB9XG4gIH07XG5cbiAgZnVuY3Rpb24ganNvbnBSZXEodXJsLCBjYWxsYmFja1BhdGgsIGRvbmUpIHtcbiAgICB1cmwgPSB1cmwucmVwbGFjZSgnSlNPTl9DQUxMQkFDSycsIGNhbGxiYWNrUGF0aCk7XG4gICAgLy8gd2UgY2FuJ3QgdXNlIGpRdWVyeS9qcUxpdGUgaGVyZSBiZWNhdXNlIGpRdWVyeSBkb2VzIGNyYXp5IHN0dWZmIHdpdGggc2NyaXB0IGVsZW1lbnRzLCBlLmcuOlxuICAgIC8vIC0gZmV0Y2hlcyBsb2NhbCBzY3JpcHRzIHZpYSBYSFIgYW5kIGV2YWxzIHRoZW1cbiAgICAvLyAtIGFkZHMgYW5kIGltbWVkaWF0ZWx5IHJlbW92ZXMgc2NyaXB0IGVsZW1lbnRzIGZyb20gdGhlIGRvY3VtZW50XG4gICAgdmFyIHNjcmlwdCA9IHJhd0RvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3NjcmlwdCcpLCBjYWxsYmFjayA9IG51bGw7XG4gICAgc2NyaXB0LnR5cGUgPSAndGV4dC9qYXZhc2NyaXB0JztcbiAgICBzY3JpcHQuc3JjID0gdXJsO1xuICAgIHNjcmlwdC5hc3luYyA9IHRydWU7XG5cbiAgICBjYWxsYmFjayA9IGZ1bmN0aW9uKGV2ZW50KSB7XG4gICAgICBzY3JpcHQucmVtb3ZlRXZlbnRMaXN0ZW5lcignbG9hZCcsIGNhbGxiYWNrKTtcbiAgICAgIHNjcmlwdC5yZW1vdmVFdmVudExpc3RlbmVyKCdlcnJvcicsIGNhbGxiYWNrKTtcbiAgICAgIHJhd0RvY3VtZW50LmJvZHkucmVtb3ZlQ2hpbGQoc2NyaXB0KTtcbiAgICAgIHNjcmlwdCA9IG51bGw7XG4gICAgICB2YXIgc3RhdHVzID0gLTE7XG4gICAgICB2YXIgdGV4dCA9ICd1bmtub3duJztcblxuICAgICAgaWYgKGV2ZW50KSB7XG4gICAgICAgIGlmIChldmVudC50eXBlID09PSAnbG9hZCcgJiYgIWNhbGxiYWNrcy53YXNDYWxsZWQoY2FsbGJhY2tQYXRoKSkge1xuICAgICAgICAgIGV2ZW50ID0geyB0eXBlOiAnZXJyb3InIH07XG4gICAgICAgIH1cbiAgICAgICAgdGV4dCA9IGV2ZW50LnR5cGU7XG4gICAgICAgIHN0YXR1cyA9IGV2ZW50LnR5cGUgPT09ICdlcnJvcicgPyA0MDQgOiAyMDA7XG4gICAgICB9XG5cbiAgICAgIGlmIChkb25lKSB7XG4gICAgICAgIGRvbmUoc3RhdHVzLCB0ZXh0KTtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgc2NyaXB0LmFkZEV2ZW50TGlzdGVuZXIoJ2xvYWQnLCBjYWxsYmFjayk7XG4gICAgc2NyaXB0LmFkZEV2ZW50TGlzdGVuZXIoJ2Vycm9yJywgY2FsbGJhY2spO1xuICAgIHJhd0RvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQoc2NyaXB0KTtcbiAgICByZXR1cm4gY2FsbGJhY2s7XG4gIH1cbn1cblxudmFyICRpbnRlcnBvbGF0ZU1pbkVyciA9IGFuZ3VsYXIuJGludGVycG9sYXRlTWluRXJyID0gbWluRXJyKCckaW50ZXJwb2xhdGUnKTtcbiRpbnRlcnBvbGF0ZU1pbkVyci50aHJvd05vY29uY2F0ID0gZnVuY3Rpb24odGV4dCkge1xuICB0aHJvdyAkaW50ZXJwb2xhdGVNaW5FcnIoJ25vY29uY2F0JyxcbiAgICAgICdFcnJvciB3aGlsZSBpbnRlcnBvbGF0aW5nOiB7MH1cXG5TdHJpY3QgQ29udGV4dHVhbCBFc2NhcGluZyBkaXNhbGxvd3MgJyArXG4gICAgICAnaW50ZXJwb2xhdGlvbnMgdGhhdCBjb25jYXRlbmF0ZSBtdWx0aXBsZSBleHByZXNzaW9ucyB3aGVuIGEgdHJ1c3RlZCB2YWx1ZSBpcyAnICtcbiAgICAgICdyZXF1aXJlZC4gIFNlZSBodHRwOi8vZG9jcy5hbmd1bGFyanMub3JnL2FwaS9uZy4kc2NlJywgdGV4dCk7XG59O1xuXG4kaW50ZXJwb2xhdGVNaW5FcnIuaW50ZXJyID0gZnVuY3Rpb24odGV4dCwgZXJyKSB7XG4gIHJldHVybiAkaW50ZXJwb2xhdGVNaW5FcnIoJ2ludGVycicsICdDYW5cXCd0IGludGVycG9sYXRlOiB7MH1cXG57MX0nLCB0ZXh0LCBlcnIudG9TdHJpbmcoKSk7XG59O1xuXG4vKipcbiAqIEBuZ2RvYyBwcm92aWRlclxuICogQG5hbWUgJGludGVycG9sYXRlUHJvdmlkZXJcbiAqIEB0aGlzXG4gKlxuICogQGRlc2NyaXB0aW9uXG4gKlxuICogVXNlZCBmb3IgY29uZmlndXJpbmcgdGhlIGludGVycG9sYXRpb24gbWFya3VwLiBEZWZhdWx0cyB0byBge3tgIGFuZCBgfX1gLlxuICpcbiAqIDxkaXYgY2xhc3M9XCJhbGVydCBhbGVydC1kYW5nZXJcIj5cbiAqIFRoaXMgZmVhdHVyZSBpcyBzb21ldGltZXMgdXNlZCB0byBtaXggZGlmZmVyZW50IG1hcmt1cCBsYW5ndWFnZXMsIGUuZy4gdG8gd3JhcCBhbiBBbmd1bGFyXG4gKiB0ZW1wbGF0ZSB3aXRoaW4gYSBQeXRob24gSmluamEgdGVtcGxhdGUgKG9yIGFueSBvdGhlciB0ZW1wbGF0ZSBsYW5ndWFnZSkuIE1peGluZyB0ZW1wbGF0aW5nXG4gKiBsYW5ndWFnZXMgaXMgKip2ZXJ5IGRhbmdlcm91cyoqLiBUaGUgZW1iZWRkaW5nIHRlbXBsYXRlIGxhbmd1YWdlIHdpbGwgbm90IHNhZmVseSBlc2NhcGUgQW5ndWxhclxuICogZXhwcmVzc2lvbnMsIHNvIGFueSB1c2VyLWNvbnRyb2xsZWQgdmFsdWVzIGluIHRoZSB0ZW1wbGF0ZSB3aWxsIGNhdXNlIENyb3NzIFNpdGUgU2NyaXB0aW5nIChYU1MpXG4gKiBzZWN1cml0eSBidWdzIVxuICogPC9kaXY+XG4gKlxuICogQGV4YW1wbGVcbjxleGFtcGxlIG5hbWU9XCJjdXN0b20taW50ZXJwb2xhdGlvbi1tYXJrdXBcIiBtb2R1bGU9XCJjdXN0b21JbnRlcnBvbGF0aW9uQXBwXCI+XG48ZmlsZSBuYW1lPVwiaW5kZXguaHRtbFwiPlxuPHNjcmlwdD5cbiAgdmFyIGN1c3RvbUludGVycG9sYXRpb25BcHAgPSBhbmd1bGFyLm1vZHVsZSgnY3VzdG9tSW50ZXJwb2xhdGlvbkFwcCcsIFtdKTtcblxuICBjdXN0b21JbnRlcnBvbGF0aW9uQXBwLmNvbmZpZyhmdW5jdGlvbigkaW50ZXJwb2xhdGVQcm92aWRlcikge1xuICAgICRpbnRlcnBvbGF0ZVByb3ZpZGVyLnN0YXJ0U3ltYm9sKCcvLycpO1xuICAgICRpbnRlcnBvbGF0ZVByb3ZpZGVyLmVuZFN5bWJvbCgnLy8nKTtcbiAgfSk7XG5cblxuICBjdXN0b21JbnRlcnBvbGF0aW9uQXBwLmNvbnRyb2xsZXIoJ0RlbW9Db250cm9sbGVyJywgZnVuY3Rpb24oKSB7XG4gICAgICB0aGlzLmxhYmVsID0gXCJUaGlzIGJpbmRpbmcgaXMgYnJvdWdodCB5b3UgYnkgLy8gaW50ZXJwb2xhdGlvbiBzeW1ib2xzLlwiO1xuICB9KTtcbjwvc2NyaXB0PlxuPGRpdiBuZy1jb250cm9sbGVyPVwiRGVtb0NvbnRyb2xsZXIgYXMgZGVtb1wiPlxuICAgIC8vZGVtby5sYWJlbC8vXG48L2Rpdj5cbjwvZmlsZT5cbjxmaWxlIG5hbWU9XCJwcm90cmFjdG9yLmpzXCIgdHlwZT1cInByb3RyYWN0b3JcIj5cbiAgaXQoJ3Nob3VsZCBpbnRlcnBvbGF0ZSBiaW5kaW5nIHdpdGggY3VzdG9tIHN5bWJvbHMnLCBmdW5jdGlvbigpIHtcbiAgICBleHBlY3QoZWxlbWVudChieS5iaW5kaW5nKCdkZW1vLmxhYmVsJykpLmdldFRleHQoKSkudG9CZSgnVGhpcyBiaW5kaW5nIGlzIGJyb3VnaHQgeW91IGJ5IC8vIGludGVycG9sYXRpb24gc3ltYm9scy4nKTtcbiAgfSk7XG48L2ZpbGU+XG48L2V4YW1wbGU+XG4gKi9cbmZ1bmN0aW9uICRJbnRlcnBvbGF0ZVByb3ZpZGVyKCkge1xuICB2YXIgc3RhcnRTeW1ib2wgPSAne3snO1xuICB2YXIgZW5kU3ltYm9sID0gJ319JztcblxuICAvKipcbiAgICogQG5nZG9jIG1ldGhvZFxuICAgKiBAbmFtZSAkaW50ZXJwb2xhdGVQcm92aWRlciNzdGFydFN5bWJvbFxuICAgKiBAZGVzY3JpcHRpb25cbiAgICogU3ltYm9sIHRvIGRlbm90ZSBzdGFydCBvZiBleHByZXNzaW9uIGluIHRoZSBpbnRlcnBvbGF0ZWQgc3RyaW5nLiBEZWZhdWx0cyB0byBge3tgLlxuICAgKlxuICAgKiBAcGFyYW0ge3N0cmluZz19IHZhbHVlIG5ldyB2YWx1ZSB0byBzZXQgdGhlIHN0YXJ0aW5nIHN5bWJvbCB0by5cbiAgICogQHJldHVybnMge3N0cmluZ3xzZWxmfSBSZXR1cm5zIHRoZSBzeW1ib2wgd2hlbiB1c2VkIGFzIGdldHRlciBhbmQgc2VsZiBpZiB1c2VkIGFzIHNldHRlci5cbiAgICovXG4gIHRoaXMuc3RhcnRTeW1ib2wgPSBmdW5jdGlvbih2YWx1ZSkge1xuICAgIGlmICh2YWx1ZSkge1xuICAgICAgc3RhcnRTeW1ib2wgPSB2YWx1ZTtcbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gc3RhcnRTeW1ib2w7XG4gICAgfVxuICB9O1xuXG4gIC8qKlxuICAgKiBAbmdkb2MgbWV0aG9kXG4gICAqIEBuYW1lICRpbnRlcnBvbGF0ZVByb3ZpZGVyI2VuZFN5bWJvbFxuICAgKiBAZGVzY3JpcHRpb25cbiAgICogU3ltYm9sIHRvIGRlbm90ZSB0aGUgZW5kIG9mIGV4cHJlc3Npb24gaW4gdGhlIGludGVycG9sYXRlZCBzdHJpbmcuIERlZmF1bHRzIHRvIGB9fWAuXG4gICAqXG4gICAqIEBwYXJhbSB7c3RyaW5nPX0gdmFsdWUgbmV3IHZhbHVlIHRvIHNldCB0aGUgZW5kaW5nIHN5bWJvbCB0by5cbiAgICogQHJldHVybnMge3N0cmluZ3xzZWxmfSBSZXR1cm5zIHRoZSBzeW1ib2wgd2hlbiB1c2VkIGFzIGdldHRlciBhbmQgc2VsZiBpZiB1c2VkIGFzIHNldHRlci5cbiAgICovXG4gIHRoaXMuZW5kU3ltYm9sID0gZnVuY3Rpb24odmFsdWUpIHtcbiAgICBpZiAodmFsdWUpIHtcbiAgICAgIGVuZFN5bWJvbCA9IHZhbHVlO1xuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBlbmRTeW1ib2w7XG4gICAgfVxuICB9O1xuXG5cbiAgdGhpcy4kZ2V0ID0gWyckcGFyc2UnLCAnJGV4Y2VwdGlvbkhhbmRsZXInLCAnJHNjZScsIGZ1bmN0aW9uKCRwYXJzZSwgJGV4Y2VwdGlvbkhhbmRsZXIsICRzY2UpIHtcbiAgICB2YXIgc3RhcnRTeW1ib2xMZW5ndGggPSBzdGFydFN5bWJvbC5sZW5ndGgsXG4gICAgICAgIGVuZFN5bWJvbExlbmd0aCA9IGVuZFN5bWJvbC5sZW5ndGgsXG4gICAgICAgIGVzY2FwZWRTdGFydFJlZ2V4cCA9IG5ldyBSZWdFeHAoc3RhcnRTeW1ib2wucmVwbGFjZSgvLi9nLCBlc2NhcGUpLCAnZycpLFxuICAgICAgICBlc2NhcGVkRW5kUmVnZXhwID0gbmV3IFJlZ0V4cChlbmRTeW1ib2wucmVwbGFjZSgvLi9nLCBlc2NhcGUpLCAnZycpO1xuXG4gICAgZnVuY3Rpb24gZXNjYXBlKGNoKSB7XG4gICAgICByZXR1cm4gJ1xcXFxcXFxcXFxcXCcgKyBjaDtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiB1bmVzY2FwZVRleHQodGV4dCkge1xuICAgICAgcmV0dXJuIHRleHQucmVwbGFjZShlc2NhcGVkU3RhcnRSZWdleHAsIHN0YXJ0U3ltYm9sKS5cbiAgICAgICAgcmVwbGFjZShlc2NhcGVkRW5kUmVnZXhwLCBlbmRTeW1ib2wpO1xuICAgIH1cblxuICAgIC8vIFRPRE86IHRoaXMgaXMgdGhlIHNhbWUgYXMgdGhlIGNvbnN0YW50V2F0Y2hEZWxlZ2F0ZSBpbiBwYXJzZS5qc1xuICAgIGZ1bmN0aW9uIGNvbnN0YW50V2F0Y2hEZWxlZ2F0ZShzY29wZSwgbGlzdGVuZXIsIG9iamVjdEVxdWFsaXR5LCBjb25zdGFudEludGVycCkge1xuICAgICAgdmFyIHVud2F0Y2ggPSBzY29wZS4kd2F0Y2goZnVuY3Rpb24gY29uc3RhbnRJbnRlcnBvbGF0ZVdhdGNoKHNjb3BlKSB7XG4gICAgICAgIHVud2F0Y2goKTtcbiAgICAgICAgcmV0dXJuIGNvbnN0YW50SW50ZXJwKHNjb3BlKTtcbiAgICAgIH0sIGxpc3RlbmVyLCBvYmplY3RFcXVhbGl0eSk7XG4gICAgICByZXR1cm4gdW53YXRjaDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBAbmdkb2Mgc2VydmljZVxuICAgICAqIEBuYW1lICRpbnRlcnBvbGF0ZVxuICAgICAqIEBraW5kIGZ1bmN0aW9uXG4gICAgICpcbiAgICAgKiBAcmVxdWlyZXMgJHBhcnNlXG4gICAgICogQHJlcXVpcmVzICRzY2VcbiAgICAgKlxuICAgICAqIEBkZXNjcmlwdGlvblxuICAgICAqXG4gICAgICogQ29tcGlsZXMgYSBzdHJpbmcgd2l0aCBtYXJrdXAgaW50byBhbiBpbnRlcnBvbGF0aW9uIGZ1bmN0aW9uLiBUaGlzIHNlcnZpY2UgaXMgdXNlZCBieSB0aGVcbiAgICAgKiBIVE1MIHtAbGluayBuZy4kY29tcGlsZSAkY29tcGlsZX0gc2VydmljZSBmb3IgZGF0YSBiaW5kaW5nLiBTZWVcbiAgICAgKiB7QGxpbmsgbmcuJGludGVycG9sYXRlUHJvdmlkZXIgJGludGVycG9sYXRlUHJvdmlkZXJ9IGZvciBjb25maWd1cmluZyB0aGVcbiAgICAgKiBpbnRlcnBvbGF0aW9uIG1hcmt1cC5cbiAgICAgKlxuICAgICAqXG4gICAgICogYGBganNcbiAgICAgKiAgIHZhciAkaW50ZXJwb2xhdGUgPSAuLi47IC8vIGluamVjdGVkXG4gICAgICogICB2YXIgZXhwID0gJGludGVycG9sYXRlKCdIZWxsbyB7e25hbWUgfCB1cHBlcmNhc2V9fSEnKTtcbiAgICAgKiAgIGV4cGVjdChleHAoe25hbWU6J0FuZ3VsYXInfSkpLnRvRXF1YWwoJ0hlbGxvIEFOR1VMQVIhJyk7XG4gICAgICogYGBgXG4gICAgICpcbiAgICAgKiBgJGludGVycG9sYXRlYCB0YWtlcyBhbiBvcHRpb25hbCBmb3VydGggYXJndW1lbnQsIGBhbGxPck5vdGhpbmdgLiBJZiBgYWxsT3JOb3RoaW5nYCBpc1xuICAgICAqIGB0cnVlYCwgdGhlIGludGVycG9sYXRpb24gZnVuY3Rpb24gd2lsbCByZXR1cm4gYHVuZGVmaW5lZGAgdW5sZXNzIGFsbCBlbWJlZGRlZCBleHByZXNzaW9uc1xuICAgICAqIGV2YWx1YXRlIHRvIGEgdmFsdWUgb3RoZXIgdGhhbiBgdW5kZWZpbmVkYC5cbiAgICAgKlxuICAgICAqIGBgYGpzXG4gICAgICogICB2YXIgJGludGVycG9sYXRlID0gLi4uOyAvLyBpbmplY3RlZFxuICAgICAqICAgdmFyIGNvbnRleHQgPSB7Z3JlZXRpbmc6ICdIZWxsbycsIG5hbWU6IHVuZGVmaW5lZCB9O1xuICAgICAqXG4gICAgICogICAvLyBkZWZhdWx0IFwiZm9yZ2l2aW5nXCIgbW9kZVxuICAgICAqICAgdmFyIGV4cCA9ICRpbnRlcnBvbGF0ZSgne3tncmVldGluZ319IHt7bmFtZX19IScpO1xuICAgICAqICAgZXhwZWN0KGV4cChjb250ZXh0KSkudG9FcXVhbCgnSGVsbG8gIScpO1xuICAgICAqXG4gICAgICogICAvLyBcImFsbE9yTm90aGluZ1wiIG1vZGVcbiAgICAgKiAgIGV4cCA9ICRpbnRlcnBvbGF0ZSgne3tncmVldGluZ319IHt7bmFtZX19IScsIGZhbHNlLCBudWxsLCB0cnVlKTtcbiAgICAgKiAgIGV4cGVjdChleHAoY29udGV4dCkpLnRvQmVVbmRlZmluZWQoKTtcbiAgICAgKiAgIGNvbnRleHQubmFtZSA9ICdBbmd1bGFyJztcbiAgICAgKiAgIGV4cGVjdChleHAoY29udGV4dCkpLnRvRXF1YWwoJ0hlbGxvIEFuZ3VsYXIhJyk7XG4gICAgICogYGBgXG4gICAgICpcbiAgICAgKiBgYWxsT3JOb3RoaW5nYCBpcyB1c2VmdWwgZm9yIGludGVycG9sYXRpbmcgVVJMcy4gYG5nU3JjYCBhbmQgYG5nU3Jjc2V0YCB1c2UgdGhpcyBiZWhhdmlvci5cbiAgICAgKlxuICAgICAqICMjIyMgRXNjYXBlZCBJbnRlcnBvbGF0aW9uXG4gICAgICogJGludGVycG9sYXRlIHByb3ZpZGVzIGEgbWVjaGFuaXNtIGZvciBlc2NhcGluZyBpbnRlcnBvbGF0aW9uIG1hcmtlcnMuIFN0YXJ0IGFuZCBlbmQgbWFya2Vyc1xuICAgICAqIGNhbiBiZSBlc2NhcGVkIGJ5IHByZWNlZGluZyBlYWNoIG9mIHRoZWlyIGNoYXJhY3RlcnMgd2l0aCBhIFJFVkVSU0UgU09MSURVUyBVKzAwNUMgKGJhY2tzbGFzaCkuXG4gICAgICogSXQgd2lsbCBiZSByZW5kZXJlZCBhcyBhIHJlZ3VsYXIgc3RhcnQvZW5kIG1hcmtlciwgYW5kIHdpbGwgbm90IGJlIGludGVycHJldGVkIGFzIGFuIGV4cHJlc3Npb25cbiAgICAgKiBvciBiaW5kaW5nLlxuICAgICAqXG4gICAgICogVGhpcyBlbmFibGVzIHdlYi1zZXJ2ZXJzIHRvIHByZXZlbnQgc2NyaXB0IGluamVjdGlvbiBhdHRhY2tzIGFuZCBkZWZhY2luZyBhdHRhY2tzLCB0byBzb21lXG4gICAgICogZGVncmVlLCB3aGlsZSBhbHNvIGVuYWJsaW5nIGNvZGUgZXhhbXBsZXMgdG8gd29yayB3aXRob3V0IHJlbHlpbmcgb24gdGhlXG4gICAgICoge0BsaW5rIG5nLmRpcmVjdGl2ZTpuZ05vbkJpbmRhYmxlIG5nTm9uQmluZGFibGV9IGRpcmVjdGl2ZS5cbiAgICAgKlxuICAgICAqICoqRm9yIHNlY3VyaXR5IHB1cnBvc2VzLCBpdCBpcyBzdHJvbmdseSBlbmNvdXJhZ2VkIHRoYXQgd2ViIHNlcnZlcnMgZXNjYXBlIHVzZXItc3VwcGxpZWQgZGF0YSxcbiAgICAgKiByZXBsYWNpbmcgYW5nbGUgYnJhY2tldHMgKCZsdDssICZndDspIHdpdGggJmFtcDtsdDsgYW5kICZhbXA7Z3Q7IHJlc3BlY3RpdmVseSwgYW5kIHJlcGxhY2luZyBhbGxcbiAgICAgKiBpbnRlcnBvbGF0aW9uIHN0YXJ0L2VuZCBtYXJrZXJzIHdpdGggdGhlaXIgZXNjYXBlZCBjb3VudGVycGFydHMuKipcbiAgICAgKlxuICAgICAqIEVzY2FwZWQgaW50ZXJwb2xhdGlvbiBtYXJrZXJzIGFyZSBvbmx5IHJlcGxhY2VkIHdpdGggdGhlIGFjdHVhbCBpbnRlcnBvbGF0aW9uIG1hcmtlcnMgaW4gcmVuZGVyZWRcbiAgICAgKiBvdXRwdXQgd2hlbiB0aGUgJGludGVycG9sYXRlIHNlcnZpY2UgcHJvY2Vzc2VzIHRoZSB0ZXh0LiBTbywgZm9yIEhUTUwgZWxlbWVudHMgaW50ZXJwb2xhdGVkXG4gICAgICogYnkge0BsaW5rIG5nLiRjb21waWxlICRjb21waWxlfSwgb3Igb3RoZXJ3aXNlIGludGVycG9sYXRlZCB3aXRoIHRoZSBgbXVzdEhhdmVFeHByZXNzaW9uYCBwYXJhbWV0ZXJcbiAgICAgKiBzZXQgdG8gYHRydWVgLCB0aGUgaW50ZXJwb2xhdGVkIHRleHQgbXVzdCBjb250YWluIGFuIHVuZXNjYXBlZCBpbnRlcnBvbGF0aW9uIGV4cHJlc3Npb24uIEFzIHN1Y2gsXG4gICAgICogdGhpcyBpcyB0eXBpY2FsbHkgdXNlZnVsIG9ubHkgd2hlbiB1c2VyLWRhdGEgaXMgdXNlZCBpbiByZW5kZXJpbmcgYSB0ZW1wbGF0ZSBmcm9tIHRoZSBzZXJ2ZXIsIG9yXG4gICAgICogd2hlbiBvdGhlcndpc2UgdW50cnVzdGVkIGRhdGEgaXMgdXNlZCBieSBhIGRpcmVjdGl2ZS5cbiAgICAgKlxuICAgICAqIDxleGFtcGxlIG5hbWU9XCJpbnRlcnBvbGF0aW9uXCI+XG4gICAgICogIDxmaWxlIG5hbWU9XCJpbmRleC5odG1sXCI+XG4gICAgICogICAgPGRpdiBuZy1pbml0PVwidXNlcm5hbWU9J0EgdXNlcidcIj5cbiAgICAgKiAgICAgIDxwIG5nLWluaXQ9XCJhcHB0aXRsZT0nRXNjYXBpbmcgZGVtbydcIj57e2FwcHRpdGxlfX06IFxce1xceyB1c2VybmFtZSA9IFwiZGVmYWNlZCB2YWx1ZVwiOyBcXH1cXH1cbiAgICAgKiAgICAgICAgPC9wPlxuICAgICAqICAgICAgPHA+PHN0cm9uZz57e3VzZXJuYW1lfX08L3N0cm9uZz4gYXR0ZW1wdHMgdG8gaW5qZWN0IGNvZGUgd2hpY2ggd2lsbCBkZWZhY2UgdGhlXG4gICAgICogICAgICAgIGFwcGxpY2F0aW9uLCBidXQgZmFpbHMgdG8gYWNjb21wbGlzaCB0aGVpciB0YXNrLCBiZWNhdXNlIHRoZSBzZXJ2ZXIgaGFzIGNvcnJlY3RseVxuICAgICAqICAgICAgICBlc2NhcGVkIHRoZSBpbnRlcnBvbGF0aW9uIHN0YXJ0L2VuZCBtYXJrZXJzIHdpdGggUkVWRVJTRSBTT0xJRFVTIFUrMDA1QyAoYmFja3NsYXNoKVxuICAgICAqICAgICAgICBjaGFyYWN0ZXJzLjwvcD5cbiAgICAgKiAgICAgIDxwPkluc3RlYWQsIHRoZSByZXN1bHQgb2YgdGhlIGF0dGVtcHRlZCBzY3JpcHQgaW5qZWN0aW9uIGlzIHZpc2libGUsIGFuZCBjYW4gYmUgcmVtb3ZlZFxuICAgICAqICAgICAgICBmcm9tIHRoZSBkYXRhYmFzZSBieSBhbiBhZG1pbmlzdHJhdG9yLjwvcD5cbiAgICAgKiAgICA8L2Rpdj5cbiAgICAgKiAgPC9maWxlPlxuICAgICAqIDwvZXhhbXBsZT5cbiAgICAgKlxuICAgICAqIEBrbm93bklzc3VlXG4gICAgICogSXQgaXMgY3VycmVudGx5IG5vdCBwb3NzaWJsZSBmb3IgYW4gaW50ZXJwb2xhdGVkIGV4cHJlc3Npb24gdG8gY29udGFpbiB0aGUgaW50ZXJwb2xhdGlvbiBlbmRcbiAgICAgKiBzeW1ib2wuIEZvciBleGFtcGxlLCBge3sgJ319JyB9fWAgd2lsbCBiZSBpbmNvcnJlY3RseSBpbnRlcnByZXRlZCBhcyBge3sgJyB9fWAgKyBgJyB9fWAsIGkuZS5cbiAgICAgKiBhbiBpbnRlcnBvbGF0ZWQgZXhwcmVzc2lvbiBjb25zaXN0aW5nIG9mIGEgc2luZ2xlLXF1b3RlIChgJ2ApIGFuZCB0aGUgYCcgfX1gIHN0cmluZy5cbiAgICAgKlxuICAgICAqIEBrbm93bklzc3VlXG4gICAgICogQWxsIGRpcmVjdGl2ZXMgYW5kIGNvbXBvbmVudHMgbXVzdCB1c2UgdGhlIHN0YW5kYXJkIGB7e2AgYH19YCBpbnRlcnBvbGF0aW9uIHN5bWJvbHNcbiAgICAgKiBpbiB0aGVpciB0ZW1wbGF0ZXMuIElmIHlvdSBjaGFuZ2UgdGhlIGFwcGxpY2F0aW9uIGludGVycG9sYXRpb24gc3ltYm9scyB0aGUge0BsaW5rICRjb21waWxlfVxuICAgICAqIHNlcnZpY2Ugd2lsbCBhdHRlbXB0IHRvIGRlbm9ybWFsaXplIHRoZSBzdGFuZGFyZCBzeW1ib2xzIHRvIHRoZSBjdXN0b20gc3ltYm9scy5cbiAgICAgKiBUaGUgZGVub3JtYWxpemF0aW9uIHByb2Nlc3MgaXMgbm90IGNsZXZlciBlbm91Z2ggdG8ga25vdyBub3QgdG8gcmVwbGFjZSBpbnN0YW5jZXMgb2YgdGhlIHN0YW5kYXJkXG4gICAgICogc3ltYm9scyB3aGVyZSB0aGV5IHdvdWxkIG5vdCBub3JtYWxseSBiZSB0cmVhdGVkIGFzIGludGVycG9sYXRpb24gc3ltYm9scy4gRm9yIGV4YW1wbGUgaW4gdGhlIGZvbGxvd2luZ1xuICAgICAqIGNvZGUgc25pcHBldCB0aGUgY2xvc2luZyBicmFjZXMgb2YgdGhlIGxpdGVyYWwgb2JqZWN0IHdpbGwgZ2V0IGluY29ycmVjdGx5IGRlbm9ybWFsaXplZDpcbiAgICAgKlxuICAgICAqIGBgYFxuICAgICAqIDxkaXYgZGF0YS1jb250ZXh0PSd7XCJjb250ZXh0XCI6e1wiaWRcIjozLFwidHlwZVwiOlwicGFnZVwifX1cIj5cbiAgICAgKiBgYGBcbiAgICAgKlxuICAgICAqIFRoZSB3b3JrYXJvdW5kIGlzIHRvIGVuc3VyZSB0aGF0IHN1Y2ggaW5zdGFuY2VzIGFyZSBzZXBhcmF0ZWQgYnkgd2hpdGVzcGFjZTpcbiAgICAgKiBgYGBcbiAgICAgKiA8ZGl2IGRhdGEtY29udGV4dD0ne1wiY29udGV4dFwiOntcImlkXCI6MyxcInR5cGVcIjpcInBhZ2VcIn0gfVwiPlxuICAgICAqIGBgYFxuICAgICAqXG4gICAgICogU2VlIGh0dHBzOi8vZ2l0aHViLmNvbS9hbmd1bGFyL2FuZ3VsYXIuanMvcHVsbC8xNDYxMCNpc3N1ZWNvbW1lbnQtMjE5NDAxMDk5IGZvciBtb3JlIGluZm9ybWF0aW9uLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHRleHQgVGhlIHRleHQgd2l0aCBtYXJrdXAgdG8gaW50ZXJwb2xhdGUuXG4gICAgICogQHBhcmFtIHtib29sZWFuPX0gbXVzdEhhdmVFeHByZXNzaW9uIGlmIHNldCB0byB0cnVlIHRoZW4gdGhlIGludGVycG9sYXRpb24gc3RyaW5nIG11c3QgaGF2ZVxuICAgICAqICAgIGVtYmVkZGVkIGV4cHJlc3Npb24gaW4gb3JkZXIgdG8gcmV0dXJuIGFuIGludGVycG9sYXRpb24gZnVuY3Rpb24uIFN0cmluZ3Mgd2l0aCBub1xuICAgICAqICAgIGVtYmVkZGVkIGV4cHJlc3Npb24gd2lsbCByZXR1cm4gbnVsbCBmb3IgdGhlIGludGVycG9sYXRpb24gZnVuY3Rpb24uXG4gICAgICogQHBhcmFtIHtzdHJpbmc9fSB0cnVzdGVkQ29udGV4dCB3aGVuIHByb3ZpZGVkLCB0aGUgcmV0dXJuZWQgZnVuY3Rpb24gcGFzc2VzIHRoZSBpbnRlcnBvbGF0ZWRcbiAgICAgKiAgICByZXN1bHQgdGhyb3VnaCB7QGxpbmsgbmcuJHNjZSNnZXRUcnVzdGVkICRzY2UuZ2V0VHJ1c3RlZChpbnRlcnBvbGF0ZWRSZXN1bHQsXG4gICAgICogICAgdHJ1c3RlZENvbnRleHQpfSBiZWZvcmUgcmV0dXJuaW5nIGl0LiAgUmVmZXIgdG8gdGhlIHtAbGluayBuZy4kc2NlICRzY2V9IHNlcnZpY2UgdGhhdFxuICAgICAqICAgIHByb3ZpZGVzIFN0cmljdCBDb250ZXh0dWFsIEVzY2FwaW5nIGZvciBkZXRhaWxzLlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbj19IGFsbE9yTm90aGluZyBpZiBgdHJ1ZWAsIHRoZW4gdGhlIHJldHVybmVkIGZ1bmN0aW9uIHJldHVybnMgdW5kZWZpbmVkXG4gICAgICogICAgdW5sZXNzIGFsbCBlbWJlZGRlZCBleHByZXNzaW9ucyBldmFsdWF0ZSB0byBhIHZhbHVlIG90aGVyIHRoYW4gYHVuZGVmaW5lZGAuXG4gICAgICogQHJldHVybnMge2Z1bmN0aW9uKGNvbnRleHQpfSBhbiBpbnRlcnBvbGF0aW9uIGZ1bmN0aW9uIHdoaWNoIGlzIHVzZWQgdG8gY29tcHV0ZSB0aGVcbiAgICAgKiAgICBpbnRlcnBvbGF0ZWQgc3RyaW5nLiBUaGUgZnVuY3Rpb24gaGFzIHRoZXNlIHBhcmFtZXRlcnM6XG4gICAgICpcbiAgICAgKiAtIGBjb250ZXh0YDogZXZhbHVhdGlvbiBjb250ZXh0IGZvciBhbGwgZXhwcmVzc2lvbnMgZW1iZWRkZWQgaW4gdGhlIGludGVycG9sYXRlZCB0ZXh0XG4gICAgICovXG4gICAgZnVuY3Rpb24gJGludGVycG9sYXRlKHRleHQsIG11c3RIYXZlRXhwcmVzc2lvbiwgdHJ1c3RlZENvbnRleHQsIGFsbE9yTm90aGluZykge1xuICAgICAgLy8gUHJvdmlkZSBhIHF1aWNrIGV4aXQgYW5kIHNpbXBsaWZpZWQgcmVzdWx0IGZ1bmN0aW9uIGZvciB0ZXh0IHdpdGggbm8gaW50ZXJwb2xhdGlvblxuICAgICAgaWYgKCF0ZXh0Lmxlbmd0aCB8fCB0ZXh0LmluZGV4T2Yoc3RhcnRTeW1ib2wpID09PSAtMSkge1xuICAgICAgICB2YXIgY29uc3RhbnRJbnRlcnA7XG4gICAgICAgIGlmICghbXVzdEhhdmVFeHByZXNzaW9uKSB7XG4gICAgICAgICAgdmFyIHVuZXNjYXBlZFRleHQgPSB1bmVzY2FwZVRleHQodGV4dCk7XG4gICAgICAgICAgY29uc3RhbnRJbnRlcnAgPSB2YWx1ZUZuKHVuZXNjYXBlZFRleHQpO1xuICAgICAgICAgIGNvbnN0YW50SW50ZXJwLmV4cCA9IHRleHQ7XG4gICAgICAgICAgY29uc3RhbnRJbnRlcnAuZXhwcmVzc2lvbnMgPSBbXTtcbiAgICAgICAgICBjb25zdGFudEludGVycC4kJHdhdGNoRGVsZWdhdGUgPSBjb25zdGFudFdhdGNoRGVsZWdhdGU7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGNvbnN0YW50SW50ZXJwO1xuICAgICAgfVxuXG4gICAgICBhbGxPck5vdGhpbmcgPSAhIWFsbE9yTm90aGluZztcbiAgICAgIHZhciBzdGFydEluZGV4LFxuICAgICAgICAgIGVuZEluZGV4LFxuICAgICAgICAgIGluZGV4ID0gMCxcbiAgICAgICAgICBleHByZXNzaW9ucyA9IFtdLFxuICAgICAgICAgIHBhcnNlRm5zID0gW10sXG4gICAgICAgICAgdGV4dExlbmd0aCA9IHRleHQubGVuZ3RoLFxuICAgICAgICAgIGV4cCxcbiAgICAgICAgICBjb25jYXQgPSBbXSxcbiAgICAgICAgICBleHByZXNzaW9uUG9zaXRpb25zID0gW107XG5cbiAgICAgIHdoaWxlIChpbmRleCA8IHRleHRMZW5ndGgpIHtcbiAgICAgICAgaWYgKCgoc3RhcnRJbmRleCA9IHRleHQuaW5kZXhPZihzdGFydFN5bWJvbCwgaW5kZXgpKSAhPT0gLTEpICYmXG4gICAgICAgICAgICAgKChlbmRJbmRleCA9IHRleHQuaW5kZXhPZihlbmRTeW1ib2wsIHN0YXJ0SW5kZXggKyBzdGFydFN5bWJvbExlbmd0aCkpICE9PSAtMSkpIHtcbiAgICAgICAgICBpZiAoaW5kZXggIT09IHN0YXJ0SW5kZXgpIHtcbiAgICAgICAgICAgIGNvbmNhdC5wdXNoKHVuZXNjYXBlVGV4dCh0ZXh0LnN1YnN0cmluZyhpbmRleCwgc3RhcnRJbmRleCkpKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgZXhwID0gdGV4dC5zdWJzdHJpbmcoc3RhcnRJbmRleCArIHN0YXJ0U3ltYm9sTGVuZ3RoLCBlbmRJbmRleCk7XG4gICAgICAgICAgZXhwcmVzc2lvbnMucHVzaChleHApO1xuICAgICAgICAgIHBhcnNlRm5zLnB1c2goJHBhcnNlKGV4cCwgcGFyc2VTdHJpbmdpZnlJbnRlcmNlcHRvcikpO1xuICAgICAgICAgIGluZGV4ID0gZW5kSW5kZXggKyBlbmRTeW1ib2xMZW5ndGg7XG4gICAgICAgICAgZXhwcmVzc2lvblBvc2l0aW9ucy5wdXNoKGNvbmNhdC5sZW5ndGgpO1xuICAgICAgICAgIGNvbmNhdC5wdXNoKCcnKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAvLyB3ZSBkaWQgbm90IGZpbmQgYW4gaW50ZXJwb2xhdGlvbiwgc28gd2UgaGF2ZSB0byBhZGQgdGhlIHJlbWFpbmRlciB0byB0aGUgc2VwYXJhdG9ycyBhcnJheVxuICAgICAgICAgIGlmIChpbmRleCAhPT0gdGV4dExlbmd0aCkge1xuICAgICAgICAgICAgY29uY2F0LnB1c2godW5lc2NhcGVUZXh0KHRleHQuc3Vic3RyaW5nKGluZGV4KSkpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICAvLyBDb25jYXRlbmF0aW5nIGV4cHJlc3Npb25zIG1ha2VzIGl0IGhhcmQgdG8gcmVhc29uIGFib3V0IHdoZXRoZXIgc29tZSBjb21iaW5hdGlvbiBvZlxuICAgICAgLy8gY29uY2F0ZW5hdGVkIHZhbHVlcyBhcmUgdW5zYWZlIHRvIHVzZSBhbmQgY291bGQgZWFzaWx5IGxlYWQgdG8gWFNTLiAgQnkgcmVxdWlyaW5nIHRoYXQgYVxuICAgICAgLy8gc2luZ2xlIGV4cHJlc3Npb24gYmUgdXNlZCBmb3IgaWZyYW1lW3NyY10sIG9iamVjdFtzcmNdLCBldGMuLCB3ZSBlbnN1cmUgdGhhdCB0aGUgdmFsdWVcbiAgICAgIC8vIHRoYXQncyB1c2VkIGlzIGFzc2lnbmVkIG9yIGNvbnN0cnVjdGVkIGJ5IHNvbWUgSlMgY29kZSBzb21ld2hlcmUgdGhhdCBpcyBtb3JlIHRlc3RhYmxlIG9yXG4gICAgICAvLyBtYWtlIGl0IG9idmlvdXMgdGhhdCB5b3UgYm91bmQgdGhlIHZhbHVlIHRvIHNvbWUgdXNlciBjb250cm9sbGVkIHZhbHVlLiAgVGhpcyBoZWxwcyByZWR1Y2VcbiAgICAgIC8vIHRoZSBsb2FkIHdoZW4gYXVkaXRpbmcgZm9yIFhTUyBpc3N1ZXMuXG4gICAgICBpZiAodHJ1c3RlZENvbnRleHQgJiYgY29uY2F0Lmxlbmd0aCA+IDEpIHtcbiAgICAgICAgICAkaW50ZXJwb2xhdGVNaW5FcnIudGhyb3dOb2NvbmNhdCh0ZXh0KTtcbiAgICAgIH1cblxuICAgICAgaWYgKCFtdXN0SGF2ZUV4cHJlc3Npb24gfHwgZXhwcmVzc2lvbnMubGVuZ3RoKSB7XG4gICAgICAgIHZhciBjb21wdXRlID0gZnVuY3Rpb24odmFsdWVzKSB7XG4gICAgICAgICAgZm9yICh2YXIgaSA9IDAsIGlpID0gZXhwcmVzc2lvbnMubGVuZ3RoOyBpIDwgaWk7IGkrKykge1xuICAgICAgICAgICAgaWYgKGFsbE9yTm90aGluZyAmJiBpc1VuZGVmaW5lZCh2YWx1ZXNbaV0pKSByZXR1cm47XG4gICAgICAgICAgICBjb25jYXRbZXhwcmVzc2lvblBvc2l0aW9uc1tpXV0gPSB2YWx1ZXNbaV07XG4gICAgICAgICAgfVxuICAgICAgICAgIHJldHVybiBjb25jYXQuam9pbignJyk7XG4gICAgICAgIH07XG5cbiAgICAgICAgdmFyIGdldFZhbHVlID0gZnVuY3Rpb24odmFsdWUpIHtcbiAgICAgICAgICByZXR1cm4gdHJ1c3RlZENvbnRleHQgP1xuICAgICAgICAgICAgJHNjZS5nZXRUcnVzdGVkKHRydXN0ZWRDb250ZXh0LCB2YWx1ZSkgOlxuICAgICAgICAgICAgJHNjZS52YWx1ZU9mKHZhbHVlKTtcbiAgICAgICAgfTtcblxuICAgICAgICByZXR1cm4gZXh0ZW5kKGZ1bmN0aW9uIGludGVycG9sYXRpb25Gbihjb250ZXh0KSB7XG4gICAgICAgICAgICB2YXIgaSA9IDA7XG4gICAgICAgICAgICB2YXIgaWkgPSBleHByZXNzaW9ucy5sZW5ndGg7XG4gICAgICAgICAgICB2YXIgdmFsdWVzID0gbmV3IEFycmF5KGlpKTtcblxuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgZm9yICg7IGkgPCBpaTsgaSsrKSB7XG4gICAgICAgICAgICAgICAgdmFsdWVzW2ldID0gcGFyc2VGbnNbaV0oY29udGV4dCk7XG4gICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICByZXR1cm4gY29tcHV0ZSh2YWx1ZXMpO1xuICAgICAgICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgICAgICRleGNlcHRpb25IYW5kbGVyKCRpbnRlcnBvbGF0ZU1pbkVyci5pbnRlcnIodGV4dCwgZXJyKSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICB9LCB7XG4gICAgICAgICAgLy8gYWxsIG9mIHRoZXNlIHByb3BlcnRpZXMgYXJlIHVuZG9jdW1lbnRlZCBmb3Igbm93XG4gICAgICAgICAgZXhwOiB0ZXh0LCAvL2p1c3QgZm9yIGNvbXBhdGliaWxpdHkgd2l0aCByZWd1bGFyIHdhdGNoZXJzIGNyZWF0ZWQgdmlhICR3YXRjaFxuICAgICAgICAgIGV4cHJlc3Npb25zOiBleHByZXNzaW9ucyxcbiAgICAgICAgICAkJHdhdGNoRGVsZWdhdGU6IGZ1bmN0aW9uKHNjb3BlLCBsaXN0ZW5lcikge1xuICAgICAgICAgICAgdmFyIGxhc3RWYWx1ZTtcbiAgICAgICAgICAgIHJldHVybiBzY29wZS4kd2F0Y2hHcm91cChwYXJzZUZucywgLyoqIEB0aGlzICovIGZ1bmN0aW9uIGludGVycG9sYXRlRm5XYXRjaGVyKHZhbHVlcywgb2xkVmFsdWVzKSB7XG4gICAgICAgICAgICAgIHZhciBjdXJyVmFsdWUgPSBjb21wdXRlKHZhbHVlcyk7XG4gICAgICAgICAgICAgIGlmIChpc0Z1bmN0aW9uKGxpc3RlbmVyKSkge1xuICAgICAgICAgICAgICAgIGxpc3RlbmVyLmNhbGwodGhpcywgY3VyclZhbHVlLCB2YWx1ZXMgIT09IG9sZFZhbHVlcyA/IGxhc3RWYWx1ZSA6IGN1cnJWYWx1ZSwgc2NvcGUpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIGxhc3RWYWx1ZSA9IGN1cnJWYWx1ZTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICB9XG5cbiAgICAgIGZ1bmN0aW9uIHBhcnNlU3RyaW5naWZ5SW50ZXJjZXB0b3IodmFsdWUpIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICB2YWx1ZSA9IGdldFZhbHVlKHZhbHVlKTtcbiAgICAgICAgICByZXR1cm4gYWxsT3JOb3RoaW5nICYmICFpc0RlZmluZWQodmFsdWUpID8gdmFsdWUgOiBzdHJpbmdpZnkodmFsdWUpO1xuICAgICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAkZXhjZXB0aW9uSGFuZGxlcigkaW50ZXJwb2xhdGVNaW5FcnIuaW50ZXJyKHRleHQsIGVycikpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG5cbiAgICAvKipcbiAgICAgKiBAbmdkb2MgbWV0aG9kXG4gICAgICogQG5hbWUgJGludGVycG9sYXRlI3N0YXJ0U3ltYm9sXG4gICAgICogQGRlc2NyaXB0aW9uXG4gICAgICogU3ltYm9sIHRvIGRlbm90ZSB0aGUgc3RhcnQgb2YgZXhwcmVzc2lvbiBpbiB0aGUgaW50ZXJwb2xhdGVkIHN0cmluZy4gRGVmYXVsdHMgdG8gYHt7YC5cbiAgICAgKlxuICAgICAqIFVzZSB7QGxpbmsgbmcuJGludGVycG9sYXRlUHJvdmlkZXIjc3RhcnRTeW1ib2wgYCRpbnRlcnBvbGF0ZVByb3ZpZGVyLnN0YXJ0U3ltYm9sYH0gdG8gY2hhbmdlXG4gICAgICogdGhlIHN5bWJvbC5cbiAgICAgKlxuICAgICAqIEByZXR1cm5zIHtzdHJpbmd9IHN0YXJ0IHN5bWJvbC5cbiAgICAgKi9cbiAgICAkaW50ZXJwb2xhdGUuc3RhcnRTeW1ib2wgPSBmdW5jdGlvbigpIHtcbiAgICAgIHJldHVybiBzdGFydFN5bWJvbDtcbiAgICB9O1xuXG5cbiAgICAvKipcbiAgICAgKiBAbmdkb2MgbWV0aG9kXG4gICAgICogQG5hbWUgJGludGVycG9sYXRlI2VuZFN5bWJvbFxuICAgICAqIEBkZXNjcmlwdGlvblxuICAgICAqIFN5bWJvbCB0byBkZW5vdGUgdGhlIGVuZCBvZiBleHByZXNzaW9uIGluIHRoZSBpbnRlcnBvbGF0ZWQgc3RyaW5nLiBEZWZhdWx0cyB0byBgfX1gLlxuICAgICAqXG4gICAgICogVXNlIHtAbGluayBuZy4kaW50ZXJwb2xhdGVQcm92aWRlciNlbmRTeW1ib2wgYCRpbnRlcnBvbGF0ZVByb3ZpZGVyLmVuZFN5bWJvbGB9IHRvIGNoYW5nZVxuICAgICAqIHRoZSBzeW1ib2wuXG4gICAgICpcbiAgICAgKiBAcmV0dXJucyB7c3RyaW5nfSBlbmQgc3ltYm9sLlxuICAgICAqL1xuICAgICRpbnRlcnBvbGF0ZS5lbmRTeW1ib2wgPSBmdW5jdGlvbigpIHtcbiAgICAgIHJldHVybiBlbmRTeW1ib2w7XG4gICAgfTtcblxuICAgIHJldHVybiAkaW50ZXJwb2xhdGU7XG4gIH1dO1xufVxuXG4vKiogQHRoaXMgKi9cbmZ1bmN0aW9uICRJbnRlcnZhbFByb3ZpZGVyKCkge1xuICB0aGlzLiRnZXQgPSBbJyRyb290U2NvcGUnLCAnJHdpbmRvdycsICckcScsICckJHEnLCAnJGJyb3dzZXInLFxuICAgICAgIGZ1bmN0aW9uKCRyb290U2NvcGUsICAgJHdpbmRvdywgICAkcSwgICAkJHEsICAgJGJyb3dzZXIpIHtcbiAgICB2YXIgaW50ZXJ2YWxzID0ge307XG5cblxuICAgICAvKipcbiAgICAgICogQG5nZG9jIHNlcnZpY2VcbiAgICAgICogQG5hbWUgJGludGVydmFsXG4gICAgICAqXG4gICAgICAqIEBkZXNjcmlwdGlvblxuICAgICAgKiBBbmd1bGFyJ3Mgd3JhcHBlciBmb3IgYHdpbmRvdy5zZXRJbnRlcnZhbGAuIFRoZSBgZm5gIGZ1bmN0aW9uIGlzIGV4ZWN1dGVkIGV2ZXJ5IGBkZWxheWBcbiAgICAgICogbWlsbGlzZWNvbmRzLlxuICAgICAgKlxuICAgICAgKiBUaGUgcmV0dXJuIHZhbHVlIG9mIHJlZ2lzdGVyaW5nIGFuIGludGVydmFsIGZ1bmN0aW9uIGlzIGEgcHJvbWlzZS4gVGhpcyBwcm9taXNlIHdpbGwgYmVcbiAgICAgICogbm90aWZpZWQgdXBvbiBlYWNoIHRpY2sgb2YgdGhlIGludGVydmFsLCBhbmQgd2lsbCBiZSByZXNvbHZlZCBhZnRlciBgY291bnRgIGl0ZXJhdGlvbnMsIG9yXG4gICAgICAqIHJ1biBpbmRlZmluaXRlbHkgaWYgYGNvdW50YCBpcyBub3QgZGVmaW5lZC4gVGhlIHZhbHVlIG9mIHRoZSBub3RpZmljYXRpb24gd2lsbCBiZSB0aGVcbiAgICAgICogbnVtYmVyIG9mIGl0ZXJhdGlvbnMgdGhhdCBoYXZlIHJ1bi5cbiAgICAgICogVG8gY2FuY2VsIGFuIGludGVydmFsLCBjYWxsIGAkaW50ZXJ2YWwuY2FuY2VsKHByb21pc2UpYC5cbiAgICAgICpcbiAgICAgICogSW4gdGVzdHMgeW91IGNhbiB1c2Uge0BsaW5rIG5nTW9jay4kaW50ZXJ2YWwjZmx1c2ggYCRpbnRlcnZhbC5mbHVzaChtaWxsaXMpYH0gdG9cbiAgICAgICogbW92ZSBmb3J3YXJkIGJ5IGBtaWxsaXNgIG1pbGxpc2Vjb25kcyBhbmQgdHJpZ2dlciBhbnkgZnVuY3Rpb25zIHNjaGVkdWxlZCB0byBydW4gaW4gdGhhdFxuICAgICAgKiB0aW1lLlxuICAgICAgKlxuICAgICAgKiA8ZGl2IGNsYXNzPVwiYWxlcnQgYWxlcnQtd2FybmluZ1wiPlxuICAgICAgKiAqKk5vdGUqKjogSW50ZXJ2YWxzIGNyZWF0ZWQgYnkgdGhpcyBzZXJ2aWNlIG11c3QgYmUgZXhwbGljaXRseSBkZXN0cm95ZWQgd2hlbiB5b3UgYXJlIGZpbmlzaGVkXG4gICAgICAqIHdpdGggdGhlbS4gIEluIHBhcnRpY3VsYXIgdGhleSBhcmUgbm90IGF1dG9tYXRpY2FsbHkgZGVzdHJveWVkIHdoZW4gYSBjb250cm9sbGVyJ3Mgc2NvcGUgb3IgYVxuICAgICAgKiBkaXJlY3RpdmUncyBlbGVtZW50IGFyZSBkZXN0cm95ZWQuXG4gICAgICAqIFlvdSBzaG91bGQgdGFrZSB0aGlzIGludG8gY29uc2lkZXJhdGlvbiBhbmQgbWFrZSBzdXJlIHRvIGFsd2F5cyBjYW5jZWwgdGhlIGludGVydmFsIGF0IHRoZVxuICAgICAgKiBhcHByb3ByaWF0ZSBtb21lbnQuICBTZWUgdGhlIGV4YW1wbGUgYmVsb3cgZm9yIG1vcmUgZGV0YWlscyBvbiBob3cgYW5kIHdoZW4gdG8gZG8gdGhpcy5cbiAgICAgICogPC9kaXY+XG4gICAgICAqXG4gICAgICAqIEBwYXJhbSB7ZnVuY3Rpb24oKX0gZm4gQSBmdW5jdGlvbiB0aGF0IHNob3VsZCBiZSBjYWxsZWQgcmVwZWF0ZWRseS4gSWYgbm8gYWRkaXRpb25hbCBhcmd1bWVudHNcbiAgICAgICogICBhcmUgcGFzc2VkIChzZWUgYmVsb3cpLCB0aGUgZnVuY3Rpb24gaXMgY2FsbGVkIHdpdGggdGhlIGN1cnJlbnQgaXRlcmF0aW9uIGNvdW50LlxuICAgICAgKiBAcGFyYW0ge251bWJlcn0gZGVsYXkgTnVtYmVyIG9mIG1pbGxpc2Vjb25kcyBiZXR3ZWVuIGVhY2ggZnVuY3Rpb24gY2FsbC5cbiAgICAgICogQHBhcmFtIHtudW1iZXI9fSBbY291bnQ9MF0gTnVtYmVyIG9mIHRpbWVzIHRvIHJlcGVhdC4gSWYgbm90IHNldCwgb3IgMCwgd2lsbCByZXBlYXRcbiAgICAgICogICBpbmRlZmluaXRlbHkuXG4gICAgICAqIEBwYXJhbSB7Ym9vbGVhbj19IFtpbnZva2VBcHBseT10cnVlXSBJZiBzZXQgdG8gYGZhbHNlYCBza2lwcyBtb2RlbCBkaXJ0eSBjaGVja2luZywgb3RoZXJ3aXNlXG4gICAgICAqICAgd2lsbCBpbnZva2UgYGZuYCB3aXRoaW4gdGhlIHtAbGluayBuZy4kcm9vdFNjb3BlLlNjb3BlIyRhcHBseSAkYXBwbHl9IGJsb2NrLlxuICAgICAgKiBAcGFyYW0gey4uLio9fSBQYXNzIGFkZGl0aW9uYWwgcGFyYW1ldGVycyB0byB0aGUgZXhlY3V0ZWQgZnVuY3Rpb24uXG4gICAgICAqIEByZXR1cm5zIHtwcm9taXNlfSBBIHByb21pc2Ugd2hpY2ggd2lsbCBiZSBub3RpZmllZCBvbiBlYWNoIGl0ZXJhdGlvbi4gSXQgd2lsbCByZXNvbHZlIG9uY2UgYWxsIGl0ZXJhdGlvbnMgb2YgdGhlIGludGVydmFsIGNvbXBsZXRlLlxuICAgICAgKlxuICAgICAgKiBAZXhhbXBsZVxuICAgICAgKiA8ZXhhbXBsZSBtb2R1bGU9XCJpbnRlcnZhbEV4YW1wbGVcIiBuYW1lPVwiaW50ZXJ2YWwtc2VydmljZVwiPlxuICAgICAgKiA8ZmlsZSBuYW1lPVwiaW5kZXguaHRtbFwiPlxuICAgICAgKiAgIDxzY3JpcHQ+XG4gICAgICAqICAgICBhbmd1bGFyLm1vZHVsZSgnaW50ZXJ2YWxFeGFtcGxlJywgW10pXG4gICAgICAqICAgICAgIC5jb250cm9sbGVyKCdFeGFtcGxlQ29udHJvbGxlcicsIFsnJHNjb3BlJywgJyRpbnRlcnZhbCcsXG4gICAgICAqICAgICAgICAgZnVuY3Rpb24oJHNjb3BlLCAkaW50ZXJ2YWwpIHtcbiAgICAgICogICAgICAgICAgICRzY29wZS5mb3JtYXQgPSAnTS9kL3l5IGg6bW06c3MgYSc7XG4gICAgICAqICAgICAgICAgICAkc2NvcGUuYmxvb2RfMSA9IDEwMDtcbiAgICAgICogICAgICAgICAgICRzY29wZS5ibG9vZF8yID0gMTIwO1xuICAgICAgKlxuICAgICAgKiAgICAgICAgICAgdmFyIHN0b3A7XG4gICAgICAqICAgICAgICAgICAkc2NvcGUuZmlnaHQgPSBmdW5jdGlvbigpIHtcbiAgICAgICogICAgICAgICAgICAgLy8gRG9uJ3Qgc3RhcnQgYSBuZXcgZmlnaHQgaWYgd2UgYXJlIGFscmVhZHkgZmlnaHRpbmdcbiAgICAgICogICAgICAgICAgICAgaWYgKCBhbmd1bGFyLmlzRGVmaW5lZChzdG9wKSApIHJldHVybjtcbiAgICAgICpcbiAgICAgICogICAgICAgICAgICAgc3RvcCA9ICRpbnRlcnZhbChmdW5jdGlvbigpIHtcbiAgICAgICogICAgICAgICAgICAgICBpZiAoJHNjb3BlLmJsb29kXzEgPiAwICYmICRzY29wZS5ibG9vZF8yID4gMCkge1xuICAgICAgKiAgICAgICAgICAgICAgICAgJHNjb3BlLmJsb29kXzEgPSAkc2NvcGUuYmxvb2RfMSAtIDM7XG4gICAgICAqICAgICAgICAgICAgICAgICAkc2NvcGUuYmxvb2RfMiA9ICRzY29wZS5ibG9vZF8yIC0gNDtcbiAgICAgICogICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgKiAgICAgICAgICAgICAgICAgJHNjb3BlLnN0b3BGaWdodCgpO1xuICAgICAgKiAgICAgICAgICAgICAgIH1cbiAgICAgICogICAgICAgICAgICAgfSwgMTAwKTtcbiAgICAgICogICAgICAgICAgIH07XG4gICAgICAqXG4gICAgICAqICAgICAgICAgICAkc2NvcGUuc3RvcEZpZ2h0ID0gZnVuY3Rpb24oKSB7XG4gICAgICAqICAgICAgICAgICAgIGlmIChhbmd1bGFyLmlzRGVmaW5lZChzdG9wKSkge1xuICAgICAgKiAgICAgICAgICAgICAgICRpbnRlcnZhbC5jYW5jZWwoc3RvcCk7XG4gICAgICAqICAgICAgICAgICAgICAgc3RvcCA9IHVuZGVmaW5lZDtcbiAgICAgICogICAgICAgICAgICAgfVxuICAgICAgKiAgICAgICAgICAgfTtcbiAgICAgICpcbiAgICAgICogICAgICAgICAgICRzY29wZS5yZXNldEZpZ2h0ID0gZnVuY3Rpb24oKSB7XG4gICAgICAqICAgICAgICAgICAgICRzY29wZS5ibG9vZF8xID0gMTAwO1xuICAgICAgKiAgICAgICAgICAgICAkc2NvcGUuYmxvb2RfMiA9IDEyMDtcbiAgICAgICogICAgICAgICAgIH07XG4gICAgICAqXG4gICAgICAqICAgICAgICAgICAkc2NvcGUuJG9uKCckZGVzdHJveScsIGZ1bmN0aW9uKCkge1xuICAgICAgKiAgICAgICAgICAgICAvLyBNYWtlIHN1cmUgdGhhdCB0aGUgaW50ZXJ2YWwgaXMgZGVzdHJveWVkIHRvb1xuICAgICAgKiAgICAgICAgICAgICAkc2NvcGUuc3RvcEZpZ2h0KCk7XG4gICAgICAqICAgICAgICAgICB9KTtcbiAgICAgICogICAgICAgICB9XSlcbiAgICAgICogICAgICAgLy8gUmVnaXN0ZXIgdGhlICdteUN1cnJlbnRUaW1lJyBkaXJlY3RpdmUgZmFjdG9yeSBtZXRob2QuXG4gICAgICAqICAgICAgIC8vIFdlIGluamVjdCAkaW50ZXJ2YWwgYW5kIGRhdGVGaWx0ZXIgc2VydmljZSBzaW5jZSB0aGUgZmFjdG9yeSBtZXRob2QgaXMgREkuXG4gICAgICAqICAgICAgIC5kaXJlY3RpdmUoJ215Q3VycmVudFRpbWUnLCBbJyRpbnRlcnZhbCcsICdkYXRlRmlsdGVyJyxcbiAgICAgICogICAgICAgICBmdW5jdGlvbigkaW50ZXJ2YWwsIGRhdGVGaWx0ZXIpIHtcbiAgICAgICogICAgICAgICAgIC8vIHJldHVybiB0aGUgZGlyZWN0aXZlIGxpbmsgZnVuY3Rpb24uIChjb21waWxlIGZ1bmN0aW9uIG5vdCBuZWVkZWQpXG4gICAgICAqICAgICAgICAgICByZXR1cm4gZnVuY3Rpb24oc2NvcGUsIGVsZW1lbnQsIGF0dHJzKSB7XG4gICAgICAqICAgICAgICAgICAgIHZhciBmb3JtYXQsICAvLyBkYXRlIGZvcm1hdFxuICAgICAgKiAgICAgICAgICAgICAgICAgc3RvcFRpbWU7IC8vIHNvIHRoYXQgd2UgY2FuIGNhbmNlbCB0aGUgdGltZSB1cGRhdGVzXG4gICAgICAqXG4gICAgICAqICAgICAgICAgICAgIC8vIHVzZWQgdG8gdXBkYXRlIHRoZSBVSVxuICAgICAgKiAgICAgICAgICAgICBmdW5jdGlvbiB1cGRhdGVUaW1lKCkge1xuICAgICAgKiAgICAgICAgICAgICAgIGVsZW1lbnQudGV4dChkYXRlRmlsdGVyKG5ldyBEYXRlKCksIGZvcm1hdCkpO1xuICAgICAgKiAgICAgICAgICAgICB9XG4gICAgICAqXG4gICAgICAqICAgICAgICAgICAgIC8vIHdhdGNoIHRoZSBleHByZXNzaW9uLCBhbmQgdXBkYXRlIHRoZSBVSSBvbiBjaGFuZ2UuXG4gICAgICAqICAgICAgICAgICAgIHNjb3BlLiR3YXRjaChhdHRycy5teUN1cnJlbnRUaW1lLCBmdW5jdGlvbih2YWx1ZSkge1xuICAgICAgKiAgICAgICAgICAgICAgIGZvcm1hdCA9IHZhbHVlO1xuICAgICAgKiAgICAgICAgICAgICAgIHVwZGF0ZVRpbWUoKTtcbiAgICAgICogICAgICAgICAgICAgfSk7XG4gICAgICAqXG4gICAgICAqICAgICAgICAgICAgIHN0b3BUaW1lID0gJGludGVydmFsKHVwZGF0ZVRpbWUsIDEwMDApO1xuICAgICAgKlxuICAgICAgKiAgICAgICAgICAgICAvLyBsaXN0ZW4gb24gRE9NIGRlc3Ryb3kgKHJlbW92YWwpIGV2ZW50LCBhbmQgY2FuY2VsIHRoZSBuZXh0IFVJIHVwZGF0ZVxuICAgICAgKiAgICAgICAgICAgICAvLyB0byBwcmV2ZW50IHVwZGF0aW5nIHRpbWUgYWZ0ZXIgdGhlIERPTSBlbGVtZW50IHdhcyByZW1vdmVkLlxuICAgICAgKiAgICAgICAgICAgICBlbGVtZW50Lm9uKCckZGVzdHJveScsIGZ1bmN0aW9uKCkge1xuICAgICAgKiAgICAgICAgICAgICAgICRpbnRlcnZhbC5jYW5jZWwoc3RvcFRpbWUpO1xuICAgICAgKiAgICAgICAgICAgICB9KTtcbiAgICAgICogICAgICAgICAgIH1cbiAgICAgICogICAgICAgICB9XSk7XG4gICAgICAqICAgPC9zY3JpcHQ+XG4gICAgICAqXG4gICAgICAqICAgPGRpdj5cbiAgICAgICogICAgIDxkaXYgbmctY29udHJvbGxlcj1cIkV4YW1wbGVDb250cm9sbGVyXCI+XG4gICAgICAqICAgICAgIDxsYWJlbD5EYXRlIGZvcm1hdDogPGlucHV0IG5nLW1vZGVsPVwiZm9ybWF0XCI+PC9sYWJlbD4gPGhyLz5cbiAgICAgICogICAgICAgQ3VycmVudCB0aW1lIGlzOiA8c3BhbiBteS1jdXJyZW50LXRpbWU9XCJmb3JtYXRcIj48L3NwYW4+XG4gICAgICAqICAgICAgIDxoci8+XG4gICAgICAqICAgICAgIEJsb29kIDEgOiA8Zm9udCBjb2xvcj0ncmVkJz57e2Jsb29kXzF9fTwvZm9udD5cbiAgICAgICogICAgICAgQmxvb2QgMiA6IDxmb250IGNvbG9yPSdyZWQnPnt7Ymxvb2RfMn19PC9mb250PlxuICAgICAgKiAgICAgICA8YnV0dG9uIHR5cGU9XCJidXR0b25cIiBkYXRhLW5nLWNsaWNrPVwiZmlnaHQoKVwiPkZpZ2h0PC9idXR0b24+XG4gICAgICAqICAgICAgIDxidXR0b24gdHlwZT1cImJ1dHRvblwiIGRhdGEtbmctY2xpY2s9XCJzdG9wRmlnaHQoKVwiPlN0b3BGaWdodDwvYnV0dG9uPlxuICAgICAgKiAgICAgICA8YnV0dG9uIHR5cGU9XCJidXR0b25cIiBkYXRhLW5nLWNsaWNrPVwicmVzZXRGaWdodCgpXCI+cmVzZXRGaWdodDwvYnV0dG9uPlxuICAgICAgKiAgICAgPC9kaXY+XG4gICAgICAqICAgPC9kaXY+XG4gICAgICAqXG4gICAgICAqIDwvZmlsZT5cbiAgICAgICogPC9leGFtcGxlPlxuICAgICAgKi9cbiAgICBmdW5jdGlvbiBpbnRlcnZhbChmbiwgZGVsYXksIGNvdW50LCBpbnZva2VBcHBseSkge1xuICAgICAgdmFyIGhhc1BhcmFtcyA9IGFyZ3VtZW50cy5sZW5ndGggPiA0LFxuICAgICAgICAgIGFyZ3MgPSBoYXNQYXJhbXMgPyBzbGljZUFyZ3MoYXJndW1lbnRzLCA0KSA6IFtdLFxuICAgICAgICAgIHNldEludGVydmFsID0gJHdpbmRvdy5zZXRJbnRlcnZhbCxcbiAgICAgICAgICBjbGVhckludGVydmFsID0gJHdpbmRvdy5jbGVhckludGVydmFsLFxuICAgICAgICAgIGl0ZXJhdGlvbiA9IDAsXG4gICAgICAgICAgc2tpcEFwcGx5ID0gKGlzRGVmaW5lZChpbnZva2VBcHBseSkgJiYgIWludm9rZUFwcGx5KSxcbiAgICAgICAgICBkZWZlcnJlZCA9IChza2lwQXBwbHkgPyAkJHEgOiAkcSkuZGVmZXIoKSxcbiAgICAgICAgICBwcm9taXNlID0gZGVmZXJyZWQucHJvbWlzZTtcblxuICAgICAgY291bnQgPSBpc0RlZmluZWQoY291bnQpID8gY291bnQgOiAwO1xuXG4gICAgICBwcm9taXNlLiQkaW50ZXJ2YWxJZCA9IHNldEludGVydmFsKGZ1bmN0aW9uIHRpY2soKSB7XG4gICAgICAgIGlmIChza2lwQXBwbHkpIHtcbiAgICAgICAgICAkYnJvd3Nlci5kZWZlcihjYWxsYmFjayk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgJHJvb3RTY29wZS4kZXZhbEFzeW5jKGNhbGxiYWNrKTtcbiAgICAgICAgfVxuICAgICAgICBkZWZlcnJlZC5ub3RpZnkoaXRlcmF0aW9uKyspO1xuXG4gICAgICAgIGlmIChjb3VudCA+IDAgJiYgaXRlcmF0aW9uID49IGNvdW50KSB7XG4gICAgICAgICAgZGVmZXJyZWQucmVzb2x2ZShpdGVyYXRpb24pO1xuICAgICAgICAgIGNsZWFySW50ZXJ2YWwocHJvbWlzZS4kJGludGVydmFsSWQpO1xuICAgICAgICAgIGRlbGV0ZSBpbnRlcnZhbHNbcHJvbWlzZS4kJGludGVydmFsSWRdO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKCFza2lwQXBwbHkpICRyb290U2NvcGUuJGFwcGx5KCk7XG5cbiAgICAgIH0sIGRlbGF5KTtcblxuICAgICAgaW50ZXJ2YWxzW3Byb21pc2UuJCRpbnRlcnZhbElkXSA9IGRlZmVycmVkO1xuXG4gICAgICByZXR1cm4gcHJvbWlzZTtcblxuICAgICAgZnVuY3Rpb24gY2FsbGJhY2soKSB7XG4gICAgICAgIGlmICghaGFzUGFyYW1zKSB7XG4gICAgICAgICAgZm4oaXRlcmF0aW9uKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBmbi5hcHBseShudWxsLCBhcmdzKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuXG4gICAgIC8qKlxuICAgICAgKiBAbmdkb2MgbWV0aG9kXG4gICAgICAqIEBuYW1lICRpbnRlcnZhbCNjYW5jZWxcbiAgICAgICpcbiAgICAgICogQGRlc2NyaXB0aW9uXG4gICAgICAqIENhbmNlbHMgYSB0YXNrIGFzc29jaWF0ZWQgd2l0aCB0aGUgYHByb21pc2VgLlxuICAgICAgKlxuICAgICAgKiBAcGFyYW0ge1Byb21pc2U9fSBwcm9taXNlIHJldHVybmVkIGJ5IHRoZSBgJGludGVydmFsYCBmdW5jdGlvbi5cbiAgICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIHRoZSB0YXNrIHdhcyBzdWNjZXNzZnVsbHkgY2FuY2VsZWQuXG4gICAgICAqL1xuICAgIGludGVydmFsLmNhbmNlbCA9IGZ1bmN0aW9uKHByb21pc2UpIHtcbiAgICAgIGlmIChwcm9taXNlICYmIHByb21pc2UuJCRpbnRlcnZhbElkIGluIGludGVydmFscykge1xuICAgICAgICAvLyBJbnRlcnZhbCBjYW5jZWxzIHNob3VsZCBub3QgcmVwb3J0IGFzIHVuaGFuZGxlZCBwcm9taXNlLlxuICAgICAgICBpbnRlcnZhbHNbcHJvbWlzZS4kJGludGVydmFsSWRdLnByb21pc2UuY2F0Y2gobm9vcCk7XG4gICAgICAgIGludGVydmFsc1twcm9taXNlLiQkaW50ZXJ2YWxJZF0ucmVqZWN0KCdjYW5jZWxlZCcpO1xuICAgICAgICAkd2luZG93LmNsZWFySW50ZXJ2YWwocHJvbWlzZS4kJGludGVydmFsSWQpO1xuICAgICAgICBkZWxldGUgaW50ZXJ2YWxzW3Byb21pc2UuJCRpbnRlcnZhbElkXTtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICB9XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfTtcblxuICAgIHJldHVybiBpbnRlcnZhbDtcbiAgfV07XG59XG5cbi8qKlxuICogQG5nZG9jIHNlcnZpY2VcbiAqIEBuYW1lICRqc29ucENhbGxiYWNrc1xuICogQHJlcXVpcmVzICR3aW5kb3dcbiAqIEBkZXNjcmlwdGlvblxuICogVGhpcyBzZXJ2aWNlIGhhbmRsZXMgdGhlIGxpZmVjeWNsZSBvZiBjYWxsYmFja3MgdG8gaGFuZGxlIEpTT05QIHJlcXVlc3RzLlxuICogT3ZlcnJpZGUgdGhpcyBzZXJ2aWNlIGlmIHlvdSB3aXNoIHRvIGN1c3RvbWlzZSB3aGVyZSB0aGUgY2FsbGJhY2tzIGFyZSBzdG9yZWQgYW5kXG4gKiBob3cgdGhleSB2YXJ5IGNvbXBhcmVkIHRvIHRoZSByZXF1ZXN0ZWQgdXJsLlxuICovXG52YXIgJGpzb25wQ2FsbGJhY2tzUHJvdmlkZXIgPSAvKiogQHRoaXMgKi8gZnVuY3Rpb24oKSB7XG4gIHRoaXMuJGdldCA9IGZ1bmN0aW9uKCkge1xuICAgIHZhciBjYWxsYmFja3MgPSBhbmd1bGFyLmNhbGxiYWNrcztcbiAgICB2YXIgY2FsbGJhY2tNYXAgPSB7fTtcblxuICAgIGZ1bmN0aW9uIGNyZWF0ZUNhbGxiYWNrKGNhbGxiYWNrSWQpIHtcbiAgICAgIHZhciBjYWxsYmFjayA9IGZ1bmN0aW9uKGRhdGEpIHtcbiAgICAgICAgY2FsbGJhY2suZGF0YSA9IGRhdGE7XG4gICAgICAgIGNhbGxiYWNrLmNhbGxlZCA9IHRydWU7XG4gICAgICB9O1xuICAgICAgY2FsbGJhY2suaWQgPSBjYWxsYmFja0lkO1xuICAgICAgcmV0dXJuIGNhbGxiYWNrO1xuICAgIH1cblxuICAgIHJldHVybiB7XG4gICAgICAvKipcbiAgICAgICAqIEBuZ2RvYyBtZXRob2RcbiAgICAgICAqIEBuYW1lICRqc29ucENhbGxiYWNrcyNjcmVhdGVDYWxsYmFja1xuICAgICAgICogQHBhcmFtIHtzdHJpbmd9IHVybCB0aGUgdXJsIG9mIHRoZSBKU09OUCByZXF1ZXN0XG4gICAgICAgKiBAcmV0dXJucyB7c3RyaW5nfSB0aGUgY2FsbGJhY2sgcGF0aCB0byBzZW5kIHRvIHRoZSBzZXJ2ZXIgYXMgcGFydCBvZiB0aGUgSlNPTlAgcmVxdWVzdFxuICAgICAgICogQGRlc2NyaXB0aW9uXG4gICAgICAgKiB7QGxpbmsgJGh0dHBCYWNrZW5kfSBjYWxscyB0aGlzIG1ldGhvZCB0byBjcmVhdGUgYSBjYWxsYmFjayBhbmQgZ2V0IGhvbGQgb2YgdGhlIHBhdGggdG8gdGhlIGNhbGxiYWNrXG4gICAgICAgKiB0byBwYXNzIHRvIHRoZSBzZXJ2ZXIsIHdoaWNoIHdpbGwgYmUgdXNlZCB0byBjYWxsIHRoZSBjYWxsYmFjayB3aXRoIGl0cyBwYXlsb2FkIGluIHRoZSBKU09OUCByZXNwb25zZS5cbiAgICAgICAqL1xuICAgICAgY3JlYXRlQ2FsbGJhY2s6IGZ1bmN0aW9uKHVybCkge1xuICAgICAgICB2YXIgY2FsbGJhY2tJZCA9ICdfJyArIChjYWxsYmFja3MuJCRjb3VudGVyKyspLnRvU3RyaW5nKDM2KTtcbiAgICAgICAgdmFyIGNhbGxiYWNrUGF0aCA9ICdhbmd1bGFyLmNhbGxiYWNrcy4nICsgY2FsbGJhY2tJZDtcbiAgICAgICAgdmFyIGNhbGxiYWNrID0gY3JlYXRlQ2FsbGJhY2soY2FsbGJhY2tJZCk7XG4gICAgICAgIGNhbGxiYWNrTWFwW2NhbGxiYWNrUGF0aF0gPSBjYWxsYmFja3NbY2FsbGJhY2tJZF0gPSBjYWxsYmFjaztcbiAgICAgICAgcmV0dXJuIGNhbGxiYWNrUGF0aDtcbiAgICAgIH0sXG4gICAgICAvKipcbiAgICAgICAqIEBuZ2RvYyBtZXRob2RcbiAgICAgICAqIEBuYW1lICRqc29ucENhbGxiYWNrcyN3YXNDYWxsZWRcbiAgICAgICAqIEBwYXJhbSB7c3RyaW5nfSBjYWxsYmFja1BhdGggdGhlIHBhdGggdG8gdGhlIGNhbGxiYWNrIHRoYXQgd2FzIHNlbnQgaW4gdGhlIEpTT05QIHJlcXVlc3RcbiAgICAgICAqIEByZXR1cm5zIHtib29sZWFufSB3aGV0aGVyIHRoZSBjYWxsYmFjayBoYXMgYmVlbiBjYWxsZWQsIGFzIGEgcmVzdWx0IG9mIHRoZSBKU09OUCByZXNwb25zZVxuICAgICAgICogQGRlc2NyaXB0aW9uXG4gICAgICAgKiB7QGxpbmsgJGh0dHBCYWNrZW5kfSBjYWxscyB0aGlzIG1ldGhvZCB0byBmaW5kIG91dCB3aGV0aGVyIHRoZSBKU09OUCByZXNwb25zZSBhY3R1YWxseSBjYWxsZWQgdGhlXG4gICAgICAgKiBjYWxsYmFjayB0aGF0IHdhcyBwYXNzZWQgaW4gdGhlIHJlcXVlc3QuXG4gICAgICAgKi9cbiAgICAgIHdhc0NhbGxlZDogZnVuY3Rpb24oY2FsbGJhY2tQYXRoKSB7XG4gICAgICAgIHJldHVybiBjYWxsYmFja01hcFtjYWxsYmFja1BhdGhdLmNhbGxlZDtcbiAgICAgIH0sXG4gICAgICAvKipcbiAgICAgICAqIEBuZ2RvYyBtZXRob2RcbiAgICAgICAqIEBuYW1lICRqc29ucENhbGxiYWNrcyNnZXRSZXNwb25zZVxuICAgICAgICogQHBhcmFtIHtzdHJpbmd9IGNhbGxiYWNrUGF0aCB0aGUgcGF0aCB0byB0aGUgY2FsbGJhY2sgdGhhdCB3YXMgc2VudCBpbiB0aGUgSlNPTlAgcmVxdWVzdFxuICAgICAgICogQHJldHVybnMgeyp9IHRoZSBkYXRhIHJlY2VpdmVkIGZyb20gdGhlIHJlc3BvbnNlIHZpYSB0aGUgcmVnaXN0ZXJlZCBjYWxsYmFja1xuICAgICAgICogQGRlc2NyaXB0aW9uXG4gICAgICAgKiB7QGxpbmsgJGh0dHBCYWNrZW5kfSBjYWxscyB0aGlzIG1ldGhvZCB0byBnZXQgaG9sZCBvZiB0aGUgZGF0YSB0aGF0IHdhcyBwcm92aWRlZCB0byB0aGUgY2FsbGJhY2tcbiAgICAgICAqIGluIHRoZSBKU09OUCByZXNwb25zZS5cbiAgICAgICAqL1xuICAgICAgZ2V0UmVzcG9uc2U6IGZ1bmN0aW9uKGNhbGxiYWNrUGF0aCkge1xuICAgICAgICByZXR1cm4gY2FsbGJhY2tNYXBbY2FsbGJhY2tQYXRoXS5kYXRhO1xuICAgICAgfSxcbiAgICAgIC8qKlxuICAgICAgICogQG5nZG9jIG1ldGhvZFxuICAgICAgICogQG5hbWUgJGpzb25wQ2FsbGJhY2tzI3JlbW92ZUNhbGxiYWNrXG4gICAgICAgKiBAcGFyYW0ge3N0cmluZ30gY2FsbGJhY2tQYXRoIHRoZSBwYXRoIHRvIHRoZSBjYWxsYmFjayB0aGF0IHdhcyBzZW50IGluIHRoZSBKU09OUCByZXF1ZXN0XG4gICAgICAgKiBAZGVzY3JpcHRpb25cbiAgICAgICAqIHtAbGluayAkaHR0cEJhY2tlbmR9IGNhbGxzIHRoaXMgbWV0aG9kIHRvIHJlbW92ZSB0aGUgY2FsbGJhY2sgYWZ0ZXIgdGhlIEpTT05QIHJlcXVlc3QgaGFzXG4gICAgICAgKiBjb21wbGV0ZWQgb3IgdGltZWQtb3V0LlxuICAgICAgICovXG4gICAgICByZW1vdmVDYWxsYmFjazogZnVuY3Rpb24oY2FsbGJhY2tQYXRoKSB7XG4gICAgICAgIHZhciBjYWxsYmFjayA9IGNhbGxiYWNrTWFwW2NhbGxiYWNrUGF0aF07XG4gICAgICAgIGRlbGV0ZSBjYWxsYmFja3NbY2FsbGJhY2suaWRdO1xuICAgICAgICBkZWxldGUgY2FsbGJhY2tNYXBbY2FsbGJhY2tQYXRoXTtcbiAgICAgIH1cbiAgICB9O1xuICB9O1xufTtcblxuLyoqXG4gKiBAbmdkb2Mgc2VydmljZVxuICogQG5hbWUgJGxvY2FsZVxuICpcbiAqIEBkZXNjcmlwdGlvblxuICogJGxvY2FsZSBzZXJ2aWNlIHByb3ZpZGVzIGxvY2FsaXphdGlvbiBydWxlcyBmb3IgdmFyaW91cyBBbmd1bGFyIGNvbXBvbmVudHMuIEFzIG9mIHJpZ2h0IG5vdyB0aGVcbiAqIG9ubHkgcHVibGljIGFwaSBpczpcbiAqXG4gKiAqIGBpZGAg4oCTIGB7c3RyaW5nfWAg4oCTIGxvY2FsZSBpZCBmb3JtYXR0ZWQgYXMgYGxhbmd1YWdlSWQtY291bnRyeUlkYCAoZS5nLiBgZW4tdXNgKVxuICovXG5cbnZhciBQQVRIX01BVENIID0gL14oW14/I10qKShcXD8oW14jXSopKT8oIyguKikpPyQvLFxuICAgIERFRkFVTFRfUE9SVFMgPSB7J2h0dHAnOiA4MCwgJ2h0dHBzJzogNDQzLCAnZnRwJzogMjF9O1xudmFyICRsb2NhdGlvbk1pbkVyciA9IG1pbkVycignJGxvY2F0aW9uJyk7XG5cblxuLyoqXG4gKiBFbmNvZGUgcGF0aCB1c2luZyBlbmNvZGVVcmlTZWdtZW50LCBpZ25vcmluZyBmb3J3YXJkIHNsYXNoZXNcbiAqXG4gKiBAcGFyYW0ge3N0cmluZ30gcGF0aCBQYXRoIHRvIGVuY29kZVxuICogQHJldHVybnMge3N0cmluZ31cbiAqL1xuZnVuY3Rpb24gZW5jb2RlUGF0aChwYXRoKSB7XG4gIHZhciBzZWdtZW50cyA9IHBhdGguc3BsaXQoJy8nKSxcbiAgICAgIGkgPSBzZWdtZW50cy5sZW5ndGg7XG5cbiAgd2hpbGUgKGktLSkge1xuICAgIHNlZ21lbnRzW2ldID0gZW5jb2RlVXJpU2VnbWVudChzZWdtZW50c1tpXSk7XG4gIH1cblxuICByZXR1cm4gc2VnbWVudHMuam9pbignLycpO1xufVxuXG5mdW5jdGlvbiBwYXJzZUFic29sdXRlVXJsKGFic29sdXRlVXJsLCBsb2NhdGlvbk9iaikge1xuICB2YXIgcGFyc2VkVXJsID0gdXJsUmVzb2x2ZShhYnNvbHV0ZVVybCk7XG5cbiAgbG9jYXRpb25PYmouJCRwcm90b2NvbCA9IHBhcnNlZFVybC5wcm90b2NvbDtcbiAgbG9jYXRpb25PYmouJCRob3N0ID0gcGFyc2VkVXJsLmhvc3RuYW1lO1xuICBsb2NhdGlvbk9iai4kJHBvcnQgPSB0b0ludChwYXJzZWRVcmwucG9ydCkgfHwgREVGQVVMVF9QT1JUU1twYXJzZWRVcmwucHJvdG9jb2xdIHx8IG51bGw7XG59XG5cbnZhciBET1VCTEVfU0xBU0hfUkVHRVggPSAvXlxccypbXFxcXC9dezIsfS87XG5mdW5jdGlvbiBwYXJzZUFwcFVybCh1cmwsIGxvY2F0aW9uT2JqKSB7XG5cbiAgaWYgKERPVUJMRV9TTEFTSF9SRUdFWC50ZXN0KHVybCkpIHtcbiAgICB0aHJvdyAkbG9jYXRpb25NaW5FcnIoJ2JhZHBhdGgnLCAnSW52YWxpZCB1cmwgXCJ7MH1cIi4nLCB1cmwpO1xuICB9XG5cbiAgdmFyIHByZWZpeGVkID0gKHVybC5jaGFyQXQoMCkgIT09ICcvJyk7XG4gIGlmIChwcmVmaXhlZCkge1xuICAgIHVybCA9ICcvJyArIHVybDtcbiAgfVxuICB2YXIgbWF0Y2ggPSB1cmxSZXNvbHZlKHVybCk7XG4gIGxvY2F0aW9uT2JqLiQkcGF0aCA9IGRlY29kZVVSSUNvbXBvbmVudChwcmVmaXhlZCAmJiBtYXRjaC5wYXRobmFtZS5jaGFyQXQoMCkgPT09ICcvJyA/XG4gICAgICBtYXRjaC5wYXRobmFtZS5zdWJzdHJpbmcoMSkgOiBtYXRjaC5wYXRobmFtZSk7XG4gIGxvY2F0aW9uT2JqLiQkc2VhcmNoID0gcGFyc2VLZXlWYWx1ZShtYXRjaC5zZWFyY2gpO1xuICBsb2NhdGlvbk9iai4kJGhhc2ggPSBkZWNvZGVVUklDb21wb25lbnQobWF0Y2guaGFzaCk7XG5cbiAgLy8gbWFrZSBzdXJlIHBhdGggc3RhcnRzIHdpdGggJy8nO1xuICBpZiAobG9jYXRpb25PYmouJCRwYXRoICYmIGxvY2F0aW9uT2JqLiQkcGF0aC5jaGFyQXQoMCkgIT09ICcvJykge1xuICAgIGxvY2F0aW9uT2JqLiQkcGF0aCA9ICcvJyArIGxvY2F0aW9uT2JqLiQkcGF0aDtcbiAgfVxufVxuXG5mdW5jdGlvbiBzdGFydHNXaXRoKHN0ciwgc2VhcmNoKSB7XG4gIHJldHVybiBzdHIuc2xpY2UoMCwgc2VhcmNoLmxlbmd0aCkgPT09IHNlYXJjaDtcbn1cblxuLyoqXG4gKlxuICogQHBhcmFtIHtzdHJpbmd9IGJhc2VcbiAqIEBwYXJhbSB7c3RyaW5nfSB1cmxcbiAqIEByZXR1cm5zIHtzdHJpbmd9IHJldHVybnMgdGV4dCBmcm9tIGB1cmxgIGFmdGVyIGBiYXNlYCBvciBgdW5kZWZpbmVkYCBpZiBpdCBkb2VzIG5vdCBiZWdpbiB3aXRoXG4gKiAgICAgICAgICAgICAgICAgICB0aGUgZXhwZWN0ZWQgc3RyaW5nLlxuICovXG5mdW5jdGlvbiBzdHJpcEJhc2VVcmwoYmFzZSwgdXJsKSB7XG4gIGlmIChzdGFydHNXaXRoKHVybCwgYmFzZSkpIHtcbiAgICByZXR1cm4gdXJsLnN1YnN0cihiYXNlLmxlbmd0aCk7XG4gIH1cbn1cblxuXG5mdW5jdGlvbiBzdHJpcEhhc2godXJsKSB7XG4gIHZhciBpbmRleCA9IHVybC5pbmRleE9mKCcjJyk7XG4gIHJldHVybiBpbmRleCA9PT0gLTEgPyB1cmwgOiB1cmwuc3Vic3RyKDAsIGluZGV4KTtcbn1cblxuZnVuY3Rpb24gdHJpbUVtcHR5SGFzaCh1cmwpIHtcbiAgcmV0dXJuIHVybC5yZXBsYWNlKC8oIy4rKXwjJC8sICckMScpO1xufVxuXG5cbmZ1bmN0aW9uIHN0cmlwRmlsZSh1cmwpIHtcbiAgcmV0dXJuIHVybC5zdWJzdHIoMCwgc3RyaXBIYXNoKHVybCkubGFzdEluZGV4T2YoJy8nKSArIDEpO1xufVxuXG4vKiByZXR1cm4gdGhlIHNlcnZlciBvbmx5IChzY2hlbWU6Ly9ob3N0OnBvcnQpICovXG5mdW5jdGlvbiBzZXJ2ZXJCYXNlKHVybCkge1xuICByZXR1cm4gdXJsLnN1YnN0cmluZygwLCB1cmwuaW5kZXhPZignLycsIHVybC5pbmRleE9mKCcvLycpICsgMikpO1xufVxuXG5cbi8qKlxuICogTG9jYXRpb25IdG1sNVVybCByZXByZXNlbnRzIGEgVVJMXG4gKiBUaGlzIG9iamVjdCBpcyBleHBvc2VkIGFzICRsb2NhdGlvbiBzZXJ2aWNlIHdoZW4gSFRNTDUgbW9kZSBpcyBlbmFibGVkIGFuZCBzdXBwb3J0ZWRcbiAqXG4gKiBAY29uc3RydWN0b3JcbiAqIEBwYXJhbSB7c3RyaW5nfSBhcHBCYXNlIGFwcGxpY2F0aW9uIGJhc2UgVVJMXG4gKiBAcGFyYW0ge3N0cmluZ30gYXBwQmFzZU5vRmlsZSBhcHBsaWNhdGlvbiBiYXNlIFVSTCBzdHJpcHBlZCBvZiBhbnkgZmlsZW5hbWVcbiAqIEBwYXJhbSB7c3RyaW5nfSBiYXNlUHJlZml4IFVSTCBwYXRoIHByZWZpeFxuICovXG5mdW5jdGlvbiBMb2NhdGlvbkh0bWw1VXJsKGFwcEJhc2UsIGFwcEJhc2VOb0ZpbGUsIGJhc2VQcmVmaXgpIHtcbiAgdGhpcy4kJGh0bWw1ID0gdHJ1ZTtcbiAgYmFzZVByZWZpeCA9IGJhc2VQcmVmaXggfHwgJyc7XG4gIHBhcnNlQWJzb2x1dGVVcmwoYXBwQmFzZSwgdGhpcyk7XG5cblxuICAvKipcbiAgICogUGFyc2UgZ2l2ZW4gSFRNTDUgKHJlZ3VsYXIpIFVSTCBzdHJpbmcgaW50byBwcm9wZXJ0aWVzXG4gICAqIEBwYXJhbSB7c3RyaW5nfSB1cmwgSFRNTDUgVVJMXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICB0aGlzLiQkcGFyc2UgPSBmdW5jdGlvbih1cmwpIHtcbiAgICB2YXIgcGF0aFVybCA9IHN0cmlwQmFzZVVybChhcHBCYXNlTm9GaWxlLCB1cmwpO1xuICAgIGlmICghaXNTdHJpbmcocGF0aFVybCkpIHtcbiAgICAgIHRocm93ICRsb2NhdGlvbk1pbkVycignaXB0aHByZngnLCAnSW52YWxpZCB1cmwgXCJ7MH1cIiwgbWlzc2luZyBwYXRoIHByZWZpeCBcInsxfVwiLicsIHVybCxcbiAgICAgICAgICBhcHBCYXNlTm9GaWxlKTtcbiAgICB9XG5cbiAgICBwYXJzZUFwcFVybChwYXRoVXJsLCB0aGlzKTtcblxuICAgIGlmICghdGhpcy4kJHBhdGgpIHtcbiAgICAgIHRoaXMuJCRwYXRoID0gJy8nO1xuICAgIH1cblxuICAgIHRoaXMuJCRjb21wb3NlKCk7XG4gIH07XG5cbiAgLyoqXG4gICAqIENvbXBvc2UgdXJsIGFuZCB1cGRhdGUgYGFic1VybGAgcHJvcGVydHlcbiAgICogQHByaXZhdGVcbiAgICovXG4gIHRoaXMuJCRjb21wb3NlID0gZnVuY3Rpb24oKSB7XG4gICAgdmFyIHNlYXJjaCA9IHRvS2V5VmFsdWUodGhpcy4kJHNlYXJjaCksXG4gICAgICAgIGhhc2ggPSB0aGlzLiQkaGFzaCA/ICcjJyArIGVuY29kZVVyaVNlZ21lbnQodGhpcy4kJGhhc2gpIDogJyc7XG5cbiAgICB0aGlzLiQkdXJsID0gZW5jb2RlUGF0aCh0aGlzLiQkcGF0aCkgKyAoc2VhcmNoID8gJz8nICsgc2VhcmNoIDogJycpICsgaGFzaDtcbiAgICB0aGlzLiQkYWJzVXJsID0gYXBwQmFzZU5vRmlsZSArIHRoaXMuJCR1cmwuc3Vic3RyKDEpOyAvLyBmaXJzdCBjaGFyIGlzIGFsd2F5cyAnLydcblxuICAgIHRoaXMuJCR1cmxVcGRhdGVkQnlMb2NhdGlvbiA9IHRydWU7XG4gIH07XG5cbiAgdGhpcy4kJHBhcnNlTGlua1VybCA9IGZ1bmN0aW9uKHVybCwgcmVsSHJlZikge1xuICAgIGlmIChyZWxIcmVmICYmIHJlbEhyZWZbMF0gPT09ICcjJykge1xuICAgICAgLy8gc3BlY2lhbCBjYXNlIGZvciBsaW5rcyB0byBoYXNoIGZyYWdtZW50czpcbiAgICAgIC8vIGtlZXAgdGhlIG9sZCB1cmwgYW5kIG9ubHkgcmVwbGFjZSB0aGUgaGFzaCBmcmFnbWVudFxuICAgICAgdGhpcy5oYXNoKHJlbEhyZWYuc2xpY2UoMSkpO1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIHZhciBhcHBVcmwsIHByZXZBcHBVcmw7XG4gICAgdmFyIHJld3JpdHRlblVybDtcblxuXG4gICAgaWYgKGlzRGVmaW5lZChhcHBVcmwgPSBzdHJpcEJhc2VVcmwoYXBwQmFzZSwgdXJsKSkpIHtcbiAgICAgIHByZXZBcHBVcmwgPSBhcHBVcmw7XG4gICAgICBpZiAoYmFzZVByZWZpeCAmJiBpc0RlZmluZWQoYXBwVXJsID0gc3RyaXBCYXNlVXJsKGJhc2VQcmVmaXgsIGFwcFVybCkpKSB7XG4gICAgICAgIHJld3JpdHRlblVybCA9IGFwcEJhc2VOb0ZpbGUgKyAoc3RyaXBCYXNlVXJsKCcvJywgYXBwVXJsKSB8fCBhcHBVcmwpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV3cml0dGVuVXJsID0gYXBwQmFzZSArIHByZXZBcHBVcmw7XG4gICAgICB9XG4gICAgfSBlbHNlIGlmIChpc0RlZmluZWQoYXBwVXJsID0gc3RyaXBCYXNlVXJsKGFwcEJhc2VOb0ZpbGUsIHVybCkpKSB7XG4gICAgICByZXdyaXR0ZW5VcmwgPSBhcHBCYXNlTm9GaWxlICsgYXBwVXJsO1xuICAgIH0gZWxzZSBpZiAoYXBwQmFzZU5vRmlsZSA9PT0gdXJsICsgJy8nKSB7XG4gICAgICByZXdyaXR0ZW5VcmwgPSBhcHBCYXNlTm9GaWxlO1xuICAgIH1cbiAgICBpZiAocmV3cml0dGVuVXJsKSB7XG4gICAgICB0aGlzLiQkcGFyc2UocmV3cml0dGVuVXJsKTtcbiAgICB9XG4gICAgcmV0dXJuICEhcmV3cml0dGVuVXJsO1xuICB9O1xufVxuXG5cbi8qKlxuICogTG9jYXRpb25IYXNoYmFuZ1VybCByZXByZXNlbnRzIFVSTFxuICogVGhpcyBvYmplY3QgaXMgZXhwb3NlZCBhcyAkbG9jYXRpb24gc2VydmljZSB3aGVuIGRldmVsb3BlciBkb2Vzbid0IG9wdCBpbnRvIGh0bWw1IG1vZGUuXG4gKiBJdCBhbHNvIHNlcnZlcyBhcyB0aGUgYmFzZSBjbGFzcyBmb3IgaHRtbDUgbW9kZSBmYWxsYmFjayBvbiBsZWdhY3kgYnJvd3NlcnMuXG4gKlxuICogQGNvbnN0cnVjdG9yXG4gKiBAcGFyYW0ge3N0cmluZ30gYXBwQmFzZSBhcHBsaWNhdGlvbiBiYXNlIFVSTFxuICogQHBhcmFtIHtzdHJpbmd9IGFwcEJhc2VOb0ZpbGUgYXBwbGljYXRpb24gYmFzZSBVUkwgc3RyaXBwZWQgb2YgYW55IGZpbGVuYW1lXG4gKiBAcGFyYW0ge3N0cmluZ30gaGFzaFByZWZpeCBoYXNoYmFuZyBwcmVmaXhcbiAqL1xuZnVuY3Rpb24gTG9jYXRpb25IYXNoYmFuZ1VybChhcHBCYXNlLCBhcHBCYXNlTm9GaWxlLCBoYXNoUHJlZml4KSB7XG5cbiAgcGFyc2VBYnNvbHV0ZVVybChhcHBCYXNlLCB0aGlzKTtcblxuXG4gIC8qKlxuICAgKiBQYXJzZSBnaXZlbiBoYXNoYmFuZyBVUkwgaW50byBwcm9wZXJ0aWVzXG4gICAqIEBwYXJhbSB7c3RyaW5nfSB1cmwgSGFzaGJhbmcgVVJMXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICB0aGlzLiQkcGFyc2UgPSBmdW5jdGlvbih1cmwpIHtcbiAgICB2YXIgd2l0aG91dEJhc2VVcmwgPSBzdHJpcEJhc2VVcmwoYXBwQmFzZSwgdXJsKSB8fCBzdHJpcEJhc2VVcmwoYXBwQmFzZU5vRmlsZSwgdXJsKTtcbiAgICB2YXIgd2l0aG91dEhhc2hVcmw7XG5cbiAgICBpZiAoIWlzVW5kZWZpbmVkKHdpdGhvdXRCYXNlVXJsKSAmJiB3aXRob3V0QmFzZVVybC5jaGFyQXQoMCkgPT09ICcjJykge1xuXG4gICAgICAvLyBUaGUgcmVzdCBvZiB0aGUgVVJMIHN0YXJ0cyB3aXRoIGEgaGFzaCBzbyB3ZSBoYXZlXG4gICAgICAvLyBnb3QgZWl0aGVyIGEgaGFzaGJhbmcgcGF0aCBvciBhIHBsYWluIGhhc2ggZnJhZ21lbnRcbiAgICAgIHdpdGhvdXRIYXNoVXJsID0gc3RyaXBCYXNlVXJsKGhhc2hQcmVmaXgsIHdpdGhvdXRCYXNlVXJsKTtcbiAgICAgIGlmIChpc1VuZGVmaW5lZCh3aXRob3V0SGFzaFVybCkpIHtcbiAgICAgICAgLy8gVGhlcmUgd2FzIG5vIGhhc2hiYW5nIHByZWZpeCBzbyB3ZSBqdXN0IGhhdmUgYSBoYXNoIGZyYWdtZW50XG4gICAgICAgIHdpdGhvdXRIYXNoVXJsID0gd2l0aG91dEJhc2VVcmw7XG4gICAgICB9XG5cbiAgICB9IGVsc2Uge1xuICAgICAgLy8gVGhlcmUgd2FzIG5vIGhhc2hiYW5nIHBhdGggbm9yIGhhc2ggZnJhZ21lbnQ6XG4gICAgICAvLyBJZiB3ZSBhcmUgaW4gSFRNTDUgbW9kZSB3ZSB1c2Ugd2hhdCBpcyBsZWZ0IGFzIHRoZSBwYXRoO1xuICAgICAgLy8gT3RoZXJ3aXNlIHdlIGlnbm9yZSB3aGF0IGlzIGxlZnRcbiAgICAgIGlmICh0aGlzLiQkaHRtbDUpIHtcbiAgICAgICAgd2l0aG91dEhhc2hVcmwgPSB3aXRob3V0QmFzZVVybDtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHdpdGhvdXRIYXNoVXJsID0gJyc7XG4gICAgICAgIGlmIChpc1VuZGVmaW5lZCh3aXRob3V0QmFzZVVybCkpIHtcbiAgICAgICAgICBhcHBCYXNlID0gdXJsO1xuICAgICAgICAgIC8qKiBAdHlwZSB7P30gKi8gKHRoaXMpLnJlcGxhY2UoKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIHBhcnNlQXBwVXJsKHdpdGhvdXRIYXNoVXJsLCB0aGlzKTtcblxuICAgIHRoaXMuJCRwYXRoID0gcmVtb3ZlV2luZG93c0RyaXZlTmFtZSh0aGlzLiQkcGF0aCwgd2l0aG91dEhhc2hVcmwsIGFwcEJhc2UpO1xuXG4gICAgdGhpcy4kJGNvbXBvc2UoKTtcblxuICAgIC8qXG4gICAgICogSW4gV2luZG93cywgb24gYW4gYW5jaG9yIG5vZGUgb24gZG9jdW1lbnRzIGxvYWRlZCBmcm9tXG4gICAgICogdGhlIGZpbGVzeXN0ZW0sIHRoZSBicm93c2VyIHdpbGwgcmV0dXJuIGEgcGF0aG5hbWVcbiAgICAgKiBwcmVmaXhlZCB3aXRoIHRoZSBkcml2ZSBuYW1lICgnL0M6L3BhdGgnKSB3aGVuIGFcbiAgICAgKiBwYXRobmFtZSB3aXRob3V0IGEgZHJpdmUgaXMgc2V0OlxuICAgICAqICAqIGEuc2V0QXR0cmlidXRlKCdocmVmJywgJy9mb28nKVxuICAgICAqICAgKiBhLnBhdGhuYW1lID09PSAnL0M6L2ZvbycgLy90cnVlXG4gICAgICpcbiAgICAgKiBJbnNpZGUgb2YgQW5ndWxhciwgd2UncmUgYWx3YXlzIHVzaW5nIHBhdGhuYW1lcyB0aGF0XG4gICAgICogZG8gbm90IGluY2x1ZGUgZHJpdmUgbmFtZXMgZm9yIHJvdXRpbmcuXG4gICAgICovXG4gICAgZnVuY3Rpb24gcmVtb3ZlV2luZG93c0RyaXZlTmFtZShwYXRoLCB1cmwsIGJhc2UpIHtcbiAgICAgIC8qXG4gICAgICBNYXRjaGVzIHBhdGhzIGZvciBmaWxlIHByb3RvY29sIG9uIHdpbmRvd3MsXG4gICAgICBzdWNoIGFzIC9DOi9mb28vYmFyLCBhbmQgY2FwdHVyZXMgb25seSAvZm9vL2Jhci5cbiAgICAgICovXG4gICAgICB2YXIgd2luZG93c0ZpbGVQYXRoRXhwID0gL15cXC9bQS1aXTooXFwvLiopLztcblxuICAgICAgdmFyIGZpcnN0UGF0aFNlZ21lbnRNYXRjaDtcblxuICAgICAgLy9HZXQgdGhlIHJlbGF0aXZlIHBhdGggZnJvbSB0aGUgaW5wdXQgVVJMLlxuICAgICAgaWYgKHN0YXJ0c1dpdGgodXJsLCBiYXNlKSkge1xuICAgICAgICB1cmwgPSB1cmwucmVwbGFjZShiYXNlLCAnJyk7XG4gICAgICB9XG5cbiAgICAgIC8vIFRoZSBpbnB1dCBVUkwgaW50ZW50aW9uYWxseSBjb250YWlucyBhIGZpcnN0IHBhdGggc2VnbWVudCB0aGF0IGVuZHMgd2l0aCBhIGNvbG9uLlxuICAgICAgaWYgKHdpbmRvd3NGaWxlUGF0aEV4cC5leGVjKHVybCkpIHtcbiAgICAgICAgcmV0dXJuIHBhdGg7XG4gICAgICB9XG5cbiAgICAgIGZpcnN0UGF0aFNlZ21lbnRNYXRjaCA9IHdpbmRvd3NGaWxlUGF0aEV4cC5leGVjKHBhdGgpO1xuICAgICAgcmV0dXJuIGZpcnN0UGF0aFNlZ21lbnRNYXRjaCA/IGZpcnN0UGF0aFNlZ21lbnRNYXRjaFsxXSA6IHBhdGg7XG4gICAgfVxuICB9O1xuXG4gIC8qKlxuICAgKiBDb21wb3NlIGhhc2hiYW5nIFVSTCBhbmQgdXBkYXRlIGBhYnNVcmxgIHByb3BlcnR5XG4gICAqIEBwcml2YXRlXG4gICAqL1xuICB0aGlzLiQkY29tcG9zZSA9IGZ1bmN0aW9uKCkge1xuICAgIHZhciBzZWFyY2ggPSB0b0tleVZhbHVlKHRoaXMuJCRzZWFyY2gpLFxuICAgICAgICBoYXNoID0gdGhpcy4kJGhhc2ggPyAnIycgKyBlbmNvZGVVcmlTZWdtZW50KHRoaXMuJCRoYXNoKSA6ICcnO1xuXG4gICAgdGhpcy4kJHVybCA9IGVuY29kZVBhdGgodGhpcy4kJHBhdGgpICsgKHNlYXJjaCA/ICc/JyArIHNlYXJjaCA6ICcnKSArIGhhc2g7XG4gICAgdGhpcy4kJGFic1VybCA9IGFwcEJhc2UgKyAodGhpcy4kJHVybCA/IGhhc2hQcmVmaXggKyB0aGlzLiQkdXJsIDogJycpO1xuXG4gICAgdGhpcy4kJHVybFVwZGF0ZWRCeUxvY2F0aW9uID0gdHJ1ZTtcbiAgfTtcblxuICB0aGlzLiQkcGFyc2VMaW5rVXJsID0gZnVuY3Rpb24odXJsLCByZWxIcmVmKSB7XG4gICAgaWYgKHN0cmlwSGFzaChhcHBCYXNlKSA9PT0gc3RyaXBIYXNoKHVybCkpIHtcbiAgICAgIHRoaXMuJCRwYXJzZSh1cmwpO1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIHJldHVybiBmYWxzZTtcbiAgfTtcbn1cblxuXG4vKipcbiAqIExvY2F0aW9uSGFzaGJhbmdVcmwgcmVwcmVzZW50cyBVUkxcbiAqIFRoaXMgb2JqZWN0IGlzIGV4cG9zZWQgYXMgJGxvY2F0aW9uIHNlcnZpY2Ugd2hlbiBodG1sNSBoaXN0b3J5IGFwaSBpcyBlbmFibGVkIGJ1dCB0aGUgYnJvd3NlclxuICogZG9lcyBub3Qgc3VwcG9ydCBpdC5cbiAqXG4gKiBAY29uc3RydWN0b3JcbiAqIEBwYXJhbSB7c3RyaW5nfSBhcHBCYXNlIGFwcGxpY2F0aW9uIGJhc2UgVVJMXG4gKiBAcGFyYW0ge3N0cmluZ30gYXBwQmFzZU5vRmlsZSBhcHBsaWNhdGlvbiBiYXNlIFVSTCBzdHJpcHBlZCBvZiBhbnkgZmlsZW5hbWVcbiAqIEBwYXJhbSB7c3RyaW5nfSBoYXNoUHJlZml4IGhhc2hiYW5nIHByZWZpeFxuICovXG5mdW5jdGlvbiBMb2NhdGlvbkhhc2hiYW5nSW5IdG1sNVVybChhcHBCYXNlLCBhcHBCYXNlTm9GaWxlLCBoYXNoUHJlZml4KSB7XG4gIHRoaXMuJCRodG1sNSA9IHRydWU7XG4gIExvY2F0aW9uSGFzaGJhbmdVcmwuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcblxuICB0aGlzLiQkcGFyc2VMaW5rVXJsID0gZnVuY3Rpb24odXJsLCByZWxIcmVmKSB7XG4gICAgaWYgKHJlbEhyZWYgJiYgcmVsSHJlZlswXSA9PT0gJyMnKSB7XG4gICAgICAvLyBzcGVjaWFsIGNhc2UgZm9yIGxpbmtzIHRvIGhhc2ggZnJhZ21lbnRzOlxuICAgICAgLy8ga2VlcCB0aGUgb2xkIHVybCBhbmQgb25seSByZXBsYWNlIHRoZSBoYXNoIGZyYWdtZW50XG4gICAgICB0aGlzLmhhc2gocmVsSHJlZi5zbGljZSgxKSk7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG5cbiAgICB2YXIgcmV3cml0dGVuVXJsO1xuICAgIHZhciBhcHBVcmw7XG5cbiAgICBpZiAoYXBwQmFzZSA9PT0gc3RyaXBIYXNoKHVybCkpIHtcbiAgICAgIHJld3JpdHRlblVybCA9IHVybDtcbiAgICB9IGVsc2UgaWYgKChhcHBVcmwgPSBzdHJpcEJhc2VVcmwoYXBwQmFzZU5vRmlsZSwgdXJsKSkpIHtcbiAgICAgIHJld3JpdHRlblVybCA9IGFwcEJhc2UgKyBoYXNoUHJlZml4ICsgYXBwVXJsO1xuICAgIH0gZWxzZSBpZiAoYXBwQmFzZU5vRmlsZSA9PT0gdXJsICsgJy8nKSB7XG4gICAgICByZXdyaXR0ZW5VcmwgPSBhcHBCYXNlTm9GaWxlO1xuICAgIH1cbiAgICBpZiAocmV3cml0dGVuVXJsKSB7XG4gICAgICB0aGlzLiQkcGFyc2UocmV3cml0dGVuVXJsKTtcbiAgICB9XG4gICAgcmV0dXJuICEhcmV3cml0dGVuVXJsO1xuICB9O1xuXG4gIHRoaXMuJCRjb21wb3NlID0gZnVuY3Rpb24oKSB7XG4gICAgdmFyIHNlYXJjaCA9IHRvS2V5VmFsdWUodGhpcy4kJHNlYXJjaCksXG4gICAgICAgIGhhc2ggPSB0aGlzLiQkaGFzaCA/ICcjJyArIGVuY29kZVVyaVNlZ21lbnQodGhpcy4kJGhhc2gpIDogJyc7XG5cbiAgICB0aGlzLiQkdXJsID0gZW5jb2RlUGF0aCh0aGlzLiQkcGF0aCkgKyAoc2VhcmNoID8gJz8nICsgc2VhcmNoIDogJycpICsgaGFzaDtcbiAgICAvLyBpbmNsdWRlIGhhc2hQcmVmaXggaW4gJCRhYnNVcmwgd2hlbiAkJHVybCBpcyBlbXB0eSBzbyBJRTkgZG9lcyBub3QgcmVsb2FkIHBhZ2UgYmVjYXVzZSBvZiByZW1vdmFsIG9mICcjJ1xuICAgIHRoaXMuJCRhYnNVcmwgPSBhcHBCYXNlICsgaGFzaFByZWZpeCArIHRoaXMuJCR1cmw7XG5cbiAgICB0aGlzLiQkdXJsVXBkYXRlZEJ5TG9jYXRpb24gPSB0cnVlO1xuICB9O1xuXG59XG5cblxudmFyIGxvY2F0aW9uUHJvdG90eXBlID0ge1xuXG4gIC8qKlxuICAgKiBFbnN1cmUgYWJzb2x1dGUgVVJMIGlzIGluaXRpYWxpemVkLlxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgJCRhYnNVcmw6JycsXG5cbiAgLyoqXG4gICAqIEFyZSB3ZSBpbiBodG1sNSBtb2RlP1xuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgJCRodG1sNTogZmFsc2UsXG5cbiAgLyoqXG4gICAqIEhhcyBhbnkgY2hhbmdlIGJlZW4gcmVwbGFjaW5nP1xuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgJCRyZXBsYWNlOiBmYWxzZSxcblxuICAvKipcbiAgICogQG5nZG9jIG1ldGhvZFxuICAgKiBAbmFtZSAkbG9jYXRpb24jYWJzVXJsXG4gICAqXG4gICAqIEBkZXNjcmlwdGlvblxuICAgKiBUaGlzIG1ldGhvZCBpcyBnZXR0ZXIgb25seS5cbiAgICpcbiAgICogUmV0dXJuIGZ1bGwgVVJMIHJlcHJlc2VudGF0aW9uIHdpdGggYWxsIHNlZ21lbnRzIGVuY29kZWQgYWNjb3JkaW5nIHRvIHJ1bGVzIHNwZWNpZmllZCBpblxuICAgKiBbUkZDIDM5ODZdKGh0dHA6Ly93d3cuaWV0Zi5vcmcvcmZjL3JmYzM5ODYudHh0KS5cbiAgICpcbiAgICpcbiAgICogYGBganNcbiAgICogLy8gZ2l2ZW4gVVJMIGh0dHA6Ly9leGFtcGxlLmNvbS8jL3NvbWUvcGF0aD9mb289YmFyJmJhej14b3hvXG4gICAqIHZhciBhYnNVcmwgPSAkbG9jYXRpb24uYWJzVXJsKCk7XG4gICAqIC8vID0+IFwiaHR0cDovL2V4YW1wbGUuY29tLyMvc29tZS9wYXRoP2Zvbz1iYXImYmF6PXhveG9cIlxuICAgKiBgYGBcbiAgICpcbiAgICogQHJldHVybiB7c3RyaW5nfSBmdWxsIFVSTFxuICAgKi9cbiAgYWJzVXJsOiBsb2NhdGlvbkdldHRlcignJCRhYnNVcmwnKSxcblxuICAvKipcbiAgICogQG5nZG9jIG1ldGhvZFxuICAgKiBAbmFtZSAkbG9jYXRpb24jdXJsXG4gICAqXG4gICAqIEBkZXNjcmlwdGlvblxuICAgKiBUaGlzIG1ldGhvZCBpcyBnZXR0ZXIgLyBzZXR0ZXIuXG4gICAqXG4gICAqIFJldHVybiBVUkwgKGUuZy4gYC9wYXRoP2E9YiNoYXNoYCkgd2hlbiBjYWxsZWQgd2l0aG91dCBhbnkgcGFyYW1ldGVyLlxuICAgKlxuICAgKiBDaGFuZ2UgcGF0aCwgc2VhcmNoIGFuZCBoYXNoLCB3aGVuIGNhbGxlZCB3aXRoIHBhcmFtZXRlciBhbmQgcmV0dXJuIGAkbG9jYXRpb25gLlxuICAgKlxuICAgKlxuICAgKiBgYGBqc1xuICAgKiAvLyBnaXZlbiBVUkwgaHR0cDovL2V4YW1wbGUuY29tLyMvc29tZS9wYXRoP2Zvbz1iYXImYmF6PXhveG9cbiAgICogdmFyIHVybCA9ICRsb2NhdGlvbi51cmwoKTtcbiAgICogLy8gPT4gXCIvc29tZS9wYXRoP2Zvbz1iYXImYmF6PXhveG9cIlxuICAgKiBgYGBcbiAgICpcbiAgICogQHBhcmFtIHtzdHJpbmc9fSB1cmwgTmV3IFVSTCB3aXRob3V0IGJhc2UgcHJlZml4IChlLmcuIGAvcGF0aD9hPWIjaGFzaGApXG4gICAqIEByZXR1cm4ge3N0cmluZ30gdXJsXG4gICAqL1xuICB1cmw6IGZ1bmN0aW9uKHVybCkge1xuICAgIGlmIChpc1VuZGVmaW5lZCh1cmwpKSB7XG4gICAgICByZXR1cm4gdGhpcy4kJHVybDtcbiAgICB9XG5cbiAgICB2YXIgbWF0Y2ggPSBQQVRIX01BVENILmV4ZWModXJsKTtcbiAgICBpZiAobWF0Y2hbMV0gfHwgdXJsID09PSAnJykgdGhpcy5wYXRoKGRlY29kZVVSSUNvbXBvbmVudChtYXRjaFsxXSkpO1xuICAgIGlmIChtYXRjaFsyXSB8fCBtYXRjaFsxXSB8fCB1cmwgPT09ICcnKSB0aGlzLnNlYXJjaChtYXRjaFszXSB8fCAnJyk7XG4gICAgdGhpcy5oYXNoKG1hdGNoWzVdIHx8ICcnKTtcblxuICAgIHJldHVybiB0aGlzO1xuICB9LFxuXG4gIC8qKlxuICAgKiBAbmdkb2MgbWV0aG9kXG4gICAqIEBuYW1lICRsb2NhdGlvbiNwcm90b2NvbFxuICAgKlxuICAgKiBAZGVzY3JpcHRpb25cbiAgICogVGhpcyBtZXRob2QgaXMgZ2V0dGVyIG9ubHkuXG4gICAqXG4gICAqIFJldHVybiBwcm90b2NvbCBvZiBjdXJyZW50IFVSTC5cbiAgICpcbiAgICpcbiAgICogYGBganNcbiAgICogLy8gZ2l2ZW4gVVJMIGh0dHA6Ly9leGFtcGxlLmNvbS8jL3NvbWUvcGF0aD9mb289YmFyJmJhej14b3hvXG4gICAqIHZhciBwcm90b2NvbCA9ICRsb2NhdGlvbi5wcm90b2NvbCgpO1xuICAgKiAvLyA9PiBcImh0dHBcIlxuICAgKiBgYGBcbiAgICpcbiAgICogQHJldHVybiB7c3RyaW5nfSBwcm90b2NvbCBvZiBjdXJyZW50IFVSTFxuICAgKi9cbiAgcHJvdG9jb2w6IGxvY2F0aW9uR2V0dGVyKCckJHByb3RvY29sJyksXG5cbiAgLyoqXG4gICAqIEBuZ2RvYyBtZXRob2RcbiAgICogQG5hbWUgJGxvY2F0aW9uI2hvc3RcbiAgICpcbiAgICogQGRlc2NyaXB0aW9uXG4gICAqIFRoaXMgbWV0aG9kIGlzIGdldHRlciBvbmx5LlxuICAgKlxuICAgKiBSZXR1cm4gaG9zdCBvZiBjdXJyZW50IFVSTC5cbiAgICpcbiAgICogTm90ZTogY29tcGFyZWQgdG8gdGhlIG5vbi1hbmd1bGFyIHZlcnNpb24gYGxvY2F0aW9uLmhvc3RgIHdoaWNoIHJldHVybnMgYGhvc3RuYW1lOnBvcnRgLCB0aGlzIHJldHVybnMgdGhlIGBob3N0bmFtZWAgcG9ydGlvbiBvbmx5LlxuICAgKlxuICAgKlxuICAgKiBgYGBqc1xuICAgKiAvLyBnaXZlbiBVUkwgaHR0cDovL2V4YW1wbGUuY29tLyMvc29tZS9wYXRoP2Zvbz1iYXImYmF6PXhveG9cbiAgICogdmFyIGhvc3QgPSAkbG9jYXRpb24uaG9zdCgpO1xuICAgKiAvLyA9PiBcImV4YW1wbGUuY29tXCJcbiAgICpcbiAgICogLy8gZ2l2ZW4gVVJMIGh0dHA6Ly91c2VyOnBhc3N3b3JkQGV4YW1wbGUuY29tOjgwODAvIy9zb21lL3BhdGg/Zm9vPWJhciZiYXo9eG94b1xuICAgKiBob3N0ID0gJGxvY2F0aW9uLmhvc3QoKTtcbiAgICogLy8gPT4gXCJleGFtcGxlLmNvbVwiXG4gICAqIGhvc3QgPSBsb2NhdGlvbi5ob3N0O1xuICAgKiAvLyA9PiBcImV4YW1wbGUuY29tOjgwODBcIlxuICAgKiBgYGBcbiAgICpcbiAgICogQHJldHVybiB7c3RyaW5nfSBob3N0IG9mIGN1cnJlbnQgVVJMLlxuICAgKi9cbiAgaG9zdDogbG9jYXRpb25HZXR0ZXIoJyQkaG9zdCcpLFxuXG4gIC8qKlxuICAgKiBAbmdkb2MgbWV0aG9kXG4gICAqIEBuYW1lICRsb2NhdGlvbiNwb3J0XG4gICAqXG4gICAqIEBkZXNjcmlwdGlvblxuICAgKiBUaGlzIG1ldGhvZCBpcyBnZXR0ZXIgb25seS5cbiAgICpcbiAgICogUmV0dXJuIHBvcnQgb2YgY3VycmVudCBVUkwuXG4gICAqXG4gICAqXG4gICAqIGBgYGpzXG4gICAqIC8vIGdpdmVuIFVSTCBodHRwOi8vZXhhbXBsZS5jb20vIy9zb21lL3BhdGg/Zm9vPWJhciZiYXo9eG94b1xuICAgKiB2YXIgcG9ydCA9ICRsb2NhdGlvbi5wb3J0KCk7XG4gICAqIC8vID0+IDgwXG4gICAqIGBgYFxuICAgKlxuICAgKiBAcmV0dXJuIHtOdW1iZXJ9IHBvcnRcbiAgICovXG4gIHBvcnQ6IGxvY2F0aW9uR2V0dGVyKCckJHBvcnQnKSxcblxuICAvKipcbiAgICogQG5nZG9jIG1ldGhvZFxuICAgKiBAbmFtZSAkbG9jYXRpb24jcGF0aFxuICAgKlxuICAgKiBAZGVzY3JpcHRpb25cbiAgICogVGhpcyBtZXRob2QgaXMgZ2V0dGVyIC8gc2V0dGVyLlxuICAgKlxuICAgKiBSZXR1cm4gcGF0aCBvZiBjdXJyZW50IFVSTCB3aGVuIGNhbGxlZCB3aXRob3V0IGFueSBwYXJhbWV0ZXIuXG4gICAqXG4gICAqIENoYW5nZSBwYXRoIHdoZW4gY2FsbGVkIHdpdGggcGFyYW1ldGVyIGFuZCByZXR1cm4gYCRsb2NhdGlvbmAuXG4gICAqXG4gICAqIE5vdGU6IFBhdGggc2hvdWxkIGFsd2F5cyBiZWdpbiB3aXRoIGZvcndhcmQgc2xhc2ggKC8pLCB0aGlzIG1ldGhvZCB3aWxsIGFkZCB0aGUgZm9yd2FyZCBzbGFzaFxuICAgKiBpZiBpdCBpcyBtaXNzaW5nLlxuICAgKlxuICAgKlxuICAgKiBgYGBqc1xuICAgKiAvLyBnaXZlbiBVUkwgaHR0cDovL2V4YW1wbGUuY29tLyMvc29tZS9wYXRoP2Zvbz1iYXImYmF6PXhveG9cbiAgICogdmFyIHBhdGggPSAkbG9jYXRpb24ucGF0aCgpO1xuICAgKiAvLyA9PiBcIi9zb21lL3BhdGhcIlxuICAgKiBgYGBcbiAgICpcbiAgICogQHBhcmFtIHsoc3RyaW5nfG51bWJlcik9fSBwYXRoIE5ldyBwYXRoXG4gICAqIEByZXR1cm4geyhzdHJpbmd8b2JqZWN0KX0gcGF0aCBpZiBjYWxsZWQgd2l0aCBubyBwYXJhbWV0ZXJzLCBvciBgJGxvY2F0aW9uYCBpZiBjYWxsZWQgd2l0aCBhIHBhcmFtZXRlclxuICAgKi9cbiAgcGF0aDogbG9jYXRpb25HZXR0ZXJTZXR0ZXIoJyQkcGF0aCcsIGZ1bmN0aW9uKHBhdGgpIHtcbiAgICBwYXRoID0gcGF0aCAhPT0gbnVsbCA/IHBhdGgudG9TdHJpbmcoKSA6ICcnO1xuICAgIHJldHVybiBwYXRoLmNoYXJBdCgwKSA9PT0gJy8nID8gcGF0aCA6ICcvJyArIHBhdGg7XG4gIH0pLFxuXG4gIC8qKlxuICAgKiBAbmdkb2MgbWV0aG9kXG4gICAqIEBuYW1lICRsb2NhdGlvbiNzZWFyY2hcbiAgICpcbiAgICogQGRlc2NyaXB0aW9uXG4gICAqIFRoaXMgbWV0aG9kIGlzIGdldHRlciAvIHNldHRlci5cbiAgICpcbiAgICogUmV0dXJuIHNlYXJjaCBwYXJ0IChhcyBvYmplY3QpIG9mIGN1cnJlbnQgVVJMIHdoZW4gY2FsbGVkIHdpdGhvdXQgYW55IHBhcmFtZXRlci5cbiAgICpcbiAgICogQ2hhbmdlIHNlYXJjaCBwYXJ0IHdoZW4gY2FsbGVkIHdpdGggcGFyYW1ldGVyIGFuZCByZXR1cm4gYCRsb2NhdGlvbmAuXG4gICAqXG4gICAqXG4gICAqIGBgYGpzXG4gICAqIC8vIGdpdmVuIFVSTCBodHRwOi8vZXhhbXBsZS5jb20vIy9zb21lL3BhdGg/Zm9vPWJhciZiYXo9eG94b1xuICAgKiB2YXIgc2VhcmNoT2JqZWN0ID0gJGxvY2F0aW9uLnNlYXJjaCgpO1xuICAgKiAvLyA9PiB7Zm9vOiAnYmFyJywgYmF6OiAneG94byd9XG4gICAqXG4gICAqIC8vIHNldCBmb28gdG8gJ3lpcGVlJ1xuICAgKiAkbG9jYXRpb24uc2VhcmNoKCdmb28nLCAneWlwZWUnKTtcbiAgICogLy8gJGxvY2F0aW9uLnNlYXJjaCgpID0+IHtmb286ICd5aXBlZScsIGJhejogJ3hveG8nfVxuICAgKiBgYGBcbiAgICpcbiAgICogQHBhcmFtIHtzdHJpbmd8T2JqZWN0LjxzdHJpbmc+fE9iamVjdC48QXJyYXkuPHN0cmluZz4+fSBzZWFyY2ggTmV3IHNlYXJjaCBwYXJhbXMgLSBzdHJpbmcgb3JcbiAgICogaGFzaCBvYmplY3QuXG4gICAqXG4gICAqIFdoZW4gY2FsbGVkIHdpdGggYSBzaW5nbGUgYXJndW1lbnQgdGhlIG1ldGhvZCBhY3RzIGFzIGEgc2V0dGVyLCBzZXR0aW5nIHRoZSBgc2VhcmNoYCBjb21wb25lbnRcbiAgICogb2YgYCRsb2NhdGlvbmAgdG8gdGhlIHNwZWNpZmllZCB2YWx1ZS5cbiAgICpcbiAgICogSWYgdGhlIGFyZ3VtZW50IGlzIGEgaGFzaCBvYmplY3QgY29udGFpbmluZyBhbiBhcnJheSBvZiB2YWx1ZXMsIHRoZXNlIHZhbHVlcyB3aWxsIGJlIGVuY29kZWRcbiAgICogYXMgZHVwbGljYXRlIHNlYXJjaCBwYXJhbWV0ZXJzIGluIHRoZSBVUkwuXG4gICAqXG4gICAqIEBwYXJhbSB7KHN0cmluZ3xOdW1iZXJ8QXJyYXk8c3RyaW5nPnxib29sZWFuKT19IHBhcmFtVmFsdWUgSWYgYHNlYXJjaGAgaXMgYSBzdHJpbmcgb3IgbnVtYmVyLCB0aGVuIGBwYXJhbVZhbHVlYFxuICAgKiB3aWxsIG92ZXJyaWRlIG9ubHkgYSBzaW5nbGUgc2VhcmNoIHByb3BlcnR5LlxuICAgKlxuICAgKiBJZiBgcGFyYW1WYWx1ZWAgaXMgYW4gYXJyYXksIGl0IHdpbGwgb3ZlcnJpZGUgdGhlIHByb3BlcnR5IG9mIHRoZSBgc2VhcmNoYCBjb21wb25lbnQgb2ZcbiAgICogYCRsb2NhdGlvbmAgc3BlY2lmaWVkIHZpYSB0aGUgZmlyc3QgYXJndW1lbnQuXG4gICAqXG4gICAqIElmIGBwYXJhbVZhbHVlYCBpcyBgbnVsbGAsIHRoZSBwcm9wZXJ0eSBzcGVjaWZpZWQgdmlhIHRoZSBmaXJzdCBhcmd1bWVudCB3aWxsIGJlIGRlbGV0ZWQuXG4gICAqXG4gICAqIElmIGBwYXJhbVZhbHVlYCBpcyBgdHJ1ZWAsIHRoZSBwcm9wZXJ0eSBzcGVjaWZpZWQgdmlhIHRoZSBmaXJzdCBhcmd1bWVudCB3aWxsIGJlIGFkZGVkIHdpdGggbm9cbiAgICogdmFsdWUgbm9yIHRyYWlsaW5nIGVxdWFsIHNpZ24uXG4gICAqXG4gICAqIEByZXR1cm4ge09iamVjdH0gSWYgY2FsbGVkIHdpdGggbm8gYXJndW1lbnRzIHJldHVybnMgdGhlIHBhcnNlZCBgc2VhcmNoYCBvYmplY3QuIElmIGNhbGxlZCB3aXRoXG4gICAqIG9uZSBvciBtb3JlIGFyZ3VtZW50cyByZXR1cm5zIGAkbG9jYXRpb25gIG9iamVjdCBpdHNlbGYuXG4gICAqL1xuICBzZWFyY2g6IGZ1bmN0aW9uKHNlYXJjaCwgcGFyYW1WYWx1ZSkge1xuICAgIHN3aXRjaCAoYXJndW1lbnRzLmxlbmd0aCkge1xuICAgICAgY2FzZSAwOlxuICAgICAgICByZXR1cm4gdGhpcy4kJHNlYXJjaDtcbiAgICAgIGNhc2UgMTpcbiAgICAgICAgaWYgKGlzU3RyaW5nKHNlYXJjaCkgfHwgaXNOdW1iZXIoc2VhcmNoKSkge1xuICAgICAgICAgIHNlYXJjaCA9IHNlYXJjaC50b1N0cmluZygpO1xuICAgICAgICAgIHRoaXMuJCRzZWFyY2ggPSBwYXJzZUtleVZhbHVlKHNlYXJjaCk7XG4gICAgICAgIH0gZWxzZSBpZiAoaXNPYmplY3Qoc2VhcmNoKSkge1xuICAgICAgICAgIHNlYXJjaCA9IGNvcHkoc2VhcmNoLCB7fSk7XG4gICAgICAgICAgLy8gcmVtb3ZlIG9iamVjdCB1bmRlZmluZWQgb3IgbnVsbCBwcm9wZXJ0aWVzXG4gICAgICAgICAgZm9yRWFjaChzZWFyY2gsIGZ1bmN0aW9uKHZhbHVlLCBrZXkpIHtcbiAgICAgICAgICAgIGlmICh2YWx1ZSA9PSBudWxsKSBkZWxldGUgc2VhcmNoW2tleV07XG4gICAgICAgICAgfSk7XG5cbiAgICAgICAgICB0aGlzLiQkc2VhcmNoID0gc2VhcmNoO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHRocm93ICRsb2NhdGlvbk1pbkVycignaXNyY2hhcmcnLFxuICAgICAgICAgICAgICAnVGhlIGZpcnN0IGFyZ3VtZW50IG9mIHRoZSBgJGxvY2F0aW9uI3NlYXJjaCgpYCBjYWxsIG11c3QgYmUgYSBzdHJpbmcgb3IgYW4gb2JqZWN0LicpO1xuICAgICAgICB9XG4gICAgICAgIGJyZWFrO1xuICAgICAgZGVmYXVsdDpcbiAgICAgICAgaWYgKGlzVW5kZWZpbmVkKHBhcmFtVmFsdWUpIHx8IHBhcmFtVmFsdWUgPT09IG51bGwpIHtcbiAgICAgICAgICBkZWxldGUgdGhpcy4kJHNlYXJjaFtzZWFyY2hdO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHRoaXMuJCRzZWFyY2hbc2VhcmNoXSA9IHBhcmFtVmFsdWU7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICB0aGlzLiQkY29tcG9zZSgpO1xuICAgIHJldHVybiB0aGlzO1xuICB9LFxuXG4gIC8qKlxuICAgKiBAbmdkb2MgbWV0aG9kXG4gICAqIEBuYW1lICRsb2NhdGlvbiNoYXNoXG4gICAqXG4gICAqIEBkZXNjcmlwdGlvblxuICAgKiBUaGlzIG1ldGhvZCBpcyBnZXR0ZXIgLyBzZXR0ZXIuXG4gICAqXG4gICAqIFJldHVybnMgdGhlIGhhc2ggZnJhZ21lbnQgd2hlbiBjYWxsZWQgd2l0aG91dCBhbnkgcGFyYW1ldGVycy5cbiAgICpcbiAgICogQ2hhbmdlcyB0aGUgaGFzaCBmcmFnbWVudCB3aGVuIGNhbGxlZCB3aXRoIGEgcGFyYW1ldGVyIGFuZCByZXR1cm5zIGAkbG9jYXRpb25gLlxuICAgKlxuICAgKlxuICAgKiBgYGBqc1xuICAgKiAvLyBnaXZlbiBVUkwgaHR0cDovL2V4YW1wbGUuY29tLyMvc29tZS9wYXRoP2Zvbz1iYXImYmF6PXhveG8jaGFzaFZhbHVlXG4gICAqIHZhciBoYXNoID0gJGxvY2F0aW9uLmhhc2goKTtcbiAgICogLy8gPT4gXCJoYXNoVmFsdWVcIlxuICAgKiBgYGBcbiAgICpcbiAgICogQHBhcmFtIHsoc3RyaW5nfG51bWJlcik9fSBoYXNoIE5ldyBoYXNoIGZyYWdtZW50XG4gICAqIEByZXR1cm4ge3N0cmluZ30gaGFzaFxuICAgKi9cbiAgaGFzaDogbG9jYXRpb25HZXR0ZXJTZXR0ZXIoJyQkaGFzaCcsIGZ1bmN0aW9uKGhhc2gpIHtcbiAgICByZXR1cm4gaGFzaCAhPT0gbnVsbCA/IGhhc2gudG9TdHJpbmcoKSA6ICcnO1xuICB9KSxcblxuICAvKipcbiAgICogQG5nZG9jIG1ldGhvZFxuICAgKiBAbmFtZSAkbG9jYXRpb24jcmVwbGFjZVxuICAgKlxuICAgKiBAZGVzY3JpcHRpb25cbiAgICogSWYgY2FsbGVkLCBhbGwgY2hhbmdlcyB0byAkbG9jYXRpb24gZHVyaW5nIHRoZSBjdXJyZW50IGAkZGlnZXN0YCB3aWxsIHJlcGxhY2UgdGhlIGN1cnJlbnQgaGlzdG9yeVxuICAgKiByZWNvcmQsIGluc3RlYWQgb2YgYWRkaW5nIGEgbmV3IG9uZS5cbiAgICovXG4gIHJlcGxhY2U6IGZ1bmN0aW9uKCkge1xuICAgIHRoaXMuJCRyZXBsYWNlID0gdHJ1ZTtcbiAgICByZXR1cm4gdGhpcztcbiAgfVxufTtcblxuZm9yRWFjaChbTG9jYXRpb25IYXNoYmFuZ0luSHRtbDVVcmwsIExvY2F0aW9uSGFzaGJhbmdVcmwsIExvY2F0aW9uSHRtbDVVcmxdLCBmdW5jdGlvbihMb2NhdGlvbikge1xuICBMb2NhdGlvbi5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKGxvY2F0aW9uUHJvdG90eXBlKTtcblxuICAvKipcbiAgICogQG5nZG9jIG1ldGhvZFxuICAgKiBAbmFtZSAkbG9jYXRpb24jc3RhdGVcbiAgICpcbiAgICogQGRlc2NyaXB0aW9uXG4gICAqIFRoaXMgbWV0aG9kIGlzIGdldHRlciAvIHNldHRlci5cbiAgICpcbiAgICogUmV0dXJuIHRoZSBoaXN0b3J5IHN0YXRlIG9iamVjdCB3aGVuIGNhbGxlZCB3aXRob3V0IGFueSBwYXJhbWV0ZXIuXG4gICAqXG4gICAqIENoYW5nZSB0aGUgaGlzdG9yeSBzdGF0ZSBvYmplY3Qgd2hlbiBjYWxsZWQgd2l0aCBvbmUgcGFyYW1ldGVyIGFuZCByZXR1cm4gYCRsb2NhdGlvbmAuXG4gICAqIFRoZSBzdGF0ZSBvYmplY3QgaXMgbGF0ZXIgcGFzc2VkIHRvIGBwdXNoU3RhdGVgIG9yIGByZXBsYWNlU3RhdGVgLlxuICAgKlxuICAgKiBOT1RFOiBUaGlzIG1ldGhvZCBpcyBzdXBwb3J0ZWQgb25seSBpbiBIVE1MNSBtb2RlIGFuZCBvbmx5IGluIGJyb3dzZXJzIHN1cHBvcnRpbmdcbiAgICogdGhlIEhUTUw1IEhpc3RvcnkgQVBJIChpLmUuIG1ldGhvZHMgYHB1c2hTdGF0ZWAgYW5kIGByZXBsYWNlU3RhdGVgKS4gSWYgeW91IG5lZWQgdG8gc3VwcG9ydFxuICAgKiBvbGRlciBicm93c2VycyAobGlrZSBJRTkgb3IgQW5kcm9pZCA8IDQuMCksIGRvbid0IHVzZSB0aGlzIG1ldGhvZC5cbiAgICpcbiAgICogQHBhcmFtIHtvYmplY3Q9fSBzdGF0ZSBTdGF0ZSBvYmplY3QgZm9yIHB1c2hTdGF0ZSBvciByZXBsYWNlU3RhdGVcbiAgICogQHJldHVybiB7b2JqZWN0fSBzdGF0ZVxuICAgKi9cbiAgTG9jYXRpb24ucHJvdG90eXBlLnN0YXRlID0gZnVuY3Rpb24oc3RhdGUpIHtcbiAgICBpZiAoIWFyZ3VtZW50cy5sZW5ndGgpIHtcbiAgICAgIHJldHVybiB0aGlzLiQkc3RhdGU7XG4gICAgfVxuXG4gICAgaWYgKExvY2F0aW9uICE9PSBMb2NhdGlvbkh0bWw1VXJsIHx8ICF0aGlzLiQkaHRtbDUpIHtcbiAgICAgIHRocm93ICRsb2NhdGlvbk1pbkVycignbm9zdGF0ZScsICdIaXN0b3J5IEFQSSBzdGF0ZSBzdXBwb3J0IGlzIGF2YWlsYWJsZSBvbmx5ICcgK1xuICAgICAgICAnaW4gSFRNTDUgbW9kZSBhbmQgb25seSBpbiBicm93c2VycyBzdXBwb3J0aW5nIEhUTUw1IEhpc3RvcnkgQVBJJyk7XG4gICAgfVxuICAgIC8vIFRoZSB1c2VyIG1pZ2h0IG1vZGlmeSBgc3RhdGVPYmplY3RgIGFmdGVyIGludm9raW5nIGAkbG9jYXRpb24uc3RhdGUoc3RhdGVPYmplY3QpYFxuICAgIC8vIGJ1dCB3ZSdyZSBjaGFuZ2luZyB0aGUgJCRzdGF0ZSByZWZlcmVuY2UgdG8gJGJyb3dzZXIuc3RhdGUoKSBkdXJpbmcgdGhlICRkaWdlc3RcbiAgICAvLyBzbyB0aGUgbW9kaWZpY2F0aW9uIHdpbmRvdyBpcyBuYXJyb3cuXG4gICAgdGhpcy4kJHN0YXRlID0gaXNVbmRlZmluZWQoc3RhdGUpID8gbnVsbCA6IHN0YXRlO1xuICAgIHRoaXMuJCR1cmxVcGRhdGVkQnlMb2NhdGlvbiA9IHRydWU7XG5cbiAgICByZXR1cm4gdGhpcztcbiAgfTtcbn0pO1xuXG5cbmZ1bmN0aW9uIGxvY2F0aW9uR2V0dGVyKHByb3BlcnR5KSB7XG4gIHJldHVybiAvKiogQHRoaXMgKi8gZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIHRoaXNbcHJvcGVydHldO1xuICB9O1xufVxuXG5cbmZ1bmN0aW9uIGxvY2F0aW9uR2V0dGVyU2V0dGVyKHByb3BlcnR5LCBwcmVwcm9jZXNzKSB7XG4gIHJldHVybiAvKiogQHRoaXMgKi8gZnVuY3Rpb24odmFsdWUpIHtcbiAgICBpZiAoaXNVbmRlZmluZWQodmFsdWUpKSB7XG4gICAgICByZXR1cm4gdGhpc1twcm9wZXJ0eV07XG4gICAgfVxuXG4gICAgdGhpc1twcm9wZXJ0eV0gPSBwcmVwcm9jZXNzKHZhbHVlKTtcbiAgICB0aGlzLiQkY29tcG9zZSgpO1xuXG4gICAgcmV0dXJuIHRoaXM7XG4gIH07XG59XG5cblxuLyoqXG4gKiBAbmdkb2Mgc2VydmljZVxuICogQG5hbWUgJGxvY2F0aW9uXG4gKlxuICogQHJlcXVpcmVzICRyb290RWxlbWVudFxuICpcbiAqIEBkZXNjcmlwdGlvblxuICogVGhlICRsb2NhdGlvbiBzZXJ2aWNlIHBhcnNlcyB0aGUgVVJMIGluIHRoZSBicm93c2VyIGFkZHJlc3MgYmFyIChiYXNlZCBvbiB0aGVcbiAqIFt3aW5kb3cubG9jYXRpb25dKGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuL3dpbmRvdy5sb2NhdGlvbikpIGFuZCBtYWtlcyB0aGUgVVJMXG4gKiBhdmFpbGFibGUgdG8geW91ciBhcHBsaWNhdGlvbi4gQ2hhbmdlcyB0byB0aGUgVVJMIGluIHRoZSBhZGRyZXNzIGJhciBhcmUgcmVmbGVjdGVkIGludG9cbiAqICRsb2NhdGlvbiBzZXJ2aWNlIGFuZCBjaGFuZ2VzIHRvICRsb2NhdGlvbiBhcmUgcmVmbGVjdGVkIGludG8gdGhlIGJyb3dzZXIgYWRkcmVzcyBiYXIuXG4gKlxuICogKipUaGUgJGxvY2F0aW9uIHNlcnZpY2U6KipcbiAqXG4gKiAtIEV4cG9zZXMgdGhlIGN1cnJlbnQgVVJMIGluIHRoZSBicm93c2VyIGFkZHJlc3MgYmFyLCBzbyB5b3UgY2FuXG4gKiAgIC0gV2F0Y2ggYW5kIG9ic2VydmUgdGhlIFVSTC5cbiAqICAgLSBDaGFuZ2UgdGhlIFVSTC5cbiAqIC0gU3luY2hyb25pemVzIHRoZSBVUkwgd2l0aCB0aGUgYnJvd3NlciB3aGVuIHRoZSB1c2VyXG4gKiAgIC0gQ2hhbmdlcyB0aGUgYWRkcmVzcyBiYXIuXG4gKiAgIC0gQ2xpY2tzIHRoZSBiYWNrIG9yIGZvcndhcmQgYnV0dG9uIChvciBjbGlja3MgYSBIaXN0b3J5IGxpbmspLlxuICogICAtIENsaWNrcyBvbiBhIGxpbmsuXG4gKiAtIFJlcHJlc2VudHMgdGhlIFVSTCBvYmplY3QgYXMgYSBzZXQgb2YgbWV0aG9kcyAocHJvdG9jb2wsIGhvc3QsIHBvcnQsIHBhdGgsIHNlYXJjaCwgaGFzaCkuXG4gKlxuICogRm9yIG1vcmUgaW5mb3JtYXRpb24gc2VlIHtAbGluayBndWlkZS8kbG9jYXRpb24gRGV2ZWxvcGVyIEd1aWRlOiBVc2luZyAkbG9jYXRpb259XG4gKi9cblxuLyoqXG4gKiBAbmdkb2MgcHJvdmlkZXJcbiAqIEBuYW1lICRsb2NhdGlvblByb3ZpZGVyXG4gKiBAdGhpc1xuICpcbiAqIEBkZXNjcmlwdGlvblxuICogVXNlIHRoZSBgJGxvY2F0aW9uUHJvdmlkZXJgIHRvIGNvbmZpZ3VyZSBob3cgdGhlIGFwcGxpY2F0aW9uIGRlZXAgbGlua2luZyBwYXRocyBhcmUgc3RvcmVkLlxuICovXG5mdW5jdGlvbiAkTG9jYXRpb25Qcm92aWRlcigpIHtcbiAgdmFyIGhhc2hQcmVmaXggPSAnIScsXG4gICAgICBodG1sNU1vZGUgPSB7XG4gICAgICAgIGVuYWJsZWQ6IGZhbHNlLFxuICAgICAgICByZXF1aXJlQmFzZTogdHJ1ZSxcbiAgICAgICAgcmV3cml0ZUxpbmtzOiB0cnVlXG4gICAgICB9O1xuXG4gIC8qKlxuICAgKiBAbmdkb2MgbWV0aG9kXG4gICAqIEBuYW1lICRsb2NhdGlvblByb3ZpZGVyI2hhc2hQcmVmaXhcbiAgICogQGRlc2NyaXB0aW9uXG4gICAqIFRoZSBkZWZhdWx0IHZhbHVlIGZvciB0aGUgcHJlZml4IGlzIGAnISdgLlxuICAgKiBAcGFyYW0ge3N0cmluZz19IHByZWZpeCBQcmVmaXggZm9yIGhhc2ggcGFydCAoY29udGFpbmluZyBwYXRoIGFuZCBzZWFyY2gpXG4gICAqIEByZXR1cm5zIHsqfSBjdXJyZW50IHZhbHVlIGlmIHVzZWQgYXMgZ2V0dGVyIG9yIGl0c2VsZiAoY2hhaW5pbmcpIGlmIHVzZWQgYXMgc2V0dGVyXG4gICAqL1xuICB0aGlzLmhhc2hQcmVmaXggPSBmdW5jdGlvbihwcmVmaXgpIHtcbiAgICBpZiAoaXNEZWZpbmVkKHByZWZpeCkpIHtcbiAgICAgIGhhc2hQcmVmaXggPSBwcmVmaXg7XG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIGhhc2hQcmVmaXg7XG4gICAgfVxuICB9O1xuXG4gIC8qKlxuICAgKiBAbmdkb2MgbWV0aG9kXG4gICAqIEBuYW1lICRsb2NhdGlvblByb3ZpZGVyI2h0bWw1TW9kZVxuICAgKiBAZGVzY3JpcHRpb25cbiAgICogQHBhcmFtIHsoYm9vbGVhbnxPYmplY3QpPX0gbW9kZSBJZiBib29sZWFuLCBzZXRzIGBodG1sNU1vZGUuZW5hYmxlZGAgdG8gdmFsdWUuXG4gICAqICAgSWYgb2JqZWN0LCBzZXRzIGBlbmFibGVkYCwgYHJlcXVpcmVCYXNlYCBhbmQgYHJld3JpdGVMaW5rc2AgdG8gcmVzcGVjdGl2ZSB2YWx1ZXMuIFN1cHBvcnRlZFxuICAgKiAgIHByb3BlcnRpZXM6XG4gICAqICAgLSAqKmVuYWJsZWQqKiDigJMgYHtib29sZWFufWAg4oCTIChkZWZhdWx0OiBmYWxzZSkgSWYgdHJ1ZSwgd2lsbCByZWx5IG9uIGBoaXN0b3J5LnB1c2hTdGF0ZWAgdG9cbiAgICogICAgIGNoYW5nZSB1cmxzIHdoZXJlIHN1cHBvcnRlZC4gV2lsbCBmYWxsIGJhY2sgdG8gaGFzaC1wcmVmaXhlZCBwYXRocyBpbiBicm93c2VycyB0aGF0IGRvIG5vdFxuICAgKiAgICAgc3VwcG9ydCBgcHVzaFN0YXRlYC5cbiAgICogICAtICoqcmVxdWlyZUJhc2UqKiAtIGB7Ym9vbGVhbn1gIC0gKGRlZmF1bHQ6IGB0cnVlYCkgV2hlbiBodG1sNU1vZGUgaXMgZW5hYmxlZCwgc3BlY2lmaWVzXG4gICAqICAgICB3aGV0aGVyIG9yIG5vdCBhIDxiYXNlPiB0YWcgaXMgcmVxdWlyZWQgdG8gYmUgcHJlc2VudC4gSWYgYGVuYWJsZWRgIGFuZCBgcmVxdWlyZUJhc2VgIGFyZVxuICAgKiAgICAgdHJ1ZSwgYW5kIGEgYmFzZSB0YWcgaXMgbm90IHByZXNlbnQsIGFuIGVycm9yIHdpbGwgYmUgdGhyb3duIHdoZW4gYCRsb2NhdGlvbmAgaXMgaW5qZWN0ZWQuXG4gICAqICAgICBTZWUgdGhlIHtAbGluayBndWlkZS8kbG9jYXRpb24gJGxvY2F0aW9uIGd1aWRlIGZvciBtb3JlIGluZm9ybWF0aW9ufVxuICAgKiAgIC0gKipyZXdyaXRlTGlua3MqKiAtIGB7Ym9vbGVhbnxzdHJpbmd9YCAtIChkZWZhdWx0OiBgdHJ1ZWApIFdoZW4gaHRtbDVNb2RlIGlzIGVuYWJsZWQsXG4gICAqICAgICBlbmFibGVzL2Rpc2FibGVzIFVSTCByZXdyaXRpbmcgZm9yIHJlbGF0aXZlIGxpbmtzLiBJZiBzZXQgdG8gYSBzdHJpbmcsIFVSTCByZXdyaXRpbmcgd2lsbFxuICAgKiAgICAgb25seSBoYXBwZW4gb24gbGlua3Mgd2l0aCBhbiBhdHRyaWJ1dGUgdGhhdCBtYXRjaGVzIHRoZSBnaXZlbiBzdHJpbmcuIEZvciBleGFtcGxlLCBpZiBzZXRcbiAgICogICAgIHRvIGAnaW50ZXJuYWwtbGluaydgLCB0aGVuIHRoZSBVUkwgd2lsbCBvbmx5IGJlIHJld3JpdHRlbiBmb3IgYDxhIGludGVybmFsLWxpbms+YCBsaW5rcy5cbiAgICogICAgIE5vdGUgdGhhdCBbYXR0cmlidXRlIG5hbWUgbm9ybWFsaXphdGlvbl0oZ3VpZGUvZGlyZWN0aXZlI25vcm1hbGl6YXRpb24pIGRvZXMgbm90IGFwcGx5XG4gICAqICAgICBoZXJlLCBzbyBgJ2ludGVybmFsTGluaydgIHdpbGwgKipub3QqKiBtYXRjaCBgJ2ludGVybmFsLWxpbmsnYC5cbiAgICpcbiAgICogQHJldHVybnMge09iamVjdH0gaHRtbDVNb2RlIG9iamVjdCBpZiB1c2VkIGFzIGdldHRlciBvciBpdHNlbGYgKGNoYWluaW5nKSBpZiB1c2VkIGFzIHNldHRlclxuICAgKi9cbiAgdGhpcy5odG1sNU1vZGUgPSBmdW5jdGlvbihtb2RlKSB7XG4gICAgaWYgKGlzQm9vbGVhbihtb2RlKSkge1xuICAgICAgaHRtbDVNb2RlLmVuYWJsZWQgPSBtb2RlO1xuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfSBlbHNlIGlmIChpc09iamVjdChtb2RlKSkge1xuXG4gICAgICBpZiAoaXNCb29sZWFuKG1vZGUuZW5hYmxlZCkpIHtcbiAgICAgICAgaHRtbDVNb2RlLmVuYWJsZWQgPSBtb2RlLmVuYWJsZWQ7XG4gICAgICB9XG5cbiAgICAgIGlmIChpc0Jvb2xlYW4obW9kZS5yZXF1aXJlQmFzZSkpIHtcbiAgICAgICAgaHRtbDVNb2RlLnJlcXVpcmVCYXNlID0gbW9kZS5yZXF1aXJlQmFzZTtcbiAgICAgIH1cblxuICAgICAgaWYgKGlzQm9vbGVhbihtb2RlLnJld3JpdGVMaW5rcykgfHwgaXNTdHJpbmcobW9kZS5yZXdyaXRlTGlua3MpKSB7XG4gICAgICAgIGh0bWw1TW9kZS5yZXdyaXRlTGlua3MgPSBtb2RlLnJld3JpdGVMaW5rcztcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBodG1sNU1vZGU7XG4gICAgfVxuICB9O1xuXG4gIC8qKlxuICAgKiBAbmdkb2MgZXZlbnRcbiAgICogQG5hbWUgJGxvY2F0aW9uIyRsb2NhdGlvbkNoYW5nZVN0YXJ0XG4gICAqIEBldmVudFR5cGUgYnJvYWRjYXN0IG9uIHJvb3Qgc2NvcGVcbiAgICogQGRlc2NyaXB0aW9uXG4gICAqIEJyb2FkY2FzdGVkIGJlZm9yZSBhIFVSTCB3aWxsIGNoYW5nZS5cbiAgICpcbiAgICogVGhpcyBjaGFuZ2UgY2FuIGJlIHByZXZlbnRlZCBieSBjYWxsaW5nXG4gICAqIGBwcmV2ZW50RGVmYXVsdGAgbWV0aG9kIG9mIHRoZSBldmVudC4gU2VlIHtAbGluayBuZy4kcm9vdFNjb3BlLlNjb3BlIyRvbn0gZm9yIG1vcmVcbiAgICogZGV0YWlscyBhYm91dCBldmVudCBvYmplY3QuIFVwb24gc3VjY2Vzc2Z1bCBjaGFuZ2VcbiAgICoge0BsaW5rIG5nLiRsb2NhdGlvbiMkbG9jYXRpb25DaGFuZ2VTdWNjZXNzICRsb2NhdGlvbkNoYW5nZVN1Y2Nlc3N9IGlzIGZpcmVkLlxuICAgKlxuICAgKiBUaGUgYG5ld1N0YXRlYCBhbmQgYG9sZFN0YXRlYCBwYXJhbWV0ZXJzIG1heSBiZSBkZWZpbmVkIG9ubHkgaW4gSFRNTDUgbW9kZSBhbmQgd2hlblxuICAgKiB0aGUgYnJvd3NlciBzdXBwb3J0cyB0aGUgSFRNTDUgSGlzdG9yeSBBUEkuXG4gICAqXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBhbmd1bGFyRXZlbnQgU3ludGhldGljIGV2ZW50IG9iamVjdC5cbiAgICogQHBhcmFtIHtzdHJpbmd9IG5ld1VybCBOZXcgVVJMXG4gICAqIEBwYXJhbSB7c3RyaW5nPX0gb2xkVXJsIFVSTCB0aGF0IHdhcyBiZWZvcmUgaXQgd2FzIGNoYW5nZWQuXG4gICAqIEBwYXJhbSB7c3RyaW5nPX0gbmV3U3RhdGUgTmV3IGhpc3Rvcnkgc3RhdGUgb2JqZWN0XG4gICAqIEBwYXJhbSB7c3RyaW5nPX0gb2xkU3RhdGUgSGlzdG9yeSBzdGF0ZSBvYmplY3QgdGhhdCB3YXMgYmVmb3JlIGl0IHdhcyBjaGFuZ2VkLlxuICAgKi9cblxuICAvKipcbiAgICogQG5nZG9jIGV2ZW50XG4gICAqIEBuYW1lICRsb2NhdGlvbiMkbG9jYXRpb25DaGFuZ2VTdWNjZXNzXG4gICAqIEBldmVudFR5cGUgYnJvYWRjYXN0IG9uIHJvb3Qgc2NvcGVcbiAgICogQGRlc2NyaXB0aW9uXG4gICAqIEJyb2FkY2FzdGVkIGFmdGVyIGEgVVJMIHdhcyBjaGFuZ2VkLlxuICAgKlxuICAgKiBUaGUgYG5ld1N0YXRlYCBhbmQgYG9sZFN0YXRlYCBwYXJhbWV0ZXJzIG1heSBiZSBkZWZpbmVkIG9ubHkgaW4gSFRNTDUgbW9kZSBhbmQgd2hlblxuICAgKiB0aGUgYnJvd3NlciBzdXBwb3J0cyB0aGUgSFRNTDUgSGlzdG9yeSBBUEkuXG4gICAqXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBhbmd1bGFyRXZlbnQgU3ludGhldGljIGV2ZW50IG9iamVjdC5cbiAgICogQHBhcmFtIHtzdHJpbmd9IG5ld1VybCBOZXcgVVJMXG4gICAqIEBwYXJhbSB7c3RyaW5nPX0gb2xkVXJsIFVSTCB0aGF0IHdhcyBiZWZvcmUgaXQgd2FzIGNoYW5nZWQuXG4gICAqIEBwYXJhbSB7c3RyaW5nPX0gbmV3U3RhdGUgTmV3IGhpc3Rvcnkgc3RhdGUgb2JqZWN0XG4gICAqIEBwYXJhbSB7c3RyaW5nPX0gb2xkU3RhdGUgSGlzdG9yeSBzdGF0ZSBvYmplY3QgdGhhdCB3YXMgYmVmb3JlIGl0IHdhcyBjaGFuZ2VkLlxuICAgKi9cblxuICB0aGlzLiRnZXQgPSBbJyRyb290U2NvcGUnLCAnJGJyb3dzZXInLCAnJHNuaWZmZXInLCAnJHJvb3RFbGVtZW50JywgJyR3aW5kb3cnLFxuICAgICAgZnVuY3Rpb24oJHJvb3RTY29wZSwgJGJyb3dzZXIsICRzbmlmZmVyLCAkcm9vdEVsZW1lbnQsICR3aW5kb3cpIHtcbiAgICB2YXIgJGxvY2F0aW9uLFxuICAgICAgICBMb2NhdGlvbk1vZGUsXG4gICAgICAgIGJhc2VIcmVmID0gJGJyb3dzZXIuYmFzZUhyZWYoKSwgLy8gaWYgYmFzZVtocmVmXSBpcyB1bmRlZmluZWQsIGl0IGRlZmF1bHRzIHRvICcnXG4gICAgICAgIGluaXRpYWxVcmwgPSAkYnJvd3Nlci51cmwoKSxcbiAgICAgICAgYXBwQmFzZTtcblxuICAgIGlmIChodG1sNU1vZGUuZW5hYmxlZCkge1xuICAgICAgaWYgKCFiYXNlSHJlZiAmJiBodG1sNU1vZGUucmVxdWlyZUJhc2UpIHtcbiAgICAgICAgdGhyb3cgJGxvY2F0aW9uTWluRXJyKCdub2Jhc2UnLFxuICAgICAgICAgICckbG9jYXRpb24gaW4gSFRNTDUgbW9kZSByZXF1aXJlcyBhIDxiYXNlPiB0YWcgdG8gYmUgcHJlc2VudCEnKTtcbiAgICAgIH1cbiAgICAgIGFwcEJhc2UgPSBzZXJ2ZXJCYXNlKGluaXRpYWxVcmwpICsgKGJhc2VIcmVmIHx8ICcvJyk7XG4gICAgICBMb2NhdGlvbk1vZGUgPSAkc25pZmZlci5oaXN0b3J5ID8gTG9jYXRpb25IdG1sNVVybCA6IExvY2F0aW9uSGFzaGJhbmdJbkh0bWw1VXJsO1xuICAgIH0gZWxzZSB7XG4gICAgICBhcHBCYXNlID0gc3RyaXBIYXNoKGluaXRpYWxVcmwpO1xuICAgICAgTG9jYXRpb25Nb2RlID0gTG9jYXRpb25IYXNoYmFuZ1VybDtcbiAgICB9XG4gICAgdmFyIGFwcEJhc2VOb0ZpbGUgPSBzdHJpcEZpbGUoYXBwQmFzZSk7XG5cbiAgICAkbG9jYXRpb24gPSBuZXcgTG9jYXRpb25Nb2RlKGFwcEJhc2UsIGFwcEJhc2VOb0ZpbGUsICcjJyArIGhhc2hQcmVmaXgpO1xuICAgICRsb2NhdGlvbi4kJHBhcnNlTGlua1VybChpbml0aWFsVXJsLCBpbml0aWFsVXJsKTtcblxuICAgICRsb2NhdGlvbi4kJHN0YXRlID0gJGJyb3dzZXIuc3RhdGUoKTtcblxuICAgIHZhciBJR05PUkVfVVJJX1JFR0VYUCA9IC9eXFxzKihqYXZhc2NyaXB0fG1haWx0byk6L2k7XG5cbiAgICBmdW5jdGlvbiBzZXRCcm93c2VyVXJsV2l0aEZhbGxiYWNrKHVybCwgcmVwbGFjZSwgc3RhdGUpIHtcbiAgICAgIHZhciBvbGRVcmwgPSAkbG9jYXRpb24udXJsKCk7XG4gICAgICB2YXIgb2xkU3RhdGUgPSAkbG9jYXRpb24uJCRzdGF0ZTtcbiAgICAgIHRyeSB7XG4gICAgICAgICRicm93c2VyLnVybCh1cmwsIHJlcGxhY2UsIHN0YXRlKTtcblxuICAgICAgICAvLyBNYWtlIHN1cmUgJGxvY2F0aW9uLnN0YXRlKCkgcmV0dXJucyByZWZlcmVudGlhbGx5IGlkZW50aWNhbCAobm90IGp1c3QgZGVlcGx5IGVxdWFsKVxuICAgICAgICAvLyBzdGF0ZSBvYmplY3Q7IHRoaXMgbWFrZXMgcG9zc2libGUgcXVpY2sgY2hlY2tpbmcgaWYgdGhlIHN0YXRlIGNoYW5nZWQgaW4gdGhlIGRpZ2VzdFxuICAgICAgICAvLyBsb29wLiBDaGVja2luZyBkZWVwIGVxdWFsaXR5IHdvdWxkIGJlIHRvbyBleHBlbnNpdmUuXG4gICAgICAgICRsb2NhdGlvbi4kJHN0YXRlID0gJGJyb3dzZXIuc3RhdGUoKTtcbiAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgLy8gUmVzdG9yZSBvbGQgdmFsdWVzIGlmIHB1c2hTdGF0ZSBmYWlsc1xuICAgICAgICAkbG9jYXRpb24udXJsKG9sZFVybCk7XG4gICAgICAgICRsb2NhdGlvbi4kJHN0YXRlID0gb2xkU3RhdGU7XG5cbiAgICAgICAgdGhyb3cgZTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAkcm9vdEVsZW1lbnQub24oJ2NsaWNrJywgZnVuY3Rpb24oZXZlbnQpIHtcbiAgICAgIHZhciByZXdyaXRlTGlua3MgPSBodG1sNU1vZGUucmV3cml0ZUxpbmtzO1xuICAgICAgLy8gVE9ETyh2b2p0YSk6IHJld3JpdGUgbGluayB3aGVuIG9wZW5pbmcgaW4gbmV3IHRhYi93aW5kb3cgKGluIGxlZ2FjeSBicm93c2VyKVxuICAgICAgLy8gY3VycmVudGx5IHdlIG9wZW4gbmljZSB1cmwgbGluayBhbmQgcmVkaXJlY3QgdGhlblxuXG4gICAgICBpZiAoIXJld3JpdGVMaW5rcyB8fCBldmVudC5jdHJsS2V5IHx8IGV2ZW50Lm1ldGFLZXkgfHwgZXZlbnQuc2hpZnRLZXkgfHwgZXZlbnQud2hpY2ggPT09IDIgfHwgZXZlbnQuYnV0dG9uID09PSAyKSByZXR1cm47XG5cbiAgICAgIHZhciBlbG0gPSBqcUxpdGUoZXZlbnQudGFyZ2V0KTtcblxuICAgICAgLy8gdHJhdmVyc2UgdGhlIERPTSB1cCB0byBmaW5kIGZpcnN0IEEgdGFnXG4gICAgICB3aGlsZSAobm9kZU5hbWVfKGVsbVswXSkgIT09ICdhJykge1xuICAgICAgICAvLyBpZ25vcmUgcmV3cml0aW5nIGlmIG5vIEEgdGFnIChyZWFjaGVkIHJvb3QgZWxlbWVudCwgb3Igbm8gcGFyZW50IC0gcmVtb3ZlZCBmcm9tIGRvY3VtZW50KVxuICAgICAgICBpZiAoZWxtWzBdID09PSAkcm9vdEVsZW1lbnRbMF0gfHwgIShlbG0gPSBlbG0ucGFyZW50KCkpWzBdKSByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIGlmIChpc1N0cmluZyhyZXdyaXRlTGlua3MpICYmIGlzVW5kZWZpbmVkKGVsbS5hdHRyKHJld3JpdGVMaW5rcykpKSByZXR1cm47XG5cbiAgICAgIHZhciBhYnNIcmVmID0gZWxtLnByb3AoJ2hyZWYnKTtcbiAgICAgIC8vIGdldCB0aGUgYWN0dWFsIGhyZWYgYXR0cmlidXRlIC0gc2VlXG4gICAgICAvLyBodHRwOi8vbXNkbi5taWNyb3NvZnQuY29tL2VuLXVzL2xpYnJhcnkvaWUvZGQzNDcxNDgodj12cy44NSkuYXNweFxuICAgICAgdmFyIHJlbEhyZWYgPSBlbG0uYXR0cignaHJlZicpIHx8IGVsbS5hdHRyKCd4bGluazpocmVmJyk7XG5cbiAgICAgIGlmIChpc09iamVjdChhYnNIcmVmKSAmJiBhYnNIcmVmLnRvU3RyaW5nKCkgPT09ICdbb2JqZWN0IFNWR0FuaW1hdGVkU3RyaW5nXScpIHtcbiAgICAgICAgLy8gU1ZHQW5pbWF0ZWRTdHJpbmcuYW5pbVZhbCBzaG91bGQgYmUgaWRlbnRpY2FsIHRvIFNWR0FuaW1hdGVkU3RyaW5nLmJhc2VWYWwsIHVubGVzcyBkdXJpbmdcbiAgICAgICAgLy8gYW4gYW5pbWF0aW9uLlxuICAgICAgICBhYnNIcmVmID0gdXJsUmVzb2x2ZShhYnNIcmVmLmFuaW1WYWwpLmhyZWY7XG4gICAgICB9XG5cbiAgICAgIC8vIElnbm9yZSB3aGVuIHVybCBpcyBzdGFydGVkIHdpdGggamF2YXNjcmlwdDogb3IgbWFpbHRvOlxuICAgICAgaWYgKElHTk9SRV9VUklfUkVHRVhQLnRlc3QoYWJzSHJlZikpIHJldHVybjtcblxuICAgICAgaWYgKGFic0hyZWYgJiYgIWVsbS5hdHRyKCd0YXJnZXQnKSAmJiAhZXZlbnQuaXNEZWZhdWx0UHJldmVudGVkKCkpIHtcbiAgICAgICAgaWYgKCRsb2NhdGlvbi4kJHBhcnNlTGlua1VybChhYnNIcmVmLCByZWxIcmVmKSkge1xuICAgICAgICAgIC8vIFdlIGRvIGEgcHJldmVudERlZmF1bHQgZm9yIGFsbCB1cmxzIHRoYXQgYXJlIHBhcnQgb2YgdGhlIGFuZ3VsYXIgYXBwbGljYXRpb24sXG4gICAgICAgICAgLy8gaW4gaHRtbDVtb2RlIGFuZCBhbHNvIHdpdGhvdXQsIHNvIHRoYXQgd2UgYXJlIGFibGUgdG8gYWJvcnQgbmF2aWdhdGlvbiB3aXRob3V0XG4gICAgICAgICAgLy8gZ2V0dGluZyBkb3VibGUgZW50cmllcyBpbiB0aGUgbG9jYXRpb24gaGlzdG9yeS5cbiAgICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgIC8vIHVwZGF0ZSBsb2NhdGlvbiBtYW51YWxseVxuICAgICAgICAgIGlmICgkbG9jYXRpb24uYWJzVXJsKCkgIT09ICRicm93c2VyLnVybCgpKSB7XG4gICAgICAgICAgICAkcm9vdFNjb3BlLiRhcHBseSgpO1xuICAgICAgICAgICAgLy8gaGFjayB0byB3b3JrIGFyb3VuZCBGRjYgYnVnIDY4NDIwOCB3aGVuIHNjZW5hcmlvIHJ1bm5lciBjbGlja3Mgb24gbGlua3NcbiAgICAgICAgICAgICR3aW5kb3cuYW5ndWxhclsnZmYtNjg0MjA4LXByZXZlbnREZWZhdWx0J10gPSB0cnVlO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0pO1xuXG5cbiAgICAvLyByZXdyaXRlIGhhc2hiYW5nIHVybCA8PiBodG1sNSB1cmxcbiAgICBpZiAodHJpbUVtcHR5SGFzaCgkbG9jYXRpb24uYWJzVXJsKCkpICE9PSB0cmltRW1wdHlIYXNoKGluaXRpYWxVcmwpKSB7XG4gICAgICAkYnJvd3Nlci51cmwoJGxvY2F0aW9uLmFic1VybCgpLCB0cnVlKTtcbiAgICB9XG5cbiAgICB2YXIgaW5pdGlhbGl6aW5nID0gdHJ1ZTtcblxuICAgIC8vIHVwZGF0ZSAkbG9jYXRpb24gd2hlbiAkYnJvd3NlciB1cmwgY2hhbmdlc1xuICAgICRicm93c2VyLm9uVXJsQ2hhbmdlKGZ1bmN0aW9uKG5ld1VybCwgbmV3U3RhdGUpIHtcblxuICAgICAgaWYgKCFzdGFydHNXaXRoKG5ld1VybCwgYXBwQmFzZU5vRmlsZSkpIHtcbiAgICAgICAgLy8gSWYgd2UgYXJlIG5hdmlnYXRpbmcgb3V0c2lkZSBvZiB0aGUgYXBwIHRoZW4gZm9yY2UgYSByZWxvYWRcbiAgICAgICAgJHdpbmRvdy5sb2NhdGlvbi5ocmVmID0gbmV3VXJsO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgICRyb290U2NvcGUuJGV2YWxBc3luYyhmdW5jdGlvbigpIHtcbiAgICAgICAgdmFyIG9sZFVybCA9ICRsb2NhdGlvbi5hYnNVcmwoKTtcbiAgICAgICAgdmFyIG9sZFN0YXRlID0gJGxvY2F0aW9uLiQkc3RhdGU7XG4gICAgICAgIHZhciBkZWZhdWx0UHJldmVudGVkO1xuICAgICAgICBuZXdVcmwgPSB0cmltRW1wdHlIYXNoKG5ld1VybCk7XG4gICAgICAgICRsb2NhdGlvbi4kJHBhcnNlKG5ld1VybCk7XG4gICAgICAgICRsb2NhdGlvbi4kJHN0YXRlID0gbmV3U3RhdGU7XG5cbiAgICAgICAgZGVmYXVsdFByZXZlbnRlZCA9ICRyb290U2NvcGUuJGJyb2FkY2FzdCgnJGxvY2F0aW9uQ2hhbmdlU3RhcnQnLCBuZXdVcmwsIG9sZFVybCxcbiAgICAgICAgICAgIG5ld1N0YXRlLCBvbGRTdGF0ZSkuZGVmYXVsdFByZXZlbnRlZDtcblxuICAgICAgICAvLyBpZiB0aGUgbG9jYXRpb24gd2FzIGNoYW5nZWQgYnkgYSBgJGxvY2F0aW9uQ2hhbmdlU3RhcnRgIGhhbmRsZXIgdGhlbiBzdG9wXG4gICAgICAgIC8vIHByb2Nlc3NpbmcgdGhpcyBsb2NhdGlvbiBjaGFuZ2VcbiAgICAgICAgaWYgKCRsb2NhdGlvbi5hYnNVcmwoKSAhPT0gbmV3VXJsKSByZXR1cm47XG5cbiAgICAgICAgaWYgKGRlZmF1bHRQcmV2ZW50ZWQpIHtcbiAgICAgICAgICAkbG9jYXRpb24uJCRwYXJzZShvbGRVcmwpO1xuICAgICAgICAgICRsb2NhdGlvbi4kJHN0YXRlID0gb2xkU3RhdGU7XG4gICAgICAgICAgc2V0QnJvd3NlclVybFdpdGhGYWxsYmFjayhvbGRVcmwsIGZhbHNlLCBvbGRTdGF0ZSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgaW5pdGlhbGl6aW5nID0gZmFsc2U7XG4gICAgICAgICAgYWZ0ZXJMb2NhdGlvbkNoYW5nZShvbGRVcmwsIG9sZFN0YXRlKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgICBpZiAoISRyb290U2NvcGUuJCRwaGFzZSkgJHJvb3RTY29wZS4kZGlnZXN0KCk7XG4gICAgfSk7XG5cbiAgICAvLyB1cGRhdGUgYnJvd3NlclxuICAgICRyb290U2NvcGUuJHdhdGNoKGZ1bmN0aW9uICRsb2NhdGlvbldhdGNoKCkge1xuICAgICAgaWYgKGluaXRpYWxpemluZyB8fCAkbG9jYXRpb24uJCR1cmxVcGRhdGVkQnlMb2NhdGlvbikge1xuICAgICAgICAkbG9jYXRpb24uJCR1cmxVcGRhdGVkQnlMb2NhdGlvbiA9IGZhbHNlO1xuXG4gICAgICAgIHZhciBvbGRVcmwgPSB0cmltRW1wdHlIYXNoKCRicm93c2VyLnVybCgpKTtcbiAgICAgICAgdmFyIG5ld1VybCA9IHRyaW1FbXB0eUhhc2goJGxvY2F0aW9uLmFic1VybCgpKTtcbiAgICAgICAgdmFyIG9sZFN0YXRlID0gJGJyb3dzZXIuc3RhdGUoKTtcbiAgICAgICAgdmFyIGN1cnJlbnRSZXBsYWNlID0gJGxvY2F0aW9uLiQkcmVwbGFjZTtcbiAgICAgICAgdmFyIHVybE9yU3RhdGVDaGFuZ2VkID0gb2xkVXJsICE9PSBuZXdVcmwgfHxcbiAgICAgICAgICAoJGxvY2F0aW9uLiQkaHRtbDUgJiYgJHNuaWZmZXIuaGlzdG9yeSAmJiBvbGRTdGF0ZSAhPT0gJGxvY2F0aW9uLiQkc3RhdGUpO1xuXG4gICAgICAgIGlmIChpbml0aWFsaXppbmcgfHwgdXJsT3JTdGF0ZUNoYW5nZWQpIHtcbiAgICAgICAgICBpbml0aWFsaXppbmcgPSBmYWxzZTtcblxuICAgICAgICAgICRyb290U2NvcGUuJGV2YWxBc3luYyhmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHZhciBuZXdVcmwgPSAkbG9jYXRpb24uYWJzVXJsKCk7XG4gICAgICAgICAgICB2YXIgZGVmYXVsdFByZXZlbnRlZCA9ICRyb290U2NvcGUuJGJyb2FkY2FzdCgnJGxvY2F0aW9uQ2hhbmdlU3RhcnQnLCBuZXdVcmwsIG9sZFVybCxcbiAgICAgICAgICAgICAgICAkbG9jYXRpb24uJCRzdGF0ZSwgb2xkU3RhdGUpLmRlZmF1bHRQcmV2ZW50ZWQ7XG5cbiAgICAgICAgICAgIC8vIGlmIHRoZSBsb2NhdGlvbiB3YXMgY2hhbmdlZCBieSBhIGAkbG9jYXRpb25DaGFuZ2VTdGFydGAgaGFuZGxlciB0aGVuIHN0b3BcbiAgICAgICAgICAgIC8vIHByb2Nlc3NpbmcgdGhpcyBsb2NhdGlvbiBjaGFuZ2VcbiAgICAgICAgICAgIGlmICgkbG9jYXRpb24uYWJzVXJsKCkgIT09IG5ld1VybCkgcmV0dXJuO1xuXG4gICAgICAgICAgICBpZiAoZGVmYXVsdFByZXZlbnRlZCkge1xuICAgICAgICAgICAgICAkbG9jYXRpb24uJCRwYXJzZShvbGRVcmwpO1xuICAgICAgICAgICAgICAkbG9jYXRpb24uJCRzdGF0ZSA9IG9sZFN0YXRlO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgaWYgKHVybE9yU3RhdGVDaGFuZ2VkKSB7XG4gICAgICAgICAgICAgICAgc2V0QnJvd3NlclVybFdpdGhGYWxsYmFjayhuZXdVcmwsIGN1cnJlbnRSZXBsYWNlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb2xkU3RhdGUgPT09ICRsb2NhdGlvbi4kJHN0YXRlID8gbnVsbCA6ICRsb2NhdGlvbi4kJHN0YXRlKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICBhZnRlckxvY2F0aW9uQ2hhbmdlKG9sZFVybCwgb2xkU3RhdGUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgICRsb2NhdGlvbi4kJHJlcGxhY2UgPSBmYWxzZTtcblxuICAgICAgLy8gd2UgZG9uJ3QgbmVlZCB0byByZXR1cm4gYW55dGhpbmcgYmVjYXVzZSAkZXZhbEFzeW5jIHdpbGwgbWFrZSB0aGUgZGlnZXN0IGxvb3AgZGlydHkgd2hlblxuICAgICAgLy8gdGhlcmUgaXMgYSBjaGFuZ2VcbiAgICB9KTtcblxuICAgIHJldHVybiAkbG9jYXRpb247XG5cbiAgICBmdW5jdGlvbiBhZnRlckxvY2F0aW9uQ2hhbmdlKG9sZFVybCwgb2xkU3RhdGUpIHtcbiAgICAgICRyb290U2NvcGUuJGJyb2FkY2FzdCgnJGxvY2F0aW9uQ2hhbmdlU3VjY2VzcycsICRsb2NhdGlvbi5hYnNVcmwoKSwgb2xkVXJsLFxuICAgICAgICAkbG9jYXRpb24uJCRzdGF0ZSwgb2xkU3RhdGUpO1xuICAgIH1cbn1dO1xufVxuXG4vKipcbiAqIEBuZ2RvYyBzZXJ2aWNlXG4gKiBAbmFtZSAkbG9nXG4gKiBAcmVxdWlyZXMgJHdpbmRvd1xuICpcbiAqIEBkZXNjcmlwdGlvblxuICogU2ltcGxlIHNlcnZpY2UgZm9yIGxvZ2dpbmcuIERlZmF1bHQgaW1wbGVtZW50YXRpb24gc2FmZWx5IHdyaXRlcyB0aGUgbWVzc2FnZVxuICogaW50byB0aGUgYnJvd3NlcidzIGNvbnNvbGUgKGlmIHByZXNlbnQpLlxuICpcbiAqIFRoZSBtYWluIHB1cnBvc2Ugb2YgdGhpcyBzZXJ2aWNlIGlzIHRvIHNpbXBsaWZ5IGRlYnVnZ2luZyBhbmQgdHJvdWJsZXNob290aW5nLlxuICpcbiAqIFRoZSBkZWZhdWx0IGlzIHRvIGxvZyBgZGVidWdgIG1lc3NhZ2VzLiBZb3UgY2FuIHVzZVxuICoge0BsaW5rIG5nLiRsb2dQcm92aWRlciBuZy4kbG9nUHJvdmlkZXIjZGVidWdFbmFibGVkfSB0byBjaGFuZ2UgdGhpcy5cbiAqXG4gKiBAZXhhbXBsZVxuICAgPGV4YW1wbGUgbW9kdWxlPVwibG9nRXhhbXBsZVwiIG5hbWU9XCJsb2ctc2VydmljZVwiPlxuICAgICA8ZmlsZSBuYW1lPVwic2NyaXB0LmpzXCI+XG4gICAgICAgYW5ndWxhci5tb2R1bGUoJ2xvZ0V4YW1wbGUnLCBbXSlcbiAgICAgICAgIC5jb250cm9sbGVyKCdMb2dDb250cm9sbGVyJywgWyckc2NvcGUnLCAnJGxvZycsIGZ1bmN0aW9uKCRzY29wZSwgJGxvZykge1xuICAgICAgICAgICAkc2NvcGUuJGxvZyA9ICRsb2c7XG4gICAgICAgICAgICRzY29wZS5tZXNzYWdlID0gJ0hlbGxvIFdvcmxkISc7XG4gICAgICAgICB9XSk7XG4gICAgIDwvZmlsZT5cbiAgICAgPGZpbGUgbmFtZT1cImluZGV4Lmh0bWxcIj5cbiAgICAgICA8ZGl2IG5nLWNvbnRyb2xsZXI9XCJMb2dDb250cm9sbGVyXCI+XG4gICAgICAgICA8cD5SZWxvYWQgdGhpcyBwYWdlIHdpdGggb3BlbiBjb25zb2xlLCBlbnRlciB0ZXh0IGFuZCBoaXQgdGhlIGxvZyBidXR0b24uLi48L3A+XG4gICAgICAgICA8bGFiZWw+TWVzc2FnZTpcbiAgICAgICAgIDxpbnB1dCB0eXBlPVwidGV4dFwiIG5nLW1vZGVsPVwibWVzc2FnZVwiIC8+PC9sYWJlbD5cbiAgICAgICAgIDxidXR0b24gbmctY2xpY2s9XCIkbG9nLmxvZyhtZXNzYWdlKVwiPmxvZzwvYnV0dG9uPlxuICAgICAgICAgPGJ1dHRvbiBuZy1jbGljaz1cIiRsb2cud2FybihtZXNzYWdlKVwiPndhcm48L2J1dHRvbj5cbiAgICAgICAgIDxidXR0b24gbmctY2xpY2s9XCIkbG9nLmluZm8obWVzc2FnZSlcIj5pbmZvPC9idXR0b24+XG4gICAgICAgICA8YnV0dG9uIG5nLWNsaWNrPVwiJGxvZy5lcnJvcihtZXNzYWdlKVwiPmVycm9yPC9idXR0b24+XG4gICAgICAgICA8YnV0dG9uIG5nLWNsaWNrPVwiJGxvZy5kZWJ1ZyhtZXNzYWdlKVwiPmRlYnVnPC9idXR0b24+XG4gICAgICAgPC9kaXY+XG4gICAgIDwvZmlsZT5cbiAgIDwvZXhhbXBsZT5cbiAqL1xuXG4vKipcbiAqIEBuZ2RvYyBwcm92aWRlclxuICogQG5hbWUgJGxvZ1Byb3ZpZGVyXG4gKiBAdGhpc1xuICpcbiAqIEBkZXNjcmlwdGlvblxuICogVXNlIHRoZSBgJGxvZ1Byb3ZpZGVyYCB0byBjb25maWd1cmUgaG93IHRoZSBhcHBsaWNhdGlvbiBsb2dzIG1lc3NhZ2VzXG4gKi9cbmZ1bmN0aW9uICRMb2dQcm92aWRlcigpIHtcbiAgdmFyIGRlYnVnID0gdHJ1ZSxcbiAgICAgIHNlbGYgPSB0aGlzO1xuXG4gIC8qKlxuICAgKiBAbmdkb2MgbWV0aG9kXG4gICAqIEBuYW1lICRsb2dQcm92aWRlciNkZWJ1Z0VuYWJsZWRcbiAgICogQGRlc2NyaXB0aW9uXG4gICAqIEBwYXJhbSB7Ym9vbGVhbj19IGZsYWcgZW5hYmxlIG9yIGRpc2FibGUgZGVidWcgbGV2ZWwgbWVzc2FnZXNcbiAgICogQHJldHVybnMgeyp9IGN1cnJlbnQgdmFsdWUgaWYgdXNlZCBhcyBnZXR0ZXIgb3IgaXRzZWxmIChjaGFpbmluZykgaWYgdXNlZCBhcyBzZXR0ZXJcbiAgICovXG4gIHRoaXMuZGVidWdFbmFibGVkID0gZnVuY3Rpb24oZmxhZykge1xuICAgIGlmIChpc0RlZmluZWQoZmxhZykpIHtcbiAgICAgIGRlYnVnID0gZmxhZztcbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gZGVidWc7XG4gICAgfVxuICB9O1xuXG4gIHRoaXMuJGdldCA9IFsnJHdpbmRvdycsIGZ1bmN0aW9uKCR3aW5kb3cpIHtcbiAgICAvLyBTdXBwb3J0OiBJRSA5LTExLCBFZGdlIDEyLTE0K1xuICAgIC8vIElFL0VkZ2UgZGlzcGxheSBlcnJvcnMgaW4gc3VjaCBhIHdheSB0aGF0IGl0IHJlcXVpcmVzIHRoZSB1c2VyIHRvIGNsaWNrIGluIDQgcGxhY2VzXG4gICAgLy8gdG8gc2VlIHRoZSBzdGFjayB0cmFjZS4gVGhlcmUgaXMgbm8gd2F5IHRvIGZlYXR1cmUtZGV0ZWN0IGl0IHNvIHRoZXJlJ3MgYSBjaGFuY2VcbiAgICAvLyBvZiB0aGUgdXNlciBhZ2VudCBzbmlmZmluZyB0byBnbyB3cm9uZyBidXQgc2luY2UgaXQncyBvbmx5IGFib3V0IGxvZ2dpbmcsIHRoaXMgc2hvdWxkbid0XG4gICAgLy8gYnJlYWsgYXBwcy4gT3RoZXIgYnJvd3NlcnMgZGlzcGxheSBlcnJvcnMgaW4gYSBzZW5zaWJsZSB3YXkgYW5kIHNvbWUgb2YgdGhlbSBtYXAgc3RhY2tcbiAgICAvLyB0cmFjZXMgYWxvbmcgc291cmNlIG1hcHMgaWYgYXZhaWxhYmxlIHNvIGl0IG1ha2VzIHNlbnNlIHRvIGxldCBicm93c2VycyBkaXNwbGF5IGl0XG4gICAgLy8gYXMgdGhleSB3YW50LlxuICAgIHZhciBmb3JtYXRTdGFja1RyYWNlID0gbXNpZSB8fCAvXFxiRWRnZVxcLy8udGVzdCgkd2luZG93Lm5hdmlnYXRvciAmJiAkd2luZG93Lm5hdmlnYXRvci51c2VyQWdlbnQpO1xuXG4gICAgcmV0dXJuIHtcbiAgICAgIC8qKlxuICAgICAgICogQG5nZG9jIG1ldGhvZFxuICAgICAgICogQG5hbWUgJGxvZyNsb2dcbiAgICAgICAqXG4gICAgICAgKiBAZGVzY3JpcHRpb25cbiAgICAgICAqIFdyaXRlIGEgbG9nIG1lc3NhZ2VcbiAgICAgICAqL1xuICAgICAgbG9nOiBjb25zb2xlTG9nKCdsb2cnKSxcblxuICAgICAgLyoqXG4gICAgICAgKiBAbmdkb2MgbWV0aG9kXG4gICAgICAgKiBAbmFtZSAkbG9nI2luZm9cbiAgICAgICAqXG4gICAgICAgKiBAZGVzY3JpcHRpb25cbiAgICAgICAqIFdyaXRlIGFuIGluZm9ybWF0aW9uIG1lc3NhZ2VcbiAgICAgICAqL1xuICAgICAgaW5mbzogY29uc29sZUxvZygnaW5mbycpLFxuXG4gICAgICAvKipcbiAgICAgICAqIEBuZ2RvYyBtZXRob2RcbiAgICAgICAqIEBuYW1lICRsb2cjd2FyblxuICAgICAgICpcbiAgICAgICAqIEBkZXNjcmlwdGlvblxuICAgICAgICogV3JpdGUgYSB3YXJuaW5nIG1lc3NhZ2VcbiAgICAgICAqL1xuICAgICAgd2FybjogY29uc29sZUxvZygnd2FybicpLFxuXG4gICAgICAvKipcbiAgICAgICAqIEBuZ2RvYyBtZXRob2RcbiAgICAgICAqIEBuYW1lICRsb2cjZXJyb3JcbiAgICAgICAqXG4gICAgICAgKiBAZGVzY3JpcHRpb25cbiAgICAgICAqIFdyaXRlIGFuIGVycm9yIG1lc3NhZ2VcbiAgICAgICAqL1xuICAgICAgZXJyb3I6IGNvbnNvbGVMb2coJ2Vycm9yJyksXG5cbiAgICAgIC8qKlxuICAgICAgICogQG5nZG9jIG1ldGhvZFxuICAgICAgICogQG5hbWUgJGxvZyNkZWJ1Z1xuICAgICAgICpcbiAgICAgICAqIEBkZXNjcmlwdGlvblxuICAgICAgICogV3JpdGUgYSBkZWJ1ZyBtZXNzYWdlXG4gICAgICAgKi9cbiAgICAgIGRlYnVnOiAoZnVuY3Rpb24oKSB7XG4gICAgICAgIHZhciBmbiA9IGNvbnNvbGVMb2coJ2RlYnVnJyk7XG5cbiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uKCkge1xuICAgICAgICAgIGlmIChkZWJ1Zykge1xuICAgICAgICAgICAgZm4uYXBwbHkoc2VsZiwgYXJndW1lbnRzKTtcbiAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICB9KSgpXG4gICAgfTtcblxuICAgIGZ1bmN0aW9uIGZvcm1hdEVycm9yKGFyZykge1xuICAgICAgaWYgKGFyZyBpbnN0YW5jZW9mIEVycm9yKSB7XG4gICAgICAgIGlmIChhcmcuc3RhY2sgJiYgZm9ybWF0U3RhY2tUcmFjZSkge1xuICAgICAgICAgIGFyZyA9IChhcmcubWVzc2FnZSAmJiBhcmcuc3RhY2suaW5kZXhPZihhcmcubWVzc2FnZSkgPT09IC0xKVxuICAgICAgICAgICAgICA/ICdFcnJvcjogJyArIGFyZy5tZXNzYWdlICsgJ1xcbicgKyBhcmcuc3RhY2tcbiAgICAgICAgICAgICAgOiBhcmcuc3RhY2s7XG4gICAgICAgIH0gZWxzZSBpZiAoYXJnLnNvdXJjZVVSTCkge1xuICAgICAgICAgIGFyZyA9IGFyZy5tZXNzYWdlICsgJ1xcbicgKyBhcmcuc291cmNlVVJMICsgJzonICsgYXJnLmxpbmU7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiBhcmc7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gY29uc29sZUxvZyh0eXBlKSB7XG4gICAgICB2YXIgY29uc29sZSA9ICR3aW5kb3cuY29uc29sZSB8fCB7fSxcbiAgICAgICAgICBsb2dGbiA9IGNvbnNvbGVbdHlwZV0gfHwgY29uc29sZS5sb2cgfHwgbm9vcCxcbiAgICAgICAgICBoYXNBcHBseSA9IGZhbHNlO1xuXG4gICAgICAvLyBOb3RlOiByZWFkaW5nIGxvZ0ZuLmFwcGx5IHRocm93cyBhbiBlcnJvciBpbiBJRTExIGluIElFOCBkb2N1bWVudCBtb2RlLlxuICAgICAgLy8gVGhlIHJlYXNvbiBiZWhpbmQgdGhpcyBpcyB0aGF0IGNvbnNvbGUubG9nIGhhcyB0eXBlIFwib2JqZWN0XCIgaW4gSUU4Li4uXG4gICAgICB0cnkge1xuICAgICAgICBoYXNBcHBseSA9ICEhbG9nRm4uYXBwbHk7XG4gICAgICB9IGNhdGNoIChlKSB7IC8qIGVtcHR5ICovIH1cblxuICAgICAgaWYgKGhhc0FwcGx5KSB7XG4gICAgICAgIHJldHVybiBmdW5jdGlvbigpIHtcbiAgICAgICAgICB2YXIgYXJncyA9IFtdO1xuICAgICAgICAgIGZvckVhY2goYXJndW1lbnRzLCBmdW5jdGlvbihhcmcpIHtcbiAgICAgICAgICAgIGFyZ3MucHVzaChmb3JtYXRFcnJvcihhcmcpKTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgICByZXR1cm4gbG9nRm4uYXBwbHkoY29uc29sZSwgYXJncyk7XG4gICAgICAgIH07XG4gICAgICB9XG5cbiAgICAgIC8vIHdlIGFyZSBJRSB3aGljaCBlaXRoZXIgZG9lc24ndCBoYXZlIHdpbmRvdy5jb25zb2xlID0+IHRoaXMgaXMgbm9vcCBhbmQgd2UgZG8gbm90aGluZyxcbiAgICAgIC8vIG9yIHdlIGFyZSBJRSB3aGVyZSBjb25zb2xlLmxvZyBkb2Vzbid0IGhhdmUgYXBwbHkgc28gd2UgbG9nIGF0IGxlYXN0IGZpcnN0IDIgYXJnc1xuICAgICAgcmV0dXJuIGZ1bmN0aW9uKGFyZzEsIGFyZzIpIHtcbiAgICAgICAgbG9nRm4oYXJnMSwgYXJnMiA9PSBudWxsID8gJycgOiBhcmcyKTtcbiAgICAgIH07XG4gICAgfVxuICB9XTtcbn1cblxuLyogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKlxuICogICAgIEFueSBjb21taXRzIHRvIHRoaXMgZmlsZSBzaG91bGQgYmUgcmV2aWV3ZWQgd2l0aCBzZWN1cml0eSBpbiBtaW5kLiAgKlxuICogICBDaGFuZ2VzIHRvIHRoaXMgZmlsZSBjYW4gcG90ZW50aWFsbHkgY3JlYXRlIHNlY3VyaXR5IHZ1bG5lcmFiaWxpdGllcy4gKlxuICogICAgICAgICAgQW4gYXBwcm92YWwgZnJvbSAyIENvcmUgbWVtYmVycyB3aXRoIGhpc3Rvcnkgb2YgbW9kaWZ5aW5nICAgICAgKlxuICogICAgICAgICAgICAgICAgICAgICAgICAgdGhpcyBmaWxlIGlzIHJlcXVpcmVkLiAgICAgICAgICAgICAgICAgICAgICAgICAgKlxuICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKlxuICogIERvZXMgdGhlIGNoYW5nZSBzb21laG93IGFsbG93IGZvciBhcmJpdHJhcnkgamF2YXNjcmlwdCB0byBiZSBleGVjdXRlZD8gKlxuICogICAgT3IgYWxsb3dzIGZvciBzb21lb25lIHRvIGNoYW5nZSB0aGUgcHJvdG90eXBlIG9mIGJ1aWx0LWluIG9iamVjdHM/ICAgKlxuICogICAgIE9yIGdpdmVzIHVuZGVzaXJlZCBhY2Nlc3MgdG8gdmFyaWFibGVzIGxpa2VzIGRvY3VtZW50IG9yIHdpbmRvdz8gICAgKlxuICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKi9cblxudmFyICRwYXJzZU1pbkVyciA9IG1pbkVycignJHBhcnNlJyk7XG5cbnZhciBvYmplY3RWYWx1ZU9mID0ge30uY29uc3RydWN0b3IucHJvdG90eXBlLnZhbHVlT2Y7XG5cbi8vIFNhbmRib3hpbmcgQW5ndWxhciBFeHByZXNzaW9uc1xuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4vLyBBbmd1bGFyIGV4cHJlc3Npb25zIGFyZSBubyBsb25nZXIgc2FuZGJveGVkLiBTbyBpdCBpcyBub3cgZXZlbiBlYXNpZXIgdG8gYWNjZXNzIGFyYml0cmFyeSBKUyBjb2RlIGJ5XG4vLyB2YXJpb3VzIG1lYW5zIHN1Y2ggYXMgb2J0YWluaW5nIGEgcmVmZXJlbmNlIHRvIG5hdGl2ZSBKUyBmdW5jdGlvbnMgbGlrZSB0aGUgRnVuY3Rpb24gY29uc3RydWN0b3IuXG4vL1xuLy8gQXMgYW4gZXhhbXBsZSwgY29uc2lkZXIgdGhlIGZvbGxvd2luZyBBbmd1bGFyIGV4cHJlc3Npb246XG4vL1xuLy8gICB7fS50b1N0cmluZy5jb25zdHJ1Y3RvcignYWxlcnQoXCJldmlsIEpTIGNvZGVcIiknKVxuLy9cbi8vIEl0IGlzIGltcG9ydGFudCB0byByZWFsaXplIHRoYXQgaWYgeW91IGNyZWF0ZSBhbiBleHByZXNzaW9uIGZyb20gYSBzdHJpbmcgdGhhdCBjb250YWlucyB1c2VyIHByb3ZpZGVkXG4vLyBjb250ZW50IHRoZW4gaXQgaXMgcG9zc2libGUgdGhhdCB5b3VyIGFwcGxpY2F0aW9uIGNvbnRhaW5zIGEgc2VjdXJpdHkgdnVsbmVyYWJpbGl0eSB0byBhbiBYU1Mgc3R5bGUgYXR0YWNrLlxuLy9cbi8vIFNlZSBodHRwczovL2RvY3MuYW5ndWxhcmpzLm9yZy9ndWlkZS9zZWN1cml0eVxuXG5cbmZ1bmN0aW9uIGdldFN0cmluZ1ZhbHVlKG5hbWUpIHtcbiAgLy8gUHJvcGVydHkgbmFtZXMgbXVzdCBiZSBzdHJpbmdzLiBUaGlzIG1lYW5zIHRoYXQgbm9uLXN0cmluZyBvYmplY3RzIGNhbm5vdCBiZSB1c2VkXG4gIC8vIGFzIGtleXMgaW4gYW4gb2JqZWN0LiBBbnkgbm9uLXN0cmluZyBvYmplY3QsIGluY2x1ZGluZyBhIG51bWJlciwgaXMgdHlwZWNhc3RlZFxuICAvLyBpbnRvIGEgc3RyaW5nIHZpYSB0aGUgdG9TdHJpbmcgbWV0aG9kLlxuICAvLyAtLSBNRE4sIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuL2RvY3MvV2ViL0phdmFTY3JpcHQvUmVmZXJlbmNlL09wZXJhdG9ycy9Qcm9wZXJ0eV9hY2Nlc3NvcnMjUHJvcGVydHlfbmFtZXNcbiAgLy9cbiAgLy8gU28sIHRvIGVuc3VyZSB0aGF0IHdlIGFyZSBjaGVja2luZyB0aGUgc2FtZSBgbmFtZWAgdGhhdCBKYXZhU2NyaXB0IHdvdWxkIHVzZSwgd2UgY2FzdCBpdFxuICAvLyB0byBhIHN0cmluZy4gSXQncyBub3QgYWx3YXlzIHBvc3NpYmxlLiBJZiBgbmFtZWAgaXMgYW4gb2JqZWN0IGFuZCBpdHMgYHRvU3RyaW5nYCBtZXRob2QgaXNcbiAgLy8gJ2Jyb2tlbicgKGRvZXNuJ3QgcmV0dXJuIGEgc3RyaW5nLCBpc24ndCBhIGZ1bmN0aW9uLCBldGMuKSwgYW4gZXJyb3Igd2lsbCBiZSB0aHJvd246XG4gIC8vXG4gIC8vIFR5cGVFcnJvcjogQ2Fubm90IGNvbnZlcnQgb2JqZWN0IHRvIHByaW1pdGl2ZSB2YWx1ZVxuICAvL1xuICAvLyBGb3IgcGVyZm9ybWFuY2UgcmVhc29ucywgd2UgZG9uJ3QgY2F0Y2ggdGhpcyBlcnJvciBoZXJlIGFuZCBhbGxvdyBpdCB0byBwcm9wYWdhdGUgdXAgdGhlIGNhbGxcbiAgLy8gc3RhY2suIE5vdGUgdGhhdCB5b3UnbGwgZ2V0IHRoZSBzYW1lIGVycm9yIGluIEphdmFTY3JpcHQgaWYgeW91IHRyeSB0byBhY2Nlc3MgYSBwcm9wZXJ0eSB1c2luZ1xuICAvLyBzdWNoIGEgJ2Jyb2tlbicgb2JqZWN0IGFzIGEga2V5LlxuICByZXR1cm4gbmFtZSArICcnO1xufVxuXG5cbnZhciBPUEVSQVRPUlMgPSBjcmVhdGVNYXAoKTtcbmZvckVhY2goJysgLSAqIC8gJSA9PT0gIT09ID09ICE9IDwgPiA8PSA+PSAmJiB8fCAhID0gfCcuc3BsaXQoJyAnKSwgZnVuY3Rpb24ob3BlcmF0b3IpIHsgT1BFUkFUT1JTW29wZXJhdG9yXSA9IHRydWU7IH0pO1xudmFyIEVTQ0FQRSA9IHsnbic6J1xcbicsICdmJzonXFxmJywgJ3InOidcXHInLCAndCc6J1xcdCcsICd2JzonXFx2JywgJ1xcJyc6J1xcJycsICdcIic6J1wiJ307XG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cblxuXG4vKipcbiAqIEBjb25zdHJ1Y3RvclxuICovXG52YXIgTGV4ZXIgPSBmdW5jdGlvbiBMZXhlcihvcHRpb25zKSB7XG4gIHRoaXMub3B0aW9ucyA9IG9wdGlvbnM7XG59O1xuXG5MZXhlci5wcm90b3R5cGUgPSB7XG4gIGNvbnN0cnVjdG9yOiBMZXhlcixcblxuICBsZXg6IGZ1bmN0aW9uKHRleHQpIHtcbiAgICB0aGlzLnRleHQgPSB0ZXh0O1xuICAgIHRoaXMuaW5kZXggPSAwO1xuICAgIHRoaXMudG9rZW5zID0gW107XG5cbiAgICB3aGlsZSAodGhpcy5pbmRleCA8IHRoaXMudGV4dC5sZW5ndGgpIHtcbiAgICAgIHZhciBjaCA9IHRoaXMudGV4dC5jaGFyQXQodGhpcy5pbmRleCk7XG4gICAgICBpZiAoY2ggPT09ICdcIicgfHwgY2ggPT09ICdcXCcnKSB7XG4gICAgICAgIHRoaXMucmVhZFN0cmluZyhjaCk7XG4gICAgICB9IGVsc2UgaWYgKHRoaXMuaXNOdW1iZXIoY2gpIHx8IGNoID09PSAnLicgJiYgdGhpcy5pc051bWJlcih0aGlzLnBlZWsoKSkpIHtcbiAgICAgICAgdGhpcy5yZWFkTnVtYmVyKCk7XG4gICAgICB9IGVsc2UgaWYgKHRoaXMuaXNJZGVudGlmaWVyU3RhcnQodGhpcy5wZWVrTXVsdGljaGFyKCkpKSB7XG4gICAgICAgIHRoaXMucmVhZElkZW50KCk7XG4gICAgICB9IGVsc2UgaWYgKHRoaXMuaXMoY2gsICcoKXt9W10uLDs6PycpKSB7XG4gICAgICAgIHRoaXMudG9rZW5zLnB1c2goe2luZGV4OiB0aGlzLmluZGV4LCB0ZXh0OiBjaH0pO1xuICAgICAgICB0aGlzLmluZGV4Kys7XG4gICAgICB9IGVsc2UgaWYgKHRoaXMuaXNXaGl0ZXNwYWNlKGNoKSkge1xuICAgICAgICB0aGlzLmluZGV4Kys7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB2YXIgY2gyID0gY2ggKyB0aGlzLnBlZWsoKTtcbiAgICAgICAgdmFyIGNoMyA9IGNoMiArIHRoaXMucGVlaygyKTtcbiAgICAgICAgdmFyIG9wMSA9IE9QRVJBVE9SU1tjaF07XG4gICAgICAgIHZhciBvcDIgPSBPUEVSQVRPUlNbY2gyXTtcbiAgICAgICAgdmFyIG9wMyA9IE9QRVJBVE9SU1tjaDNdO1xuICAgICAgICBpZiAob3AxIHx8IG9wMiB8fCBvcDMpIHtcbiAgICAgICAgICB2YXIgdG9rZW4gPSBvcDMgPyBjaDMgOiAob3AyID8gY2gyIDogY2gpO1xuICAgICAgICAgIHRoaXMudG9rZW5zLnB1c2goe2luZGV4OiB0aGlzLmluZGV4LCB0ZXh0OiB0b2tlbiwgb3BlcmF0b3I6IHRydWV9KTtcbiAgICAgICAgICB0aGlzLmluZGV4ICs9IHRva2VuLmxlbmd0aDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB0aGlzLnRocm93RXJyb3IoJ1VuZXhwZWN0ZWQgbmV4dCBjaGFyYWN0ZXIgJywgdGhpcy5pbmRleCwgdGhpcy5pbmRleCArIDEpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiB0aGlzLnRva2VucztcbiAgfSxcblxuICBpczogZnVuY3Rpb24oY2gsIGNoYXJzKSB7XG4gICAgcmV0dXJuIGNoYXJzLmluZGV4T2YoY2gpICE9PSAtMTtcbiAgfSxcblxuICBwZWVrOiBmdW5jdGlvbihpKSB7XG4gICAgdmFyIG51bSA9IGkgfHwgMTtcbiAgICByZXR1cm4gKHRoaXMuaW5kZXggKyBudW0gPCB0aGlzLnRleHQubGVuZ3RoKSA/IHRoaXMudGV4dC5jaGFyQXQodGhpcy5pbmRleCArIG51bSkgOiBmYWxzZTtcbiAgfSxcblxuICBpc051bWJlcjogZnVuY3Rpb24oY2gpIHtcbiAgICByZXR1cm4gKCcwJyA8PSBjaCAmJiBjaCA8PSAnOScpICYmIHR5cGVvZiBjaCA9PT0gJ3N0cmluZyc7XG4gIH0sXG5cbiAgaXNXaGl0ZXNwYWNlOiBmdW5jdGlvbihjaCkge1xuICAgIC8vIElFIHRyZWF0cyBub24tYnJlYWtpbmcgc3BhY2UgYXMgXFx1MDBBMFxuICAgIHJldHVybiAoY2ggPT09ICcgJyB8fCBjaCA9PT0gJ1xccicgfHwgY2ggPT09ICdcXHQnIHx8XG4gICAgICAgICAgICBjaCA9PT0gJ1xcbicgfHwgY2ggPT09ICdcXHYnIHx8IGNoID09PSAnXFx1MDBBMCcpO1xuICB9LFxuXG4gIGlzSWRlbnRpZmllclN0YXJ0OiBmdW5jdGlvbihjaCkge1xuICAgIHJldHVybiB0aGlzLm9wdGlvbnMuaXNJZGVudGlmaWVyU3RhcnQgP1xuICAgICAgICB0aGlzLm9wdGlvbnMuaXNJZGVudGlmaWVyU3RhcnQoY2gsIHRoaXMuY29kZVBvaW50QXQoY2gpKSA6XG4gICAgICAgIHRoaXMuaXNWYWxpZElkZW50aWZpZXJTdGFydChjaCk7XG4gIH0sXG5cbiAgaXNWYWxpZElkZW50aWZpZXJTdGFydDogZnVuY3Rpb24oY2gpIHtcbiAgICByZXR1cm4gKCdhJyA8PSBjaCAmJiBjaCA8PSAneicgfHxcbiAgICAgICAgICAgICdBJyA8PSBjaCAmJiBjaCA8PSAnWicgfHxcbiAgICAgICAgICAgICdfJyA9PT0gY2ggfHwgY2ggPT09ICckJyk7XG4gIH0sXG5cbiAgaXNJZGVudGlmaWVyQ29udGludWU6IGZ1bmN0aW9uKGNoKSB7XG4gICAgcmV0dXJuIHRoaXMub3B0aW9ucy5pc0lkZW50aWZpZXJDb250aW51ZSA/XG4gICAgICAgIHRoaXMub3B0aW9ucy5pc0lkZW50aWZpZXJDb250aW51ZShjaCwgdGhpcy5jb2RlUG9pbnRBdChjaCkpIDpcbiAgICAgICAgdGhpcy5pc1ZhbGlkSWRlbnRpZmllckNvbnRpbnVlKGNoKTtcbiAgfSxcblxuICBpc1ZhbGlkSWRlbnRpZmllckNvbnRpbnVlOiBmdW5jdGlvbihjaCwgY3ApIHtcbiAgICByZXR1cm4gdGhpcy5pc1ZhbGlkSWRlbnRpZmllclN0YXJ0KGNoLCBjcCkgfHwgdGhpcy5pc051bWJlcihjaCk7XG4gIH0sXG5cbiAgY29kZVBvaW50QXQ6IGZ1bmN0aW9uKGNoKSB7XG4gICAgaWYgKGNoLmxlbmd0aCA9PT0gMSkgcmV0dXJuIGNoLmNoYXJDb2RlQXQoMCk7XG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLWJpdHdpc2VcbiAgICByZXR1cm4gKGNoLmNoYXJDb2RlQXQoMCkgPDwgMTApICsgY2guY2hhckNvZGVBdCgxKSAtIDB4MzVGREMwMDtcbiAgfSxcblxuICBwZWVrTXVsdGljaGFyOiBmdW5jdGlvbigpIHtcbiAgICB2YXIgY2ggPSB0aGlzLnRleHQuY2hhckF0KHRoaXMuaW5kZXgpO1xuICAgIHZhciBwZWVrID0gdGhpcy5wZWVrKCk7XG4gICAgaWYgKCFwZWVrKSB7XG4gICAgICByZXR1cm4gY2g7XG4gICAgfVxuICAgIHZhciBjcDEgPSBjaC5jaGFyQ29kZUF0KDApO1xuICAgIHZhciBjcDIgPSBwZWVrLmNoYXJDb2RlQXQoMCk7XG4gICAgaWYgKGNwMSA+PSAweEQ4MDAgJiYgY3AxIDw9IDB4REJGRiAmJiBjcDIgPj0gMHhEQzAwICYmIGNwMiA8PSAweERGRkYpIHtcbiAgICAgIHJldHVybiBjaCArIHBlZWs7XG4gICAgfVxuICAgIHJldHVybiBjaDtcbiAgfSxcblxuICBpc0V4cE9wZXJhdG9yOiBmdW5jdGlvbihjaCkge1xuICAgIHJldHVybiAoY2ggPT09ICctJyB8fCBjaCA9PT0gJysnIHx8IHRoaXMuaXNOdW1iZXIoY2gpKTtcbiAgfSxcblxuICB0aHJvd0Vycm9yOiBmdW5jdGlvbihlcnJvciwgc3RhcnQsIGVuZCkge1xuICAgIGVuZCA9IGVuZCB8fCB0aGlzLmluZGV4O1xuICAgIHZhciBjb2xTdHIgPSAoaXNEZWZpbmVkKHN0YXJ0KVxuICAgICAgICAgICAgPyAncyAnICsgc3RhcnQgKyAgJy0nICsgdGhpcy5pbmRleCArICcgWycgKyB0aGlzLnRleHQuc3Vic3RyaW5nKHN0YXJ0LCBlbmQpICsgJ10nXG4gICAgICAgICAgICA6ICcgJyArIGVuZCk7XG4gICAgdGhyb3cgJHBhcnNlTWluRXJyKCdsZXhlcnInLCAnTGV4ZXIgRXJyb3I6IHswfSBhdCBjb2x1bW57MX0gaW4gZXhwcmVzc2lvbiBbezJ9XS4nLFxuICAgICAgICBlcnJvciwgY29sU3RyLCB0aGlzLnRleHQpO1xuICB9LFxuXG4gIHJlYWROdW1iZXI6IGZ1bmN0aW9uKCkge1xuICAgIHZhciBudW1iZXIgPSAnJztcbiAgICB2YXIgc3RhcnQgPSB0aGlzLmluZGV4O1xuICAgIHdoaWxlICh0aGlzLmluZGV4IDwgdGhpcy50ZXh0Lmxlbmd0aCkge1xuICAgICAgdmFyIGNoID0gbG93ZXJjYXNlKHRoaXMudGV4dC5jaGFyQXQodGhpcy5pbmRleCkpO1xuICAgICAgaWYgKGNoID09PSAnLicgfHwgdGhpcy5pc051bWJlcihjaCkpIHtcbiAgICAgICAgbnVtYmVyICs9IGNoO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdmFyIHBlZWtDaCA9IHRoaXMucGVlaygpO1xuICAgICAgICBpZiAoY2ggPT09ICdlJyAmJiB0aGlzLmlzRXhwT3BlcmF0b3IocGVla0NoKSkge1xuICAgICAgICAgIG51bWJlciArPSBjaDtcbiAgICAgICAgfSBlbHNlIGlmICh0aGlzLmlzRXhwT3BlcmF0b3IoY2gpICYmXG4gICAgICAgICAgICBwZWVrQ2ggJiYgdGhpcy5pc051bWJlcihwZWVrQ2gpICYmXG4gICAgICAgICAgICBudW1iZXIuY2hhckF0KG51bWJlci5sZW5ndGggLSAxKSA9PT0gJ2UnKSB7XG4gICAgICAgICAgbnVtYmVyICs9IGNoO1xuICAgICAgICB9IGVsc2UgaWYgKHRoaXMuaXNFeHBPcGVyYXRvcihjaCkgJiZcbiAgICAgICAgICAgICghcGVla0NoIHx8ICF0aGlzLmlzTnVtYmVyKHBlZWtDaCkpICYmXG4gICAgICAgICAgICBudW1iZXIuY2hhckF0KG51bWJlci5sZW5ndGggLSAxKSA9PT0gJ2UnKSB7XG4gICAgICAgICAgdGhpcy50aHJvd0Vycm9yKCdJbnZhbGlkIGV4cG9uZW50Jyk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHRoaXMuaW5kZXgrKztcbiAgICB9XG4gICAgdGhpcy50b2tlbnMucHVzaCh7XG4gICAgICBpbmRleDogc3RhcnQsXG4gICAgICB0ZXh0OiBudW1iZXIsXG4gICAgICBjb25zdGFudDogdHJ1ZSxcbiAgICAgIHZhbHVlOiBOdW1iZXIobnVtYmVyKVxuICAgIH0pO1xuICB9LFxuXG4gIHJlYWRJZGVudDogZnVuY3Rpb24oKSB7XG4gICAgdmFyIHN0YXJ0ID0gdGhpcy5pbmRleDtcbiAgICB0aGlzLmluZGV4ICs9IHRoaXMucGVla011bHRpY2hhcigpLmxlbmd0aDtcbiAgICB3aGlsZSAodGhpcy5pbmRleCA8IHRoaXMudGV4dC5sZW5ndGgpIHtcbiAgICAgIHZhciBjaCA9IHRoaXMucGVla011bHRpY2hhcigpO1xuICAgICAgaWYgKCF0aGlzLmlzSWRlbnRpZmllckNvbnRpbnVlKGNoKSkge1xuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICAgIHRoaXMuaW5kZXggKz0gY2gubGVuZ3RoO1xuICAgIH1cbiAgICB0aGlzLnRva2Vucy5wdXNoKHtcbiAgICAgIGluZGV4OiBzdGFydCxcbiAgICAgIHRleHQ6IHRoaXMudGV4dC5zbGljZShzdGFydCwgdGhpcy5pbmRleCksXG4gICAgICBpZGVudGlmaWVyOiB0cnVlXG4gICAgfSk7XG4gIH0sXG5cbiAgcmVhZFN0cmluZzogZnVuY3Rpb24ocXVvdGUpIHtcbiAgICB2YXIgc3RhcnQgPSB0aGlzLmluZGV4O1xuICAgIHRoaXMuaW5kZXgrKztcbiAgICB2YXIgc3RyaW5nID0gJyc7XG4gICAgdmFyIHJhd1N0cmluZyA9IHF1b3RlO1xuICAgIHZhciBlc2NhcGUgPSBmYWxzZTtcbiAgICB3aGlsZSAodGhpcy5pbmRleCA8IHRoaXMudGV4dC5sZW5ndGgpIHtcbiAgICAgIHZhciBjaCA9IHRoaXMudGV4dC5jaGFyQXQodGhpcy5pbmRleCk7XG4gICAgICByYXdTdHJpbmcgKz0gY2g7XG4gICAgICBpZiAoZXNjYXBlKSB7XG4gICAgICAgIGlmIChjaCA9PT0gJ3UnKSB7XG4gICAgICAgICAgdmFyIGhleCA9IHRoaXMudGV4dC5zdWJzdHJpbmcodGhpcy5pbmRleCArIDEsIHRoaXMuaW5kZXggKyA1KTtcbiAgICAgICAgICBpZiAoIWhleC5tYXRjaCgvW1xcZGEtZl17NH0vaSkpIHtcbiAgICAgICAgICAgIHRoaXMudGhyb3dFcnJvcignSW52YWxpZCB1bmljb2RlIGVzY2FwZSBbXFxcXHUnICsgaGV4ICsgJ10nKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgdGhpcy5pbmRleCArPSA0O1xuICAgICAgICAgIHN0cmluZyArPSBTdHJpbmcuZnJvbUNoYXJDb2RlKHBhcnNlSW50KGhleCwgMTYpKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB2YXIgcmVwID0gRVNDQVBFW2NoXTtcbiAgICAgICAgICBzdHJpbmcgPSBzdHJpbmcgKyAocmVwIHx8IGNoKTtcbiAgICAgICAgfVxuICAgICAgICBlc2NhcGUgPSBmYWxzZTtcbiAgICAgIH0gZWxzZSBpZiAoY2ggPT09ICdcXFxcJykge1xuICAgICAgICBlc2NhcGUgPSB0cnVlO1xuICAgICAgfSBlbHNlIGlmIChjaCA9PT0gcXVvdGUpIHtcbiAgICAgICAgdGhpcy5pbmRleCsrO1xuICAgICAgICB0aGlzLnRva2Vucy5wdXNoKHtcbiAgICAgICAgICBpbmRleDogc3RhcnQsXG4gICAgICAgICAgdGV4dDogcmF3U3RyaW5nLFxuICAgICAgICAgIGNvbnN0YW50OiB0cnVlLFxuICAgICAgICAgIHZhbHVlOiBzdHJpbmdcbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHN0cmluZyArPSBjaDtcbiAgICAgIH1cbiAgICAgIHRoaXMuaW5kZXgrKztcbiAgICB9XG4gICAgdGhpcy50aHJvd0Vycm9yKCdVbnRlcm1pbmF0ZWQgcXVvdGUnLCBzdGFydCk7XG4gIH1cbn07XG5cbnZhciBBU1QgPSBmdW5jdGlvbiBBU1QobGV4ZXIsIG9wdGlvbnMpIHtcbiAgdGhpcy5sZXhlciA9IGxleGVyO1xuICB0aGlzLm9wdGlvbnMgPSBvcHRpb25zO1xufTtcblxuQVNULlByb2dyYW0gPSAnUHJvZ3JhbSc7XG5BU1QuRXhwcmVzc2lvblN0YXRlbWVudCA9ICdFeHByZXNzaW9uU3RhdGVtZW50JztcbkFTVC5Bc3NpZ25tZW50RXhwcmVzc2lvbiA9ICdBc3NpZ25tZW50RXhwcmVzc2lvbic7XG5BU1QuQ29uZGl0aW9uYWxFeHByZXNzaW9uID0gJ0NvbmRpdGlvbmFsRXhwcmVzc2lvbic7XG5BU1QuTG9naWNhbEV4cHJlc3Npb24gPSAnTG9naWNhbEV4cHJlc3Npb24nO1xuQVNULkJpbmFyeUV4cHJlc3Npb24gPSAnQmluYXJ5RXhwcmVzc2lvbic7XG5BU1QuVW5hcnlFeHByZXNzaW9uID0gJ1VuYXJ5RXhwcmVzc2lvbic7XG5BU1QuQ2FsbEV4cHJlc3Npb24gPSAnQ2FsbEV4cHJlc3Npb24nO1xuQVNULk1lbWJlckV4cHJlc3Npb24gPSAnTWVtYmVyRXhwcmVzc2lvbic7XG5BU1QuSWRlbnRpZmllciA9ICdJZGVudGlmaWVyJztcbkFTVC5MaXRlcmFsID0gJ0xpdGVyYWwnO1xuQVNULkFycmF5RXhwcmVzc2lvbiA9ICdBcnJheUV4cHJlc3Npb24nO1xuQVNULlByb3BlcnR5ID0gJ1Byb3BlcnR5JztcbkFTVC5PYmplY3RFeHByZXNzaW9uID0gJ09iamVjdEV4cHJlc3Npb24nO1xuQVNULlRoaXNFeHByZXNzaW9uID0gJ1RoaXNFeHByZXNzaW9uJztcbkFTVC5Mb2NhbHNFeHByZXNzaW9uID0gJ0xvY2Fsc0V4cHJlc3Npb24nO1xuXG4vLyBJbnRlcm5hbCB1c2Ugb25seVxuQVNULk5HVmFsdWVQYXJhbWV0ZXIgPSAnTkdWYWx1ZVBhcmFtZXRlcic7XG5cbkFTVC5wcm90b3R5cGUgPSB7XG4gIGFzdDogZnVuY3Rpb24odGV4dCkge1xuICAgIHRoaXMudGV4dCA9IHRleHQ7XG4gICAgdGhpcy50b2tlbnMgPSB0aGlzLmxleGVyLmxleCh0ZXh0KTtcblxuICAgIHZhciB2YWx1ZSA9IHRoaXMucHJvZ3JhbSgpO1xuXG4gICAgaWYgKHRoaXMudG9rZW5zLmxlbmd0aCAhPT0gMCkge1xuICAgICAgdGhpcy50aHJvd0Vycm9yKCdpcyBhbiB1bmV4cGVjdGVkIHRva2VuJywgdGhpcy50b2tlbnNbMF0pO1xuICAgIH1cblxuICAgIHJldHVybiB2YWx1ZTtcbiAgfSxcblxuICBwcm9ncmFtOiBmdW5jdGlvbigpIHtcbiAgICB2YXIgYm9keSA9IFtdO1xuICAgIHdoaWxlICh0cnVlKSB7XG4gICAgICBpZiAodGhpcy50b2tlbnMubGVuZ3RoID4gMCAmJiAhdGhpcy5wZWVrKCd9JywgJyknLCAnOycsICddJykpXG4gICAgICAgIGJvZHkucHVzaCh0aGlzLmV4cHJlc3Npb25TdGF0ZW1lbnQoKSk7XG4gICAgICBpZiAoIXRoaXMuZXhwZWN0KCc7JykpIHtcbiAgICAgICAgcmV0dXJuIHsgdHlwZTogQVNULlByb2dyYW0sIGJvZHk6IGJvZHl9O1xuICAgICAgfVxuICAgIH1cbiAgfSxcblxuICBleHByZXNzaW9uU3RhdGVtZW50OiBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4geyB0eXBlOiBBU1QuRXhwcmVzc2lvblN0YXRlbWVudCwgZXhwcmVzc2lvbjogdGhpcy5maWx0ZXJDaGFpbigpIH07XG4gIH0sXG5cbiAgZmlsdGVyQ2hhaW46IGZ1bmN0aW9uKCkge1xuICAgIHZhciBsZWZ0ID0gdGhpcy5leHByZXNzaW9uKCk7XG4gICAgd2hpbGUgKHRoaXMuZXhwZWN0KCd8JykpIHtcbiAgICAgIGxlZnQgPSB0aGlzLmZpbHRlcihsZWZ0KTtcbiAgICB9XG4gICAgcmV0dXJuIGxlZnQ7XG4gIH0sXG5cbiAgZXhwcmVzc2lvbjogZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIHRoaXMuYXNzaWdubWVudCgpO1xuICB9LFxuXG4gIGFzc2lnbm1lbnQ6IGZ1bmN0aW9uKCkge1xuICAgIHZhciByZXN1bHQgPSB0aGlzLnRlcm5hcnkoKTtcbiAgICBpZiAodGhpcy5leHBlY3QoJz0nKSkge1xuICAgICAgaWYgKCFpc0Fzc2lnbmFibGUocmVzdWx0KSkge1xuICAgICAgICB0aHJvdyAkcGFyc2VNaW5FcnIoJ2x2YWwnLCAnVHJ5aW5nIHRvIGFzc2lnbiBhIHZhbHVlIHRvIGEgbm9uIGwtdmFsdWUnKTtcbiAgICAgIH1cblxuICAgICAgcmVzdWx0ID0geyB0eXBlOiBBU1QuQXNzaWdubWVudEV4cHJlc3Npb24sIGxlZnQ6IHJlc3VsdCwgcmlnaHQ6IHRoaXMuYXNzaWdubWVudCgpLCBvcGVyYXRvcjogJz0nfTtcbiAgICB9XG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfSxcblxuICB0ZXJuYXJ5OiBmdW5jdGlvbigpIHtcbiAgICB2YXIgdGVzdCA9IHRoaXMubG9naWNhbE9SKCk7XG4gICAgdmFyIGFsdGVybmF0ZTtcbiAgICB2YXIgY29uc2VxdWVudDtcbiAgICBpZiAodGhpcy5leHBlY3QoJz8nKSkge1xuICAgICAgYWx0ZXJuYXRlID0gdGhpcy5leHByZXNzaW9uKCk7XG4gICAgICBpZiAodGhpcy5jb25zdW1lKCc6JykpIHtcbiAgICAgICAgY29uc2VxdWVudCA9IHRoaXMuZXhwcmVzc2lvbigpO1xuICAgICAgICByZXR1cm4geyB0eXBlOiBBU1QuQ29uZGl0aW9uYWxFeHByZXNzaW9uLCB0ZXN0OiB0ZXN0LCBhbHRlcm5hdGU6IGFsdGVybmF0ZSwgY29uc2VxdWVudDogY29uc2VxdWVudH07XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiB0ZXN0O1xuICB9LFxuXG4gIGxvZ2ljYWxPUjogZnVuY3Rpb24oKSB7XG4gICAgdmFyIGxlZnQgPSB0aGlzLmxvZ2ljYWxBTkQoKTtcbiAgICB3aGlsZSAodGhpcy5leHBlY3QoJ3x8JykpIHtcbiAgICAgIGxlZnQgPSB7IHR5cGU6IEFTVC5Mb2dpY2FsRXhwcmVzc2lvbiwgb3BlcmF0b3I6ICd8fCcsIGxlZnQ6IGxlZnQsIHJpZ2h0OiB0aGlzLmxvZ2ljYWxBTkQoKSB9O1xuICAgIH1cbiAgICByZXR1cm4gbGVmdDtcbiAgfSxcblxuICBsb2dpY2FsQU5EOiBmdW5jdGlvbigpIHtcbiAgICB2YXIgbGVmdCA9IHRoaXMuZXF1YWxpdHkoKTtcbiAgICB3aGlsZSAodGhpcy5leHBlY3QoJyYmJykpIHtcbiAgICAgIGxlZnQgPSB7IHR5cGU6IEFTVC5Mb2dpY2FsRXhwcmVzc2lvbiwgb3BlcmF0b3I6ICcmJicsIGxlZnQ6IGxlZnQsIHJpZ2h0OiB0aGlzLmVxdWFsaXR5KCl9O1xuICAgIH1cbiAgICByZXR1cm4gbGVmdDtcbiAgfSxcblxuICBlcXVhbGl0eTogZnVuY3Rpb24oKSB7XG4gICAgdmFyIGxlZnQgPSB0aGlzLnJlbGF0aW9uYWwoKTtcbiAgICB2YXIgdG9rZW47XG4gICAgd2hpbGUgKCh0b2tlbiA9IHRoaXMuZXhwZWN0KCc9PScsJyE9JywnPT09JywnIT09JykpKSB7XG4gICAgICBsZWZ0ID0geyB0eXBlOiBBU1QuQmluYXJ5RXhwcmVzc2lvbiwgb3BlcmF0b3I6IHRva2VuLnRleHQsIGxlZnQ6IGxlZnQsIHJpZ2h0OiB0aGlzLnJlbGF0aW9uYWwoKSB9O1xuICAgIH1cbiAgICByZXR1cm4gbGVmdDtcbiAgfSxcblxuICByZWxhdGlvbmFsOiBmdW5jdGlvbigpIHtcbiAgICB2YXIgbGVmdCA9IHRoaXMuYWRkaXRpdmUoKTtcbiAgICB2YXIgdG9rZW47XG4gICAgd2hpbGUgKCh0b2tlbiA9IHRoaXMuZXhwZWN0KCc8JywgJz4nLCAnPD0nLCAnPj0nKSkpIHtcbiAgICAgIGxlZnQgPSB7IHR5cGU6IEFTVC5CaW5hcnlFeHByZXNzaW9uLCBvcGVyYXRvcjogdG9rZW4udGV4dCwgbGVmdDogbGVmdCwgcmlnaHQ6IHRoaXMuYWRkaXRpdmUoKSB9O1xuICAgIH1cbiAgICByZXR1cm4gbGVmdDtcbiAgfSxcblxuICBhZGRpdGl2ZTogZnVuY3Rpb24oKSB7XG4gICAgdmFyIGxlZnQgPSB0aGlzLm11bHRpcGxpY2F0aXZlKCk7XG4gICAgdmFyIHRva2VuO1xuICAgIHdoaWxlICgodG9rZW4gPSB0aGlzLmV4cGVjdCgnKycsJy0nKSkpIHtcbiAgICAgIGxlZnQgPSB7IHR5cGU6IEFTVC5CaW5hcnlFeHByZXNzaW9uLCBvcGVyYXRvcjogdG9rZW4udGV4dCwgbGVmdDogbGVmdCwgcmlnaHQ6IHRoaXMubXVsdGlwbGljYXRpdmUoKSB9O1xuICAgIH1cbiAgICByZXR1cm4gbGVmdDtcbiAgfSxcblxuICBtdWx0aXBsaWNhdGl2ZTogZnVuY3Rpb24oKSB7XG4gICAgdmFyIGxlZnQgPSB0aGlzLnVuYXJ5KCk7XG4gICAgdmFyIHRva2VuO1xuICAgIHdoaWxlICgodG9rZW4gPSB0aGlzLmV4cGVjdCgnKicsJy8nLCclJykpKSB7XG4gICAgICBsZWZ0ID0geyB0eXBlOiBBU1QuQmluYXJ5RXhwcmVzc2lvbiwgb3BlcmF0b3I6IHRva2VuLnRleHQsIGxlZnQ6IGxlZnQsIHJpZ2h0OiB0aGlzLnVuYXJ5KCkgfTtcbiAgICB9XG4gICAgcmV0dXJuIGxlZnQ7XG4gIH0sXG5cbiAgdW5hcnk6IGZ1bmN0aW9uKCkge1xuICAgIHZhciB0b2tlbjtcbiAgICBpZiAoKHRva2VuID0gdGhpcy5leHBlY3QoJysnLCAnLScsICchJykpKSB7XG4gICAgICByZXR1cm4geyB0eXBlOiBBU1QuVW5hcnlFeHByZXNzaW9uLCBvcGVyYXRvcjogdG9rZW4udGV4dCwgcHJlZml4OiB0cnVlLCBhcmd1bWVudDogdGhpcy51bmFyeSgpIH07XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiB0aGlzLnByaW1hcnkoKTtcbiAgICB9XG4gIH0sXG5cbiAgcHJpbWFyeTogZnVuY3Rpb24oKSB7XG4gICAgdmFyIHByaW1hcnk7XG4gICAgaWYgKHRoaXMuZXhwZWN0KCcoJykpIHtcbiAgICAgIHByaW1hcnkgPSB0aGlzLmZpbHRlckNoYWluKCk7XG4gICAgICB0aGlzLmNvbnN1bWUoJyknKTtcbiAgICB9IGVsc2UgaWYgKHRoaXMuZXhwZWN0KCdbJykpIHtcbiAgICAgIHByaW1hcnkgPSB0aGlzLmFycmF5RGVjbGFyYXRpb24oKTtcbiAgICB9IGVsc2UgaWYgKHRoaXMuZXhwZWN0KCd7JykpIHtcbiAgICAgIHByaW1hcnkgPSB0aGlzLm9iamVjdCgpO1xuICAgIH0gZWxzZSBpZiAodGhpcy5zZWxmUmVmZXJlbnRpYWwuaGFzT3duUHJvcGVydHkodGhpcy5wZWVrKCkudGV4dCkpIHtcbiAgICAgIHByaW1hcnkgPSBjb3B5KHRoaXMuc2VsZlJlZmVyZW50aWFsW3RoaXMuY29uc3VtZSgpLnRleHRdKTtcbiAgICB9IGVsc2UgaWYgKHRoaXMub3B0aW9ucy5saXRlcmFscy5oYXNPd25Qcm9wZXJ0eSh0aGlzLnBlZWsoKS50ZXh0KSkge1xuICAgICAgcHJpbWFyeSA9IHsgdHlwZTogQVNULkxpdGVyYWwsIHZhbHVlOiB0aGlzLm9wdGlvbnMubGl0ZXJhbHNbdGhpcy5jb25zdW1lKCkudGV4dF19O1xuICAgIH0gZWxzZSBpZiAodGhpcy5wZWVrKCkuaWRlbnRpZmllcikge1xuICAgICAgcHJpbWFyeSA9IHRoaXMuaWRlbnRpZmllcigpO1xuICAgIH0gZWxzZSBpZiAodGhpcy5wZWVrKCkuY29uc3RhbnQpIHtcbiAgICAgIHByaW1hcnkgPSB0aGlzLmNvbnN0YW50KCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMudGhyb3dFcnJvcignbm90IGEgcHJpbWFyeSBleHByZXNzaW9uJywgdGhpcy5wZWVrKCkpO1xuICAgIH1cblxuICAgIHZhciBuZXh0O1xuICAgIHdoaWxlICgobmV4dCA9IHRoaXMuZXhwZWN0KCcoJywgJ1snLCAnLicpKSkge1xuICAgICAgaWYgKG5leHQudGV4dCA9PT0gJygnKSB7XG4gICAgICAgIHByaW1hcnkgPSB7dHlwZTogQVNULkNhbGxFeHByZXNzaW9uLCBjYWxsZWU6IHByaW1hcnksIGFyZ3VtZW50czogdGhpcy5wYXJzZUFyZ3VtZW50cygpIH07XG4gICAgICAgIHRoaXMuY29uc3VtZSgnKScpO1xuICAgICAgfSBlbHNlIGlmIChuZXh0LnRleHQgPT09ICdbJykge1xuICAgICAgICBwcmltYXJ5ID0geyB0eXBlOiBBU1QuTWVtYmVyRXhwcmVzc2lvbiwgb2JqZWN0OiBwcmltYXJ5LCBwcm9wZXJ0eTogdGhpcy5leHByZXNzaW9uKCksIGNvbXB1dGVkOiB0cnVlIH07XG4gICAgICAgIHRoaXMuY29uc3VtZSgnXScpO1xuICAgICAgfSBlbHNlIGlmIChuZXh0LnRleHQgPT09ICcuJykge1xuICAgICAgICBwcmltYXJ5ID0geyB0eXBlOiBBU1QuTWVtYmVyRXhwcmVzc2lvbiwgb2JqZWN0OiBwcmltYXJ5LCBwcm9wZXJ0eTogdGhpcy5pZGVudGlmaWVyKCksIGNvbXB1dGVkOiBmYWxzZSB9O1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy50aHJvd0Vycm9yKCdJTVBPU1NJQkxFJyk7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBwcmltYXJ5O1xuICB9LFxuXG4gIGZpbHRlcjogZnVuY3Rpb24oYmFzZUV4cHJlc3Npb24pIHtcbiAgICB2YXIgYXJncyA9IFtiYXNlRXhwcmVzc2lvbl07XG4gICAgdmFyIHJlc3VsdCA9IHt0eXBlOiBBU1QuQ2FsbEV4cHJlc3Npb24sIGNhbGxlZTogdGhpcy5pZGVudGlmaWVyKCksIGFyZ3VtZW50czogYXJncywgZmlsdGVyOiB0cnVlfTtcblxuICAgIHdoaWxlICh0aGlzLmV4cGVjdCgnOicpKSB7XG4gICAgICBhcmdzLnB1c2godGhpcy5leHByZXNzaW9uKCkpO1xuICAgIH1cblxuICAgIHJldHVybiByZXN1bHQ7XG4gIH0sXG5cbiAgcGFyc2VBcmd1bWVudHM6IGZ1bmN0aW9uKCkge1xuICAgIHZhciBhcmdzID0gW107XG4gICAgaWYgKHRoaXMucGVla1Rva2VuKCkudGV4dCAhPT0gJyknKSB7XG4gICAgICBkbyB7XG4gICAgICAgIGFyZ3MucHVzaCh0aGlzLmZpbHRlckNoYWluKCkpO1xuICAgICAgfSB3aGlsZSAodGhpcy5leHBlY3QoJywnKSk7XG4gICAgfVxuICAgIHJldHVybiBhcmdzO1xuICB9LFxuXG4gIGlkZW50aWZpZXI6IGZ1bmN0aW9uKCkge1xuICAgIHZhciB0b2tlbiA9IHRoaXMuY29uc3VtZSgpO1xuICAgIGlmICghdG9rZW4uaWRlbnRpZmllcikge1xuICAgICAgdGhpcy50aHJvd0Vycm9yKCdpcyBub3QgYSB2YWxpZCBpZGVudGlmaWVyJywgdG9rZW4pO1xuICAgIH1cbiAgICByZXR1cm4geyB0eXBlOiBBU1QuSWRlbnRpZmllciwgbmFtZTogdG9rZW4udGV4dCB9O1xuICB9LFxuXG4gIGNvbnN0YW50OiBmdW5jdGlvbigpIHtcbiAgICAvLyBUT0RPIGNoZWNrIHRoYXQgaXQgaXMgYSBjb25zdGFudFxuICAgIHJldHVybiB7IHR5cGU6IEFTVC5MaXRlcmFsLCB2YWx1ZTogdGhpcy5jb25zdW1lKCkudmFsdWUgfTtcbiAgfSxcblxuICBhcnJheURlY2xhcmF0aW9uOiBmdW5jdGlvbigpIHtcbiAgICB2YXIgZWxlbWVudHMgPSBbXTtcbiAgICBpZiAodGhpcy5wZWVrVG9rZW4oKS50ZXh0ICE9PSAnXScpIHtcbiAgICAgIGRvIHtcbiAgICAgICAgaWYgKHRoaXMucGVlaygnXScpKSB7XG4gICAgICAgICAgLy8gU3VwcG9ydCB0cmFpbGluZyBjb21tYXMgcGVyIEVTNS4xLlxuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICAgIGVsZW1lbnRzLnB1c2godGhpcy5leHByZXNzaW9uKCkpO1xuICAgICAgfSB3aGlsZSAodGhpcy5leHBlY3QoJywnKSk7XG4gICAgfVxuICAgIHRoaXMuY29uc3VtZSgnXScpO1xuXG4gICAgcmV0dXJuIHsgdHlwZTogQVNULkFycmF5RXhwcmVzc2lvbiwgZWxlbWVudHM6IGVsZW1lbnRzIH07XG4gIH0sXG5cbiAgb2JqZWN0OiBmdW5jdGlvbigpIHtcbiAgICB2YXIgcHJvcGVydGllcyA9IFtdLCBwcm9wZXJ0eTtcbiAgICBpZiAodGhpcy5wZWVrVG9rZW4oKS50ZXh0ICE9PSAnfScpIHtcbiAgICAgIGRvIHtcbiAgICAgICAgaWYgKHRoaXMucGVlaygnfScpKSB7XG4gICAgICAgICAgLy8gU3VwcG9ydCB0cmFpbGluZyBjb21tYXMgcGVyIEVTNS4xLlxuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICAgIHByb3BlcnR5ID0ge3R5cGU6IEFTVC5Qcm9wZXJ0eSwga2luZDogJ2luaXQnfTtcbiAgICAgICAgaWYgKHRoaXMucGVlaygpLmNvbnN0YW50KSB7XG4gICAgICAgICAgcHJvcGVydHkua2V5ID0gdGhpcy5jb25zdGFudCgpO1xuICAgICAgICAgIHByb3BlcnR5LmNvbXB1dGVkID0gZmFsc2U7XG4gICAgICAgICAgdGhpcy5jb25zdW1lKCc6Jyk7XG4gICAgICAgICAgcHJvcGVydHkudmFsdWUgPSB0aGlzLmV4cHJlc3Npb24oKTtcbiAgICAgICAgfSBlbHNlIGlmICh0aGlzLnBlZWsoKS5pZGVudGlmaWVyKSB7XG4gICAgICAgICAgcHJvcGVydHkua2V5ID0gdGhpcy5pZGVudGlmaWVyKCk7XG4gICAgICAgICAgcHJvcGVydHkuY29tcHV0ZWQgPSBmYWxzZTtcbiAgICAgICAgICBpZiAodGhpcy5wZWVrKCc6JykpIHtcbiAgICAgICAgICAgIHRoaXMuY29uc3VtZSgnOicpO1xuICAgICAgICAgICAgcHJvcGVydHkudmFsdWUgPSB0aGlzLmV4cHJlc3Npb24oKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcHJvcGVydHkudmFsdWUgPSBwcm9wZXJ0eS5rZXk7XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2UgaWYgKHRoaXMucGVlaygnWycpKSB7XG4gICAgICAgICAgdGhpcy5jb25zdW1lKCdbJyk7XG4gICAgICAgICAgcHJvcGVydHkua2V5ID0gdGhpcy5leHByZXNzaW9uKCk7XG4gICAgICAgICAgdGhpcy5jb25zdW1lKCddJyk7XG4gICAgICAgICAgcHJvcGVydHkuY29tcHV0ZWQgPSB0cnVlO1xuICAgICAgICAgIHRoaXMuY29uc3VtZSgnOicpO1xuICAgICAgICAgIHByb3BlcnR5LnZhbHVlID0gdGhpcy5leHByZXNzaW9uKCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdGhpcy50aHJvd0Vycm9yKCdpbnZhbGlkIGtleScsIHRoaXMucGVlaygpKTtcbiAgICAgICAgfVxuICAgICAgICBwcm9wZXJ0aWVzLnB1c2gocHJvcGVydHkpO1xuICAgICAgfSB3aGlsZSAodGhpcy5leHBlY3QoJywnKSk7XG4gICAgfVxuICAgIHRoaXMuY29uc3VtZSgnfScpO1xuXG4gICAgcmV0dXJuIHt0eXBlOiBBU1QuT2JqZWN0RXhwcmVzc2lvbiwgcHJvcGVydGllczogcHJvcGVydGllcyB9O1xuICB9LFxuXG4gIHRocm93RXJyb3I6IGZ1bmN0aW9uKG1zZywgdG9rZW4pIHtcbiAgICB0aHJvdyAkcGFyc2VNaW5FcnIoJ3N5bnRheCcsXG4gICAgICAgICdTeW50YXggRXJyb3I6IFRva2VuIFxcJ3swfVxcJyB7MX0gYXQgY29sdW1uIHsyfSBvZiB0aGUgZXhwcmVzc2lvbiBbezN9XSBzdGFydGluZyBhdCBbezR9XS4nLFxuICAgICAgICAgIHRva2VuLnRleHQsIG1zZywgKHRva2VuLmluZGV4ICsgMSksIHRoaXMudGV4dCwgdGhpcy50ZXh0LnN1YnN0cmluZyh0b2tlbi5pbmRleCkpO1xuICB9LFxuXG4gIGNvbnN1bWU6IGZ1bmN0aW9uKGUxKSB7XG4gICAgaWYgKHRoaXMudG9rZW5zLmxlbmd0aCA9PT0gMCkge1xuICAgICAgdGhyb3cgJHBhcnNlTWluRXJyKCd1ZW9lJywgJ1VuZXhwZWN0ZWQgZW5kIG9mIGV4cHJlc3Npb246IHswfScsIHRoaXMudGV4dCk7XG4gICAgfVxuXG4gICAgdmFyIHRva2VuID0gdGhpcy5leHBlY3QoZTEpO1xuICAgIGlmICghdG9rZW4pIHtcbiAgICAgIHRoaXMudGhyb3dFcnJvcignaXMgdW5leHBlY3RlZCwgZXhwZWN0aW5nIFsnICsgZTEgKyAnXScsIHRoaXMucGVlaygpKTtcbiAgICB9XG4gICAgcmV0dXJuIHRva2VuO1xuICB9LFxuXG4gIHBlZWtUb2tlbjogZnVuY3Rpb24oKSB7XG4gICAgaWYgKHRoaXMudG9rZW5zLmxlbmd0aCA9PT0gMCkge1xuICAgICAgdGhyb3cgJHBhcnNlTWluRXJyKCd1ZW9lJywgJ1VuZXhwZWN0ZWQgZW5kIG9mIGV4cHJlc3Npb246IHswfScsIHRoaXMudGV4dCk7XG4gICAgfVxuICAgIHJldHVybiB0aGlzLnRva2Vuc1swXTtcbiAgfSxcblxuICBwZWVrOiBmdW5jdGlvbihlMSwgZTIsIGUzLCBlNCkge1xuICAgIHJldHVybiB0aGlzLnBlZWtBaGVhZCgwLCBlMSwgZTIsIGUzLCBlNCk7XG4gIH0sXG5cbiAgcGVla0FoZWFkOiBmdW5jdGlvbihpLCBlMSwgZTIsIGUzLCBlNCkge1xuICAgIGlmICh0aGlzLnRva2Vucy5sZW5ndGggPiBpKSB7XG4gICAgICB2YXIgdG9rZW4gPSB0aGlzLnRva2Vuc1tpXTtcbiAgICAgIHZhciB0ID0gdG9rZW4udGV4dDtcbiAgICAgIGlmICh0ID09PSBlMSB8fCB0ID09PSBlMiB8fCB0ID09PSBlMyB8fCB0ID09PSBlNCB8fFxuICAgICAgICAgICghZTEgJiYgIWUyICYmICFlMyAmJiAhZTQpKSB7XG4gICAgICAgIHJldHVybiB0b2tlbjtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9LFxuXG4gIGV4cGVjdDogZnVuY3Rpb24oZTEsIGUyLCBlMywgZTQpIHtcbiAgICB2YXIgdG9rZW4gPSB0aGlzLnBlZWsoZTEsIGUyLCBlMywgZTQpO1xuICAgIGlmICh0b2tlbikge1xuICAgICAgdGhpcy50b2tlbnMuc2hpZnQoKTtcbiAgICAgIHJldHVybiB0b2tlbjtcbiAgICB9XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9LFxuXG4gIHNlbGZSZWZlcmVudGlhbDoge1xuICAgICd0aGlzJzoge3R5cGU6IEFTVC5UaGlzRXhwcmVzc2lvbiB9LFxuICAgICckbG9jYWxzJzoge3R5cGU6IEFTVC5Mb2NhbHNFeHByZXNzaW9uIH1cbiAgfVxufTtcblxuZnVuY3Rpb24gaWZEZWZpbmVkKHYsIGQpIHtcbiAgcmV0dXJuIHR5cGVvZiB2ICE9PSAndW5kZWZpbmVkJyA/IHYgOiBkO1xufVxuXG5mdW5jdGlvbiBwbHVzRm4obCwgcikge1xuICBpZiAodHlwZW9mIGwgPT09ICd1bmRlZmluZWQnKSByZXR1cm4gcjtcbiAgaWYgKHR5cGVvZiByID09PSAndW5kZWZpbmVkJykgcmV0dXJuIGw7XG4gIHJldHVybiBsICsgcjtcbn1cblxuZnVuY3Rpb24gaXNTdGF0ZWxlc3MoJGZpbHRlciwgZmlsdGVyTmFtZSkge1xuICB2YXIgZm4gPSAkZmlsdGVyKGZpbHRlck5hbWUpO1xuICByZXR1cm4gIWZuLiRzdGF0ZWZ1bDtcbn1cblxuZnVuY3Rpb24gZmluZENvbnN0YW50QW5kV2F0Y2hFeHByZXNzaW9ucyhhc3QsICRmaWx0ZXIpIHtcbiAgdmFyIGFsbENvbnN0YW50cztcbiAgdmFyIGFyZ3NUb1dhdGNoO1xuICB2YXIgaXNTdGF0ZWxlc3NGaWx0ZXI7XG4gIHN3aXRjaCAoYXN0LnR5cGUpIHtcbiAgY2FzZSBBU1QuUHJvZ3JhbTpcbiAgICBhbGxDb25zdGFudHMgPSB0cnVlO1xuICAgIGZvckVhY2goYXN0LmJvZHksIGZ1bmN0aW9uKGV4cHIpIHtcbiAgICAgIGZpbmRDb25zdGFudEFuZFdhdGNoRXhwcmVzc2lvbnMoZXhwci5leHByZXNzaW9uLCAkZmlsdGVyKTtcbiAgICAgIGFsbENvbnN0YW50cyA9IGFsbENvbnN0YW50cyAmJiBleHByLmV4cHJlc3Npb24uY29uc3RhbnQ7XG4gICAgfSk7XG4gICAgYXN0LmNvbnN0YW50ID0gYWxsQ29uc3RhbnRzO1xuICAgIGJyZWFrO1xuICBjYXNlIEFTVC5MaXRlcmFsOlxuICAgIGFzdC5jb25zdGFudCA9IHRydWU7XG4gICAgYXN0LnRvV2F0Y2ggPSBbXTtcbiAgICBicmVhaztcbiAgY2FzZSBBU1QuVW5hcnlFeHByZXNzaW9uOlxuICAgIGZpbmRDb25zdGFudEFuZFdhdGNoRXhwcmVzc2lvbnMoYXN0LmFyZ3VtZW50LCAkZmlsdGVyKTtcbiAgICBhc3QuY29uc3RhbnQgPSBhc3QuYXJndW1lbnQuY29uc3RhbnQ7XG4gICAgYXN0LnRvV2F0Y2ggPSBhc3QuYXJndW1lbnQudG9XYXRjaDtcbiAgICBicmVhaztcbiAgY2FzZSBBU1QuQmluYXJ5RXhwcmVzc2lvbjpcbiAgICBmaW5kQ29uc3RhbnRBbmRXYXRjaEV4cHJlc3Npb25zKGFzdC5sZWZ0LCAkZmlsdGVyKTtcbiAgICBmaW5kQ29uc3RhbnRBbmRXYXRjaEV4cHJlc3Npb25zKGFzdC5yaWdodCwgJGZpbHRlcik7XG4gICAgYXN0LmNvbnN0YW50ID0gYXN0LmxlZnQuY29uc3RhbnQgJiYgYXN0LnJpZ2h0LmNvbnN0YW50O1xuICAgIGFzdC50b1dhdGNoID0gYXN0LmxlZnQudG9XYXRjaC5jb25jYXQoYXN0LnJpZ2h0LnRvV2F0Y2gpO1xuICAgIGJyZWFrO1xuICBjYXNlIEFTVC5Mb2dpY2FsRXhwcmVzc2lvbjpcbiAgICBmaW5kQ29uc3RhbnRBbmRXYXRjaEV4cHJlc3Npb25zKGFzdC5sZWZ0LCAkZmlsdGVyKTtcbiAgICBmaW5kQ29uc3RhbnRBbmRXYXRjaEV4cHJlc3Npb25zKGFzdC5yaWdodCwgJGZpbHRlcik7XG4gICAgYXN0LmNvbnN0YW50ID0gYXN0LmxlZnQuY29uc3RhbnQgJiYgYXN0LnJpZ2h0LmNvbnN0YW50O1xuICAgIGFzdC50b1dhdGNoID0gYXN0LmNvbnN0YW50ID8gW10gOiBbYXN0XTtcbiAgICBicmVhaztcbiAgY2FzZSBBU1QuQ29uZGl0aW9uYWxFeHByZXNzaW9uOlxuICAgIGZpbmRDb25zdGFudEFuZFdhdGNoRXhwcmVzc2lvbnMoYXN0LnRlc3QsICRmaWx0ZXIpO1xuICAgIGZpbmRDb25zdGFudEFuZFdhdGNoRXhwcmVzc2lvbnMoYXN0LmFsdGVybmF0ZSwgJGZpbHRlcik7XG4gICAgZmluZENvbnN0YW50QW5kV2F0Y2hFeHByZXNzaW9ucyhhc3QuY29uc2VxdWVudCwgJGZpbHRlcik7XG4gICAgYXN0LmNvbnN0YW50ID0gYXN0LnRlc3QuY29uc3RhbnQgJiYgYXN0LmFsdGVybmF0ZS5jb25zdGFudCAmJiBhc3QuY29uc2VxdWVudC5jb25zdGFudDtcbiAgICBhc3QudG9XYXRjaCA9IGFzdC5jb25zdGFudCA/IFtdIDogW2FzdF07XG4gICAgYnJlYWs7XG4gIGNhc2UgQVNULklkZW50aWZpZXI6XG4gICAgYXN0LmNvbnN0YW50ID0gZmFsc2U7XG4gICAgYXN0LnRvV2F0Y2ggPSBbYXN0XTtcbiAgICBicmVhaztcbiAgY2FzZSBBU1QuTWVtYmVyRXhwcmVzc2lvbjpcbiAgICBmaW5kQ29uc3RhbnRBbmRXYXRjaEV4cHJlc3Npb25zKGFzdC5vYmplY3QsICRmaWx0ZXIpO1xuICAgIGlmIChhc3QuY29tcHV0ZWQpIHtcbiAgICAgIGZpbmRDb25zdGFudEFuZFdhdGNoRXhwcmVzc2lvbnMoYXN0LnByb3BlcnR5LCAkZmlsdGVyKTtcbiAgICB9XG4gICAgYXN0LmNvbnN0YW50ID0gYXN0Lm9iamVjdC5jb25zdGFudCAmJiAoIWFzdC5jb21wdXRlZCB8fCBhc3QucHJvcGVydHkuY29uc3RhbnQpO1xuICAgIGFzdC50b1dhdGNoID0gW2FzdF07XG4gICAgYnJlYWs7XG4gIGNhc2UgQVNULkNhbGxFeHByZXNzaW9uOlxuICAgIGlzU3RhdGVsZXNzRmlsdGVyID0gYXN0LmZpbHRlciA/IGlzU3RhdGVsZXNzKCRmaWx0ZXIsIGFzdC5jYWxsZWUubmFtZSkgOiBmYWxzZTtcbiAgICBhbGxDb25zdGFudHMgPSBpc1N0YXRlbGVzc0ZpbHRlcjtcbiAgICBhcmdzVG9XYXRjaCA9IFtdO1xuICAgIGZvckVhY2goYXN0LmFyZ3VtZW50cywgZnVuY3Rpb24oZXhwcikge1xuICAgICAgZmluZENvbnN0YW50QW5kV2F0Y2hFeHByZXNzaW9ucyhleHByLCAkZmlsdGVyKTtcbiAgICAgIGFsbENvbnN0YW50cyA9IGFsbENvbnN0YW50cyAmJiBleHByLmNvbnN0YW50O1xuICAgICAgaWYgKCFleHByLmNvbnN0YW50KSB7XG4gICAgICAgIGFyZ3NUb1dhdGNoLnB1c2guYXBwbHkoYXJnc1RvV2F0Y2gsIGV4cHIudG9XYXRjaCk7XG4gICAgICB9XG4gICAgfSk7XG4gICAgYXN0LmNvbnN0YW50ID0gYWxsQ29uc3RhbnRzO1xuICAgIGFzdC50b1dhdGNoID0gaXNTdGF0ZWxlc3NGaWx0ZXIgPyBhcmdzVG9XYXRjaCA6IFthc3RdO1xuICAgIGJyZWFrO1xuICBjYXNlIEFTVC5Bc3NpZ25tZW50RXhwcmVzc2lvbjpcbiAgICBmaW5kQ29uc3RhbnRBbmRXYXRjaEV4cHJlc3Npb25zKGFzdC5sZWZ0LCAkZmlsdGVyKTtcbiAgICBmaW5kQ29uc3RhbnRBbmRXYXRjaEV4cHJlc3Npb25zKGFzdC5yaWdodCwgJGZpbHRlcik7XG4gICAgYXN0LmNvbnN0YW50ID0gYXN0LmxlZnQuY29uc3RhbnQgJiYgYXN0LnJpZ2h0LmNvbnN0YW50O1xuICAgIGFzdC50b1dhdGNoID0gW2FzdF07XG4gICAgYnJlYWs7XG4gIGNhc2UgQVNULkFycmF5RXhwcmVzc2lvbjpcbiAgICBhbGxDb25zdGFudHMgPSB0cnVlO1xuICAgIGFyZ3NUb1dhdGNoID0gW107XG4gICAgZm9yRWFjaChhc3QuZWxlbWVudHMsIGZ1bmN0aW9uKGV4cHIpIHtcbiAgICAgIGZpbmRDb25zdGFudEFuZFdhdGNoRXhwcmVzc2lvbnMoZXhwciwgJGZpbHRlcik7XG4gICAgICBhbGxDb25zdGFudHMgPSBhbGxDb25zdGFudHMgJiYgZXhwci5jb25zdGFudDtcbiAgICAgIGlmICghZXhwci5jb25zdGFudCkge1xuICAgICAgICBhcmdzVG9XYXRjaC5wdXNoLmFwcGx5KGFyZ3NUb1dhdGNoLCBleHByLnRvV2F0Y2gpO1xuICAgICAgfVxuICAgIH0pO1xuICAgIGFzdC5jb25zdGFudCA9IGFsbENvbnN0YW50cztcbiAgICBhc3QudG9XYXRjaCA9IGFyZ3NUb1dhdGNoO1xuICAgIGJyZWFrO1xuICBjYXNlIEFTVC5PYmplY3RFeHByZXNzaW9uOlxuICAgIGFsbENvbnN0YW50cyA9IHRydWU7XG4gICAgYXJnc1RvV2F0Y2ggPSBbXTtcbiAgICBmb3JFYWNoKGFzdC5wcm9wZXJ0aWVzLCBmdW5jdGlvbihwcm9wZXJ0eSkge1xuICAgICAgZmluZENvbnN0YW50QW5kV2F0Y2hFeHByZXNzaW9ucyhwcm9wZXJ0eS52YWx1ZSwgJGZpbHRlcik7XG4gICAgICBhbGxDb25zdGFudHMgPSBhbGxDb25zdGFudHMgJiYgcHJvcGVydHkudmFsdWUuY29uc3RhbnQgJiYgIXByb3BlcnR5LmNvbXB1dGVkO1xuICAgICAgaWYgKCFwcm9wZXJ0eS52YWx1ZS5jb25zdGFudCkge1xuICAgICAgICBhcmdzVG9XYXRjaC5wdXNoLmFwcGx5KGFyZ3NUb1dhdGNoLCBwcm9wZXJ0eS52YWx1ZS50b1dhdGNoKTtcbiAgICAgIH1cbiAgICAgIGlmIChwcm9wZXJ0eS5jb21wdXRlZCkge1xuICAgICAgICBmaW5kQ29uc3RhbnRBbmRXYXRjaEV4cHJlc3Npb25zKHByb3BlcnR5LmtleSwgJGZpbHRlcik7XG4gICAgICAgIGlmICghcHJvcGVydHkua2V5LmNvbnN0YW50KSB7XG4gICAgICAgICAgYXJnc1RvV2F0Y2gucHVzaC5hcHBseShhcmdzVG9XYXRjaCwgcHJvcGVydHkua2V5LnRvV2F0Y2gpO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICB9KTtcbiAgICBhc3QuY29uc3RhbnQgPSBhbGxDb25zdGFudHM7XG4gICAgYXN0LnRvV2F0Y2ggPSBhcmdzVG9XYXRjaDtcbiAgICBicmVhaztcbiAgY2FzZSBBU1QuVGhpc0V4cHJlc3Npb246XG4gICAgYXN0LmNvbnN0YW50ID0gZmFsc2U7XG4gICAgYXN0LnRvV2F0Y2ggPSBbXTtcbiAgICBicmVhaztcbiAgY2FzZSBBU1QuTG9jYWxzRXhwcmVzc2lvbjpcbiAgICBhc3QuY29uc3RhbnQgPSBmYWxzZTtcbiAgICBhc3QudG9XYXRjaCA9IFtdO1xuICAgIGJyZWFrO1xuICB9XG59XG5cbmZ1bmN0aW9uIGdldElucHV0cyhib2R5KSB7XG4gIGlmIChib2R5Lmxlbmd0aCAhPT0gMSkgcmV0dXJuO1xuICB2YXIgbGFzdEV4cHJlc3Npb24gPSBib2R5WzBdLmV4cHJlc3Npb247XG4gIHZhciBjYW5kaWRhdGUgPSBsYXN0RXhwcmVzc2lvbi50b1dhdGNoO1xuICBpZiAoY2FuZGlkYXRlLmxlbmd0aCAhPT0gMSkgcmV0dXJuIGNhbmRpZGF0ZTtcbiAgcmV0dXJuIGNhbmRpZGF0ZVswXSAhPT0gbGFzdEV4cHJlc3Npb24gPyBjYW5kaWRhdGUgOiB1bmRlZmluZWQ7XG59XG5cbmZ1bmN0aW9uIGlzQXNzaWduYWJsZShhc3QpIHtcbiAgcmV0dXJuIGFzdC50eXBlID09PSBBU1QuSWRlbnRpZmllciB8fCBhc3QudHlwZSA9PT0gQVNULk1lbWJlckV4cHJlc3Npb247XG59XG5cbmZ1bmN0aW9uIGFzc2lnbmFibGVBU1QoYXN0KSB7XG4gIGlmIChhc3QuYm9keS5sZW5ndGggPT09IDEgJiYgaXNBc3NpZ25hYmxlKGFzdC5ib2R5WzBdLmV4cHJlc3Npb24pKSB7XG4gICAgcmV0dXJuIHt0eXBlOiBBU1QuQXNzaWdubWVudEV4cHJlc3Npb24sIGxlZnQ6IGFzdC5ib2R5WzBdLmV4cHJlc3Npb24sIHJpZ2h0OiB7dHlwZTogQVNULk5HVmFsdWVQYXJhbWV0ZXJ9LCBvcGVyYXRvcjogJz0nfTtcbiAgfVxufVxuXG5mdW5jdGlvbiBpc0xpdGVyYWwoYXN0KSB7XG4gIHJldHVybiBhc3QuYm9keS5sZW5ndGggPT09IDAgfHxcbiAgICAgIGFzdC5ib2R5Lmxlbmd0aCA9PT0gMSAmJiAoXG4gICAgICBhc3QuYm9keVswXS5leHByZXNzaW9uLnR5cGUgPT09IEFTVC5MaXRlcmFsIHx8XG4gICAgICBhc3QuYm9keVswXS5leHByZXNzaW9uLnR5cGUgPT09IEFTVC5BcnJheUV4cHJlc3Npb24gfHxcbiAgICAgIGFzdC5ib2R5WzBdLmV4cHJlc3Npb24udHlwZSA9PT0gQVNULk9iamVjdEV4cHJlc3Npb24pO1xufVxuXG5mdW5jdGlvbiBpc0NvbnN0YW50KGFzdCkge1xuICByZXR1cm4gYXN0LmNvbnN0YW50O1xufVxuXG5mdW5jdGlvbiBBU1RDb21waWxlcigkZmlsdGVyKSB7XG4gIHRoaXMuJGZpbHRlciA9ICRmaWx0ZXI7XG59XG5cbkFTVENvbXBpbGVyLnByb3RvdHlwZSA9IHtcbiAgY29tcGlsZTogZnVuY3Rpb24oYXN0KSB7XG4gICAgdmFyIHNlbGYgPSB0aGlzO1xuICAgIHRoaXMuc3RhdGUgPSB7XG4gICAgICBuZXh0SWQ6IDAsXG4gICAgICBmaWx0ZXJzOiB7fSxcbiAgICAgIGZuOiB7dmFyczogW10sIGJvZHk6IFtdLCBvd246IHt9fSxcbiAgICAgIGFzc2lnbjoge3ZhcnM6IFtdLCBib2R5OiBbXSwgb3duOiB7fX0sXG4gICAgICBpbnB1dHM6IFtdXG4gICAgfTtcbiAgICBmaW5kQ29uc3RhbnRBbmRXYXRjaEV4cHJlc3Npb25zKGFzdCwgc2VsZi4kZmlsdGVyKTtcbiAgICB2YXIgZXh0cmEgPSAnJztcbiAgICB2YXIgYXNzaWduYWJsZTtcbiAgICB0aGlzLnN0YWdlID0gJ2Fzc2lnbic7XG4gICAgaWYgKChhc3NpZ25hYmxlID0gYXNzaWduYWJsZUFTVChhc3QpKSkge1xuICAgICAgdGhpcy5zdGF0ZS5jb21wdXRpbmcgPSAnYXNzaWduJztcbiAgICAgIHZhciByZXN1bHQgPSB0aGlzLm5leHRJZCgpO1xuICAgICAgdGhpcy5yZWN1cnNlKGFzc2lnbmFibGUsIHJlc3VsdCk7XG4gICAgICB0aGlzLnJldHVybl8ocmVzdWx0KTtcbiAgICAgIGV4dHJhID0gJ2ZuLmFzc2lnbj0nICsgdGhpcy5nZW5lcmF0ZUZ1bmN0aW9uKCdhc3NpZ24nLCAncyx2LGwnKTtcbiAgICB9XG4gICAgdmFyIHRvV2F0Y2ggPSBnZXRJbnB1dHMoYXN0LmJvZHkpO1xuICAgIHNlbGYuc3RhZ2UgPSAnaW5wdXRzJztcbiAgICBmb3JFYWNoKHRvV2F0Y2gsIGZ1bmN0aW9uKHdhdGNoLCBrZXkpIHtcbiAgICAgIHZhciBmbktleSA9ICdmbicgKyBrZXk7XG4gICAgICBzZWxmLnN0YXRlW2ZuS2V5XSA9IHt2YXJzOiBbXSwgYm9keTogW10sIG93bjoge319O1xuICAgICAgc2VsZi5zdGF0ZS5jb21wdXRpbmcgPSBmbktleTtcbiAgICAgIHZhciBpbnRvSWQgPSBzZWxmLm5leHRJZCgpO1xuICAgICAgc2VsZi5yZWN1cnNlKHdhdGNoLCBpbnRvSWQpO1xuICAgICAgc2VsZi5yZXR1cm5fKGludG9JZCk7XG4gICAgICBzZWxmLnN0YXRlLmlucHV0cy5wdXNoKGZuS2V5KTtcbiAgICAgIHdhdGNoLndhdGNoSWQgPSBrZXk7XG4gICAgfSk7XG4gICAgdGhpcy5zdGF0ZS5jb21wdXRpbmcgPSAnZm4nO1xuICAgIHRoaXMuc3RhZ2UgPSAnbWFpbic7XG4gICAgdGhpcy5yZWN1cnNlKGFzdCk7XG4gICAgdmFyIGZuU3RyaW5nID1cbiAgICAgIC8vIFRoZSBidWlsZCBhbmQgbWluaWZpY2F0aW9uIHN0ZXBzIHJlbW92ZSB0aGUgc3RyaW5nIFwidXNlIHN0cmljdFwiIGZyb20gdGhlIGNvZGUsIGJ1dCB0aGlzIGlzIGRvbmUgdXNpbmcgYSByZWdleC5cbiAgICAgIC8vIFRoaXMgaXMgYSB3b3JrYXJvdW5kIGZvciB0aGlzIHVudGlsIHdlIGRvIGEgYmV0dGVyIGpvYiBhdCBvbmx5IHJlbW92aW5nIHRoZSBwcmVmaXggb25seSB3aGVuIHdlIHNob3VsZC5cbiAgICAgICdcIicgKyB0aGlzLlVTRSArICcgJyArIHRoaXMuU1RSSUNUICsgJ1wiO1xcbicgK1xuICAgICAgdGhpcy5maWx0ZXJQcmVmaXgoKSArXG4gICAgICAndmFyIGZuPScgKyB0aGlzLmdlbmVyYXRlRnVuY3Rpb24oJ2ZuJywgJ3MsbCxhLGknKSArXG4gICAgICBleHRyYSArXG4gICAgICB0aGlzLndhdGNoRm5zKCkgK1xuICAgICAgJ3JldHVybiBmbjsnO1xuXG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLW5ldy1mdW5jXG4gICAgdmFyIGZuID0gKG5ldyBGdW5jdGlvbignJGZpbHRlcicsXG4gICAgICAgICdnZXRTdHJpbmdWYWx1ZScsXG4gICAgICAgICdpZkRlZmluZWQnLFxuICAgICAgICAncGx1cycsXG4gICAgICAgIGZuU3RyaW5nKSkoXG4gICAgICAgICAgdGhpcy4kZmlsdGVyLFxuICAgICAgICAgIGdldFN0cmluZ1ZhbHVlLFxuICAgICAgICAgIGlmRGVmaW5lZCxcbiAgICAgICAgICBwbHVzRm4pO1xuICAgIHRoaXMuc3RhdGUgPSB0aGlzLnN0YWdlID0gdW5kZWZpbmVkO1xuICAgIHJldHVybiBmbjtcbiAgfSxcblxuICBVU0U6ICd1c2UnLFxuXG4gIFNUUklDVDogJ3N0cmljdCcsXG5cbiAgd2F0Y2hGbnM6IGZ1bmN0aW9uKCkge1xuICAgIHZhciByZXN1bHQgPSBbXTtcbiAgICB2YXIgZm5zID0gdGhpcy5zdGF0ZS5pbnB1dHM7XG4gICAgdmFyIHNlbGYgPSB0aGlzO1xuICAgIGZvckVhY2goZm5zLCBmdW5jdGlvbihuYW1lKSB7XG4gICAgICByZXN1bHQucHVzaCgndmFyICcgKyBuYW1lICsgJz0nICsgc2VsZi5nZW5lcmF0ZUZ1bmN0aW9uKG5hbWUsICdzJykpO1xuICAgIH0pO1xuICAgIGlmIChmbnMubGVuZ3RoKSB7XG4gICAgICByZXN1bHQucHVzaCgnZm4uaW5wdXRzPVsnICsgZm5zLmpvaW4oJywnKSArICddOycpO1xuICAgIH1cbiAgICByZXR1cm4gcmVzdWx0LmpvaW4oJycpO1xuICB9LFxuXG4gIGdlbmVyYXRlRnVuY3Rpb246IGZ1bmN0aW9uKG5hbWUsIHBhcmFtcykge1xuICAgIHJldHVybiAnZnVuY3Rpb24oJyArIHBhcmFtcyArICcpeycgK1xuICAgICAgICB0aGlzLnZhcnNQcmVmaXgobmFtZSkgK1xuICAgICAgICB0aGlzLmJvZHkobmFtZSkgK1xuICAgICAgICAnfTsnO1xuICB9LFxuXG4gIGZpbHRlclByZWZpeDogZnVuY3Rpb24oKSB7XG4gICAgdmFyIHBhcnRzID0gW107XG4gICAgdmFyIHNlbGYgPSB0aGlzO1xuICAgIGZvckVhY2godGhpcy5zdGF0ZS5maWx0ZXJzLCBmdW5jdGlvbihpZCwgZmlsdGVyKSB7XG4gICAgICBwYXJ0cy5wdXNoKGlkICsgJz0kZmlsdGVyKCcgKyBzZWxmLmVzY2FwZShmaWx0ZXIpICsgJyknKTtcbiAgICB9KTtcbiAgICBpZiAocGFydHMubGVuZ3RoKSByZXR1cm4gJ3ZhciAnICsgcGFydHMuam9pbignLCcpICsgJzsnO1xuICAgIHJldHVybiAnJztcbiAgfSxcblxuICB2YXJzUHJlZml4OiBmdW5jdGlvbihzZWN0aW9uKSB7XG4gICAgcmV0dXJuIHRoaXMuc3RhdGVbc2VjdGlvbl0udmFycy5sZW5ndGggPyAndmFyICcgKyB0aGlzLnN0YXRlW3NlY3Rpb25dLnZhcnMuam9pbignLCcpICsgJzsnIDogJyc7XG4gIH0sXG5cbiAgYm9keTogZnVuY3Rpb24oc2VjdGlvbikge1xuICAgIHJldHVybiB0aGlzLnN0YXRlW3NlY3Rpb25dLmJvZHkuam9pbignJyk7XG4gIH0sXG5cbiAgcmVjdXJzZTogZnVuY3Rpb24oYXN0LCBpbnRvSWQsIG5hbWVJZCwgcmVjdXJzaW9uRm4sIGNyZWF0ZSwgc2tpcFdhdGNoSWRDaGVjaykge1xuICAgIHZhciBsZWZ0LCByaWdodCwgc2VsZiA9IHRoaXMsIGFyZ3MsIGV4cHJlc3Npb24sIGNvbXB1dGVkO1xuICAgIHJlY3Vyc2lvbkZuID0gcmVjdXJzaW9uRm4gfHwgbm9vcDtcbiAgICBpZiAoIXNraXBXYXRjaElkQ2hlY2sgJiYgaXNEZWZpbmVkKGFzdC53YXRjaElkKSkge1xuICAgICAgaW50b0lkID0gaW50b0lkIHx8IHRoaXMubmV4dElkKCk7XG4gICAgICB0aGlzLmlmXygnaScsXG4gICAgICAgIHRoaXMubGF6eUFzc2lnbihpbnRvSWQsIHRoaXMuY29tcHV0ZWRNZW1iZXIoJ2knLCBhc3Qud2F0Y2hJZCkpLFxuICAgICAgICB0aGlzLmxhenlSZWN1cnNlKGFzdCwgaW50b0lkLCBuYW1lSWQsIHJlY3Vyc2lvbkZuLCBjcmVhdGUsIHRydWUpXG4gICAgICApO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBzd2l0Y2ggKGFzdC50eXBlKSB7XG4gICAgY2FzZSBBU1QuUHJvZ3JhbTpcbiAgICAgIGZvckVhY2goYXN0LmJvZHksIGZ1bmN0aW9uKGV4cHJlc3Npb24sIHBvcykge1xuICAgICAgICBzZWxmLnJlY3Vyc2UoZXhwcmVzc2lvbi5leHByZXNzaW9uLCB1bmRlZmluZWQsIHVuZGVmaW5lZCwgZnVuY3Rpb24oZXhwcikgeyByaWdodCA9IGV4cHI7IH0pO1xuICAgICAgICBpZiAocG9zICE9PSBhc3QuYm9keS5sZW5ndGggLSAxKSB7XG4gICAgICAgICAgc2VsZi5jdXJyZW50KCkuYm9keS5wdXNoKHJpZ2h0LCAnOycpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHNlbGYucmV0dXJuXyhyaWdodCk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgICAgYnJlYWs7XG4gICAgY2FzZSBBU1QuTGl0ZXJhbDpcbiAgICAgIGV4cHJlc3Npb24gPSB0aGlzLmVzY2FwZShhc3QudmFsdWUpO1xuICAgICAgdGhpcy5hc3NpZ24oaW50b0lkLCBleHByZXNzaW9uKTtcbiAgICAgIHJlY3Vyc2lvbkZuKGludG9JZCB8fCBleHByZXNzaW9uKTtcbiAgICAgIGJyZWFrO1xuICAgIGNhc2UgQVNULlVuYXJ5RXhwcmVzc2lvbjpcbiAgICAgIHRoaXMucmVjdXJzZShhc3QuYXJndW1lbnQsIHVuZGVmaW5lZCwgdW5kZWZpbmVkLCBmdW5jdGlvbihleHByKSB7IHJpZ2h0ID0gZXhwcjsgfSk7XG4gICAgICBleHByZXNzaW9uID0gYXN0Lm9wZXJhdG9yICsgJygnICsgdGhpcy5pZkRlZmluZWQocmlnaHQsIDApICsgJyknO1xuICAgICAgdGhpcy5hc3NpZ24oaW50b0lkLCBleHByZXNzaW9uKTtcbiAgICAgIHJlY3Vyc2lvbkZuKGV4cHJlc3Npb24pO1xuICAgICAgYnJlYWs7XG4gICAgY2FzZSBBU1QuQmluYXJ5RXhwcmVzc2lvbjpcbiAgICAgIHRoaXMucmVjdXJzZShhc3QubGVmdCwgdW5kZWZpbmVkLCB1bmRlZmluZWQsIGZ1bmN0aW9uKGV4cHIpIHsgbGVmdCA9IGV4cHI7IH0pO1xuICAgICAgdGhpcy5yZWN1cnNlKGFzdC5yaWdodCwgdW5kZWZpbmVkLCB1bmRlZmluZWQsIGZ1bmN0aW9uKGV4cHIpIHsgcmlnaHQgPSBleHByOyB9KTtcbiAgICAgIGlmIChhc3Qub3BlcmF0b3IgPT09ICcrJykge1xuICAgICAgICBleHByZXNzaW9uID0gdGhpcy5wbHVzKGxlZnQsIHJpZ2h0KTtcbiAgICAgIH0gZWxzZSBpZiAoYXN0Lm9wZXJhdG9yID09PSAnLScpIHtcbiAgICAgICAgZXhwcmVzc2lvbiA9IHRoaXMuaWZEZWZpbmVkKGxlZnQsIDApICsgYXN0Lm9wZXJhdG9yICsgdGhpcy5pZkRlZmluZWQocmlnaHQsIDApO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgZXhwcmVzc2lvbiA9ICcoJyArIGxlZnQgKyAnKScgKyBhc3Qub3BlcmF0b3IgKyAnKCcgKyByaWdodCArICcpJztcbiAgICAgIH1cbiAgICAgIHRoaXMuYXNzaWduKGludG9JZCwgZXhwcmVzc2lvbik7XG4gICAgICByZWN1cnNpb25GbihleHByZXNzaW9uKTtcbiAgICAgIGJyZWFrO1xuICAgIGNhc2UgQVNULkxvZ2ljYWxFeHByZXNzaW9uOlxuICAgICAgaW50b0lkID0gaW50b0lkIHx8IHRoaXMubmV4dElkKCk7XG4gICAgICBzZWxmLnJlY3Vyc2UoYXN0LmxlZnQsIGludG9JZCk7XG4gICAgICBzZWxmLmlmXyhhc3Qub3BlcmF0b3IgPT09ICcmJicgPyBpbnRvSWQgOiBzZWxmLm5vdChpbnRvSWQpLCBzZWxmLmxhenlSZWN1cnNlKGFzdC5yaWdodCwgaW50b0lkKSk7XG4gICAgICByZWN1cnNpb25GbihpbnRvSWQpO1xuICAgICAgYnJlYWs7XG4gICAgY2FzZSBBU1QuQ29uZGl0aW9uYWxFeHByZXNzaW9uOlxuICAgICAgaW50b0lkID0gaW50b0lkIHx8IHRoaXMubmV4dElkKCk7XG4gICAgICBzZWxmLnJlY3Vyc2UoYXN0LnRlc3QsIGludG9JZCk7XG4gICAgICBzZWxmLmlmXyhpbnRvSWQsIHNlbGYubGF6eVJlY3Vyc2UoYXN0LmFsdGVybmF0ZSwgaW50b0lkKSwgc2VsZi5sYXp5UmVjdXJzZShhc3QuY29uc2VxdWVudCwgaW50b0lkKSk7XG4gICAgICByZWN1cnNpb25GbihpbnRvSWQpO1xuICAgICAgYnJlYWs7XG4gICAgY2FzZSBBU1QuSWRlbnRpZmllcjpcbiAgICAgIGludG9JZCA9IGludG9JZCB8fCB0aGlzLm5leHRJZCgpO1xuICAgICAgaWYgKG5hbWVJZCkge1xuICAgICAgICBuYW1lSWQuY29udGV4dCA9IHNlbGYuc3RhZ2UgPT09ICdpbnB1dHMnID8gJ3MnIDogdGhpcy5hc3NpZ24odGhpcy5uZXh0SWQoKSwgdGhpcy5nZXRIYXNPd25Qcm9wZXJ0eSgnbCcsIGFzdC5uYW1lKSArICc/bDpzJyk7XG4gICAgICAgIG5hbWVJZC5jb21wdXRlZCA9IGZhbHNlO1xuICAgICAgICBuYW1lSWQubmFtZSA9IGFzdC5uYW1lO1xuICAgICAgfVxuICAgICAgc2VsZi5pZl8oc2VsZi5zdGFnZSA9PT0gJ2lucHV0cycgfHwgc2VsZi5ub3Qoc2VsZi5nZXRIYXNPd25Qcm9wZXJ0eSgnbCcsIGFzdC5uYW1lKSksXG4gICAgICAgIGZ1bmN0aW9uKCkge1xuICAgICAgICAgIHNlbGYuaWZfKHNlbGYuc3RhZ2UgPT09ICdpbnB1dHMnIHx8ICdzJywgZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICBpZiAoY3JlYXRlICYmIGNyZWF0ZSAhPT0gMSkge1xuICAgICAgICAgICAgICBzZWxmLmlmXyhcbiAgICAgICAgICAgICAgICBzZWxmLmlzTnVsbChzZWxmLm5vbkNvbXB1dGVkTWVtYmVyKCdzJywgYXN0Lm5hbWUpKSxcbiAgICAgICAgICAgICAgICBzZWxmLmxhenlBc3NpZ24oc2VsZi5ub25Db21wdXRlZE1lbWJlcigncycsIGFzdC5uYW1lKSwgJ3t9JykpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgc2VsZi5hc3NpZ24oaW50b0lkLCBzZWxmLm5vbkNvbXB1dGVkTWVtYmVyKCdzJywgYXN0Lm5hbWUpKTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgfSwgaW50b0lkICYmIHNlbGYubGF6eUFzc2lnbihpbnRvSWQsIHNlbGYubm9uQ29tcHV0ZWRNZW1iZXIoJ2wnLCBhc3QubmFtZSkpXG4gICAgICAgICk7XG4gICAgICByZWN1cnNpb25GbihpbnRvSWQpO1xuICAgICAgYnJlYWs7XG4gICAgY2FzZSBBU1QuTWVtYmVyRXhwcmVzc2lvbjpcbiAgICAgIGxlZnQgPSBuYW1lSWQgJiYgKG5hbWVJZC5jb250ZXh0ID0gdGhpcy5uZXh0SWQoKSkgfHwgdGhpcy5uZXh0SWQoKTtcbiAgICAgIGludG9JZCA9IGludG9JZCB8fCB0aGlzLm5leHRJZCgpO1xuICAgICAgc2VsZi5yZWN1cnNlKGFzdC5vYmplY3QsIGxlZnQsIHVuZGVmaW5lZCwgZnVuY3Rpb24oKSB7XG4gICAgICAgIHNlbGYuaWZfKHNlbGYubm90TnVsbChsZWZ0KSwgZnVuY3Rpb24oKSB7XG4gICAgICAgICAgaWYgKGFzdC5jb21wdXRlZCkge1xuICAgICAgICAgICAgcmlnaHQgPSBzZWxmLm5leHRJZCgpO1xuICAgICAgICAgICAgc2VsZi5yZWN1cnNlKGFzdC5wcm9wZXJ0eSwgcmlnaHQpO1xuICAgICAgICAgICAgc2VsZi5nZXRTdHJpbmdWYWx1ZShyaWdodCk7XG4gICAgICAgICAgICBpZiAoY3JlYXRlICYmIGNyZWF0ZSAhPT0gMSkge1xuICAgICAgICAgICAgICBzZWxmLmlmXyhzZWxmLm5vdChzZWxmLmNvbXB1dGVkTWVtYmVyKGxlZnQsIHJpZ2h0KSksIHNlbGYubGF6eUFzc2lnbihzZWxmLmNvbXB1dGVkTWVtYmVyKGxlZnQsIHJpZ2h0KSwgJ3t9JykpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZXhwcmVzc2lvbiA9IHNlbGYuY29tcHV0ZWRNZW1iZXIobGVmdCwgcmlnaHQpO1xuICAgICAgICAgICAgc2VsZi5hc3NpZ24oaW50b0lkLCBleHByZXNzaW9uKTtcbiAgICAgICAgICAgIGlmIChuYW1lSWQpIHtcbiAgICAgICAgICAgICAgbmFtZUlkLmNvbXB1dGVkID0gdHJ1ZTtcbiAgICAgICAgICAgICAgbmFtZUlkLm5hbWUgPSByaWdodDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgaWYgKGNyZWF0ZSAmJiBjcmVhdGUgIT09IDEpIHtcbiAgICAgICAgICAgICAgc2VsZi5pZl8oc2VsZi5pc051bGwoc2VsZi5ub25Db21wdXRlZE1lbWJlcihsZWZ0LCBhc3QucHJvcGVydHkubmFtZSkpLCBzZWxmLmxhenlBc3NpZ24oc2VsZi5ub25Db21wdXRlZE1lbWJlcihsZWZ0LCBhc3QucHJvcGVydHkubmFtZSksICd7fScpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGV4cHJlc3Npb24gPSBzZWxmLm5vbkNvbXB1dGVkTWVtYmVyKGxlZnQsIGFzdC5wcm9wZXJ0eS5uYW1lKTtcbiAgICAgICAgICAgIHNlbGYuYXNzaWduKGludG9JZCwgZXhwcmVzc2lvbik7XG4gICAgICAgICAgICBpZiAobmFtZUlkKSB7XG4gICAgICAgICAgICAgIG5hbWVJZC5jb21wdXRlZCA9IGZhbHNlO1xuICAgICAgICAgICAgICBuYW1lSWQubmFtZSA9IGFzdC5wcm9wZXJ0eS5uYW1lO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfSwgZnVuY3Rpb24oKSB7XG4gICAgICAgICAgc2VsZi5hc3NpZ24oaW50b0lkLCAndW5kZWZpbmVkJyk7XG4gICAgICAgIH0pO1xuICAgICAgICByZWN1cnNpb25GbihpbnRvSWQpO1xuICAgICAgfSwgISFjcmVhdGUpO1xuICAgICAgYnJlYWs7XG4gICAgY2FzZSBBU1QuQ2FsbEV4cHJlc3Npb246XG4gICAgICBpbnRvSWQgPSBpbnRvSWQgfHwgdGhpcy5uZXh0SWQoKTtcbiAgICAgIGlmIChhc3QuZmlsdGVyKSB7XG4gICAgICAgIHJpZ2h0ID0gc2VsZi5maWx0ZXIoYXN0LmNhbGxlZS5uYW1lKTtcbiAgICAgICAgYXJncyA9IFtdO1xuICAgICAgICBmb3JFYWNoKGFzdC5hcmd1bWVudHMsIGZ1bmN0aW9uKGV4cHIpIHtcbiAgICAgICAgICB2YXIgYXJndW1lbnQgPSBzZWxmLm5leHRJZCgpO1xuICAgICAgICAgIHNlbGYucmVjdXJzZShleHByLCBhcmd1bWVudCk7XG4gICAgICAgICAgYXJncy5wdXNoKGFyZ3VtZW50KTtcbiAgICAgICAgfSk7XG4gICAgICAgIGV4cHJlc3Npb24gPSByaWdodCArICcoJyArIGFyZ3Muam9pbignLCcpICsgJyknO1xuICAgICAgICBzZWxmLmFzc2lnbihpbnRvSWQsIGV4cHJlc3Npb24pO1xuICAgICAgICByZWN1cnNpb25GbihpbnRvSWQpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmlnaHQgPSBzZWxmLm5leHRJZCgpO1xuICAgICAgICBsZWZ0ID0ge307XG4gICAgICAgIGFyZ3MgPSBbXTtcbiAgICAgICAgc2VsZi5yZWN1cnNlKGFzdC5jYWxsZWUsIHJpZ2h0LCBsZWZ0LCBmdW5jdGlvbigpIHtcbiAgICAgICAgICBzZWxmLmlmXyhzZWxmLm5vdE51bGwocmlnaHQpLCBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIGZvckVhY2goYXN0LmFyZ3VtZW50cywgZnVuY3Rpb24oZXhwcikge1xuICAgICAgICAgICAgICBzZWxmLnJlY3Vyc2UoZXhwciwgYXN0LmNvbnN0YW50ID8gdW5kZWZpbmVkIDogc2VsZi5uZXh0SWQoKSwgdW5kZWZpbmVkLCBmdW5jdGlvbihhcmd1bWVudCkge1xuICAgICAgICAgICAgICAgIGFyZ3MucHVzaChhcmd1bWVudCk7XG4gICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBpZiAobGVmdC5uYW1lKSB7XG4gICAgICAgICAgICAgIGV4cHJlc3Npb24gPSBzZWxmLm1lbWJlcihsZWZ0LmNvbnRleHQsIGxlZnQubmFtZSwgbGVmdC5jb21wdXRlZCkgKyAnKCcgKyBhcmdzLmpvaW4oJywnKSArICcpJztcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIGV4cHJlc3Npb24gPSByaWdodCArICcoJyArIGFyZ3Muam9pbignLCcpICsgJyknO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgc2VsZi5hc3NpZ24oaW50b0lkLCBleHByZXNzaW9uKTtcbiAgICAgICAgICB9LCBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHNlbGYuYXNzaWduKGludG9JZCwgJ3VuZGVmaW5lZCcpO1xuICAgICAgICAgIH0pO1xuICAgICAgICAgIHJlY3Vyc2lvbkZuKGludG9JZCk7XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgICAgYnJlYWs7XG4gICAgY2FzZSBBU1QuQXNzaWdubWVudEV4cHJlc3Npb246XG4gICAgICByaWdodCA9IHRoaXMubmV4dElkKCk7XG4gICAgICBsZWZ0ID0ge307XG4gICAgICB0aGlzLnJlY3Vyc2UoYXN0LmxlZnQsIHVuZGVmaW5lZCwgbGVmdCwgZnVuY3Rpb24oKSB7XG4gICAgICAgIHNlbGYuaWZfKHNlbGYubm90TnVsbChsZWZ0LmNvbnRleHQpLCBmdW5jdGlvbigpIHtcbiAgICAgICAgICBzZWxmLnJlY3Vyc2UoYXN0LnJpZ2h0LCByaWdodCk7XG4gICAgICAgICAgZXhwcmVzc2lvbiA9IHNlbGYubWVtYmVyKGxlZnQuY29udGV4dCwgbGVmdC5uYW1lLCBsZWZ0LmNvbXB1dGVkKSArIGFzdC5vcGVyYXRvciArIHJpZ2h0O1xuICAgICAgICAgIHNlbGYuYXNzaWduKGludG9JZCwgZXhwcmVzc2lvbik7XG4gICAgICAgICAgcmVjdXJzaW9uRm4oaW50b0lkIHx8IGV4cHJlc3Npb24pO1xuICAgICAgICB9KTtcbiAgICAgIH0sIDEpO1xuICAgICAgYnJlYWs7XG4gICAgY2FzZSBBU1QuQXJyYXlFeHByZXNzaW9uOlxuICAgICAgYXJncyA9IFtdO1xuICAgICAgZm9yRWFjaChhc3QuZWxlbWVudHMsIGZ1bmN0aW9uKGV4cHIpIHtcbiAgICAgICAgc2VsZi5yZWN1cnNlKGV4cHIsIGFzdC5jb25zdGFudCA/IHVuZGVmaW5lZCA6IHNlbGYubmV4dElkKCksIHVuZGVmaW5lZCwgZnVuY3Rpb24oYXJndW1lbnQpIHtcbiAgICAgICAgICBhcmdzLnB1c2goYXJndW1lbnQpO1xuICAgICAgICB9KTtcbiAgICAgIH0pO1xuICAgICAgZXhwcmVzc2lvbiA9ICdbJyArIGFyZ3Muam9pbignLCcpICsgJ10nO1xuICAgICAgdGhpcy5hc3NpZ24oaW50b0lkLCBleHByZXNzaW9uKTtcbiAgICAgIHJlY3Vyc2lvbkZuKGludG9JZCB8fCBleHByZXNzaW9uKTtcbiAgICAgIGJyZWFrO1xuICAgIGNhc2UgQVNULk9iamVjdEV4cHJlc3Npb246XG4gICAgICBhcmdzID0gW107XG4gICAgICBjb21wdXRlZCA9IGZhbHNlO1xuICAgICAgZm9yRWFjaChhc3QucHJvcGVydGllcywgZnVuY3Rpb24ocHJvcGVydHkpIHtcbiAgICAgICAgaWYgKHByb3BlcnR5LmNvbXB1dGVkKSB7XG4gICAgICAgICAgY29tcHV0ZWQgPSB0cnVlO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICAgIGlmIChjb21wdXRlZCkge1xuICAgICAgICBpbnRvSWQgPSBpbnRvSWQgfHwgdGhpcy5uZXh0SWQoKTtcbiAgICAgICAgdGhpcy5hc3NpZ24oaW50b0lkLCAne30nKTtcbiAgICAgICAgZm9yRWFjaChhc3QucHJvcGVydGllcywgZnVuY3Rpb24ocHJvcGVydHkpIHtcbiAgICAgICAgICBpZiAocHJvcGVydHkuY29tcHV0ZWQpIHtcbiAgICAgICAgICAgIGxlZnQgPSBzZWxmLm5leHRJZCgpO1xuICAgICAgICAgICAgc2VsZi5yZWN1cnNlKHByb3BlcnR5LmtleSwgbGVmdCk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGxlZnQgPSBwcm9wZXJ0eS5rZXkudHlwZSA9PT0gQVNULklkZW50aWZpZXIgP1xuICAgICAgICAgICAgICAgICAgICAgICBwcm9wZXJ0eS5rZXkubmFtZSA6XG4gICAgICAgICAgICAgICAgICAgICAgICgnJyArIHByb3BlcnR5LmtleS52YWx1ZSk7XG4gICAgICAgICAgfVxuICAgICAgICAgIHJpZ2h0ID0gc2VsZi5uZXh0SWQoKTtcbiAgICAgICAgICBzZWxmLnJlY3Vyc2UocHJvcGVydHkudmFsdWUsIHJpZ2h0KTtcbiAgICAgICAgICBzZWxmLmFzc2lnbihzZWxmLm1lbWJlcihpbnRvSWQsIGxlZnQsIHByb3BlcnR5LmNvbXB1dGVkKSwgcmlnaHQpO1xuICAgICAgICB9KTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGZvckVhY2goYXN0LnByb3BlcnRpZXMsIGZ1bmN0aW9uKHByb3BlcnR5KSB7XG4gICAgICAgICAgc2VsZi5yZWN1cnNlKHByb3BlcnR5LnZhbHVlLCBhc3QuY29uc3RhbnQgPyB1bmRlZmluZWQgOiBzZWxmLm5leHRJZCgpLCB1bmRlZmluZWQsIGZ1bmN0aW9uKGV4cHIpIHtcbiAgICAgICAgICAgIGFyZ3MucHVzaChzZWxmLmVzY2FwZShcbiAgICAgICAgICAgICAgICBwcm9wZXJ0eS5rZXkudHlwZSA9PT0gQVNULklkZW50aWZpZXIgPyBwcm9wZXJ0eS5rZXkubmFtZSA6XG4gICAgICAgICAgICAgICAgICAoJycgKyBwcm9wZXJ0eS5rZXkudmFsdWUpKSArXG4gICAgICAgICAgICAgICAgJzonICsgZXhwcik7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgICAgICBleHByZXNzaW9uID0gJ3snICsgYXJncy5qb2luKCcsJykgKyAnfSc7XG4gICAgICAgIHRoaXMuYXNzaWduKGludG9JZCwgZXhwcmVzc2lvbik7XG4gICAgICB9XG4gICAgICByZWN1cnNpb25GbihpbnRvSWQgfHwgZXhwcmVzc2lvbik7XG4gICAgICBicmVhaztcbiAgICBjYXNlIEFTVC5UaGlzRXhwcmVzc2lvbjpcbiAgICAgIHRoaXMuYXNzaWduKGludG9JZCwgJ3MnKTtcbiAgICAgIHJlY3Vyc2lvbkZuKGludG9JZCB8fCAncycpO1xuICAgICAgYnJlYWs7XG4gICAgY2FzZSBBU1QuTG9jYWxzRXhwcmVzc2lvbjpcbiAgICAgIHRoaXMuYXNzaWduKGludG9JZCwgJ2wnKTtcbiAgICAgIHJlY3Vyc2lvbkZuKGludG9JZCB8fCAnbCcpO1xuICAgICAgYnJlYWs7XG4gICAgY2FzZSBBU1QuTkdWYWx1ZVBhcmFtZXRlcjpcbiAgICAgIHRoaXMuYXNzaWduKGludG9JZCwgJ3YnKTtcbiAgICAgIHJlY3Vyc2lvbkZuKGludG9JZCB8fCAndicpO1xuICAgICAgYnJlYWs7XG4gICAgfVxuICB9LFxuXG4gIGdldEhhc093blByb3BlcnR5OiBmdW5jdGlvbihlbGVtZW50LCBwcm9wZXJ0eSkge1xuICAgIHZhciBrZXkgPSBlbGVtZW50ICsgJy4nICsgcHJvcGVydHk7XG4gICAgdmFyIG93biA9IHRoaXMuY3VycmVudCgpLm93bjtcbiAgICBpZiAoIW93bi5oYXNPd25Qcm9wZXJ0eShrZXkpKSB7XG4gICAgICBvd25ba2V5XSA9IHRoaXMubmV4dElkKGZhbHNlLCBlbGVtZW50ICsgJyYmKCcgKyB0aGlzLmVzY2FwZShwcm9wZXJ0eSkgKyAnIGluICcgKyBlbGVtZW50ICsgJyknKTtcbiAgICB9XG4gICAgcmV0dXJuIG93bltrZXldO1xuICB9LFxuXG4gIGFzc2lnbjogZnVuY3Rpb24oaWQsIHZhbHVlKSB7XG4gICAgaWYgKCFpZCkgcmV0dXJuO1xuICAgIHRoaXMuY3VycmVudCgpLmJvZHkucHVzaChpZCwgJz0nLCB2YWx1ZSwgJzsnKTtcbiAgICByZXR1cm4gaWQ7XG4gIH0sXG5cbiAgZmlsdGVyOiBmdW5jdGlvbihmaWx0ZXJOYW1lKSB7XG4gICAgaWYgKCF0aGlzLnN0YXRlLmZpbHRlcnMuaGFzT3duUHJvcGVydHkoZmlsdGVyTmFtZSkpIHtcbiAgICAgIHRoaXMuc3RhdGUuZmlsdGVyc1tmaWx0ZXJOYW1lXSA9IHRoaXMubmV4dElkKHRydWUpO1xuICAgIH1cbiAgICByZXR1cm4gdGhpcy5zdGF0ZS5maWx0ZXJzW2ZpbHRlck5hbWVdO1xuICB9LFxuXG4gIGlmRGVmaW5lZDogZnVuY3Rpb24oaWQsIGRlZmF1bHRWYWx1ZSkge1xuICAgIHJldHVybiAnaWZEZWZpbmVkKCcgKyBpZCArICcsJyArIHRoaXMuZXNjYXBlKGRlZmF1bHRWYWx1ZSkgKyAnKSc7XG4gIH0sXG5cbiAgcGx1czogZnVuY3Rpb24obGVmdCwgcmlnaHQpIHtcbiAgICByZXR1cm4gJ3BsdXMoJyArIGxlZnQgKyAnLCcgKyByaWdodCArICcpJztcbiAgfSxcblxuICByZXR1cm5fOiBmdW5jdGlvbihpZCkge1xuICAgIHRoaXMuY3VycmVudCgpLmJvZHkucHVzaCgncmV0dXJuICcsIGlkLCAnOycpO1xuICB9LFxuXG4gIGlmXzogZnVuY3Rpb24odGVzdCwgYWx0ZXJuYXRlLCBjb25zZXF1ZW50KSB7XG4gICAgaWYgKHRlc3QgPT09IHRydWUpIHtcbiAgICAgIGFsdGVybmF0ZSgpO1xuICAgIH0gZWxzZSB7XG4gICAgICB2YXIgYm9keSA9IHRoaXMuY3VycmVudCgpLmJvZHk7XG4gICAgICBib2R5LnB1c2goJ2lmKCcsIHRlc3QsICcpeycpO1xuICAgICAgYWx0ZXJuYXRlKCk7XG4gICAgICBib2R5LnB1c2goJ30nKTtcbiAgICAgIGlmIChjb25zZXF1ZW50KSB7XG4gICAgICAgIGJvZHkucHVzaCgnZWxzZXsnKTtcbiAgICAgICAgY29uc2VxdWVudCgpO1xuICAgICAgICBib2R5LnB1c2goJ30nKTtcbiAgICAgIH1cbiAgICB9XG4gIH0sXG5cbiAgbm90OiBmdW5jdGlvbihleHByZXNzaW9uKSB7XG4gICAgcmV0dXJuICchKCcgKyBleHByZXNzaW9uICsgJyknO1xuICB9LFxuXG4gIGlzTnVsbDogZnVuY3Rpb24oZXhwcmVzc2lvbikge1xuICAgIHJldHVybiBleHByZXNzaW9uICsgJz09bnVsbCc7XG4gIH0sXG5cbiAgbm90TnVsbDogZnVuY3Rpb24oZXhwcmVzc2lvbikge1xuICAgIHJldHVybiBleHByZXNzaW9uICsgJyE9bnVsbCc7XG4gIH0sXG5cbiAgbm9uQ29tcHV0ZWRNZW1iZXI6IGZ1bmN0aW9uKGxlZnQsIHJpZ2h0KSB7XG4gICAgdmFyIFNBRkVfSURFTlRJRklFUiA9IC9eWyRfYS16QS1aXVskX2EtekEtWjAtOV0qJC87XG4gICAgdmFyIFVOU0FGRV9DSEFSQUNURVJTID0gL1teJF9hLXpBLVowLTldL2c7XG4gICAgaWYgKFNBRkVfSURFTlRJRklFUi50ZXN0KHJpZ2h0KSkge1xuICAgICAgcmV0dXJuIGxlZnQgKyAnLicgKyByaWdodDtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIGxlZnQgICsgJ1tcIicgKyByaWdodC5yZXBsYWNlKFVOU0FGRV9DSEFSQUNURVJTLCB0aGlzLnN0cmluZ0VzY2FwZUZuKSArICdcIl0nO1xuICAgIH1cbiAgfSxcblxuICBjb21wdXRlZE1lbWJlcjogZnVuY3Rpb24obGVmdCwgcmlnaHQpIHtcbiAgICByZXR1cm4gbGVmdCArICdbJyArIHJpZ2h0ICsgJ10nO1xuICB9LFxuXG4gIG1lbWJlcjogZnVuY3Rpb24obGVmdCwgcmlnaHQsIGNvbXB1dGVkKSB7XG4gICAgaWYgKGNvbXB1dGVkKSByZXR1cm4gdGhpcy5jb21wdXRlZE1lbWJlcihsZWZ0LCByaWdodCk7XG4gICAgcmV0dXJuIHRoaXMubm9uQ29tcHV0ZWRNZW1iZXIobGVmdCwgcmlnaHQpO1xuICB9LFxuXG4gIGdldFN0cmluZ1ZhbHVlOiBmdW5jdGlvbihpdGVtKSB7XG4gICAgdGhpcy5hc3NpZ24oaXRlbSwgJ2dldFN0cmluZ1ZhbHVlKCcgKyBpdGVtICsgJyknKTtcbiAgfSxcblxuICBsYXp5UmVjdXJzZTogZnVuY3Rpb24oYXN0LCBpbnRvSWQsIG5hbWVJZCwgcmVjdXJzaW9uRm4sIGNyZWF0ZSwgc2tpcFdhdGNoSWRDaGVjaykge1xuICAgIHZhciBzZWxmID0gdGhpcztcbiAgICByZXR1cm4gZnVuY3Rpb24oKSB7XG4gICAgICBzZWxmLnJlY3Vyc2UoYXN0LCBpbnRvSWQsIG5hbWVJZCwgcmVjdXJzaW9uRm4sIGNyZWF0ZSwgc2tpcFdhdGNoSWRDaGVjayk7XG4gICAgfTtcbiAgfSxcblxuICBsYXp5QXNzaWduOiBmdW5jdGlvbihpZCwgdmFsdWUpIHtcbiAgICB2YXIgc2VsZiA9IHRoaXM7XG4gICAgcmV0dXJuIGZ1bmN0aW9uKCkge1xuICAgICAgc2VsZi5hc3NpZ24oaWQsIHZhbHVlKTtcbiAgICB9O1xuICB9LFxuXG4gIHN0cmluZ0VzY2FwZVJlZ2V4OiAvW14gYS16QS1aMC05XS9nLFxuXG4gIHN0cmluZ0VzY2FwZUZuOiBmdW5jdGlvbihjKSB7XG4gICAgcmV0dXJuICdcXFxcdScgKyAoJzAwMDAnICsgYy5jaGFyQ29kZUF0KDApLnRvU3RyaW5nKDE2KSkuc2xpY2UoLTQpO1xuICB9LFxuXG4gIGVzY2FwZTogZnVuY3Rpb24odmFsdWUpIHtcbiAgICBpZiAoaXNTdHJpbmcodmFsdWUpKSByZXR1cm4gJ1xcJycgKyB2YWx1ZS5yZXBsYWNlKHRoaXMuc3RyaW5nRXNjYXBlUmVnZXgsIHRoaXMuc3RyaW5nRXNjYXBlRm4pICsgJ1xcJyc7XG4gICAgaWYgKGlzTnVtYmVyKHZhbHVlKSkgcmV0dXJuIHZhbHVlLnRvU3RyaW5nKCk7XG4gICAgaWYgKHZhbHVlID09PSB0cnVlKSByZXR1cm4gJ3RydWUnO1xuICAgIGlmICh2YWx1ZSA9PT0gZmFsc2UpIHJldHVybiAnZmFsc2UnO1xuICAgIGlmICh2YWx1ZSA9PT0gbnVsbCkgcmV0dXJuICdudWxsJztcbiAgICBpZiAodHlwZW9mIHZhbHVlID09PSAndW5kZWZpbmVkJykgcmV0dXJuICd1bmRlZmluZWQnO1xuXG4gICAgdGhyb3cgJHBhcnNlTWluRXJyKCdlc2MnLCAnSU1QT1NTSUJMRScpO1xuICB9LFxuXG4gIG5leHRJZDogZnVuY3Rpb24oc2tpcCwgaW5pdCkge1xuICAgIHZhciBpZCA9ICd2JyArICh0aGlzLnN0YXRlLm5leHRJZCsrKTtcbiAgICBpZiAoIXNraXApIHtcbiAgICAgIHRoaXMuY3VycmVudCgpLnZhcnMucHVzaChpZCArIChpbml0ID8gJz0nICsgaW5pdCA6ICcnKSk7XG4gICAgfVxuICAgIHJldHVybiBpZDtcbiAgfSxcblxuICBjdXJyZW50OiBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gdGhpcy5zdGF0ZVt0aGlzLnN0YXRlLmNvbXB1dGluZ107XG4gIH1cbn07XG5cblxuZnVuY3Rpb24gQVNUSW50ZXJwcmV0ZXIoJGZpbHRlcikge1xuICB0aGlzLiRmaWx0ZXIgPSAkZmlsdGVyO1xufVxuXG5BU1RJbnRlcnByZXRlci5wcm90b3R5cGUgPSB7XG4gIGNvbXBpbGU6IGZ1bmN0aW9uKGFzdCkge1xuICAgIHZhciBzZWxmID0gdGhpcztcbiAgICBmaW5kQ29uc3RhbnRBbmRXYXRjaEV4cHJlc3Npb25zKGFzdCwgc2VsZi4kZmlsdGVyKTtcbiAgICB2YXIgYXNzaWduYWJsZTtcbiAgICB2YXIgYXNzaWduO1xuICAgIGlmICgoYXNzaWduYWJsZSA9IGFzc2lnbmFibGVBU1QoYXN0KSkpIHtcbiAgICAgIGFzc2lnbiA9IHRoaXMucmVjdXJzZShhc3NpZ25hYmxlKTtcbiAgICB9XG4gICAgdmFyIHRvV2F0Y2ggPSBnZXRJbnB1dHMoYXN0LmJvZHkpO1xuICAgIHZhciBpbnB1dHM7XG4gICAgaWYgKHRvV2F0Y2gpIHtcbiAgICAgIGlucHV0cyA9IFtdO1xuICAgICAgZm9yRWFjaCh0b1dhdGNoLCBmdW5jdGlvbih3YXRjaCwga2V5KSB7XG4gICAgICAgIHZhciBpbnB1dCA9IHNlbGYucmVjdXJzZSh3YXRjaCk7XG4gICAgICAgIHdhdGNoLmlucHV0ID0gaW5wdXQ7XG4gICAgICAgIGlucHV0cy5wdXNoKGlucHV0KTtcbiAgICAgICAgd2F0Y2gud2F0Y2hJZCA9IGtleTtcbiAgICAgIH0pO1xuICAgIH1cbiAgICB2YXIgZXhwcmVzc2lvbnMgPSBbXTtcbiAgICBmb3JFYWNoKGFzdC5ib2R5LCBmdW5jdGlvbihleHByZXNzaW9uKSB7XG4gICAgICBleHByZXNzaW9ucy5wdXNoKHNlbGYucmVjdXJzZShleHByZXNzaW9uLmV4cHJlc3Npb24pKTtcbiAgICB9KTtcbiAgICB2YXIgZm4gPSBhc3QuYm9keS5sZW5ndGggPT09IDAgPyBub29wIDpcbiAgICAgICAgICAgICBhc3QuYm9keS5sZW5ndGggPT09IDEgPyBleHByZXNzaW9uc1swXSA6XG4gICAgICAgICAgICAgZnVuY3Rpb24oc2NvcGUsIGxvY2Fscykge1xuICAgICAgICAgICAgICAgdmFyIGxhc3RWYWx1ZTtcbiAgICAgICAgICAgICAgIGZvckVhY2goZXhwcmVzc2lvbnMsIGZ1bmN0aW9uKGV4cCkge1xuICAgICAgICAgICAgICAgICBsYXN0VmFsdWUgPSBleHAoc2NvcGUsIGxvY2Fscyk7XG4gICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgIHJldHVybiBsYXN0VmFsdWU7XG4gICAgICAgICAgICAgfTtcbiAgICBpZiAoYXNzaWduKSB7XG4gICAgICBmbi5hc3NpZ24gPSBmdW5jdGlvbihzY29wZSwgdmFsdWUsIGxvY2Fscykge1xuICAgICAgICByZXR1cm4gYXNzaWduKHNjb3BlLCBsb2NhbHMsIHZhbHVlKTtcbiAgICAgIH07XG4gICAgfVxuICAgIGlmIChpbnB1dHMpIHtcbiAgICAgIGZuLmlucHV0cyA9IGlucHV0cztcbiAgICB9XG4gICAgcmV0dXJuIGZuO1xuICB9LFxuXG4gIHJlY3Vyc2U6IGZ1bmN0aW9uKGFzdCwgY29udGV4dCwgY3JlYXRlKSB7XG4gICAgdmFyIGxlZnQsIHJpZ2h0LCBzZWxmID0gdGhpcywgYXJncztcbiAgICBpZiAoYXN0LmlucHV0KSB7XG4gICAgICByZXR1cm4gdGhpcy5pbnB1dHMoYXN0LmlucHV0LCBhc3Qud2F0Y2hJZCk7XG4gICAgfVxuICAgIHN3aXRjaCAoYXN0LnR5cGUpIHtcbiAgICBjYXNlIEFTVC5MaXRlcmFsOlxuICAgICAgcmV0dXJuIHRoaXMudmFsdWUoYXN0LnZhbHVlLCBjb250ZXh0KTtcbiAgICBjYXNlIEFTVC5VbmFyeUV4cHJlc3Npb246XG4gICAgICByaWdodCA9IHRoaXMucmVjdXJzZShhc3QuYXJndW1lbnQpO1xuICAgICAgcmV0dXJuIHRoaXNbJ3VuYXJ5JyArIGFzdC5vcGVyYXRvcl0ocmlnaHQsIGNvbnRleHQpO1xuICAgIGNhc2UgQVNULkJpbmFyeUV4cHJlc3Npb246XG4gICAgICBsZWZ0ID0gdGhpcy5yZWN1cnNlKGFzdC5sZWZ0KTtcbiAgICAgIHJpZ2h0ID0gdGhpcy5yZWN1cnNlKGFzdC5yaWdodCk7XG4gICAgICByZXR1cm4gdGhpc1snYmluYXJ5JyArIGFzdC5vcGVyYXRvcl0obGVmdCwgcmlnaHQsIGNvbnRleHQpO1xuICAgIGNhc2UgQVNULkxvZ2ljYWxFeHByZXNzaW9uOlxuICAgICAgbGVmdCA9IHRoaXMucmVjdXJzZShhc3QubGVmdCk7XG4gICAgICByaWdodCA9IHRoaXMucmVjdXJzZShhc3QucmlnaHQpO1xuICAgICAgcmV0dXJuIHRoaXNbJ2JpbmFyeScgKyBhc3Qub3BlcmF0b3JdKGxlZnQsIHJpZ2h0LCBjb250ZXh0KTtcbiAgICBjYXNlIEFTVC5Db25kaXRpb25hbEV4cHJlc3Npb246XG4gICAgICByZXR1cm4gdGhpc1sndGVybmFyeT86J10oXG4gICAgICAgIHRoaXMucmVjdXJzZShhc3QudGVzdCksXG4gICAgICAgIHRoaXMucmVjdXJzZShhc3QuYWx0ZXJuYXRlKSxcbiAgICAgICAgdGhpcy5yZWN1cnNlKGFzdC5jb25zZXF1ZW50KSxcbiAgICAgICAgY29udGV4dFxuICAgICAgKTtcbiAgICBjYXNlIEFTVC5JZGVudGlmaWVyOlxuICAgICAgcmV0dXJuIHNlbGYuaWRlbnRpZmllcihhc3QubmFtZSwgY29udGV4dCwgY3JlYXRlKTtcbiAgICBjYXNlIEFTVC5NZW1iZXJFeHByZXNzaW9uOlxuICAgICAgbGVmdCA9IHRoaXMucmVjdXJzZShhc3Qub2JqZWN0LCBmYWxzZSwgISFjcmVhdGUpO1xuICAgICAgaWYgKCFhc3QuY29tcHV0ZWQpIHtcbiAgICAgICAgcmlnaHQgPSBhc3QucHJvcGVydHkubmFtZTtcbiAgICAgIH1cbiAgICAgIGlmIChhc3QuY29tcHV0ZWQpIHJpZ2h0ID0gdGhpcy5yZWN1cnNlKGFzdC5wcm9wZXJ0eSk7XG4gICAgICByZXR1cm4gYXN0LmNvbXB1dGVkID9cbiAgICAgICAgdGhpcy5jb21wdXRlZE1lbWJlcihsZWZ0LCByaWdodCwgY29udGV4dCwgY3JlYXRlKSA6XG4gICAgICAgIHRoaXMubm9uQ29tcHV0ZWRNZW1iZXIobGVmdCwgcmlnaHQsIGNvbnRleHQsIGNyZWF0ZSk7XG4gICAgY2FzZSBBU1QuQ2FsbEV4cHJlc3Npb246XG4gICAgICBhcmdzID0gW107XG4gICAgICBmb3JFYWNoKGFzdC5hcmd1bWVudHMsIGZ1bmN0aW9uKGV4cHIpIHtcbiAgICAgICAgYXJncy5wdXNoKHNlbGYucmVjdXJzZShleHByKSk7XG4gICAgICB9KTtcbiAgICAgIGlmIChhc3QuZmlsdGVyKSByaWdodCA9IHRoaXMuJGZpbHRlcihhc3QuY2FsbGVlLm5hbWUpO1xuICAgICAgaWYgKCFhc3QuZmlsdGVyKSByaWdodCA9IHRoaXMucmVjdXJzZShhc3QuY2FsbGVlLCB0cnVlKTtcbiAgICAgIHJldHVybiBhc3QuZmlsdGVyID9cbiAgICAgICAgZnVuY3Rpb24oc2NvcGUsIGxvY2FscywgYXNzaWduLCBpbnB1dHMpIHtcbiAgICAgICAgICB2YXIgdmFsdWVzID0gW107XG4gICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBhcmdzLmxlbmd0aDsgKytpKSB7XG4gICAgICAgICAgICB2YWx1ZXMucHVzaChhcmdzW2ldKHNjb3BlLCBsb2NhbHMsIGFzc2lnbiwgaW5wdXRzKSk7XG4gICAgICAgICAgfVxuICAgICAgICAgIHZhciB2YWx1ZSA9IHJpZ2h0LmFwcGx5KHVuZGVmaW5lZCwgdmFsdWVzLCBpbnB1dHMpO1xuICAgICAgICAgIHJldHVybiBjb250ZXh0ID8ge2NvbnRleHQ6IHVuZGVmaW5lZCwgbmFtZTogdW5kZWZpbmVkLCB2YWx1ZTogdmFsdWV9IDogdmFsdWU7XG4gICAgICAgIH0gOlxuICAgICAgICBmdW5jdGlvbihzY29wZSwgbG9jYWxzLCBhc3NpZ24sIGlucHV0cykge1xuICAgICAgICAgIHZhciByaHMgPSByaWdodChzY29wZSwgbG9jYWxzLCBhc3NpZ24sIGlucHV0cyk7XG4gICAgICAgICAgdmFyIHZhbHVlO1xuICAgICAgICAgIGlmIChyaHMudmFsdWUgIT0gbnVsbCkge1xuICAgICAgICAgICAgdmFyIHZhbHVlcyA9IFtdO1xuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBhcmdzLmxlbmd0aDsgKytpKSB7XG4gICAgICAgICAgICAgIHZhbHVlcy5wdXNoKGFyZ3NbaV0oc2NvcGUsIGxvY2FscywgYXNzaWduLCBpbnB1dHMpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHZhbHVlID0gcmhzLnZhbHVlLmFwcGx5KHJocy5jb250ZXh0LCB2YWx1ZXMpO1xuICAgICAgICAgIH1cbiAgICAgICAgICByZXR1cm4gY29udGV4dCA/IHt2YWx1ZTogdmFsdWV9IDogdmFsdWU7XG4gICAgICAgIH07XG4gICAgY2FzZSBBU1QuQXNzaWdubWVudEV4cHJlc3Npb246XG4gICAgICBsZWZ0ID0gdGhpcy5yZWN1cnNlKGFzdC5sZWZ0LCB0cnVlLCAxKTtcbiAgICAgIHJpZ2h0ID0gdGhpcy5yZWN1cnNlKGFzdC5yaWdodCk7XG4gICAgICByZXR1cm4gZnVuY3Rpb24oc2NvcGUsIGxvY2FscywgYXNzaWduLCBpbnB1dHMpIHtcbiAgICAgICAgdmFyIGxocyA9IGxlZnQoc2NvcGUsIGxvY2FscywgYXNzaWduLCBpbnB1dHMpO1xuICAgICAgICB2YXIgcmhzID0gcmlnaHQoc2NvcGUsIGxvY2FscywgYXNzaWduLCBpbnB1dHMpO1xuICAgICAgICBsaHMuY29udGV4dFtsaHMubmFtZV0gPSByaHM7XG4gICAgICAgIHJldHVybiBjb250ZXh0ID8ge3ZhbHVlOiByaHN9IDogcmhzO1xuICAgICAgfTtcbiAgICBjYXNlIEFTVC5BcnJheUV4cHJlc3Npb246XG4gICAgICBhcmdzID0gW107XG4gICAgICBmb3JFYWNoKGFzdC5lbGVtZW50cywgZnVuY3Rpb24oZXhwcikge1xuICAgICAgICBhcmdzLnB1c2goc2VsZi5yZWN1cnNlKGV4cHIpKTtcbiAgICAgIH0pO1xuICAgICAgcmV0dXJuIGZ1bmN0aW9uKHNjb3BlLCBsb2NhbHMsIGFzc2lnbiwgaW5wdXRzKSB7XG4gICAgICAgIHZhciB2YWx1ZSA9IFtdO1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGFyZ3MubGVuZ3RoOyArK2kpIHtcbiAgICAgICAgICB2YWx1ZS5wdXNoKGFyZ3NbaV0oc2NvcGUsIGxvY2FscywgYXNzaWduLCBpbnB1dHMpKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gY29udGV4dCA/IHt2YWx1ZTogdmFsdWV9IDogdmFsdWU7XG4gICAgICB9O1xuICAgIGNhc2UgQVNULk9iamVjdEV4cHJlc3Npb246XG4gICAgICBhcmdzID0gW107XG4gICAgICBmb3JFYWNoKGFzdC5wcm9wZXJ0aWVzLCBmdW5jdGlvbihwcm9wZXJ0eSkge1xuICAgICAgICBpZiAocHJvcGVydHkuY29tcHV0ZWQpIHtcbiAgICAgICAgICBhcmdzLnB1c2goe2tleTogc2VsZi5yZWN1cnNlKHByb3BlcnR5LmtleSksXG4gICAgICAgICAgICAgICAgICAgICBjb21wdXRlZDogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgIHZhbHVlOiBzZWxmLnJlY3Vyc2UocHJvcGVydHkudmFsdWUpXG4gICAgICAgICAgfSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgYXJncy5wdXNoKHtrZXk6IHByb3BlcnR5LmtleS50eXBlID09PSBBU1QuSWRlbnRpZmllciA/XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHByb3BlcnR5LmtleS5uYW1lIDpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgKCcnICsgcHJvcGVydHkua2V5LnZhbHVlKSxcbiAgICAgICAgICAgICAgICAgICAgIGNvbXB1dGVkOiBmYWxzZSxcbiAgICAgICAgICAgICAgICAgICAgIHZhbHVlOiBzZWxmLnJlY3Vyc2UocHJvcGVydHkudmFsdWUpXG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgICAgcmV0dXJuIGZ1bmN0aW9uKHNjb3BlLCBsb2NhbHMsIGFzc2lnbiwgaW5wdXRzKSB7XG4gICAgICAgIHZhciB2YWx1ZSA9IHt9O1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGFyZ3MubGVuZ3RoOyArK2kpIHtcbiAgICAgICAgICBpZiAoYXJnc1tpXS5jb21wdXRlZCkge1xuICAgICAgICAgICAgdmFsdWVbYXJnc1tpXS5rZXkoc2NvcGUsIGxvY2FscywgYXNzaWduLCBpbnB1dHMpXSA9IGFyZ3NbaV0udmFsdWUoc2NvcGUsIGxvY2FscywgYXNzaWduLCBpbnB1dHMpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB2YWx1ZVthcmdzW2ldLmtleV0gPSBhcmdzW2ldLnZhbHVlKHNjb3BlLCBsb2NhbHMsIGFzc2lnbiwgaW5wdXRzKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGNvbnRleHQgPyB7dmFsdWU6IHZhbHVlfSA6IHZhbHVlO1xuICAgICAgfTtcbiAgICBjYXNlIEFTVC5UaGlzRXhwcmVzc2lvbjpcbiAgICAgIHJldHVybiBmdW5jdGlvbihzY29wZSkge1xuICAgICAgICByZXR1cm4gY29udGV4dCA/IHt2YWx1ZTogc2NvcGV9IDogc2NvcGU7XG4gICAgICB9O1xuICAgIGNhc2UgQVNULkxvY2Fsc0V4cHJlc3Npb246XG4gICAgICByZXR1cm4gZnVuY3Rpb24oc2NvcGUsIGxvY2Fscykge1xuICAgICAgICByZXR1cm4gY29udGV4dCA/IHt2YWx1ZTogbG9jYWxzfSA6IGxvY2FscztcbiAgICAgIH07XG4gICAgY2FzZSBBU1QuTkdWYWx1ZVBhcmFtZXRlcjpcbiAgICAgIHJldHVybiBmdW5jdGlvbihzY29wZSwgbG9jYWxzLCBhc3NpZ24pIHtcbiAgICAgICAgcmV0dXJuIGNvbnRleHQgPyB7dmFsdWU6IGFzc2lnbn0gOiBhc3NpZ247XG4gICAgICB9O1xuICAgIH1cbiAgfSxcblxuICAndW5hcnkrJzogZnVuY3Rpb24oYXJndW1lbnQsIGNvbnRleHQpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24oc2NvcGUsIGxvY2FscywgYXNzaWduLCBpbnB1dHMpIHtcbiAgICAgIHZhciBhcmcgPSBhcmd1bWVudChzY29wZSwgbG9jYWxzLCBhc3NpZ24sIGlucHV0cyk7XG4gICAgICBpZiAoaXNEZWZpbmVkKGFyZykpIHtcbiAgICAgICAgYXJnID0gK2FyZztcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGFyZyA9IDA7XG4gICAgICB9XG4gICAgICByZXR1cm4gY29udGV4dCA/IHt2YWx1ZTogYXJnfSA6IGFyZztcbiAgICB9O1xuICB9LFxuICAndW5hcnktJzogZnVuY3Rpb24oYXJndW1lbnQsIGNvbnRleHQpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24oc2NvcGUsIGxvY2FscywgYXNzaWduLCBpbnB1dHMpIHtcbiAgICAgIHZhciBhcmcgPSBhcmd1bWVudChzY29wZSwgbG9jYWxzLCBhc3NpZ24sIGlucHV0cyk7XG4gICAgICBpZiAoaXNEZWZpbmVkKGFyZykpIHtcbiAgICAgICAgYXJnID0gLWFyZztcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGFyZyA9IC0wO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGNvbnRleHQgPyB7dmFsdWU6IGFyZ30gOiBhcmc7XG4gICAgfTtcbiAgfSxcbiAgJ3VuYXJ5ISc6IGZ1bmN0aW9uKGFyZ3VtZW50LCBjb250ZXh0KSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uKHNjb3BlLCBsb2NhbHMsIGFzc2lnbiwgaW5wdXRzKSB7XG4gICAgICB2YXIgYXJnID0gIWFyZ3VtZW50KHNjb3BlLCBsb2NhbHMsIGFzc2lnbiwgaW5wdXRzKTtcbiAgICAgIHJldHVybiBjb250ZXh0ID8ge3ZhbHVlOiBhcmd9IDogYXJnO1xuICAgIH07XG4gIH0sXG4gICdiaW5hcnkrJzogZnVuY3Rpb24obGVmdCwgcmlnaHQsIGNvbnRleHQpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24oc2NvcGUsIGxvY2FscywgYXNzaWduLCBpbnB1dHMpIHtcbiAgICAgIHZhciBsaHMgPSBsZWZ0KHNjb3BlLCBsb2NhbHMsIGFzc2lnbiwgaW5wdXRzKTtcbiAgICAgIHZhciByaHMgPSByaWdodChzY29wZSwgbG9jYWxzLCBhc3NpZ24sIGlucHV0cyk7XG4gICAgICB2YXIgYXJnID0gcGx1c0ZuKGxocywgcmhzKTtcbiAgICAgIHJldHVybiBjb250ZXh0ID8ge3ZhbHVlOiBhcmd9IDogYXJnO1xuICAgIH07XG4gIH0sXG4gICdiaW5hcnktJzogZnVuY3Rpb24obGVmdCwgcmlnaHQsIGNvbnRleHQpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24oc2NvcGUsIGxvY2FscywgYXNzaWduLCBpbnB1dHMpIHtcbiAgICAgIHZhciBsaHMgPSBsZWZ0KHNjb3BlLCBsb2NhbHMsIGFzc2lnbiwgaW5wdXRzKTtcbiAgICAgIHZhciByaHMgPSByaWdodChzY29wZSwgbG9jYWxzLCBhc3NpZ24sIGlucHV0cyk7XG4gICAgICB2YXIgYXJnID0gKGlzRGVmaW5lZChsaHMpID8gbGhzIDogMCkgLSAoaXNEZWZpbmVkKHJocykgPyByaHMgOiAwKTtcbiAgICAgIHJldHVybiBjb250ZXh0ID8ge3ZhbHVlOiBhcmd9IDogYXJnO1xuICAgIH07XG4gIH0sXG4gICdiaW5hcnkqJzogZnVuY3Rpb24obGVmdCwgcmlnaHQsIGNvbnRleHQpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24oc2NvcGUsIGxvY2FscywgYXNzaWduLCBpbnB1dHMpIHtcbiAgICAgIHZhciBhcmcgPSBsZWZ0KHNjb3BlLCBsb2NhbHMsIGFzc2lnbiwgaW5wdXRzKSAqIHJpZ2h0KHNjb3BlLCBsb2NhbHMsIGFzc2lnbiwgaW5wdXRzKTtcbiAgICAgIHJldHVybiBjb250ZXh0ID8ge3ZhbHVlOiBhcmd9IDogYXJnO1xuICAgIH07XG4gIH0sXG4gICdiaW5hcnkvJzogZnVuY3Rpb24obGVmdCwgcmlnaHQsIGNvbnRleHQpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24oc2NvcGUsIGxvY2FscywgYXNzaWduLCBpbnB1dHMpIHtcbiAgICAgIHZhciBhcmcgPSBsZWZ0KHNjb3BlLCBsb2NhbHMsIGFzc2lnbiwgaW5wdXRzKSAvIHJpZ2h0KHNjb3BlLCBsb2NhbHMsIGFzc2lnbiwgaW5wdXRzKTtcbiAgICAgIHJldHVybiBjb250ZXh0ID8ge3ZhbHVlOiBhcmd9IDogYXJnO1xuICAgIH07XG4gIH0sXG4gICdiaW5hcnklJzogZnVuY3Rpb24obGVmdCwgcmlnaHQsIGNvbnRleHQpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24oc2NvcGUsIGxvY2FscywgYXNzaWduLCBpbnB1dHMpIHtcbiAgICAgIHZhciBhcmcgPSBsZWZ0KHNjb3BlLCBsb2NhbHMsIGFzc2lnbiwgaW5wdXRzKSAlIHJpZ2h0KHNjb3BlLCBsb2NhbHMsIGFzc2lnbiwgaW5wdXRzKTtcbiAgICAgIHJldHVybiBjb250ZXh0ID8ge3ZhbHVlOiBhcmd9IDogYXJnO1xuICAgIH07XG4gIH0sXG4gICdiaW5hcnk9PT0nOiBmdW5jdGlvbihsZWZ0LCByaWdodCwgY29udGV4dCkge1xuICAgIHJldHVybiBmdW5jdGlvbihzY29wZSwgbG9jYWxzLCBhc3NpZ24sIGlucHV0cykge1xuICAgICAgdmFyIGFyZyA9IGxlZnQoc2NvcGUsIGxvY2FscywgYXNzaWduLCBpbnB1dHMpID09PSByaWdodChzY29wZSwgbG9jYWxzLCBhc3NpZ24sIGlucHV0cyk7XG4gICAgICByZXR1cm4gY29udGV4dCA/IHt2YWx1ZTogYXJnfSA6IGFyZztcbiAgICB9O1xuICB9LFxuICAnYmluYXJ5IT09JzogZnVuY3Rpb24obGVmdCwgcmlnaHQsIGNvbnRleHQpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24oc2NvcGUsIGxvY2FscywgYXNzaWduLCBpbnB1dHMpIHtcbiAgICAgIHZhciBhcmcgPSBsZWZ0KHNjb3BlLCBsb2NhbHMsIGFzc2lnbiwgaW5wdXRzKSAhPT0gcmlnaHQoc2NvcGUsIGxvY2FscywgYXNzaWduLCBpbnB1dHMpO1xuICAgICAgcmV0dXJuIGNvbnRleHQgPyB7dmFsdWU6IGFyZ30gOiBhcmc7XG4gICAgfTtcbiAgfSxcbiAgJ2JpbmFyeT09JzogZnVuY3Rpb24obGVmdCwgcmlnaHQsIGNvbnRleHQpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24oc2NvcGUsIGxvY2FscywgYXNzaWduLCBpbnB1dHMpIHtcbiAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBlcWVxZXFcbiAgICAgIHZhciBhcmcgPSBsZWZ0KHNjb3BlLCBsb2NhbHMsIGFzc2lnbiwgaW5wdXRzKSA9PSByaWdodChzY29wZSwgbG9jYWxzLCBhc3NpZ24sIGlucHV0cyk7XG4gICAgICByZXR1cm4gY29udGV4dCA/IHt2YWx1ZTogYXJnfSA6IGFyZztcbiAgICB9O1xuICB9LFxuICAnYmluYXJ5IT0nOiBmdW5jdGlvbihsZWZ0LCByaWdodCwgY29udGV4dCkge1xuICAgIHJldHVybiBmdW5jdGlvbihzY29wZSwgbG9jYWxzLCBhc3NpZ24sIGlucHV0cykge1xuICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGVxZXFlcVxuICAgICAgdmFyIGFyZyA9IGxlZnQoc2NvcGUsIGxvY2FscywgYXNzaWduLCBpbnB1dHMpICE9IHJpZ2h0KHNjb3BlLCBsb2NhbHMsIGFzc2lnbiwgaW5wdXRzKTtcbiAgICAgIHJldHVybiBjb250ZXh0ID8ge3ZhbHVlOiBhcmd9IDogYXJnO1xuICAgIH07XG4gIH0sXG4gICdiaW5hcnk8JzogZnVuY3Rpb24obGVmdCwgcmlnaHQsIGNvbnRleHQpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24oc2NvcGUsIGxvY2FscywgYXNzaWduLCBpbnB1dHMpIHtcbiAgICAgIHZhciBhcmcgPSBsZWZ0KHNjb3BlLCBsb2NhbHMsIGFzc2lnbiwgaW5wdXRzKSA8IHJpZ2h0KHNjb3BlLCBsb2NhbHMsIGFzc2lnbiwgaW5wdXRzKTtcbiAgICAgIHJldHVybiBjb250ZXh0ID8ge3ZhbHVlOiBhcmd9IDogYXJnO1xuICAgIH07XG4gIH0sXG4gICdiaW5hcnk+JzogZnVuY3Rpb24obGVmdCwgcmlnaHQsIGNvbnRleHQpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24oc2NvcGUsIGxvY2FscywgYXNzaWduLCBpbnB1dHMpIHtcbiAgICAgIHZhciBhcmcgPSBsZWZ0KHNjb3BlLCBsb2NhbHMsIGFzc2lnbiwgaW5wdXRzKSA+IHJpZ2h0KHNjb3BlLCBsb2NhbHMsIGFzc2lnbiwgaW5wdXRzKTtcbiAgICAgIHJldHVybiBjb250ZXh0ID8ge3ZhbHVlOiBhcmd9IDogYXJnO1xuICAgIH07XG4gIH0sXG4gICdiaW5hcnk8PSc6IGZ1bmN0aW9uKGxlZnQsIHJpZ2h0LCBjb250ZXh0KSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uKHNjb3BlLCBsb2NhbHMsIGFzc2lnbiwgaW5wdXRzKSB7XG4gICAgICB2YXIgYXJnID0gbGVmdChzY29wZSwgbG9jYWxzLCBhc3NpZ24sIGlucHV0cykgPD0gcmlnaHQoc2NvcGUsIGxvY2FscywgYXNzaWduLCBpbnB1dHMpO1xuICAgICAgcmV0dXJuIGNvbnRleHQgPyB7dmFsdWU6IGFyZ30gOiBhcmc7XG4gICAgfTtcbiAgfSxcbiAgJ2JpbmFyeT49JzogZnVuY3Rpb24obGVmdCwgcmlnaHQsIGNvbnRleHQpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24oc2NvcGUsIGxvY2FscywgYXNzaWduLCBpbnB1dHMpIHtcbiAgICAgIHZhciBhcmcgPSBsZWZ0KHNjb3BlLCBsb2NhbHMsIGFzc2lnbiwgaW5wdXRzKSA+PSByaWdodChzY29wZSwgbG9jYWxzLCBhc3NpZ24sIGlucHV0cyk7XG4gICAgICByZXR1cm4gY29udGV4dCA/IHt2YWx1ZTogYXJnfSA6IGFyZztcbiAgICB9O1xuICB9LFxuICAnYmluYXJ5JiYnOiBmdW5jdGlvbihsZWZ0LCByaWdodCwgY29udGV4dCkge1xuICAgIHJldHVybiBmdW5jdGlvbihzY29wZSwgbG9jYWxzLCBhc3NpZ24sIGlucHV0cykge1xuICAgICAgdmFyIGFyZyA9IGxlZnQoc2NvcGUsIGxvY2FscywgYXNzaWduLCBpbnB1dHMpICYmIHJpZ2h0KHNjb3BlLCBsb2NhbHMsIGFzc2lnbiwgaW5wdXRzKTtcbiAgICAgIHJldHVybiBjb250ZXh0ID8ge3ZhbHVlOiBhcmd9IDogYXJnO1xuICAgIH07XG4gIH0sXG4gICdiaW5hcnl8fCc6IGZ1bmN0aW9uKGxlZnQsIHJpZ2h0LCBjb250ZXh0KSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uKHNjb3BlLCBsb2NhbHMsIGFzc2lnbiwgaW5wdXRzKSB7XG4gICAgICB2YXIgYXJnID0gbGVmdChzY29wZSwgbG9jYWxzLCBhc3NpZ24sIGlucHV0cykgfHwgcmlnaHQoc2NvcGUsIGxvY2FscywgYXNzaWduLCBpbnB1dHMpO1xuICAgICAgcmV0dXJuIGNvbnRleHQgPyB7dmFsdWU6IGFyZ30gOiBhcmc7XG4gICAgfTtcbiAgfSxcbiAgJ3Rlcm5hcnk/Oic6IGZ1bmN0aW9uKHRlc3QsIGFsdGVybmF0ZSwgY29uc2VxdWVudCwgY29udGV4dCkge1xuICAgIHJldHVybiBmdW5jdGlvbihzY29wZSwgbG9jYWxzLCBhc3NpZ24sIGlucHV0cykge1xuICAgICAgdmFyIGFyZyA9IHRlc3Qoc2NvcGUsIGxvY2FscywgYXNzaWduLCBpbnB1dHMpID8gYWx0ZXJuYXRlKHNjb3BlLCBsb2NhbHMsIGFzc2lnbiwgaW5wdXRzKSA6IGNvbnNlcXVlbnQoc2NvcGUsIGxvY2FscywgYXNzaWduLCBpbnB1dHMpO1xuICAgICAgcmV0dXJuIGNvbnRleHQgPyB7dmFsdWU6IGFyZ30gOiBhcmc7XG4gICAgfTtcbiAgfSxcbiAgdmFsdWU6IGZ1bmN0aW9uKHZhbHVlLCBjb250ZXh0KSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uKCkgeyByZXR1cm4gY29udGV4dCA/IHtjb250ZXh0OiB1bmRlZmluZWQsIG5hbWU6IHVuZGVmaW5lZCwgdmFsdWU6IHZhbHVlfSA6IHZhbHVlOyB9O1xuICB9LFxuICBpZGVudGlmaWVyOiBmdW5jdGlvbihuYW1lLCBjb250ZXh0LCBjcmVhdGUpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24oc2NvcGUsIGxvY2FscywgYXNzaWduLCBpbnB1dHMpIHtcbiAgICAgIHZhciBiYXNlID0gbG9jYWxzICYmIChuYW1lIGluIGxvY2FscykgPyBsb2NhbHMgOiBzY29wZTtcbiAgICAgIGlmIChjcmVhdGUgJiYgY3JlYXRlICE9PSAxICYmIGJhc2UgJiYgYmFzZVtuYW1lXSA9PSBudWxsKSB7XG4gICAgICAgIGJhc2VbbmFtZV0gPSB7fTtcbiAgICAgIH1cbiAgICAgIHZhciB2YWx1ZSA9IGJhc2UgPyBiYXNlW25hbWVdIDogdW5kZWZpbmVkO1xuICAgICAgaWYgKGNvbnRleHQpIHtcbiAgICAgICAgcmV0dXJuIHtjb250ZXh0OiBiYXNlLCBuYW1lOiBuYW1lLCB2YWx1ZTogdmFsdWV9O1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIHZhbHVlO1xuICAgICAgfVxuICAgIH07XG4gIH0sXG4gIGNvbXB1dGVkTWVtYmVyOiBmdW5jdGlvbihsZWZ0LCByaWdodCwgY29udGV4dCwgY3JlYXRlKSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uKHNjb3BlLCBsb2NhbHMsIGFzc2lnbiwgaW5wdXRzKSB7XG4gICAgICB2YXIgbGhzID0gbGVmdChzY29wZSwgbG9jYWxzLCBhc3NpZ24sIGlucHV0cyk7XG4gICAgICB2YXIgcmhzO1xuICAgICAgdmFyIHZhbHVlO1xuICAgICAgaWYgKGxocyAhPSBudWxsKSB7XG4gICAgICAgIHJocyA9IHJpZ2h0KHNjb3BlLCBsb2NhbHMsIGFzc2lnbiwgaW5wdXRzKTtcbiAgICAgICAgcmhzID0gZ2V0U3RyaW5nVmFsdWUocmhzKTtcbiAgICAgICAgaWYgKGNyZWF0ZSAmJiBjcmVhdGUgIT09IDEpIHtcbiAgICAgICAgICBpZiAobGhzICYmICEobGhzW3Joc10pKSB7XG4gICAgICAgICAgICBsaHNbcmhzXSA9IHt9O1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICB2YWx1ZSA9IGxoc1tyaHNdO1xuICAgICAgfVxuICAgICAgaWYgKGNvbnRleHQpIHtcbiAgICAgICAgcmV0dXJuIHtjb250ZXh0OiBsaHMsIG5hbWU6IHJocywgdmFsdWU6IHZhbHVlfTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiB2YWx1ZTtcbiAgICAgIH1cbiAgICB9O1xuICB9LFxuICBub25Db21wdXRlZE1lbWJlcjogZnVuY3Rpb24obGVmdCwgcmlnaHQsIGNvbnRleHQsIGNyZWF0ZSkge1xuICAgIHJldHVybiBmdW5jdGlvbihzY29wZSwgbG9jYWxzLCBhc3NpZ24sIGlucHV0cykge1xuICAgICAgdmFyIGxocyA9IGxlZnQoc2NvcGUsIGxvY2FscywgYXNzaWduLCBpbnB1dHMpO1xuICAgICAgaWYgKGNyZWF0ZSAmJiBjcmVhdGUgIT09IDEpIHtcbiAgICAgICAgaWYgKGxocyAmJiBsaHNbcmlnaHRdID09IG51bGwpIHtcbiAgICAgICAgICBsaHNbcmlnaHRdID0ge307XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHZhciB2YWx1ZSA9IGxocyAhPSBudWxsID8gbGhzW3JpZ2h0XSA6IHVuZGVmaW5lZDtcbiAgICAgIGlmIChjb250ZXh0KSB7XG4gICAgICAgIHJldHVybiB7Y29udGV4dDogbGhzLCBuYW1lOiByaWdodCwgdmFsdWU6IHZhbHVlfTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiB2YWx1ZTtcbiAgICAgIH1cbiAgICB9O1xuICB9LFxuICBpbnB1dHM6IGZ1bmN0aW9uKGlucHV0LCB3YXRjaElkKSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uKHNjb3BlLCB2YWx1ZSwgbG9jYWxzLCBpbnB1dHMpIHtcbiAgICAgIGlmIChpbnB1dHMpIHJldHVybiBpbnB1dHNbd2F0Y2hJZF07XG4gICAgICByZXR1cm4gaW5wdXQoc2NvcGUsIHZhbHVlLCBsb2NhbHMpO1xuICAgIH07XG4gIH1cbn07XG5cbi8qKlxuICogQGNvbnN0cnVjdG9yXG4gKi9cbmZ1bmN0aW9uIFBhcnNlcihsZXhlciwgJGZpbHRlciwgb3B0aW9ucykge1xuICB0aGlzLmFzdCA9IG5ldyBBU1QobGV4ZXIsIG9wdGlvbnMpO1xuICB0aGlzLmFzdENvbXBpbGVyID0gb3B0aW9ucy5jc3AgPyBuZXcgQVNUSW50ZXJwcmV0ZXIoJGZpbHRlcikgOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZXcgQVNUQ29tcGlsZXIoJGZpbHRlcik7XG59XG5cblBhcnNlci5wcm90b3R5cGUgPSB7XG4gIGNvbnN0cnVjdG9yOiBQYXJzZXIsXG5cbiAgcGFyc2U6IGZ1bmN0aW9uKHRleHQpIHtcbiAgICB2YXIgYXN0ID0gdGhpcy5hc3QuYXN0KHRleHQpO1xuICAgIHZhciBmbiA9IHRoaXMuYXN0Q29tcGlsZXIuY29tcGlsZShhc3QpO1xuICAgIGZuLmxpdGVyYWwgPSBpc0xpdGVyYWwoYXN0KTtcbiAgICBmbi5jb25zdGFudCA9IGlzQ29uc3RhbnQoYXN0KTtcbiAgICByZXR1cm4gZm47XG4gIH1cbn07XG5cbmZ1bmN0aW9uIGdldFZhbHVlT2YodmFsdWUpIHtcbiAgcmV0dXJuIGlzRnVuY3Rpb24odmFsdWUudmFsdWVPZikgPyB2YWx1ZS52YWx1ZU9mKCkgOiBvYmplY3RWYWx1ZU9mLmNhbGwodmFsdWUpO1xufVxuXG4vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuXG4vKipcbiAqIEBuZ2RvYyBzZXJ2aWNlXG4gKiBAbmFtZSAkcGFyc2VcbiAqIEBraW5kIGZ1bmN0aW9uXG4gKlxuICogQGRlc2NyaXB0aW9uXG4gKlxuICogQ29udmVydHMgQW5ndWxhciB7QGxpbmsgZ3VpZGUvZXhwcmVzc2lvbiBleHByZXNzaW9ufSBpbnRvIGEgZnVuY3Rpb24uXG4gKlxuICogYGBganNcbiAqICAgdmFyIGdldHRlciA9ICRwYXJzZSgndXNlci5uYW1lJyk7XG4gKiAgIHZhciBzZXR0ZXIgPSBnZXR0ZXIuYXNzaWduO1xuICogICB2YXIgY29udGV4dCA9IHt1c2VyOntuYW1lOidhbmd1bGFyJ319O1xuICogICB2YXIgbG9jYWxzID0ge3VzZXI6e25hbWU6J2xvY2FsJ319O1xuICpcbiAqICAgZXhwZWN0KGdldHRlcihjb250ZXh0KSkudG9FcXVhbCgnYW5ndWxhcicpO1xuICogICBzZXR0ZXIoY29udGV4dCwgJ25ld1ZhbHVlJyk7XG4gKiAgIGV4cGVjdChjb250ZXh0LnVzZXIubmFtZSkudG9FcXVhbCgnbmV3VmFsdWUnKTtcbiAqICAgZXhwZWN0KGdldHRlcihjb250ZXh0LCBsb2NhbHMpKS50b0VxdWFsKCdsb2NhbCcpO1xuICogYGBgXG4gKlxuICpcbiAqIEBwYXJhbSB7c3RyaW5nfSBleHByZXNzaW9uIFN0cmluZyBleHByZXNzaW9uIHRvIGNvbXBpbGUuXG4gKiBAcmV0dXJucyB7ZnVuY3Rpb24oY29udGV4dCwgbG9jYWxzKX0gYSBmdW5jdGlvbiB3aGljaCByZXByZXNlbnRzIHRoZSBjb21waWxlZCBleHByZXNzaW9uOlxuICpcbiAqICAgICogYGNvbnRleHRgIOKAkyBge29iamVjdH1gIOKAkyBhbiBvYmplY3QgYWdhaW5zdCB3aGljaCBhbnkgZXhwcmVzc2lvbnMgZW1iZWRkZWQgaW4gdGhlIHN0cmluZ3NcbiAqICAgICAgYXJlIGV2YWx1YXRlZCBhZ2FpbnN0ICh0eXBpY2FsbHkgYSBzY29wZSBvYmplY3QpLlxuICogICAgKiBgbG9jYWxzYCDigJMgYHtvYmplY3Q9fWAg4oCTIGxvY2FsIHZhcmlhYmxlcyBjb250ZXh0IG9iamVjdCwgdXNlZnVsIGZvciBvdmVycmlkaW5nIHZhbHVlcyBpblxuICogICAgICBgY29udGV4dGAuXG4gKlxuICogICAgVGhlIHJldHVybmVkIGZ1bmN0aW9uIGFsc28gaGFzIHRoZSBmb2xsb3dpbmcgcHJvcGVydGllczpcbiAqICAgICAgKiBgbGl0ZXJhbGAg4oCTIGB7Ym9vbGVhbn1gIOKAkyB3aGV0aGVyIHRoZSBleHByZXNzaW9uJ3MgdG9wLWxldmVsIG5vZGUgaXMgYSBKYXZhU2NyaXB0XG4gKiAgICAgICAgbGl0ZXJhbC5cbiAqICAgICAgKiBgY29uc3RhbnRgIOKAkyBge2Jvb2xlYW59YCDigJMgd2hldGhlciB0aGUgZXhwcmVzc2lvbiBpcyBtYWRlIGVudGlyZWx5IG9mIEphdmFTY3JpcHRcbiAqICAgICAgICBjb25zdGFudCBsaXRlcmFscy5cbiAqICAgICAgKiBgYXNzaWduYCDigJMgYHs/ZnVuY3Rpb24oY29udGV4dCwgdmFsdWUpfWAg4oCTIGlmIHRoZSBleHByZXNzaW9uIGlzIGFzc2lnbmFibGUsIHRoaXMgd2lsbCBiZVxuICogICAgICAgIHNldCB0byBhIGZ1bmN0aW9uIHRvIGNoYW5nZSBpdHMgdmFsdWUgb24gdGhlIGdpdmVuIGNvbnRleHQuXG4gKlxuICovXG5cblxuLyoqXG4gKiBAbmdkb2MgcHJvdmlkZXJcbiAqIEBuYW1lICRwYXJzZVByb3ZpZGVyXG4gKiBAdGhpc1xuICpcbiAqIEBkZXNjcmlwdGlvblxuICogYCRwYXJzZVByb3ZpZGVyYCBjYW4gYmUgdXNlZCBmb3IgY29uZmlndXJpbmcgdGhlIGRlZmF1bHQgYmVoYXZpb3Igb2YgdGhlIHtAbGluayBuZy4kcGFyc2UgJHBhcnNlfVxuICogIHNlcnZpY2UuXG4gKi9cbmZ1bmN0aW9uICRQYXJzZVByb3ZpZGVyKCkge1xuICB2YXIgY2FjaGUgPSBjcmVhdGVNYXAoKTtcbiAgdmFyIGxpdGVyYWxzID0ge1xuICAgICd0cnVlJzogdHJ1ZSxcbiAgICAnZmFsc2UnOiBmYWxzZSxcbiAgICAnbnVsbCc6IG51bGwsXG4gICAgJ3VuZGVmaW5lZCc6IHVuZGVmaW5lZFxuICB9O1xuICB2YXIgaWRlbnRTdGFydCwgaWRlbnRDb250aW51ZTtcblxuICAvKipcbiAgICogQG5nZG9jIG1ldGhvZFxuICAgKiBAbmFtZSAkcGFyc2VQcm92aWRlciNhZGRMaXRlcmFsXG4gICAqIEBkZXNjcmlwdGlvblxuICAgKlxuICAgKiBDb25maWd1cmUgJHBhcnNlIHNlcnZpY2UgdG8gYWRkIGxpdGVyYWwgdmFsdWVzIHRoYXQgd2lsbCBiZSBwcmVzZW50IGFzIGxpdGVyYWwgYXQgZXhwcmVzc2lvbnMuXG4gICAqXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBsaXRlcmFsTmFtZSBUb2tlbiBmb3IgdGhlIGxpdGVyYWwgdmFsdWUuIFRoZSBsaXRlcmFsIG5hbWUgdmFsdWUgbXVzdCBiZSBhIHZhbGlkIGxpdGVyYWwgbmFtZS5cbiAgICogQHBhcmFtIHsqfSBsaXRlcmFsVmFsdWUgVmFsdWUgZm9yIHRoaXMgbGl0ZXJhbC4gQWxsIGxpdGVyYWwgdmFsdWVzIG11c3QgYmUgcHJpbWl0aXZlcyBvciBgdW5kZWZpbmVkYC5cbiAgICpcbiAgICoqL1xuICB0aGlzLmFkZExpdGVyYWwgPSBmdW5jdGlvbihsaXRlcmFsTmFtZSwgbGl0ZXJhbFZhbHVlKSB7XG4gICAgbGl0ZXJhbHNbbGl0ZXJhbE5hbWVdID0gbGl0ZXJhbFZhbHVlO1xuICB9O1xuXG4gLyoqXG4gICogQG5nZG9jIG1ldGhvZFxuICAqIEBuYW1lICRwYXJzZVByb3ZpZGVyI3NldElkZW50aWZpZXJGbnNcbiAgKlxuICAqIEBkZXNjcmlwdGlvblxuICAqXG4gICogQWxsb3dzIGRlZmluaW5nIHRoZSBzZXQgb2YgY2hhcmFjdGVycyB0aGF0IGFyZSBhbGxvd2VkIGluIEFuZ3VsYXIgZXhwcmVzc2lvbnMuIFRoZSBmdW5jdGlvblxuICAqIGBpZGVudGlmaWVyU3RhcnRgIHdpbGwgZ2V0IGNhbGxlZCB0byBrbm93IGlmIGEgZ2l2ZW4gY2hhcmFjdGVyIGlzIGEgdmFsaWQgY2hhcmFjdGVyIHRvIGJlIHRoZVxuICAqIGZpcnN0IGNoYXJhY3RlciBmb3IgYW4gaWRlbnRpZmllci4gVGhlIGZ1bmN0aW9uIGBpZGVudGlmaWVyQ29udGludWVgIHdpbGwgZ2V0IGNhbGxlZCB0byBrbm93IGlmXG4gICogYSBnaXZlbiBjaGFyYWN0ZXIgaXMgYSB2YWxpZCBjaGFyYWN0ZXIgdG8gYmUgYSBmb2xsb3ctdXAgaWRlbnRpZmllciBjaGFyYWN0ZXIuIFRoZSBmdW5jdGlvbnNcbiAgKiBgaWRlbnRpZmllclN0YXJ0YCBhbmQgYGlkZW50aWZpZXJDb250aW51ZWAgd2lsbCByZWNlaXZlIGFzIGFyZ3VtZW50cyB0aGUgc2luZ2xlIGNoYXJhY3RlciB0byBiZVxuICAqIGlkZW50aWZpZXIgYW5kIHRoZSBjaGFyYWN0ZXIgY29kZSBwb2ludC4gVGhlc2UgYXJndW1lbnRzIHdpbGwgYmUgYHN0cmluZ2AgYW5kIGBudW1lcmljYC4gS2VlcCBpblxuICAqIG1pbmQgdGhhdCB0aGUgYHN0cmluZ2AgcGFyYW1ldGVyIGNhbiBiZSB0d28gY2hhcmFjdGVycyBsb25nIGRlcGVuZGluZyBvbiB0aGUgY2hhcmFjdGVyXG4gICogcmVwcmVzZW50YXRpb24uIEl0IGlzIGV4cGVjdGVkIGZvciB0aGUgZnVuY3Rpb24gdG8gcmV0dXJuIGB0cnVlYCBvciBgZmFsc2VgLCB3aGV0aGVyIHRoYXRcbiAgKiBjaGFyYWN0ZXIgaXMgYWxsb3dlZCBvciBub3QuXG4gICpcbiAgKiBTaW5jZSB0aGlzIGZ1bmN0aW9uIHdpbGwgYmUgY2FsbGVkIGV4dGVuc2l2ZWx5LCBrZWVwIHRoZSBpbXBsZW1lbnRhdGlvbiBvZiB0aGVzZSBmdW5jdGlvbnMgZmFzdCxcbiAgKiBhcyB0aGUgcGVyZm9ybWFuY2Ugb2YgdGhlc2UgZnVuY3Rpb25zIGhhdmUgYSBkaXJlY3QgaW1wYWN0IG9uIHRoZSBleHByZXNzaW9ucyBwYXJzaW5nIHNwZWVkLlxuICAqXG4gICogQHBhcmFtIHtmdW5jdGlvbj19IGlkZW50aWZpZXJTdGFydCBUaGUgZnVuY3Rpb24gdGhhdCB3aWxsIGRlY2lkZSB3aGV0aGVyIHRoZSBnaXZlbiBjaGFyYWN0ZXIgaXNcbiAgKiAgIGEgdmFsaWQgaWRlbnRpZmllciBzdGFydCBjaGFyYWN0ZXIuXG4gICogQHBhcmFtIHtmdW5jdGlvbj19IGlkZW50aWZpZXJDb250aW51ZSBUaGUgZnVuY3Rpb24gdGhhdCB3aWxsIGRlY2lkZSB3aGV0aGVyIHRoZSBnaXZlbiBjaGFyYWN0ZXIgaXNcbiAgKiAgIGEgdmFsaWQgaWRlbnRpZmllciBjb250aW51ZSBjaGFyYWN0ZXIuXG4gICovXG4gIHRoaXMuc2V0SWRlbnRpZmllckZucyA9IGZ1bmN0aW9uKGlkZW50aWZpZXJTdGFydCwgaWRlbnRpZmllckNvbnRpbnVlKSB7XG4gICAgaWRlbnRTdGFydCA9IGlkZW50aWZpZXJTdGFydDtcbiAgICBpZGVudENvbnRpbnVlID0gaWRlbnRpZmllckNvbnRpbnVlO1xuICAgIHJldHVybiB0aGlzO1xuICB9O1xuXG4gIHRoaXMuJGdldCA9IFsnJGZpbHRlcicsIGZ1bmN0aW9uKCRmaWx0ZXIpIHtcbiAgICB2YXIgbm9VbnNhZmVFdmFsID0gY3NwKCkubm9VbnNhZmVFdmFsO1xuICAgIHZhciAkcGFyc2VPcHRpb25zID0ge1xuICAgICAgICAgIGNzcDogbm9VbnNhZmVFdmFsLFxuICAgICAgICAgIGxpdGVyYWxzOiBjb3B5KGxpdGVyYWxzKSxcbiAgICAgICAgICBpc0lkZW50aWZpZXJTdGFydDogaXNGdW5jdGlvbihpZGVudFN0YXJ0KSAmJiBpZGVudFN0YXJ0LFxuICAgICAgICAgIGlzSWRlbnRpZmllckNvbnRpbnVlOiBpc0Z1bmN0aW9uKGlkZW50Q29udGludWUpICYmIGlkZW50Q29udGludWVcbiAgICAgICAgfTtcbiAgICByZXR1cm4gJHBhcnNlO1xuXG4gICAgZnVuY3Rpb24gJHBhcnNlKGV4cCwgaW50ZXJjZXB0b3JGbikge1xuICAgICAgdmFyIHBhcnNlZEV4cHJlc3Npb24sIG9uZVRpbWUsIGNhY2hlS2V5O1xuXG4gICAgICBzd2l0Y2ggKHR5cGVvZiBleHApIHtcbiAgICAgICAgY2FzZSAnc3RyaW5nJzpcbiAgICAgICAgICBleHAgPSBleHAudHJpbSgpO1xuICAgICAgICAgIGNhY2hlS2V5ID0gZXhwO1xuXG4gICAgICAgICAgcGFyc2VkRXhwcmVzc2lvbiA9IGNhY2hlW2NhY2hlS2V5XTtcblxuICAgICAgICAgIGlmICghcGFyc2VkRXhwcmVzc2lvbikge1xuICAgICAgICAgICAgaWYgKGV4cC5jaGFyQXQoMCkgPT09ICc6JyAmJiBleHAuY2hhckF0KDEpID09PSAnOicpIHtcbiAgICAgICAgICAgICAgb25lVGltZSA9IHRydWU7XG4gICAgICAgICAgICAgIGV4cCA9IGV4cC5zdWJzdHJpbmcoMik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB2YXIgbGV4ZXIgPSBuZXcgTGV4ZXIoJHBhcnNlT3B0aW9ucyk7XG4gICAgICAgICAgICB2YXIgcGFyc2VyID0gbmV3IFBhcnNlcihsZXhlciwgJGZpbHRlciwgJHBhcnNlT3B0aW9ucyk7XG4gICAgICAgICAgICBwYXJzZWRFeHByZXNzaW9uID0gcGFyc2VyLnBhcnNlKGV4cCk7XG4gICAgICAgICAgICBpZiAocGFyc2VkRXhwcmVzc2lvbi5jb25zdGFudCkge1xuICAgICAgICAgICAgICBwYXJzZWRFeHByZXNzaW9uLiQkd2F0Y2hEZWxlZ2F0ZSA9IGNvbnN0YW50V2F0Y2hEZWxlZ2F0ZTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAob25lVGltZSkge1xuICAgICAgICAgICAgICBwYXJzZWRFeHByZXNzaW9uLm9uZVRpbWUgPSB0cnVlO1xuICAgICAgICAgICAgICBwYXJzZWRFeHByZXNzaW9uLiQkd2F0Y2hEZWxlZ2F0ZSA9IG9uZVRpbWVXYXRjaERlbGVnYXRlO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChwYXJzZWRFeHByZXNzaW9uLmlucHV0cykge1xuICAgICAgICAgICAgICBwYXJzZWRFeHByZXNzaW9uLiQkd2F0Y2hEZWxlZ2F0ZSA9IGlucHV0c1dhdGNoRGVsZWdhdGU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYWNoZVtjYWNoZUtleV0gPSBwYXJzZWRFeHByZXNzaW9uO1xuICAgICAgICAgIH1cbiAgICAgICAgICByZXR1cm4gYWRkSW50ZXJjZXB0b3IocGFyc2VkRXhwcmVzc2lvbiwgaW50ZXJjZXB0b3JGbik7XG5cbiAgICAgICAgY2FzZSAnZnVuY3Rpb24nOlxuICAgICAgICAgIHJldHVybiBhZGRJbnRlcmNlcHRvcihleHAsIGludGVyY2VwdG9yRm4pO1xuXG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgcmV0dXJuIGFkZEludGVyY2VwdG9yKG5vb3AsIGludGVyY2VwdG9yRm4pO1xuICAgICAgfVxuICAgIH1cblxuICAgIGZ1bmN0aW9uIGV4cHJlc3Npb25JbnB1dERpcnR5Q2hlY2sobmV3VmFsdWUsIG9sZFZhbHVlT2ZWYWx1ZSwgY29tcGFyZU9iamVjdElkZW50aXR5KSB7XG5cbiAgICAgIGlmIChuZXdWYWx1ZSA9PSBudWxsIHx8IG9sZFZhbHVlT2ZWYWx1ZSA9PSBudWxsKSB7IC8vIG51bGwvdW5kZWZpbmVkXG4gICAgICAgIHJldHVybiBuZXdWYWx1ZSA9PT0gb2xkVmFsdWVPZlZhbHVlO1xuICAgICAgfVxuXG4gICAgICBpZiAodHlwZW9mIG5ld1ZhbHVlID09PSAnb2JqZWN0Jykge1xuXG4gICAgICAgIC8vIGF0dGVtcHQgdG8gY29udmVydCB0aGUgdmFsdWUgdG8gYSBwcmltaXRpdmUgdHlwZVxuICAgICAgICAvLyBUT0RPKGRvY3MpOiBhZGQgYSBub3RlIHRvIGRvY3MgdGhhdCBieSBpbXBsZW1lbnRpbmcgdmFsdWVPZiBldmVuIG9iamVjdHMgYW5kIGFycmF5cyBjYW5cbiAgICAgICAgLy8gICAgICAgICAgICAgYmUgY2hlYXBseSBkaXJ0eS1jaGVja2VkXG4gICAgICAgIG5ld1ZhbHVlID0gZ2V0VmFsdWVPZihuZXdWYWx1ZSk7XG5cbiAgICAgICAgaWYgKHR5cGVvZiBuZXdWYWx1ZSA9PT0gJ29iamVjdCcgJiYgIWNvbXBhcmVPYmplY3RJZGVudGl0eSkge1xuICAgICAgICAgIC8vIG9iamVjdHMvYXJyYXlzIGFyZSBub3Qgc3VwcG9ydGVkIC0gZGVlcC13YXRjaGluZyB0aGVtIHdvdWxkIGJlIHRvbyBleHBlbnNpdmVcbiAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBmYWxsLXRocm91Z2ggdG8gdGhlIHByaW1pdGl2ZSBlcXVhbGl0eSBjaGVja1xuICAgICAgfVxuXG4gICAgICAvL1ByaW1pdGl2ZSBvciBOYU5cbiAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1zZWxmLWNvbXBhcmVcbiAgICAgIHJldHVybiBuZXdWYWx1ZSA9PT0gb2xkVmFsdWVPZlZhbHVlIHx8IChuZXdWYWx1ZSAhPT0gbmV3VmFsdWUgJiYgb2xkVmFsdWVPZlZhbHVlICE9PSBvbGRWYWx1ZU9mVmFsdWUpO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGlucHV0c1dhdGNoRGVsZWdhdGUoc2NvcGUsIGxpc3RlbmVyLCBvYmplY3RFcXVhbGl0eSwgcGFyc2VkRXhwcmVzc2lvbiwgcHJldHR5UHJpbnRFeHByZXNzaW9uKSB7XG4gICAgICB2YXIgaW5wdXRFeHByZXNzaW9ucyA9IHBhcnNlZEV4cHJlc3Npb24uaW5wdXRzO1xuICAgICAgdmFyIGxhc3RSZXN1bHQ7XG5cbiAgICAgIGlmIChpbnB1dEV4cHJlc3Npb25zLmxlbmd0aCA9PT0gMSkge1xuICAgICAgICB2YXIgb2xkSW5wdXRWYWx1ZU9mID0gZXhwcmVzc2lvbklucHV0RGlydHlDaGVjazsgLy8gaW5pdCB0byBzb21ldGhpbmcgdW5pcXVlIHNvIHRoYXQgZXF1YWxzIGNoZWNrIGZhaWxzXG4gICAgICAgIGlucHV0RXhwcmVzc2lvbnMgPSBpbnB1dEV4cHJlc3Npb25zWzBdO1xuICAgICAgICByZXR1cm4gc2NvcGUuJHdhdGNoKGZ1bmN0aW9uIGV4cHJlc3Npb25JbnB1dFdhdGNoKHNjb3BlKSB7XG4gICAgICAgICAgdmFyIG5ld0lucHV0VmFsdWUgPSBpbnB1dEV4cHJlc3Npb25zKHNjb3BlKTtcbiAgICAgICAgICBpZiAoIWV4cHJlc3Npb25JbnB1dERpcnR5Q2hlY2sobmV3SW5wdXRWYWx1ZSwgb2xkSW5wdXRWYWx1ZU9mLCBwYXJzZWRFeHByZXNzaW9uLmxpdGVyYWwpKSB7XG4gICAgICAgICAgICBsYXN0UmVzdWx0ID0gcGFyc2VkRXhwcmVzc2lvbihzY29wZSwgdW5kZWZpbmVkLCB1bmRlZmluZWQsIFtuZXdJbnB1dFZhbHVlXSk7XG4gICAgICAgICAgICBvbGRJbnB1dFZhbHVlT2YgPSBuZXdJbnB1dFZhbHVlICYmIGdldFZhbHVlT2YobmV3SW5wdXRWYWx1ZSk7XG4gICAgICAgICAgfVxuICAgICAgICAgIHJldHVybiBsYXN0UmVzdWx0O1xuICAgICAgICB9LCBsaXN0ZW5lciwgb2JqZWN0RXF1YWxpdHksIHByZXR0eVByaW50RXhwcmVzc2lvbik7XG4gICAgICB9XG5cbiAgICAgIHZhciBvbGRJbnB1dFZhbHVlT2ZWYWx1ZXMgPSBbXTtcbiAgICAgIHZhciBvbGRJbnB1dFZhbHVlcyA9IFtdO1xuICAgICAgZm9yICh2YXIgaSA9IDAsIGlpID0gaW5wdXRFeHByZXNzaW9ucy5sZW5ndGg7IGkgPCBpaTsgaSsrKSB7XG4gICAgICAgIG9sZElucHV0VmFsdWVPZlZhbHVlc1tpXSA9IGV4cHJlc3Npb25JbnB1dERpcnR5Q2hlY2s7IC8vIGluaXQgdG8gc29tZXRoaW5nIHVuaXF1ZSBzbyB0aGF0IGVxdWFscyBjaGVjayBmYWlsc1xuICAgICAgICBvbGRJbnB1dFZhbHVlc1tpXSA9IG51bGw7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBzY29wZS4kd2F0Y2goZnVuY3Rpb24gZXhwcmVzc2lvbklucHV0c1dhdGNoKHNjb3BlKSB7XG4gICAgICAgIHZhciBjaGFuZ2VkID0gZmFsc2U7XG5cbiAgICAgICAgZm9yICh2YXIgaSA9IDAsIGlpID0gaW5wdXRFeHByZXNzaW9ucy5sZW5ndGg7IGkgPCBpaTsgaSsrKSB7XG4gICAgICAgICAgdmFyIG5ld0lucHV0VmFsdWUgPSBpbnB1dEV4cHJlc3Npb25zW2ldKHNjb3BlKTtcbiAgICAgICAgICBpZiAoY2hhbmdlZCB8fCAoY2hhbmdlZCA9ICFleHByZXNzaW9uSW5wdXREaXJ0eUNoZWNrKG5ld0lucHV0VmFsdWUsIG9sZElucHV0VmFsdWVPZlZhbHVlc1tpXSwgcGFyc2VkRXhwcmVzc2lvbi5saXRlcmFsKSkpIHtcbiAgICAgICAgICAgIG9sZElucHV0VmFsdWVzW2ldID0gbmV3SW5wdXRWYWx1ZTtcbiAgICAgICAgICAgIG9sZElucHV0VmFsdWVPZlZhbHVlc1tpXSA9IG5ld0lucHV0VmFsdWUgJiYgZ2V0VmFsdWVPZihuZXdJbnB1dFZhbHVlKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoY2hhbmdlZCkge1xuICAgICAgICAgIGxhc3RSZXN1bHQgPSBwYXJzZWRFeHByZXNzaW9uKHNjb3BlLCB1bmRlZmluZWQsIHVuZGVmaW5lZCwgb2xkSW5wdXRWYWx1ZXMpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGxhc3RSZXN1bHQ7XG4gICAgICB9LCBsaXN0ZW5lciwgb2JqZWN0RXF1YWxpdHksIHByZXR0eVByaW50RXhwcmVzc2lvbik7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gb25lVGltZVdhdGNoRGVsZWdhdGUoc2NvcGUsIGxpc3RlbmVyLCBvYmplY3RFcXVhbGl0eSwgcGFyc2VkRXhwcmVzc2lvbiwgcHJldHR5UHJpbnRFeHByZXNzaW9uKSB7XG4gICAgICB2YXIgaXNEb25lID0gcGFyc2VkRXhwcmVzc2lvbi5saXRlcmFsID8gaXNBbGxEZWZpbmVkIDogaXNEZWZpbmVkO1xuICAgICAgdmFyIHVud2F0Y2gsIGxhc3RWYWx1ZTtcbiAgICAgIGlmIChwYXJzZWRFeHByZXNzaW9uLmlucHV0cykge1xuICAgICAgICB1bndhdGNoID0gaW5wdXRzV2F0Y2hEZWxlZ2F0ZShzY29wZSwgb25lVGltZUxpc3RlbmVyLCBvYmplY3RFcXVhbGl0eSwgcGFyc2VkRXhwcmVzc2lvbiwgcHJldHR5UHJpbnRFeHByZXNzaW9uKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHVud2F0Y2ggPSBzY29wZS4kd2F0Y2gob25lVGltZVdhdGNoLCBvbmVUaW1lTGlzdGVuZXIsIG9iamVjdEVxdWFsaXR5KTtcbiAgICAgIH1cbiAgICAgIHJldHVybiB1bndhdGNoO1xuXG4gICAgICBmdW5jdGlvbiBvbmVUaW1lV2F0Y2goc2NvcGUpIHtcbiAgICAgICAgcmV0dXJuIHBhcnNlZEV4cHJlc3Npb24oc2NvcGUpO1xuICAgICAgfVxuICAgICAgZnVuY3Rpb24gb25lVGltZUxpc3RlbmVyKHZhbHVlLCBvbGQsIHNjb3BlKSB7XG4gICAgICAgIGxhc3RWYWx1ZSA9IHZhbHVlO1xuICAgICAgICBpZiAoaXNGdW5jdGlvbihsaXN0ZW5lcikpIHtcbiAgICAgICAgICBsaXN0ZW5lcih2YWx1ZSwgb2xkLCBzY29wZSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGlzRG9uZSh2YWx1ZSkpIHtcbiAgICAgICAgICBzY29wZS4kJHBvc3REaWdlc3QoZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICBpZiAoaXNEb25lKGxhc3RWYWx1ZSkpIHtcbiAgICAgICAgICAgICAgdW53YXRjaCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gaXNBbGxEZWZpbmVkKHZhbHVlKSB7XG4gICAgICB2YXIgYWxsRGVmaW5lZCA9IHRydWU7XG4gICAgICBmb3JFYWNoKHZhbHVlLCBmdW5jdGlvbih2YWwpIHtcbiAgICAgICAgaWYgKCFpc0RlZmluZWQodmFsKSkgYWxsRGVmaW5lZCA9IGZhbHNlO1xuICAgICAgfSk7XG4gICAgICByZXR1cm4gYWxsRGVmaW5lZDtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBjb25zdGFudFdhdGNoRGVsZWdhdGUoc2NvcGUsIGxpc3RlbmVyLCBvYmplY3RFcXVhbGl0eSwgcGFyc2VkRXhwcmVzc2lvbikge1xuICAgICAgdmFyIHVud2F0Y2ggPSBzY29wZS4kd2F0Y2goZnVuY3Rpb24gY29uc3RhbnRXYXRjaChzY29wZSkge1xuICAgICAgICB1bndhdGNoKCk7XG4gICAgICAgIHJldHVybiBwYXJzZWRFeHByZXNzaW9uKHNjb3BlKTtcbiAgICAgIH0sIGxpc3RlbmVyLCBvYmplY3RFcXVhbGl0eSk7XG4gICAgICByZXR1cm4gdW53YXRjaDtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBhZGRJbnRlcmNlcHRvcihwYXJzZWRFeHByZXNzaW9uLCBpbnRlcmNlcHRvckZuKSB7XG4gICAgICBpZiAoIWludGVyY2VwdG9yRm4pIHJldHVybiBwYXJzZWRFeHByZXNzaW9uO1xuICAgICAgdmFyIHdhdGNoRGVsZWdhdGUgPSBwYXJzZWRFeHByZXNzaW9uLiQkd2F0Y2hEZWxlZ2F0ZTtcbiAgICAgIHZhciB1c2VJbnB1dHMgPSBmYWxzZTtcblxuICAgICAgdmFyIGlzRG9uZSA9IHBhcnNlZEV4cHJlc3Npb24ubGl0ZXJhbCA/IGlzQWxsRGVmaW5lZCA6IGlzRGVmaW5lZDtcblxuICAgICAgZnVuY3Rpb24gcmVndWxhckludGVyY2VwdGVkRXhwcmVzc2lvbihzY29wZSwgbG9jYWxzLCBhc3NpZ24sIGlucHV0cykge1xuICAgICAgICB2YXIgdmFsdWUgPSB1c2VJbnB1dHMgJiYgaW5wdXRzID8gaW5wdXRzWzBdIDogcGFyc2VkRXhwcmVzc2lvbihzY29wZSwgbG9jYWxzLCBhc3NpZ24sIGlucHV0cyk7XG4gICAgICAgIHJldHVybiBpbnRlcmNlcHRvckZuKHZhbHVlLCBzY29wZSwgbG9jYWxzKTtcbiAgICAgIH1cblxuICAgICAgZnVuY3Rpb24gb25lVGltZUludGVyY2VwdGVkRXhwcmVzc2lvbihzY29wZSwgbG9jYWxzLCBhc3NpZ24sIGlucHV0cykge1xuICAgICAgICB2YXIgdmFsdWUgPSB1c2VJbnB1dHMgJiYgaW5wdXRzID8gaW5wdXRzWzBdIDogcGFyc2VkRXhwcmVzc2lvbihzY29wZSwgbG9jYWxzLCBhc3NpZ24sIGlucHV0cyk7XG4gICAgICAgIHZhciByZXN1bHQgPSBpbnRlcmNlcHRvckZuKHZhbHVlLCBzY29wZSwgbG9jYWxzKTtcbiAgICAgICAgLy8gd2Ugb25seSByZXR1cm4gdGhlIGludGVyY2VwdG9yJ3MgcmVzdWx0IGlmIHRoZVxuICAgICAgICAvLyBpbml0aWFsIHZhbHVlIGlzIGRlZmluZWQgKGZvciBiaW5kLW9uY2UpXG4gICAgICAgIHJldHVybiBpc0RvbmUodmFsdWUpID8gcmVzdWx0IDogdmFsdWU7XG4gICAgICB9XG5cbiAgICAgIHZhciBmbiA9IHBhcnNlZEV4cHJlc3Npb24ub25lVGltZSA/IG9uZVRpbWVJbnRlcmNlcHRlZEV4cHJlc3Npb24gOiByZWd1bGFySW50ZXJjZXB0ZWRFeHByZXNzaW9uO1xuXG4gICAgICAvLyBQcm9wb2dhdGUgdGhlIGxpdGVyYWwvb25lVGltZSBhdHRyaWJ1dGVzXG4gICAgICBmbi5saXRlcmFsID0gcGFyc2VkRXhwcmVzc2lvbi5saXRlcmFsO1xuICAgICAgZm4ub25lVGltZSA9IHBhcnNlZEV4cHJlc3Npb24ub25lVGltZTtcblxuICAgICAgLy8gUHJvcGFnYXRlIG9yIGNyZWF0ZSBpbnB1dHMgLyAkJHdhdGNoRGVsZWdhdGVzXG4gICAgICB1c2VJbnB1dHMgPSAhcGFyc2VkRXhwcmVzc2lvbi5pbnB1dHM7XG4gICAgICBpZiAod2F0Y2hEZWxlZ2F0ZSAmJiB3YXRjaERlbGVnYXRlICE9PSBpbnB1dHNXYXRjaERlbGVnYXRlKSB7XG4gICAgICAgIGZuLiQkd2F0Y2hEZWxlZ2F0ZSA9IHdhdGNoRGVsZWdhdGU7XG4gICAgICAgIGZuLmlucHV0cyA9IHBhcnNlZEV4cHJlc3Npb24uaW5wdXRzO1xuICAgICAgfSBlbHNlIGlmICghaW50ZXJjZXB0b3JGbi4kc3RhdGVmdWwpIHtcbiAgICAgICAgLy8gSWYgdGhlcmUgaXMgYW4gaW50ZXJjZXB0b3IsIGJ1dCBubyB3YXRjaERlbGVnYXRlIHRoZW4gdHJlYXQgdGhlIGludGVyY2VwdG9yIGxpa2VcbiAgICAgICAgLy8gd2UgdHJlYXQgZmlsdGVycyAtIGl0IGlzIGFzc3VtZWQgdG8gYmUgYSBwdXJlIGZ1bmN0aW9uIHVubGVzcyBmbGFnZ2VkIHdpdGggJHN0YXRlZnVsXG4gICAgICAgIGZuLiQkd2F0Y2hEZWxlZ2F0ZSA9IGlucHV0c1dhdGNoRGVsZWdhdGU7XG4gICAgICAgIGZuLmlucHV0cyA9IHBhcnNlZEV4cHJlc3Npb24uaW5wdXRzID8gcGFyc2VkRXhwcmVzc2lvbi5pbnB1dHMgOiBbcGFyc2VkRXhwcmVzc2lvbl07XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBmbjtcbiAgICB9XG4gIH1dO1xufVxuXG4vKipcbiAqIEBuZ2RvYyBzZXJ2aWNlXG4gKiBAbmFtZSAkcVxuICogQHJlcXVpcmVzICRyb290U2NvcGVcbiAqXG4gKiBAZGVzY3JpcHRpb25cbiAqIEEgc2VydmljZSB0aGF0IGhlbHBzIHlvdSBydW4gZnVuY3Rpb25zIGFzeW5jaHJvbm91c2x5LCBhbmQgdXNlIHRoZWlyIHJldHVybiB2YWx1ZXMgKG9yIGV4Y2VwdGlvbnMpXG4gKiB3aGVuIHRoZXkgYXJlIGRvbmUgcHJvY2Vzc2luZy5cbiAqXG4gKiBUaGlzIGlzIGEgW1Byb21pc2VzL0ErXShodHRwczovL3Byb21pc2VzYXBsdXMuY29tLyktY29tcGxpYW50IGltcGxlbWVudGF0aW9uIG9mIHByb21pc2VzL2RlZmVycmVkXG4gKiBvYmplY3RzIGluc3BpcmVkIGJ5IFtLcmlzIEtvd2FsJ3MgUV0oaHR0cHM6Ly9naXRodWIuY29tL2tyaXNrb3dhbC9xKS5cbiAqXG4gKiAkcSBjYW4gYmUgdXNlZCBpbiB0d28gZmFzaGlvbnMgLS0tIG9uZSB3aGljaCBpcyBtb3JlIHNpbWlsYXIgdG8gS3JpcyBLb3dhbCdzIFEgb3IgalF1ZXJ5J3MgRGVmZXJyZWRcbiAqIGltcGxlbWVudGF0aW9ucywgYW5kIHRoZSBvdGhlciB3aGljaCByZXNlbWJsZXMgRVM2IChFUzIwMTUpIHByb21pc2VzIHRvIHNvbWUgZGVncmVlLlxuICpcbiAqICMgJHEgY29uc3RydWN0b3JcbiAqXG4gKiBUaGUgc3RyZWFtbGluZWQgRVM2IHN0eWxlIHByb21pc2UgaXMgZXNzZW50aWFsbHkganVzdCB1c2luZyAkcSBhcyBhIGNvbnN0cnVjdG9yIHdoaWNoIHRha2VzIGEgYHJlc29sdmVyYFxuICogZnVuY3Rpb24gYXMgdGhlIGZpcnN0IGFyZ3VtZW50LiBUaGlzIGlzIHNpbWlsYXIgdG8gdGhlIG5hdGl2ZSBQcm9taXNlIGltcGxlbWVudGF0aW9uIGZyb20gRVM2LFxuICogc2VlIFtNRE5dKGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0phdmFTY3JpcHQvUmVmZXJlbmNlL0dsb2JhbF9PYmplY3RzL1Byb21pc2UpLlxuICpcbiAqIFdoaWxlIHRoZSBjb25zdHJ1Y3Rvci1zdHlsZSB1c2UgaXMgc3VwcG9ydGVkLCBub3QgYWxsIG9mIHRoZSBzdXBwb3J0aW5nIG1ldGhvZHMgZnJvbSBFUzYgcHJvbWlzZXMgYXJlXG4gKiBhdmFpbGFibGUgeWV0LlxuICpcbiAqIEl0IGNhbiBiZSB1c2VkIGxpa2Ugc286XG4gKlxuICogYGBganNcbiAqICAgLy8gZm9yIHRoZSBwdXJwb3NlIG9mIHRoaXMgZXhhbXBsZSBsZXQncyBhc3N1bWUgdGhhdCB2YXJpYWJsZXMgYCRxYCBhbmQgYG9rVG9HcmVldGBcbiAqICAgLy8gYXJlIGF2YWlsYWJsZSBpbiB0aGUgY3VycmVudCBsZXhpY2FsIHNjb3BlICh0aGV5IGNvdWxkIGhhdmUgYmVlbiBpbmplY3RlZCBvciBwYXNzZWQgaW4pLlxuICpcbiAqICAgZnVuY3Rpb24gYXN5bmNHcmVldChuYW1lKSB7XG4gKiAgICAgLy8gcGVyZm9ybSBzb21lIGFzeW5jaHJvbm91cyBvcGVyYXRpb24sIHJlc29sdmUgb3IgcmVqZWN0IHRoZSBwcm9taXNlIHdoZW4gYXBwcm9wcmlhdGUuXG4gKiAgICAgcmV0dXJuICRxKGZ1bmN0aW9uKHJlc29sdmUsIHJlamVjdCkge1xuICogICAgICAgc2V0VGltZW91dChmdW5jdGlvbigpIHtcbiAqICAgICAgICAgaWYgKG9rVG9HcmVldChuYW1lKSkge1xuICogICAgICAgICAgIHJlc29sdmUoJ0hlbGxvLCAnICsgbmFtZSArICchJyk7XG4gKiAgICAgICAgIH0gZWxzZSB7XG4gKiAgICAgICAgICAgcmVqZWN0KCdHcmVldGluZyAnICsgbmFtZSArICcgaXMgbm90IGFsbG93ZWQuJyk7XG4gKiAgICAgICAgIH1cbiAqICAgICAgIH0sIDEwMDApO1xuICogICAgIH0pO1xuICogICB9XG4gKlxuICogICB2YXIgcHJvbWlzZSA9IGFzeW5jR3JlZXQoJ1JvYmluIEhvb2QnKTtcbiAqICAgcHJvbWlzZS50aGVuKGZ1bmN0aW9uKGdyZWV0aW5nKSB7XG4gKiAgICAgYWxlcnQoJ1N1Y2Nlc3M6ICcgKyBncmVldGluZyk7XG4gKiAgIH0sIGZ1bmN0aW9uKHJlYXNvbikge1xuICogICAgIGFsZXJ0KCdGYWlsZWQ6ICcgKyByZWFzb24pO1xuICogICB9KTtcbiAqIGBgYFxuICpcbiAqIE5vdGU6IHByb2dyZXNzL25vdGlmeSBjYWxsYmFja3MgYXJlIG5vdCBjdXJyZW50bHkgc3VwcG9ydGVkIHZpYSB0aGUgRVM2LXN0eWxlIGludGVyZmFjZS5cbiAqXG4gKiBOb3RlOiB1bmxpa2UgRVM2IGJlaGF2aW9yLCBhbiBleGNlcHRpb24gdGhyb3duIGluIHRoZSBjb25zdHJ1Y3RvciBmdW5jdGlvbiB3aWxsIE5PVCBpbXBsaWNpdGx5IHJlamVjdCB0aGUgcHJvbWlzZS5cbiAqXG4gKiBIb3dldmVyLCB0aGUgbW9yZSB0cmFkaXRpb25hbCBDb21tb25KUy1zdHlsZSB1c2FnZSBpcyBzdGlsbCBhdmFpbGFibGUsIGFuZCBkb2N1bWVudGVkIGJlbG93LlxuICpcbiAqIFtUaGUgQ29tbW9uSlMgUHJvbWlzZSBwcm9wb3NhbF0oaHR0cDovL3dpa2kuY29tbW9uanMub3JnL3dpa2kvUHJvbWlzZXMpIGRlc2NyaWJlcyBhIHByb21pc2UgYXMgYW5cbiAqIGludGVyZmFjZSBmb3IgaW50ZXJhY3Rpbmcgd2l0aCBhbiBvYmplY3QgdGhhdCByZXByZXNlbnRzIHRoZSByZXN1bHQgb2YgYW4gYWN0aW9uIHRoYXQgaXNcbiAqIHBlcmZvcm1lZCBhc3luY2hyb25vdXNseSwgYW5kIG1heSBvciBtYXkgbm90IGJlIGZpbmlzaGVkIGF0IGFueSBnaXZlbiBwb2ludCBpbiB0aW1lLlxuICpcbiAqIEZyb20gdGhlIHBlcnNwZWN0aXZlIG9mIGRlYWxpbmcgd2l0aCBlcnJvciBoYW5kbGluZywgZGVmZXJyZWQgYW5kIHByb21pc2UgQVBJcyBhcmUgdG9cbiAqIGFzeW5jaHJvbm91cyBwcm9ncmFtbWluZyB3aGF0IGB0cnlgLCBgY2F0Y2hgIGFuZCBgdGhyb3dgIGtleXdvcmRzIGFyZSB0byBzeW5jaHJvbm91cyBwcm9ncmFtbWluZy5cbiAqXG4gKiBgYGBqc1xuICogICAvLyBmb3IgdGhlIHB1cnBvc2Ugb2YgdGhpcyBleGFtcGxlIGxldCdzIGFzc3VtZSB0aGF0IHZhcmlhYmxlcyBgJHFgIGFuZCBgb2tUb0dyZWV0YFxuICogICAvLyBhcmUgYXZhaWxhYmxlIGluIHRoZSBjdXJyZW50IGxleGljYWwgc2NvcGUgKHRoZXkgY291bGQgaGF2ZSBiZWVuIGluamVjdGVkIG9yIHBhc3NlZCBpbikuXG4gKlxuICogICBmdW5jdGlvbiBhc3luY0dyZWV0KG5hbWUpIHtcbiAqICAgICB2YXIgZGVmZXJyZWQgPSAkcS5kZWZlcigpO1xuICpcbiAqICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkge1xuICogICAgICAgZGVmZXJyZWQubm90aWZ5KCdBYm91dCB0byBncmVldCAnICsgbmFtZSArICcuJyk7XG4gKlxuICogICAgICAgaWYgKG9rVG9HcmVldChuYW1lKSkge1xuICogICAgICAgICBkZWZlcnJlZC5yZXNvbHZlKCdIZWxsbywgJyArIG5hbWUgKyAnIScpO1xuICogICAgICAgfSBlbHNlIHtcbiAqICAgICAgICAgZGVmZXJyZWQucmVqZWN0KCdHcmVldGluZyAnICsgbmFtZSArICcgaXMgbm90IGFsbG93ZWQuJyk7XG4gKiAgICAgICB9XG4gKiAgICAgfSwgMTAwMCk7XG4gKlxuICogICAgIHJldHVybiBkZWZlcnJlZC5wcm9taXNlO1xuICogICB9XG4gKlxuICogICB2YXIgcHJvbWlzZSA9IGFzeW5jR3JlZXQoJ1JvYmluIEhvb2QnKTtcbiAqICAgcHJvbWlzZS50aGVuKGZ1bmN0aW9uKGdyZWV0aW5nKSB7XG4gKiAgICAgYWxlcnQoJ1N1Y2Nlc3M6ICcgKyBncmVldGluZyk7XG4gKiAgIH0sIGZ1bmN0aW9uKHJlYXNvbikge1xuICogICAgIGFsZXJ0KCdGYWlsZWQ6ICcgKyByZWFzb24pO1xuICogICB9LCBmdW5jdGlvbih1cGRhdGUpIHtcbiAqICAgICBhbGVydCgnR290IG5vdGlmaWNhdGlvbjogJyArIHVwZGF0ZSk7XG4gKiAgIH0pO1xuICogYGBgXG4gKlxuICogQXQgZmlyc3QgaXQgbWlnaHQgbm90IGJlIG9idmlvdXMgd2h5IHRoaXMgZXh0cmEgY29tcGxleGl0eSBpcyB3b3J0aCB0aGUgdHJvdWJsZS4gVGhlIHBheW9mZlxuICogY29tZXMgaW4gdGhlIHdheSBvZiBndWFyYW50ZWVzIHRoYXQgcHJvbWlzZSBhbmQgZGVmZXJyZWQgQVBJcyBtYWtlLCBzZWVcbiAqIGh0dHBzOi8vZ2l0aHViLmNvbS9rcmlza293YWwvdW5jb21tb25qcy9ibG9iL21hc3Rlci9wcm9taXNlcy9zcGVjaWZpY2F0aW9uLm1kLlxuICpcbiAqIEFkZGl0aW9uYWxseSB0aGUgcHJvbWlzZSBhcGkgYWxsb3dzIGZvciBjb21wb3NpdGlvbiB0aGF0IGlzIHZlcnkgaGFyZCB0byBkbyB3aXRoIHRoZVxuICogdHJhZGl0aW9uYWwgY2FsbGJhY2sgKFtDUFNdKGh0dHA6Ly9lbi53aWtpcGVkaWEub3JnL3dpa2kvQ29udGludWF0aW9uLXBhc3Npbmdfc3R5bGUpKSBhcHByb2FjaC5cbiAqIEZvciBtb3JlIG9uIHRoaXMgcGxlYXNlIHNlZSB0aGUgW1EgZG9jdW1lbnRhdGlvbl0oaHR0cHM6Ly9naXRodWIuY29tL2tyaXNrb3dhbC9xKSBlc3BlY2lhbGx5IHRoZVxuICogc2VjdGlvbiBvbiBzZXJpYWwgb3IgcGFyYWxsZWwgam9pbmluZyBvZiBwcm9taXNlcy5cbiAqXG4gKiAjIFRoZSBEZWZlcnJlZCBBUElcbiAqXG4gKiBBIG5ldyBpbnN0YW5jZSBvZiBkZWZlcnJlZCBpcyBjb25zdHJ1Y3RlZCBieSBjYWxsaW5nIGAkcS5kZWZlcigpYC5cbiAqXG4gKiBUaGUgcHVycG9zZSBvZiB0aGUgZGVmZXJyZWQgb2JqZWN0IGlzIHRvIGV4cG9zZSB0aGUgYXNzb2NpYXRlZCBQcm9taXNlIGluc3RhbmNlIGFzIHdlbGwgYXMgQVBJc1xuICogdGhhdCBjYW4gYmUgdXNlZCBmb3Igc2lnbmFsaW5nIHRoZSBzdWNjZXNzZnVsIG9yIHVuc3VjY2Vzc2Z1bCBjb21wbGV0aW9uLCBhcyB3ZWxsIGFzIHRoZSBzdGF0dXNcbiAqIG9mIHRoZSB0YXNrLlxuICpcbiAqICoqTWV0aG9kcyoqXG4gKlxuICogLSBgcmVzb2x2ZSh2YWx1ZSlgIOKAkyByZXNvbHZlcyB0aGUgZGVyaXZlZCBwcm9taXNlIHdpdGggdGhlIGB2YWx1ZWAuIElmIHRoZSB2YWx1ZSBpcyBhIHJlamVjdGlvblxuICogICBjb25zdHJ1Y3RlZCB2aWEgYCRxLnJlamVjdGAsIHRoZSBwcm9taXNlIHdpbGwgYmUgcmVqZWN0ZWQgaW5zdGVhZC5cbiAqIC0gYHJlamVjdChyZWFzb24pYCDigJMgcmVqZWN0cyB0aGUgZGVyaXZlZCBwcm9taXNlIHdpdGggdGhlIGByZWFzb25gLiBUaGlzIGlzIGVxdWl2YWxlbnQgdG9cbiAqICAgcmVzb2x2aW5nIGl0IHdpdGggYSByZWplY3Rpb24gY29uc3RydWN0ZWQgdmlhIGAkcS5yZWplY3RgLlxuICogLSBgbm90aWZ5KHZhbHVlKWAgLSBwcm92aWRlcyB1cGRhdGVzIG9uIHRoZSBzdGF0dXMgb2YgdGhlIHByb21pc2UncyBleGVjdXRpb24uIFRoaXMgbWF5IGJlIGNhbGxlZFxuICogICBtdWx0aXBsZSB0aW1lcyBiZWZvcmUgdGhlIHByb21pc2UgaXMgZWl0aGVyIHJlc29sdmVkIG9yIHJlamVjdGVkLlxuICpcbiAqICoqUHJvcGVydGllcyoqXG4gKlxuICogLSBwcm9taXNlIOKAkyBge1Byb21pc2V9YCDigJMgcHJvbWlzZSBvYmplY3QgYXNzb2NpYXRlZCB3aXRoIHRoaXMgZGVmZXJyZWQuXG4gKlxuICpcbiAqICMgVGhlIFByb21pc2UgQVBJXG4gKlxuICogQSBuZXcgcHJvbWlzZSBpbnN0YW5jZSBpcyBjcmVhdGVkIHdoZW4gYSBkZWZlcnJlZCBpbnN0YW5jZSBpcyBjcmVhdGVkIGFuZCBjYW4gYmUgcmV0cmlldmVkIGJ5XG4gKiBjYWxsaW5nIGBkZWZlcnJlZC5wcm9taXNlYC5cbiAqXG4gKiBUaGUgcHVycG9zZSBvZiB0aGUgcHJvbWlzZSBvYmplY3QgaXMgdG8gYWxsb3cgZm9yIGludGVyZXN0ZWQgcGFydGllcyB0byBnZXQgYWNjZXNzIHRvIHRoZSByZXN1bHRcbiAqIG9mIHRoZSBkZWZlcnJlZCB0YXNrIHdoZW4gaXQgY29tcGxldGVzLlxuICpcbiAqICoqTWV0aG9kcyoqXG4gKlxuICogLSBgdGhlbihzdWNjZXNzQ2FsbGJhY2ssIFtlcnJvckNhbGxiYWNrXSwgW25vdGlmeUNhbGxiYWNrXSlgIOKAkyByZWdhcmRsZXNzIG9mIHdoZW4gdGhlIHByb21pc2Ugd2FzIG9yXG4gKiAgIHdpbGwgYmUgcmVzb2x2ZWQgb3IgcmVqZWN0ZWQsIGB0aGVuYCBjYWxscyBvbmUgb2YgdGhlIHN1Y2Nlc3Mgb3IgZXJyb3IgY2FsbGJhY2tzIGFzeW5jaHJvbm91c2x5XG4gKiAgIGFzIHNvb24gYXMgdGhlIHJlc3VsdCBpcyBhdmFpbGFibGUuIFRoZSBjYWxsYmFja3MgYXJlIGNhbGxlZCB3aXRoIGEgc2luZ2xlIGFyZ3VtZW50OiB0aGUgcmVzdWx0XG4gKiAgIG9yIHJlamVjdGlvbiByZWFzb24uIEFkZGl0aW9uYWxseSwgdGhlIG5vdGlmeSBjYWxsYmFjayBtYXkgYmUgY2FsbGVkIHplcm8gb3IgbW9yZSB0aW1lcyB0b1xuICogICBwcm92aWRlIGEgcHJvZ3Jlc3MgaW5kaWNhdGlvbiwgYmVmb3JlIHRoZSBwcm9taXNlIGlzIHJlc29sdmVkIG9yIHJlamVjdGVkLlxuICpcbiAqICAgVGhpcyBtZXRob2QgKnJldHVybnMgYSBuZXcgcHJvbWlzZSogd2hpY2ggaXMgcmVzb2x2ZWQgb3IgcmVqZWN0ZWQgdmlhIHRoZSByZXR1cm4gdmFsdWUgb2YgdGhlXG4gKiAgIGBzdWNjZXNzQ2FsbGJhY2tgLCBgZXJyb3JDYWxsYmFja2AgKHVubGVzcyB0aGF0IHZhbHVlIGlzIGEgcHJvbWlzZSwgaW4gd2hpY2ggY2FzZSBpdCBpcyByZXNvbHZlZFxuICogICB3aXRoIHRoZSB2YWx1ZSB3aGljaCBpcyByZXNvbHZlZCBpbiB0aGF0IHByb21pc2UgdXNpbmdcbiAqICAgW3Byb21pc2UgY2hhaW5pbmddKGh0dHA6Ly93d3cuaHRtbDVyb2Nrcy5jb20vZW4vdHV0b3JpYWxzL2VzNi9wcm9taXNlcy8jdG9jLXByb21pc2VzLXF1ZXVlcykpLlxuICogICBJdCBhbHNvIG5vdGlmaWVzIHZpYSB0aGUgcmV0dXJuIHZhbHVlIG9mIHRoZSBgbm90aWZ5Q2FsbGJhY2tgIG1ldGhvZC4gVGhlIHByb21pc2UgY2Fubm90IGJlXG4gKiAgIHJlc29sdmVkIG9yIHJlamVjdGVkIGZyb20gdGhlIG5vdGlmeUNhbGxiYWNrIG1ldGhvZC4gVGhlIGVycm9yQ2FsbGJhY2sgYW5kIG5vdGlmeUNhbGxiYWNrXG4gKiAgIGFyZ3VtZW50cyBhcmUgb3B0aW9uYWwuXG4gKlxuICogLSBgY2F0Y2goZXJyb3JDYWxsYmFjaylgIOKAkyBzaG9ydGhhbmQgZm9yIGBwcm9taXNlLnRoZW4obnVsbCwgZXJyb3JDYWxsYmFjaylgXG4gKlxuICogLSBgZmluYWxseShjYWxsYmFjaywgbm90aWZ5Q2FsbGJhY2spYCDigJMgYWxsb3dzIHlvdSB0byBvYnNlcnZlIGVpdGhlciB0aGUgZnVsZmlsbG1lbnQgb3IgcmVqZWN0aW9uIG9mIGEgcHJvbWlzZSxcbiAqICAgYnV0IHRvIGRvIHNvIHdpdGhvdXQgbW9kaWZ5aW5nIHRoZSBmaW5hbCB2YWx1ZS4gVGhpcyBpcyB1c2VmdWwgdG8gcmVsZWFzZSByZXNvdXJjZXMgb3IgZG8gc29tZVxuICogICBjbGVhbi11cCB0aGF0IG5lZWRzIHRvIGJlIGRvbmUgd2hldGhlciB0aGUgcHJvbWlzZSB3YXMgcmVqZWN0ZWQgb3IgcmVzb2x2ZWQuIFNlZSB0aGUgW2Z1bGxcbiAqICAgc3BlY2lmaWNhdGlvbl0oaHR0cHM6Ly9naXRodWIuY29tL2tyaXNrb3dhbC9xL3dpa2kvQVBJLVJlZmVyZW5jZSNwcm9taXNlZmluYWxseWNhbGxiYWNrKSBmb3JcbiAqICAgbW9yZSBpbmZvcm1hdGlvbi5cbiAqXG4gKiAjIENoYWluaW5nIHByb21pc2VzXG4gKlxuICogQmVjYXVzZSBjYWxsaW5nIHRoZSBgdGhlbmAgbWV0aG9kIG9mIGEgcHJvbWlzZSByZXR1cm5zIGEgbmV3IGRlcml2ZWQgcHJvbWlzZSwgaXQgaXMgZWFzaWx5XG4gKiBwb3NzaWJsZSB0byBjcmVhdGUgYSBjaGFpbiBvZiBwcm9taXNlczpcbiAqXG4gKiBgYGBqc1xuICogICBwcm9taXNlQiA9IHByb21pc2VBLnRoZW4oZnVuY3Rpb24ocmVzdWx0KSB7XG4gKiAgICAgcmV0dXJuIHJlc3VsdCArIDE7XG4gKiAgIH0pO1xuICpcbiAqICAgLy8gcHJvbWlzZUIgd2lsbCBiZSByZXNvbHZlZCBpbW1lZGlhdGVseSBhZnRlciBwcm9taXNlQSBpcyByZXNvbHZlZCBhbmQgaXRzIHZhbHVlXG4gKiAgIC8vIHdpbGwgYmUgdGhlIHJlc3VsdCBvZiBwcm9taXNlQSBpbmNyZW1lbnRlZCBieSAxXG4gKiBgYGBcbiAqXG4gKiBJdCBpcyBwb3NzaWJsZSB0byBjcmVhdGUgY2hhaW5zIG9mIGFueSBsZW5ndGggYW5kIHNpbmNlIGEgcHJvbWlzZSBjYW4gYmUgcmVzb2x2ZWQgd2l0aCBhbm90aGVyXG4gKiBwcm9taXNlICh3aGljaCB3aWxsIGRlZmVyIGl0cyByZXNvbHV0aW9uIGZ1cnRoZXIpLCBpdCBpcyBwb3NzaWJsZSB0byBwYXVzZS9kZWZlciByZXNvbHV0aW9uIG9mXG4gKiB0aGUgcHJvbWlzZXMgYXQgYW55IHBvaW50IGluIHRoZSBjaGFpbi4gVGhpcyBtYWtlcyBpdCBwb3NzaWJsZSB0byBpbXBsZW1lbnQgcG93ZXJmdWwgQVBJcyBsaWtlXG4gKiAkaHR0cCdzIHJlc3BvbnNlIGludGVyY2VwdG9ycy5cbiAqXG4gKlxuICogIyBEaWZmZXJlbmNlcyBiZXR3ZWVuIEtyaXMgS293YWwncyBRIGFuZCAkcVxuICpcbiAqICBUaGVyZSBhcmUgdHdvIG1haW4gZGlmZmVyZW5jZXM6XG4gKlxuICogLSAkcSBpcyBpbnRlZ3JhdGVkIHdpdGggdGhlIHtAbGluayBuZy4kcm9vdFNjb3BlLlNjb3BlfSBTY29wZSBtb2RlbCBvYnNlcnZhdGlvblxuICogICBtZWNoYW5pc20gaW4gYW5ndWxhciwgd2hpY2ggbWVhbnMgZmFzdGVyIHByb3BhZ2F0aW9uIG9mIHJlc29sdXRpb24gb3IgcmVqZWN0aW9uIGludG8geW91clxuICogICBtb2RlbHMgYW5kIGF2b2lkaW5nIHVubmVjZXNzYXJ5IGJyb3dzZXIgcmVwYWludHMsIHdoaWNoIHdvdWxkIHJlc3VsdCBpbiBmbGlja2VyaW5nIFVJLlxuICogLSBRIGhhcyBtYW55IG1vcmUgZmVhdHVyZXMgdGhhbiAkcSwgYnV0IHRoYXQgY29tZXMgYXQgYSBjb3N0IG9mIGJ5dGVzLiAkcSBpcyB0aW55LCBidXQgY29udGFpbnNcbiAqICAgYWxsIHRoZSBpbXBvcnRhbnQgZnVuY3Rpb25hbGl0eSBuZWVkZWQgZm9yIGNvbW1vbiBhc3luYyB0YXNrcy5cbiAqXG4gKiAjIFRlc3RpbmdcbiAqXG4gKiAgYGBganNcbiAqICAgIGl0KCdzaG91bGQgc2ltdWxhdGUgcHJvbWlzZScsIGluamVjdChmdW5jdGlvbigkcSwgJHJvb3RTY29wZSkge1xuICogICAgICB2YXIgZGVmZXJyZWQgPSAkcS5kZWZlcigpO1xuICogICAgICB2YXIgcHJvbWlzZSA9IGRlZmVycmVkLnByb21pc2U7XG4gKiAgICAgIHZhciByZXNvbHZlZFZhbHVlO1xuICpcbiAqICAgICAgcHJvbWlzZS50aGVuKGZ1bmN0aW9uKHZhbHVlKSB7IHJlc29sdmVkVmFsdWUgPSB2YWx1ZTsgfSk7XG4gKiAgICAgIGV4cGVjdChyZXNvbHZlZFZhbHVlKS50b0JlVW5kZWZpbmVkKCk7XG4gKlxuICogICAgICAvLyBTaW11bGF0ZSByZXNvbHZpbmcgb2YgcHJvbWlzZVxuICogICAgICBkZWZlcnJlZC5yZXNvbHZlKDEyMyk7XG4gKiAgICAgIC8vIE5vdGUgdGhhdCB0aGUgJ3RoZW4nIGZ1bmN0aW9uIGRvZXMgbm90IGdldCBjYWxsZWQgc3luY2hyb25vdXNseS5cbiAqICAgICAgLy8gVGhpcyBpcyBiZWNhdXNlIHdlIHdhbnQgdGhlIHByb21pc2UgQVBJIHRvIGFsd2F5cyBiZSBhc3luYywgd2hldGhlciBvciBub3RcbiAqICAgICAgLy8gaXQgZ290IGNhbGxlZCBzeW5jaHJvbm91c2x5IG9yIGFzeW5jaHJvbm91c2x5LlxuICogICAgICBleHBlY3QocmVzb2x2ZWRWYWx1ZSkudG9CZVVuZGVmaW5lZCgpO1xuICpcbiAqICAgICAgLy8gUHJvcGFnYXRlIHByb21pc2UgcmVzb2x1dGlvbiB0byAndGhlbicgZnVuY3Rpb25zIHVzaW5nICRhcHBseSgpLlxuICogICAgICAkcm9vdFNjb3BlLiRhcHBseSgpO1xuICogICAgICBleHBlY3QocmVzb2x2ZWRWYWx1ZSkudG9FcXVhbCgxMjMpO1xuICogICAgfSkpO1xuICogIGBgYFxuICpcbiAqIEBwYXJhbSB7ZnVuY3Rpb24oZnVuY3Rpb24sIGZ1bmN0aW9uKX0gcmVzb2x2ZXIgRnVuY3Rpb24gd2hpY2ggaXMgcmVzcG9uc2libGUgZm9yIHJlc29sdmluZyBvclxuICogICByZWplY3RpbmcgdGhlIG5ld2x5IGNyZWF0ZWQgcHJvbWlzZS4gVGhlIGZpcnN0IHBhcmFtZXRlciBpcyBhIGZ1bmN0aW9uIHdoaWNoIHJlc29sdmVzIHRoZVxuICogICBwcm9taXNlLCB0aGUgc2Vjb25kIHBhcmFtZXRlciBpcyBhIGZ1bmN0aW9uIHdoaWNoIHJlamVjdHMgdGhlIHByb21pc2UuXG4gKlxuICogQHJldHVybnMge1Byb21pc2V9IFRoZSBuZXdseSBjcmVhdGVkIHByb21pc2UuXG4gKi9cbi8qKlxuICogQG5nZG9jIHByb3ZpZGVyXG4gKiBAbmFtZSAkcVByb3ZpZGVyXG4gKiBAdGhpc1xuICpcbiAqIEBkZXNjcmlwdGlvblxuICovXG5mdW5jdGlvbiAkUVByb3ZpZGVyKCkge1xuICB2YXIgZXJyb3JPblVuaGFuZGxlZFJlamVjdGlvbnMgPSB0cnVlO1xuICB0aGlzLiRnZXQgPSBbJyRyb290U2NvcGUnLCAnJGV4Y2VwdGlvbkhhbmRsZXInLCBmdW5jdGlvbigkcm9vdFNjb3BlLCAkZXhjZXB0aW9uSGFuZGxlcikge1xuICAgIHJldHVybiBxRmFjdG9yeShmdW5jdGlvbihjYWxsYmFjaykge1xuICAgICAgJHJvb3RTY29wZS4kZXZhbEFzeW5jKGNhbGxiYWNrKTtcbiAgICB9LCAkZXhjZXB0aW9uSGFuZGxlciwgZXJyb3JPblVuaGFuZGxlZFJlamVjdGlvbnMpO1xuICB9XTtcblxuICAvKipcbiAgICogQG5nZG9jIG1ldGhvZFxuICAgKiBAbmFtZSAkcVByb3ZpZGVyI2Vycm9yT25VbmhhbmRsZWRSZWplY3Rpb25zXG4gICAqIEBraW5kIGZ1bmN0aW9uXG4gICAqXG4gICAqIEBkZXNjcmlwdGlvblxuICAgKiBSZXRyaWV2ZXMgb3Igb3ZlcnJpZGVzIHdoZXRoZXIgdG8gZ2VuZXJhdGUgYW4gZXJyb3Igd2hlbiBhIHJlamVjdGVkIHByb21pc2UgaXMgbm90IGhhbmRsZWQuXG4gICAqIFRoaXMgZmVhdHVyZSBpcyBlbmFibGVkIGJ5IGRlZmF1bHQuXG4gICAqXG4gICAqIEBwYXJhbSB7Ym9vbGVhbj19IHZhbHVlIFdoZXRoZXIgdG8gZ2VuZXJhdGUgYW4gZXJyb3Igd2hlbiBhIHJlamVjdGVkIHByb21pc2UgaXMgbm90IGhhbmRsZWQuXG4gICAqIEByZXR1cm5zIHtib29sZWFufG5nLiRxUHJvdmlkZXJ9IEN1cnJlbnQgdmFsdWUgd2hlbiBjYWxsZWQgd2l0aG91dCBhIG5ldyB2YWx1ZSBvciBzZWxmIGZvclxuICAgKiAgICBjaGFpbmluZyBvdGhlcndpc2UuXG4gICAqL1xuICB0aGlzLmVycm9yT25VbmhhbmRsZWRSZWplY3Rpb25zID0gZnVuY3Rpb24odmFsdWUpIHtcbiAgICBpZiAoaXNEZWZpbmVkKHZhbHVlKSkge1xuICAgICAgZXJyb3JPblVuaGFuZGxlZFJlamVjdGlvbnMgPSB2YWx1ZTtcbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gZXJyb3JPblVuaGFuZGxlZFJlamVjdGlvbnM7XG4gICAgfVxuICB9O1xufVxuXG4vKiogQHRoaXMgKi9cbmZ1bmN0aW9uICQkUVByb3ZpZGVyKCkge1xuICB2YXIgZXJyb3JPblVuaGFuZGxlZFJlamVjdGlvbnMgPSB0cnVlO1xuICB0aGlzLiRnZXQgPSBbJyRicm93c2VyJywgJyRleGNlcHRpb25IYW5kbGVyJywgZnVuY3Rpb24oJGJyb3dzZXIsICRleGNlcHRpb25IYW5kbGVyKSB7XG4gICAgcmV0dXJuIHFGYWN0b3J5KGZ1bmN0aW9uKGNhbGxiYWNrKSB7XG4gICAgICAkYnJvd3Nlci5kZWZlcihjYWxsYmFjayk7XG4gICAgfSwgJGV4Y2VwdGlvbkhhbmRsZXIsIGVycm9yT25VbmhhbmRsZWRSZWplY3Rpb25zKTtcbiAgfV07XG5cbiAgdGhpcy5lcnJvck9uVW5oYW5kbGVkUmVqZWN0aW9ucyA9IGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgaWYgKGlzRGVmaW5lZCh2YWx1ZSkpIHtcbiAgICAgIGVycm9yT25VbmhhbmRsZWRSZWplY3Rpb25zID0gdmFsdWU7XG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIGVycm9yT25VbmhhbmRsZWRSZWplY3Rpb25zO1xuICAgIH1cbiAgfTtcbn1cblxuLyoqXG4gKiBDb25zdHJ1Y3RzIGEgcHJvbWlzZSBtYW5hZ2VyLlxuICpcbiAqIEBwYXJhbSB7ZnVuY3Rpb24oZnVuY3Rpb24pfSBuZXh0VGljayBGdW5jdGlvbiBmb3IgZXhlY3V0aW5nIGZ1bmN0aW9ucyBpbiB0aGUgbmV4dCB0dXJuLlxuICogQHBhcmFtIHtmdW5jdGlvbiguLi4qKX0gZXhjZXB0aW9uSGFuZGxlciBGdW5jdGlvbiBpbnRvIHdoaWNoIHVuZXhwZWN0ZWQgZXhjZXB0aW9ucyBhcmUgcGFzc2VkIGZvclxuICogICAgIGRlYnVnZ2luZyBwdXJwb3Nlcy5cbiBAIHBhcmFtIHs9Ym9vbGVhbn0gZXJyb3JPblVuaGFuZGxlZFJlamVjdGlvbnMgV2hldGhlciBhbiBlcnJvciBzaG91bGQgYmUgZ2VuZXJhdGVkIG9uIHVuaGFuZGxlZFxuICogICAgIHByb21pc2VzIHJlamVjdGlvbnMuXG4gKiBAcmV0dXJucyB7b2JqZWN0fSBQcm9taXNlIG1hbmFnZXIuXG4gKi9cbmZ1bmN0aW9uIHFGYWN0b3J5KG5leHRUaWNrLCBleGNlcHRpb25IYW5kbGVyLCBlcnJvck9uVW5oYW5kbGVkUmVqZWN0aW9ucykge1xuICB2YXIgJHFNaW5FcnIgPSBtaW5FcnIoJyRxJywgVHlwZUVycm9yKTtcbiAgdmFyIHF1ZXVlU2l6ZSA9IDA7XG4gIHZhciBjaGVja1F1ZXVlID0gW107XG5cbiAgLyoqXG4gICAqIEBuZ2RvYyBtZXRob2RcbiAgICogQG5hbWUgbmcuJHEjZGVmZXJcbiAgICogQGtpbmQgZnVuY3Rpb25cbiAgICpcbiAgICogQGRlc2NyaXB0aW9uXG4gICAqIENyZWF0ZXMgYSBgRGVmZXJyZWRgIG9iamVjdCB3aGljaCByZXByZXNlbnRzIGEgdGFzayB3aGljaCB3aWxsIGZpbmlzaCBpbiB0aGUgZnV0dXJlLlxuICAgKlxuICAgKiBAcmV0dXJucyB7RGVmZXJyZWR9IFJldHVybnMgYSBuZXcgaW5zdGFuY2Ugb2YgZGVmZXJyZWQuXG4gICAqL1xuICBmdW5jdGlvbiBkZWZlcigpIHtcbiAgICByZXR1cm4gbmV3IERlZmVycmVkKCk7XG4gIH1cblxuICBmdW5jdGlvbiBEZWZlcnJlZCgpIHtcbiAgICB2YXIgcHJvbWlzZSA9IHRoaXMucHJvbWlzZSA9IG5ldyBQcm9taXNlKCk7XG4gICAgLy9Ob24gcHJvdG90eXBlIG1ldGhvZHMgbmVjZXNzYXJ5IHRvIHN1cHBvcnQgdW5ib3VuZCBleGVjdXRpb24gOi9cbiAgICB0aGlzLnJlc29sdmUgPSBmdW5jdGlvbih2YWwpIHsgcmVzb2x2ZVByb21pc2UocHJvbWlzZSwgdmFsKTsgfTtcbiAgICB0aGlzLnJlamVjdCA9IGZ1bmN0aW9uKHJlYXNvbikgeyByZWplY3RQcm9taXNlKHByb21pc2UsIHJlYXNvbik7IH07XG4gICAgdGhpcy5ub3RpZnkgPSBmdW5jdGlvbihwcm9ncmVzcykgeyBub3RpZnlQcm9taXNlKHByb21pc2UsIHByb2dyZXNzKTsgfTtcbiAgfVxuXG5cbiAgZnVuY3Rpb24gUHJvbWlzZSgpIHtcbiAgICB0aGlzLiQkc3RhdGUgPSB7IHN0YXR1czogMCB9O1xuICB9XG5cbiAgZXh0ZW5kKFByb21pc2UucHJvdG90eXBlLCB7XG4gICAgdGhlbjogZnVuY3Rpb24ob25GdWxmaWxsZWQsIG9uUmVqZWN0ZWQsIHByb2dyZXNzQmFjaykge1xuICAgICAgaWYgKGlzVW5kZWZpbmVkKG9uRnVsZmlsbGVkKSAmJiBpc1VuZGVmaW5lZChvblJlamVjdGVkKSAmJiBpc1VuZGVmaW5lZChwcm9ncmVzc0JhY2spKSB7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgfVxuICAgICAgdmFyIHJlc3VsdCA9IG5ldyBQcm9taXNlKCk7XG5cbiAgICAgIHRoaXMuJCRzdGF0ZS5wZW5kaW5nID0gdGhpcy4kJHN0YXRlLnBlbmRpbmcgfHwgW107XG4gICAgICB0aGlzLiQkc3RhdGUucGVuZGluZy5wdXNoKFtyZXN1bHQsIG9uRnVsZmlsbGVkLCBvblJlamVjdGVkLCBwcm9ncmVzc0JhY2tdKTtcbiAgICAgIGlmICh0aGlzLiQkc3RhdGUuc3RhdHVzID4gMCkgc2NoZWR1bGVQcm9jZXNzUXVldWUodGhpcy4kJHN0YXRlKTtcblxuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9LFxuXG4gICAgJ2NhdGNoJzogZnVuY3Rpb24oY2FsbGJhY2spIHtcbiAgICAgIHJldHVybiB0aGlzLnRoZW4obnVsbCwgY2FsbGJhY2spO1xuICAgIH0sXG5cbiAgICAnZmluYWxseSc6IGZ1bmN0aW9uKGNhbGxiYWNrLCBwcm9ncmVzc0JhY2spIHtcbiAgICAgIHJldHVybiB0aGlzLnRoZW4oZnVuY3Rpb24odmFsdWUpIHtcbiAgICAgICAgcmV0dXJuIGhhbmRsZUNhbGxiYWNrKHZhbHVlLCByZXNvbHZlLCBjYWxsYmFjayk7XG4gICAgICB9LCBmdW5jdGlvbihlcnJvcikge1xuICAgICAgICByZXR1cm4gaGFuZGxlQ2FsbGJhY2soZXJyb3IsIHJlamVjdCwgY2FsbGJhY2spO1xuICAgICAgfSwgcHJvZ3Jlc3NCYWNrKTtcbiAgICB9XG4gIH0pO1xuXG4gIGZ1bmN0aW9uIHByb2Nlc3NRdWV1ZShzdGF0ZSkge1xuICAgIHZhciBmbiwgcHJvbWlzZSwgcGVuZGluZztcblxuICAgIHBlbmRpbmcgPSBzdGF0ZS5wZW5kaW5nO1xuICAgIHN0YXRlLnByb2Nlc3NTY2hlZHVsZWQgPSBmYWxzZTtcbiAgICBzdGF0ZS5wZW5kaW5nID0gdW5kZWZpbmVkO1xuICAgIHRyeSB7XG4gICAgICBmb3IgKHZhciBpID0gMCwgaWkgPSBwZW5kaW5nLmxlbmd0aDsgaSA8IGlpOyArK2kpIHtcbiAgICAgICAgc3RhdGUucHVyID0gdHJ1ZTtcbiAgICAgICAgcHJvbWlzZSA9IHBlbmRpbmdbaV1bMF07XG4gICAgICAgIGZuID0gcGVuZGluZ1tpXVtzdGF0ZS5zdGF0dXNdO1xuICAgICAgICB0cnkge1xuICAgICAgICAgIGlmIChpc0Z1bmN0aW9uKGZuKSkge1xuICAgICAgICAgICAgcmVzb2x2ZVByb21pc2UocHJvbWlzZSwgZm4oc3RhdGUudmFsdWUpKTtcbiAgICAgICAgICB9IGVsc2UgaWYgKHN0YXRlLnN0YXR1cyA9PT0gMSkge1xuICAgICAgICAgICAgcmVzb2x2ZVByb21pc2UocHJvbWlzZSwgc3RhdGUudmFsdWUpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZWplY3RQcm9taXNlKHByb21pc2UsIHN0YXRlLnZhbHVlKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICByZWplY3RQcm9taXNlKHByb21pc2UsIGUpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSBmaW5hbGx5IHtcbiAgICAgIC0tcXVldWVTaXplO1xuICAgICAgaWYgKGVycm9yT25VbmhhbmRsZWRSZWplY3Rpb25zICYmIHF1ZXVlU2l6ZSA9PT0gMCkge1xuICAgICAgICBuZXh0VGljayhwcm9jZXNzQ2hlY2tzKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBwcm9jZXNzQ2hlY2tzKCkge1xuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby11bm1vZGlmaWVkLWxvb3AtY29uZGl0aW9uXG4gICAgd2hpbGUgKCFxdWV1ZVNpemUgJiYgY2hlY2tRdWV1ZS5sZW5ndGgpIHtcbiAgICAgIHZhciB0b0NoZWNrID0gY2hlY2tRdWV1ZS5zaGlmdCgpO1xuICAgICAgaWYgKCF0b0NoZWNrLnB1cikge1xuICAgICAgICB0b0NoZWNrLnB1ciA9IHRydWU7XG4gICAgICAgIHZhciBlcnJvck1lc3NhZ2UgPSAnUG9zc2libHkgdW5oYW5kbGVkIHJlamVjdGlvbjogJyArIHRvRGVidWdTdHJpbmcodG9DaGVjay52YWx1ZSk7XG4gICAgICAgIGlmICh0b0NoZWNrLnZhbHVlIGluc3RhbmNlb2YgRXJyb3IpIHtcbiAgICAgICAgICBleGNlcHRpb25IYW5kbGVyKHRvQ2hlY2sudmFsdWUsIGVycm9yTWVzc2FnZSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgZXhjZXB0aW9uSGFuZGxlcihlcnJvck1lc3NhZ2UpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gc2NoZWR1bGVQcm9jZXNzUXVldWUoc3RhdGUpIHtcbiAgICBpZiAoZXJyb3JPblVuaGFuZGxlZFJlamVjdGlvbnMgJiYgIXN0YXRlLnBlbmRpbmcgJiYgc3RhdGUuc3RhdHVzID09PSAyICYmICFzdGF0ZS5wdXIpIHtcbiAgICAgIGlmIChxdWV1ZVNpemUgPT09IDAgJiYgY2hlY2tRdWV1ZS5sZW5ndGggPT09IDApIHtcbiAgICAgICAgbmV4dFRpY2socHJvY2Vzc0NoZWNrcyk7XG4gICAgICB9XG4gICAgICBjaGVja1F1ZXVlLnB1c2goc3RhdGUpO1xuICAgIH1cbiAgICBpZiAoc3RhdGUucHJvY2Vzc1NjaGVkdWxlZCB8fCAhc3RhdGUucGVuZGluZykgcmV0dXJuO1xuICAgIHN0YXRlLnByb2Nlc3NTY2hlZHVsZWQgPSB0cnVlO1xuICAgICsrcXVldWVTaXplO1xuICAgIG5leHRUaWNrKGZ1bmN0aW9uKCkgeyBwcm9jZXNzUXVldWUoc3RhdGUpOyB9KTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHJlc29sdmVQcm9taXNlKHByb21pc2UsIHZhbCkge1xuICAgIGlmIChwcm9taXNlLiQkc3RhdGUuc3RhdHVzKSByZXR1cm47XG4gICAgaWYgKHZhbCA9PT0gcHJvbWlzZSkge1xuICAgICAgJCRyZWplY3QocHJvbWlzZSwgJHFNaW5FcnIoXG4gICAgICAgICdxY3ljbGUnLFxuICAgICAgICAnRXhwZWN0ZWQgcHJvbWlzZSB0byBiZSByZXNvbHZlZCB3aXRoIHZhbHVlIG90aGVyIHRoYW4gaXRzZWxmIFxcJ3swfVxcJycsXG4gICAgICAgIHZhbCkpO1xuICAgIH0gZWxzZSB7XG4gICAgICAkJHJlc29sdmUocHJvbWlzZSwgdmFsKTtcbiAgICB9XG5cbiAgfVxuXG4gIGZ1bmN0aW9uICQkcmVzb2x2ZShwcm9taXNlLCB2YWwpIHtcbiAgICB2YXIgdGhlbjtcbiAgICB2YXIgZG9uZSA9IGZhbHNlO1xuICAgIHRyeSB7XG4gICAgICBpZiAoaXNPYmplY3QodmFsKSB8fCBpc0Z1bmN0aW9uKHZhbCkpIHRoZW4gPSB2YWwudGhlbjtcbiAgICAgIGlmIChpc0Z1bmN0aW9uKHRoZW4pKSB7XG4gICAgICAgIHByb21pc2UuJCRzdGF0ZS5zdGF0dXMgPSAtMTtcbiAgICAgICAgdGhlbi5jYWxsKHZhbCwgZG9SZXNvbHZlLCBkb1JlamVjdCwgZG9Ob3RpZnkpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcHJvbWlzZS4kJHN0YXRlLnZhbHVlID0gdmFsO1xuICAgICAgICBwcm9taXNlLiQkc3RhdGUuc3RhdHVzID0gMTtcbiAgICAgICAgc2NoZWR1bGVQcm9jZXNzUXVldWUocHJvbWlzZS4kJHN0YXRlKTtcbiAgICAgIH1cbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICBkb1JlamVjdChlKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBkb1Jlc29sdmUodmFsKSB7XG4gICAgICBpZiAoZG9uZSkgcmV0dXJuO1xuICAgICAgZG9uZSA9IHRydWU7XG4gICAgICAkJHJlc29sdmUocHJvbWlzZSwgdmFsKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gZG9SZWplY3QodmFsKSB7XG4gICAgICBpZiAoZG9uZSkgcmV0dXJuO1xuICAgICAgZG9uZSA9IHRydWU7XG4gICAgICAkJHJlamVjdChwcm9taXNlLCB2YWwpO1xuICAgIH1cbiAgICBmdW5jdGlvbiBkb05vdGlmeShwcm9ncmVzcykge1xuICAgICAgbm90aWZ5UHJvbWlzZShwcm9taXNlLCBwcm9ncmVzcyk7XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gcmVqZWN0UHJvbWlzZShwcm9taXNlLCByZWFzb24pIHtcbiAgICBpZiAocHJvbWlzZS4kJHN0YXRlLnN0YXR1cykgcmV0dXJuO1xuICAgICQkcmVqZWN0KHByb21pc2UsIHJlYXNvbik7XG4gIH1cblxuICBmdW5jdGlvbiAkJHJlamVjdChwcm9taXNlLCByZWFzb24pIHtcbiAgICBwcm9taXNlLiQkc3RhdGUudmFsdWUgPSByZWFzb247XG4gICAgcHJvbWlzZS4kJHN0YXRlLnN0YXR1cyA9IDI7XG4gICAgc2NoZWR1bGVQcm9jZXNzUXVldWUocHJvbWlzZS4kJHN0YXRlKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIG5vdGlmeVByb21pc2UocHJvbWlzZSwgcHJvZ3Jlc3MpIHtcbiAgICB2YXIgY2FsbGJhY2tzID0gcHJvbWlzZS4kJHN0YXRlLnBlbmRpbmc7XG5cbiAgICBpZiAoKHByb21pc2UuJCRzdGF0ZS5zdGF0dXMgPD0gMCkgJiYgY2FsbGJhY2tzICYmIGNhbGxiYWNrcy5sZW5ndGgpIHtcbiAgICAgIG5leHRUaWNrKGZ1bmN0aW9uKCkge1xuICAgICAgICB2YXIgY2FsbGJhY2ssIHJlc3VsdDtcbiAgICAgICAgZm9yICh2YXIgaSA9IDAsIGlpID0gY2FsbGJhY2tzLmxlbmd0aDsgaSA8IGlpOyBpKyspIHtcbiAgICAgICAgICByZXN1bHQgPSBjYWxsYmFja3NbaV1bMF07XG4gICAgICAgICAgY2FsbGJhY2sgPSBjYWxsYmFja3NbaV1bM107XG4gICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIG5vdGlmeVByb21pc2UocmVzdWx0LCBpc0Z1bmN0aW9uKGNhbGxiYWNrKSA/IGNhbGxiYWNrKHByb2dyZXNzKSA6IHByb2dyZXNzKTtcbiAgICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgICBleGNlcHRpb25IYW5kbGVyKGUpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIEBuZ2RvYyBtZXRob2RcbiAgICogQG5hbWUgJHEjcmVqZWN0XG4gICAqIEBraW5kIGZ1bmN0aW9uXG4gICAqXG4gICAqIEBkZXNjcmlwdGlvblxuICAgKiBDcmVhdGVzIGEgcHJvbWlzZSB0aGF0IGlzIHJlc29sdmVkIGFzIHJlamVjdGVkIHdpdGggdGhlIHNwZWNpZmllZCBgcmVhc29uYC4gVGhpcyBhcGkgc2hvdWxkIGJlXG4gICAqIHVzZWQgdG8gZm9yd2FyZCByZWplY3Rpb24gaW4gYSBjaGFpbiBvZiBwcm9taXNlcy4gSWYgeW91IGFyZSBkZWFsaW5nIHdpdGggdGhlIGxhc3QgcHJvbWlzZSBpblxuICAgKiBhIHByb21pc2UgY2hhaW4sIHlvdSBkb24ndCBuZWVkIHRvIHdvcnJ5IGFib3V0IGl0LlxuICAgKlxuICAgKiBXaGVuIGNvbXBhcmluZyBkZWZlcnJlZHMvcHJvbWlzZXMgdG8gdGhlIGZhbWlsaWFyIGJlaGF2aW9yIG9mIHRyeS9jYXRjaC90aHJvdywgdGhpbmsgb2ZcbiAgICogYHJlamVjdGAgYXMgdGhlIGB0aHJvd2Aga2V5d29yZCBpbiBKYXZhU2NyaXB0LiBUaGlzIGFsc28gbWVhbnMgdGhhdCBpZiB5b3UgXCJjYXRjaFwiIGFuIGVycm9yIHZpYVxuICAgKiBhIHByb21pc2UgZXJyb3IgY2FsbGJhY2sgYW5kIHlvdSB3YW50IHRvIGZvcndhcmQgdGhlIGVycm9yIHRvIHRoZSBwcm9taXNlIGRlcml2ZWQgZnJvbSB0aGVcbiAgICogY3VycmVudCBwcm9taXNlLCB5b3UgaGF2ZSB0byBcInJldGhyb3dcIiB0aGUgZXJyb3IgYnkgcmV0dXJuaW5nIGEgcmVqZWN0aW9uIGNvbnN0cnVjdGVkIHZpYVxuICAgKiBgcmVqZWN0YC5cbiAgICpcbiAgICogYGBganNcbiAgICogICBwcm9taXNlQiA9IHByb21pc2VBLnRoZW4oZnVuY3Rpb24ocmVzdWx0KSB7XG4gICAqICAgICAvLyBzdWNjZXNzOiBkbyBzb21ldGhpbmcgYW5kIHJlc29sdmUgcHJvbWlzZUJcbiAgICogICAgIC8vICAgICAgICAgIHdpdGggdGhlIG9sZCBvciBhIG5ldyByZXN1bHRcbiAgICogICAgIHJldHVybiByZXN1bHQ7XG4gICAqICAgfSwgZnVuY3Rpb24ocmVhc29uKSB7XG4gICAqICAgICAvLyBlcnJvcjogaGFuZGxlIHRoZSBlcnJvciBpZiBwb3NzaWJsZSBhbmRcbiAgICogICAgIC8vICAgICAgICByZXNvbHZlIHByb21pc2VCIHdpdGggbmV3UHJvbWlzZU9yVmFsdWUsXG4gICAqICAgICAvLyAgICAgICAgb3RoZXJ3aXNlIGZvcndhcmQgdGhlIHJlamVjdGlvbiB0byBwcm9taXNlQlxuICAgKiAgICAgaWYgKGNhbkhhbmRsZShyZWFzb24pKSB7XG4gICAqICAgICAgLy8gaGFuZGxlIHRoZSBlcnJvciBhbmQgcmVjb3ZlclxuICAgKiAgICAgIHJldHVybiBuZXdQcm9taXNlT3JWYWx1ZTtcbiAgICogICAgIH1cbiAgICogICAgIHJldHVybiAkcS5yZWplY3QocmVhc29uKTtcbiAgICogICB9KTtcbiAgICogYGBgXG4gICAqXG4gICAqIEBwYXJhbSB7Kn0gcmVhc29uIENvbnN0YW50LCBtZXNzYWdlLCBleGNlcHRpb24gb3IgYW4gb2JqZWN0IHJlcHJlc2VudGluZyB0aGUgcmVqZWN0aW9uIHJlYXNvbi5cbiAgICogQHJldHVybnMge1Byb21pc2V9IFJldHVybnMgYSBwcm9taXNlIHRoYXQgd2FzIGFscmVhZHkgcmVzb2x2ZWQgYXMgcmVqZWN0ZWQgd2l0aCB0aGUgYHJlYXNvbmAuXG4gICAqL1xuICBmdW5jdGlvbiByZWplY3QocmVhc29uKSB7XG4gICAgdmFyIHJlc3VsdCA9IG5ldyBQcm9taXNlKCk7XG4gICAgcmVqZWN0UHJvbWlzZShyZXN1bHQsIHJlYXNvbik7XG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfVxuXG4gIGZ1bmN0aW9uIGhhbmRsZUNhbGxiYWNrKHZhbHVlLCByZXNvbHZlciwgY2FsbGJhY2spIHtcbiAgICB2YXIgY2FsbGJhY2tPdXRwdXQgPSBudWxsO1xuICAgIHRyeSB7XG4gICAgICBpZiAoaXNGdW5jdGlvbihjYWxsYmFjaykpIGNhbGxiYWNrT3V0cHV0ID0gY2FsbGJhY2soKTtcbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICByZXR1cm4gcmVqZWN0KGUpO1xuICAgIH1cbiAgICBpZiAoaXNQcm9taXNlTGlrZShjYWxsYmFja091dHB1dCkpIHtcbiAgICAgIHJldHVybiBjYWxsYmFja091dHB1dC50aGVuKGZ1bmN0aW9uKCkge1xuICAgICAgICByZXR1cm4gcmVzb2x2ZXIodmFsdWUpO1xuICAgICAgfSwgcmVqZWN0KTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIHJlc29sdmVyKHZhbHVlKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogQG5nZG9jIG1ldGhvZFxuICAgKiBAbmFtZSAkcSN3aGVuXG4gICAqIEBraW5kIGZ1bmN0aW9uXG4gICAqXG4gICAqIEBkZXNjcmlwdGlvblxuICAgKiBXcmFwcyBhbiBvYmplY3QgdGhhdCBtaWdodCBiZSBhIHZhbHVlIG9yIGEgKDNyZCBwYXJ0eSkgdGhlbi1hYmxlIHByb21pc2UgaW50byBhICRxIHByb21pc2UuXG4gICAqIFRoaXMgaXMgdXNlZnVsIHdoZW4geW91IGFyZSBkZWFsaW5nIHdpdGggYW4gb2JqZWN0IHRoYXQgbWlnaHQgb3IgbWlnaHQgbm90IGJlIGEgcHJvbWlzZSwgb3IgaWZcbiAgICogdGhlIHByb21pc2UgY29tZXMgZnJvbSBhIHNvdXJjZSB0aGF0IGNhbid0IGJlIHRydXN0ZWQuXG4gICAqXG4gICAqIEBwYXJhbSB7Kn0gdmFsdWUgVmFsdWUgb3IgYSBwcm9taXNlXG4gICAqIEBwYXJhbSB7RnVuY3Rpb249fSBzdWNjZXNzQ2FsbGJhY2tcbiAgICogQHBhcmFtIHtGdW5jdGlvbj19IGVycm9yQ2FsbGJhY2tcbiAgICogQHBhcmFtIHtGdW5jdGlvbj19IHByb2dyZXNzQ2FsbGJhY2tcbiAgICogQHJldHVybnMge1Byb21pc2V9IFJldHVybnMgYSBwcm9taXNlIG9mIHRoZSBwYXNzZWQgdmFsdWUgb3IgcHJvbWlzZVxuICAgKi9cblxuXG4gIGZ1bmN0aW9uIHdoZW4odmFsdWUsIGNhbGxiYWNrLCBlcnJiYWNrLCBwcm9ncmVzc0JhY2spIHtcbiAgICB2YXIgcmVzdWx0ID0gbmV3IFByb21pc2UoKTtcbiAgICByZXNvbHZlUHJvbWlzZShyZXN1bHQsIHZhbHVlKTtcbiAgICByZXR1cm4gcmVzdWx0LnRoZW4oY2FsbGJhY2ssIGVycmJhY2ssIHByb2dyZXNzQmFjayk7XG4gIH1cblxuICAvKipcbiAgICogQG5nZG9jIG1ldGhvZFxuICAgKiBAbmFtZSAkcSNyZXNvbHZlXG4gICAqIEBraW5kIGZ1bmN0aW9uXG4gICAqXG4gICAqIEBkZXNjcmlwdGlvblxuICAgKiBBbGlhcyBvZiB7QGxpbmsgbmcuJHEjd2hlbiB3aGVufSB0byBtYWludGFpbiBuYW1pbmcgY29uc2lzdGVuY3kgd2l0aCBFUzYuXG4gICAqXG4gICAqIEBwYXJhbSB7Kn0gdmFsdWUgVmFsdWUgb3IgYSBwcm9taXNlXG4gICAqIEBwYXJhbSB7RnVuY3Rpb249fSBzdWNjZXNzQ2FsbGJhY2tcbiAgICogQHBhcmFtIHtGdW5jdGlvbj19IGVycm9yQ2FsbGJhY2tcbiAgICogQHBhcmFtIHtGdW5jdGlvbj19IHByb2dyZXNzQ2FsbGJhY2tcbiAgICogQHJldHVybnMge1Byb21pc2V9IFJldHVybnMgYSBwcm9taXNlIG9mIHRoZSBwYXNzZWQgdmFsdWUgb3IgcHJvbWlzZVxuICAgKi9cbiAgdmFyIHJlc29sdmUgPSB3aGVuO1xuXG4gIC8qKlxuICAgKiBAbmdkb2MgbWV0aG9kXG4gICAqIEBuYW1lICRxI2FsbFxuICAgKiBAa2luZCBmdW5jdGlvblxuICAgKlxuICAgKiBAZGVzY3JpcHRpb25cbiAgICogQ29tYmluZXMgbXVsdGlwbGUgcHJvbWlzZXMgaW50byBhIHNpbmdsZSBwcm9taXNlIHRoYXQgaXMgcmVzb2x2ZWQgd2hlbiBhbGwgb2YgdGhlIGlucHV0XG4gICAqIHByb21pc2VzIGFyZSByZXNvbHZlZC5cbiAgICpcbiAgICogQHBhcmFtIHtBcnJheS48UHJvbWlzZT58T2JqZWN0LjxQcm9taXNlPn0gcHJvbWlzZXMgQW4gYXJyYXkgb3IgaGFzaCBvZiBwcm9taXNlcy5cbiAgICogQHJldHVybnMge1Byb21pc2V9IFJldHVybnMgYSBzaW5nbGUgcHJvbWlzZSB0aGF0IHdpbGwgYmUgcmVzb2x2ZWQgd2l0aCBhbiBhcnJheS9oYXNoIG9mIHZhbHVlcyxcbiAgICogICBlYWNoIHZhbHVlIGNvcnJlc3BvbmRpbmcgdG8gdGhlIHByb21pc2UgYXQgdGhlIHNhbWUgaW5kZXgva2V5IGluIHRoZSBgcHJvbWlzZXNgIGFycmF5L2hhc2guXG4gICAqICAgSWYgYW55IG9mIHRoZSBwcm9taXNlcyBpcyByZXNvbHZlZCB3aXRoIGEgcmVqZWN0aW9uLCB0aGlzIHJlc3VsdGluZyBwcm9taXNlIHdpbGwgYmUgcmVqZWN0ZWRcbiAgICogICB3aXRoIHRoZSBzYW1lIHJlamVjdGlvbiB2YWx1ZS5cbiAgICovXG5cbiAgZnVuY3Rpb24gYWxsKHByb21pc2VzKSB7XG4gICAgdmFyIHJlc3VsdCA9IG5ldyBQcm9taXNlKCksXG4gICAgICAgIGNvdW50ZXIgPSAwLFxuICAgICAgICByZXN1bHRzID0gaXNBcnJheShwcm9taXNlcykgPyBbXSA6IHt9O1xuXG4gICAgZm9yRWFjaChwcm9taXNlcywgZnVuY3Rpb24ocHJvbWlzZSwga2V5KSB7XG4gICAgICBjb3VudGVyKys7XG4gICAgICB3aGVuKHByb21pc2UpLnRoZW4oZnVuY3Rpb24odmFsdWUpIHtcbiAgICAgICAgcmVzdWx0c1trZXldID0gdmFsdWU7XG4gICAgICAgIGlmICghKC0tY291bnRlcikpIHJlc29sdmVQcm9taXNlKHJlc3VsdCwgcmVzdWx0cyk7XG4gICAgICB9LCBmdW5jdGlvbihyZWFzb24pIHtcbiAgICAgICAgcmVqZWN0UHJvbWlzZShyZXN1bHQsIHJlYXNvbik7XG4gICAgICB9KTtcbiAgICB9KTtcblxuICAgIGlmIChjb3VudGVyID09PSAwKSB7XG4gICAgICByZXNvbHZlUHJvbWlzZShyZXN1bHQsIHJlc3VsdHMpO1xuICAgIH1cblxuICAgIHJldHVybiByZXN1bHQ7XG4gIH1cblxuICAvKipcbiAgICogQG5nZG9jIG1ldGhvZFxuICAgKiBAbmFtZSAkcSNyYWNlXG4gICAqIEBraW5kIGZ1bmN0aW9uXG4gICAqXG4gICAqIEBkZXNjcmlwdGlvblxuICAgKiBSZXR1cm5zIGEgcHJvbWlzZSB0aGF0IHJlc29sdmVzIG9yIHJlamVjdHMgYXMgc29vbiBhcyBvbmUgb2YgdGhvc2UgcHJvbWlzZXNcbiAgICogcmVzb2x2ZXMgb3IgcmVqZWN0cywgd2l0aCB0aGUgdmFsdWUgb3IgcmVhc29uIGZyb20gdGhhdCBwcm9taXNlLlxuICAgKlxuICAgKiBAcGFyYW0ge0FycmF5LjxQcm9taXNlPnxPYmplY3QuPFByb21pc2U+fSBwcm9taXNlcyBBbiBhcnJheSBvciBoYXNoIG9mIHByb21pc2VzLlxuICAgKiBAcmV0dXJucyB7UHJvbWlzZX0gYSBwcm9taXNlIHRoYXQgcmVzb2x2ZXMgb3IgcmVqZWN0cyBhcyBzb29uIGFzIG9uZSBvZiB0aGUgYHByb21pc2VzYFxuICAgKiByZXNvbHZlcyBvciByZWplY3RzLCB3aXRoIHRoZSB2YWx1ZSBvciByZWFzb24gZnJvbSB0aGF0IHByb21pc2UuXG4gICAqL1xuXG4gIGZ1bmN0aW9uIHJhY2UocHJvbWlzZXMpIHtcbiAgICB2YXIgZGVmZXJyZWQgPSBkZWZlcigpO1xuXG4gICAgZm9yRWFjaChwcm9taXNlcywgZnVuY3Rpb24ocHJvbWlzZSkge1xuICAgICAgd2hlbihwcm9taXNlKS50aGVuKGRlZmVycmVkLnJlc29sdmUsIGRlZmVycmVkLnJlamVjdCk7XG4gICAgfSk7XG5cbiAgICByZXR1cm4gZGVmZXJyZWQucHJvbWlzZTtcbiAgfVxuXG4gIGZ1bmN0aW9uICRRKHJlc29sdmVyKSB7XG4gICAgaWYgKCFpc0Z1bmN0aW9uKHJlc29sdmVyKSkge1xuICAgICAgdGhyb3cgJHFNaW5FcnIoJ25vcnNsdnInLCAnRXhwZWN0ZWQgcmVzb2x2ZXJGbiwgZ290IFxcJ3swfVxcJycsIHJlc29sdmVyKTtcbiAgICB9XG5cbiAgICB2YXIgcHJvbWlzZSA9IG5ldyBQcm9taXNlKCk7XG5cbiAgICBmdW5jdGlvbiByZXNvbHZlRm4odmFsdWUpIHtcbiAgICAgIHJlc29sdmVQcm9taXNlKHByb21pc2UsIHZhbHVlKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiByZWplY3RGbihyZWFzb24pIHtcbiAgICAgIHJlamVjdFByb21pc2UocHJvbWlzZSwgcmVhc29uKTtcbiAgICB9XG5cbiAgICByZXNvbHZlcihyZXNvbHZlRm4sIHJlamVjdEZuKTtcblxuICAgIHJldHVybiBwcm9taXNlO1xuICB9XG5cbiAgLy8gTGV0J3MgbWFrZSB0aGUgaW5zdGFuY2VvZiBvcGVyYXRvciB3b3JrIGZvciBwcm9taXNlcywgc28gdGhhdFxuICAvLyBgbmV3ICRxKGZuKSBpbnN0YW5jZW9mICRxYCB3b3VsZCBldmFsdWF0ZSB0byB0cnVlLlxuICAkUS5wcm90b3R5cGUgPSBQcm9taXNlLnByb3RvdHlwZTtcblxuICAkUS5kZWZlciA9IGRlZmVyO1xuICAkUS5yZWplY3QgPSByZWplY3Q7XG4gICRRLndoZW4gPSB3aGVuO1xuICAkUS5yZXNvbHZlID0gcmVzb2x2ZTtcbiAgJFEuYWxsID0gYWxsO1xuICAkUS5yYWNlID0gcmFjZTtcblxuICByZXR1cm4gJFE7XG59XG5cbi8qKiBAdGhpcyAqL1xuZnVuY3Rpb24gJCRSQUZQcm92aWRlcigpIHsgLy9yQUZcbiAgdGhpcy4kZ2V0ID0gWyckd2luZG93JywgJyR0aW1lb3V0JywgZnVuY3Rpb24oJHdpbmRvdywgJHRpbWVvdXQpIHtcbiAgICB2YXIgcmVxdWVzdEFuaW1hdGlvbkZyYW1lID0gJHdpbmRvdy5yZXF1ZXN0QW5pbWF0aW9uRnJhbWUgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHdpbmRvdy53ZWJraXRSZXF1ZXN0QW5pbWF0aW9uRnJhbWU7XG5cbiAgICB2YXIgY2FuY2VsQW5pbWF0aW9uRnJhbWUgPSAkd2luZG93LmNhbmNlbEFuaW1hdGlvbkZyYW1lIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHdpbmRvdy53ZWJraXRDYW5jZWxBbmltYXRpb25GcmFtZSB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICR3aW5kb3cud2Via2l0Q2FuY2VsUmVxdWVzdEFuaW1hdGlvbkZyYW1lO1xuXG4gICAgdmFyIHJhZlN1cHBvcnRlZCA9ICEhcmVxdWVzdEFuaW1hdGlvbkZyYW1lO1xuICAgIHZhciByYWYgPSByYWZTdXBwb3J0ZWRcbiAgICAgID8gZnVuY3Rpb24oZm4pIHtcbiAgICAgICAgICB2YXIgaWQgPSByZXF1ZXN0QW5pbWF0aW9uRnJhbWUoZm4pO1xuICAgICAgICAgIHJldHVybiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIGNhbmNlbEFuaW1hdGlvbkZyYW1lKGlkKTtcbiAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgICA6IGZ1bmN0aW9uKGZuKSB7XG4gICAgICAgICAgdmFyIHRpbWVyID0gJHRpbWVvdXQoZm4sIDE2LjY2LCBmYWxzZSk7IC8vIDEwMDAgLyA2MCA9IDE2LjY2NlxuICAgICAgICAgIHJldHVybiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICR0aW1lb3V0LmNhbmNlbCh0aW1lcik7XG4gICAgICAgICAgfTtcbiAgICAgICAgfTtcblxuICAgIHJhZi5zdXBwb3J0ZWQgPSByYWZTdXBwb3J0ZWQ7XG5cbiAgICByZXR1cm4gcmFmO1xuICB9XTtcbn1cblxuLyoqXG4gKiBERVNJR04gTk9URVNcbiAqXG4gKiBUaGUgZGVzaWduIGRlY2lzaW9ucyBiZWhpbmQgdGhlIHNjb3BlIGFyZSBoZWF2aWx5IGZhdm9yZWQgZm9yIHNwZWVkIGFuZCBtZW1vcnkgY29uc3VtcHRpb24uXG4gKlxuICogVGhlIHR5cGljYWwgdXNlIG9mIHNjb3BlIGlzIHRvIHdhdGNoIHRoZSBleHByZXNzaW9ucywgd2hpY2ggbW9zdCBvZiB0aGUgdGltZSByZXR1cm4gdGhlIHNhbWVcbiAqIHZhbHVlIGFzIGxhc3QgdGltZSBzbyB3ZSBvcHRpbWl6ZSB0aGUgb3BlcmF0aW9uLlxuICpcbiAqIENsb3N1cmVzIGNvbnN0cnVjdGlvbiBpcyBleHBlbnNpdmUgaW4gdGVybXMgb2Ygc3BlZWQgYXMgd2VsbCBhcyBtZW1vcnk6XG4gKiAgIC0gTm8gY2xvc3VyZXMsIGluc3RlYWQgdXNlIHByb3RvdHlwaWNhbCBpbmhlcml0YW5jZSBmb3IgQVBJXG4gKiAgIC0gSW50ZXJuYWwgc3RhdGUgbmVlZHMgdG8gYmUgc3RvcmVkIG9uIHNjb3BlIGRpcmVjdGx5LCB3aGljaCBtZWFucyB0aGF0IHByaXZhdGUgc3RhdGUgaXNcbiAqICAgICBleHBvc2VkIGFzICQkX19fXyBwcm9wZXJ0aWVzXG4gKlxuICogTG9vcCBvcGVyYXRpb25zIGFyZSBvcHRpbWl6ZWQgYnkgdXNpbmcgd2hpbGUoY291bnQtLSkgeyAuLi4gfVxuICogICAtIFRoaXMgbWVhbnMgdGhhdCBpbiBvcmRlciB0byBrZWVwIHRoZSBzYW1lIG9yZGVyIG9mIGV4ZWN1dGlvbiBhcyBhZGRpdGlvbiB3ZSBoYXZlIHRvIGFkZFxuICogICAgIGl0ZW1zIHRvIHRoZSBhcnJheSBhdCB0aGUgYmVnaW5uaW5nICh1bnNoaWZ0KSBpbnN0ZWFkIG9mIGF0IHRoZSBlbmQgKHB1c2gpXG4gKlxuICogQ2hpbGQgc2NvcGVzIGFyZSBjcmVhdGVkIGFuZCByZW1vdmVkIG9mdGVuXG4gKiAgIC0gVXNpbmcgYW4gYXJyYXkgd291bGQgYmUgc2xvdyBzaW5jZSBpbnNlcnRzIGluIHRoZSBtaWRkbGUgYXJlIGV4cGVuc2l2ZTsgc28gd2UgdXNlIGxpbmtlZCBsaXN0c1xuICpcbiAqIFRoZXJlIGFyZSBmZXdlciB3YXRjaGVzIHRoYW4gb2JzZXJ2ZXJzLiBUaGlzIGlzIHdoeSB5b3UgZG9uJ3Qgd2FudCB0aGUgb2JzZXJ2ZXIgdG8gYmUgaW1wbGVtZW50ZWRcbiAqIGluIHRoZSBzYW1lIHdheSBhcyB3YXRjaC4gV2F0Y2ggcmVxdWlyZXMgcmV0dXJuIG9mIHRoZSBpbml0aWFsaXphdGlvbiBmdW5jdGlvbiB3aGljaCBpcyBleHBlbnNpdmVcbiAqIHRvIGNvbnN0cnVjdC5cbiAqL1xuXG5cbi8qKlxuICogQG5nZG9jIHByb3ZpZGVyXG4gKiBAbmFtZSAkcm9vdFNjb3BlUHJvdmlkZXJcbiAqIEBkZXNjcmlwdGlvblxuICpcbiAqIFByb3ZpZGVyIGZvciB0aGUgJHJvb3RTY29wZSBzZXJ2aWNlLlxuICovXG5cbi8qKlxuICogQG5nZG9jIG1ldGhvZFxuICogQG5hbWUgJHJvb3RTY29wZVByb3ZpZGVyI2RpZ2VzdFR0bFxuICogQGRlc2NyaXB0aW9uXG4gKlxuICogU2V0cyB0aGUgbnVtYmVyIG9mIGAkZGlnZXN0YCBpdGVyYXRpb25zIHRoZSBzY29wZSBzaG91bGQgYXR0ZW1wdCB0byBleGVjdXRlIGJlZm9yZSBnaXZpbmcgdXAgYW5kXG4gKiBhc3N1bWluZyB0aGF0IHRoZSBtb2RlbCBpcyB1bnN0YWJsZS5cbiAqXG4gKiBUaGUgY3VycmVudCBkZWZhdWx0IGlzIDEwIGl0ZXJhdGlvbnMuXG4gKlxuICogSW4gY29tcGxleCBhcHBsaWNhdGlvbnMgaXQncyBwb3NzaWJsZSB0aGF0IHRoZSBkZXBlbmRlbmNpZXMgYmV0d2VlbiBgJHdhdGNoYHMgd2lsbCByZXN1bHQgaW5cbiAqIHNldmVyYWwgZGlnZXN0IGl0ZXJhdGlvbnMuIEhvd2V2ZXIgaWYgYW4gYXBwbGljYXRpb24gbmVlZHMgbW9yZSB0aGFuIHRoZSBkZWZhdWx0IDEwIGRpZ2VzdFxuICogaXRlcmF0aW9ucyBmb3IgaXRzIG1vZGVsIHRvIHN0YWJpbGl6ZSB0aGVuIHlvdSBzaG91bGQgaW52ZXN0aWdhdGUgd2hhdCBpcyBjYXVzaW5nIHRoZSBtb2RlbCB0b1xuICogY29udGludW91c2x5IGNoYW5nZSBkdXJpbmcgdGhlIGRpZ2VzdC5cbiAqXG4gKiBJbmNyZWFzaW5nIHRoZSBUVEwgY291bGQgaGF2ZSBwZXJmb3JtYW5jZSBpbXBsaWNhdGlvbnMsIHNvIHlvdSBzaG91bGQgbm90IGNoYW5nZSBpdCB3aXRob3V0XG4gKiBwcm9wZXIganVzdGlmaWNhdGlvbi5cbiAqXG4gKiBAcGFyYW0ge251bWJlcn0gbGltaXQgVGhlIG51bWJlciBvZiBkaWdlc3QgaXRlcmF0aW9ucy5cbiAqL1xuXG5cbi8qKlxuICogQG5nZG9jIHNlcnZpY2VcbiAqIEBuYW1lICRyb290U2NvcGVcbiAqIEB0aGlzXG4gKlxuICogQGRlc2NyaXB0aW9uXG4gKlxuICogRXZlcnkgYXBwbGljYXRpb24gaGFzIGEgc2luZ2xlIHJvb3Qge0BsaW5rIG5nLiRyb290U2NvcGUuU2NvcGUgc2NvcGV9LlxuICogQWxsIG90aGVyIHNjb3BlcyBhcmUgZGVzY2VuZGFudCBzY29wZXMgb2YgdGhlIHJvb3Qgc2NvcGUuIFNjb3BlcyBwcm92aWRlIHNlcGFyYXRpb25cbiAqIGJldHdlZW4gdGhlIG1vZGVsIGFuZCB0aGUgdmlldywgdmlhIGEgbWVjaGFuaXNtIGZvciB3YXRjaGluZyB0aGUgbW9kZWwgZm9yIGNoYW5nZXMuXG4gKiBUaGV5IGFsc28gcHJvdmlkZSBldmVudCBlbWlzc2lvbi9icm9hZGNhc3QgYW5kIHN1YnNjcmlwdGlvbiBmYWNpbGl0eS4gU2VlIHRoZVxuICoge0BsaW5rIGd1aWRlL3Njb3BlIGRldmVsb3BlciBndWlkZSBvbiBzY29wZXN9LlxuICovXG5mdW5jdGlvbiAkUm9vdFNjb3BlUHJvdmlkZXIoKSB7XG4gIHZhciBUVEwgPSAxMDtcbiAgdmFyICRyb290U2NvcGVNaW5FcnIgPSBtaW5FcnIoJyRyb290U2NvcGUnKTtcbiAgdmFyIGxhc3REaXJ0eVdhdGNoID0gbnVsbDtcbiAgdmFyIGFwcGx5QXN5bmNJZCA9IG51bGw7XG5cbiAgdGhpcy5kaWdlc3RUdGwgPSBmdW5jdGlvbih2YWx1ZSkge1xuICAgIGlmIChhcmd1bWVudHMubGVuZ3RoKSB7XG4gICAgICBUVEwgPSB2YWx1ZTtcbiAgICB9XG4gICAgcmV0dXJuIFRUTDtcbiAgfTtcblxuICBmdW5jdGlvbiBjcmVhdGVDaGlsZFNjb3BlQ2xhc3MocGFyZW50KSB7XG4gICAgZnVuY3Rpb24gQ2hpbGRTY29wZSgpIHtcbiAgICAgIHRoaXMuJCR3YXRjaGVycyA9IHRoaXMuJCRuZXh0U2libGluZyA9XG4gICAgICAgICAgdGhpcy4kJGNoaWxkSGVhZCA9IHRoaXMuJCRjaGlsZFRhaWwgPSBudWxsO1xuICAgICAgdGhpcy4kJGxpc3RlbmVycyA9IHt9O1xuICAgICAgdGhpcy4kJGxpc3RlbmVyQ291bnQgPSB7fTtcbiAgICAgIHRoaXMuJCR3YXRjaGVyc0NvdW50ID0gMDtcbiAgICAgIHRoaXMuJGlkID0gbmV4dFVpZCgpO1xuICAgICAgdGhpcy4kJENoaWxkU2NvcGUgPSBudWxsO1xuICAgIH1cbiAgICBDaGlsZFNjb3BlLnByb3RvdHlwZSA9IHBhcmVudDtcbiAgICByZXR1cm4gQ2hpbGRTY29wZTtcbiAgfVxuXG4gIHRoaXMuJGdldCA9IFsnJGV4Y2VwdGlvbkhhbmRsZXInLCAnJHBhcnNlJywgJyRicm93c2VyJyxcbiAgICAgIGZ1bmN0aW9uKCRleGNlcHRpb25IYW5kbGVyLCAkcGFyc2UsICRicm93c2VyKSB7XG5cbiAgICBmdW5jdGlvbiBkZXN0cm95Q2hpbGRTY29wZSgkZXZlbnQpIHtcbiAgICAgICAgJGV2ZW50LmN1cnJlbnRTY29wZS4kJGRlc3Ryb3llZCA9IHRydWU7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gY2xlYW5VcFNjb3BlKCRzY29wZSkge1xuXG4gICAgICAvLyBTdXBwb3J0OiBJRSA5IG9ubHlcbiAgICAgIGlmIChtc2llID09PSA5KSB7XG4gICAgICAgIC8vIFRoZXJlIGlzIGEgbWVtb3J5IGxlYWsgaW4gSUU5IGlmIGFsbCBjaGlsZCBzY29wZXMgYXJlIG5vdCBkaXNjb25uZWN0ZWRcbiAgICAgICAgLy8gY29tcGxldGVseSB3aGVuIGEgc2NvcGUgaXMgZGVzdHJveWVkLiBTbyB0aGlzIGNvZGUgd2lsbCByZWN1cnNlIHVwIHRocm91Z2hcbiAgICAgICAgLy8gYWxsIHRoaXMgc2NvcGVzIGNoaWxkcmVuXG4gICAgICAgIC8vXG4gICAgICAgIC8vIFNlZSBpc3N1ZSBodHRwczovL2dpdGh1Yi5jb20vYW5ndWxhci9hbmd1bGFyLmpzL2lzc3Vlcy8xMDcwNlxuICAgICAgICBpZiAoJHNjb3BlLiQkY2hpbGRIZWFkKSB7XG4gICAgICAgICAgY2xlYW5VcFNjb3BlKCRzY29wZS4kJGNoaWxkSGVhZCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCRzY29wZS4kJG5leHRTaWJsaW5nKSB7XG4gICAgICAgICAgY2xlYW5VcFNjb3BlKCRzY29wZS4kJG5leHRTaWJsaW5nKTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICAvLyBUaGUgY29kZSBiZWxvdyB3b3JrcyBhcm91bmQgSUU5IGFuZCBWOCdzIG1lbW9yeSBsZWFrc1xuICAgICAgLy9cbiAgICAgIC8vIFNlZTpcbiAgICAgIC8vIC0gaHR0cHM6Ly9jb2RlLmdvb2dsZS5jb20vcC92OC9pc3N1ZXMvZGV0YWlsP2lkPTIwNzMjYzI2XG4gICAgICAvLyAtIGh0dHBzOi8vZ2l0aHViLmNvbS9hbmd1bGFyL2FuZ3VsYXIuanMvaXNzdWVzLzY3OTQjaXNzdWVjb21tZW50LTM4NjQ4OTA5XG4gICAgICAvLyAtIGh0dHBzOi8vZ2l0aHViLmNvbS9hbmd1bGFyL2FuZ3VsYXIuanMvaXNzdWVzLzEzMTMjaXNzdWVjb21tZW50LTEwMzc4NDUxXG5cbiAgICAgICRzY29wZS4kcGFyZW50ID0gJHNjb3BlLiQkbmV4dFNpYmxpbmcgPSAkc2NvcGUuJCRwcmV2U2libGluZyA9ICRzY29wZS4kJGNoaWxkSGVhZCA9XG4gICAgICAgICAgJHNjb3BlLiQkY2hpbGRUYWlsID0gJHNjb3BlLiRyb290ID0gJHNjb3BlLiQkd2F0Y2hlcnMgPSBudWxsO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEBuZ2RvYyB0eXBlXG4gICAgICogQG5hbWUgJHJvb3RTY29wZS5TY29wZVxuICAgICAqXG4gICAgICogQGRlc2NyaXB0aW9uXG4gICAgICogQSByb290IHNjb3BlIGNhbiBiZSByZXRyaWV2ZWQgdXNpbmcgdGhlIHtAbGluayBuZy4kcm9vdFNjb3BlICRyb290U2NvcGV9IGtleSBmcm9tIHRoZVxuICAgICAqIHtAbGluayBhdXRvLiRpbmplY3RvciAkaW5qZWN0b3J9LiBDaGlsZCBzY29wZXMgYXJlIGNyZWF0ZWQgdXNpbmcgdGhlXG4gICAgICoge0BsaW5rIG5nLiRyb290U2NvcGUuU2NvcGUjJG5ldyAkbmV3KCl9IG1ldGhvZC4gKE1vc3Qgc2NvcGVzIGFyZSBjcmVhdGVkIGF1dG9tYXRpY2FsbHkgd2hlblxuICAgICAqIGNvbXBpbGVkIEhUTUwgdGVtcGxhdGUgaXMgZXhlY3V0ZWQuKSBTZWUgYWxzbyB0aGUge0BsaW5rIGd1aWRlL3Njb3BlIFNjb3BlcyBndWlkZX0gZm9yXG4gICAgICogYW4gaW4tZGVwdGggaW50cm9kdWN0aW9uIGFuZCB1c2FnZSBleGFtcGxlcy5cbiAgICAgKlxuICAgICAqXG4gICAgICogIyBJbmhlcml0YW5jZVxuICAgICAqIEEgc2NvcGUgY2FuIGluaGVyaXQgZnJvbSBhIHBhcmVudCBzY29wZSwgYXMgaW4gdGhpcyBleGFtcGxlOlxuICAgICAqIGBgYGpzXG4gICAgICAgICB2YXIgcGFyZW50ID0gJHJvb3RTY29wZTtcbiAgICAgICAgIHZhciBjaGlsZCA9IHBhcmVudC4kbmV3KCk7XG5cbiAgICAgICAgIHBhcmVudC5zYWx1dGF0aW9uID0gXCJIZWxsb1wiO1xuICAgICAgICAgZXhwZWN0KGNoaWxkLnNhbHV0YXRpb24pLnRvRXF1YWwoJ0hlbGxvJyk7XG5cbiAgICAgICAgIGNoaWxkLnNhbHV0YXRpb24gPSBcIldlbGNvbWVcIjtcbiAgICAgICAgIGV4cGVjdChjaGlsZC5zYWx1dGF0aW9uKS50b0VxdWFsKCdXZWxjb21lJyk7XG4gICAgICAgICBleHBlY3QocGFyZW50LnNhbHV0YXRpb24pLnRvRXF1YWwoJ0hlbGxvJyk7XG4gICAgICogYGBgXG4gICAgICpcbiAgICAgKiBXaGVuIGludGVyYWN0aW5nIHdpdGggYFNjb3BlYCBpbiB0ZXN0cywgYWRkaXRpb25hbCBoZWxwZXIgbWV0aG9kcyBhcmUgYXZhaWxhYmxlIG9uIHRoZVxuICAgICAqIGluc3RhbmNlcyBvZiBgU2NvcGVgIHR5cGUuIFNlZSB7QGxpbmsgbmdNb2NrLiRyb290U2NvcGUuU2NvcGUgbmdNb2NrIFNjb3BlfSBmb3IgYWRkaXRpb25hbFxuICAgICAqIGRldGFpbHMuXG4gICAgICpcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7T2JqZWN0LjxzdHJpbmcsIGZ1bmN0aW9uKCk+PX0gcHJvdmlkZXJzIE1hcCBvZiBzZXJ2aWNlIGZhY3Rvcnkgd2hpY2ggbmVlZCB0byBiZVxuICAgICAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJvdmlkZWQgZm9yIHRoZSBjdXJyZW50IHNjb3BlLiBEZWZhdWx0cyB0byB7QGxpbmsgbmd9LlxuICAgICAqIEBwYXJhbSB7T2JqZWN0LjxzdHJpbmcsICo+PX0gaW5zdGFuY2VDYWNoZSBQcm92aWRlcyBwcmUtaW5zdGFudGlhdGVkIHNlcnZpY2VzIHdoaWNoIHNob3VsZFxuICAgICAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYXBwZW5kL292ZXJyaWRlIHNlcnZpY2VzIHByb3ZpZGVkIGJ5IGBwcm92aWRlcnNgLiBUaGlzIGlzIGhhbmR5XG4gICAgICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICB3aGVuIHVuaXQtdGVzdGluZyBhbmQgaGF2aW5nIHRoZSBuZWVkIHRvIG92ZXJyaWRlIGEgZGVmYXVsdFxuICAgICAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VydmljZS5cbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBOZXdseSBjcmVhdGVkIHNjb3BlLlxuICAgICAqXG4gICAgICovXG4gICAgZnVuY3Rpb24gU2NvcGUoKSB7XG4gICAgICB0aGlzLiRpZCA9IG5leHRVaWQoKTtcbiAgICAgIHRoaXMuJCRwaGFzZSA9IHRoaXMuJHBhcmVudCA9IHRoaXMuJCR3YXRjaGVycyA9XG4gICAgICAgICAgICAgICAgICAgICB0aGlzLiQkbmV4dFNpYmxpbmcgPSB0aGlzLiQkcHJldlNpYmxpbmcgPVxuICAgICAgICAgICAgICAgICAgICAgdGhpcy4kJGNoaWxkSGVhZCA9IHRoaXMuJCRjaGlsZFRhaWwgPSBudWxsO1xuICAgICAgdGhpcy4kcm9vdCA9IHRoaXM7XG4gICAgICB0aGlzLiQkZGVzdHJveWVkID0gZmFsc2U7XG4gICAgICB0aGlzLiQkbGlzdGVuZXJzID0ge307XG4gICAgICB0aGlzLiQkbGlzdGVuZXJDb3VudCA9IHt9O1xuICAgICAgdGhpcy4kJHdhdGNoZXJzQ291bnQgPSAwO1xuICAgICAgdGhpcy4kJGlzb2xhdGVCaW5kaW5ncyA9IG51bGw7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQG5nZG9jIHByb3BlcnR5XG4gICAgICogQG5hbWUgJHJvb3RTY29wZS5TY29wZSMkaWRcbiAgICAgKlxuICAgICAqIEBkZXNjcmlwdGlvblxuICAgICAqIFVuaXF1ZSBzY29wZSBJRCAobW9ub3RvbmljYWxseSBpbmNyZWFzaW5nKSB1c2VmdWwgZm9yIGRlYnVnZ2luZy5cbiAgICAgKi9cblxuICAgICAvKipcbiAgICAgICogQG5nZG9jIHByb3BlcnR5XG4gICAgICAqIEBuYW1lICRyb290U2NvcGUuU2NvcGUjJHBhcmVudFxuICAgICAgKlxuICAgICAgKiBAZGVzY3JpcHRpb25cbiAgICAgICogUmVmZXJlbmNlIHRvIHRoZSBwYXJlbnQgc2NvcGUuXG4gICAgICAqL1xuXG4gICAgICAvKipcbiAgICAgICAqIEBuZ2RvYyBwcm9wZXJ0eVxuICAgICAgICogQG5hbWUgJHJvb3RTY29wZS5TY29wZSMkcm9vdFxuICAgICAgICpcbiAgICAgICAqIEBkZXNjcmlwdGlvblxuICAgICAgICogUmVmZXJlbmNlIHRvIHRoZSByb290IHNjb3BlLlxuICAgICAgICovXG5cbiAgICBTY29wZS5wcm90b3R5cGUgPSB7XG4gICAgICBjb25zdHJ1Y3RvcjogU2NvcGUsXG4gICAgICAvKipcbiAgICAgICAqIEBuZ2RvYyBtZXRob2RcbiAgICAgICAqIEBuYW1lICRyb290U2NvcGUuU2NvcGUjJG5ld1xuICAgICAgICogQGtpbmQgZnVuY3Rpb25cbiAgICAgICAqXG4gICAgICAgKiBAZGVzY3JpcHRpb25cbiAgICAgICAqIENyZWF0ZXMgYSBuZXcgY2hpbGQge0BsaW5rIG5nLiRyb290U2NvcGUuU2NvcGUgc2NvcGV9LlxuICAgICAgICpcbiAgICAgICAqIFRoZSBwYXJlbnQgc2NvcGUgd2lsbCBwcm9wYWdhdGUgdGhlIHtAbGluayBuZy4kcm9vdFNjb3BlLlNjb3BlIyRkaWdlc3QgJGRpZ2VzdCgpfSBldmVudC5cbiAgICAgICAqIFRoZSBzY29wZSBjYW4gYmUgcmVtb3ZlZCBmcm9tIHRoZSBzY29wZSBoaWVyYXJjaHkgdXNpbmcge0BsaW5rIG5nLiRyb290U2NvcGUuU2NvcGUjJGRlc3Ryb3kgJGRlc3Ryb3koKX0uXG4gICAgICAgKlxuICAgICAgICoge0BsaW5rIG5nLiRyb290U2NvcGUuU2NvcGUjJGRlc3Ryb3kgJGRlc3Ryb3koKX0gbXVzdCBiZSBjYWxsZWQgb24gYSBzY29wZSB3aGVuIGl0IGlzXG4gICAgICAgKiBkZXNpcmVkIGZvciB0aGUgc2NvcGUgYW5kIGl0cyBjaGlsZCBzY29wZXMgdG8gYmUgcGVybWFuZW50bHkgZGV0YWNoZWQgZnJvbSB0aGUgcGFyZW50IGFuZFxuICAgICAgICogdGh1cyBzdG9wIHBhcnRpY2lwYXRpbmcgaW4gbW9kZWwgY2hhbmdlIGRldGVjdGlvbiBhbmQgbGlzdGVuZXIgbm90aWZpY2F0aW9uIGJ5IGludm9raW5nLlxuICAgICAgICpcbiAgICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gaXNvbGF0ZSBJZiB0cnVlLCB0aGVuIHRoZSBzY29wZSBkb2VzIG5vdCBwcm90b3R5cGljYWxseSBpbmhlcml0IGZyb20gdGhlXG4gICAgICAgKiAgICAgICAgIHBhcmVudCBzY29wZS4gVGhlIHNjb3BlIGlzIGlzb2xhdGVkLCBhcyBpdCBjYW4gbm90IHNlZSBwYXJlbnQgc2NvcGUgcHJvcGVydGllcy5cbiAgICAgICAqICAgICAgICAgV2hlbiBjcmVhdGluZyB3aWRnZXRzLCBpdCBpcyB1c2VmdWwgZm9yIHRoZSB3aWRnZXQgdG8gbm90IGFjY2lkZW50YWxseSByZWFkIHBhcmVudFxuICAgICAgICogICAgICAgICBzdGF0ZS5cbiAgICAgICAqXG4gICAgICAgKiBAcGFyYW0ge1Njb3BlfSBbcGFyZW50PXRoaXNdIFRoZSB7QGxpbmsgbmcuJHJvb3RTY29wZS5TY29wZSBgU2NvcGVgfSB0aGF0IHdpbGwgYmUgdGhlIGAkcGFyZW50YFxuICAgICAgICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvZiB0aGUgbmV3bHkgY3JlYXRlZCBzY29wZS4gRGVmYXVsdHMgdG8gYHRoaXNgIHNjb3BlIGlmIG5vdCBwcm92aWRlZC5cbiAgICAgICAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgVGhpcyBpcyB1c2VkIHdoZW4gY3JlYXRpbmcgYSB0cmFuc2NsdWRlIHNjb3BlIHRvIGNvcnJlY3RseSBwbGFjZSBpdFxuICAgICAgICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbiB0aGUgc2NvcGUgaGllcmFyY2h5IHdoaWxlIG1haW50YWluaW5nIHRoZSBjb3JyZWN0IHByb3RvdHlwaWNhbFxuICAgICAgICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbmhlcml0YW5jZS5cbiAgICAgICAqXG4gICAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBUaGUgbmV3bHkgY3JlYXRlZCBjaGlsZCBzY29wZS5cbiAgICAgICAqXG4gICAgICAgKi9cbiAgICAgICRuZXc6IGZ1bmN0aW9uKGlzb2xhdGUsIHBhcmVudCkge1xuICAgICAgICB2YXIgY2hpbGQ7XG5cbiAgICAgICAgcGFyZW50ID0gcGFyZW50IHx8IHRoaXM7XG5cbiAgICAgICAgaWYgKGlzb2xhdGUpIHtcbiAgICAgICAgICBjaGlsZCA9IG5ldyBTY29wZSgpO1xuICAgICAgICAgIGNoaWxkLiRyb290ID0gdGhpcy4kcm9vdDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAvLyBPbmx5IGNyZWF0ZSBhIGNoaWxkIHNjb3BlIGNsYXNzIGlmIHNvbWVib2R5IGFza3MgZm9yIG9uZSxcbiAgICAgICAgICAvLyBidXQgY2FjaGUgaXQgdG8gYWxsb3cgdGhlIFZNIHRvIG9wdGltaXplIGxvb2t1cHMuXG4gICAgICAgICAgaWYgKCF0aGlzLiQkQ2hpbGRTY29wZSkge1xuICAgICAgICAgICAgdGhpcy4kJENoaWxkU2NvcGUgPSBjcmVhdGVDaGlsZFNjb3BlQ2xhc3ModGhpcyk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGNoaWxkID0gbmV3IHRoaXMuJCRDaGlsZFNjb3BlKCk7XG4gICAgICAgIH1cbiAgICAgICAgY2hpbGQuJHBhcmVudCA9IHBhcmVudDtcbiAgICAgICAgY2hpbGQuJCRwcmV2U2libGluZyA9IHBhcmVudC4kJGNoaWxkVGFpbDtcbiAgICAgICAgaWYgKHBhcmVudC4kJGNoaWxkSGVhZCkge1xuICAgICAgICAgIHBhcmVudC4kJGNoaWxkVGFpbC4kJG5leHRTaWJsaW5nID0gY2hpbGQ7XG4gICAgICAgICAgcGFyZW50LiQkY2hpbGRUYWlsID0gY2hpbGQ7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcGFyZW50LiQkY2hpbGRIZWFkID0gcGFyZW50LiQkY2hpbGRUYWlsID0gY2hpbGQ7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBXaGVuIHRoZSBuZXcgc2NvcGUgaXMgbm90IGlzb2xhdGVkIG9yIHdlIGluaGVyaXQgZnJvbSBgdGhpc2AsIGFuZFxuICAgICAgICAvLyB0aGUgcGFyZW50IHNjb3BlIGlzIGRlc3Ryb3llZCwgdGhlIHByb3BlcnR5IGAkJGRlc3Ryb3llZGAgaXMgaW5oZXJpdGVkXG4gICAgICAgIC8vIHByb3RvdHlwaWNhbGx5LiBJbiBhbGwgb3RoZXIgY2FzZXMsIHRoaXMgcHJvcGVydHkgbmVlZHMgdG8gYmUgc2V0XG4gICAgICAgIC8vIHdoZW4gdGhlIHBhcmVudCBzY29wZSBpcyBkZXN0cm95ZWQuXG4gICAgICAgIC8vIFRoZSBsaXN0ZW5lciBuZWVkcyB0byBiZSBhZGRlZCBhZnRlciB0aGUgcGFyZW50IGlzIHNldFxuICAgICAgICBpZiAoaXNvbGF0ZSB8fCBwYXJlbnQgIT09IHRoaXMpIGNoaWxkLiRvbignJGRlc3Ryb3knLCBkZXN0cm95Q2hpbGRTY29wZSk7XG5cbiAgICAgICAgcmV0dXJuIGNoaWxkO1xuICAgICAgfSxcblxuICAgICAgLyoqXG4gICAgICAgKiBAbmdkb2MgbWV0aG9kXG4gICAgICAgKiBAbmFtZSAkcm9vdFNjb3BlLlNjb3BlIyR3YXRjaFxuICAgICAgICogQGtpbmQgZnVuY3Rpb25cbiAgICAgICAqXG4gICAgICAgKiBAZGVzY3JpcHRpb25cbiAgICAgICAqIFJlZ2lzdGVycyBhIGBsaXN0ZW5lcmAgY2FsbGJhY2sgdG8gYmUgZXhlY3V0ZWQgd2hlbmV2ZXIgdGhlIGB3YXRjaEV4cHJlc3Npb25gIGNoYW5nZXMuXG4gICAgICAgKlxuICAgICAgICogLSBUaGUgYHdhdGNoRXhwcmVzc2lvbmAgaXMgY2FsbGVkIG9uIGV2ZXJ5IGNhbGwgdG8ge0BsaW5rIG5nLiRyb290U2NvcGUuU2NvcGUjJGRpZ2VzdFxuICAgICAgICogICAkZGlnZXN0KCl9IGFuZCBzaG91bGQgcmV0dXJuIHRoZSB2YWx1ZSB0aGF0IHdpbGwgYmUgd2F0Y2hlZC4gKGB3YXRjaEV4cHJlc3Npb25gIHNob3VsZCBub3QgY2hhbmdlXG4gICAgICAgKiAgIGl0cyB2YWx1ZSB3aGVuIGV4ZWN1dGVkIG11bHRpcGxlIHRpbWVzIHdpdGggdGhlIHNhbWUgaW5wdXQgYmVjYXVzZSBpdCBtYXkgYmUgZXhlY3V0ZWQgbXVsdGlwbGVcbiAgICAgICAqICAgdGltZXMgYnkge0BsaW5rIG5nLiRyb290U2NvcGUuU2NvcGUjJGRpZ2VzdCAkZGlnZXN0KCl9LiBUaGF0IGlzLCBgd2F0Y2hFeHByZXNzaW9uYCBzaG91bGQgYmVcbiAgICAgICAqICAgW2lkZW1wb3RlbnRdKGh0dHA6Ly9lbi53aWtpcGVkaWEub3JnL3dpa2kvSWRlbXBvdGVuY2UpLilcbiAgICAgICAqIC0gVGhlIGBsaXN0ZW5lcmAgaXMgY2FsbGVkIG9ubHkgd2hlbiB0aGUgdmFsdWUgZnJvbSB0aGUgY3VycmVudCBgd2F0Y2hFeHByZXNzaW9uYCBhbmQgdGhlXG4gICAgICAgKiAgIHByZXZpb3VzIGNhbGwgdG8gYHdhdGNoRXhwcmVzc2lvbmAgYXJlIG5vdCBlcXVhbCAod2l0aCB0aGUgZXhjZXB0aW9uIG9mIHRoZSBpbml0aWFsIHJ1bixcbiAgICAgICAqICAgc2VlIGJlbG93KS4gSW5lcXVhbGl0eSBpcyBkZXRlcm1pbmVkIGFjY29yZGluZyB0byByZWZlcmVuY2UgaW5lcXVhbGl0eSxcbiAgICAgICAqICAgW3N0cmljdCBjb21wYXJpc29uXShodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9KYXZhU2NyaXB0L1JlZmVyZW5jZS9PcGVyYXRvcnMvQ29tcGFyaXNvbl9PcGVyYXRvcnMpXG4gICAgICAgKiAgICB2aWEgdGhlIGAhPT1gIEphdmFzY3JpcHQgb3BlcmF0b3IsIHVubGVzcyBgb2JqZWN0RXF1YWxpdHkgPT0gdHJ1ZWBcbiAgICAgICAqICAgKHNlZSBuZXh0IHBvaW50KVxuICAgICAgICogLSBXaGVuIGBvYmplY3RFcXVhbGl0eSA9PSB0cnVlYCwgaW5lcXVhbGl0eSBvZiB0aGUgYHdhdGNoRXhwcmVzc2lvbmAgaXMgZGV0ZXJtaW5lZFxuICAgICAgICogICBhY2NvcmRpbmcgdG8gdGhlIHtAbGluayBhbmd1bGFyLmVxdWFsc30gZnVuY3Rpb24uIFRvIHNhdmUgdGhlIHZhbHVlIG9mIHRoZSBvYmplY3QgZm9yXG4gICAgICAgKiAgIGxhdGVyIGNvbXBhcmlzb24sIHRoZSB7QGxpbmsgYW5ndWxhci5jb3B5fSBmdW5jdGlvbiBpcyB1c2VkLiBUaGlzIHRoZXJlZm9yZSBtZWFucyB0aGF0XG4gICAgICAgKiAgIHdhdGNoaW5nIGNvbXBsZXggb2JqZWN0cyB3aWxsIGhhdmUgYWR2ZXJzZSBtZW1vcnkgYW5kIHBlcmZvcm1hbmNlIGltcGxpY2F0aW9ucy5cbiAgICAgICAqIC0gVGhpcyBzaG91bGQgbm90IGJlIHVzZWQgdG8gd2F0Y2ggZm9yIGNoYW5nZXMgaW4gb2JqZWN0cyB0aGF0IGFyZVxuICAgICAgICogICBvciBjb250YWluIFtGaWxlXShodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9kb2NzL1dlYi9BUEkvRmlsZSkgb2JqZWN0cyBkdWUgdG8gbGltaXRhdGlvbnMgd2l0aCB7QGxpbmsgYW5ndWxhci5jb3B5IGBhbmd1bGFyLmNvcHlgfS5cbiAgICAgICAqIC0gVGhlIHdhdGNoIGBsaXN0ZW5lcmAgbWF5IGNoYW5nZSB0aGUgbW9kZWwsIHdoaWNoIG1heSB0cmlnZ2VyIG90aGVyIGBsaXN0ZW5lcmBzIHRvIGZpcmUuXG4gICAgICAgKiAgIFRoaXMgaXMgYWNoaWV2ZWQgYnkgcmVydW5uaW5nIHRoZSB3YXRjaGVycyB1bnRpbCBubyBjaGFuZ2VzIGFyZSBkZXRlY3RlZC4gVGhlIHJlcnVuXG4gICAgICAgKiAgIGl0ZXJhdGlvbiBsaW1pdCBpcyAxMCB0byBwcmV2ZW50IGFuIGluZmluaXRlIGxvb3AgZGVhZGxvY2suXG4gICAgICAgKlxuICAgICAgICpcbiAgICAgICAqIElmIHlvdSB3YW50IHRvIGJlIG5vdGlmaWVkIHdoZW5ldmVyIHtAbGluayBuZy4kcm9vdFNjb3BlLlNjb3BlIyRkaWdlc3QgJGRpZ2VzdH0gaXMgY2FsbGVkLFxuICAgICAgICogeW91IGNhbiByZWdpc3RlciBhIGB3YXRjaEV4cHJlc3Npb25gIGZ1bmN0aW9uIHdpdGggbm8gYGxpc3RlbmVyYC4gKEJlIHByZXBhcmVkIGZvclxuICAgICAgICogbXVsdGlwbGUgY2FsbHMgdG8geW91ciBgd2F0Y2hFeHByZXNzaW9uYCBiZWNhdXNlIGl0IHdpbGwgZXhlY3V0ZSBtdWx0aXBsZSB0aW1lcyBpbiBhXG4gICAgICAgKiBzaW5nbGUge0BsaW5rIG5nLiRyb290U2NvcGUuU2NvcGUjJGRpZ2VzdCAkZGlnZXN0fSBjeWNsZSBpZiBhIGNoYW5nZSBpcyBkZXRlY3RlZC4pXG4gICAgICAgKlxuICAgICAgICogQWZ0ZXIgYSB3YXRjaGVyIGlzIHJlZ2lzdGVyZWQgd2l0aCB0aGUgc2NvcGUsIHRoZSBgbGlzdGVuZXJgIGZuIGlzIGNhbGxlZCBhc3luY2hyb25vdXNseVxuICAgICAgICogKHZpYSB7QGxpbmsgbmcuJHJvb3RTY29wZS5TY29wZSMkZXZhbEFzeW5jICRldmFsQXN5bmN9KSB0byBpbml0aWFsaXplIHRoZVxuICAgICAgICogd2F0Y2hlci4gSW4gcmFyZSBjYXNlcywgdGhpcyBpcyB1bmRlc2lyYWJsZSBiZWNhdXNlIHRoZSBsaXN0ZW5lciBpcyBjYWxsZWQgd2hlbiB0aGUgcmVzdWx0XG4gICAgICAgKiBvZiBgd2F0Y2hFeHByZXNzaW9uYCBkaWRuJ3QgY2hhbmdlLiBUbyBkZXRlY3QgdGhpcyBzY2VuYXJpbyB3aXRoaW4gdGhlIGBsaXN0ZW5lcmAgZm4sIHlvdVxuICAgICAgICogY2FuIGNvbXBhcmUgdGhlIGBuZXdWYWxgIGFuZCBgb2xkVmFsYC4gSWYgdGhlc2UgdHdvIHZhbHVlcyBhcmUgaWRlbnRpY2FsIChgPT09YCkgdGhlbiB0aGVcbiAgICAgICAqIGxpc3RlbmVyIHdhcyBjYWxsZWQgZHVlIHRvIGluaXRpYWxpemF0aW9uLlxuICAgICAgICpcbiAgICAgICAqXG4gICAgICAgKlxuICAgICAgICogIyBFeGFtcGxlXG4gICAgICAgKiBgYGBqc1xuICAgICAgICAgICAvLyBsZXQncyBhc3N1bWUgdGhhdCBzY29wZSB3YXMgZGVwZW5kZW5jeSBpbmplY3RlZCBhcyB0aGUgJHJvb3RTY29wZVxuICAgICAgICAgICB2YXIgc2NvcGUgPSAkcm9vdFNjb3BlO1xuICAgICAgICAgICBzY29wZS5uYW1lID0gJ21pc2tvJztcbiAgICAgICAgICAgc2NvcGUuY291bnRlciA9IDA7XG5cbiAgICAgICAgICAgZXhwZWN0KHNjb3BlLmNvdW50ZXIpLnRvRXF1YWwoMCk7XG4gICAgICAgICAgIHNjb3BlLiR3YXRjaCgnbmFtZScsIGZ1bmN0aW9uKG5ld1ZhbHVlLCBvbGRWYWx1ZSkge1xuICAgICAgICAgICAgIHNjb3BlLmNvdW50ZXIgPSBzY29wZS5jb3VudGVyICsgMTtcbiAgICAgICAgICAgfSk7XG4gICAgICAgICAgIGV4cGVjdChzY29wZS5jb3VudGVyKS50b0VxdWFsKDApO1xuXG4gICAgICAgICAgIHNjb3BlLiRkaWdlc3QoKTtcbiAgICAgICAgICAgLy8gdGhlIGxpc3RlbmVyIGlzIGFsd2F5cyBjYWxsZWQgZHVyaW5nIHRoZSBmaXJzdCAkZGlnZXN0IGxvb3AgYWZ0ZXIgaXQgd2FzIHJlZ2lzdGVyZWRcbiAgICAgICAgICAgZXhwZWN0KHNjb3BlLmNvdW50ZXIpLnRvRXF1YWwoMSk7XG5cbiAgICAgICAgICAgc2NvcGUuJGRpZ2VzdCgpO1xuICAgICAgICAgICAvLyBidXQgbm93IGl0IHdpbGwgbm90IGJlIGNhbGxlZCB1bmxlc3MgdGhlIHZhbHVlIGNoYW5nZXNcbiAgICAgICAgICAgZXhwZWN0KHNjb3BlLmNvdW50ZXIpLnRvRXF1YWwoMSk7XG5cbiAgICAgICAgICAgc2NvcGUubmFtZSA9ICdhZGFtJztcbiAgICAgICAgICAgc2NvcGUuJGRpZ2VzdCgpO1xuICAgICAgICAgICBleHBlY3Qoc2NvcGUuY291bnRlcikudG9FcXVhbCgyKTtcblxuXG5cbiAgICAgICAgICAgLy8gVXNpbmcgYSBmdW5jdGlvbiBhcyBhIHdhdGNoRXhwcmVzc2lvblxuICAgICAgICAgICB2YXIgZm9vZDtcbiAgICAgICAgICAgc2NvcGUuZm9vZENvdW50ZXIgPSAwO1xuICAgICAgICAgICBleHBlY3Qoc2NvcGUuZm9vZENvdW50ZXIpLnRvRXF1YWwoMCk7XG4gICAgICAgICAgIHNjb3BlLiR3YXRjaChcbiAgICAgICAgICAgICAvLyBUaGlzIGZ1bmN0aW9uIHJldHVybnMgdGhlIHZhbHVlIGJlaW5nIHdhdGNoZWQuIEl0IGlzIGNhbGxlZCBmb3IgZWFjaCB0dXJuIG9mIHRoZSAkZGlnZXN0IGxvb3BcbiAgICAgICAgICAgICBmdW5jdGlvbigpIHsgcmV0dXJuIGZvb2Q7IH0sXG4gICAgICAgICAgICAgLy8gVGhpcyBpcyB0aGUgY2hhbmdlIGxpc3RlbmVyLCBjYWxsZWQgd2hlbiB0aGUgdmFsdWUgcmV0dXJuZWQgZnJvbSB0aGUgYWJvdmUgZnVuY3Rpb24gY2hhbmdlc1xuICAgICAgICAgICAgIGZ1bmN0aW9uKG5ld1ZhbHVlLCBvbGRWYWx1ZSkge1xuICAgICAgICAgICAgICAgaWYgKCBuZXdWYWx1ZSAhPT0gb2xkVmFsdWUgKSB7XG4gICAgICAgICAgICAgICAgIC8vIE9ubHkgaW5jcmVtZW50IHRoZSBjb3VudGVyIGlmIHRoZSB2YWx1ZSBjaGFuZ2VkXG4gICAgICAgICAgICAgICAgIHNjb3BlLmZvb2RDb3VudGVyID0gc2NvcGUuZm9vZENvdW50ZXIgKyAxO1xuICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgIH1cbiAgICAgICAgICAgKTtcbiAgICAgICAgICAgLy8gTm8gZGlnZXN0IGhhcyBiZWVuIHJ1biBzbyB0aGUgY291bnRlciB3aWxsIGJlIHplcm9cbiAgICAgICAgICAgZXhwZWN0KHNjb3BlLmZvb2RDb3VudGVyKS50b0VxdWFsKDApO1xuXG4gICAgICAgICAgIC8vIFJ1biB0aGUgZGlnZXN0IGJ1dCBzaW5jZSBmb29kIGhhcyBub3QgY2hhbmdlZCBjb3VudCB3aWxsIHN0aWxsIGJlIHplcm9cbiAgICAgICAgICAgc2NvcGUuJGRpZ2VzdCgpO1xuICAgICAgICAgICBleHBlY3Qoc2NvcGUuZm9vZENvdW50ZXIpLnRvRXF1YWwoMCk7XG5cbiAgICAgICAgICAgLy8gVXBkYXRlIGZvb2QgYW5kIHJ1biBkaWdlc3QuICBOb3cgdGhlIGNvdW50ZXIgd2lsbCBpbmNyZW1lbnRcbiAgICAgICAgICAgZm9vZCA9ICdjaGVlc2VidXJnZXInO1xuICAgICAgICAgICBzY29wZS4kZGlnZXN0KCk7XG4gICAgICAgICAgIGV4cGVjdChzY29wZS5mb29kQ291bnRlcikudG9FcXVhbCgxKTtcblxuICAgICAgICogYGBgXG4gICAgICAgKlxuICAgICAgICpcbiAgICAgICAqXG4gICAgICAgKiBAcGFyYW0geyhmdW5jdGlvbigpfHN0cmluZyl9IHdhdGNoRXhwcmVzc2lvbiBFeHByZXNzaW9uIHRoYXQgaXMgZXZhbHVhdGVkIG9uIGVhY2hcbiAgICAgICAqICAgIHtAbGluayBuZy4kcm9vdFNjb3BlLlNjb3BlIyRkaWdlc3QgJGRpZ2VzdH0gY3ljbGUuIEEgY2hhbmdlIGluIHRoZSByZXR1cm4gdmFsdWUgdHJpZ2dlcnNcbiAgICAgICAqICAgIGEgY2FsbCB0byB0aGUgYGxpc3RlbmVyYC5cbiAgICAgICAqXG4gICAgICAgKiAgICAtIGBzdHJpbmdgOiBFdmFsdWF0ZWQgYXMge0BsaW5rIGd1aWRlL2V4cHJlc3Npb24gZXhwcmVzc2lvbn1cbiAgICAgICAqICAgIC0gYGZ1bmN0aW9uKHNjb3BlKWA6IGNhbGxlZCB3aXRoIGN1cnJlbnQgYHNjb3BlYCBhcyBhIHBhcmFtZXRlci5cbiAgICAgICAqIEBwYXJhbSB7ZnVuY3Rpb24obmV3VmFsLCBvbGRWYWwsIHNjb3BlKX0gbGlzdGVuZXIgQ2FsbGJhY2sgY2FsbGVkIHdoZW5ldmVyIHRoZSB2YWx1ZVxuICAgICAgICogICAgb2YgYHdhdGNoRXhwcmVzc2lvbmAgY2hhbmdlcy5cbiAgICAgICAqXG4gICAgICAgKiAgICAtIGBuZXdWYWxgIGNvbnRhaW5zIHRoZSBjdXJyZW50IHZhbHVlIG9mIHRoZSBgd2F0Y2hFeHByZXNzaW9uYFxuICAgICAgICogICAgLSBgb2xkVmFsYCBjb250YWlucyB0aGUgcHJldmlvdXMgdmFsdWUgb2YgdGhlIGB3YXRjaEV4cHJlc3Npb25gXG4gICAgICAgKiAgICAtIGBzY29wZWAgcmVmZXJzIHRvIHRoZSBjdXJyZW50IHNjb3BlXG4gICAgICAgKiBAcGFyYW0ge2Jvb2xlYW49fSBbb2JqZWN0RXF1YWxpdHk9ZmFsc2VdIENvbXBhcmUgZm9yIG9iamVjdCBlcXVhbGl0eSB1c2luZyB7QGxpbmsgYW5ndWxhci5lcXVhbHN9IGluc3RlYWQgb2ZcbiAgICAgICAqICAgICBjb21wYXJpbmcgZm9yIHJlZmVyZW5jZSBlcXVhbGl0eS5cbiAgICAgICAqIEByZXR1cm5zIHtmdW5jdGlvbigpfSBSZXR1cm5zIGEgZGVyZWdpc3RyYXRpb24gZnVuY3Rpb24gZm9yIHRoaXMgbGlzdGVuZXIuXG4gICAgICAgKi9cbiAgICAgICR3YXRjaDogZnVuY3Rpb24od2F0Y2hFeHAsIGxpc3RlbmVyLCBvYmplY3RFcXVhbGl0eSwgcHJldHR5UHJpbnRFeHByZXNzaW9uKSB7XG4gICAgICAgIHZhciBnZXQgPSAkcGFyc2Uod2F0Y2hFeHApO1xuXG4gICAgICAgIGlmIChnZXQuJCR3YXRjaERlbGVnYXRlKSB7XG4gICAgICAgICAgcmV0dXJuIGdldC4kJHdhdGNoRGVsZWdhdGUodGhpcywgbGlzdGVuZXIsIG9iamVjdEVxdWFsaXR5LCBnZXQsIHdhdGNoRXhwKTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgc2NvcGUgPSB0aGlzLFxuICAgICAgICAgICAgYXJyYXkgPSBzY29wZS4kJHdhdGNoZXJzLFxuICAgICAgICAgICAgd2F0Y2hlciA9IHtcbiAgICAgICAgICAgICAgZm46IGxpc3RlbmVyLFxuICAgICAgICAgICAgICBsYXN0OiBpbml0V2F0Y2hWYWwsXG4gICAgICAgICAgICAgIGdldDogZ2V0LFxuICAgICAgICAgICAgICBleHA6IHByZXR0eVByaW50RXhwcmVzc2lvbiB8fCB3YXRjaEV4cCxcbiAgICAgICAgICAgICAgZXE6ICEhb2JqZWN0RXF1YWxpdHlcbiAgICAgICAgICAgIH07XG5cbiAgICAgICAgbGFzdERpcnR5V2F0Y2ggPSBudWxsO1xuXG4gICAgICAgIGlmICghaXNGdW5jdGlvbihsaXN0ZW5lcikpIHtcbiAgICAgICAgICB3YXRjaGVyLmZuID0gbm9vcDtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICghYXJyYXkpIHtcbiAgICAgICAgICBhcnJheSA9IHNjb3BlLiQkd2F0Y2hlcnMgPSBbXTtcbiAgICAgICAgICBhcnJheS4kJGRpZ2VzdFdhdGNoSW5kZXggPSAtMTtcbiAgICAgICAgfVxuICAgICAgICAvLyB3ZSB1c2UgdW5zaGlmdCBzaW5jZSB3ZSB1c2UgYSB3aGlsZSBsb29wIGluICRkaWdlc3QgZm9yIHNwZWVkLlxuICAgICAgICAvLyB0aGUgd2hpbGUgbG9vcCByZWFkcyBpbiByZXZlcnNlIG9yZGVyLlxuICAgICAgICBhcnJheS51bnNoaWZ0KHdhdGNoZXIpO1xuICAgICAgICBhcnJheS4kJGRpZ2VzdFdhdGNoSW5kZXgrKztcbiAgICAgICAgaW5jcmVtZW50V2F0Y2hlcnNDb3VudCh0aGlzLCAxKTtcblxuICAgICAgICByZXR1cm4gZnVuY3Rpb24gZGVyZWdpc3RlcldhdGNoKCkge1xuICAgICAgICAgIHZhciBpbmRleCA9IGFycmF5UmVtb3ZlKGFycmF5LCB3YXRjaGVyKTtcbiAgICAgICAgICBpZiAoaW5kZXggPj0gMCkge1xuICAgICAgICAgICAgaW5jcmVtZW50V2F0Y2hlcnNDb3VudChzY29wZSwgLTEpO1xuICAgICAgICAgICAgaWYgKGluZGV4IDwgYXJyYXkuJCRkaWdlc3RXYXRjaEluZGV4KSB7XG4gICAgICAgICAgICAgIGFycmF5LiQkZGlnZXN0V2F0Y2hJbmRleC0tO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgICBsYXN0RGlydHlXYXRjaCA9IG51bGw7XG4gICAgICAgIH07XG4gICAgICB9LFxuXG4gICAgICAvKipcbiAgICAgICAqIEBuZ2RvYyBtZXRob2RcbiAgICAgICAqIEBuYW1lICRyb290U2NvcGUuU2NvcGUjJHdhdGNoR3JvdXBcbiAgICAgICAqIEBraW5kIGZ1bmN0aW9uXG4gICAgICAgKlxuICAgICAgICogQGRlc2NyaXB0aW9uXG4gICAgICAgKiBBIHZhcmlhbnQgb2Yge0BsaW5rIG5nLiRyb290U2NvcGUuU2NvcGUjJHdhdGNoICR3YXRjaCgpfSB3aGVyZSBpdCB3YXRjaGVzIGFuIGFycmF5IG9mIGB3YXRjaEV4cHJlc3Npb25zYC5cbiAgICAgICAqIElmIGFueSBvbmUgZXhwcmVzc2lvbiBpbiB0aGUgY29sbGVjdGlvbiBjaGFuZ2VzIHRoZSBgbGlzdGVuZXJgIGlzIGV4ZWN1dGVkLlxuICAgICAgICpcbiAgICAgICAqIC0gVGhlIGl0ZW1zIGluIHRoZSBgd2F0Y2hFeHByZXNzaW9uc2AgYXJyYXkgYXJlIG9ic2VydmVkIHZpYSB0aGUgc3RhbmRhcmQgYCR3YXRjaGAgb3BlcmF0aW9uLiBUaGVpciByZXR1cm5cbiAgICAgICAqICAgdmFsdWVzIGFyZSBleGFtaW5lZCBmb3IgY2hhbmdlcyBvbiBldmVyeSBjYWxsIHRvIGAkZGlnZXN0YC5cbiAgICAgICAqIC0gVGhlIGBsaXN0ZW5lcmAgaXMgY2FsbGVkIHdoZW5ldmVyIGFueSBleHByZXNzaW9uIGluIHRoZSBgd2F0Y2hFeHByZXNzaW9uc2AgYXJyYXkgY2hhbmdlcy5cbiAgICAgICAqXG4gICAgICAgKiBAcGFyYW0ge0FycmF5LjxzdHJpbmd8RnVuY3Rpb24oc2NvcGUpPn0gd2F0Y2hFeHByZXNzaW9ucyBBcnJheSBvZiBleHByZXNzaW9ucyB0aGF0IHdpbGwgYmUgaW5kaXZpZHVhbGx5XG4gICAgICAgKiB3YXRjaGVkIHVzaW5nIHtAbGluayBuZy4kcm9vdFNjb3BlLlNjb3BlIyR3YXRjaCAkd2F0Y2goKX1cbiAgICAgICAqXG4gICAgICAgKiBAcGFyYW0ge2Z1bmN0aW9uKG5ld1ZhbHVlcywgb2xkVmFsdWVzLCBzY29wZSl9IGxpc3RlbmVyIENhbGxiYWNrIGNhbGxlZCB3aGVuZXZlciB0aGUgcmV0dXJuIHZhbHVlIG9mIGFueVxuICAgICAgICogICAgZXhwcmVzc2lvbiBpbiBgd2F0Y2hFeHByZXNzaW9uc2AgY2hhbmdlc1xuICAgICAgICogICAgVGhlIGBuZXdWYWx1ZXNgIGFycmF5IGNvbnRhaW5zIHRoZSBjdXJyZW50IHZhbHVlcyBvZiB0aGUgYHdhdGNoRXhwcmVzc2lvbnNgLCB3aXRoIHRoZSBpbmRleGVzIG1hdGNoaW5nXG4gICAgICAgKiAgICB0aG9zZSBvZiBgd2F0Y2hFeHByZXNzaW9uYFxuICAgICAgICogICAgYW5kIHRoZSBgb2xkVmFsdWVzYCBhcnJheSBjb250YWlucyB0aGUgcHJldmlvdXMgdmFsdWVzIG9mIHRoZSBgd2F0Y2hFeHByZXNzaW9uc2AsIHdpdGggdGhlIGluZGV4ZXMgbWF0Y2hpbmdcbiAgICAgICAqICAgIHRob3NlIG9mIGB3YXRjaEV4cHJlc3Npb25gXG4gICAgICAgKiAgICBUaGUgYHNjb3BlYCByZWZlcnMgdG8gdGhlIGN1cnJlbnQgc2NvcGUuXG4gICAgICAgKiBAcmV0dXJucyB7ZnVuY3Rpb24oKX0gUmV0dXJucyBhIGRlLXJlZ2lzdHJhdGlvbiBmdW5jdGlvbiBmb3IgYWxsIGxpc3RlbmVycy5cbiAgICAgICAqL1xuICAgICAgJHdhdGNoR3JvdXA6IGZ1bmN0aW9uKHdhdGNoRXhwcmVzc2lvbnMsIGxpc3RlbmVyKSB7XG4gICAgICAgIHZhciBvbGRWYWx1ZXMgPSBuZXcgQXJyYXkod2F0Y2hFeHByZXNzaW9ucy5sZW5ndGgpO1xuICAgICAgICB2YXIgbmV3VmFsdWVzID0gbmV3IEFycmF5KHdhdGNoRXhwcmVzc2lvbnMubGVuZ3RoKTtcbiAgICAgICAgdmFyIGRlcmVnaXN0ZXJGbnMgPSBbXTtcbiAgICAgICAgdmFyIHNlbGYgPSB0aGlzO1xuICAgICAgICB2YXIgY2hhbmdlUmVhY3Rpb25TY2hlZHVsZWQgPSBmYWxzZTtcbiAgICAgICAgdmFyIGZpcnN0UnVuID0gdHJ1ZTtcblxuICAgICAgICBpZiAoIXdhdGNoRXhwcmVzc2lvbnMubGVuZ3RoKSB7XG4gICAgICAgICAgLy8gTm8gZXhwcmVzc2lvbnMgbWVhbnMgd2UgY2FsbCB0aGUgbGlzdGVuZXIgQVNBUFxuICAgICAgICAgIHZhciBzaG91bGRDYWxsID0gdHJ1ZTtcbiAgICAgICAgICBzZWxmLiRldmFsQXN5bmMoZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICBpZiAoc2hvdWxkQ2FsbCkgbGlzdGVuZXIobmV3VmFsdWVzLCBuZXdWYWx1ZXMsIHNlbGYpO1xuICAgICAgICAgIH0pO1xuICAgICAgICAgIHJldHVybiBmdW5jdGlvbiBkZXJlZ2lzdGVyV2F0Y2hHcm91cCgpIHtcbiAgICAgICAgICAgIHNob3VsZENhbGwgPSBmYWxzZTtcbiAgICAgICAgICB9O1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHdhdGNoRXhwcmVzc2lvbnMubGVuZ3RoID09PSAxKSB7XG4gICAgICAgICAgLy8gU3BlY2lhbCBjYXNlIHNpemUgb2Ygb25lXG4gICAgICAgICAgcmV0dXJuIHRoaXMuJHdhdGNoKHdhdGNoRXhwcmVzc2lvbnNbMF0sIGZ1bmN0aW9uIHdhdGNoR3JvdXBBY3Rpb24odmFsdWUsIG9sZFZhbHVlLCBzY29wZSkge1xuICAgICAgICAgICAgbmV3VmFsdWVzWzBdID0gdmFsdWU7XG4gICAgICAgICAgICBvbGRWYWx1ZXNbMF0gPSBvbGRWYWx1ZTtcbiAgICAgICAgICAgIGxpc3RlbmVyKG5ld1ZhbHVlcywgKHZhbHVlID09PSBvbGRWYWx1ZSkgPyBuZXdWYWx1ZXMgOiBvbGRWYWx1ZXMsIHNjb3BlKTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIGZvckVhY2god2F0Y2hFeHByZXNzaW9ucywgZnVuY3Rpb24oZXhwciwgaSkge1xuICAgICAgICAgIHZhciB1bndhdGNoRm4gPSBzZWxmLiR3YXRjaChleHByLCBmdW5jdGlvbiB3YXRjaEdyb3VwU3ViQWN0aW9uKHZhbHVlLCBvbGRWYWx1ZSkge1xuICAgICAgICAgICAgbmV3VmFsdWVzW2ldID0gdmFsdWU7XG4gICAgICAgICAgICBvbGRWYWx1ZXNbaV0gPSBvbGRWYWx1ZTtcbiAgICAgICAgICAgIGlmICghY2hhbmdlUmVhY3Rpb25TY2hlZHVsZWQpIHtcbiAgICAgICAgICAgICAgY2hhbmdlUmVhY3Rpb25TY2hlZHVsZWQgPSB0cnVlO1xuICAgICAgICAgICAgICBzZWxmLiRldmFsQXN5bmMod2F0Y2hHcm91cEFjdGlvbik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSk7XG4gICAgICAgICAgZGVyZWdpc3RlckZucy5wdXNoKHVud2F0Y2hGbik7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIGZ1bmN0aW9uIHdhdGNoR3JvdXBBY3Rpb24oKSB7XG4gICAgICAgICAgY2hhbmdlUmVhY3Rpb25TY2hlZHVsZWQgPSBmYWxzZTtcblxuICAgICAgICAgIGlmIChmaXJzdFJ1bikge1xuICAgICAgICAgICAgZmlyc3RSdW4gPSBmYWxzZTtcbiAgICAgICAgICAgIGxpc3RlbmVyKG5ld1ZhbHVlcywgbmV3VmFsdWVzLCBzZWxmKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgbGlzdGVuZXIobmV3VmFsdWVzLCBvbGRWYWx1ZXMsIHNlbGYpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBmdW5jdGlvbiBkZXJlZ2lzdGVyV2F0Y2hHcm91cCgpIHtcbiAgICAgICAgICB3aGlsZSAoZGVyZWdpc3RlckZucy5sZW5ndGgpIHtcbiAgICAgICAgICAgIGRlcmVnaXN0ZXJGbnMuc2hpZnQoKSgpO1xuICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgIH0sXG5cblxuICAgICAgLyoqXG4gICAgICAgKiBAbmdkb2MgbWV0aG9kXG4gICAgICAgKiBAbmFtZSAkcm9vdFNjb3BlLlNjb3BlIyR3YXRjaENvbGxlY3Rpb25cbiAgICAgICAqIEBraW5kIGZ1bmN0aW9uXG4gICAgICAgKlxuICAgICAgICogQGRlc2NyaXB0aW9uXG4gICAgICAgKiBTaGFsbG93IHdhdGNoZXMgdGhlIHByb3BlcnRpZXMgb2YgYW4gb2JqZWN0IGFuZCBmaXJlcyB3aGVuZXZlciBhbnkgb2YgdGhlIHByb3BlcnRpZXMgY2hhbmdlXG4gICAgICAgKiAoZm9yIGFycmF5cywgdGhpcyBpbXBsaWVzIHdhdGNoaW5nIHRoZSBhcnJheSBpdGVtczsgZm9yIG9iamVjdCBtYXBzLCB0aGlzIGltcGxpZXMgd2F0Y2hpbmdcbiAgICAgICAqIHRoZSBwcm9wZXJ0aWVzKS4gSWYgYSBjaGFuZ2UgaXMgZGV0ZWN0ZWQsIHRoZSBgbGlzdGVuZXJgIGNhbGxiYWNrIGlzIGZpcmVkLlxuICAgICAgICpcbiAgICAgICAqIC0gVGhlIGBvYmpgIGNvbGxlY3Rpb24gaXMgb2JzZXJ2ZWQgdmlhIHN0YW5kYXJkICR3YXRjaCBvcGVyYXRpb24gYW5kIGlzIGV4YW1pbmVkIG9uIGV2ZXJ5XG4gICAgICAgKiAgIGNhbGwgdG8gJGRpZ2VzdCgpIHRvIHNlZSBpZiBhbnkgaXRlbXMgaGF2ZSBiZWVuIGFkZGVkLCByZW1vdmVkLCBvciBtb3ZlZC5cbiAgICAgICAqIC0gVGhlIGBsaXN0ZW5lcmAgaXMgY2FsbGVkIHdoZW5ldmVyIGFueXRoaW5nIHdpdGhpbiB0aGUgYG9iamAgaGFzIGNoYW5nZWQuIEV4YW1wbGVzIGluY2x1ZGVcbiAgICAgICAqICAgYWRkaW5nLCByZW1vdmluZywgYW5kIG1vdmluZyBpdGVtcyBiZWxvbmdpbmcgdG8gYW4gb2JqZWN0IG9yIGFycmF5LlxuICAgICAgICpcbiAgICAgICAqXG4gICAgICAgKiAjIEV4YW1wbGVcbiAgICAgICAqIGBgYGpzXG4gICAgICAgICAgJHNjb3BlLm5hbWVzID0gWydpZ29yJywgJ21hdGlhcycsICdtaXNrbycsICdqYW1lcyddO1xuICAgICAgICAgICRzY29wZS5kYXRhQ291bnQgPSA0O1xuXG4gICAgICAgICAgJHNjb3BlLiR3YXRjaENvbGxlY3Rpb24oJ25hbWVzJywgZnVuY3Rpb24obmV3TmFtZXMsIG9sZE5hbWVzKSB7XG4gICAgICAgICAgICAkc2NvcGUuZGF0YUNvdW50ID0gbmV3TmFtZXMubGVuZ3RoO1xuICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgZXhwZWN0KCRzY29wZS5kYXRhQ291bnQpLnRvRXF1YWwoNCk7XG4gICAgICAgICAgJHNjb3BlLiRkaWdlc3QoKTtcblxuICAgICAgICAgIC8vc3RpbGwgYXQgNCAuLi4gbm8gY2hhbmdlc1xuICAgICAgICAgIGV4cGVjdCgkc2NvcGUuZGF0YUNvdW50KS50b0VxdWFsKDQpO1xuXG4gICAgICAgICAgJHNjb3BlLm5hbWVzLnBvcCgpO1xuICAgICAgICAgICRzY29wZS4kZGlnZXN0KCk7XG5cbiAgICAgICAgICAvL25vdyB0aGVyZSdzIGJlZW4gYSBjaGFuZ2VcbiAgICAgICAgICBleHBlY3QoJHNjb3BlLmRhdGFDb3VudCkudG9FcXVhbCgzKTtcbiAgICAgICAqIGBgYFxuICAgICAgICpcbiAgICAgICAqXG4gICAgICAgKiBAcGFyYW0ge3N0cmluZ3xmdW5jdGlvbihzY29wZSl9IG9iaiBFdmFsdWF0ZWQgYXMge0BsaW5rIGd1aWRlL2V4cHJlc3Npb24gZXhwcmVzc2lvbn0uIFRoZVxuICAgICAgICogICAgZXhwcmVzc2lvbiB2YWx1ZSBzaG91bGQgZXZhbHVhdGUgdG8gYW4gb2JqZWN0IG9yIGFuIGFycmF5IHdoaWNoIGlzIG9ic2VydmVkIG9uIGVhY2hcbiAgICAgICAqICAgIHtAbGluayBuZy4kcm9vdFNjb3BlLlNjb3BlIyRkaWdlc3QgJGRpZ2VzdH0gY3ljbGUuIEFueSBzaGFsbG93IGNoYW5nZSB3aXRoaW4gdGhlXG4gICAgICAgKiAgICBjb2xsZWN0aW9uIHdpbGwgdHJpZ2dlciBhIGNhbGwgdG8gdGhlIGBsaXN0ZW5lcmAuXG4gICAgICAgKlxuICAgICAgICogQHBhcmFtIHtmdW5jdGlvbihuZXdDb2xsZWN0aW9uLCBvbGRDb2xsZWN0aW9uLCBzY29wZSl9IGxpc3RlbmVyIGEgY2FsbGJhY2sgZnVuY3Rpb24gY2FsbGVkXG4gICAgICAgKiAgICB3aGVuIGEgY2hhbmdlIGlzIGRldGVjdGVkLlxuICAgICAgICogICAgLSBUaGUgYG5ld0NvbGxlY3Rpb25gIG9iamVjdCBpcyB0aGUgbmV3bHkgbW9kaWZpZWQgZGF0YSBvYnRhaW5lZCBmcm9tIHRoZSBgb2JqYCBleHByZXNzaW9uXG4gICAgICAgKiAgICAtIFRoZSBgb2xkQ29sbGVjdGlvbmAgb2JqZWN0IGlzIGEgY29weSBvZiB0aGUgZm9ybWVyIGNvbGxlY3Rpb24gZGF0YS5cbiAgICAgICAqICAgICAgRHVlIHRvIHBlcmZvcm1hbmNlIGNvbnNpZGVyYXRpb25zLCB0aGVgb2xkQ29sbGVjdGlvbmAgdmFsdWUgaXMgY29tcHV0ZWQgb25seSBpZiB0aGVcbiAgICAgICAqICAgICAgYGxpc3RlbmVyYCBmdW5jdGlvbiBkZWNsYXJlcyB0d28gb3IgbW9yZSBhcmd1bWVudHMuXG4gICAgICAgKiAgICAtIFRoZSBgc2NvcGVgIGFyZ3VtZW50IHJlZmVycyB0byB0aGUgY3VycmVudCBzY29wZS5cbiAgICAgICAqXG4gICAgICAgKiBAcmV0dXJucyB7ZnVuY3Rpb24oKX0gUmV0dXJucyBhIGRlLXJlZ2lzdHJhdGlvbiBmdW5jdGlvbiBmb3IgdGhpcyBsaXN0ZW5lci4gV2hlbiB0aGVcbiAgICAgICAqICAgIGRlLXJlZ2lzdHJhdGlvbiBmdW5jdGlvbiBpcyBleGVjdXRlZCwgdGhlIGludGVybmFsIHdhdGNoIG9wZXJhdGlvbiBpcyB0ZXJtaW5hdGVkLlxuICAgICAgICovXG4gICAgICAkd2F0Y2hDb2xsZWN0aW9uOiBmdW5jdGlvbihvYmosIGxpc3RlbmVyKSB7XG4gICAgICAgICR3YXRjaENvbGxlY3Rpb25JbnRlcmNlcHRvci4kc3RhdGVmdWwgPSB0cnVlO1xuXG4gICAgICAgIHZhciBzZWxmID0gdGhpcztcbiAgICAgICAgLy8gdGhlIGN1cnJlbnQgdmFsdWUsIHVwZGF0ZWQgb24gZWFjaCBkaXJ0eS1jaGVjayBydW5cbiAgICAgICAgdmFyIG5ld1ZhbHVlO1xuICAgICAgICAvLyBhIHNoYWxsb3cgY29weSBvZiB0aGUgbmV3VmFsdWUgZnJvbSB0aGUgbGFzdCBkaXJ0eS1jaGVjayBydW4sXG4gICAgICAgIC8vIHVwZGF0ZWQgdG8gbWF0Y2ggbmV3VmFsdWUgZHVyaW5nIGRpcnR5LWNoZWNrIHJ1blxuICAgICAgICB2YXIgb2xkVmFsdWU7XG4gICAgICAgIC8vIGEgc2hhbGxvdyBjb3B5IG9mIHRoZSBuZXdWYWx1ZSBmcm9tIHdoZW4gdGhlIGxhc3QgY2hhbmdlIGhhcHBlbmVkXG4gICAgICAgIHZhciB2ZXJ5T2xkVmFsdWU7XG4gICAgICAgIC8vIG9ubHkgdHJhY2sgdmVyeU9sZFZhbHVlIGlmIHRoZSBsaXN0ZW5lciBpcyBhc2tpbmcgZm9yIGl0XG4gICAgICAgIHZhciB0cmFja1ZlcnlPbGRWYWx1ZSA9IChsaXN0ZW5lci5sZW5ndGggPiAxKTtcbiAgICAgICAgdmFyIGNoYW5nZURldGVjdGVkID0gMDtcbiAgICAgICAgdmFyIGNoYW5nZURldGVjdG9yID0gJHBhcnNlKG9iaiwgJHdhdGNoQ29sbGVjdGlvbkludGVyY2VwdG9yKTtcbiAgICAgICAgdmFyIGludGVybmFsQXJyYXkgPSBbXTtcbiAgICAgICAgdmFyIGludGVybmFsT2JqZWN0ID0ge307XG4gICAgICAgIHZhciBpbml0UnVuID0gdHJ1ZTtcbiAgICAgICAgdmFyIG9sZExlbmd0aCA9IDA7XG5cbiAgICAgICAgZnVuY3Rpb24gJHdhdGNoQ29sbGVjdGlvbkludGVyY2VwdG9yKF92YWx1ZSkge1xuICAgICAgICAgIG5ld1ZhbHVlID0gX3ZhbHVlO1xuICAgICAgICAgIHZhciBuZXdMZW5ndGgsIGtleSwgYm90aE5hTiwgbmV3SXRlbSwgb2xkSXRlbTtcblxuICAgICAgICAgIC8vIElmIHRoZSBuZXcgdmFsdWUgaXMgdW5kZWZpbmVkLCB0aGVuIHJldHVybiB1bmRlZmluZWQgYXMgdGhlIHdhdGNoIG1heSBiZSBhIG9uZS10aW1lIHdhdGNoXG4gICAgICAgICAgaWYgKGlzVW5kZWZpbmVkKG5ld1ZhbHVlKSkgcmV0dXJuO1xuXG4gICAgICAgICAgaWYgKCFpc09iamVjdChuZXdWYWx1ZSkpIHsgLy8gaWYgcHJpbWl0aXZlXG4gICAgICAgICAgICBpZiAob2xkVmFsdWUgIT09IG5ld1ZhbHVlKSB7XG4gICAgICAgICAgICAgIG9sZFZhbHVlID0gbmV3VmFsdWU7XG4gICAgICAgICAgICAgIGNoYW5nZURldGVjdGVkKys7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSBlbHNlIGlmIChpc0FycmF5TGlrZShuZXdWYWx1ZSkpIHtcbiAgICAgICAgICAgIGlmIChvbGRWYWx1ZSAhPT0gaW50ZXJuYWxBcnJheSkge1xuICAgICAgICAgICAgICAvLyB3ZSBhcmUgdHJhbnNpdGlvbmluZyBmcm9tIHNvbWV0aGluZyB3aGljaCB3YXMgbm90IGFuIGFycmF5IGludG8gYXJyYXkuXG4gICAgICAgICAgICAgIG9sZFZhbHVlID0gaW50ZXJuYWxBcnJheTtcbiAgICAgICAgICAgICAgb2xkTGVuZ3RoID0gb2xkVmFsdWUubGVuZ3RoID0gMDtcbiAgICAgICAgICAgICAgY2hhbmdlRGV0ZWN0ZWQrKztcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgbmV3TGVuZ3RoID0gbmV3VmFsdWUubGVuZ3RoO1xuXG4gICAgICAgICAgICBpZiAob2xkTGVuZ3RoICE9PSBuZXdMZW5ndGgpIHtcbiAgICAgICAgICAgICAgLy8gaWYgbGVuZ3RocyBkbyBub3QgbWF0Y2ggd2UgbmVlZCB0byB0cmlnZ2VyIGNoYW5nZSBub3RpZmljYXRpb25cbiAgICAgICAgICAgICAgY2hhbmdlRGV0ZWN0ZWQrKztcbiAgICAgICAgICAgICAgb2xkVmFsdWUubGVuZ3RoID0gb2xkTGVuZ3RoID0gbmV3TGVuZ3RoO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gY29weSB0aGUgaXRlbXMgdG8gb2xkVmFsdWUgYW5kIGxvb2sgZm9yIGNoYW5nZXMuXG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IG5ld0xlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgIG9sZEl0ZW0gPSBvbGRWYWx1ZVtpXTtcbiAgICAgICAgICAgICAgbmV3SXRlbSA9IG5ld1ZhbHVlW2ldO1xuXG4gICAgICAgICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1zZWxmLWNvbXBhcmVcbiAgICAgICAgICAgICAgYm90aE5hTiA9IChvbGRJdGVtICE9PSBvbGRJdGVtKSAmJiAobmV3SXRlbSAhPT0gbmV3SXRlbSk7XG4gICAgICAgICAgICAgIGlmICghYm90aE5hTiAmJiAob2xkSXRlbSAhPT0gbmV3SXRlbSkpIHtcbiAgICAgICAgICAgICAgICBjaGFuZ2VEZXRlY3RlZCsrO1xuICAgICAgICAgICAgICAgIG9sZFZhbHVlW2ldID0gbmV3SXRlbTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBpZiAob2xkVmFsdWUgIT09IGludGVybmFsT2JqZWN0KSB7XG4gICAgICAgICAgICAgIC8vIHdlIGFyZSB0cmFuc2l0aW9uaW5nIGZyb20gc29tZXRoaW5nIHdoaWNoIHdhcyBub3QgYW4gb2JqZWN0IGludG8gb2JqZWN0LlxuICAgICAgICAgICAgICBvbGRWYWx1ZSA9IGludGVybmFsT2JqZWN0ID0ge307XG4gICAgICAgICAgICAgIG9sZExlbmd0aCA9IDA7XG4gICAgICAgICAgICAgIGNoYW5nZURldGVjdGVkKys7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBjb3B5IHRoZSBpdGVtcyB0byBvbGRWYWx1ZSBhbmQgbG9vayBmb3IgY2hhbmdlcy5cbiAgICAgICAgICAgIG5ld0xlbmd0aCA9IDA7XG4gICAgICAgICAgICBmb3IgKGtleSBpbiBuZXdWYWx1ZSkge1xuICAgICAgICAgICAgICBpZiAoaGFzT3duUHJvcGVydHkuY2FsbChuZXdWYWx1ZSwga2V5KSkge1xuICAgICAgICAgICAgICAgIG5ld0xlbmd0aCsrO1xuICAgICAgICAgICAgICAgIG5ld0l0ZW0gPSBuZXdWYWx1ZVtrZXldO1xuICAgICAgICAgICAgICAgIG9sZEl0ZW0gPSBvbGRWYWx1ZVtrZXldO1xuXG4gICAgICAgICAgICAgICAgaWYgKGtleSBpbiBvbGRWYWx1ZSkge1xuICAgICAgICAgICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXNlbGYtY29tcGFyZVxuICAgICAgICAgICAgICAgICAgYm90aE5hTiA9IChvbGRJdGVtICE9PSBvbGRJdGVtKSAmJiAobmV3SXRlbSAhPT0gbmV3SXRlbSk7XG4gICAgICAgICAgICAgICAgICBpZiAoIWJvdGhOYU4gJiYgKG9sZEl0ZW0gIT09IG5ld0l0ZW0pKSB7XG4gICAgICAgICAgICAgICAgICAgIGNoYW5nZURldGVjdGVkKys7XG4gICAgICAgICAgICAgICAgICAgIG9sZFZhbHVlW2tleV0gPSBuZXdJdGVtO1xuICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICBvbGRMZW5ndGgrKztcbiAgICAgICAgICAgICAgICAgIG9sZFZhbHVlW2tleV0gPSBuZXdJdGVtO1xuICAgICAgICAgICAgICAgICAgY2hhbmdlRGV0ZWN0ZWQrKztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChvbGRMZW5ndGggPiBuZXdMZW5ndGgpIHtcbiAgICAgICAgICAgICAgLy8gd2UgdXNlZCB0byBoYXZlIG1vcmUga2V5cywgbmVlZCB0byBmaW5kIHRoZW0gYW5kIGRlc3Ryb3kgdGhlbS5cbiAgICAgICAgICAgICAgY2hhbmdlRGV0ZWN0ZWQrKztcbiAgICAgICAgICAgICAgZm9yIChrZXkgaW4gb2xkVmFsdWUpIHtcbiAgICAgICAgICAgICAgICBpZiAoIWhhc093blByb3BlcnR5LmNhbGwobmV3VmFsdWUsIGtleSkpIHtcbiAgICAgICAgICAgICAgICAgIG9sZExlbmd0aC0tO1xuICAgICAgICAgICAgICAgICAgZGVsZXRlIG9sZFZhbHVlW2tleV07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICAgIHJldHVybiBjaGFuZ2VEZXRlY3RlZDtcbiAgICAgICAgfVxuXG4gICAgICAgIGZ1bmN0aW9uICR3YXRjaENvbGxlY3Rpb25BY3Rpb24oKSB7XG4gICAgICAgICAgaWYgKGluaXRSdW4pIHtcbiAgICAgICAgICAgIGluaXRSdW4gPSBmYWxzZTtcbiAgICAgICAgICAgIGxpc3RlbmVyKG5ld1ZhbHVlLCBuZXdWYWx1ZSwgc2VsZik7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGxpc3RlbmVyKG5ld1ZhbHVlLCB2ZXJ5T2xkVmFsdWUsIHNlbGYpO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIC8vIG1ha2UgYSBjb3B5IGZvciB0aGUgbmV4dCB0aW1lIGEgY29sbGVjdGlvbiBpcyBjaGFuZ2VkXG4gICAgICAgICAgaWYgKHRyYWNrVmVyeU9sZFZhbHVlKSB7XG4gICAgICAgICAgICBpZiAoIWlzT2JqZWN0KG5ld1ZhbHVlKSkge1xuICAgICAgICAgICAgICAvL3ByaW1pdGl2ZVxuICAgICAgICAgICAgICB2ZXJ5T2xkVmFsdWUgPSBuZXdWYWx1ZTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoaXNBcnJheUxpa2UobmV3VmFsdWUpKSB7XG4gICAgICAgICAgICAgIHZlcnlPbGRWYWx1ZSA9IG5ldyBBcnJheShuZXdWYWx1ZS5sZW5ndGgpO1xuICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IG5ld1ZhbHVlLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgdmVyeU9sZFZhbHVlW2ldID0gbmV3VmFsdWVbaV07XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSB7IC8vIGlmIG9iamVjdFxuICAgICAgICAgICAgICB2ZXJ5T2xkVmFsdWUgPSB7fTtcbiAgICAgICAgICAgICAgZm9yICh2YXIga2V5IGluIG5ld1ZhbHVlKSB7XG4gICAgICAgICAgICAgICAgaWYgKGhhc093blByb3BlcnR5LmNhbGwobmV3VmFsdWUsIGtleSkpIHtcbiAgICAgICAgICAgICAgICAgIHZlcnlPbGRWYWx1ZVtrZXldID0gbmV3VmFsdWVba2V5XTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdGhpcy4kd2F0Y2goY2hhbmdlRGV0ZWN0b3IsICR3YXRjaENvbGxlY3Rpb25BY3Rpb24pO1xuICAgICAgfSxcblxuICAgICAgLyoqXG4gICAgICAgKiBAbmdkb2MgbWV0aG9kXG4gICAgICAgKiBAbmFtZSAkcm9vdFNjb3BlLlNjb3BlIyRkaWdlc3RcbiAgICAgICAqIEBraW5kIGZ1bmN0aW9uXG4gICAgICAgKlxuICAgICAgICogQGRlc2NyaXB0aW9uXG4gICAgICAgKiBQcm9jZXNzZXMgYWxsIG9mIHRoZSB7QGxpbmsgbmcuJHJvb3RTY29wZS5TY29wZSMkd2F0Y2ggd2F0Y2hlcnN9IG9mIHRoZSBjdXJyZW50IHNjb3BlIGFuZFxuICAgICAgICogaXRzIGNoaWxkcmVuLiBCZWNhdXNlIGEge0BsaW5rIG5nLiRyb290U2NvcGUuU2NvcGUjJHdhdGNoIHdhdGNoZXJ9J3MgbGlzdGVuZXIgY2FuIGNoYW5nZVxuICAgICAgICogdGhlIG1vZGVsLCB0aGUgYCRkaWdlc3QoKWAga2VlcHMgY2FsbGluZyB0aGUge0BsaW5rIG5nLiRyb290U2NvcGUuU2NvcGUjJHdhdGNoIHdhdGNoZXJzfVxuICAgICAgICogdW50aWwgbm8gbW9yZSBsaXN0ZW5lcnMgYXJlIGZpcmluZy4gVGhpcyBtZWFucyB0aGF0IGl0IGlzIHBvc3NpYmxlIHRvIGdldCBpbnRvIGFuIGluZmluaXRlXG4gICAgICAgKiBsb29wLiBUaGlzIGZ1bmN0aW9uIHdpbGwgdGhyb3cgYCdNYXhpbXVtIGl0ZXJhdGlvbiBsaW1pdCBleGNlZWRlZC4nYCBpZiB0aGUgbnVtYmVyIG9mXG4gICAgICAgKiBpdGVyYXRpb25zIGV4Y2VlZHMgMTAuXG4gICAgICAgKlxuICAgICAgICogVXN1YWxseSwgeW91IGRvbid0IGNhbGwgYCRkaWdlc3QoKWAgZGlyZWN0bHkgaW5cbiAgICAgICAqIHtAbGluayBuZy5kaXJlY3RpdmU6bmdDb250cm9sbGVyIGNvbnRyb2xsZXJzfSBvciBpblxuICAgICAgICoge0BsaW5rIG5nLiRjb21waWxlUHJvdmlkZXIjZGlyZWN0aXZlIGRpcmVjdGl2ZXN9LlxuICAgICAgICogSW5zdGVhZCwgeW91IHNob3VsZCBjYWxsIHtAbGluayBuZy4kcm9vdFNjb3BlLlNjb3BlIyRhcHBseSAkYXBwbHkoKX0gKHR5cGljYWxseSBmcm9tIHdpdGhpblxuICAgICAgICogYSB7QGxpbmsgbmcuJGNvbXBpbGVQcm92aWRlciNkaXJlY3RpdmUgZGlyZWN0aXZlfSksIHdoaWNoIHdpbGwgZm9yY2UgYSBgJGRpZ2VzdCgpYC5cbiAgICAgICAqXG4gICAgICAgKiBJZiB5b3Ugd2FudCB0byBiZSBub3RpZmllZCB3aGVuZXZlciBgJGRpZ2VzdCgpYCBpcyBjYWxsZWQsXG4gICAgICAgKiB5b3UgY2FuIHJlZ2lzdGVyIGEgYHdhdGNoRXhwcmVzc2lvbmAgZnVuY3Rpb24gd2l0aFxuICAgICAgICoge0BsaW5rIG5nLiRyb290U2NvcGUuU2NvcGUjJHdhdGNoICR3YXRjaCgpfSB3aXRoIG5vIGBsaXN0ZW5lcmAuXG4gICAgICAgKlxuICAgICAgICogSW4gdW5pdCB0ZXN0cywgeW91IG1heSBuZWVkIHRvIGNhbGwgYCRkaWdlc3QoKWAgdG8gc2ltdWxhdGUgdGhlIHNjb3BlIGxpZmUgY3ljbGUuXG4gICAgICAgKlxuICAgICAgICogIyBFeGFtcGxlXG4gICAgICAgKiBgYGBqc1xuICAgICAgICAgICB2YXIgc2NvcGUgPSAuLi47XG4gICAgICAgICAgIHNjb3BlLm5hbWUgPSAnbWlza28nO1xuICAgICAgICAgICBzY29wZS5jb3VudGVyID0gMDtcblxuICAgICAgICAgICBleHBlY3Qoc2NvcGUuY291bnRlcikudG9FcXVhbCgwKTtcbiAgICAgICAgICAgc2NvcGUuJHdhdGNoKCduYW1lJywgZnVuY3Rpb24obmV3VmFsdWUsIG9sZFZhbHVlKSB7XG4gICAgICAgICAgICAgc2NvcGUuY291bnRlciA9IHNjb3BlLmNvdW50ZXIgKyAxO1xuICAgICAgICAgICB9KTtcbiAgICAgICAgICAgZXhwZWN0KHNjb3BlLmNvdW50ZXIpLnRvRXF1YWwoMCk7XG5cbiAgICAgICAgICAgc2NvcGUuJGRpZ2VzdCgpO1xuICAgICAgICAgICAvLyB0aGUgbGlzdGVuZXIgaXMgYWx3YXlzIGNhbGxlZCBkdXJpbmcgdGhlIGZpcnN0ICRkaWdlc3QgbG9vcCBhZnRlciBpdCB3YXMgcmVnaXN0ZXJlZFxuICAgICAgICAgICBleHBlY3Qoc2NvcGUuY291bnRlcikudG9FcXVhbCgxKTtcblxuICAgICAgICAgICBzY29wZS4kZGlnZXN0KCk7XG4gICAgICAgICAgIC8vIGJ1dCBub3cgaXQgd2lsbCBub3QgYmUgY2FsbGVkIHVubGVzcyB0aGUgdmFsdWUgY2hhbmdlc1xuICAgICAgICAgICBleHBlY3Qoc2NvcGUuY291bnRlcikudG9FcXVhbCgxKTtcblxuICAgICAgICAgICBzY29wZS5uYW1lID0gJ2FkYW0nO1xuICAgICAgICAgICBzY29wZS4kZGlnZXN0KCk7XG4gICAgICAgICAgIGV4cGVjdChzY29wZS5jb3VudGVyKS50b0VxdWFsKDIpO1xuICAgICAgICogYGBgXG4gICAgICAgKlxuICAgICAgICovXG4gICAgICAkZGlnZXN0OiBmdW5jdGlvbigpIHtcbiAgICAgICAgdmFyIHdhdGNoLCB2YWx1ZSwgbGFzdCwgZm4sIGdldCxcbiAgICAgICAgICAgIHdhdGNoZXJzLFxuICAgICAgICAgICAgZGlydHksIHR0bCA9IFRUTCxcbiAgICAgICAgICAgIG5leHQsIGN1cnJlbnQsIHRhcmdldCA9IHRoaXMsXG4gICAgICAgICAgICB3YXRjaExvZyA9IFtdLFxuICAgICAgICAgICAgbG9nSWR4LCBhc3luY1Rhc2s7XG5cbiAgICAgICAgYmVnaW5QaGFzZSgnJGRpZ2VzdCcpO1xuICAgICAgICAvLyBDaGVjayBmb3IgY2hhbmdlcyB0byBicm93c2VyIHVybCB0aGF0IGhhcHBlbmVkIGluIHN5bmMgYmVmb3JlIHRoZSBjYWxsIHRvICRkaWdlc3RcbiAgICAgICAgJGJyb3dzZXIuJCRjaGVja1VybENoYW5nZSgpO1xuXG4gICAgICAgIGlmICh0aGlzID09PSAkcm9vdFNjb3BlICYmIGFwcGx5QXN5bmNJZCAhPT0gbnVsbCkge1xuICAgICAgICAgIC8vIElmIHRoaXMgaXMgdGhlIHJvb3Qgc2NvcGUsIGFuZCAkYXBwbHlBc3luYyBoYXMgc2NoZWR1bGVkIGEgZGVmZXJyZWQgJGFwcGx5KCksIHRoZW5cbiAgICAgICAgICAvLyBjYW5jZWwgdGhlIHNjaGVkdWxlZCAkYXBwbHkgYW5kIGZsdXNoIHRoZSBxdWV1ZSBvZiBleHByZXNzaW9ucyB0byBiZSBldmFsdWF0ZWQuXG4gICAgICAgICAgJGJyb3dzZXIuZGVmZXIuY2FuY2VsKGFwcGx5QXN5bmNJZCk7XG4gICAgICAgICAgZmx1c2hBcHBseUFzeW5jKCk7XG4gICAgICAgIH1cblxuICAgICAgICBsYXN0RGlydHlXYXRjaCA9IG51bGw7XG5cbiAgICAgICAgZG8geyAvLyBcIndoaWxlIGRpcnR5XCIgbG9vcFxuICAgICAgICAgIGRpcnR5ID0gZmFsc2U7XG4gICAgICAgICAgY3VycmVudCA9IHRhcmdldDtcblxuICAgICAgICAgIC8vIEl0J3Mgc2FmZSBmb3IgYXN5bmNRdWV1ZVBvc2l0aW9uIHRvIGJlIGEgbG9jYWwgdmFyaWFibGUgaGVyZSBiZWNhdXNlIHRoaXMgbG9vcCBjYW4ndFxuICAgICAgICAgIC8vIGJlIHJlZW50ZXJlZCByZWN1cnNpdmVseS4gQ2FsbGluZyAkZGlnZXN0IGZyb20gYSBmdW5jdGlvbiBwYXNzZWQgdG8gJGV2YWxBc3luYyB3b3VsZFxuICAgICAgICAgIC8vIGxlYWQgdG8gYSAnJGRpZ2VzdCBhbHJlYWR5IGluIHByb2dyZXNzJyBlcnJvci5cbiAgICAgICAgICBmb3IgKHZhciBhc3luY1F1ZXVlUG9zaXRpb24gPSAwOyBhc3luY1F1ZXVlUG9zaXRpb24gPCBhc3luY1F1ZXVlLmxlbmd0aDsgYXN5bmNRdWV1ZVBvc2l0aW9uKyspIHtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgIGFzeW5jVGFzayA9IGFzeW5jUXVldWVbYXN5bmNRdWV1ZVBvc2l0aW9uXTtcbiAgICAgICAgICAgICAgZm4gPSBhc3luY1Rhc2suZm47XG4gICAgICAgICAgICAgIGZuKGFzeW5jVGFzay5zY29wZSwgYXN5bmNUYXNrLmxvY2Fscyk7XG4gICAgICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgICAgICRleGNlcHRpb25IYW5kbGVyKGUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgbGFzdERpcnR5V2F0Y2ggPSBudWxsO1xuICAgICAgICAgIH1cbiAgICAgICAgICBhc3luY1F1ZXVlLmxlbmd0aCA9IDA7XG5cbiAgICAgICAgICB0cmF2ZXJzZVNjb3Blc0xvb3A6XG4gICAgICAgICAgZG8geyAvLyBcInRyYXZlcnNlIHRoZSBzY29wZXNcIiBsb29wXG4gICAgICAgICAgICBpZiAoKHdhdGNoZXJzID0gY3VycmVudC4kJHdhdGNoZXJzKSkge1xuICAgICAgICAgICAgICAvLyBwcm9jZXNzIG91ciB3YXRjaGVzXG4gICAgICAgICAgICAgIHdhdGNoZXJzLiQkZGlnZXN0V2F0Y2hJbmRleCA9IHdhdGNoZXJzLmxlbmd0aDtcbiAgICAgICAgICAgICAgd2hpbGUgKHdhdGNoZXJzLiQkZGlnZXN0V2F0Y2hJbmRleC0tKSB7XG4gICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgIHdhdGNoID0gd2F0Y2hlcnNbd2F0Y2hlcnMuJCRkaWdlc3RXYXRjaEluZGV4XTtcbiAgICAgICAgICAgICAgICAgIC8vIE1vc3QgY29tbW9uIHdhdGNoZXMgYXJlIG9uIHByaW1pdGl2ZXMsIGluIHdoaWNoIGNhc2Ugd2UgY2FuIHNob3J0XG4gICAgICAgICAgICAgICAgICAvLyBjaXJjdWl0IGl0IHdpdGggPT09IG9wZXJhdG9yLCBvbmx5IHdoZW4gPT09IGZhaWxzIGRvIHdlIHVzZSAuZXF1YWxzXG4gICAgICAgICAgICAgICAgICBpZiAod2F0Y2gpIHtcbiAgICAgICAgICAgICAgICAgICAgZ2V0ID0gd2F0Y2guZ2V0O1xuICAgICAgICAgICAgICAgICAgICBpZiAoKHZhbHVlID0gZ2V0KGN1cnJlbnQpKSAhPT0gKGxhc3QgPSB3YXRjaC5sYXN0KSAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgISh3YXRjaC5lcVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgID8gZXF1YWxzKHZhbHVlLCBsYXN0KVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogKGlzTnVtYmVyTmFOKHZhbHVlKSAmJiBpc051bWJlck5hTihsYXN0KSkpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgZGlydHkgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgIGxhc3REaXJ0eVdhdGNoID0gd2F0Y2g7XG4gICAgICAgICAgICAgICAgICAgICAgd2F0Y2gubGFzdCA9IHdhdGNoLmVxID8gY29weSh2YWx1ZSwgbnVsbCkgOiB2YWx1ZTtcbiAgICAgICAgICAgICAgICAgICAgICBmbiA9IHdhdGNoLmZuO1xuICAgICAgICAgICAgICAgICAgICAgIGZuKHZhbHVlLCAoKGxhc3QgPT09IGluaXRXYXRjaFZhbCkgPyB2YWx1ZSA6IGxhc3QpLCBjdXJyZW50KTtcbiAgICAgICAgICAgICAgICAgICAgICBpZiAodHRsIDwgNSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgbG9nSWR4ID0gNCAtIHR0bDtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghd2F0Y2hMb2dbbG9nSWR4XSkgd2F0Y2hMb2dbbG9nSWR4XSA9IFtdO1xuICAgICAgICAgICAgICAgICAgICAgICAgd2F0Y2hMb2dbbG9nSWR4XS5wdXNoKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgbXNnOiBpc0Z1bmN0aW9uKHdhdGNoLmV4cCkgPyAnZm46ICcgKyAod2F0Y2guZXhwLm5hbWUgfHwgd2F0Y2guZXhwLnRvU3RyaW5nKCkpIDogd2F0Y2guZXhwLFxuICAgICAgICAgICAgICAgICAgICAgICAgICBuZXdWYWw6IHZhbHVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICBvbGRWYWw6IGxhc3RcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmICh3YXRjaCA9PT0gbGFzdERpcnR5V2F0Y2gpIHtcbiAgICAgICAgICAgICAgICAgICAgICAvLyBJZiB0aGUgbW9zdCByZWNlbnRseSBkaXJ0eSB3YXRjaGVyIGlzIG5vdyBjbGVhbiwgc2hvcnQgY2lyY3VpdCBzaW5jZSB0aGUgcmVtYWluaW5nIHdhdGNoZXJzXG4gICAgICAgICAgICAgICAgICAgICAgLy8gaGF2ZSBhbHJlYWR5IGJlZW4gdGVzdGVkLlxuICAgICAgICAgICAgICAgICAgICAgIGRpcnR5ID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgICAgYnJlYWsgdHJhdmVyc2VTY29wZXNMb29wO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAgICAgICAgICAgJGV4Y2VwdGlvbkhhbmRsZXIoZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIEluc2FuaXR5IFdhcm5pbmc6IHNjb3BlIGRlcHRoLWZpcnN0IHRyYXZlcnNhbFxuICAgICAgICAgICAgLy8geWVzLCB0aGlzIGNvZGUgaXMgYSBiaXQgY3JhenksIGJ1dCBpdCB3b3JrcyBhbmQgd2UgaGF2ZSB0ZXN0cyB0byBwcm92ZSBpdCFcbiAgICAgICAgICAgIC8vIHRoaXMgcGllY2Ugc2hvdWxkIGJlIGtlcHQgaW4gc3luYyB3aXRoIHRoZSB0cmF2ZXJzYWwgaW4gJGJyb2FkY2FzdFxuICAgICAgICAgICAgaWYgKCEobmV4dCA9ICgoY3VycmVudC4kJHdhdGNoZXJzQ291bnQgJiYgY3VycmVudC4kJGNoaWxkSGVhZCkgfHxcbiAgICAgICAgICAgICAgICAoY3VycmVudCAhPT0gdGFyZ2V0ICYmIGN1cnJlbnQuJCRuZXh0U2libGluZykpKSkge1xuICAgICAgICAgICAgICB3aGlsZSAoY3VycmVudCAhPT0gdGFyZ2V0ICYmICEobmV4dCA9IGN1cnJlbnQuJCRuZXh0U2libGluZykpIHtcbiAgICAgICAgICAgICAgICBjdXJyZW50ID0gY3VycmVudC4kcGFyZW50O1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSB3aGlsZSAoKGN1cnJlbnQgPSBuZXh0KSk7XG5cbiAgICAgICAgICAvLyBgYnJlYWsgdHJhdmVyc2VTY29wZXNMb29wO2AgdGFrZXMgdXMgdG8gaGVyZVxuXG4gICAgICAgICAgaWYgKChkaXJ0eSB8fCBhc3luY1F1ZXVlLmxlbmd0aCkgJiYgISh0dGwtLSkpIHtcbiAgICAgICAgICAgIGNsZWFyUGhhc2UoKTtcbiAgICAgICAgICAgIHRocm93ICRyb290U2NvcGVNaW5FcnIoJ2luZmRpZycsXG4gICAgICAgICAgICAgICAgJ3swfSAkZGlnZXN0KCkgaXRlcmF0aW9ucyByZWFjaGVkLiBBYm9ydGluZyFcXG4nICtcbiAgICAgICAgICAgICAgICAnV2F0Y2hlcnMgZmlyZWQgaW4gdGhlIGxhc3QgNSBpdGVyYXRpb25zOiB7MX0nLFxuICAgICAgICAgICAgICAgIFRUTCwgd2F0Y2hMb2cpO1xuICAgICAgICAgIH1cblxuICAgICAgICB9IHdoaWxlIChkaXJ0eSB8fCBhc3luY1F1ZXVlLmxlbmd0aCk7XG5cbiAgICAgICAgY2xlYXJQaGFzZSgpO1xuXG4gICAgICAgIC8vIHBvc3REaWdlc3RRdWV1ZVBvc2l0aW9uIGlzbid0IGxvY2FsIGhlcmUgYmVjYXVzZSB0aGlzIGxvb3AgY2FuIGJlIHJlZW50ZXJlZCByZWN1cnNpdmVseS5cbiAgICAgICAgd2hpbGUgKHBvc3REaWdlc3RRdWV1ZVBvc2l0aW9uIDwgcG9zdERpZ2VzdFF1ZXVlLmxlbmd0aCkge1xuICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICBwb3N0RGlnZXN0UXVldWVbcG9zdERpZ2VzdFF1ZXVlUG9zaXRpb24rK10oKTtcbiAgICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgICAkZXhjZXB0aW9uSGFuZGxlcihlKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcG9zdERpZ2VzdFF1ZXVlLmxlbmd0aCA9IHBvc3REaWdlc3RRdWV1ZVBvc2l0aW9uID0gMDtcblxuICAgICAgICAvLyBDaGVjayBmb3IgY2hhbmdlcyB0byBicm93c2VyIHVybCB0aGF0IGhhcHBlbmVkIGR1cmluZyB0aGUgJGRpZ2VzdFxuICAgICAgICAvLyAoZm9yIHdoaWNoIG5vIGV2ZW50IGlzIGZpcmVkOyBlLmcuIHZpYSBgaGlzdG9yeS5wdXNoU3RhdGUoKWApXG4gICAgICAgICRicm93c2VyLiQkY2hlY2tVcmxDaGFuZ2UoKTtcbiAgICAgIH0sXG5cblxuICAgICAgLyoqXG4gICAgICAgKiBAbmdkb2MgZXZlbnRcbiAgICAgICAqIEBuYW1lICRyb290U2NvcGUuU2NvcGUjJGRlc3Ryb3lcbiAgICAgICAqIEBldmVudFR5cGUgYnJvYWRjYXN0IG9uIHNjb3BlIGJlaW5nIGRlc3Ryb3llZFxuICAgICAgICpcbiAgICAgICAqIEBkZXNjcmlwdGlvblxuICAgICAgICogQnJvYWRjYXN0ZWQgd2hlbiBhIHNjb3BlIGFuZCBpdHMgY2hpbGRyZW4gYXJlIGJlaW5nIGRlc3Ryb3llZC5cbiAgICAgICAqXG4gICAgICAgKiBOb3RlIHRoYXQsIGluIEFuZ3VsYXJKUywgdGhlcmUgaXMgYWxzbyBhIGAkZGVzdHJveWAgalF1ZXJ5IGV2ZW50LCB3aGljaCBjYW4gYmUgdXNlZCB0b1xuICAgICAgICogY2xlYW4gdXAgRE9NIGJpbmRpbmdzIGJlZm9yZSBhbiBlbGVtZW50IGlzIHJlbW92ZWQgZnJvbSB0aGUgRE9NLlxuICAgICAgICovXG5cbiAgICAgIC8qKlxuICAgICAgICogQG5nZG9jIG1ldGhvZFxuICAgICAgICogQG5hbWUgJHJvb3RTY29wZS5TY29wZSMkZGVzdHJveVxuICAgICAgICogQGtpbmQgZnVuY3Rpb25cbiAgICAgICAqXG4gICAgICAgKiBAZGVzY3JpcHRpb25cbiAgICAgICAqIFJlbW92ZXMgdGhlIGN1cnJlbnQgc2NvcGUgKGFuZCBhbGwgb2YgaXRzIGNoaWxkcmVuKSBmcm9tIHRoZSBwYXJlbnQgc2NvcGUuIFJlbW92YWwgaW1wbGllc1xuICAgICAgICogdGhhdCBjYWxscyB0byB7QGxpbmsgbmcuJHJvb3RTY29wZS5TY29wZSMkZGlnZXN0ICRkaWdlc3QoKX0gd2lsbCBubyBsb25nZXJcbiAgICAgICAqIHByb3BhZ2F0ZSB0byB0aGUgY3VycmVudCBzY29wZSBhbmQgaXRzIGNoaWxkcmVuLiBSZW1vdmFsIGFsc28gaW1wbGllcyB0aGF0IHRoZSBjdXJyZW50XG4gICAgICAgKiBzY29wZSBpcyBlbGlnaWJsZSBmb3IgZ2FyYmFnZSBjb2xsZWN0aW9uLlxuICAgICAgICpcbiAgICAgICAqIFRoZSBgJGRlc3Ryb3koKWAgaXMgdXN1YWxseSB1c2VkIGJ5IGRpcmVjdGl2ZXMgc3VjaCBhc1xuICAgICAgICoge0BsaW5rIG5nLmRpcmVjdGl2ZTpuZ1JlcGVhdCBuZ1JlcGVhdH0gZm9yIG1hbmFnaW5nIHRoZVxuICAgICAgICogdW5yb2xsaW5nIG9mIHRoZSBsb29wLlxuICAgICAgICpcbiAgICAgICAqIEp1c3QgYmVmb3JlIGEgc2NvcGUgaXMgZGVzdHJveWVkLCBhIGAkZGVzdHJveWAgZXZlbnQgaXMgYnJvYWRjYXN0ZWQgb24gdGhpcyBzY29wZS5cbiAgICAgICAqIEFwcGxpY2F0aW9uIGNvZGUgY2FuIHJlZ2lzdGVyIGEgYCRkZXN0cm95YCBldmVudCBoYW5kbGVyIHRoYXQgd2lsbCBnaXZlIGl0IGEgY2hhbmNlIHRvXG4gICAgICAgKiBwZXJmb3JtIGFueSBuZWNlc3NhcnkgY2xlYW51cC5cbiAgICAgICAqXG4gICAgICAgKiBOb3RlIHRoYXQsIGluIEFuZ3VsYXJKUywgdGhlcmUgaXMgYWxzbyBhIGAkZGVzdHJveWAgalF1ZXJ5IGV2ZW50LCB3aGljaCBjYW4gYmUgdXNlZCB0b1xuICAgICAgICogY2xlYW4gdXAgRE9NIGJpbmRpbmdzIGJlZm9yZSBhbiBlbGVtZW50IGlzIHJlbW92ZWQgZnJvbSB0aGUgRE9NLlxuICAgICAgICovXG4gICAgICAkZGVzdHJveTogZnVuY3Rpb24oKSB7XG4gICAgICAgIC8vIFdlIGNhbid0IGRlc3Ryb3kgYSBzY29wZSB0aGF0IGhhcyBiZWVuIGFscmVhZHkgZGVzdHJveWVkLlxuICAgICAgICBpZiAodGhpcy4kJGRlc3Ryb3llZCkgcmV0dXJuO1xuICAgICAgICB2YXIgcGFyZW50ID0gdGhpcy4kcGFyZW50O1xuXG4gICAgICAgIHRoaXMuJGJyb2FkY2FzdCgnJGRlc3Ryb3knKTtcbiAgICAgICAgdGhpcy4kJGRlc3Ryb3llZCA9IHRydWU7XG5cbiAgICAgICAgaWYgKHRoaXMgPT09ICRyb290U2NvcGUpIHtcbiAgICAgICAgICAvL1JlbW92ZSBoYW5kbGVycyBhdHRhY2hlZCB0byB3aW5kb3cgd2hlbiAkcm9vdFNjb3BlIGlzIHJlbW92ZWRcbiAgICAgICAgICAkYnJvd3Nlci4kJGFwcGxpY2F0aW9uRGVzdHJveWVkKCk7XG4gICAgICAgIH1cblxuICAgICAgICBpbmNyZW1lbnRXYXRjaGVyc0NvdW50KHRoaXMsIC10aGlzLiQkd2F0Y2hlcnNDb3VudCk7XG4gICAgICAgIGZvciAodmFyIGV2ZW50TmFtZSBpbiB0aGlzLiQkbGlzdGVuZXJDb3VudCkge1xuICAgICAgICAgIGRlY3JlbWVudExpc3RlbmVyQ291bnQodGhpcywgdGhpcy4kJGxpc3RlbmVyQ291bnRbZXZlbnROYW1lXSwgZXZlbnROYW1lKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIHNldmVyIGFsbCB0aGUgcmVmZXJlbmNlcyB0byBwYXJlbnQgc2NvcGVzIChhZnRlciB0aGlzIGNsZWFudXAsIHRoZSBjdXJyZW50IHNjb3BlIHNob3VsZFxuICAgICAgICAvLyBub3QgYmUgcmV0YWluZWQgYnkgYW55IG9mIG91ciByZWZlcmVuY2VzIGFuZCBzaG91bGQgYmUgZWxpZ2libGUgZm9yIGdhcmJhZ2UgY29sbGVjdGlvbilcbiAgICAgICAgaWYgKHBhcmVudCAmJiBwYXJlbnQuJCRjaGlsZEhlYWQgPT09IHRoaXMpIHBhcmVudC4kJGNoaWxkSGVhZCA9IHRoaXMuJCRuZXh0U2libGluZztcbiAgICAgICAgaWYgKHBhcmVudCAmJiBwYXJlbnQuJCRjaGlsZFRhaWwgPT09IHRoaXMpIHBhcmVudC4kJGNoaWxkVGFpbCA9IHRoaXMuJCRwcmV2U2libGluZztcbiAgICAgICAgaWYgKHRoaXMuJCRwcmV2U2libGluZykgdGhpcy4kJHByZXZTaWJsaW5nLiQkbmV4dFNpYmxpbmcgPSB0aGlzLiQkbmV4dFNpYmxpbmc7XG4gICAgICAgIGlmICh0aGlzLiQkbmV4dFNpYmxpbmcpIHRoaXMuJCRuZXh0U2libGluZy4kJHByZXZTaWJsaW5nID0gdGhpcy4kJHByZXZTaWJsaW5nO1xuXG4gICAgICAgIC8vIERpc2FibGUgbGlzdGVuZXJzLCB3YXRjaGVycyBhbmQgYXBwbHkvZGlnZXN0IG1ldGhvZHNcbiAgICAgICAgdGhpcy4kZGVzdHJveSA9IHRoaXMuJGRpZ2VzdCA9IHRoaXMuJGFwcGx5ID0gdGhpcy4kZXZhbEFzeW5jID0gdGhpcy4kYXBwbHlBc3luYyA9IG5vb3A7XG4gICAgICAgIHRoaXMuJG9uID0gdGhpcy4kd2F0Y2ggPSB0aGlzLiR3YXRjaEdyb3VwID0gZnVuY3Rpb24oKSB7IHJldHVybiBub29wOyB9O1xuICAgICAgICB0aGlzLiQkbGlzdGVuZXJzID0ge307XG5cbiAgICAgICAgLy8gRGlzY29ubmVjdCB0aGUgbmV4dCBzaWJsaW5nIHRvIHByZXZlbnQgYGNsZWFuVXBTY29wZWAgZGVzdHJveWluZyB0aG9zZSB0b29cbiAgICAgICAgdGhpcy4kJG5leHRTaWJsaW5nID0gbnVsbDtcbiAgICAgICAgY2xlYW5VcFNjb3BlKHRoaXMpO1xuICAgICAgfSxcblxuICAgICAgLyoqXG4gICAgICAgKiBAbmdkb2MgbWV0aG9kXG4gICAgICAgKiBAbmFtZSAkcm9vdFNjb3BlLlNjb3BlIyRldmFsXG4gICAgICAgKiBAa2luZCBmdW5jdGlvblxuICAgICAgICpcbiAgICAgICAqIEBkZXNjcmlwdGlvblxuICAgICAgICogRXhlY3V0ZXMgdGhlIGBleHByZXNzaW9uYCBvbiB0aGUgY3VycmVudCBzY29wZSBhbmQgcmV0dXJucyB0aGUgcmVzdWx0LiBBbnkgZXhjZXB0aW9ucyBpblxuICAgICAgICogdGhlIGV4cHJlc3Npb24gYXJlIHByb3BhZ2F0ZWQgKHVuY2F1Z2h0KS4gVGhpcyBpcyB1c2VmdWwgd2hlbiBldmFsdWF0aW5nIEFuZ3VsYXJcbiAgICAgICAqIGV4cHJlc3Npb25zLlxuICAgICAgICpcbiAgICAgICAqICMgRXhhbXBsZVxuICAgICAgICogYGBganNcbiAgICAgICAgICAgdmFyIHNjb3BlID0gbmcuJHJvb3RTY29wZS5TY29wZSgpO1xuICAgICAgICAgICBzY29wZS5hID0gMTtcbiAgICAgICAgICAgc2NvcGUuYiA9IDI7XG5cbiAgICAgICAgICAgZXhwZWN0KHNjb3BlLiRldmFsKCdhK2InKSkudG9FcXVhbCgzKTtcbiAgICAgICAgICAgZXhwZWN0KHNjb3BlLiRldmFsKGZ1bmN0aW9uKHNjb3BlKXsgcmV0dXJuIHNjb3BlLmEgKyBzY29wZS5iOyB9KSkudG9FcXVhbCgzKTtcbiAgICAgICAqIGBgYFxuICAgICAgICpcbiAgICAgICAqIEBwYXJhbSB7KHN0cmluZ3xmdW5jdGlvbigpKT19IGV4cHJlc3Npb24gQW4gYW5ndWxhciBleHByZXNzaW9uIHRvIGJlIGV4ZWN1dGVkLlxuICAgICAgICpcbiAgICAgICAqICAgIC0gYHN0cmluZ2A6IGV4ZWN1dGUgdXNpbmcgdGhlIHJ1bGVzIGFzIGRlZmluZWQgaW4gIHtAbGluayBndWlkZS9leHByZXNzaW9uIGV4cHJlc3Npb259LlxuICAgICAgICogICAgLSBgZnVuY3Rpb24oc2NvcGUpYDogZXhlY3V0ZSB0aGUgZnVuY3Rpb24gd2l0aCB0aGUgY3VycmVudCBgc2NvcGVgIHBhcmFtZXRlci5cbiAgICAgICAqXG4gICAgICAgKiBAcGFyYW0geyhvYmplY3QpPX0gbG9jYWxzIExvY2FsIHZhcmlhYmxlcyBvYmplY3QsIHVzZWZ1bCBmb3Igb3ZlcnJpZGluZyB2YWx1ZXMgaW4gc2NvcGUuXG4gICAgICAgKiBAcmV0dXJucyB7Kn0gVGhlIHJlc3VsdCBvZiBldmFsdWF0aW5nIHRoZSBleHByZXNzaW9uLlxuICAgICAgICovXG4gICAgICAkZXZhbDogZnVuY3Rpb24oZXhwciwgbG9jYWxzKSB7XG4gICAgICAgIHJldHVybiAkcGFyc2UoZXhwcikodGhpcywgbG9jYWxzKTtcbiAgICAgIH0sXG5cbiAgICAgIC8qKlxuICAgICAgICogQG5nZG9jIG1ldGhvZFxuICAgICAgICogQG5hbWUgJHJvb3RTY29wZS5TY29wZSMkZXZhbEFzeW5jXG4gICAgICAgKiBAa2luZCBmdW5jdGlvblxuICAgICAgICpcbiAgICAgICAqIEBkZXNjcmlwdGlvblxuICAgICAgICogRXhlY3V0ZXMgdGhlIGV4cHJlc3Npb24gb24gdGhlIGN1cnJlbnQgc2NvcGUgYXQgYSBsYXRlciBwb2ludCBpbiB0aW1lLlxuICAgICAgICpcbiAgICAgICAqIFRoZSBgJGV2YWxBc3luY2AgbWFrZXMgbm8gZ3VhcmFudGVlcyBhcyB0byB3aGVuIHRoZSBgZXhwcmVzc2lvbmAgd2lsbCBiZSBleGVjdXRlZCwgb25seVxuICAgICAgICogdGhhdDpcbiAgICAgICAqXG4gICAgICAgKiAgIC0gaXQgd2lsbCBleGVjdXRlIGFmdGVyIHRoZSBmdW5jdGlvbiB0aGF0IHNjaGVkdWxlZCB0aGUgZXZhbHVhdGlvbiAocHJlZmVyYWJseSBiZWZvcmUgRE9NXG4gICAgICAgKiAgICAgcmVuZGVyaW5nKS5cbiAgICAgICAqICAgLSBhdCBsZWFzdCBvbmUge0BsaW5rIG5nLiRyb290U2NvcGUuU2NvcGUjJGRpZ2VzdCAkZGlnZXN0IGN5Y2xlfSB3aWxsIGJlIHBlcmZvcm1lZCBhZnRlclxuICAgICAgICogICAgIGBleHByZXNzaW9uYCBleGVjdXRpb24uXG4gICAgICAgKlxuICAgICAgICogQW55IGV4Y2VwdGlvbnMgZnJvbSB0aGUgZXhlY3V0aW9uIG9mIHRoZSBleHByZXNzaW9uIGFyZSBmb3J3YXJkZWQgdG8gdGhlXG4gICAgICAgKiB7QGxpbmsgbmcuJGV4Y2VwdGlvbkhhbmRsZXIgJGV4Y2VwdGlvbkhhbmRsZXJ9IHNlcnZpY2UuXG4gICAgICAgKlxuICAgICAgICogX19Ob3RlOl9fIGlmIHRoaXMgZnVuY3Rpb24gaXMgY2FsbGVkIG91dHNpZGUgb2YgYSBgJGRpZ2VzdGAgY3ljbGUsIGEgbmV3IGAkZGlnZXN0YCBjeWNsZVxuICAgICAgICogd2lsbCBiZSBzY2hlZHVsZWQuIEhvd2V2ZXIsIGl0IGlzIGVuY291cmFnZWQgdG8gYWx3YXlzIGNhbGwgY29kZSB0aGF0IGNoYW5nZXMgdGhlIG1vZGVsXG4gICAgICAgKiBmcm9tIHdpdGhpbiBhbiBgJGFwcGx5YCBjYWxsLiBUaGF0IGluY2x1ZGVzIGNvZGUgZXZhbHVhdGVkIHZpYSBgJGV2YWxBc3luY2AuXG4gICAgICAgKlxuICAgICAgICogQHBhcmFtIHsoc3RyaW5nfGZ1bmN0aW9uKCkpPX0gZXhwcmVzc2lvbiBBbiBhbmd1bGFyIGV4cHJlc3Npb24gdG8gYmUgZXhlY3V0ZWQuXG4gICAgICAgKlxuICAgICAgICogICAgLSBgc3RyaW5nYDogZXhlY3V0ZSB1c2luZyB0aGUgcnVsZXMgYXMgZGVmaW5lZCBpbiB7QGxpbmsgZ3VpZGUvZXhwcmVzc2lvbiBleHByZXNzaW9ufS5cbiAgICAgICAqICAgIC0gYGZ1bmN0aW9uKHNjb3BlKWA6IGV4ZWN1dGUgdGhlIGZ1bmN0aW9uIHdpdGggdGhlIGN1cnJlbnQgYHNjb3BlYCBwYXJhbWV0ZXIuXG4gICAgICAgKlxuICAgICAgICogQHBhcmFtIHsob2JqZWN0KT19IGxvY2FscyBMb2NhbCB2YXJpYWJsZXMgb2JqZWN0LCB1c2VmdWwgZm9yIG92ZXJyaWRpbmcgdmFsdWVzIGluIHNjb3BlLlxuICAgICAgICovXG4gICAgICAkZXZhbEFzeW5jOiBmdW5jdGlvbihleHByLCBsb2NhbHMpIHtcbiAgICAgICAgLy8gaWYgd2UgYXJlIG91dHNpZGUgb2YgYW4gJGRpZ2VzdCBsb29wIGFuZCB0aGlzIGlzIHRoZSBmaXJzdCB0aW1lIHdlIGFyZSBzY2hlZHVsaW5nIGFzeW5jXG4gICAgICAgIC8vIHRhc2sgYWxzbyBzY2hlZHVsZSBhc3luYyBhdXRvLWZsdXNoXG4gICAgICAgIGlmICghJHJvb3RTY29wZS4kJHBoYXNlICYmICFhc3luY1F1ZXVlLmxlbmd0aCkge1xuICAgICAgICAgICRicm93c2VyLmRlZmVyKGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgaWYgKGFzeW5jUXVldWUubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICRyb290U2NvcGUuJGRpZ2VzdCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pO1xuICAgICAgICB9XG5cbiAgICAgICAgYXN5bmNRdWV1ZS5wdXNoKHtzY29wZTogdGhpcywgZm46ICRwYXJzZShleHByKSwgbG9jYWxzOiBsb2NhbHN9KTtcbiAgICAgIH0sXG5cbiAgICAgICQkcG9zdERpZ2VzdDogZnVuY3Rpb24oZm4pIHtcbiAgICAgICAgcG9zdERpZ2VzdFF1ZXVlLnB1c2goZm4pO1xuICAgICAgfSxcblxuICAgICAgLyoqXG4gICAgICAgKiBAbmdkb2MgbWV0aG9kXG4gICAgICAgKiBAbmFtZSAkcm9vdFNjb3BlLlNjb3BlIyRhcHBseVxuICAgICAgICogQGtpbmQgZnVuY3Rpb25cbiAgICAgICAqXG4gICAgICAgKiBAZGVzY3JpcHRpb25cbiAgICAgICAqIGAkYXBwbHkoKWAgaXMgdXNlZCB0byBleGVjdXRlIGFuIGV4cHJlc3Npb24gaW4gYW5ndWxhciBmcm9tIG91dHNpZGUgb2YgdGhlIGFuZ3VsYXJcbiAgICAgICAqIGZyYW1ld29yay4gKEZvciBleGFtcGxlIGZyb20gYnJvd3NlciBET00gZXZlbnRzLCBzZXRUaW1lb3V0LCBYSFIgb3IgdGhpcmQgcGFydHkgbGlicmFyaWVzKS5cbiAgICAgICAqIEJlY2F1c2Ugd2UgYXJlIGNhbGxpbmcgaW50byB0aGUgYW5ndWxhciBmcmFtZXdvcmsgd2UgbmVlZCB0byBwZXJmb3JtIHByb3BlciBzY29wZSBsaWZlXG4gICAgICAgKiBjeWNsZSBvZiB7QGxpbmsgbmcuJGV4Y2VwdGlvbkhhbmRsZXIgZXhjZXB0aW9uIGhhbmRsaW5nfSxcbiAgICAgICAqIHtAbGluayBuZy4kcm9vdFNjb3BlLlNjb3BlIyRkaWdlc3QgZXhlY3V0aW5nIHdhdGNoZXN9LlxuICAgICAgICpcbiAgICAgICAqICMjIExpZmUgY3ljbGVcbiAgICAgICAqXG4gICAgICAgKiAjIFBzZXVkby1Db2RlIG9mIGAkYXBwbHkoKWBcbiAgICAgICAqIGBgYGpzXG4gICAgICAgICAgIGZ1bmN0aW9uICRhcHBseShleHByKSB7XG4gICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgIHJldHVybiAkZXZhbChleHByKTtcbiAgICAgICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgICAgICAkZXhjZXB0aW9uSGFuZGxlcihlKTtcbiAgICAgICAgICAgICB9IGZpbmFsbHkge1xuICAgICAgICAgICAgICAgJHJvb3QuJGRpZ2VzdCgpO1xuICAgICAgICAgICAgIH1cbiAgICAgICAgICAgfVxuICAgICAgICogYGBgXG4gICAgICAgKlxuICAgICAgICpcbiAgICAgICAqIFNjb3BlJ3MgYCRhcHBseSgpYCBtZXRob2QgdHJhbnNpdGlvbnMgdGhyb3VnaCB0aGUgZm9sbG93aW5nIHN0YWdlczpcbiAgICAgICAqXG4gICAgICAgKiAxLiBUaGUge0BsaW5rIGd1aWRlL2V4cHJlc3Npb24gZXhwcmVzc2lvbn0gaXMgZXhlY3V0ZWQgdXNpbmcgdGhlXG4gICAgICAgKiAgICB7QGxpbmsgbmcuJHJvb3RTY29wZS5TY29wZSMkZXZhbCAkZXZhbCgpfSBtZXRob2QuXG4gICAgICAgKiAyLiBBbnkgZXhjZXB0aW9ucyBmcm9tIHRoZSBleGVjdXRpb24gb2YgdGhlIGV4cHJlc3Npb24gYXJlIGZvcndhcmRlZCB0byB0aGVcbiAgICAgICAqICAgIHtAbGluayBuZy4kZXhjZXB0aW9uSGFuZGxlciAkZXhjZXB0aW9uSGFuZGxlcn0gc2VydmljZS5cbiAgICAgICAqIDMuIFRoZSB7QGxpbmsgbmcuJHJvb3RTY29wZS5TY29wZSMkd2F0Y2ggd2F0Y2h9IGxpc3RlbmVycyBhcmUgZmlyZWQgaW1tZWRpYXRlbHkgYWZ0ZXIgdGhlXG4gICAgICAgKiAgICBleHByZXNzaW9uIHdhcyBleGVjdXRlZCB1c2luZyB0aGUge0BsaW5rIG5nLiRyb290U2NvcGUuU2NvcGUjJGRpZ2VzdCAkZGlnZXN0KCl9IG1ldGhvZC5cbiAgICAgICAqXG4gICAgICAgKlxuICAgICAgICogQHBhcmFtIHsoc3RyaW5nfGZ1bmN0aW9uKCkpPX0gZXhwIEFuIGFuZ3VsYXIgZXhwcmVzc2lvbiB0byBiZSBleGVjdXRlZC5cbiAgICAgICAqXG4gICAgICAgKiAgICAtIGBzdHJpbmdgOiBleGVjdXRlIHVzaW5nIHRoZSBydWxlcyBhcyBkZWZpbmVkIGluIHtAbGluayBndWlkZS9leHByZXNzaW9uIGV4cHJlc3Npb259LlxuICAgICAgICogICAgLSBgZnVuY3Rpb24oc2NvcGUpYDogZXhlY3V0ZSB0aGUgZnVuY3Rpb24gd2l0aCBjdXJyZW50IGBzY29wZWAgcGFyYW1ldGVyLlxuICAgICAgICpcbiAgICAgICAqIEByZXR1cm5zIHsqfSBUaGUgcmVzdWx0IG9mIGV2YWx1YXRpbmcgdGhlIGV4cHJlc3Npb24uXG4gICAgICAgKi9cbiAgICAgICRhcHBseTogZnVuY3Rpb24oZXhwcikge1xuICAgICAgICB0cnkge1xuICAgICAgICAgIGJlZ2luUGhhc2UoJyRhcHBseScpO1xuICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy4kZXZhbChleHByKTtcbiAgICAgICAgICB9IGZpbmFsbHkge1xuICAgICAgICAgICAgY2xlYXJQaGFzZSgpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAgICRleGNlcHRpb25IYW5kbGVyKGUpO1xuICAgICAgICB9IGZpbmFsbHkge1xuICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAkcm9vdFNjb3BlLiRkaWdlc3QoKTtcbiAgICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgICAkZXhjZXB0aW9uSGFuZGxlcihlKTtcbiAgICAgICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby11bnNhZmUtZmluYWxseVxuICAgICAgICAgICAgdGhyb3cgZTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0sXG5cbiAgICAgIC8qKlxuICAgICAgICogQG5nZG9jIG1ldGhvZFxuICAgICAgICogQG5hbWUgJHJvb3RTY29wZS5TY29wZSMkYXBwbHlBc3luY1xuICAgICAgICogQGtpbmQgZnVuY3Rpb25cbiAgICAgICAqXG4gICAgICAgKiBAZGVzY3JpcHRpb25cbiAgICAgICAqIFNjaGVkdWxlIHRoZSBpbnZvY2F0aW9uIG9mICRhcHBseSB0byBvY2N1ciBhdCBhIGxhdGVyIHRpbWUuIFRoZSBhY3R1YWwgdGltZSBkaWZmZXJlbmNlXG4gICAgICAgKiB2YXJpZXMgYWNyb3NzIGJyb3dzZXJzLCBidXQgaXMgdHlwaWNhbGx5IGFyb3VuZCB+MTAgbWlsbGlzZWNvbmRzLlxuICAgICAgICpcbiAgICAgICAqIFRoaXMgY2FuIGJlIHVzZWQgdG8gcXVldWUgdXAgbXVsdGlwbGUgZXhwcmVzc2lvbnMgd2hpY2ggbmVlZCB0byBiZSBldmFsdWF0ZWQgaW4gdGhlIHNhbWVcbiAgICAgICAqIGRpZ2VzdC5cbiAgICAgICAqXG4gICAgICAgKiBAcGFyYW0geyhzdHJpbmd8ZnVuY3Rpb24oKSk9fSBleHAgQW4gYW5ndWxhciBleHByZXNzaW9uIHRvIGJlIGV4ZWN1dGVkLlxuICAgICAgICpcbiAgICAgICAqICAgIC0gYHN0cmluZ2A6IGV4ZWN1dGUgdXNpbmcgdGhlIHJ1bGVzIGFzIGRlZmluZWQgaW4ge0BsaW5rIGd1aWRlL2V4cHJlc3Npb24gZXhwcmVzc2lvbn0uXG4gICAgICAgKiAgICAtIGBmdW5jdGlvbihzY29wZSlgOiBleGVjdXRlIHRoZSBmdW5jdGlvbiB3aXRoIGN1cnJlbnQgYHNjb3BlYCBwYXJhbWV0ZXIuXG4gICAgICAgKi9cbiAgICAgICRhcHBseUFzeW5jOiBmdW5jdGlvbihleHByKSB7XG4gICAgICAgIHZhciBzY29wZSA9IHRoaXM7XG4gICAgICAgIGlmIChleHByKSB7XG4gICAgICAgICAgYXBwbHlBc3luY1F1ZXVlLnB1c2goJGFwcGx5QXN5bmNFeHByZXNzaW9uKTtcbiAgICAgICAgfVxuICAgICAgICBleHByID0gJHBhcnNlKGV4cHIpO1xuICAgICAgICBzY2hlZHVsZUFwcGx5QXN5bmMoKTtcblxuICAgICAgICBmdW5jdGlvbiAkYXBwbHlBc3luY0V4cHJlc3Npb24oKSB7XG4gICAgICAgICAgc2NvcGUuJGV2YWwoZXhwcik7XG4gICAgICAgIH1cbiAgICAgIH0sXG5cbiAgICAgIC8qKlxuICAgICAgICogQG5nZG9jIG1ldGhvZFxuICAgICAgICogQG5hbWUgJHJvb3RTY29wZS5TY29wZSMkb25cbiAgICAgICAqIEBraW5kIGZ1bmN0aW9uXG4gICAgICAgKlxuICAgICAgICogQGRlc2NyaXB0aW9uXG4gICAgICAgKiBMaXN0ZW5zIG9uIGV2ZW50cyBvZiBhIGdpdmVuIHR5cGUuIFNlZSB7QGxpbmsgbmcuJHJvb3RTY29wZS5TY29wZSMkZW1pdCAkZW1pdH0gZm9yXG4gICAgICAgKiBkaXNjdXNzaW9uIG9mIGV2ZW50IGxpZmUgY3ljbGUuXG4gICAgICAgKlxuICAgICAgICogVGhlIGV2ZW50IGxpc3RlbmVyIGZ1bmN0aW9uIGZvcm1hdCBpczogYGZ1bmN0aW9uKGV2ZW50LCBhcmdzLi4uKWAuIFRoZSBgZXZlbnRgIG9iamVjdFxuICAgICAgICogcGFzc2VkIGludG8gdGhlIGxpc3RlbmVyIGhhcyB0aGUgZm9sbG93aW5nIGF0dHJpYnV0ZXM6XG4gICAgICAgKlxuICAgICAgICogICAtIGB0YXJnZXRTY29wZWAgLSBge1Njb3BlfWA6IHRoZSBzY29wZSBvbiB3aGljaCB0aGUgZXZlbnQgd2FzIGAkZW1pdGAtZWQgb3JcbiAgICAgICAqICAgICBgJGJyb2FkY2FzdGAtZWQuXG4gICAgICAgKiAgIC0gYGN1cnJlbnRTY29wZWAgLSBge1Njb3BlfWA6IHRoZSBzY29wZSB0aGF0IGlzIGN1cnJlbnRseSBoYW5kbGluZyB0aGUgZXZlbnQuIE9uY2UgdGhlXG4gICAgICAgKiAgICAgZXZlbnQgcHJvcGFnYXRlcyB0aHJvdWdoIHRoZSBzY29wZSBoaWVyYXJjaHksIHRoaXMgcHJvcGVydHkgaXMgc2V0IHRvIG51bGwuXG4gICAgICAgKiAgIC0gYG5hbWVgIC0gYHtzdHJpbmd9YDogbmFtZSBvZiB0aGUgZXZlbnQuXG4gICAgICAgKiAgIC0gYHN0b3BQcm9wYWdhdGlvbmAgLSBge2Z1bmN0aW9uPX1gOiBjYWxsaW5nIGBzdG9wUHJvcGFnYXRpb25gIGZ1bmN0aW9uIHdpbGwgY2FuY2VsXG4gICAgICAgKiAgICAgZnVydGhlciBldmVudCBwcm9wYWdhdGlvbiAoYXZhaWxhYmxlIG9ubHkgZm9yIGV2ZW50cyB0aGF0IHdlcmUgYCRlbWl0YC1lZCkuXG4gICAgICAgKiAgIC0gYHByZXZlbnREZWZhdWx0YCAtIGB7ZnVuY3Rpb259YDogY2FsbGluZyBgcHJldmVudERlZmF1bHRgIHNldHMgYGRlZmF1bHRQcmV2ZW50ZWRgIGZsYWdcbiAgICAgICAqICAgICB0byB0cnVlLlxuICAgICAgICogICAtIGBkZWZhdWx0UHJldmVudGVkYCAtIGB7Ym9vbGVhbn1gOiB0cnVlIGlmIGBwcmV2ZW50RGVmYXVsdGAgd2FzIGNhbGxlZC5cbiAgICAgICAqXG4gICAgICAgKiBAcGFyYW0ge3N0cmluZ30gbmFtZSBFdmVudCBuYW1lIHRvIGxpc3RlbiBvbi5cbiAgICAgICAqIEBwYXJhbSB7ZnVuY3Rpb24oZXZlbnQsIC4uLmFyZ3MpfSBsaXN0ZW5lciBGdW5jdGlvbiB0byBjYWxsIHdoZW4gdGhlIGV2ZW50IGlzIGVtaXR0ZWQuXG4gICAgICAgKiBAcmV0dXJucyB7ZnVuY3Rpb24oKX0gUmV0dXJucyBhIGRlcmVnaXN0cmF0aW9uIGZ1bmN0aW9uIGZvciB0aGlzIGxpc3RlbmVyLlxuICAgICAgICovXG4gICAgICAkb246IGZ1bmN0aW9uKG5hbWUsIGxpc3RlbmVyKSB7XG4gICAgICAgIHZhciBuYW1lZExpc3RlbmVycyA9IHRoaXMuJCRsaXN0ZW5lcnNbbmFtZV07XG4gICAgICAgIGlmICghbmFtZWRMaXN0ZW5lcnMpIHtcbiAgICAgICAgICB0aGlzLiQkbGlzdGVuZXJzW25hbWVdID0gbmFtZWRMaXN0ZW5lcnMgPSBbXTtcbiAgICAgICAgfVxuICAgICAgICBuYW1lZExpc3RlbmVycy5wdXNoKGxpc3RlbmVyKTtcblxuICAgICAgICB2YXIgY3VycmVudCA9IHRoaXM7XG4gICAgICAgIGRvIHtcbiAgICAgICAgICBpZiAoIWN1cnJlbnQuJCRsaXN0ZW5lckNvdW50W25hbWVdKSB7XG4gICAgICAgICAgICBjdXJyZW50LiQkbGlzdGVuZXJDb3VudFtuYW1lXSA9IDA7XG4gICAgICAgICAgfVxuICAgICAgICAgIGN1cnJlbnQuJCRsaXN0ZW5lckNvdW50W25hbWVdKys7XG4gICAgICAgIH0gd2hpbGUgKChjdXJyZW50ID0gY3VycmVudC4kcGFyZW50KSk7XG5cbiAgICAgICAgdmFyIHNlbGYgPSB0aGlzO1xuICAgICAgICByZXR1cm4gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgdmFyIGluZGV4T2ZMaXN0ZW5lciA9IG5hbWVkTGlzdGVuZXJzLmluZGV4T2YobGlzdGVuZXIpO1xuICAgICAgICAgIGlmIChpbmRleE9mTGlzdGVuZXIgIT09IC0xKSB7XG4gICAgICAgICAgICBuYW1lZExpc3RlbmVyc1tpbmRleE9mTGlzdGVuZXJdID0gbnVsbDtcbiAgICAgICAgICAgIGRlY3JlbWVudExpc3RlbmVyQ291bnQoc2VsZiwgMSwgbmFtZSk7XG4gICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgfSxcblxuXG4gICAgICAvKipcbiAgICAgICAqIEBuZ2RvYyBtZXRob2RcbiAgICAgICAqIEBuYW1lICRyb290U2NvcGUuU2NvcGUjJGVtaXRcbiAgICAgICAqIEBraW5kIGZ1bmN0aW9uXG4gICAgICAgKlxuICAgICAgICogQGRlc2NyaXB0aW9uXG4gICAgICAgKiBEaXNwYXRjaGVzIGFuIGV2ZW50IGBuYW1lYCB1cHdhcmRzIHRocm91Z2ggdGhlIHNjb3BlIGhpZXJhcmNoeSBub3RpZnlpbmcgdGhlXG4gICAgICAgKiByZWdpc3RlcmVkIHtAbGluayBuZy4kcm9vdFNjb3BlLlNjb3BlIyRvbn0gbGlzdGVuZXJzLlxuICAgICAgICpcbiAgICAgICAqIFRoZSBldmVudCBsaWZlIGN5Y2xlIHN0YXJ0cyBhdCB0aGUgc2NvcGUgb24gd2hpY2ggYCRlbWl0YCB3YXMgY2FsbGVkLiBBbGxcbiAgICAgICAqIHtAbGluayBuZy4kcm9vdFNjb3BlLlNjb3BlIyRvbiBsaXN0ZW5lcnN9IGxpc3RlbmluZyBmb3IgYG5hbWVgIGV2ZW50IG9uIHRoaXMgc2NvcGUgZ2V0XG4gICAgICAgKiBub3RpZmllZC4gQWZ0ZXJ3YXJkcywgdGhlIGV2ZW50IHRyYXZlcnNlcyB1cHdhcmRzIHRvd2FyZCB0aGUgcm9vdCBzY29wZSBhbmQgY2FsbHMgYWxsXG4gICAgICAgKiByZWdpc3RlcmVkIGxpc3RlbmVycyBhbG9uZyB0aGUgd2F5LiBUaGUgZXZlbnQgd2lsbCBzdG9wIHByb3BhZ2F0aW5nIGlmIG9uZSBvZiB0aGUgbGlzdGVuZXJzXG4gICAgICAgKiBjYW5jZWxzIGl0LlxuICAgICAgICpcbiAgICAgICAqIEFueSBleGNlcHRpb24gZW1pdHRlZCBmcm9tIHRoZSB7QGxpbmsgbmcuJHJvb3RTY29wZS5TY29wZSMkb24gbGlzdGVuZXJzfSB3aWxsIGJlIHBhc3NlZFxuICAgICAgICogb250byB0aGUge0BsaW5rIG5nLiRleGNlcHRpb25IYW5kbGVyICRleGNlcHRpb25IYW5kbGVyfSBzZXJ2aWNlLlxuICAgICAgICpcbiAgICAgICAqIEBwYXJhbSB7c3RyaW5nfSBuYW1lIEV2ZW50IG5hbWUgdG8gZW1pdC5cbiAgICAgICAqIEBwYXJhbSB7Li4uKn0gYXJncyBPcHRpb25hbCBvbmUgb3IgbW9yZSBhcmd1bWVudHMgd2hpY2ggd2lsbCBiZSBwYXNzZWQgb250byB0aGUgZXZlbnQgbGlzdGVuZXJzLlxuICAgICAgICogQHJldHVybiB7T2JqZWN0fSBFdmVudCBvYmplY3QgKHNlZSB7QGxpbmsgbmcuJHJvb3RTY29wZS5TY29wZSMkb259KS5cbiAgICAgICAqL1xuICAgICAgJGVtaXQ6IGZ1bmN0aW9uKG5hbWUsIGFyZ3MpIHtcbiAgICAgICAgdmFyIGVtcHR5ID0gW10sXG4gICAgICAgICAgICBuYW1lZExpc3RlbmVycyxcbiAgICAgICAgICAgIHNjb3BlID0gdGhpcyxcbiAgICAgICAgICAgIHN0b3BQcm9wYWdhdGlvbiA9IGZhbHNlLFxuICAgICAgICAgICAgZXZlbnQgPSB7XG4gICAgICAgICAgICAgIG5hbWU6IG5hbWUsXG4gICAgICAgICAgICAgIHRhcmdldFNjb3BlOiBzY29wZSxcbiAgICAgICAgICAgICAgc3RvcFByb3BhZ2F0aW9uOiBmdW5jdGlvbigpIHtzdG9wUHJvcGFnYXRpb24gPSB0cnVlO30sXG4gICAgICAgICAgICAgIHByZXZlbnREZWZhdWx0OiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICBldmVudC5kZWZhdWx0UHJldmVudGVkID0gdHJ1ZTtcbiAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgZGVmYXVsdFByZXZlbnRlZDogZmFsc2VcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBsaXN0ZW5lckFyZ3MgPSBjb25jYXQoW2V2ZW50XSwgYXJndW1lbnRzLCAxKSxcbiAgICAgICAgICAgIGksIGxlbmd0aDtcblxuICAgICAgICBkbyB7XG4gICAgICAgICAgbmFtZWRMaXN0ZW5lcnMgPSBzY29wZS4kJGxpc3RlbmVyc1tuYW1lXSB8fCBlbXB0eTtcbiAgICAgICAgICBldmVudC5jdXJyZW50U2NvcGUgPSBzY29wZTtcbiAgICAgICAgICBmb3IgKGkgPSAwLCBsZW5ndGggPSBuYW1lZExpc3RlbmVycy5sZW5ndGg7IGkgPCBsZW5ndGg7IGkrKykge1xuXG4gICAgICAgICAgICAvLyBpZiBsaXN0ZW5lcnMgd2VyZSBkZXJlZ2lzdGVyZWQsIGRlZnJhZ21lbnQgdGhlIGFycmF5XG4gICAgICAgICAgICBpZiAoIW5hbWVkTGlzdGVuZXJzW2ldKSB7XG4gICAgICAgICAgICAgIG5hbWVkTGlzdGVuZXJzLnNwbGljZShpLCAxKTtcbiAgICAgICAgICAgICAgaS0tO1xuICAgICAgICAgICAgICBsZW5ndGgtLTtcbiAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAvL2FsbG93IGFsbCBsaXN0ZW5lcnMgYXR0YWNoZWQgdG8gdGhlIGN1cnJlbnQgc2NvcGUgdG8gcnVuXG4gICAgICAgICAgICAgIG5hbWVkTGlzdGVuZXJzW2ldLmFwcGx5KG51bGwsIGxpc3RlbmVyQXJncyk7XG4gICAgICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgICAgICRleGNlcHRpb25IYW5kbGVyKGUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgICAvL2lmIGFueSBsaXN0ZW5lciBvbiB0aGUgY3VycmVudCBzY29wZSBzdG9wcyBwcm9wYWdhdGlvbiwgcHJldmVudCBidWJibGluZ1xuICAgICAgICAgIGlmIChzdG9wUHJvcGFnYXRpb24pIHtcbiAgICAgICAgICAgIGV2ZW50LmN1cnJlbnRTY29wZSA9IG51bGw7XG4gICAgICAgICAgICByZXR1cm4gZXZlbnQ7XG4gICAgICAgICAgfVxuICAgICAgICAgIC8vdHJhdmVyc2UgdXB3YXJkc1xuICAgICAgICAgIHNjb3BlID0gc2NvcGUuJHBhcmVudDtcbiAgICAgICAgfSB3aGlsZSAoc2NvcGUpO1xuXG4gICAgICAgIGV2ZW50LmN1cnJlbnRTY29wZSA9IG51bGw7XG5cbiAgICAgICAgcmV0dXJuIGV2ZW50O1xuICAgICAgfSxcblxuXG4gICAgICAvKipcbiAgICAgICAqIEBuZ2RvYyBtZXRob2RcbiAgICAgICAqIEBuYW1lICRyb290U2NvcGUuU2NvcGUjJGJyb2FkY2FzdFxuICAgICAgICogQGtpbmQgZnVuY3Rpb25cbiAgICAgICAqXG4gICAgICAgKiBAZGVzY3JpcHRpb25cbiAgICAgICAqIERpc3BhdGNoZXMgYW4gZXZlbnQgYG5hbWVgIGRvd253YXJkcyB0byBhbGwgY2hpbGQgc2NvcGVzIChhbmQgdGhlaXIgY2hpbGRyZW4pIG5vdGlmeWluZyB0aGVcbiAgICAgICAqIHJlZ2lzdGVyZWQge0BsaW5rIG5nLiRyb290U2NvcGUuU2NvcGUjJG9ufSBsaXN0ZW5lcnMuXG4gICAgICAgKlxuICAgICAgICogVGhlIGV2ZW50IGxpZmUgY3ljbGUgc3RhcnRzIGF0IHRoZSBzY29wZSBvbiB3aGljaCBgJGJyb2FkY2FzdGAgd2FzIGNhbGxlZC4gQWxsXG4gICAgICAgKiB7QGxpbmsgbmcuJHJvb3RTY29wZS5TY29wZSMkb24gbGlzdGVuZXJzfSBsaXN0ZW5pbmcgZm9yIGBuYW1lYCBldmVudCBvbiB0aGlzIHNjb3BlIGdldFxuICAgICAgICogbm90aWZpZWQuIEFmdGVyd2FyZHMsIHRoZSBldmVudCBwcm9wYWdhdGVzIHRvIGFsbCBkaXJlY3QgYW5kIGluZGlyZWN0IHNjb3BlcyBvZiB0aGUgY3VycmVudFxuICAgICAgICogc2NvcGUgYW5kIGNhbGxzIGFsbCByZWdpc3RlcmVkIGxpc3RlbmVycyBhbG9uZyB0aGUgd2F5LiBUaGUgZXZlbnQgY2Fubm90IGJlIGNhbmNlbGVkLlxuICAgICAgICpcbiAgICAgICAqIEFueSBleGNlcHRpb24gZW1pdHRlZCBmcm9tIHRoZSB7QGxpbmsgbmcuJHJvb3RTY29wZS5TY29wZSMkb24gbGlzdGVuZXJzfSB3aWxsIGJlIHBhc3NlZFxuICAgICAgICogb250byB0aGUge0BsaW5rIG5nLiRleGNlcHRpb25IYW5kbGVyICRleGNlcHRpb25IYW5kbGVyfSBzZXJ2aWNlLlxuICAgICAgICpcbiAgICAgICAqIEBwYXJhbSB7c3RyaW5nfSBuYW1lIEV2ZW50IG5hbWUgdG8gYnJvYWRjYXN0LlxuICAgICAgICogQHBhcmFtIHsuLi4qfSBhcmdzIE9wdGlvbmFsIG9uZSBvciBtb3JlIGFyZ3VtZW50cyB3aGljaCB3aWxsIGJlIHBhc3NlZCBvbnRvIHRoZSBldmVudCBsaXN0ZW5lcnMuXG4gICAgICAgKiBAcmV0dXJuIHtPYmplY3R9IEV2ZW50IG9iamVjdCwgc2VlIHtAbGluayBuZy4kcm9vdFNjb3BlLlNjb3BlIyRvbn1cbiAgICAgICAqL1xuICAgICAgJGJyb2FkY2FzdDogZnVuY3Rpb24obmFtZSwgYXJncykge1xuICAgICAgICB2YXIgdGFyZ2V0ID0gdGhpcyxcbiAgICAgICAgICAgIGN1cnJlbnQgPSB0YXJnZXQsXG4gICAgICAgICAgICBuZXh0ID0gdGFyZ2V0LFxuICAgICAgICAgICAgZXZlbnQgPSB7XG4gICAgICAgICAgICAgIG5hbWU6IG5hbWUsXG4gICAgICAgICAgICAgIHRhcmdldFNjb3BlOiB0YXJnZXQsXG4gICAgICAgICAgICAgIHByZXZlbnREZWZhdWx0OiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICBldmVudC5kZWZhdWx0UHJldmVudGVkID0gdHJ1ZTtcbiAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgZGVmYXVsdFByZXZlbnRlZDogZmFsc2VcbiAgICAgICAgICAgIH07XG5cbiAgICAgICAgaWYgKCF0YXJnZXQuJCRsaXN0ZW5lckNvdW50W25hbWVdKSByZXR1cm4gZXZlbnQ7XG5cbiAgICAgICAgdmFyIGxpc3RlbmVyQXJncyA9IGNvbmNhdChbZXZlbnRdLCBhcmd1bWVudHMsIDEpLFxuICAgICAgICAgICAgbGlzdGVuZXJzLCBpLCBsZW5ndGg7XG5cbiAgICAgICAgLy9kb3duIHdoaWxlIHlvdSBjYW4sIHRoZW4gdXAgYW5kIG5leHQgc2libGluZyBvciB1cCBhbmQgbmV4dCBzaWJsaW5nIHVudGlsIGJhY2sgYXQgcm9vdFxuICAgICAgICB3aGlsZSAoKGN1cnJlbnQgPSBuZXh0KSkge1xuICAgICAgICAgIGV2ZW50LmN1cnJlbnRTY29wZSA9IGN1cnJlbnQ7XG4gICAgICAgICAgbGlzdGVuZXJzID0gY3VycmVudC4kJGxpc3RlbmVyc1tuYW1lXSB8fCBbXTtcbiAgICAgICAgICBmb3IgKGkgPSAwLCBsZW5ndGggPSBsaXN0ZW5lcnMubGVuZ3RoOyBpIDwgbGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIC8vIGlmIGxpc3RlbmVycyB3ZXJlIGRlcmVnaXN0ZXJlZCwgZGVmcmFnbWVudCB0aGUgYXJyYXlcbiAgICAgICAgICAgIGlmICghbGlzdGVuZXJzW2ldKSB7XG4gICAgICAgICAgICAgIGxpc3RlbmVycy5zcGxpY2UoaSwgMSk7XG4gICAgICAgICAgICAgIGktLTtcbiAgICAgICAgICAgICAgbGVuZ3RoLS07XG4gICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICBsaXN0ZW5lcnNbaV0uYXBwbHkobnVsbCwgbGlzdGVuZXJBcmdzKTtcbiAgICAgICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgICAgJGV4Y2VwdGlvbkhhbmRsZXIoZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgLy8gSW5zYW5pdHkgV2FybmluZzogc2NvcGUgZGVwdGgtZmlyc3QgdHJhdmVyc2FsXG4gICAgICAgICAgLy8geWVzLCB0aGlzIGNvZGUgaXMgYSBiaXQgY3JhenksIGJ1dCBpdCB3b3JrcyBhbmQgd2UgaGF2ZSB0ZXN0cyB0byBwcm92ZSBpdCFcbiAgICAgICAgICAvLyB0aGlzIHBpZWNlIHNob3VsZCBiZSBrZXB0IGluIHN5bmMgd2l0aCB0aGUgdHJhdmVyc2FsIGluICRkaWdlc3RcbiAgICAgICAgICAvLyAodGhvdWdoIGl0IGRpZmZlcnMgZHVlIHRvIGhhdmluZyB0aGUgZXh0cmEgY2hlY2sgZm9yICQkbGlzdGVuZXJDb3VudClcbiAgICAgICAgICBpZiAoIShuZXh0ID0gKChjdXJyZW50LiQkbGlzdGVuZXJDb3VudFtuYW1lXSAmJiBjdXJyZW50LiQkY2hpbGRIZWFkKSB8fFxuICAgICAgICAgICAgICAoY3VycmVudCAhPT0gdGFyZ2V0ICYmIGN1cnJlbnQuJCRuZXh0U2libGluZykpKSkge1xuICAgICAgICAgICAgd2hpbGUgKGN1cnJlbnQgIT09IHRhcmdldCAmJiAhKG5leHQgPSBjdXJyZW50LiQkbmV4dFNpYmxpbmcpKSB7XG4gICAgICAgICAgICAgIGN1cnJlbnQgPSBjdXJyZW50LiRwYXJlbnQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgZXZlbnQuY3VycmVudFNjb3BlID0gbnVsbDtcbiAgICAgICAgcmV0dXJuIGV2ZW50O1xuICAgICAgfVxuICAgIH07XG5cbiAgICB2YXIgJHJvb3RTY29wZSA9IG5ldyBTY29wZSgpO1xuXG4gICAgLy9UaGUgaW50ZXJuYWwgcXVldWVzLiBFeHBvc2UgdGhlbSBvbiB0aGUgJHJvb3RTY29wZSBmb3IgZGVidWdnaW5nL3Rlc3RpbmcgcHVycG9zZXMuXG4gICAgdmFyIGFzeW5jUXVldWUgPSAkcm9vdFNjb3BlLiQkYXN5bmNRdWV1ZSA9IFtdO1xuICAgIHZhciBwb3N0RGlnZXN0UXVldWUgPSAkcm9vdFNjb3BlLiQkcG9zdERpZ2VzdFF1ZXVlID0gW107XG4gICAgdmFyIGFwcGx5QXN5bmNRdWV1ZSA9ICRyb290U2NvcGUuJCRhcHBseUFzeW5jUXVldWUgPSBbXTtcblxuICAgIHZhciBwb3N0RGlnZXN0UXVldWVQb3NpdGlvbiA9IDA7XG5cbiAgICByZXR1cm4gJHJvb3RTY29wZTtcblxuXG4gICAgZnVuY3Rpb24gYmVnaW5QaGFzZShwaGFzZSkge1xuICAgICAgaWYgKCRyb290U2NvcGUuJCRwaGFzZSkge1xuICAgICAgICB0aHJvdyAkcm9vdFNjb3BlTWluRXJyKCdpbnByb2cnLCAnezB9IGFscmVhZHkgaW4gcHJvZ3Jlc3MnLCAkcm9vdFNjb3BlLiQkcGhhc2UpO1xuICAgICAgfVxuXG4gICAgICAkcm9vdFNjb3BlLiQkcGhhc2UgPSBwaGFzZTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBjbGVhclBoYXNlKCkge1xuICAgICAgJHJvb3RTY29wZS4kJHBoYXNlID0gbnVsbDtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBpbmNyZW1lbnRXYXRjaGVyc0NvdW50KGN1cnJlbnQsIGNvdW50KSB7XG4gICAgICBkbyB7XG4gICAgICAgIGN1cnJlbnQuJCR3YXRjaGVyc0NvdW50ICs9IGNvdW50O1xuICAgICAgfSB3aGlsZSAoKGN1cnJlbnQgPSBjdXJyZW50LiRwYXJlbnQpKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBkZWNyZW1lbnRMaXN0ZW5lckNvdW50KGN1cnJlbnQsIGNvdW50LCBuYW1lKSB7XG4gICAgICBkbyB7XG4gICAgICAgIGN1cnJlbnQuJCRsaXN0ZW5lckNvdW50W25hbWVdIC09IGNvdW50O1xuXG4gICAgICAgIGlmIChjdXJyZW50LiQkbGlzdGVuZXJDb3VudFtuYW1lXSA9PT0gMCkge1xuICAgICAgICAgIGRlbGV0ZSBjdXJyZW50LiQkbGlzdGVuZXJDb3VudFtuYW1lXTtcbiAgICAgICAgfVxuICAgICAgfSB3aGlsZSAoKGN1cnJlbnQgPSBjdXJyZW50LiRwYXJlbnQpKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBmdW5jdGlvbiB1c2VkIGFzIGFuIGluaXRpYWwgdmFsdWUgZm9yIHdhdGNoZXJzLlxuICAgICAqIGJlY2F1c2UgaXQncyB1bmlxdWUgd2UgY2FuIGVhc2lseSB0ZWxsIGl0IGFwYXJ0IGZyb20gb3RoZXIgdmFsdWVzXG4gICAgICovXG4gICAgZnVuY3Rpb24gaW5pdFdhdGNoVmFsKCkge31cblxuICAgIGZ1bmN0aW9uIGZsdXNoQXBwbHlBc3luYygpIHtcbiAgICAgIHdoaWxlIChhcHBseUFzeW5jUXVldWUubGVuZ3RoKSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgYXBwbHlBc3luY1F1ZXVlLnNoaWZ0KCkoKTtcbiAgICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAgICRleGNlcHRpb25IYW5kbGVyKGUpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBhcHBseUFzeW5jSWQgPSBudWxsO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIHNjaGVkdWxlQXBwbHlBc3luYygpIHtcbiAgICAgIGlmIChhcHBseUFzeW5jSWQgPT09IG51bGwpIHtcbiAgICAgICAgYXBwbHlBc3luY0lkID0gJGJyb3dzZXIuZGVmZXIoZnVuY3Rpb24oKSB7XG4gICAgICAgICAgJHJvb3RTY29wZS4kYXBwbHkoZmx1c2hBcHBseUFzeW5jKTtcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfVxuICB9XTtcbn1cblxuLyoqXG4gKiBAbmdkb2Mgc2VydmljZVxuICogQG5hbWUgJHJvb3RFbGVtZW50XG4gKlxuICogQGRlc2NyaXB0aW9uXG4gKiBUaGUgcm9vdCBlbGVtZW50IG9mIEFuZ3VsYXIgYXBwbGljYXRpb24uIFRoaXMgaXMgZWl0aGVyIHRoZSBlbGVtZW50IHdoZXJlIHtAbGlua1xuICogbmcuZGlyZWN0aXZlOm5nQXBwIG5nQXBwfSB3YXMgZGVjbGFyZWQgb3IgdGhlIGVsZW1lbnQgcGFzc2VkIGludG9cbiAqIHtAbGluayBhbmd1bGFyLmJvb3RzdHJhcH0uIFRoZSBlbGVtZW50IHJlcHJlc2VudHMgdGhlIHJvb3QgZWxlbWVudCBvZiBhcHBsaWNhdGlvbi4gSXQgaXMgYWxzbyB0aGVcbiAqIGxvY2F0aW9uIHdoZXJlIHRoZSBhcHBsaWNhdGlvbidzIHtAbGluayBhdXRvLiRpbmplY3RvciAkaW5qZWN0b3J9IHNlcnZpY2UgZ2V0c1xuICogcHVibGlzaGVkLCBhbmQgY2FuIGJlIHJldHJpZXZlZCB1c2luZyBgJHJvb3RFbGVtZW50LmluamVjdG9yKClgLlxuICovXG5cblxuLy8gdGhlIGltcGxlbWVudGF0aW9uIGlzIGluIGFuZ3VsYXIuYm9vdHN0cmFwXG5cbi8qKlxuICogQHRoaXNcbiAqIEBkZXNjcmlwdGlvblxuICogUHJpdmF0ZSBzZXJ2aWNlIHRvIHNhbml0aXplIHVyaXMgZm9yIGxpbmtzIGFuZCBpbWFnZXMuIFVzZWQgYnkgJGNvbXBpbGUgYW5kICRzYW5pdGl6ZS5cbiAqL1xuZnVuY3Rpb24gJCRTYW5pdGl6ZVVyaVByb3ZpZGVyKCkge1xuICB2YXIgYUhyZWZTYW5pdGl6YXRpb25XaGl0ZWxpc3QgPSAvXlxccyooaHR0cHM/fGZ0cHxtYWlsdG98dGVsfGZpbGUpOi8sXG4gICAgaW1nU3JjU2FuaXRpemF0aW9uV2hpdGVsaXN0ID0gL15cXHMqKChodHRwcz98ZnRwfGZpbGV8YmxvYik6fGRhdGE6aW1hZ2VcXC8pLztcblxuICAvKipcbiAgICogQGRlc2NyaXB0aW9uXG4gICAqIFJldHJpZXZlcyBvciBvdmVycmlkZXMgdGhlIGRlZmF1bHQgcmVndWxhciBleHByZXNzaW9uIHRoYXQgaXMgdXNlZCBmb3Igd2hpdGVsaXN0aW5nIG9mIHNhZmVcbiAgICogdXJscyBkdXJpbmcgYVtocmVmXSBzYW5pdGl6YXRpb24uXG4gICAqXG4gICAqIFRoZSBzYW5pdGl6YXRpb24gaXMgYSBzZWN1cml0eSBtZWFzdXJlIGFpbWVkIGF0IHByZXZlbnQgWFNTIGF0dGFja3MgdmlhIGh0bWwgbGlua3MuXG4gICAqXG4gICAqIEFueSB1cmwgYWJvdXQgdG8gYmUgYXNzaWduZWQgdG8gYVtocmVmXSB2aWEgZGF0YS1iaW5kaW5nIGlzIGZpcnN0IG5vcm1hbGl6ZWQgYW5kIHR1cm5lZCBpbnRvXG4gICAqIGFuIGFic29sdXRlIHVybC4gQWZ0ZXJ3YXJkcywgdGhlIHVybCBpcyBtYXRjaGVkIGFnYWluc3QgdGhlIGBhSHJlZlNhbml0aXphdGlvbldoaXRlbGlzdGBcbiAgICogcmVndWxhciBleHByZXNzaW9uLiBJZiBhIG1hdGNoIGlzIGZvdW5kLCB0aGUgb3JpZ2luYWwgdXJsIGlzIHdyaXR0ZW4gaW50byB0aGUgZG9tLiBPdGhlcndpc2UsXG4gICAqIHRoZSBhYnNvbHV0ZSB1cmwgaXMgcHJlZml4ZWQgd2l0aCBgJ3Vuc2FmZTonYCBzdHJpbmcgYW5kIG9ubHkgdGhlbiBpcyBpdCB3cml0dGVuIGludG8gdGhlIERPTS5cbiAgICpcbiAgICogQHBhcmFtIHtSZWdFeHA9fSByZWdleHAgTmV3IHJlZ2V4cCB0byB3aGl0ZWxpc3QgdXJscyB3aXRoLlxuICAgKiBAcmV0dXJucyB7UmVnRXhwfG5nLiRjb21waWxlUHJvdmlkZXJ9IEN1cnJlbnQgUmVnRXhwIGlmIGNhbGxlZCB3aXRob3V0IHZhbHVlIG9yIHNlbGYgZm9yXG4gICAqICAgIGNoYWluaW5nIG90aGVyd2lzZS5cbiAgICovXG4gIHRoaXMuYUhyZWZTYW5pdGl6YXRpb25XaGl0ZWxpc3QgPSBmdW5jdGlvbihyZWdleHApIHtcbiAgICBpZiAoaXNEZWZpbmVkKHJlZ2V4cCkpIHtcbiAgICAgIGFIcmVmU2FuaXRpemF0aW9uV2hpdGVsaXN0ID0gcmVnZXhwO1xuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICAgIHJldHVybiBhSHJlZlNhbml0aXphdGlvbldoaXRlbGlzdDtcbiAgfTtcblxuXG4gIC8qKlxuICAgKiBAZGVzY3JpcHRpb25cbiAgICogUmV0cmlldmVzIG9yIG92ZXJyaWRlcyB0aGUgZGVmYXVsdCByZWd1bGFyIGV4cHJlc3Npb24gdGhhdCBpcyB1c2VkIGZvciB3aGl0ZWxpc3Rpbmcgb2Ygc2FmZVxuICAgKiB1cmxzIGR1cmluZyBpbWdbc3JjXSBzYW5pdGl6YXRpb24uXG4gICAqXG4gICAqIFRoZSBzYW5pdGl6YXRpb24gaXMgYSBzZWN1cml0eSBtZWFzdXJlIGFpbWVkIGF0IHByZXZlbnQgWFNTIGF0dGFja3MgdmlhIGh0bWwgbGlua3MuXG4gICAqXG4gICAqIEFueSB1cmwgYWJvdXQgdG8gYmUgYXNzaWduZWQgdG8gaW1nW3NyY10gdmlhIGRhdGEtYmluZGluZyBpcyBmaXJzdCBub3JtYWxpemVkIGFuZCB0dXJuZWQgaW50b1xuICAgKiBhbiBhYnNvbHV0ZSB1cmwuIEFmdGVyd2FyZHMsIHRoZSB1cmwgaXMgbWF0Y2hlZCBhZ2FpbnN0IHRoZSBgaW1nU3JjU2FuaXRpemF0aW9uV2hpdGVsaXN0YFxuICAgKiByZWd1bGFyIGV4cHJlc3Npb24uIElmIGEgbWF0Y2ggaXMgZm91bmQsIHRoZSBvcmlnaW5hbCB1cmwgaXMgd3JpdHRlbiBpbnRvIHRoZSBkb20uIE90aGVyd2lzZSxcbiAgICogdGhlIGFic29sdXRlIHVybCBpcyBwcmVmaXhlZCB3aXRoIGAndW5zYWZlOidgIHN0cmluZyBhbmQgb25seSB0aGVuIGlzIGl0IHdyaXR0ZW4gaW50byB0aGUgRE9NLlxuICAgKlxuICAgKiBAcGFyYW0ge1JlZ0V4cD19IHJlZ2V4cCBOZXcgcmVnZXhwIHRvIHdoaXRlbGlzdCB1cmxzIHdpdGguXG4gICAqIEByZXR1cm5zIHtSZWdFeHB8bmcuJGNvbXBpbGVQcm92aWRlcn0gQ3VycmVudCBSZWdFeHAgaWYgY2FsbGVkIHdpdGhvdXQgdmFsdWUgb3Igc2VsZiBmb3JcbiAgICogICAgY2hhaW5pbmcgb3RoZXJ3aXNlLlxuICAgKi9cbiAgdGhpcy5pbWdTcmNTYW5pdGl6YXRpb25XaGl0ZWxpc3QgPSBmdW5jdGlvbihyZWdleHApIHtcbiAgICBpZiAoaXNEZWZpbmVkKHJlZ2V4cCkpIHtcbiAgICAgIGltZ1NyY1Nhbml0aXphdGlvbldoaXRlbGlzdCA9IHJlZ2V4cDtcbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICByZXR1cm4gaW1nU3JjU2FuaXRpemF0aW9uV2hpdGVsaXN0O1xuICB9O1xuXG4gIHRoaXMuJGdldCA9IGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiBmdW5jdGlvbiBzYW5pdGl6ZVVyaSh1cmksIGlzSW1hZ2UpIHtcbiAgICAgIHZhciByZWdleCA9IGlzSW1hZ2UgPyBpbWdTcmNTYW5pdGl6YXRpb25XaGl0ZWxpc3QgOiBhSHJlZlNhbml0aXphdGlvbldoaXRlbGlzdDtcbiAgICAgIHZhciBub3JtYWxpemVkVmFsO1xuICAgICAgbm9ybWFsaXplZFZhbCA9IHVybFJlc29sdmUodXJpKS5ocmVmO1xuICAgICAgaWYgKG5vcm1hbGl6ZWRWYWwgIT09ICcnICYmICFub3JtYWxpemVkVmFsLm1hdGNoKHJlZ2V4KSkge1xuICAgICAgICByZXR1cm4gJ3Vuc2FmZTonICsgbm9ybWFsaXplZFZhbDtcbiAgICAgIH1cbiAgICAgIHJldHVybiB1cmk7XG4gICAgfTtcbiAgfTtcbn1cblxuLyogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKlxuICogICAgIEFueSBjb21taXRzIHRvIHRoaXMgZmlsZSBzaG91bGQgYmUgcmV2aWV3ZWQgd2l0aCBzZWN1cml0eSBpbiBtaW5kLiAgKlxuICogICBDaGFuZ2VzIHRvIHRoaXMgZmlsZSBjYW4gcG90ZW50aWFsbHkgY3JlYXRlIHNlY3VyaXR5IHZ1bG5lcmFiaWxpdGllcy4gKlxuICogICAgICAgICAgQW4gYXBwcm92YWwgZnJvbSAyIENvcmUgbWVtYmVycyB3aXRoIGhpc3Rvcnkgb2YgbW9kaWZ5aW5nICAgICAgKlxuICogICAgICAgICAgICAgICAgICAgICAgICAgdGhpcyBmaWxlIGlzIHJlcXVpcmVkLiAgICAgICAgICAgICAgICAgICAgICAgICAgKlxuICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKlxuICogIERvZXMgdGhlIGNoYW5nZSBzb21laG93IGFsbG93IGZvciBhcmJpdHJhcnkgamF2YXNjcmlwdCB0byBiZSBleGVjdXRlZD8gKlxuICogICAgT3IgYWxsb3dzIGZvciBzb21lb25lIHRvIGNoYW5nZSB0aGUgcHJvdG90eXBlIG9mIGJ1aWx0LWluIG9iamVjdHM/ICAgKlxuICogICAgIE9yIGdpdmVzIHVuZGVzaXJlZCBhY2Nlc3MgdG8gdmFyaWFibGVzIGxpa2VzIGRvY3VtZW50IG9yIHdpbmRvdz8gICAgKlxuICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKi9cblxuLyogZXhwb3J0ZWQgJFNjZVByb3ZpZGVyLCAkU2NlRGVsZWdhdGVQcm92aWRlciAqL1xuXG52YXIgJHNjZU1pbkVyciA9IG1pbkVycignJHNjZScpO1xuXG52YXIgU0NFX0NPTlRFWFRTID0ge1xuICAvLyBIVE1MIGlzIHVzZWQgd2hlbiB0aGVyZSdzIEhUTUwgcmVuZGVyZWQgKGUuZy4gbmctYmluZC1odG1sLCBpZnJhbWUgc3JjZG9jIGJpbmRpbmcpLlxuICBIVE1MOiAnaHRtbCcsXG5cbiAgLy8gU3R5bGUgc3RhdGVtZW50cyBvciBzdHlsZXNoZWV0cy4gQ3VycmVudGx5IHVudXNlZCBpbiBBbmd1bGFySlMuXG4gIENTUzogJ2NzcycsXG5cbiAgLy8gQW4gVVJMIHVzZWQgaW4gYSBjb250ZXh0IHdoZXJlIGl0IGRvZXMgbm90IHJlZmVyIHRvIGEgcmVzb3VyY2UgdGhhdCBsb2FkcyBjb2RlLiBDdXJyZW50bHlcbiAgLy8gdW51c2VkIGluIEFuZ3VsYXJKUy5cbiAgVVJMOiAndXJsJyxcblxuICAvLyBSRVNPVVJDRV9VUkwgaXMgYSBzdWJ0eXBlIG9mIFVSTCB1c2VkIHdoZXJlIHRoZSByZWZlcnJlZC10byByZXNvdXJjZSBjb3VsZCBiZSBpbnRlcnByZXRlZCBhc1xuICAvLyBjb2RlLiAoZS5nLiBuZy1pbmNsdWRlLCBzY3JpcHQgc3JjIGJpbmRpbmcsIHRlbXBsYXRlVXJsKVxuICBSRVNPVVJDRV9VUkw6ICdyZXNvdXJjZVVybCcsXG5cbiAgLy8gU2NyaXB0LiBDdXJyZW50bHkgdW51c2VkIGluIEFuZ3VsYXJKUy5cbiAgSlM6ICdqcydcbn07XG5cbi8vIEhlbHBlciBmdW5jdGlvbnMgZm9sbG93LlxuXG52YXIgVU5ERVJTQ09SRV9MT1dFUkNBU0VfUkVHRVhQID0gL18oW2Etel0pL2c7XG5cbmZ1bmN0aW9uIHNuYWtlVG9DYW1lbChuYW1lKSB7XG4gIHJldHVybiBuYW1lXG4gICAgLnJlcGxhY2UoVU5ERVJTQ09SRV9MT1dFUkNBU0VfUkVHRVhQLCBmbkNhbWVsQ2FzZVJlcGxhY2UpO1xufVxuXG5mdW5jdGlvbiBhZGp1c3RNYXRjaGVyKG1hdGNoZXIpIHtcbiAgaWYgKG1hdGNoZXIgPT09ICdzZWxmJykge1xuICAgIHJldHVybiBtYXRjaGVyO1xuICB9IGVsc2UgaWYgKGlzU3RyaW5nKG1hdGNoZXIpKSB7XG4gICAgLy8gU3RyaW5ncyBtYXRjaCBleGFjdGx5IGV4Y2VwdCBmb3IgMiB3aWxkY2FyZHMgLSAnKicgYW5kICcqKicuXG4gICAgLy8gJyonIG1hdGNoZXMgYW55IGNoYXJhY3RlciBleGNlcHQgdGhvc2UgZnJvbSB0aGUgc2V0ICc6Ly4/JicuXG4gICAgLy8gJyoqJyBtYXRjaGVzIGFueSBjaGFyYWN0ZXIgKGxpa2UgLiogaW4gYSBSZWdFeHApLlxuICAgIC8vIE1vcmUgdGhhbiAyIConcyByYWlzZXMgYW4gZXJyb3IgYXMgaXQncyBpbGwgZGVmaW5lZC5cbiAgICBpZiAobWF0Y2hlci5pbmRleE9mKCcqKionKSA+IC0xKSB7XG4gICAgICB0aHJvdyAkc2NlTWluRXJyKCdpd2NhcmQnLFxuICAgICAgICAgICdJbGxlZ2FsIHNlcXVlbmNlICoqKiBpbiBzdHJpbmcgbWF0Y2hlci4gIFN0cmluZzogezB9JywgbWF0Y2hlcik7XG4gICAgfVxuICAgIG1hdGNoZXIgPSBlc2NhcGVGb3JSZWdleHAobWF0Y2hlcikuXG4gICAgICAgICAgICAgICAgICByZXBsYWNlKC9cXFxcXFwqXFxcXFxcKi9nLCAnLionKS5cbiAgICAgICAgICAgICAgICAgIHJlcGxhY2UoL1xcXFxcXCovZywgJ1teOi8uPyY7XSonKTtcbiAgICByZXR1cm4gbmV3IFJlZ0V4cCgnXicgKyBtYXRjaGVyICsgJyQnKTtcbiAgfSBlbHNlIGlmIChpc1JlZ0V4cChtYXRjaGVyKSkge1xuICAgIC8vIFRoZSBvbmx5IG90aGVyIHR5cGUgb2YgbWF0Y2hlciBhbGxvd2VkIGlzIGEgUmVnZXhwLlxuICAgIC8vIE1hdGNoIGVudGlyZSBVUkwgLyBkaXNhbGxvdyBwYXJ0aWFsIG1hdGNoZXMuXG4gICAgLy8gRmxhZ3MgYXJlIHJlc2V0IChpLmUuIG5vIGdsb2JhbCwgaWdub3JlQ2FzZSBvciBtdWx0aWxpbmUpXG4gICAgcmV0dXJuIG5ldyBSZWdFeHAoJ14nICsgbWF0Y2hlci5zb3VyY2UgKyAnJCcpO1xuICB9IGVsc2Uge1xuICAgIHRocm93ICRzY2VNaW5FcnIoJ2ltYXRjaGVyJyxcbiAgICAgICAgJ01hdGNoZXJzIG1heSBvbmx5IGJlIFwic2VsZlwiLCBzdHJpbmcgcGF0dGVybnMgb3IgUmVnRXhwIG9iamVjdHMnKTtcbiAgfVxufVxuXG5cbmZ1bmN0aW9uIGFkanVzdE1hdGNoZXJzKG1hdGNoZXJzKSB7XG4gIHZhciBhZGp1c3RlZE1hdGNoZXJzID0gW107XG4gIGlmIChpc0RlZmluZWQobWF0Y2hlcnMpKSB7XG4gICAgZm9yRWFjaChtYXRjaGVycywgZnVuY3Rpb24obWF0Y2hlcikge1xuICAgICAgYWRqdXN0ZWRNYXRjaGVycy5wdXNoKGFkanVzdE1hdGNoZXIobWF0Y2hlcikpO1xuICAgIH0pO1xuICB9XG4gIHJldHVybiBhZGp1c3RlZE1hdGNoZXJzO1xufVxuXG5cbi8qKlxuICogQG5nZG9jIHNlcnZpY2VcbiAqIEBuYW1lICRzY2VEZWxlZ2F0ZVxuICogQGtpbmQgZnVuY3Rpb25cbiAqXG4gKiBAZGVzY3JpcHRpb25cbiAqXG4gKiBgJHNjZURlbGVnYXRlYCBpcyBhIHNlcnZpY2UgdGhhdCBpcyB1c2VkIGJ5IHRoZSBgJHNjZWAgc2VydmljZSB0byBwcm92aWRlIHtAbGluayBuZy4kc2NlIFN0cmljdFxuICogQ29udGV4dHVhbCBFc2NhcGluZyAoU0NFKX0gc2VydmljZXMgdG8gQW5ndWxhckpTLlxuICpcbiAqIEZvciBhbiBvdmVydmlldyBvZiB0aGlzIHNlcnZpY2UgYW5kIHRoZSBmdW5jdGlvbm5hbGl0eSBpdCBwcm92aWRlcyBpbiBBbmd1bGFySlMsIHNlZSB0aGUgbWFpblxuICogcGFnZSBmb3Ige0BsaW5rIG5nLiRzY2UgU0NFfS4gVGhlIGN1cnJlbnQgcGFnZSBpcyB0YXJnZXRlZCBmb3IgZGV2ZWxvcGVycyB3aG8gbmVlZCB0byBhbHRlciBob3dcbiAqIFNDRSB3b3JrcyBpbiB0aGVpciBhcHBsaWNhdGlvbiwgd2hpY2ggc2hvdWxkbid0IGJlIG5lZWRlZCBpbiBtb3N0IGNhc2VzLlxuICpcbiAqIDxkaXYgY2xhc3M9XCJhbGVydCBhbGVydC1kYW5nZXJcIj5cbiAqIEFuZ3VsYXJKUyBzdHJvbmdseSByZWxpZXMgb24gY29udGV4dHVhbCBlc2NhcGluZyBmb3IgdGhlIHNlY3VyaXR5IG9mIGJpbmRpbmdzOiBkaXNhYmxpbmcgb3JcbiAqIG1vZGlmeWluZyB0aGlzIG1pZ2h0IGNhdXNlIGNyb3NzIHNpdGUgc2NyaXB0aW5nIChYU1MpIHZ1bG5lcmFiaWxpdGllcy4gRm9yIGxpYnJhcmllcyBvd25lcnMsXG4gKiBjaGFuZ2VzIHRvIHRoaXMgc2VydmljZSB3aWxsIGFsc28gaW5mbHVlbmNlIHVzZXJzLCBzbyBiZSBleHRyYSBjYXJlZnVsIGFuZCBkb2N1bWVudCB5b3VyIGNoYW5nZXMuXG4gKiA8L2Rpdj5cbiAqXG4gKiBUeXBpY2FsbHksIHlvdSB3b3VsZCBjb25maWd1cmUgb3Igb3ZlcnJpZGUgdGhlIHtAbGluayBuZy4kc2NlRGVsZWdhdGUgJHNjZURlbGVnYXRlfSBpbnN0ZWFkIG9mXG4gKiB0aGUgYCRzY2VgIHNlcnZpY2UgdG8gY3VzdG9taXplIHRoZSB3YXkgU3RyaWN0IENvbnRleHR1YWwgRXNjYXBpbmcgd29ya3MgaW4gQW5ndWxhckpTLiAgVGhpcyBpc1xuICogYmVjYXVzZSwgd2hpbGUgdGhlIGAkc2NlYCBwcm92aWRlcyBudW1lcm91cyBzaG9ydGhhbmQgbWV0aG9kcywgZXRjLiwgeW91IHJlYWxseSBvbmx5IG5lZWQgdG9cbiAqIG92ZXJyaWRlIDMgY29yZSBmdW5jdGlvbnMgKGB0cnVzdEFzYCwgYGdldFRydXN0ZWRgIGFuZCBgdmFsdWVPZmApIHRvIHJlcGxhY2UgdGhlIHdheSB0aGluZ3NcbiAqIHdvcmsgYmVjYXVzZSBgJHNjZWAgZGVsZWdhdGVzIHRvIGAkc2NlRGVsZWdhdGVgIGZvciB0aGVzZSBvcGVyYXRpb25zLlxuICpcbiAqIFJlZmVyIHtAbGluayBuZy4kc2NlRGVsZWdhdGVQcm92aWRlciAkc2NlRGVsZWdhdGVQcm92aWRlcn0gdG8gY29uZmlndXJlIHRoaXMgc2VydmljZS5cbiAqXG4gKiBUaGUgZGVmYXVsdCBpbnN0YW5jZSBvZiBgJHNjZURlbGVnYXRlYCBzaG91bGQgd29yayBvdXQgb2YgdGhlIGJveCB3aXRoIGxpdHRsZSBwYWluLiAgV2hpbGUgeW91XG4gKiBjYW4gb3ZlcnJpZGUgaXQgY29tcGxldGVseSB0byBjaGFuZ2UgdGhlIGJlaGF2aW9yIG9mIGAkc2NlYCwgdGhlIGNvbW1vbiBjYXNlIHdvdWxkXG4gKiBpbnZvbHZlIGNvbmZpZ3VyaW5nIHRoZSB7QGxpbmsgbmcuJHNjZURlbGVnYXRlUHJvdmlkZXIgJHNjZURlbGVnYXRlUHJvdmlkZXJ9IGluc3RlYWQgYnkgc2V0dGluZ1xuICogeW91ciBvd24gd2hpdGVsaXN0cyBhbmQgYmxhY2tsaXN0cyBmb3IgdHJ1c3RpbmcgVVJMcyB1c2VkIGZvciBsb2FkaW5nIEFuZ3VsYXJKUyByZXNvdXJjZXMgc3VjaCBhc1xuICogdGVtcGxhdGVzLiAgUmVmZXIge0BsaW5rIG5nLiRzY2VEZWxlZ2F0ZVByb3ZpZGVyI3Jlc291cmNlVXJsV2hpdGVsaXN0XG4gKiAkc2NlRGVsZWdhdGVQcm92aWRlci5yZXNvdXJjZVVybFdoaXRlbGlzdH0gYW5kIHtAbGlua1xuICogbmcuJHNjZURlbGVnYXRlUHJvdmlkZXIjcmVzb3VyY2VVcmxCbGFja2xpc3QgJHNjZURlbGVnYXRlUHJvdmlkZXIucmVzb3VyY2VVcmxCbGFja2xpc3R9XG4gKi9cblxuLyoqXG4gKiBAbmdkb2MgcHJvdmlkZXJcbiAqIEBuYW1lICRzY2VEZWxlZ2F0ZVByb3ZpZGVyXG4gKiBAdGhpc1xuICpcbiAqIEBkZXNjcmlwdGlvblxuICpcbiAqIFRoZSBgJHNjZURlbGVnYXRlUHJvdmlkZXJgIHByb3ZpZGVyIGFsbG93cyBkZXZlbG9wZXJzIHRvIGNvbmZpZ3VyZSB0aGUge0BsaW5rIG5nLiRzY2VEZWxlZ2F0ZVxuICogJHNjZURlbGVnYXRlIHNlcnZpY2V9LCB1c2VkIGFzIGEgZGVsZWdhdGUgZm9yIHtAbGluayBuZy4kc2NlIFN0cmljdCBDb250ZXh0dWFsIEVzY2FwaW5nIChTQ0UpfS5cbiAqXG4gKiBUaGUgYCRzY2VEZWxlZ2F0ZVByb3ZpZGVyYCBhbGxvd3Mgb25lIHRvIGdldC9zZXQgdGhlIHdoaXRlbGlzdHMgYW5kIGJsYWNrbGlzdHMgdXNlZCB0byBlbnN1cmVcbiAqIHRoYXQgdGhlIFVSTHMgdXNlZCBmb3Igc291cmNpbmcgQW5ndWxhckpTIHRlbXBsYXRlcyBhbmQgb3RoZXIgc2NyaXB0LXJ1bm5pbmcgVVJMcyBhcmUgc2FmZSAoYWxsXG4gKiBwbGFjZXMgdGhhdCB1c2UgdGhlIGAkc2NlLlJFU09VUkNFX1VSTGAgY29udGV4dCkuIFNlZVxuICoge0BsaW5rIG5nLiRzY2VEZWxlZ2F0ZVByb3ZpZGVyI3Jlc291cmNlVXJsV2hpdGVsaXN0ICRzY2VEZWxlZ2F0ZVByb3ZpZGVyLnJlc291cmNlVXJsV2hpdGVsaXN0fVxuICogYW5kXG4gKiB7QGxpbmsgbmcuJHNjZURlbGVnYXRlUHJvdmlkZXIjcmVzb3VyY2VVcmxCbGFja2xpc3QgJHNjZURlbGVnYXRlUHJvdmlkZXIucmVzb3VyY2VVcmxCbGFja2xpc3R9LFxuICpcbiAqIEZvciB0aGUgZ2VuZXJhbCBkZXRhaWxzIGFib3V0IHRoaXMgc2VydmljZSBpbiBBbmd1bGFyLCByZWFkIHRoZSBtYWluIHBhZ2UgZm9yIHtAbGluayBuZy4kc2NlXG4gKiBTdHJpY3QgQ29udGV4dHVhbCBFc2NhcGluZyAoU0NFKX0uXG4gKlxuICogKipFeGFtcGxlKio6ICBDb25zaWRlciB0aGUgZm9sbG93aW5nIGNhc2UuIDxhIG5hbWU9XCJleGFtcGxlXCI+PC9hPlxuICpcbiAqIC0geW91ciBhcHAgaXMgaG9zdGVkIGF0IHVybCBgaHR0cDovL215YXBwLmV4YW1wbGUuY29tL2BcbiAqIC0gYnV0IHNvbWUgb2YgeW91ciB0ZW1wbGF0ZXMgYXJlIGhvc3RlZCBvbiBvdGhlciBkb21haW5zIHlvdSBjb250cm9sIHN1Y2ggYXNcbiAqICAgYGh0dHA6Ly9zcnYwMS5hc3NldHMuZXhhbXBsZS5jb20vYCwgYGh0dHA6Ly9zcnYwMi5hc3NldHMuZXhhbXBsZS5jb20vYCwgZXRjLlxuICogLSBhbmQgeW91IGhhdmUgYW4gb3BlbiByZWRpcmVjdCBhdCBgaHR0cDovL215YXBwLmV4YW1wbGUuY29tL2NsaWNrVGhydT8uLi5gLlxuICpcbiAqIEhlcmUgaXMgd2hhdCBhIHNlY3VyZSBjb25maWd1cmF0aW9uIGZvciB0aGlzIHNjZW5hcmlvIG1pZ2h0IGxvb2sgbGlrZTpcbiAqXG4gKiBgYGBcbiAqICBhbmd1bGFyLm1vZHVsZSgnbXlBcHAnLCBbXSkuY29uZmlnKGZ1bmN0aW9uKCRzY2VEZWxlZ2F0ZVByb3ZpZGVyKSB7XG4gKiAgICAkc2NlRGVsZWdhdGVQcm92aWRlci5yZXNvdXJjZVVybFdoaXRlbGlzdChbXG4gKiAgICAgIC8vIEFsbG93IHNhbWUgb3JpZ2luIHJlc291cmNlIGxvYWRzLlxuICogICAgICAnc2VsZicsXG4gKiAgICAgIC8vIEFsbG93IGxvYWRpbmcgZnJvbSBvdXIgYXNzZXRzIGRvbWFpbi4gIE5vdGljZSB0aGUgZGlmZmVyZW5jZSBiZXR3ZWVuICogYW5kICoqLlxuICogICAgICAnaHR0cDovL3NydiouYXNzZXRzLmV4YW1wbGUuY29tLyoqJ1xuICogICAgXSk7XG4gKlxuICogICAgLy8gVGhlIGJsYWNrbGlzdCBvdmVycmlkZXMgdGhlIHdoaXRlbGlzdCBzbyB0aGUgb3BlbiByZWRpcmVjdCBoZXJlIGlzIGJsb2NrZWQuXG4gKiAgICAkc2NlRGVsZWdhdGVQcm92aWRlci5yZXNvdXJjZVVybEJsYWNrbGlzdChbXG4gKiAgICAgICdodHRwOi8vbXlhcHAuZXhhbXBsZS5jb20vY2xpY2tUaHJ1KionXG4gKiAgICBdKTtcbiAqICB9KTtcbiAqIGBgYFxuICogTm90ZSB0aGF0IGFuIGVtcHR5IHdoaXRlbGlzdCB3aWxsIGJsb2NrIGV2ZXJ5IHJlc291cmNlIFVSTCBmcm9tIGJlaW5nIGxvYWRlZCwgYW5kIHdpbGwgcmVxdWlyZVxuICogeW91IHRvIG1hbnVhbGx5IG1hcmsgZWFjaCBvbmUgYXMgdHJ1c3RlZCB3aXRoIGAkc2NlLnRydXN0QXNSZXNvdXJjZVVybGAuIEhvd2V2ZXIsIHRlbXBsYXRlc1xuICogcmVxdWVzdGVkIGJ5IHtAbGluayBuZy4kdGVtcGxhdGVSZXF1ZXN0ICR0ZW1wbGF0ZVJlcXVlc3R9IHRoYXQgYXJlIHByZXNlbnQgaW5cbiAqIHtAbGluayBuZy4kdGVtcGxhdGVDYWNoZSAkdGVtcGxhdGVDYWNoZX0gd2lsbCBub3QgZ28gdGhyb3VnaCB0aGlzIGNoZWNrLiBJZiB5b3UgaGF2ZSBhIG1lY2hhbmlzbVxuICogdG8gcG9wdWxhdGUgeW91ciB0ZW1wbGF0ZXMgaW4gdGhhdCBjYWNoZSBhdCBjb25maWcgdGltZSwgdGhlbiBpdCBpcyBhIGdvb2QgaWRlYSB0byByZW1vdmUgJ3NlbGYnXG4gKiBmcm9tIHRoYXQgd2hpdGVsaXN0LiBUaGlzIGhlbHBzIHRvIG1pdGlnYXRlIHRoZSBzZWN1cml0eSBpbXBhY3Qgb2YgY2VydGFpbiB0eXBlcyBvZiBpc3N1ZXMsIGxpa2VcbiAqIGZvciBpbnN0YW5jZSBhdHRhY2tlci1jb250cm9sbGVkIGBuZy1pbmNsdWRlc2AuXG4gKi9cblxuZnVuY3Rpb24gJFNjZURlbGVnYXRlUHJvdmlkZXIoKSB7XG4gIHRoaXMuU0NFX0NPTlRFWFRTID0gU0NFX0NPTlRFWFRTO1xuXG4gIC8vIFJlc291cmNlIFVSTHMgY2FuIGFsc28gYmUgdHJ1c3RlZCBieSBwb2xpY3kuXG4gIHZhciByZXNvdXJjZVVybFdoaXRlbGlzdCA9IFsnc2VsZiddLFxuICAgICAgcmVzb3VyY2VVcmxCbGFja2xpc3QgPSBbXTtcblxuICAvKipcbiAgICogQG5nZG9jIG1ldGhvZFxuICAgKiBAbmFtZSAkc2NlRGVsZWdhdGVQcm92aWRlciNyZXNvdXJjZVVybFdoaXRlbGlzdFxuICAgKiBAa2luZCBmdW5jdGlvblxuICAgKlxuICAgKiBAcGFyYW0ge0FycmF5PX0gd2hpdGVsaXN0IFdoZW4gcHJvdmlkZWQsIHJlcGxhY2VzIHRoZSByZXNvdXJjZVVybFdoaXRlbGlzdCB3aXRoIHRoZSB2YWx1ZVxuICAgKiAgICAgcHJvdmlkZWQuICBUaGlzIG11c3QgYmUgYW4gYXJyYXkgb3IgbnVsbC4gIEEgc25hcHNob3Qgb2YgdGhpcyBhcnJheSBpcyB1c2VkIHNvIGZ1cnRoZXJcbiAgICogICAgIGNoYW5nZXMgdG8gdGhlIGFycmF5IGFyZSBpZ25vcmVkLlxuICAgKiAgICAgRm9sbG93IHtAbGluayBuZy4kc2NlI3Jlc291cmNlVXJsUGF0dGVybkl0ZW0gdGhpcyBsaW5rfSBmb3IgYSBkZXNjcmlwdGlvbiBvZiB0aGUgaXRlbXNcbiAgICogICAgIGFsbG93ZWQgaW4gdGhpcyBhcnJheS5cbiAgICpcbiAgICogQHJldHVybiB7QXJyYXl9IFRoZSBjdXJyZW50bHkgc2V0IHdoaXRlbGlzdCBhcnJheS5cbiAgICpcbiAgICogQGRlc2NyaXB0aW9uXG4gICAqIFNldHMvR2V0cyB0aGUgd2hpdGVsaXN0IG9mIHRydXN0ZWQgcmVzb3VyY2UgVVJMcy5cbiAgICpcbiAgICogVGhlICoqZGVmYXVsdCB2YWx1ZSoqIHdoZW4gbm8gd2hpdGVsaXN0IGhhcyBiZWVuIGV4cGxpY2l0bHkgc2V0IGlzIGBbJ3NlbGYnXWAgYWxsb3dpbmcgb25seVxuICAgKiBzYW1lIG9yaWdpbiByZXNvdXJjZSByZXF1ZXN0cy5cbiAgICpcbiAgICogPGRpdiBjbGFzcz1cImFsZXJ0IGFsZXJ0LXdhcm5pbmdcIj5cbiAgICogKipOb3RlOioqIHRoZSBkZWZhdWx0IHdoaXRlbGlzdCBvZiAnc2VsZicgaXMgbm90IHJlY29tbWVuZGVkIGlmIHlvdXIgYXBwIHNoYXJlcyBpdHMgb3JpZ2luXG4gICAqIHdpdGggb3RoZXIgYXBwcyEgSXQgaXMgYSBnb29kIGlkZWEgdG8gbGltaXQgaXQgdG8gb25seSB5b3VyIGFwcGxpY2F0aW9uJ3MgZGlyZWN0b3J5LlxuICAgKiA8L2Rpdj5cbiAgICovXG4gIHRoaXMucmVzb3VyY2VVcmxXaGl0ZWxpc3QgPSBmdW5jdGlvbih2YWx1ZSkge1xuICAgIGlmIChhcmd1bWVudHMubGVuZ3RoKSB7XG4gICAgICByZXNvdXJjZVVybFdoaXRlbGlzdCA9IGFkanVzdE1hdGNoZXJzKHZhbHVlKTtcbiAgICB9XG4gICAgcmV0dXJuIHJlc291cmNlVXJsV2hpdGVsaXN0O1xuICB9O1xuXG4gIC8qKlxuICAgKiBAbmdkb2MgbWV0aG9kXG4gICAqIEBuYW1lICRzY2VEZWxlZ2F0ZVByb3ZpZGVyI3Jlc291cmNlVXJsQmxhY2tsaXN0XG4gICAqIEBraW5kIGZ1bmN0aW9uXG4gICAqXG4gICAqIEBwYXJhbSB7QXJyYXk9fSBibGFja2xpc3QgV2hlbiBwcm92aWRlZCwgcmVwbGFjZXMgdGhlIHJlc291cmNlVXJsQmxhY2tsaXN0IHdpdGggdGhlIHZhbHVlXG4gICAqICAgICBwcm92aWRlZC4gIFRoaXMgbXVzdCBiZSBhbiBhcnJheSBvciBudWxsLiAgQSBzbmFwc2hvdCBvZiB0aGlzIGFycmF5IGlzIHVzZWQgc28gZnVydGhlclxuICAgKiAgICAgY2hhbmdlcyB0byB0aGUgYXJyYXkgYXJlIGlnbm9yZWQuPC9wPjxwPlxuICAgKiAgICAgRm9sbG93IHtAbGluayBuZy4kc2NlI3Jlc291cmNlVXJsUGF0dGVybkl0ZW0gdGhpcyBsaW5rfSBmb3IgYSBkZXNjcmlwdGlvbiBvZiB0aGUgaXRlbXNcbiAgICogICAgIGFsbG93ZWQgaW4gdGhpcyBhcnJheS48L3A+PHA+XG4gICAqICAgICBUaGUgdHlwaWNhbCB1c2FnZSBmb3IgdGhlIGJsYWNrbGlzdCBpcyB0byAqKmJsb2NrXG4gICAqICAgICBbb3BlbiByZWRpcmVjdHNdKGh0dHA6Ly9jd2UubWl0cmUub3JnL2RhdGEvZGVmaW5pdGlvbnMvNjAxLmh0bWwpKiogc2VydmVkIGJ5IHlvdXIgZG9tYWluIGFzXG4gICAqICAgICB0aGVzZSB3b3VsZCBvdGhlcndpc2UgYmUgdHJ1c3RlZCBidXQgYWN0dWFsbHkgcmV0dXJuIGNvbnRlbnQgZnJvbSB0aGUgcmVkaXJlY3RlZCBkb21haW4uXG4gICAqICAgICA8L3A+PHA+XG4gICAqICAgICBGaW5hbGx5LCAqKnRoZSBibGFja2xpc3Qgb3ZlcnJpZGVzIHRoZSB3aGl0ZWxpc3QqKiBhbmQgaGFzIHRoZSBmaW5hbCBzYXkuXG4gICAqXG4gICAqIEByZXR1cm4ge0FycmF5fSBUaGUgY3VycmVudGx5IHNldCBibGFja2xpc3QgYXJyYXkuXG4gICAqXG4gICAqIEBkZXNjcmlwdGlvblxuICAgKiBTZXRzL0dldHMgdGhlIGJsYWNrbGlzdCBvZiB0cnVzdGVkIHJlc291cmNlIFVSTHMuXG4gICAqXG4gICAqIFRoZSAqKmRlZmF1bHQgdmFsdWUqKiB3aGVuIG5vIHdoaXRlbGlzdCBoYXMgYmVlbiBleHBsaWNpdGx5IHNldCBpcyB0aGUgZW1wdHkgYXJyYXkgKGkuZS4gdGhlcmVcbiAgICogaXMgbm8gYmxhY2tsaXN0LilcbiAgICovXG5cbiAgdGhpcy5yZXNvdXJjZVVybEJsYWNrbGlzdCA9IGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgaWYgKGFyZ3VtZW50cy5sZW5ndGgpIHtcbiAgICAgIHJlc291cmNlVXJsQmxhY2tsaXN0ID0gYWRqdXN0TWF0Y2hlcnModmFsdWUpO1xuICAgIH1cbiAgICByZXR1cm4gcmVzb3VyY2VVcmxCbGFja2xpc3Q7XG4gIH07XG5cbiAgdGhpcy4kZ2V0ID0gWyckaW5qZWN0b3InLCBmdW5jdGlvbigkaW5qZWN0b3IpIHtcblxuICAgIHZhciBodG1sU2FuaXRpemVyID0gZnVuY3Rpb24gaHRtbFNhbml0aXplcihodG1sKSB7XG4gICAgICB0aHJvdyAkc2NlTWluRXJyKCd1bnNhZmUnLCAnQXR0ZW1wdGluZyB0byB1c2UgYW4gdW5zYWZlIHZhbHVlIGluIGEgc2FmZSBjb250ZXh0LicpO1xuICAgIH07XG5cbiAgICBpZiAoJGluamVjdG9yLmhhcygnJHNhbml0aXplJykpIHtcbiAgICAgIGh0bWxTYW5pdGl6ZXIgPSAkaW5qZWN0b3IuZ2V0KCckc2FuaXRpemUnKTtcbiAgICB9XG5cblxuICAgIGZ1bmN0aW9uIG1hdGNoVXJsKG1hdGNoZXIsIHBhcnNlZFVybCkge1xuICAgICAgaWYgKG1hdGNoZXIgPT09ICdzZWxmJykge1xuICAgICAgICByZXR1cm4gdXJsSXNTYW1lT3JpZ2luKHBhcnNlZFVybCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICAvLyBkZWZpbml0ZWx5IGEgcmVnZXguICBTZWUgYWRqdXN0TWF0Y2hlcnMoKVxuICAgICAgICByZXR1cm4gISFtYXRjaGVyLmV4ZWMocGFyc2VkVXJsLmhyZWYpO1xuICAgICAgfVxuICAgIH1cblxuICAgIGZ1bmN0aW9uIGlzUmVzb3VyY2VVcmxBbGxvd2VkQnlQb2xpY3kodXJsKSB7XG4gICAgICB2YXIgcGFyc2VkVXJsID0gdXJsUmVzb2x2ZSh1cmwudG9TdHJpbmcoKSk7XG4gICAgICB2YXIgaSwgbiwgYWxsb3dlZCA9IGZhbHNlO1xuICAgICAgLy8gRW5zdXJlIHRoYXQgYXQgbGVhc3Qgb25lIGl0ZW0gZnJvbSB0aGUgd2hpdGVsaXN0IGFsbG93cyB0aGlzIHVybC5cbiAgICAgIGZvciAoaSA9IDAsIG4gPSByZXNvdXJjZVVybFdoaXRlbGlzdC5sZW5ndGg7IGkgPCBuOyBpKyspIHtcbiAgICAgICAgaWYgKG1hdGNoVXJsKHJlc291cmNlVXJsV2hpdGVsaXN0W2ldLCBwYXJzZWRVcmwpKSB7XG4gICAgICAgICAgYWxsb3dlZCA9IHRydWU7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGlmIChhbGxvd2VkKSB7XG4gICAgICAgIC8vIEVuc3VyZSB0aGF0IG5vIGl0ZW0gZnJvbSB0aGUgYmxhY2tsaXN0IGJsb2NrZWQgdGhpcyB1cmwuXG4gICAgICAgIGZvciAoaSA9IDAsIG4gPSByZXNvdXJjZVVybEJsYWNrbGlzdC5sZW5ndGg7IGkgPCBuOyBpKyspIHtcbiAgICAgICAgICBpZiAobWF0Y2hVcmwocmVzb3VyY2VVcmxCbGFja2xpc3RbaV0sIHBhcnNlZFVybCkpIHtcbiAgICAgICAgICAgIGFsbG93ZWQgPSBmYWxzZTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIGFsbG93ZWQ7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gZ2VuZXJhdGVIb2xkZXJUeXBlKEJhc2UpIHtcbiAgICAgIHZhciBob2xkZXJUeXBlID0gZnVuY3Rpb24gVHJ1c3RlZFZhbHVlSG9sZGVyVHlwZSh0cnVzdGVkVmFsdWUpIHtcbiAgICAgICAgdGhpcy4kJHVud3JhcFRydXN0ZWRWYWx1ZSA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgIHJldHVybiB0cnVzdGVkVmFsdWU7XG4gICAgICAgIH07XG4gICAgICB9O1xuICAgICAgaWYgKEJhc2UpIHtcbiAgICAgICAgaG9sZGVyVHlwZS5wcm90b3R5cGUgPSBuZXcgQmFzZSgpO1xuICAgICAgfVxuICAgICAgaG9sZGVyVHlwZS5wcm90b3R5cGUudmFsdWVPZiA9IGZ1bmN0aW9uIHNjZVZhbHVlT2YoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLiQkdW53cmFwVHJ1c3RlZFZhbHVlKCk7XG4gICAgICB9O1xuICAgICAgaG9sZGVyVHlwZS5wcm90b3R5cGUudG9TdHJpbmcgPSBmdW5jdGlvbiBzY2VUb1N0cmluZygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuJCR1bndyYXBUcnVzdGVkVmFsdWUoKS50b1N0cmluZygpO1xuICAgICAgfTtcbiAgICAgIHJldHVybiBob2xkZXJUeXBlO1xuICAgIH1cblxuICAgIHZhciB0cnVzdGVkVmFsdWVIb2xkZXJCYXNlID0gZ2VuZXJhdGVIb2xkZXJUeXBlKCksXG4gICAgICAgIGJ5VHlwZSA9IHt9O1xuXG4gICAgYnlUeXBlW1NDRV9DT05URVhUUy5IVE1MXSA9IGdlbmVyYXRlSG9sZGVyVHlwZSh0cnVzdGVkVmFsdWVIb2xkZXJCYXNlKTtcbiAgICBieVR5cGVbU0NFX0NPTlRFWFRTLkNTU10gPSBnZW5lcmF0ZUhvbGRlclR5cGUodHJ1c3RlZFZhbHVlSG9sZGVyQmFzZSk7XG4gICAgYnlUeXBlW1NDRV9DT05URVhUUy5VUkxdID0gZ2VuZXJhdGVIb2xkZXJUeXBlKHRydXN0ZWRWYWx1ZUhvbGRlckJhc2UpO1xuICAgIGJ5VHlwZVtTQ0VfQ09OVEVYVFMuSlNdID0gZ2VuZXJhdGVIb2xkZXJUeXBlKHRydXN0ZWRWYWx1ZUhvbGRlckJhc2UpO1xuICAgIGJ5VHlwZVtTQ0VfQ09OVEVYVFMuUkVTT1VSQ0VfVVJMXSA9IGdlbmVyYXRlSG9sZGVyVHlwZShieVR5cGVbU0NFX0NPTlRFWFRTLlVSTF0pO1xuXG4gICAgLyoqXG4gICAgICogQG5nZG9jIG1ldGhvZFxuICAgICAqIEBuYW1lICRzY2VEZWxlZ2F0ZSN0cnVzdEFzXG4gICAgICpcbiAgICAgKiBAZGVzY3JpcHRpb25cbiAgICAgKiBSZXR1cm5zIGEgdHJ1c3RlZCByZXByZXNlbnRhdGlvbiBvZiB0aGUgcGFyYW1ldGVyIGZvciB0aGUgc3BlY2lmaWVkIGNvbnRleHQuIFRoaXMgdHJ1c3RlZFxuICAgICAqIG9iamVjdCB3aWxsIGxhdGVyIG9uIGJlIHVzZWQgYXMtaXMsIHdpdGhvdXQgYW55IHNlY3VyaXR5IGNoZWNrLCBieSBiaW5kaW5ncyBvciBkaXJlY3RpdmVzXG4gICAgICogdGhhdCByZXF1aXJlIHRoaXMgc2VjdXJpdHkgY29udGV4dC5cbiAgICAgKiBGb3IgaW5zdGFuY2UsIG1hcmtpbmcgYSBzdHJpbmcgYXMgdHJ1c3RlZCBmb3IgdGhlIGAkc2NlLkhUTUxgIGNvbnRleHQgd2lsbCBlbnRpcmVseSBieXBhc3NcbiAgICAgKiB0aGUgcG90ZW50aWFsIGAkc2FuaXRpemVgIGNhbGwgaW4gY29ycmVzcG9uZGluZyBgJHNjZS5IVE1MYCBiaW5kaW5ncyBvciBkaXJlY3RpdmVzLCBzdWNoIGFzXG4gICAgICogYG5nLWJpbmQtaHRtbGAuIE5vdGUgdGhhdCBpbiBtb3N0IGNhc2VzIHlvdSB3b24ndCBuZWVkIHRvIGNhbGwgdGhpcyBmdW5jdGlvbjogaWYgeW91IGhhdmUgdGhlXG4gICAgICogc2FuaXRpemVyIGxvYWRlZCwgcGFzc2luZyB0aGUgdmFsdWUgaXRzZWxmIHdpbGwgcmVuZGVyIGFsbCB0aGUgSFRNTCB0aGF0IGRvZXMgbm90IHBvc2UgYVxuICAgICAqIHNlY3VyaXR5IHJpc2suXG4gICAgICpcbiAgICAgKiBTZWUge0BsaW5rIG5nLiRzY2VEZWxlZ2F0ZSNnZXRUcnVzdGVkIGdldFRydXN0ZWR9IGZvciB0aGUgZnVuY3Rpb24gdGhhdCB3aWxsIGNvbnN1bWUgdGhvc2VcbiAgICAgKiB0cnVzdGVkIHZhbHVlcywgYW5kIHtAbGluayBuZy4kc2NlICRzY2V9IGZvciBnZW5lcmFsIGRvY3VtZW50YXRpb24gYWJvdXQgc3RyaWN0IGNvbnRleHR1YWxcbiAgICAgKiBlc2NhcGluZy5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSB0eXBlIFRoZSBjb250ZXh0IGluIHdoaWNoIHRoaXMgdmFsdWUgaXMgc2FmZSBmb3IgdXNlLCBlLmcuIGAkc2NlLlVSTGAsXG4gICAgICogICAgIGAkc2NlLlJFU09VUkNFX1VSTGAsIGAkc2NlLkhUTUxgLCBgJHNjZS5KU2Agb3IgYCRzY2UuQ1NTYC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRoYXQgc2hvdWxkIGJlIGNvbnNpZGVyZWQgdHJ1c3RlZC5cbiAgICAgKiBAcmV0dXJuIHsqfSBBIHRydXN0ZWQgcmVwcmVzZW50YXRpb24gb2YgdmFsdWUsIHRoYXQgY2FuIGJlIHVzZWQgaW4gdGhlIGdpdmVuIGNvbnRleHQuXG4gICAgICovXG4gICAgZnVuY3Rpb24gdHJ1c3RBcyh0eXBlLCB0cnVzdGVkVmFsdWUpIHtcbiAgICAgIHZhciBDb25zdHJ1Y3RvciA9IChieVR5cGUuaGFzT3duUHJvcGVydHkodHlwZSkgPyBieVR5cGVbdHlwZV0gOiBudWxsKTtcbiAgICAgIGlmICghQ29uc3RydWN0b3IpIHtcbiAgICAgICAgdGhyb3cgJHNjZU1pbkVycignaWNvbnRleHQnLFxuICAgICAgICAgICAgJ0F0dGVtcHRlZCB0byB0cnVzdCBhIHZhbHVlIGluIGludmFsaWQgY29udGV4dC4gQ29udGV4dDogezB9OyBWYWx1ZTogezF9JyxcbiAgICAgICAgICAgIHR5cGUsIHRydXN0ZWRWYWx1ZSk7XG4gICAgICB9XG4gICAgICBpZiAodHJ1c3RlZFZhbHVlID09PSBudWxsIHx8IGlzVW5kZWZpbmVkKHRydXN0ZWRWYWx1ZSkgfHwgdHJ1c3RlZFZhbHVlID09PSAnJykge1xuICAgICAgICByZXR1cm4gdHJ1c3RlZFZhbHVlO1xuICAgICAgfVxuICAgICAgLy8gQWxsIHRoZSBjdXJyZW50IGNvbnRleHRzIGluIFNDRV9DT05URVhUUyBoYXBwZW4gdG8gYmUgc3RyaW5ncy4gIEluIG9yZGVyIHRvIGF2b2lkIHRydXN0aW5nXG4gICAgICAvLyBtdXRhYmxlIG9iamVjdHMsIHdlIGVuc3VyZSBoZXJlIHRoYXQgdGhlIHZhbHVlIHBhc3NlZCBpbiBpcyBhY3R1YWxseSBhIHN0cmluZy5cbiAgICAgIGlmICh0eXBlb2YgdHJ1c3RlZFZhbHVlICE9PSAnc3RyaW5nJykge1xuICAgICAgICB0aHJvdyAkc2NlTWluRXJyKCdpdHlwZScsXG4gICAgICAgICAgICAnQXR0ZW1wdGVkIHRvIHRydXN0IGEgbm9uLXN0cmluZyB2YWx1ZSBpbiBhIGNvbnRlbnQgcmVxdWlyaW5nIGEgc3RyaW5nOiBDb250ZXh0OiB7MH0nLFxuICAgICAgICAgICAgdHlwZSk7XG4gICAgICB9XG4gICAgICByZXR1cm4gbmV3IENvbnN0cnVjdG9yKHRydXN0ZWRWYWx1ZSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQG5nZG9jIG1ldGhvZFxuICAgICAqIEBuYW1lICRzY2VEZWxlZ2F0ZSN2YWx1ZU9mXG4gICAgICpcbiAgICAgKiBAZGVzY3JpcHRpb25cbiAgICAgKiBJZiB0aGUgcGFzc2VkIHBhcmFtZXRlciBoYWQgYmVlbiByZXR1cm5lZCBieSBhIHByaW9yIGNhbGwgdG8ge0BsaW5rIG5nLiRzY2VEZWxlZ2F0ZSN0cnVzdEFzXG4gICAgICogYCRzY2VEZWxlZ2F0ZS50cnVzdEFzYH0sIHJldHVybnMgdGhlIHZhbHVlIHRoYXQgaGFkIGJlZW4gcGFzc2VkIHRvIHtAbGlua1xuICAgICAqIG5nLiRzY2VEZWxlZ2F0ZSN0cnVzdEFzIGAkc2NlRGVsZWdhdGUudHJ1c3RBc2B9LlxuICAgICAqXG4gICAgICogSWYgdGhlIHBhc3NlZCBwYXJhbWV0ZXIgaXMgbm90IGEgdmFsdWUgdGhhdCBoYWQgYmVlbiByZXR1cm5lZCBieSB7QGxpbmtcbiAgICAgKiBuZy4kc2NlRGVsZWdhdGUjdHJ1c3RBcyBgJHNjZURlbGVnYXRlLnRydXN0QXNgfSwgaXQgbXVzdCBiZSByZXR1cm5lZCBhcy1pcy5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHJlc3VsdCBvZiBhIHByaW9yIHtAbGluayBuZy4kc2NlRGVsZWdhdGUjdHJ1c3RBcyBgJHNjZURlbGVnYXRlLnRydXN0QXNgfVxuICAgICAqICAgICBjYWxsIG9yIGFueXRoaW5nIGVsc2UuXG4gICAgICogQHJldHVybiB7Kn0gVGhlIGB2YWx1ZWAgdGhhdCB3YXMgb3JpZ2luYWxseSBwcm92aWRlZCB0byB7QGxpbmsgbmcuJHNjZURlbGVnYXRlI3RydXN0QXNcbiAgICAgKiAgICAgYCRzY2VEZWxlZ2F0ZS50cnVzdEFzYH0gaWYgYHZhbHVlYCBpcyB0aGUgcmVzdWx0IG9mIHN1Y2ggYSBjYWxsLiAgT3RoZXJ3aXNlLCByZXR1cm5zXG4gICAgICogICAgIGB2YWx1ZWAgdW5jaGFuZ2VkLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHZhbHVlT2YobWF5YmVUcnVzdGVkKSB7XG4gICAgICBpZiAobWF5YmVUcnVzdGVkIGluc3RhbmNlb2YgdHJ1c3RlZFZhbHVlSG9sZGVyQmFzZSkge1xuICAgICAgICByZXR1cm4gbWF5YmVUcnVzdGVkLiQkdW53cmFwVHJ1c3RlZFZhbHVlKCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gbWF5YmVUcnVzdGVkO1xuICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEBuZ2RvYyBtZXRob2RcbiAgICAgKiBAbmFtZSAkc2NlRGVsZWdhdGUjZ2V0VHJ1c3RlZFxuICAgICAqXG4gICAgICogQGRlc2NyaXB0aW9uXG4gICAgICogVGFrZXMgYW55IGlucHV0LCBhbmQgZWl0aGVyIHJldHVybnMgYSB2YWx1ZSB0aGF0J3Mgc2FmZSB0byB1c2UgaW4gdGhlIHNwZWNpZmllZCBjb250ZXh0LCBvclxuICAgICAqIHRocm93cyBhbiBleGNlcHRpb24uXG4gICAgICpcbiAgICAgKiBJbiBwcmFjdGljZSwgdGhlcmUgYXJlIHNldmVyYWwgY2FzZXMuIFdoZW4gZ2l2ZW4gYSBzdHJpbmcsIHRoaXMgZnVuY3Rpb24gcnVucyBjaGVja3NcbiAgICAgKiBhbmQgc2FuaXRpemF0aW9uIHRvIG1ha2UgaXQgc2FmZSB3aXRob3V0IHByaW9yIGFzc3VtcHRpb25zLiBXaGVuIGdpdmVuIHRoZSByZXN1bHQgb2YgYSB7QGxpbmtcbiAgICAgKiBuZy4kc2NlRGVsZWdhdGUjdHJ1c3RBcyBgJHNjZURlbGVnYXRlLnRydXN0QXNgfSBjYWxsLCBpdCByZXR1cm5zIHRoZSBvcmlnaW5hbGx5IHN1cHBsaWVkXG4gICAgICogdmFsdWUgaWYgdGhhdCB2YWx1ZSdzIGNvbnRleHQgaXMgdmFsaWQgZm9yIHRoaXMgY2FsbCdzIGNvbnRleHQuIEZpbmFsbHksIHRoaXMgZnVuY3Rpb24gY2FuXG4gICAgICogYWxzbyB0aHJvdyB3aGVuIHRoZXJlIGlzIG5vIHdheSB0byB0dXJuIGBtYXliZVRydXN0ZWRgIGluIGEgc2FmZSB2YWx1ZSAoZS5nLiwgbm8gc2FuaXRpemF0aW9uXG4gICAgICogaXMgYXZhaWxhYmxlIG9yIHBvc3NpYmxlLilcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSB0eXBlIFRoZSBjb250ZXh0IGluIHdoaWNoIHRoaXMgdmFsdWUgaXMgdG8gYmUgdXNlZCAoc3VjaCBhcyBgJHNjZS5IVE1MYCkuXG4gICAgICogQHBhcmFtIHsqfSBtYXliZVRydXN0ZWQgVGhlIHJlc3VsdCBvZiBhIHByaW9yIHtAbGluayBuZy4kc2NlRGVsZWdhdGUjdHJ1c3RBc1xuICAgICAqICAgICBgJHNjZURlbGVnYXRlLnRydXN0QXNgfSBjYWxsLCBvciBhbnl0aGluZyBlbHNlICh3aGljaCB3aWxsIG5vdCBiZSBjb25zaWRlcmVkIHRydXN0ZWQuKVxuICAgICAqIEByZXR1cm4geyp9IEEgdmVyc2lvbiBvZiB0aGUgdmFsdWUgdGhhdCdzIHNhZmUgdG8gdXNlIGluIHRoZSBnaXZlbiBjb250ZXh0LCBvciB0aHJvd3MgYW5cbiAgICAgKiAgICAgZXhjZXB0aW9uIGlmIHRoaXMgaXMgaW1wb3NzaWJsZS5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBnZXRUcnVzdGVkKHR5cGUsIG1heWJlVHJ1c3RlZCkge1xuICAgICAgaWYgKG1heWJlVHJ1c3RlZCA9PT0gbnVsbCB8fCBpc1VuZGVmaW5lZChtYXliZVRydXN0ZWQpIHx8IG1heWJlVHJ1c3RlZCA9PT0gJycpIHtcbiAgICAgICAgcmV0dXJuIG1heWJlVHJ1c3RlZDtcbiAgICAgIH1cbiAgICAgIHZhciBjb25zdHJ1Y3RvciA9IChieVR5cGUuaGFzT3duUHJvcGVydHkodHlwZSkgPyBieVR5cGVbdHlwZV0gOiBudWxsKTtcbiAgICAgIC8vIElmIG1heWJlVHJ1c3RlZCBpcyBhIHRydXN0ZWQgY2xhc3MgaW5zdGFuY2Ugb3Igc3ViY2xhc3MgaW5zdGFuY2UsIHRoZW4gdW53cmFwIGFuZCByZXR1cm5cbiAgICAgIC8vIGFzLWlzLlxuICAgICAgaWYgKGNvbnN0cnVjdG9yICYmIG1heWJlVHJ1c3RlZCBpbnN0YW5jZW9mIGNvbnN0cnVjdG9yKSB7XG4gICAgICAgIHJldHVybiBtYXliZVRydXN0ZWQuJCR1bndyYXBUcnVzdGVkVmFsdWUoKTtcbiAgICAgIH1cbiAgICAgIC8vIE90aGVyd2lzZSwgaWYgd2UgZ2V0IGhlcmUsIHRoZW4gd2UgbWF5IGVpdGhlciBtYWtlIGl0IHNhZmUsIG9yIHRocm93IGFuIGV4Y2VwdGlvbi4gVGhpc1xuICAgICAgLy8gZGVwZW5kcyBvbiB0aGUgY29udGV4dDogc29tZSBhcmUgc2FuaXRpemF0aWJsZSAoSFRNTCksIHNvbWUgdXNlIHdoaXRlbGlzdHMgKFJFU09VUkNFX1VSTCksXG4gICAgICAvLyBzb21lIGFyZSBpbXBvc3NpYmxlIHRvIGRvIChKUykuIFRoaXMgc3RlcCBpc24ndCBpbXBsZW1lbnRlZCBmb3IgQ1NTIGFuZCBVUkwsIGFzIEFuZ3VsYXJKU1xuICAgICAgLy8gaGFzIG5vIGNvcnJlc3BvbmRpbmcgc2lua3MuXG4gICAgICBpZiAodHlwZSA9PT0gU0NFX0NPTlRFWFRTLlJFU09VUkNFX1VSTCkge1xuICAgICAgICAvLyBSRVNPVVJDRV9VUkwgdXNlcyBhIHdoaXRlbGlzdC5cbiAgICAgICAgaWYgKGlzUmVzb3VyY2VVcmxBbGxvd2VkQnlQb2xpY3kobWF5YmVUcnVzdGVkKSkge1xuICAgICAgICAgIHJldHVybiBtYXliZVRydXN0ZWQ7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdGhyb3cgJHNjZU1pbkVycignaW5zZWN1cmwnLFxuICAgICAgICAgICAgICAnQmxvY2tlZCBsb2FkaW5nIHJlc291cmNlIGZyb20gdXJsIG5vdCBhbGxvd2VkIGJ5ICRzY2VEZWxlZ2F0ZSBwb2xpY3kuICBVUkw6IHswfScsXG4gICAgICAgICAgICAgIG1heWJlVHJ1c3RlZC50b1N0cmluZygpKTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIGlmICh0eXBlID09PSBTQ0VfQ09OVEVYVFMuSFRNTCkge1xuICAgICAgICAvLyBodG1sU2FuaXRpemVyIHRocm93cyBpdHMgb3duIGVycm9yIHdoZW4gbm8gc2FuaXRpemVyIGlzIGF2YWlsYWJsZS5cbiAgICAgICAgcmV0dXJuIGh0bWxTYW5pdGl6ZXIobWF5YmVUcnVzdGVkKTtcbiAgICAgIH1cbiAgICAgIC8vIERlZmF1bHQgZXJyb3Igd2hlbiB0aGUgJHNjZSBzZXJ2aWNlIGhhcyBubyB3YXkgdG8gbWFrZSB0aGUgaW5wdXQgc2FmZS5cbiAgICAgIHRocm93ICRzY2VNaW5FcnIoJ3Vuc2FmZScsICdBdHRlbXB0aW5nIHRvIHVzZSBhbiB1bnNhZmUgdmFsdWUgaW4gYSBzYWZlIGNvbnRleHQuJyk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHsgdHJ1c3RBczogdHJ1c3RBcyxcbiAgICAgICAgICAgICBnZXRUcnVzdGVkOiBnZXRUcnVzdGVkLFxuICAgICAgICAgICAgIHZhbHVlT2Y6IHZhbHVlT2YgfTtcbiAgfV07XG59XG5cblxuLyoqXG4gKiBAbmdkb2MgcHJvdmlkZXJcbiAqIEBuYW1lICRzY2VQcm92aWRlclxuICogQHRoaXNcbiAqXG4gKiBAZGVzY3JpcHRpb25cbiAqXG4gKiBUaGUgJHNjZVByb3ZpZGVyIHByb3ZpZGVyIGFsbG93cyBkZXZlbG9wZXJzIHRvIGNvbmZpZ3VyZSB0aGUge0BsaW5rIG5nLiRzY2UgJHNjZX0gc2VydmljZS5cbiAqIC0gICBlbmFibGUvZGlzYWJsZSBTdHJpY3QgQ29udGV4dHVhbCBFc2NhcGluZyAoU0NFKSBpbiBhIG1vZHVsZVxuICogLSAgIG92ZXJyaWRlIHRoZSBkZWZhdWx0IGltcGxlbWVudGF0aW9uIHdpdGggYSBjdXN0b20gZGVsZWdhdGVcbiAqXG4gKiBSZWFkIG1vcmUgYWJvdXQge0BsaW5rIG5nLiRzY2UgU3RyaWN0IENvbnRleHR1YWwgRXNjYXBpbmcgKFNDRSl9LlxuICovXG5cbi8qKlxuICogQG5nZG9jIHNlcnZpY2VcbiAqIEBuYW1lICRzY2VcbiAqIEBraW5kIGZ1bmN0aW9uXG4gKlxuICogQGRlc2NyaXB0aW9uXG4gKlxuICogYCRzY2VgIGlzIGEgc2VydmljZSB0aGF0IHByb3ZpZGVzIFN0cmljdCBDb250ZXh0dWFsIEVzY2FwaW5nIHNlcnZpY2VzIHRvIEFuZ3VsYXJKUy5cbiAqXG4gKiAjIFN0cmljdCBDb250ZXh0dWFsIEVzY2FwaW5nXG4gKlxuICogU3RyaWN0IENvbnRleHR1YWwgRXNjYXBpbmcgKFNDRSkgaXMgYSBtb2RlIGluIHdoaWNoIEFuZ3VsYXJKUyBjb25zdHJhaW5zIGJpbmRpbmdzIHRvIG9ubHkgcmVuZGVyXG4gKiB0cnVzdGVkIHZhbHVlcy4gSXRzIGdvYWwgaXMgdG8gYXNzaXN0IGluIHdyaXRpbmcgY29kZSBpbiBhIHdheSB0aGF0IChhKSBpcyBzZWN1cmUgYnkgZGVmYXVsdCwgYW5kXG4gKiAoYikgbWFrZXMgYXVkaXRpbmcgZm9yIHNlY3VyaXR5IHZ1bG5lcmFiaWxpdGllcyBzdWNoIGFzIFhTUywgY2xpY2tqYWNraW5nLCBldGMuIGEgbG90IGVhc2llci5cbiAqXG4gKiAjIyBPdmVydmlld1xuICpcbiAqIFRvIHN5c3RlbWF0aWNhbGx5IGJsb2NrIFhTUyBzZWN1cml0eSBidWdzLCBBbmd1bGFySlMgdHJlYXRzIGFsbCB2YWx1ZXMgYXMgdW50cnVzdGVkIGJ5IGRlZmF1bHQgaW5cbiAqIEhUTUwgb3Igc2Vuc2l0aXZlIFVSTCBiaW5kaW5ncy4gV2hlbiBiaW5kaW5nIHVudHJ1c3RlZCB2YWx1ZXMsIEFuZ3VsYXJKUyB3aWxsIGF1dG9tYXRpY2FsbHlcbiAqIHJ1biBzZWN1cml0eSBjaGVja3Mgb24gdGhlbSAoc2FuaXRpemF0aW9ucywgd2hpdGVsaXN0cywgZGVwZW5kaW5nIG9uIGNvbnRleHQpLCBvciB0aHJvdyB3aGVuIGl0XG4gKiBjYW5ub3QgZ3VhcmFudGVlIHRoZSBzZWN1cml0eSBvZiB0aGUgcmVzdWx0LiBUaGF0IGJlaGF2aW9yIGRlcGVuZHMgc3Ryb25nbHkgb24gY29udGV4dHM6IEhUTUxcbiAqIGNhbiBiZSBzYW5pdGl6ZWQsIGJ1dCB0ZW1wbGF0ZSBVUkxzIGNhbm5vdCwgZm9yIGluc3RhbmNlLlxuICpcbiAqIFRvIGlsbHVzdHJhdGUgdGhpcywgY29uc2lkZXIgdGhlIGBuZy1iaW5kLWh0bWxgIGRpcmVjdGl2ZS4gSXQgcmVuZGVycyBpdHMgdmFsdWUgZGlyZWN0bHkgYXMgSFRNTDpcbiAqIHdlIGNhbGwgdGhhdCB0aGUgKmNvbnRleHQqLiBXaGVuIGdpdmVuIGFuIHVudHJ1c3RlZCBpbnB1dCwgQW5ndWxhckpTIHdpbGwgYXR0ZW1wdCB0byBzYW5pdGl6ZSBpdFxuICogYmVmb3JlIHJlbmRlcmluZyBpZiBhIHNhbml0aXplciBpcyBhdmFpbGFibGUsIGFuZCB0aHJvdyBvdGhlcndpc2UuIFRvIGJ5cGFzcyBzYW5pdGl6YXRpb24gYW5kXG4gKiByZW5kZXIgdGhlIGlucHV0IGFzLWlzLCB5b3Ugd2lsbCBuZWVkIHRvIG1hcmsgaXQgYXMgdHJ1c3RlZCBmb3IgdGhhdCBjb250ZXh0IGJlZm9yZSBhdHRlbXB0aW5nXG4gKiB0byBiaW5kIGl0LlxuICpcbiAqIEFzIG9mIHZlcnNpb24gMS4yLCBBbmd1bGFySlMgc2hpcHMgd2l0aCBTQ0UgZW5hYmxlZCBieSBkZWZhdWx0LlxuICpcbiAqICMjIEluIHByYWN0aWNlXG4gKlxuICogSGVyZSdzIGFuIGV4YW1wbGUgb2YgYSBiaW5kaW5nIGluIGEgcHJpdmlsZWdlZCBjb250ZXh0OlxuICpcbiAqIGBgYFxuICogPGlucHV0IG5nLW1vZGVsPVwidXNlckh0bWxcIiBhcmlhLWxhYmVsPVwiVXNlciBpbnB1dFwiPlxuICogPGRpdiBuZy1iaW5kLWh0bWw9XCJ1c2VySHRtbFwiPjwvZGl2PlxuICogYGBgXG4gKlxuICogTm90aWNlIHRoYXQgYG5nLWJpbmQtaHRtbGAgaXMgYm91bmQgdG8gYHVzZXJIdG1sYCBjb250cm9sbGVkIGJ5IHRoZSB1c2VyLiAgV2l0aCBTQ0VcbiAqIGRpc2FibGVkLCB0aGlzIGFwcGxpY2F0aW9uIGFsbG93cyB0aGUgdXNlciB0byByZW5kZXIgYXJiaXRyYXJ5IEhUTUwgaW50byB0aGUgRElWLCB3aGljaCB3b3VsZFxuICogYmUgYW4gWFNTIHNlY3VyaXR5IGJ1Zy4gSW4gYSBtb3JlIHJlYWxpc3RpYyBleGFtcGxlLCBvbmUgbWF5IGJlIHJlbmRlcmluZyB1c2VyIGNvbW1lbnRzLCBibG9nXG4gKiBhcnRpY2xlcywgZXRjLiB2aWEgYmluZGluZ3MuIChIVE1MIGlzIGp1c3Qgb25lIGV4YW1wbGUgb2YgYSBjb250ZXh0IHdoZXJlIHJlbmRlcmluZyB1c2VyXG4gKiBjb250cm9sbGVkIGlucHV0IGNyZWF0ZXMgc2VjdXJpdHkgdnVsbmVyYWJpbGl0aWVzLilcbiAqXG4gKiBGb3IgdGhlIGNhc2Ugb2YgSFRNTCwgeW91IG1pZ2h0IHVzZSBhIGxpYnJhcnksIGVpdGhlciBvbiB0aGUgY2xpZW50IHNpZGUsIG9yIG9uIHRoZSBzZXJ2ZXIgc2lkZSxcbiAqIHRvIHNhbml0aXplIHVuc2FmZSBIVE1MIGJlZm9yZSBiaW5kaW5nIHRvIHRoZSB2YWx1ZSBhbmQgcmVuZGVyaW5nIGl0IGluIHRoZSBkb2N1bWVudC5cbiAqXG4gKiBIb3cgd291bGQgeW91IGVuc3VyZSB0aGF0IGV2ZXJ5IHBsYWNlIHRoYXQgdXNlZCB0aGVzZSB0eXBlcyBvZiBiaW5kaW5ncyB3YXMgYm91bmQgdG8gYSB2YWx1ZSB0aGF0XG4gKiB3YXMgc2FuaXRpemVkIGJ5IHlvdXIgbGlicmFyeSAob3IgcmV0dXJuZWQgYXMgc2FmZSBmb3IgcmVuZGVyaW5nIGJ5IHlvdXIgc2VydmVyPykgIEhvdyBjYW4geW91XG4gKiBlbnN1cmUgdGhhdCB5b3UgZGlkbid0IGFjY2lkZW50YWxseSBkZWxldGUgdGhlIGxpbmUgdGhhdCBzYW5pdGl6ZWQgdGhlIHZhbHVlLCBvciByZW5hbWVkIHNvbWVcbiAqIHByb3BlcnRpZXMvZmllbGRzIGFuZCBmb3Jnb3QgdG8gdXBkYXRlIHRoZSBiaW5kaW5nIHRvIHRoZSBzYW5pdGl6ZWQgdmFsdWU/XG4gKlxuICogVG8gYmUgc2VjdXJlIGJ5IGRlZmF1bHQsIEFuZ3VsYXJKUyBtYWtlcyBzdXJlIGJpbmRpbmdzIGdvIHRocm91Z2ggdGhhdCBzYW5pdGl6YXRpb24sIG9yXG4gKiBhbnkgc2ltaWxhciB2YWxpZGF0aW9uIHByb2Nlc3MsIHVubGVzcyB0aGVyZSdzIGEgZ29vZCByZWFzb24gdG8gdHJ1c3QgdGhlIGdpdmVuIHZhbHVlIGluIHRoaXNcbiAqIGNvbnRleHQuICBUaGF0IHRydXN0IGlzIGZvcm1hbGl6ZWQgd2l0aCBhIGZ1bmN0aW9uIGNhbGwuIFRoaXMgbWVhbnMgdGhhdCBhcyBhIGRldmVsb3BlciwgeW91XG4gKiBjYW4gYXNzdW1lIGFsbCB1bnRydXN0ZWQgYmluZGluZ3MgYXJlIHNhZmUuIFRoZW4sIHRvIGF1ZGl0IHlvdXIgY29kZSBmb3IgYmluZGluZyBzZWN1cml0eSBpc3N1ZXMsXG4gKiB5b3UganVzdCBuZWVkIHRvIGVuc3VyZSB0aGUgdmFsdWVzIHlvdSBtYXJrIGFzIHRydXN0ZWQgaW5kZWVkIGFyZSBzYWZlIC0gYmVjYXVzZSB0aGV5IHdlcmVcbiAqIHJlY2VpdmVkIGZyb20geW91ciBzZXJ2ZXIsIHNhbml0aXplZCBieSB5b3VyIGxpYnJhcnksIGV0Yy4gWW91IGNhbiBvcmdhbml6ZSB5b3VyIGNvZGViYXNlIHRvXG4gKiBoZWxwIHdpdGggdGhpcyAtIHBlcmhhcHMgYWxsb3dpbmcgb25seSB0aGUgZmlsZXMgaW4gYSBzcGVjaWZpYyBkaXJlY3RvcnkgdG8gZG8gdGhpcy5cbiAqIEVuc3VyaW5nIHRoYXQgdGhlIGludGVybmFsIEFQSSBleHBvc2VkIGJ5IHRoYXQgY29kZSBkb2Vzbid0IG1hcmt1cCBhcmJpdHJhcnkgdmFsdWVzIGFzIHNhZmUgdGhlblxuICogYmVjb21lcyBhIG1vcmUgbWFuYWdlYWJsZSB0YXNrLlxuICpcbiAqIEluIHRoZSBjYXNlIG9mIEFuZ3VsYXJKUycgU0NFIHNlcnZpY2UsIG9uZSB1c2VzIHtAbGluayBuZy4kc2NlI3RydXN0QXMgJHNjZS50cnVzdEFzfVxuICogKGFuZCBzaG9ydGhhbmQgbWV0aG9kcyBzdWNoIGFzIHtAbGluayBuZy4kc2NlI3RydXN0QXNIdG1sICRzY2UudHJ1c3RBc0h0bWx9LCBldGMuKSB0b1xuICogYnVpbGQgdGhlIHRydXN0ZWQgdmVyc2lvbnMgb2YgeW91ciB2YWx1ZXMuXG4gKlxuICogIyMgSG93IGRvZXMgaXQgd29yaz9cbiAqXG4gKiBJbiBwcml2aWxlZ2VkIGNvbnRleHRzLCBkaXJlY3RpdmVzIGFuZCBjb2RlIHdpbGwgYmluZCB0byB0aGUgcmVzdWx0IG9mIHtAbGluayBuZy4kc2NlI2dldFRydXN0ZWRcbiAqICRzY2UuZ2V0VHJ1c3RlZChjb250ZXh0LCB2YWx1ZSl9IHJhdGhlciB0aGFuIHRvIHRoZSB2YWx1ZSBkaXJlY3RseS4gIFRoaW5rIG9mIHRoaXMgZnVuY3Rpb24gYXNcbiAqIGEgd2F5IHRvIGVuZm9yY2UgdGhlIHJlcXVpcmVkIHNlY3VyaXR5IGNvbnRleHQgaW4geW91ciBkYXRhIHNpbmsuIERpcmVjdGl2ZXMgdXNlIHtAbGlua1xuICogbmcuJHNjZSNwYXJzZUFzICRzY2UucGFyc2VBc30gcmF0aGVyIHRoYW4gYCRwYXJzZWAgdG8gd2F0Y2ggYXR0cmlidXRlIGJpbmRpbmdzLCB3aGljaCBwZXJmb3Jtc1xuICogdGhlIHtAbGluayBuZy4kc2NlI2dldFRydXN0ZWQgJHNjZS5nZXRUcnVzdGVkfSBiZWhpbmQgdGhlIHNjZW5lcyBvbiBub24tY29uc3RhbnQgbGl0ZXJhbHMuIEFsc28sXG4gKiB3aGVuIGJpbmRpbmcgd2l0aG91dCBkaXJlY3RpdmVzLCBBbmd1bGFySlMgd2lsbCB1bmRlcnN0YW5kIHRoZSBjb250ZXh0IG9mIHlvdXIgYmluZGluZ3NcbiAqIGF1dG9tYXRpY2FsbHkuXG4gKlxuICogQXMgYW4gZXhhbXBsZSwge0BsaW5rIG5nLmRpcmVjdGl2ZTpuZ0JpbmRIdG1sIG5nQmluZEh0bWx9IHVzZXMge0BsaW5rXG4gKiBuZy4kc2NlI3BhcnNlQXNIdG1sICRzY2UucGFyc2VBc0h0bWwoYmluZGluZyBleHByZXNzaW9uKX0uICBIZXJlJ3MgdGhlIGFjdHVhbCBjb2RlIChzbGlnaHRseVxuICogc2ltcGxpZmllZCk6XG4gKlxuICogYGBgXG4gKiB2YXIgbmdCaW5kSHRtbERpcmVjdGl2ZSA9IFsnJHNjZScsIGZ1bmN0aW9uKCRzY2UpIHtcbiAqICAgcmV0dXJuIGZ1bmN0aW9uKHNjb3BlLCBlbGVtZW50LCBhdHRyKSB7XG4gKiAgICAgc2NvcGUuJHdhdGNoKCRzY2UucGFyc2VBc0h0bWwoYXR0ci5uZ0JpbmRIdG1sKSwgZnVuY3Rpb24odmFsdWUpIHtcbiAqICAgICAgIGVsZW1lbnQuaHRtbCh2YWx1ZSB8fCAnJyk7XG4gKiAgICAgfSk7XG4gKiAgIH07XG4gKiB9XTtcbiAqIGBgYFxuICpcbiAqICMjIEltcGFjdCBvbiBsb2FkaW5nIHRlbXBsYXRlc1xuICpcbiAqIFRoaXMgYXBwbGllcyBib3RoIHRvIHRoZSB7QGxpbmsgbmcuZGlyZWN0aXZlOm5nSW5jbHVkZSBgbmctaW5jbHVkZWB9IGRpcmVjdGl2ZSBhcyB3ZWxsIGFzXG4gKiBgdGVtcGxhdGVVcmxgJ3Mgc3BlY2lmaWVkIGJ5IHtAbGluayBndWlkZS9kaXJlY3RpdmUgZGlyZWN0aXZlc30uXG4gKlxuICogQnkgZGVmYXVsdCwgQW5ndWxhciBvbmx5IGxvYWRzIHRlbXBsYXRlcyBmcm9tIHRoZSBzYW1lIGRvbWFpbiBhbmQgcHJvdG9jb2wgYXMgdGhlIGFwcGxpY2F0aW9uXG4gKiBkb2N1bWVudC4gIFRoaXMgaXMgZG9uZSBieSBjYWxsaW5nIHtAbGluayBuZy4kc2NlI2dldFRydXN0ZWRSZXNvdXJjZVVybFxuICogJHNjZS5nZXRUcnVzdGVkUmVzb3VyY2VVcmx9IG9uIHRoZSB0ZW1wbGF0ZSBVUkwuICBUbyBsb2FkIHRlbXBsYXRlcyBmcm9tIG90aGVyIGRvbWFpbnMgYW5kL29yXG4gKiBwcm90b2NvbHMsIHlvdSBtYXkgZWl0aGVyIHtAbGluayBuZy4kc2NlRGVsZWdhdGVQcm92aWRlciNyZXNvdXJjZVVybFdoaXRlbGlzdCB3aGl0ZWxpc3RcbiAqIHRoZW19IG9yIHtAbGluayBuZy4kc2NlI3RydXN0QXNSZXNvdXJjZVVybCB3cmFwIGl0fSBpbnRvIGEgdHJ1c3RlZCB2YWx1ZS5cbiAqXG4gKiAqUGxlYXNlIG5vdGUqOlxuICogVGhlIGJyb3dzZXInc1xuICogW1NhbWUgT3JpZ2luIFBvbGljeV0oaHR0cHM6Ly9jb2RlLmdvb2dsZS5jb20vcC9icm93c2Vyc2VjL3dpa2kvUGFydDIjU2FtZS1vcmlnaW5fcG9saWN5X2Zvcl9YTUxIdHRwUmVxdWVzdClcbiAqIGFuZCBbQ3Jvc3MtT3JpZ2luIFJlc291cmNlIFNoYXJpbmcgKENPUlMpXShodHRwOi8vd3d3LnczLm9yZy9UUi9jb3JzLylcbiAqIHBvbGljeSBhcHBseSBpbiBhZGRpdGlvbiB0byB0aGlzIGFuZCBtYXkgZnVydGhlciByZXN0cmljdCB3aGV0aGVyIHRoZSB0ZW1wbGF0ZSBpcyBzdWNjZXNzZnVsbHlcbiAqIGxvYWRlZC4gIFRoaXMgbWVhbnMgdGhhdCB3aXRob3V0IHRoZSByaWdodCBDT1JTIHBvbGljeSwgbG9hZGluZyB0ZW1wbGF0ZXMgZnJvbSBhIGRpZmZlcmVudCBkb21haW5cbiAqIHdvbid0IHdvcmsgb24gYWxsIGJyb3dzZXJzLiAgQWxzbywgbG9hZGluZyB0ZW1wbGF0ZXMgZnJvbSBgZmlsZTovL2AgVVJMIGRvZXMgbm90IHdvcmsgb24gc29tZVxuICogYnJvd3NlcnMuXG4gKlxuICogIyMgVGhpcyBmZWVscyBsaWtlIHRvbyBtdWNoIG92ZXJoZWFkXG4gKlxuICogSXQncyBpbXBvcnRhbnQgdG8gcmVtZW1iZXIgdGhhdCBTQ0Ugb25seSBhcHBsaWVzIHRvIGludGVycG9sYXRpb24gZXhwcmVzc2lvbnMuXG4gKlxuICogSWYgeW91ciBleHByZXNzaW9ucyBhcmUgY29uc3RhbnQgbGl0ZXJhbHMsIHRoZXkncmUgYXV0b21hdGljYWxseSB0cnVzdGVkIGFuZCB5b3UgZG9uJ3QgbmVlZCB0b1xuICogY2FsbCBgJHNjZS50cnVzdEFzYCBvbiB0aGVtIChlLmcuXG4gKiBgPGRpdiBuZy1iaW5kLWh0bWw9XCInPGI+aW1wbGljaXRseSB0cnVzdGVkPC9iPidcIj48L2Rpdj5gKSBqdXN0IHdvcmtzLiBUaGUgYCRzY2VEZWxlZ2F0ZWAgd2lsbFxuICogYWxzbyB1c2UgdGhlIGAkc2FuaXRpemVgIHNlcnZpY2UgaWYgaXQgaXMgYXZhaWxhYmxlIHdoZW4gYmluZGluZyB1bnRydXN0ZWQgdmFsdWVzIHRvXG4gKiBgJHNjZS5IVE1MYCBjb250ZXh0LiBBbmd1bGFySlMgcHJvdmlkZXMgYW4gaW1wbGVtZW50YXRpb24gaW4gYGFuZ3VsYXItc2FuaXRpemUuanNgLCBhbmQgaWYgeW91XG4gKiB3aXNoIHRvIHVzZSBpdCwgeW91IHdpbGwgYWxzbyBuZWVkIHRvIGRlcGVuZCBvbiB0aGUge0BsaW5rIG5nU2FuaXRpemUgYG5nU2FuaXRpemVgfSBtb2R1bGUgaW5cbiAqIHlvdXIgYXBwbGljYXRpb24uXG4gKlxuICogVGhlIGluY2x1ZGVkIHtAbGluayBuZy4kc2NlRGVsZWdhdGUgJHNjZURlbGVnYXRlfSBjb21lcyB3aXRoIHNhbmUgZGVmYXVsdHMgdG8gYWxsb3cgeW91IHRvIGxvYWRcbiAqIHRlbXBsYXRlcyBpbiBgbmctaW5jbHVkZWAgZnJvbSB5b3VyIGFwcGxpY2F0aW9uJ3MgZG9tYWluIHdpdGhvdXQgaGF2aW5nIHRvIGV2ZW4ga25vdyBhYm91dCBTQ0UuXG4gKiBJdCBibG9ja3MgbG9hZGluZyB0ZW1wbGF0ZXMgZnJvbSBvdGhlciBkb21haW5zIG9yIGxvYWRpbmcgdGVtcGxhdGVzIG92ZXIgaHR0cCBmcm9tIGFuIGh0dHBzXG4gKiBzZXJ2ZWQgZG9jdW1lbnQuICBZb3UgY2FuIGNoYW5nZSB0aGVzZSBieSBzZXR0aW5nIHlvdXIgb3duIGN1c3RvbSB7QGxpbmtcbiAqIG5nLiRzY2VEZWxlZ2F0ZVByb3ZpZGVyI3Jlc291cmNlVXJsV2hpdGVsaXN0IHdoaXRlbGlzdHN9IGFuZCB7QGxpbmtcbiAqIG5nLiRzY2VEZWxlZ2F0ZVByb3ZpZGVyI3Jlc291cmNlVXJsQmxhY2tsaXN0IGJsYWNrbGlzdHN9IGZvciBtYXRjaGluZyBzdWNoIFVSTHMuXG4gKlxuICogVGhpcyBzaWduaWZpY2FudGx5IHJlZHVjZXMgdGhlIG92ZXJoZWFkLiAgSXQgaXMgZmFyIGVhc2llciB0byBwYXkgdGhlIHNtYWxsIG92ZXJoZWFkIGFuZCBoYXZlIGFuXG4gKiBhcHBsaWNhdGlvbiB0aGF0J3Mgc2VjdXJlIGFuZCBjYW4gYmUgYXVkaXRlZCB0byB2ZXJpZnkgdGhhdCB3aXRoIG11Y2ggbW9yZSBlYXNlIHRoYW4gYm9sdGluZ1xuICogc2VjdXJpdHkgb250byBhbiBhcHBsaWNhdGlvbiBsYXRlci5cbiAqXG4gKiA8YSBuYW1lPVwiY29udGV4dHNcIj48L2E+XG4gKiAjIyBXaGF0IHRydXN0ZWQgY29udGV4dCB0eXBlcyBhcmUgc3VwcG9ydGVkP1xuICpcbiAqIHwgQ29udGV4dCAgICAgICAgICAgICB8IE5vdGVzICAgICAgICAgIHxcbiAqIHwtLS0tLS0tLS0tLS0tLS0tLS0tLS18LS0tLS0tLS0tLS0tLS0tLXxcbiAqIHwgYCRzY2UuSFRNTGAgICAgICAgICB8IEZvciBIVE1MIHRoYXQncyBzYWZlIHRvIHNvdXJjZSBpbnRvIHRoZSBhcHBsaWNhdGlvbi4gIFRoZSB7QGxpbmsgbmcuZGlyZWN0aXZlOm5nQmluZEh0bWwgbmdCaW5kSHRtbH0gZGlyZWN0aXZlIHVzZXMgdGhpcyBjb250ZXh0IGZvciBiaW5kaW5ncy4gSWYgYW4gdW5zYWZlIHZhbHVlIGlzIGVuY291bnRlcmVkLCBhbmQgdGhlIHtAbGluayBuZ1Nhbml0aXplLiRzYW5pdGl6ZSAkc2FuaXRpemV9IHNlcnZpY2UgaXMgYXZhaWxhYmxlIChpbXBsZW1lbnRlZCBieSB0aGUge0BsaW5rIG5nU2FuaXRpemUgbmdTYW5pdGl6ZX0gbW9kdWxlKSB0aGlzIHdpbGwgc2FuaXRpemUgdGhlIHZhbHVlIGluc3RlYWQgb2YgdGhyb3dpbmcgYW4gZXJyb3IuIHxcbiAqIHwgYCRzY2UuQ1NTYCAgICAgICAgICB8IEZvciBDU1MgdGhhdCdzIHNhZmUgdG8gc291cmNlIGludG8gdGhlIGFwcGxpY2F0aW9uLiAgQ3VycmVudGx5LCBubyBiaW5kaW5ncyByZXF1aXJlIHRoaXMgY29udGV4dC4gRmVlbCBmcmVlIHRvIHVzZSBpdCBpbiB5b3VyIG93biBkaXJlY3RpdmVzLiB8XG4gKiB8IGAkc2NlLlVSTGAgICAgICAgICAgfCBGb3IgVVJMcyB0aGF0IGFyZSBzYWZlIHRvIGZvbGxvdyBhcyBsaW5rcy4gIEN1cnJlbnRseSB1bnVzZWQgKGA8YSBocmVmPWAsIGA8aW1nIHNyYz1gLCBhbmQgc29tZSBvdGhlcnMgc2FuaXRpemUgdGhlaXIgdXJscyBhbmQgZG9uJ3QgY29uc3RpdHV0ZSBhbiBTQ0UgY29udGV4dC4pIHxcbiAqIHwgYCRzY2UuUkVTT1VSQ0VfVVJMYCB8IEZvciBVUkxzIHRoYXQgYXJlIG5vdCBvbmx5IHNhZmUgdG8gZm9sbG93IGFzIGxpbmtzLCBidXQgd2hvc2UgY29udGVudHMgYXJlIGFsc28gc2FmZSB0byBpbmNsdWRlIGluIHlvdXIgYXBwbGljYXRpb24uICBFeGFtcGxlcyBpbmNsdWRlIGBuZy1pbmNsdWRlYCwgYHNyY2AgLyBgbmdTcmNgIGJpbmRpbmdzIGZvciB0YWdzIG90aGVyIHRoYW4gYElNR2AsIGBWSURFT2AsIGBBVURJT2AsIGBTT1VSQ0VgLCBhbmQgYFRSQUNLYCAoZS5nLiBgSUZSQU1FYCwgYE9CSkVDVGAsIGV0Yy4pICA8YnI+PGJyPk5vdGUgdGhhdCBgJHNjZS5SRVNPVVJDRV9VUkxgIG1ha2VzIGEgc3Ryb25nZXIgc3RhdGVtZW50IGFib3V0IHRoZSBVUkwgdGhhbiBgJHNjZS5VUkxgIGRvZXMgKGl0J3Mgbm90IGp1c3QgdGhlIFVSTCB0aGF0IG1hdHRlcnMsIGJ1dCBhbHNvIHdoYXQgaXMgYXQgdGhlIGVuZCBvZiBpdCksIGFuZCB0aGVyZWZvcmUgY29udGV4dHMgcmVxdWlyaW5nIHZhbHVlcyB0cnVzdGVkIGZvciBgJHNjZS5SRVNPVVJDRV9VUkxgIGNhbiBiZSB1c2VkIGFueXdoZXJlIHRoYXQgdmFsdWVzIHRydXN0ZWQgZm9yIGAkc2NlLlVSTGAgYXJlIHJlcXVpcmVkLiB8XG4gKiB8IGAkc2NlLkpTYCAgICAgICAgICAgfCBGb3IgSmF2YVNjcmlwdCB0aGF0IGlzIHNhZmUgdG8gZXhlY3V0ZSBpbiB5b3VyIGFwcGxpY2F0aW9uJ3MgY29udGV4dC4gIEN1cnJlbnRseSwgbm8gYmluZGluZ3MgcmVxdWlyZSB0aGlzIGNvbnRleHQuICBGZWVsIGZyZWUgdG8gdXNlIGl0IGluIHlvdXIgb3duIGRpcmVjdGl2ZXMuIHxcbiAqXG4gKlxuICogQmUgYXdhcmUgdGhhdCBgYVtocmVmXWAgYW5kIGBpbWdbc3JjXWAgYXV0b21hdGljYWxseSBzYW5pdGl6ZSB0aGVpciBVUkxzIGFuZCBkbyBub3QgcGFzcyB0aGVtXG4gKiB0aHJvdWdoIHtAbGluayBuZy4kc2NlI2dldFRydXN0ZWQgJHNjZS5nZXRUcnVzdGVkfS4gVGhlcmUncyBubyBDU1MtLCBVUkwtLCBvciBKUy1jb250ZXh0IGJpbmRpbmdzXG4gKiBpbiBBbmd1bGFySlMgY3VycmVudGx5LCBzbyB0aGVpciBjb3JyZXNwb25kaW5nIGAkc2NlLnRydXN0QXNgIGZ1bmN0aW9ucyBhcmVuJ3QgdXNlZnVsIHlldC4gVGhpc1xuICogbWlnaHQgZXZvbHZlLlxuICpcbiAqICMjIEZvcm1hdCBvZiBpdGVtcyBpbiB7QGxpbmsgbmcuJHNjZURlbGVnYXRlUHJvdmlkZXIjcmVzb3VyY2VVcmxXaGl0ZWxpc3QgcmVzb3VyY2VVcmxXaGl0ZWxpc3R9L3tAbGluayBuZy4kc2NlRGVsZWdhdGVQcm92aWRlciNyZXNvdXJjZVVybEJsYWNrbGlzdCBCbGFja2xpc3R9IDxhIG5hbWU9XCJyZXNvdXJjZVVybFBhdHRlcm5JdGVtXCI+PC9hPlxuICpcbiAqICBFYWNoIGVsZW1lbnQgaW4gdGhlc2UgYXJyYXlzIG11c3QgYmUgb25lIG9mIHRoZSBmb2xsb3dpbmc6XG4gKlxuICogIC0gKionc2VsZicqKlxuICogICAgLSBUaGUgc3BlY2lhbCAqKnN0cmluZyoqLCBgJ3NlbGYnYCwgY2FuIGJlIHVzZWQgdG8gbWF0Y2ggYWdhaW5zdCBhbGwgVVJMcyBvZiB0aGUgKipzYW1lXG4gKiAgICAgIGRvbWFpbioqIGFzIHRoZSBhcHBsaWNhdGlvbiBkb2N1bWVudCB1c2luZyB0aGUgKipzYW1lIHByb3RvY29sKiouXG4gKiAgLSAqKlN0cmluZyoqIChleGNlcHQgdGhlIHNwZWNpYWwgdmFsdWUgYCdzZWxmJ2ApXG4gKiAgICAtIFRoZSBzdHJpbmcgaXMgbWF0Y2hlZCBhZ2FpbnN0IHRoZSBmdWxsICpub3JtYWxpemVkIC8gYWJzb2x1dGUgVVJMKiBvZiB0aGUgcmVzb3VyY2VcbiAqICAgICAgYmVpbmcgdGVzdGVkIChzdWJzdHJpbmcgbWF0Y2hlcyBhcmUgbm90IGdvb2QgZW5vdWdoLilcbiAqICAgIC0gVGhlcmUgYXJlIGV4YWN0bHkgKip0d28gd2lsZGNhcmQgc2VxdWVuY2VzKiogLSBgKmAgYW5kIGAqKmAuICBBbGwgb3RoZXIgY2hhcmFjdGVyc1xuICogICAgICBtYXRjaCB0aGVtc2VsdmVzLlxuICogICAgLSBgKmA6IG1hdGNoZXMgemVybyBvciBtb3JlIG9jY3VycmVuY2VzIG9mIGFueSBjaGFyYWN0ZXIgb3RoZXIgdGhhbiBvbmUgb2YgdGhlIGZvbGxvd2luZyA2XG4gKiAgICAgIGNoYXJhY3RlcnM6ICdgOmAnLCAnYC9gJywgJ2AuYCcsICdgP2AnLCAnYCZgJyBhbmQgJ2A7YCcuICBJdCdzIGEgdXNlZnVsIHdpbGRjYXJkIGZvciB1c2VcbiAqICAgICAgaW4gYSB3aGl0ZWxpc3QuXG4gKiAgICAtIGAqKmA6IG1hdGNoZXMgemVybyBvciBtb3JlIG9jY3VycmVuY2VzIG9mICphbnkqIGNoYXJhY3Rlci4gIEFzIHN1Y2gsIGl0J3Mgbm90XG4gKiAgICAgIGFwcHJvcHJpYXRlIGZvciB1c2UgaW4gYSBzY2hlbWUsIGRvbWFpbiwgZXRjLiBhcyBpdCB3b3VsZCBtYXRjaCB0b28gbXVjaC4gIChlLmcuXG4gKiAgICAgIGh0dHA6Ly8qKi5leGFtcGxlLmNvbS8gd291bGQgbWF0Y2ggaHR0cDovL2V2aWwuY29tLz9pZ25vcmU9LmV4YW1wbGUuY29tLyBhbmQgdGhhdCBtaWdodFxuICogICAgICBub3QgaGF2ZSBiZWVuIHRoZSBpbnRlbnRpb24uKSAgSXRzIHVzYWdlIGF0IHRoZSB2ZXJ5IGVuZCBvZiB0aGUgcGF0aCBpcyBvay4gIChlLmcuXG4gKiAgICAgIGh0dHA6Ly9mb28uZXhhbXBsZS5jb20vdGVtcGxhdGVzLyoqKS5cbiAqICAtICoqUmVnRXhwKiogKCpzZWUgY2F2ZWF0IGJlbG93KilcbiAqICAgIC0gKkNhdmVhdCo6ICBXaGlsZSByZWd1bGFyIGV4cHJlc3Npb25zIGFyZSBwb3dlcmZ1bCBhbmQgb2ZmZXIgZ3JlYXQgZmxleGliaWxpdHksICB0aGVpciBzeW50YXhcbiAqICAgICAgKGFuZCBhbGwgdGhlIGluZXZpdGFibGUgZXNjYXBpbmcpIG1ha2VzIHRoZW0gKmhhcmRlciB0byBtYWludGFpbiouICBJdCdzIGVhc3kgdG9cbiAqICAgICAgYWNjaWRlbnRhbGx5IGludHJvZHVjZSBhIGJ1ZyB3aGVuIG9uZSB1cGRhdGVzIGEgY29tcGxleCBleHByZXNzaW9uIChpbWhvLCBhbGwgcmVnZXhlcyBzaG91bGRcbiAqICAgICAgaGF2ZSBnb29kIHRlc3QgY292ZXJhZ2UpLiAgRm9yIGluc3RhbmNlLCB0aGUgdXNlIG9mIGAuYCBpbiB0aGUgcmVnZXggaXMgY29ycmVjdCBvbmx5IGluIGFcbiAqICAgICAgc21hbGwgbnVtYmVyIG9mIGNhc2VzLiAgQSBgLmAgY2hhcmFjdGVyIGluIHRoZSByZWdleCB1c2VkIHdoZW4gbWF0Y2hpbmcgdGhlIHNjaGVtZSBvciBhXG4gKiAgICAgIHN1YmRvbWFpbiBjb3VsZCBiZSBtYXRjaGVkIGFnYWluc3QgYSBgOmAgb3IgbGl0ZXJhbCBgLmAgdGhhdCB3YXMgbGlrZWx5IG5vdCBpbnRlbmRlZC4gICBJdFxuICogICAgICBpcyBoaWdobHkgcmVjb21tZW5kZWQgdG8gdXNlIHRoZSBzdHJpbmcgcGF0dGVybnMgYW5kIG9ubHkgZmFsbCBiYWNrIHRvIHJlZ3VsYXIgZXhwcmVzc2lvbnNcbiAqICAgICAgYXMgYSBsYXN0IHJlc29ydC5cbiAqICAgIC0gVGhlIHJlZ3VsYXIgZXhwcmVzc2lvbiBtdXN0IGJlIGFuIGluc3RhbmNlIG9mIFJlZ0V4cCAoaS5lLiBub3QgYSBzdHJpbmcuKSAgSXQgaXNcbiAqICAgICAgbWF0Y2hlZCBhZ2FpbnN0IHRoZSAqKmVudGlyZSoqICpub3JtYWxpemVkIC8gYWJzb2x1dGUgVVJMKiBvZiB0aGUgcmVzb3VyY2UgYmVpbmcgdGVzdGVkXG4gKiAgICAgIChldmVuIHdoZW4gdGhlIFJlZ0V4cCBkaWQgbm90IGhhdmUgdGhlIGBeYCBhbmQgYCRgIGNvZGVzLikgIEluIGFkZGl0aW9uLCBhbnkgZmxhZ3NcbiAqICAgICAgcHJlc2VudCBvbiB0aGUgUmVnRXhwIChzdWNoIGFzIG11bHRpbGluZSwgZ2xvYmFsLCBpZ25vcmVDYXNlKSBhcmUgaWdub3JlZC5cbiAqICAgIC0gSWYgeW91IGFyZSBnZW5lcmF0aW5nIHlvdXIgSmF2YVNjcmlwdCBmcm9tIHNvbWUgb3RoZXIgdGVtcGxhdGluZyBlbmdpbmUgKG5vdFxuICogICAgICByZWNvbW1lbmRlZCwgZS5nLiBpbiBpc3N1ZSBbIzQwMDZdKGh0dHBzOi8vZ2l0aHViLmNvbS9hbmd1bGFyL2FuZ3VsYXIuanMvaXNzdWVzLzQwMDYpKSxcbiAqICAgICAgcmVtZW1iZXIgdG8gZXNjYXBlIHlvdXIgcmVndWxhciBleHByZXNzaW9uIChhbmQgYmUgYXdhcmUgdGhhdCB5b3UgbWlnaHQgbmVlZCBtb3JlIHRoYW5cbiAqICAgICAgb25lIGxldmVsIG9mIGVzY2FwaW5nIGRlcGVuZGluZyBvbiB5b3VyIHRlbXBsYXRpbmcgZW5naW5lIGFuZCB0aGUgd2F5IHlvdSBpbnRlcnBvbGF0ZWRcbiAqICAgICAgdGhlIHZhbHVlLikgIERvIG1ha2UgdXNlIG9mIHlvdXIgcGxhdGZvcm0ncyBlc2NhcGluZyBtZWNoYW5pc20gYXMgaXQgbWlnaHQgYmUgZ29vZFxuICogICAgICBlbm91Z2ggYmVmb3JlIGNvZGluZyB5b3VyIG93bi4gIEUuZy4gUnVieSBoYXNcbiAqICAgICAgW1JlZ2V4cC5lc2NhcGUoc3RyKV0oaHR0cDovL3d3dy5ydWJ5LWRvYy5vcmcvY29yZS0yLjAuMC9SZWdleHAuaHRtbCNtZXRob2QtYy1lc2NhcGUpXG4gKiAgICAgIGFuZCBQeXRob24gaGFzIFtyZS5lc2NhcGVdKGh0dHA6Ly9kb2NzLnB5dGhvbi5vcmcvbGlicmFyeS9yZS5odG1sI3JlLmVzY2FwZSkuXG4gKiAgICAgIEphdmFzY3JpcHQgbGFja3MgYSBzaW1pbGFyIGJ1aWx0IGluIGZ1bmN0aW9uIGZvciBlc2NhcGluZy4gIFRha2UgYSBsb29rIGF0IEdvb2dsZVxuICogICAgICBDbG9zdXJlIGxpYnJhcnkncyBbZ29vZy5zdHJpbmcucmVnRXhwRXNjYXBlKHMpXShcbiAqICAgICAgaHR0cDovL2RvY3MuY2xvc3VyZS1saWJyYXJ5Lmdvb2dsZWNvZGUuY29tL2dpdC9jbG9zdXJlX2dvb2dfc3RyaW5nX3N0cmluZy5qcy5zb3VyY2UuaHRtbCNsaW5lOTYyKS5cbiAqXG4gKiBSZWZlciB7QGxpbmsgbmcuJHNjZURlbGVnYXRlUHJvdmlkZXIgJHNjZURlbGVnYXRlUHJvdmlkZXJ9IGZvciBhbiBleGFtcGxlLlxuICpcbiAqICMjIFNob3cgbWUgYW4gZXhhbXBsZSB1c2luZyBTQ0UuXG4gKlxuICogPGV4YW1wbGUgbW9kdWxlPVwibXlTY2VBcHBcIiBkZXBzPVwiYW5ndWxhci1zYW5pdGl6ZS5qc1wiIG5hbWU9XCJzY2Utc2VydmljZVwiPlxuICogPGZpbGUgbmFtZT1cImluZGV4Lmh0bWxcIj5cbiAqICAgPGRpdiBuZy1jb250cm9sbGVyPVwiQXBwQ29udHJvbGxlciBhcyBteUN0cmxcIj5cbiAqICAgICA8aSBuZy1iaW5kLWh0bWw9XCJteUN0cmwuZXhwbGljaXRseVRydXN0ZWRIdG1sXCIgaWQ9XCJleHBsaWNpdGx5VHJ1c3RlZEh0bWxcIj48L2k+PGJyPjxicj5cbiAqICAgICA8Yj5Vc2VyIGNvbW1lbnRzPC9iPjxicj5cbiAqICAgICBCeSBkZWZhdWx0LCBIVE1MIHRoYXQgaXNuJ3QgZXhwbGljaXRseSB0cnVzdGVkIChlLmcuIEFsaWNlJ3MgY29tbWVudCkgaXMgc2FuaXRpemVkIHdoZW5cbiAqICAgICAkc2FuaXRpemUgaXMgYXZhaWxhYmxlLiAgSWYgJHNhbml0aXplIGlzbid0IGF2YWlsYWJsZSwgdGhpcyByZXN1bHRzIGluIGFuIGVycm9yIGluc3RlYWQgb2YgYW5cbiAqICAgICBleHBsb2l0LlxuICogICAgIDxkaXYgY2xhc3M9XCJ3ZWxsXCI+XG4gKiAgICAgICA8ZGl2IG5nLXJlcGVhdD1cInVzZXJDb21tZW50IGluIG15Q3RybC51c2VyQ29tbWVudHNcIj5cbiAqICAgICAgICAgPGI+e3t1c2VyQ29tbWVudC5uYW1lfX08L2I+OlxuICogICAgICAgICA8c3BhbiBuZy1iaW5kLWh0bWw9XCJ1c2VyQ29tbWVudC5odG1sQ29tbWVudFwiIGNsYXNzPVwiaHRtbENvbW1lbnRcIj48L3NwYW4+XG4gKiAgICAgICAgIDxicj5cbiAqICAgICAgIDwvZGl2PlxuICogICAgIDwvZGl2PlxuICogICA8L2Rpdj5cbiAqIDwvZmlsZT5cbiAqXG4gKiA8ZmlsZSBuYW1lPVwic2NyaXB0LmpzXCI+XG4gKiAgIGFuZ3VsYXIubW9kdWxlKCdteVNjZUFwcCcsIFsnbmdTYW5pdGl6ZSddKVxuICogICAgIC5jb250cm9sbGVyKCdBcHBDb250cm9sbGVyJywgWyckaHR0cCcsICckdGVtcGxhdGVDYWNoZScsICckc2NlJyxcbiAqICAgICAgIGZ1bmN0aW9uIEFwcENvbnRyb2xsZXIoJGh0dHAsICR0ZW1wbGF0ZUNhY2hlLCAkc2NlKSB7XG4gKiAgICAgICAgIHZhciBzZWxmID0gdGhpcztcbiAqICAgICAgICAgJGh0dHAuZ2V0KCd0ZXN0X2RhdGEuanNvbicsIHtjYWNoZTogJHRlbXBsYXRlQ2FjaGV9KS50aGVuKGZ1bmN0aW9uKHJlc3BvbnNlKSB7XG4gKiAgICAgICAgICAgc2VsZi51c2VyQ29tbWVudHMgPSByZXNwb25zZS5kYXRhO1xuICogICAgICAgICB9KTtcbiAqICAgICAgICAgc2VsZi5leHBsaWNpdGx5VHJ1c3RlZEh0bWwgPSAkc2NlLnRydXN0QXNIdG1sKFxuICogICAgICAgICAgICAgJzxzcGFuIG9ubW91c2VvdmVyPVwidGhpcy50ZXh0Q29udGVudD0mcXVvdDtFeHBsaWNpdGx5IHRydXN0ZWQgSFRNTCBieXBhc3NlcyAnICtcbiAqICAgICAgICAgICAgICdzYW5pdGl6YXRpb24uJnF1b3Q7XCI+SG92ZXIgb3ZlciB0aGlzIHRleHQuPC9zcGFuPicpO1xuICogICAgICAgfV0pO1xuICogPC9maWxlPlxuICpcbiAqIDxmaWxlIG5hbWU9XCJ0ZXN0X2RhdGEuanNvblwiPlxuICogW1xuICogICB7IFwibmFtZVwiOiBcIkFsaWNlXCIsXG4gKiAgICAgXCJodG1sQ29tbWVudFwiOlxuICogICAgICAgICBcIjxzcGFuIG9ubW91c2VvdmVyPSd0aGlzLnRleHRDb250ZW50PVxcXCJQV04zRCFcXFwiJz5JcyA8aT5hbnlvbmU8L2k+IHJlYWRpbmcgdGhpcz88L3NwYW4+XCJcbiAqICAgfSxcbiAqICAgeyBcIm5hbWVcIjogXCJCb2JcIixcbiAqICAgICBcImh0bWxDb21tZW50XCI6IFwiPGk+WWVzITwvaT4gIEFtIEkgdGhlIG9ubHkgb3RoZXIgb25lP1wiXG4gKiAgIH1cbiAqIF1cbiAqIDwvZmlsZT5cbiAqXG4gKiA8ZmlsZSBuYW1lPVwicHJvdHJhY3Rvci5qc1wiIHR5cGU9XCJwcm90cmFjdG9yXCI+XG4gKiAgIGRlc2NyaWJlKCdTQ0UgZG9jIGRlbW8nLCBmdW5jdGlvbigpIHtcbiAqICAgICBpdCgnc2hvdWxkIHNhbml0aXplIHVudHJ1c3RlZCB2YWx1ZXMnLCBmdW5jdGlvbigpIHtcbiAqICAgICAgIGV4cGVjdChlbGVtZW50LmFsbChieS5jc3MoJy5odG1sQ29tbWVudCcpKS5maXJzdCgpLmdldEF0dHJpYnV0ZSgnaW5uZXJIVE1MJykpXG4gKiAgICAgICAgICAgLnRvQmUoJzxzcGFuPklzIDxpPmFueW9uZTwvaT4gcmVhZGluZyB0aGlzPzwvc3Bhbj4nKTtcbiAqICAgICB9KTtcbiAqXG4gKiAgICAgaXQoJ3Nob3VsZCBOT1Qgc2FuaXRpemUgZXhwbGljaXRseSB0cnVzdGVkIHZhbHVlcycsIGZ1bmN0aW9uKCkge1xuICogICAgICAgZXhwZWN0KGVsZW1lbnQoYnkuaWQoJ2V4cGxpY2l0bHlUcnVzdGVkSHRtbCcpKS5nZXRBdHRyaWJ1dGUoJ2lubmVySFRNTCcpKS50b0JlKFxuICogICAgICAgICAgICc8c3BhbiBvbm1vdXNlb3Zlcj1cInRoaXMudGV4dENvbnRlbnQ9JnF1b3Q7RXhwbGljaXRseSB0cnVzdGVkIEhUTUwgYnlwYXNzZXMgJyArXG4gKiAgICAgICAgICAgJ3Nhbml0aXphdGlvbi4mcXVvdDtcIj5Ib3ZlciBvdmVyIHRoaXMgdGV4dC48L3NwYW4+Jyk7XG4gKiAgICAgfSk7XG4gKiAgIH0pO1xuICogPC9maWxlPlxuICogPC9leGFtcGxlPlxuICpcbiAqXG4gKlxuICogIyMgQ2FuIEkgZGlzYWJsZSBTQ0UgY29tcGxldGVseT9cbiAqXG4gKiBZZXMsIHlvdSBjYW4uICBIb3dldmVyLCB0aGlzIGlzIHN0cm9uZ2x5IGRpc2NvdXJhZ2VkLiAgU0NFIGdpdmVzIHlvdSBhIGxvdCBvZiBzZWN1cml0eSBiZW5lZml0c1xuICogZm9yIGxpdHRsZSBjb2Rpbmcgb3ZlcmhlYWQuICBJdCB3aWxsIGJlIG11Y2ggaGFyZGVyIHRvIHRha2UgYW4gU0NFIGRpc2FibGVkIGFwcGxpY2F0aW9uIGFuZFxuICogZWl0aGVyIHNlY3VyZSBpdCBvbiB5b3VyIG93biBvciBlbmFibGUgU0NFIGF0IGEgbGF0ZXIgc3RhZ2UuICBJdCBtaWdodCBtYWtlIHNlbnNlIHRvIGRpc2FibGUgU0NFXG4gKiBmb3IgY2FzZXMgd2hlcmUgeW91IGhhdmUgYSBsb3Qgb2YgZXhpc3RpbmcgY29kZSB0aGF0IHdhcyB3cml0dGVuIGJlZm9yZSBTQ0Ugd2FzIGludHJvZHVjZWQgYW5kXG4gKiB5b3UncmUgbWlncmF0aW5nIHRoZW0gYSBtb2R1bGUgYXQgYSB0aW1lLiBBbHNvIGRvIG5vdGUgdGhhdCB0aGlzIGlzIGFuIGFwcC13aWRlIHNldHRpbmcsIHNvIGlmXG4gKiB5b3UgYXJlIHdyaXRpbmcgYSBsaWJyYXJ5LCB5b3Ugd2lsbCBjYXVzZSBzZWN1cml0eSBidWdzIGFwcGxpY2F0aW9ucyB1c2luZyBpdC5cbiAqXG4gKiBUaGF0IHNhaWQsIGhlcmUncyBob3cgeW91IGNhbiBjb21wbGV0ZWx5IGRpc2FibGUgU0NFOlxuICpcbiAqIGBgYFxuICogYW5ndWxhci5tb2R1bGUoJ215QXBwV2l0aFNjZURpc2FibGVkbXlBcHAnLCBbXSkuY29uZmlnKGZ1bmN0aW9uKCRzY2VQcm92aWRlcikge1xuICogICAvLyBDb21wbGV0ZWx5IGRpc2FibGUgU0NFLiAgRm9yIGRlbW9uc3RyYXRpb24gcHVycG9zZXMgb25seSFcbiAqICAgLy8gRG8gbm90IHVzZSBpbiBuZXcgcHJvamVjdHMgb3IgbGlicmFyaWVzLlxuICogICAkc2NlUHJvdmlkZXIuZW5hYmxlZChmYWxzZSk7XG4gKiB9KTtcbiAqIGBgYFxuICpcbiAqL1xuXG5mdW5jdGlvbiAkU2NlUHJvdmlkZXIoKSB7XG4gIHZhciBlbmFibGVkID0gdHJ1ZTtcblxuICAvKipcbiAgICogQG5nZG9jIG1ldGhvZFxuICAgKiBAbmFtZSAkc2NlUHJvdmlkZXIjZW5hYmxlZFxuICAgKiBAa2luZCBmdW5jdGlvblxuICAgKlxuICAgKiBAcGFyYW0ge2Jvb2xlYW49fSB2YWx1ZSBJZiBwcm92aWRlZCwgdGhlbiBlbmFibGVzL2Rpc2FibGVzIFNDRSBhcHBsaWNhdGlvbi13aWRlLlxuICAgKiBAcmV0dXJuIHtib29sZWFufSBUcnVlIGlmIFNDRSBpcyBlbmFibGVkLCBmYWxzZSBvdGhlcndpc2UuXG4gICAqXG4gICAqIEBkZXNjcmlwdGlvblxuICAgKiBFbmFibGVzL2Rpc2FibGVzIFNDRSBhbmQgcmV0dXJucyB0aGUgY3VycmVudCB2YWx1ZS5cbiAgICovXG4gIHRoaXMuZW5hYmxlZCA9IGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgaWYgKGFyZ3VtZW50cy5sZW5ndGgpIHtcbiAgICAgIGVuYWJsZWQgPSAhIXZhbHVlO1xuICAgIH1cbiAgICByZXR1cm4gZW5hYmxlZDtcbiAgfTtcblxuXG4gIC8qIERlc2lnbiBub3RlcyBvbiB0aGUgZGVmYXVsdCBpbXBsZW1lbnRhdGlvbiBmb3IgU0NFLlxuICAgKlxuICAgKiBUaGUgQVBJIGNvbnRyYWN0IGZvciB0aGUgU0NFIGRlbGVnYXRlXG4gICAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICogVGhlIFNDRSBkZWxlZ2F0ZSBvYmplY3QgbXVzdCBwcm92aWRlIHRoZSBmb2xsb3dpbmcgMyBtZXRob2RzOlxuICAgKlxuICAgKiAtIHRydXN0QXMoY29udGV4dEVudW0sIHZhbHVlKVxuICAgKiAgICAgVGhpcyBtZXRob2QgaXMgdXNlZCB0byB0ZWxsIHRoZSBTQ0Ugc2VydmljZSB0aGF0IHRoZSBwcm92aWRlZCB2YWx1ZSBpcyBPSyB0byB1c2UgaW4gdGhlXG4gICAqICAgICBjb250ZXh0cyBzcGVjaWZpZWQgYnkgY29udGV4dEVudW0uICBJdCBtdXN0IHJldHVybiBhbiBvYmplY3QgdGhhdCB3aWxsIGJlIGFjY2VwdGVkIGJ5XG4gICAqICAgICBnZXRUcnVzdGVkKCkgZm9yIGEgY29tcGF0aWJsZSBjb250ZXh0RW51bSBhbmQgcmV0dXJuIHRoaXMgdmFsdWUuXG4gICAqXG4gICAqIC0gdmFsdWVPZih2YWx1ZSlcbiAgICogICAgIEZvciB2YWx1ZXMgdGhhdCB3ZXJlIG5vdCBwcm9kdWNlZCBieSB0cnVzdEFzKCksIHJldHVybiB0aGVtIGFzIGlzLiAgRm9yIHZhbHVlcyB0aGF0IHdlcmVcbiAgICogICAgIHByb2R1Y2VkIGJ5IHRydXN0QXMoKSwgcmV0dXJuIHRoZSBjb3JyZXNwb25kaW5nIGlucHV0IHZhbHVlIHRvIHRydXN0QXMuICBCYXNpY2FsbHksIGlmXG4gICAqICAgICB0cnVzdEFzIGlzIHdyYXBwaW5nIHRoZSBnaXZlbiB2YWx1ZXMgaW50byBzb21lIHR5cGUsIHRoaXMgb3BlcmF0aW9uIHVud3JhcHMgaXQgd2hlbiBnaXZlblxuICAgKiAgICAgc3VjaCBhIHZhbHVlLlxuICAgKlxuICAgKiAtIGdldFRydXN0ZWQoY29udGV4dEVudW0sIHZhbHVlKVxuICAgKiAgICAgVGhpcyBmdW5jdGlvbiBzaG91bGQgcmV0dXJuIHRoZSBhIHZhbHVlIHRoYXQgaXMgc2FmZSB0byB1c2UgaW4gdGhlIGNvbnRleHQgc3BlY2lmaWVkIGJ5XG4gICAqICAgICBjb250ZXh0RW51bSBvciB0aHJvdyBhbmQgZXhjZXB0aW9uIG90aGVyd2lzZS5cbiAgICpcbiAgICogTk9URTogVGhpcyBjb250cmFjdCBkZWxpYmVyYXRlbHkgZG9lcyBOT1Qgc3RhdGUgdGhhdCB2YWx1ZXMgcmV0dXJuZWQgYnkgdHJ1c3RBcygpIG11c3QgYmVcbiAgICogb3BhcXVlIG9yIHdyYXBwZWQgaW4gc29tZSBob2xkZXIgb2JqZWN0LiAgVGhhdCBoYXBwZW5zIHRvIGJlIGFuIGltcGxlbWVudGF0aW9uIGRldGFpbC4gIEZvclxuICAgKiBpbnN0YW5jZSwgYW4gaW1wbGVtZW50YXRpb24gY291bGQgbWFpbnRhaW4gYSByZWdpc3RyeSBvZiBhbGwgdHJ1c3RlZCBvYmplY3RzIGJ5IGNvbnRleHQuICBJblxuICAgKiBzdWNoIGEgY2FzZSwgdHJ1c3RBcygpIHdvdWxkIHJldHVybiB0aGUgc2FtZSBvYmplY3QgdGhhdCB3YXMgcGFzc2VkIGluLiAgZ2V0VHJ1c3RlZCgpIHdvdWxkXG4gICAqIHJldHVybiB0aGUgc2FtZSBvYmplY3QgcGFzc2VkIGluIGlmIGl0IHdhcyBmb3VuZCBpbiB0aGUgcmVnaXN0cnkgdW5kZXIgYSBjb21wYXRpYmxlIGNvbnRleHQgb3JcbiAgICogdGhyb3cgYW4gZXhjZXB0aW9uIG90aGVyd2lzZS4gIEFuIGltcGxlbWVudGF0aW9uIG1pZ2h0IG9ubHkgd3JhcCB2YWx1ZXMgc29tZSBvZiB0aGUgdGltZSBiYXNlZFxuICAgKiBvbiBzb21lIGNyaXRlcmlhLiAgZ2V0VHJ1c3RlZCgpIG1pZ2h0IHJldHVybiBhIHZhbHVlIGFuZCBub3QgdGhyb3cgYW4gZXhjZXB0aW9uIGZvciBzcGVjaWFsXG4gICAqIGNvbnN0YW50cyBvciBvYmplY3RzIGV2ZW4gaWYgbm90IHdyYXBwZWQuICBBbGwgc3VjaCBpbXBsZW1lbnRhdGlvbnMgZnVsZmlsbCB0aGlzIGNvbnRyYWN0LlxuICAgKlxuICAgKlxuICAgKiBBIG5vdGUgb24gdGhlIGluaGVyaXRhbmNlIG1vZGVsIGZvciBTQ0UgY29udGV4dHNcbiAgICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAqIEkndmUgdXNlZCBpbmhlcml0YW5jZSBhbmQgbWFkZSBSRVNPVVJDRV9VUkwgd3JhcHBlZCB0eXBlcyBhIHN1YnR5cGUgb2YgVVJMIHdyYXBwZWQgdHlwZXMuICBUaGlzXG4gICAqIGlzIHB1cmVseSBhbiBpbXBsZW1lbnRhdGlvbiBkZXRhaWxzLlxuICAgKlxuICAgKiBUaGUgY29udHJhY3QgaXMgc2ltcGx5IHRoaXM6XG4gICAqXG4gICAqICAgICBnZXRUcnVzdGVkKCRzY2UuUkVTT1VSQ0VfVVJMLCB2YWx1ZSkgc3VjY2VlZGluZyBpbXBsaWVzIHRoYXQgZ2V0VHJ1c3RlZCgkc2NlLlVSTCwgdmFsdWUpXG4gICAqICAgICB3aWxsIGFsc28gc3VjY2VlZC5cbiAgICpcbiAgICogSW5oZXJpdGFuY2UgaGFwcGVucyB0byBjYXB0dXJlIHRoaXMgaW4gYSBuYXR1cmFsIHdheS4gSW4gc29tZSBmdXR1cmUsIHdlIG1heSBub3QgdXNlXG4gICAqIGluaGVyaXRhbmNlIGFueW1vcmUuIFRoYXQgaXMgT0sgYmVjYXVzZSBubyBjb2RlIG91dHNpZGUgb2Ygc2NlLmpzIGFuZCBzY2VTcGVjcy5qcyB3b3VsZCBuZWVkIHRvXG4gICAqIGJlIGF3YXJlIG9mIHRoaXMgZGV0YWlsLlxuICAgKi9cblxuICB0aGlzLiRnZXQgPSBbJyRwYXJzZScsICckc2NlRGVsZWdhdGUnLCBmdW5jdGlvbihcbiAgICAgICAgICAgICAgICAkcGFyc2UsICAgJHNjZURlbGVnYXRlKSB7XG4gICAgLy8gU3VwcG9ydDogSUUgOS0xMSBvbmx5XG4gICAgLy8gUHJlcmVxOiBFbnN1cmUgdGhhdCB3ZSdyZSBub3QgcnVubmluZyBpbiBJRTwxMSBxdWlya3MgbW9kZS4gIEluIHRoYXQgbW9kZSwgSUUgPCAxMSBhbGxvd1xuICAgIC8vIHRoZSBcImV4cHJlc3Npb24oamF2YXNjcmlwdCBleHByZXNzaW9uKVwiIHN5bnRheCB3aGljaCBpcyBpbnNlY3VyZS5cbiAgICBpZiAoZW5hYmxlZCAmJiBtc2llIDwgOCkge1xuICAgICAgdGhyb3cgJHNjZU1pbkVycignaWVxdWlya3MnLFxuICAgICAgICAnU3RyaWN0IENvbnRleHR1YWwgRXNjYXBpbmcgZG9lcyBub3Qgc3VwcG9ydCBJbnRlcm5ldCBFeHBsb3JlciB2ZXJzaW9uIDwgMTEgaW4gcXVpcmtzICcgK1xuICAgICAgICAnbW9kZS4gIFlvdSBjYW4gZml4IHRoaXMgYnkgYWRkaW5nIHRoZSB0ZXh0IDwhZG9jdHlwZSBodG1sPiB0byB0aGUgdG9wIG9mIHlvdXIgSFRNTCAnICtcbiAgICAgICAgJ2RvY3VtZW50LiAgU2VlIGh0dHA6Ly9kb2NzLmFuZ3VsYXJqcy5vcmcvYXBpL25nLiRzY2UgZm9yIG1vcmUgaW5mb3JtYXRpb24uJyk7XG4gICAgfVxuXG4gICAgdmFyIHNjZSA9IHNoYWxsb3dDb3B5KFNDRV9DT05URVhUUyk7XG5cbiAgICAvKipcbiAgICAgKiBAbmdkb2MgbWV0aG9kXG4gICAgICogQG5hbWUgJHNjZSNpc0VuYWJsZWRcbiAgICAgKiBAa2luZCBmdW5jdGlvblxuICAgICAqXG4gICAgICogQHJldHVybiB7Qm9vbGVhbn0gVHJ1ZSBpZiBTQ0UgaXMgZW5hYmxlZCwgZmFsc2Ugb3RoZXJ3aXNlLiAgSWYgeW91IHdhbnQgdG8gc2V0IHRoZSB2YWx1ZSwgeW91XG4gICAgICogICAgIGhhdmUgdG8gZG8gaXQgYXQgbW9kdWxlIGNvbmZpZyB0aW1lIG9uIHtAbGluayBuZy4kc2NlUHJvdmlkZXIgJHNjZVByb3ZpZGVyfS5cbiAgICAgKlxuICAgICAqIEBkZXNjcmlwdGlvblxuICAgICAqIFJldHVybnMgYSBib29sZWFuIGluZGljYXRpbmcgaWYgU0NFIGlzIGVuYWJsZWQuXG4gICAgICovXG4gICAgc2NlLmlzRW5hYmxlZCA9IGZ1bmN0aW9uKCkge1xuICAgICAgcmV0dXJuIGVuYWJsZWQ7XG4gICAgfTtcbiAgICBzY2UudHJ1c3RBcyA9ICRzY2VEZWxlZ2F0ZS50cnVzdEFzO1xuICAgIHNjZS5nZXRUcnVzdGVkID0gJHNjZURlbGVnYXRlLmdldFRydXN0ZWQ7XG4gICAgc2NlLnZhbHVlT2YgPSAkc2NlRGVsZWdhdGUudmFsdWVPZjtcblxuICAgIGlmICghZW5hYmxlZCkge1xuICAgICAgc2NlLnRydXN0QXMgPSBzY2UuZ2V0VHJ1c3RlZCA9IGZ1bmN0aW9uKHR5cGUsIHZhbHVlKSB7IHJldHVybiB2YWx1ZTsgfTtcbiAgICAgIHNjZS52YWx1ZU9mID0gaWRlbnRpdHk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQG5nZG9jIG1ldGhvZFxuICAgICAqIEBuYW1lICRzY2UjcGFyc2VBc1xuICAgICAqXG4gICAgICogQGRlc2NyaXB0aW9uXG4gICAgICogQ29udmVydHMgQW5ndWxhciB7QGxpbmsgZ3VpZGUvZXhwcmVzc2lvbiBleHByZXNzaW9ufSBpbnRvIGEgZnVuY3Rpb24uICBUaGlzIGlzIGxpa2Uge0BsaW5rXG4gICAgICogbmcuJHBhcnNlICRwYXJzZX0gYW5kIGlzIGlkZW50aWNhbCB3aGVuIHRoZSBleHByZXNzaW9uIGlzIGEgbGl0ZXJhbCBjb25zdGFudC4gIE90aGVyd2lzZSwgaXRcbiAgICAgKiB3cmFwcyB0aGUgZXhwcmVzc2lvbiBpbiBhIGNhbGwgdG8ge0BsaW5rIG5nLiRzY2UjZ2V0VHJ1c3RlZCAkc2NlLmdldFRydXN0ZWQoKnR5cGUqLFxuICAgICAqICpyZXN1bHQqKX1cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSB0eXBlIFRoZSBTQ0UgY29udGV4dCBpbiB3aGljaCB0aGlzIHJlc3VsdCB3aWxsIGJlIHVzZWQuXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGV4cHJlc3Npb24gU3RyaW5nIGV4cHJlc3Npb24gdG8gY29tcGlsZS5cbiAgICAgKiBAcmV0dXJuIHtmdW5jdGlvbihjb250ZXh0LCBsb2NhbHMpfSBBIGZ1bmN0aW9uIHdoaWNoIHJlcHJlc2VudHMgdGhlIGNvbXBpbGVkIGV4cHJlc3Npb246XG4gICAgICpcbiAgICAgKiAgICAqIGBjb250ZXh0YCDigJMgYHtvYmplY3R9YCDigJMgYW4gb2JqZWN0IGFnYWluc3Qgd2hpY2ggYW55IGV4cHJlc3Npb25zIGVtYmVkZGVkIGluIHRoZVxuICAgICAqICAgICAgc3RyaW5ncyBhcmUgZXZhbHVhdGVkIGFnYWluc3QgKHR5cGljYWxseSBhIHNjb3BlIG9iamVjdCkuXG4gICAgICogICAgKiBgbG9jYWxzYCDigJMgYHtvYmplY3Q9fWAg4oCTIGxvY2FsIHZhcmlhYmxlcyBjb250ZXh0IG9iamVjdCwgdXNlZnVsIGZvciBvdmVycmlkaW5nIHZhbHVlc1xuICAgICAqICAgICAgaW4gYGNvbnRleHRgLlxuICAgICAqL1xuICAgIHNjZS5wYXJzZUFzID0gZnVuY3Rpb24gc2NlUGFyc2VBcyh0eXBlLCBleHByKSB7XG4gICAgICB2YXIgcGFyc2VkID0gJHBhcnNlKGV4cHIpO1xuICAgICAgaWYgKHBhcnNlZC5saXRlcmFsICYmIHBhcnNlZC5jb25zdGFudCkge1xuICAgICAgICByZXR1cm4gcGFyc2VkO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuICRwYXJzZShleHByLCBmdW5jdGlvbih2YWx1ZSkge1xuICAgICAgICAgIHJldHVybiBzY2UuZ2V0VHJ1c3RlZCh0eXBlLCB2YWx1ZSk7XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBAbmdkb2MgbWV0aG9kXG4gICAgICogQG5hbWUgJHNjZSN0cnVzdEFzXG4gICAgICpcbiAgICAgKiBAZGVzY3JpcHRpb25cbiAgICAgKiBEZWxlZ2F0ZXMgdG8ge0BsaW5rIG5nLiRzY2VEZWxlZ2F0ZSN0cnVzdEFzIGAkc2NlRGVsZWdhdGUudHJ1c3RBc2B9LiBBcyBzdWNoLCByZXR1cm5zIGFcbiAgICAgKiB3cmFwcGVkIG9iamVjdCB0aGF0IHJlcHJlc2VudHMgeW91ciB2YWx1ZSwgYW5kIHRoZSB0cnVzdCB5b3UgaGF2ZSBpbiBpdHMgc2FmZXR5IGZvciB0aGUgZ2l2ZW5cbiAgICAgKiBjb250ZXh0LiBBbmd1bGFySlMgY2FuIHRoZW4gdXNlIHRoYXQgdmFsdWUgYXMtaXMgaW4gYmluZGluZ3Mgb2YgdGhlIHNwZWNpZmllZCBzZWN1cmUgY29udGV4dC5cbiAgICAgKiBUaGlzIGlzIHVzZWQgaW4gYmluZGluZ3MgZm9yIGBuZy1iaW5kLWh0bWxgLCBgbmctaW5jbHVkZWAsIGFuZCBtb3N0IGBzcmNgIGF0dHJpYnV0ZVxuICAgICAqIGludGVycG9sYXRpb25zLiBTZWUge0BsaW5rIG5nLiRzY2UgJHNjZX0gZm9yIHN0cmljdCBjb250ZXh0dWFsIGVzY2FwaW5nLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHR5cGUgVGhlIGNvbnRleHQgaW4gd2hpY2ggdGhpcyB2YWx1ZSBpcyBzYWZlIGZvciB1c2UsIGUuZy4gYCRzY2UuVVJMYCxcbiAgICAgKiAgICAgYCRzY2UuUkVTT1VSQ0VfVVJMYCwgYCRzY2UuSFRNTGAsIGAkc2NlLkpTYCBvciBgJHNjZS5DU1NgLlxuICAgICAqXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdGhhdCB0aGF0IHNob3VsZCBiZSBjb25zaWRlcmVkIHRydXN0ZWQuXG4gICAgICogQHJldHVybiB7Kn0gQSB3cmFwcGVkIHZlcnNpb24gb2YgdmFsdWUgdGhhdCBjYW4gYmUgdXNlZCBhcyBhIHRydXN0ZWQgdmFyaWFudCBvZiB5b3VyIGB2YWx1ZWBcbiAgICAgKiAgICAgaW4gdGhlIGNvbnRleHQgeW91IHNwZWNpZmllZC5cbiAgICAgKi9cblxuICAgIC8qKlxuICAgICAqIEBuZ2RvYyBtZXRob2RcbiAgICAgKiBAbmFtZSAkc2NlI3RydXN0QXNIdG1sXG4gICAgICpcbiAgICAgKiBAZGVzY3JpcHRpb25cbiAgICAgKiBTaG9ydGhhbmQgbWV0aG9kLiAgYCRzY2UudHJ1c3RBc0h0bWwodmFsdWUpYCDihpJcbiAgICAgKiAgICAge0BsaW5rIG5nLiRzY2VEZWxlZ2F0ZSN0cnVzdEFzIGAkc2NlRGVsZWdhdGUudHJ1c3RBcygkc2NlLkhUTUwsIHZhbHVlKWB9XG4gICAgICpcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBtYXJrIGFzIHRydXN0ZWQgZm9yIGAkc2NlLkhUTUxgIGNvbnRleHQuXG4gICAgICogQHJldHVybiB7Kn0gQSB3cmFwcGVkIHZlcnNpb24gb2YgdmFsdWUgdGhhdCBjYW4gYmUgdXNlZCBhcyBhIHRydXN0ZWQgdmFyaWFudCBvZiB5b3VyIGB2YWx1ZWBcbiAgICAgKiAgICAgaW4gYCRzY2UuSFRNTGAgY29udGV4dCAobGlrZSBgbmctYmluZC1odG1sYCkuXG4gICAgICovXG5cbiAgICAvKipcbiAgICAgKiBAbmdkb2MgbWV0aG9kXG4gICAgICogQG5hbWUgJHNjZSN0cnVzdEFzQ3NzXG4gICAgICpcbiAgICAgKiBAZGVzY3JpcHRpb25cbiAgICAgKiBTaG9ydGhhbmQgbWV0aG9kLiAgYCRzY2UudHJ1c3RBc0Nzcyh2YWx1ZSlgIOKGklxuICAgICAqICAgICB7QGxpbmsgbmcuJHNjZURlbGVnYXRlI3RydXN0QXMgYCRzY2VEZWxlZ2F0ZS50cnVzdEFzKCRzY2UuQ1NTLCB2YWx1ZSlgfVxuICAgICAqXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gbWFyayBhcyB0cnVzdGVkIGZvciBgJHNjZS5DU1NgIGNvbnRleHQuXG4gICAgICogQHJldHVybiB7Kn0gQSB3cmFwcGVkIHZlcnNpb24gb2YgdmFsdWUgdGhhdCBjYW4gYmUgdXNlZCBhcyBhIHRydXN0ZWQgdmFyaWFudFxuICAgICAqICAgICBvZiB5b3VyIGB2YWx1ZWAgaW4gYCRzY2UuQ1NTYCBjb250ZXh0LiBUaGlzIGNvbnRleHQgaXMgY3VycmVudGx5IHVudXNlZCwgc28gdGhlcmUgYXJlXG4gICAgICogICAgIGFsbW9zdCBubyByZWFzb25zIHRvIHVzZSB0aGlzIGZ1bmN0aW9uIHNvIGZhci5cbiAgICAgKi9cblxuICAgIC8qKlxuICAgICAqIEBuZ2RvYyBtZXRob2RcbiAgICAgKiBAbmFtZSAkc2NlI3RydXN0QXNVcmxcbiAgICAgKlxuICAgICAqIEBkZXNjcmlwdGlvblxuICAgICAqIFNob3J0aGFuZCBtZXRob2QuICBgJHNjZS50cnVzdEFzVXJsKHZhbHVlKWAg4oaSXG4gICAgICogICAgIHtAbGluayBuZy4kc2NlRGVsZWdhdGUjdHJ1c3RBcyBgJHNjZURlbGVnYXRlLnRydXN0QXMoJHNjZS5VUkwsIHZhbHVlKWB9XG4gICAgICpcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBtYXJrIGFzIHRydXN0ZWQgZm9yIGAkc2NlLlVSTGAgY29udGV4dC5cbiAgICAgKiBAcmV0dXJuIHsqfSBBIHdyYXBwZWQgdmVyc2lvbiBvZiB2YWx1ZSB0aGF0IGNhbiBiZSB1c2VkIGFzIGEgdHJ1c3RlZCB2YXJpYW50IG9mIHlvdXIgYHZhbHVlYFxuICAgICAqICAgICBpbiBgJHNjZS5VUkxgIGNvbnRleHQuIFRoYXQgY29udGV4dCBpcyBjdXJyZW50bHkgdW51c2VkLCBzbyB0aGVyZSBhcmUgYWxtb3N0IG5vIHJlYXNvbnNcbiAgICAgKiAgICAgdG8gdXNlIHRoaXMgZnVuY3Rpb24gc28gZmFyLlxuICAgICAqL1xuXG4gICAgLyoqXG4gICAgICogQG5nZG9jIG1ldGhvZFxuICAgICAqIEBuYW1lICRzY2UjdHJ1c3RBc1Jlc291cmNlVXJsXG4gICAgICpcbiAgICAgKiBAZGVzY3JpcHRpb25cbiAgICAgKiBTaG9ydGhhbmQgbWV0aG9kLiAgYCRzY2UudHJ1c3RBc1Jlc291cmNlVXJsKHZhbHVlKWAg4oaSXG4gICAgICogICAgIHtAbGluayBuZy4kc2NlRGVsZWdhdGUjdHJ1c3RBcyBgJHNjZURlbGVnYXRlLnRydXN0QXMoJHNjZS5SRVNPVVJDRV9VUkwsIHZhbHVlKWB9XG4gICAgICpcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBtYXJrIGFzIHRydXN0ZWQgZm9yIGAkc2NlLlJFU09VUkNFX1VSTGAgY29udGV4dC5cbiAgICAgKiBAcmV0dXJuIHsqfSBBIHdyYXBwZWQgdmVyc2lvbiBvZiB2YWx1ZSB0aGF0IGNhbiBiZSB1c2VkIGFzIGEgdHJ1c3RlZCB2YXJpYW50IG9mIHlvdXIgYHZhbHVlYFxuICAgICAqICAgICBpbiBgJHNjZS5SRVNPVVJDRV9VUkxgIGNvbnRleHQgKHRlbXBsYXRlIFVSTHMgaW4gYG5nLWluY2x1ZGVgLCBtb3N0IGBzcmNgIGF0dHJpYnV0ZVxuICAgICAqICAgICBiaW5kaW5ncywgLi4uKVxuICAgICAqL1xuXG4gICAgLyoqXG4gICAgICogQG5nZG9jIG1ldGhvZFxuICAgICAqIEBuYW1lICRzY2UjdHJ1c3RBc0pzXG4gICAgICpcbiAgICAgKiBAZGVzY3JpcHRpb25cbiAgICAgKiBTaG9ydGhhbmQgbWV0aG9kLiAgYCRzY2UudHJ1c3RBc0pzKHZhbHVlKWAg4oaSXG4gICAgICogICAgIHtAbGluayBuZy4kc2NlRGVsZWdhdGUjdHJ1c3RBcyBgJHNjZURlbGVnYXRlLnRydXN0QXMoJHNjZS5KUywgdmFsdWUpYH1cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIG1hcmsgYXMgdHJ1c3RlZCBmb3IgYCRzY2UuSlNgIGNvbnRleHQuXG4gICAgICogQHJldHVybiB7Kn0gQSB3cmFwcGVkIHZlcnNpb24gb2YgdmFsdWUgdGhhdCBjYW4gYmUgdXNlZCBhcyBhIHRydXN0ZWQgdmFyaWFudCBvZiB5b3VyIGB2YWx1ZWBcbiAgICAgKiAgICAgaW4gYCRzY2UuSlNgIGNvbnRleHQuIFRoYXQgY29udGV4dCBpcyBjdXJyZW50bHkgdW51c2VkLCBzbyB0aGVyZSBhcmUgYWxtb3N0IG5vIHJlYXNvbnMgdG9cbiAgICAgKiAgICAgdXNlIHRoaXMgZnVuY3Rpb24gc28gZmFyLlxuICAgICAqL1xuXG4gICAgLyoqXG4gICAgICogQG5nZG9jIG1ldGhvZFxuICAgICAqIEBuYW1lICRzY2UjZ2V0VHJ1c3RlZFxuICAgICAqXG4gICAgICogQGRlc2NyaXB0aW9uXG4gICAgICogRGVsZWdhdGVzIHRvIHtAbGluayBuZy4kc2NlRGVsZWdhdGUjZ2V0VHJ1c3RlZCBgJHNjZURlbGVnYXRlLmdldFRydXN0ZWRgfS4gIEFzIHN1Y2gsXG4gICAgICogdGFrZXMgYW55IGlucHV0LCBhbmQgZWl0aGVyIHJldHVybnMgYSB2YWx1ZSB0aGF0J3Mgc2FmZSB0byB1c2UgaW4gdGhlIHNwZWNpZmllZCBjb250ZXh0LFxuICAgICAqIG9yIHRocm93cyBhbiBleGNlcHRpb24uIFRoaXMgZnVuY3Rpb24gaXMgYXdhcmUgb2YgdHJ1c3RlZCB2YWx1ZXMgY3JlYXRlZCBieSB0aGUgYHRydXN0QXNgXG4gICAgICogZnVuY3Rpb24gYW5kIGl0cyBzaG9ydGhhbmRzLCBhbmQgd2hlbiBjb250ZXh0cyBhcmUgYXBwcm9wcmlhdGUsIHJldHVybnMgdGhlIHVud3JhcHBlZCB2YWx1ZVxuICAgICAqIGFzLWlzLiBGaW5hbGx5LCB0aGlzIGZ1bmN0aW9uIGNhbiBhbHNvIHRocm93IHdoZW4gdGhlcmUgaXMgbm8gd2F5IHRvIHR1cm4gYG1heWJlVHJ1c3RlZGAgaW4gYVxuICAgICAqIHNhZmUgdmFsdWUgKGUuZy4sIG5vIHNhbml0aXphdGlvbiBpcyBhdmFpbGFibGUgb3IgcG9zc2libGUuKVxuICAgICAqXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHR5cGUgVGhlIGNvbnRleHQgaW4gd2hpY2ggdGhpcyB2YWx1ZSBpcyB0byBiZSB1c2VkLlxuICAgICAqIEBwYXJhbSB7Kn0gbWF5YmVUcnVzdGVkIFRoZSByZXN1bHQgb2YgYSBwcmlvciB7QGxpbmsgbmcuJHNjZSN0cnVzdEFzXG4gICAgICogICAgIGAkc2NlLnRydXN0QXNgfSBjYWxsLCBvciBhbnl0aGluZyBlbHNlICh3aGljaCB3aWxsIG5vdCBiZSBjb25zaWRlcmVkIHRydXN0ZWQuKVxuICAgICAqIEByZXR1cm4geyp9IEEgdmVyc2lvbiBvZiB0aGUgdmFsdWUgdGhhdCdzIHNhZmUgdG8gdXNlIGluIHRoZSBnaXZlbiBjb250ZXh0LCBvciB0aHJvd3MgYW5cbiAgICAgKiAgICAgZXhjZXB0aW9uIGlmIHRoaXMgaXMgaW1wb3NzaWJsZS5cbiAgICAgKi9cblxuICAgIC8qKlxuICAgICAqIEBuZ2RvYyBtZXRob2RcbiAgICAgKiBAbmFtZSAkc2NlI2dldFRydXN0ZWRIdG1sXG4gICAgICpcbiAgICAgKiBAZGVzY3JpcHRpb25cbiAgICAgKiBTaG9ydGhhbmQgbWV0aG9kLiAgYCRzY2UuZ2V0VHJ1c3RlZEh0bWwodmFsdWUpYCDihpJcbiAgICAgKiAgICAge0BsaW5rIG5nLiRzY2VEZWxlZ2F0ZSNnZXRUcnVzdGVkIGAkc2NlRGVsZWdhdGUuZ2V0VHJ1c3RlZCgkc2NlLkhUTUwsIHZhbHVlKWB9XG4gICAgICpcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBwYXNzIHRvIGAkc2NlLmdldFRydXN0ZWRgLlxuICAgICAqIEByZXR1cm4geyp9IFRoZSByZXR1cm4gdmFsdWUgb2YgYCRzY2UuZ2V0VHJ1c3RlZCgkc2NlLkhUTUwsIHZhbHVlKWBcbiAgICAgKi9cblxuICAgIC8qKlxuICAgICAqIEBuZ2RvYyBtZXRob2RcbiAgICAgKiBAbmFtZSAkc2NlI2dldFRydXN0ZWRDc3NcbiAgICAgKlxuICAgICAqIEBkZXNjcmlwdGlvblxuICAgICAqIFNob3J0aGFuZCBtZXRob2QuICBgJHNjZS5nZXRUcnVzdGVkQ3NzKHZhbHVlKWAg4oaSXG4gICAgICogICAgIHtAbGluayBuZy4kc2NlRGVsZWdhdGUjZ2V0VHJ1c3RlZCBgJHNjZURlbGVnYXRlLmdldFRydXN0ZWQoJHNjZS5DU1MsIHZhbHVlKWB9XG4gICAgICpcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBwYXNzIHRvIGAkc2NlLmdldFRydXN0ZWRgLlxuICAgICAqIEByZXR1cm4geyp9IFRoZSByZXR1cm4gdmFsdWUgb2YgYCRzY2UuZ2V0VHJ1c3RlZCgkc2NlLkNTUywgdmFsdWUpYFxuICAgICAqL1xuXG4gICAgLyoqXG4gICAgICogQG5nZG9jIG1ldGhvZFxuICAgICAqIEBuYW1lICRzY2UjZ2V0VHJ1c3RlZFVybFxuICAgICAqXG4gICAgICogQGRlc2NyaXB0aW9uXG4gICAgICogU2hvcnRoYW5kIG1ldGhvZC4gIGAkc2NlLmdldFRydXN0ZWRVcmwodmFsdWUpYCDihpJcbiAgICAgKiAgICAge0BsaW5rIG5nLiRzY2VEZWxlZ2F0ZSNnZXRUcnVzdGVkIGAkc2NlRGVsZWdhdGUuZ2V0VHJ1c3RlZCgkc2NlLlVSTCwgdmFsdWUpYH1cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIHBhc3MgdG8gYCRzY2UuZ2V0VHJ1c3RlZGAuXG4gICAgICogQHJldHVybiB7Kn0gVGhlIHJldHVybiB2YWx1ZSBvZiBgJHNjZS5nZXRUcnVzdGVkKCRzY2UuVVJMLCB2YWx1ZSlgXG4gICAgICovXG5cbiAgICAvKipcbiAgICAgKiBAbmdkb2MgbWV0aG9kXG4gICAgICogQG5hbWUgJHNjZSNnZXRUcnVzdGVkUmVzb3VyY2VVcmxcbiAgICAgKlxuICAgICAqIEBkZXNjcmlwdGlvblxuICAgICAqIFNob3J0aGFuZCBtZXRob2QuICBgJHNjZS5nZXRUcnVzdGVkUmVzb3VyY2VVcmwodmFsdWUpYCDihpJcbiAgICAgKiAgICAge0BsaW5rIG5nLiRzY2VEZWxlZ2F0ZSNnZXRUcnVzdGVkIGAkc2NlRGVsZWdhdGUuZ2V0VHJ1c3RlZCgkc2NlLlJFU09VUkNFX1VSTCwgdmFsdWUpYH1cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIHBhc3MgdG8gYCRzY2VEZWxlZ2F0ZS5nZXRUcnVzdGVkYC5cbiAgICAgKiBAcmV0dXJuIHsqfSBUaGUgcmV0dXJuIHZhbHVlIG9mIGAkc2NlLmdldFRydXN0ZWQoJHNjZS5SRVNPVVJDRV9VUkwsIHZhbHVlKWBcbiAgICAgKi9cblxuICAgIC8qKlxuICAgICAqIEBuZ2RvYyBtZXRob2RcbiAgICAgKiBAbmFtZSAkc2NlI2dldFRydXN0ZWRKc1xuICAgICAqXG4gICAgICogQGRlc2NyaXB0aW9uXG4gICAgICogU2hvcnRoYW5kIG1ldGhvZC4gIGAkc2NlLmdldFRydXN0ZWRKcyh2YWx1ZSlgIOKGklxuICAgICAqICAgICB7QGxpbmsgbmcuJHNjZURlbGVnYXRlI2dldFRydXN0ZWQgYCRzY2VEZWxlZ2F0ZS5nZXRUcnVzdGVkKCRzY2UuSlMsIHZhbHVlKWB9XG4gICAgICpcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBwYXNzIHRvIGAkc2NlLmdldFRydXN0ZWRgLlxuICAgICAqIEByZXR1cm4geyp9IFRoZSByZXR1cm4gdmFsdWUgb2YgYCRzY2UuZ2V0VHJ1c3RlZCgkc2NlLkpTLCB2YWx1ZSlgXG4gICAgICovXG5cbiAgICAvKipcbiAgICAgKiBAbmdkb2MgbWV0aG9kXG4gICAgICogQG5hbWUgJHNjZSNwYXJzZUFzSHRtbFxuICAgICAqXG4gICAgICogQGRlc2NyaXB0aW9uXG4gICAgICogU2hvcnRoYW5kIG1ldGhvZC4gIGAkc2NlLnBhcnNlQXNIdG1sKGV4cHJlc3Npb24gc3RyaW5nKWAg4oaSXG4gICAgICogICAgIHtAbGluayBuZy4kc2NlI3BhcnNlQXMgYCRzY2UucGFyc2VBcygkc2NlLkhUTUwsIHZhbHVlKWB9XG4gICAgICpcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gZXhwcmVzc2lvbiBTdHJpbmcgZXhwcmVzc2lvbiB0byBjb21waWxlLlxuICAgICAqIEByZXR1cm4ge2Z1bmN0aW9uKGNvbnRleHQsIGxvY2Fscyl9IEEgZnVuY3Rpb24gd2hpY2ggcmVwcmVzZW50cyB0aGUgY29tcGlsZWQgZXhwcmVzc2lvbjpcbiAgICAgKlxuICAgICAqICAgICogYGNvbnRleHRgIOKAkyBge29iamVjdH1gIOKAkyBhbiBvYmplY3QgYWdhaW5zdCB3aGljaCBhbnkgZXhwcmVzc2lvbnMgZW1iZWRkZWQgaW4gdGhlXG4gICAgICogICAgICBzdHJpbmdzIGFyZSBldmFsdWF0ZWQgYWdhaW5zdCAodHlwaWNhbGx5IGEgc2NvcGUgb2JqZWN0KS5cbiAgICAgKiAgICAqIGBsb2NhbHNgIOKAkyBge29iamVjdD19YCDigJMgbG9jYWwgdmFyaWFibGVzIGNvbnRleHQgb2JqZWN0LCB1c2VmdWwgZm9yIG92ZXJyaWRpbmcgdmFsdWVzXG4gICAgICogICAgICBpbiBgY29udGV4dGAuXG4gICAgICovXG5cbiAgICAvKipcbiAgICAgKiBAbmdkb2MgbWV0aG9kXG4gICAgICogQG5hbWUgJHNjZSNwYXJzZUFzQ3NzXG4gICAgICpcbiAgICAgKiBAZGVzY3JpcHRpb25cbiAgICAgKiBTaG9ydGhhbmQgbWV0aG9kLiAgYCRzY2UucGFyc2VBc0Nzcyh2YWx1ZSlgIOKGklxuICAgICAqICAgICB7QGxpbmsgbmcuJHNjZSNwYXJzZUFzIGAkc2NlLnBhcnNlQXMoJHNjZS5DU1MsIHZhbHVlKWB9XG4gICAgICpcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gZXhwcmVzc2lvbiBTdHJpbmcgZXhwcmVzc2lvbiB0byBjb21waWxlLlxuICAgICAqIEByZXR1cm4ge2Z1bmN0aW9uKGNvbnRleHQsIGxvY2Fscyl9IEEgZnVuY3Rpb24gd2hpY2ggcmVwcmVzZW50cyB0aGUgY29tcGlsZWQgZXhwcmVzc2lvbjpcbiAgICAgKlxuICAgICAqICAgICogYGNvbnRleHRgIOKAkyBge29iamVjdH1gIOKAkyBhbiBvYmplY3QgYWdhaW5zdCB3aGljaCBhbnkgZXhwcmVzc2lvbnMgZW1iZWRkZWQgaW4gdGhlXG4gICAgICogICAgICBzdHJpbmdzIGFyZSBldmFsdWF0ZWQgYWdhaW5zdCAodHlwaWNhbGx5IGEgc2NvcGUgb2JqZWN0KS5cbiAgICAgKiAgICAqIGBsb2NhbHNgIOKAkyBge29iamVjdD19YCDigJMgbG9jYWwgdmFyaWFibGVzIGNvbnRleHQgb2JqZWN0LCB1c2VmdWwgZm9yIG92ZXJyaWRpbmcgdmFsdWVzXG4gICAgICogICAgICBpbiBgY29udGV4dGAuXG4gICAgICovXG5cbiAgICAvKipcbiAgICAgKiBAbmdkb2MgbWV0aG9kXG4gICAgICogQG5hbWUgJHNjZSNwYXJzZUFzVXJsXG4gICAgICpcbiAgICAgKiBAZGVzY3JpcHRpb25cbiAgICAgKiBTaG9ydGhhbmQgbWV0aG9kLiAgYCRzY2UucGFyc2VBc1VybCh2YWx1ZSlgIOKGklxuICAgICAqICAgICB7QGxpbmsgbmcuJHNjZSNwYXJzZUFzIGAkc2NlLnBhcnNlQXMoJHNjZS5VUkwsIHZhbHVlKWB9XG4gICAgICpcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gZXhwcmVzc2lvbiBTdHJpbmcgZXhwcmVzc2lvbiB0byBjb21waWxlLlxuICAgICAqIEByZXR1cm4ge2Z1bmN0aW9uKGNvbnRleHQsIGxvY2Fscyl9IEEgZnVuY3Rpb24gd2hpY2ggcmVwcmVzZW50cyB0aGUgY29tcGlsZWQgZXhwcmVzc2lvbjpcbiAgICAgKlxuICAgICAqICAgICogYGNvbnRleHRgIOKAkyBge29iamVjdH1gIOKAkyBhbiBvYmplY3QgYWdhaW5zdCB3aGljaCBhbnkgZXhwcmVzc2lvbnMgZW1iZWRkZWQgaW4gdGhlXG4gICAgICogICAgICBzdHJpbmdzIGFyZSBldmFsdWF0ZWQgYWdhaW5zdCAodHlwaWNhbGx5IGEgc2NvcGUgb2JqZWN0KS5cbiAgICAgKiAgICAqIGBsb2NhbHNgIOKAkyBge29iamVjdD19YCDigJMgbG9jYWwgdmFyaWFibGVzIGNvbnRleHQgb2JqZWN0LCB1c2VmdWwgZm9yIG92ZXJyaWRpbmcgdmFsdWVzXG4gICAgICogICAgICBpbiBgY29udGV4dGAuXG4gICAgICovXG5cbiAgICAvKipcbiAgICAgKiBAbmdkb2MgbWV0aG9kXG4gICAgICogQG5hbWUgJHNjZSNwYXJzZUFzUmVzb3VyY2VVcmxcbiAgICAgKlxuICAgICAqIEBkZXNjcmlwdGlvblxuICAgICAqIFNob3J0aGFuZCBtZXRob2QuICBgJHNjZS5wYXJzZUFzUmVzb3VyY2VVcmwodmFsdWUpYCDihpJcbiAgICAgKiAgICAge0BsaW5rIG5nLiRzY2UjcGFyc2VBcyBgJHNjZS5wYXJzZUFzKCRzY2UuUkVTT1VSQ0VfVVJMLCB2YWx1ZSlgfVxuICAgICAqXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGV4cHJlc3Npb24gU3RyaW5nIGV4cHJlc3Npb24gdG8gY29tcGlsZS5cbiAgICAgKiBAcmV0dXJuIHtmdW5jdGlvbihjb250ZXh0LCBsb2NhbHMpfSBBIGZ1bmN0aW9uIHdoaWNoIHJlcHJlc2VudHMgdGhlIGNvbXBpbGVkIGV4cHJlc3Npb246XG4gICAgICpcbiAgICAgKiAgICAqIGBjb250ZXh0YCDigJMgYHtvYmplY3R9YCDigJMgYW4gb2JqZWN0IGFnYWluc3Qgd2hpY2ggYW55IGV4cHJlc3Npb25zIGVtYmVkZGVkIGluIHRoZVxuICAgICAqICAgICAgc3RyaW5ncyBhcmUgZXZhbHVhdGVkIGFnYWluc3QgKHR5cGljYWxseSBhIHNjb3BlIG9iamVjdCkuXG4gICAgICogICAgKiBgbG9jYWxzYCDigJMgYHtvYmplY3Q9fWAg4oCTIGxvY2FsIHZhcmlhYmxlcyBjb250ZXh0IG9iamVjdCwgdXNlZnVsIGZvciBvdmVycmlkaW5nIHZhbHVlc1xuICAgICAqICAgICAgaW4gYGNvbnRleHRgLlxuICAgICAqL1xuXG4gICAgLyoqXG4gICAgICogQG5nZG9jIG1ldGhvZFxuICAgICAqIEBuYW1lICRzY2UjcGFyc2VBc0pzXG4gICAgICpcbiAgICAgKiBAZGVzY3JpcHRpb25cbiAgICAgKiBTaG9ydGhhbmQgbWV0aG9kLiAgYCRzY2UucGFyc2VBc0pzKHZhbHVlKWAg4oaSXG4gICAgICogICAgIHtAbGluayBuZy4kc2NlI3BhcnNlQXMgYCRzY2UucGFyc2VBcygkc2NlLkpTLCB2YWx1ZSlgfVxuICAgICAqXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGV4cHJlc3Npb24gU3RyaW5nIGV4cHJlc3Npb24gdG8gY29tcGlsZS5cbiAgICAgKiBAcmV0dXJuIHtmdW5jdGlvbihjb250ZXh0LCBsb2NhbHMpfSBBIGZ1bmN0aW9uIHdoaWNoIHJlcHJlc2VudHMgdGhlIGNvbXBpbGVkIGV4cHJlc3Npb246XG4gICAgICpcbiAgICAgKiAgICAqIGBjb250ZXh0YCDigJMgYHtvYmplY3R9YCDigJMgYW4gb2JqZWN0IGFnYWluc3Qgd2hpY2ggYW55IGV4cHJlc3Npb25zIGVtYmVkZGVkIGluIHRoZVxuICAgICAqICAgICAgc3RyaW5ncyBhcmUgZXZhbHVhdGVkIGFnYWluc3QgKHR5cGljYWxseSBhIHNjb3BlIG9iamVjdCkuXG4gICAgICogICAgKiBgbG9jYWxzYCDigJMgYHtvYmplY3Q9fWAg4oCTIGxvY2FsIHZhcmlhYmxlcyBjb250ZXh0IG9iamVjdCwgdXNlZnVsIGZvciBvdmVycmlkaW5nIHZhbHVlc1xuICAgICAqICAgICAgaW4gYGNvbnRleHRgLlxuICAgICAqL1xuXG4gICAgLy8gU2hvcnRoYW5kIGRlbGVnYXRpb25zLlxuICAgIHZhciBwYXJzZSA9IHNjZS5wYXJzZUFzLFxuICAgICAgICBnZXRUcnVzdGVkID0gc2NlLmdldFRydXN0ZWQsXG4gICAgICAgIHRydXN0QXMgPSBzY2UudHJ1c3RBcztcblxuICAgIGZvckVhY2goU0NFX0NPTlRFWFRTLCBmdW5jdGlvbihlbnVtVmFsdWUsIG5hbWUpIHtcbiAgICAgIHZhciBsTmFtZSA9IGxvd2VyY2FzZShuYW1lKTtcbiAgICAgIHNjZVtzbmFrZVRvQ2FtZWwoJ3BhcnNlX2FzXycgKyBsTmFtZSldID0gZnVuY3Rpb24oZXhwcikge1xuICAgICAgICByZXR1cm4gcGFyc2UoZW51bVZhbHVlLCBleHByKTtcbiAgICAgIH07XG4gICAgICBzY2Vbc25ha2VUb0NhbWVsKCdnZXRfdHJ1c3RlZF8nICsgbE5hbWUpXSA9IGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgICAgIHJldHVybiBnZXRUcnVzdGVkKGVudW1WYWx1ZSwgdmFsdWUpO1xuICAgICAgfTtcbiAgICAgIHNjZVtzbmFrZVRvQ2FtZWwoJ3RydXN0X2FzXycgKyBsTmFtZSldID0gZnVuY3Rpb24odmFsdWUpIHtcbiAgICAgICAgcmV0dXJuIHRydXN0QXMoZW51bVZhbHVlLCB2YWx1ZSk7XG4gICAgICB9O1xuICAgIH0pO1xuXG4gICAgcmV0dXJuIHNjZTtcbiAgfV07XG59XG5cbi8qIGV4cG9ydGVkICRTbmlmZmVyUHJvdmlkZXIgKi9cblxuLyoqXG4gKiAhISEgVGhpcyBpcyBhbiB1bmRvY3VtZW50ZWQgXCJwcml2YXRlXCIgc2VydmljZSAhISFcbiAqXG4gKiBAbmFtZSAkc25pZmZlclxuICogQHJlcXVpcmVzICR3aW5kb3dcbiAqIEByZXF1aXJlcyAkZG9jdW1lbnRcbiAqIEB0aGlzXG4gKlxuICogQHByb3BlcnR5IHtib29sZWFufSBoaXN0b3J5IERvZXMgdGhlIGJyb3dzZXIgc3VwcG9ydCBodG1sNSBoaXN0b3J5IGFwaSA/XG4gKiBAcHJvcGVydHkge2Jvb2xlYW59IHRyYW5zaXRpb25zIERvZXMgdGhlIGJyb3dzZXIgc3VwcG9ydCBDU1MgdHJhbnNpdGlvbiBldmVudHMgP1xuICogQHByb3BlcnR5IHtib29sZWFufSBhbmltYXRpb25zIERvZXMgdGhlIGJyb3dzZXIgc3VwcG9ydCBDU1MgYW5pbWF0aW9uIGV2ZW50cyA/XG4gKlxuICogQGRlc2NyaXB0aW9uXG4gKiBUaGlzIGlzIHZlcnkgc2ltcGxlIGltcGxlbWVudGF0aW9uIG9mIHRlc3RpbmcgYnJvd3NlcidzIGZlYXR1cmVzLlxuICovXG5mdW5jdGlvbiAkU25pZmZlclByb3ZpZGVyKCkge1xuICB0aGlzLiRnZXQgPSBbJyR3aW5kb3cnLCAnJGRvY3VtZW50JywgZnVuY3Rpb24oJHdpbmRvdywgJGRvY3VtZW50KSB7XG4gICAgdmFyIGV2ZW50U3VwcG9ydCA9IHt9LFxuICAgICAgICAvLyBDaHJvbWUgUGFja2FnZWQgQXBwcyBhcmUgbm90IGFsbG93ZWQgdG8gYWNjZXNzIGBoaXN0b3J5LnB1c2hTdGF0ZWAuXG4gICAgICAgIC8vIElmIG5vdCBzYW5kYm94ZWQsIHRoZXkgY2FuIGJlIGRldGVjdGVkIGJ5IHRoZSBwcmVzZW5jZSBvZiBgY2hyb21lLmFwcC5ydW50aW1lYFxuICAgICAgICAvLyAoc2VlIGh0dHBzOi8vZGV2ZWxvcGVyLmNocm9tZS5jb20vYXBwcy9hcGlfaW5kZXgpLiBJZiBzYW5kYm94ZWQsIHRoZXkgY2FuIGJlIGRldGVjdGVkIGJ5XG4gICAgICAgIC8vIHRoZSBwcmVzZW5jZSBvZiBhbiBleHRlbnNpb24gcnVudGltZSBJRCBhbmQgdGhlIGFic2VuY2Ugb2Ygb3RoZXIgQ2hyb21lIHJ1bnRpbWUgQVBJc1xuICAgICAgICAvLyAoc2VlIGh0dHBzOi8vZGV2ZWxvcGVyLmNocm9tZS5jb20vYXBwcy9tYW5pZmVzdC9zYW5kYm94KS5cbiAgICAgICAgLy8gKE5XLmpzIGFwcHMgaGF2ZSBhY2Nlc3MgdG8gQ2hyb21lIEFQSXMsIGJ1dCBkbyBzdXBwb3J0IGBoaXN0b3J5YC4pXG4gICAgICAgIGlzTncgPSAkd2luZG93Lm53ICYmICR3aW5kb3cubncucHJvY2VzcyxcbiAgICAgICAgaXNDaHJvbWVQYWNrYWdlZEFwcCA9XG4gICAgICAgICAgICAhaXNOdyAmJlxuICAgICAgICAgICAgJHdpbmRvdy5jaHJvbWUgJiZcbiAgICAgICAgICAgICgkd2luZG93LmNocm9tZS5hcHAgJiYgJHdpbmRvdy5jaHJvbWUuYXBwLnJ1bnRpbWUgfHxcbiAgICAgICAgICAgICAgICAhJHdpbmRvdy5jaHJvbWUuYXBwICYmICR3aW5kb3cuY2hyb21lLnJ1bnRpbWUgJiYgJHdpbmRvdy5jaHJvbWUucnVudGltZS5pZCksXG4gICAgICAgIGhhc0hpc3RvcnlQdXNoU3RhdGUgPSAhaXNDaHJvbWVQYWNrYWdlZEFwcCAmJiAkd2luZG93Lmhpc3RvcnkgJiYgJHdpbmRvdy5oaXN0b3J5LnB1c2hTdGF0ZSxcbiAgICAgICAgYW5kcm9pZCA9XG4gICAgICAgICAgdG9JbnQoKC9hbmRyb2lkIChcXGQrKS8uZXhlYyhsb3dlcmNhc2UoKCR3aW5kb3cubmF2aWdhdG9yIHx8IHt9KS51c2VyQWdlbnQpKSB8fCBbXSlbMV0pLFxuICAgICAgICBib3hlZSA9IC9Cb3hlZS9pLnRlc3QoKCR3aW5kb3cubmF2aWdhdG9yIHx8IHt9KS51c2VyQWdlbnQpLFxuICAgICAgICBkb2N1bWVudCA9ICRkb2N1bWVudFswXSB8fCB7fSxcbiAgICAgICAgYm9keVN0eWxlID0gZG9jdW1lbnQuYm9keSAmJiBkb2N1bWVudC5ib2R5LnN0eWxlLFxuICAgICAgICB0cmFuc2l0aW9ucyA9IGZhbHNlLFxuICAgICAgICBhbmltYXRpb25zID0gZmFsc2U7XG5cbiAgICBpZiAoYm9keVN0eWxlKSB7XG4gICAgICAvLyBTdXBwb3J0OiBBbmRyb2lkIDw1LCBCbGFja2JlcnJ5IEJyb3dzZXIgMTAsIGRlZmF1bHQgQ2hyb21lIGluIEFuZHJvaWQgNC40LnhcbiAgICAgIC8vIE1lbnRpb25lZCBicm93c2VycyBuZWVkIGEgLXdlYmtpdC0gcHJlZml4IGZvciB0cmFuc2l0aW9ucyAmIGFuaW1hdGlvbnMuXG4gICAgICB0cmFuc2l0aW9ucyA9ICEhKCd0cmFuc2l0aW9uJyBpbiBib2R5U3R5bGUgfHwgJ3dlYmtpdFRyYW5zaXRpb24nIGluIGJvZHlTdHlsZSk7XG4gICAgICBhbmltYXRpb25zID0gISEoJ2FuaW1hdGlvbicgaW4gYm9keVN0eWxlIHx8ICd3ZWJraXRBbmltYXRpb24nIGluIGJvZHlTdHlsZSk7XG4gICAgfVxuXG5cbiAgICByZXR1cm4ge1xuICAgICAgLy8gQW5kcm9pZCBoYXMgaGlzdG9yeS5wdXNoU3RhdGUsIGJ1dCBpdCBkb2VzIG5vdCB1cGRhdGUgbG9jYXRpb24gY29ycmVjdGx5XG4gICAgICAvLyBzbyBsZXQncyBub3QgdXNlIHRoZSBoaXN0b3J5IEFQSSBhdCBhbGwuXG4gICAgICAvLyBodHRwOi8vY29kZS5nb29nbGUuY29tL3AvYW5kcm9pZC9pc3N1ZXMvZGV0YWlsP2lkPTE3NDcxXG4gICAgICAvLyBodHRwczovL2dpdGh1Yi5jb20vYW5ndWxhci9hbmd1bGFyLmpzL2lzc3Vlcy85MDRcblxuICAgICAgLy8gb2xkZXIgd2Via2l0IGJyb3dzZXIgKDUzMy45KSBvbiBCb3hlZSBib3ggaGFzIGV4YWN0bHkgdGhlIHNhbWUgcHJvYmxlbSBhcyBBbmRyb2lkIGhhc1xuICAgICAgLy8gc28gbGV0J3Mgbm90IHVzZSB0aGUgaGlzdG9yeSBBUEkgYWxzb1xuICAgICAgLy8gV2UgYXJlIHB1cnBvc2VmdWxseSB1c2luZyBgIShhbmRyb2lkIDwgNClgIHRvIGNvdmVyIHRoZSBjYXNlIHdoZW4gYGFuZHJvaWRgIGlzIHVuZGVmaW5lZFxuICAgICAgaGlzdG9yeTogISEoaGFzSGlzdG9yeVB1c2hTdGF0ZSAmJiAhKGFuZHJvaWQgPCA0KSAmJiAhYm94ZWUpLFxuICAgICAgaGFzRXZlbnQ6IGZ1bmN0aW9uKGV2ZW50KSB7XG4gICAgICAgIC8vIFN1cHBvcnQ6IElFIDktMTEgb25seVxuICAgICAgICAvLyBJRTkgaW1wbGVtZW50cyAnaW5wdXQnIGV2ZW50IGl0J3Mgc28gZnViYXJlZCB0aGF0IHdlIHJhdGhlciBwcmV0ZW5kIHRoYXQgaXQgZG9lc24ndCBoYXZlXG4gICAgICAgIC8vIGl0LiBJbiBwYXJ0aWN1bGFyIHRoZSBldmVudCBpcyBub3QgZmlyZWQgd2hlbiBiYWNrc3BhY2Ugb3IgZGVsZXRlIGtleSBhcmUgcHJlc3NlZCBvclxuICAgICAgICAvLyB3aGVuIGN1dCBvcGVyYXRpb24gaXMgcGVyZm9ybWVkLlxuICAgICAgICAvLyBJRTEwKyBpbXBsZW1lbnRzICdpbnB1dCcgZXZlbnQgYnV0IGl0IGVycm9uZW91c2x5IGZpcmVzIHVuZGVyIHZhcmlvdXMgc2l0dWF0aW9ucyxcbiAgICAgICAgLy8gZS5nLiB3aGVuIHBsYWNlaG9sZGVyIGNoYW5nZXMsIG9yIGEgZm9ybSBpcyBmb2N1c2VkLlxuICAgICAgICBpZiAoZXZlbnQgPT09ICdpbnB1dCcgJiYgbXNpZSkgcmV0dXJuIGZhbHNlO1xuXG4gICAgICAgIGlmIChpc1VuZGVmaW5lZChldmVudFN1cHBvcnRbZXZlbnRdKSkge1xuICAgICAgICAgIHZhciBkaXZFbG0gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICAgICAgICBldmVudFN1cHBvcnRbZXZlbnRdID0gJ29uJyArIGV2ZW50IGluIGRpdkVsbTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBldmVudFN1cHBvcnRbZXZlbnRdO1xuICAgICAgfSxcbiAgICAgIGNzcDogY3NwKCksXG4gICAgICB0cmFuc2l0aW9uczogdHJhbnNpdGlvbnMsXG4gICAgICBhbmltYXRpb25zOiBhbmltYXRpb25zLFxuICAgICAgYW5kcm9pZDogYW5kcm9pZFxuICAgIH07XG4gIH1dO1xufVxuXG52YXIgJHRlbXBsYXRlUmVxdWVzdE1pbkVyciA9IG1pbkVycignJGNvbXBpbGUnKTtcblxuLyoqXG4gKiBAbmdkb2MgcHJvdmlkZXJcbiAqIEBuYW1lICR0ZW1wbGF0ZVJlcXVlc3RQcm92aWRlclxuICogQHRoaXNcbiAqXG4gKiBAZGVzY3JpcHRpb25cbiAqIFVzZWQgdG8gY29uZmlndXJlIHRoZSBvcHRpb25zIHBhc3NlZCB0byB0aGUge0BsaW5rICRodHRwfSBzZXJ2aWNlIHdoZW4gbWFraW5nIGEgdGVtcGxhdGUgcmVxdWVzdC5cbiAqXG4gKiBGb3IgZXhhbXBsZSwgaXQgY2FuIGJlIHVzZWQgZm9yIHNwZWNpZnlpbmcgdGhlIFwiQWNjZXB0XCIgaGVhZGVyIHRoYXQgaXMgc2VudCB0byB0aGUgc2VydmVyLCB3aGVuXG4gKiByZXF1ZXN0aW5nIGEgdGVtcGxhdGUuXG4gKi9cbmZ1bmN0aW9uICRUZW1wbGF0ZVJlcXVlc3RQcm92aWRlcigpIHtcblxuICB2YXIgaHR0cE9wdGlvbnM7XG5cbiAgLyoqXG4gICAqIEBuZ2RvYyBtZXRob2RcbiAgICogQG5hbWUgJHRlbXBsYXRlUmVxdWVzdFByb3ZpZGVyI2h0dHBPcHRpb25zXG4gICAqIEBkZXNjcmlwdGlvblxuICAgKiBUaGUgb3B0aW9ucyB0byBiZSBwYXNzZWQgdG8gdGhlIHtAbGluayAkaHR0cH0gc2VydmljZSB3aGVuIG1ha2luZyB0aGUgcmVxdWVzdC5cbiAgICogWW91IGNhbiB1c2UgdGhpcyB0byBvdmVycmlkZSBvcHRpb25zIHN1Y2ggYXMgdGhlIFwiQWNjZXB0XCIgaGVhZGVyIGZvciB0ZW1wbGF0ZSByZXF1ZXN0cy5cbiAgICpcbiAgICogVGhlIHtAbGluayAkdGVtcGxhdGVSZXF1ZXN0fSB3aWxsIHNldCB0aGUgYGNhY2hlYCBhbmQgdGhlIGB0cmFuc2Zvcm1SZXNwb25zZWAgcHJvcGVydGllcyBvZiB0aGVcbiAgICogb3B0aW9ucyBpZiBub3Qgb3ZlcnJpZGRlbiBoZXJlLlxuICAgKlxuICAgKiBAcGFyYW0ge3N0cmluZz19IHZhbHVlIG5ldyB2YWx1ZSBmb3IgdGhlIHtAbGluayAkaHR0cH0gb3B0aW9ucy5cbiAgICogQHJldHVybnMge3N0cmluZ3xzZWxmfSBSZXR1cm5zIHRoZSB7QGxpbmsgJGh0dHB9IG9wdGlvbnMgd2hlbiB1c2VkIGFzIGdldHRlciBhbmQgc2VsZiBpZiB1c2VkIGFzIHNldHRlci5cbiAgICovXG4gIHRoaXMuaHR0cE9wdGlvbnMgPSBmdW5jdGlvbih2YWwpIHtcbiAgICBpZiAodmFsKSB7XG4gICAgICBodHRwT3B0aW9ucyA9IHZhbDtcbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICByZXR1cm4gaHR0cE9wdGlvbnM7XG4gIH07XG5cbiAgLyoqXG4gICAqIEBuZ2RvYyBzZXJ2aWNlXG4gICAqIEBuYW1lICR0ZW1wbGF0ZVJlcXVlc3RcbiAgICpcbiAgICogQGRlc2NyaXB0aW9uXG4gICAqIFRoZSBgJHRlbXBsYXRlUmVxdWVzdGAgc2VydmljZSBydW5zIHNlY3VyaXR5IGNoZWNrcyB0aGVuIGRvd25sb2FkcyB0aGUgcHJvdmlkZWQgdGVtcGxhdGUgdXNpbmdcbiAgICogYCRodHRwYCBhbmQsIHVwb24gc3VjY2Vzcywgc3RvcmVzIHRoZSBjb250ZW50cyBpbnNpZGUgb2YgYCR0ZW1wbGF0ZUNhY2hlYC4gSWYgdGhlIEhUVFAgcmVxdWVzdFxuICAgKiBmYWlscyBvciB0aGUgcmVzcG9uc2UgZGF0YSBvZiB0aGUgSFRUUCByZXF1ZXN0IGlzIGVtcHR5LCBhIGAkY29tcGlsZWAgZXJyb3Igd2lsbCBiZSB0aHJvd24gKHRoZVxuICAgKiBleGNlcHRpb24gY2FuIGJlIHRod2FydGVkIGJ5IHNldHRpbmcgdGhlIDJuZCBwYXJhbWV0ZXIgb2YgdGhlIGZ1bmN0aW9uIHRvIHRydWUpLiBOb3RlIHRoYXQgdGhlXG4gICAqIGNvbnRlbnRzIG9mIGAkdGVtcGxhdGVDYWNoZWAgYXJlIHRydXN0ZWQsIHNvIHRoZSBjYWxsIHRvIGAkc2NlLmdldFRydXN0ZWRVcmwodHBsKWAgaXMgb21pdHRlZFxuICAgKiB3aGVuIGB0cGxgIGlzIG9mIHR5cGUgc3RyaW5nIGFuZCBgJHRlbXBsYXRlQ2FjaGVgIGhhcyB0aGUgbWF0Y2hpbmcgZW50cnkuXG4gICAqXG4gICAqIElmIHlvdSB3YW50IHRvIHBhc3MgY3VzdG9tIG9wdGlvbnMgdG8gdGhlIGAkaHR0cGAgc2VydmljZSwgc3VjaCBhcyBzZXR0aW5nIHRoZSBBY2NlcHQgaGVhZGVyIHlvdVxuICAgKiBjYW4gY29uZmlndXJlIHRoaXMgdmlhIHtAbGluayAkdGVtcGxhdGVSZXF1ZXN0UHJvdmlkZXIjaHR0cE9wdGlvbnN9LlxuICAgKlxuICAgKiBAcGFyYW0ge3N0cmluZ3xUcnVzdGVkUmVzb3VyY2VVcmx9IHRwbCBUaGUgSFRUUCByZXF1ZXN0IHRlbXBsYXRlIFVSTFxuICAgKiBAcGFyYW0ge2Jvb2xlYW49fSBpZ25vcmVSZXF1ZXN0RXJyb3IgV2hldGhlciBvciBub3QgdG8gaWdub3JlIHRoZSBleGNlcHRpb24gd2hlbiB0aGUgcmVxdWVzdCBmYWlscyBvciB0aGUgdGVtcGxhdGUgaXMgZW1wdHlcbiAgICpcbiAgICogQHJldHVybiB7UHJvbWlzZX0gYSBwcm9taXNlIGZvciB0aGUgSFRUUCByZXNwb25zZSBkYXRhIG9mIHRoZSBnaXZlbiBVUkwuXG4gICAqXG4gICAqIEBwcm9wZXJ0eSB7bnVtYmVyfSB0b3RhbFBlbmRpbmdSZXF1ZXN0cyB0b3RhbCBhbW91bnQgb2YgcGVuZGluZyB0ZW1wbGF0ZSByZXF1ZXN0cyBiZWluZyBkb3dubG9hZGVkLlxuICAgKi9cbiAgdGhpcy4kZ2V0ID0gWyckZXhjZXB0aW9uSGFuZGxlcicsICckdGVtcGxhdGVDYWNoZScsICckaHR0cCcsICckcScsICckc2NlJyxcbiAgICBmdW5jdGlvbigkZXhjZXB0aW9uSGFuZGxlciwgJHRlbXBsYXRlQ2FjaGUsICRodHRwLCAkcSwgJHNjZSkge1xuXG4gICAgICBmdW5jdGlvbiBoYW5kbGVSZXF1ZXN0Rm4odHBsLCBpZ25vcmVSZXF1ZXN0RXJyb3IpIHtcbiAgICAgICAgaGFuZGxlUmVxdWVzdEZuLnRvdGFsUGVuZGluZ1JlcXVlc3RzKys7XG5cbiAgICAgICAgLy8gV2UgY29uc2lkZXIgdGhlIHRlbXBsYXRlIGNhY2hlIGhvbGRzIG9ubHkgdHJ1c3RlZCB0ZW1wbGF0ZXMsIHNvXG4gICAgICAgIC8vIHRoZXJlJ3Mgbm8gbmVlZCB0byBnbyB0aHJvdWdoIHdoaXRlbGlzdGluZyBhZ2FpbiBmb3Iga2V5cyB0aGF0IGFscmVhZHlcbiAgICAgICAgLy8gYXJlIGluY2x1ZGVkIGluIHRoZXJlLiBUaGlzIGFsc28gbWFrZXMgQW5ndWxhciBhY2NlcHQgYW55IHNjcmlwdFxuICAgICAgICAvLyBkaXJlY3RpdmUsIG5vIG1hdHRlciBpdHMgbmFtZS4gSG93ZXZlciwgd2Ugc3RpbGwgbmVlZCB0byB1bndyYXAgdHJ1c3RlZFxuICAgICAgICAvLyB0eXBlcy5cbiAgICAgICAgaWYgKCFpc1N0cmluZyh0cGwpIHx8IGlzVW5kZWZpbmVkKCR0ZW1wbGF0ZUNhY2hlLmdldCh0cGwpKSkge1xuICAgICAgICAgIHRwbCA9ICRzY2UuZ2V0VHJ1c3RlZFJlc291cmNlVXJsKHRwbCk7XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgdHJhbnNmb3JtUmVzcG9uc2UgPSAkaHR0cC5kZWZhdWx0cyAmJiAkaHR0cC5kZWZhdWx0cy50cmFuc2Zvcm1SZXNwb25zZTtcblxuICAgICAgICBpZiAoaXNBcnJheSh0cmFuc2Zvcm1SZXNwb25zZSkpIHtcbiAgICAgICAgICB0cmFuc2Zvcm1SZXNwb25zZSA9IHRyYW5zZm9ybVJlc3BvbnNlLmZpbHRlcihmdW5jdGlvbih0cmFuc2Zvcm1lcikge1xuICAgICAgICAgICAgcmV0dXJuIHRyYW5zZm9ybWVyICE9PSBkZWZhdWx0SHR0cFJlc3BvbnNlVHJhbnNmb3JtO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9IGVsc2UgaWYgKHRyYW5zZm9ybVJlc3BvbnNlID09PSBkZWZhdWx0SHR0cFJlc3BvbnNlVHJhbnNmb3JtKSB7XG4gICAgICAgICAgdHJhbnNmb3JtUmVzcG9uc2UgPSBudWxsO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuICRodHRwLmdldCh0cGwsIGV4dGVuZCh7XG4gICAgICAgICAgICBjYWNoZTogJHRlbXBsYXRlQ2FjaGUsXG4gICAgICAgICAgICB0cmFuc2Zvcm1SZXNwb25zZTogdHJhbnNmb3JtUmVzcG9uc2VcbiAgICAgICAgICB9LCBodHRwT3B0aW9ucykpXG4gICAgICAgICAgLmZpbmFsbHkoZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICBoYW5kbGVSZXF1ZXN0Rm4udG90YWxQZW5kaW5nUmVxdWVzdHMtLTtcbiAgICAgICAgICB9KVxuICAgICAgICAgIC50aGVuKGZ1bmN0aW9uKHJlc3BvbnNlKSB7XG4gICAgICAgICAgICAkdGVtcGxhdGVDYWNoZS5wdXQodHBsLCByZXNwb25zZS5kYXRhKTtcbiAgICAgICAgICAgIHJldHVybiByZXNwb25zZS5kYXRhO1xuICAgICAgICAgIH0sIGhhbmRsZUVycm9yKTtcblxuICAgICAgICBmdW5jdGlvbiBoYW5kbGVFcnJvcihyZXNwKSB7XG4gICAgICAgICAgaWYgKCFpZ25vcmVSZXF1ZXN0RXJyb3IpIHtcbiAgICAgICAgICAgIHJlc3AgPSAkdGVtcGxhdGVSZXF1ZXN0TWluRXJyKCd0cGxvYWQnLFxuICAgICAgICAgICAgICAgICdGYWlsZWQgdG8gbG9hZCB0ZW1wbGF0ZTogezB9IChIVFRQIHN0YXR1czogezF9IHsyfSknLFxuICAgICAgICAgICAgICAgIHRwbCwgcmVzcC5zdGF0dXMsIHJlc3Auc3RhdHVzVGV4dCk7XG5cbiAgICAgICAgICAgICRleGNlcHRpb25IYW5kbGVyKHJlc3ApO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIHJldHVybiAkcS5yZWplY3QocmVzcCk7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgaGFuZGxlUmVxdWVzdEZuLnRvdGFsUGVuZGluZ1JlcXVlc3RzID0gMDtcblxuICAgICAgcmV0dXJuIGhhbmRsZVJlcXVlc3RGbjtcbiAgICB9XG4gIF07XG59XG5cbi8qKiBAdGhpcyAqL1xuZnVuY3Rpb24gJCRUZXN0YWJpbGl0eVByb3ZpZGVyKCkge1xuICB0aGlzLiRnZXQgPSBbJyRyb290U2NvcGUnLCAnJGJyb3dzZXInLCAnJGxvY2F0aW9uJyxcbiAgICAgICBmdW5jdGlvbigkcm9vdFNjb3BlLCAgICRicm93c2VyLCAgICRsb2NhdGlvbikge1xuXG4gICAgLyoqXG4gICAgICogQG5hbWUgJHRlc3RhYmlsaXR5XG4gICAgICpcbiAgICAgKiBAZGVzY3JpcHRpb25cbiAgICAgKiBUaGUgcHJpdmF0ZSAkJHRlc3RhYmlsaXR5IHNlcnZpY2UgcHJvdmlkZXMgYSBjb2xsZWN0aW9uIG9mIG1ldGhvZHMgZm9yIHVzZSB3aGVuIGRlYnVnZ2luZ1xuICAgICAqIG9yIGJ5IGF1dG9tYXRlZCB0ZXN0IGFuZCBkZWJ1Z2dpbmcgdG9vbHMuXG4gICAgICovXG4gICAgdmFyIHRlc3RhYmlsaXR5ID0ge307XG5cbiAgICAvKipcbiAgICAgKiBAbmFtZSAkJHRlc3RhYmlsaXR5I2ZpbmRCaW5kaW5nc1xuICAgICAqXG4gICAgICogQGRlc2NyaXB0aW9uXG4gICAgICogUmV0dXJucyBhbiBhcnJheSBvZiBlbGVtZW50cyB0aGF0IGFyZSBib3VuZCAodmlhIG5nLWJpbmQgb3Ige3t9fSlcbiAgICAgKiB0byBleHByZXNzaW9ucyBtYXRjaGluZyB0aGUgaW5wdXQuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge0VsZW1lbnR9IGVsZW1lbnQgVGhlIGVsZW1lbnQgcm9vdCB0byBzZWFyY2ggZnJvbS5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gZXhwcmVzc2lvbiBUaGUgYmluZGluZyBleHByZXNzaW9uIHRvIG1hdGNoLlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gb3B0X2V4YWN0TWF0Y2ggSWYgdHJ1ZSwgb25seSByZXR1cm5zIGV4YWN0IG1hdGNoZXNcbiAgICAgKiAgICAgZm9yIHRoZSBleHByZXNzaW9uLiBGaWx0ZXJzIGFuZCB3aGl0ZXNwYWNlIGFyZSBpZ25vcmVkLlxuICAgICAqL1xuICAgIHRlc3RhYmlsaXR5LmZpbmRCaW5kaW5ncyA9IGZ1bmN0aW9uKGVsZW1lbnQsIGV4cHJlc3Npb24sIG9wdF9leGFjdE1hdGNoKSB7XG4gICAgICB2YXIgYmluZGluZ3MgPSBlbGVtZW50LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoJ25nLWJpbmRpbmcnKTtcbiAgICAgIHZhciBtYXRjaGVzID0gW107XG4gICAgICBmb3JFYWNoKGJpbmRpbmdzLCBmdW5jdGlvbihiaW5kaW5nKSB7XG4gICAgICAgIHZhciBkYXRhQmluZGluZyA9IGFuZ3VsYXIuZWxlbWVudChiaW5kaW5nKS5kYXRhKCckYmluZGluZycpO1xuICAgICAgICBpZiAoZGF0YUJpbmRpbmcpIHtcbiAgICAgICAgICBmb3JFYWNoKGRhdGFCaW5kaW5nLCBmdW5jdGlvbihiaW5kaW5nTmFtZSkge1xuICAgICAgICAgICAgaWYgKG9wdF9leGFjdE1hdGNoKSB7XG4gICAgICAgICAgICAgIHZhciBtYXRjaGVyID0gbmV3IFJlZ0V4cCgnKF58XFxcXHMpJyArIGVzY2FwZUZvclJlZ2V4cChleHByZXNzaW9uKSArICcoXFxcXHN8XFxcXHx8JCknKTtcbiAgICAgICAgICAgICAgaWYgKG1hdGNoZXIudGVzdChiaW5kaW5nTmFtZSkpIHtcbiAgICAgICAgICAgICAgICBtYXRjaGVzLnB1c2goYmluZGluZyk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIGlmIChiaW5kaW5nTmFtZS5pbmRleE9mKGV4cHJlc3Npb24pICE9PSAtMSkge1xuICAgICAgICAgICAgICAgIG1hdGNoZXMucHVzaChiaW5kaW5nKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICAgIHJldHVybiBtYXRjaGVzO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBAbmFtZSAkJHRlc3RhYmlsaXR5I2ZpbmRNb2RlbHNcbiAgICAgKlxuICAgICAqIEBkZXNjcmlwdGlvblxuICAgICAqIFJldHVybnMgYW4gYXJyYXkgb2YgZWxlbWVudHMgdGhhdCBhcmUgdHdvLXdheSBmb3VuZCB2aWEgbmctbW9kZWwgdG9cbiAgICAgKiBleHByZXNzaW9ucyBtYXRjaGluZyB0aGUgaW5wdXQuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge0VsZW1lbnR9IGVsZW1lbnQgVGhlIGVsZW1lbnQgcm9vdCB0byBzZWFyY2ggZnJvbS5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gZXhwcmVzc2lvbiBUaGUgbW9kZWwgZXhwcmVzc2lvbiB0byBtYXRjaC5cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IG9wdF9leGFjdE1hdGNoIElmIHRydWUsIG9ubHkgcmV0dXJucyBleGFjdCBtYXRjaGVzXG4gICAgICogICAgIGZvciB0aGUgZXhwcmVzc2lvbi5cbiAgICAgKi9cbiAgICB0ZXN0YWJpbGl0eS5maW5kTW9kZWxzID0gZnVuY3Rpb24oZWxlbWVudCwgZXhwcmVzc2lvbiwgb3B0X2V4YWN0TWF0Y2gpIHtcbiAgICAgIHZhciBwcmVmaXhlcyA9IFsnbmctJywgJ2RhdGEtbmctJywgJ25nXFxcXDonXTtcbiAgICAgIGZvciAodmFyIHAgPSAwOyBwIDwgcHJlZml4ZXMubGVuZ3RoOyArK3ApIHtcbiAgICAgICAgdmFyIGF0dHJpYnV0ZUVxdWFscyA9IG9wdF9leGFjdE1hdGNoID8gJz0nIDogJyo9JztcbiAgICAgICAgdmFyIHNlbGVjdG9yID0gJ1snICsgcHJlZml4ZXNbcF0gKyAnbW9kZWwnICsgYXR0cmlidXRlRXF1YWxzICsgJ1wiJyArIGV4cHJlc3Npb24gKyAnXCJdJztcbiAgICAgICAgdmFyIGVsZW1lbnRzID0gZWxlbWVudC5xdWVyeVNlbGVjdG9yQWxsKHNlbGVjdG9yKTtcbiAgICAgICAgaWYgKGVsZW1lbnRzLmxlbmd0aCkge1xuICAgICAgICAgIHJldHVybiBlbGVtZW50cztcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBAbmFtZSAkJHRlc3RhYmlsaXR5I2dldExvY2F0aW9uXG4gICAgICpcbiAgICAgKiBAZGVzY3JpcHRpb25cbiAgICAgKiBTaG9ydGN1dCBmb3IgZ2V0dGluZyB0aGUgbG9jYXRpb24gaW4gYSBicm93c2VyIGFnbm9zdGljIHdheS4gUmV0dXJuc1xuICAgICAqICAgICB0aGUgcGF0aCwgc2VhcmNoLCBhbmQgaGFzaC4gKGUuZy4gL3BhdGg/YT1iI2hhc2gpXG4gICAgICovXG4gICAgdGVzdGFiaWxpdHkuZ2V0TG9jYXRpb24gPSBmdW5jdGlvbigpIHtcbiAgICAgIHJldHVybiAkbG9jYXRpb24udXJsKCk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIEBuYW1lICQkdGVzdGFiaWxpdHkjc2V0TG9jYXRpb25cbiAgICAgKlxuICAgICAqIEBkZXNjcmlwdGlvblxuICAgICAqIFNob3J0Y3V0IGZvciBuYXZpZ2F0aW5nIHRvIGEgbG9jYXRpb24gd2l0aG91dCBkb2luZyBhIGZ1bGwgcGFnZSByZWxvYWQuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gdXJsIFRoZSBsb2NhdGlvbiB1cmwgKHBhdGgsIHNlYXJjaCBhbmQgaGFzaCxcbiAgICAgKiAgICAgZS5nLiAvcGF0aD9hPWIjaGFzaCkgdG8gZ28gdG8uXG4gICAgICovXG4gICAgdGVzdGFiaWxpdHkuc2V0TG9jYXRpb24gPSBmdW5jdGlvbih1cmwpIHtcbiAgICAgIGlmICh1cmwgIT09ICRsb2NhdGlvbi51cmwoKSkge1xuICAgICAgICAkbG9jYXRpb24udXJsKHVybCk7XG4gICAgICAgICRyb290U2NvcGUuJGRpZ2VzdCgpO1xuICAgICAgfVxuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBAbmFtZSAkJHRlc3RhYmlsaXR5I3doZW5TdGFibGVcbiAgICAgKlxuICAgICAqIEBkZXNjcmlwdGlvblxuICAgICAqIENhbGxzIHRoZSBjYWxsYmFjayB3aGVuICR0aW1lb3V0IGFuZCAkaHR0cCByZXF1ZXN0cyBhcmUgY29tcGxldGVkLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtmdW5jdGlvbn0gY2FsbGJhY2tcbiAgICAgKi9cbiAgICB0ZXN0YWJpbGl0eS53aGVuU3RhYmxlID0gZnVuY3Rpb24oY2FsbGJhY2spIHtcbiAgICAgICRicm93c2VyLm5vdGlmeVdoZW5Ob091dHN0YW5kaW5nUmVxdWVzdHMoY2FsbGJhY2spO1xuICAgIH07XG5cbiAgICByZXR1cm4gdGVzdGFiaWxpdHk7XG4gIH1dO1xufVxuXG4vKiogQHRoaXMgKi9cbmZ1bmN0aW9uICRUaW1lb3V0UHJvdmlkZXIoKSB7XG4gIHRoaXMuJGdldCA9IFsnJHJvb3RTY29wZScsICckYnJvd3NlcicsICckcScsICckJHEnLCAnJGV4Y2VwdGlvbkhhbmRsZXInLFxuICAgICAgIGZ1bmN0aW9uKCRyb290U2NvcGUsICAgJGJyb3dzZXIsICAgJHEsICAgJCRxLCAgICRleGNlcHRpb25IYW5kbGVyKSB7XG5cbiAgICB2YXIgZGVmZXJyZWRzID0ge307XG5cblxuICAgICAvKipcbiAgICAgICogQG5nZG9jIHNlcnZpY2VcbiAgICAgICogQG5hbWUgJHRpbWVvdXRcbiAgICAgICpcbiAgICAgICogQGRlc2NyaXB0aW9uXG4gICAgICAqIEFuZ3VsYXIncyB3cmFwcGVyIGZvciBgd2luZG93LnNldFRpbWVvdXRgLiBUaGUgYGZuYCBmdW5jdGlvbiBpcyB3cmFwcGVkIGludG8gYSB0cnkvY2F0Y2hcbiAgICAgICogYmxvY2sgYW5kIGRlbGVnYXRlcyBhbnkgZXhjZXB0aW9ucyB0b1xuICAgICAgKiB7QGxpbmsgbmcuJGV4Y2VwdGlvbkhhbmRsZXIgJGV4Y2VwdGlvbkhhbmRsZXJ9IHNlcnZpY2UuXG4gICAgICAqXG4gICAgICAqIFRoZSByZXR1cm4gdmFsdWUgb2YgY2FsbGluZyBgJHRpbWVvdXRgIGlzIGEgcHJvbWlzZSwgd2hpY2ggd2lsbCBiZSByZXNvbHZlZCB3aGVuXG4gICAgICAqIHRoZSBkZWxheSBoYXMgcGFzc2VkIGFuZCB0aGUgdGltZW91dCBmdW5jdGlvbiwgaWYgcHJvdmlkZWQsIGlzIGV4ZWN1dGVkLlxuICAgICAgKlxuICAgICAgKiBUbyBjYW5jZWwgYSB0aW1lb3V0IHJlcXVlc3QsIGNhbGwgYCR0aW1lb3V0LmNhbmNlbChwcm9taXNlKWAuXG4gICAgICAqXG4gICAgICAqIEluIHRlc3RzIHlvdSBjYW4gdXNlIHtAbGluayBuZ01vY2suJHRpbWVvdXQgYCR0aW1lb3V0LmZsdXNoKClgfSB0b1xuICAgICAgKiBzeW5jaHJvbm91c2x5IGZsdXNoIHRoZSBxdWV1ZSBvZiBkZWZlcnJlZCBmdW5jdGlvbnMuXG4gICAgICAqXG4gICAgICAqIElmIHlvdSBvbmx5IHdhbnQgYSBwcm9taXNlIHRoYXQgd2lsbCBiZSByZXNvbHZlZCBhZnRlciBzb21lIHNwZWNpZmllZCBkZWxheVxuICAgICAgKiB0aGVuIHlvdSBjYW4gY2FsbCBgJHRpbWVvdXRgIHdpdGhvdXQgdGhlIGBmbmAgZnVuY3Rpb24uXG4gICAgICAqXG4gICAgICAqIEBwYXJhbSB7ZnVuY3Rpb24oKT19IGZuIEEgZnVuY3Rpb24sIHdob3NlIGV4ZWN1dGlvbiBzaG91bGQgYmUgZGVsYXllZC5cbiAgICAgICogQHBhcmFtIHtudW1iZXI9fSBbZGVsYXk9MF0gRGVsYXkgaW4gbWlsbGlzZWNvbmRzLlxuICAgICAgKiBAcGFyYW0ge2Jvb2xlYW49fSBbaW52b2tlQXBwbHk9dHJ1ZV0gSWYgc2V0IHRvIGBmYWxzZWAgc2tpcHMgbW9kZWwgZGlydHkgY2hlY2tpbmcsIG90aGVyd2lzZVxuICAgICAgKiAgIHdpbGwgaW52b2tlIGBmbmAgd2l0aGluIHRoZSB7QGxpbmsgbmcuJHJvb3RTY29wZS5TY29wZSMkYXBwbHkgJGFwcGx5fSBibG9jay5cbiAgICAgICogQHBhcmFtIHsuLi4qPX0gUGFzcyBhZGRpdGlvbmFsIHBhcmFtZXRlcnMgdG8gdGhlIGV4ZWN1dGVkIGZ1bmN0aW9uLlxuICAgICAgKiBAcmV0dXJucyB7UHJvbWlzZX0gUHJvbWlzZSB0aGF0IHdpbGwgYmUgcmVzb2x2ZWQgd2hlbiB0aGUgdGltZW91dCBpcyByZWFjaGVkLiBUaGUgcHJvbWlzZVxuICAgICAgKiAgIHdpbGwgYmUgcmVzb2x2ZWQgd2l0aCB0aGUgcmV0dXJuIHZhbHVlIG9mIHRoZSBgZm5gIGZ1bmN0aW9uLlxuICAgICAgKlxuICAgICAgKi9cbiAgICBmdW5jdGlvbiB0aW1lb3V0KGZuLCBkZWxheSwgaW52b2tlQXBwbHkpIHtcbiAgICAgIGlmICghaXNGdW5jdGlvbihmbikpIHtcbiAgICAgICAgaW52b2tlQXBwbHkgPSBkZWxheTtcbiAgICAgICAgZGVsYXkgPSBmbjtcbiAgICAgICAgZm4gPSBub29wO1xuICAgICAgfVxuXG4gICAgICB2YXIgYXJncyA9IHNsaWNlQXJncyhhcmd1bWVudHMsIDMpLFxuICAgICAgICAgIHNraXBBcHBseSA9IChpc0RlZmluZWQoaW52b2tlQXBwbHkpICYmICFpbnZva2VBcHBseSksXG4gICAgICAgICAgZGVmZXJyZWQgPSAoc2tpcEFwcGx5ID8gJCRxIDogJHEpLmRlZmVyKCksXG4gICAgICAgICAgcHJvbWlzZSA9IGRlZmVycmVkLnByb21pc2UsXG4gICAgICAgICAgdGltZW91dElkO1xuXG4gICAgICB0aW1lb3V0SWQgPSAkYnJvd3Nlci5kZWZlcihmdW5jdGlvbigpIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICBkZWZlcnJlZC5yZXNvbHZlKGZuLmFwcGx5KG51bGwsIGFyZ3MpKTtcbiAgICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAgIGRlZmVycmVkLnJlamVjdChlKTtcbiAgICAgICAgICAkZXhjZXB0aW9uSGFuZGxlcihlKTtcbiAgICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgICBkZWxldGUgZGVmZXJyZWRzW3Byb21pc2UuJCR0aW1lb3V0SWRdO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKCFza2lwQXBwbHkpICRyb290U2NvcGUuJGFwcGx5KCk7XG4gICAgICB9LCBkZWxheSk7XG5cbiAgICAgIHByb21pc2UuJCR0aW1lb3V0SWQgPSB0aW1lb3V0SWQ7XG4gICAgICBkZWZlcnJlZHNbdGltZW91dElkXSA9IGRlZmVycmVkO1xuXG4gICAgICByZXR1cm4gcHJvbWlzZTtcbiAgICB9XG5cblxuICAgICAvKipcbiAgICAgICogQG5nZG9jIG1ldGhvZFxuICAgICAgKiBAbmFtZSAkdGltZW91dCNjYW5jZWxcbiAgICAgICpcbiAgICAgICogQGRlc2NyaXB0aW9uXG4gICAgICAqIENhbmNlbHMgYSB0YXNrIGFzc29jaWF0ZWQgd2l0aCB0aGUgYHByb21pc2VgLiBBcyBhIHJlc3VsdCBvZiB0aGlzLCB0aGUgcHJvbWlzZSB3aWxsIGJlXG4gICAgICAqIHJlc29sdmVkIHdpdGggYSByZWplY3Rpb24uXG4gICAgICAqXG4gICAgICAqIEBwYXJhbSB7UHJvbWlzZT19IHByb21pc2UgUHJvbWlzZSByZXR1cm5lZCBieSB0aGUgYCR0aW1lb3V0YCBmdW5jdGlvbi5cbiAgICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIHRoZSB0YXNrIGhhc24ndCBleGVjdXRlZCB5ZXQgYW5kIHdhcyBzdWNjZXNzZnVsbHlcbiAgICAgICogICBjYW5jZWxlZC5cbiAgICAgICovXG4gICAgdGltZW91dC5jYW5jZWwgPSBmdW5jdGlvbihwcm9taXNlKSB7XG4gICAgICBpZiAocHJvbWlzZSAmJiBwcm9taXNlLiQkdGltZW91dElkIGluIGRlZmVycmVkcykge1xuICAgICAgICAvLyBUaW1lb3V0IGNhbmNlbHMgc2hvdWxkIG5vdCByZXBvcnQgYW4gdW5oYW5kbGVkIHByb21pc2UuXG4gICAgICAgIGRlZmVycmVkc1twcm9taXNlLiQkdGltZW91dElkXS5wcm9taXNlLmNhdGNoKG5vb3ApO1xuICAgICAgICBkZWZlcnJlZHNbcHJvbWlzZS4kJHRpbWVvdXRJZF0ucmVqZWN0KCdjYW5jZWxlZCcpO1xuICAgICAgICBkZWxldGUgZGVmZXJyZWRzW3Byb21pc2UuJCR0aW1lb3V0SWRdO1xuICAgICAgICByZXR1cm4gJGJyb3dzZXIuZGVmZXIuY2FuY2VsKHByb21pc2UuJCR0aW1lb3V0SWQpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH07XG5cbiAgICByZXR1cm4gdGltZW91dDtcbiAgfV07XG59XG5cbi8vIE5PVEU6ICBUaGUgdXNhZ2Ugb2Ygd2luZG93IGFuZCBkb2N1bWVudCBpbnN0ZWFkIG9mICR3aW5kb3cgYW5kICRkb2N1bWVudCBoZXJlIGlzXG4vLyBkZWxpYmVyYXRlLiAgVGhpcyBzZXJ2aWNlIGRlcGVuZHMgb24gdGhlIHNwZWNpZmljIGJlaGF2aW9yIG9mIGFuY2hvciBub2RlcyBjcmVhdGVkIGJ5IHRoZVxuLy8gYnJvd3NlciAocmVzb2x2aW5nIGFuZCBwYXJzaW5nIFVSTHMpIHRoYXQgaXMgdW5saWtlbHkgdG8gYmUgcHJvdmlkZWQgYnkgbW9jayBvYmplY3RzIGFuZFxuLy8gY2F1c2UgdXMgdG8gYnJlYWsgdGVzdHMuICBJbiBhZGRpdGlvbiwgd2hlbiB0aGUgYnJvd3NlciByZXNvbHZlcyBhIFVSTCBmb3IgWEhSLCBpdFxuLy8gZG9lc24ndCBrbm93IGFib3V0IG1vY2tlZCBsb2NhdGlvbnMgYW5kIHJlc29sdmVzIFVSTHMgdG8gdGhlIHJlYWwgZG9jdW1lbnQgLSB3aGljaCBpc1xuLy8gZXhhY3RseSB0aGUgYmVoYXZpb3IgbmVlZGVkIGhlcmUuICBUaGVyZSBpcyBsaXR0bGUgdmFsdWUgaXMgbW9ja2luZyB0aGVzZSBvdXQgZm9yIHRoaXNcbi8vIHNlcnZpY2UuXG52YXIgdXJsUGFyc2luZ05vZGUgPSB3aW5kb3cuZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYScpO1xudmFyIG9yaWdpblVybCA9IHVybFJlc29sdmUod2luZG93LmxvY2F0aW9uLmhyZWYpO1xuXG5cbi8qKlxuICpcbiAqIEltcGxlbWVudGF0aW9uIE5vdGVzIGZvciBub24tSUUgYnJvd3NlcnNcbiAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAqIEFzc2lnbmluZyBhIFVSTCB0byB0aGUgaHJlZiBwcm9wZXJ0eSBvZiBhbiBhbmNob3IgRE9NIG5vZGUsIGV2ZW4gb25lIGF0dGFjaGVkIHRvIHRoZSBET00sXG4gKiByZXN1bHRzIGJvdGggaW4gdGhlIG5vcm1hbGl6aW5nIGFuZCBwYXJzaW5nIG9mIHRoZSBVUkwuICBOb3JtYWxpemluZyBtZWFucyB0aGF0IGEgcmVsYXRpdmVcbiAqIFVSTCB3aWxsIGJlIHJlc29sdmVkIGludG8gYW4gYWJzb2x1dGUgVVJMIGluIHRoZSBjb250ZXh0IG9mIHRoZSBhcHBsaWNhdGlvbiBkb2N1bWVudC5cbiAqIFBhcnNpbmcgbWVhbnMgdGhhdCB0aGUgYW5jaG9yIG5vZGUncyBob3N0LCBob3N0bmFtZSwgcHJvdG9jb2wsIHBvcnQsIHBhdGhuYW1lIGFuZCByZWxhdGVkXG4gKiBwcm9wZXJ0aWVzIGFyZSBhbGwgcG9wdWxhdGVkIHRvIHJlZmxlY3QgdGhlIG5vcm1hbGl6ZWQgVVJMLiAgVGhpcyBhcHByb2FjaCBoYXMgd2lkZVxuICogY29tcGF0aWJpbGl0eSAtIFNhZmFyaSAxKywgTW96aWxsYSAxKyBldGMuICBTZWVcbiAqIGh0dHA6Ly93d3cuYXB0YW5hLmNvbS9yZWZlcmVuY2UvaHRtbC9hcGkvSFRNTEFuY2hvckVsZW1lbnQuaHRtbFxuICpcbiAqIEltcGxlbWVudGF0aW9uIE5vdGVzIGZvciBJRVxuICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gKiBJRSA8PSAxMCBub3JtYWxpemVzIHRoZSBVUkwgd2hlbiBhc3NpZ25lZCB0byB0aGUgYW5jaG9yIG5vZGUgc2ltaWxhciB0byB0aGUgb3RoZXJcbiAqIGJyb3dzZXJzLiAgSG93ZXZlciwgdGhlIHBhcnNlZCBjb21wb25lbnRzIHdpbGwgbm90IGJlIHNldCBpZiB0aGUgVVJMIGFzc2lnbmVkIGRpZCBub3Qgc3BlY2lmeVxuICogdGhlbS4gIChlLmcuIGlmIHlvdSBhc3NpZ24gYS5ocmVmID0gXCJmb29cIiwgdGhlbiBhLnByb3RvY29sLCBhLmhvc3QsIGV0Yy4gd2lsbCBiZSBlbXB0eS4pICBXZVxuICogd29yayBhcm91bmQgdGhhdCBieSBwZXJmb3JtaW5nIHRoZSBwYXJzaW5nIGluIGEgMm5kIHN0ZXAgYnkgdGFraW5nIGEgcHJldmlvdXNseSBub3JtYWxpemVkXG4gKiBVUkwgKGUuZy4gYnkgYXNzaWduaW5nIHRvIGEuaHJlZikgYW5kIGFzc2lnbmluZyBpdCBhLmhyZWYgYWdhaW4uICBUaGlzIGNvcnJlY3RseSBwb3B1bGF0ZXMgdGhlXG4gKiBwcm9wZXJ0aWVzIHN1Y2ggYXMgcHJvdG9jb2wsIGhvc3RuYW1lLCBwb3J0LCBldGMuXG4gKlxuICogUmVmZXJlbmNlczpcbiAqICAgaHR0cDovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9BUEkvSFRNTEFuY2hvckVsZW1lbnRcbiAqICAgaHR0cDovL3d3dy5hcHRhbmEuY29tL3JlZmVyZW5jZS9odG1sL2FwaS9IVE1MQW5jaG9yRWxlbWVudC5odG1sXG4gKiAgIGh0dHA6Ly91cmwuc3BlYy53aGF0d2cub3JnLyN1cmx1dGlsc1xuICogICBodHRwczovL2dpdGh1Yi5jb20vYW5ndWxhci9hbmd1bGFyLmpzL3B1bGwvMjkwMlxuICogICBodHRwOi8vamFtZXMucGFkb2xzZXkuY29tL2phdmFzY3JpcHQvcGFyc2luZy11cmxzLXdpdGgtdGhlLWRvbS9cbiAqXG4gKiBAa2luZCBmdW5jdGlvblxuICogQHBhcmFtIHtzdHJpbmd9IHVybCBUaGUgVVJMIHRvIGJlIHBhcnNlZC5cbiAqIEBkZXNjcmlwdGlvbiBOb3JtYWxpemVzIGFuZCBwYXJzZXMgYSBVUkwuXG4gKiBAcmV0dXJucyB7b2JqZWN0fSBSZXR1cm5zIHRoZSBub3JtYWxpemVkIFVSTCBhcyBhIGRpY3Rpb25hcnkuXG4gKlxuICogICB8IG1lbWJlciBuYW1lICAgfCBEZXNjcmlwdGlvbiAgICB8XG4gKiAgIHwtLS0tLS0tLS0tLS0tLS18LS0tLS0tLS0tLS0tLS0tLXxcbiAqICAgfCBocmVmICAgICAgICAgIHwgQSBub3JtYWxpemVkIHZlcnNpb24gb2YgdGhlIHByb3ZpZGVkIFVSTCBpZiBpdCB3YXMgbm90IGFuIGFic29sdXRlIFVSTCB8XG4gKiAgIHwgcHJvdG9jb2wgICAgICB8IFRoZSBwcm90b2NvbCBpbmNsdWRpbmcgdGhlIHRyYWlsaW5nIGNvbG9uICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfFxuICogICB8IGhvc3QgICAgICAgICAgfCBUaGUgaG9zdCBhbmQgcG9ydCAoaWYgdGhlIHBvcnQgaXMgbm9uLWRlZmF1bHQpIG9mIHRoZSBub3JtYWxpemVkVXJsICAgIHxcbiAqICAgfCBzZWFyY2ggICAgICAgIHwgVGhlIHNlYXJjaCBwYXJhbXMsIG1pbnVzIHRoZSBxdWVzdGlvbiBtYXJrICAgICAgICAgICAgICAgICAgICAgICAgICAgICB8XG4gKiAgIHwgaGFzaCAgICAgICAgICB8IFRoZSBoYXNoIHN0cmluZywgbWludXMgdGhlIGhhc2ggc3ltYm9sXG4gKiAgIHwgaG9zdG5hbWUgICAgICB8IFRoZSBob3N0bmFtZVxuICogICB8IHBvcnQgICAgICAgICAgfCBUaGUgcG9ydCwgd2l0aG91dCBcIjpcIlxuICogICB8IHBhdGhuYW1lICAgICAgfCBUaGUgcGF0aG5hbWUsIGJlZ2lubmluZyB3aXRoIFwiL1wiXG4gKlxuICovXG5mdW5jdGlvbiB1cmxSZXNvbHZlKHVybCkge1xuICB2YXIgaHJlZiA9IHVybDtcblxuICAvLyBTdXBwb3J0OiBJRSA5LTExIG9ubHlcbiAgaWYgKG1zaWUpIHtcbiAgICAvLyBOb3JtYWxpemUgYmVmb3JlIHBhcnNlLiAgUmVmZXIgSW1wbGVtZW50YXRpb24gTm90ZXMgb24gd2h5IHRoaXMgaXNcbiAgICAvLyBkb25lIGluIHR3byBzdGVwcyBvbiBJRS5cbiAgICB1cmxQYXJzaW5nTm9kZS5zZXRBdHRyaWJ1dGUoJ2hyZWYnLCBocmVmKTtcbiAgICBocmVmID0gdXJsUGFyc2luZ05vZGUuaHJlZjtcbiAgfVxuXG4gIHVybFBhcnNpbmdOb2RlLnNldEF0dHJpYnV0ZSgnaHJlZicsIGhyZWYpO1xuXG4gIC8vIHVybFBhcnNpbmdOb2RlIHByb3ZpZGVzIHRoZSBVcmxVdGlscyBpbnRlcmZhY2UgLSBodHRwOi8vdXJsLnNwZWMud2hhdHdnLm9yZy8jdXJsdXRpbHNcbiAgcmV0dXJuIHtcbiAgICBocmVmOiB1cmxQYXJzaW5nTm9kZS5ocmVmLFxuICAgIHByb3RvY29sOiB1cmxQYXJzaW5nTm9kZS5wcm90b2NvbCA/IHVybFBhcnNpbmdOb2RlLnByb3RvY29sLnJlcGxhY2UoLzokLywgJycpIDogJycsXG4gICAgaG9zdDogdXJsUGFyc2luZ05vZGUuaG9zdCxcbiAgICBzZWFyY2g6IHVybFBhcnNpbmdOb2RlLnNlYXJjaCA/IHVybFBhcnNpbmdOb2RlLnNlYXJjaC5yZXBsYWNlKC9eXFw/LywgJycpIDogJycsXG4gICAgaGFzaDogdXJsUGFyc2luZ05vZGUuaGFzaCA/IHVybFBhcnNpbmdOb2RlLmhhc2gucmVwbGFjZSgvXiMvLCAnJykgOiAnJyxcbiAgICBob3N0bmFtZTogdXJsUGFyc2luZ05vZGUuaG9zdG5hbWUsXG4gICAgcG9ydDogdXJsUGFyc2luZ05vZGUucG9ydCxcbiAgICBwYXRobmFtZTogKHVybFBhcnNpbmdOb2RlLnBhdGhuYW1lLmNoYXJBdCgwKSA9PT0gJy8nKVxuICAgICAgPyB1cmxQYXJzaW5nTm9kZS5wYXRobmFtZVxuICAgICAgOiAnLycgKyB1cmxQYXJzaW5nTm9kZS5wYXRobmFtZVxuICB9O1xufVxuXG4vKipcbiAqIFBhcnNlIGEgcmVxdWVzdCBVUkwgYW5kIGRldGVybWluZSB3aGV0aGVyIHRoaXMgaXMgYSBzYW1lLW9yaWdpbiByZXF1ZXN0IGFzIHRoZSBhcHBsaWNhdGlvbiBkb2N1bWVudC5cbiAqXG4gKiBAcGFyYW0ge3N0cmluZ3xvYmplY3R9IHJlcXVlc3RVcmwgVGhlIHVybCBvZiB0aGUgcmVxdWVzdCBhcyBhIHN0cmluZyB0aGF0IHdpbGwgYmUgcmVzb2x2ZWRcbiAqIG9yIGEgcGFyc2VkIFVSTCBvYmplY3QuXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gV2hldGhlciB0aGUgcmVxdWVzdCBpcyBmb3IgdGhlIHNhbWUgb3JpZ2luIGFzIHRoZSBhcHBsaWNhdGlvbiBkb2N1bWVudC5cbiAqL1xuZnVuY3Rpb24gdXJsSXNTYW1lT3JpZ2luKHJlcXVlc3RVcmwpIHtcbiAgdmFyIHBhcnNlZCA9IChpc1N0cmluZyhyZXF1ZXN0VXJsKSkgPyB1cmxSZXNvbHZlKHJlcXVlc3RVcmwpIDogcmVxdWVzdFVybDtcbiAgcmV0dXJuIChwYXJzZWQucHJvdG9jb2wgPT09IG9yaWdpblVybC5wcm90b2NvbCAmJlxuICAgICAgICAgIHBhcnNlZC5ob3N0ID09PSBvcmlnaW5VcmwuaG9zdCk7XG59XG5cbi8qKlxuICogQG5nZG9jIHNlcnZpY2VcbiAqIEBuYW1lICR3aW5kb3dcbiAqIEB0aGlzXG4gKlxuICogQGRlc2NyaXB0aW9uXG4gKiBBIHJlZmVyZW5jZSB0byB0aGUgYnJvd3NlcidzIGB3aW5kb3dgIG9iamVjdC4gV2hpbGUgYHdpbmRvd2BcbiAqIGlzIGdsb2JhbGx5IGF2YWlsYWJsZSBpbiBKYXZhU2NyaXB0LCBpdCBjYXVzZXMgdGVzdGFiaWxpdHkgcHJvYmxlbXMsIGJlY2F1c2VcbiAqIGl0IGlzIGEgZ2xvYmFsIHZhcmlhYmxlLiBJbiBhbmd1bGFyIHdlIGFsd2F5cyByZWZlciB0byBpdCB0aHJvdWdoIHRoZVxuICogYCR3aW5kb3dgIHNlcnZpY2UsIHNvIGl0IG1heSBiZSBvdmVycmlkZGVuLCByZW1vdmVkIG9yIG1vY2tlZCBmb3IgdGVzdGluZy5cbiAqXG4gKiBFeHByZXNzaW9ucywgbGlrZSB0aGUgb25lIGRlZmluZWQgZm9yIHRoZSBgbmdDbGlja2AgZGlyZWN0aXZlIGluIHRoZSBleGFtcGxlXG4gKiBiZWxvdywgYXJlIGV2YWx1YXRlZCB3aXRoIHJlc3BlY3QgdG8gdGhlIGN1cnJlbnQgc2NvcGUuICBUaGVyZWZvcmUsIHRoZXJlIGlzXG4gKiBubyByaXNrIG9mIGluYWR2ZXJ0ZW50bHkgY29kaW5nIGluIGEgZGVwZW5kZW5jeSBvbiBhIGdsb2JhbCB2YWx1ZSBpbiBzdWNoIGFuXG4gKiBleHByZXNzaW9uLlxuICpcbiAqIEBleGFtcGxlXG4gICA8ZXhhbXBsZSBtb2R1bGU9XCJ3aW5kb3dFeGFtcGxlXCIgbmFtZT1cIndpbmRvdy1zZXJ2aWNlXCI+XG4gICAgIDxmaWxlIG5hbWU9XCJpbmRleC5odG1sXCI+XG4gICAgICAgPHNjcmlwdD5cbiAgICAgICAgIGFuZ3VsYXIubW9kdWxlKCd3aW5kb3dFeGFtcGxlJywgW10pXG4gICAgICAgICAgIC5jb250cm9sbGVyKCdFeGFtcGxlQ29udHJvbGxlcicsIFsnJHNjb3BlJywgJyR3aW5kb3cnLCBmdW5jdGlvbigkc2NvcGUsICR3aW5kb3cpIHtcbiAgICAgICAgICAgICAkc2NvcGUuZ3JlZXRpbmcgPSAnSGVsbG8sIFdvcmxkISc7XG4gICAgICAgICAgICAgJHNjb3BlLmRvR3JlZXRpbmcgPSBmdW5jdGlvbihncmVldGluZykge1xuICAgICAgICAgICAgICAgJHdpbmRvdy5hbGVydChncmVldGluZyk7XG4gICAgICAgICAgICAgfTtcbiAgICAgICAgICAgfV0pO1xuICAgICAgIDwvc2NyaXB0PlxuICAgICAgIDxkaXYgbmctY29udHJvbGxlcj1cIkV4YW1wbGVDb250cm9sbGVyXCI+XG4gICAgICAgICA8aW5wdXQgdHlwZT1cInRleHRcIiBuZy1tb2RlbD1cImdyZWV0aW5nXCIgYXJpYS1sYWJlbD1cImdyZWV0aW5nXCIgLz5cbiAgICAgICAgIDxidXR0b24gbmctY2xpY2s9XCJkb0dyZWV0aW5nKGdyZWV0aW5nKVwiPkFMRVJUPC9idXR0b24+XG4gICAgICAgPC9kaXY+XG4gICAgIDwvZmlsZT5cbiAgICAgPGZpbGUgbmFtZT1cInByb3RyYWN0b3IuanNcIiB0eXBlPVwicHJvdHJhY3RvclwiPlxuICAgICAgaXQoJ3Nob3VsZCBkaXNwbGF5IHRoZSBncmVldGluZyBpbiB0aGUgaW5wdXQgYm94JywgZnVuY3Rpb24oKSB7XG4gICAgICAgZWxlbWVudChieS5tb2RlbCgnZ3JlZXRpbmcnKSkuc2VuZEtleXMoJ0hlbGxvLCBFMkUgVGVzdHMnKTtcbiAgICAgICAvLyBJZiB3ZSBjbGljayB0aGUgYnV0dG9uIGl0IHdpbGwgYmxvY2sgdGhlIHRlc3QgcnVubmVyXG4gICAgICAgLy8gZWxlbWVudCgnOmJ1dHRvbicpLmNsaWNrKCk7XG4gICAgICB9KTtcbiAgICAgPC9maWxlPlxuICAgPC9leGFtcGxlPlxuICovXG5mdW5jdGlvbiAkV2luZG93UHJvdmlkZXIoKSB7XG4gIHRoaXMuJGdldCA9IHZhbHVlRm4od2luZG93KTtcbn1cblxuLyoqXG4gKiBAbmFtZSAkJGNvb2tpZVJlYWRlclxuICogQHJlcXVpcmVzICRkb2N1bWVudFxuICpcbiAqIEBkZXNjcmlwdGlvblxuICogVGhpcyBpcyBhIHByaXZhdGUgc2VydmljZSBmb3IgcmVhZGluZyBjb29raWVzIHVzZWQgYnkgJGh0dHAgYW5kIG5nQ29va2llc1xuICpcbiAqIEByZXR1cm4ge09iamVjdH0gYSBrZXkvdmFsdWUgbWFwIG9mIHRoZSBjdXJyZW50IGNvb2tpZXNcbiAqL1xuZnVuY3Rpb24gJCRDb29raWVSZWFkZXIoJGRvY3VtZW50KSB7XG4gIHZhciByYXdEb2N1bWVudCA9ICRkb2N1bWVudFswXSB8fCB7fTtcbiAgdmFyIGxhc3RDb29raWVzID0ge307XG4gIHZhciBsYXN0Q29va2llU3RyaW5nID0gJyc7XG5cbiAgZnVuY3Rpb24gc2FmZUdldENvb2tpZShyYXdEb2N1bWVudCkge1xuICAgIHRyeSB7XG4gICAgICByZXR1cm4gcmF3RG9jdW1lbnQuY29va2llIHx8ICcnO1xuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgIHJldHVybiAnJztcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBzYWZlRGVjb2RlVVJJQ29tcG9uZW50KHN0cikge1xuICAgIHRyeSB7XG4gICAgICByZXR1cm4gZGVjb2RlVVJJQ29tcG9uZW50KHN0cik7XG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgcmV0dXJuIHN0cjtcbiAgICB9XG4gIH1cblxuICByZXR1cm4gZnVuY3Rpb24oKSB7XG4gICAgdmFyIGNvb2tpZUFycmF5LCBjb29raWUsIGksIGluZGV4LCBuYW1lO1xuICAgIHZhciBjdXJyZW50Q29va2llU3RyaW5nID0gc2FmZUdldENvb2tpZShyYXdEb2N1bWVudCk7XG5cbiAgICBpZiAoY3VycmVudENvb2tpZVN0cmluZyAhPT0gbGFzdENvb2tpZVN0cmluZykge1xuICAgICAgbGFzdENvb2tpZVN0cmluZyA9IGN1cnJlbnRDb29raWVTdHJpbmc7XG4gICAgICBjb29raWVBcnJheSA9IGxhc3RDb29raWVTdHJpbmcuc3BsaXQoJzsgJyk7XG4gICAgICBsYXN0Q29va2llcyA9IHt9O1xuXG4gICAgICBmb3IgKGkgPSAwOyBpIDwgY29va2llQXJyYXkubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgY29va2llID0gY29va2llQXJyYXlbaV07XG4gICAgICAgIGluZGV4ID0gY29va2llLmluZGV4T2YoJz0nKTtcbiAgICAgICAgaWYgKGluZGV4ID4gMCkgeyAvL2lnbm9yZSBuYW1lbGVzcyBjb29raWVzXG4gICAgICAgICAgbmFtZSA9IHNhZmVEZWNvZGVVUklDb21wb25lbnQoY29va2llLnN1YnN0cmluZygwLCBpbmRleCkpO1xuICAgICAgICAgIC8vIHRoZSBmaXJzdCB2YWx1ZSB0aGF0IGlzIHNlZW4gZm9yIGEgY29va2llIGlzIHRoZSBtb3N0XG4gICAgICAgICAgLy8gc3BlY2lmaWMgb25lLiAgdmFsdWVzIGZvciB0aGUgc2FtZSBjb29raWUgbmFtZSB0aGF0XG4gICAgICAgICAgLy8gZm9sbG93IGFyZSBmb3IgbGVzcyBzcGVjaWZpYyBwYXRocy5cbiAgICAgICAgICBpZiAoaXNVbmRlZmluZWQobGFzdENvb2tpZXNbbmFtZV0pKSB7XG4gICAgICAgICAgICBsYXN0Q29va2llc1tuYW1lXSA9IHNhZmVEZWNvZGVVUklDb21wb25lbnQoY29va2llLnN1YnN0cmluZyhpbmRleCArIDEpKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGxhc3RDb29raWVzO1xuICB9O1xufVxuXG4kJENvb2tpZVJlYWRlci4kaW5qZWN0ID0gWyckZG9jdW1lbnQnXTtcblxuLyoqIEB0aGlzICovXG5mdW5jdGlvbiAkJENvb2tpZVJlYWRlclByb3ZpZGVyKCkge1xuICB0aGlzLiRnZXQgPSAkJENvb2tpZVJlYWRlcjtcbn1cblxuLyogZ2xvYmFsIGN1cnJlbmN5RmlsdGVyOiB0cnVlLFxuIGRhdGVGaWx0ZXI6IHRydWUsXG4gZmlsdGVyRmlsdGVyOiB0cnVlLFxuIGpzb25GaWx0ZXI6IHRydWUsXG4gbGltaXRUb0ZpbHRlcjogdHJ1ZSxcbiBsb3dlcmNhc2VGaWx0ZXI6IHRydWUsXG4gbnVtYmVyRmlsdGVyOiB0cnVlLFxuIG9yZGVyQnlGaWx0ZXI6IHRydWUsXG4gdXBwZXJjYXNlRmlsdGVyOiB0cnVlLFxuICovXG5cbi8qKlxuICogQG5nZG9jIHByb3ZpZGVyXG4gKiBAbmFtZSAkZmlsdGVyUHJvdmlkZXJcbiAqIEBkZXNjcmlwdGlvblxuICpcbiAqIEZpbHRlcnMgYXJlIGp1c3QgZnVuY3Rpb25zIHdoaWNoIHRyYW5zZm9ybSBpbnB1dCB0byBhbiBvdXRwdXQuIEhvd2V2ZXIgZmlsdGVycyBuZWVkIHRvIGJlXG4gKiBEZXBlbmRlbmN5IEluamVjdGVkLiBUbyBhY2hpZXZlIHRoaXMgYSBmaWx0ZXIgZGVmaW5pdGlvbiBjb25zaXN0cyBvZiBhIGZhY3RvcnkgZnVuY3Rpb24gd2hpY2ggaXNcbiAqIGFubm90YXRlZCB3aXRoIGRlcGVuZGVuY2llcyBhbmQgaXMgcmVzcG9uc2libGUgZm9yIGNyZWF0aW5nIGEgZmlsdGVyIGZ1bmN0aW9uLlxuICpcbiAqIDxkaXYgY2xhc3M9XCJhbGVydCBhbGVydC13YXJuaW5nXCI+XG4gKiAqKk5vdGU6KiogRmlsdGVyIG5hbWVzIG11c3QgYmUgdmFsaWQgYW5ndWxhciB7QGxpbmsgZXhwcmVzc2lvbn0gaWRlbnRpZmllcnMsIHN1Y2ggYXMgYHVwcGVyY2FzZWAgb3IgYG9yZGVyQnlgLlxuICogTmFtZXMgd2l0aCBzcGVjaWFsIGNoYXJhY3RlcnMsIHN1Y2ggYXMgaHlwaGVucyBhbmQgZG90cywgYXJlIG5vdCBhbGxvd2VkLiBJZiB5b3Ugd2lzaCB0byBuYW1lc3BhY2VcbiAqIHlvdXIgZmlsdGVycywgdGhlbiB5b3UgY2FuIHVzZSBjYXBpdGFsaXphdGlvbiAoYG15YXBwU3Vic2VjdGlvbkZpbHRlcnhgKSBvciB1bmRlcnNjb3Jlc1xuICogKGBteWFwcF9zdWJzZWN0aW9uX2ZpbHRlcnhgKS5cbiAqIDwvZGl2PlxuICpcbiAqIGBgYGpzXG4gKiAgIC8vIEZpbHRlciByZWdpc3RyYXRpb25cbiAqICAgZnVuY3Rpb24gTXlNb2R1bGUoJHByb3ZpZGUsICRmaWx0ZXJQcm92aWRlcikge1xuICogICAgIC8vIGNyZWF0ZSBhIHNlcnZpY2UgdG8gZGVtb25zdHJhdGUgaW5qZWN0aW9uIChub3QgYWx3YXlzIG5lZWRlZClcbiAqICAgICAkcHJvdmlkZS52YWx1ZSgnZ3JlZXQnLCBmdW5jdGlvbihuYW1lKXtcbiAqICAgICAgIHJldHVybiAnSGVsbG8gJyArIG5hbWUgKyAnISc7XG4gKiAgICAgfSk7XG4gKlxuICogICAgIC8vIHJlZ2lzdGVyIGEgZmlsdGVyIGZhY3Rvcnkgd2hpY2ggdXNlcyB0aGVcbiAqICAgICAvLyBncmVldCBzZXJ2aWNlIHRvIGRlbW9uc3RyYXRlIERJLlxuICogICAgICRmaWx0ZXJQcm92aWRlci5yZWdpc3RlcignZ3JlZXQnLCBmdW5jdGlvbihncmVldCl7XG4gKiAgICAgICAvLyByZXR1cm4gdGhlIGZpbHRlciBmdW5jdGlvbiB3aGljaCB1c2VzIHRoZSBncmVldCBzZXJ2aWNlXG4gKiAgICAgICAvLyB0byBnZW5lcmF0ZSBzYWx1dGF0aW9uXG4gKiAgICAgICByZXR1cm4gZnVuY3Rpb24odGV4dCkge1xuICogICAgICAgICAvLyBmaWx0ZXJzIG5lZWQgdG8gYmUgZm9yZ2l2aW5nIHNvIGNoZWNrIGlucHV0IHZhbGlkaXR5XG4gKiAgICAgICAgIHJldHVybiB0ZXh0ICYmIGdyZWV0KHRleHQpIHx8IHRleHQ7XG4gKiAgICAgICB9O1xuICogICAgIH0pO1xuICogICB9XG4gKiBgYGBcbiAqXG4gKiBUaGUgZmlsdGVyIGZ1bmN0aW9uIGlzIHJlZ2lzdGVyZWQgd2l0aCB0aGUgYCRpbmplY3RvcmAgdW5kZXIgdGhlIGZpbHRlciBuYW1lIHN1ZmZpeCB3aXRoXG4gKiBgRmlsdGVyYC5cbiAqXG4gKiBgYGBqc1xuICogICBpdCgnc2hvdWxkIGJlIHRoZSBzYW1lIGluc3RhbmNlJywgaW5qZWN0KFxuICogICAgIGZ1bmN0aW9uKCRmaWx0ZXJQcm92aWRlcikge1xuICogICAgICAgJGZpbHRlclByb3ZpZGVyLnJlZ2lzdGVyKCdyZXZlcnNlJywgZnVuY3Rpb24oKXtcbiAqICAgICAgICAgcmV0dXJuIC4uLjtcbiAqICAgICAgIH0pO1xuICogICAgIH0sXG4gKiAgICAgZnVuY3Rpb24oJGZpbHRlciwgcmV2ZXJzZUZpbHRlcikge1xuICogICAgICAgZXhwZWN0KCRmaWx0ZXIoJ3JldmVyc2UnKSkudG9CZShyZXZlcnNlRmlsdGVyKTtcbiAqICAgICB9KTtcbiAqIGBgYFxuICpcbiAqXG4gKiBGb3IgbW9yZSBpbmZvcm1hdGlvbiBhYm91dCBob3cgYW5ndWxhciBmaWx0ZXJzIHdvcmssIGFuZCBob3cgdG8gY3JlYXRlIHlvdXIgb3duIGZpbHRlcnMsIHNlZVxuICoge0BsaW5rIGd1aWRlL2ZpbHRlciBGaWx0ZXJzfSBpbiB0aGUgQW5ndWxhciBEZXZlbG9wZXIgR3VpZGUuXG4gKi9cblxuLyoqXG4gKiBAbmdkb2Mgc2VydmljZVxuICogQG5hbWUgJGZpbHRlclxuICogQGtpbmQgZnVuY3Rpb25cbiAqIEBkZXNjcmlwdGlvblxuICogRmlsdGVycyBhcmUgdXNlZCBmb3IgZm9ybWF0dGluZyBkYXRhIGRpc3BsYXllZCB0byB0aGUgdXNlci5cbiAqXG4gKiBUaGV5IGNhbiBiZSB1c2VkIGluIHZpZXcgdGVtcGxhdGVzLCBjb250cm9sbGVycyBvciBzZXJ2aWNlcy5Bbmd1bGFyIGNvbWVzXG4gKiB3aXRoIGEgY29sbGVjdGlvbiBvZiBbYnVpbHQtaW4gZmlsdGVyc10oYXBpL25nL2ZpbHRlciksIGJ1dCBpdCBpcyBlYXN5IHRvXG4gKiBkZWZpbmUgeW91ciBvd24gYXMgd2VsbC5cbiAqXG4gKiBUaGUgZ2VuZXJhbCBzeW50YXggaW4gdGVtcGxhdGVzIGlzIGFzIGZvbGxvd3M6XG4gKlxuICogYGBgaHRtbFxuICoge3sgZXhwcmVzc2lvbiBbfCBmaWx0ZXJfbmFtZVs6cGFyYW1ldGVyX3ZhbHVlXSAuLi4gXSB9fVxuICogYGBgXG4gKlxuICogQHBhcmFtIHtTdHJpbmd9IG5hbWUgTmFtZSBvZiB0aGUgZmlsdGVyIGZ1bmN0aW9uIHRvIHJldHJpZXZlXG4gKiBAcmV0dXJuIHtGdW5jdGlvbn0gdGhlIGZpbHRlciBmdW5jdGlvblxuICogQGV4YW1wbGVcbiAgIDxleGFtcGxlIG5hbWU9XCIkZmlsdGVyXCIgbW9kdWxlPVwiZmlsdGVyRXhhbXBsZVwiPlxuICAgICA8ZmlsZSBuYW1lPVwiaW5kZXguaHRtbFwiPlxuICAgICAgIDxkaXYgbmctY29udHJvbGxlcj1cIk1haW5DdHJsXCI+XG4gICAgICAgIDxoMz57eyBvcmlnaW5hbFRleHQgfX08L2gzPlxuICAgICAgICA8aDM+e3sgZmlsdGVyZWRUZXh0IH19PC9oMz5cbiAgICAgICA8L2Rpdj5cbiAgICAgPC9maWxlPlxuXG4gICAgIDxmaWxlIG5hbWU9XCJzY3JpcHQuanNcIj5cbiAgICAgIGFuZ3VsYXIubW9kdWxlKCdmaWx0ZXJFeGFtcGxlJywgW10pXG4gICAgICAuY29udHJvbGxlcignTWFpbkN0cmwnLCBmdW5jdGlvbigkc2NvcGUsICRmaWx0ZXIpIHtcbiAgICAgICAgJHNjb3BlLm9yaWdpbmFsVGV4dCA9ICdoZWxsbyc7XG4gICAgICAgICRzY29wZS5maWx0ZXJlZFRleHQgPSAkZmlsdGVyKCd1cHBlcmNhc2UnKSgkc2NvcGUub3JpZ2luYWxUZXh0KTtcbiAgICAgIH0pO1xuICAgICA8L2ZpbGU+XG4gICA8L2V4YW1wbGU+XG4gICovXG4kRmlsdGVyUHJvdmlkZXIuJGluamVjdCA9IFsnJHByb3ZpZGUnXTtcbi8qKiBAdGhpcyAqL1xuZnVuY3Rpb24gJEZpbHRlclByb3ZpZGVyKCRwcm92aWRlKSB7XG4gIHZhciBzdWZmaXggPSAnRmlsdGVyJztcblxuICAvKipcbiAgICogQG5nZG9jIG1ldGhvZFxuICAgKiBAbmFtZSAkZmlsdGVyUHJvdmlkZXIjcmVnaXN0ZXJcbiAgICogQHBhcmFtIHtzdHJpbmd8T2JqZWN0fSBuYW1lIE5hbWUgb2YgdGhlIGZpbHRlciBmdW5jdGlvbiwgb3IgYW4gb2JqZWN0IG1hcCBvZiBmaWx0ZXJzIHdoZXJlXG4gICAqICAgIHRoZSBrZXlzIGFyZSB0aGUgZmlsdGVyIG5hbWVzIGFuZCB0aGUgdmFsdWVzIGFyZSB0aGUgZmlsdGVyIGZhY3Rvcmllcy5cbiAgICpcbiAgICogICAgPGRpdiBjbGFzcz1cImFsZXJ0IGFsZXJ0LXdhcm5pbmdcIj5cbiAgICogICAgKipOb3RlOioqIEZpbHRlciBuYW1lcyBtdXN0IGJlIHZhbGlkIGFuZ3VsYXIge0BsaW5rIGV4cHJlc3Npb259IGlkZW50aWZpZXJzLCBzdWNoIGFzIGB1cHBlcmNhc2VgIG9yIGBvcmRlckJ5YC5cbiAgICogICAgTmFtZXMgd2l0aCBzcGVjaWFsIGNoYXJhY3RlcnMsIHN1Y2ggYXMgaHlwaGVucyBhbmQgZG90cywgYXJlIG5vdCBhbGxvd2VkLiBJZiB5b3Ugd2lzaCB0byBuYW1lc3BhY2VcbiAgICogICAgeW91ciBmaWx0ZXJzLCB0aGVuIHlvdSBjYW4gdXNlIGNhcGl0YWxpemF0aW9uIChgbXlhcHBTdWJzZWN0aW9uRmlsdGVyeGApIG9yIHVuZGVyc2NvcmVzXG4gICAqICAgIChgbXlhcHBfc3Vic2VjdGlvbl9maWx0ZXJ4YCkuXG4gICAqICAgIDwvZGl2PlxuICAgICogQHBhcmFtIHtGdW5jdGlvbn0gZmFjdG9yeSBJZiB0aGUgZmlyc3QgYXJndW1lbnQgd2FzIGEgc3RyaW5nLCBhIGZhY3RvcnkgZnVuY3Rpb24gZm9yIHRoZSBmaWx0ZXIgdG8gYmUgcmVnaXN0ZXJlZC5cbiAgICogQHJldHVybnMge09iamVjdH0gUmVnaXN0ZXJlZCBmaWx0ZXIgaW5zdGFuY2UsIG9yIGlmIGEgbWFwIG9mIGZpbHRlcnMgd2FzIHByb3ZpZGVkIHRoZW4gYSBtYXBcbiAgICogICAgb2YgdGhlIHJlZ2lzdGVyZWQgZmlsdGVyIGluc3RhbmNlcy5cbiAgICovXG4gIGZ1bmN0aW9uIHJlZ2lzdGVyKG5hbWUsIGZhY3RvcnkpIHtcbiAgICBpZiAoaXNPYmplY3QobmFtZSkpIHtcbiAgICAgIHZhciBmaWx0ZXJzID0ge307XG4gICAgICBmb3JFYWNoKG5hbWUsIGZ1bmN0aW9uKGZpbHRlciwga2V5KSB7XG4gICAgICAgIGZpbHRlcnNba2V5XSA9IHJlZ2lzdGVyKGtleSwgZmlsdGVyKTtcbiAgICAgIH0pO1xuICAgICAgcmV0dXJuIGZpbHRlcnM7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiAkcHJvdmlkZS5mYWN0b3J5KG5hbWUgKyBzdWZmaXgsIGZhY3RvcnkpO1xuICAgIH1cbiAgfVxuICB0aGlzLnJlZ2lzdGVyID0gcmVnaXN0ZXI7XG5cbiAgdGhpcy4kZ2V0ID0gWyckaW5qZWN0b3InLCBmdW5jdGlvbigkaW5qZWN0b3IpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24obmFtZSkge1xuICAgICAgcmV0dXJuICRpbmplY3Rvci5nZXQobmFtZSArIHN1ZmZpeCk7XG4gICAgfTtcbiAgfV07XG5cbiAgLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuXG4gIC8qIGdsb2JhbFxuICAgIGN1cnJlbmN5RmlsdGVyOiBmYWxzZSxcbiAgICBkYXRlRmlsdGVyOiBmYWxzZSxcbiAgICBmaWx0ZXJGaWx0ZXI6IGZhbHNlLFxuICAgIGpzb25GaWx0ZXI6IGZhbHNlLFxuICAgIGxpbWl0VG9GaWx0ZXI6IGZhbHNlLFxuICAgIGxvd2VyY2FzZUZpbHRlcjogZmFsc2UsXG4gICAgbnVtYmVyRmlsdGVyOiBmYWxzZSxcbiAgICBvcmRlckJ5RmlsdGVyOiBmYWxzZSxcbiAgICB1cHBlcmNhc2VGaWx0ZXI6IGZhbHNlXG4gICovXG5cbiAgcmVnaXN0ZXIoJ2N1cnJlbmN5JywgY3VycmVuY3lGaWx0ZXIpO1xuICByZWdpc3RlcignZGF0ZScsIGRhdGVGaWx0ZXIpO1xuICByZWdpc3RlcignZmlsdGVyJywgZmlsdGVyRmlsdGVyKTtcbiAgcmVnaXN0ZXIoJ2pzb24nLCBqc29uRmlsdGVyKTtcbiAgcmVnaXN0ZXIoJ2xpbWl0VG8nLCBsaW1pdFRvRmlsdGVyKTtcbiAgcmVnaXN0ZXIoJ2xvd2VyY2FzZScsIGxvd2VyY2FzZUZpbHRlcik7XG4gIHJlZ2lzdGVyKCdudW1iZXInLCBudW1iZXJGaWx0ZXIpO1xuICByZWdpc3Rlcignb3JkZXJCeScsIG9yZGVyQnlGaWx0ZXIpO1xuICByZWdpc3RlcigndXBwZXJjYXNlJywgdXBwZXJjYXNlRmlsdGVyKTtcbn1cblxuLyoqXG4gKiBAbmdkb2MgZmlsdGVyXG4gKiBAbmFtZSBmaWx0ZXJcbiAqIEBraW5kIGZ1bmN0aW9uXG4gKlxuICogQGRlc2NyaXB0aW9uXG4gKiBTZWxlY3RzIGEgc3Vic2V0IG9mIGl0ZW1zIGZyb20gYGFycmF5YCBhbmQgcmV0dXJucyBpdCBhcyBhIG5ldyBhcnJheS5cbiAqXG4gKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgc291cmNlIGFycmF5LlxuICogPGRpdiBjbGFzcz1cImFsZXJ0IGFsZXJ0LWluZm9cIj5cbiAqICAgKipOb3RlKio6IElmIHRoZSBhcnJheSBjb250YWlucyBvYmplY3RzIHRoYXQgcmVmZXJlbmNlIHRoZW1zZWx2ZXMsIGZpbHRlcmluZyBpcyBub3QgcG9zc2libGUuXG4gKiA8L2Rpdj5cbiAqIEBwYXJhbSB7c3RyaW5nfE9iamVjdHxmdW5jdGlvbigpfSBleHByZXNzaW9uIFRoZSBwcmVkaWNhdGUgdG8gYmUgdXNlZCBmb3Igc2VsZWN0aW5nIGl0ZW1zIGZyb21cbiAqICAgYGFycmF5YC5cbiAqXG4gKiAgIENhbiBiZSBvbmUgb2Y6XG4gKlxuICogICAtIGBzdHJpbmdgOiBUaGUgc3RyaW5nIGlzIHVzZWQgZm9yIG1hdGNoaW5nIGFnYWluc3QgdGhlIGNvbnRlbnRzIG9mIHRoZSBgYXJyYXlgLiBBbGwgc3RyaW5ncyBvclxuICogICAgIG9iamVjdHMgd2l0aCBzdHJpbmcgcHJvcGVydGllcyBpbiBgYXJyYXlgIHRoYXQgbWF0Y2ggdGhpcyBzdHJpbmcgd2lsbCBiZSByZXR1cm5lZC4gVGhpcyBhbHNvXG4gKiAgICAgYXBwbGllcyB0byBuZXN0ZWQgb2JqZWN0IHByb3BlcnRpZXMuXG4gKiAgICAgVGhlIHByZWRpY2F0ZSBjYW4gYmUgbmVnYXRlZCBieSBwcmVmaXhpbmcgdGhlIHN0cmluZyB3aXRoIGAhYC5cbiAqXG4gKiAgIC0gYE9iamVjdGA6IEEgcGF0dGVybiBvYmplY3QgY2FuIGJlIHVzZWQgdG8gZmlsdGVyIHNwZWNpZmljIHByb3BlcnRpZXMgb24gb2JqZWN0cyBjb250YWluZWRcbiAqICAgICBieSBgYXJyYXlgLiBGb3IgZXhhbXBsZSBge25hbWU6XCJNXCIsIHBob25lOlwiMVwifWAgcHJlZGljYXRlIHdpbGwgcmV0dXJuIGFuIGFycmF5IG9mIGl0ZW1zXG4gKiAgICAgd2hpY2ggaGF2ZSBwcm9wZXJ0eSBgbmFtZWAgY29udGFpbmluZyBcIk1cIiBhbmQgcHJvcGVydHkgYHBob25lYCBjb250YWluaW5nIFwiMVwiLiBBIHNwZWNpYWxcbiAqICAgICBwcm9wZXJ0eSBuYW1lIChgJGAgYnkgZGVmYXVsdCkgY2FuIGJlIHVzZWQgKGUuZy4gYXMgaW4gYHskOiBcInRleHRcIn1gKSB0byBhY2NlcHQgYSBtYXRjaFxuICogICAgIGFnYWluc3QgYW55IHByb3BlcnR5IG9mIHRoZSBvYmplY3Qgb3IgaXRzIG5lc3RlZCBvYmplY3QgcHJvcGVydGllcy4gVGhhdCdzIGVxdWl2YWxlbnQgdG8gdGhlXG4gKiAgICAgc2ltcGxlIHN1YnN0cmluZyBtYXRjaCB3aXRoIGEgYHN0cmluZ2AgYXMgZGVzY3JpYmVkIGFib3ZlLiBUaGUgc3BlY2lhbCBwcm9wZXJ0eSBuYW1lIGNhbiBiZVxuICogICAgIG92ZXJ3cml0dGVuLCB1c2luZyB0aGUgYGFueVByb3BlcnR5S2V5YCBwYXJhbWV0ZXIuXG4gKiAgICAgVGhlIHByZWRpY2F0ZSBjYW4gYmUgbmVnYXRlZCBieSBwcmVmaXhpbmcgdGhlIHN0cmluZyB3aXRoIGAhYC5cbiAqICAgICBGb3IgZXhhbXBsZSBge25hbWU6IFwiIU1cIn1gIHByZWRpY2F0ZSB3aWxsIHJldHVybiBhbiBhcnJheSBvZiBpdGVtcyB3aGljaCBoYXZlIHByb3BlcnR5IGBuYW1lYFxuICogICAgIG5vdCBjb250YWluaW5nIFwiTVwiLlxuICpcbiAqICAgICBOb3RlIHRoYXQgYSBuYW1lZCBwcm9wZXJ0eSB3aWxsIG1hdGNoIHByb3BlcnRpZXMgb24gdGhlIHNhbWUgbGV2ZWwgb25seSwgd2hpbGUgdGhlIHNwZWNpYWxcbiAqICAgICBgJGAgcHJvcGVydHkgd2lsbCBtYXRjaCBwcm9wZXJ0aWVzIG9uIHRoZSBzYW1lIGxldmVsIG9yIGRlZXBlci4gRS5nLiBhbiBhcnJheSBpdGVtIGxpa2VcbiAqICAgICBge25hbWU6IHtmaXJzdDogJ0pvaG4nLCBsYXN0OiAnRG9lJ319YCB3aWxsICoqbm90KiogYmUgbWF0Y2hlZCBieSBge25hbWU6ICdKb2huJ31gLCBidXRcbiAqICAgICAqKndpbGwqKiBiZSBtYXRjaGVkIGJ5IGB7JDogJ0pvaG4nfWAuXG4gKlxuICogICAtIGBmdW5jdGlvbih2YWx1ZSwgaW5kZXgsIGFycmF5KWA6IEEgcHJlZGljYXRlIGZ1bmN0aW9uIGNhbiBiZSB1c2VkIHRvIHdyaXRlIGFyYml0cmFyeSBmaWx0ZXJzLlxuICogICAgIFRoZSBmdW5jdGlvbiBpcyBjYWxsZWQgZm9yIGVhY2ggZWxlbWVudCBvZiB0aGUgYXJyYXksIHdpdGggdGhlIGVsZW1lbnQsIGl0cyBpbmRleCwgYW5kXG4gKiAgICAgdGhlIGVudGlyZSBhcnJheSBpdHNlbGYgYXMgYXJndW1lbnRzLlxuICpcbiAqICAgICBUaGUgZmluYWwgcmVzdWx0IGlzIGFuIGFycmF5IG9mIHRob3NlIGVsZW1lbnRzIHRoYXQgdGhlIHByZWRpY2F0ZSByZXR1cm5lZCB0cnVlIGZvci5cbiAqXG4gKiBAcGFyYW0ge2Z1bmN0aW9uKGFjdHVhbCwgZXhwZWN0ZWQpfHRydWV8ZmFsc2V9IFtjb21wYXJhdG9yXSBDb21wYXJhdG9yIHdoaWNoIGlzIHVzZWQgaW5cbiAqICAgICBkZXRlcm1pbmluZyBpZiB2YWx1ZXMgcmV0cmlldmVkIHVzaW5nIGBleHByZXNzaW9uYCAod2hlbiBpdCBpcyBub3QgYSBmdW5jdGlvbikgc2hvdWxkIGJlXG4gKiAgICAgY29uc2lkZXJlZCBhIG1hdGNoIGJhc2VkIG9uIHRoZSB0aGUgZXhwZWN0ZWQgdmFsdWUgKGZyb20gdGhlIGZpbHRlciBleHByZXNzaW9uKSBhbmQgYWN0dWFsXG4gKiAgICAgdmFsdWUgKGZyb20gdGhlIG9iamVjdCBpbiB0aGUgYXJyYXkpLlxuICpcbiAqICAgQ2FuIGJlIG9uZSBvZjpcbiAqXG4gKiAgIC0gYGZ1bmN0aW9uKGFjdHVhbCwgZXhwZWN0ZWQpYDpcbiAqICAgICBUaGUgZnVuY3Rpb24gd2lsbCBiZSBnaXZlbiB0aGUgb2JqZWN0IHZhbHVlIGFuZCB0aGUgcHJlZGljYXRlIHZhbHVlIHRvIGNvbXBhcmUgYW5kXG4gKiAgICAgc2hvdWxkIHJldHVybiB0cnVlIGlmIGJvdGggdmFsdWVzIHNob3VsZCBiZSBjb25zaWRlcmVkIGVxdWFsLlxuICpcbiAqICAgLSBgdHJ1ZWA6IEEgc2hvcnRoYW5kIGZvciBgZnVuY3Rpb24oYWN0dWFsLCBleHBlY3RlZCkgeyByZXR1cm4gYW5ndWxhci5lcXVhbHMoYWN0dWFsLCBleHBlY3RlZCl9YC5cbiAqICAgICBUaGlzIGlzIGVzc2VudGlhbGx5IHN0cmljdCBjb21wYXJpc29uIG9mIGV4cGVjdGVkIGFuZCBhY3R1YWwuXG4gKlxuICogICAtIGBmYWxzZWA6IEEgc2hvcnQgaGFuZCBmb3IgYSBmdW5jdGlvbiB3aGljaCB3aWxsIGxvb2sgZm9yIGEgc3Vic3RyaW5nIG1hdGNoIGluIGEgY2FzZVxuICogICAgIGluc2Vuc2l0aXZlIHdheS4gUHJpbWl0aXZlIHZhbHVlcyBhcmUgY29udmVydGVkIHRvIHN0cmluZ3MuIE9iamVjdHMgYXJlIG5vdCBjb21wYXJlZCBhZ2FpbnN0XG4gKiAgICAgcHJpbWl0aXZlcywgdW5sZXNzIHRoZXkgaGF2ZSBhIGN1c3RvbSBgdG9TdHJpbmdgIG1ldGhvZCAoZS5nLiBgRGF0ZWAgb2JqZWN0cykuXG4gKlxuICpcbiAqICAgRGVmYXVsdHMgdG8gYGZhbHNlYC5cbiAqXG4gKiBAcGFyYW0ge3N0cmluZ30gW2FueVByb3BlcnR5S2V5XSBUaGUgc3BlY2lhbCBwcm9wZXJ0eSBuYW1lIHRoYXQgbWF0Y2hlcyBhZ2FpbnN0IGFueSBwcm9wZXJ0eS5cbiAqICAgICBCeSBkZWZhdWx0IGAkYC5cbiAqXG4gKiBAZXhhbXBsZVxuICAgPGV4YW1wbGUgbmFtZT1cImZpbHRlci1maWx0ZXJcIj5cbiAgICAgPGZpbGUgbmFtZT1cImluZGV4Lmh0bWxcIj5cbiAgICAgICA8ZGl2IG5nLWluaXQ9XCJmcmllbmRzID0gW3tuYW1lOidKb2huJywgcGhvbmU6JzU1NS0xMjc2J30sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtuYW1lOidNYXJ5JywgcGhvbmU6JzgwMC1CSUctTUFSWSd9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7bmFtZTonTWlrZScsIHBob25lOic1NTUtNDMyMSd9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7bmFtZTonQWRhbScsIHBob25lOic1NTUtNTY3OCd9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7bmFtZTonSnVsaWUnLCBwaG9uZTonNTU1LTg3NjUnfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge25hbWU6J0p1bGlldHRlJywgcGhvbmU6JzU1NS01Njc4J31dXCI+PC9kaXY+XG5cbiAgICAgICA8bGFiZWw+U2VhcmNoOiA8aW5wdXQgbmctbW9kZWw9XCJzZWFyY2hUZXh0XCI+PC9sYWJlbD5cbiAgICAgICA8dGFibGUgaWQ9XCJzZWFyY2hUZXh0UmVzdWx0c1wiPlxuICAgICAgICAgPHRyPjx0aD5OYW1lPC90aD48dGg+UGhvbmU8L3RoPjwvdHI+XG4gICAgICAgICA8dHIgbmctcmVwZWF0PVwiZnJpZW5kIGluIGZyaWVuZHMgfCBmaWx0ZXI6c2VhcmNoVGV4dFwiPlxuICAgICAgICAgICA8dGQ+e3tmcmllbmQubmFtZX19PC90ZD5cbiAgICAgICAgICAgPHRkPnt7ZnJpZW5kLnBob25lfX08L3RkPlxuICAgICAgICAgPC90cj5cbiAgICAgICA8L3RhYmxlPlxuICAgICAgIDxocj5cbiAgICAgICA8bGFiZWw+QW55OiA8aW5wdXQgbmctbW9kZWw9XCJzZWFyY2guJFwiPjwvbGFiZWw+IDxicj5cbiAgICAgICA8bGFiZWw+TmFtZSBvbmx5IDxpbnB1dCBuZy1tb2RlbD1cInNlYXJjaC5uYW1lXCI+PC9sYWJlbD48YnI+XG4gICAgICAgPGxhYmVsPlBob25lIG9ubHkgPGlucHV0IG5nLW1vZGVsPVwic2VhcmNoLnBob25lXCI+PC9sYWJlbD48YnI+XG4gICAgICAgPGxhYmVsPkVxdWFsaXR5IDxpbnB1dCB0eXBlPVwiY2hlY2tib3hcIiBuZy1tb2RlbD1cInN0cmljdFwiPjwvbGFiZWw+PGJyPlxuICAgICAgIDx0YWJsZSBpZD1cInNlYXJjaE9ialJlc3VsdHNcIj5cbiAgICAgICAgIDx0cj48dGg+TmFtZTwvdGg+PHRoPlBob25lPC90aD48L3RyPlxuICAgICAgICAgPHRyIG5nLXJlcGVhdD1cImZyaWVuZE9iaiBpbiBmcmllbmRzIHwgZmlsdGVyOnNlYXJjaDpzdHJpY3RcIj5cbiAgICAgICAgICAgPHRkPnt7ZnJpZW5kT2JqLm5hbWV9fTwvdGQ+XG4gICAgICAgICAgIDx0ZD57e2ZyaWVuZE9iai5waG9uZX19PC90ZD5cbiAgICAgICAgIDwvdHI+XG4gICAgICAgPC90YWJsZT5cbiAgICAgPC9maWxlPlxuICAgICA8ZmlsZSBuYW1lPVwicHJvdHJhY3Rvci5qc1wiIHR5cGU9XCJwcm90cmFjdG9yXCI+XG4gICAgICAgdmFyIGV4cGVjdEZyaWVuZE5hbWVzID0gZnVuY3Rpb24oZXhwZWN0ZWROYW1lcywga2V5KSB7XG4gICAgICAgICBlbGVtZW50LmFsbChieS5yZXBlYXRlcihrZXkgKyAnIGluIGZyaWVuZHMnKS5jb2x1bW4oa2V5ICsgJy5uYW1lJykpLnRoZW4oZnVuY3Rpb24oYXJyKSB7XG4gICAgICAgICAgIGFyci5mb3JFYWNoKGZ1bmN0aW9uKHdkLCBpKSB7XG4gICAgICAgICAgICAgZXhwZWN0KHdkLmdldFRleHQoKSkudG9NYXRjaChleHBlY3RlZE5hbWVzW2ldKTtcbiAgICAgICAgICAgfSk7XG4gICAgICAgICB9KTtcbiAgICAgICB9O1xuXG4gICAgICAgaXQoJ3Nob3VsZCBzZWFyY2ggYWNyb3NzIGFsbCBmaWVsZHMgd2hlbiBmaWx0ZXJpbmcgd2l0aCBhIHN0cmluZycsIGZ1bmN0aW9uKCkge1xuICAgICAgICAgdmFyIHNlYXJjaFRleHQgPSBlbGVtZW50KGJ5Lm1vZGVsKCdzZWFyY2hUZXh0JykpO1xuICAgICAgICAgc2VhcmNoVGV4dC5jbGVhcigpO1xuICAgICAgICAgc2VhcmNoVGV4dC5zZW5kS2V5cygnbScpO1xuICAgICAgICAgZXhwZWN0RnJpZW5kTmFtZXMoWydNYXJ5JywgJ01pa2UnLCAnQWRhbSddLCAnZnJpZW5kJyk7XG5cbiAgICAgICAgIHNlYXJjaFRleHQuY2xlYXIoKTtcbiAgICAgICAgIHNlYXJjaFRleHQuc2VuZEtleXMoJzc2Jyk7XG4gICAgICAgICBleHBlY3RGcmllbmROYW1lcyhbJ0pvaG4nLCAnSnVsaWUnXSwgJ2ZyaWVuZCcpO1xuICAgICAgIH0pO1xuXG4gICAgICAgaXQoJ3Nob3VsZCBzZWFyY2ggaW4gc3BlY2lmaWMgZmllbGRzIHdoZW4gZmlsdGVyaW5nIHdpdGggYSBwcmVkaWNhdGUgb2JqZWN0JywgZnVuY3Rpb24oKSB7XG4gICAgICAgICB2YXIgc2VhcmNoQW55ID0gZWxlbWVudChieS5tb2RlbCgnc2VhcmNoLiQnKSk7XG4gICAgICAgICBzZWFyY2hBbnkuY2xlYXIoKTtcbiAgICAgICAgIHNlYXJjaEFueS5zZW5kS2V5cygnaScpO1xuICAgICAgICAgZXhwZWN0RnJpZW5kTmFtZXMoWydNYXJ5JywgJ01pa2UnLCAnSnVsaWUnLCAnSnVsaWV0dGUnXSwgJ2ZyaWVuZE9iaicpO1xuICAgICAgIH0pO1xuICAgICAgIGl0KCdzaG91bGQgdXNlIGEgZXF1YWwgY29tcGFyaXNvbiB3aGVuIGNvbXBhcmF0b3IgaXMgdHJ1ZScsIGZ1bmN0aW9uKCkge1xuICAgICAgICAgdmFyIHNlYXJjaE5hbWUgPSBlbGVtZW50KGJ5Lm1vZGVsKCdzZWFyY2gubmFtZScpKTtcbiAgICAgICAgIHZhciBzdHJpY3QgPSBlbGVtZW50KGJ5Lm1vZGVsKCdzdHJpY3QnKSk7XG4gICAgICAgICBzZWFyY2hOYW1lLmNsZWFyKCk7XG4gICAgICAgICBzZWFyY2hOYW1lLnNlbmRLZXlzKCdKdWxpZScpO1xuICAgICAgICAgc3RyaWN0LmNsaWNrKCk7XG4gICAgICAgICBleHBlY3RGcmllbmROYW1lcyhbJ0p1bGllJ10sICdmcmllbmRPYmonKTtcbiAgICAgICB9KTtcbiAgICAgPC9maWxlPlxuICAgPC9leGFtcGxlPlxuICovXG5cbmZ1bmN0aW9uIGZpbHRlckZpbHRlcigpIHtcbiAgcmV0dXJuIGZ1bmN0aW9uKGFycmF5LCBleHByZXNzaW9uLCBjb21wYXJhdG9yLCBhbnlQcm9wZXJ0eUtleSkge1xuICAgIGlmICghaXNBcnJheUxpa2UoYXJyYXkpKSB7XG4gICAgICBpZiAoYXJyYXkgPT0gbnVsbCkge1xuICAgICAgICByZXR1cm4gYXJyYXk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aHJvdyBtaW5FcnIoJ2ZpbHRlcicpKCdub3RhcnJheScsICdFeHBlY3RlZCBhcnJheSBidXQgcmVjZWl2ZWQ6IHswfScsIGFycmF5KTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBhbnlQcm9wZXJ0eUtleSA9IGFueVByb3BlcnR5S2V5IHx8ICckJztcbiAgICB2YXIgZXhwcmVzc2lvblR5cGUgPSBnZXRUeXBlRm9yRmlsdGVyKGV4cHJlc3Npb24pO1xuICAgIHZhciBwcmVkaWNhdGVGbjtcbiAgICB2YXIgbWF0Y2hBZ2FpbnN0QW55UHJvcDtcblxuICAgIHN3aXRjaCAoZXhwcmVzc2lvblR5cGUpIHtcbiAgICAgIGNhc2UgJ2Z1bmN0aW9uJzpcbiAgICAgICAgcHJlZGljYXRlRm4gPSBleHByZXNzaW9uO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgJ2Jvb2xlYW4nOlxuICAgICAgY2FzZSAnbnVsbCc6XG4gICAgICBjYXNlICdudW1iZXInOlxuICAgICAgY2FzZSAnc3RyaW5nJzpcbiAgICAgICAgbWF0Y2hBZ2FpbnN0QW55UHJvcCA9IHRydWU7XG4gICAgICAgIC8vIGZhbGxzIHRocm91Z2hcbiAgICAgIGNhc2UgJ29iamVjdCc6XG4gICAgICAgIHByZWRpY2F0ZUZuID0gY3JlYXRlUHJlZGljYXRlRm4oZXhwcmVzc2lvbiwgY29tcGFyYXRvciwgYW55UHJvcGVydHlLZXksIG1hdGNoQWdhaW5zdEFueVByb3ApO1xuICAgICAgICBicmVhaztcbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIHJldHVybiBhcnJheTtcbiAgICB9XG5cbiAgICByZXR1cm4gQXJyYXkucHJvdG90eXBlLmZpbHRlci5jYWxsKGFycmF5LCBwcmVkaWNhdGVGbik7XG4gIH07XG59XG5cbi8vIEhlbHBlciBmdW5jdGlvbnMgZm9yIGBmaWx0ZXJGaWx0ZXJgXG5mdW5jdGlvbiBjcmVhdGVQcmVkaWNhdGVGbihleHByZXNzaW9uLCBjb21wYXJhdG9yLCBhbnlQcm9wZXJ0eUtleSwgbWF0Y2hBZ2FpbnN0QW55UHJvcCkge1xuICB2YXIgc2hvdWxkTWF0Y2hQcmltaXRpdmVzID0gaXNPYmplY3QoZXhwcmVzc2lvbikgJiYgKGFueVByb3BlcnR5S2V5IGluIGV4cHJlc3Npb24pO1xuICB2YXIgcHJlZGljYXRlRm47XG5cbiAgaWYgKGNvbXBhcmF0b3IgPT09IHRydWUpIHtcbiAgICBjb21wYXJhdG9yID0gZXF1YWxzO1xuICB9IGVsc2UgaWYgKCFpc0Z1bmN0aW9uKGNvbXBhcmF0b3IpKSB7XG4gICAgY29tcGFyYXRvciA9IGZ1bmN0aW9uKGFjdHVhbCwgZXhwZWN0ZWQpIHtcbiAgICAgIGlmIChpc1VuZGVmaW5lZChhY3R1YWwpKSB7XG4gICAgICAgIC8vIE5vIHN1YnN0cmluZyBtYXRjaGluZyBhZ2FpbnN0IGB1bmRlZmluZWRgXG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cbiAgICAgIGlmICgoYWN0dWFsID09PSBudWxsKSB8fCAoZXhwZWN0ZWQgPT09IG51bGwpKSB7XG4gICAgICAgIC8vIE5vIHN1YnN0cmluZyBtYXRjaGluZyBhZ2FpbnN0IGBudWxsYDsgb25seSBtYXRjaCBhZ2FpbnN0IGBudWxsYFxuICAgICAgICByZXR1cm4gYWN0dWFsID09PSBleHBlY3RlZDtcbiAgICAgIH1cbiAgICAgIGlmIChpc09iamVjdChleHBlY3RlZCkgfHwgKGlzT2JqZWN0KGFjdHVhbCkgJiYgIWhhc0N1c3RvbVRvU3RyaW5nKGFjdHVhbCkpKSB7XG4gICAgICAgIC8vIFNob3VsZCBub3QgY29tcGFyZSBwcmltaXRpdmVzIGFnYWluc3Qgb2JqZWN0cywgdW5sZXNzIHRoZXkgaGF2ZSBjdXN0b20gYHRvU3RyaW5nYCBtZXRob2RcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuXG4gICAgICBhY3R1YWwgPSBsb3dlcmNhc2UoJycgKyBhY3R1YWwpO1xuICAgICAgZXhwZWN0ZWQgPSBsb3dlcmNhc2UoJycgKyBleHBlY3RlZCk7XG4gICAgICByZXR1cm4gYWN0dWFsLmluZGV4T2YoZXhwZWN0ZWQpICE9PSAtMTtcbiAgICB9O1xuICB9XG5cbiAgcHJlZGljYXRlRm4gPSBmdW5jdGlvbihpdGVtKSB7XG4gICAgaWYgKHNob3VsZE1hdGNoUHJpbWl0aXZlcyAmJiAhaXNPYmplY3QoaXRlbSkpIHtcbiAgICAgIHJldHVybiBkZWVwQ29tcGFyZShpdGVtLCBleHByZXNzaW9uW2FueVByb3BlcnR5S2V5XSwgY29tcGFyYXRvciwgYW55UHJvcGVydHlLZXksIGZhbHNlKTtcbiAgICB9XG4gICAgcmV0dXJuIGRlZXBDb21wYXJlKGl0ZW0sIGV4cHJlc3Npb24sIGNvbXBhcmF0b3IsIGFueVByb3BlcnR5S2V5LCBtYXRjaEFnYWluc3RBbnlQcm9wKTtcbiAgfTtcblxuICByZXR1cm4gcHJlZGljYXRlRm47XG59XG5cbmZ1bmN0aW9uIGRlZXBDb21wYXJlKGFjdHVhbCwgZXhwZWN0ZWQsIGNvbXBhcmF0b3IsIGFueVByb3BlcnR5S2V5LCBtYXRjaEFnYWluc3RBbnlQcm9wLCBkb250TWF0Y2hXaG9sZU9iamVjdCkge1xuICB2YXIgYWN0dWFsVHlwZSA9IGdldFR5cGVGb3JGaWx0ZXIoYWN0dWFsKTtcbiAgdmFyIGV4cGVjdGVkVHlwZSA9IGdldFR5cGVGb3JGaWx0ZXIoZXhwZWN0ZWQpO1xuXG4gIGlmICgoZXhwZWN0ZWRUeXBlID09PSAnc3RyaW5nJykgJiYgKGV4cGVjdGVkLmNoYXJBdCgwKSA9PT0gJyEnKSkge1xuICAgIHJldHVybiAhZGVlcENvbXBhcmUoYWN0dWFsLCBleHBlY3RlZC5zdWJzdHJpbmcoMSksIGNvbXBhcmF0b3IsIGFueVByb3BlcnR5S2V5LCBtYXRjaEFnYWluc3RBbnlQcm9wKTtcbiAgfSBlbHNlIGlmIChpc0FycmF5KGFjdHVhbCkpIHtcbiAgICAvLyBJbiBjYXNlIGBhY3R1YWxgIGlzIGFuIGFycmF5LCBjb25zaWRlciBpdCBhIG1hdGNoXG4gICAgLy8gaWYgQU5ZIG9mIGl0J3MgaXRlbXMgbWF0Y2hlcyBgZXhwZWN0ZWRgXG4gICAgcmV0dXJuIGFjdHVhbC5zb21lKGZ1bmN0aW9uKGl0ZW0pIHtcbiAgICAgIHJldHVybiBkZWVwQ29tcGFyZShpdGVtLCBleHBlY3RlZCwgY29tcGFyYXRvciwgYW55UHJvcGVydHlLZXksIG1hdGNoQWdhaW5zdEFueVByb3ApO1xuICAgIH0pO1xuICB9XG5cbiAgc3dpdGNoIChhY3R1YWxUeXBlKSB7XG4gICAgY2FzZSAnb2JqZWN0JzpcbiAgICAgIHZhciBrZXk7XG4gICAgICBpZiAobWF0Y2hBZ2FpbnN0QW55UHJvcCkge1xuICAgICAgICBmb3IgKGtleSBpbiBhY3R1YWwpIHtcbiAgICAgICAgICAvLyBVbmRlciBjZXJ0YWluLCByYXJlLCBjaXJjdW1zdGFuY2VzLCBrZXkgbWF5IG5vdCBiZSBhIHN0cmluZyBhbmQgYGNoYXJBdGAgd2lsbCBiZSB1bmRlZmluZWRcbiAgICAgICAgICAvLyBTZWU6IGh0dHBzOi8vZ2l0aHViLmNvbS9hbmd1bGFyL2FuZ3VsYXIuanMvaXNzdWVzLzE1NjQ0XG4gICAgICAgICAgaWYgKGtleS5jaGFyQXQgJiYgKGtleS5jaGFyQXQoMCkgIT09ICckJykgJiZcbiAgICAgICAgICAgICAgZGVlcENvbXBhcmUoYWN0dWFsW2tleV0sIGV4cGVjdGVkLCBjb21wYXJhdG9yLCBhbnlQcm9wZXJ0eUtleSwgdHJ1ZSkpIHtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZG9udE1hdGNoV2hvbGVPYmplY3QgPyBmYWxzZSA6IGRlZXBDb21wYXJlKGFjdHVhbCwgZXhwZWN0ZWQsIGNvbXBhcmF0b3IsIGFueVByb3BlcnR5S2V5LCBmYWxzZSk7XG4gICAgICB9IGVsc2UgaWYgKGV4cGVjdGVkVHlwZSA9PT0gJ29iamVjdCcpIHtcbiAgICAgICAgZm9yIChrZXkgaW4gZXhwZWN0ZWQpIHtcbiAgICAgICAgICB2YXIgZXhwZWN0ZWRWYWwgPSBleHBlY3RlZFtrZXldO1xuICAgICAgICAgIGlmIChpc0Z1bmN0aW9uKGV4cGVjdGVkVmFsKSB8fCBpc1VuZGVmaW5lZChleHBlY3RlZFZhbCkpIHtcbiAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIHZhciBtYXRjaEFueVByb3BlcnR5ID0ga2V5ID09PSBhbnlQcm9wZXJ0eUtleTtcbiAgICAgICAgICB2YXIgYWN0dWFsVmFsID0gbWF0Y2hBbnlQcm9wZXJ0eSA/IGFjdHVhbCA6IGFjdHVhbFtrZXldO1xuICAgICAgICAgIGlmICghZGVlcENvbXBhcmUoYWN0dWFsVmFsLCBleHBlY3RlZFZhbCwgY29tcGFyYXRvciwgYW55UHJvcGVydHlLZXksIG1hdGNoQW55UHJvcGVydHksIG1hdGNoQW55UHJvcGVydHkpKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIGNvbXBhcmF0b3IoYWN0dWFsLCBleHBlY3RlZCk7XG4gICAgICB9XG4gICAgY2FzZSAnZnVuY3Rpb24nOlxuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIGRlZmF1bHQ6XG4gICAgICByZXR1cm4gY29tcGFyYXRvcihhY3R1YWwsIGV4cGVjdGVkKTtcbiAgfVxufVxuXG4vLyBVc2VkIGZvciBlYXNpbHkgZGlmZmVyZW50aWF0aW5nIGJldHdlZW4gYG51bGxgIGFuZCBhY3R1YWwgYG9iamVjdGBcbmZ1bmN0aW9uIGdldFR5cGVGb3JGaWx0ZXIodmFsKSB7XG4gIHJldHVybiAodmFsID09PSBudWxsKSA/ICdudWxsJyA6IHR5cGVvZiB2YWw7XG59XG5cbnZhciBNQVhfRElHSVRTID0gMjI7XG52YXIgREVDSU1BTF9TRVAgPSAnLic7XG52YXIgWkVST19DSEFSID0gJzAnO1xuXG4vKipcbiAqIEBuZ2RvYyBmaWx0ZXJcbiAqIEBuYW1lIGN1cnJlbmN5XG4gKiBAa2luZCBmdW5jdGlvblxuICpcbiAqIEBkZXNjcmlwdGlvblxuICogRm9ybWF0cyBhIG51bWJlciBhcyBhIGN1cnJlbmN5IChpZSAkMSwyMzQuNTYpLiBXaGVuIG5vIGN1cnJlbmN5IHN5bWJvbCBpcyBwcm92aWRlZCwgZGVmYXVsdFxuICogc3ltYm9sIGZvciBjdXJyZW50IGxvY2FsZSBpcyB1c2VkLlxuICpcbiAqIEBwYXJhbSB7bnVtYmVyfSBhbW91bnQgSW5wdXQgdG8gZmlsdGVyLlxuICogQHBhcmFtIHtzdHJpbmc9fSBzeW1ib2wgQ3VycmVuY3kgc3ltYm9sIG9yIGlkZW50aWZpZXIgdG8gYmUgZGlzcGxheWVkLlxuICogQHBhcmFtIHtudW1iZXI9fSBmcmFjdGlvblNpemUgTnVtYmVyIG9mIGRlY2ltYWwgcGxhY2VzIHRvIHJvdW5kIHRoZSBhbW91bnQgdG8sIGRlZmF1bHRzIHRvIGRlZmF1bHQgbWF4IGZyYWN0aW9uIHNpemUgZm9yIGN1cnJlbnQgbG9jYWxlXG4gKiBAcmV0dXJucyB7c3RyaW5nfSBGb3JtYXR0ZWQgbnVtYmVyLlxuICpcbiAqXG4gKiBAZXhhbXBsZVxuICAgPGV4YW1wbGUgbW9kdWxlPVwiY3VycmVuY3lFeGFtcGxlXCIgbmFtZT1cImN1cnJlbmN5LWZpbHRlclwiPlxuICAgICA8ZmlsZSBuYW1lPVwiaW5kZXguaHRtbFwiPlxuICAgICAgIDxzY3JpcHQ+XG4gICAgICAgICBhbmd1bGFyLm1vZHVsZSgnY3VycmVuY3lFeGFtcGxlJywgW10pXG4gICAgICAgICAgIC5jb250cm9sbGVyKCdFeGFtcGxlQ29udHJvbGxlcicsIFsnJHNjb3BlJywgZnVuY3Rpb24oJHNjb3BlKSB7XG4gICAgICAgICAgICAgJHNjb3BlLmFtb3VudCA9IDEyMzQuNTY7XG4gICAgICAgICAgIH1dKTtcbiAgICAgICA8L3NjcmlwdD5cbiAgICAgICA8ZGl2IG5nLWNvbnRyb2xsZXI9XCJFeGFtcGxlQ29udHJvbGxlclwiPlxuICAgICAgICAgPGlucHV0IHR5cGU9XCJudW1iZXJcIiBuZy1tb2RlbD1cImFtb3VudFwiIGFyaWEtbGFiZWw9XCJhbW91bnRcIj4gPGJyPlxuICAgICAgICAgZGVmYXVsdCBjdXJyZW5jeSBzeW1ib2wgKCQpOiA8c3BhbiBpZD1cImN1cnJlbmN5LWRlZmF1bHRcIj57e2Ftb3VudCB8IGN1cnJlbmN5fX08L3NwYW4+PGJyPlxuICAgICAgICAgY3VzdG9tIGN1cnJlbmN5IGlkZW50aWZpZXIgKFVTRCQpOiA8c3BhbiBpZD1cImN1cnJlbmN5LWN1c3RvbVwiPnt7YW1vdW50IHwgY3VycmVuY3k6XCJVU0QkXCJ9fTwvc3Bhbj48YnI+XG4gICAgICAgICBubyBmcmFjdGlvbnMgKDApOiA8c3BhbiBpZD1cImN1cnJlbmN5LW5vLWZyYWN0aW9uc1wiPnt7YW1vdW50IHwgY3VycmVuY3k6XCJVU0QkXCI6MH19PC9zcGFuPlxuICAgICAgIDwvZGl2PlxuICAgICA8L2ZpbGU+XG4gICAgIDxmaWxlIG5hbWU9XCJwcm90cmFjdG9yLmpzXCIgdHlwZT1cInByb3RyYWN0b3JcIj5cbiAgICAgICBpdCgnc2hvdWxkIGluaXQgd2l0aCAxMjM0LjU2JywgZnVuY3Rpb24oKSB7XG4gICAgICAgICBleHBlY3QoZWxlbWVudChieS5pZCgnY3VycmVuY3ktZGVmYXVsdCcpKS5nZXRUZXh0KCkpLnRvQmUoJyQxLDIzNC41NicpO1xuICAgICAgICAgZXhwZWN0KGVsZW1lbnQoYnkuaWQoJ2N1cnJlbmN5LWN1c3RvbScpKS5nZXRUZXh0KCkpLnRvQmUoJ1VTRCQxLDIzNC41NicpO1xuICAgICAgICAgZXhwZWN0KGVsZW1lbnQoYnkuaWQoJ2N1cnJlbmN5LW5vLWZyYWN0aW9ucycpKS5nZXRUZXh0KCkpLnRvQmUoJ1VTRCQxLDIzNScpO1xuICAgICAgIH0pO1xuICAgICAgIGl0KCdzaG91bGQgdXBkYXRlJywgZnVuY3Rpb24oKSB7XG4gICAgICAgICBpZiAoYnJvd3Nlci5wYXJhbXMuYnJvd3NlciA9PT0gJ3NhZmFyaScpIHtcbiAgICAgICAgICAgLy8gU2FmYXJpIGRvZXMgbm90IHVuZGVyc3RhbmQgdGhlIG1pbnVzIGtleS4gU2VlXG4gICAgICAgICAgIC8vIGh0dHBzOi8vZ2l0aHViLmNvbS9hbmd1bGFyL3Byb3RyYWN0b3IvaXNzdWVzLzQ4MVxuICAgICAgICAgICByZXR1cm47XG4gICAgICAgICB9XG4gICAgICAgICBlbGVtZW50KGJ5Lm1vZGVsKCdhbW91bnQnKSkuY2xlYXIoKTtcbiAgICAgICAgIGVsZW1lbnQoYnkubW9kZWwoJ2Ftb3VudCcpKS5zZW5kS2V5cygnLTEyMzQnKTtcbiAgICAgICAgIGV4cGVjdChlbGVtZW50KGJ5LmlkKCdjdXJyZW5jeS1kZWZhdWx0JykpLmdldFRleHQoKSkudG9CZSgnLSQxLDIzNC4wMCcpO1xuICAgICAgICAgZXhwZWN0KGVsZW1lbnQoYnkuaWQoJ2N1cnJlbmN5LWN1c3RvbScpKS5nZXRUZXh0KCkpLnRvQmUoJy1VU0QkMSwyMzQuMDAnKTtcbiAgICAgICAgIGV4cGVjdChlbGVtZW50KGJ5LmlkKCdjdXJyZW5jeS1uby1mcmFjdGlvbnMnKSkuZ2V0VGV4dCgpKS50b0JlKCctVVNEJDEsMjM0Jyk7XG4gICAgICAgfSk7XG4gICAgIDwvZmlsZT5cbiAgIDwvZXhhbXBsZT5cbiAqL1xuY3VycmVuY3lGaWx0ZXIuJGluamVjdCA9IFsnJGxvY2FsZSddO1xuZnVuY3Rpb24gY3VycmVuY3lGaWx0ZXIoJGxvY2FsZSkge1xuICB2YXIgZm9ybWF0cyA9ICRsb2NhbGUuTlVNQkVSX0ZPUk1BVFM7XG4gIHJldHVybiBmdW5jdGlvbihhbW91bnQsIGN1cnJlbmN5U3ltYm9sLCBmcmFjdGlvblNpemUpIHtcbiAgICBpZiAoaXNVbmRlZmluZWQoY3VycmVuY3lTeW1ib2wpKSB7XG4gICAgICBjdXJyZW5jeVN5bWJvbCA9IGZvcm1hdHMuQ1VSUkVOQ1lfU1lNO1xuICAgIH1cblxuICAgIGlmIChpc1VuZGVmaW5lZChmcmFjdGlvblNpemUpKSB7XG4gICAgICBmcmFjdGlvblNpemUgPSBmb3JtYXRzLlBBVFRFUk5TWzFdLm1heEZyYWM7XG4gICAgfVxuXG4gICAgLy8gaWYgbnVsbCBvciB1bmRlZmluZWQgcGFzcyBpdCB0aHJvdWdoXG4gICAgcmV0dXJuIChhbW91bnQgPT0gbnVsbClcbiAgICAgICAgPyBhbW91bnRcbiAgICAgICAgOiBmb3JtYXROdW1iZXIoYW1vdW50LCBmb3JtYXRzLlBBVFRFUk5TWzFdLCBmb3JtYXRzLkdST1VQX1NFUCwgZm9ybWF0cy5ERUNJTUFMX1NFUCwgZnJhY3Rpb25TaXplKS5cbiAgICAgICAgICAgIHJlcGxhY2UoL1xcdTAwQTQvZywgY3VycmVuY3lTeW1ib2wpO1xuICB9O1xufVxuXG4vKipcbiAqIEBuZ2RvYyBmaWx0ZXJcbiAqIEBuYW1lIG51bWJlclxuICogQGtpbmQgZnVuY3Rpb25cbiAqXG4gKiBAZGVzY3JpcHRpb25cbiAqIEZvcm1hdHMgYSBudW1iZXIgYXMgdGV4dC5cbiAqXG4gKiBJZiB0aGUgaW5wdXQgaXMgbnVsbCBvciB1bmRlZmluZWQsIGl0IHdpbGwganVzdCBiZSByZXR1cm5lZC5cbiAqIElmIHRoZSBpbnB1dCBpcyBpbmZpbml0ZSAoSW5maW5pdHkgb3IgLUluZmluaXR5KSwgdGhlIEluZmluaXR5IHN5bWJvbCAn4oieJyBvciAnLeKInicgaXMgcmV0dXJuZWQsIHJlc3BlY3RpdmVseS5cbiAqIElmIHRoZSBpbnB1dCBpcyBub3QgYSBudW1iZXIgYW4gZW1wdHkgc3RyaW5nIGlzIHJldHVybmVkLlxuICpcbiAqXG4gKiBAcGFyYW0ge251bWJlcnxzdHJpbmd9IG51bWJlciBOdW1iZXIgdG8gZm9ybWF0LlxuICogQHBhcmFtIHsobnVtYmVyfHN0cmluZyk9fSBmcmFjdGlvblNpemUgTnVtYmVyIG9mIGRlY2ltYWwgcGxhY2VzIHRvIHJvdW5kIHRoZSBudW1iZXIgdG8uXG4gKiBJZiB0aGlzIGlzIG5vdCBwcm92aWRlZCB0aGVuIHRoZSBmcmFjdGlvbiBzaXplIGlzIGNvbXB1dGVkIGZyb20gdGhlIGN1cnJlbnQgbG9jYWxlJ3MgbnVtYmVyXG4gKiBmb3JtYXR0aW5nIHBhdHRlcm4uIEluIHRoZSBjYXNlIG9mIHRoZSBkZWZhdWx0IGxvY2FsZSwgaXQgd2lsbCBiZSAzLlxuICogQHJldHVybnMge3N0cmluZ30gTnVtYmVyIHJvdW5kZWQgdG8gYGZyYWN0aW9uU2l6ZWAgYXBwcm9wcmlhdGVseSBmb3JtYXR0ZWQgYmFzZWQgb24gdGhlIGN1cnJlbnRcbiAqICAgICAgICAgICAgICAgICAgIGxvY2FsZSAoZS5nLiwgaW4gdGhlIGVuX1VTIGxvY2FsZSBpdCB3aWxsIGhhdmUgXCIuXCIgYXMgdGhlIGRlY2ltYWwgc2VwYXJhdG9yIGFuZFxuICogICAgICAgICAgICAgICAgICAgaW5jbHVkZSBcIixcIiBncm91cCBzZXBhcmF0b3JzIGFmdGVyIGVhY2ggdGhpcmQgZGlnaXQpLlxuICpcbiAqIEBleGFtcGxlXG4gICA8ZXhhbXBsZSBtb2R1bGU9XCJudW1iZXJGaWx0ZXJFeGFtcGxlXCIgbmFtZT1cIm51bWJlci1maWx0ZXJcIj5cbiAgICAgPGZpbGUgbmFtZT1cImluZGV4Lmh0bWxcIj5cbiAgICAgICA8c2NyaXB0PlxuICAgICAgICAgYW5ndWxhci5tb2R1bGUoJ251bWJlckZpbHRlckV4YW1wbGUnLCBbXSlcbiAgICAgICAgICAgLmNvbnRyb2xsZXIoJ0V4YW1wbGVDb250cm9sbGVyJywgWyckc2NvcGUnLCBmdW5jdGlvbigkc2NvcGUpIHtcbiAgICAgICAgICAgICAkc2NvcGUudmFsID0gMTIzNC41Njc4OTtcbiAgICAgICAgICAgfV0pO1xuICAgICAgIDwvc2NyaXB0PlxuICAgICAgIDxkaXYgbmctY29udHJvbGxlcj1cIkV4YW1wbGVDb250cm9sbGVyXCI+XG4gICAgICAgICA8bGFiZWw+RW50ZXIgbnVtYmVyOiA8aW5wdXQgbmctbW9kZWw9J3ZhbCc+PC9sYWJlbD48YnI+XG4gICAgICAgICBEZWZhdWx0IGZvcm1hdHRpbmc6IDxzcGFuIGlkPSdudW1iZXItZGVmYXVsdCc+e3t2YWwgfCBudW1iZXJ9fTwvc3Bhbj48YnI+XG4gICAgICAgICBObyBmcmFjdGlvbnM6IDxzcGFuPnt7dmFsIHwgbnVtYmVyOjB9fTwvc3Bhbj48YnI+XG4gICAgICAgICBOZWdhdGl2ZSBudW1iZXI6IDxzcGFuPnt7LXZhbCB8IG51bWJlcjo0fX08L3NwYW4+XG4gICAgICAgPC9kaXY+XG4gICAgIDwvZmlsZT5cbiAgICAgPGZpbGUgbmFtZT1cInByb3RyYWN0b3IuanNcIiB0eXBlPVwicHJvdHJhY3RvclwiPlxuICAgICAgIGl0KCdzaG91bGQgZm9ybWF0IG51bWJlcnMnLCBmdW5jdGlvbigpIHtcbiAgICAgICAgIGV4cGVjdChlbGVtZW50KGJ5LmlkKCdudW1iZXItZGVmYXVsdCcpKS5nZXRUZXh0KCkpLnRvQmUoJzEsMjM0LjU2OCcpO1xuICAgICAgICAgZXhwZWN0KGVsZW1lbnQoYnkuYmluZGluZygndmFsIHwgbnVtYmVyOjAnKSkuZ2V0VGV4dCgpKS50b0JlKCcxLDIzNScpO1xuICAgICAgICAgZXhwZWN0KGVsZW1lbnQoYnkuYmluZGluZygnLXZhbCB8IG51bWJlcjo0JykpLmdldFRleHQoKSkudG9CZSgnLTEsMjM0LjU2NzknKTtcbiAgICAgICB9KTtcblxuICAgICAgIGl0KCdzaG91bGQgdXBkYXRlJywgZnVuY3Rpb24oKSB7XG4gICAgICAgICBlbGVtZW50KGJ5Lm1vZGVsKCd2YWwnKSkuY2xlYXIoKTtcbiAgICAgICAgIGVsZW1lbnQoYnkubW9kZWwoJ3ZhbCcpKS5zZW5kS2V5cygnMzM3NC4zMzMnKTtcbiAgICAgICAgIGV4cGVjdChlbGVtZW50KGJ5LmlkKCdudW1iZXItZGVmYXVsdCcpKS5nZXRUZXh0KCkpLnRvQmUoJzMsMzc0LjMzMycpO1xuICAgICAgICAgZXhwZWN0KGVsZW1lbnQoYnkuYmluZGluZygndmFsIHwgbnVtYmVyOjAnKSkuZ2V0VGV4dCgpKS50b0JlKCczLDM3NCcpO1xuICAgICAgICAgZXhwZWN0KGVsZW1lbnQoYnkuYmluZGluZygnLXZhbCB8IG51bWJlcjo0JykpLmdldFRleHQoKSkudG9CZSgnLTMsMzc0LjMzMzAnKTtcbiAgICAgIH0pO1xuICAgICA8L2ZpbGU+XG4gICA8L2V4YW1wbGU+XG4gKi9cbm51bWJlckZpbHRlci4kaW5qZWN0ID0gWyckbG9jYWxlJ107XG5mdW5jdGlvbiBudW1iZXJGaWx0ZXIoJGxvY2FsZSkge1xuICB2YXIgZm9ybWF0cyA9ICRsb2NhbGUuTlVNQkVSX0ZPUk1BVFM7XG4gIHJldHVybiBmdW5jdGlvbihudW1iZXIsIGZyYWN0aW9uU2l6ZSkge1xuXG4gICAgLy8gaWYgbnVsbCBvciB1bmRlZmluZWQgcGFzcyBpdCB0aHJvdWdoXG4gICAgcmV0dXJuIChudW1iZXIgPT0gbnVsbClcbiAgICAgICAgPyBudW1iZXJcbiAgICAgICAgOiBmb3JtYXROdW1iZXIobnVtYmVyLCBmb3JtYXRzLlBBVFRFUk5TWzBdLCBmb3JtYXRzLkdST1VQX1NFUCwgZm9ybWF0cy5ERUNJTUFMX1NFUCxcbiAgICAgICAgICAgICAgICAgICAgICAgZnJhY3Rpb25TaXplKTtcbiAgfTtcbn1cblxuLyoqXG4gKiBQYXJzZSBhIG51bWJlciAoYXMgYSBzdHJpbmcpIGludG8gdGhyZWUgY29tcG9uZW50cyB0aGF0IGNhbiBiZSB1c2VkXG4gKiBmb3IgZm9ybWF0dGluZyB0aGUgbnVtYmVyLlxuICpcbiAqIChTaWduaWZpY2FudCBiaXRzIG9mIHRoaXMgcGFyc2UgYWxnb3JpdGhtIGNhbWUgZnJvbSBodHRwczovL2dpdGh1Yi5jb20vTWlrZU1jbC9iaWcuanMvKVxuICpcbiAqIEBwYXJhbSAge3N0cmluZ30gbnVtU3RyIFRoZSBudW1iZXIgdG8gcGFyc2VcbiAqIEByZXR1cm4ge29iamVjdH0gQW4gb2JqZWN0IGRlc2NyaWJpbmcgdGhpcyBudW1iZXIsIGNvbnRhaW5pbmcgdGhlIGZvbGxvd2luZyBrZXlzOlxuICogIC0gZCA6IGFuIGFycmF5IG9mIGRpZ2l0cyBjb250YWluaW5nIGxlYWRpbmcgemVyb3MgYXMgbmVjZXNzYXJ5XG4gKiAgLSBpIDogdGhlIG51bWJlciBvZiB0aGUgZGlnaXRzIGluIGBkYCB0aGF0IGFyZSB0byB0aGUgbGVmdCBvZiB0aGUgZGVjaW1hbCBwb2ludFxuICogIC0gZSA6IHRoZSBleHBvbmVudCBmb3IgbnVtYmVycyB0aGF0IHdvdWxkIG5lZWQgbW9yZSB0aGFuIGBNQVhfRElHSVRTYCBkaWdpdHMgaW4gYGRgXG4gKlxuICovXG5mdW5jdGlvbiBwYXJzZShudW1TdHIpIHtcbiAgdmFyIGV4cG9uZW50ID0gMCwgZGlnaXRzLCBudW1iZXJPZkludGVnZXJEaWdpdHM7XG4gIHZhciBpLCBqLCB6ZXJvcztcblxuICAvLyBEZWNpbWFsIHBvaW50P1xuICBpZiAoKG51bWJlck9mSW50ZWdlckRpZ2l0cyA9IG51bVN0ci5pbmRleE9mKERFQ0lNQUxfU0VQKSkgPiAtMSkge1xuICAgIG51bVN0ciA9IG51bVN0ci5yZXBsYWNlKERFQ0lNQUxfU0VQLCAnJyk7XG4gIH1cblxuICAvLyBFeHBvbmVudGlhbCBmb3JtP1xuICBpZiAoKGkgPSBudW1TdHIuc2VhcmNoKC9lL2kpKSA+IDApIHtcbiAgICAvLyBXb3JrIG91dCB0aGUgZXhwb25lbnQuXG4gICAgaWYgKG51bWJlck9mSW50ZWdlckRpZ2l0cyA8IDApIG51bWJlck9mSW50ZWdlckRpZ2l0cyA9IGk7XG4gICAgbnVtYmVyT2ZJbnRlZ2VyRGlnaXRzICs9ICtudW1TdHIuc2xpY2UoaSArIDEpO1xuICAgIG51bVN0ciA9IG51bVN0ci5zdWJzdHJpbmcoMCwgaSk7XG4gIH0gZWxzZSBpZiAobnVtYmVyT2ZJbnRlZ2VyRGlnaXRzIDwgMCkge1xuICAgIC8vIFRoZXJlIHdhcyBubyBkZWNpbWFsIHBvaW50IG9yIGV4cG9uZW50IHNvIGl0IGlzIGFuIGludGVnZXIuXG4gICAgbnVtYmVyT2ZJbnRlZ2VyRGlnaXRzID0gbnVtU3RyLmxlbmd0aDtcbiAgfVxuXG4gIC8vIENvdW50IHRoZSBudW1iZXIgb2YgbGVhZGluZyB6ZXJvcy5cbiAgZm9yIChpID0gMDsgbnVtU3RyLmNoYXJBdChpKSA9PT0gWkVST19DSEFSOyBpKyspIHsgLyogZW1wdHkgKi8gfVxuXG4gIGlmIChpID09PSAoemVyb3MgPSBudW1TdHIubGVuZ3RoKSkge1xuICAgIC8vIFRoZSBkaWdpdHMgYXJlIGFsbCB6ZXJvLlxuICAgIGRpZ2l0cyA9IFswXTtcbiAgICBudW1iZXJPZkludGVnZXJEaWdpdHMgPSAxO1xuICB9IGVsc2Uge1xuICAgIC8vIENvdW50IHRoZSBudW1iZXIgb2YgdHJhaWxpbmcgemVyb3NcbiAgICB6ZXJvcy0tO1xuICAgIHdoaWxlIChudW1TdHIuY2hhckF0KHplcm9zKSA9PT0gWkVST19DSEFSKSB6ZXJvcy0tO1xuXG4gICAgLy8gVHJhaWxpbmcgemVyb3MgYXJlIGluc2lnbmlmaWNhbnQgc28gaWdub3JlIHRoZW1cbiAgICBudW1iZXJPZkludGVnZXJEaWdpdHMgLT0gaTtcbiAgICBkaWdpdHMgPSBbXTtcbiAgICAvLyBDb252ZXJ0IHN0cmluZyB0byBhcnJheSBvZiBkaWdpdHMgd2l0aG91dCBsZWFkaW5nL3RyYWlsaW5nIHplcm9zLlxuICAgIGZvciAoaiA9IDA7IGkgPD0gemVyb3M7IGkrKywgaisrKSB7XG4gICAgICBkaWdpdHNbal0gPSArbnVtU3RyLmNoYXJBdChpKTtcbiAgICB9XG4gIH1cblxuICAvLyBJZiB0aGUgbnVtYmVyIG92ZXJmbG93cyB0aGUgbWF4aW11bSBhbGxvd2VkIGRpZ2l0cyB0aGVuIHVzZSBhbiBleHBvbmVudC5cbiAgaWYgKG51bWJlck9mSW50ZWdlckRpZ2l0cyA+IE1BWF9ESUdJVFMpIHtcbiAgICBkaWdpdHMgPSBkaWdpdHMuc3BsaWNlKDAsIE1BWF9ESUdJVFMgLSAxKTtcbiAgICBleHBvbmVudCA9IG51bWJlck9mSW50ZWdlckRpZ2l0cyAtIDE7XG4gICAgbnVtYmVyT2ZJbnRlZ2VyRGlnaXRzID0gMTtcbiAgfVxuXG4gIHJldHVybiB7IGQ6IGRpZ2l0cywgZTogZXhwb25lbnQsIGk6IG51bWJlck9mSW50ZWdlckRpZ2l0cyB9O1xufVxuXG4vKipcbiAqIFJvdW5kIHRoZSBwYXJzZWQgbnVtYmVyIHRvIHRoZSBzcGVjaWZpZWQgbnVtYmVyIG9mIGRlY2ltYWwgcGxhY2VzXG4gKiBUaGlzIGZ1bmN0aW9uIGNoYW5nZWQgdGhlIHBhcnNlZE51bWJlciBpbi1wbGFjZVxuICovXG5mdW5jdGlvbiByb3VuZE51bWJlcihwYXJzZWROdW1iZXIsIGZyYWN0aW9uU2l6ZSwgbWluRnJhYywgbWF4RnJhYykge1xuICAgIHZhciBkaWdpdHMgPSBwYXJzZWROdW1iZXIuZDtcbiAgICB2YXIgZnJhY3Rpb25MZW4gPSBkaWdpdHMubGVuZ3RoIC0gcGFyc2VkTnVtYmVyLmk7XG5cbiAgICAvLyBkZXRlcm1pbmUgZnJhY3Rpb25TaXplIGlmIGl0IGlzIG5vdCBzcGVjaWZpZWQ7IGArZnJhY3Rpb25TaXplYCBjb252ZXJ0cyBpdCB0byBhIG51bWJlclxuICAgIGZyYWN0aW9uU2l6ZSA9IChpc1VuZGVmaW5lZChmcmFjdGlvblNpemUpKSA/IE1hdGgubWluKE1hdGgubWF4KG1pbkZyYWMsIGZyYWN0aW9uTGVuKSwgbWF4RnJhYykgOiArZnJhY3Rpb25TaXplO1xuXG4gICAgLy8gVGhlIGluZGV4IG9mIHRoZSBkaWdpdCB0byB3aGVyZSByb3VuZGluZyBpcyB0byBvY2N1clxuICAgIHZhciByb3VuZEF0ID0gZnJhY3Rpb25TaXplICsgcGFyc2VkTnVtYmVyLmk7XG4gICAgdmFyIGRpZ2l0ID0gZGlnaXRzW3JvdW5kQXRdO1xuXG4gICAgaWYgKHJvdW5kQXQgPiAwKSB7XG4gICAgICAvLyBEcm9wIGZyYWN0aW9uYWwgZGlnaXRzIGJleW9uZCBgcm91bmRBdGBcbiAgICAgIGRpZ2l0cy5zcGxpY2UoTWF0aC5tYXgocGFyc2VkTnVtYmVyLmksIHJvdW5kQXQpKTtcblxuICAgICAgLy8gU2V0IG5vbi1mcmFjdGlvbmFsIGRpZ2l0cyBiZXlvbmQgYHJvdW5kQXRgIHRvIDBcbiAgICAgIGZvciAodmFyIGogPSByb3VuZEF0OyBqIDwgZGlnaXRzLmxlbmd0aDsgaisrKSB7XG4gICAgICAgIGRpZ2l0c1tqXSA9IDA7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIFdlIHJvdW5kZWQgdG8gemVybyBzbyByZXNldCB0aGUgcGFyc2VkTnVtYmVyXG4gICAgICBmcmFjdGlvbkxlbiA9IE1hdGgubWF4KDAsIGZyYWN0aW9uTGVuKTtcbiAgICAgIHBhcnNlZE51bWJlci5pID0gMTtcbiAgICAgIGRpZ2l0cy5sZW5ndGggPSBNYXRoLm1heCgxLCByb3VuZEF0ID0gZnJhY3Rpb25TaXplICsgMSk7XG4gICAgICBkaWdpdHNbMF0gPSAwO1xuICAgICAgZm9yICh2YXIgaSA9IDE7IGkgPCByb3VuZEF0OyBpKyspIGRpZ2l0c1tpXSA9IDA7XG4gICAgfVxuXG4gICAgaWYgKGRpZ2l0ID49IDUpIHtcbiAgICAgIGlmIChyb3VuZEF0IC0gMSA8IDApIHtcbiAgICAgICAgZm9yICh2YXIgayA9IDA7IGsgPiByb3VuZEF0OyBrLS0pIHtcbiAgICAgICAgICBkaWdpdHMudW5zaGlmdCgwKTtcbiAgICAgICAgICBwYXJzZWROdW1iZXIuaSsrO1xuICAgICAgICB9XG4gICAgICAgIGRpZ2l0cy51bnNoaWZ0KDEpO1xuICAgICAgICBwYXJzZWROdW1iZXIuaSsrO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgZGlnaXRzW3JvdW5kQXQgLSAxXSsrO1xuICAgICAgfVxuICAgIH1cblxuICAgIC8vIFBhZCBvdXQgd2l0aCB6ZXJvcyB0byBnZXQgdGhlIHJlcXVpcmVkIGZyYWN0aW9uIGxlbmd0aFxuICAgIGZvciAoOyBmcmFjdGlvbkxlbiA8IE1hdGgubWF4KDAsIGZyYWN0aW9uU2l6ZSk7IGZyYWN0aW9uTGVuKyspIGRpZ2l0cy5wdXNoKDApO1xuXG5cbiAgICAvLyBEbyBhbnkgY2FycnlpbmcsIGUuZy4gYSBkaWdpdCB3YXMgcm91bmRlZCB1cCB0byAxMFxuICAgIHZhciBjYXJyeSA9IGRpZ2l0cy5yZWR1Y2VSaWdodChmdW5jdGlvbihjYXJyeSwgZCwgaSwgZGlnaXRzKSB7XG4gICAgICBkID0gZCArIGNhcnJ5O1xuICAgICAgZGlnaXRzW2ldID0gZCAlIDEwO1xuICAgICAgcmV0dXJuIE1hdGguZmxvb3IoZCAvIDEwKTtcbiAgICB9LCAwKTtcbiAgICBpZiAoY2FycnkpIHtcbiAgICAgIGRpZ2l0cy51bnNoaWZ0KGNhcnJ5KTtcbiAgICAgIHBhcnNlZE51bWJlci5pKys7XG4gICAgfVxufVxuXG4vKipcbiAqIEZvcm1hdCBhIG51bWJlciBpbnRvIGEgc3RyaW5nXG4gKiBAcGFyYW0gIHtudW1iZXJ9IG51bWJlciAgICAgICBUaGUgbnVtYmVyIHRvIGZvcm1hdFxuICogQHBhcmFtICB7e1xuICogICAgICAgICAgIG1pbkZyYWMsIC8vIHRoZSBtaW5pbXVtIG51bWJlciBvZiBkaWdpdHMgcmVxdWlyZWQgaW4gdGhlIGZyYWN0aW9uIHBhcnQgb2YgdGhlIG51bWJlclxuICogICAgICAgICAgIG1heEZyYWMsIC8vIHRoZSBtYXhpbXVtIG51bWJlciBvZiBkaWdpdHMgcmVxdWlyZWQgaW4gdGhlIGZyYWN0aW9uIHBhcnQgb2YgdGhlIG51bWJlclxuICogICAgICAgICAgIGdTaXplLCAgIC8vIG51bWJlciBvZiBkaWdpdHMgaW4gZWFjaCBncm91cCBvZiBzZXBhcmF0ZWQgZGlnaXRzXG4gKiAgICAgICAgICAgbGdTaXplLCAgLy8gbnVtYmVyIG9mIGRpZ2l0cyBpbiB0aGUgbGFzdCBncm91cCBvZiBkaWdpdHMgYmVmb3JlIHRoZSBkZWNpbWFsIHNlcGFyYXRvclxuICogICAgICAgICAgIG5lZ1ByZSwgIC8vIHRoZSBzdHJpbmcgdG8gZ28gaW4gZnJvbnQgb2YgYSBuZWdhdGl2ZSBudW1iZXIgKGUuZy4gYC1gIG9yIGAoYCkpXG4gKiAgICAgICAgICAgcG9zUHJlLCAgLy8gdGhlIHN0cmluZyB0byBnbyBpbiBmcm9udCBvZiBhIHBvc2l0aXZlIG51bWJlclxuICogICAgICAgICAgIG5lZ1N1ZiwgIC8vIHRoZSBzdHJpbmcgdG8gZ28gYWZ0ZXIgYSBuZWdhdGl2ZSBudW1iZXIgKGUuZy4gYClgKVxuICogICAgICAgICAgIHBvc1N1ZiAgIC8vIHRoZSBzdHJpbmcgdG8gZ28gYWZ0ZXIgYSBwb3NpdGl2ZSBudW1iZXJcbiAqICAgICAgICAgfX0gcGF0dGVyblxuICogQHBhcmFtICB7c3RyaW5nfSBncm91cFNlcCAgICAgVGhlIHN0cmluZyB0byBzZXBhcmF0ZSBncm91cHMgb2YgbnVtYmVyIChlLmcuIGAsYClcbiAqIEBwYXJhbSAge3N0cmluZ30gZGVjaW1hbFNlcCAgIFRoZSBzdHJpbmcgdG8gYWN0IGFzIHRoZSBkZWNpbWFsIHNlcGFyYXRvciAoZS5nLiBgLmApXG4gKiBAcGFyYW0gIHtbdHlwZV19IGZyYWN0aW9uU2l6ZSBUaGUgc2l6ZSBvZiB0aGUgZnJhY3Rpb25hbCBwYXJ0IG9mIHRoZSBudW1iZXJcbiAqIEByZXR1cm4ge3N0cmluZ30gICAgICAgICAgICAgIFRoZSBudW1iZXIgZm9ybWF0dGVkIGFzIGEgc3RyaW5nXG4gKi9cbmZ1bmN0aW9uIGZvcm1hdE51bWJlcihudW1iZXIsIHBhdHRlcm4sIGdyb3VwU2VwLCBkZWNpbWFsU2VwLCBmcmFjdGlvblNpemUpIHtcblxuICBpZiAoIShpc1N0cmluZyhudW1iZXIpIHx8IGlzTnVtYmVyKG51bWJlcikpIHx8IGlzTmFOKG51bWJlcikpIHJldHVybiAnJztcblxuICB2YXIgaXNJbmZpbml0eSA9ICFpc0Zpbml0ZShudW1iZXIpO1xuICB2YXIgaXNaZXJvID0gZmFsc2U7XG4gIHZhciBudW1TdHIgPSBNYXRoLmFicyhudW1iZXIpICsgJycsXG4gICAgICBmb3JtYXR0ZWRUZXh0ID0gJycsXG4gICAgICBwYXJzZWROdW1iZXI7XG5cbiAgaWYgKGlzSW5maW5pdHkpIHtcbiAgICBmb3JtYXR0ZWRUZXh0ID0gJ1xcdTIyMWUnO1xuICB9IGVsc2Uge1xuICAgIHBhcnNlZE51bWJlciA9IHBhcnNlKG51bVN0cik7XG5cbiAgICByb3VuZE51bWJlcihwYXJzZWROdW1iZXIsIGZyYWN0aW9uU2l6ZSwgcGF0dGVybi5taW5GcmFjLCBwYXR0ZXJuLm1heEZyYWMpO1xuXG4gICAgdmFyIGRpZ2l0cyA9IHBhcnNlZE51bWJlci5kO1xuICAgIHZhciBpbnRlZ2VyTGVuID0gcGFyc2VkTnVtYmVyLmk7XG4gICAgdmFyIGV4cG9uZW50ID0gcGFyc2VkTnVtYmVyLmU7XG4gICAgdmFyIGRlY2ltYWxzID0gW107XG4gICAgaXNaZXJvID0gZGlnaXRzLnJlZHVjZShmdW5jdGlvbihpc1plcm8sIGQpIHsgcmV0dXJuIGlzWmVybyAmJiAhZDsgfSwgdHJ1ZSk7XG5cbiAgICAvLyBwYWQgemVyb3MgZm9yIHNtYWxsIG51bWJlcnNcbiAgICB3aGlsZSAoaW50ZWdlckxlbiA8IDApIHtcbiAgICAgIGRpZ2l0cy51bnNoaWZ0KDApO1xuICAgICAgaW50ZWdlckxlbisrO1xuICAgIH1cblxuICAgIC8vIGV4dHJhY3QgZGVjaW1hbHMgZGlnaXRzXG4gICAgaWYgKGludGVnZXJMZW4gPiAwKSB7XG4gICAgICBkZWNpbWFscyA9IGRpZ2l0cy5zcGxpY2UoaW50ZWdlckxlbiwgZGlnaXRzLmxlbmd0aCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGRlY2ltYWxzID0gZGlnaXRzO1xuICAgICAgZGlnaXRzID0gWzBdO1xuICAgIH1cblxuICAgIC8vIGZvcm1hdCB0aGUgaW50ZWdlciBkaWdpdHMgd2l0aCBncm91cGluZyBzZXBhcmF0b3JzXG4gICAgdmFyIGdyb3VwcyA9IFtdO1xuICAgIGlmIChkaWdpdHMubGVuZ3RoID49IHBhdHRlcm4ubGdTaXplKSB7XG4gICAgICBncm91cHMudW5zaGlmdChkaWdpdHMuc3BsaWNlKC1wYXR0ZXJuLmxnU2l6ZSwgZGlnaXRzLmxlbmd0aCkuam9pbignJykpO1xuICAgIH1cbiAgICB3aGlsZSAoZGlnaXRzLmxlbmd0aCA+IHBhdHRlcm4uZ1NpemUpIHtcbiAgICAgIGdyb3Vwcy51bnNoaWZ0KGRpZ2l0cy5zcGxpY2UoLXBhdHRlcm4uZ1NpemUsIGRpZ2l0cy5sZW5ndGgpLmpvaW4oJycpKTtcbiAgICB9XG4gICAgaWYgKGRpZ2l0cy5sZW5ndGgpIHtcbiAgICAgIGdyb3Vwcy51bnNoaWZ0KGRpZ2l0cy5qb2luKCcnKSk7XG4gICAgfVxuICAgIGZvcm1hdHRlZFRleHQgPSBncm91cHMuam9pbihncm91cFNlcCk7XG5cbiAgICAvLyBhcHBlbmQgdGhlIGRlY2ltYWwgZGlnaXRzXG4gICAgaWYgKGRlY2ltYWxzLmxlbmd0aCkge1xuICAgICAgZm9ybWF0dGVkVGV4dCArPSBkZWNpbWFsU2VwICsgZGVjaW1hbHMuam9pbignJyk7XG4gICAgfVxuXG4gICAgaWYgKGV4cG9uZW50KSB7XG4gICAgICBmb3JtYXR0ZWRUZXh0ICs9ICdlKycgKyBleHBvbmVudDtcbiAgICB9XG4gIH1cbiAgaWYgKG51bWJlciA8IDAgJiYgIWlzWmVybykge1xuICAgIHJldHVybiBwYXR0ZXJuLm5lZ1ByZSArIGZvcm1hdHRlZFRleHQgKyBwYXR0ZXJuLm5lZ1N1ZjtcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gcGF0dGVybi5wb3NQcmUgKyBmb3JtYXR0ZWRUZXh0ICsgcGF0dGVybi5wb3NTdWY7XG4gIH1cbn1cblxuZnVuY3Rpb24gcGFkTnVtYmVyKG51bSwgZGlnaXRzLCB0cmltLCBuZWdXcmFwKSB7XG4gIHZhciBuZWcgPSAnJztcbiAgaWYgKG51bSA8IDAgfHwgKG5lZ1dyYXAgJiYgbnVtIDw9IDApKSB7XG4gICAgaWYgKG5lZ1dyYXApIHtcbiAgICAgIG51bSA9IC1udW0gKyAxO1xuICAgIH0gZWxzZSB7XG4gICAgICBudW0gPSAtbnVtO1xuICAgICAgbmVnID0gJy0nO1xuICAgIH1cbiAgfVxuICBudW0gPSAnJyArIG51bTtcbiAgd2hpbGUgKG51bS5sZW5ndGggPCBkaWdpdHMpIG51bSA9IFpFUk9fQ0hBUiArIG51bTtcbiAgaWYgKHRyaW0pIHtcbiAgICBudW0gPSBudW0uc3Vic3RyKG51bS5sZW5ndGggLSBkaWdpdHMpO1xuICB9XG4gIHJldHVybiBuZWcgKyBudW07XG59XG5cblxuZnVuY3Rpb24gZGF0ZUdldHRlcihuYW1lLCBzaXplLCBvZmZzZXQsIHRyaW0sIG5lZ1dyYXApIHtcbiAgb2Zmc2V0ID0gb2Zmc2V0IHx8IDA7XG4gIHJldHVybiBmdW5jdGlvbihkYXRlKSB7XG4gICAgdmFyIHZhbHVlID0gZGF0ZVsnZ2V0JyArIG5hbWVdKCk7XG4gICAgaWYgKG9mZnNldCA+IDAgfHwgdmFsdWUgPiAtb2Zmc2V0KSB7XG4gICAgICB2YWx1ZSArPSBvZmZzZXQ7XG4gICAgfVxuICAgIGlmICh2YWx1ZSA9PT0gMCAmJiBvZmZzZXQgPT09IC0xMikgdmFsdWUgPSAxMjtcbiAgICByZXR1cm4gcGFkTnVtYmVyKHZhbHVlLCBzaXplLCB0cmltLCBuZWdXcmFwKTtcbiAgfTtcbn1cblxuZnVuY3Rpb24gZGF0ZVN0ckdldHRlcihuYW1lLCBzaG9ydEZvcm0sIHN0YW5kQWxvbmUpIHtcbiAgcmV0dXJuIGZ1bmN0aW9uKGRhdGUsIGZvcm1hdHMpIHtcbiAgICB2YXIgdmFsdWUgPSBkYXRlWydnZXQnICsgbmFtZV0oKTtcbiAgICB2YXIgcHJvcFByZWZpeCA9IChzdGFuZEFsb25lID8gJ1NUQU5EQUxPTkUnIDogJycpICsgKHNob3J0Rm9ybSA/ICdTSE9SVCcgOiAnJyk7XG4gICAgdmFyIGdldCA9IHVwcGVyY2FzZShwcm9wUHJlZml4ICsgbmFtZSk7XG5cbiAgICByZXR1cm4gZm9ybWF0c1tnZXRdW3ZhbHVlXTtcbiAgfTtcbn1cblxuZnVuY3Rpb24gdGltZVpvbmVHZXR0ZXIoZGF0ZSwgZm9ybWF0cywgb2Zmc2V0KSB7XG4gIHZhciB6b25lID0gLTEgKiBvZmZzZXQ7XG4gIHZhciBwYWRkZWRab25lID0gKHpvbmUgPj0gMCkgPyAnKycgOiAnJztcblxuICBwYWRkZWRab25lICs9IHBhZE51bWJlcihNYXRoW3pvbmUgPiAwID8gJ2Zsb29yJyA6ICdjZWlsJ10oem9uZSAvIDYwKSwgMikgK1xuICAgICAgICAgICAgICAgIHBhZE51bWJlcihNYXRoLmFicyh6b25lICUgNjApLCAyKTtcblxuICByZXR1cm4gcGFkZGVkWm9uZTtcbn1cblxuZnVuY3Rpb24gZ2V0Rmlyc3RUaHVyc2RheU9mWWVhcih5ZWFyKSB7XG4gICAgLy8gMCA9IGluZGV4IG9mIEphbnVhcnlcbiAgICB2YXIgZGF5T2ZXZWVrT25GaXJzdCA9IChuZXcgRGF0ZSh5ZWFyLCAwLCAxKSkuZ2V0RGF5KCk7XG4gICAgLy8gNCA9IGluZGV4IG9mIFRodXJzZGF5ICgrMSB0byBhY2NvdW50IGZvciAxc3QgPSA1KVxuICAgIC8vIDExID0gaW5kZXggb2YgKm5leHQqIFRodXJzZGF5ICgrMSBhY2NvdW50IGZvciAxc3QgPSAxMilcbiAgICByZXR1cm4gbmV3IERhdGUoeWVhciwgMCwgKChkYXlPZldlZWtPbkZpcnN0IDw9IDQpID8gNSA6IDEyKSAtIGRheU9mV2Vla09uRmlyc3QpO1xufVxuXG5mdW5jdGlvbiBnZXRUaHVyc2RheVRoaXNXZWVrKGRhdGV0aW1lKSB7XG4gICAgcmV0dXJuIG5ldyBEYXRlKGRhdGV0aW1lLmdldEZ1bGxZZWFyKCksIGRhdGV0aW1lLmdldE1vbnRoKCksXG4gICAgICAvLyA0ID0gaW5kZXggb2YgVGh1cnNkYXlcbiAgICAgIGRhdGV0aW1lLmdldERhdGUoKSArICg0IC0gZGF0ZXRpbWUuZ2V0RGF5KCkpKTtcbn1cblxuZnVuY3Rpb24gd2Vla0dldHRlcihzaXplKSB7XG4gICByZXR1cm4gZnVuY3Rpb24oZGF0ZSkge1xuICAgICAgdmFyIGZpcnN0VGh1cnMgPSBnZXRGaXJzdFRodXJzZGF5T2ZZZWFyKGRhdGUuZ2V0RnVsbFllYXIoKSksXG4gICAgICAgICB0aGlzVGh1cnMgPSBnZXRUaHVyc2RheVRoaXNXZWVrKGRhdGUpO1xuXG4gICAgICB2YXIgZGlmZiA9ICt0aGlzVGh1cnMgLSArZmlyc3RUaHVycyxcbiAgICAgICAgIHJlc3VsdCA9IDEgKyBNYXRoLnJvdW5kKGRpZmYgLyA2LjA0OGU4KTsgLy8gNi4wNDhlOCBtcyBwZXIgd2Vla1xuXG4gICAgICByZXR1cm4gcGFkTnVtYmVyKHJlc3VsdCwgc2l6ZSk7XG4gICB9O1xufVxuXG5mdW5jdGlvbiBhbXBtR2V0dGVyKGRhdGUsIGZvcm1hdHMpIHtcbiAgcmV0dXJuIGRhdGUuZ2V0SG91cnMoKSA8IDEyID8gZm9ybWF0cy5BTVBNU1swXSA6IGZvcm1hdHMuQU1QTVNbMV07XG59XG5cbmZ1bmN0aW9uIGVyYUdldHRlcihkYXRlLCBmb3JtYXRzKSB7XG4gIHJldHVybiBkYXRlLmdldEZ1bGxZZWFyKCkgPD0gMCA/IGZvcm1hdHMuRVJBU1swXSA6IGZvcm1hdHMuRVJBU1sxXTtcbn1cblxuZnVuY3Rpb24gbG9uZ0VyYUdldHRlcihkYXRlLCBmb3JtYXRzKSB7XG4gIHJldHVybiBkYXRlLmdldEZ1bGxZZWFyKCkgPD0gMCA/IGZvcm1hdHMuRVJBTkFNRVNbMF0gOiBmb3JtYXRzLkVSQU5BTUVTWzFdO1xufVxuXG52YXIgREFURV9GT1JNQVRTID0ge1xuICB5eXl5OiBkYXRlR2V0dGVyKCdGdWxsWWVhcicsIDQsIDAsIGZhbHNlLCB0cnVlKSxcbiAgICB5eTogZGF0ZUdldHRlcignRnVsbFllYXInLCAyLCAwLCB0cnVlLCB0cnVlKSxcbiAgICAgeTogZGF0ZUdldHRlcignRnVsbFllYXInLCAxLCAwLCBmYWxzZSwgdHJ1ZSksXG4gIE1NTU06IGRhdGVTdHJHZXR0ZXIoJ01vbnRoJyksXG4gICBNTU06IGRhdGVTdHJHZXR0ZXIoJ01vbnRoJywgdHJ1ZSksXG4gICAgTU06IGRhdGVHZXR0ZXIoJ01vbnRoJywgMiwgMSksXG4gICAgIE06IGRhdGVHZXR0ZXIoJ01vbnRoJywgMSwgMSksXG4gIExMTEw6IGRhdGVTdHJHZXR0ZXIoJ01vbnRoJywgZmFsc2UsIHRydWUpLFxuICAgIGRkOiBkYXRlR2V0dGVyKCdEYXRlJywgMiksXG4gICAgIGQ6IGRhdGVHZXR0ZXIoJ0RhdGUnLCAxKSxcbiAgICBISDogZGF0ZUdldHRlcignSG91cnMnLCAyKSxcbiAgICAgSDogZGF0ZUdldHRlcignSG91cnMnLCAxKSxcbiAgICBoaDogZGF0ZUdldHRlcignSG91cnMnLCAyLCAtMTIpLFxuICAgICBoOiBkYXRlR2V0dGVyKCdIb3VycycsIDEsIC0xMiksXG4gICAgbW06IGRhdGVHZXR0ZXIoJ01pbnV0ZXMnLCAyKSxcbiAgICAgbTogZGF0ZUdldHRlcignTWludXRlcycsIDEpLFxuICAgIHNzOiBkYXRlR2V0dGVyKCdTZWNvbmRzJywgMiksXG4gICAgIHM6IGRhdGVHZXR0ZXIoJ1NlY29uZHMnLCAxKSxcbiAgICAgLy8gd2hpbGUgSVNPIDg2MDEgcmVxdWlyZXMgZnJhY3Rpb25zIHRvIGJlIHByZWZpeGVkIHdpdGggYC5gIG9yIGAsYFxuICAgICAvLyB3ZSBjYW4gYmUganVzdCBzYWZlbHkgcmVseSBvbiB1c2luZyBgc3NzYCBzaW5jZSB3ZSBjdXJyZW50bHkgZG9uJ3Qgc3VwcG9ydCBzaW5nbGUgb3IgdHdvIGRpZ2l0IGZyYWN0aW9uc1xuICAgc3NzOiBkYXRlR2V0dGVyKCdNaWxsaXNlY29uZHMnLCAzKSxcbiAgRUVFRTogZGF0ZVN0ckdldHRlcignRGF5JyksXG4gICBFRUU6IGRhdGVTdHJHZXR0ZXIoJ0RheScsIHRydWUpLFxuICAgICBhOiBhbXBtR2V0dGVyLFxuICAgICBaOiB0aW1lWm9uZUdldHRlcixcbiAgICB3dzogd2Vla0dldHRlcigyKSxcbiAgICAgdzogd2Vla0dldHRlcigxKSxcbiAgICAgRzogZXJhR2V0dGVyLFxuICAgICBHRzogZXJhR2V0dGVyLFxuICAgICBHR0c6IGVyYUdldHRlcixcbiAgICAgR0dHRzogbG9uZ0VyYUdldHRlclxufTtcblxudmFyIERBVEVfRk9STUFUU19TUExJVCA9IC8oKD86W155TUxkSGhtc2FaRXdHJ10rKXwoPzonKD86W14nXXwnJykqJyl8KD86RSt8eSt8TSt8TCt8ZCt8SCt8aCt8bSt8cyt8YXxafEcrfHcrKSkoW1xcc1xcU10qKS8sXG4gICAgTlVNQkVSX1NUUklORyA9IC9eLT9cXGQrJC87XG5cbi8qKlxuICogQG5nZG9jIGZpbHRlclxuICogQG5hbWUgZGF0ZVxuICogQGtpbmQgZnVuY3Rpb25cbiAqXG4gKiBAZGVzY3JpcHRpb25cbiAqICAgRm9ybWF0cyBgZGF0ZWAgdG8gYSBzdHJpbmcgYmFzZWQgb24gdGhlIHJlcXVlc3RlZCBgZm9ybWF0YC5cbiAqXG4gKiAgIGBmb3JtYXRgIHN0cmluZyBjYW4gYmUgY29tcG9zZWQgb2YgdGhlIGZvbGxvd2luZyBlbGVtZW50czpcbiAqXG4gKiAgICogYCd5eXl5J2A6IDQgZGlnaXQgcmVwcmVzZW50YXRpb24gb2YgeWVhciAoZS5nLiBBRCAxID0+IDAwMDEsIEFEIDIwMTAgPT4gMjAxMClcbiAqICAgKiBgJ3l5J2A6IDIgZGlnaXQgcmVwcmVzZW50YXRpb24gb2YgeWVhciwgcGFkZGVkICgwMC05OSkuIChlLmcuIEFEIDIwMDEgPT4gMDEsIEFEIDIwMTAgPT4gMTApXG4gKiAgICogYCd5J2A6IDEgZGlnaXQgcmVwcmVzZW50YXRpb24gb2YgeWVhciwgZS5nLiAoQUQgMSA9PiAxLCBBRCAxOTkgPT4gMTk5KVxuICogICAqIGAnTU1NTSdgOiBNb250aCBpbiB5ZWFyIChKYW51YXJ5LURlY2VtYmVyKVxuICogICAqIGAnTU1NJ2A6IE1vbnRoIGluIHllYXIgKEphbi1EZWMpXG4gKiAgICogYCdNTSdgOiBNb250aCBpbiB5ZWFyLCBwYWRkZWQgKDAxLTEyKVxuICogICAqIGAnTSdgOiBNb250aCBpbiB5ZWFyICgxLTEyKVxuICogICAqIGAnTExMTCdgOiBTdGFuZC1hbG9uZSBtb250aCBpbiB5ZWFyIChKYW51YXJ5LURlY2VtYmVyKVxuICogICAqIGAnZGQnYDogRGF5IGluIG1vbnRoLCBwYWRkZWQgKDAxLTMxKVxuICogICAqIGAnZCdgOiBEYXkgaW4gbW9udGggKDEtMzEpXG4gKiAgICogYCdFRUVFJ2A6IERheSBpbiBXZWVrLChTdW5kYXktU2F0dXJkYXkpXG4gKiAgICogYCdFRUUnYDogRGF5IGluIFdlZWssIChTdW4tU2F0KVxuICogICAqIGAnSEgnYDogSG91ciBpbiBkYXksIHBhZGRlZCAoMDAtMjMpXG4gKiAgICogYCdIJ2A6IEhvdXIgaW4gZGF5ICgwLTIzKVxuICogICAqIGAnaGgnYDogSG91ciBpbiBBTS9QTSwgcGFkZGVkICgwMS0xMilcbiAqICAgKiBgJ2gnYDogSG91ciBpbiBBTS9QTSwgKDEtMTIpXG4gKiAgICogYCdtbSdgOiBNaW51dGUgaW4gaG91ciwgcGFkZGVkICgwMC01OSlcbiAqICAgKiBgJ20nYDogTWludXRlIGluIGhvdXIgKDAtNTkpXG4gKiAgICogYCdzcydgOiBTZWNvbmQgaW4gbWludXRlLCBwYWRkZWQgKDAwLTU5KVxuICogICAqIGAncydgOiBTZWNvbmQgaW4gbWludXRlICgwLTU5KVxuICogICAqIGAnc3NzJ2A6IE1pbGxpc2Vjb25kIGluIHNlY29uZCwgcGFkZGVkICgwMDAtOTk5KVxuICogICAqIGAnYSdgOiBBTS9QTSBtYXJrZXJcbiAqICAgKiBgJ1onYDogNCBkaWdpdCAoK3NpZ24pIHJlcHJlc2VudGF0aW9uIG9mIHRoZSB0aW1lem9uZSBvZmZzZXQgKC0xMjAwLSsxMjAwKVxuICogICAqIGAnd3cnYDogV2VlayBvZiB5ZWFyLCBwYWRkZWQgKDAwLTUzKS4gV2VlayAwMSBpcyB0aGUgd2VlayB3aXRoIHRoZSBmaXJzdCBUaHVyc2RheSBvZiB0aGUgeWVhclxuICogICAqIGAndydgOiBXZWVrIG9mIHllYXIgKDAtNTMpLiBXZWVrIDEgaXMgdGhlIHdlZWsgd2l0aCB0aGUgZmlyc3QgVGh1cnNkYXkgb2YgdGhlIHllYXJcbiAqICAgKiBgJ0cnYCwgYCdHRydgLCBgJ0dHRydgOiBUaGUgYWJicmV2aWF0ZWQgZm9ybSBvZiB0aGUgZXJhIHN0cmluZyAoZS5nLiAnQUQnKVxuICogICAqIGAnR0dHRydgOiBUaGUgbG9uZyBmb3JtIG9mIHRoZSBlcmEgc3RyaW5nIChlLmcuICdBbm5vIERvbWluaScpXG4gKlxuICogICBgZm9ybWF0YCBzdHJpbmcgY2FuIGFsc28gYmUgb25lIG9mIHRoZSBmb2xsb3dpbmcgcHJlZGVmaW5lZFxuICogICB7QGxpbmsgZ3VpZGUvaTE4biBsb2NhbGl6YWJsZSBmb3JtYXRzfTpcbiAqXG4gKiAgICogYCdtZWRpdW0nYDogZXF1aXZhbGVudCB0byBgJ01NTSBkLCB5IGg6bW06c3MgYSdgIGZvciBlbl9VUyBsb2NhbGVcbiAqICAgICAoZS5nLiBTZXAgMywgMjAxMCAxMjowNTowOCBQTSlcbiAqICAgKiBgJ3Nob3J0J2A6IGVxdWl2YWxlbnQgdG8gYCdNL2QveXkgaDptbSBhJ2AgZm9yIGVuX1VTICBsb2NhbGUgKGUuZy4gOS8zLzEwIDEyOjA1IFBNKVxuICogICAqIGAnZnVsbERhdGUnYDogZXF1aXZhbGVudCB0byBgJ0VFRUUsIE1NTU0gZCwgeSdgIGZvciBlbl9VUyAgbG9jYWxlXG4gKiAgICAgKGUuZy4gRnJpZGF5LCBTZXB0ZW1iZXIgMywgMjAxMClcbiAqICAgKiBgJ2xvbmdEYXRlJ2A6IGVxdWl2YWxlbnQgdG8gYCdNTU1NIGQsIHknYCBmb3IgZW5fVVMgIGxvY2FsZSAoZS5nLiBTZXB0ZW1iZXIgMywgMjAxMClcbiAqICAgKiBgJ21lZGl1bURhdGUnYDogZXF1aXZhbGVudCB0byBgJ01NTSBkLCB5J2AgZm9yIGVuX1VTICBsb2NhbGUgKGUuZy4gU2VwIDMsIDIwMTApXG4gKiAgICogYCdzaG9ydERhdGUnYDogZXF1aXZhbGVudCB0byBgJ00vZC95eSdgIGZvciBlbl9VUyBsb2NhbGUgKGUuZy4gOS8zLzEwKVxuICogICAqIGAnbWVkaXVtVGltZSdgOiBlcXVpdmFsZW50IHRvIGAnaDptbTpzcyBhJ2AgZm9yIGVuX1VTIGxvY2FsZSAoZS5nLiAxMjowNTowOCBQTSlcbiAqICAgKiBgJ3Nob3J0VGltZSdgOiBlcXVpdmFsZW50IHRvIGAnaDptbSBhJ2AgZm9yIGVuX1VTIGxvY2FsZSAoZS5nLiAxMjowNSBQTSlcbiAqXG4gKiAgIGBmb3JtYXRgIHN0cmluZyBjYW4gY29udGFpbiBsaXRlcmFsIHZhbHVlcy4gVGhlc2UgbmVlZCB0byBiZSBlc2NhcGVkIGJ5IHN1cnJvdW5kaW5nIHdpdGggc2luZ2xlIHF1b3RlcyAoZS5nLlxuICogICBgXCJoICdpbiB0aGUgbW9ybmluZydcImApLiBJbiBvcmRlciB0byBvdXRwdXQgYSBzaW5nbGUgcXVvdGUsIGVzY2FwZSBpdCAtIGkuZS4sIHR3byBzaW5nbGUgcXVvdGVzIGluIGEgc2VxdWVuY2VcbiAqICAgKGUuZy4gYFwiaCAnbycnY2xvY2snXCJgKS5cbiAqXG4gKiAgIEFueSBvdGhlciBjaGFyYWN0ZXJzIGluIHRoZSBgZm9ybWF0YCBzdHJpbmcgd2lsbCBiZSBvdXRwdXQgYXMtaXMuXG4gKlxuICogQHBhcmFtIHsoRGF0ZXxudW1iZXJ8c3RyaW5nKX0gZGF0ZSBEYXRlIHRvIGZvcm1hdCBlaXRoZXIgYXMgRGF0ZSBvYmplY3QsIG1pbGxpc2Vjb25kcyAoc3RyaW5nIG9yXG4gKiAgICBudW1iZXIpIG9yIHZhcmlvdXMgSVNPIDg2MDEgZGF0ZXRpbWUgc3RyaW5nIGZvcm1hdHMgKGUuZy4geXl5eS1NTS1kZFRISDptbTpzcy5zc3NaIGFuZCBpdHNcbiAqICAgIHNob3J0ZXIgdmVyc2lvbnMgbGlrZSB5eXl5LU1NLWRkVEhIOm1tWiwgeXl5eS1NTS1kZCBvciB5eXl5TU1kZFRISG1tc3NaKS4gSWYgbm8gdGltZXpvbmUgaXNcbiAqICAgIHNwZWNpZmllZCBpbiB0aGUgc3RyaW5nIGlucHV0LCB0aGUgdGltZSBpcyBjb25zaWRlcmVkIHRvIGJlIGluIHRoZSBsb2NhbCB0aW1lem9uZS5cbiAqIEBwYXJhbSB7c3RyaW5nPX0gZm9ybWF0IEZvcm1hdHRpbmcgcnVsZXMgKHNlZSBEZXNjcmlwdGlvbikuIElmIG5vdCBzcGVjaWZpZWQsXG4gKiAgICBgbWVkaXVtRGF0ZWAgaXMgdXNlZC5cbiAqIEBwYXJhbSB7c3RyaW5nPX0gdGltZXpvbmUgVGltZXpvbmUgdG8gYmUgdXNlZCBmb3IgZm9ybWF0dGluZy4gSXQgdW5kZXJzdGFuZHMgVVRDL0dNVCBhbmQgdGhlXG4gKiAgICBjb250aW5lbnRhbCBVUyB0aW1lIHpvbmUgYWJicmV2aWF0aW9ucywgYnV0IGZvciBnZW5lcmFsIHVzZSwgdXNlIGEgdGltZSB6b25lIG9mZnNldCwgZm9yXG4gKiAgICBleGFtcGxlLCBgJyswNDMwJ2AgKDQgaG91cnMsIDMwIG1pbnV0ZXMgZWFzdCBvZiB0aGUgR3JlZW53aWNoIG1lcmlkaWFuKVxuICogICAgSWYgbm90IHNwZWNpZmllZCwgdGhlIHRpbWV6b25lIG9mIHRoZSBicm93c2VyIHdpbGwgYmUgdXNlZC5cbiAqIEByZXR1cm5zIHtzdHJpbmd9IEZvcm1hdHRlZCBzdHJpbmcgb3IgdGhlIGlucHV0IGlmIGlucHV0IGlzIG5vdCByZWNvZ25pemVkIGFzIGRhdGUvbWlsbGlzLlxuICpcbiAqIEBleGFtcGxlXG4gICA8ZXhhbXBsZSBuYW1lPVwiZmlsdGVyLWRhdGVcIj5cbiAgICAgPGZpbGUgbmFtZT1cImluZGV4Lmh0bWxcIj5cbiAgICAgICA8c3BhbiBuZy1ub24tYmluZGFibGU+e3sxMjg4MzIzNjIzMDA2IHwgZGF0ZTonbWVkaXVtJ319PC9zcGFuPjpcbiAgICAgICAgICAgPHNwYW4+e3sxMjg4MzIzNjIzMDA2IHwgZGF0ZTonbWVkaXVtJ319PC9zcGFuPjxicj5cbiAgICAgICA8c3BhbiBuZy1ub24tYmluZGFibGU+e3sxMjg4MzIzNjIzMDA2IHwgZGF0ZToneXl5eS1NTS1kZCBISDptbTpzcyBaJ319PC9zcGFuPjpcbiAgICAgICAgICA8c3Bhbj57ezEyODgzMjM2MjMwMDYgfCBkYXRlOid5eXl5LU1NLWRkIEhIOm1tOnNzIFonfX08L3NwYW4+PGJyPlxuICAgICAgIDxzcGFuIG5nLW5vbi1iaW5kYWJsZT57ezEyODgzMjM2MjMwMDYgfCBkYXRlOidNTS9kZC95eXl5IEAgaDptbWEnfX08L3NwYW4+OlxuICAgICAgICAgIDxzcGFuPnt7JzEyODgzMjM2MjMwMDYnIHwgZGF0ZTonTU0vZGQveXl5eSBAIGg6bW1hJ319PC9zcGFuPjxicj5cbiAgICAgICA8c3BhbiBuZy1ub24tYmluZGFibGU+e3sxMjg4MzIzNjIzMDA2IHwgZGF0ZTpcIk1NL2RkL3l5eXkgJ2F0JyBoOm1tYVwifX08L3NwYW4+OlxuICAgICAgICAgIDxzcGFuPnt7JzEyODgzMjM2MjMwMDYnIHwgZGF0ZTpcIk1NL2RkL3l5eXkgJ2F0JyBoOm1tYVwifX08L3NwYW4+PGJyPlxuICAgICA8L2ZpbGU+XG4gICAgIDxmaWxlIG5hbWU9XCJwcm90cmFjdG9yLmpzXCIgdHlwZT1cInByb3RyYWN0b3JcIj5cbiAgICAgICBpdCgnc2hvdWxkIGZvcm1hdCBkYXRlJywgZnVuY3Rpb24oKSB7XG4gICAgICAgICBleHBlY3QoZWxlbWVudChieS5iaW5kaW5nKFwiMTI4ODMyMzYyMzAwNiB8IGRhdGU6J21lZGl1bSdcIikpLmdldFRleHQoKSkuXG4gICAgICAgICAgICB0b01hdGNoKC9PY3QgMlxcZCwgMjAxMCBcXGR7MSwyfTpcXGR7Mn06XFxkezJ9IChBTXxQTSkvKTtcbiAgICAgICAgIGV4cGVjdChlbGVtZW50KGJ5LmJpbmRpbmcoXCIxMjg4MzIzNjIzMDA2IHwgZGF0ZToneXl5eS1NTS1kZCBISDptbTpzcyBaJ1wiKSkuZ2V0VGV4dCgpKS5cbiAgICAgICAgICAgIHRvTWF0Y2goLzIwMTAtMTAtMlxcZCBcXGR7Mn06XFxkezJ9OlxcZHsyfSAoLXxcXCspP1xcZHs0fS8pO1xuICAgICAgICAgZXhwZWN0KGVsZW1lbnQoYnkuYmluZGluZyhcIicxMjg4MzIzNjIzMDA2JyB8IGRhdGU6J01NL2RkL3l5eXkgQCBoOm1tYSdcIikpLmdldFRleHQoKSkuXG4gICAgICAgICAgICB0b01hdGNoKC8xMFxcLzJcXGRcXC8yMDEwIEAgXFxkezEsMn06XFxkezJ9KEFNfFBNKS8pO1xuICAgICAgICAgZXhwZWN0KGVsZW1lbnQoYnkuYmluZGluZyhcIicxMjg4MzIzNjIzMDA2JyB8IGRhdGU6XFxcIk1NL2RkL3l5eXkgJ2F0JyBoOm1tYVxcXCJcIikpLmdldFRleHQoKSkuXG4gICAgICAgICAgICB0b01hdGNoKC8xMFxcLzJcXGRcXC8yMDEwIGF0IFxcZHsxLDJ9OlxcZHsyfShBTXxQTSkvKTtcbiAgICAgICB9KTtcbiAgICAgPC9maWxlPlxuICAgPC9leGFtcGxlPlxuICovXG5kYXRlRmlsdGVyLiRpbmplY3QgPSBbJyRsb2NhbGUnXTtcbmZ1bmN0aW9uIGRhdGVGaWx0ZXIoJGxvY2FsZSkge1xuXG5cbiAgdmFyIFJfSVNPODYwMV9TVFIgPSAvXihcXGR7NH0pLT8oXFxkXFxkKS0/KFxcZFxcZCkoPzpUKFxcZFxcZCkoPzo6PyhcXGRcXGQpKD86Oj8oXFxkXFxkKSg/OlxcLihcXGQrKSk/KT8pPyhafChbKy1dKShcXGRcXGQpOj8oXFxkXFxkKSk/KT8kLztcbiAgICAgICAgICAgICAgICAgICAgIC8vIDEgICAgICAgIDIgICAgICAgMyAgICAgICAgIDQgICAgICAgICAgNSAgICAgICAgICA2ICAgICAgICAgIDcgICAgICAgICAgOCAgOSAgICAgMTAgICAgICAxMVxuICBmdW5jdGlvbiBqc29uU3RyaW5nVG9EYXRlKHN0cmluZykge1xuICAgIHZhciBtYXRjaDtcbiAgICBpZiAoKG1hdGNoID0gc3RyaW5nLm1hdGNoKFJfSVNPODYwMV9TVFIpKSkge1xuICAgICAgdmFyIGRhdGUgPSBuZXcgRGF0ZSgwKSxcbiAgICAgICAgICB0ekhvdXIgPSAwLFxuICAgICAgICAgIHR6TWluICA9IDAsXG4gICAgICAgICAgZGF0ZVNldHRlciA9IG1hdGNoWzhdID8gZGF0ZS5zZXRVVENGdWxsWWVhciA6IGRhdGUuc2V0RnVsbFllYXIsXG4gICAgICAgICAgdGltZVNldHRlciA9IG1hdGNoWzhdID8gZGF0ZS5zZXRVVENIb3VycyA6IGRhdGUuc2V0SG91cnM7XG5cbiAgICAgIGlmIChtYXRjaFs5XSkge1xuICAgICAgICB0ekhvdXIgPSB0b0ludChtYXRjaFs5XSArIG1hdGNoWzEwXSk7XG4gICAgICAgIHR6TWluID0gdG9JbnQobWF0Y2hbOV0gKyBtYXRjaFsxMV0pO1xuICAgICAgfVxuICAgICAgZGF0ZVNldHRlci5jYWxsKGRhdGUsIHRvSW50KG1hdGNoWzFdKSwgdG9JbnQobWF0Y2hbMl0pIC0gMSwgdG9JbnQobWF0Y2hbM10pKTtcbiAgICAgIHZhciBoID0gdG9JbnQobWF0Y2hbNF0gfHwgMCkgLSB0ekhvdXI7XG4gICAgICB2YXIgbSA9IHRvSW50KG1hdGNoWzVdIHx8IDApIC0gdHpNaW47XG4gICAgICB2YXIgcyA9IHRvSW50KG1hdGNoWzZdIHx8IDApO1xuICAgICAgdmFyIG1zID0gTWF0aC5yb3VuZChwYXJzZUZsb2F0KCcwLicgKyAobWF0Y2hbN10gfHwgMCkpICogMTAwMCk7XG4gICAgICB0aW1lU2V0dGVyLmNhbGwoZGF0ZSwgaCwgbSwgcywgbXMpO1xuICAgICAgcmV0dXJuIGRhdGU7XG4gICAgfVxuICAgIHJldHVybiBzdHJpbmc7XG4gIH1cblxuXG4gIHJldHVybiBmdW5jdGlvbihkYXRlLCBmb3JtYXQsIHRpbWV6b25lKSB7XG4gICAgdmFyIHRleHQgPSAnJyxcbiAgICAgICAgcGFydHMgPSBbXSxcbiAgICAgICAgZm4sIG1hdGNoO1xuXG4gICAgZm9ybWF0ID0gZm9ybWF0IHx8ICdtZWRpdW1EYXRlJztcbiAgICBmb3JtYXQgPSAkbG9jYWxlLkRBVEVUSU1FX0ZPUk1BVFNbZm9ybWF0XSB8fCBmb3JtYXQ7XG4gICAgaWYgKGlzU3RyaW5nKGRhdGUpKSB7XG4gICAgICBkYXRlID0gTlVNQkVSX1NUUklORy50ZXN0KGRhdGUpID8gdG9JbnQoZGF0ZSkgOiBqc29uU3RyaW5nVG9EYXRlKGRhdGUpO1xuICAgIH1cblxuICAgIGlmIChpc051bWJlcihkYXRlKSkge1xuICAgICAgZGF0ZSA9IG5ldyBEYXRlKGRhdGUpO1xuICAgIH1cblxuICAgIGlmICghaXNEYXRlKGRhdGUpIHx8ICFpc0Zpbml0ZShkYXRlLmdldFRpbWUoKSkpIHtcbiAgICAgIHJldHVybiBkYXRlO1xuICAgIH1cblxuICAgIHdoaWxlIChmb3JtYXQpIHtcbiAgICAgIG1hdGNoID0gREFURV9GT1JNQVRTX1NQTElULmV4ZWMoZm9ybWF0KTtcbiAgICAgIGlmIChtYXRjaCkge1xuICAgICAgICBwYXJ0cyA9IGNvbmNhdChwYXJ0cywgbWF0Y2gsIDEpO1xuICAgICAgICBmb3JtYXQgPSBwYXJ0cy5wb3AoKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHBhcnRzLnB1c2goZm9ybWF0KTtcbiAgICAgICAgZm9ybWF0ID0gbnVsbDtcbiAgICAgIH1cbiAgICB9XG5cbiAgICB2YXIgZGF0ZVRpbWV6b25lT2Zmc2V0ID0gZGF0ZS5nZXRUaW1lem9uZU9mZnNldCgpO1xuICAgIGlmICh0aW1lem9uZSkge1xuICAgICAgZGF0ZVRpbWV6b25lT2Zmc2V0ID0gdGltZXpvbmVUb09mZnNldCh0aW1lem9uZSwgZGF0ZVRpbWV6b25lT2Zmc2V0KTtcbiAgICAgIGRhdGUgPSBjb252ZXJ0VGltZXpvbmVUb0xvY2FsKGRhdGUsIHRpbWV6b25lLCB0cnVlKTtcbiAgICB9XG4gICAgZm9yRWFjaChwYXJ0cywgZnVuY3Rpb24odmFsdWUpIHtcbiAgICAgIGZuID0gREFURV9GT1JNQVRTW3ZhbHVlXTtcbiAgICAgIHRleHQgKz0gZm4gPyBmbihkYXRlLCAkbG9jYWxlLkRBVEVUSU1FX0ZPUk1BVFMsIGRhdGVUaW1lem9uZU9mZnNldClcbiAgICAgICAgICAgICAgICAgOiB2YWx1ZSA9PT0gJ1xcJ1xcJycgPyAnXFwnJyA6IHZhbHVlLnJlcGxhY2UoLyheJ3wnJCkvZywgJycpLnJlcGxhY2UoLycnL2csICdcXCcnKTtcbiAgICB9KTtcblxuICAgIHJldHVybiB0ZXh0O1xuICB9O1xufVxuXG5cbi8qKlxuICogQG5nZG9jIGZpbHRlclxuICogQG5hbWUganNvblxuICogQGtpbmQgZnVuY3Rpb25cbiAqXG4gKiBAZGVzY3JpcHRpb25cbiAqICAgQWxsb3dzIHlvdSB0byBjb252ZXJ0IGEgSmF2YVNjcmlwdCBvYmplY3QgaW50byBKU09OIHN0cmluZy5cbiAqXG4gKiAgIFRoaXMgZmlsdGVyIGlzIG1vc3RseSB1c2VmdWwgZm9yIGRlYnVnZ2luZy4gV2hlbiB1c2luZyB0aGUgZG91YmxlIGN1cmx5IHt7dmFsdWV9fSBub3RhdGlvblxuICogICB0aGUgYmluZGluZyBpcyBhdXRvbWF0aWNhbGx5IGNvbnZlcnRlZCB0byBKU09OLlxuICpcbiAqIEBwYXJhbSB7Kn0gb2JqZWN0IEFueSBKYXZhU2NyaXB0IG9iamVjdCAoaW5jbHVkaW5nIGFycmF5cyBhbmQgcHJpbWl0aXZlIHR5cGVzKSB0byBmaWx0ZXIuXG4gKiBAcGFyYW0ge251bWJlcj19IHNwYWNpbmcgVGhlIG51bWJlciBvZiBzcGFjZXMgdG8gdXNlIHBlciBpbmRlbnRhdGlvbiwgZGVmYXVsdHMgdG8gMi5cbiAqIEByZXR1cm5zIHtzdHJpbmd9IEpTT04gc3RyaW5nLlxuICpcbiAqXG4gKiBAZXhhbXBsZVxuICAgPGV4YW1wbGUgbmFtZT1cImZpbHRlci1qc29uXCI+XG4gICAgIDxmaWxlIG5hbWU9XCJpbmRleC5odG1sXCI+XG4gICAgICAgPHByZSBpZD1cImRlZmF1bHQtc3BhY2luZ1wiPnt7IHsnbmFtZSc6J3ZhbHVlJ30gfCBqc29uIH19PC9wcmU+XG4gICAgICAgPHByZSBpZD1cImN1c3RvbS1zcGFjaW5nXCI+e3sgeyduYW1lJzondmFsdWUnfSB8IGpzb246NCB9fTwvcHJlPlxuICAgICA8L2ZpbGU+XG4gICAgIDxmaWxlIG5hbWU9XCJwcm90cmFjdG9yLmpzXCIgdHlwZT1cInByb3RyYWN0b3JcIj5cbiAgICAgICBpdCgnc2hvdWxkIGpzb25pZnkgZmlsdGVyZWQgb2JqZWN0cycsIGZ1bmN0aW9uKCkge1xuICAgICAgICAgZXhwZWN0KGVsZW1lbnQoYnkuaWQoJ2RlZmF1bHQtc3BhY2luZycpKS5nZXRUZXh0KCkpLnRvTWF0Y2goL1xce1xcbiB7Mn1cIm5hbWVcIjogP1widmFsdWVcIlxcbn0vKTtcbiAgICAgICAgIGV4cGVjdChlbGVtZW50KGJ5LmlkKCdjdXN0b20tc3BhY2luZycpKS5nZXRUZXh0KCkpLnRvTWF0Y2goL1xce1xcbiB7NH1cIm5hbWVcIjogP1widmFsdWVcIlxcbn0vKTtcbiAgICAgICB9KTtcbiAgICAgPC9maWxlPlxuICAgPC9leGFtcGxlPlxuICpcbiAqL1xuZnVuY3Rpb24ganNvbkZpbHRlcigpIHtcbiAgcmV0dXJuIGZ1bmN0aW9uKG9iamVjdCwgc3BhY2luZykge1xuICAgIGlmIChpc1VuZGVmaW5lZChzcGFjaW5nKSkge1xuICAgICAgICBzcGFjaW5nID0gMjtcbiAgICB9XG4gICAgcmV0dXJuIHRvSnNvbihvYmplY3QsIHNwYWNpbmcpO1xuICB9O1xufVxuXG5cbi8qKlxuICogQG5nZG9jIGZpbHRlclxuICogQG5hbWUgbG93ZXJjYXNlXG4gKiBAa2luZCBmdW5jdGlvblxuICogQGRlc2NyaXB0aW9uXG4gKiBDb252ZXJ0cyBzdHJpbmcgdG8gbG93ZXJjYXNlLlxuICogQHNlZSBhbmd1bGFyLmxvd2VyY2FzZVxuICovXG52YXIgbG93ZXJjYXNlRmlsdGVyID0gdmFsdWVGbihsb3dlcmNhc2UpO1xuXG5cbi8qKlxuICogQG5nZG9jIGZpbHRlclxuICogQG5hbWUgdXBwZXJjYXNlXG4gKiBAa2luZCBmdW5jdGlvblxuICogQGRlc2NyaXB0aW9uXG4gKiBDb252ZXJ0cyBzdHJpbmcgdG8gdXBwZXJjYXNlLlxuICogQHNlZSBhbmd1bGFyLnVwcGVyY2FzZVxuICovXG52YXIgdXBwZXJjYXNlRmlsdGVyID0gdmFsdWVGbih1cHBlcmNhc2UpO1xuXG4vKipcbiAqIEBuZ2RvYyBmaWx0ZXJcbiAqIEBuYW1lIGxpbWl0VG9cbiAqIEBraW5kIGZ1bmN0aW9uXG4gKlxuICogQGRlc2NyaXB0aW9uXG4gKiBDcmVhdGVzIGEgbmV3IGFycmF5IG9yIHN0cmluZyBjb250YWluaW5nIG9ubHkgYSBzcGVjaWZpZWQgbnVtYmVyIG9mIGVsZW1lbnRzLiBUaGUgZWxlbWVudHMgYXJlXG4gKiB0YWtlbiBmcm9tIGVpdGhlciB0aGUgYmVnaW5uaW5nIG9yIHRoZSBlbmQgb2YgdGhlIHNvdXJjZSBhcnJheSwgc3RyaW5nIG9yIG51bWJlciwgYXMgc3BlY2lmaWVkIGJ5XG4gKiB0aGUgdmFsdWUgYW5kIHNpZ24gKHBvc2l0aXZlIG9yIG5lZ2F0aXZlKSBvZiBgbGltaXRgLiBPdGhlciBhcnJheS1saWtlIG9iamVjdHMgYXJlIGFsc28gc3VwcG9ydGVkXG4gKiAoZS5nLiBhcnJheSBzdWJjbGFzc2VzLCBOb2RlTGlzdHMsIGpxTGl0ZS9qUXVlcnkgY29sbGVjdGlvbnMgZXRjKS4gSWYgYSBudW1iZXIgaXMgdXNlZCBhcyBpbnB1dCxcbiAqIGl0IGlzIGNvbnZlcnRlZCB0byBhIHN0cmluZy5cbiAqXG4gKiBAcGFyYW0ge0FycmF5fEFycmF5TGlrZXxzdHJpbmd8bnVtYmVyfSBpbnB1dCAtIEFycmF5L2FycmF5LWxpa2UsIHN0cmluZyBvciBudW1iZXIgdG8gYmUgbGltaXRlZC5cbiAqIEBwYXJhbSB7c3RyaW5nfG51bWJlcn0gbGltaXQgLSBUaGUgbGVuZ3RoIG9mIHRoZSByZXR1cm5lZCBhcnJheSBvciBzdHJpbmcuIElmIHRoZSBgbGltaXRgIG51bWJlclxuICogICAgIGlzIHBvc2l0aXZlLCBgbGltaXRgIG51bWJlciBvZiBpdGVtcyBmcm9tIHRoZSBiZWdpbm5pbmcgb2YgdGhlIHNvdXJjZSBhcnJheS9zdHJpbmcgYXJlIGNvcGllZC5cbiAqICAgICBJZiB0aGUgbnVtYmVyIGlzIG5lZ2F0aXZlLCBgbGltaXRgIG51bWJlciAgb2YgaXRlbXMgZnJvbSB0aGUgZW5kIG9mIHRoZSBzb3VyY2UgYXJyYXkvc3RyaW5nXG4gKiAgICAgYXJlIGNvcGllZC4gVGhlIGBsaW1pdGAgd2lsbCBiZSB0cmltbWVkIGlmIGl0IGV4Y2VlZHMgYGFycmF5Lmxlbmd0aGAuIElmIGBsaW1pdGAgaXMgdW5kZWZpbmVkLFxuICogICAgIHRoZSBpbnB1dCB3aWxsIGJlIHJldHVybmVkIHVuY2hhbmdlZC5cbiAqIEBwYXJhbSB7KHN0cmluZ3xudW1iZXIpPX0gYmVnaW4gLSBJbmRleCBhdCB3aGljaCB0byBiZWdpbiBsaW1pdGF0aW9uLiBBcyBhIG5lZ2F0aXZlIGluZGV4LFxuICogICAgIGBiZWdpbmAgaW5kaWNhdGVzIGFuIG9mZnNldCBmcm9tIHRoZSBlbmQgb2YgYGlucHV0YC4gRGVmYXVsdHMgdG8gYDBgLlxuICogQHJldHVybnMge0FycmF5fHN0cmluZ30gQSBuZXcgc3ViLWFycmF5IG9yIHN1YnN0cmluZyBvZiBsZW5ndGggYGxpbWl0YCBvciBsZXNzIGlmIHRoZSBpbnB1dCBoYWRcbiAqICAgICBsZXNzIHRoYW4gYGxpbWl0YCBlbGVtZW50cy5cbiAqXG4gKiBAZXhhbXBsZVxuICAgPGV4YW1wbGUgbW9kdWxlPVwibGltaXRUb0V4YW1wbGVcIiBuYW1lPVwibGltaXQtdG8tZmlsdGVyXCI+XG4gICAgIDxmaWxlIG5hbWU9XCJpbmRleC5odG1sXCI+XG4gICAgICAgPHNjcmlwdD5cbiAgICAgICAgIGFuZ3VsYXIubW9kdWxlKCdsaW1pdFRvRXhhbXBsZScsIFtdKVxuICAgICAgICAgICAuY29udHJvbGxlcignRXhhbXBsZUNvbnRyb2xsZXInLCBbJyRzY29wZScsIGZ1bmN0aW9uKCRzY29wZSkge1xuICAgICAgICAgICAgICRzY29wZS5udW1iZXJzID0gWzEsMiwzLDQsNSw2LDcsOCw5XTtcbiAgICAgICAgICAgICAkc2NvcGUubGV0dGVycyA9IFwiYWJjZGVmZ2hpXCI7XG4gICAgICAgICAgICAgJHNjb3BlLmxvbmdOdW1iZXIgPSAyMzQ1NDMyMzQyO1xuICAgICAgICAgICAgICRzY29wZS5udW1MaW1pdCA9IDM7XG4gICAgICAgICAgICAgJHNjb3BlLmxldHRlckxpbWl0ID0gMztcbiAgICAgICAgICAgICAkc2NvcGUubG9uZ051bWJlckxpbWl0ID0gMztcbiAgICAgICAgICAgfV0pO1xuICAgICAgIDwvc2NyaXB0PlxuICAgICAgIDxkaXYgbmctY29udHJvbGxlcj1cIkV4YW1wbGVDb250cm9sbGVyXCI+XG4gICAgICAgICA8bGFiZWw+XG4gICAgICAgICAgICBMaW1pdCB7e251bWJlcnN9fSB0bzpcbiAgICAgICAgICAgIDxpbnB1dCB0eXBlPVwibnVtYmVyXCIgc3RlcD1cIjFcIiBuZy1tb2RlbD1cIm51bUxpbWl0XCI+XG4gICAgICAgICA8L2xhYmVsPlxuICAgICAgICAgPHA+T3V0cHV0IG51bWJlcnM6IHt7IG51bWJlcnMgfCBsaW1pdFRvOm51bUxpbWl0IH19PC9wPlxuICAgICAgICAgPGxhYmVsPlxuICAgICAgICAgICAgTGltaXQge3tsZXR0ZXJzfX0gdG86XG4gICAgICAgICAgICA8aW5wdXQgdHlwZT1cIm51bWJlclwiIHN0ZXA9XCIxXCIgbmctbW9kZWw9XCJsZXR0ZXJMaW1pdFwiPlxuICAgICAgICAgPC9sYWJlbD5cbiAgICAgICAgIDxwPk91dHB1dCBsZXR0ZXJzOiB7eyBsZXR0ZXJzIHwgbGltaXRUbzpsZXR0ZXJMaW1pdCB9fTwvcD5cbiAgICAgICAgIDxsYWJlbD5cbiAgICAgICAgICAgIExpbWl0IHt7bG9uZ051bWJlcn19IHRvOlxuICAgICAgICAgICAgPGlucHV0IHR5cGU9XCJudW1iZXJcIiBzdGVwPVwiMVwiIG5nLW1vZGVsPVwibG9uZ051bWJlckxpbWl0XCI+XG4gICAgICAgICA8L2xhYmVsPlxuICAgICAgICAgPHA+T3V0cHV0IGxvbmcgbnVtYmVyOiB7eyBsb25nTnVtYmVyIHwgbGltaXRUbzpsb25nTnVtYmVyTGltaXQgfX08L3A+XG4gICAgICAgPC9kaXY+XG4gICAgIDwvZmlsZT5cbiAgICAgPGZpbGUgbmFtZT1cInByb3RyYWN0b3IuanNcIiB0eXBlPVwicHJvdHJhY3RvclwiPlxuICAgICAgIHZhciBudW1MaW1pdElucHV0ID0gZWxlbWVudChieS5tb2RlbCgnbnVtTGltaXQnKSk7XG4gICAgICAgdmFyIGxldHRlckxpbWl0SW5wdXQgPSBlbGVtZW50KGJ5Lm1vZGVsKCdsZXR0ZXJMaW1pdCcpKTtcbiAgICAgICB2YXIgbG9uZ051bWJlckxpbWl0SW5wdXQgPSBlbGVtZW50KGJ5Lm1vZGVsKCdsb25nTnVtYmVyTGltaXQnKSk7XG4gICAgICAgdmFyIGxpbWl0ZWROdW1iZXJzID0gZWxlbWVudChieS5iaW5kaW5nKCdudW1iZXJzIHwgbGltaXRUbzpudW1MaW1pdCcpKTtcbiAgICAgICB2YXIgbGltaXRlZExldHRlcnMgPSBlbGVtZW50KGJ5LmJpbmRpbmcoJ2xldHRlcnMgfCBsaW1pdFRvOmxldHRlckxpbWl0JykpO1xuICAgICAgIHZhciBsaW1pdGVkTG9uZ051bWJlciA9IGVsZW1lbnQoYnkuYmluZGluZygnbG9uZ051bWJlciB8IGxpbWl0VG86bG9uZ051bWJlckxpbWl0JykpO1xuXG4gICAgICAgaXQoJ3Nob3VsZCBsaW1pdCB0aGUgbnVtYmVyIGFycmF5IHRvIGZpcnN0IHRocmVlIGl0ZW1zJywgZnVuY3Rpb24oKSB7XG4gICAgICAgICBleHBlY3QobnVtTGltaXRJbnB1dC5nZXRBdHRyaWJ1dGUoJ3ZhbHVlJykpLnRvQmUoJzMnKTtcbiAgICAgICAgIGV4cGVjdChsZXR0ZXJMaW1pdElucHV0LmdldEF0dHJpYnV0ZSgndmFsdWUnKSkudG9CZSgnMycpO1xuICAgICAgICAgZXhwZWN0KGxvbmdOdW1iZXJMaW1pdElucHV0LmdldEF0dHJpYnV0ZSgndmFsdWUnKSkudG9CZSgnMycpO1xuICAgICAgICAgZXhwZWN0KGxpbWl0ZWROdW1iZXJzLmdldFRleHQoKSkudG9FcXVhbCgnT3V0cHV0IG51bWJlcnM6IFsxLDIsM10nKTtcbiAgICAgICAgIGV4cGVjdChsaW1pdGVkTGV0dGVycy5nZXRUZXh0KCkpLnRvRXF1YWwoJ091dHB1dCBsZXR0ZXJzOiBhYmMnKTtcbiAgICAgICAgIGV4cGVjdChsaW1pdGVkTG9uZ051bWJlci5nZXRUZXh0KCkpLnRvRXF1YWwoJ091dHB1dCBsb25nIG51bWJlcjogMjM0Jyk7XG4gICAgICAgfSk7XG5cbiAgICAgICAvLyBUaGVyZSBpcyBhIGJ1ZyBpbiBzYWZhcmkgYW5kIHByb3RyYWN0b3IgdGhhdCBkb2Vzbid0IGxpa2UgdGhlIG1pbnVzIGtleVxuICAgICAgIC8vIGl0KCdzaG91bGQgdXBkYXRlIHRoZSBvdXRwdXQgd2hlbiAtMyBpcyBlbnRlcmVkJywgZnVuY3Rpb24oKSB7XG4gICAgICAgLy8gICBudW1MaW1pdElucHV0LmNsZWFyKCk7XG4gICAgICAgLy8gICBudW1MaW1pdElucHV0LnNlbmRLZXlzKCctMycpO1xuICAgICAgIC8vICAgbGV0dGVyTGltaXRJbnB1dC5jbGVhcigpO1xuICAgICAgIC8vICAgbGV0dGVyTGltaXRJbnB1dC5zZW5kS2V5cygnLTMnKTtcbiAgICAgICAvLyAgIGxvbmdOdW1iZXJMaW1pdElucHV0LmNsZWFyKCk7XG4gICAgICAgLy8gICBsb25nTnVtYmVyTGltaXRJbnB1dC5zZW5kS2V5cygnLTMnKTtcbiAgICAgICAvLyAgIGV4cGVjdChsaW1pdGVkTnVtYmVycy5nZXRUZXh0KCkpLnRvRXF1YWwoJ091dHB1dCBudW1iZXJzOiBbNyw4LDldJyk7XG4gICAgICAgLy8gICBleHBlY3QobGltaXRlZExldHRlcnMuZ2V0VGV4dCgpKS50b0VxdWFsKCdPdXRwdXQgbGV0dGVyczogZ2hpJyk7XG4gICAgICAgLy8gICBleHBlY3QobGltaXRlZExvbmdOdW1iZXIuZ2V0VGV4dCgpKS50b0VxdWFsKCdPdXRwdXQgbG9uZyBudW1iZXI6IDM0MicpO1xuICAgICAgIC8vIH0pO1xuXG4gICAgICAgaXQoJ3Nob3VsZCBub3QgZXhjZWVkIHRoZSBtYXhpbXVtIHNpemUgb2YgaW5wdXQgYXJyYXknLCBmdW5jdGlvbigpIHtcbiAgICAgICAgIG51bUxpbWl0SW5wdXQuY2xlYXIoKTtcbiAgICAgICAgIG51bUxpbWl0SW5wdXQuc2VuZEtleXMoJzEwMCcpO1xuICAgICAgICAgbGV0dGVyTGltaXRJbnB1dC5jbGVhcigpO1xuICAgICAgICAgbGV0dGVyTGltaXRJbnB1dC5zZW5kS2V5cygnMTAwJyk7XG4gICAgICAgICBsb25nTnVtYmVyTGltaXRJbnB1dC5jbGVhcigpO1xuICAgICAgICAgbG9uZ051bWJlckxpbWl0SW5wdXQuc2VuZEtleXMoJzEwMCcpO1xuICAgICAgICAgZXhwZWN0KGxpbWl0ZWROdW1iZXJzLmdldFRleHQoKSkudG9FcXVhbCgnT3V0cHV0IG51bWJlcnM6IFsxLDIsMyw0LDUsNiw3LDgsOV0nKTtcbiAgICAgICAgIGV4cGVjdChsaW1pdGVkTGV0dGVycy5nZXRUZXh0KCkpLnRvRXF1YWwoJ091dHB1dCBsZXR0ZXJzOiBhYmNkZWZnaGknKTtcbiAgICAgICAgIGV4cGVjdChsaW1pdGVkTG9uZ051bWJlci5nZXRUZXh0KCkpLnRvRXF1YWwoJ091dHB1dCBsb25nIG51bWJlcjogMjM0NTQzMjM0MicpO1xuICAgICAgIH0pO1xuICAgICA8L2ZpbGU+XG4gICA8L2V4YW1wbGU+XG4qL1xuZnVuY3Rpb24gbGltaXRUb0ZpbHRlcigpIHtcbiAgcmV0dXJuIGZ1bmN0aW9uKGlucHV0LCBsaW1pdCwgYmVnaW4pIHtcbiAgICBpZiAoTWF0aC5hYnMoTnVtYmVyKGxpbWl0KSkgPT09IEluZmluaXR5KSB7XG4gICAgICBsaW1pdCA9IE51bWJlcihsaW1pdCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGxpbWl0ID0gdG9JbnQobGltaXQpO1xuICAgIH1cbiAgICBpZiAoaXNOdW1iZXJOYU4obGltaXQpKSByZXR1cm4gaW5wdXQ7XG5cbiAgICBpZiAoaXNOdW1iZXIoaW5wdXQpKSBpbnB1dCA9IGlucHV0LnRvU3RyaW5nKCk7XG4gICAgaWYgKCFpc0FycmF5TGlrZShpbnB1dCkpIHJldHVybiBpbnB1dDtcblxuICAgIGJlZ2luID0gKCFiZWdpbiB8fCBpc05hTihiZWdpbikpID8gMCA6IHRvSW50KGJlZ2luKTtcbiAgICBiZWdpbiA9IChiZWdpbiA8IDApID8gTWF0aC5tYXgoMCwgaW5wdXQubGVuZ3RoICsgYmVnaW4pIDogYmVnaW47XG5cbiAgICBpZiAobGltaXQgPj0gMCkge1xuICAgICAgcmV0dXJuIHNsaWNlRm4oaW5wdXQsIGJlZ2luLCBiZWdpbiArIGxpbWl0KTtcbiAgICB9IGVsc2Uge1xuICAgICAgaWYgKGJlZ2luID09PSAwKSB7XG4gICAgICAgIHJldHVybiBzbGljZUZuKGlucHV0LCBsaW1pdCwgaW5wdXQubGVuZ3RoKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiBzbGljZUZuKGlucHV0LCBNYXRoLm1heCgwLCBiZWdpbiArIGxpbWl0KSwgYmVnaW4pO1xuICAgICAgfVxuICAgIH1cbiAgfTtcbn1cblxuZnVuY3Rpb24gc2xpY2VGbihpbnB1dCwgYmVnaW4sIGVuZCkge1xuICBpZiAoaXNTdHJpbmcoaW5wdXQpKSByZXR1cm4gaW5wdXQuc2xpY2UoYmVnaW4sIGVuZCk7XG5cbiAgcmV0dXJuIHNsaWNlLmNhbGwoaW5wdXQsIGJlZ2luLCBlbmQpO1xufVxuXG4vKipcbiAqIEBuZ2RvYyBmaWx0ZXJcbiAqIEBuYW1lIG9yZGVyQnlcbiAqIEBraW5kIGZ1bmN0aW9uXG4gKlxuICogQGRlc2NyaXB0aW9uXG4gKiBSZXR1cm5zIGFuIGFycmF5IGNvbnRhaW5pbmcgdGhlIGl0ZW1zIGZyb20gdGhlIHNwZWNpZmllZCBgY29sbGVjdGlvbmAsIG9yZGVyZWQgYnkgYSBgY29tcGFyYXRvcmBcbiAqIGZ1bmN0aW9uIGJhc2VkIG9uIHRoZSB2YWx1ZXMgY29tcHV0ZWQgdXNpbmcgdGhlIGBleHByZXNzaW9uYCBwcmVkaWNhdGUuXG4gKlxuICogRm9yIGV4YW1wbGUsIGBbe2lkOiAnZm9vJ30sIHtpZDogJ2Jhcid9XSB8IG9yZGVyQnk6J2lkJ2Agd291bGQgcmVzdWx0IGluXG4gKiBgW3tpZDogJ2Jhcid9LCB7aWQ6ICdmb28nfV1gLlxuICpcbiAqIFRoZSBgY29sbGVjdGlvbmAgY2FuIGJlIGFuIEFycmF5IG9yIGFycmF5LWxpa2Ugb2JqZWN0IChlLmcuIE5vZGVMaXN0LCBqUXVlcnkgb2JqZWN0LCBUeXBlZEFycmF5LFxuICogU3RyaW5nLCBldGMpLlxuICpcbiAqIFRoZSBgZXhwcmVzc2lvbmAgY2FuIGJlIGEgc2luZ2xlIHByZWRpY2F0ZSwgb3IgYSBsaXN0IG9mIHByZWRpY2F0ZXMgZWFjaCBzZXJ2aW5nIGFzIGEgdGllLWJyZWFrZXJcbiAqIGZvciB0aGUgcHJlY2VkaW5nIG9uZS4gVGhlIGBleHByZXNzaW9uYCBpcyBldmFsdWF0ZWQgYWdhaW5zdCBlYWNoIGl0ZW0gYW5kIHRoZSBvdXRwdXQgaXMgdXNlZFxuICogZm9yIGNvbXBhcmluZyB3aXRoIG90aGVyIGl0ZW1zLlxuICpcbiAqIFlvdSBjYW4gY2hhbmdlIHRoZSBzb3J0aW5nIG9yZGVyIGJ5IHNldHRpbmcgYHJldmVyc2VgIHRvIGB0cnVlYC4gQnkgZGVmYXVsdCwgaXRlbXMgYXJlIHNvcnRlZCBpblxuICogYXNjZW5kaW5nIG9yZGVyLlxuICpcbiAqIFRoZSBjb21wYXJpc29uIGlzIGRvbmUgdXNpbmcgdGhlIGBjb21wYXJhdG9yYCBmdW5jdGlvbi4gSWYgbm9uZSBpcyBzcGVjaWZpZWQsIGEgZGVmYXVsdCwgYnVpbHQtaW5cbiAqIGNvbXBhcmF0b3IgaXMgdXNlZCAoc2VlIGJlbG93IGZvciBkZXRhaWxzIC0gaW4gYSBudXRzaGVsbCwgaXQgY29tcGFyZXMgbnVtYmVycyBudW1lcmljYWxseSBhbmRcbiAqIHN0cmluZ3MgYWxwaGFiZXRpY2FsbHkpLlxuICpcbiAqICMjIyBVbmRlciB0aGUgaG9vZFxuICpcbiAqIE9yZGVyaW5nIHRoZSBzcGVjaWZpZWQgYGNvbGxlY3Rpb25gIGhhcHBlbnMgaW4gdHdvIHBoYXNlczpcbiAqXG4gKiAxLiBBbGwgaXRlbXMgYXJlIHBhc3NlZCB0aHJvdWdoIHRoZSBwcmVkaWNhdGUgKG9yIHByZWRpY2F0ZXMpLCBhbmQgdGhlIHJldHVybmVkIHZhbHVlcyBhcmUgc2F2ZWRcbiAqICAgIGFsb25nIHdpdGggdGhlaXIgdHlwZSAoYHN0cmluZ2AsIGBudW1iZXJgIGV0YykuIEZvciBleGFtcGxlLCBhbiBpdGVtIGB7bGFiZWw6ICdmb28nfWAsIHBhc3NlZFxuICogICAgdGhyb3VnaCBhIHByZWRpY2F0ZSB0aGF0IGV4dHJhY3RzIHRoZSB2YWx1ZSBvZiB0aGUgYGxhYmVsYCBwcm9wZXJ0eSwgd291bGQgYmUgdHJhbnNmb3JtZWQgdG86XG4gKiAgICBgYGBcbiAqICAgIHtcbiAqICAgICAgdmFsdWU6ICdmb28nLFxuICogICAgICB0eXBlOiAnc3RyaW5nJyxcbiAqICAgICAgaW5kZXg6IC4uLlxuICogICAgfVxuICogICAgYGBgXG4gKiAyLiBUaGUgY29tcGFyYXRvciBmdW5jdGlvbiBpcyB1c2VkIHRvIHNvcnQgdGhlIGl0ZW1zLCBiYXNlZCBvbiB0aGUgZGVyaXZlZCB2YWx1ZXMsIHR5cGVzIGFuZFxuICogICAgaW5kaWNlcy5cbiAqXG4gKiBJZiB5b3UgdXNlIGEgY3VzdG9tIGNvbXBhcmF0b3IsIGl0IHdpbGwgYmUgY2FsbGVkIHdpdGggcGFpcnMgb2Ygb2JqZWN0cyBvZiB0aGUgZm9ybVxuICogYHt2YWx1ZTogLi4uLCB0eXBlOiAnLi4uJywgaW5kZXg6IC4uLn1gIGFuZCBpcyBleHBlY3RlZCB0byByZXR1cm4gYDBgIGlmIHRoZSBvYmplY3RzIGFyZSBlcXVhbFxuICogKGFzIGZhciBhcyB0aGUgY29tcGFyYXRvciBpcyBjb25jZXJuZWQpLCBgLTFgIGlmIHRoZSAxc3Qgb25lIHNob3VsZCBiZSByYW5rZWQgaGlnaGVyIHRoYW4gdGhlXG4gKiBzZWNvbmQsIG9yIGAxYCBvdGhlcndpc2UuXG4gKlxuICogSW4gb3JkZXIgdG8gZW5zdXJlIHRoYXQgdGhlIHNvcnRpbmcgd2lsbCBiZSBkZXRlcm1pbmlzdGljIGFjcm9zcyBwbGF0Zm9ybXMsIGlmIG5vbmUgb2YgdGhlXG4gKiBzcGVjaWZpZWQgcHJlZGljYXRlcyBjYW4gZGlzdGluZ3Vpc2ggYmV0d2VlbiB0d28gaXRlbXMsIGBvcmRlckJ5YCB3aWxsIGF1dG9tYXRpY2FsbHkgaW50cm9kdWNlIGFcbiAqIGR1bW15IHByZWRpY2F0ZSB0aGF0IHJldHVybnMgdGhlIGl0ZW0ncyBpbmRleCBhcyBgdmFsdWVgLlxuICogKElmIHlvdSBhcmUgdXNpbmcgYSBjdXN0b20gY29tcGFyYXRvciwgbWFrZSBzdXJlIGl0IGNhbiBoYW5kbGUgdGhpcyBwcmVkaWNhdGUgYXMgd2VsbC4pXG4gKlxuICogRmluYWxseSwgaW4gYW4gYXR0ZW1wdCB0byBzaW1wbGlmeSB0aGluZ3MsIGlmIGEgcHJlZGljYXRlIHJldHVybnMgYW4gb2JqZWN0IGFzIHRoZSBleHRyYWN0ZWRcbiAqIHZhbHVlIGZvciBhbiBpdGVtLCBgb3JkZXJCeWAgd2lsbCB0cnkgdG8gY29udmVydCB0aGF0IG9iamVjdCB0byBhIHByaW1pdGl2ZSB2YWx1ZSwgYmVmb3JlIHBhc3NpbmdcbiAqIGl0IHRvIHRoZSBjb21wYXJhdG9yLiBUaGUgZm9sbG93aW5nIHJ1bGVzIGdvdmVybiB0aGUgY29udmVyc2lvbjpcbiAqXG4gKiAxLiBJZiB0aGUgb2JqZWN0IGhhcyBhIGB2YWx1ZU9mKClgIG1ldGhvZCB0aGF0IHJldHVybnMgYSBwcmltaXRpdmUsIGl0cyByZXR1cm4gdmFsdWUgd2lsbCBiZVxuICogICAgdXNlZCBpbnN0ZWFkLjxiciAvPlxuICogICAgKElmIHRoZSBvYmplY3QgaGFzIGEgYHZhbHVlT2YoKWAgbWV0aG9kIHRoYXQgcmV0dXJucyBhbm90aGVyIG9iamVjdCwgdGhlbiB0aGUgcmV0dXJuZWQgb2JqZWN0XG4gKiAgICB3aWxsIGJlIHVzZWQgaW4gc3Vic2VxdWVudCBzdGVwcy4pXG4gKiAyLiBJZiB0aGUgb2JqZWN0IGhhcyBhIGN1c3RvbSBgdG9TdHJpbmcoKWAgbWV0aG9kIChpLmUuIG5vdCB0aGUgb25lIGluaGVyaXRlZCBmcm9tIGBPYmplY3RgKSB0aGF0XG4gKiAgICByZXR1cm5zIGEgcHJpbWl0aXZlLCBpdHMgcmV0dXJuIHZhbHVlIHdpbGwgYmUgdXNlZCBpbnN0ZWFkLjxiciAvPlxuICogICAgKElmIHRoZSBvYmplY3QgaGFzIGEgYHRvU3RyaW5nKClgIG1ldGhvZCB0aGF0IHJldHVybnMgYW5vdGhlciBvYmplY3QsIHRoZW4gdGhlIHJldHVybmVkIG9iamVjdFxuICogICAgd2lsbCBiZSB1c2VkIGluIHN1YnNlcXVlbnQgc3RlcHMuKVxuICogMy4gTm8gY29udmVyc2lvbjsgdGhlIG9iamVjdCBpdHNlbGYgaXMgdXNlZC5cbiAqXG4gKiAjIyMgVGhlIGRlZmF1bHQgY29tcGFyYXRvclxuICpcbiAqIFRoZSBkZWZhdWx0LCBidWlsdC1pbiBjb21wYXJhdG9yIHNob3VsZCBiZSBzdWZmaWNpZW50IGZvciBtb3N0IHVzZWNhc2VzLiBJbiBzaG9ydCwgaXQgY29tcGFyZXNcbiAqIG51bWJlcnMgbnVtZXJpY2FsbHksIHN0cmluZ3MgYWxwaGFiZXRpY2FsbHkgKGFuZCBjYXNlLWluc2Vuc2l0aXZlbHkpLCBmb3Igb2JqZWN0cyBmYWxscyBiYWNrIHRvXG4gKiB1c2luZyB0aGVpciBpbmRleCBpbiB0aGUgb3JpZ2luYWwgY29sbGVjdGlvbiwgYW5kIHNvcnRzIHZhbHVlcyBvZiBkaWZmZXJlbnQgdHlwZXMgYnkgdHlwZS5cbiAqXG4gKiBNb3JlIHNwZWNpZmljYWxseSwgaXQgZm9sbG93cyB0aGVzZSBzdGVwcyB0byBkZXRlcm1pbmUgdGhlIHJlbGF0aXZlIG9yZGVyIG9mIGl0ZW1zOlxuICpcbiAqIDEuIElmIHRoZSBjb21wYXJlZCB2YWx1ZXMgYXJlIG9mIGRpZmZlcmVudCB0eXBlcywgY29tcGFyZSB0aGUgdHlwZXMgdGhlbXNlbHZlcyBhbHBoYWJldGljYWxseS5cbiAqIDIuIElmIGJvdGggdmFsdWVzIGFyZSBvZiB0eXBlIGBzdHJpbmdgLCBjb21wYXJlIHRoZW0gYWxwaGFiZXRpY2FsbHkgaW4gYSBjYXNlLSBhbmRcbiAqICAgIGxvY2FsZS1pbnNlbnNpdGl2ZSB3YXkuXG4gKiAzLiBJZiBib3RoIHZhbHVlcyBhcmUgb2JqZWN0cywgY29tcGFyZSB0aGVpciBpbmRpY2VzIGluc3RlYWQuXG4gKiA0LiBPdGhlcndpc2UsIHJldHVybjpcbiAqICAgIC0gIGAwYCwgaWYgdGhlIHZhbHVlcyBhcmUgZXF1YWwgKGJ5IHN0cmljdCBlcXVhbGl0eSBjb21wYXJpc29uLCBpLmUuIHVzaW5nIGA9PT1gKS5cbiAqICAgIC0gYC0xYCwgaWYgdGhlIDFzdCB2YWx1ZSBpcyBcImxlc3MgdGhhblwiIHRoZSAybmQgdmFsdWUgKGNvbXBhcmVkIHVzaW5nIHRoZSBgPGAgb3BlcmF0b3IpLlxuICogICAgLSAgYDFgLCBvdGhlcndpc2UuXG4gKlxuICogKipOb3RlOioqIElmIHlvdSBub3RpY2UgbnVtYmVycyBub3QgYmVpbmcgc29ydGVkIGFzIGV4cGVjdGVkLCBtYWtlIHN1cmUgdGhleSBhcmUgYWN0dWFsbHkgYmVpbmdcbiAqICAgICAgICAgICBzYXZlZCBhcyBudW1iZXJzIGFuZCBub3Qgc3RyaW5ncy5cbiAqICoqTm90ZToqKiBGb3IgdGhlIHB1cnBvc2Ugb2Ygc29ydGluZywgYG51bGxgIHZhbHVlcyBhcmUgdHJlYXRlZCBhcyB0aGUgc3RyaW5nIGAnbnVsbCdgIChpLmUuXG4gKiAgICAgICAgICAgYHR5cGU6ICdzdHJpbmcnYCwgYHZhbHVlOiAnbnVsbCdgKS4gVGhpcyBtYXkgY2F1c2UgdW5leHBlY3RlZCBzb3J0IG9yZGVyIHJlbGF0aXZlIHRvXG4gKiAgICAgICAgICAgb3RoZXIgdmFsdWVzLlxuICpcbiAqIEBwYXJhbSB7QXJyYXl8QXJyYXlMaWtlfSBjb2xsZWN0aW9uIC0gVGhlIGNvbGxlY3Rpb24gKGFycmF5IG9yIGFycmF5LWxpa2Ugb2JqZWN0KSB0byBzb3J0LlxuICogQHBhcmFtIHsoRnVuY3Rpb258c3RyaW5nfEFycmF5LjxGdW5jdGlvbnxzdHJpbmc+KT19IGV4cHJlc3Npb24gLSBBIHByZWRpY2F0ZSAob3IgbGlzdCBvZlxuICogICAgcHJlZGljYXRlcykgdG8gYmUgdXNlZCBieSB0aGUgY29tcGFyYXRvciB0byBkZXRlcm1pbmUgdGhlIG9yZGVyIG9mIGVsZW1lbnRzLlxuICpcbiAqICAgIENhbiBiZSBvbmUgb2Y6XG4gKlxuICogICAgLSBgRnVuY3Rpb25gOiBBIGdldHRlciBmdW5jdGlvbi4gVGhpcyBmdW5jdGlvbiB3aWxsIGJlIGNhbGxlZCB3aXRoIGVhY2ggaXRlbSBhcyBhcmd1bWVudCBhbmRcbiAqICAgICAgdGhlIHJldHVybiB2YWx1ZSB3aWxsIGJlIHVzZWQgZm9yIHNvcnRpbmcuXG4gKiAgICAtIGBzdHJpbmdgOiBBbiBBbmd1bGFyIGV4cHJlc3Npb24uIFRoaXMgZXhwcmVzc2lvbiB3aWxsIGJlIGV2YWx1YXRlZCBhZ2FpbnN0IGVhY2ggaXRlbSBhbmQgdGhlXG4gKiAgICAgIHJlc3VsdCB3aWxsIGJlIHVzZWQgZm9yIHNvcnRpbmcuIEZvciBleGFtcGxlLCB1c2UgYCdsYWJlbCdgIHRvIHNvcnQgYnkgYSBwcm9wZXJ0eSBjYWxsZWRcbiAqICAgICAgYGxhYmVsYCBvciBgJ2xhYmVsLnN1YnN0cmluZygwLCAzKSdgIHRvIHNvcnQgYnkgdGhlIGZpcnN0IDMgY2hhcmFjdGVycyBvZiB0aGUgYGxhYmVsYFxuICogICAgICBwcm9wZXJ0eS48YnIgLz5cbiAqICAgICAgKFRoZSByZXN1bHQgb2YgYSBjb25zdGFudCBleHByZXNzaW9uIGlzIGludGVycHJldGVkIGFzIGEgcHJvcGVydHkgbmFtZSB0byBiZSB1c2VkIGZvclxuICogICAgICBjb21wYXJpc29uLiBGb3IgZXhhbXBsZSwgdXNlIGAnXCJzcGVjaWFsIG5hbWVcIidgIChub3RlIHRoZSBleHRyYSBwYWlyIG9mIHF1b3RlcykgdG8gc29ydCBieSBhXG4gKiAgICAgIHByb3BlcnR5IGNhbGxlZCBgc3BlY2lhbCBuYW1lYC4pPGJyIC8+XG4gKiAgICAgIEFuIGV4cHJlc3Npb24gY2FuIGJlIG9wdGlvbmFsbHkgcHJlZml4ZWQgd2l0aCBgK2Agb3IgYC1gIHRvIGNvbnRyb2wgdGhlIHNvcnRpbmcgZGlyZWN0aW9uLFxuICogICAgICBhc2NlbmRpbmcgb3IgZGVzY2VuZGluZy4gRm9yIGV4YW1wbGUsIGAnK2xhYmVsJ2Agb3IgYCctbGFiZWwnYC4gSWYgbm8gcHJvcGVydHkgaXMgcHJvdmlkZWQsXG4gKiAgICAgIChlLmcuIGAnKydgIG9yIGAnLSdgKSwgdGhlIGNvbGxlY3Rpb24gZWxlbWVudCBpdHNlbGYgaXMgdXNlZCBpbiBjb21wYXJpc29ucy5cbiAqICAgIC0gYEFycmF5YDogQW4gYXJyYXkgb2YgZnVuY3Rpb24gYW5kL29yIHN0cmluZyBwcmVkaWNhdGVzLiBJZiBhIHByZWRpY2F0ZSBjYW5ub3QgZGV0ZXJtaW5lIHRoZVxuICogICAgICByZWxhdGl2ZSBvcmRlciBvZiB0d28gaXRlbXMsIHRoZSBuZXh0IHByZWRpY2F0ZSBpcyB1c2VkIGFzIGEgdGllLWJyZWFrZXIuXG4gKlxuICogKipOb3RlOioqIElmIHRoZSBwcmVkaWNhdGUgaXMgbWlzc2luZyBvciBlbXB0eSB0aGVuIGl0IGRlZmF1bHRzIHRvIGAnKydgLlxuICpcbiAqIEBwYXJhbSB7Ym9vbGVhbj19IHJldmVyc2UgLSBJZiBgdHJ1ZWAsIHJldmVyc2UgdGhlIHNvcnRpbmcgb3JkZXIuXG4gKiBAcGFyYW0geyhGdW5jdGlvbik9fSBjb21wYXJhdG9yIC0gVGhlIGNvbXBhcmF0b3IgZnVuY3Rpb24gdXNlZCB0byBkZXRlcm1pbmUgdGhlIHJlbGF0aXZlIG9yZGVyIG9mXG4gKiAgICB2YWx1ZSBwYWlycy4gSWYgb21pdHRlZCwgdGhlIGJ1aWx0LWluIGNvbXBhcmF0b3Igd2lsbCBiZSB1c2VkLlxuICpcbiAqIEByZXR1cm5zIHtBcnJheX0gLSBUaGUgc29ydGVkIGFycmF5LlxuICpcbiAqXG4gKiBAZXhhbXBsZVxuICogIyMjIE9yZGVyaW5nIGEgdGFibGUgd2l0aCBgbmdSZXBlYXRgXG4gKlxuICogVGhlIGV4YW1wbGUgYmVsb3cgZGVtb25zdHJhdGVzIGEgc2ltcGxlIHtAbGluayBuZ1JlcGVhdCBuZ1JlcGVhdH0sIHdoZXJlIHRoZSBkYXRhIGlzIHNvcnRlZCBieVxuICogYWdlIGluIGRlc2NlbmRpbmcgb3JkZXIgKGV4cHJlc3Npb24gaXMgc2V0IHRvIGAnLWFnZSdgKS4gVGhlIGBjb21wYXJhdG9yYCBpcyBub3Qgc2V0LCB3aGljaCBtZWFuc1xuICogaXQgZGVmYXVsdHMgdG8gdGhlIGJ1aWx0LWluIGNvbXBhcmF0b3IuXG4gKlxuICAgPGV4YW1wbGUgbmFtZT1cIm9yZGVyQnktc3RhdGljXCIgbW9kdWxlPVwib3JkZXJCeUV4YW1wbGUxXCI+XG4gICAgIDxmaWxlIG5hbWU9XCJpbmRleC5odG1sXCI+XG4gICAgICAgPGRpdiBuZy1jb250cm9sbGVyPVwiRXhhbXBsZUNvbnRyb2xsZXJcIj5cbiAgICAgICAgIDx0YWJsZSBjbGFzcz1cImZyaWVuZHNcIj5cbiAgICAgICAgICAgPHRyPlxuICAgICAgICAgICAgIDx0aD5OYW1lPC90aD5cbiAgICAgICAgICAgICA8dGg+UGhvbmUgTnVtYmVyPC90aD5cbiAgICAgICAgICAgICA8dGg+QWdlPC90aD5cbiAgICAgICAgICAgPC90cj5cbiAgICAgICAgICAgPHRyIG5nLXJlcGVhdD1cImZyaWVuZCBpbiBmcmllbmRzIHwgb3JkZXJCeTonLWFnZSdcIj5cbiAgICAgICAgICAgICA8dGQ+e3tmcmllbmQubmFtZX19PC90ZD5cbiAgICAgICAgICAgICA8dGQ+e3tmcmllbmQucGhvbmV9fTwvdGQ+XG4gICAgICAgICAgICAgPHRkPnt7ZnJpZW5kLmFnZX19PC90ZD5cbiAgICAgICAgICAgPC90cj5cbiAgICAgICAgIDwvdGFibGU+XG4gICAgICAgPC9kaXY+XG4gICAgIDwvZmlsZT5cbiAgICAgPGZpbGUgbmFtZT1cInNjcmlwdC5qc1wiPlxuICAgICAgIGFuZ3VsYXIubW9kdWxlKCdvcmRlckJ5RXhhbXBsZTEnLCBbXSlcbiAgICAgICAgIC5jb250cm9sbGVyKCdFeGFtcGxlQ29udHJvbGxlcicsIFsnJHNjb3BlJywgZnVuY3Rpb24oJHNjb3BlKSB7XG4gICAgICAgICAgICRzY29wZS5mcmllbmRzID0gW1xuICAgICAgICAgICAgIHtuYW1lOiAnSm9obicsICAgcGhvbmU6ICc1NTUtMTIxMicsICBhZ2U6IDEwfSxcbiAgICAgICAgICAgICB7bmFtZTogJ01hcnknLCAgIHBob25lOiAnNTU1LTk4NzYnLCAgYWdlOiAxOX0sXG4gICAgICAgICAgICAge25hbWU6ICdNaWtlJywgICBwaG9uZTogJzU1NS00MzIxJywgIGFnZTogMjF9LFxuICAgICAgICAgICAgIHtuYW1lOiAnQWRhbScsICAgcGhvbmU6ICc1NTUtNTY3OCcsICBhZ2U6IDM1fSxcbiAgICAgICAgICAgICB7bmFtZTogJ0p1bGllJywgIHBob25lOiAnNTU1LTg3NjUnLCAgYWdlOiAyOX1cbiAgICAgICAgICAgXTtcbiAgICAgICAgIH1dKTtcbiAgICAgPC9maWxlPlxuICAgICA8ZmlsZSBuYW1lPVwic3R5bGUuY3NzXCI+XG4gICAgICAgLmZyaWVuZHMge1xuICAgICAgICAgYm9yZGVyLWNvbGxhcHNlOiBjb2xsYXBzZTtcbiAgICAgICB9XG5cbiAgICAgICAuZnJpZW5kcyB0aCB7XG4gICAgICAgICBib3JkZXItYm90dG9tOiAxcHggc29saWQ7XG4gICAgICAgfVxuICAgICAgIC5mcmllbmRzIHRkLCAuZnJpZW5kcyB0aCB7XG4gICAgICAgICBib3JkZXItbGVmdDogMXB4IHNvbGlkO1xuICAgICAgICAgcGFkZGluZzogNXB4IDEwcHg7XG4gICAgICAgfVxuICAgICAgIC5mcmllbmRzIHRkOmZpcnN0LWNoaWxkLCAuZnJpZW5kcyB0aDpmaXJzdC1jaGlsZCB7XG4gICAgICAgICBib3JkZXItbGVmdDogbm9uZTtcbiAgICAgICB9XG4gICAgIDwvZmlsZT5cbiAgICAgPGZpbGUgbmFtZT1cInByb3RyYWN0b3IuanNcIiB0eXBlPVwicHJvdHJhY3RvclwiPlxuICAgICAgIC8vIEVsZW1lbnQgbG9jYXRvcnNcbiAgICAgICB2YXIgbmFtZXMgPSBlbGVtZW50LmFsbChieS5yZXBlYXRlcignZnJpZW5kcycpLmNvbHVtbignZnJpZW5kLm5hbWUnKSk7XG5cbiAgICAgICBpdCgnc2hvdWxkIHNvcnQgZnJpZW5kcyBieSBhZ2UgaW4gcmV2ZXJzZSBvcmRlcicsIGZ1bmN0aW9uKCkge1xuICAgICAgICAgZXhwZWN0KG5hbWVzLmdldCgwKS5nZXRUZXh0KCkpLnRvQmUoJ0FkYW0nKTtcbiAgICAgICAgIGV4cGVjdChuYW1lcy5nZXQoMSkuZ2V0VGV4dCgpKS50b0JlKCdKdWxpZScpO1xuICAgICAgICAgZXhwZWN0KG5hbWVzLmdldCgyKS5nZXRUZXh0KCkpLnRvQmUoJ01pa2UnKTtcbiAgICAgICAgIGV4cGVjdChuYW1lcy5nZXQoMykuZ2V0VGV4dCgpKS50b0JlKCdNYXJ5Jyk7XG4gICAgICAgICBleHBlY3QobmFtZXMuZ2V0KDQpLmdldFRleHQoKSkudG9CZSgnSm9obicpO1xuICAgICAgIH0pO1xuICAgICA8L2ZpbGU+XG4gICA8L2V4YW1wbGU+XG4gKiA8aHIgLz5cbiAqXG4gKiBAZXhhbXBsZVxuICogIyMjIENoYW5naW5nIHBhcmFtZXRlcnMgZHluYW1pY2FsbHlcbiAqXG4gKiBBbGwgcGFyYW1ldGVycyBjYW4gYmUgY2hhbmdlZCBkeW5hbWljYWxseS4gVGhlIG5leHQgZXhhbXBsZSBzaG93cyBob3cgeW91IGNhbiBtYWtlIHRoZSBjb2x1bW5zIG9mXG4gKiBhIHRhYmxlIHNvcnRhYmxlLCBieSBiaW5kaW5nIHRoZSBgZXhwcmVzc2lvbmAgYW5kIGByZXZlcnNlYCBwYXJhbWV0ZXJzIHRvIHNjb3BlIHByb3BlcnRpZXMuXG4gKlxuICAgPGV4YW1wbGUgbmFtZT1cIm9yZGVyQnktZHluYW1pY1wiIG1vZHVsZT1cIm9yZGVyQnlFeGFtcGxlMlwiPlxuICAgICA8ZmlsZSBuYW1lPVwiaW5kZXguaHRtbFwiPlxuICAgICAgIDxkaXYgbmctY29udHJvbGxlcj1cIkV4YW1wbGVDb250cm9sbGVyXCI+XG4gICAgICAgICA8cHJlPlNvcnQgYnkgPSB7e3Byb3BlcnR5TmFtZX19OyByZXZlcnNlID0ge3tyZXZlcnNlfX08L3ByZT5cbiAgICAgICAgIDxoci8+XG4gICAgICAgICA8YnV0dG9uIG5nLWNsaWNrPVwicHJvcGVydHlOYW1lID0gbnVsbDsgcmV2ZXJzZSA9IGZhbHNlXCI+U2V0IHRvIHVuc29ydGVkPC9idXR0b24+XG4gICAgICAgICA8aHIvPlxuICAgICAgICAgPHRhYmxlIGNsYXNzPVwiZnJpZW5kc1wiPlxuICAgICAgICAgICA8dHI+XG4gICAgICAgICAgICAgPHRoPlxuICAgICAgICAgICAgICAgPGJ1dHRvbiBuZy1jbGljaz1cInNvcnRCeSgnbmFtZScpXCI+TmFtZTwvYnV0dG9uPlxuICAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9XCJzb3J0b3JkZXJcIiBuZy1zaG93PVwicHJvcGVydHlOYW1lID09PSAnbmFtZSdcIiBuZy1jbGFzcz1cIntyZXZlcnNlOiByZXZlcnNlfVwiPjwvc3Bhbj5cbiAgICAgICAgICAgICA8L3RoPlxuICAgICAgICAgICAgIDx0aD5cbiAgICAgICAgICAgICAgIDxidXR0b24gbmctY2xpY2s9XCJzb3J0QnkoJ3Bob25lJylcIj5QaG9uZSBOdW1iZXI8L2J1dHRvbj5cbiAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzPVwic29ydG9yZGVyXCIgbmctc2hvdz1cInByb3BlcnR5TmFtZSA9PT0gJ3Bob25lJ1wiIG5nLWNsYXNzPVwie3JldmVyc2U6IHJldmVyc2V9XCI+PC9zcGFuPlxuICAgICAgICAgICAgIDwvdGg+XG4gICAgICAgICAgICAgPHRoPlxuICAgICAgICAgICAgICAgPGJ1dHRvbiBuZy1jbGljaz1cInNvcnRCeSgnYWdlJylcIj5BZ2U8L2J1dHRvbj5cbiAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzPVwic29ydG9yZGVyXCIgbmctc2hvdz1cInByb3BlcnR5TmFtZSA9PT0gJ2FnZSdcIiBuZy1jbGFzcz1cIntyZXZlcnNlOiByZXZlcnNlfVwiPjwvc3Bhbj5cbiAgICAgICAgICAgICA8L3RoPlxuICAgICAgICAgICA8L3RyPlxuICAgICAgICAgICA8dHIgbmctcmVwZWF0PVwiZnJpZW5kIGluIGZyaWVuZHMgfCBvcmRlckJ5OnByb3BlcnR5TmFtZTpyZXZlcnNlXCI+XG4gICAgICAgICAgICAgPHRkPnt7ZnJpZW5kLm5hbWV9fTwvdGQ+XG4gICAgICAgICAgICAgPHRkPnt7ZnJpZW5kLnBob25lfX08L3RkPlxuICAgICAgICAgICAgIDx0ZD57e2ZyaWVuZC5hZ2V9fTwvdGQ+XG4gICAgICAgICAgIDwvdHI+XG4gICAgICAgICA8L3RhYmxlPlxuICAgICAgIDwvZGl2PlxuICAgICA8L2ZpbGU+XG4gICAgIDxmaWxlIG5hbWU9XCJzY3JpcHQuanNcIj5cbiAgICAgICBhbmd1bGFyLm1vZHVsZSgnb3JkZXJCeUV4YW1wbGUyJywgW10pXG4gICAgICAgICAuY29udHJvbGxlcignRXhhbXBsZUNvbnRyb2xsZXInLCBbJyRzY29wZScsIGZ1bmN0aW9uKCRzY29wZSkge1xuICAgICAgICAgICB2YXIgZnJpZW5kcyA9IFtcbiAgICAgICAgICAgICB7bmFtZTogJ0pvaG4nLCAgIHBob25lOiAnNTU1LTEyMTInLCAgYWdlOiAxMH0sXG4gICAgICAgICAgICAge25hbWU6ICdNYXJ5JywgICBwaG9uZTogJzU1NS05ODc2JywgIGFnZTogMTl9LFxuICAgICAgICAgICAgIHtuYW1lOiAnTWlrZScsICAgcGhvbmU6ICc1NTUtNDMyMScsICBhZ2U6IDIxfSxcbiAgICAgICAgICAgICB7bmFtZTogJ0FkYW0nLCAgIHBob25lOiAnNTU1LTU2NzgnLCAgYWdlOiAzNX0sXG4gICAgICAgICAgICAge25hbWU6ICdKdWxpZScsICBwaG9uZTogJzU1NS04NzY1JywgIGFnZTogMjl9XG4gICAgICAgICAgIF07XG5cbiAgICAgICAgICAgJHNjb3BlLnByb3BlcnR5TmFtZSA9ICdhZ2UnO1xuICAgICAgICAgICAkc2NvcGUucmV2ZXJzZSA9IHRydWU7XG4gICAgICAgICAgICRzY29wZS5mcmllbmRzID0gZnJpZW5kcztcblxuICAgICAgICAgICAkc2NvcGUuc29ydEJ5ID0gZnVuY3Rpb24ocHJvcGVydHlOYW1lKSB7XG4gICAgICAgICAgICAgJHNjb3BlLnJldmVyc2UgPSAoJHNjb3BlLnByb3BlcnR5TmFtZSA9PT0gcHJvcGVydHlOYW1lKSA/ICEkc2NvcGUucmV2ZXJzZSA6IGZhbHNlO1xuICAgICAgICAgICAgICRzY29wZS5wcm9wZXJ0eU5hbWUgPSBwcm9wZXJ0eU5hbWU7XG4gICAgICAgICAgIH07XG4gICAgICAgICB9XSk7XG4gICAgIDwvZmlsZT5cbiAgICAgPGZpbGUgbmFtZT1cInN0eWxlLmNzc1wiPlxuICAgICAgIC5mcmllbmRzIHtcbiAgICAgICAgIGJvcmRlci1jb2xsYXBzZTogY29sbGFwc2U7XG4gICAgICAgfVxuXG4gICAgICAgLmZyaWVuZHMgdGgge1xuICAgICAgICAgYm9yZGVyLWJvdHRvbTogMXB4IHNvbGlkO1xuICAgICAgIH1cbiAgICAgICAuZnJpZW5kcyB0ZCwgLmZyaWVuZHMgdGgge1xuICAgICAgICAgYm9yZGVyLWxlZnQ6IDFweCBzb2xpZDtcbiAgICAgICAgIHBhZGRpbmc6IDVweCAxMHB4O1xuICAgICAgIH1cbiAgICAgICAuZnJpZW5kcyB0ZDpmaXJzdC1jaGlsZCwgLmZyaWVuZHMgdGg6Zmlyc3QtY2hpbGQge1xuICAgICAgICAgYm9yZGVyLWxlZnQ6IG5vbmU7XG4gICAgICAgfVxuXG4gICAgICAgLnNvcnRvcmRlcjphZnRlciB7XG4gICAgICAgICBjb250ZW50OiAnXFwyNWIyJzsgICAvLyBCTEFDSyBVUC1QT0lOVElORyBUUklBTkdMRVxuICAgICAgIH1cbiAgICAgICAuc29ydG9yZGVyLnJldmVyc2U6YWZ0ZXIge1xuICAgICAgICAgY29udGVudDogJ1xcMjViYyc7ICAgLy8gQkxBQ0sgRE9XTi1QT0lOVElORyBUUklBTkdMRVxuICAgICAgIH1cbiAgICAgPC9maWxlPlxuICAgICA8ZmlsZSBuYW1lPVwicHJvdHJhY3Rvci5qc1wiIHR5cGU9XCJwcm90cmFjdG9yXCI+XG4gICAgICAgLy8gRWxlbWVudCBsb2NhdG9yc1xuICAgICAgIHZhciB1bnNvcnRCdXR0b24gPSBlbGVtZW50KGJ5LnBhcnRpYWxCdXR0b25UZXh0KCd1bnNvcnRlZCcpKTtcbiAgICAgICB2YXIgbmFtZUhlYWRlciA9IGVsZW1lbnQoYnkucGFydGlhbEJ1dHRvblRleHQoJ05hbWUnKSk7XG4gICAgICAgdmFyIHBob25lSGVhZGVyID0gZWxlbWVudChieS5wYXJ0aWFsQnV0dG9uVGV4dCgnUGhvbmUnKSk7XG4gICAgICAgdmFyIGFnZUhlYWRlciA9IGVsZW1lbnQoYnkucGFydGlhbEJ1dHRvblRleHQoJ0FnZScpKTtcbiAgICAgICB2YXIgZmlyc3ROYW1lID0gZWxlbWVudChieS5yZXBlYXRlcignZnJpZW5kcycpLmNvbHVtbignZnJpZW5kLm5hbWUnKS5yb3coMCkpO1xuICAgICAgIHZhciBsYXN0TmFtZSA9IGVsZW1lbnQoYnkucmVwZWF0ZXIoJ2ZyaWVuZHMnKS5jb2x1bW4oJ2ZyaWVuZC5uYW1lJykucm93KDQpKTtcblxuICAgICAgIGl0KCdzaG91bGQgc29ydCBmcmllbmRzIGJ5IHNvbWUgcHJvcGVydHksIHdoZW4gY2xpY2tpbmcgb24gdGhlIGNvbHVtbiBoZWFkZXInLCBmdW5jdGlvbigpIHtcbiAgICAgICAgIGV4cGVjdChmaXJzdE5hbWUuZ2V0VGV4dCgpKS50b0JlKCdBZGFtJyk7XG4gICAgICAgICBleHBlY3QobGFzdE5hbWUuZ2V0VGV4dCgpKS50b0JlKCdKb2huJyk7XG5cbiAgICAgICAgIHBob25lSGVhZGVyLmNsaWNrKCk7XG4gICAgICAgICBleHBlY3QoZmlyc3ROYW1lLmdldFRleHQoKSkudG9CZSgnSm9obicpO1xuICAgICAgICAgZXhwZWN0KGxhc3ROYW1lLmdldFRleHQoKSkudG9CZSgnTWFyeScpO1xuXG4gICAgICAgICBuYW1lSGVhZGVyLmNsaWNrKCk7XG4gICAgICAgICBleHBlY3QoZmlyc3ROYW1lLmdldFRleHQoKSkudG9CZSgnQWRhbScpO1xuICAgICAgICAgZXhwZWN0KGxhc3ROYW1lLmdldFRleHQoKSkudG9CZSgnTWlrZScpO1xuXG4gICAgICAgICBhZ2VIZWFkZXIuY2xpY2soKTtcbiAgICAgICAgIGV4cGVjdChmaXJzdE5hbWUuZ2V0VGV4dCgpKS50b0JlKCdKb2huJyk7XG4gICAgICAgICBleHBlY3QobGFzdE5hbWUuZ2V0VGV4dCgpKS50b0JlKCdBZGFtJyk7XG4gICAgICAgfSk7XG5cbiAgICAgICBpdCgnc2hvdWxkIHNvcnQgZnJpZW5kcyBpbiByZXZlcnNlIG9yZGVyLCB3aGVuIGNsaWNraW5nIG9uIHRoZSBzYW1lIGNvbHVtbicsIGZ1bmN0aW9uKCkge1xuICAgICAgICAgZXhwZWN0KGZpcnN0TmFtZS5nZXRUZXh0KCkpLnRvQmUoJ0FkYW0nKTtcbiAgICAgICAgIGV4cGVjdChsYXN0TmFtZS5nZXRUZXh0KCkpLnRvQmUoJ0pvaG4nKTtcblxuICAgICAgICAgYWdlSGVhZGVyLmNsaWNrKCk7XG4gICAgICAgICBleHBlY3QoZmlyc3ROYW1lLmdldFRleHQoKSkudG9CZSgnSm9obicpO1xuICAgICAgICAgZXhwZWN0KGxhc3ROYW1lLmdldFRleHQoKSkudG9CZSgnQWRhbScpO1xuXG4gICAgICAgICBhZ2VIZWFkZXIuY2xpY2soKTtcbiAgICAgICAgIGV4cGVjdChmaXJzdE5hbWUuZ2V0VGV4dCgpKS50b0JlKCdBZGFtJyk7XG4gICAgICAgICBleHBlY3QobGFzdE5hbWUuZ2V0VGV4dCgpKS50b0JlKCdKb2huJyk7XG4gICAgICAgfSk7XG5cbiAgICAgICBpdCgnc2hvdWxkIHJlc3RvcmUgdGhlIG9yaWdpbmFsIG9yZGVyLCB3aGVuIGNsaWNraW5nIFwiU2V0IHRvIHVuc29ydGVkXCInLCBmdW5jdGlvbigpIHtcbiAgICAgICAgIGV4cGVjdChmaXJzdE5hbWUuZ2V0VGV4dCgpKS50b0JlKCdBZGFtJyk7XG4gICAgICAgICBleHBlY3QobGFzdE5hbWUuZ2V0VGV4dCgpKS50b0JlKCdKb2huJyk7XG5cbiAgICAgICAgIHVuc29ydEJ1dHRvbi5jbGljaygpO1xuICAgICAgICAgZXhwZWN0KGZpcnN0TmFtZS5nZXRUZXh0KCkpLnRvQmUoJ0pvaG4nKTtcbiAgICAgICAgIGV4cGVjdChsYXN0TmFtZS5nZXRUZXh0KCkpLnRvQmUoJ0p1bGllJyk7XG4gICAgICAgfSk7XG4gICAgIDwvZmlsZT5cbiAgIDwvZXhhbXBsZT5cbiAqIDxociAvPlxuICpcbiAqIEBleGFtcGxlXG4gKiAjIyMgVXNpbmcgYG9yZGVyQnlgIGluc2lkZSBhIGNvbnRyb2xsZXJcbiAqXG4gKiBJdCBpcyBhbHNvIHBvc3NpYmxlIHRvIGNhbGwgdGhlIGBvcmRlckJ5YCBmaWx0ZXIgbWFudWFsbHksIGJ5IGluamVjdGluZyBgb3JkZXJCeUZpbHRlcmAsIGFuZFxuICogY2FsbGluZyBpdCB3aXRoIHRoZSBkZXNpcmVkIHBhcmFtZXRlcnMuIChBbHRlcm5hdGl2ZWx5LCB5b3UgY291bGQgaW5qZWN0IHRoZSBgJGZpbHRlcmAgZmFjdG9yeVxuICogYW5kIHJldHJpZXZlIHRoZSBgb3JkZXJCeWAgZmlsdGVyIHdpdGggYCRmaWx0ZXIoJ29yZGVyQnknKWAuKVxuICpcbiAgIDxleGFtcGxlIG5hbWU9XCJvcmRlckJ5LWNhbGwtbWFudWFsbHlcIiBtb2R1bGU9XCJvcmRlckJ5RXhhbXBsZTNcIj5cbiAgICAgPGZpbGUgbmFtZT1cImluZGV4Lmh0bWxcIj5cbiAgICAgICA8ZGl2IG5nLWNvbnRyb2xsZXI9XCJFeGFtcGxlQ29udHJvbGxlclwiPlxuICAgICAgICAgPHByZT5Tb3J0IGJ5ID0ge3twcm9wZXJ0eU5hbWV9fTsgcmV2ZXJzZSA9IHt7cmV2ZXJzZX19PC9wcmU+XG4gICAgICAgICA8aHIvPlxuICAgICAgICAgPGJ1dHRvbiBuZy1jbGljaz1cInNvcnRCeShudWxsKVwiPlNldCB0byB1bnNvcnRlZDwvYnV0dG9uPlxuICAgICAgICAgPGhyLz5cbiAgICAgICAgIDx0YWJsZSBjbGFzcz1cImZyaWVuZHNcIj5cbiAgICAgICAgICAgPHRyPlxuICAgICAgICAgICAgIDx0aD5cbiAgICAgICAgICAgICAgIDxidXR0b24gbmctY2xpY2s9XCJzb3J0QnkoJ25hbWUnKVwiPk5hbWU8L2J1dHRvbj5cbiAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzPVwic29ydG9yZGVyXCIgbmctc2hvdz1cInByb3BlcnR5TmFtZSA9PT0gJ25hbWUnXCIgbmctY2xhc3M9XCJ7cmV2ZXJzZTogcmV2ZXJzZX1cIj48L3NwYW4+XG4gICAgICAgICAgICAgPC90aD5cbiAgICAgICAgICAgICA8dGg+XG4gICAgICAgICAgICAgICA8YnV0dG9uIG5nLWNsaWNrPVwic29ydEJ5KCdwaG9uZScpXCI+UGhvbmUgTnVtYmVyPC9idXR0b24+XG4gICAgICAgICAgICAgICA8c3BhbiBjbGFzcz1cInNvcnRvcmRlclwiIG5nLXNob3c9XCJwcm9wZXJ0eU5hbWUgPT09ICdwaG9uZSdcIiBuZy1jbGFzcz1cIntyZXZlcnNlOiByZXZlcnNlfVwiPjwvc3Bhbj5cbiAgICAgICAgICAgICA8L3RoPlxuICAgICAgICAgICAgIDx0aD5cbiAgICAgICAgICAgICAgIDxidXR0b24gbmctY2xpY2s9XCJzb3J0QnkoJ2FnZScpXCI+QWdlPC9idXR0b24+XG4gICAgICAgICAgICAgICA8c3BhbiBjbGFzcz1cInNvcnRvcmRlclwiIG5nLXNob3c9XCJwcm9wZXJ0eU5hbWUgPT09ICdhZ2UnXCIgbmctY2xhc3M9XCJ7cmV2ZXJzZTogcmV2ZXJzZX1cIj48L3NwYW4+XG4gICAgICAgICAgICAgPC90aD5cbiAgICAgICAgICAgPC90cj5cbiAgICAgICAgICAgPHRyIG5nLXJlcGVhdD1cImZyaWVuZCBpbiBmcmllbmRzXCI+XG4gICAgICAgICAgICAgPHRkPnt7ZnJpZW5kLm5hbWV9fTwvdGQ+XG4gICAgICAgICAgICAgPHRkPnt7ZnJpZW5kLnBob25lfX08L3RkPlxuICAgICAgICAgICAgIDx0ZD57e2ZyaWVuZC5hZ2V9fTwvdGQ+XG4gICAgICAgICAgIDwvdHI+XG4gICAgICAgICA8L3RhYmxlPlxuICAgICAgIDwvZGl2PlxuICAgICA8L2ZpbGU+XG4gICAgIDxmaWxlIG5hbWU9XCJzY3JpcHQuanNcIj5cbiAgICAgICBhbmd1bGFyLm1vZHVsZSgnb3JkZXJCeUV4YW1wbGUzJywgW10pXG4gICAgICAgICAuY29udHJvbGxlcignRXhhbXBsZUNvbnRyb2xsZXInLCBbJyRzY29wZScsICdvcmRlckJ5RmlsdGVyJywgZnVuY3Rpb24oJHNjb3BlLCBvcmRlckJ5KSB7XG4gICAgICAgICAgIHZhciBmcmllbmRzID0gW1xuICAgICAgICAgICAgIHtuYW1lOiAnSm9obicsICAgcGhvbmU6ICc1NTUtMTIxMicsICBhZ2U6IDEwfSxcbiAgICAgICAgICAgICB7bmFtZTogJ01hcnknLCAgIHBob25lOiAnNTU1LTk4NzYnLCAgYWdlOiAxOX0sXG4gICAgICAgICAgICAge25hbWU6ICdNaWtlJywgICBwaG9uZTogJzU1NS00MzIxJywgIGFnZTogMjF9LFxuICAgICAgICAgICAgIHtuYW1lOiAnQWRhbScsICAgcGhvbmU6ICc1NTUtNTY3OCcsICBhZ2U6IDM1fSxcbiAgICAgICAgICAgICB7bmFtZTogJ0p1bGllJywgIHBob25lOiAnNTU1LTg3NjUnLCAgYWdlOiAyOX1cbiAgICAgICAgICAgXTtcblxuICAgICAgICAgICAkc2NvcGUucHJvcGVydHlOYW1lID0gJ2FnZSc7XG4gICAgICAgICAgICRzY29wZS5yZXZlcnNlID0gdHJ1ZTtcbiAgICAgICAgICAgJHNjb3BlLmZyaWVuZHMgPSBvcmRlckJ5KGZyaWVuZHMsICRzY29wZS5wcm9wZXJ0eU5hbWUsICRzY29wZS5yZXZlcnNlKTtcblxuICAgICAgICAgICAkc2NvcGUuc29ydEJ5ID0gZnVuY3Rpb24ocHJvcGVydHlOYW1lKSB7XG4gICAgICAgICAgICAgJHNjb3BlLnJldmVyc2UgPSAocHJvcGVydHlOYW1lICE9PSBudWxsICYmICRzY29wZS5wcm9wZXJ0eU5hbWUgPT09IHByb3BlcnR5TmFtZSlcbiAgICAgICAgICAgICAgICAgPyAhJHNjb3BlLnJldmVyc2UgOiBmYWxzZTtcbiAgICAgICAgICAgICAkc2NvcGUucHJvcGVydHlOYW1lID0gcHJvcGVydHlOYW1lO1xuICAgICAgICAgICAgICRzY29wZS5mcmllbmRzID0gb3JkZXJCeShmcmllbmRzLCAkc2NvcGUucHJvcGVydHlOYW1lLCAkc2NvcGUucmV2ZXJzZSk7XG4gICAgICAgICAgIH07XG4gICAgICAgICB9XSk7XG4gICAgIDwvZmlsZT5cbiAgICAgPGZpbGUgbmFtZT1cInN0eWxlLmNzc1wiPlxuICAgICAgIC5mcmllbmRzIHtcbiAgICAgICAgIGJvcmRlci1jb2xsYXBzZTogY29sbGFwc2U7XG4gICAgICAgfVxuXG4gICAgICAgLmZyaWVuZHMgdGgge1xuICAgICAgICAgYm9yZGVyLWJvdHRvbTogMXB4IHNvbGlkO1xuICAgICAgIH1cbiAgICAgICAuZnJpZW5kcyB0ZCwgLmZyaWVuZHMgdGgge1xuICAgICAgICAgYm9yZGVyLWxlZnQ6IDFweCBzb2xpZDtcbiAgICAgICAgIHBhZGRpbmc6IDVweCAxMHB4O1xuICAgICAgIH1cbiAgICAgICAuZnJpZW5kcyB0ZDpmaXJzdC1jaGlsZCwgLmZyaWVuZHMgdGg6Zmlyc3QtY2hpbGQge1xuICAgICAgICAgYm9yZGVyLWxlZnQ6IG5vbmU7XG4gICAgICAgfVxuXG4gICAgICAgLnNvcnRvcmRlcjphZnRlciB7XG4gICAgICAgICBjb250ZW50OiAnXFwyNWIyJzsgICAvLyBCTEFDSyBVUC1QT0lOVElORyBUUklBTkdMRVxuICAgICAgIH1cbiAgICAgICAuc29ydG9yZGVyLnJldmVyc2U6YWZ0ZXIge1xuICAgICAgICAgY29udGVudDogJ1xcMjViYyc7ICAgLy8gQkxBQ0sgRE9XTi1QT0lOVElORyBUUklBTkdMRVxuICAgICAgIH1cbiAgICAgPC9maWxlPlxuICAgICA8ZmlsZSBuYW1lPVwicHJvdHJhY3Rvci5qc1wiIHR5cGU9XCJwcm90cmFjdG9yXCI+XG4gICAgICAgLy8gRWxlbWVudCBsb2NhdG9yc1xuICAgICAgIHZhciB1bnNvcnRCdXR0b24gPSBlbGVtZW50KGJ5LnBhcnRpYWxCdXR0b25UZXh0KCd1bnNvcnRlZCcpKTtcbiAgICAgICB2YXIgbmFtZUhlYWRlciA9IGVsZW1lbnQoYnkucGFydGlhbEJ1dHRvblRleHQoJ05hbWUnKSk7XG4gICAgICAgdmFyIHBob25lSGVhZGVyID0gZWxlbWVudChieS5wYXJ0aWFsQnV0dG9uVGV4dCgnUGhvbmUnKSk7XG4gICAgICAgdmFyIGFnZUhlYWRlciA9IGVsZW1lbnQoYnkucGFydGlhbEJ1dHRvblRleHQoJ0FnZScpKTtcbiAgICAgICB2YXIgZmlyc3ROYW1lID0gZWxlbWVudChieS5yZXBlYXRlcignZnJpZW5kcycpLmNvbHVtbignZnJpZW5kLm5hbWUnKS5yb3coMCkpO1xuICAgICAgIHZhciBsYXN0TmFtZSA9IGVsZW1lbnQoYnkucmVwZWF0ZXIoJ2ZyaWVuZHMnKS5jb2x1bW4oJ2ZyaWVuZC5uYW1lJykucm93KDQpKTtcblxuICAgICAgIGl0KCdzaG91bGQgc29ydCBmcmllbmRzIGJ5IHNvbWUgcHJvcGVydHksIHdoZW4gY2xpY2tpbmcgb24gdGhlIGNvbHVtbiBoZWFkZXInLCBmdW5jdGlvbigpIHtcbiAgICAgICAgIGV4cGVjdChmaXJzdE5hbWUuZ2V0VGV4dCgpKS50b0JlKCdBZGFtJyk7XG4gICAgICAgICBleHBlY3QobGFzdE5hbWUuZ2V0VGV4dCgpKS50b0JlKCdKb2huJyk7XG5cbiAgICAgICAgIHBob25lSGVhZGVyLmNsaWNrKCk7XG4gICAgICAgICBleHBlY3QoZmlyc3ROYW1lLmdldFRleHQoKSkudG9CZSgnSm9obicpO1xuICAgICAgICAgZXhwZWN0KGxhc3ROYW1lLmdldFRleHQoKSkudG9CZSgnTWFyeScpO1xuXG4gICAgICAgICBuYW1lSGVhZGVyLmNsaWNrKCk7XG4gICAgICAgICBleHBlY3QoZmlyc3ROYW1lLmdldFRleHQoKSkudG9CZSgnQWRhbScpO1xuICAgICAgICAgZXhwZWN0KGxhc3ROYW1lLmdldFRleHQoKSkudG9CZSgnTWlrZScpO1xuXG4gICAgICAgICBhZ2VIZWFkZXIuY2xpY2soKTtcbiAgICAgICAgIGV4cGVjdChmaXJzdE5hbWUuZ2V0VGV4dCgpKS50b0JlKCdKb2huJyk7XG4gICAgICAgICBleHBlY3QobGFzdE5hbWUuZ2V0VGV4dCgpKS50b0JlKCdBZGFtJyk7XG4gICAgICAgfSk7XG5cbiAgICAgICBpdCgnc2hvdWxkIHNvcnQgZnJpZW5kcyBpbiByZXZlcnNlIG9yZGVyLCB3aGVuIGNsaWNraW5nIG9uIHRoZSBzYW1lIGNvbHVtbicsIGZ1bmN0aW9uKCkge1xuICAgICAgICAgZXhwZWN0KGZpcnN0TmFtZS5nZXRUZXh0KCkpLnRvQmUoJ0FkYW0nKTtcbiAgICAgICAgIGV4cGVjdChsYXN0TmFtZS5nZXRUZXh0KCkpLnRvQmUoJ0pvaG4nKTtcblxuICAgICAgICAgYWdlSGVhZGVyLmNsaWNrKCk7XG4gICAgICAgICBleHBlY3QoZmlyc3ROYW1lLmdldFRleHQoKSkudG9CZSgnSm9obicpO1xuICAgICAgICAgZXhwZWN0KGxhc3ROYW1lLmdldFRleHQoKSkudG9CZSgnQWRhbScpO1xuXG4gICAgICAgICBhZ2VIZWFkZXIuY2xpY2soKTtcbiAgICAgICAgIGV4cGVjdChmaXJzdE5hbWUuZ2V0VGV4dCgpKS50b0JlKCdBZGFtJyk7XG4gICAgICAgICBleHBlY3QobGFzdE5hbWUuZ2V0VGV4dCgpKS50b0JlKCdKb2huJyk7XG4gICAgICAgfSk7XG5cbiAgICAgICBpdCgnc2hvdWxkIHJlc3RvcmUgdGhlIG9yaWdpbmFsIG9yZGVyLCB3aGVuIGNsaWNraW5nIFwiU2V0IHRvIHVuc29ydGVkXCInLCBmdW5jdGlvbigpIHtcbiAgICAgICAgIGV4cGVjdChmaXJzdE5hbWUuZ2V0VGV4dCgpKS50b0JlKCdBZGFtJyk7XG4gICAgICAgICBleHBlY3QobGFzdE5hbWUuZ2V0VGV4dCgpKS50b0JlKCdKb2huJyk7XG5cbiAgICAgICAgIHVuc29ydEJ1dHRvbi5jbGljaygpO1xuICAgICAgICAgZXhwZWN0KGZpcnN0TmFtZS5nZXRUZXh0KCkpLnRvQmUoJ0pvaG4nKTtcbiAgICAgICAgIGV4cGVjdChsYXN0TmFtZS5nZXRUZXh0KCkpLnRvQmUoJ0p1bGllJyk7XG4gICAgICAgfSk7XG4gICAgIDwvZmlsZT5cbiAgIDwvZXhhbXBsZT5cbiAqIDxociAvPlxuICpcbiAqIEBleGFtcGxlXG4gKiAjIyMgVXNpbmcgYSBjdXN0b20gY29tcGFyYXRvclxuICpcbiAqIElmIHlvdSBoYXZlIHZlcnkgc3BlY2lmaWMgcmVxdWlyZW1lbnRzIGFib3V0IHRoZSB3YXkgaXRlbXMgYXJlIHNvcnRlZCwgeW91IGNhbiBwYXNzIHlvdXIgb3duXG4gKiBjb21wYXJhdG9yIGZ1bmN0aW9uLiBGb3IgZXhhbXBsZSwgeW91IG1pZ2h0IG5lZWQgdG8gY29tcGFyZSBzb21lIHN0cmluZ3MgaW4gYSBsb2NhbGUtc2Vuc2l0aXZlXG4gKiB3YXkuIChXaGVuIHNwZWNpZnlpbmcgYSBjdXN0b20gY29tcGFyYXRvciwgeW91IGFsc28gbmVlZCB0byBwYXNzIGEgdmFsdWUgZm9yIHRoZSBgcmV2ZXJzZWBcbiAqIGFyZ3VtZW50IC0gcGFzc2luZyBgZmFsc2VgIHJldGFpbnMgdGhlIGRlZmF1bHQgc29ydGluZyBvcmRlciwgaS5lLiBhc2NlbmRpbmcuKVxuICpcbiAgIDxleGFtcGxlIG5hbWU9XCJvcmRlckJ5LWN1c3RvbS1jb21wYXJhdG9yXCIgbW9kdWxlPVwib3JkZXJCeUV4YW1wbGU0XCI+XG4gICAgIDxmaWxlIG5hbWU9XCJpbmRleC5odG1sXCI+XG4gICAgICAgPGRpdiBuZy1jb250cm9sbGVyPVwiRXhhbXBsZUNvbnRyb2xsZXJcIj5cbiAgICAgICAgIDxkaXYgY2xhc3M9XCJmcmllbmRzLWNvbnRhaW5lciBjdXN0b20tY29tcGFyYXRvclwiPlxuICAgICAgICAgICA8aDM+TG9jYWxlLXNlbnNpdGl2ZSBDb21wYXJhdG9yPC9oMz5cbiAgICAgICAgICAgPHRhYmxlIGNsYXNzPVwiZnJpZW5kc1wiPlxuICAgICAgICAgICAgIDx0cj5cbiAgICAgICAgICAgICAgIDx0aD5OYW1lPC90aD5cbiAgICAgICAgICAgICAgIDx0aD5GYXZvcml0ZSBMZXR0ZXI8L3RoPlxuICAgICAgICAgICAgIDwvdHI+XG4gICAgICAgICAgICAgPHRyIG5nLXJlcGVhdD1cImZyaWVuZCBpbiBmcmllbmRzIHwgb3JkZXJCeTonZmF2b3JpdGVMZXR0ZXInOmZhbHNlOmxvY2FsZVNlbnNpdGl2ZUNvbXBhcmF0b3JcIj5cbiAgICAgICAgICAgICAgIDx0ZD57e2ZyaWVuZC5uYW1lfX08L3RkPlxuICAgICAgICAgICAgICAgPHRkPnt7ZnJpZW5kLmZhdm9yaXRlTGV0dGVyfX08L3RkPlxuICAgICAgICAgICAgIDwvdHI+XG4gICAgICAgICAgIDwvdGFibGU+XG4gICAgICAgICA8L2Rpdj5cbiAgICAgICAgIDxkaXYgY2xhc3M9XCJmcmllbmRzLWNvbnRhaW5lciBkZWZhdWx0LWNvbXBhcmF0b3JcIj5cbiAgICAgICAgICAgPGgzPkRlZmF1bHQgQ29tcGFyYXRvcjwvaDM+XG4gICAgICAgICAgIDx0YWJsZSBjbGFzcz1cImZyaWVuZHNcIj5cbiAgICAgICAgICAgICA8dHI+XG4gICAgICAgICAgICAgICA8dGg+TmFtZTwvdGg+XG4gICAgICAgICAgICAgICA8dGg+RmF2b3JpdGUgTGV0dGVyPC90aD5cbiAgICAgICAgICAgICA8L3RyPlxuICAgICAgICAgICAgIDx0ciBuZy1yZXBlYXQ9XCJmcmllbmQgaW4gZnJpZW5kcyB8IG9yZGVyQnk6J2Zhdm9yaXRlTGV0dGVyJ1wiPlxuICAgICAgICAgICAgICAgPHRkPnt7ZnJpZW5kLm5hbWV9fTwvdGQ+XG4gICAgICAgICAgICAgICA8dGQ+e3tmcmllbmQuZmF2b3JpdGVMZXR0ZXJ9fTwvdGQ+XG4gICAgICAgICAgICAgPC90cj5cbiAgICAgICAgICAgPC90YWJsZT5cbiAgICAgICAgIDwvZGl2PlxuICAgICAgIDwvZGl2PlxuICAgICA8L2ZpbGU+XG4gICAgIDxmaWxlIG5hbWU9XCJzY3JpcHQuanNcIj5cbiAgICAgICBhbmd1bGFyLm1vZHVsZSgnb3JkZXJCeUV4YW1wbGU0JywgW10pXG4gICAgICAgICAuY29udHJvbGxlcignRXhhbXBsZUNvbnRyb2xsZXInLCBbJyRzY29wZScsIGZ1bmN0aW9uKCRzY29wZSkge1xuICAgICAgICAgICAkc2NvcGUuZnJpZW5kcyA9IFtcbiAgICAgICAgICAgICB7bmFtZTogJ0pvaG4nLCAgIGZhdm9yaXRlTGV0dGVyOiAnw4QnfSxcbiAgICAgICAgICAgICB7bmFtZTogJ01hcnknLCAgIGZhdm9yaXRlTGV0dGVyOiAnw5wnfSxcbiAgICAgICAgICAgICB7bmFtZTogJ01pa2UnLCAgIGZhdm9yaXRlTGV0dGVyOiAnw5YnfSxcbiAgICAgICAgICAgICB7bmFtZTogJ0FkYW0nLCAgIGZhdm9yaXRlTGV0dGVyOiAnSCd9LFxuICAgICAgICAgICAgIHtuYW1lOiAnSnVsaWUnLCAgZmF2b3JpdGVMZXR0ZXI6ICdaJ31cbiAgICAgICAgICAgXTtcblxuICAgICAgICAgICAkc2NvcGUubG9jYWxlU2Vuc2l0aXZlQ29tcGFyYXRvciA9IGZ1bmN0aW9uKHYxLCB2Mikge1xuICAgICAgICAgICAgIC8vIElmIHdlIGRvbid0IGdldCBzdHJpbmdzLCBqdXN0IGNvbXBhcmUgYnkgaW5kZXhcbiAgICAgICAgICAgICBpZiAodjEudHlwZSAhPT0gJ3N0cmluZycgfHwgdjIudHlwZSAhPT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgICAgIHJldHVybiAodjEuaW5kZXggPCB2Mi5pbmRleCkgPyAtMSA6IDE7XG4gICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgLy8gQ29tcGFyZSBzdHJpbmdzIGFscGhhYmV0aWNhbGx5LCB0YWtpbmcgbG9jYWxlIGludG8gYWNjb3VudFxuICAgICAgICAgICAgIHJldHVybiB2MS52YWx1ZS5sb2NhbGVDb21wYXJlKHYyLnZhbHVlKTtcbiAgICAgICAgICAgfTtcbiAgICAgICAgIH1dKTtcbiAgICAgPC9maWxlPlxuICAgICA8ZmlsZSBuYW1lPVwic3R5bGUuY3NzXCI+XG4gICAgICAgLmZyaWVuZHMtY29udGFpbmVyIHtcbiAgICAgICAgIGRpc3BsYXk6IGlubGluZS1ibG9jaztcbiAgICAgICAgIG1hcmdpbjogMCAzMHB4O1xuICAgICAgIH1cblxuICAgICAgIC5mcmllbmRzIHtcbiAgICAgICAgIGJvcmRlci1jb2xsYXBzZTogY29sbGFwc2U7XG4gICAgICAgfVxuXG4gICAgICAgLmZyaWVuZHMgdGgge1xuICAgICAgICAgYm9yZGVyLWJvdHRvbTogMXB4IHNvbGlkO1xuICAgICAgIH1cbiAgICAgICAuZnJpZW5kcyB0ZCwgLmZyaWVuZHMgdGgge1xuICAgICAgICAgYm9yZGVyLWxlZnQ6IDFweCBzb2xpZDtcbiAgICAgICAgIHBhZGRpbmc6IDVweCAxMHB4O1xuICAgICAgIH1cbiAgICAgICAuZnJpZW5kcyB0ZDpmaXJzdC1jaGlsZCwgLmZyaWVuZHMgdGg6Zmlyc3QtY2hpbGQge1xuICAgICAgICAgYm9yZGVyLWxlZnQ6IG5vbmU7XG4gICAgICAgfVxuICAgICA8L2ZpbGU+XG4gICAgIDxmaWxlIG5hbWU9XCJwcm90cmFjdG9yLmpzXCIgdHlwZT1cInByb3RyYWN0b3JcIj5cbiAgICAgICAvLyBFbGVtZW50IGxvY2F0b3JzXG4gICAgICAgdmFyIGNvbnRhaW5lciA9IGVsZW1lbnQoYnkuY3NzKCcuY3VzdG9tLWNvbXBhcmF0b3InKSk7XG4gICAgICAgdmFyIG5hbWVzID0gY29udGFpbmVyLmFsbChieS5yZXBlYXRlcignZnJpZW5kcycpLmNvbHVtbignZnJpZW5kLm5hbWUnKSk7XG5cbiAgICAgICBpdCgnc2hvdWxkIHNvcnQgZnJpZW5kcyBieSBmYXZvcml0ZSBsZXR0ZXIgKGluIGNvcnJlY3QgYWxwaGFiZXRpY2FsIG9yZGVyKScsIGZ1bmN0aW9uKCkge1xuICAgICAgICAgZXhwZWN0KG5hbWVzLmdldCgwKS5nZXRUZXh0KCkpLnRvQmUoJ0pvaG4nKTtcbiAgICAgICAgIGV4cGVjdChuYW1lcy5nZXQoMSkuZ2V0VGV4dCgpKS50b0JlKCdBZGFtJyk7XG4gICAgICAgICBleHBlY3QobmFtZXMuZ2V0KDIpLmdldFRleHQoKSkudG9CZSgnTWlrZScpO1xuICAgICAgICAgZXhwZWN0KG5hbWVzLmdldCgzKS5nZXRUZXh0KCkpLnRvQmUoJ01hcnknKTtcbiAgICAgICAgIGV4cGVjdChuYW1lcy5nZXQoNCkuZ2V0VGV4dCgpKS50b0JlKCdKdWxpZScpO1xuICAgICAgIH0pO1xuICAgICA8L2ZpbGU+XG4gICA8L2V4YW1wbGU+XG4gKlxuICovXG5vcmRlckJ5RmlsdGVyLiRpbmplY3QgPSBbJyRwYXJzZSddO1xuZnVuY3Rpb24gb3JkZXJCeUZpbHRlcigkcGFyc2UpIHtcbiAgcmV0dXJuIGZ1bmN0aW9uKGFycmF5LCBzb3J0UHJlZGljYXRlLCByZXZlcnNlT3JkZXIsIGNvbXBhcmVGbikge1xuXG4gICAgaWYgKGFycmF5ID09IG51bGwpIHJldHVybiBhcnJheTtcbiAgICBpZiAoIWlzQXJyYXlMaWtlKGFycmF5KSkge1xuICAgICAgdGhyb3cgbWluRXJyKCdvcmRlckJ5JykoJ25vdGFycmF5JywgJ0V4cGVjdGVkIGFycmF5IGJ1dCByZWNlaXZlZDogezB9JywgYXJyYXkpO1xuICAgIH1cblxuICAgIGlmICghaXNBcnJheShzb3J0UHJlZGljYXRlKSkgeyBzb3J0UHJlZGljYXRlID0gW3NvcnRQcmVkaWNhdGVdOyB9XG4gICAgaWYgKHNvcnRQcmVkaWNhdGUubGVuZ3RoID09PSAwKSB7IHNvcnRQcmVkaWNhdGUgPSBbJysnXTsgfVxuXG4gICAgdmFyIHByZWRpY2F0ZXMgPSBwcm9jZXNzUHJlZGljYXRlcyhzb3J0UHJlZGljYXRlKTtcblxuICAgIHZhciBkZXNjZW5kaW5nID0gcmV2ZXJzZU9yZGVyID8gLTEgOiAxO1xuXG4gICAgLy8gRGVmaW5lIHRoZSBgY29tcGFyZSgpYCBmdW5jdGlvbi4gVXNlIGEgZGVmYXVsdCBjb21wYXJhdG9yIGlmIG5vbmUgaXMgc3BlY2lmaWVkLlxuICAgIHZhciBjb21wYXJlID0gaXNGdW5jdGlvbihjb21wYXJlRm4pID8gY29tcGFyZUZuIDogZGVmYXVsdENvbXBhcmU7XG5cbiAgICAvLyBUaGUgbmV4dCB0aHJlZSBsaW5lcyBhcmUgYSB2ZXJzaW9uIG9mIGEgU3dhcnR6aWFuIFRyYW5zZm9ybSBpZGlvbSBmcm9tIFBlcmxcbiAgICAvLyAoc29tZXRpbWVzIGNhbGxlZCB0aGUgRGVjb3JhdGUtU29ydC1VbmRlY29yYXRlIGlkaW9tKVxuICAgIC8vIFNlZSBodHRwczovL2VuLndpa2lwZWRpYS5vcmcvd2lraS9TY2h3YXJ0emlhbl90cmFuc2Zvcm1cbiAgICB2YXIgY29tcGFyZVZhbHVlcyA9IEFycmF5LnByb3RvdHlwZS5tYXAuY2FsbChhcnJheSwgZ2V0Q29tcGFyaXNvbk9iamVjdCk7XG4gICAgY29tcGFyZVZhbHVlcy5zb3J0KGRvQ29tcGFyaXNvbik7XG4gICAgYXJyYXkgPSBjb21wYXJlVmFsdWVzLm1hcChmdW5jdGlvbihpdGVtKSB7IHJldHVybiBpdGVtLnZhbHVlOyB9KTtcblxuICAgIHJldHVybiBhcnJheTtcblxuICAgIGZ1bmN0aW9uIGdldENvbXBhcmlzb25PYmplY3QodmFsdWUsIGluZGV4KSB7XG4gICAgICAvLyBOT1RFOiBXZSBhcmUgYWRkaW5nIGFuIGV4dHJhIGB0aWVCcmVha2VyYCB2YWx1ZSBiYXNlZCBvbiB0aGUgZWxlbWVudCdzIGluZGV4LlxuICAgICAgLy8gVGhpcyB3aWxsIGJlIHVzZWQgdG8ga2VlcCB0aGUgc29ydCBzdGFibGUgd2hlbiBub25lIG9mIHRoZSBpbnB1dCBwcmVkaWNhdGVzIGNhblxuICAgICAgLy8gZGlzdGluZ3Vpc2ggYmV0d2VlbiB0d28gZWxlbWVudHMuXG4gICAgICByZXR1cm4ge1xuICAgICAgICB2YWx1ZTogdmFsdWUsXG4gICAgICAgIHRpZUJyZWFrZXI6IHt2YWx1ZTogaW5kZXgsIHR5cGU6ICdudW1iZXInLCBpbmRleDogaW5kZXh9LFxuICAgICAgICBwcmVkaWNhdGVWYWx1ZXM6IHByZWRpY2F0ZXMubWFwKGZ1bmN0aW9uKHByZWRpY2F0ZSkge1xuICAgICAgICAgIHJldHVybiBnZXRQcmVkaWNhdGVWYWx1ZShwcmVkaWNhdGUuZ2V0KHZhbHVlKSwgaW5kZXgpO1xuICAgICAgICB9KVxuICAgICAgfTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBkb0NvbXBhcmlzb24odjEsIHYyKSB7XG4gICAgICBmb3IgKHZhciBpID0gMCwgaWkgPSBwcmVkaWNhdGVzLmxlbmd0aDsgaSA8IGlpOyBpKyspIHtcbiAgICAgICAgdmFyIHJlc3VsdCA9IGNvbXBhcmUodjEucHJlZGljYXRlVmFsdWVzW2ldLCB2Mi5wcmVkaWNhdGVWYWx1ZXNbaV0pO1xuICAgICAgICBpZiAocmVzdWx0KSB7XG4gICAgICAgICAgcmV0dXJuIHJlc3VsdCAqIHByZWRpY2F0ZXNbaV0uZGVzY2VuZGluZyAqIGRlc2NlbmRpbmc7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgcmV0dXJuIGNvbXBhcmUodjEudGllQnJlYWtlciwgdjIudGllQnJlYWtlcikgKiBkZXNjZW5kaW5nO1xuICAgIH1cbiAgfTtcblxuICBmdW5jdGlvbiBwcm9jZXNzUHJlZGljYXRlcyhzb3J0UHJlZGljYXRlcykge1xuICAgIHJldHVybiBzb3J0UHJlZGljYXRlcy5tYXAoZnVuY3Rpb24ocHJlZGljYXRlKSB7XG4gICAgICB2YXIgZGVzY2VuZGluZyA9IDEsIGdldCA9IGlkZW50aXR5O1xuXG4gICAgICBpZiAoaXNGdW5jdGlvbihwcmVkaWNhdGUpKSB7XG4gICAgICAgIGdldCA9IHByZWRpY2F0ZTtcbiAgICAgIH0gZWxzZSBpZiAoaXNTdHJpbmcocHJlZGljYXRlKSkge1xuICAgICAgICBpZiAoKHByZWRpY2F0ZS5jaGFyQXQoMCkgPT09ICcrJyB8fCBwcmVkaWNhdGUuY2hhckF0KDApID09PSAnLScpKSB7XG4gICAgICAgICAgZGVzY2VuZGluZyA9IHByZWRpY2F0ZS5jaGFyQXQoMCkgPT09ICctJyA/IC0xIDogMTtcbiAgICAgICAgICBwcmVkaWNhdGUgPSBwcmVkaWNhdGUuc3Vic3RyaW5nKDEpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChwcmVkaWNhdGUgIT09ICcnKSB7XG4gICAgICAgICAgZ2V0ID0gJHBhcnNlKHByZWRpY2F0ZSk7XG4gICAgICAgICAgaWYgKGdldC5jb25zdGFudCkge1xuICAgICAgICAgICAgdmFyIGtleSA9IGdldCgpO1xuICAgICAgICAgICAgZ2V0ID0gZnVuY3Rpb24odmFsdWUpIHsgcmV0dXJuIHZhbHVlW2tleV07IH07XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4ge2dldDogZ2V0LCBkZXNjZW5kaW5nOiBkZXNjZW5kaW5nfTtcbiAgICB9KTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGlzUHJpbWl0aXZlKHZhbHVlKSB7XG4gICAgc3dpdGNoICh0eXBlb2YgdmFsdWUpIHtcbiAgICAgIGNhc2UgJ251bWJlcic6IC8qIGZhbGxzIHRocm91Z2ggKi9cbiAgICAgIGNhc2UgJ2Jvb2xlYW4nOiAvKiBmYWxscyB0aHJvdWdoICovXG4gICAgICBjYXNlICdzdHJpbmcnOlxuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBvYmplY3RWYWx1ZSh2YWx1ZSkge1xuICAgIC8vIElmIGB2YWx1ZU9mYCBpcyBhIHZhbGlkIGZ1bmN0aW9uIHVzZSB0aGF0XG4gICAgaWYgKGlzRnVuY3Rpb24odmFsdWUudmFsdWVPZikpIHtcbiAgICAgIHZhbHVlID0gdmFsdWUudmFsdWVPZigpO1xuICAgICAgaWYgKGlzUHJpbWl0aXZlKHZhbHVlKSkgcmV0dXJuIHZhbHVlO1xuICAgIH1cbiAgICAvLyBJZiBgdG9TdHJpbmdgIGlzIGEgdmFsaWQgZnVuY3Rpb24gYW5kIG5vdCB0aGUgb25lIGZyb20gYE9iamVjdC5wcm90b3R5cGVgIHVzZSB0aGF0XG4gICAgaWYgKGhhc0N1c3RvbVRvU3RyaW5nKHZhbHVlKSkge1xuICAgICAgdmFsdWUgPSB2YWx1ZS50b1N0cmluZygpO1xuICAgICAgaWYgKGlzUHJpbWl0aXZlKHZhbHVlKSkgcmV0dXJuIHZhbHVlO1xuICAgIH1cblxuICAgIHJldHVybiB2YWx1ZTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGdldFByZWRpY2F0ZVZhbHVlKHZhbHVlLCBpbmRleCkge1xuICAgIHZhciB0eXBlID0gdHlwZW9mIHZhbHVlO1xuICAgIGlmICh2YWx1ZSA9PT0gbnVsbCkge1xuICAgICAgdHlwZSA9ICdzdHJpbmcnO1xuICAgICAgdmFsdWUgPSAnbnVsbCc7XG4gICAgfSBlbHNlIGlmICh0eXBlID09PSAnb2JqZWN0Jykge1xuICAgICAgdmFsdWUgPSBvYmplY3RWYWx1ZSh2YWx1ZSk7XG4gICAgfVxuICAgIHJldHVybiB7dmFsdWU6IHZhbHVlLCB0eXBlOiB0eXBlLCBpbmRleDogaW5kZXh9O1xuICB9XG5cbiAgZnVuY3Rpb24gZGVmYXVsdENvbXBhcmUodjEsIHYyKSB7XG4gICAgdmFyIHJlc3VsdCA9IDA7XG4gICAgdmFyIHR5cGUxID0gdjEudHlwZTtcbiAgICB2YXIgdHlwZTIgPSB2Mi50eXBlO1xuXG4gICAgaWYgKHR5cGUxID09PSB0eXBlMikge1xuICAgICAgdmFyIHZhbHVlMSA9IHYxLnZhbHVlO1xuICAgICAgdmFyIHZhbHVlMiA9IHYyLnZhbHVlO1xuXG4gICAgICBpZiAodHlwZTEgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgIC8vIENvbXBhcmUgc3RyaW5ncyBjYXNlLWluc2Vuc2l0aXZlbHlcbiAgICAgICAgdmFsdWUxID0gdmFsdWUxLnRvTG93ZXJDYXNlKCk7XG4gICAgICAgIHZhbHVlMiA9IHZhbHVlMi50b0xvd2VyQ2FzZSgpO1xuICAgICAgfSBlbHNlIGlmICh0eXBlMSA9PT0gJ29iamVjdCcpIHtcbiAgICAgICAgLy8gRm9yIGJhc2ljIG9iamVjdHMsIHVzZSB0aGUgcG9zaXRpb24gb2YgdGhlIG9iamVjdFxuICAgICAgICAvLyBpbiB0aGUgY29sbGVjdGlvbiBpbnN0ZWFkIG9mIHRoZSB2YWx1ZVxuICAgICAgICBpZiAoaXNPYmplY3QodmFsdWUxKSkgdmFsdWUxID0gdjEuaW5kZXg7XG4gICAgICAgIGlmIChpc09iamVjdCh2YWx1ZTIpKSB2YWx1ZTIgPSB2Mi5pbmRleDtcbiAgICAgIH1cblxuICAgICAgaWYgKHZhbHVlMSAhPT0gdmFsdWUyKSB7XG4gICAgICAgIHJlc3VsdCA9IHZhbHVlMSA8IHZhbHVlMiA/IC0xIDogMTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgcmVzdWx0ID0gdHlwZTEgPCB0eXBlMiA/IC0xIDogMTtcbiAgICB9XG5cbiAgICByZXR1cm4gcmVzdWx0O1xuICB9XG59XG5cbmZ1bmN0aW9uIG5nRGlyZWN0aXZlKGRpcmVjdGl2ZSkge1xuICBpZiAoaXNGdW5jdGlvbihkaXJlY3RpdmUpKSB7XG4gICAgZGlyZWN0aXZlID0ge1xuICAgICAgbGluazogZGlyZWN0aXZlXG4gICAgfTtcbiAgfVxuICBkaXJlY3RpdmUucmVzdHJpY3QgPSBkaXJlY3RpdmUucmVzdHJpY3QgfHwgJ0FDJztcbiAgcmV0dXJuIHZhbHVlRm4oZGlyZWN0aXZlKTtcbn1cblxuLyoqXG4gKiBAbmdkb2MgZGlyZWN0aXZlXG4gKiBAbmFtZSBhXG4gKiBAcmVzdHJpY3QgRVxuICpcbiAqIEBkZXNjcmlwdGlvblxuICogTW9kaWZpZXMgdGhlIGRlZmF1bHQgYmVoYXZpb3Igb2YgdGhlIGh0bWwgYSB0YWcgc28gdGhhdCB0aGUgZGVmYXVsdCBhY3Rpb24gaXMgcHJldmVudGVkIHdoZW5cbiAqIHRoZSBocmVmIGF0dHJpYnV0ZSBpcyBlbXB0eS5cbiAqXG4gKiBGb3IgZHluYW1pY2FsbHkgY3JlYXRpbmcgYGhyZWZgIGF0dHJpYnV0ZXMgZm9yIGEgdGFncywgc2VlIHRoZSB7QGxpbmsgbmcubmdIcmVmIGBuZ0hyZWZgfSBkaXJlY3RpdmUuXG4gKi9cbnZhciBodG1sQW5jaG9yRGlyZWN0aXZlID0gdmFsdWVGbih7XG4gIHJlc3RyaWN0OiAnRScsXG4gIGNvbXBpbGU6IGZ1bmN0aW9uKGVsZW1lbnQsIGF0dHIpIHtcbiAgICBpZiAoIWF0dHIuaHJlZiAmJiAhYXR0ci54bGlua0hyZWYpIHtcbiAgICAgIHJldHVybiBmdW5jdGlvbihzY29wZSwgZWxlbWVudCkge1xuICAgICAgICAvLyBJZiB0aGUgbGlua2VkIGVsZW1lbnQgaXMgbm90IGFuIGFuY2hvciB0YWcgYW55bW9yZSwgZG8gbm90aGluZ1xuICAgICAgICBpZiAoZWxlbWVudFswXS5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpICE9PSAnYScpIHJldHVybjtcblxuICAgICAgICAvLyBTVkdBRWxlbWVudCBkb2VzIG5vdCB1c2UgdGhlIGhyZWYgYXR0cmlidXRlLCBidXQgcmF0aGVyIHRoZSAneGxpbmtIcmVmJyBhdHRyaWJ1dGUuXG4gICAgICAgIHZhciBocmVmID0gdG9TdHJpbmcuY2FsbChlbGVtZW50LnByb3AoJ2hyZWYnKSkgPT09ICdbb2JqZWN0IFNWR0FuaW1hdGVkU3RyaW5nXScgP1xuICAgICAgICAgICAgICAgICAgICd4bGluazpocmVmJyA6ICdocmVmJztcbiAgICAgICAgZWxlbWVudC5vbignY2xpY2snLCBmdW5jdGlvbihldmVudCkge1xuICAgICAgICAgIC8vIGlmIHdlIGhhdmUgbm8gaHJlZiB1cmwsIHRoZW4gZG9uJ3QgbmF2aWdhdGUgYW55d2hlcmUuXG4gICAgICAgICAgaWYgKCFlbGVtZW50LmF0dHIoaHJlZikpIHtcbiAgICAgICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgIH07XG4gICAgfVxuICB9XG59KTtcblxuLyoqXG4gKiBAbmdkb2MgZGlyZWN0aXZlXG4gKiBAbmFtZSBuZ0hyZWZcbiAqIEByZXN0cmljdCBBXG4gKiBAcHJpb3JpdHkgOTlcbiAqXG4gKiBAZGVzY3JpcHRpb25cbiAqIFVzaW5nIEFuZ3VsYXIgbWFya3VwIGxpa2UgYHt7aGFzaH19YCBpbiBhbiBocmVmIGF0dHJpYnV0ZSB3aWxsXG4gKiBtYWtlIHRoZSBsaW5rIGdvIHRvIHRoZSB3cm9uZyBVUkwgaWYgdGhlIHVzZXIgY2xpY2tzIGl0IGJlZm9yZVxuICogQW5ndWxhciBoYXMgYSBjaGFuY2UgdG8gcmVwbGFjZSB0aGUgYHt7aGFzaH19YCBtYXJrdXAgd2l0aCBpdHNcbiAqIHZhbHVlLiBVbnRpbCBBbmd1bGFyIHJlcGxhY2VzIHRoZSBtYXJrdXAgdGhlIGxpbmsgd2lsbCBiZSBicm9rZW5cbiAqIGFuZCB3aWxsIG1vc3QgbGlrZWx5IHJldHVybiBhIDQwNCBlcnJvci4gVGhlIGBuZ0hyZWZgIGRpcmVjdGl2ZVxuICogc29sdmVzIHRoaXMgcHJvYmxlbS5cbiAqXG4gKiBUaGUgd3Jvbmcgd2F5IHRvIHdyaXRlIGl0OlxuICogYGBgaHRtbFxuICogPGEgaHJlZj1cImh0dHA6Ly93d3cuZ3JhdmF0YXIuY29tL2F2YXRhci97e2hhc2h9fVwiPmxpbmsxPC9hPlxuICogYGBgXG4gKlxuICogVGhlIGNvcnJlY3Qgd2F5IHRvIHdyaXRlIGl0OlxuICogYGBgaHRtbFxuICogPGEgbmctaHJlZj1cImh0dHA6Ly93d3cuZ3JhdmF0YXIuY29tL2F2YXRhci97e2hhc2h9fVwiPmxpbmsxPC9hPlxuICogYGBgXG4gKlxuICogQGVsZW1lbnQgQVxuICogQHBhcmFtIHt0ZW1wbGF0ZX0gbmdIcmVmIGFueSBzdHJpbmcgd2hpY2ggY2FuIGNvbnRhaW4gYHt7fX1gIG1hcmt1cC5cbiAqXG4gKiBAZXhhbXBsZVxuICogVGhpcyBleGFtcGxlIHNob3dzIHZhcmlvdXMgY29tYmluYXRpb25zIG9mIGBocmVmYCwgYG5nLWhyZWZgIGFuZCBgbmctY2xpY2tgIGF0dHJpYnV0ZXNcbiAqIGluIGxpbmtzIGFuZCB0aGVpciBkaWZmZXJlbnQgYmVoYXZpb3JzOlxuICAgIDxleGFtcGxlIG5hbWU9XCJuZy1ocmVmXCI+XG4gICAgICA8ZmlsZSBuYW1lPVwiaW5kZXguaHRtbFwiPlxuICAgICAgICA8aW5wdXQgbmctbW9kZWw9XCJ2YWx1ZVwiIC8+PGJyIC8+XG4gICAgICAgIDxhIGlkPVwibGluay0xXCIgaHJlZiBuZy1jbGljaz1cInZhbHVlID0gMVwiPmxpbmsgMTwvYT4gKGxpbmssIGRvbid0IHJlbG9hZCk8YnIgLz5cbiAgICAgICAgPGEgaWQ9XCJsaW5rLTJcIiBocmVmPVwiXCIgbmctY2xpY2s9XCJ2YWx1ZSA9IDJcIj5saW5rIDI8L2E+IChsaW5rLCBkb24ndCByZWxvYWQpPGJyIC8+XG4gICAgICAgIDxhIGlkPVwibGluay0zXCIgbmctaHJlZj1cIi97eycxMjMnfX1cIj5saW5rIDM8L2E+IChsaW5rLCByZWxvYWQhKTxiciAvPlxuICAgICAgICA8YSBpZD1cImxpbmstNFwiIGhyZWY9XCJcIiBuYW1lPVwieHhcIiBuZy1jbGljaz1cInZhbHVlID0gNFwiPmFuY2hvcjwvYT4gKGxpbmssIGRvbid0IHJlbG9hZCk8YnIgLz5cbiAgICAgICAgPGEgaWQ9XCJsaW5rLTVcIiBuYW1lPVwieHh4XCIgbmctY2xpY2s9XCJ2YWx1ZSA9IDVcIj5hbmNob3I8L2E+IChubyBsaW5rKTxiciAvPlxuICAgICAgICA8YSBpZD1cImxpbmstNlwiIG5nLWhyZWY9XCJ7e3ZhbHVlfX1cIj5saW5rPC9hPiAobGluaywgY2hhbmdlIGxvY2F0aW9uKVxuICAgICAgPC9maWxlPlxuICAgICAgPGZpbGUgbmFtZT1cInByb3RyYWN0b3IuanNcIiB0eXBlPVwicHJvdHJhY3RvclwiPlxuICAgICAgICBpdCgnc2hvdWxkIGV4ZWN1dGUgbmctY2xpY2sgYnV0IG5vdCByZWxvYWQgd2hlbiBocmVmIHdpdGhvdXQgdmFsdWUnLCBmdW5jdGlvbigpIHtcbiAgICAgICAgICBlbGVtZW50KGJ5LmlkKCdsaW5rLTEnKSkuY2xpY2soKTtcbiAgICAgICAgICBleHBlY3QoZWxlbWVudChieS5tb2RlbCgndmFsdWUnKSkuZ2V0QXR0cmlidXRlKCd2YWx1ZScpKS50b0VxdWFsKCcxJyk7XG4gICAgICAgICAgZXhwZWN0KGVsZW1lbnQoYnkuaWQoJ2xpbmstMScpKS5nZXRBdHRyaWJ1dGUoJ2hyZWYnKSkudG9CZSgnJyk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIGl0KCdzaG91bGQgZXhlY3V0ZSBuZy1jbGljayBidXQgbm90IHJlbG9hZCB3aGVuIGhyZWYgZW1wdHkgc3RyaW5nJywgZnVuY3Rpb24oKSB7XG4gICAgICAgICAgZWxlbWVudChieS5pZCgnbGluay0yJykpLmNsaWNrKCk7XG4gICAgICAgICAgZXhwZWN0KGVsZW1lbnQoYnkubW9kZWwoJ3ZhbHVlJykpLmdldEF0dHJpYnV0ZSgndmFsdWUnKSkudG9FcXVhbCgnMicpO1xuICAgICAgICAgIGV4cGVjdChlbGVtZW50KGJ5LmlkKCdsaW5rLTInKSkuZ2V0QXR0cmlidXRlKCdocmVmJykpLnRvQmUoJycpO1xuICAgICAgICB9KTtcblxuICAgICAgICBpdCgnc2hvdWxkIGV4ZWN1dGUgbmctY2xpY2sgYW5kIGNoYW5nZSB1cmwgd2hlbiBuZy1ocmVmIHNwZWNpZmllZCcsIGZ1bmN0aW9uKCkge1xuICAgICAgICAgIGV4cGVjdChlbGVtZW50KGJ5LmlkKCdsaW5rLTMnKSkuZ2V0QXR0cmlidXRlKCdocmVmJykpLnRvTWF0Y2goL1xcLzEyMyQvKTtcblxuICAgICAgICAgIGVsZW1lbnQoYnkuaWQoJ2xpbmstMycpKS5jbGljaygpO1xuXG4gICAgICAgICAgLy8gQXQgdGhpcyBwb2ludCwgd2UgbmF2aWdhdGUgYXdheSBmcm9tIGFuIEFuZ3VsYXIgcGFnZSwgc28gd2UgbmVlZFxuICAgICAgICAgIC8vIHRvIHVzZSBicm93c2VyLmRyaXZlciB0byBnZXQgdGhlIGJhc2Ugd2ViZHJpdmVyLlxuXG4gICAgICAgICAgYnJvd3Nlci53YWl0KGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgcmV0dXJuIGJyb3dzZXIuZHJpdmVyLmdldEN1cnJlbnRVcmwoKS50aGVuKGZ1bmN0aW9uKHVybCkge1xuICAgICAgICAgICAgICByZXR1cm4gdXJsLm1hdGNoKC9cXC8xMjMkLyk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9LCA1MDAwLCAncGFnZSBzaG91bGQgbmF2aWdhdGUgdG8gLzEyMycpO1xuICAgICAgICB9KTtcblxuICAgICAgICBpdCgnc2hvdWxkIGV4ZWN1dGUgbmctY2xpY2sgYnV0IG5vdCByZWxvYWQgd2hlbiBocmVmIGVtcHR5IHN0cmluZyBhbmQgbmFtZSBzcGVjaWZpZWQnLCBmdW5jdGlvbigpIHtcbiAgICAgICAgICBlbGVtZW50KGJ5LmlkKCdsaW5rLTQnKSkuY2xpY2soKTtcbiAgICAgICAgICBleHBlY3QoZWxlbWVudChieS5tb2RlbCgndmFsdWUnKSkuZ2V0QXR0cmlidXRlKCd2YWx1ZScpKS50b0VxdWFsKCc0Jyk7XG4gICAgICAgICAgZXhwZWN0KGVsZW1lbnQoYnkuaWQoJ2xpbmstNCcpKS5nZXRBdHRyaWJ1dGUoJ2hyZWYnKSkudG9CZSgnJyk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIGl0KCdzaG91bGQgZXhlY3V0ZSBuZy1jbGljayBidXQgbm90IHJlbG9hZCB3aGVuIG5vIGhyZWYgYnV0IG5hbWUgc3BlY2lmaWVkJywgZnVuY3Rpb24oKSB7XG4gICAgICAgICAgZWxlbWVudChieS5pZCgnbGluay01JykpLmNsaWNrKCk7XG4gICAgICAgICAgZXhwZWN0KGVsZW1lbnQoYnkubW9kZWwoJ3ZhbHVlJykpLmdldEF0dHJpYnV0ZSgndmFsdWUnKSkudG9FcXVhbCgnNScpO1xuICAgICAgICAgIGV4cGVjdChlbGVtZW50KGJ5LmlkKCdsaW5rLTUnKSkuZ2V0QXR0cmlidXRlKCdocmVmJykpLnRvQmUobnVsbCk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIGl0KCdzaG91bGQgb25seSBjaGFuZ2UgdXJsIHdoZW4gb25seSBuZy1ocmVmJywgZnVuY3Rpb24oKSB7XG4gICAgICAgICAgZWxlbWVudChieS5tb2RlbCgndmFsdWUnKSkuY2xlYXIoKTtcbiAgICAgICAgICBlbGVtZW50KGJ5Lm1vZGVsKCd2YWx1ZScpKS5zZW5kS2V5cygnNicpO1xuICAgICAgICAgIGV4cGVjdChlbGVtZW50KGJ5LmlkKCdsaW5rLTYnKSkuZ2V0QXR0cmlidXRlKCdocmVmJykpLnRvTWF0Y2goL1xcLzYkLyk7XG5cbiAgICAgICAgICBlbGVtZW50KGJ5LmlkKCdsaW5rLTYnKSkuY2xpY2soKTtcblxuICAgICAgICAgIC8vIEF0IHRoaXMgcG9pbnQsIHdlIG5hdmlnYXRlIGF3YXkgZnJvbSBhbiBBbmd1bGFyIHBhZ2UsIHNvIHdlIG5lZWRcbiAgICAgICAgICAvLyB0byB1c2UgYnJvd3Nlci5kcml2ZXIgdG8gZ2V0IHRoZSBiYXNlIHdlYmRyaXZlci5cbiAgICAgICAgICBicm93c2VyLndhaXQoZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICByZXR1cm4gYnJvd3Nlci5kcml2ZXIuZ2V0Q3VycmVudFVybCgpLnRoZW4oZnVuY3Rpb24odXJsKSB7XG4gICAgICAgICAgICAgIHJldHVybiB1cmwubWF0Y2goL1xcLzYkLyk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9LCA1MDAwLCAncGFnZSBzaG91bGQgbmF2aWdhdGUgdG8gLzYnKTtcbiAgICAgICAgfSk7XG4gICAgICA8L2ZpbGU+XG4gICAgPC9leGFtcGxlPlxuICovXG5cbi8qKlxuICogQG5nZG9jIGRpcmVjdGl2ZVxuICogQG5hbWUgbmdTcmNcbiAqIEByZXN0cmljdCBBXG4gKiBAcHJpb3JpdHkgOTlcbiAqXG4gKiBAZGVzY3JpcHRpb25cbiAqIFVzaW5nIEFuZ3VsYXIgbWFya3VwIGxpa2UgYHt7aGFzaH19YCBpbiBhIGBzcmNgIGF0dHJpYnV0ZSBkb2Vzbid0XG4gKiB3b3JrIHJpZ2h0OiBUaGUgYnJvd3NlciB3aWxsIGZldGNoIGZyb20gdGhlIFVSTCB3aXRoIHRoZSBsaXRlcmFsXG4gKiB0ZXh0IGB7e2hhc2h9fWAgdW50aWwgQW5ndWxhciByZXBsYWNlcyB0aGUgZXhwcmVzc2lvbiBpbnNpZGVcbiAqIGB7e2hhc2h9fWAuIFRoZSBgbmdTcmNgIGRpcmVjdGl2ZSBzb2x2ZXMgdGhpcyBwcm9ibGVtLlxuICpcbiAqIFRoZSBidWdneSB3YXkgdG8gd3JpdGUgaXQ6XG4gKiBgYGBodG1sXG4gKiA8aW1nIHNyYz1cImh0dHA6Ly93d3cuZ3JhdmF0YXIuY29tL2F2YXRhci97e2hhc2h9fVwiIGFsdD1cIkRlc2NyaXB0aW9uXCIvPlxuICogYGBgXG4gKlxuICogVGhlIGNvcnJlY3Qgd2F5IHRvIHdyaXRlIGl0OlxuICogYGBgaHRtbFxuICogPGltZyBuZy1zcmM9XCJodHRwOi8vd3d3LmdyYXZhdGFyLmNvbS9hdmF0YXIve3toYXNofX1cIiBhbHQ9XCJEZXNjcmlwdGlvblwiIC8+XG4gKiBgYGBcbiAqXG4gKiBAZWxlbWVudCBJTUdcbiAqIEBwYXJhbSB7dGVtcGxhdGV9IG5nU3JjIGFueSBzdHJpbmcgd2hpY2ggY2FuIGNvbnRhaW4gYHt7fX1gIG1hcmt1cC5cbiAqL1xuXG4vKipcbiAqIEBuZ2RvYyBkaXJlY3RpdmVcbiAqIEBuYW1lIG5nU3Jjc2V0XG4gKiBAcmVzdHJpY3QgQVxuICogQHByaW9yaXR5IDk5XG4gKlxuICogQGRlc2NyaXB0aW9uXG4gKiBVc2luZyBBbmd1bGFyIG1hcmt1cCBsaWtlIGB7e2hhc2h9fWAgaW4gYSBgc3Jjc2V0YCBhdHRyaWJ1dGUgZG9lc24ndFxuICogd29yayByaWdodDogVGhlIGJyb3dzZXIgd2lsbCBmZXRjaCBmcm9tIHRoZSBVUkwgd2l0aCB0aGUgbGl0ZXJhbFxuICogdGV4dCBge3toYXNofX1gIHVudGlsIEFuZ3VsYXIgcmVwbGFjZXMgdGhlIGV4cHJlc3Npb24gaW5zaWRlXG4gKiBge3toYXNofX1gLiBUaGUgYG5nU3Jjc2V0YCBkaXJlY3RpdmUgc29sdmVzIHRoaXMgcHJvYmxlbS5cbiAqXG4gKiBUaGUgYnVnZ3kgd2F5IHRvIHdyaXRlIGl0OlxuICogYGBgaHRtbFxuICogPGltZyBzcmNzZXQ9XCJodHRwOi8vd3d3LmdyYXZhdGFyLmNvbS9hdmF0YXIve3toYXNofX0gMnhcIiBhbHQ9XCJEZXNjcmlwdGlvblwiLz5cbiAqIGBgYFxuICpcbiAqIFRoZSBjb3JyZWN0IHdheSB0byB3cml0ZSBpdDpcbiAqIGBgYGh0bWxcbiAqIDxpbWcgbmctc3Jjc2V0PVwiaHR0cDovL3d3dy5ncmF2YXRhci5jb20vYXZhdGFyL3t7aGFzaH19IDJ4XCIgYWx0PVwiRGVzY3JpcHRpb25cIiAvPlxuICogYGBgXG4gKlxuICogQGVsZW1lbnQgSU1HXG4gKiBAcGFyYW0ge3RlbXBsYXRlfSBuZ1NyY3NldCBhbnkgc3RyaW5nIHdoaWNoIGNhbiBjb250YWluIGB7e319YCBtYXJrdXAuXG4gKi9cblxuLyoqXG4gKiBAbmdkb2MgZGlyZWN0aXZlXG4gKiBAbmFtZSBuZ0Rpc2FibGVkXG4gKiBAcmVzdHJpY3QgQVxuICogQHByaW9yaXR5IDEwMFxuICpcbiAqIEBkZXNjcmlwdGlvblxuICpcbiAqIFRoaXMgZGlyZWN0aXZlIHNldHMgdGhlIGBkaXNhYmxlZGAgYXR0cmlidXRlIG9uIHRoZSBlbGVtZW50ICh0eXBpY2FsbHkgYSBmb3JtIGNvbnRyb2wsXG4gKiBlLmcuIGBpbnB1dGAsIGBidXR0b25gLCBgc2VsZWN0YCBldGMuKSBpZiB0aGVcbiAqIHtAbGluayBndWlkZS9leHByZXNzaW9uIGV4cHJlc3Npb259IGluc2lkZSBgbmdEaXNhYmxlZGAgZXZhbHVhdGVzIHRvIHRydXRoeS5cbiAqXG4gKiBBIHNwZWNpYWwgZGlyZWN0aXZlIGlzIG5lY2Vzc2FyeSBiZWNhdXNlIHdlIGNhbm5vdCB1c2UgaW50ZXJwb2xhdGlvbiBpbnNpZGUgdGhlIGBkaXNhYmxlZGBcbiAqIGF0dHJpYnV0ZS4gU2VlIHRoZSB7QGxpbmsgZ3VpZGUvaW50ZXJwb2xhdGlvbiBpbnRlcnBvbGF0aW9uIGd1aWRlfSBmb3IgbW9yZSBpbmZvLlxuICpcbiAqIEBleGFtcGxlXG4gICAgPGV4YW1wbGUgbmFtZT1cIm5nLWRpc2FibGVkXCI+XG4gICAgICA8ZmlsZSBuYW1lPVwiaW5kZXguaHRtbFwiPlxuICAgICAgICA8bGFiZWw+Q2xpY2sgbWUgdG8gdG9nZ2xlOiA8aW5wdXQgdHlwZT1cImNoZWNrYm94XCIgbmctbW9kZWw9XCJjaGVja2VkXCI+PC9sYWJlbD48YnIvPlxuICAgICAgICA8YnV0dG9uIG5nLW1vZGVsPVwiYnV0dG9uXCIgbmctZGlzYWJsZWQ9XCJjaGVja2VkXCI+QnV0dG9uPC9idXR0b24+XG4gICAgICA8L2ZpbGU+XG4gICAgICA8ZmlsZSBuYW1lPVwicHJvdHJhY3Rvci5qc1wiIHR5cGU9XCJwcm90cmFjdG9yXCI+XG4gICAgICAgIGl0KCdzaG91bGQgdG9nZ2xlIGJ1dHRvbicsIGZ1bmN0aW9uKCkge1xuICAgICAgICAgIGV4cGVjdChlbGVtZW50KGJ5LmNzcygnYnV0dG9uJykpLmdldEF0dHJpYnV0ZSgnZGlzYWJsZWQnKSkudG9CZUZhbHN5KCk7XG4gICAgICAgICAgZWxlbWVudChieS5tb2RlbCgnY2hlY2tlZCcpKS5jbGljaygpO1xuICAgICAgICAgIGV4cGVjdChlbGVtZW50KGJ5LmNzcygnYnV0dG9uJykpLmdldEF0dHJpYnV0ZSgnZGlzYWJsZWQnKSkudG9CZVRydXRoeSgpO1xuICAgICAgICB9KTtcbiAgICAgIDwvZmlsZT5cbiAgICA8L2V4YW1wbGU+XG4gKlxuICogQGVsZW1lbnQgSU5QVVRcbiAqIEBwYXJhbSB7ZXhwcmVzc2lvbn0gbmdEaXNhYmxlZCBJZiB0aGUge0BsaW5rIGd1aWRlL2V4cHJlc3Npb24gZXhwcmVzc2lvbn0gaXMgdHJ1dGh5LFxuICogICAgIHRoZW4gdGhlIGBkaXNhYmxlZGAgYXR0cmlidXRlIHdpbGwgYmUgc2V0IG9uIHRoZSBlbGVtZW50XG4gKi9cblxuXG4vKipcbiAqIEBuZ2RvYyBkaXJlY3RpdmVcbiAqIEBuYW1lIG5nQ2hlY2tlZFxuICogQHJlc3RyaWN0IEFcbiAqIEBwcmlvcml0eSAxMDBcbiAqXG4gKiBAZGVzY3JpcHRpb25cbiAqIFNldHMgdGhlIGBjaGVja2VkYCBhdHRyaWJ1dGUgb24gdGhlIGVsZW1lbnQsIGlmIHRoZSBleHByZXNzaW9uIGluc2lkZSBgbmdDaGVja2VkYCBpcyB0cnV0aHkuXG4gKlxuICogTm90ZSB0aGF0IHRoaXMgZGlyZWN0aXZlIHNob3VsZCBub3QgYmUgdXNlZCB0b2dldGhlciB3aXRoIHtAbGluayBuZ01vZGVsIGBuZ01vZGVsYH0sXG4gKiBhcyB0aGlzIGNhbiBsZWFkIHRvIHVuZXhwZWN0ZWQgYmVoYXZpb3IuXG4gKlxuICogQSBzcGVjaWFsIGRpcmVjdGl2ZSBpcyBuZWNlc3NhcnkgYmVjYXVzZSB3ZSBjYW5ub3QgdXNlIGludGVycG9sYXRpb24gaW5zaWRlIHRoZSBgY2hlY2tlZGBcbiAqIGF0dHJpYnV0ZS4gU2VlIHRoZSB7QGxpbmsgZ3VpZGUvaW50ZXJwb2xhdGlvbiBpbnRlcnBvbGF0aW9uIGd1aWRlfSBmb3IgbW9yZSBpbmZvLlxuICpcbiAqIEBleGFtcGxlXG4gICAgPGV4YW1wbGUgbmFtZT1cIm5nLWNoZWNrZWRcIj5cbiAgICAgIDxmaWxlIG5hbWU9XCJpbmRleC5odG1sXCI+XG4gICAgICAgIDxsYWJlbD5DaGVjayBtZSB0byBjaGVjayBib3RoOiA8aW5wdXQgdHlwZT1cImNoZWNrYm94XCIgbmctbW9kZWw9XCJtYXN0ZXJcIj48L2xhYmVsPjxici8+XG4gICAgICAgIDxpbnB1dCBpZD1cImNoZWNrU2xhdmVcIiB0eXBlPVwiY2hlY2tib3hcIiBuZy1jaGVja2VkPVwibWFzdGVyXCIgYXJpYS1sYWJlbD1cIlNsYXZlIGlucHV0XCI+XG4gICAgICA8L2ZpbGU+XG4gICAgICA8ZmlsZSBuYW1lPVwicHJvdHJhY3Rvci5qc1wiIHR5cGU9XCJwcm90cmFjdG9yXCI+XG4gICAgICAgIGl0KCdzaG91bGQgY2hlY2sgYm90aCBjaGVja0JveGVzJywgZnVuY3Rpb24oKSB7XG4gICAgICAgICAgZXhwZWN0KGVsZW1lbnQoYnkuaWQoJ2NoZWNrU2xhdmUnKSkuZ2V0QXR0cmlidXRlKCdjaGVja2VkJykpLnRvQmVGYWxzeSgpO1xuICAgICAgICAgIGVsZW1lbnQoYnkubW9kZWwoJ21hc3RlcicpKS5jbGljaygpO1xuICAgICAgICAgIGV4cGVjdChlbGVtZW50KGJ5LmlkKCdjaGVja1NsYXZlJykpLmdldEF0dHJpYnV0ZSgnY2hlY2tlZCcpKS50b0JlVHJ1dGh5KCk7XG4gICAgICAgIH0pO1xuICAgICAgPC9maWxlPlxuICAgIDwvZXhhbXBsZT5cbiAqXG4gKiBAZWxlbWVudCBJTlBVVFxuICogQHBhcmFtIHtleHByZXNzaW9ufSBuZ0NoZWNrZWQgSWYgdGhlIHtAbGluayBndWlkZS9leHByZXNzaW9uIGV4cHJlc3Npb259IGlzIHRydXRoeSxcbiAqICAgICB0aGVuIHRoZSBgY2hlY2tlZGAgYXR0cmlidXRlIHdpbGwgYmUgc2V0IG9uIHRoZSBlbGVtZW50XG4gKi9cblxuXG4vKipcbiAqIEBuZ2RvYyBkaXJlY3RpdmVcbiAqIEBuYW1lIG5nUmVhZG9ubHlcbiAqIEByZXN0cmljdCBBXG4gKiBAcHJpb3JpdHkgMTAwXG4gKlxuICogQGRlc2NyaXB0aW9uXG4gKlxuICogU2V0cyB0aGUgYHJlYWRvbmx5YCBhdHRyaWJ1dGUgb24gdGhlIGVsZW1lbnQsIGlmIHRoZSBleHByZXNzaW9uIGluc2lkZSBgbmdSZWFkb25seWAgaXMgdHJ1dGh5LlxuICogTm90ZSB0aGF0IGByZWFkb25seWAgYXBwbGllcyBvbmx5IHRvIGBpbnB1dGAgZWxlbWVudHMgd2l0aCBzcGVjaWZpYyB0eXBlcy4gW1NlZSB0aGUgaW5wdXQgZG9jcyBvblxuICogTUROXShodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9IVE1ML0VsZW1lbnQvaW5wdXQjYXR0ci1yZWFkb25seSkgZm9yIG1vcmUgaW5mb3JtYXRpb24uXG4gKlxuICogQSBzcGVjaWFsIGRpcmVjdGl2ZSBpcyBuZWNlc3NhcnkgYmVjYXVzZSB3ZSBjYW5ub3QgdXNlIGludGVycG9sYXRpb24gaW5zaWRlIHRoZSBgcmVhZG9ubHlgXG4gKiBhdHRyaWJ1dGUuIFNlZSB0aGUge0BsaW5rIGd1aWRlL2ludGVycG9sYXRpb24gaW50ZXJwb2xhdGlvbiBndWlkZX0gZm9yIG1vcmUgaW5mby5cbiAqXG4gKiBAZXhhbXBsZVxuICAgIDxleGFtcGxlIG5hbWU9XCJuZy1yZWFkb25seVwiPlxuICAgICAgPGZpbGUgbmFtZT1cImluZGV4Lmh0bWxcIj5cbiAgICAgICAgPGxhYmVsPkNoZWNrIG1lIHRvIG1ha2UgdGV4dCByZWFkb25seTogPGlucHV0IHR5cGU9XCJjaGVja2JveFwiIG5nLW1vZGVsPVwiY2hlY2tlZFwiPjwvbGFiZWw+PGJyLz5cbiAgICAgICAgPGlucHV0IHR5cGU9XCJ0ZXh0XCIgbmctcmVhZG9ubHk9XCJjaGVja2VkXCIgdmFsdWU9XCJJJ20gQW5ndWxhclwiIGFyaWEtbGFiZWw9XCJSZWFkb25seSBmaWVsZFwiIC8+XG4gICAgICA8L2ZpbGU+XG4gICAgICA8ZmlsZSBuYW1lPVwicHJvdHJhY3Rvci5qc1wiIHR5cGU9XCJwcm90cmFjdG9yXCI+XG4gICAgICAgIGl0KCdzaG91bGQgdG9nZ2xlIHJlYWRvbmx5IGF0dHInLCBmdW5jdGlvbigpIHtcbiAgICAgICAgICBleHBlY3QoZWxlbWVudChieS5jc3MoJ1t0eXBlPVwidGV4dFwiXScpKS5nZXRBdHRyaWJ1dGUoJ3JlYWRvbmx5JykpLnRvQmVGYWxzeSgpO1xuICAgICAgICAgIGVsZW1lbnQoYnkubW9kZWwoJ2NoZWNrZWQnKSkuY2xpY2soKTtcbiAgICAgICAgICBleHBlY3QoZWxlbWVudChieS5jc3MoJ1t0eXBlPVwidGV4dFwiXScpKS5nZXRBdHRyaWJ1dGUoJ3JlYWRvbmx5JykpLnRvQmVUcnV0aHkoKTtcbiAgICAgICAgfSk7XG4gICAgICA8L2ZpbGU+XG4gICAgPC9leGFtcGxlPlxuICpcbiAqIEBlbGVtZW50IElOUFVUXG4gKiBAcGFyYW0ge2V4cHJlc3Npb259IG5nUmVhZG9ubHkgSWYgdGhlIHtAbGluayBndWlkZS9leHByZXNzaW9uIGV4cHJlc3Npb259IGlzIHRydXRoeSxcbiAqICAgICB0aGVuIHNwZWNpYWwgYXR0cmlidXRlIFwicmVhZG9ubHlcIiB3aWxsIGJlIHNldCBvbiB0aGUgZWxlbWVudFxuICovXG5cblxuLyoqXG4gKiBAbmdkb2MgZGlyZWN0aXZlXG4gKiBAbmFtZSBuZ1NlbGVjdGVkXG4gKiBAcmVzdHJpY3QgQVxuICogQHByaW9yaXR5IDEwMFxuICpcbiAqIEBkZXNjcmlwdGlvblxuICpcbiAqIFNldHMgdGhlIGBzZWxlY3RlZGAgYXR0cmlidXRlIG9uIHRoZSBlbGVtZW50LCBpZiB0aGUgZXhwcmVzc2lvbiBpbnNpZGUgYG5nU2VsZWN0ZWRgIGlzIHRydXRoeS5cbiAqXG4gKiBBIHNwZWNpYWwgZGlyZWN0aXZlIGlzIG5lY2Vzc2FyeSBiZWNhdXNlIHdlIGNhbm5vdCB1c2UgaW50ZXJwb2xhdGlvbiBpbnNpZGUgdGhlIGBzZWxlY3RlZGBcbiAqIGF0dHJpYnV0ZS4gU2VlIHRoZSB7QGxpbmsgZ3VpZGUvaW50ZXJwb2xhdGlvbiBpbnRlcnBvbGF0aW9uIGd1aWRlfSBmb3IgbW9yZSBpbmZvLlxuICpcbiAqIDxkaXYgY2xhc3M9XCJhbGVydCBhbGVydC13YXJuaW5nXCI+XG4gKiAgICoqTm90ZToqKiBgbmdTZWxlY3RlZGAgZG9lcyBub3QgaW50ZXJhY3Qgd2l0aCB0aGUgYHNlbGVjdGAgYW5kIGBuZ01vZGVsYCBkaXJlY3RpdmVzLCBpdCBvbmx5XG4gKiAgIHNldHMgdGhlIGBzZWxlY3RlZGAgYXR0cmlidXRlIG9uIHRoZSBlbGVtZW50LiBJZiB5b3UgYXJlIHVzaW5nIGBuZ01vZGVsYCBvbiB0aGUgc2VsZWN0LCB5b3VcbiAqICAgc2hvdWxkIG5vdCB1c2UgYG5nU2VsZWN0ZWRgIG9uIHRoZSBvcHRpb25zLCBhcyBgbmdNb2RlbGAgd2lsbCBzZXQgdGhlIHNlbGVjdCB2YWx1ZSBhbmRcbiAqICAgc2VsZWN0ZWQgb3B0aW9ucy5cbiAqIDwvZGl2PlxuICpcbiAqIEBleGFtcGxlXG4gICAgPGV4YW1wbGUgbmFtZT1cIm5nLXNlbGVjdGVkXCI+XG4gICAgICA8ZmlsZSBuYW1lPVwiaW5kZXguaHRtbFwiPlxuICAgICAgICA8bGFiZWw+Q2hlY2sgbWUgdG8gc2VsZWN0OiA8aW5wdXQgdHlwZT1cImNoZWNrYm94XCIgbmctbW9kZWw9XCJzZWxlY3RlZFwiPjwvbGFiZWw+PGJyLz5cbiAgICAgICAgPHNlbGVjdCBhcmlhLWxhYmVsPVwibmdTZWxlY3RlZCBkZW1vXCI+XG4gICAgICAgICAgPG9wdGlvbj5IZWxsbyE8L29wdGlvbj5cbiAgICAgICAgICA8b3B0aW9uIGlkPVwiZ3JlZXRcIiBuZy1zZWxlY3RlZD1cInNlbGVjdGVkXCI+R3JlZXRpbmdzITwvb3B0aW9uPlxuICAgICAgICA8L3NlbGVjdD5cbiAgICAgIDwvZmlsZT5cbiAgICAgIDxmaWxlIG5hbWU9XCJwcm90cmFjdG9yLmpzXCIgdHlwZT1cInByb3RyYWN0b3JcIj5cbiAgICAgICAgaXQoJ3Nob3VsZCBzZWxlY3QgR3JlZXRpbmdzIScsIGZ1bmN0aW9uKCkge1xuICAgICAgICAgIGV4cGVjdChlbGVtZW50KGJ5LmlkKCdncmVldCcpKS5nZXRBdHRyaWJ1dGUoJ3NlbGVjdGVkJykpLnRvQmVGYWxzeSgpO1xuICAgICAgICAgIGVsZW1lbnQoYnkubW9kZWwoJ3NlbGVjdGVkJykpLmNsaWNrKCk7XG4gICAgICAgICAgZXhwZWN0KGVsZW1lbnQoYnkuaWQoJ2dyZWV0JykpLmdldEF0dHJpYnV0ZSgnc2VsZWN0ZWQnKSkudG9CZVRydXRoeSgpO1xuICAgICAgICB9KTtcbiAgICAgIDwvZmlsZT5cbiAgICA8L2V4YW1wbGU+XG4gKlxuICogQGVsZW1lbnQgT1BUSU9OXG4gKiBAcGFyYW0ge2V4cHJlc3Npb259IG5nU2VsZWN0ZWQgSWYgdGhlIHtAbGluayBndWlkZS9leHByZXNzaW9uIGV4cHJlc3Npb259IGlzIHRydXRoeSxcbiAqICAgICB0aGVuIHNwZWNpYWwgYXR0cmlidXRlIFwic2VsZWN0ZWRcIiB3aWxsIGJlIHNldCBvbiB0aGUgZWxlbWVudFxuICovXG5cbi8qKlxuICogQG5nZG9jIGRpcmVjdGl2ZVxuICogQG5hbWUgbmdPcGVuXG4gKiBAcmVzdHJpY3QgQVxuICogQHByaW9yaXR5IDEwMFxuICpcbiAqIEBkZXNjcmlwdGlvblxuICpcbiAqIFNldHMgdGhlIGBvcGVuYCBhdHRyaWJ1dGUgb24gdGhlIGVsZW1lbnQsIGlmIHRoZSBleHByZXNzaW9uIGluc2lkZSBgbmdPcGVuYCBpcyB0cnV0aHkuXG4gKlxuICogQSBzcGVjaWFsIGRpcmVjdGl2ZSBpcyBuZWNlc3NhcnkgYmVjYXVzZSB3ZSBjYW5ub3QgdXNlIGludGVycG9sYXRpb24gaW5zaWRlIHRoZSBgb3BlbmBcbiAqIGF0dHJpYnV0ZS4gU2VlIHRoZSB7QGxpbmsgZ3VpZGUvaW50ZXJwb2xhdGlvbiBpbnRlcnBvbGF0aW9uIGd1aWRlfSBmb3IgbW9yZSBpbmZvLlxuICpcbiAqICMjIEEgbm90ZSBhYm91dCBicm93c2VyIGNvbXBhdGliaWxpdHlcbiAqXG4gKiBFZGdlLCBGaXJlZm94LCBhbmQgSW50ZXJuZXQgRXhwbG9yZXIgZG8gbm90IHN1cHBvcnQgdGhlIGBkZXRhaWxzYCBlbGVtZW50LCBpdCBpc1xuICogcmVjb21tZW5kZWQgdG8gdXNlIHtAbGluayBuZy5uZ1Nob3d9IGFuZCB7QGxpbmsgbmcubmdIaWRlfSBpbnN0ZWFkLlxuICpcbiAqIEBleGFtcGxlXG4gICAgIDxleGFtcGxlIG5hbWU9XCJuZy1vcGVuXCI+XG4gICAgICAgPGZpbGUgbmFtZT1cImluZGV4Lmh0bWxcIj5cbiAgICAgICAgIDxsYWJlbD5DaGVjayBtZSBjaGVjayBtdWx0aXBsZTogPGlucHV0IHR5cGU9XCJjaGVja2JveFwiIG5nLW1vZGVsPVwib3BlblwiPjwvbGFiZWw+PGJyLz5cbiAgICAgICAgIDxkZXRhaWxzIGlkPVwiZGV0YWlsc1wiIG5nLW9wZW49XCJvcGVuXCI+XG4gICAgICAgICAgICA8c3VtbWFyeT5TaG93L0hpZGUgbWU8L3N1bW1hcnk+XG4gICAgICAgICA8L2RldGFpbHM+XG4gICAgICAgPC9maWxlPlxuICAgICAgIDxmaWxlIG5hbWU9XCJwcm90cmFjdG9yLmpzXCIgdHlwZT1cInByb3RyYWN0b3JcIj5cbiAgICAgICAgIGl0KCdzaG91bGQgdG9nZ2xlIG9wZW4nLCBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgZXhwZWN0KGVsZW1lbnQoYnkuaWQoJ2RldGFpbHMnKSkuZ2V0QXR0cmlidXRlKCdvcGVuJykpLnRvQmVGYWxzeSgpO1xuICAgICAgICAgICBlbGVtZW50KGJ5Lm1vZGVsKCdvcGVuJykpLmNsaWNrKCk7XG4gICAgICAgICAgIGV4cGVjdChlbGVtZW50KGJ5LmlkKCdkZXRhaWxzJykpLmdldEF0dHJpYnV0ZSgnb3BlbicpKS50b0JlVHJ1dGh5KCk7XG4gICAgICAgICB9KTtcbiAgICAgICA8L2ZpbGU+XG4gICAgIDwvZXhhbXBsZT5cbiAqXG4gKiBAZWxlbWVudCBERVRBSUxTXG4gKiBAcGFyYW0ge2V4cHJlc3Npb259IG5nT3BlbiBJZiB0aGUge0BsaW5rIGd1aWRlL2V4cHJlc3Npb24gZXhwcmVzc2lvbn0gaXMgdHJ1dGh5LFxuICogICAgIHRoZW4gc3BlY2lhbCBhdHRyaWJ1dGUgXCJvcGVuXCIgd2lsbCBiZSBzZXQgb24gdGhlIGVsZW1lbnRcbiAqL1xuXG52YXIgbmdBdHRyaWJ1dGVBbGlhc0RpcmVjdGl2ZXMgPSB7fTtcblxuLy8gYm9vbGVhbiBhdHRycyBhcmUgZXZhbHVhdGVkXG5mb3JFYWNoKEJPT0xFQU5fQVRUUiwgZnVuY3Rpb24ocHJvcE5hbWUsIGF0dHJOYW1lKSB7XG4gIC8vIGJpbmRpbmcgdG8gbXVsdGlwbGUgaXMgbm90IHN1cHBvcnRlZFxuICBpZiAocHJvcE5hbWUgPT09ICdtdWx0aXBsZScpIHJldHVybjtcblxuICBmdW5jdGlvbiBkZWZhdWx0TGlua0ZuKHNjb3BlLCBlbGVtZW50LCBhdHRyKSB7XG4gICAgc2NvcGUuJHdhdGNoKGF0dHJbbm9ybWFsaXplZF0sIGZ1bmN0aW9uIG5nQm9vbGVhbkF0dHJXYXRjaEFjdGlvbih2YWx1ZSkge1xuICAgICAgYXR0ci4kc2V0KGF0dHJOYW1lLCAhIXZhbHVlKTtcbiAgICB9KTtcbiAgfVxuXG4gIHZhciBub3JtYWxpemVkID0gZGlyZWN0aXZlTm9ybWFsaXplKCduZy0nICsgYXR0ck5hbWUpO1xuICB2YXIgbGlua0ZuID0gZGVmYXVsdExpbmtGbjtcblxuICBpZiAocHJvcE5hbWUgPT09ICdjaGVja2VkJykge1xuICAgIGxpbmtGbiA9IGZ1bmN0aW9uKHNjb3BlLCBlbGVtZW50LCBhdHRyKSB7XG4gICAgICAvLyBlbnN1cmluZyBuZ0NoZWNrZWQgZG9lc24ndCBpbnRlcmZlcmUgd2l0aCBuZ01vZGVsIHdoZW4gYm90aCBhcmUgc2V0IG9uIHRoZSBzYW1lIGlucHV0XG4gICAgICBpZiAoYXR0ci5uZ01vZGVsICE9PSBhdHRyW25vcm1hbGl6ZWRdKSB7XG4gICAgICAgIGRlZmF1bHRMaW5rRm4oc2NvcGUsIGVsZW1lbnQsIGF0dHIpO1xuICAgICAgfVxuICAgIH07XG4gIH1cblxuICBuZ0F0dHJpYnV0ZUFsaWFzRGlyZWN0aXZlc1tub3JtYWxpemVkXSA9IGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiB7XG4gICAgICByZXN0cmljdDogJ0EnLFxuICAgICAgcHJpb3JpdHk6IDEwMCxcbiAgICAgIGxpbms6IGxpbmtGblxuICAgIH07XG4gIH07XG59KTtcblxuLy8gYWxpYXNlZCBpbnB1dCBhdHRycyBhcmUgZXZhbHVhdGVkXG5mb3JFYWNoKEFMSUFTRURfQVRUUiwgZnVuY3Rpb24oaHRtbEF0dHIsIG5nQXR0cikge1xuICBuZ0F0dHJpYnV0ZUFsaWFzRGlyZWN0aXZlc1tuZ0F0dHJdID0gZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIHByaW9yaXR5OiAxMDAsXG4gICAgICBsaW5rOiBmdW5jdGlvbihzY29wZSwgZWxlbWVudCwgYXR0cikge1xuICAgICAgICAvL3NwZWNpYWwgY2FzZSBuZ1BhdHRlcm4gd2hlbiBhIGxpdGVyYWwgcmVndWxhciBleHByZXNzaW9uIHZhbHVlXG4gICAgICAgIC8vaXMgdXNlZCBhcyB0aGUgZXhwcmVzc2lvbiAodGhpcyB3YXkgd2UgZG9uJ3QgaGF2ZSB0byB3YXRjaCBhbnl0aGluZykuXG4gICAgICAgIGlmIChuZ0F0dHIgPT09ICduZ1BhdHRlcm4nICYmIGF0dHIubmdQYXR0ZXJuLmNoYXJBdCgwKSA9PT0gJy8nKSB7XG4gICAgICAgICAgdmFyIG1hdGNoID0gYXR0ci5uZ1BhdHRlcm4ubWF0Y2goUkVHRVhfU1RSSU5HX1JFR0VYUCk7XG4gICAgICAgICAgaWYgKG1hdGNoKSB7XG4gICAgICAgICAgICBhdHRyLiRzZXQoJ25nUGF0dGVybicsIG5ldyBSZWdFeHAobWF0Y2hbMV0sIG1hdGNoWzJdKSk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgc2NvcGUuJHdhdGNoKGF0dHJbbmdBdHRyXSwgZnVuY3Rpb24gbmdBdHRyQWxpYXNXYXRjaEFjdGlvbih2YWx1ZSkge1xuICAgICAgICAgIGF0dHIuJHNldChuZ0F0dHIsIHZhbHVlKTtcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfTtcbiAgfTtcbn0pO1xuXG4vLyBuZy1zcmMsIG5nLXNyY3NldCwgbmctaHJlZiBhcmUgaW50ZXJwb2xhdGVkXG5mb3JFYWNoKFsnc3JjJywgJ3NyY3NldCcsICdocmVmJ10sIGZ1bmN0aW9uKGF0dHJOYW1lKSB7XG4gIHZhciBub3JtYWxpemVkID0gZGlyZWN0aXZlTm9ybWFsaXplKCduZy0nICsgYXR0ck5hbWUpO1xuICBuZ0F0dHJpYnV0ZUFsaWFzRGlyZWN0aXZlc1tub3JtYWxpemVkXSA9IGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiB7XG4gICAgICBwcmlvcml0eTogOTksIC8vIGl0IG5lZWRzIHRvIHJ1biBhZnRlciB0aGUgYXR0cmlidXRlcyBhcmUgaW50ZXJwb2xhdGVkXG4gICAgICBsaW5rOiBmdW5jdGlvbihzY29wZSwgZWxlbWVudCwgYXR0cikge1xuICAgICAgICB2YXIgcHJvcE5hbWUgPSBhdHRyTmFtZSxcbiAgICAgICAgICAgIG5hbWUgPSBhdHRyTmFtZTtcblxuICAgICAgICBpZiAoYXR0ck5hbWUgPT09ICdocmVmJyAmJlxuICAgICAgICAgICAgdG9TdHJpbmcuY2FsbChlbGVtZW50LnByb3AoJ2hyZWYnKSkgPT09ICdbb2JqZWN0IFNWR0FuaW1hdGVkU3RyaW5nXScpIHtcbiAgICAgICAgICBuYW1lID0gJ3hsaW5rSHJlZic7XG4gICAgICAgICAgYXR0ci4kYXR0cltuYW1lXSA9ICd4bGluazpocmVmJztcbiAgICAgICAgICBwcm9wTmFtZSA9IG51bGw7XG4gICAgICAgIH1cblxuICAgICAgICBhdHRyLiRvYnNlcnZlKG5vcm1hbGl6ZWQsIGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgICAgICAgaWYgKCF2YWx1ZSkge1xuICAgICAgICAgICAgaWYgKGF0dHJOYW1lID09PSAnaHJlZicpIHtcbiAgICAgICAgICAgICAgYXR0ci4kc2V0KG5hbWUsIG51bGwpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGF0dHIuJHNldChuYW1lLCB2YWx1ZSk7XG5cbiAgICAgICAgICAvLyBTdXBwb3J0OiBJRSA5LTExIG9ubHlcbiAgICAgICAgICAvLyBPbiBJRSwgaWYgXCJuZzpzcmNcIiBkaXJlY3RpdmUgZGVjbGFyYXRpb24gaXMgdXNlZCBhbmQgXCJzcmNcIiBhdHRyaWJ1dGUgZG9lc24ndCBleGlzdFxuICAgICAgICAgIC8vIHRoZW4gY2FsbGluZyBlbGVtZW50LnNldEF0dHJpYnV0ZSgnc3JjJywgJ2ZvbycpIGRvZXNuJ3QgZG8gYW55dGhpbmcsIHNvIHdlIG5lZWRcbiAgICAgICAgICAvLyB0byBzZXQgdGhlIHByb3BlcnR5IGFzIHdlbGwgdG8gYWNoaWV2ZSB0aGUgZGVzaXJlZCBlZmZlY3QuXG4gICAgICAgICAgLy8gV2UgdXNlIGF0dHJbYXR0ck5hbWVdIHZhbHVlIHNpbmNlICRzZXQgY2FuIHNhbml0aXplIHRoZSB1cmwuXG4gICAgICAgICAgaWYgKG1zaWUgJiYgcHJvcE5hbWUpIGVsZW1lbnQucHJvcChwcm9wTmFtZSwgYXR0cltuYW1lXSk7XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH07XG4gIH07XG59KTtcblxuLyogZ2xvYmFsIC1udWxsRm9ybUN0cmwsIC1QRU5ESU5HX0NMQVNTLCAtU1VCTUlUVEVEX0NMQVNTXG4gKi9cbnZhciBudWxsRm9ybUN0cmwgPSB7XG4gICRhZGRDb250cm9sOiBub29wLFxuICAkJHJlbmFtZUNvbnRyb2w6IG51bGxGb3JtUmVuYW1lQ29udHJvbCxcbiAgJHJlbW92ZUNvbnRyb2w6IG5vb3AsXG4gICRzZXRWYWxpZGl0eTogbm9vcCxcbiAgJHNldERpcnR5OiBub29wLFxuICAkc2V0UHJpc3RpbmU6IG5vb3AsXG4gICRzZXRTdWJtaXR0ZWQ6IG5vb3Bcbn0sXG5QRU5ESU5HX0NMQVNTID0gJ25nLXBlbmRpbmcnLFxuU1VCTUlUVEVEX0NMQVNTID0gJ25nLXN1Ym1pdHRlZCc7XG5cbmZ1bmN0aW9uIG51bGxGb3JtUmVuYW1lQ29udHJvbChjb250cm9sLCBuYW1lKSB7XG4gIGNvbnRyb2wuJG5hbWUgPSBuYW1lO1xufVxuXG4vKipcbiAqIEBuZ2RvYyB0eXBlXG4gKiBAbmFtZSBmb3JtLkZvcm1Db250cm9sbGVyXG4gKlxuICogQHByb3BlcnR5IHtib29sZWFufSAkcHJpc3RpbmUgVHJ1ZSBpZiB1c2VyIGhhcyBub3QgaW50ZXJhY3RlZCB3aXRoIHRoZSBmb3JtIHlldC5cbiAqIEBwcm9wZXJ0eSB7Ym9vbGVhbn0gJGRpcnR5IFRydWUgaWYgdXNlciBoYXMgYWxyZWFkeSBpbnRlcmFjdGVkIHdpdGggdGhlIGZvcm0uXG4gKiBAcHJvcGVydHkge2Jvb2xlYW59ICR2YWxpZCBUcnVlIGlmIGFsbCBvZiB0aGUgY29udGFpbmluZyBmb3JtcyBhbmQgY29udHJvbHMgYXJlIHZhbGlkLlxuICogQHByb3BlcnR5IHtib29sZWFufSAkaW52YWxpZCBUcnVlIGlmIGF0IGxlYXN0IG9uZSBjb250YWluaW5nIGNvbnRyb2wgb3IgZm9ybSBpcyBpbnZhbGlkLlxuICogQHByb3BlcnR5IHtib29sZWFufSAkcGVuZGluZyBUcnVlIGlmIGF0IGxlYXN0IG9uZSBjb250YWluaW5nIGNvbnRyb2wgb3IgZm9ybSBpcyBwZW5kaW5nLlxuICogQHByb3BlcnR5IHtib29sZWFufSAkc3VibWl0dGVkIFRydWUgaWYgdXNlciBoYXMgc3VibWl0dGVkIHRoZSBmb3JtIGV2ZW4gaWYgaXRzIGludmFsaWQuXG4gKlxuICogQHByb3BlcnR5IHtPYmplY3R9ICRlcnJvciBJcyBhbiBvYmplY3QgaGFzaCwgY29udGFpbmluZyByZWZlcmVuY2VzIHRvIGNvbnRyb2xzIG9yXG4gKiAgZm9ybXMgd2l0aCBmYWlsaW5nIHZhbGlkYXRvcnMsIHdoZXJlOlxuICpcbiAqICAtIGtleXMgYXJlIHZhbGlkYXRpb24gdG9rZW5zIChlcnJvciBuYW1lcyksXG4gKiAgLSB2YWx1ZXMgYXJlIGFycmF5cyBvZiBjb250cm9scyBvciBmb3JtcyB0aGF0IGhhdmUgYSBmYWlsaW5nIHZhbGlkYXRvciBmb3IgZ2l2ZW4gZXJyb3IgbmFtZS5cbiAqXG4gKiAgQnVpbHQtaW4gdmFsaWRhdGlvbiB0b2tlbnM6XG4gKlxuICogIC0gYGVtYWlsYFxuICogIC0gYG1heGBcbiAqICAtIGBtYXhsZW5ndGhgXG4gKiAgLSBgbWluYFxuICogIC0gYG1pbmxlbmd0aGBcbiAqICAtIGBudW1iZXJgXG4gKiAgLSBgcGF0dGVybmBcbiAqICAtIGByZXF1aXJlZGBcbiAqICAtIGB1cmxgXG4gKiAgLSBgZGF0ZWBcbiAqICAtIGBkYXRldGltZWxvY2FsYFxuICogIC0gYHRpbWVgXG4gKiAgLSBgd2Vla2BcbiAqICAtIGBtb250aGBcbiAqXG4gKiBAZGVzY3JpcHRpb25cbiAqIGBGb3JtQ29udHJvbGxlcmAga2VlcHMgdHJhY2sgb2YgYWxsIGl0cyBjb250cm9scyBhbmQgbmVzdGVkIGZvcm1zIGFzIHdlbGwgYXMgdGhlIHN0YXRlIG9mIHRoZW0sXG4gKiBzdWNoIGFzIGJlaW5nIHZhbGlkL2ludmFsaWQgb3IgZGlydHkvcHJpc3RpbmUuXG4gKlxuICogRWFjaCB7QGxpbmsgbmcuZGlyZWN0aXZlOmZvcm0gZm9ybX0gZGlyZWN0aXZlIGNyZWF0ZXMgYW4gaW5zdGFuY2VcbiAqIG9mIGBGb3JtQ29udHJvbGxlcmAuXG4gKlxuICovXG4vL2Fza3MgZm9yICRzY29wZSB0byBmb29sIHRoZSBCQyBjb250cm9sbGVyIG1vZHVsZVxuRm9ybUNvbnRyb2xsZXIuJGluamVjdCA9IFsnJGVsZW1lbnQnLCAnJGF0dHJzJywgJyRzY29wZScsICckYW5pbWF0ZScsICckaW50ZXJwb2xhdGUnXTtcbmZ1bmN0aW9uIEZvcm1Db250cm9sbGVyKCRlbGVtZW50LCAkYXR0cnMsICRzY29wZSwgJGFuaW1hdGUsICRpbnRlcnBvbGF0ZSkge1xuICB0aGlzLiQkY29udHJvbHMgPSBbXTtcblxuICAvLyBpbml0IHN0YXRlXG4gIHRoaXMuJGVycm9yID0ge307XG4gIHRoaXMuJCRzdWNjZXNzID0ge307XG4gIHRoaXMuJHBlbmRpbmcgPSB1bmRlZmluZWQ7XG4gIHRoaXMuJG5hbWUgPSAkaW50ZXJwb2xhdGUoJGF0dHJzLm5hbWUgfHwgJGF0dHJzLm5nRm9ybSB8fCAnJykoJHNjb3BlKTtcbiAgdGhpcy4kZGlydHkgPSBmYWxzZTtcbiAgdGhpcy4kcHJpc3RpbmUgPSB0cnVlO1xuICB0aGlzLiR2YWxpZCA9IHRydWU7XG4gIHRoaXMuJGludmFsaWQgPSBmYWxzZTtcbiAgdGhpcy4kc3VibWl0dGVkID0gZmFsc2U7XG4gIHRoaXMuJCRwYXJlbnRGb3JtID0gbnVsbEZvcm1DdHJsO1xuXG4gIHRoaXMuJCRlbGVtZW50ID0gJGVsZW1lbnQ7XG4gIHRoaXMuJCRhbmltYXRlID0gJGFuaW1hdGU7XG5cbiAgc2V0dXBWYWxpZGl0eSh0aGlzKTtcbn1cblxuRm9ybUNvbnRyb2xsZXIucHJvdG90eXBlID0ge1xuICAvKipcbiAgICogQG5nZG9jIG1ldGhvZFxuICAgKiBAbmFtZSBmb3JtLkZvcm1Db250cm9sbGVyIyRyb2xsYmFja1ZpZXdWYWx1ZVxuICAgKlxuICAgKiBAZGVzY3JpcHRpb25cbiAgICogUm9sbGJhY2sgYWxsIGZvcm0gY29udHJvbHMgcGVuZGluZyB1cGRhdGVzIHRvIHRoZSBgJG1vZGVsVmFsdWVgLlxuICAgKlxuICAgKiBVcGRhdGVzIG1heSBiZSBwZW5kaW5nIGJ5IGEgZGVib3VuY2VkIGV2ZW50IG9yIGJlY2F1c2UgdGhlIGlucHV0IGlzIHdhaXRpbmcgZm9yIGEgc29tZSBmdXR1cmVcbiAgICogZXZlbnQgZGVmaW5lZCBpbiBgbmctbW9kZWwtb3B0aW9uc2AuIFRoaXMgbWV0aG9kIGlzIHR5cGljYWxseSBuZWVkZWQgYnkgdGhlIHJlc2V0IGJ1dHRvbiBvZlxuICAgKiBhIGZvcm0gdGhhdCB1c2VzIGBuZy1tb2RlbC1vcHRpb25zYCB0byBwZW5kIHVwZGF0ZXMuXG4gICAqL1xuICAkcm9sbGJhY2tWaWV3VmFsdWU6IGZ1bmN0aW9uKCkge1xuICAgIGZvckVhY2godGhpcy4kJGNvbnRyb2xzLCBmdW5jdGlvbihjb250cm9sKSB7XG4gICAgICBjb250cm9sLiRyb2xsYmFja1ZpZXdWYWx1ZSgpO1xuICAgIH0pO1xuICB9LFxuXG4gIC8qKlxuICAgKiBAbmdkb2MgbWV0aG9kXG4gICAqIEBuYW1lIGZvcm0uRm9ybUNvbnRyb2xsZXIjJGNvbW1pdFZpZXdWYWx1ZVxuICAgKlxuICAgKiBAZGVzY3JpcHRpb25cbiAgICogQ29tbWl0IGFsbCBmb3JtIGNvbnRyb2xzIHBlbmRpbmcgdXBkYXRlcyB0byB0aGUgYCRtb2RlbFZhbHVlYC5cbiAgICpcbiAgICogVXBkYXRlcyBtYXkgYmUgcGVuZGluZyBieSBhIGRlYm91bmNlZCBldmVudCBvciBiZWNhdXNlIHRoZSBpbnB1dCBpcyB3YWl0aW5nIGZvciBhIHNvbWUgZnV0dXJlXG4gICAqIGV2ZW50IGRlZmluZWQgaW4gYG5nLW1vZGVsLW9wdGlvbnNgLiBUaGlzIG1ldGhvZCBpcyByYXJlbHkgbmVlZGVkIGFzIGBOZ01vZGVsQ29udHJvbGxlcmBcbiAgICogdXN1YWxseSBoYW5kbGVzIGNhbGxpbmcgdGhpcyBpbiByZXNwb25zZSB0byBpbnB1dCBldmVudHMuXG4gICAqL1xuICAkY29tbWl0Vmlld1ZhbHVlOiBmdW5jdGlvbigpIHtcbiAgICBmb3JFYWNoKHRoaXMuJCRjb250cm9scywgZnVuY3Rpb24oY29udHJvbCkge1xuICAgICAgY29udHJvbC4kY29tbWl0Vmlld1ZhbHVlKCk7XG4gICAgfSk7XG4gIH0sXG5cbiAgLyoqXG4gICAqIEBuZ2RvYyBtZXRob2RcbiAgICogQG5hbWUgZm9ybS5Gb3JtQ29udHJvbGxlciMkYWRkQ29udHJvbFxuICAgKiBAcGFyYW0ge29iamVjdH0gY29udHJvbCBjb250cm9sIG9iamVjdCwgZWl0aGVyIGEge0BsaW5rIGZvcm0uRm9ybUNvbnRyb2xsZXJ9IG9yIGFuXG4gICAqIHtAbGluayBuZ01vZGVsLk5nTW9kZWxDb250cm9sbGVyfVxuICAgKlxuICAgKiBAZGVzY3JpcHRpb25cbiAgICogUmVnaXN0ZXIgYSBjb250cm9sIHdpdGggdGhlIGZvcm0uIElucHV0IGVsZW1lbnRzIHVzaW5nIG5nTW9kZWxDb250cm9sbGVyIGRvIHRoaXMgYXV0b21hdGljYWxseVxuICAgKiB3aGVuIHRoZXkgYXJlIGxpbmtlZC5cbiAgICpcbiAgICogTm90ZSB0aGF0IHRoZSBjdXJyZW50IHN0YXRlIG9mIHRoZSBjb250cm9sIHdpbGwgbm90IGJlIHJlZmxlY3RlZCBvbiB0aGUgbmV3IHBhcmVudCBmb3JtLiBUaGlzXG4gICAqIGlzIG5vdCBhbiBpc3N1ZSB3aXRoIG5vcm1hbCB1c2UsIGFzIGZyZXNobHkgY29tcGlsZWQgYW5kIGxpbmtlZCBjb250cm9scyBhcmUgaW4gYSBgJHByaXN0aW5lYFxuICAgKiBzdGF0ZS5cbiAgICpcbiAgICogSG93ZXZlciwgaWYgdGhlIG1ldGhvZCBpcyB1c2VkIHByb2dyYW1tYXRpY2FsbHksIGZvciBleGFtcGxlIGJ5IGFkZGluZyBkeW5hbWljYWxseSBjcmVhdGVkIGNvbnRyb2xzLFxuICAgKiBvciBjb250cm9scyB0aGF0IGhhdmUgYmVlbiBwcmV2aW91c2x5IHJlbW92ZWQgd2l0aG91dCBkZXN0cm95aW5nIHRoZWlyIGNvcnJlc3BvbmRpbmcgRE9NIGVsZW1lbnQsXG4gICAqIGl0J3MgdGhlIGRldmVsb3BlcnMgcmVzcG9uc2liaWxpdHkgdG8gbWFrZSBzdXJlIHRoZSBjdXJyZW50IHN0YXRlIHByb3BhZ2F0ZXMgdG8gdGhlIHBhcmVudCBmb3JtLlxuICAgKlxuICAgKiBGb3IgZXhhbXBsZSwgaWYgYW4gaW5wdXQgY29udHJvbCBpcyBhZGRlZCB0aGF0IGlzIGFscmVhZHkgYCRkaXJ0eWAgYW5kIGhhcyBgJGVycm9yYCBwcm9wZXJ0aWVzLFxuICAgKiBjYWxsaW5nIGAkc2V0RGlydHkoKWAgYW5kIGAkdmFsaWRhdGUoKWAgYWZ0ZXJ3YXJkcyB3aWxsIHByb3BhZ2F0ZSB0aGUgc3RhdGUgdG8gdGhlIHBhcmVudCBmb3JtLlxuICAgKi9cbiAgJGFkZENvbnRyb2w6IGZ1bmN0aW9uKGNvbnRyb2wpIHtcbiAgICAvLyBCcmVha2luZyBjaGFuZ2UgLSBiZWZvcmUsIGlucHV0cyB3aG9zZSBuYW1lIHdhcyBcImhhc093blByb3BlcnR5XCIgd2VyZSBxdWlldGx5IGlnbm9yZWRcbiAgICAvLyBhbmQgbm90IGFkZGVkIHRvIHRoZSBzY29wZS4gIE5vdyB3ZSB0aHJvdyBhbiBlcnJvci5cbiAgICBhc3NlcnROb3RIYXNPd25Qcm9wZXJ0eShjb250cm9sLiRuYW1lLCAnaW5wdXQnKTtcbiAgICB0aGlzLiQkY29udHJvbHMucHVzaChjb250cm9sKTtcblxuICAgIGlmIChjb250cm9sLiRuYW1lKSB7XG4gICAgICB0aGlzW2NvbnRyb2wuJG5hbWVdID0gY29udHJvbDtcbiAgICB9XG5cbiAgICBjb250cm9sLiQkcGFyZW50Rm9ybSA9IHRoaXM7XG4gIH0sXG5cbiAgLy8gUHJpdmF0ZSBBUEk6IHJlbmFtZSBhIGZvcm0gY29udHJvbFxuICAkJHJlbmFtZUNvbnRyb2w6IGZ1bmN0aW9uKGNvbnRyb2wsIG5ld05hbWUpIHtcbiAgICB2YXIgb2xkTmFtZSA9IGNvbnRyb2wuJG5hbWU7XG5cbiAgICBpZiAodGhpc1tvbGROYW1lXSA9PT0gY29udHJvbCkge1xuICAgICAgZGVsZXRlIHRoaXNbb2xkTmFtZV07XG4gICAgfVxuICAgIHRoaXNbbmV3TmFtZV0gPSBjb250cm9sO1xuICAgIGNvbnRyb2wuJG5hbWUgPSBuZXdOYW1lO1xuICB9LFxuXG4gIC8qKlxuICAgKiBAbmdkb2MgbWV0aG9kXG4gICAqIEBuYW1lIGZvcm0uRm9ybUNvbnRyb2xsZXIjJHJlbW92ZUNvbnRyb2xcbiAgICogQHBhcmFtIHtvYmplY3R9IGNvbnRyb2wgY29udHJvbCBvYmplY3QsIGVpdGhlciBhIHtAbGluayBmb3JtLkZvcm1Db250cm9sbGVyfSBvciBhblxuICAgKiB7QGxpbmsgbmdNb2RlbC5OZ01vZGVsQ29udHJvbGxlcn1cbiAgICpcbiAgICogQGRlc2NyaXB0aW9uXG4gICAqIERlcmVnaXN0ZXIgYSBjb250cm9sIGZyb20gdGhlIGZvcm0uXG4gICAqXG4gICAqIElucHV0IGVsZW1lbnRzIHVzaW5nIG5nTW9kZWxDb250cm9sbGVyIGRvIHRoaXMgYXV0b21hdGljYWxseSB3aGVuIHRoZXkgYXJlIGRlc3Ryb3llZC5cbiAgICpcbiAgICogTm90ZSB0aGF0IG9ubHkgdGhlIHJlbW92ZWQgY29udHJvbCdzIHZhbGlkYXRpb24gc3RhdGUgKGAkZXJyb3JzYGV0Yy4pIHdpbGwgYmUgcmVtb3ZlZCBmcm9tIHRoZVxuICAgKiBmb3JtLiBgJGRpcnR5YCwgYCRzdWJtaXR0ZWRgIHN0YXRlcyB3aWxsIG5vdCBiZSBjaGFuZ2VkLCBiZWNhdXNlIHRoZSBleHBlY3RlZCBiZWhhdmlvciBjYW4gYmVcbiAgICogZGlmZmVyZW50IGZyb20gY2FzZSB0byBjYXNlLiBGb3IgZXhhbXBsZSwgcmVtb3ZpbmcgdGhlIG9ubHkgYCRkaXJ0eWAgY29udHJvbCBmcm9tIGEgZm9ybSBtYXkgb3JcbiAgICogbWF5IG5vdCBtZWFuIHRoYXQgdGhlIGZvcm0gaXMgc3RpbGwgYCRkaXJ0eWAuXG4gICAqL1xuICAkcmVtb3ZlQ29udHJvbDogZnVuY3Rpb24oY29udHJvbCkge1xuICAgIGlmIChjb250cm9sLiRuYW1lICYmIHRoaXNbY29udHJvbC4kbmFtZV0gPT09IGNvbnRyb2wpIHtcbiAgICAgIGRlbGV0ZSB0aGlzW2NvbnRyb2wuJG5hbWVdO1xuICAgIH1cbiAgICBmb3JFYWNoKHRoaXMuJHBlbmRpbmcsIGZ1bmN0aW9uKHZhbHVlLCBuYW1lKSB7XG4gICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8taW52YWxpZC10aGlzXG4gICAgICB0aGlzLiRzZXRWYWxpZGl0eShuYW1lLCBudWxsLCBjb250cm9sKTtcbiAgICB9LCB0aGlzKTtcbiAgICBmb3JFYWNoKHRoaXMuJGVycm9yLCBmdW5jdGlvbih2YWx1ZSwgbmFtZSkge1xuICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLWludmFsaWQtdGhpc1xuICAgICAgdGhpcy4kc2V0VmFsaWRpdHkobmFtZSwgbnVsbCwgY29udHJvbCk7XG4gICAgfSwgdGhpcyk7XG4gICAgZm9yRWFjaCh0aGlzLiQkc3VjY2VzcywgZnVuY3Rpb24odmFsdWUsIG5hbWUpIHtcbiAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1pbnZhbGlkLXRoaXNcbiAgICAgIHRoaXMuJHNldFZhbGlkaXR5KG5hbWUsIG51bGwsIGNvbnRyb2wpO1xuICAgIH0sIHRoaXMpO1xuXG4gICAgYXJyYXlSZW1vdmUodGhpcy4kJGNvbnRyb2xzLCBjb250cm9sKTtcbiAgICBjb250cm9sLiQkcGFyZW50Rm9ybSA9IG51bGxGb3JtQ3RybDtcbiAgfSxcblxuICAvKipcbiAgICogQG5nZG9jIG1ldGhvZFxuICAgKiBAbmFtZSBmb3JtLkZvcm1Db250cm9sbGVyIyRzZXREaXJ0eVxuICAgKlxuICAgKiBAZGVzY3JpcHRpb25cbiAgICogU2V0cyB0aGUgZm9ybSB0byBhIGRpcnR5IHN0YXRlLlxuICAgKlxuICAgKiBUaGlzIG1ldGhvZCBjYW4gYmUgY2FsbGVkIHRvIGFkZCB0aGUgJ25nLWRpcnR5JyBjbGFzcyBhbmQgc2V0IHRoZSBmb3JtIHRvIGEgZGlydHlcbiAgICogc3RhdGUgKG5nLWRpcnR5IGNsYXNzKS4gVGhpcyBtZXRob2Qgd2lsbCBhbHNvIHByb3BhZ2F0ZSB0byBwYXJlbnQgZm9ybXMuXG4gICAqL1xuICAkc2V0RGlydHk6IGZ1bmN0aW9uKCkge1xuICAgIHRoaXMuJCRhbmltYXRlLnJlbW92ZUNsYXNzKHRoaXMuJCRlbGVtZW50LCBQUklTVElORV9DTEFTUyk7XG4gICAgdGhpcy4kJGFuaW1hdGUuYWRkQ2xhc3ModGhpcy4kJGVsZW1lbnQsIERJUlRZX0NMQVNTKTtcbiAgICB0aGlzLiRkaXJ0eSA9IHRydWU7XG4gICAgdGhpcy4kcHJpc3RpbmUgPSBmYWxzZTtcbiAgICB0aGlzLiQkcGFyZW50Rm9ybS4kc2V0RGlydHkoKTtcbiAgfSxcblxuICAvKipcbiAgICogQG5nZG9jIG1ldGhvZFxuICAgKiBAbmFtZSBmb3JtLkZvcm1Db250cm9sbGVyIyRzZXRQcmlzdGluZVxuICAgKlxuICAgKiBAZGVzY3JpcHRpb25cbiAgICogU2V0cyB0aGUgZm9ybSB0byBpdHMgcHJpc3RpbmUgc3RhdGUuXG4gICAqXG4gICAqIFRoaXMgbWV0aG9kIHNldHMgdGhlIGZvcm0ncyBgJHByaXN0aW5lYCBzdGF0ZSB0byB0cnVlLCB0aGUgYCRkaXJ0eWAgc3RhdGUgdG8gZmFsc2UsIHJlbW92ZXNcbiAgICogdGhlIGBuZy1kaXJ0eWAgY2xhc3MgYW5kIGFkZHMgdGhlIGBuZy1wcmlzdGluZWAgY2xhc3MuIEFkZGl0aW9uYWxseSwgaXQgc2V0cyB0aGUgYCRzdWJtaXR0ZWRgXG4gICAqIHN0YXRlIHRvIGZhbHNlLlxuICAgKlxuICAgKiBUaGlzIG1ldGhvZCB3aWxsIGFsc28gcHJvcGFnYXRlIHRvIGFsbCB0aGUgY29udHJvbHMgY29udGFpbmVkIGluIHRoaXMgZm9ybS5cbiAgICpcbiAgICogU2V0dGluZyBhIGZvcm0gYmFjayB0byBhIHByaXN0aW5lIHN0YXRlIGlzIG9mdGVuIHVzZWZ1bCB3aGVuIHdlIHdhbnQgdG8gJ3JldXNlJyBhIGZvcm0gYWZ0ZXJcbiAgICogc2F2aW5nIG9yIHJlc2V0dGluZyBpdC5cbiAgICovXG4gICRzZXRQcmlzdGluZTogZnVuY3Rpb24oKSB7XG4gICAgdGhpcy4kJGFuaW1hdGUuc2V0Q2xhc3ModGhpcy4kJGVsZW1lbnQsIFBSSVNUSU5FX0NMQVNTLCBESVJUWV9DTEFTUyArICcgJyArIFNVQk1JVFRFRF9DTEFTUyk7XG4gICAgdGhpcy4kZGlydHkgPSBmYWxzZTtcbiAgICB0aGlzLiRwcmlzdGluZSA9IHRydWU7XG4gICAgdGhpcy4kc3VibWl0dGVkID0gZmFsc2U7XG4gICAgZm9yRWFjaCh0aGlzLiQkY29udHJvbHMsIGZ1bmN0aW9uKGNvbnRyb2wpIHtcbiAgICAgIGNvbnRyb2wuJHNldFByaXN0aW5lKCk7XG4gICAgfSk7XG4gIH0sXG5cbiAgLyoqXG4gICAqIEBuZ2RvYyBtZXRob2RcbiAgICogQG5hbWUgZm9ybS5Gb3JtQ29udHJvbGxlciMkc2V0VW50b3VjaGVkXG4gICAqXG4gICAqIEBkZXNjcmlwdGlvblxuICAgKiBTZXRzIHRoZSBmb3JtIHRvIGl0cyB1bnRvdWNoZWQgc3RhdGUuXG4gICAqXG4gICAqIFRoaXMgbWV0aG9kIGNhbiBiZSBjYWxsZWQgdG8gcmVtb3ZlIHRoZSAnbmctdG91Y2hlZCcgY2xhc3MgYW5kIHNldCB0aGUgZm9ybSBjb250cm9scyB0byB0aGVpclxuICAgKiB1bnRvdWNoZWQgc3RhdGUgKG5nLXVudG91Y2hlZCBjbGFzcykuXG4gICAqXG4gICAqIFNldHRpbmcgYSBmb3JtIGNvbnRyb2xzIGJhY2sgdG8gdGhlaXIgdW50b3VjaGVkIHN0YXRlIGlzIG9mdGVuIHVzZWZ1bCB3aGVuIHNldHRpbmcgdGhlIGZvcm1cbiAgICogYmFjayB0byBpdHMgcHJpc3RpbmUgc3RhdGUuXG4gICAqL1xuICAkc2V0VW50b3VjaGVkOiBmdW5jdGlvbigpIHtcbiAgICBmb3JFYWNoKHRoaXMuJCRjb250cm9scywgZnVuY3Rpb24oY29udHJvbCkge1xuICAgICAgY29udHJvbC4kc2V0VW50b3VjaGVkKCk7XG4gICAgfSk7XG4gIH0sXG5cbiAgLyoqXG4gICAqIEBuZ2RvYyBtZXRob2RcbiAgICogQG5hbWUgZm9ybS5Gb3JtQ29udHJvbGxlciMkc2V0U3VibWl0dGVkXG4gICAqXG4gICAqIEBkZXNjcmlwdGlvblxuICAgKiBTZXRzIHRoZSBmb3JtIHRvIGl0cyBzdWJtaXR0ZWQgc3RhdGUuXG4gICAqL1xuICAkc2V0U3VibWl0dGVkOiBmdW5jdGlvbigpIHtcbiAgICB0aGlzLiQkYW5pbWF0ZS5hZGRDbGFzcyh0aGlzLiQkZWxlbWVudCwgU1VCTUlUVEVEX0NMQVNTKTtcbiAgICB0aGlzLiRzdWJtaXR0ZWQgPSB0cnVlO1xuICAgIHRoaXMuJCRwYXJlbnRGb3JtLiRzZXRTdWJtaXR0ZWQoKTtcbiAgfVxufTtcblxuLyoqXG4gKiBAbmdkb2MgbWV0aG9kXG4gKiBAbmFtZSBmb3JtLkZvcm1Db250cm9sbGVyIyRzZXRWYWxpZGl0eVxuICpcbiAqIEBkZXNjcmlwdGlvblxuICogU2V0cyB0aGUgdmFsaWRpdHkgb2YgYSBmb3JtIGNvbnRyb2wuXG4gKlxuICogVGhpcyBtZXRob2Qgd2lsbCBhbHNvIHByb3BhZ2F0ZSB0byBwYXJlbnQgZm9ybXMuXG4gKi9cbmFkZFNldFZhbGlkaXR5TWV0aG9kKHtcbiAgY2xheno6IEZvcm1Db250cm9sbGVyLFxuICBzZXQ6IGZ1bmN0aW9uKG9iamVjdCwgcHJvcGVydHksIGNvbnRyb2xsZXIpIHtcbiAgICB2YXIgbGlzdCA9IG9iamVjdFtwcm9wZXJ0eV07XG4gICAgaWYgKCFsaXN0KSB7XG4gICAgICBvYmplY3RbcHJvcGVydHldID0gW2NvbnRyb2xsZXJdO1xuICAgIH0gZWxzZSB7XG4gICAgICB2YXIgaW5kZXggPSBsaXN0LmluZGV4T2YoY29udHJvbGxlcik7XG4gICAgICBpZiAoaW5kZXggPT09IC0xKSB7XG4gICAgICAgIGxpc3QucHVzaChjb250cm9sbGVyKTtcbiAgICAgIH1cbiAgICB9XG4gIH0sXG4gIHVuc2V0OiBmdW5jdGlvbihvYmplY3QsIHByb3BlcnR5LCBjb250cm9sbGVyKSB7XG4gICAgdmFyIGxpc3QgPSBvYmplY3RbcHJvcGVydHldO1xuICAgIGlmICghbGlzdCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBhcnJheVJlbW92ZShsaXN0LCBjb250cm9sbGVyKTtcbiAgICBpZiAobGlzdC5sZW5ndGggPT09IDApIHtcbiAgICAgIGRlbGV0ZSBvYmplY3RbcHJvcGVydHldO1xuICAgIH1cbiAgfVxufSk7XG5cbi8qKlxuICogQG5nZG9jIGRpcmVjdGl2ZVxuICogQG5hbWUgbmdGb3JtXG4gKiBAcmVzdHJpY3QgRUFDXG4gKlxuICogQGRlc2NyaXB0aW9uXG4gKiBOZXN0YWJsZSBhbGlhcyBvZiB7QGxpbmsgbmcuZGlyZWN0aXZlOmZvcm0gYGZvcm1gfSBkaXJlY3RpdmUuIEhUTUxcbiAqIGRvZXMgbm90IGFsbG93IG5lc3Rpbmcgb2YgZm9ybSBlbGVtZW50cy4gSXQgaXMgdXNlZnVsIHRvIG5lc3QgZm9ybXMsIGZvciBleGFtcGxlIGlmIHRoZSB2YWxpZGl0eSBvZiBhXG4gKiBzdWItZ3JvdXAgb2YgY29udHJvbHMgbmVlZHMgdG8gYmUgZGV0ZXJtaW5lZC5cbiAqXG4gKiBOb3RlOiB0aGUgcHVycG9zZSBvZiBgbmdGb3JtYCBpcyB0byBncm91cCBjb250cm9scyxcbiAqIGJ1dCBub3QgdG8gYmUgYSByZXBsYWNlbWVudCBmb3IgdGhlIGA8Zm9ybT5gIHRhZyB3aXRoIGFsbCBvZiBpdHMgY2FwYWJpbGl0aWVzXG4gKiAoZS5nLiBwb3N0aW5nIHRvIHRoZSBzZXJ2ZXIsIC4uLikuXG4gKlxuICogQHBhcmFtIHtzdHJpbmc9fSBuZ0Zvcm18bmFtZSBOYW1lIG9mIHRoZSBmb3JtLiBJZiBzcGVjaWZpZWQsIHRoZSBmb3JtIGNvbnRyb2xsZXIgd2lsbCBiZSBwdWJsaXNoZWQgaW50b1xuICogICAgICAgICAgICAgICAgICAgICAgIHJlbGF0ZWQgc2NvcGUsIHVuZGVyIHRoaXMgbmFtZS5cbiAqXG4gKi9cblxuIC8qKlxuICogQG5nZG9jIGRpcmVjdGl2ZVxuICogQG5hbWUgZm9ybVxuICogQHJlc3RyaWN0IEVcbiAqXG4gKiBAZGVzY3JpcHRpb25cbiAqIERpcmVjdGl2ZSB0aGF0IGluc3RhbnRpYXRlc1xuICoge0BsaW5rIGZvcm0uRm9ybUNvbnRyb2xsZXIgRm9ybUNvbnRyb2xsZXJ9LlxuICpcbiAqIElmIHRoZSBgbmFtZWAgYXR0cmlidXRlIGlzIHNwZWNpZmllZCwgdGhlIGZvcm0gY29udHJvbGxlciBpcyBwdWJsaXNoZWQgb250byB0aGUgY3VycmVudCBzY29wZSB1bmRlclxuICogdGhpcyBuYW1lLlxuICpcbiAqICMgQWxpYXM6IHtAbGluayBuZy5kaXJlY3RpdmU6bmdGb3JtIGBuZ0Zvcm1gfVxuICpcbiAqIEluIEFuZ3VsYXIsIGZvcm1zIGNhbiBiZSBuZXN0ZWQuIFRoaXMgbWVhbnMgdGhhdCB0aGUgb3V0ZXIgZm9ybSBpcyB2YWxpZCB3aGVuIGFsbCBvZiB0aGUgY2hpbGRcbiAqIGZvcm1zIGFyZSB2YWxpZCBhcyB3ZWxsLiBIb3dldmVyLCBicm93c2VycyBkbyBub3QgYWxsb3cgbmVzdGluZyBvZiBgPGZvcm0+YCBlbGVtZW50cywgc29cbiAqIEFuZ3VsYXIgcHJvdmlkZXMgdGhlIHtAbGluayBuZy5kaXJlY3RpdmU6bmdGb3JtIGBuZ0Zvcm1gfSBkaXJlY3RpdmUsIHdoaWNoIGJlaGF2ZXMgaWRlbnRpY2FsbHkgdG9cbiAqIGBmb3JtYCBidXQgY2FuIGJlIG5lc3RlZC4gTmVzdGVkIGZvcm1zIGNhbiBiZSB1c2VmdWwsIGZvciBleGFtcGxlLCBpZiB0aGUgdmFsaWRpdHkgb2YgYSBzdWItZ3JvdXBcbiAqIG9mIGNvbnRyb2xzIG5lZWRzIHRvIGJlIGRldGVybWluZWQuXG4gKlxuICogIyBDU1MgY2xhc3Nlc1xuICogIC0gYG5nLXZhbGlkYCBpcyBzZXQgaWYgdGhlIGZvcm0gaXMgdmFsaWQuXG4gKiAgLSBgbmctaW52YWxpZGAgaXMgc2V0IGlmIHRoZSBmb3JtIGlzIGludmFsaWQuXG4gKiAgLSBgbmctcGVuZGluZ2AgaXMgc2V0IGlmIHRoZSBmb3JtIGlzIHBlbmRpbmcuXG4gKiAgLSBgbmctcHJpc3RpbmVgIGlzIHNldCBpZiB0aGUgZm9ybSBpcyBwcmlzdGluZS5cbiAqICAtIGBuZy1kaXJ0eWAgaXMgc2V0IGlmIHRoZSBmb3JtIGlzIGRpcnR5LlxuICogIC0gYG5nLXN1Ym1pdHRlZGAgaXMgc2V0IGlmIHRoZSBmb3JtIHdhcyBzdWJtaXR0ZWQuXG4gKlxuICogS2VlcCBpbiBtaW5kIHRoYXQgbmdBbmltYXRlIGNhbiBkZXRlY3QgZWFjaCBvZiB0aGVzZSBjbGFzc2VzIHdoZW4gYWRkZWQgYW5kIHJlbW92ZWQuXG4gKlxuICpcbiAqICMgU3VibWl0dGluZyBhIGZvcm0gYW5kIHByZXZlbnRpbmcgdGhlIGRlZmF1bHQgYWN0aW9uXG4gKlxuICogU2luY2UgdGhlIHJvbGUgb2YgZm9ybXMgaW4gY2xpZW50LXNpZGUgQW5ndWxhciBhcHBsaWNhdGlvbnMgaXMgZGlmZmVyZW50IHRoYW4gaW4gY2xhc3NpY2FsXG4gKiByb3VuZHRyaXAgYXBwcywgaXQgaXMgZGVzaXJhYmxlIGZvciB0aGUgYnJvd3NlciBub3QgdG8gdHJhbnNsYXRlIHRoZSBmb3JtIHN1Ym1pc3Npb24gaW50byBhIGZ1bGxcbiAqIHBhZ2UgcmVsb2FkIHRoYXQgc2VuZHMgdGhlIGRhdGEgdG8gdGhlIHNlcnZlci4gSW5zdGVhZCBzb21lIGphdmFzY3JpcHQgbG9naWMgc2hvdWxkIGJlIHRyaWdnZXJlZFxuICogdG8gaGFuZGxlIHRoZSBmb3JtIHN1Ym1pc3Npb24gaW4gYW4gYXBwbGljYXRpb24tc3BlY2lmaWMgd2F5LlxuICpcbiAqIEZvciB0aGlzIHJlYXNvbiwgQW5ndWxhciBwcmV2ZW50cyB0aGUgZGVmYXVsdCBhY3Rpb24gKGZvcm0gc3VibWlzc2lvbiB0byB0aGUgc2VydmVyKSB1bmxlc3MgdGhlXG4gKiBgPGZvcm0+YCBlbGVtZW50IGhhcyBhbiBgYWN0aW9uYCBhdHRyaWJ1dGUgc3BlY2lmaWVkLlxuICpcbiAqIFlvdSBjYW4gdXNlIG9uZSBvZiB0aGUgZm9sbG93aW5nIHR3byB3YXlzIHRvIHNwZWNpZnkgd2hhdCBqYXZhc2NyaXB0IG1ldGhvZCBzaG91bGQgYmUgY2FsbGVkIHdoZW5cbiAqIGEgZm9ybSBpcyBzdWJtaXR0ZWQ6XG4gKlxuICogLSB7QGxpbmsgbmcuZGlyZWN0aXZlOm5nU3VibWl0IG5nU3VibWl0fSBkaXJlY3RpdmUgb24gdGhlIGZvcm0gZWxlbWVudFxuICogLSB7QGxpbmsgbmcuZGlyZWN0aXZlOm5nQ2xpY2sgbmdDbGlja30gZGlyZWN0aXZlIG9uIHRoZSBmaXJzdFxuICAqICBidXR0b24gb3IgaW5wdXQgZmllbGQgb2YgdHlwZSBzdWJtaXQgKGlucHV0W3R5cGU9c3VibWl0XSlcbiAqXG4gKiBUbyBwcmV2ZW50IGRvdWJsZSBleGVjdXRpb24gb2YgdGhlIGhhbmRsZXIsIHVzZSBvbmx5IG9uZSBvZiB0aGUge0BsaW5rIG5nLmRpcmVjdGl2ZTpuZ1N1Ym1pdCBuZ1N1Ym1pdH1cbiAqIG9yIHtAbGluayBuZy5kaXJlY3RpdmU6bmdDbGljayBuZ0NsaWNrfSBkaXJlY3RpdmVzLlxuICogVGhpcyBpcyBiZWNhdXNlIG9mIHRoZSBmb2xsb3dpbmcgZm9ybSBzdWJtaXNzaW9uIHJ1bGVzIGluIHRoZSBIVE1MIHNwZWNpZmljYXRpb246XG4gKlxuICogLSBJZiBhIGZvcm0gaGFzIG9ubHkgb25lIGlucHV0IGZpZWxkIHRoZW4gaGl0dGluZyBlbnRlciBpbiB0aGlzIGZpZWxkIHRyaWdnZXJzIGZvcm0gc3VibWl0XG4gKiAoYG5nU3VibWl0YClcbiAqIC0gaWYgYSBmb3JtIGhhcyAyKyBpbnB1dCBmaWVsZHMgYW5kIG5vIGJ1dHRvbnMgb3IgaW5wdXRbdHlwZT1zdWJtaXRdIHRoZW4gaGl0dGluZyBlbnRlclxuICogZG9lc24ndCB0cmlnZ2VyIHN1Ym1pdFxuICogLSBpZiBhIGZvcm0gaGFzIG9uZSBvciBtb3JlIGlucHV0IGZpZWxkcyBhbmQgb25lIG9yIG1vcmUgYnV0dG9ucyBvciBpbnB1dFt0eXBlPXN1Ym1pdF0gdGhlblxuICogaGl0dGluZyBlbnRlciBpbiBhbnkgb2YgdGhlIGlucHV0IGZpZWxkcyB3aWxsIHRyaWdnZXIgdGhlIGNsaWNrIGhhbmRsZXIgb24gdGhlICpmaXJzdCogYnV0dG9uIG9yXG4gKiBpbnB1dFt0eXBlPXN1Ym1pdF0gKGBuZ0NsaWNrYCkgKmFuZCogYSBzdWJtaXQgaGFuZGxlciBvbiB0aGUgZW5jbG9zaW5nIGZvcm0gKGBuZ1N1Ym1pdGApXG4gKlxuICogQW55IHBlbmRpbmcgYG5nTW9kZWxPcHRpb25zYCBjaGFuZ2VzIHdpbGwgdGFrZSBwbGFjZSBpbW1lZGlhdGVseSB3aGVuIGFuIGVuY2xvc2luZyBmb3JtIGlzXG4gKiBzdWJtaXR0ZWQuIE5vdGUgdGhhdCBgbmdDbGlja2AgZXZlbnRzIHdpbGwgb2NjdXIgYmVmb3JlIHRoZSBtb2RlbCBpcyB1cGRhdGVkLiBVc2UgYG5nU3VibWl0YFxuICogdG8gaGF2ZSBhY2Nlc3MgdG8gdGhlIHVwZGF0ZWQgbW9kZWwuXG4gKlxuICogIyMgQW5pbWF0aW9uIEhvb2tzXG4gKlxuICogQW5pbWF0aW9ucyBpbiBuZ0Zvcm0gYXJlIHRyaWdnZXJlZCB3aGVuIGFueSBvZiB0aGUgYXNzb2NpYXRlZCBDU1MgY2xhc3NlcyBhcmUgYWRkZWQgYW5kIHJlbW92ZWQuXG4gKiBUaGVzZSBjbGFzc2VzIGFyZTogYC5uZy1wcmlzdGluZWAsIGAubmctZGlydHlgLCBgLm5nLWludmFsaWRgIGFuZCBgLm5nLXZhbGlkYCBhcyB3ZWxsIGFzIGFueVxuICogb3RoZXIgdmFsaWRhdGlvbnMgdGhhdCBhcmUgcGVyZm9ybWVkIHdpdGhpbiB0aGUgZm9ybS4gQW5pbWF0aW9ucyBpbiBuZ0Zvcm0gYXJlIHNpbWlsYXIgdG8gaG93XG4gKiB0aGV5IHdvcmsgaW4gbmdDbGFzcyBhbmQgYW5pbWF0aW9ucyBjYW4gYmUgaG9va2VkIGludG8gdXNpbmcgQ1NTIHRyYW5zaXRpb25zLCBrZXlmcmFtZXMgYXMgd2VsbFxuICogYXMgSlMgYW5pbWF0aW9ucy5cbiAqXG4gKiBUaGUgZm9sbG93aW5nIGV4YW1wbGUgc2hvd3MgYSBzaW1wbGUgd2F5IHRvIHV0aWxpemUgQ1NTIHRyYW5zaXRpb25zIHRvIHN0eWxlIGEgZm9ybSBlbGVtZW50XG4gKiB0aGF0IGhhcyBiZWVuIHJlbmRlcmVkIGFzIGludmFsaWQgYWZ0ZXIgaXQgaGFzIGJlZW4gdmFsaWRhdGVkOlxuICpcbiAqIDxwcmU+XG4gKiAvL2JlIHN1cmUgdG8gaW5jbHVkZSBuZ0FuaW1hdGUgYXMgYSBtb2R1bGUgdG8gaG9vayBpbnRvIG1vcmVcbiAqIC8vYWR2YW5jZWQgYW5pbWF0aW9uc1xuICogLm15LWZvcm0ge1xuICogICB0cmFuc2l0aW9uOjAuNXMgbGluZWFyIGFsbDtcbiAqICAgYmFja2dyb3VuZDogd2hpdGU7XG4gKiB9XG4gKiAubXktZm9ybS5uZy1pbnZhbGlkIHtcbiAqICAgYmFja2dyb3VuZDogcmVkO1xuICogICBjb2xvcjp3aGl0ZTtcbiAqIH1cbiAqIDwvcHJlPlxuICpcbiAqIEBleGFtcGxlXG4gICAgPGV4YW1wbGUgbmFtZT1cIm5nLWZvcm1cIiBkZXBzPVwiYW5ndWxhci1hbmltYXRlLmpzXCIgYW5pbWF0aW9ucz1cInRydWVcIiBmaXhCYXNlPVwidHJ1ZVwiIG1vZHVsZT1cImZvcm1FeGFtcGxlXCI+XG4gICAgICA8ZmlsZSBuYW1lPVwiaW5kZXguaHRtbFwiPlxuICAgICAgIDxzY3JpcHQ+XG4gICAgICAgICBhbmd1bGFyLm1vZHVsZSgnZm9ybUV4YW1wbGUnLCBbXSlcbiAgICAgICAgICAgLmNvbnRyb2xsZXIoJ0Zvcm1Db250cm9sbGVyJywgWyckc2NvcGUnLCBmdW5jdGlvbigkc2NvcGUpIHtcbiAgICAgICAgICAgICAkc2NvcGUudXNlclR5cGUgPSAnZ3Vlc3QnO1xuICAgICAgICAgICB9XSk7XG4gICAgICAgPC9zY3JpcHQ+XG4gICAgICAgPHN0eWxlPlxuICAgICAgICAubXktZm9ybSB7XG4gICAgICAgICAgdHJhbnNpdGlvbjphbGwgbGluZWFyIDAuNXM7XG4gICAgICAgICAgYmFja2dyb3VuZDogdHJhbnNwYXJlbnQ7XG4gICAgICAgIH1cbiAgICAgICAgLm15LWZvcm0ubmctaW52YWxpZCB7XG4gICAgICAgICAgYmFja2dyb3VuZDogcmVkO1xuICAgICAgICB9XG4gICAgICAgPC9zdHlsZT5cbiAgICAgICA8Zm9ybSBuYW1lPVwibXlGb3JtXCIgbmctY29udHJvbGxlcj1cIkZvcm1Db250cm9sbGVyXCIgY2xhc3M9XCJteS1mb3JtXCI+XG4gICAgICAgICB1c2VyVHlwZTogPGlucHV0IG5hbWU9XCJpbnB1dFwiIG5nLW1vZGVsPVwidXNlclR5cGVcIiByZXF1aXJlZD5cbiAgICAgICAgIDxzcGFuIGNsYXNzPVwiZXJyb3JcIiBuZy1zaG93PVwibXlGb3JtLmlucHV0LiRlcnJvci5yZXF1aXJlZFwiPlJlcXVpcmVkITwvc3Bhbj48YnI+XG4gICAgICAgICA8Y29kZT51c2VyVHlwZSA9IHt7dXNlclR5cGV9fTwvY29kZT48YnI+XG4gICAgICAgICA8Y29kZT5teUZvcm0uaW5wdXQuJHZhbGlkID0ge3tteUZvcm0uaW5wdXQuJHZhbGlkfX08L2NvZGU+PGJyPlxuICAgICAgICAgPGNvZGU+bXlGb3JtLmlucHV0LiRlcnJvciA9IHt7bXlGb3JtLmlucHV0LiRlcnJvcn19PC9jb2RlPjxicj5cbiAgICAgICAgIDxjb2RlPm15Rm9ybS4kdmFsaWQgPSB7e215Rm9ybS4kdmFsaWR9fTwvY29kZT48YnI+XG4gICAgICAgICA8Y29kZT5teUZvcm0uJGVycm9yLnJlcXVpcmVkID0ge3shIW15Rm9ybS4kZXJyb3IucmVxdWlyZWR9fTwvY29kZT48YnI+XG4gICAgICAgIDwvZm9ybT5cbiAgICAgIDwvZmlsZT5cbiAgICAgIDxmaWxlIG5hbWU9XCJwcm90cmFjdG9yLmpzXCIgdHlwZT1cInByb3RyYWN0b3JcIj5cbiAgICAgICAgaXQoJ3Nob3VsZCBpbml0aWFsaXplIHRvIG1vZGVsJywgZnVuY3Rpb24oKSB7XG4gICAgICAgICAgdmFyIHVzZXJUeXBlID0gZWxlbWVudChieS5iaW5kaW5nKCd1c2VyVHlwZScpKTtcbiAgICAgICAgICB2YXIgdmFsaWQgPSBlbGVtZW50KGJ5LmJpbmRpbmcoJ215Rm9ybS5pbnB1dC4kdmFsaWQnKSk7XG5cbiAgICAgICAgICBleHBlY3QodXNlclR5cGUuZ2V0VGV4dCgpKS50b0NvbnRhaW4oJ2d1ZXN0Jyk7XG4gICAgICAgICAgZXhwZWN0KHZhbGlkLmdldFRleHQoKSkudG9Db250YWluKCd0cnVlJyk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIGl0KCdzaG91bGQgYmUgaW52YWxpZCBpZiBlbXB0eScsIGZ1bmN0aW9uKCkge1xuICAgICAgICAgIHZhciB1c2VyVHlwZSA9IGVsZW1lbnQoYnkuYmluZGluZygndXNlclR5cGUnKSk7XG4gICAgICAgICAgdmFyIHZhbGlkID0gZWxlbWVudChieS5iaW5kaW5nKCdteUZvcm0uaW5wdXQuJHZhbGlkJykpO1xuICAgICAgICAgIHZhciB1c2VySW5wdXQgPSBlbGVtZW50KGJ5Lm1vZGVsKCd1c2VyVHlwZScpKTtcblxuICAgICAgICAgIHVzZXJJbnB1dC5jbGVhcigpO1xuICAgICAgICAgIHVzZXJJbnB1dC5zZW5kS2V5cygnJyk7XG5cbiAgICAgICAgICBleHBlY3QodXNlclR5cGUuZ2V0VGV4dCgpKS50b0VxdWFsKCd1c2VyVHlwZSA9Jyk7XG4gICAgICAgICAgZXhwZWN0KHZhbGlkLmdldFRleHQoKSkudG9Db250YWluKCdmYWxzZScpO1xuICAgICAgICB9KTtcbiAgICAgIDwvZmlsZT5cbiAgICA8L2V4YW1wbGU+XG4gKlxuICogQHBhcmFtIHtzdHJpbmc9fSBuYW1lIE5hbWUgb2YgdGhlIGZvcm0uIElmIHNwZWNpZmllZCwgdGhlIGZvcm0gY29udHJvbGxlciB3aWxsIGJlIHB1Ymxpc2hlZCBpbnRvXG4gKiAgICAgICAgICAgICAgICAgICAgICAgcmVsYXRlZCBzY29wZSwgdW5kZXIgdGhpcyBuYW1lLlxuICovXG52YXIgZm9ybURpcmVjdGl2ZUZhY3RvcnkgPSBmdW5jdGlvbihpc05nRm9ybSkge1xuICByZXR1cm4gWyckdGltZW91dCcsICckcGFyc2UnLCBmdW5jdGlvbigkdGltZW91dCwgJHBhcnNlKSB7XG4gICAgdmFyIGZvcm1EaXJlY3RpdmUgPSB7XG4gICAgICBuYW1lOiAnZm9ybScsXG4gICAgICByZXN0cmljdDogaXNOZ0Zvcm0gPyAnRUFDJyA6ICdFJyxcbiAgICAgIHJlcXVpcmU6IFsnZm9ybScsICdeXj9mb3JtJ10sIC8vZmlyc3QgaXMgdGhlIGZvcm0ncyBvd24gY3RybCwgc2Vjb25kIGlzIGFuIG9wdGlvbmFsIHBhcmVudCBmb3JtXG4gICAgICBjb250cm9sbGVyOiBGb3JtQ29udHJvbGxlcixcbiAgICAgIGNvbXBpbGU6IGZ1bmN0aW9uIG5nRm9ybUNvbXBpbGUoZm9ybUVsZW1lbnQsIGF0dHIpIHtcbiAgICAgICAgLy8gU2V0dXAgaW5pdGlhbCBzdGF0ZSBvZiB0aGUgY29udHJvbFxuICAgICAgICBmb3JtRWxlbWVudC5hZGRDbGFzcyhQUklTVElORV9DTEFTUykuYWRkQ2xhc3MoVkFMSURfQ0xBU1MpO1xuXG4gICAgICAgIHZhciBuYW1lQXR0ciA9IGF0dHIubmFtZSA/ICduYW1lJyA6IChpc05nRm9ybSAmJiBhdHRyLm5nRm9ybSA/ICduZ0Zvcm0nIDogZmFsc2UpO1xuXG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgcHJlOiBmdW5jdGlvbiBuZ0Zvcm1QcmVMaW5rKHNjb3BlLCBmb3JtRWxlbWVudCwgYXR0ciwgY3RybHMpIHtcbiAgICAgICAgICAgIHZhciBjb250cm9sbGVyID0gY3RybHNbMF07XG5cbiAgICAgICAgICAgIC8vIGlmIGBhY3Rpb25gIGF0dHIgaXMgbm90IHByZXNlbnQgb24gdGhlIGZvcm0sIHByZXZlbnQgdGhlIGRlZmF1bHQgYWN0aW9uIChzdWJtaXNzaW9uKVxuICAgICAgICAgICAgaWYgKCEoJ2FjdGlvbicgaW4gYXR0cikpIHtcbiAgICAgICAgICAgICAgLy8gd2UgY2FuJ3QgdXNlIGpxIGV2ZW50cyBiZWNhdXNlIGlmIGEgZm9ybSBpcyBkZXN0cm95ZWQgZHVyaW5nIHN1Ym1pc3Npb24gdGhlIGRlZmF1bHRcbiAgICAgICAgICAgICAgLy8gYWN0aW9uIGlzIG5vdCBwcmV2ZW50ZWQuIHNlZSAjMTIzOFxuICAgICAgICAgICAgICAvL1xuICAgICAgICAgICAgICAvLyBJRSA5IGlzIG5vdCBhZmZlY3RlZCBiZWNhdXNlIGl0IGRvZXNuJ3QgZmlyZSBhIHN1Ym1pdCBldmVudCBhbmQgdHJ5IHRvIGRvIGEgZnVsbFxuICAgICAgICAgICAgICAvLyBwYWdlIHJlbG9hZCBpZiB0aGUgZm9ybSB3YXMgZGVzdHJveWVkIGJ5IHN1Ym1pc3Npb24gb2YgdGhlIGZvcm0gdmlhIGEgY2xpY2sgaGFuZGxlclxuICAgICAgICAgICAgICAvLyBvbiBhIGJ1dHRvbiBpbiB0aGUgZm9ybS4gTG9va3MgbGlrZSBhbiBJRTkgc3BlY2lmaWMgYnVnLlxuICAgICAgICAgICAgICB2YXIgaGFuZGxlRm9ybVN1Ym1pc3Npb24gPSBmdW5jdGlvbihldmVudCkge1xuICAgICAgICAgICAgICAgIHNjb3BlLiRhcHBseShmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICAgIGNvbnRyb2xsZXIuJGNvbW1pdFZpZXdWYWx1ZSgpO1xuICAgICAgICAgICAgICAgICAgY29udHJvbGxlci4kc2V0U3VibWl0dGVkKCk7XG4gICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAgIGZvcm1FbGVtZW50WzBdLmFkZEV2ZW50TGlzdGVuZXIoJ3N1Ym1pdCcsIGhhbmRsZUZvcm1TdWJtaXNzaW9uKTtcblxuICAgICAgICAgICAgICAvLyB1bnJlZ2lzdGVyIHRoZSBwcmV2ZW50RGVmYXVsdCBsaXN0ZW5lciBzbyB0aGF0IHdlIGRvbid0IG5vdCBsZWFrIG1lbW9yeSBidXQgaW4gYVxuICAgICAgICAgICAgICAvLyB3YXkgdGhhdCB3aWxsIGFjaGlldmUgdGhlIHByZXZlbnRpb24gb2YgdGhlIGRlZmF1bHQgYWN0aW9uLlxuICAgICAgICAgICAgICBmb3JtRWxlbWVudC5vbignJGRlc3Ryb3knLCBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICAkdGltZW91dChmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICAgIGZvcm1FbGVtZW50WzBdLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3N1Ym1pdCcsIGhhbmRsZUZvcm1TdWJtaXNzaW9uKTtcbiAgICAgICAgICAgICAgICB9LCAwLCBmYWxzZSk7XG4gICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB2YXIgcGFyZW50Rm9ybUN0cmwgPSBjdHJsc1sxXSB8fCBjb250cm9sbGVyLiQkcGFyZW50Rm9ybTtcbiAgICAgICAgICAgIHBhcmVudEZvcm1DdHJsLiRhZGRDb250cm9sKGNvbnRyb2xsZXIpO1xuXG4gICAgICAgICAgICB2YXIgc2V0dGVyID0gbmFtZUF0dHIgPyBnZXRTZXR0ZXIoY29udHJvbGxlci4kbmFtZSkgOiBub29wO1xuXG4gICAgICAgICAgICBpZiAobmFtZUF0dHIpIHtcbiAgICAgICAgICAgICAgc2V0dGVyKHNjb3BlLCBjb250cm9sbGVyKTtcbiAgICAgICAgICAgICAgYXR0ci4kb2JzZXJ2ZShuYW1lQXR0ciwgZnVuY3Rpb24obmV3VmFsdWUpIHtcbiAgICAgICAgICAgICAgICBpZiAoY29udHJvbGxlci4kbmFtZSA9PT0gbmV3VmFsdWUpIHJldHVybjtcbiAgICAgICAgICAgICAgICBzZXR0ZXIoc2NvcGUsIHVuZGVmaW5lZCk7XG4gICAgICAgICAgICAgICAgY29udHJvbGxlci4kJHBhcmVudEZvcm0uJCRyZW5hbWVDb250cm9sKGNvbnRyb2xsZXIsIG5ld1ZhbHVlKTtcbiAgICAgICAgICAgICAgICBzZXR0ZXIgPSBnZXRTZXR0ZXIoY29udHJvbGxlci4kbmFtZSk7XG4gICAgICAgICAgICAgICAgc2V0dGVyKHNjb3BlLCBjb250cm9sbGVyKTtcbiAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBmb3JtRWxlbWVudC5vbignJGRlc3Ryb3knLCBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgY29udHJvbGxlci4kJHBhcmVudEZvcm0uJHJlbW92ZUNvbnRyb2woY29udHJvbGxlcik7XG4gICAgICAgICAgICAgIHNldHRlcihzY29wZSwgdW5kZWZpbmVkKTtcbiAgICAgICAgICAgICAgZXh0ZW5kKGNvbnRyb2xsZXIsIG51bGxGb3JtQ3RybCk7IC8vc3RvcCBwcm9wYWdhdGluZyBjaGlsZCBkZXN0cnVjdGlvbiBoYW5kbGVycyB1cHdhcmRzXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICB9XG4gICAgfTtcblxuICAgIHJldHVybiBmb3JtRGlyZWN0aXZlO1xuXG4gICAgZnVuY3Rpb24gZ2V0U2V0dGVyKGV4cHJlc3Npb24pIHtcbiAgICAgIGlmIChleHByZXNzaW9uID09PSAnJykge1xuICAgICAgICAvL2NyZWF0ZSBhbiBhc3NpZ25hYmxlIGV4cHJlc3Npb24sIHNvIGZvcm1zIHdpdGggYW4gZW1wdHkgbmFtZSBjYW4gYmUgcmVuYW1lZCBsYXRlclxuICAgICAgICByZXR1cm4gJHBhcnNlKCd0aGlzW1wiXCJdJykuYXNzaWduO1xuICAgICAgfVxuICAgICAgcmV0dXJuICRwYXJzZShleHByZXNzaW9uKS5hc3NpZ24gfHwgbm9vcDtcbiAgICB9XG4gIH1dO1xufTtcblxudmFyIGZvcm1EaXJlY3RpdmUgPSBmb3JtRGlyZWN0aXZlRmFjdG9yeSgpO1xudmFyIG5nRm9ybURpcmVjdGl2ZSA9IGZvcm1EaXJlY3RpdmVGYWN0b3J5KHRydWUpO1xuXG5cblxuLy8gaGVscGVyIG1ldGhvZHNcbmZ1bmN0aW9uIHNldHVwVmFsaWRpdHkoaW5zdGFuY2UpIHtcbiAgaW5zdGFuY2UuJCRjbGFzc0NhY2hlID0ge307XG4gIGluc3RhbmNlLiQkY2xhc3NDYWNoZVtJTlZBTElEX0NMQVNTXSA9ICEoaW5zdGFuY2UuJCRjbGFzc0NhY2hlW1ZBTElEX0NMQVNTXSA9IGluc3RhbmNlLiQkZWxlbWVudC5oYXNDbGFzcyhWQUxJRF9DTEFTUykpO1xufVxuZnVuY3Rpb24gYWRkU2V0VmFsaWRpdHlNZXRob2QoY29udGV4dCkge1xuICB2YXIgY2xhenogPSBjb250ZXh0LmNsYXp6LFxuICAgICAgc2V0ID0gY29udGV4dC5zZXQsXG4gICAgICB1bnNldCA9IGNvbnRleHQudW5zZXQ7XG5cbiAgY2xhenoucHJvdG90eXBlLiRzZXRWYWxpZGl0eSA9IGZ1bmN0aW9uKHZhbGlkYXRpb25FcnJvcktleSwgc3RhdGUsIGNvbnRyb2xsZXIpIHtcbiAgICBpZiAoaXNVbmRlZmluZWQoc3RhdGUpKSB7XG4gICAgICBjcmVhdGVBbmRTZXQodGhpcywgJyRwZW5kaW5nJywgdmFsaWRhdGlvbkVycm9yS2V5LCBjb250cm9sbGVyKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdW5zZXRBbmRDbGVhbnVwKHRoaXMsICckcGVuZGluZycsIHZhbGlkYXRpb25FcnJvcktleSwgY29udHJvbGxlcik7XG4gICAgfVxuICAgIGlmICghaXNCb29sZWFuKHN0YXRlKSkge1xuICAgICAgdW5zZXQodGhpcy4kZXJyb3IsIHZhbGlkYXRpb25FcnJvcktleSwgY29udHJvbGxlcik7XG4gICAgICB1bnNldCh0aGlzLiQkc3VjY2VzcywgdmFsaWRhdGlvbkVycm9yS2V5LCBjb250cm9sbGVyKTtcbiAgICB9IGVsc2Uge1xuICAgICAgaWYgKHN0YXRlKSB7XG4gICAgICAgIHVuc2V0KHRoaXMuJGVycm9yLCB2YWxpZGF0aW9uRXJyb3JLZXksIGNvbnRyb2xsZXIpO1xuICAgICAgICBzZXQodGhpcy4kJHN1Y2Nlc3MsIHZhbGlkYXRpb25FcnJvcktleSwgY29udHJvbGxlcik7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBzZXQodGhpcy4kZXJyb3IsIHZhbGlkYXRpb25FcnJvcktleSwgY29udHJvbGxlcik7XG4gICAgICAgIHVuc2V0KHRoaXMuJCRzdWNjZXNzLCB2YWxpZGF0aW9uRXJyb3JLZXksIGNvbnRyb2xsZXIpO1xuICAgICAgfVxuICAgIH1cbiAgICBpZiAodGhpcy4kcGVuZGluZykge1xuICAgICAgY2FjaGVkVG9nZ2xlQ2xhc3ModGhpcywgUEVORElOR19DTEFTUywgdHJ1ZSk7XG4gICAgICB0aGlzLiR2YWxpZCA9IHRoaXMuJGludmFsaWQgPSB1bmRlZmluZWQ7XG4gICAgICB0b2dnbGVWYWxpZGF0aW9uQ3NzKHRoaXMsICcnLCBudWxsKTtcbiAgICB9IGVsc2Uge1xuICAgICAgY2FjaGVkVG9nZ2xlQ2xhc3ModGhpcywgUEVORElOR19DTEFTUywgZmFsc2UpO1xuICAgICAgdGhpcy4kdmFsaWQgPSBpc09iamVjdEVtcHR5KHRoaXMuJGVycm9yKTtcbiAgICAgIHRoaXMuJGludmFsaWQgPSAhdGhpcy4kdmFsaWQ7XG4gICAgICB0b2dnbGVWYWxpZGF0aW9uQ3NzKHRoaXMsICcnLCB0aGlzLiR2YWxpZCk7XG4gICAgfVxuXG4gICAgLy8gcmUtcmVhZCB0aGUgc3RhdGUgYXMgdGhlIHNldC91bnNldCBtZXRob2RzIGNvdWxkIGhhdmVcbiAgICAvLyBjb21iaW5lZCBzdGF0ZSBpbiB0aGlzLiRlcnJvclt2YWxpZGF0aW9uRXJyb3JdICh1c2VkIGZvciBmb3JtcyksXG4gICAgLy8gd2hlcmUgc2V0dGluZy91bnNldHRpbmcgb25seSBpbmNyZW1lbnRzL2RlY3JlbWVudHMgdGhlIHZhbHVlLFxuICAgIC8vIGFuZCBkb2VzIG5vdCByZXBsYWNlIGl0LlxuICAgIHZhciBjb21iaW5lZFN0YXRlO1xuICAgIGlmICh0aGlzLiRwZW5kaW5nICYmIHRoaXMuJHBlbmRpbmdbdmFsaWRhdGlvbkVycm9yS2V5XSkge1xuICAgICAgY29tYmluZWRTdGF0ZSA9IHVuZGVmaW5lZDtcbiAgICB9IGVsc2UgaWYgKHRoaXMuJGVycm9yW3ZhbGlkYXRpb25FcnJvcktleV0pIHtcbiAgICAgIGNvbWJpbmVkU3RhdGUgPSBmYWxzZTtcbiAgICB9IGVsc2UgaWYgKHRoaXMuJCRzdWNjZXNzW3ZhbGlkYXRpb25FcnJvcktleV0pIHtcbiAgICAgIGNvbWJpbmVkU3RhdGUgPSB0cnVlO1xuICAgIH0gZWxzZSB7XG4gICAgICBjb21iaW5lZFN0YXRlID0gbnVsbDtcbiAgICB9XG5cbiAgICB0b2dnbGVWYWxpZGF0aW9uQ3NzKHRoaXMsIHZhbGlkYXRpb25FcnJvcktleSwgY29tYmluZWRTdGF0ZSk7XG4gICAgdGhpcy4kJHBhcmVudEZvcm0uJHNldFZhbGlkaXR5KHZhbGlkYXRpb25FcnJvcktleSwgY29tYmluZWRTdGF0ZSwgdGhpcyk7XG4gIH07XG5cbiAgZnVuY3Rpb24gY3JlYXRlQW5kU2V0KGN0cmwsIG5hbWUsIHZhbHVlLCBjb250cm9sbGVyKSB7XG4gICAgaWYgKCFjdHJsW25hbWVdKSB7XG4gICAgICBjdHJsW25hbWVdID0ge307XG4gICAgfVxuICAgIHNldChjdHJsW25hbWVdLCB2YWx1ZSwgY29udHJvbGxlcik7XG4gIH1cblxuICBmdW5jdGlvbiB1bnNldEFuZENsZWFudXAoY3RybCwgbmFtZSwgdmFsdWUsIGNvbnRyb2xsZXIpIHtcbiAgICBpZiAoY3RybFtuYW1lXSkge1xuICAgICAgdW5zZXQoY3RybFtuYW1lXSwgdmFsdWUsIGNvbnRyb2xsZXIpO1xuICAgIH1cbiAgICBpZiAoaXNPYmplY3RFbXB0eShjdHJsW25hbWVdKSkge1xuICAgICAgY3RybFtuYW1lXSA9IHVuZGVmaW5lZDtcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBjYWNoZWRUb2dnbGVDbGFzcyhjdHJsLCBjbGFzc05hbWUsIHN3aXRjaFZhbHVlKSB7XG4gICAgaWYgKHN3aXRjaFZhbHVlICYmICFjdHJsLiQkY2xhc3NDYWNoZVtjbGFzc05hbWVdKSB7XG4gICAgICBjdHJsLiQkYW5pbWF0ZS5hZGRDbGFzcyhjdHJsLiQkZWxlbWVudCwgY2xhc3NOYW1lKTtcbiAgICAgIGN0cmwuJCRjbGFzc0NhY2hlW2NsYXNzTmFtZV0gPSB0cnVlO1xuICAgIH0gZWxzZSBpZiAoIXN3aXRjaFZhbHVlICYmIGN0cmwuJCRjbGFzc0NhY2hlW2NsYXNzTmFtZV0pIHtcbiAgICAgIGN0cmwuJCRhbmltYXRlLnJlbW92ZUNsYXNzKGN0cmwuJCRlbGVtZW50LCBjbGFzc05hbWUpO1xuICAgICAgY3RybC4kJGNsYXNzQ2FjaGVbY2xhc3NOYW1lXSA9IGZhbHNlO1xuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIHRvZ2dsZVZhbGlkYXRpb25Dc3MoY3RybCwgdmFsaWRhdGlvbkVycm9yS2V5LCBpc1ZhbGlkKSB7XG4gICAgdmFsaWRhdGlvbkVycm9yS2V5ID0gdmFsaWRhdGlvbkVycm9yS2V5ID8gJy0nICsgc25ha2VfY2FzZSh2YWxpZGF0aW9uRXJyb3JLZXksICctJykgOiAnJztcblxuICAgIGNhY2hlZFRvZ2dsZUNsYXNzKGN0cmwsIFZBTElEX0NMQVNTICsgdmFsaWRhdGlvbkVycm9yS2V5LCBpc1ZhbGlkID09PSB0cnVlKTtcbiAgICBjYWNoZWRUb2dnbGVDbGFzcyhjdHJsLCBJTlZBTElEX0NMQVNTICsgdmFsaWRhdGlvbkVycm9yS2V5LCBpc1ZhbGlkID09PSBmYWxzZSk7XG4gIH1cbn1cblxuZnVuY3Rpb24gaXNPYmplY3RFbXB0eShvYmopIHtcbiAgaWYgKG9iaikge1xuICAgIGZvciAodmFyIHByb3AgaW4gb2JqKSB7XG4gICAgICBpZiAob2JqLmhhc093blByb3BlcnR5KHByb3ApKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgcmV0dXJuIHRydWU7XG59XG5cbi8qIGdsb2JhbFxuICBWQUxJRF9DTEFTUzogZmFsc2UsXG4gIElOVkFMSURfQ0xBU1M6IGZhbHNlLFxuICBQUklTVElORV9DTEFTUzogZmFsc2UsXG4gIERJUlRZX0NMQVNTOiBmYWxzZSxcbiAgbmdNb2RlbE1pbkVycjogZmFsc2VcbiovXG5cbi8vIFJlZ2V4IGNvZGUgd2FzIGluaXRpYWxseSBvYnRhaW5lZCBmcm9tIFNPIHByaW9yIHRvIG1vZGlmaWNhdGlvbjogaHR0cHM6Ly9zdGFja292ZXJmbG93LmNvbS9xdWVzdGlvbnMvMzE0MzA3MC9qYXZhc2NyaXB0LXJlZ2V4LWlzby1kYXRldGltZSNhbnN3ZXItMzE0MzIzMVxudmFyIElTT19EQVRFX1JFR0VYUCA9IC9eXFxkezQsfS1bMDFdXFxkLVswLTNdXFxkVFswLTJdXFxkOlswLTVdXFxkOlswLTVdXFxkXFwuXFxkKyg/OlsrLV1bMC0yXVxcZDpbMC01XVxcZHxaKSQvO1xuLy8gU2VlIHZhbGlkIFVSTHMgaW4gUkZDMzk4NyAoaHR0cDovL3Rvb2xzLmlldGYub3JnL2h0bWwvcmZjMzk4Nylcbi8vIE5vdGU6IFdlIGFyZSBiZWluZyBtb3JlIGxlbmllbnQsIGJlY2F1c2UgYnJvd3NlcnMgYXJlIHRvby5cbi8vICAgMS4gU2NoZW1lXG4vLyAgIDIuIFNsYXNoZXNcbi8vICAgMy4gVXNlcm5hbWVcbi8vICAgNC4gUGFzc3dvcmRcbi8vICAgNS4gSG9zdG5hbWVcbi8vICAgNi4gUG9ydFxuLy8gICA3LiBQYXRoXG4vLyAgIDguIFF1ZXJ5XG4vLyAgIDkuIEZyYWdtZW50XG4vLyAgICAgICAgICAgICAgICAgMTExMTExMTExMTExMTExMSAyMjIgICAzMzMzMzMgICAgNDQ0NDQgICAgICAgIDU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1ICAgICA2NjYgICAgIDc3Nzc3Nzc3ICAgICA4ODg4ODg4ICAgICA5OTlcbnZhciBVUkxfUkVHRVhQID0gL15bYS16XVthLXpcXGQuKy1dKjpcXC8qKD86W146QF0rKD86OlteQF0rKT9AKT8oPzpbXlxcczovPyNdK3xcXFtbYS1mXFxkOl0rXSkoPzo6XFxkKyk/KD86XFwvW14/I10qKT8oPzpcXD9bXiNdKik/KD86Iy4qKT8kL2k7XG4vLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbWF4LWxlblxudmFyIEVNQUlMX1JFR0VYUCA9IC9eKD89LnsxLDI1NH0kKSg/PS57MSw2NH1AKVstISMkJSYnKisvMC05PT9BLVpeX2BhLXp7fH1+XSsoXFwuWy0hIyQlJicqKy8wLTk9P0EtWl5fYGEtent8fX5dKykqQFtBLVphLXowLTldKFtBLVphLXowLTktXXswLDYxfVtBLVphLXowLTldKT8oXFwuW0EtWmEtejAtOV0oW0EtWmEtejAtOS1dezAsNjF9W0EtWmEtejAtOV0pPykqJC87XG52YXIgTlVNQkVSX1JFR0VYUCA9IC9eXFxzKigtfFxcKyk/KFxcZCt8KFxcZCooXFwuXFxkKikpKShbZUVdWystXT9cXGQrKT9cXHMqJC87XG52YXIgREFURV9SRUdFWFAgPSAvXihcXGR7NCx9KS0oXFxkezJ9KS0oXFxkezJ9KSQvO1xudmFyIERBVEVUSU1FTE9DQUxfUkVHRVhQID0gL14oXFxkezQsfSktKFxcZFxcZCktKFxcZFxcZClUKFxcZFxcZCk6KFxcZFxcZCkoPzo6KFxcZFxcZCkoXFwuXFxkezEsM30pPyk/JC87XG52YXIgV0VFS19SRUdFWFAgPSAvXihcXGR7NCx9KS1XKFxcZFxcZCkkLztcbnZhciBNT05USF9SRUdFWFAgPSAvXihcXGR7NCx9KS0oXFxkXFxkKSQvO1xudmFyIFRJTUVfUkVHRVhQID0gL14oXFxkXFxkKTooXFxkXFxkKSg/OjooXFxkXFxkKShcXC5cXGR7MSwzfSk/KT8kLztcblxudmFyIFBBUlRJQUxfVkFMSURBVElPTl9FVkVOVFMgPSAna2V5ZG93biB3aGVlbCBtb3VzZWRvd24nO1xudmFyIFBBUlRJQUxfVkFMSURBVElPTl9UWVBFUyA9IGNyZWF0ZU1hcCgpO1xuZm9yRWFjaCgnZGF0ZSxkYXRldGltZS1sb2NhbCxtb250aCx0aW1lLHdlZWsnLnNwbGl0KCcsJyksIGZ1bmN0aW9uKHR5cGUpIHtcbiAgUEFSVElBTF9WQUxJREFUSU9OX1RZUEVTW3R5cGVdID0gdHJ1ZTtcbn0pO1xuXG52YXIgaW5wdXRUeXBlID0ge1xuXG4gIC8qKlxuICAgKiBAbmdkb2MgaW5wdXRcbiAgICogQG5hbWUgaW5wdXRbdGV4dF1cbiAgICpcbiAgICogQGRlc2NyaXB0aW9uXG4gICAqIFN0YW5kYXJkIEhUTUwgdGV4dCBpbnB1dCB3aXRoIGFuZ3VsYXIgZGF0YSBiaW5kaW5nLCBpbmhlcml0ZWQgYnkgbW9zdCBvZiB0aGUgYGlucHV0YCBlbGVtZW50cy5cbiAgICpcbiAgICpcbiAgICogQHBhcmFtIHtzdHJpbmd9IG5nTW9kZWwgQXNzaWduYWJsZSBhbmd1bGFyIGV4cHJlc3Npb24gdG8gZGF0YS1iaW5kIHRvLlxuICAgKiBAcGFyYW0ge3N0cmluZz19IG5hbWUgUHJvcGVydHkgbmFtZSBvZiB0aGUgZm9ybSB1bmRlciB3aGljaCB0aGUgY29udHJvbCBpcyBwdWJsaXNoZWQuXG4gICAqIEBwYXJhbSB7c3RyaW5nPX0gcmVxdWlyZWQgQWRkcyBgcmVxdWlyZWRgIHZhbGlkYXRpb24gZXJyb3Iga2V5IGlmIHRoZSB2YWx1ZSBpcyBub3QgZW50ZXJlZC5cbiAgICogQHBhcmFtIHtzdHJpbmc9fSBuZ1JlcXVpcmVkIEFkZHMgYHJlcXVpcmVkYCBhdHRyaWJ1dGUgYW5kIGByZXF1aXJlZGAgdmFsaWRhdGlvbiBjb25zdHJhaW50IHRvXG4gICAqICAgIHRoZSBlbGVtZW50IHdoZW4gdGhlIG5nUmVxdWlyZWQgZXhwcmVzc2lvbiBldmFsdWF0ZXMgdG8gdHJ1ZS4gVXNlIGBuZ1JlcXVpcmVkYCBpbnN0ZWFkIG9mXG4gICAqICAgIGByZXF1aXJlZGAgd2hlbiB5b3Ugd2FudCB0byBkYXRhLWJpbmQgdG8gdGhlIGByZXF1aXJlZGAgYXR0cmlidXRlLlxuICAgKiBAcGFyYW0ge251bWJlcj19IG5nTWlubGVuZ3RoIFNldHMgYG1pbmxlbmd0aGAgdmFsaWRhdGlvbiBlcnJvciBrZXkgaWYgdGhlIHZhbHVlIGlzIHNob3J0ZXIgdGhhblxuICAgKiAgICBtaW5sZW5ndGguXG4gICAqIEBwYXJhbSB7bnVtYmVyPX0gbmdNYXhsZW5ndGggU2V0cyBgbWF4bGVuZ3RoYCB2YWxpZGF0aW9uIGVycm9yIGtleSBpZiB0aGUgdmFsdWUgaXMgbG9uZ2VyIHRoYW5cbiAgICogICAgbWF4bGVuZ3RoLiBTZXR0aW5nIHRoZSBhdHRyaWJ1dGUgdG8gYSBuZWdhdGl2ZSBvciBub24tbnVtZXJpYyB2YWx1ZSwgYWxsb3dzIHZpZXcgdmFsdWVzIG9mXG4gICAqICAgIGFueSBsZW5ndGguXG4gICAqIEBwYXJhbSB7c3RyaW5nPX0gcGF0dGVybiBTaW1pbGFyIHRvIGBuZ1BhdHRlcm5gIGV4Y2VwdCB0aGF0IHRoZSBhdHRyaWJ1dGUgdmFsdWUgaXMgdGhlIGFjdHVhbCBzdHJpbmdcbiAgICogICAgdGhhdCBjb250YWlucyB0aGUgcmVndWxhciBleHByZXNzaW9uIGJvZHkgdGhhdCB3aWxsIGJlIGNvbnZlcnRlZCB0byBhIHJlZ3VsYXIgZXhwcmVzc2lvblxuICAgKiAgICBhcyBpbiB0aGUgbmdQYXR0ZXJuIGRpcmVjdGl2ZS5cbiAgICogQHBhcmFtIHtzdHJpbmc9fSBuZ1BhdHRlcm4gU2V0cyBgcGF0dGVybmAgdmFsaWRhdGlvbiBlcnJvciBrZXkgaWYgdGhlIG5nTW9kZWwge0BsaW5rIG5nTW9kZWwuTmdNb2RlbENvbnRyb2xsZXIjJHZpZXdWYWx1ZSAkdmlld1ZhbHVlfVxuICAgKiAgICBkb2VzIG5vdCBtYXRjaCBhIFJlZ0V4cCBmb3VuZCBieSBldmFsdWF0aW5nIHRoZSBBbmd1bGFyIGV4cHJlc3Npb24gZ2l2ZW4gaW4gdGhlIGF0dHJpYnV0ZSB2YWx1ZS5cbiAgICogICAgSWYgdGhlIGV4cHJlc3Npb24gZXZhbHVhdGVzIHRvIGEgUmVnRXhwIG9iamVjdCwgdGhlbiB0aGlzIGlzIHVzZWQgZGlyZWN0bHkuXG4gICAqICAgIElmIHRoZSBleHByZXNzaW9uIGV2YWx1YXRlcyB0byBhIHN0cmluZywgdGhlbiBpdCB3aWxsIGJlIGNvbnZlcnRlZCB0byBhIFJlZ0V4cFxuICAgKiAgICBhZnRlciB3cmFwcGluZyBpdCBpbiBgXmAgYW5kIGAkYCBjaGFyYWN0ZXJzLiBGb3IgaW5zdGFuY2UsIGBcImFiY1wiYCB3aWxsIGJlIGNvbnZlcnRlZCB0b1xuICAgKiAgICBgbmV3IFJlZ0V4cCgnXmFiYyQnKWAuPGJyIC8+XG4gICAqICAgICoqTm90ZToqKiBBdm9pZCB1c2luZyB0aGUgYGdgIGZsYWcgb24gdGhlIFJlZ0V4cCwgYXMgaXQgd2lsbCBjYXVzZSBlYWNoIHN1Y2Nlc3NpdmUgc2VhcmNoIHRvXG4gICAqICAgIHN0YXJ0IGF0IHRoZSBpbmRleCBvZiB0aGUgbGFzdCBzZWFyY2gncyBtYXRjaCwgdGh1cyBub3QgdGFraW5nIHRoZSB3aG9sZSBpbnB1dCB2YWx1ZSBpbnRvXG4gICAqICAgIGFjY291bnQuXG4gICAqIEBwYXJhbSB7c3RyaW5nPX0gbmdDaGFuZ2UgQW5ndWxhciBleHByZXNzaW9uIHRvIGJlIGV4ZWN1dGVkIHdoZW4gaW5wdXQgY2hhbmdlcyBkdWUgdG8gdXNlclxuICAgKiAgICBpbnRlcmFjdGlvbiB3aXRoIHRoZSBpbnB1dCBlbGVtZW50LlxuICAgKiBAcGFyYW0ge2Jvb2xlYW49fSBbbmdUcmltPXRydWVdIElmIHNldCB0byBmYWxzZSBBbmd1bGFyIHdpbGwgbm90IGF1dG9tYXRpY2FsbHkgdHJpbSB0aGUgaW5wdXQuXG4gICAqICAgIFRoaXMgcGFyYW1ldGVyIGlzIGlnbm9yZWQgZm9yIGlucHV0W3R5cGU9cGFzc3dvcmRdIGNvbnRyb2xzLCB3aGljaCB3aWxsIG5ldmVyIHRyaW0gdGhlXG4gICAqICAgIGlucHV0LlxuICAgKlxuICAgKiBAZXhhbXBsZVxuICAgICAgPGV4YW1wbGUgbmFtZT1cInRleHQtaW5wdXQtZGlyZWN0aXZlXCIgbW9kdWxlPVwidGV4dElucHV0RXhhbXBsZVwiPlxuICAgICAgICA8ZmlsZSBuYW1lPVwiaW5kZXguaHRtbFwiPlxuICAgICAgICAgPHNjcmlwdD5cbiAgICAgICAgICAgYW5ndWxhci5tb2R1bGUoJ3RleHRJbnB1dEV4YW1wbGUnLCBbXSlcbiAgICAgICAgICAgICAuY29udHJvbGxlcignRXhhbXBsZUNvbnRyb2xsZXInLCBbJyRzY29wZScsIGZ1bmN0aW9uKCRzY29wZSkge1xuICAgICAgICAgICAgICAgJHNjb3BlLmV4YW1wbGUgPSB7XG4gICAgICAgICAgICAgICAgIHRleHQ6ICdndWVzdCcsXG4gICAgICAgICAgICAgICAgIHdvcmQ6IC9eXFxzKlxcdypcXHMqJC9cbiAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgfV0pO1xuICAgICAgICAgPC9zY3JpcHQ+XG4gICAgICAgICA8Zm9ybSBuYW1lPVwibXlGb3JtXCIgbmctY29udHJvbGxlcj1cIkV4YW1wbGVDb250cm9sbGVyXCI+XG4gICAgICAgICAgIDxsYWJlbD5TaW5nbGUgd29yZDpcbiAgICAgICAgICAgICA8aW5wdXQgdHlwZT1cInRleHRcIiBuYW1lPVwiaW5wdXRcIiBuZy1tb2RlbD1cImV4YW1wbGUudGV4dFwiXG4gICAgICAgICAgICAgICAgICAgIG5nLXBhdHRlcm49XCJleGFtcGxlLndvcmRcIiByZXF1aXJlZCBuZy10cmltPVwiZmFsc2VcIj5cbiAgICAgICAgICAgPC9sYWJlbD5cbiAgICAgICAgICAgPGRpdiByb2xlPVwiYWxlcnRcIj5cbiAgICAgICAgICAgICA8c3BhbiBjbGFzcz1cImVycm9yXCIgbmctc2hvdz1cIm15Rm9ybS5pbnB1dC4kZXJyb3IucmVxdWlyZWRcIj5cbiAgICAgICAgICAgICAgIFJlcXVpcmVkITwvc3Bhbj5cbiAgICAgICAgICAgICA8c3BhbiBjbGFzcz1cImVycm9yXCIgbmctc2hvdz1cIm15Rm9ybS5pbnB1dC4kZXJyb3IucGF0dGVyblwiPlxuICAgICAgICAgICAgICAgU2luZ2xlIHdvcmQgb25seSE8L3NwYW4+XG4gICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICA8Y29kZT50ZXh0ID0ge3tleGFtcGxlLnRleHR9fTwvY29kZT48YnIvPlxuICAgICAgICAgICA8Y29kZT5teUZvcm0uaW5wdXQuJHZhbGlkID0ge3tteUZvcm0uaW5wdXQuJHZhbGlkfX08L2NvZGU+PGJyLz5cbiAgICAgICAgICAgPGNvZGU+bXlGb3JtLmlucHV0LiRlcnJvciA9IHt7bXlGb3JtLmlucHV0LiRlcnJvcn19PC9jb2RlPjxici8+XG4gICAgICAgICAgIDxjb2RlPm15Rm9ybS4kdmFsaWQgPSB7e215Rm9ybS4kdmFsaWR9fTwvY29kZT48YnIvPlxuICAgICAgICAgICA8Y29kZT5teUZvcm0uJGVycm9yLnJlcXVpcmVkID0ge3shIW15Rm9ybS4kZXJyb3IucmVxdWlyZWR9fTwvY29kZT48YnIvPlxuICAgICAgICAgIDwvZm9ybT5cbiAgICAgICAgPC9maWxlPlxuICAgICAgICA8ZmlsZSBuYW1lPVwicHJvdHJhY3Rvci5qc1wiIHR5cGU9XCJwcm90cmFjdG9yXCI+XG4gICAgICAgICAgdmFyIHRleHQgPSBlbGVtZW50KGJ5LmJpbmRpbmcoJ2V4YW1wbGUudGV4dCcpKTtcbiAgICAgICAgICB2YXIgdmFsaWQgPSBlbGVtZW50KGJ5LmJpbmRpbmcoJ215Rm9ybS5pbnB1dC4kdmFsaWQnKSk7XG4gICAgICAgICAgdmFyIGlucHV0ID0gZWxlbWVudChieS5tb2RlbCgnZXhhbXBsZS50ZXh0JykpO1xuXG4gICAgICAgICAgaXQoJ3Nob3VsZCBpbml0aWFsaXplIHRvIG1vZGVsJywgZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICBleHBlY3QodGV4dC5nZXRUZXh0KCkpLnRvQ29udGFpbignZ3Vlc3QnKTtcbiAgICAgICAgICAgIGV4cGVjdCh2YWxpZC5nZXRUZXh0KCkpLnRvQ29udGFpbigndHJ1ZScpO1xuICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgaXQoJ3Nob3VsZCBiZSBpbnZhbGlkIGlmIGVtcHR5JywgZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICBpbnB1dC5jbGVhcigpO1xuICAgICAgICAgICAgaW5wdXQuc2VuZEtleXMoJycpO1xuXG4gICAgICAgICAgICBleHBlY3QodGV4dC5nZXRUZXh0KCkpLnRvRXF1YWwoJ3RleHQgPScpO1xuICAgICAgICAgICAgZXhwZWN0KHZhbGlkLmdldFRleHQoKSkudG9Db250YWluKCdmYWxzZScpO1xuICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgaXQoJ3Nob3VsZCBiZSBpbnZhbGlkIGlmIG11bHRpIHdvcmQnLCBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIGlucHV0LmNsZWFyKCk7XG4gICAgICAgICAgICBpbnB1dC5zZW5kS2V5cygnaGVsbG8gd29ybGQnKTtcblxuICAgICAgICAgICAgZXhwZWN0KHZhbGlkLmdldFRleHQoKSkudG9Db250YWluKCdmYWxzZScpO1xuICAgICAgICAgIH0pO1xuICAgICAgICA8L2ZpbGU+XG4gICAgICA8L2V4YW1wbGU+XG4gICAqL1xuICAndGV4dCc6IHRleHRJbnB1dFR5cGUsXG5cbiAgICAvKipcbiAgICAgKiBAbmdkb2MgaW5wdXRcbiAgICAgKiBAbmFtZSBpbnB1dFtkYXRlXVxuICAgICAqXG4gICAgICogQGRlc2NyaXB0aW9uXG4gICAgICogSW5wdXQgd2l0aCBkYXRlIHZhbGlkYXRpb24gYW5kIHRyYW5zZm9ybWF0aW9uLiBJbiBicm93c2VycyB0aGF0IGRvIG5vdCB5ZXQgc3VwcG9ydFxuICAgICAqIHRoZSBIVE1MNSBkYXRlIGlucHV0LCBhIHRleHQgZWxlbWVudCB3aWxsIGJlIHVzZWQuIEluIHRoYXQgY2FzZSwgdGV4dCBtdXN0IGJlIGVudGVyZWQgaW4gYSB2YWxpZCBJU08tODYwMVxuICAgICAqIGRhdGUgZm9ybWF0ICh5eXl5LU1NLWRkKSwgZm9yIGV4YW1wbGU6IGAyMDA5LTAxLTA2YC4gU2luY2UgbWFueVxuICAgICAqIG1vZGVybiBicm93c2VycyBkbyBub3QgeWV0IHN1cHBvcnQgdGhpcyBpbnB1dCB0eXBlLCBpdCBpcyBpbXBvcnRhbnQgdG8gcHJvdmlkZSBjdWVzIHRvIHVzZXJzIG9uIHRoZVxuICAgICAqIGV4cGVjdGVkIGlucHV0IGZvcm1hdCB2aWEgYSBwbGFjZWhvbGRlciBvciBsYWJlbC5cbiAgICAgKlxuICAgICAqIFRoZSBtb2RlbCBtdXN0IGFsd2F5cyBiZSBhIERhdGUgb2JqZWN0LCBvdGhlcndpc2UgQW5ndWxhciB3aWxsIHRocm93IGFuIGVycm9yLlxuICAgICAqIEludmFsaWQgYERhdGVgIG9iamVjdHMgKGRhdGVzIHdob3NlIGBnZXRUaW1lKClgIGlzIGBOYU5gKSB3aWxsIGJlIHJlbmRlcmVkIGFzIGFuIGVtcHR5IHN0cmluZy5cbiAgICAgKlxuICAgICAqIFRoZSB0aW1lem9uZSB0byBiZSB1c2VkIHRvIHJlYWQvd3JpdGUgdGhlIGBEYXRlYCBpbnN0YW5jZSBpbiB0aGUgbW9kZWwgY2FuIGJlIGRlZmluZWQgdXNpbmdcbiAgICAgKiB7QGxpbmsgbmcuZGlyZWN0aXZlOm5nTW9kZWxPcHRpb25zIG5nTW9kZWxPcHRpb25zfS4gQnkgZGVmYXVsdCwgdGhpcyBpcyB0aGUgdGltZXpvbmUgb2YgdGhlIGJyb3dzZXIuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gbmdNb2RlbCBBc3NpZ25hYmxlIGFuZ3VsYXIgZXhwcmVzc2lvbiB0byBkYXRhLWJpbmQgdG8uXG4gICAgICogQHBhcmFtIHtzdHJpbmc9fSBuYW1lIFByb3BlcnR5IG5hbWUgb2YgdGhlIGZvcm0gdW5kZXIgd2hpY2ggdGhlIGNvbnRyb2wgaXMgcHVibGlzaGVkLlxuICAgICAqIEBwYXJhbSB7c3RyaW5nPX0gbWluIFNldHMgdGhlIGBtaW5gIHZhbGlkYXRpb24gZXJyb3Iga2V5IGlmIHRoZSB2YWx1ZSBlbnRlcmVkIGlzIGxlc3MgdGhhbiBgbWluYC4gVGhpcyBtdXN0IGJlIGFcbiAgICAgKiAgIHZhbGlkIElTTyBkYXRlIHN0cmluZyAoeXl5eS1NTS1kZCkuIFlvdSBjYW4gYWxzbyB1c2UgaW50ZXJwb2xhdGlvbiBpbnNpZGUgdGhpcyBhdHRyaWJ1dGVcbiAgICAgKiAgIChlLmcuIGBtaW49XCJ7e21pbkRhdGUgfCBkYXRlOid5eXl5LU1NLWRkJ319XCJgKS4gTm90ZSB0aGF0IGBtaW5gIHdpbGwgYWxzbyBhZGQgbmF0aXZlIEhUTUw1XG4gICAgICogICBjb25zdHJhaW50IHZhbGlkYXRpb24uXG4gICAgICogQHBhcmFtIHtzdHJpbmc9fSBtYXggU2V0cyB0aGUgYG1heGAgdmFsaWRhdGlvbiBlcnJvciBrZXkgaWYgdGhlIHZhbHVlIGVudGVyZWQgaXMgZ3JlYXRlciB0aGFuIGBtYXhgLiBUaGlzIG11c3QgYmVcbiAgICAgKiAgIGEgdmFsaWQgSVNPIGRhdGUgc3RyaW5nICh5eXl5LU1NLWRkKS4gWW91IGNhbiBhbHNvIHVzZSBpbnRlcnBvbGF0aW9uIGluc2lkZSB0aGlzIGF0dHJpYnV0ZVxuICAgICAqICAgKGUuZy4gYG1heD1cInt7bWF4RGF0ZSB8IGRhdGU6J3l5eXktTU0tZGQnfX1cImApLiBOb3RlIHRoYXQgYG1heGAgd2lsbCBhbHNvIGFkZCBuYXRpdmUgSFRNTDVcbiAgICAgKiAgIGNvbnN0cmFpbnQgdmFsaWRhdGlvbi5cbiAgICAgKiBAcGFyYW0geyhkYXRlfHN0cmluZyk9fSBuZ01pbiBTZXRzIHRoZSBgbWluYCB2YWxpZGF0aW9uIGNvbnN0cmFpbnQgdG8gdGhlIERhdGUgLyBJU08gZGF0ZSBzdHJpbmdcbiAgICAgKiAgIHRoZSBgbmdNaW5gIGV4cHJlc3Npb24gZXZhbHVhdGVzIHRvLiBOb3RlIHRoYXQgaXQgZG9lcyBub3Qgc2V0IHRoZSBgbWluYCBhdHRyaWJ1dGUuXG4gICAgICogQHBhcmFtIHsoZGF0ZXxzdHJpbmcpPX0gbmdNYXggU2V0cyB0aGUgYG1heGAgdmFsaWRhdGlvbiBjb25zdHJhaW50IHRvIHRoZSBEYXRlIC8gSVNPIGRhdGUgc3RyaW5nXG4gICAgICogICB0aGUgYG5nTWF4YCBleHByZXNzaW9uIGV2YWx1YXRlcyB0by4gTm90ZSB0aGF0IGl0IGRvZXMgbm90IHNldCB0aGUgYG1heGAgYXR0cmlidXRlLlxuICAgICAqIEBwYXJhbSB7c3RyaW5nPX0gcmVxdWlyZWQgU2V0cyBgcmVxdWlyZWRgIHZhbGlkYXRpb24gZXJyb3Iga2V5IGlmIHRoZSB2YWx1ZSBpcyBub3QgZW50ZXJlZC5cbiAgICAgKiBAcGFyYW0ge3N0cmluZz19IG5nUmVxdWlyZWQgQWRkcyBgcmVxdWlyZWRgIGF0dHJpYnV0ZSBhbmQgYHJlcXVpcmVkYCB2YWxpZGF0aW9uIGNvbnN0cmFpbnQgdG9cbiAgICAgKiAgICB0aGUgZWxlbWVudCB3aGVuIHRoZSBuZ1JlcXVpcmVkIGV4cHJlc3Npb24gZXZhbHVhdGVzIHRvIHRydWUuIFVzZSBgbmdSZXF1aXJlZGAgaW5zdGVhZCBvZlxuICAgICAqICAgIGByZXF1aXJlZGAgd2hlbiB5b3Ugd2FudCB0byBkYXRhLWJpbmQgdG8gdGhlIGByZXF1aXJlZGAgYXR0cmlidXRlLlxuICAgICAqIEBwYXJhbSB7c3RyaW5nPX0gbmdDaGFuZ2UgQW5ndWxhciBleHByZXNzaW9uIHRvIGJlIGV4ZWN1dGVkIHdoZW4gaW5wdXQgY2hhbmdlcyBkdWUgdG8gdXNlclxuICAgICAqICAgIGludGVyYWN0aW9uIHdpdGggdGhlIGlucHV0IGVsZW1lbnQuXG4gICAgICpcbiAgICAgKiBAZXhhbXBsZVxuICAgICA8ZXhhbXBsZSBuYW1lPVwiZGF0ZS1pbnB1dC1kaXJlY3RpdmVcIiBtb2R1bGU9XCJkYXRlSW5wdXRFeGFtcGxlXCI+XG4gICAgIDxmaWxlIG5hbWU9XCJpbmRleC5odG1sXCI+XG4gICAgICAgPHNjcmlwdD5cbiAgICAgICAgICBhbmd1bGFyLm1vZHVsZSgnZGF0ZUlucHV0RXhhbXBsZScsIFtdKVxuICAgICAgICAgICAgLmNvbnRyb2xsZXIoJ0RhdGVDb250cm9sbGVyJywgWyckc2NvcGUnLCBmdW5jdGlvbigkc2NvcGUpIHtcbiAgICAgICAgICAgICAgJHNjb3BlLmV4YW1wbGUgPSB7XG4gICAgICAgICAgICAgICAgdmFsdWU6IG5ldyBEYXRlKDIwMTMsIDksIDIyKVxuICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgfV0pO1xuICAgICAgIDwvc2NyaXB0PlxuICAgICAgIDxmb3JtIG5hbWU9XCJteUZvcm1cIiBuZy1jb250cm9sbGVyPVwiRGF0ZUNvbnRyb2xsZXIgYXMgZGF0ZUN0cmxcIj5cbiAgICAgICAgICA8bGFiZWwgZm9yPVwiZXhhbXBsZUlucHV0XCI+UGljayBhIGRhdGUgaW4gMjAxMzo8L2xhYmVsPlxuICAgICAgICAgIDxpbnB1dCB0eXBlPVwiZGF0ZVwiIGlkPVwiZXhhbXBsZUlucHV0XCIgbmFtZT1cImlucHV0XCIgbmctbW9kZWw9XCJleGFtcGxlLnZhbHVlXCJcbiAgICAgICAgICAgICAgcGxhY2Vob2xkZXI9XCJ5eXl5LU1NLWRkXCIgbWluPVwiMjAxMy0wMS0wMVwiIG1heD1cIjIwMTMtMTItMzFcIiByZXF1aXJlZCAvPlxuICAgICAgICAgIDxkaXYgcm9sZT1cImFsZXJ0XCI+XG4gICAgICAgICAgICA8c3BhbiBjbGFzcz1cImVycm9yXCIgbmctc2hvdz1cIm15Rm9ybS5pbnB1dC4kZXJyb3IucmVxdWlyZWRcIj5cbiAgICAgICAgICAgICAgICBSZXF1aXJlZCE8L3NwYW4+XG4gICAgICAgICAgICA8c3BhbiBjbGFzcz1cImVycm9yXCIgbmctc2hvdz1cIm15Rm9ybS5pbnB1dC4kZXJyb3IuZGF0ZVwiPlxuICAgICAgICAgICAgICAgIE5vdCBhIHZhbGlkIGRhdGUhPC9zcGFuPlxuICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgPHR0PnZhbHVlID0ge3tleGFtcGxlLnZhbHVlIHwgZGF0ZTogXCJ5eXl5LU1NLWRkXCJ9fTwvdHQ+PGJyLz5cbiAgICAgICAgICAgPHR0Pm15Rm9ybS5pbnB1dC4kdmFsaWQgPSB7e215Rm9ybS5pbnB1dC4kdmFsaWR9fTwvdHQ+PGJyLz5cbiAgICAgICAgICAgPHR0Pm15Rm9ybS5pbnB1dC4kZXJyb3IgPSB7e215Rm9ybS5pbnB1dC4kZXJyb3J9fTwvdHQ+PGJyLz5cbiAgICAgICAgICAgPHR0Pm15Rm9ybS4kdmFsaWQgPSB7e215Rm9ybS4kdmFsaWR9fTwvdHQ+PGJyLz5cbiAgICAgICAgICAgPHR0Pm15Rm9ybS4kZXJyb3IucmVxdWlyZWQgPSB7eyEhbXlGb3JtLiRlcnJvci5yZXF1aXJlZH19PC90dD48YnIvPlxuICAgICAgIDwvZm9ybT5cbiAgICAgPC9maWxlPlxuICAgICA8ZmlsZSBuYW1lPVwicHJvdHJhY3Rvci5qc1wiIHR5cGU9XCJwcm90cmFjdG9yXCI+XG4gICAgICAgIHZhciB2YWx1ZSA9IGVsZW1lbnQoYnkuYmluZGluZygnZXhhbXBsZS52YWx1ZSB8IGRhdGU6IFwieXl5eS1NTS1kZFwiJykpO1xuICAgICAgICB2YXIgdmFsaWQgPSBlbGVtZW50KGJ5LmJpbmRpbmcoJ215Rm9ybS5pbnB1dC4kdmFsaWQnKSk7XG5cbiAgICAgICAgLy8gY3VycmVudGx5IHByb3RyYWN0b3Ivd2ViZHJpdmVyIGRvZXMgbm90IHN1cHBvcnRcbiAgICAgICAgLy8gc2VuZGluZyBrZXlzIHRvIGFsbCBrbm93biBIVE1MNSBpbnB1dCBjb250cm9sc1xuICAgICAgICAvLyBmb3IgdmFyaW91cyBicm93c2VycyAoc2VlIGh0dHBzOi8vZ2l0aHViLmNvbS9hbmd1bGFyL3Byb3RyYWN0b3IvaXNzdWVzLzU2MikuXG4gICAgICAgIGZ1bmN0aW9uIHNldElucHV0KHZhbCkge1xuICAgICAgICAgIC8vIHNldCB0aGUgdmFsdWUgb2YgdGhlIGVsZW1lbnQgYW5kIGZvcmNlIHZhbGlkYXRpb24uXG4gICAgICAgICAgdmFyIHNjciA9IFwidmFyIGlwdCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdleGFtcGxlSW5wdXQnKTsgXCIgK1xuICAgICAgICAgIFwiaXB0LnZhbHVlID0gJ1wiICsgdmFsICsgXCInO1wiICtcbiAgICAgICAgICBcImFuZ3VsYXIuZWxlbWVudChpcHQpLnNjb3BlKCkuJGFwcGx5KGZ1bmN0aW9uKHMpIHsgcy5teUZvcm1baXB0Lm5hbWVdLiRzZXRWaWV3VmFsdWUoJ1wiICsgdmFsICsgXCInKTsgfSk7XCI7XG4gICAgICAgICAgYnJvd3Nlci5leGVjdXRlU2NyaXB0KHNjcik7XG4gICAgICAgIH1cblxuICAgICAgICBpdCgnc2hvdWxkIGluaXRpYWxpemUgdG8gbW9kZWwnLCBmdW5jdGlvbigpIHtcbiAgICAgICAgICBleHBlY3QodmFsdWUuZ2V0VGV4dCgpKS50b0NvbnRhaW4oJzIwMTMtMTAtMjInKTtcbiAgICAgICAgICBleHBlY3QodmFsaWQuZ2V0VGV4dCgpKS50b0NvbnRhaW4oJ215Rm9ybS5pbnB1dC4kdmFsaWQgPSB0cnVlJyk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIGl0KCdzaG91bGQgYmUgaW52YWxpZCBpZiBlbXB0eScsIGZ1bmN0aW9uKCkge1xuICAgICAgICAgIHNldElucHV0KCcnKTtcbiAgICAgICAgICBleHBlY3QodmFsdWUuZ2V0VGV4dCgpKS50b0VxdWFsKCd2YWx1ZSA9Jyk7XG4gICAgICAgICAgZXhwZWN0KHZhbGlkLmdldFRleHQoKSkudG9Db250YWluKCdteUZvcm0uaW5wdXQuJHZhbGlkID0gZmFsc2UnKTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgaXQoJ3Nob3VsZCBiZSBpbnZhbGlkIGlmIG92ZXIgbWF4JywgZnVuY3Rpb24oKSB7XG4gICAgICAgICAgc2V0SW5wdXQoJzIwMTUtMDEtMDEnKTtcbiAgICAgICAgICBleHBlY3QodmFsdWUuZ2V0VGV4dCgpKS50b0NvbnRhaW4oJycpO1xuICAgICAgICAgIGV4cGVjdCh2YWxpZC5nZXRUZXh0KCkpLnRvQ29udGFpbignbXlGb3JtLmlucHV0LiR2YWxpZCA9IGZhbHNlJyk7XG4gICAgICAgIH0pO1xuICAgICA8L2ZpbGU+XG4gICAgIDwvZXhhbXBsZT5cbiAgICAgKi9cbiAgJ2RhdGUnOiBjcmVhdGVEYXRlSW5wdXRUeXBlKCdkYXRlJywgREFURV9SRUdFWFAsXG4gICAgICAgICBjcmVhdGVEYXRlUGFyc2VyKERBVEVfUkVHRVhQLCBbJ3l5eXknLCAnTU0nLCAnZGQnXSksXG4gICAgICAgICAneXl5eS1NTS1kZCcpLFxuXG4gICAvKipcbiAgICAqIEBuZ2RvYyBpbnB1dFxuICAgICogQG5hbWUgaW5wdXRbZGF0ZXRpbWUtbG9jYWxdXG4gICAgKlxuICAgICogQGRlc2NyaXB0aW9uXG4gICAgKiBJbnB1dCB3aXRoIGRhdGV0aW1lIHZhbGlkYXRpb24gYW5kIHRyYW5zZm9ybWF0aW9uLiBJbiBicm93c2VycyB0aGF0IGRvIG5vdCB5ZXQgc3VwcG9ydFxuICAgICogdGhlIEhUTUw1IGRhdGUgaW5wdXQsIGEgdGV4dCBlbGVtZW50IHdpbGwgYmUgdXNlZC4gSW4gdGhhdCBjYXNlLCB0aGUgdGV4dCBtdXN0IGJlIGVudGVyZWQgaW4gYSB2YWxpZCBJU08tODYwMVxuICAgICogbG9jYWwgZGF0ZXRpbWUgZm9ybWF0ICh5eXl5LU1NLWRkVEhIOm1tOnNzKSwgZm9yIGV4YW1wbGU6IGAyMDEwLTEyLTI4VDE0OjU3OjAwYC5cbiAgICAqXG4gICAgKiBUaGUgbW9kZWwgbXVzdCBhbHdheXMgYmUgYSBEYXRlIG9iamVjdCwgb3RoZXJ3aXNlIEFuZ3VsYXIgd2lsbCB0aHJvdyBhbiBlcnJvci5cbiAgICAqIEludmFsaWQgYERhdGVgIG9iamVjdHMgKGRhdGVzIHdob3NlIGBnZXRUaW1lKClgIGlzIGBOYU5gKSB3aWxsIGJlIHJlbmRlcmVkIGFzIGFuIGVtcHR5IHN0cmluZy5cbiAgICAqXG4gICAgKiBUaGUgdGltZXpvbmUgdG8gYmUgdXNlZCB0byByZWFkL3dyaXRlIHRoZSBgRGF0ZWAgaW5zdGFuY2UgaW4gdGhlIG1vZGVsIGNhbiBiZSBkZWZpbmVkIHVzaW5nXG4gICAgKiB7QGxpbmsgbmcuZGlyZWN0aXZlOm5nTW9kZWxPcHRpb25zIG5nTW9kZWxPcHRpb25zfS4gQnkgZGVmYXVsdCwgdGhpcyBpcyB0aGUgdGltZXpvbmUgb2YgdGhlIGJyb3dzZXIuXG4gICAgKlxuICAgICogQHBhcmFtIHtzdHJpbmd9IG5nTW9kZWwgQXNzaWduYWJsZSBhbmd1bGFyIGV4cHJlc3Npb24gdG8gZGF0YS1iaW5kIHRvLlxuICAgICogQHBhcmFtIHtzdHJpbmc9fSBuYW1lIFByb3BlcnR5IG5hbWUgb2YgdGhlIGZvcm0gdW5kZXIgd2hpY2ggdGhlIGNvbnRyb2wgaXMgcHVibGlzaGVkLlxuICAgICogQHBhcmFtIHtzdHJpbmc9fSBtaW4gU2V0cyB0aGUgYG1pbmAgdmFsaWRhdGlvbiBlcnJvciBrZXkgaWYgdGhlIHZhbHVlIGVudGVyZWQgaXMgbGVzcyB0aGFuIGBtaW5gLlxuICAgICogICBUaGlzIG11c3QgYmUgYSB2YWxpZCBJU08gZGF0ZXRpbWUgZm9ybWF0ICh5eXl5LU1NLWRkVEhIOm1tOnNzKS4gWW91IGNhbiBhbHNvIHVzZSBpbnRlcnBvbGF0aW9uXG4gICAgKiAgIGluc2lkZSB0aGlzIGF0dHJpYnV0ZSAoZS5nLiBgbWluPVwie3ttaW5EYXRldGltZUxvY2FsIHwgZGF0ZToneXl5eS1NTS1kZFRISDptbTpzcyd9fVwiYCkuXG4gICAgKiAgIE5vdGUgdGhhdCBgbWluYCB3aWxsIGFsc28gYWRkIG5hdGl2ZSBIVE1MNSBjb25zdHJhaW50IHZhbGlkYXRpb24uXG4gICAgKiBAcGFyYW0ge3N0cmluZz19IG1heCBTZXRzIHRoZSBgbWF4YCB2YWxpZGF0aW9uIGVycm9yIGtleSBpZiB0aGUgdmFsdWUgZW50ZXJlZCBpcyBncmVhdGVyIHRoYW4gYG1heGAuXG4gICAgKiAgIFRoaXMgbXVzdCBiZSBhIHZhbGlkIElTTyBkYXRldGltZSBmb3JtYXQgKHl5eXktTU0tZGRUSEg6bW06c3MpLiBZb3UgY2FuIGFsc28gdXNlIGludGVycG9sYXRpb25cbiAgICAqICAgaW5zaWRlIHRoaXMgYXR0cmlidXRlIChlLmcuIGBtYXg9XCJ7e21heERhdGV0aW1lTG9jYWwgfCBkYXRlOid5eXl5LU1NLWRkVEhIOm1tOnNzJ319XCJgKS5cbiAgICAqICAgTm90ZSB0aGF0IGBtYXhgIHdpbGwgYWxzbyBhZGQgbmF0aXZlIEhUTUw1IGNvbnN0cmFpbnQgdmFsaWRhdGlvbi5cbiAgICAqIEBwYXJhbSB7KGRhdGV8c3RyaW5nKT19IG5nTWluIFNldHMgdGhlIGBtaW5gIHZhbGlkYXRpb24gZXJyb3Iga2V5IHRvIHRoZSBEYXRlIC8gSVNPIGRhdGV0aW1lIHN0cmluZ1xuICAgICogICB0aGUgYG5nTWluYCBleHByZXNzaW9uIGV2YWx1YXRlcyB0by4gTm90ZSB0aGF0IGl0IGRvZXMgbm90IHNldCB0aGUgYG1pbmAgYXR0cmlidXRlLlxuICAgICogQHBhcmFtIHsoZGF0ZXxzdHJpbmcpPX0gbmdNYXggU2V0cyB0aGUgYG1heGAgdmFsaWRhdGlvbiBlcnJvciBrZXkgdG8gdGhlIERhdGUgLyBJU08gZGF0ZXRpbWUgc3RyaW5nXG4gICAgKiAgIHRoZSBgbmdNYXhgIGV4cHJlc3Npb24gZXZhbHVhdGVzIHRvLiBOb3RlIHRoYXQgaXQgZG9lcyBub3Qgc2V0IHRoZSBgbWF4YCBhdHRyaWJ1dGUuXG4gICAgKiBAcGFyYW0ge3N0cmluZz19IHJlcXVpcmVkIFNldHMgYHJlcXVpcmVkYCB2YWxpZGF0aW9uIGVycm9yIGtleSBpZiB0aGUgdmFsdWUgaXMgbm90IGVudGVyZWQuXG4gICAgKiBAcGFyYW0ge3N0cmluZz19IG5nUmVxdWlyZWQgQWRkcyBgcmVxdWlyZWRgIGF0dHJpYnV0ZSBhbmQgYHJlcXVpcmVkYCB2YWxpZGF0aW9uIGNvbnN0cmFpbnQgdG9cbiAgICAqICAgIHRoZSBlbGVtZW50IHdoZW4gdGhlIG5nUmVxdWlyZWQgZXhwcmVzc2lvbiBldmFsdWF0ZXMgdG8gdHJ1ZS4gVXNlIGBuZ1JlcXVpcmVkYCBpbnN0ZWFkIG9mXG4gICAgKiAgICBgcmVxdWlyZWRgIHdoZW4geW91IHdhbnQgdG8gZGF0YS1iaW5kIHRvIHRoZSBgcmVxdWlyZWRgIGF0dHJpYnV0ZS5cbiAgICAqIEBwYXJhbSB7c3RyaW5nPX0gbmdDaGFuZ2UgQW5ndWxhciBleHByZXNzaW9uIHRvIGJlIGV4ZWN1dGVkIHdoZW4gaW5wdXQgY2hhbmdlcyBkdWUgdG8gdXNlclxuICAgICogICAgaW50ZXJhY3Rpb24gd2l0aCB0aGUgaW5wdXQgZWxlbWVudC5cbiAgICAqXG4gICAgKiBAZXhhbXBsZVxuICAgIDxleGFtcGxlIG5hbWU9XCJkYXRldGltZWxvY2FsLWlucHV0LWRpcmVjdGl2ZVwiIG1vZHVsZT1cImRhdGVFeGFtcGxlXCI+XG4gICAgPGZpbGUgbmFtZT1cImluZGV4Lmh0bWxcIj5cbiAgICAgIDxzY3JpcHQ+XG4gICAgICAgIGFuZ3VsYXIubW9kdWxlKCdkYXRlRXhhbXBsZScsIFtdKVxuICAgICAgICAgIC5jb250cm9sbGVyKCdEYXRlQ29udHJvbGxlcicsIFsnJHNjb3BlJywgZnVuY3Rpb24oJHNjb3BlKSB7XG4gICAgICAgICAgICAkc2NvcGUuZXhhbXBsZSA9IHtcbiAgICAgICAgICAgICAgdmFsdWU6IG5ldyBEYXRlKDIwMTAsIDExLCAyOCwgMTQsIDU3KVxuICAgICAgICAgICAgfTtcbiAgICAgICAgICB9XSk7XG4gICAgICA8L3NjcmlwdD5cbiAgICAgIDxmb3JtIG5hbWU9XCJteUZvcm1cIiBuZy1jb250cm9sbGVyPVwiRGF0ZUNvbnRyb2xsZXIgYXMgZGF0ZUN0cmxcIj5cbiAgICAgICAgPGxhYmVsIGZvcj1cImV4YW1wbGVJbnB1dFwiPlBpY2sgYSBkYXRlIGJldHdlZW4gaW4gMjAxMzo8L2xhYmVsPlxuICAgICAgICA8aW5wdXQgdHlwZT1cImRhdGV0aW1lLWxvY2FsXCIgaWQ9XCJleGFtcGxlSW5wdXRcIiBuYW1lPVwiaW5wdXRcIiBuZy1tb2RlbD1cImV4YW1wbGUudmFsdWVcIlxuICAgICAgICAgICAgcGxhY2Vob2xkZXI9XCJ5eXl5LU1NLWRkVEhIOm1tOnNzXCIgbWluPVwiMjAwMS0wMS0wMVQwMDowMDowMFwiIG1heD1cIjIwMTMtMTItMzFUMDA6MDA6MDBcIiByZXF1aXJlZCAvPlxuICAgICAgICA8ZGl2IHJvbGU9XCJhbGVydFwiPlxuICAgICAgICAgIDxzcGFuIGNsYXNzPVwiZXJyb3JcIiBuZy1zaG93PVwibXlGb3JtLmlucHV0LiRlcnJvci5yZXF1aXJlZFwiPlxuICAgICAgICAgICAgICBSZXF1aXJlZCE8L3NwYW4+XG4gICAgICAgICAgPHNwYW4gY2xhc3M9XCJlcnJvclwiIG5nLXNob3c9XCJteUZvcm0uaW5wdXQuJGVycm9yLmRhdGV0aW1lbG9jYWxcIj5cbiAgICAgICAgICAgICAgTm90IGEgdmFsaWQgZGF0ZSE8L3NwYW4+XG4gICAgICAgIDwvZGl2PlxuICAgICAgICA8dHQ+dmFsdWUgPSB7e2V4YW1wbGUudmFsdWUgfCBkYXRlOiBcInl5eXktTU0tZGRUSEg6bW06c3NcIn19PC90dD48YnIvPlxuICAgICAgICA8dHQ+bXlGb3JtLmlucHV0LiR2YWxpZCA9IHt7bXlGb3JtLmlucHV0LiR2YWxpZH19PC90dD48YnIvPlxuICAgICAgICA8dHQ+bXlGb3JtLmlucHV0LiRlcnJvciA9IHt7bXlGb3JtLmlucHV0LiRlcnJvcn19PC90dD48YnIvPlxuICAgICAgICA8dHQ+bXlGb3JtLiR2YWxpZCA9IHt7bXlGb3JtLiR2YWxpZH19PC90dD48YnIvPlxuICAgICAgICA8dHQ+bXlGb3JtLiRlcnJvci5yZXF1aXJlZCA9IHt7ISFteUZvcm0uJGVycm9yLnJlcXVpcmVkfX08L3R0Pjxici8+XG4gICAgICA8L2Zvcm0+XG4gICAgPC9maWxlPlxuICAgIDxmaWxlIG5hbWU9XCJwcm90cmFjdG9yLmpzXCIgdHlwZT1cInByb3RyYWN0b3JcIj5cbiAgICAgIHZhciB2YWx1ZSA9IGVsZW1lbnQoYnkuYmluZGluZygnZXhhbXBsZS52YWx1ZSB8IGRhdGU6IFwieXl5eS1NTS1kZFRISDptbTpzc1wiJykpO1xuICAgICAgdmFyIHZhbGlkID0gZWxlbWVudChieS5iaW5kaW5nKCdteUZvcm0uaW5wdXQuJHZhbGlkJykpO1xuXG4gICAgICAvLyBjdXJyZW50bHkgcHJvdHJhY3Rvci93ZWJkcml2ZXIgZG9lcyBub3Qgc3VwcG9ydFxuICAgICAgLy8gc2VuZGluZyBrZXlzIHRvIGFsbCBrbm93biBIVE1MNSBpbnB1dCBjb250cm9sc1xuICAgICAgLy8gZm9yIHZhcmlvdXMgYnJvd3NlcnMgKGh0dHBzOi8vZ2l0aHViLmNvbS9hbmd1bGFyL3Byb3RyYWN0b3IvaXNzdWVzLzU2MikuXG4gICAgICBmdW5jdGlvbiBzZXRJbnB1dCh2YWwpIHtcbiAgICAgICAgLy8gc2V0IHRoZSB2YWx1ZSBvZiB0aGUgZWxlbWVudCBhbmQgZm9yY2UgdmFsaWRhdGlvbi5cbiAgICAgICAgdmFyIHNjciA9IFwidmFyIGlwdCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdleGFtcGxlSW5wdXQnKTsgXCIgK1xuICAgICAgICBcImlwdC52YWx1ZSA9ICdcIiArIHZhbCArIFwiJztcIiArXG4gICAgICAgIFwiYW5ndWxhci5lbGVtZW50KGlwdCkuc2NvcGUoKS4kYXBwbHkoZnVuY3Rpb24ocykgeyBzLm15Rm9ybVtpcHQubmFtZV0uJHNldFZpZXdWYWx1ZSgnXCIgKyB2YWwgKyBcIicpOyB9KTtcIjtcbiAgICAgICAgYnJvd3Nlci5leGVjdXRlU2NyaXB0KHNjcik7XG4gICAgICB9XG5cbiAgICAgIGl0KCdzaG91bGQgaW5pdGlhbGl6ZSB0byBtb2RlbCcsIGZ1bmN0aW9uKCkge1xuICAgICAgICBleHBlY3QodmFsdWUuZ2V0VGV4dCgpKS50b0NvbnRhaW4oJzIwMTAtMTItMjhUMTQ6NTc6MDAnKTtcbiAgICAgICAgZXhwZWN0KHZhbGlkLmdldFRleHQoKSkudG9Db250YWluKCdteUZvcm0uaW5wdXQuJHZhbGlkID0gdHJ1ZScpO1xuICAgICAgfSk7XG5cbiAgICAgIGl0KCdzaG91bGQgYmUgaW52YWxpZCBpZiBlbXB0eScsIGZ1bmN0aW9uKCkge1xuICAgICAgICBzZXRJbnB1dCgnJyk7XG4gICAgICAgIGV4cGVjdCh2YWx1ZS5nZXRUZXh0KCkpLnRvRXF1YWwoJ3ZhbHVlID0nKTtcbiAgICAgICAgZXhwZWN0KHZhbGlkLmdldFRleHQoKSkudG9Db250YWluKCdteUZvcm0uaW5wdXQuJHZhbGlkID0gZmFsc2UnKTtcbiAgICAgIH0pO1xuXG4gICAgICBpdCgnc2hvdWxkIGJlIGludmFsaWQgaWYgb3ZlciBtYXgnLCBmdW5jdGlvbigpIHtcbiAgICAgICAgc2V0SW5wdXQoJzIwMTUtMDEtMDFUMjM6NTk6MDAnKTtcbiAgICAgICAgZXhwZWN0KHZhbHVlLmdldFRleHQoKSkudG9Db250YWluKCcnKTtcbiAgICAgICAgZXhwZWN0KHZhbGlkLmdldFRleHQoKSkudG9Db250YWluKCdteUZvcm0uaW5wdXQuJHZhbGlkID0gZmFsc2UnKTtcbiAgICAgIH0pO1xuICAgIDwvZmlsZT5cbiAgICA8L2V4YW1wbGU+XG4gICAgKi9cbiAgJ2RhdGV0aW1lLWxvY2FsJzogY3JlYXRlRGF0ZUlucHV0VHlwZSgnZGF0ZXRpbWVsb2NhbCcsIERBVEVUSU1FTE9DQUxfUkVHRVhQLFxuICAgICAgY3JlYXRlRGF0ZVBhcnNlcihEQVRFVElNRUxPQ0FMX1JFR0VYUCwgWyd5eXl5JywgJ01NJywgJ2RkJywgJ0hIJywgJ21tJywgJ3NzJywgJ3NzcyddKSxcbiAgICAgICd5eXl5LU1NLWRkVEhIOm1tOnNzLnNzcycpLFxuXG4gIC8qKlxuICAgKiBAbmdkb2MgaW5wdXRcbiAgICogQG5hbWUgaW5wdXRbdGltZV1cbiAgICpcbiAgICogQGRlc2NyaXB0aW9uXG4gICAqIElucHV0IHdpdGggdGltZSB2YWxpZGF0aW9uIGFuZCB0cmFuc2Zvcm1hdGlvbi4gSW4gYnJvd3NlcnMgdGhhdCBkbyBub3QgeWV0IHN1cHBvcnRcbiAgICogdGhlIEhUTUw1IHRpbWUgaW5wdXQsIGEgdGV4dCBlbGVtZW50IHdpbGwgYmUgdXNlZC4gSW4gdGhhdCBjYXNlLCB0aGUgdGV4dCBtdXN0IGJlIGVudGVyZWQgaW4gYSB2YWxpZCBJU08tODYwMVxuICAgKiBsb2NhbCB0aW1lIGZvcm1hdCAoSEg6bW06c3MpLCBmb3IgZXhhbXBsZTogYDE0OjU3OjAwYC4gTW9kZWwgbXVzdCBiZSBhIERhdGUgb2JqZWN0LiBUaGlzIGJpbmRpbmcgd2lsbCBhbHdheXMgb3V0cHV0IGFcbiAgICogRGF0ZSBvYmplY3QgdG8gdGhlIG1vZGVsIG9mIEphbnVhcnkgMSwgMTk3MCwgb3IgbG9jYWwgZGF0ZSBgbmV3IERhdGUoMTk3MCwgMCwgMSwgSEgsIG1tLCBzcylgLlxuICAgKlxuICAgKiBUaGUgbW9kZWwgbXVzdCBhbHdheXMgYmUgYSBEYXRlIG9iamVjdCwgb3RoZXJ3aXNlIEFuZ3VsYXIgd2lsbCB0aHJvdyBhbiBlcnJvci5cbiAgICogSW52YWxpZCBgRGF0ZWAgb2JqZWN0cyAoZGF0ZXMgd2hvc2UgYGdldFRpbWUoKWAgaXMgYE5hTmApIHdpbGwgYmUgcmVuZGVyZWQgYXMgYW4gZW1wdHkgc3RyaW5nLlxuICAgKlxuICAgKiBUaGUgdGltZXpvbmUgdG8gYmUgdXNlZCB0byByZWFkL3dyaXRlIHRoZSBgRGF0ZWAgaW5zdGFuY2UgaW4gdGhlIG1vZGVsIGNhbiBiZSBkZWZpbmVkIHVzaW5nXG4gICAqIHtAbGluayBuZy5kaXJlY3RpdmU6bmdNb2RlbE9wdGlvbnMgbmdNb2RlbE9wdGlvbnN9LiBCeSBkZWZhdWx0LCB0aGlzIGlzIHRoZSB0aW1lem9uZSBvZiB0aGUgYnJvd3Nlci5cbiAgICpcbiAgICogQHBhcmFtIHtzdHJpbmd9IG5nTW9kZWwgQXNzaWduYWJsZSBhbmd1bGFyIGV4cHJlc3Npb24gdG8gZGF0YS1iaW5kIHRvLlxuICAgKiBAcGFyYW0ge3N0cmluZz19IG5hbWUgUHJvcGVydHkgbmFtZSBvZiB0aGUgZm9ybSB1bmRlciB3aGljaCB0aGUgY29udHJvbCBpcyBwdWJsaXNoZWQuXG4gICAqIEBwYXJhbSB7c3RyaW5nPX0gbWluIFNldHMgdGhlIGBtaW5gIHZhbGlkYXRpb24gZXJyb3Iga2V5IGlmIHRoZSB2YWx1ZSBlbnRlcmVkIGlzIGxlc3MgdGhhbiBgbWluYC5cbiAgICogICBUaGlzIG11c3QgYmUgYSB2YWxpZCBJU08gdGltZSBmb3JtYXQgKEhIOm1tOnNzKS4gWW91IGNhbiBhbHNvIHVzZSBpbnRlcnBvbGF0aW9uIGluc2lkZSB0aGlzXG4gICAqICAgYXR0cmlidXRlIChlLmcuIGBtaW49XCJ7e21pblRpbWUgfCBkYXRlOidISDptbTpzcyd9fVwiYCkuIE5vdGUgdGhhdCBgbWluYCB3aWxsIGFsc28gYWRkXG4gICAqICAgbmF0aXZlIEhUTUw1IGNvbnN0cmFpbnQgdmFsaWRhdGlvbi5cbiAgICogQHBhcmFtIHtzdHJpbmc9fSBtYXggU2V0cyB0aGUgYG1heGAgdmFsaWRhdGlvbiBlcnJvciBrZXkgaWYgdGhlIHZhbHVlIGVudGVyZWQgaXMgZ3JlYXRlciB0aGFuIGBtYXhgLlxuICAgKiAgIFRoaXMgbXVzdCBiZSBhIHZhbGlkIElTTyB0aW1lIGZvcm1hdCAoSEg6bW06c3MpLiBZb3UgY2FuIGFsc28gdXNlIGludGVycG9sYXRpb24gaW5zaWRlIHRoaXNcbiAgICogICBhdHRyaWJ1dGUgKGUuZy4gYG1heD1cInt7bWF4VGltZSB8IGRhdGU6J0hIOm1tOnNzJ319XCJgKS4gTm90ZSB0aGF0IGBtYXhgIHdpbGwgYWxzbyBhZGRcbiAgICogICBuYXRpdmUgSFRNTDUgY29uc3RyYWludCB2YWxpZGF0aW9uLlxuICAgKiBAcGFyYW0geyhkYXRlfHN0cmluZyk9fSBuZ01pbiBTZXRzIHRoZSBgbWluYCB2YWxpZGF0aW9uIGNvbnN0cmFpbnQgdG8gdGhlIERhdGUgLyBJU08gdGltZSBzdHJpbmcgdGhlXG4gICAqICAgYG5nTWluYCBleHByZXNzaW9uIGV2YWx1YXRlcyB0by4gTm90ZSB0aGF0IGl0IGRvZXMgbm90IHNldCB0aGUgYG1pbmAgYXR0cmlidXRlLlxuICAgKiBAcGFyYW0geyhkYXRlfHN0cmluZyk9fSBuZ01heCBTZXRzIHRoZSBgbWF4YCB2YWxpZGF0aW9uIGNvbnN0cmFpbnQgdG8gdGhlIERhdGUgLyBJU08gdGltZSBzdHJpbmcgdGhlXG4gICAqICAgYG5nTWF4YCBleHByZXNzaW9uIGV2YWx1YXRlcyB0by4gTm90ZSB0aGF0IGl0IGRvZXMgbm90IHNldCB0aGUgYG1heGAgYXR0cmlidXRlLlxuICAgKiBAcGFyYW0ge3N0cmluZz19IHJlcXVpcmVkIFNldHMgYHJlcXVpcmVkYCB2YWxpZGF0aW9uIGVycm9yIGtleSBpZiB0aGUgdmFsdWUgaXMgbm90IGVudGVyZWQuXG4gICAqIEBwYXJhbSB7c3RyaW5nPX0gbmdSZXF1aXJlZCBBZGRzIGByZXF1aXJlZGAgYXR0cmlidXRlIGFuZCBgcmVxdWlyZWRgIHZhbGlkYXRpb24gY29uc3RyYWludCB0b1xuICAgKiAgICB0aGUgZWxlbWVudCB3aGVuIHRoZSBuZ1JlcXVpcmVkIGV4cHJlc3Npb24gZXZhbHVhdGVzIHRvIHRydWUuIFVzZSBgbmdSZXF1aXJlZGAgaW5zdGVhZCBvZlxuICAgKiAgICBgcmVxdWlyZWRgIHdoZW4geW91IHdhbnQgdG8gZGF0YS1iaW5kIHRvIHRoZSBgcmVxdWlyZWRgIGF0dHJpYnV0ZS5cbiAgICogQHBhcmFtIHtzdHJpbmc9fSBuZ0NoYW5nZSBBbmd1bGFyIGV4cHJlc3Npb24gdG8gYmUgZXhlY3V0ZWQgd2hlbiBpbnB1dCBjaGFuZ2VzIGR1ZSB0byB1c2VyXG4gICAqICAgIGludGVyYWN0aW9uIHdpdGggdGhlIGlucHV0IGVsZW1lbnQuXG4gICAqXG4gICAqIEBleGFtcGxlXG4gICA8ZXhhbXBsZSBuYW1lPVwidGltZS1pbnB1dC1kaXJlY3RpdmVcIiBtb2R1bGU9XCJ0aW1lRXhhbXBsZVwiPlxuICAgPGZpbGUgbmFtZT1cImluZGV4Lmh0bWxcIj5cbiAgICAgPHNjcmlwdD5cbiAgICAgIGFuZ3VsYXIubW9kdWxlKCd0aW1lRXhhbXBsZScsIFtdKVxuICAgICAgICAuY29udHJvbGxlcignRGF0ZUNvbnRyb2xsZXInLCBbJyRzY29wZScsIGZ1bmN0aW9uKCRzY29wZSkge1xuICAgICAgICAgICRzY29wZS5leGFtcGxlID0ge1xuICAgICAgICAgICAgdmFsdWU6IG5ldyBEYXRlKDE5NzAsIDAsIDEsIDE0LCA1NywgMClcbiAgICAgICAgICB9O1xuICAgICAgICB9XSk7XG4gICAgIDwvc2NyaXB0PlxuICAgICA8Zm9ybSBuYW1lPVwibXlGb3JtXCIgbmctY29udHJvbGxlcj1cIkRhdGVDb250cm9sbGVyIGFzIGRhdGVDdHJsXCI+XG4gICAgICAgIDxsYWJlbCBmb3I9XCJleGFtcGxlSW5wdXRcIj5QaWNrIGEgdGltZSBiZXR3ZWVuIDhhbSBhbmQgNXBtOjwvbGFiZWw+XG4gICAgICAgIDxpbnB1dCB0eXBlPVwidGltZVwiIGlkPVwiZXhhbXBsZUlucHV0XCIgbmFtZT1cImlucHV0XCIgbmctbW9kZWw9XCJleGFtcGxlLnZhbHVlXCJcbiAgICAgICAgICAgIHBsYWNlaG9sZGVyPVwiSEg6bW06c3NcIiBtaW49XCIwODowMDowMFwiIG1heD1cIjE3OjAwOjAwXCIgcmVxdWlyZWQgLz5cbiAgICAgICAgPGRpdiByb2xlPVwiYWxlcnRcIj5cbiAgICAgICAgICA8c3BhbiBjbGFzcz1cImVycm9yXCIgbmctc2hvdz1cIm15Rm9ybS5pbnB1dC4kZXJyb3IucmVxdWlyZWRcIj5cbiAgICAgICAgICAgICAgUmVxdWlyZWQhPC9zcGFuPlxuICAgICAgICAgIDxzcGFuIGNsYXNzPVwiZXJyb3JcIiBuZy1zaG93PVwibXlGb3JtLmlucHV0LiRlcnJvci50aW1lXCI+XG4gICAgICAgICAgICAgIE5vdCBhIHZhbGlkIGRhdGUhPC9zcGFuPlxuICAgICAgICA8L2Rpdj5cbiAgICAgICAgPHR0PnZhbHVlID0ge3tleGFtcGxlLnZhbHVlIHwgZGF0ZTogXCJISDptbTpzc1wifX08L3R0Pjxici8+XG4gICAgICAgIDx0dD5teUZvcm0uaW5wdXQuJHZhbGlkID0ge3tteUZvcm0uaW5wdXQuJHZhbGlkfX08L3R0Pjxici8+XG4gICAgICAgIDx0dD5teUZvcm0uaW5wdXQuJGVycm9yID0ge3tteUZvcm0uaW5wdXQuJGVycm9yfX08L3R0Pjxici8+XG4gICAgICAgIDx0dD5teUZvcm0uJHZhbGlkID0ge3tteUZvcm0uJHZhbGlkfX08L3R0Pjxici8+XG4gICAgICAgIDx0dD5teUZvcm0uJGVycm9yLnJlcXVpcmVkID0ge3shIW15Rm9ybS4kZXJyb3IucmVxdWlyZWR9fTwvdHQ+PGJyLz5cbiAgICAgPC9mb3JtPlxuICAgPC9maWxlPlxuICAgPGZpbGUgbmFtZT1cInByb3RyYWN0b3IuanNcIiB0eXBlPVwicHJvdHJhY3RvclwiPlxuICAgICAgdmFyIHZhbHVlID0gZWxlbWVudChieS5iaW5kaW5nKCdleGFtcGxlLnZhbHVlIHwgZGF0ZTogXCJISDptbTpzc1wiJykpO1xuICAgICAgdmFyIHZhbGlkID0gZWxlbWVudChieS5iaW5kaW5nKCdteUZvcm0uaW5wdXQuJHZhbGlkJykpO1xuXG4gICAgICAvLyBjdXJyZW50bHkgcHJvdHJhY3Rvci93ZWJkcml2ZXIgZG9lcyBub3Qgc3VwcG9ydFxuICAgICAgLy8gc2VuZGluZyBrZXlzIHRvIGFsbCBrbm93biBIVE1MNSBpbnB1dCBjb250cm9sc1xuICAgICAgLy8gZm9yIHZhcmlvdXMgYnJvd3NlcnMgKGh0dHBzOi8vZ2l0aHViLmNvbS9hbmd1bGFyL3Byb3RyYWN0b3IvaXNzdWVzLzU2MikuXG4gICAgICBmdW5jdGlvbiBzZXRJbnB1dCh2YWwpIHtcbiAgICAgICAgLy8gc2V0IHRoZSB2YWx1ZSBvZiB0aGUgZWxlbWVudCBhbmQgZm9yY2UgdmFsaWRhdGlvbi5cbiAgICAgICAgdmFyIHNjciA9IFwidmFyIGlwdCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdleGFtcGxlSW5wdXQnKTsgXCIgK1xuICAgICAgICBcImlwdC52YWx1ZSA9ICdcIiArIHZhbCArIFwiJztcIiArXG4gICAgICAgIFwiYW5ndWxhci5lbGVtZW50KGlwdCkuc2NvcGUoKS4kYXBwbHkoZnVuY3Rpb24ocykgeyBzLm15Rm9ybVtpcHQubmFtZV0uJHNldFZpZXdWYWx1ZSgnXCIgKyB2YWwgKyBcIicpOyB9KTtcIjtcbiAgICAgICAgYnJvd3Nlci5leGVjdXRlU2NyaXB0KHNjcik7XG4gICAgICB9XG5cbiAgICAgIGl0KCdzaG91bGQgaW5pdGlhbGl6ZSB0byBtb2RlbCcsIGZ1bmN0aW9uKCkge1xuICAgICAgICBleHBlY3QodmFsdWUuZ2V0VGV4dCgpKS50b0NvbnRhaW4oJzE0OjU3OjAwJyk7XG4gICAgICAgIGV4cGVjdCh2YWxpZC5nZXRUZXh0KCkpLnRvQ29udGFpbignbXlGb3JtLmlucHV0LiR2YWxpZCA9IHRydWUnKTtcbiAgICAgIH0pO1xuXG4gICAgICBpdCgnc2hvdWxkIGJlIGludmFsaWQgaWYgZW1wdHknLCBmdW5jdGlvbigpIHtcbiAgICAgICAgc2V0SW5wdXQoJycpO1xuICAgICAgICBleHBlY3QodmFsdWUuZ2V0VGV4dCgpKS50b0VxdWFsKCd2YWx1ZSA9Jyk7XG4gICAgICAgIGV4cGVjdCh2YWxpZC5nZXRUZXh0KCkpLnRvQ29udGFpbignbXlGb3JtLmlucHV0LiR2YWxpZCA9IGZhbHNlJyk7XG4gICAgICB9KTtcblxuICAgICAgaXQoJ3Nob3VsZCBiZSBpbnZhbGlkIGlmIG92ZXIgbWF4JywgZnVuY3Rpb24oKSB7XG4gICAgICAgIHNldElucHV0KCcyMzo1OTowMCcpO1xuICAgICAgICBleHBlY3QodmFsdWUuZ2V0VGV4dCgpKS50b0NvbnRhaW4oJycpO1xuICAgICAgICBleHBlY3QodmFsaWQuZ2V0VGV4dCgpKS50b0NvbnRhaW4oJ215Rm9ybS5pbnB1dC4kdmFsaWQgPSBmYWxzZScpO1xuICAgICAgfSk7XG4gICA8L2ZpbGU+XG4gICA8L2V4YW1wbGU+XG4gICAqL1xuICAndGltZSc6IGNyZWF0ZURhdGVJbnB1dFR5cGUoJ3RpbWUnLCBUSU1FX1JFR0VYUCxcbiAgICAgIGNyZWF0ZURhdGVQYXJzZXIoVElNRV9SRUdFWFAsIFsnSEgnLCAnbW0nLCAnc3MnLCAnc3NzJ10pLFxuICAgICAnSEg6bW06c3Muc3NzJyksXG5cbiAgIC8qKlxuICAgICogQG5nZG9jIGlucHV0XG4gICAgKiBAbmFtZSBpbnB1dFt3ZWVrXVxuICAgICpcbiAgICAqIEBkZXNjcmlwdGlvblxuICAgICogSW5wdXQgd2l0aCB3ZWVrLW9mLXRoZS15ZWFyIHZhbGlkYXRpb24gYW5kIHRyYW5zZm9ybWF0aW9uIHRvIERhdGUuIEluIGJyb3dzZXJzIHRoYXQgZG8gbm90IHlldCBzdXBwb3J0XG4gICAgKiB0aGUgSFRNTDUgd2VlayBpbnB1dCwgYSB0ZXh0IGVsZW1lbnQgd2lsbCBiZSB1c2VkLiBJbiB0aGF0IGNhc2UsIHRoZSB0ZXh0IG11c3QgYmUgZW50ZXJlZCBpbiBhIHZhbGlkIElTTy04NjAxXG4gICAgKiB3ZWVrIGZvcm1hdCAoeXl5eS1XIyMpLCBmb3IgZXhhbXBsZTogYDIwMTMtVzAyYC5cbiAgICAqXG4gICAgKiBUaGUgbW9kZWwgbXVzdCBhbHdheXMgYmUgYSBEYXRlIG9iamVjdCwgb3RoZXJ3aXNlIEFuZ3VsYXIgd2lsbCB0aHJvdyBhbiBlcnJvci5cbiAgICAqIEludmFsaWQgYERhdGVgIG9iamVjdHMgKGRhdGVzIHdob3NlIGBnZXRUaW1lKClgIGlzIGBOYU5gKSB3aWxsIGJlIHJlbmRlcmVkIGFzIGFuIGVtcHR5IHN0cmluZy5cbiAgICAqXG4gICAgKiBUaGUgdGltZXpvbmUgdG8gYmUgdXNlZCB0byByZWFkL3dyaXRlIHRoZSBgRGF0ZWAgaW5zdGFuY2UgaW4gdGhlIG1vZGVsIGNhbiBiZSBkZWZpbmVkIHVzaW5nXG4gICAgKiB7QGxpbmsgbmcuZGlyZWN0aXZlOm5nTW9kZWxPcHRpb25zIG5nTW9kZWxPcHRpb25zfS4gQnkgZGVmYXVsdCwgdGhpcyBpcyB0aGUgdGltZXpvbmUgb2YgdGhlIGJyb3dzZXIuXG4gICAgKlxuICAgICogQHBhcmFtIHtzdHJpbmd9IG5nTW9kZWwgQXNzaWduYWJsZSBhbmd1bGFyIGV4cHJlc3Npb24gdG8gZGF0YS1iaW5kIHRvLlxuICAgICogQHBhcmFtIHtzdHJpbmc9fSBuYW1lIFByb3BlcnR5IG5hbWUgb2YgdGhlIGZvcm0gdW5kZXIgd2hpY2ggdGhlIGNvbnRyb2wgaXMgcHVibGlzaGVkLlxuICAgICogQHBhcmFtIHtzdHJpbmc9fSBtaW4gU2V0cyB0aGUgYG1pbmAgdmFsaWRhdGlvbiBlcnJvciBrZXkgaWYgdGhlIHZhbHVlIGVudGVyZWQgaXMgbGVzcyB0aGFuIGBtaW5gLlxuICAgICogICBUaGlzIG11c3QgYmUgYSB2YWxpZCBJU08gd2VlayBmb3JtYXQgKHl5eXktVyMjKS4gWW91IGNhbiBhbHNvIHVzZSBpbnRlcnBvbGF0aW9uIGluc2lkZSB0aGlzXG4gICAgKiAgIGF0dHJpYnV0ZSAoZS5nLiBgbWluPVwie3ttaW5XZWVrIHwgZGF0ZToneXl5eS1Xd3cnfX1cImApLiBOb3RlIHRoYXQgYG1pbmAgd2lsbCBhbHNvIGFkZFxuICAgICogICBuYXRpdmUgSFRNTDUgY29uc3RyYWludCB2YWxpZGF0aW9uLlxuICAgICogQHBhcmFtIHtzdHJpbmc9fSBtYXggU2V0cyB0aGUgYG1heGAgdmFsaWRhdGlvbiBlcnJvciBrZXkgaWYgdGhlIHZhbHVlIGVudGVyZWQgaXMgZ3JlYXRlciB0aGFuIGBtYXhgLlxuICAgICogICBUaGlzIG11c3QgYmUgYSB2YWxpZCBJU08gd2VlayBmb3JtYXQgKHl5eXktVyMjKS4gWW91IGNhbiBhbHNvIHVzZSBpbnRlcnBvbGF0aW9uIGluc2lkZSB0aGlzXG4gICAgKiAgIGF0dHJpYnV0ZSAoZS5nLiBgbWF4PVwie3ttYXhXZWVrIHwgZGF0ZToneXl5eS1Xd3cnfX1cImApLiBOb3RlIHRoYXQgYG1heGAgd2lsbCBhbHNvIGFkZFxuICAgICogICBuYXRpdmUgSFRNTDUgY29uc3RyYWludCB2YWxpZGF0aW9uLlxuICAgICogQHBhcmFtIHsoZGF0ZXxzdHJpbmcpPX0gbmdNaW4gU2V0cyB0aGUgYG1pbmAgdmFsaWRhdGlvbiBjb25zdHJhaW50IHRvIHRoZSBEYXRlIC8gSVNPIHdlZWsgc3RyaW5nXG4gICAgKiAgIHRoZSBgbmdNaW5gIGV4cHJlc3Npb24gZXZhbHVhdGVzIHRvLiBOb3RlIHRoYXQgaXQgZG9lcyBub3Qgc2V0IHRoZSBgbWluYCBhdHRyaWJ1dGUuXG4gICAgKiBAcGFyYW0geyhkYXRlfHN0cmluZyk9fSBuZ01heCBTZXRzIHRoZSBgbWF4YCB2YWxpZGF0aW9uIGNvbnN0cmFpbnQgdG8gdGhlIERhdGUgLyBJU08gd2VlayBzdHJpbmdcbiAgICAqICAgdGhlIGBuZ01heGAgZXhwcmVzc2lvbiBldmFsdWF0ZXMgdG8uIE5vdGUgdGhhdCBpdCBkb2VzIG5vdCBzZXQgdGhlIGBtYXhgIGF0dHJpYnV0ZS5cbiAgICAqIEBwYXJhbSB7c3RyaW5nPX0gcmVxdWlyZWQgU2V0cyBgcmVxdWlyZWRgIHZhbGlkYXRpb24gZXJyb3Iga2V5IGlmIHRoZSB2YWx1ZSBpcyBub3QgZW50ZXJlZC5cbiAgICAqIEBwYXJhbSB7c3RyaW5nPX0gbmdSZXF1aXJlZCBBZGRzIGByZXF1aXJlZGAgYXR0cmlidXRlIGFuZCBgcmVxdWlyZWRgIHZhbGlkYXRpb24gY29uc3RyYWludCB0b1xuICAgICogICAgdGhlIGVsZW1lbnQgd2hlbiB0aGUgbmdSZXF1aXJlZCBleHByZXNzaW9uIGV2YWx1YXRlcyB0byB0cnVlLiBVc2UgYG5nUmVxdWlyZWRgIGluc3RlYWQgb2ZcbiAgICAqICAgIGByZXF1aXJlZGAgd2hlbiB5b3Ugd2FudCB0byBkYXRhLWJpbmQgdG8gdGhlIGByZXF1aXJlZGAgYXR0cmlidXRlLlxuICAgICogQHBhcmFtIHtzdHJpbmc9fSBuZ0NoYW5nZSBBbmd1bGFyIGV4cHJlc3Npb24gdG8gYmUgZXhlY3V0ZWQgd2hlbiBpbnB1dCBjaGFuZ2VzIGR1ZSB0byB1c2VyXG4gICAgKiAgICBpbnRlcmFjdGlvbiB3aXRoIHRoZSBpbnB1dCBlbGVtZW50LlxuICAgICpcbiAgICAqIEBleGFtcGxlXG4gICAgPGV4YW1wbGUgbmFtZT1cIndlZWstaW5wdXQtZGlyZWN0aXZlXCIgbW9kdWxlPVwid2Vla0V4YW1wbGVcIj5cbiAgICA8ZmlsZSBuYW1lPVwiaW5kZXguaHRtbFwiPlxuICAgICAgPHNjcmlwdD5cbiAgICAgIGFuZ3VsYXIubW9kdWxlKCd3ZWVrRXhhbXBsZScsIFtdKVxuICAgICAgICAuY29udHJvbGxlcignRGF0ZUNvbnRyb2xsZXInLCBbJyRzY29wZScsIGZ1bmN0aW9uKCRzY29wZSkge1xuICAgICAgICAgICRzY29wZS5leGFtcGxlID0ge1xuICAgICAgICAgICAgdmFsdWU6IG5ldyBEYXRlKDIwMTMsIDAsIDMpXG4gICAgICAgICAgfTtcbiAgICAgICAgfV0pO1xuICAgICAgPC9zY3JpcHQ+XG4gICAgICA8Zm9ybSBuYW1lPVwibXlGb3JtXCIgbmctY29udHJvbGxlcj1cIkRhdGVDb250cm9sbGVyIGFzIGRhdGVDdHJsXCI+XG4gICAgICAgIDxsYWJlbD5QaWNrIGEgZGF0ZSBiZXR3ZWVuIGluIDIwMTM6XG4gICAgICAgICAgPGlucHV0IGlkPVwiZXhhbXBsZUlucHV0XCIgdHlwZT1cIndlZWtcIiBuYW1lPVwiaW5wdXRcIiBuZy1tb2RlbD1cImV4YW1wbGUudmFsdWVcIlxuICAgICAgICAgICAgICAgICBwbGFjZWhvbGRlcj1cIllZWVktVyMjXCIgbWluPVwiMjAxMi1XMzJcIlxuICAgICAgICAgICAgICAgICBtYXg9XCIyMDEzLVc1MlwiIHJlcXVpcmVkIC8+XG4gICAgICAgIDwvbGFiZWw+XG4gICAgICAgIDxkaXYgcm9sZT1cImFsZXJ0XCI+XG4gICAgICAgICAgPHNwYW4gY2xhc3M9XCJlcnJvclwiIG5nLXNob3c9XCJteUZvcm0uaW5wdXQuJGVycm9yLnJlcXVpcmVkXCI+XG4gICAgICAgICAgICAgIFJlcXVpcmVkITwvc3Bhbj5cbiAgICAgICAgICA8c3BhbiBjbGFzcz1cImVycm9yXCIgbmctc2hvdz1cIm15Rm9ybS5pbnB1dC4kZXJyb3Iud2Vla1wiPlxuICAgICAgICAgICAgICBOb3QgYSB2YWxpZCBkYXRlITwvc3Bhbj5cbiAgICAgICAgPC9kaXY+XG4gICAgICAgIDx0dD52YWx1ZSA9IHt7ZXhhbXBsZS52YWx1ZSB8IGRhdGU6IFwieXl5eS1Xd3dcIn19PC90dD48YnIvPlxuICAgICAgICA8dHQ+bXlGb3JtLmlucHV0LiR2YWxpZCA9IHt7bXlGb3JtLmlucHV0LiR2YWxpZH19PC90dD48YnIvPlxuICAgICAgICA8dHQ+bXlGb3JtLmlucHV0LiRlcnJvciA9IHt7bXlGb3JtLmlucHV0LiRlcnJvcn19PC90dD48YnIvPlxuICAgICAgICA8dHQ+bXlGb3JtLiR2YWxpZCA9IHt7bXlGb3JtLiR2YWxpZH19PC90dD48YnIvPlxuICAgICAgICA8dHQ+bXlGb3JtLiRlcnJvci5yZXF1aXJlZCA9IHt7ISFteUZvcm0uJGVycm9yLnJlcXVpcmVkfX08L3R0Pjxici8+XG4gICAgICA8L2Zvcm0+XG4gICAgPC9maWxlPlxuICAgIDxmaWxlIG5hbWU9XCJwcm90cmFjdG9yLmpzXCIgdHlwZT1cInByb3RyYWN0b3JcIj5cbiAgICAgIHZhciB2YWx1ZSA9IGVsZW1lbnQoYnkuYmluZGluZygnZXhhbXBsZS52YWx1ZSB8IGRhdGU6IFwieXl5eS1Xd3dcIicpKTtcbiAgICAgIHZhciB2YWxpZCA9IGVsZW1lbnQoYnkuYmluZGluZygnbXlGb3JtLmlucHV0LiR2YWxpZCcpKTtcblxuICAgICAgLy8gY3VycmVudGx5IHByb3RyYWN0b3Ivd2ViZHJpdmVyIGRvZXMgbm90IHN1cHBvcnRcbiAgICAgIC8vIHNlbmRpbmcga2V5cyB0byBhbGwga25vd24gSFRNTDUgaW5wdXQgY29udHJvbHNcbiAgICAgIC8vIGZvciB2YXJpb3VzIGJyb3dzZXJzIChodHRwczovL2dpdGh1Yi5jb20vYW5ndWxhci9wcm90cmFjdG9yL2lzc3Vlcy81NjIpLlxuICAgICAgZnVuY3Rpb24gc2V0SW5wdXQodmFsKSB7XG4gICAgICAgIC8vIHNldCB0aGUgdmFsdWUgb2YgdGhlIGVsZW1lbnQgYW5kIGZvcmNlIHZhbGlkYXRpb24uXG4gICAgICAgIHZhciBzY3IgPSBcInZhciBpcHQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZXhhbXBsZUlucHV0Jyk7IFwiICtcbiAgICAgICAgXCJpcHQudmFsdWUgPSAnXCIgKyB2YWwgKyBcIic7XCIgK1xuICAgICAgICBcImFuZ3VsYXIuZWxlbWVudChpcHQpLnNjb3BlKCkuJGFwcGx5KGZ1bmN0aW9uKHMpIHsgcy5teUZvcm1baXB0Lm5hbWVdLiRzZXRWaWV3VmFsdWUoJ1wiICsgdmFsICsgXCInKTsgfSk7XCI7XG4gICAgICAgIGJyb3dzZXIuZXhlY3V0ZVNjcmlwdChzY3IpO1xuICAgICAgfVxuXG4gICAgICBpdCgnc2hvdWxkIGluaXRpYWxpemUgdG8gbW9kZWwnLCBmdW5jdGlvbigpIHtcbiAgICAgICAgZXhwZWN0KHZhbHVlLmdldFRleHQoKSkudG9Db250YWluKCcyMDEzLVcwMScpO1xuICAgICAgICBleHBlY3QodmFsaWQuZ2V0VGV4dCgpKS50b0NvbnRhaW4oJ215Rm9ybS5pbnB1dC4kdmFsaWQgPSB0cnVlJyk7XG4gICAgICB9KTtcblxuICAgICAgaXQoJ3Nob3VsZCBiZSBpbnZhbGlkIGlmIGVtcHR5JywgZnVuY3Rpb24oKSB7XG4gICAgICAgIHNldElucHV0KCcnKTtcbiAgICAgICAgZXhwZWN0KHZhbHVlLmdldFRleHQoKSkudG9FcXVhbCgndmFsdWUgPScpO1xuICAgICAgICBleHBlY3QodmFsaWQuZ2V0VGV4dCgpKS50b0NvbnRhaW4oJ215Rm9ybS5pbnB1dC4kdmFsaWQgPSBmYWxzZScpO1xuICAgICAgfSk7XG5cbiAgICAgIGl0KCdzaG91bGQgYmUgaW52YWxpZCBpZiBvdmVyIG1heCcsIGZ1bmN0aW9uKCkge1xuICAgICAgICBzZXRJbnB1dCgnMjAxNS1XMDEnKTtcbiAgICAgICAgZXhwZWN0KHZhbHVlLmdldFRleHQoKSkudG9Db250YWluKCcnKTtcbiAgICAgICAgZXhwZWN0KHZhbGlkLmdldFRleHQoKSkudG9Db250YWluKCdteUZvcm0uaW5wdXQuJHZhbGlkID0gZmFsc2UnKTtcbiAgICAgIH0pO1xuICAgIDwvZmlsZT5cbiAgICA8L2V4YW1wbGU+XG4gICAgKi9cbiAgJ3dlZWsnOiBjcmVhdGVEYXRlSW5wdXRUeXBlKCd3ZWVrJywgV0VFS19SRUdFWFAsIHdlZWtQYXJzZXIsICd5eXl5LVd3dycpLFxuXG4gIC8qKlxuICAgKiBAbmdkb2MgaW5wdXRcbiAgICogQG5hbWUgaW5wdXRbbW9udGhdXG4gICAqXG4gICAqIEBkZXNjcmlwdGlvblxuICAgKiBJbnB1dCB3aXRoIG1vbnRoIHZhbGlkYXRpb24gYW5kIHRyYW5zZm9ybWF0aW9uLiBJbiBicm93c2VycyB0aGF0IGRvIG5vdCB5ZXQgc3VwcG9ydFxuICAgKiB0aGUgSFRNTDUgbW9udGggaW5wdXQsIGEgdGV4dCBlbGVtZW50IHdpbGwgYmUgdXNlZC4gSW4gdGhhdCBjYXNlLCB0aGUgdGV4dCBtdXN0IGJlIGVudGVyZWQgaW4gYSB2YWxpZCBJU08tODYwMVxuICAgKiBtb250aCBmb3JtYXQgKHl5eXktTU0pLCBmb3IgZXhhbXBsZTogYDIwMDktMDFgLlxuICAgKlxuICAgKiBUaGUgbW9kZWwgbXVzdCBhbHdheXMgYmUgYSBEYXRlIG9iamVjdCwgb3RoZXJ3aXNlIEFuZ3VsYXIgd2lsbCB0aHJvdyBhbiBlcnJvci5cbiAgICogSW52YWxpZCBgRGF0ZWAgb2JqZWN0cyAoZGF0ZXMgd2hvc2UgYGdldFRpbWUoKWAgaXMgYE5hTmApIHdpbGwgYmUgcmVuZGVyZWQgYXMgYW4gZW1wdHkgc3RyaW5nLlxuICAgKiBJZiB0aGUgbW9kZWwgaXMgbm90IHNldCB0byB0aGUgZmlyc3Qgb2YgdGhlIG1vbnRoLCB0aGUgbmV4dCB2aWV3IHRvIG1vZGVsIHVwZGF0ZSB3aWxsIHNldCBpdFxuICAgKiB0byB0aGUgZmlyc3Qgb2YgdGhlIG1vbnRoLlxuICAgKlxuICAgKiBUaGUgdGltZXpvbmUgdG8gYmUgdXNlZCB0byByZWFkL3dyaXRlIHRoZSBgRGF0ZWAgaW5zdGFuY2UgaW4gdGhlIG1vZGVsIGNhbiBiZSBkZWZpbmVkIHVzaW5nXG4gICAqIHtAbGluayBuZy5kaXJlY3RpdmU6bmdNb2RlbE9wdGlvbnMgbmdNb2RlbE9wdGlvbnN9LiBCeSBkZWZhdWx0LCB0aGlzIGlzIHRoZSB0aW1lem9uZSBvZiB0aGUgYnJvd3Nlci5cbiAgICpcbiAgICogQHBhcmFtIHtzdHJpbmd9IG5nTW9kZWwgQXNzaWduYWJsZSBhbmd1bGFyIGV4cHJlc3Npb24gdG8gZGF0YS1iaW5kIHRvLlxuICAgKiBAcGFyYW0ge3N0cmluZz19IG5hbWUgUHJvcGVydHkgbmFtZSBvZiB0aGUgZm9ybSB1bmRlciB3aGljaCB0aGUgY29udHJvbCBpcyBwdWJsaXNoZWQuXG4gICAqIEBwYXJhbSB7c3RyaW5nPX0gbWluIFNldHMgdGhlIGBtaW5gIHZhbGlkYXRpb24gZXJyb3Iga2V5IGlmIHRoZSB2YWx1ZSBlbnRlcmVkIGlzIGxlc3MgdGhhbiBgbWluYC5cbiAgICogICBUaGlzIG11c3QgYmUgYSB2YWxpZCBJU08gbW9udGggZm9ybWF0ICh5eXl5LU1NKS4gWW91IGNhbiBhbHNvIHVzZSBpbnRlcnBvbGF0aW9uIGluc2lkZSB0aGlzXG4gICAqICAgYXR0cmlidXRlIChlLmcuIGBtaW49XCJ7e21pbk1vbnRoIHwgZGF0ZToneXl5eS1NTSd9fVwiYCkuIE5vdGUgdGhhdCBgbWluYCB3aWxsIGFsc28gYWRkXG4gICAqICAgbmF0aXZlIEhUTUw1IGNvbnN0cmFpbnQgdmFsaWRhdGlvbi5cbiAgICogQHBhcmFtIHtzdHJpbmc9fSBtYXggU2V0cyB0aGUgYG1heGAgdmFsaWRhdGlvbiBlcnJvciBrZXkgaWYgdGhlIHZhbHVlIGVudGVyZWQgaXMgZ3JlYXRlciB0aGFuIGBtYXhgLlxuICAgKiAgIFRoaXMgbXVzdCBiZSBhIHZhbGlkIElTTyBtb250aCBmb3JtYXQgKHl5eXktTU0pLiBZb3UgY2FuIGFsc28gdXNlIGludGVycG9sYXRpb24gaW5zaWRlIHRoaXNcbiAgICogICBhdHRyaWJ1dGUgKGUuZy4gYG1heD1cInt7bWF4TW9udGggfCBkYXRlOid5eXl5LU1NJ319XCJgKS4gTm90ZSB0aGF0IGBtYXhgIHdpbGwgYWxzbyBhZGRcbiAgICogICBuYXRpdmUgSFRNTDUgY29uc3RyYWludCB2YWxpZGF0aW9uLlxuICAgKiBAcGFyYW0geyhkYXRlfHN0cmluZyk9fSBuZ01pbiBTZXRzIHRoZSBgbWluYCB2YWxpZGF0aW9uIGNvbnN0cmFpbnQgdG8gdGhlIERhdGUgLyBJU08gd2VlayBzdHJpbmdcbiAgICogICB0aGUgYG5nTWluYCBleHByZXNzaW9uIGV2YWx1YXRlcyB0by4gTm90ZSB0aGF0IGl0IGRvZXMgbm90IHNldCB0aGUgYG1pbmAgYXR0cmlidXRlLlxuICAgKiBAcGFyYW0geyhkYXRlfHN0cmluZyk9fSBuZ01heCBTZXRzIHRoZSBgbWF4YCB2YWxpZGF0aW9uIGNvbnN0cmFpbnQgdG8gdGhlIERhdGUgLyBJU08gd2VlayBzdHJpbmdcbiAgICogICB0aGUgYG5nTWF4YCBleHByZXNzaW9uIGV2YWx1YXRlcyB0by4gTm90ZSB0aGF0IGl0IGRvZXMgbm90IHNldCB0aGUgYG1heGAgYXR0cmlidXRlLlxuXG4gICAqIEBwYXJhbSB7c3RyaW5nPX0gcmVxdWlyZWQgU2V0cyBgcmVxdWlyZWRgIHZhbGlkYXRpb24gZXJyb3Iga2V5IGlmIHRoZSB2YWx1ZSBpcyBub3QgZW50ZXJlZC5cbiAgICogQHBhcmFtIHtzdHJpbmc9fSBuZ1JlcXVpcmVkIEFkZHMgYHJlcXVpcmVkYCBhdHRyaWJ1dGUgYW5kIGByZXF1aXJlZGAgdmFsaWRhdGlvbiBjb25zdHJhaW50IHRvXG4gICAqICAgIHRoZSBlbGVtZW50IHdoZW4gdGhlIG5nUmVxdWlyZWQgZXhwcmVzc2lvbiBldmFsdWF0ZXMgdG8gdHJ1ZS4gVXNlIGBuZ1JlcXVpcmVkYCBpbnN0ZWFkIG9mXG4gICAqICAgIGByZXF1aXJlZGAgd2hlbiB5b3Ugd2FudCB0byBkYXRhLWJpbmQgdG8gdGhlIGByZXF1aXJlZGAgYXR0cmlidXRlLlxuICAgKiBAcGFyYW0ge3N0cmluZz19IG5nQ2hhbmdlIEFuZ3VsYXIgZXhwcmVzc2lvbiB0byBiZSBleGVjdXRlZCB3aGVuIGlucHV0IGNoYW5nZXMgZHVlIHRvIHVzZXJcbiAgICogICAgaW50ZXJhY3Rpb24gd2l0aCB0aGUgaW5wdXQgZWxlbWVudC5cbiAgICpcbiAgICogQGV4YW1wbGVcbiAgIDxleGFtcGxlIG5hbWU9XCJtb250aC1pbnB1dC1kaXJlY3RpdmVcIiBtb2R1bGU9XCJtb250aEV4YW1wbGVcIj5cbiAgIDxmaWxlIG5hbWU9XCJpbmRleC5odG1sXCI+XG4gICAgIDxzY3JpcHQ+XG4gICAgICBhbmd1bGFyLm1vZHVsZSgnbW9udGhFeGFtcGxlJywgW10pXG4gICAgICAgIC5jb250cm9sbGVyKCdEYXRlQ29udHJvbGxlcicsIFsnJHNjb3BlJywgZnVuY3Rpb24oJHNjb3BlKSB7XG4gICAgICAgICAgJHNjb3BlLmV4YW1wbGUgPSB7XG4gICAgICAgICAgICB2YWx1ZTogbmV3IERhdGUoMjAxMywgOSwgMSlcbiAgICAgICAgICB9O1xuICAgICAgICB9XSk7XG4gICAgIDwvc2NyaXB0PlxuICAgICA8Zm9ybSBuYW1lPVwibXlGb3JtXCIgbmctY29udHJvbGxlcj1cIkRhdGVDb250cm9sbGVyIGFzIGRhdGVDdHJsXCI+XG4gICAgICAgPGxhYmVsIGZvcj1cImV4YW1wbGVJbnB1dFwiPlBpY2sgYSBtb250aCBpbiAyMDEzOjwvbGFiZWw+XG4gICAgICAgPGlucHV0IGlkPVwiZXhhbXBsZUlucHV0XCIgdHlwZT1cIm1vbnRoXCIgbmFtZT1cImlucHV0XCIgbmctbW9kZWw9XCJleGFtcGxlLnZhbHVlXCJcbiAgICAgICAgICBwbGFjZWhvbGRlcj1cInl5eXktTU1cIiBtaW49XCIyMDEzLTAxXCIgbWF4PVwiMjAxMy0xMlwiIHJlcXVpcmVkIC8+XG4gICAgICAgPGRpdiByb2xlPVwiYWxlcnRcIj5cbiAgICAgICAgIDxzcGFuIGNsYXNzPVwiZXJyb3JcIiBuZy1zaG93PVwibXlGb3JtLmlucHV0LiRlcnJvci5yZXF1aXJlZFwiPlxuICAgICAgICAgICAgUmVxdWlyZWQhPC9zcGFuPlxuICAgICAgICAgPHNwYW4gY2xhc3M9XCJlcnJvclwiIG5nLXNob3c9XCJteUZvcm0uaW5wdXQuJGVycm9yLm1vbnRoXCI+XG4gICAgICAgICAgICBOb3QgYSB2YWxpZCBtb250aCE8L3NwYW4+XG4gICAgICAgPC9kaXY+XG4gICAgICAgPHR0PnZhbHVlID0ge3tleGFtcGxlLnZhbHVlIHwgZGF0ZTogXCJ5eXl5LU1NXCJ9fTwvdHQ+PGJyLz5cbiAgICAgICA8dHQ+bXlGb3JtLmlucHV0LiR2YWxpZCA9IHt7bXlGb3JtLmlucHV0LiR2YWxpZH19PC90dD48YnIvPlxuICAgICAgIDx0dD5teUZvcm0uaW5wdXQuJGVycm9yID0ge3tteUZvcm0uaW5wdXQuJGVycm9yfX08L3R0Pjxici8+XG4gICAgICAgPHR0Pm15Rm9ybS4kdmFsaWQgPSB7e215Rm9ybS4kdmFsaWR9fTwvdHQ+PGJyLz5cbiAgICAgICA8dHQ+bXlGb3JtLiRlcnJvci5yZXF1aXJlZCA9IHt7ISFteUZvcm0uJGVycm9yLnJlcXVpcmVkfX08L3R0Pjxici8+XG4gICAgIDwvZm9ybT5cbiAgIDwvZmlsZT5cbiAgIDxmaWxlIG5hbWU9XCJwcm90cmFjdG9yLmpzXCIgdHlwZT1cInByb3RyYWN0b3JcIj5cbiAgICAgIHZhciB2YWx1ZSA9IGVsZW1lbnQoYnkuYmluZGluZygnZXhhbXBsZS52YWx1ZSB8IGRhdGU6IFwieXl5eS1NTVwiJykpO1xuICAgICAgdmFyIHZhbGlkID0gZWxlbWVudChieS5iaW5kaW5nKCdteUZvcm0uaW5wdXQuJHZhbGlkJykpO1xuXG4gICAgICAvLyBjdXJyZW50bHkgcHJvdHJhY3Rvci93ZWJkcml2ZXIgZG9lcyBub3Qgc3VwcG9ydFxuICAgICAgLy8gc2VuZGluZyBrZXlzIHRvIGFsbCBrbm93biBIVE1MNSBpbnB1dCBjb250cm9sc1xuICAgICAgLy8gZm9yIHZhcmlvdXMgYnJvd3NlcnMgKGh0dHBzOi8vZ2l0aHViLmNvbS9hbmd1bGFyL3Byb3RyYWN0b3IvaXNzdWVzLzU2MikuXG4gICAgICBmdW5jdGlvbiBzZXRJbnB1dCh2YWwpIHtcbiAgICAgICAgLy8gc2V0IHRoZSB2YWx1ZSBvZiB0aGUgZWxlbWVudCBhbmQgZm9yY2UgdmFsaWRhdGlvbi5cbiAgICAgICAgdmFyIHNjciA9IFwidmFyIGlwdCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdleGFtcGxlSW5wdXQnKTsgXCIgK1xuICAgICAgICBcImlwdC52YWx1ZSA9ICdcIiArIHZhbCArIFwiJztcIiArXG4gICAgICAgIFwiYW5ndWxhci5lbGVtZW50KGlwdCkuc2NvcGUoKS4kYXBwbHkoZnVuY3Rpb24ocykgeyBzLm15Rm9ybVtpcHQubmFtZV0uJHNldFZpZXdWYWx1ZSgnXCIgKyB2YWwgKyBcIicpOyB9KTtcIjtcbiAgICAgICAgYnJvd3Nlci5leGVjdXRlU2NyaXB0KHNjcik7XG4gICAgICB9XG5cbiAgICAgIGl0KCdzaG91bGQgaW5pdGlhbGl6ZSB0byBtb2RlbCcsIGZ1bmN0aW9uKCkge1xuICAgICAgICBleHBlY3QodmFsdWUuZ2V0VGV4dCgpKS50b0NvbnRhaW4oJzIwMTMtMTAnKTtcbiAgICAgICAgZXhwZWN0KHZhbGlkLmdldFRleHQoKSkudG9Db250YWluKCdteUZvcm0uaW5wdXQuJHZhbGlkID0gdHJ1ZScpO1xuICAgICAgfSk7XG5cbiAgICAgIGl0KCdzaG91bGQgYmUgaW52YWxpZCBpZiBlbXB0eScsIGZ1bmN0aW9uKCkge1xuICAgICAgICBzZXRJbnB1dCgnJyk7XG4gICAgICAgIGV4cGVjdCh2YWx1ZS5nZXRUZXh0KCkpLnRvRXF1YWwoJ3ZhbHVlID0nKTtcbiAgICAgICAgZXhwZWN0KHZhbGlkLmdldFRleHQoKSkudG9Db250YWluKCdteUZvcm0uaW5wdXQuJHZhbGlkID0gZmFsc2UnKTtcbiAgICAgIH0pO1xuXG4gICAgICBpdCgnc2hvdWxkIGJlIGludmFsaWQgaWYgb3ZlciBtYXgnLCBmdW5jdGlvbigpIHtcbiAgICAgICAgc2V0SW5wdXQoJzIwMTUtMDEnKTtcbiAgICAgICAgZXhwZWN0KHZhbHVlLmdldFRleHQoKSkudG9Db250YWluKCcnKTtcbiAgICAgICAgZXhwZWN0KHZhbGlkLmdldFRleHQoKSkudG9Db250YWluKCdteUZvcm0uaW5wdXQuJHZhbGlkID0gZmFsc2UnKTtcbiAgICAgIH0pO1xuICAgPC9maWxlPlxuICAgPC9leGFtcGxlPlxuICAgKi9cbiAgJ21vbnRoJzogY3JlYXRlRGF0ZUlucHV0VHlwZSgnbW9udGgnLCBNT05USF9SRUdFWFAsXG4gICAgIGNyZWF0ZURhdGVQYXJzZXIoTU9OVEhfUkVHRVhQLCBbJ3l5eXknLCAnTU0nXSksXG4gICAgICd5eXl5LU1NJyksXG5cbiAgLyoqXG4gICAqIEBuZ2RvYyBpbnB1dFxuICAgKiBAbmFtZSBpbnB1dFtudW1iZXJdXG4gICAqXG4gICAqIEBkZXNjcmlwdGlvblxuICAgKiBUZXh0IGlucHV0IHdpdGggbnVtYmVyIHZhbGlkYXRpb24gYW5kIHRyYW5zZm9ybWF0aW9uLiBTZXRzIHRoZSBgbnVtYmVyYCB2YWxpZGF0aW9uXG4gICAqIGVycm9yIGlmIG5vdCBhIHZhbGlkIG51bWJlci5cbiAgICpcbiAgICogPGRpdiBjbGFzcz1cImFsZXJ0IGFsZXJ0LXdhcm5pbmdcIj5cbiAgICogVGhlIG1vZGVsIG11c3QgYWx3YXlzIGJlIG9mIHR5cGUgYG51bWJlcmAgb3RoZXJ3aXNlIEFuZ3VsYXIgd2lsbCB0aHJvdyBhbiBlcnJvci5cbiAgICogQmUgYXdhcmUgdGhhdCBhIHN0cmluZyBjb250YWluaW5nIGEgbnVtYmVyIGlzIG5vdCBlbm91Z2guIFNlZSB0aGUge0BsaW5rIG5nTW9kZWw6bnVtZm10fVxuICAgKiBlcnJvciBkb2NzIGZvciBtb3JlIGluZm9ybWF0aW9uIGFuZCBhbiBleGFtcGxlIG9mIGhvdyB0byBjb252ZXJ0IHlvdXIgbW9kZWwgaWYgbmVjZXNzYXJ5LlxuICAgKiA8L2Rpdj5cbiAgICpcbiAgICogIyMgSXNzdWVzIHdpdGggSFRNTDUgY29uc3RyYWludCB2YWxpZGF0aW9uXG4gICAqXG4gICAqIEluIGJyb3dzZXJzIHRoYXQgZm9sbG93IHRoZVxuICAgKiBbSFRNTDUgc3BlY2lmaWNhdGlvbl0oaHR0cHM6Ly9odG1sLnNwZWMud2hhdHdnLm9yZy9tdWx0aXBhZ2UvZm9ybXMuaHRtbCNudW1iZXItc3RhdGUtJTI4dHlwZT1udW1iZXIlMjkpLFxuICAgKiBgaW5wdXRbbnVtYmVyXWAgZG9lcyBub3Qgd29yayBhcyBleHBlY3RlZCB3aXRoIHtAbGluayBuZ01vZGVsT3B0aW9ucyBgbmdNb2RlbE9wdGlvbnMuYWxsb3dJbnZhbGlkYH0uXG4gICAqIElmIGEgbm9uLW51bWJlciBpcyBlbnRlcmVkIGluIHRoZSBpbnB1dCwgdGhlIGJyb3dzZXIgd2lsbCByZXBvcnQgdGhlIHZhbHVlIGFzIGFuIGVtcHR5IHN0cmluZyxcbiAgICogd2hpY2ggbWVhbnMgdGhlIHZpZXcgLyBtb2RlbCB2YWx1ZXMgaW4gYG5nTW9kZWxgIGFuZCBzdWJzZXF1ZW50bHkgdGhlIHNjb3BlIHZhbHVlXG4gICAqIHdpbGwgYWxzbyBiZSBhbiBlbXB0eSBzdHJpbmcuXG4gICAqXG4gICAqXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBuZ01vZGVsIEFzc2lnbmFibGUgYW5ndWxhciBleHByZXNzaW9uIHRvIGRhdGEtYmluZCB0by5cbiAgICogQHBhcmFtIHtzdHJpbmc9fSBuYW1lIFByb3BlcnR5IG5hbWUgb2YgdGhlIGZvcm0gdW5kZXIgd2hpY2ggdGhlIGNvbnRyb2wgaXMgcHVibGlzaGVkLlxuICAgKiBAcGFyYW0ge3N0cmluZz19IG1pbiBTZXRzIHRoZSBgbWluYCB2YWxpZGF0aW9uIGVycm9yIGtleSBpZiB0aGUgdmFsdWUgZW50ZXJlZCBpcyBsZXNzIHRoYW4gYG1pbmAuXG4gICAqICAgIENhbiBiZSBpbnRlcnBvbGF0ZWQuXG4gICAqIEBwYXJhbSB7c3RyaW5nPX0gbWF4IFNldHMgdGhlIGBtYXhgIHZhbGlkYXRpb24gZXJyb3Iga2V5IGlmIHRoZSB2YWx1ZSBlbnRlcmVkIGlzIGdyZWF0ZXIgdGhhbiBgbWF4YC5cbiAgICogICAgQ2FuIGJlIGludGVycG9sYXRlZC5cbiAgICogQHBhcmFtIHtzdHJpbmc9fSBuZ01pbiBMaWtlIGBtaW5gLCBzZXRzIHRoZSBgbWluYCB2YWxpZGF0aW9uIGVycm9yIGtleSBpZiB0aGUgdmFsdWUgZW50ZXJlZCBpcyBsZXNzIHRoYW4gYG5nTWluYCxcbiAgICogICAgYnV0IGRvZXMgbm90IHRyaWdnZXIgSFRNTDUgbmF0aXZlIHZhbGlkYXRpb24uIFRha2VzIGFuIGV4cHJlc3Npb24uXG4gICAqIEBwYXJhbSB7c3RyaW5nPX0gbmdNYXggTGlrZSBgbWF4YCwgc2V0cyB0aGUgYG1heGAgdmFsaWRhdGlvbiBlcnJvciBrZXkgaWYgdGhlIHZhbHVlIGVudGVyZWQgaXMgZ3JlYXRlciB0aGFuIGBuZ01heGAsXG4gICAqICAgIGJ1dCBkb2VzIG5vdCB0cmlnZ2VyIEhUTUw1IG5hdGl2ZSB2YWxpZGF0aW9uLiBUYWtlcyBhbiBleHByZXNzaW9uLlxuICAgKiBAcGFyYW0ge3N0cmluZz19IHN0ZXAgU2V0cyB0aGUgYHN0ZXBgIHZhbGlkYXRpb24gZXJyb3Iga2V5IGlmIHRoZSB2YWx1ZSBlbnRlcmVkIGRvZXMgbm90IGZpdCB0aGUgYHN0ZXBgIGNvbnN0cmFpbnQuXG4gICAqICAgIENhbiBiZSBpbnRlcnBvbGF0ZWQuXG4gICAqIEBwYXJhbSB7c3RyaW5nPX0gbmdTdGVwIExpa2UgYHN0ZXBgLCBzZXRzIHRoZSBgc3RlcGAgdmFsaWRhdGlvbiBlcnJvciBrZXkgaWYgdGhlIHZhbHVlIGVudGVyZWQgZG9lcyBub3QgZml0IHRoZSBgbmdTdGVwYCBjb25zdHJhaW50LFxuICAgKiAgICBidXQgZG9lcyBub3QgdHJpZ2dlciBIVE1MNSBuYXRpdmUgdmFsaWRhdGlvbi4gVGFrZXMgYW4gZXhwcmVzc2lvbi5cbiAgICogQHBhcmFtIHtzdHJpbmc9fSByZXF1aXJlZCBTZXRzIGByZXF1aXJlZGAgdmFsaWRhdGlvbiBlcnJvciBrZXkgaWYgdGhlIHZhbHVlIGlzIG5vdCBlbnRlcmVkLlxuICAgKiBAcGFyYW0ge3N0cmluZz19IG5nUmVxdWlyZWQgQWRkcyBgcmVxdWlyZWRgIGF0dHJpYnV0ZSBhbmQgYHJlcXVpcmVkYCB2YWxpZGF0aW9uIGNvbnN0cmFpbnQgdG9cbiAgICogICAgdGhlIGVsZW1lbnQgd2hlbiB0aGUgbmdSZXF1aXJlZCBleHByZXNzaW9uIGV2YWx1YXRlcyB0byB0cnVlLiBVc2UgYG5nUmVxdWlyZWRgIGluc3RlYWQgb2ZcbiAgICogICAgYHJlcXVpcmVkYCB3aGVuIHlvdSB3YW50IHRvIGRhdGEtYmluZCB0byB0aGUgYHJlcXVpcmVkYCBhdHRyaWJ1dGUuXG4gICAqIEBwYXJhbSB7bnVtYmVyPX0gbmdNaW5sZW5ndGggU2V0cyBgbWlubGVuZ3RoYCB2YWxpZGF0aW9uIGVycm9yIGtleSBpZiB0aGUgdmFsdWUgaXMgc2hvcnRlciB0aGFuXG4gICAqICAgIG1pbmxlbmd0aC5cbiAgICogQHBhcmFtIHtudW1iZXI9fSBuZ01heGxlbmd0aCBTZXRzIGBtYXhsZW5ndGhgIHZhbGlkYXRpb24gZXJyb3Iga2V5IGlmIHRoZSB2YWx1ZSBpcyBsb25nZXIgdGhhblxuICAgKiAgICBtYXhsZW5ndGguIFNldHRpbmcgdGhlIGF0dHJpYnV0ZSB0byBhIG5lZ2F0aXZlIG9yIG5vbi1udW1lcmljIHZhbHVlLCBhbGxvd3MgdmlldyB2YWx1ZXMgb2ZcbiAgICogICAgYW55IGxlbmd0aC5cbiAgICogQHBhcmFtIHtzdHJpbmc9fSBwYXR0ZXJuIFNpbWlsYXIgdG8gYG5nUGF0dGVybmAgZXhjZXB0IHRoYXQgdGhlIGF0dHJpYnV0ZSB2YWx1ZSBpcyB0aGUgYWN0dWFsIHN0cmluZ1xuICAgKiAgICB0aGF0IGNvbnRhaW5zIHRoZSByZWd1bGFyIGV4cHJlc3Npb24gYm9keSB0aGF0IHdpbGwgYmUgY29udmVydGVkIHRvIGEgcmVndWxhciBleHByZXNzaW9uXG4gICAqICAgIGFzIGluIHRoZSBuZ1BhdHRlcm4gZGlyZWN0aXZlLlxuICAgKiBAcGFyYW0ge3N0cmluZz19IG5nUGF0dGVybiBTZXRzIGBwYXR0ZXJuYCB2YWxpZGF0aW9uIGVycm9yIGtleSBpZiB0aGUgbmdNb2RlbCB7QGxpbmsgbmdNb2RlbC5OZ01vZGVsQ29udHJvbGxlciMkdmlld1ZhbHVlICR2aWV3VmFsdWV9XG4gICAqICAgIGRvZXMgbm90IG1hdGNoIGEgUmVnRXhwIGZvdW5kIGJ5IGV2YWx1YXRpbmcgdGhlIEFuZ3VsYXIgZXhwcmVzc2lvbiBnaXZlbiBpbiB0aGUgYXR0cmlidXRlIHZhbHVlLlxuICAgKiAgICBJZiB0aGUgZXhwcmVzc2lvbiBldmFsdWF0ZXMgdG8gYSBSZWdFeHAgb2JqZWN0LCB0aGVuIHRoaXMgaXMgdXNlZCBkaXJlY3RseS5cbiAgICogICAgSWYgdGhlIGV4cHJlc3Npb24gZXZhbHVhdGVzIHRvIGEgc3RyaW5nLCB0aGVuIGl0IHdpbGwgYmUgY29udmVydGVkIHRvIGEgUmVnRXhwXG4gICAqICAgIGFmdGVyIHdyYXBwaW5nIGl0IGluIGBeYCBhbmQgYCRgIGNoYXJhY3RlcnMuIEZvciBpbnN0YW5jZSwgYFwiYWJjXCJgIHdpbGwgYmUgY29udmVydGVkIHRvXG4gICAqICAgIGBuZXcgUmVnRXhwKCdeYWJjJCcpYC48YnIgLz5cbiAgICogICAgKipOb3RlOioqIEF2b2lkIHVzaW5nIHRoZSBgZ2AgZmxhZyBvbiB0aGUgUmVnRXhwLCBhcyBpdCB3aWxsIGNhdXNlIGVhY2ggc3VjY2Vzc2l2ZSBzZWFyY2ggdG9cbiAgICogICAgc3RhcnQgYXQgdGhlIGluZGV4IG9mIHRoZSBsYXN0IHNlYXJjaCdzIG1hdGNoLCB0aHVzIG5vdCB0YWtpbmcgdGhlIHdob2xlIGlucHV0IHZhbHVlIGludG9cbiAgICogICAgYWNjb3VudC5cbiAgICogQHBhcmFtIHtzdHJpbmc9fSBuZ0NoYW5nZSBBbmd1bGFyIGV4cHJlc3Npb24gdG8gYmUgZXhlY3V0ZWQgd2hlbiBpbnB1dCBjaGFuZ2VzIGR1ZSB0byB1c2VyXG4gICAqICAgIGludGVyYWN0aW9uIHdpdGggdGhlIGlucHV0IGVsZW1lbnQuXG4gICAqXG4gICAqIEBleGFtcGxlXG4gICAgICA8ZXhhbXBsZSBuYW1lPVwibnVtYmVyLWlucHV0LWRpcmVjdGl2ZVwiIG1vZHVsZT1cIm51bWJlckV4YW1wbGVcIj5cbiAgICAgICAgPGZpbGUgbmFtZT1cImluZGV4Lmh0bWxcIj5cbiAgICAgICAgIDxzY3JpcHQ+XG4gICAgICAgICAgIGFuZ3VsYXIubW9kdWxlKCdudW1iZXJFeGFtcGxlJywgW10pXG4gICAgICAgICAgICAgLmNvbnRyb2xsZXIoJ0V4YW1wbGVDb250cm9sbGVyJywgWyckc2NvcGUnLCBmdW5jdGlvbigkc2NvcGUpIHtcbiAgICAgICAgICAgICAgICRzY29wZS5leGFtcGxlID0ge1xuICAgICAgICAgICAgICAgICB2YWx1ZTogMTJcbiAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgfV0pO1xuICAgICAgICAgPC9zY3JpcHQ+XG4gICAgICAgICA8Zm9ybSBuYW1lPVwibXlGb3JtXCIgbmctY29udHJvbGxlcj1cIkV4YW1wbGVDb250cm9sbGVyXCI+XG4gICAgICAgICAgIDxsYWJlbD5OdW1iZXI6XG4gICAgICAgICAgICAgPGlucHV0IHR5cGU9XCJudW1iZXJcIiBuYW1lPVwiaW5wdXRcIiBuZy1tb2RlbD1cImV4YW1wbGUudmFsdWVcIlxuICAgICAgICAgICAgICAgICAgICBtaW49XCIwXCIgbWF4PVwiOTlcIiByZXF1aXJlZD5cbiAgICAgICAgICA8L2xhYmVsPlxuICAgICAgICAgICA8ZGl2IHJvbGU9XCJhbGVydFwiPlxuICAgICAgICAgICAgIDxzcGFuIGNsYXNzPVwiZXJyb3JcIiBuZy1zaG93PVwibXlGb3JtLmlucHV0LiRlcnJvci5yZXF1aXJlZFwiPlxuICAgICAgICAgICAgICAgUmVxdWlyZWQhPC9zcGFuPlxuICAgICAgICAgICAgIDxzcGFuIGNsYXNzPVwiZXJyb3JcIiBuZy1zaG93PVwibXlGb3JtLmlucHV0LiRlcnJvci5udW1iZXJcIj5cbiAgICAgICAgICAgICAgIE5vdCB2YWxpZCBudW1iZXIhPC9zcGFuPlxuICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgPHR0PnZhbHVlID0ge3tleGFtcGxlLnZhbHVlfX08L3R0Pjxici8+XG4gICAgICAgICAgIDx0dD5teUZvcm0uaW5wdXQuJHZhbGlkID0ge3tteUZvcm0uaW5wdXQuJHZhbGlkfX08L3R0Pjxici8+XG4gICAgICAgICAgIDx0dD5teUZvcm0uaW5wdXQuJGVycm9yID0ge3tteUZvcm0uaW5wdXQuJGVycm9yfX08L3R0Pjxici8+XG4gICAgICAgICAgIDx0dD5teUZvcm0uJHZhbGlkID0ge3tteUZvcm0uJHZhbGlkfX08L3R0Pjxici8+XG4gICAgICAgICAgIDx0dD5teUZvcm0uJGVycm9yLnJlcXVpcmVkID0ge3shIW15Rm9ybS4kZXJyb3IucmVxdWlyZWR9fTwvdHQ+PGJyLz5cbiAgICAgICAgICA8L2Zvcm0+XG4gICAgICAgIDwvZmlsZT5cbiAgICAgICAgPGZpbGUgbmFtZT1cInByb3RyYWN0b3IuanNcIiB0eXBlPVwicHJvdHJhY3RvclwiPlxuICAgICAgICAgIHZhciB2YWx1ZSA9IGVsZW1lbnQoYnkuYmluZGluZygnZXhhbXBsZS52YWx1ZScpKTtcbiAgICAgICAgICB2YXIgdmFsaWQgPSBlbGVtZW50KGJ5LmJpbmRpbmcoJ215Rm9ybS5pbnB1dC4kdmFsaWQnKSk7XG4gICAgICAgICAgdmFyIGlucHV0ID0gZWxlbWVudChieS5tb2RlbCgnZXhhbXBsZS52YWx1ZScpKTtcblxuICAgICAgICAgIGl0KCdzaG91bGQgaW5pdGlhbGl6ZSB0byBtb2RlbCcsIGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgZXhwZWN0KHZhbHVlLmdldFRleHQoKSkudG9Db250YWluKCcxMicpO1xuICAgICAgICAgICAgZXhwZWN0KHZhbGlkLmdldFRleHQoKSkudG9Db250YWluKCd0cnVlJyk7XG4gICAgICAgICAgfSk7XG5cbiAgICAgICAgICBpdCgnc2hvdWxkIGJlIGludmFsaWQgaWYgZW1wdHknLCBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIGlucHV0LmNsZWFyKCk7XG4gICAgICAgICAgICBpbnB1dC5zZW5kS2V5cygnJyk7XG4gICAgICAgICAgICBleHBlY3QodmFsdWUuZ2V0VGV4dCgpKS50b0VxdWFsKCd2YWx1ZSA9Jyk7XG4gICAgICAgICAgICBleHBlY3QodmFsaWQuZ2V0VGV4dCgpKS50b0NvbnRhaW4oJ2ZhbHNlJyk7XG4gICAgICAgICAgfSk7XG5cbiAgICAgICAgICBpdCgnc2hvdWxkIGJlIGludmFsaWQgaWYgb3ZlciBtYXgnLCBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIGlucHV0LmNsZWFyKCk7XG4gICAgICAgICAgICBpbnB1dC5zZW5kS2V5cygnMTIzJyk7XG4gICAgICAgICAgICBleHBlY3QodmFsdWUuZ2V0VGV4dCgpKS50b0VxdWFsKCd2YWx1ZSA9Jyk7XG4gICAgICAgICAgICBleHBlY3QodmFsaWQuZ2V0VGV4dCgpKS50b0NvbnRhaW4oJ2ZhbHNlJyk7XG4gICAgICAgICAgfSk7XG4gICAgICAgIDwvZmlsZT5cbiAgICAgIDwvZXhhbXBsZT5cbiAgICovXG4gICdudW1iZXInOiBudW1iZXJJbnB1dFR5cGUsXG5cblxuICAvKipcbiAgICogQG5nZG9jIGlucHV0XG4gICAqIEBuYW1lIGlucHV0W3VybF1cbiAgICpcbiAgICogQGRlc2NyaXB0aW9uXG4gICAqIFRleHQgaW5wdXQgd2l0aCBVUkwgdmFsaWRhdGlvbi4gU2V0cyB0aGUgYHVybGAgdmFsaWRhdGlvbiBlcnJvciBrZXkgaWYgdGhlIGNvbnRlbnQgaXMgbm90IGFcbiAgICogdmFsaWQgVVJMLlxuICAgKlxuICAgKiA8ZGl2IGNsYXNzPVwiYWxlcnQgYWxlcnQtd2FybmluZ1wiPlxuICAgKiAqKk5vdGU6KiogYGlucHV0W3VybF1gIHVzZXMgYSByZWdleCB0byB2YWxpZGF0ZSB1cmxzIHRoYXQgaXMgZGVyaXZlZCBmcm9tIHRoZSByZWdleFxuICAgKiB1c2VkIGluIENocm9taXVtLiBJZiB5b3UgbmVlZCBzdHJpY3RlciB2YWxpZGF0aW9uLCB5b3UgY2FuIHVzZSBgbmctcGF0dGVybmAgb3IgbW9kaWZ5XG4gICAqIHRoZSBidWlsdC1pbiB2YWxpZGF0b3JzIChzZWUgdGhlIHtAbGluayBndWlkZS9mb3JtcyBGb3JtcyBndWlkZX0pXG4gICAqIDwvZGl2PlxuICAgKlxuICAgKiBAcGFyYW0ge3N0cmluZ30gbmdNb2RlbCBBc3NpZ25hYmxlIGFuZ3VsYXIgZXhwcmVzc2lvbiB0byBkYXRhLWJpbmQgdG8uXG4gICAqIEBwYXJhbSB7c3RyaW5nPX0gbmFtZSBQcm9wZXJ0eSBuYW1lIG9mIHRoZSBmb3JtIHVuZGVyIHdoaWNoIHRoZSBjb250cm9sIGlzIHB1Ymxpc2hlZC5cbiAgICogQHBhcmFtIHtzdHJpbmc9fSByZXF1aXJlZCBTZXRzIGByZXF1aXJlZGAgdmFsaWRhdGlvbiBlcnJvciBrZXkgaWYgdGhlIHZhbHVlIGlzIG5vdCBlbnRlcmVkLlxuICAgKiBAcGFyYW0ge3N0cmluZz19IG5nUmVxdWlyZWQgQWRkcyBgcmVxdWlyZWRgIGF0dHJpYnV0ZSBhbmQgYHJlcXVpcmVkYCB2YWxpZGF0aW9uIGNvbnN0cmFpbnQgdG9cbiAgICogICAgdGhlIGVsZW1lbnQgd2hlbiB0aGUgbmdSZXF1aXJlZCBleHByZXNzaW9uIGV2YWx1YXRlcyB0byB0cnVlLiBVc2UgYG5nUmVxdWlyZWRgIGluc3RlYWQgb2ZcbiAgICogICAgYHJlcXVpcmVkYCB3aGVuIHlvdSB3YW50IHRvIGRhdGEtYmluZCB0byB0aGUgYHJlcXVpcmVkYCBhdHRyaWJ1dGUuXG4gICAqIEBwYXJhbSB7bnVtYmVyPX0gbmdNaW5sZW5ndGggU2V0cyBgbWlubGVuZ3RoYCB2YWxpZGF0aW9uIGVycm9yIGtleSBpZiB0aGUgdmFsdWUgaXMgc2hvcnRlciB0aGFuXG4gICAqICAgIG1pbmxlbmd0aC5cbiAgICogQHBhcmFtIHtudW1iZXI9fSBuZ01heGxlbmd0aCBTZXRzIGBtYXhsZW5ndGhgIHZhbGlkYXRpb24gZXJyb3Iga2V5IGlmIHRoZSB2YWx1ZSBpcyBsb25nZXIgdGhhblxuICAgKiAgICBtYXhsZW5ndGguIFNldHRpbmcgdGhlIGF0dHJpYnV0ZSB0byBhIG5lZ2F0aXZlIG9yIG5vbi1udW1lcmljIHZhbHVlLCBhbGxvd3MgdmlldyB2YWx1ZXMgb2ZcbiAgICogICAgYW55IGxlbmd0aC5cbiAgICogQHBhcmFtIHtzdHJpbmc9fSBwYXR0ZXJuIFNpbWlsYXIgdG8gYG5nUGF0dGVybmAgZXhjZXB0IHRoYXQgdGhlIGF0dHJpYnV0ZSB2YWx1ZSBpcyB0aGUgYWN0dWFsIHN0cmluZ1xuICAgKiAgICB0aGF0IGNvbnRhaW5zIHRoZSByZWd1bGFyIGV4cHJlc3Npb24gYm9keSB0aGF0IHdpbGwgYmUgY29udmVydGVkIHRvIGEgcmVndWxhciBleHByZXNzaW9uXG4gICAqICAgIGFzIGluIHRoZSBuZ1BhdHRlcm4gZGlyZWN0aXZlLlxuICAgKiBAcGFyYW0ge3N0cmluZz19IG5nUGF0dGVybiBTZXRzIGBwYXR0ZXJuYCB2YWxpZGF0aW9uIGVycm9yIGtleSBpZiB0aGUgbmdNb2RlbCB7QGxpbmsgbmdNb2RlbC5OZ01vZGVsQ29udHJvbGxlciMkdmlld1ZhbHVlICR2aWV3VmFsdWV9XG4gICAqICAgIGRvZXMgbm90IG1hdGNoIGEgUmVnRXhwIGZvdW5kIGJ5IGV2YWx1YXRpbmcgdGhlIEFuZ3VsYXIgZXhwcmVzc2lvbiBnaXZlbiBpbiB0aGUgYXR0cmlidXRlIHZhbHVlLlxuICAgKiAgICBJZiB0aGUgZXhwcmVzc2lvbiBldmFsdWF0ZXMgdG8gYSBSZWdFeHAgb2JqZWN0LCB0aGVuIHRoaXMgaXMgdXNlZCBkaXJlY3RseS5cbiAgICogICAgSWYgdGhlIGV4cHJlc3Npb24gZXZhbHVhdGVzIHRvIGEgc3RyaW5nLCB0aGVuIGl0IHdpbGwgYmUgY29udmVydGVkIHRvIGEgUmVnRXhwXG4gICAqICAgIGFmdGVyIHdyYXBwaW5nIGl0IGluIGBeYCBhbmQgYCRgIGNoYXJhY3RlcnMuIEZvciBpbnN0YW5jZSwgYFwiYWJjXCJgIHdpbGwgYmUgY29udmVydGVkIHRvXG4gICAqICAgIGBuZXcgUmVnRXhwKCdeYWJjJCcpYC48YnIgLz5cbiAgICogICAgKipOb3RlOioqIEF2b2lkIHVzaW5nIHRoZSBgZ2AgZmxhZyBvbiB0aGUgUmVnRXhwLCBhcyBpdCB3aWxsIGNhdXNlIGVhY2ggc3VjY2Vzc2l2ZSBzZWFyY2ggdG9cbiAgICogICAgc3RhcnQgYXQgdGhlIGluZGV4IG9mIHRoZSBsYXN0IHNlYXJjaCdzIG1hdGNoLCB0aHVzIG5vdCB0YWtpbmcgdGhlIHdob2xlIGlucHV0IHZhbHVlIGludG9cbiAgICogICAgYWNjb3VudC5cbiAgICogQHBhcmFtIHtzdHJpbmc9fSBuZ0NoYW5nZSBBbmd1bGFyIGV4cHJlc3Npb24gdG8gYmUgZXhlY3V0ZWQgd2hlbiBpbnB1dCBjaGFuZ2VzIGR1ZSB0byB1c2VyXG4gICAqICAgIGludGVyYWN0aW9uIHdpdGggdGhlIGlucHV0IGVsZW1lbnQuXG4gICAqXG4gICAqIEBleGFtcGxlXG4gICAgICA8ZXhhbXBsZSBuYW1lPVwidXJsLWlucHV0LWRpcmVjdGl2ZVwiIG1vZHVsZT1cInVybEV4YW1wbGVcIj5cbiAgICAgICAgPGZpbGUgbmFtZT1cImluZGV4Lmh0bWxcIj5cbiAgICAgICAgIDxzY3JpcHQ+XG4gICAgICAgICAgIGFuZ3VsYXIubW9kdWxlKCd1cmxFeGFtcGxlJywgW10pXG4gICAgICAgICAgICAgLmNvbnRyb2xsZXIoJ0V4YW1wbGVDb250cm9sbGVyJywgWyckc2NvcGUnLCBmdW5jdGlvbigkc2NvcGUpIHtcbiAgICAgICAgICAgICAgICRzY29wZS51cmwgPSB7XG4gICAgICAgICAgICAgICAgIHRleHQ6ICdodHRwOi8vZ29vZ2xlLmNvbSdcbiAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgfV0pO1xuICAgICAgICAgPC9zY3JpcHQ+XG4gICAgICAgICA8Zm9ybSBuYW1lPVwibXlGb3JtXCIgbmctY29udHJvbGxlcj1cIkV4YW1wbGVDb250cm9sbGVyXCI+XG4gICAgICAgICAgIDxsYWJlbD5VUkw6XG4gICAgICAgICAgICAgPGlucHV0IHR5cGU9XCJ1cmxcIiBuYW1lPVwiaW5wdXRcIiBuZy1tb2RlbD1cInVybC50ZXh0XCIgcmVxdWlyZWQ+XG4gICAgICAgICAgIDxsYWJlbD5cbiAgICAgICAgICAgPGRpdiByb2xlPVwiYWxlcnRcIj5cbiAgICAgICAgICAgICA8c3BhbiBjbGFzcz1cImVycm9yXCIgbmctc2hvdz1cIm15Rm9ybS5pbnB1dC4kZXJyb3IucmVxdWlyZWRcIj5cbiAgICAgICAgICAgICAgIFJlcXVpcmVkITwvc3Bhbj5cbiAgICAgICAgICAgICA8c3BhbiBjbGFzcz1cImVycm9yXCIgbmctc2hvdz1cIm15Rm9ybS5pbnB1dC4kZXJyb3IudXJsXCI+XG4gICAgICAgICAgICAgICBOb3QgdmFsaWQgdXJsITwvc3Bhbj5cbiAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgIDx0dD50ZXh0ID0ge3t1cmwudGV4dH19PC90dD48YnIvPlxuICAgICAgICAgICA8dHQ+bXlGb3JtLmlucHV0LiR2YWxpZCA9IHt7bXlGb3JtLmlucHV0LiR2YWxpZH19PC90dD48YnIvPlxuICAgICAgICAgICA8dHQ+bXlGb3JtLmlucHV0LiRlcnJvciA9IHt7bXlGb3JtLmlucHV0LiRlcnJvcn19PC90dD48YnIvPlxuICAgICAgICAgICA8dHQ+bXlGb3JtLiR2YWxpZCA9IHt7bXlGb3JtLiR2YWxpZH19PC90dD48YnIvPlxuICAgICAgICAgICA8dHQ+bXlGb3JtLiRlcnJvci5yZXF1aXJlZCA9IHt7ISFteUZvcm0uJGVycm9yLnJlcXVpcmVkfX08L3R0Pjxici8+XG4gICAgICAgICAgIDx0dD5teUZvcm0uJGVycm9yLnVybCA9IHt7ISFteUZvcm0uJGVycm9yLnVybH19PC90dD48YnIvPlxuICAgICAgICAgIDwvZm9ybT5cbiAgICAgICAgPC9maWxlPlxuICAgICAgICA8ZmlsZSBuYW1lPVwicHJvdHJhY3Rvci5qc1wiIHR5cGU9XCJwcm90cmFjdG9yXCI+XG4gICAgICAgICAgdmFyIHRleHQgPSBlbGVtZW50KGJ5LmJpbmRpbmcoJ3VybC50ZXh0JykpO1xuICAgICAgICAgIHZhciB2YWxpZCA9IGVsZW1lbnQoYnkuYmluZGluZygnbXlGb3JtLmlucHV0LiR2YWxpZCcpKTtcbiAgICAgICAgICB2YXIgaW5wdXQgPSBlbGVtZW50KGJ5Lm1vZGVsKCd1cmwudGV4dCcpKTtcblxuICAgICAgICAgIGl0KCdzaG91bGQgaW5pdGlhbGl6ZSB0byBtb2RlbCcsIGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgZXhwZWN0KHRleHQuZ2V0VGV4dCgpKS50b0NvbnRhaW4oJ2h0dHA6Ly9nb29nbGUuY29tJyk7XG4gICAgICAgICAgICBleHBlY3QodmFsaWQuZ2V0VGV4dCgpKS50b0NvbnRhaW4oJ3RydWUnKTtcbiAgICAgICAgICB9KTtcblxuICAgICAgICAgIGl0KCdzaG91bGQgYmUgaW52YWxpZCBpZiBlbXB0eScsIGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgaW5wdXQuY2xlYXIoKTtcbiAgICAgICAgICAgIGlucHV0LnNlbmRLZXlzKCcnKTtcblxuICAgICAgICAgICAgZXhwZWN0KHRleHQuZ2V0VGV4dCgpKS50b0VxdWFsKCd0ZXh0ID0nKTtcbiAgICAgICAgICAgIGV4cGVjdCh2YWxpZC5nZXRUZXh0KCkpLnRvQ29udGFpbignZmFsc2UnKTtcbiAgICAgICAgICB9KTtcblxuICAgICAgICAgIGl0KCdzaG91bGQgYmUgaW52YWxpZCBpZiBub3QgdXJsJywgZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICBpbnB1dC5jbGVhcigpO1xuICAgICAgICAgICAgaW5wdXQuc2VuZEtleXMoJ2JveCcpO1xuXG4gICAgICAgICAgICBleHBlY3QodmFsaWQuZ2V0VGV4dCgpKS50b0NvbnRhaW4oJ2ZhbHNlJyk7XG4gICAgICAgICAgfSk7XG4gICAgICAgIDwvZmlsZT5cbiAgICAgIDwvZXhhbXBsZT5cbiAgICovXG4gICd1cmwnOiB1cmxJbnB1dFR5cGUsXG5cblxuICAvKipcbiAgICogQG5nZG9jIGlucHV0XG4gICAqIEBuYW1lIGlucHV0W2VtYWlsXVxuICAgKlxuICAgKiBAZGVzY3JpcHRpb25cbiAgICogVGV4dCBpbnB1dCB3aXRoIGVtYWlsIHZhbGlkYXRpb24uIFNldHMgdGhlIGBlbWFpbGAgdmFsaWRhdGlvbiBlcnJvciBrZXkgaWYgbm90IGEgdmFsaWQgZW1haWxcbiAgICogYWRkcmVzcy5cbiAgICpcbiAgICogPGRpdiBjbGFzcz1cImFsZXJ0IGFsZXJ0LXdhcm5pbmdcIj5cbiAgICogKipOb3RlOioqIGBpbnB1dFtlbWFpbF1gIHVzZXMgYSByZWdleCB0byB2YWxpZGF0ZSBlbWFpbCBhZGRyZXNzZXMgdGhhdCBpcyBkZXJpdmVkIGZyb20gdGhlIHJlZ2V4XG4gICAqIHVzZWQgaW4gQ2hyb21pdW0uIElmIHlvdSBuZWVkIHN0cmljdGVyIHZhbGlkYXRpb24gKGUuZy4gcmVxdWlyaW5nIGEgdG9wLWxldmVsIGRvbWFpbiksIHlvdSBjYW5cbiAgICogdXNlIGBuZy1wYXR0ZXJuYCBvciBtb2RpZnkgdGhlIGJ1aWx0LWluIHZhbGlkYXRvcnMgKHNlZSB0aGUge0BsaW5rIGd1aWRlL2Zvcm1zIEZvcm1zIGd1aWRlfSlcbiAgICogPC9kaXY+XG4gICAqXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBuZ01vZGVsIEFzc2lnbmFibGUgYW5ndWxhciBleHByZXNzaW9uIHRvIGRhdGEtYmluZCB0by5cbiAgICogQHBhcmFtIHtzdHJpbmc9fSBuYW1lIFByb3BlcnR5IG5hbWUgb2YgdGhlIGZvcm0gdW5kZXIgd2hpY2ggdGhlIGNvbnRyb2wgaXMgcHVibGlzaGVkLlxuICAgKiBAcGFyYW0ge3N0cmluZz19IHJlcXVpcmVkIFNldHMgYHJlcXVpcmVkYCB2YWxpZGF0aW9uIGVycm9yIGtleSBpZiB0aGUgdmFsdWUgaXMgbm90IGVudGVyZWQuXG4gICAqIEBwYXJhbSB7c3RyaW5nPX0gbmdSZXF1aXJlZCBBZGRzIGByZXF1aXJlZGAgYXR0cmlidXRlIGFuZCBgcmVxdWlyZWRgIHZhbGlkYXRpb24gY29uc3RyYWludCB0b1xuICAgKiAgICB0aGUgZWxlbWVudCB3aGVuIHRoZSBuZ1JlcXVpcmVkIGV4cHJlc3Npb24gZXZhbHVhdGVzIHRvIHRydWUuIFVzZSBgbmdSZXF1aXJlZGAgaW5zdGVhZCBvZlxuICAgKiAgICBgcmVxdWlyZWRgIHdoZW4geW91IHdhbnQgdG8gZGF0YS1iaW5kIHRvIHRoZSBgcmVxdWlyZWRgIGF0dHJpYnV0ZS5cbiAgICogQHBhcmFtIHtudW1iZXI9fSBuZ01pbmxlbmd0aCBTZXRzIGBtaW5sZW5ndGhgIHZhbGlkYXRpb24gZXJyb3Iga2V5IGlmIHRoZSB2YWx1ZSBpcyBzaG9ydGVyIHRoYW5cbiAgICogICAgbWlubGVuZ3RoLlxuICAgKiBAcGFyYW0ge251bWJlcj19IG5nTWF4bGVuZ3RoIFNldHMgYG1heGxlbmd0aGAgdmFsaWRhdGlvbiBlcnJvciBrZXkgaWYgdGhlIHZhbHVlIGlzIGxvbmdlciB0aGFuXG4gICAqICAgIG1heGxlbmd0aC4gU2V0dGluZyB0aGUgYXR0cmlidXRlIHRvIGEgbmVnYXRpdmUgb3Igbm9uLW51bWVyaWMgdmFsdWUsIGFsbG93cyB2aWV3IHZhbHVlcyBvZlxuICAgKiAgICBhbnkgbGVuZ3RoLlxuICAgKiBAcGFyYW0ge3N0cmluZz19IHBhdHRlcm4gU2ltaWxhciB0byBgbmdQYXR0ZXJuYCBleGNlcHQgdGhhdCB0aGUgYXR0cmlidXRlIHZhbHVlIGlzIHRoZSBhY3R1YWwgc3RyaW5nXG4gICAqICAgIHRoYXQgY29udGFpbnMgdGhlIHJlZ3VsYXIgZXhwcmVzc2lvbiBib2R5IHRoYXQgd2lsbCBiZSBjb252ZXJ0ZWQgdG8gYSByZWd1bGFyIGV4cHJlc3Npb25cbiAgICogICAgYXMgaW4gdGhlIG5nUGF0dGVybiBkaXJlY3RpdmUuXG4gICAqIEBwYXJhbSB7c3RyaW5nPX0gbmdQYXR0ZXJuIFNldHMgYHBhdHRlcm5gIHZhbGlkYXRpb24gZXJyb3Iga2V5IGlmIHRoZSBuZ01vZGVsIHtAbGluayBuZ01vZGVsLk5nTW9kZWxDb250cm9sbGVyIyR2aWV3VmFsdWUgJHZpZXdWYWx1ZX1cbiAgICogICAgZG9lcyBub3QgbWF0Y2ggYSBSZWdFeHAgZm91bmQgYnkgZXZhbHVhdGluZyB0aGUgQW5ndWxhciBleHByZXNzaW9uIGdpdmVuIGluIHRoZSBhdHRyaWJ1dGUgdmFsdWUuXG4gICAqICAgIElmIHRoZSBleHByZXNzaW9uIGV2YWx1YXRlcyB0byBhIFJlZ0V4cCBvYmplY3QsIHRoZW4gdGhpcyBpcyB1c2VkIGRpcmVjdGx5LlxuICAgKiAgICBJZiB0aGUgZXhwcmVzc2lvbiBldmFsdWF0ZXMgdG8gYSBzdHJpbmcsIHRoZW4gaXQgd2lsbCBiZSBjb252ZXJ0ZWQgdG8gYSBSZWdFeHBcbiAgICogICAgYWZ0ZXIgd3JhcHBpbmcgaXQgaW4gYF5gIGFuZCBgJGAgY2hhcmFjdGVycy4gRm9yIGluc3RhbmNlLCBgXCJhYmNcImAgd2lsbCBiZSBjb252ZXJ0ZWQgdG9cbiAgICogICAgYG5ldyBSZWdFeHAoJ15hYmMkJylgLjxiciAvPlxuICAgKiAgICAqKk5vdGU6KiogQXZvaWQgdXNpbmcgdGhlIGBnYCBmbGFnIG9uIHRoZSBSZWdFeHAsIGFzIGl0IHdpbGwgY2F1c2UgZWFjaCBzdWNjZXNzaXZlIHNlYXJjaCB0b1xuICAgKiAgICBzdGFydCBhdCB0aGUgaW5kZXggb2YgdGhlIGxhc3Qgc2VhcmNoJ3MgbWF0Y2gsIHRodXMgbm90IHRha2luZyB0aGUgd2hvbGUgaW5wdXQgdmFsdWUgaW50b1xuICAgKiAgICBhY2NvdW50LlxuICAgKiBAcGFyYW0ge3N0cmluZz19IG5nQ2hhbmdlIEFuZ3VsYXIgZXhwcmVzc2lvbiB0byBiZSBleGVjdXRlZCB3aGVuIGlucHV0IGNoYW5nZXMgZHVlIHRvIHVzZXJcbiAgICogICAgaW50ZXJhY3Rpb24gd2l0aCB0aGUgaW5wdXQgZWxlbWVudC5cbiAgICpcbiAgICogQGV4YW1wbGVcbiAgICAgIDxleGFtcGxlIG5hbWU9XCJlbWFpbC1pbnB1dC1kaXJlY3RpdmVcIiBtb2R1bGU9XCJlbWFpbEV4YW1wbGVcIj5cbiAgICAgICAgPGZpbGUgbmFtZT1cImluZGV4Lmh0bWxcIj5cbiAgICAgICAgIDxzY3JpcHQ+XG4gICAgICAgICAgIGFuZ3VsYXIubW9kdWxlKCdlbWFpbEV4YW1wbGUnLCBbXSlcbiAgICAgICAgICAgICAuY29udHJvbGxlcignRXhhbXBsZUNvbnRyb2xsZXInLCBbJyRzY29wZScsIGZ1bmN0aW9uKCRzY29wZSkge1xuICAgICAgICAgICAgICAgJHNjb3BlLmVtYWlsID0ge1xuICAgICAgICAgICAgICAgICB0ZXh0OiAnbWVAZXhhbXBsZS5jb20nXG4gICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgIH1dKTtcbiAgICAgICAgIDwvc2NyaXB0PlxuICAgICAgICAgICA8Zm9ybSBuYW1lPVwibXlGb3JtXCIgbmctY29udHJvbGxlcj1cIkV4YW1wbGVDb250cm9sbGVyXCI+XG4gICAgICAgICAgICAgPGxhYmVsPkVtYWlsOlxuICAgICAgICAgICAgICAgPGlucHV0IHR5cGU9XCJlbWFpbFwiIG5hbWU9XCJpbnB1dFwiIG5nLW1vZGVsPVwiZW1haWwudGV4dFwiIHJlcXVpcmVkPlxuICAgICAgICAgICAgIDwvbGFiZWw+XG4gICAgICAgICAgICAgPGRpdiByb2xlPVwiYWxlcnRcIj5cbiAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzPVwiZXJyb3JcIiBuZy1zaG93PVwibXlGb3JtLmlucHV0LiRlcnJvci5yZXF1aXJlZFwiPlxuICAgICAgICAgICAgICAgICBSZXF1aXJlZCE8L3NwYW4+XG4gICAgICAgICAgICAgICA8c3BhbiBjbGFzcz1cImVycm9yXCIgbmctc2hvdz1cIm15Rm9ybS5pbnB1dC4kZXJyb3IuZW1haWxcIj5cbiAgICAgICAgICAgICAgICAgTm90IHZhbGlkIGVtYWlsITwvc3Bhbj5cbiAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICA8dHQ+dGV4dCA9IHt7ZW1haWwudGV4dH19PC90dD48YnIvPlxuICAgICAgICAgICAgIDx0dD5teUZvcm0uaW5wdXQuJHZhbGlkID0ge3tteUZvcm0uaW5wdXQuJHZhbGlkfX08L3R0Pjxici8+XG4gICAgICAgICAgICAgPHR0Pm15Rm9ybS5pbnB1dC4kZXJyb3IgPSB7e215Rm9ybS5pbnB1dC4kZXJyb3J9fTwvdHQ+PGJyLz5cbiAgICAgICAgICAgICA8dHQ+bXlGb3JtLiR2YWxpZCA9IHt7bXlGb3JtLiR2YWxpZH19PC90dD48YnIvPlxuICAgICAgICAgICAgIDx0dD5teUZvcm0uJGVycm9yLnJlcXVpcmVkID0ge3shIW15Rm9ybS4kZXJyb3IucmVxdWlyZWR9fTwvdHQ+PGJyLz5cbiAgICAgICAgICAgICA8dHQ+bXlGb3JtLiRlcnJvci5lbWFpbCA9IHt7ISFteUZvcm0uJGVycm9yLmVtYWlsfX08L3R0Pjxici8+XG4gICAgICAgICAgIDwvZm9ybT5cbiAgICAgICAgIDwvZmlsZT5cbiAgICAgICAgPGZpbGUgbmFtZT1cInByb3RyYWN0b3IuanNcIiB0eXBlPVwicHJvdHJhY3RvclwiPlxuICAgICAgICAgIHZhciB0ZXh0ID0gZWxlbWVudChieS5iaW5kaW5nKCdlbWFpbC50ZXh0JykpO1xuICAgICAgICAgIHZhciB2YWxpZCA9IGVsZW1lbnQoYnkuYmluZGluZygnbXlGb3JtLmlucHV0LiR2YWxpZCcpKTtcbiAgICAgICAgICB2YXIgaW5wdXQgPSBlbGVtZW50KGJ5Lm1vZGVsKCdlbWFpbC50ZXh0JykpO1xuXG4gICAgICAgICAgaXQoJ3Nob3VsZCBpbml0aWFsaXplIHRvIG1vZGVsJywgZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICBleHBlY3QodGV4dC5nZXRUZXh0KCkpLnRvQ29udGFpbignbWVAZXhhbXBsZS5jb20nKTtcbiAgICAgICAgICAgIGV4cGVjdCh2YWxpZC5nZXRUZXh0KCkpLnRvQ29udGFpbigndHJ1ZScpO1xuICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgaXQoJ3Nob3VsZCBiZSBpbnZhbGlkIGlmIGVtcHR5JywgZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICBpbnB1dC5jbGVhcigpO1xuICAgICAgICAgICAgaW5wdXQuc2VuZEtleXMoJycpO1xuICAgICAgICAgICAgZXhwZWN0KHRleHQuZ2V0VGV4dCgpKS50b0VxdWFsKCd0ZXh0ID0nKTtcbiAgICAgICAgICAgIGV4cGVjdCh2YWxpZC5nZXRUZXh0KCkpLnRvQ29udGFpbignZmFsc2UnKTtcbiAgICAgICAgICB9KTtcblxuICAgICAgICAgIGl0KCdzaG91bGQgYmUgaW52YWxpZCBpZiBub3QgZW1haWwnLCBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIGlucHV0LmNsZWFyKCk7XG4gICAgICAgICAgICBpbnB1dC5zZW5kS2V5cygneHh4Jyk7XG5cbiAgICAgICAgICAgIGV4cGVjdCh2YWxpZC5nZXRUZXh0KCkpLnRvQ29udGFpbignZmFsc2UnKTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgPC9maWxlPlxuICAgICAgPC9leGFtcGxlPlxuICAgKi9cbiAgJ2VtYWlsJzogZW1haWxJbnB1dFR5cGUsXG5cblxuICAvKipcbiAgICogQG5nZG9jIGlucHV0XG4gICAqIEBuYW1lIGlucHV0W3JhZGlvXVxuICAgKlxuICAgKiBAZGVzY3JpcHRpb25cbiAgICogSFRNTCByYWRpbyBidXR0b24uXG4gICAqXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBuZ01vZGVsIEFzc2lnbmFibGUgYW5ndWxhciBleHByZXNzaW9uIHRvIGRhdGEtYmluZCB0by5cbiAgICogQHBhcmFtIHtzdHJpbmd9IHZhbHVlIFRoZSB2YWx1ZSB0byB3aGljaCB0aGUgYG5nTW9kZWxgIGV4cHJlc3Npb24gc2hvdWxkIGJlIHNldCB3aGVuIHNlbGVjdGVkLlxuICAgKiAgICBOb3RlIHRoYXQgYHZhbHVlYCBvbmx5IHN1cHBvcnRzIGBzdHJpbmdgIHZhbHVlcywgaS5lLiB0aGUgc2NvcGUgbW9kZWwgbmVlZHMgdG8gYmUgYSBzdHJpbmcsXG4gICAqICAgIHRvby4gVXNlIGBuZ1ZhbHVlYCBpZiB5b3UgbmVlZCBjb21wbGV4IG1vZGVscyAoYG51bWJlcmAsIGBvYmplY3RgLCAuLi4pLlxuICAgKiBAcGFyYW0ge3N0cmluZz19IG5hbWUgUHJvcGVydHkgbmFtZSBvZiB0aGUgZm9ybSB1bmRlciB3aGljaCB0aGUgY29udHJvbCBpcyBwdWJsaXNoZWQuXG4gICAqIEBwYXJhbSB7c3RyaW5nPX0gbmdDaGFuZ2UgQW5ndWxhciBleHByZXNzaW9uIHRvIGJlIGV4ZWN1dGVkIHdoZW4gaW5wdXQgY2hhbmdlcyBkdWUgdG8gdXNlclxuICAgKiAgICBpbnRlcmFjdGlvbiB3aXRoIHRoZSBpbnB1dCBlbGVtZW50LlxuICAgKiBAcGFyYW0ge3N0cmluZ30gbmdWYWx1ZSBBbmd1bGFyIGV4cHJlc3Npb24gdG8gd2hpY2ggYG5nTW9kZWxgIHdpbGwgYmUgYmUgc2V0IHdoZW4gdGhlIHJhZGlvXG4gICAqICAgIGlzIHNlbGVjdGVkLiBTaG91bGQgYmUgdXNlZCBpbnN0ZWFkIG9mIHRoZSBgdmFsdWVgIGF0dHJpYnV0ZSBpZiB5b3UgbmVlZFxuICAgKiAgICBhIG5vbi1zdHJpbmcgYG5nTW9kZWxgIChgYm9vbGVhbmAsIGBhcnJheWAsIC4uLikuXG4gICAqXG4gICAqIEBleGFtcGxlXG4gICAgICA8ZXhhbXBsZSBuYW1lPVwicmFkaW8taW5wdXQtZGlyZWN0aXZlXCIgbW9kdWxlPVwicmFkaW9FeGFtcGxlXCI+XG4gICAgICAgIDxmaWxlIG5hbWU9XCJpbmRleC5odG1sXCI+XG4gICAgICAgICA8c2NyaXB0PlxuICAgICAgICAgICBhbmd1bGFyLm1vZHVsZSgncmFkaW9FeGFtcGxlJywgW10pXG4gICAgICAgICAgICAgLmNvbnRyb2xsZXIoJ0V4YW1wbGVDb250cm9sbGVyJywgWyckc2NvcGUnLCBmdW5jdGlvbigkc2NvcGUpIHtcbiAgICAgICAgICAgICAgICRzY29wZS5jb2xvciA9IHtcbiAgICAgICAgICAgICAgICAgbmFtZTogJ2JsdWUnXG4gICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgJHNjb3BlLnNwZWNpYWxWYWx1ZSA9IHtcbiAgICAgICAgICAgICAgICAgXCJpZFwiOiBcIjEyMzQ1XCIsXG4gICAgICAgICAgICAgICAgIFwidmFsdWVcIjogXCJncmVlblwiXG4gICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgIH1dKTtcbiAgICAgICAgIDwvc2NyaXB0PlxuICAgICAgICAgPGZvcm0gbmFtZT1cIm15Rm9ybVwiIG5nLWNvbnRyb2xsZXI9XCJFeGFtcGxlQ29udHJvbGxlclwiPlxuICAgICAgICAgICA8bGFiZWw+XG4gICAgICAgICAgICAgPGlucHV0IHR5cGU9XCJyYWRpb1wiIG5nLW1vZGVsPVwiY29sb3IubmFtZVwiIHZhbHVlPVwicmVkXCI+XG4gICAgICAgICAgICAgUmVkXG4gICAgICAgICAgIDwvbGFiZWw+PGJyLz5cbiAgICAgICAgICAgPGxhYmVsPlxuICAgICAgICAgICAgIDxpbnB1dCB0eXBlPVwicmFkaW9cIiBuZy1tb2RlbD1cImNvbG9yLm5hbWVcIiBuZy12YWx1ZT1cInNwZWNpYWxWYWx1ZVwiPlxuICAgICAgICAgICAgIEdyZWVuXG4gICAgICAgICAgIDwvbGFiZWw+PGJyLz5cbiAgICAgICAgICAgPGxhYmVsPlxuICAgICAgICAgICAgIDxpbnB1dCB0eXBlPVwicmFkaW9cIiBuZy1tb2RlbD1cImNvbG9yLm5hbWVcIiB2YWx1ZT1cImJsdWVcIj5cbiAgICAgICAgICAgICBCbHVlXG4gICAgICAgICAgIDwvbGFiZWw+PGJyLz5cbiAgICAgICAgICAgPHR0PmNvbG9yID0ge3tjb2xvci5uYW1lIHwganNvbn19PC90dD48YnIvPlxuICAgICAgICAgIDwvZm9ybT5cbiAgICAgICAgICBOb3RlIHRoYXQgYG5nLXZhbHVlPVwic3BlY2lhbFZhbHVlXCJgIHNldHMgcmFkaW8gaXRlbSdzIHZhbHVlIHRvIGJlIHRoZSB2YWx1ZSBvZiBgJHNjb3BlLnNwZWNpYWxWYWx1ZWAuXG4gICAgICAgIDwvZmlsZT5cbiAgICAgICAgPGZpbGUgbmFtZT1cInByb3RyYWN0b3IuanNcIiB0eXBlPVwicHJvdHJhY3RvclwiPlxuICAgICAgICAgIGl0KCdzaG91bGQgY2hhbmdlIHN0YXRlJywgZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICB2YXIgaW5wdXRzID0gZWxlbWVudC5hbGwoYnkubW9kZWwoJ2NvbG9yLm5hbWUnKSk7XG4gICAgICAgICAgICB2YXIgY29sb3IgPSBlbGVtZW50KGJ5LmJpbmRpbmcoJ2NvbG9yLm5hbWUnKSk7XG5cbiAgICAgICAgICAgIGV4cGVjdChjb2xvci5nZXRUZXh0KCkpLnRvQ29udGFpbignYmx1ZScpO1xuXG4gICAgICAgICAgICBpbnB1dHMuZ2V0KDApLmNsaWNrKCk7XG4gICAgICAgICAgICBleHBlY3QoY29sb3IuZ2V0VGV4dCgpKS50b0NvbnRhaW4oJ3JlZCcpO1xuXG4gICAgICAgICAgICBpbnB1dHMuZ2V0KDEpLmNsaWNrKCk7XG4gICAgICAgICAgICBleHBlY3QoY29sb3IuZ2V0VGV4dCgpKS50b0NvbnRhaW4oJ2dyZWVuJyk7XG4gICAgICAgICAgfSk7XG4gICAgICAgIDwvZmlsZT5cbiAgICAgIDwvZXhhbXBsZT5cbiAgICovXG4gICdyYWRpbyc6IHJhZGlvSW5wdXRUeXBlLFxuXG4gIC8qKlxuICAgKiBAbmdkb2MgaW5wdXRcbiAgICogQG5hbWUgaW5wdXRbcmFuZ2VdXG4gICAqXG4gICAqIEBkZXNjcmlwdGlvblxuICAgKiBOYXRpdmUgcmFuZ2UgaW5wdXQgd2l0aCB2YWxpZGF0aW9uIGFuZCB0cmFuc2Zvcm1hdGlvbi5cbiAgICpcbiAgICogVGhlIG1vZGVsIGZvciB0aGUgcmFuZ2UgaW5wdXQgbXVzdCBhbHdheXMgYmUgYSBgTnVtYmVyYC5cbiAgICpcbiAgICogSUU5IGFuZCBvdGhlciBicm93c2VycyB0aGF0IGRvIG5vdCBzdXBwb3J0IHRoZSBgcmFuZ2VgIHR5cGUgZmFsbCBiYWNrXG4gICAqIHRvIGEgdGV4dCBpbnB1dCB3aXRob3V0IGFueSBkZWZhdWx0IHZhbHVlcyBmb3IgYG1pbmAsIGBtYXhgIGFuZCBgc3RlcGAuIE1vZGVsIGJpbmRpbmcsXG4gICAqIHZhbGlkYXRpb24gYW5kIG51bWJlciBwYXJzaW5nIGFyZSBuZXZlcnRoZWxlc3Mgc3VwcG9ydGVkLlxuICAgKlxuICAgKiBCcm93c2VycyB0aGF0IHN1cHBvcnQgcmFuZ2UgKGxhdGVzdCBDaHJvbWUsIFNhZmFyaSwgRmlyZWZveCwgRWRnZSkgdHJlYXQgYGlucHV0W3JhbmdlXWBcbiAgICogaW4gYSB3YXkgdGhhdCBuZXZlciBhbGxvd3MgdGhlIGlucHV0IHRvIGhvbGQgYW4gaW52YWxpZCB2YWx1ZS4gVGhhdCBtZWFuczpcbiAgICogLSBhbnkgbm9uLW51bWVyaWNhbCB2YWx1ZSBpcyBzZXQgdG8gYChtYXggKyBtaW4pIC8gMmAuXG4gICAqIC0gYW55IG51bWVyaWNhbCB2YWx1ZSB0aGF0IGlzIGxlc3MgdGhhbiB0aGUgY3VycmVudCBtaW4gdmFsLCBvciBncmVhdGVyIHRoYW4gdGhlIGN1cnJlbnQgbWF4IHZhbFxuICAgKiBpcyBzZXQgdG8gdGhlIG1pbiAvIG1heCB2YWwgcmVzcGVjdGl2ZWx5LlxuICAgKiAtIGFkZGl0aW9uYWxseSwgdGhlIGN1cnJlbnQgYHN0ZXBgIGlzIHJlc3BlY3RlZCwgc28gdGhlIG5lYXJlc3QgdmFsdWUgdGhhdCBzYXRpc2ZpZXMgYSBzdGVwXG4gICAqIGlzIHVzZWQuXG4gICAqXG4gICAqIFNlZSB0aGUgW0hUTUwgU3BlYyBvbiBpbnB1dFt0eXBlPXJhbmdlXV0oaHR0cHM6Ly93d3cudzMub3JnL1RSL2h0bWw1L2Zvcm1zLmh0bWwjcmFuZ2Utc3RhdGUtKHR5cGU9cmFuZ2UpKVxuICAgKiBmb3IgbW9yZSBpbmZvLlxuICAgKlxuICAgKiBUaGlzIGhhcyB0aGUgZm9sbG93aW5nIGNvbnNlcXVlbmNlcyBmb3IgQW5ndWxhcjpcbiAgICpcbiAgICogU2luY2UgdGhlIGVsZW1lbnQgdmFsdWUgc2hvdWxkIGFsd2F5cyByZWZsZWN0IHRoZSBjdXJyZW50IG1vZGVsIHZhbHVlLCBhIHJhbmdlIGlucHV0XG4gICAqIHdpbGwgc2V0IHRoZSBib3VuZCBuZ01vZGVsIGV4cHJlc3Npb24gdG8gdGhlIHZhbHVlIHRoYXQgdGhlIGJyb3dzZXIgaGFzIHNldCBmb3IgdGhlXG4gICAqIGlucHV0IGVsZW1lbnQuIEZvciBleGFtcGxlLCBpbiB0aGUgZm9sbG93aW5nIGlucHV0IGA8aW5wdXQgdHlwZT1cInJhbmdlXCIgbmctbW9kZWw9XCJtb2RlbC52YWx1ZVwiPmAsXG4gICAqIGlmIHRoZSBhcHBsaWNhdGlvbiBzZXRzIGBtb2RlbC52YWx1ZSA9IG51bGxgLCB0aGUgYnJvd3NlciB3aWxsIHNldCB0aGUgaW5wdXQgdG8gYCc1MCdgLlxuICAgKiBBbmd1bGFyIHdpbGwgdGhlbiBzZXQgdGhlIG1vZGVsIHRvIGA1MGAsIHRvIHByZXZlbnQgaW5wdXQgYW5kIG1vZGVsIHZhbHVlIGJlaW5nIG91dCBvZiBzeW5jLlxuICAgKlxuICAgKiBUaGF0IG1lYW5zIHRoZSBtb2RlbCBmb3IgcmFuZ2Ugd2lsbCBpbW1lZGlhdGVseSBiZSBzZXQgdG8gYDUwYCBhZnRlciBgbmdNb2RlbGAgaGFzIGJlZW5cbiAgICogaW5pdGlhbGl6ZWQuIEl0IGFsc28gbWVhbnMgYSByYW5nZSBpbnB1dCBjYW4gbmV2ZXIgaGF2ZSB0aGUgcmVxdWlyZWQgZXJyb3IuXG4gICAqXG4gICAqIFRoaXMgZG9lcyBub3Qgb25seSBhZmZlY3QgY2hhbmdlcyB0byB0aGUgbW9kZWwgdmFsdWUsIGJ1dCBhbHNvIHRvIHRoZSB2YWx1ZXMgb2YgdGhlIGBtaW5gLFxuICAgKiBgbWF4YCwgYW5kIGBzdGVwYCBhdHRyaWJ1dGVzLiBXaGVuIHRoZXNlIGNoYW5nZSBpbiBhIHdheSB0aGF0IHdpbGwgY2F1c2UgdGhlIGJyb3dzZXIgdG8gbW9kaWZ5XG4gICAqIHRoZSBpbnB1dCB2YWx1ZSwgQW5ndWxhciB3aWxsIGFsc28gdXBkYXRlIHRoZSBtb2RlbCB2YWx1ZS5cbiAgICpcbiAgICogQXV0b21hdGljIHZhbHVlIGFkanVzdG1lbnQgYWxzbyBtZWFucyB0aGF0IGEgcmFuZ2UgaW5wdXQgZWxlbWVudCBjYW4gbmV2ZXIgaGF2ZSB0aGUgYHJlcXVpcmVkYCxcbiAgICogYG1pbmAsIG9yIGBtYXhgIGVycm9ycy5cbiAgICpcbiAgICogSG93ZXZlciwgYHN0ZXBgIGlzIGN1cnJlbnRseSBvbmx5IGZ1bGx5IGltcGxlbWVudGVkIGJ5IEZpcmVmb3guIE90aGVyIGJyb3dzZXJzIGhhdmUgcHJvYmxlbXNcbiAgICogd2hlbiB0aGUgc3RlcCB2YWx1ZSBjaGFuZ2VzIGR5bmFtaWNhbGx5IC0gdGhleSBkbyBub3QgYWRqdXN0IHRoZSBlbGVtZW50IHZhbHVlIGNvcnJlY3RseSwgYnV0XG4gICAqIGluc3RlYWQgbWF5IHNldCB0aGUgYHN0ZXBNaXNtYXRjaGAgZXJyb3IuIElmIHRoYXQncyB0aGUgY2FzZSwgdGhlIEFuZ3VsYXIgd2lsbCBzZXQgdGhlIGBzdGVwYFxuICAgKiBlcnJvciBvbiB0aGUgaW5wdXQsIGFuZCBzZXQgdGhlIG1vZGVsIHRvIGB1bmRlZmluZWRgLlxuICAgKlxuICAgKiBOb3RlIHRoYXQgYGlucHV0W3JhbmdlXWAgaXMgbm90IGNvbXBhdGlibGUgd2l0aGBuZ01heGAsIGBuZ01pbmAsIGFuZCBgbmdTdGVwYCwgYmVjYXVzZSB0aGV5IGRvXG4gICAqIG5vdCBzZXQgdGhlIGBtaW5gIGFuZCBgbWF4YCBhdHRyaWJ1dGVzLCB3aGljaCBtZWFucyB0aGF0IHRoZSBicm93c2VyIHdvbid0IGF1dG9tYXRpY2FsbHkgYWRqdXN0XG4gICAqIHRoZSBpbnB1dCB2YWx1ZSBiYXNlZCBvbiB0aGVpciB2YWx1ZXMsIGFuZCB3aWxsIGFsd2F5cyBhc3N1bWUgbWluID0gMCwgbWF4ID0gMTAwLCBhbmQgc3RlcCA9IDEuXG4gICAqXG4gICAqIEBwYXJhbSB7c3RyaW5nfSAgbmdNb2RlbCBBc3NpZ25hYmxlIGFuZ3VsYXIgZXhwcmVzc2lvbiB0byBkYXRhLWJpbmQgdG8uXG4gICAqIEBwYXJhbSB7c3RyaW5nPX0gbmFtZSBQcm9wZXJ0eSBuYW1lIG9mIHRoZSBmb3JtIHVuZGVyIHdoaWNoIHRoZSBjb250cm9sIGlzIHB1Ymxpc2hlZC5cbiAgICogQHBhcmFtIHtzdHJpbmc9fSBtaW4gU2V0cyB0aGUgYG1pbmAgdmFsaWRhdGlvbiB0byBlbnN1cmUgdGhhdCB0aGUgdmFsdWUgZW50ZXJlZCBpcyBncmVhdGVyXG4gICAqICAgICAgICAgICAgICAgICAgdGhhbiBgbWluYC4gQ2FuIGJlIGludGVycG9sYXRlZC5cbiAgICogQHBhcmFtIHtzdHJpbmc9fSBtYXggU2V0cyB0aGUgYG1heGAgdmFsaWRhdGlvbiB0byBlbnN1cmUgdGhhdCB0aGUgdmFsdWUgZW50ZXJlZCBpcyBsZXNzIHRoYW4gYG1heGAuXG4gICAqICAgICAgICAgICAgICAgICAgQ2FuIGJlIGludGVycG9sYXRlZC5cbiAgICogQHBhcmFtIHtzdHJpbmc9fSBzdGVwIFNldHMgdGhlIGBzdGVwYCB2YWxpZGF0aW9uIHRvIGVuc3VyZSB0aGF0IHRoZSB2YWx1ZSBlbnRlcmVkIG1hdGNoZXMgdGhlIGBzdGVwYFxuICAgKiAgICAgICAgICAgICAgICAgIENhbiBiZSBpbnRlcnBvbGF0ZWQuXG4gICAqIEBwYXJhbSB7c3RyaW5nPX0gbmdDaGFuZ2UgQW5ndWxhciBleHByZXNzaW9uIHRvIGJlIGV4ZWN1dGVkIHdoZW4gdGhlIG5nTW9kZWwgdmFsdWUgY2hhbmdlcyBkdWVcbiAgICogICAgICAgICAgICAgICAgICB0byB1c2VyIGludGVyYWN0aW9uIHdpdGggdGhlIGlucHV0IGVsZW1lbnQuXG4gICAqIEBwYXJhbSB7ZXhwcmVzc2lvbj19IG5nQ2hlY2tlZCBJZiB0aGUgZXhwcmVzc2lvbiBpcyB0cnV0aHksIHRoZW4gdGhlIGBjaGVja2VkYCBhdHRyaWJ1dGUgd2lsbCBiZSBzZXQgb24gdGhlXG4gICAqICAgICAgICAgICAgICAgICAgICAgIGVsZW1lbnQuICoqTm90ZSoqIDogYG5nQ2hlY2tlZGAgc2hvdWxkIG5vdCBiZSB1c2VkIGFsb25nc2lkZSBgbmdNb2RlbGAuXG4gICAqICAgICAgICAgICAgICAgICAgICAgIENoZWNrb3V0IHtAbGluayBuZy5kaXJlY3RpdmU6bmdDaGVja2VkIG5nQ2hlY2tlZH0gZm9yIHVzYWdlLlxuICAgKlxuICAgKiBAZXhhbXBsZVxuICAgICAgPGV4YW1wbGUgbmFtZT1cInJhbmdlLWlucHV0LWRpcmVjdGl2ZVwiIG1vZHVsZT1cInJhbmdlRXhhbXBsZVwiPlxuICAgICAgICA8ZmlsZSBuYW1lPVwiaW5kZXguaHRtbFwiPlxuICAgICAgICAgIDxzY3JpcHQ+XG4gICAgICAgICAgICBhbmd1bGFyLm1vZHVsZSgncmFuZ2VFeGFtcGxlJywgW10pXG4gICAgICAgICAgICAgIC5jb250cm9sbGVyKCdFeGFtcGxlQ29udHJvbGxlcicsIFsnJHNjb3BlJywgZnVuY3Rpb24oJHNjb3BlKSB7XG4gICAgICAgICAgICAgICAgJHNjb3BlLnZhbHVlID0gNzU7XG4gICAgICAgICAgICAgICAgJHNjb3BlLm1pbiA9IDEwO1xuICAgICAgICAgICAgICAgICRzY29wZS5tYXggPSA5MDtcbiAgICAgICAgICAgICAgfV0pO1xuICAgICAgICAgIDwvc2NyaXB0PlxuICAgICAgICAgIDxmb3JtIG5hbWU9XCJteUZvcm1cIiBuZy1jb250cm9sbGVyPVwiRXhhbXBsZUNvbnRyb2xsZXJcIj5cblxuICAgICAgICAgICAgTW9kZWwgYXMgcmFuZ2U6IDxpbnB1dCB0eXBlPVwicmFuZ2VcIiBuYW1lPVwicmFuZ2VcIiBuZy1tb2RlbD1cInZhbHVlXCIgbWluPVwie3ttaW59fVwiICBtYXg9XCJ7e21heH19XCI+XG4gICAgICAgICAgICA8aHI+XG4gICAgICAgICAgICBNb2RlbCBhcyBudW1iZXI6IDxpbnB1dCB0eXBlPVwibnVtYmVyXCIgbmctbW9kZWw9XCJ2YWx1ZVwiPjxicj5cbiAgICAgICAgICAgIE1pbjogPGlucHV0IHR5cGU9XCJudW1iZXJcIiBuZy1tb2RlbD1cIm1pblwiPjxicj5cbiAgICAgICAgICAgIE1heDogPGlucHV0IHR5cGU9XCJudW1iZXJcIiBuZy1tb2RlbD1cIm1heFwiPjxicj5cbiAgICAgICAgICAgIHZhbHVlID0gPGNvZGU+e3t2YWx1ZX19PC9jb2RlPjxici8+XG4gICAgICAgICAgICBteUZvcm0ucmFuZ2UuJHZhbGlkID0gPGNvZGU+e3tteUZvcm0ucmFuZ2UuJHZhbGlkfX08L2NvZGU+PGJyLz5cbiAgICAgICAgICAgIG15Rm9ybS5yYW5nZS4kZXJyb3IgPSA8Y29kZT57e215Rm9ybS5yYW5nZS4kZXJyb3J9fTwvY29kZT5cbiAgICAgICAgICA8L2Zvcm0+XG4gICAgICAgIDwvZmlsZT5cbiAgICAgIDwvZXhhbXBsZT5cblxuICAgKiAjIyBSYW5nZSBJbnB1dCB3aXRoIG5nTWluICYgbmdNYXggYXR0cmlidXRlc1xuXG4gICAqIEBleGFtcGxlXG4gICAgICA8ZXhhbXBsZSBuYW1lPVwicmFuZ2UtaW5wdXQtZGlyZWN0aXZlLW5nXCIgbW9kdWxlPVwicmFuZ2VFeGFtcGxlXCI+XG4gICAgICAgIDxmaWxlIG5hbWU9XCJpbmRleC5odG1sXCI+XG4gICAgICAgICAgPHNjcmlwdD5cbiAgICAgICAgICAgIGFuZ3VsYXIubW9kdWxlKCdyYW5nZUV4YW1wbGUnLCBbXSlcbiAgICAgICAgICAgICAgLmNvbnRyb2xsZXIoJ0V4YW1wbGVDb250cm9sbGVyJywgWyckc2NvcGUnLCBmdW5jdGlvbigkc2NvcGUpIHtcbiAgICAgICAgICAgICAgICAkc2NvcGUudmFsdWUgPSA3NTtcbiAgICAgICAgICAgICAgICAkc2NvcGUubWluID0gMTA7XG4gICAgICAgICAgICAgICAgJHNjb3BlLm1heCA9IDkwO1xuICAgICAgICAgICAgICB9XSk7XG4gICAgICAgICAgPC9zY3JpcHQ+XG4gICAgICAgICAgPGZvcm0gbmFtZT1cIm15Rm9ybVwiIG5nLWNvbnRyb2xsZXI9XCJFeGFtcGxlQ29udHJvbGxlclwiPlxuICAgICAgICAgICAgTW9kZWwgYXMgcmFuZ2U6IDxpbnB1dCB0eXBlPVwicmFuZ2VcIiBuYW1lPVwicmFuZ2VcIiBuZy1tb2RlbD1cInZhbHVlXCIgbmctbWluPVwibWluXCIgbmctbWF4PVwibWF4XCI+XG4gICAgICAgICAgICA8aHI+XG4gICAgICAgICAgICBNb2RlbCBhcyBudW1iZXI6IDxpbnB1dCB0eXBlPVwibnVtYmVyXCIgbmctbW9kZWw9XCJ2YWx1ZVwiPjxicj5cbiAgICAgICAgICAgIE1pbjogPGlucHV0IHR5cGU9XCJudW1iZXJcIiBuZy1tb2RlbD1cIm1pblwiPjxicj5cbiAgICAgICAgICAgIE1heDogPGlucHV0IHR5cGU9XCJudW1iZXJcIiBuZy1tb2RlbD1cIm1heFwiPjxicj5cbiAgICAgICAgICAgIHZhbHVlID0gPGNvZGU+e3t2YWx1ZX19PC9jb2RlPjxici8+XG4gICAgICAgICAgICBteUZvcm0ucmFuZ2UuJHZhbGlkID0gPGNvZGU+e3tteUZvcm0ucmFuZ2UuJHZhbGlkfX08L2NvZGU+PGJyLz5cbiAgICAgICAgICAgIG15Rm9ybS5yYW5nZS4kZXJyb3IgPSA8Y29kZT57e215Rm9ybS5yYW5nZS4kZXJyb3J9fTwvY29kZT5cbiAgICAgICAgICA8L2Zvcm0+XG4gICAgICAgIDwvZmlsZT5cbiAgICAgIDwvZXhhbXBsZT5cblxuICAgKi9cbiAgJ3JhbmdlJzogcmFuZ2VJbnB1dFR5cGUsXG5cbiAgLyoqXG4gICAqIEBuZ2RvYyBpbnB1dFxuICAgKiBAbmFtZSBpbnB1dFtjaGVja2JveF1cbiAgICpcbiAgICogQGRlc2NyaXB0aW9uXG4gICAqIEhUTUwgY2hlY2tib3guXG4gICAqXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBuZ01vZGVsIEFzc2lnbmFibGUgYW5ndWxhciBleHByZXNzaW9uIHRvIGRhdGEtYmluZCB0by5cbiAgICogQHBhcmFtIHtzdHJpbmc9fSBuYW1lIFByb3BlcnR5IG5hbWUgb2YgdGhlIGZvcm0gdW5kZXIgd2hpY2ggdGhlIGNvbnRyb2wgaXMgcHVibGlzaGVkLlxuICAgKiBAcGFyYW0ge2V4cHJlc3Npb249fSBuZ1RydWVWYWx1ZSBUaGUgdmFsdWUgdG8gd2hpY2ggdGhlIGV4cHJlc3Npb24gc2hvdWxkIGJlIHNldCB3aGVuIHNlbGVjdGVkLlxuICAgKiBAcGFyYW0ge2V4cHJlc3Npb249fSBuZ0ZhbHNlVmFsdWUgVGhlIHZhbHVlIHRvIHdoaWNoIHRoZSBleHByZXNzaW9uIHNob3VsZCBiZSBzZXQgd2hlbiBub3Qgc2VsZWN0ZWQuXG4gICAqIEBwYXJhbSB7c3RyaW5nPX0gbmdDaGFuZ2UgQW5ndWxhciBleHByZXNzaW9uIHRvIGJlIGV4ZWN1dGVkIHdoZW4gaW5wdXQgY2hhbmdlcyBkdWUgdG8gdXNlclxuICAgKiAgICBpbnRlcmFjdGlvbiB3aXRoIHRoZSBpbnB1dCBlbGVtZW50LlxuICAgKlxuICAgKiBAZXhhbXBsZVxuICAgICAgPGV4YW1wbGUgbmFtZT1cImNoZWNrYm94LWlucHV0LWRpcmVjdGl2ZVwiIG1vZHVsZT1cImNoZWNrYm94RXhhbXBsZVwiPlxuICAgICAgICA8ZmlsZSBuYW1lPVwiaW5kZXguaHRtbFwiPlxuICAgICAgICAgPHNjcmlwdD5cbiAgICAgICAgICAgYW5ndWxhci5tb2R1bGUoJ2NoZWNrYm94RXhhbXBsZScsIFtdKVxuICAgICAgICAgICAgIC5jb250cm9sbGVyKCdFeGFtcGxlQ29udHJvbGxlcicsIFsnJHNjb3BlJywgZnVuY3Rpb24oJHNjb3BlKSB7XG4gICAgICAgICAgICAgICAkc2NvcGUuY2hlY2tib3hNb2RlbCA9IHtcbiAgICAgICAgICAgICAgICB2YWx1ZTEgOiB0cnVlLFxuICAgICAgICAgICAgICAgIHZhbHVlMiA6ICdZRVMnXG4gICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgfV0pO1xuICAgICAgICAgPC9zY3JpcHQ+XG4gICAgICAgICA8Zm9ybSBuYW1lPVwibXlGb3JtXCIgbmctY29udHJvbGxlcj1cIkV4YW1wbGVDb250cm9sbGVyXCI+XG4gICAgICAgICAgIDxsYWJlbD5WYWx1ZTE6XG4gICAgICAgICAgICAgPGlucHV0IHR5cGU9XCJjaGVja2JveFwiIG5nLW1vZGVsPVwiY2hlY2tib3hNb2RlbC52YWx1ZTFcIj5cbiAgICAgICAgICAgPC9sYWJlbD48YnIvPlxuICAgICAgICAgICA8bGFiZWw+VmFsdWUyOlxuICAgICAgICAgICAgIDxpbnB1dCB0eXBlPVwiY2hlY2tib3hcIiBuZy1tb2RlbD1cImNoZWNrYm94TW9kZWwudmFsdWUyXCJcbiAgICAgICAgICAgICAgICAgICAgbmctdHJ1ZS12YWx1ZT1cIidZRVMnXCIgbmctZmFsc2UtdmFsdWU9XCInTk8nXCI+XG4gICAgICAgICAgICA8L2xhYmVsPjxici8+XG4gICAgICAgICAgIDx0dD52YWx1ZTEgPSB7e2NoZWNrYm94TW9kZWwudmFsdWUxfX08L3R0Pjxici8+XG4gICAgICAgICAgIDx0dD52YWx1ZTIgPSB7e2NoZWNrYm94TW9kZWwudmFsdWUyfX08L3R0Pjxici8+XG4gICAgICAgICAgPC9mb3JtPlxuICAgICAgICA8L2ZpbGU+XG4gICAgICAgIDxmaWxlIG5hbWU9XCJwcm90cmFjdG9yLmpzXCIgdHlwZT1cInByb3RyYWN0b3JcIj5cbiAgICAgICAgICBpdCgnc2hvdWxkIGNoYW5nZSBzdGF0ZScsIGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgdmFyIHZhbHVlMSA9IGVsZW1lbnQoYnkuYmluZGluZygnY2hlY2tib3hNb2RlbC52YWx1ZTEnKSk7XG4gICAgICAgICAgICB2YXIgdmFsdWUyID0gZWxlbWVudChieS5iaW5kaW5nKCdjaGVja2JveE1vZGVsLnZhbHVlMicpKTtcblxuICAgICAgICAgICAgZXhwZWN0KHZhbHVlMS5nZXRUZXh0KCkpLnRvQ29udGFpbigndHJ1ZScpO1xuICAgICAgICAgICAgZXhwZWN0KHZhbHVlMi5nZXRUZXh0KCkpLnRvQ29udGFpbignWUVTJyk7XG5cbiAgICAgICAgICAgIGVsZW1lbnQoYnkubW9kZWwoJ2NoZWNrYm94TW9kZWwudmFsdWUxJykpLmNsaWNrKCk7XG4gICAgICAgICAgICBlbGVtZW50KGJ5Lm1vZGVsKCdjaGVja2JveE1vZGVsLnZhbHVlMicpKS5jbGljaygpO1xuXG4gICAgICAgICAgICBleHBlY3QodmFsdWUxLmdldFRleHQoKSkudG9Db250YWluKCdmYWxzZScpO1xuICAgICAgICAgICAgZXhwZWN0KHZhbHVlMi5nZXRUZXh0KCkpLnRvQ29udGFpbignTk8nKTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgPC9maWxlPlxuICAgICAgPC9leGFtcGxlPlxuICAgKi9cbiAgJ2NoZWNrYm94JzogY2hlY2tib3hJbnB1dFR5cGUsXG5cbiAgJ2hpZGRlbic6IG5vb3AsXG4gICdidXR0b24nOiBub29wLFxuICAnc3VibWl0Jzogbm9vcCxcbiAgJ3Jlc2V0Jzogbm9vcCxcbiAgJ2ZpbGUnOiBub29wXG59O1xuXG5mdW5jdGlvbiBzdHJpbmdCYXNlZElucHV0VHlwZShjdHJsKSB7XG4gIGN0cmwuJGZvcm1hdHRlcnMucHVzaChmdW5jdGlvbih2YWx1ZSkge1xuICAgIHJldHVybiBjdHJsLiRpc0VtcHR5KHZhbHVlKSA/IHZhbHVlIDogdmFsdWUudG9TdHJpbmcoKTtcbiAgfSk7XG59XG5cbmZ1bmN0aW9uIHRleHRJbnB1dFR5cGUoc2NvcGUsIGVsZW1lbnQsIGF0dHIsIGN0cmwsICRzbmlmZmVyLCAkYnJvd3Nlcikge1xuICBiYXNlSW5wdXRUeXBlKHNjb3BlLCBlbGVtZW50LCBhdHRyLCBjdHJsLCAkc25pZmZlciwgJGJyb3dzZXIpO1xuICBzdHJpbmdCYXNlZElucHV0VHlwZShjdHJsKTtcbn1cblxuZnVuY3Rpb24gYmFzZUlucHV0VHlwZShzY29wZSwgZWxlbWVudCwgYXR0ciwgY3RybCwgJHNuaWZmZXIsICRicm93c2VyKSB7XG4gIHZhciB0eXBlID0gbG93ZXJjYXNlKGVsZW1lbnRbMF0udHlwZSk7XG5cbiAgLy8gSW4gY29tcG9zaXRpb24gbW9kZSwgdXNlcnMgYXJlIHN0aWxsIGlucHV0dGluZyBpbnRlcm1lZGlhdGUgdGV4dCBidWZmZXIsXG4gIC8vIGhvbGQgdGhlIGxpc3RlbmVyIHVudGlsIGNvbXBvc2l0aW9uIGlzIGRvbmUuXG4gIC8vIE1vcmUgYWJvdXQgY29tcG9zaXRpb24gZXZlbnRzOiBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9BUEkvQ29tcG9zaXRpb25FdmVudFxuICBpZiAoISRzbmlmZmVyLmFuZHJvaWQpIHtcbiAgICB2YXIgY29tcG9zaW5nID0gZmFsc2U7XG5cbiAgICBlbGVtZW50Lm9uKCdjb21wb3NpdGlvbnN0YXJ0JywgZnVuY3Rpb24oKSB7XG4gICAgICBjb21wb3NpbmcgPSB0cnVlO1xuICAgIH0pO1xuXG4gICAgZWxlbWVudC5vbignY29tcG9zaXRpb25lbmQnLCBmdW5jdGlvbigpIHtcbiAgICAgIGNvbXBvc2luZyA9IGZhbHNlO1xuICAgICAgbGlzdGVuZXIoKTtcbiAgICB9KTtcbiAgfVxuXG4gIHZhciB0aW1lb3V0O1xuXG4gIHZhciBsaXN0ZW5lciA9IGZ1bmN0aW9uKGV2KSB7XG4gICAgaWYgKHRpbWVvdXQpIHtcbiAgICAgICRicm93c2VyLmRlZmVyLmNhbmNlbCh0aW1lb3V0KTtcbiAgICAgIHRpbWVvdXQgPSBudWxsO1xuICAgIH1cbiAgICBpZiAoY29tcG9zaW5nKSByZXR1cm47XG4gICAgdmFyIHZhbHVlID0gZWxlbWVudC52YWwoKSxcbiAgICAgICAgZXZlbnQgPSBldiAmJiBldi50eXBlO1xuXG4gICAgLy8gQnkgZGVmYXVsdCB3ZSB3aWxsIHRyaW0gdGhlIHZhbHVlXG4gICAgLy8gSWYgdGhlIGF0dHJpYnV0ZSBuZy10cmltIGV4aXN0cyB3ZSB3aWxsIGF2b2lkIHRyaW1taW5nXG4gICAgLy8gSWYgaW5wdXQgdHlwZSBpcyAncGFzc3dvcmQnLCB0aGUgdmFsdWUgaXMgbmV2ZXIgdHJpbW1lZFxuICAgIGlmICh0eXBlICE9PSAncGFzc3dvcmQnICYmICghYXR0ci5uZ1RyaW0gfHwgYXR0ci5uZ1RyaW0gIT09ICdmYWxzZScpKSB7XG4gICAgICB2YWx1ZSA9IHRyaW0odmFsdWUpO1xuICAgIH1cblxuICAgIC8vIElmIGEgY29udHJvbCBpcyBzdWZmZXJpbmcgZnJvbSBiYWQgaW5wdXQgKGR1ZSB0byBuYXRpdmUgdmFsaWRhdG9ycyksIGJyb3dzZXJzIGRpc2NhcmQgaXRzXG4gICAgLy8gdmFsdWUsIHNvIGl0IG1heSBiZSBuZWNlc3NhcnkgdG8gcmV2YWxpZGF0ZSAoYnkgY2FsbGluZyAkc2V0Vmlld1ZhbHVlIGFnYWluKSBldmVuIGlmIHRoZVxuICAgIC8vIGNvbnRyb2wncyB2YWx1ZSBpcyB0aGUgc2FtZSBlbXB0eSB2YWx1ZSB0d2ljZSBpbiBhIHJvdy5cbiAgICBpZiAoY3RybC4kdmlld1ZhbHVlICE9PSB2YWx1ZSB8fCAodmFsdWUgPT09ICcnICYmIGN0cmwuJCRoYXNOYXRpdmVWYWxpZGF0b3JzKSkge1xuICAgICAgY3RybC4kc2V0Vmlld1ZhbHVlKHZhbHVlLCBldmVudCk7XG4gICAgfVxuICB9O1xuXG4gIC8vIGlmIHRoZSBicm93c2VyIGRvZXMgc3VwcG9ydCBcImlucHV0XCIgZXZlbnQsIHdlIGFyZSBmaW5lIC0gZXhjZXB0IG9uIElFOSB3aGljaCBkb2Vzbid0IGZpcmUgdGhlXG4gIC8vIGlucHV0IGV2ZW50IG9uIGJhY2tzcGFjZSwgZGVsZXRlIG9yIGN1dFxuICBpZiAoJHNuaWZmZXIuaGFzRXZlbnQoJ2lucHV0JykpIHtcbiAgICBlbGVtZW50Lm9uKCdpbnB1dCcsIGxpc3RlbmVyKTtcbiAgfSBlbHNlIHtcbiAgICB2YXIgZGVmZXJMaXN0ZW5lciA9IGZ1bmN0aW9uKGV2LCBpbnB1dCwgb3JpZ1ZhbHVlKSB7XG4gICAgICBpZiAoIXRpbWVvdXQpIHtcbiAgICAgICAgdGltZW91dCA9ICRicm93c2VyLmRlZmVyKGZ1bmN0aW9uKCkge1xuICAgICAgICAgIHRpbWVvdXQgPSBudWxsO1xuICAgICAgICAgIGlmICghaW5wdXQgfHwgaW5wdXQudmFsdWUgIT09IG9yaWdWYWx1ZSkge1xuICAgICAgICAgICAgbGlzdGVuZXIoZXYpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfTtcblxuICAgIGVsZW1lbnQub24oJ2tleWRvd24nLCAvKiogQHRoaXMgKi8gZnVuY3Rpb24oZXZlbnQpIHtcbiAgICAgIHZhciBrZXkgPSBldmVudC5rZXlDb2RlO1xuXG4gICAgICAvLyBpZ25vcmVcbiAgICAgIC8vICAgIGNvbW1hbmQgICAgICAgICAgICBtb2RpZmllcnMgICAgICAgICAgICAgICAgICAgYXJyb3dzXG4gICAgICBpZiAoa2V5ID09PSA5MSB8fCAoMTUgPCBrZXkgJiYga2V5IDwgMTkpIHx8ICgzNyA8PSBrZXkgJiYga2V5IDw9IDQwKSkgcmV0dXJuO1xuXG4gICAgICBkZWZlckxpc3RlbmVyKGV2ZW50LCB0aGlzLCB0aGlzLnZhbHVlKTtcbiAgICB9KTtcblxuICAgIC8vIGlmIHVzZXIgbW9kaWZpZXMgaW5wdXQgdmFsdWUgdXNpbmcgY29udGV4dCBtZW51IGluIElFLCB3ZSBuZWVkIFwicGFzdGVcIiBhbmQgXCJjdXRcIiBldmVudHMgdG8gY2F0Y2ggaXRcbiAgICBpZiAoJHNuaWZmZXIuaGFzRXZlbnQoJ3Bhc3RlJykpIHtcbiAgICAgIGVsZW1lbnQub24oJ3Bhc3RlIGN1dCcsIGRlZmVyTGlzdGVuZXIpO1xuICAgIH1cbiAgfVxuXG4gIC8vIGlmIHVzZXIgcGFzdGUgaW50byBpbnB1dCB1c2luZyBtb3VzZSBvbiBvbGRlciBicm93c2VyXG4gIC8vIG9yIGZvcm0gYXV0b2NvbXBsZXRlIG9uIG5ld2VyIGJyb3dzZXIsIHdlIG5lZWQgXCJjaGFuZ2VcIiBldmVudCB0byBjYXRjaCBpdFxuICBlbGVtZW50Lm9uKCdjaGFuZ2UnLCBsaXN0ZW5lcik7XG5cbiAgLy8gU29tZSBuYXRpdmUgaW5wdXQgdHlwZXMgKGRhdGUtZmFtaWx5KSBoYXZlIHRoZSBhYmlsaXR5IHRvIGNoYW5nZSB2YWxpZGl0eSB3aXRob3V0XG4gIC8vIGZpcmluZyBhbnkgaW5wdXQvY2hhbmdlIGV2ZW50cy5cbiAgLy8gRm9yIHRoZXNlIGV2ZW50IHR5cGVzLCB3aGVuIG5hdGl2ZSB2YWxpZGF0b3JzIGFyZSBwcmVzZW50IGFuZCB0aGUgYnJvd3NlciBzdXBwb3J0cyB0aGUgdHlwZSxcbiAgLy8gY2hlY2sgZm9yIHZhbGlkaXR5IGNoYW5nZXMgb24gdmFyaW91cyBET00gZXZlbnRzLlxuICBpZiAoUEFSVElBTF9WQUxJREFUSU9OX1RZUEVTW3R5cGVdICYmIGN0cmwuJCRoYXNOYXRpdmVWYWxpZGF0b3JzICYmIHR5cGUgPT09IGF0dHIudHlwZSkge1xuICAgIGVsZW1lbnQub24oUEFSVElBTF9WQUxJREFUSU9OX0VWRU5UUywgLyoqIEB0aGlzICovIGZ1bmN0aW9uKGV2KSB7XG4gICAgICBpZiAoIXRpbWVvdXQpIHtcbiAgICAgICAgdmFyIHZhbGlkaXR5ID0gdGhpc1tWQUxJRElUWV9TVEFURV9QUk9QRVJUWV07XG4gICAgICAgIHZhciBvcmlnQmFkSW5wdXQgPSB2YWxpZGl0eS5iYWRJbnB1dDtcbiAgICAgICAgdmFyIG9yaWdUeXBlTWlzbWF0Y2ggPSB2YWxpZGl0eS50eXBlTWlzbWF0Y2g7XG4gICAgICAgIHRpbWVvdXQgPSAkYnJvd3Nlci5kZWZlcihmdW5jdGlvbigpIHtcbiAgICAgICAgICB0aW1lb3V0ID0gbnVsbDtcbiAgICAgICAgICBpZiAodmFsaWRpdHkuYmFkSW5wdXQgIT09IG9yaWdCYWRJbnB1dCB8fCB2YWxpZGl0eS50eXBlTWlzbWF0Y2ggIT09IG9yaWdUeXBlTWlzbWF0Y2gpIHtcbiAgICAgICAgICAgIGxpc3RlbmVyKGV2KTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH0pO1xuICB9XG5cbiAgY3RybC4kcmVuZGVyID0gZnVuY3Rpb24oKSB7XG4gICAgLy8gV29ya2Fyb3VuZCBmb3IgRmlyZWZveCB2YWxpZGF0aW9uICMxMjEwMi5cbiAgICB2YXIgdmFsdWUgPSBjdHJsLiRpc0VtcHR5KGN0cmwuJHZpZXdWYWx1ZSkgPyAnJyA6IGN0cmwuJHZpZXdWYWx1ZTtcbiAgICBpZiAoZWxlbWVudC52YWwoKSAhPT0gdmFsdWUpIHtcbiAgICAgIGVsZW1lbnQudmFsKHZhbHVlKTtcbiAgICB9XG4gIH07XG59XG5cbmZ1bmN0aW9uIHdlZWtQYXJzZXIoaXNvV2VlaywgZXhpc3RpbmdEYXRlKSB7XG4gIGlmIChpc0RhdGUoaXNvV2VlaykpIHtcbiAgICByZXR1cm4gaXNvV2VlaztcbiAgfVxuXG4gIGlmIChpc1N0cmluZyhpc29XZWVrKSkge1xuICAgIFdFRUtfUkVHRVhQLmxhc3RJbmRleCA9IDA7XG4gICAgdmFyIHBhcnRzID0gV0VFS19SRUdFWFAuZXhlYyhpc29XZWVrKTtcbiAgICBpZiAocGFydHMpIHtcbiAgICAgIHZhciB5ZWFyID0gK3BhcnRzWzFdLFxuICAgICAgICAgIHdlZWsgPSArcGFydHNbMl0sXG4gICAgICAgICAgaG91cnMgPSAwLFxuICAgICAgICAgIG1pbnV0ZXMgPSAwLFxuICAgICAgICAgIHNlY29uZHMgPSAwLFxuICAgICAgICAgIG1pbGxpc2Vjb25kcyA9IDAsXG4gICAgICAgICAgZmlyc3RUaHVycyA9IGdldEZpcnN0VGh1cnNkYXlPZlllYXIoeWVhciksXG4gICAgICAgICAgYWRkRGF5cyA9ICh3ZWVrIC0gMSkgKiA3O1xuXG4gICAgICBpZiAoZXhpc3RpbmdEYXRlKSB7XG4gICAgICAgIGhvdXJzID0gZXhpc3RpbmdEYXRlLmdldEhvdXJzKCk7XG4gICAgICAgIG1pbnV0ZXMgPSBleGlzdGluZ0RhdGUuZ2V0TWludXRlcygpO1xuICAgICAgICBzZWNvbmRzID0gZXhpc3RpbmdEYXRlLmdldFNlY29uZHMoKTtcbiAgICAgICAgbWlsbGlzZWNvbmRzID0gZXhpc3RpbmdEYXRlLmdldE1pbGxpc2Vjb25kcygpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gbmV3IERhdGUoeWVhciwgMCwgZmlyc3RUaHVycy5nZXREYXRlKCkgKyBhZGREYXlzLCBob3VycywgbWludXRlcywgc2Vjb25kcywgbWlsbGlzZWNvbmRzKTtcbiAgICB9XG4gIH1cblxuICByZXR1cm4gTmFOO1xufVxuXG5mdW5jdGlvbiBjcmVhdGVEYXRlUGFyc2VyKHJlZ2V4cCwgbWFwcGluZykge1xuICByZXR1cm4gZnVuY3Rpb24oaXNvLCBkYXRlKSB7XG4gICAgdmFyIHBhcnRzLCBtYXA7XG5cbiAgICBpZiAoaXNEYXRlKGlzbykpIHtcbiAgICAgIHJldHVybiBpc287XG4gICAgfVxuXG4gICAgaWYgKGlzU3RyaW5nKGlzbykpIHtcbiAgICAgIC8vIFdoZW4gYSBkYXRlIGlzIEpTT04naWZpZWQgdG8gd3JhcHMgaXRzZWxmIGluc2lkZSBvZiBhbiBleHRyYVxuICAgICAgLy8gc2V0IG9mIGRvdWJsZSBxdW90ZXMuIFRoaXMgbWFrZXMgdGhlIGRhdGUgcGFyc2luZyBjb2RlIHVuYWJsZVxuICAgICAgLy8gdG8gbWF0Y2ggdGhlIGRhdGUgc3RyaW5nIGFuZCBwYXJzZSBpdCBhcyBhIGRhdGUuXG4gICAgICBpZiAoaXNvLmNoYXJBdCgwKSA9PT0gJ1wiJyAmJiBpc28uY2hhckF0KGlzby5sZW5ndGggLSAxKSA9PT0gJ1wiJykge1xuICAgICAgICBpc28gPSBpc28uc3Vic3RyaW5nKDEsIGlzby5sZW5ndGggLSAxKTtcbiAgICAgIH1cbiAgICAgIGlmIChJU09fREFURV9SRUdFWFAudGVzdChpc28pKSB7XG4gICAgICAgIHJldHVybiBuZXcgRGF0ZShpc28pO1xuICAgICAgfVxuICAgICAgcmVnZXhwLmxhc3RJbmRleCA9IDA7XG4gICAgICBwYXJ0cyA9IHJlZ2V4cC5leGVjKGlzbyk7XG5cbiAgICAgIGlmIChwYXJ0cykge1xuICAgICAgICBwYXJ0cy5zaGlmdCgpO1xuICAgICAgICBpZiAoZGF0ZSkge1xuICAgICAgICAgIG1hcCA9IHtcbiAgICAgICAgICAgIHl5eXk6IGRhdGUuZ2V0RnVsbFllYXIoKSxcbiAgICAgICAgICAgIE1NOiBkYXRlLmdldE1vbnRoKCkgKyAxLFxuICAgICAgICAgICAgZGQ6IGRhdGUuZ2V0RGF0ZSgpLFxuICAgICAgICAgICAgSEg6IGRhdGUuZ2V0SG91cnMoKSxcbiAgICAgICAgICAgIG1tOiBkYXRlLmdldE1pbnV0ZXMoKSxcbiAgICAgICAgICAgIHNzOiBkYXRlLmdldFNlY29uZHMoKSxcbiAgICAgICAgICAgIHNzczogZGF0ZS5nZXRNaWxsaXNlY29uZHMoKSAvIDEwMDBcbiAgICAgICAgICB9O1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIG1hcCA9IHsgeXl5eTogMTk3MCwgTU06IDEsIGRkOiAxLCBISDogMCwgbW06IDAsIHNzOiAwLCBzc3M6IDAgfTtcbiAgICAgICAgfVxuXG4gICAgICAgIGZvckVhY2gocGFydHMsIGZ1bmN0aW9uKHBhcnQsIGluZGV4KSB7XG4gICAgICAgICAgaWYgKGluZGV4IDwgbWFwcGluZy5sZW5ndGgpIHtcbiAgICAgICAgICAgIG1hcFttYXBwaW5nW2luZGV4XV0gPSArcGFydDtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gbmV3IERhdGUobWFwLnl5eXksIG1hcC5NTSAtIDEsIG1hcC5kZCwgbWFwLkhILCBtYXAubW0sIG1hcC5zcyB8fCAwLCBtYXAuc3NzICogMTAwMCB8fCAwKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gTmFOO1xuICB9O1xufVxuXG5mdW5jdGlvbiBjcmVhdGVEYXRlSW5wdXRUeXBlKHR5cGUsIHJlZ2V4cCwgcGFyc2VEYXRlLCBmb3JtYXQpIHtcbiAgcmV0dXJuIGZ1bmN0aW9uIGR5bmFtaWNEYXRlSW5wdXRUeXBlKHNjb3BlLCBlbGVtZW50LCBhdHRyLCBjdHJsLCAkc25pZmZlciwgJGJyb3dzZXIsICRmaWx0ZXIpIHtcbiAgICBiYWRJbnB1dENoZWNrZXIoc2NvcGUsIGVsZW1lbnQsIGF0dHIsIGN0cmwpO1xuICAgIGJhc2VJbnB1dFR5cGUoc2NvcGUsIGVsZW1lbnQsIGF0dHIsIGN0cmwsICRzbmlmZmVyLCAkYnJvd3Nlcik7XG4gICAgdmFyIHRpbWV6b25lID0gY3RybCAmJiBjdHJsLiRvcHRpb25zLmdldE9wdGlvbigndGltZXpvbmUnKTtcbiAgICB2YXIgcHJldmlvdXNEYXRlO1xuXG4gICAgY3RybC4kJHBhcnNlck5hbWUgPSB0eXBlO1xuICAgIGN0cmwuJHBhcnNlcnMucHVzaChmdW5jdGlvbih2YWx1ZSkge1xuICAgICAgaWYgKGN0cmwuJGlzRW1wdHkodmFsdWUpKSByZXR1cm4gbnVsbDtcbiAgICAgIGlmIChyZWdleHAudGVzdCh2YWx1ZSkpIHtcbiAgICAgICAgLy8gTm90ZTogV2UgY2Fubm90IHJlYWQgY3RybC4kbW9kZWxWYWx1ZSwgYXMgdGhlcmUgbWlnaHQgYmUgYSBkaWZmZXJlbnRcbiAgICAgICAgLy8gcGFyc2VyL2Zvcm1hdHRlciBpbiB0aGUgcHJvY2Vzc2luZyBjaGFpbiBzbyB0aGF0IHRoZSBtb2RlbFxuICAgICAgICAvLyBjb250YWlucyBzb21lIGRpZmZlcmVudCBkYXRhIGZvcm1hdCFcbiAgICAgICAgdmFyIHBhcnNlZERhdGUgPSBwYXJzZURhdGUodmFsdWUsIHByZXZpb3VzRGF0ZSk7XG4gICAgICAgIGlmICh0aW1lem9uZSkge1xuICAgICAgICAgIHBhcnNlZERhdGUgPSBjb252ZXJ0VGltZXpvbmVUb0xvY2FsKHBhcnNlZERhdGUsIHRpbWV6b25lKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcGFyc2VkRGF0ZTtcbiAgICAgIH1cbiAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgfSk7XG5cbiAgICBjdHJsLiRmb3JtYXR0ZXJzLnB1c2goZnVuY3Rpb24odmFsdWUpIHtcbiAgICAgIGlmICh2YWx1ZSAmJiAhaXNEYXRlKHZhbHVlKSkge1xuICAgICAgICB0aHJvdyBuZ01vZGVsTWluRXJyKCdkYXRlZm10JywgJ0V4cGVjdGVkIGB7MH1gIHRvIGJlIGEgZGF0ZScsIHZhbHVlKTtcbiAgICAgIH1cbiAgICAgIGlmIChpc1ZhbGlkRGF0ZSh2YWx1ZSkpIHtcbiAgICAgICAgcHJldmlvdXNEYXRlID0gdmFsdWU7XG4gICAgICAgIGlmIChwcmV2aW91c0RhdGUgJiYgdGltZXpvbmUpIHtcbiAgICAgICAgICBwcmV2aW91c0RhdGUgPSBjb252ZXJ0VGltZXpvbmVUb0xvY2FsKHByZXZpb3VzRGF0ZSwgdGltZXpvbmUsIHRydWUpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiAkZmlsdGVyKCdkYXRlJykodmFsdWUsIGZvcm1hdCwgdGltZXpvbmUpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcHJldmlvdXNEYXRlID0gbnVsbDtcbiAgICAgICAgcmV0dXJuICcnO1xuICAgICAgfVxuICAgIH0pO1xuXG4gICAgaWYgKGlzRGVmaW5lZChhdHRyLm1pbikgfHwgYXR0ci5uZ01pbikge1xuICAgICAgdmFyIG1pblZhbDtcbiAgICAgIGN0cmwuJHZhbGlkYXRvcnMubWluID0gZnVuY3Rpb24odmFsdWUpIHtcbiAgICAgICAgcmV0dXJuICFpc1ZhbGlkRGF0ZSh2YWx1ZSkgfHwgaXNVbmRlZmluZWQobWluVmFsKSB8fCBwYXJzZURhdGUodmFsdWUpID49IG1pblZhbDtcbiAgICAgIH07XG4gICAgICBhdHRyLiRvYnNlcnZlKCdtaW4nLCBmdW5jdGlvbih2YWwpIHtcbiAgICAgICAgbWluVmFsID0gcGFyc2VPYnNlcnZlZERhdGVWYWx1ZSh2YWwpO1xuICAgICAgICBjdHJsLiR2YWxpZGF0ZSgpO1xuICAgICAgfSk7XG4gICAgfVxuXG4gICAgaWYgKGlzRGVmaW5lZChhdHRyLm1heCkgfHwgYXR0ci5uZ01heCkge1xuICAgICAgdmFyIG1heFZhbDtcbiAgICAgIGN0cmwuJHZhbGlkYXRvcnMubWF4ID0gZnVuY3Rpb24odmFsdWUpIHtcbiAgICAgICAgcmV0dXJuICFpc1ZhbGlkRGF0ZSh2YWx1ZSkgfHwgaXNVbmRlZmluZWQobWF4VmFsKSB8fCBwYXJzZURhdGUodmFsdWUpIDw9IG1heFZhbDtcbiAgICAgIH07XG4gICAgICBhdHRyLiRvYnNlcnZlKCdtYXgnLCBmdW5jdGlvbih2YWwpIHtcbiAgICAgICAgbWF4VmFsID0gcGFyc2VPYnNlcnZlZERhdGVWYWx1ZSh2YWwpO1xuICAgICAgICBjdHJsLiR2YWxpZGF0ZSgpO1xuICAgICAgfSk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gaXNWYWxpZERhdGUodmFsdWUpIHtcbiAgICAgIC8vIEludmFsaWQgRGF0ZTogZ2V0VGltZSgpIHJldHVybnMgTmFOXG4gICAgICByZXR1cm4gdmFsdWUgJiYgISh2YWx1ZS5nZXRUaW1lICYmIHZhbHVlLmdldFRpbWUoKSAhPT0gdmFsdWUuZ2V0VGltZSgpKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBwYXJzZU9ic2VydmVkRGF0ZVZhbHVlKHZhbCkge1xuICAgICAgcmV0dXJuIGlzRGVmaW5lZCh2YWwpICYmICFpc0RhdGUodmFsKSA/IHBhcnNlRGF0ZSh2YWwpIHx8IHVuZGVmaW5lZCA6IHZhbDtcbiAgICB9XG4gIH07XG59XG5cbmZ1bmN0aW9uIGJhZElucHV0Q2hlY2tlcihzY29wZSwgZWxlbWVudCwgYXR0ciwgY3RybCkge1xuICB2YXIgbm9kZSA9IGVsZW1lbnRbMF07XG4gIHZhciBuYXRpdmVWYWxpZGF0aW9uID0gY3RybC4kJGhhc05hdGl2ZVZhbGlkYXRvcnMgPSBpc09iamVjdChub2RlLnZhbGlkaXR5KTtcbiAgaWYgKG5hdGl2ZVZhbGlkYXRpb24pIHtcbiAgICBjdHJsLiRwYXJzZXJzLnB1c2goZnVuY3Rpb24odmFsdWUpIHtcbiAgICAgIHZhciB2YWxpZGl0eSA9IGVsZW1lbnQucHJvcChWQUxJRElUWV9TVEFURV9QUk9QRVJUWSkgfHwge307XG4gICAgICByZXR1cm4gdmFsaWRpdHkuYmFkSW5wdXQgfHwgdmFsaWRpdHkudHlwZU1pc21hdGNoID8gdW5kZWZpbmVkIDogdmFsdWU7XG4gICAgfSk7XG4gIH1cbn1cblxuZnVuY3Rpb24gbnVtYmVyRm9ybWF0dGVyUGFyc2VyKGN0cmwpIHtcbiAgY3RybC4kJHBhcnNlck5hbWUgPSAnbnVtYmVyJztcbiAgY3RybC4kcGFyc2Vycy5wdXNoKGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgaWYgKGN0cmwuJGlzRW1wdHkodmFsdWUpKSAgICAgIHJldHVybiBudWxsO1xuICAgIGlmIChOVU1CRVJfUkVHRVhQLnRlc3QodmFsdWUpKSByZXR1cm4gcGFyc2VGbG9hdCh2YWx1ZSk7XG4gICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgfSk7XG5cbiAgY3RybC4kZm9ybWF0dGVycy5wdXNoKGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgaWYgKCFjdHJsLiRpc0VtcHR5KHZhbHVlKSkge1xuICAgICAgaWYgKCFpc051bWJlcih2YWx1ZSkpIHtcbiAgICAgICAgdGhyb3cgbmdNb2RlbE1pbkVycignbnVtZm10JywgJ0V4cGVjdGVkIGB7MH1gIHRvIGJlIGEgbnVtYmVyJywgdmFsdWUpO1xuICAgICAgfVxuICAgICAgdmFsdWUgPSB2YWx1ZS50b1N0cmluZygpO1xuICAgIH1cbiAgICByZXR1cm4gdmFsdWU7XG4gIH0pO1xufVxuXG5mdW5jdGlvbiBwYXJzZU51bWJlckF0dHJWYWwodmFsKSB7XG4gIGlmIChpc0RlZmluZWQodmFsKSAmJiAhaXNOdW1iZXIodmFsKSkge1xuICAgIHZhbCA9IHBhcnNlRmxvYXQodmFsKTtcbiAgfVxuICByZXR1cm4gIWlzTnVtYmVyTmFOKHZhbCkgPyB2YWwgOiB1bmRlZmluZWQ7XG59XG5cbmZ1bmN0aW9uIGlzTnVtYmVySW50ZWdlcihudW0pIHtcbiAgLy8gU2VlIGh0dHA6Ly9zdGFja292ZXJmbG93LmNvbS9xdWVzdGlvbnMvMTQ2MzY1MzYvaG93LXRvLWNoZWNrLWlmLWEtdmFyaWFibGUtaXMtYW4taW50ZWdlci1pbi1qYXZhc2NyaXB0IzE0Nzk0MDY2XG4gIC8vIChtaW51cyB0aGUgYXNzdW1wdGlvbiB0aGF0IGBudW1gIGlzIGEgbnVtYmVyKVxuXG4gIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1iaXR3aXNlXG4gIHJldHVybiAobnVtIHwgMCkgPT09IG51bTtcbn1cblxuZnVuY3Rpb24gY291bnREZWNpbWFscyhudW0pIHtcbiAgdmFyIG51bVN0cmluZyA9IG51bS50b1N0cmluZygpO1xuICB2YXIgZGVjaW1hbFN5bWJvbEluZGV4ID0gbnVtU3RyaW5nLmluZGV4T2YoJy4nKTtcblxuICBpZiAoZGVjaW1hbFN5bWJvbEluZGV4ID09PSAtMSkge1xuICAgIGlmICgtMSA8IG51bSAmJiBudW0gPCAxKSB7XG4gICAgICAvLyBJdCBtYXkgYmUgaW4gdGhlIGV4cG9uZW50aWFsIG5vdGF0aW9uIGZvcm1hdCAoYDFlLVhgKVxuICAgICAgdmFyIG1hdGNoID0gL2UtKFxcZCspJC8uZXhlYyhudW1TdHJpbmcpO1xuXG4gICAgICBpZiAobWF0Y2gpIHtcbiAgICAgICAgcmV0dXJuIE51bWJlcihtYXRjaFsxXSk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIDA7XG4gIH1cblxuICByZXR1cm4gbnVtU3RyaW5nLmxlbmd0aCAtIGRlY2ltYWxTeW1ib2xJbmRleCAtIDE7XG59XG5cbmZ1bmN0aW9uIGlzVmFsaWRGb3JTdGVwKHZpZXdWYWx1ZSwgc3RlcEJhc2UsIHN0ZXApIHtcbiAgLy8gQXQgdGhpcyBwb2ludCBgc3RlcEJhc2VgIGFuZCBgc3RlcGAgYXJlIGV4cGVjdGVkIHRvIGJlIG5vbi1OYU4gdmFsdWVzXG4gIC8vIGFuZCBgdmlld1ZhbHVlYCBpcyBleHBlY3RlZCB0byBiZSBhIHZhbGlkIHN0cmluZ2lmaWVkIG51bWJlci5cbiAgdmFyIHZhbHVlID0gTnVtYmVyKHZpZXdWYWx1ZSk7XG5cbiAgdmFyIGlzTm9uSW50ZWdlclZhbHVlID0gIWlzTnVtYmVySW50ZWdlcih2YWx1ZSk7XG4gIHZhciBpc05vbkludGVnZXJTdGVwQmFzZSA9ICFpc051bWJlckludGVnZXIoc3RlcEJhc2UpO1xuICB2YXIgaXNOb25JbnRlZ2VyU3RlcCA9ICFpc051bWJlckludGVnZXIoc3RlcCk7XG5cbiAgLy8gRHVlIHRvIGxpbWl0YXRpb25zIGluIEZsb2F0aW5nIFBvaW50IEFyaXRobWV0aWMgKGUuZy4gYDAuMyAtIDAuMiAhPT0gMC4xYCBvclxuICAvLyBgMC41ICUgMC4xICE9PSAwYCksIHdlIG5lZWQgdG8gY29udmVydCBhbGwgbnVtYmVycyB0byBpbnRlZ2Vycy5cbiAgaWYgKGlzTm9uSW50ZWdlclZhbHVlIHx8IGlzTm9uSW50ZWdlclN0ZXBCYXNlIHx8IGlzTm9uSW50ZWdlclN0ZXApIHtcbiAgICB2YXIgdmFsdWVEZWNpbWFscyA9IGlzTm9uSW50ZWdlclZhbHVlID8gY291bnREZWNpbWFscyh2YWx1ZSkgOiAwO1xuICAgIHZhciBzdGVwQmFzZURlY2ltYWxzID0gaXNOb25JbnRlZ2VyU3RlcEJhc2UgPyBjb3VudERlY2ltYWxzKHN0ZXBCYXNlKSA6IDA7XG4gICAgdmFyIHN0ZXBEZWNpbWFscyA9IGlzTm9uSW50ZWdlclN0ZXAgPyBjb3VudERlY2ltYWxzKHN0ZXApIDogMDtcblxuICAgIHZhciBkZWNpbWFsQ291bnQgPSBNYXRoLm1heCh2YWx1ZURlY2ltYWxzLCBzdGVwQmFzZURlY2ltYWxzLCBzdGVwRGVjaW1hbHMpO1xuICAgIHZhciBtdWx0aXBsaWVyID0gTWF0aC5wb3coMTAsIGRlY2ltYWxDb3VudCk7XG5cbiAgICB2YWx1ZSA9IHZhbHVlICogbXVsdGlwbGllcjtcbiAgICBzdGVwQmFzZSA9IHN0ZXBCYXNlICogbXVsdGlwbGllcjtcbiAgICBzdGVwID0gc3RlcCAqIG11bHRpcGxpZXI7XG5cbiAgICBpZiAoaXNOb25JbnRlZ2VyVmFsdWUpIHZhbHVlID0gTWF0aC5yb3VuZCh2YWx1ZSk7XG4gICAgaWYgKGlzTm9uSW50ZWdlclN0ZXBCYXNlKSBzdGVwQmFzZSA9IE1hdGgucm91bmQoc3RlcEJhc2UpO1xuICAgIGlmIChpc05vbkludGVnZXJTdGVwKSBzdGVwID0gTWF0aC5yb3VuZChzdGVwKTtcbiAgfVxuXG4gIHJldHVybiAodmFsdWUgLSBzdGVwQmFzZSkgJSBzdGVwID09PSAwO1xufVxuXG5mdW5jdGlvbiBudW1iZXJJbnB1dFR5cGUoc2NvcGUsIGVsZW1lbnQsIGF0dHIsIGN0cmwsICRzbmlmZmVyLCAkYnJvd3Nlcikge1xuICBiYWRJbnB1dENoZWNrZXIoc2NvcGUsIGVsZW1lbnQsIGF0dHIsIGN0cmwpO1xuICBudW1iZXJGb3JtYXR0ZXJQYXJzZXIoY3RybCk7XG4gIGJhc2VJbnB1dFR5cGUoc2NvcGUsIGVsZW1lbnQsIGF0dHIsIGN0cmwsICRzbmlmZmVyLCAkYnJvd3Nlcik7XG5cbiAgdmFyIG1pblZhbDtcbiAgdmFyIG1heFZhbDtcblxuICBpZiAoaXNEZWZpbmVkKGF0dHIubWluKSB8fCBhdHRyLm5nTWluKSB7XG4gICAgY3RybC4kdmFsaWRhdG9ycy5taW4gPSBmdW5jdGlvbih2YWx1ZSkge1xuICAgICAgcmV0dXJuIGN0cmwuJGlzRW1wdHkodmFsdWUpIHx8IGlzVW5kZWZpbmVkKG1pblZhbCkgfHwgdmFsdWUgPj0gbWluVmFsO1xuICAgIH07XG5cbiAgICBhdHRyLiRvYnNlcnZlKCdtaW4nLCBmdW5jdGlvbih2YWwpIHtcbiAgICAgIG1pblZhbCA9IHBhcnNlTnVtYmVyQXR0clZhbCh2YWwpO1xuICAgICAgLy8gVE9ETyhtYXRza28pOiBpbXBsZW1lbnQgdmFsaWRhdGVMYXRlciB0byByZWR1Y2UgbnVtYmVyIG9mIHZhbGlkYXRpb25zXG4gICAgICBjdHJsLiR2YWxpZGF0ZSgpO1xuICAgIH0pO1xuICB9XG5cbiAgaWYgKGlzRGVmaW5lZChhdHRyLm1heCkgfHwgYXR0ci5uZ01heCkge1xuICAgIGN0cmwuJHZhbGlkYXRvcnMubWF4ID0gZnVuY3Rpb24odmFsdWUpIHtcbiAgICAgIHJldHVybiBjdHJsLiRpc0VtcHR5KHZhbHVlKSB8fCBpc1VuZGVmaW5lZChtYXhWYWwpIHx8IHZhbHVlIDw9IG1heFZhbDtcbiAgICB9O1xuXG4gICAgYXR0ci4kb2JzZXJ2ZSgnbWF4JywgZnVuY3Rpb24odmFsKSB7XG4gICAgICBtYXhWYWwgPSBwYXJzZU51bWJlckF0dHJWYWwodmFsKTtcbiAgICAgIC8vIFRPRE8obWF0c2tvKTogaW1wbGVtZW50IHZhbGlkYXRlTGF0ZXIgdG8gcmVkdWNlIG51bWJlciBvZiB2YWxpZGF0aW9uc1xuICAgICAgY3RybC4kdmFsaWRhdGUoKTtcbiAgICB9KTtcbiAgfVxuXG4gIGlmIChpc0RlZmluZWQoYXR0ci5zdGVwKSB8fCBhdHRyLm5nU3RlcCkge1xuICAgIHZhciBzdGVwVmFsO1xuICAgIGN0cmwuJHZhbGlkYXRvcnMuc3RlcCA9IGZ1bmN0aW9uKG1vZGVsVmFsdWUsIHZpZXdWYWx1ZSkge1xuICAgICAgcmV0dXJuIGN0cmwuJGlzRW1wdHkodmlld1ZhbHVlKSB8fCBpc1VuZGVmaW5lZChzdGVwVmFsKSB8fFxuICAgICAgICAgICAgIGlzVmFsaWRGb3JTdGVwKHZpZXdWYWx1ZSwgbWluVmFsIHx8IDAsIHN0ZXBWYWwpO1xuICAgIH07XG5cbiAgICBhdHRyLiRvYnNlcnZlKCdzdGVwJywgZnVuY3Rpb24odmFsKSB7XG4gICAgICBzdGVwVmFsID0gcGFyc2VOdW1iZXJBdHRyVmFsKHZhbCk7XG4gICAgICAvLyBUT0RPKG1hdHNrbyk6IGltcGxlbWVudCB2YWxpZGF0ZUxhdGVyIHRvIHJlZHVjZSBudW1iZXIgb2YgdmFsaWRhdGlvbnNcbiAgICAgIGN0cmwuJHZhbGlkYXRlKCk7XG4gICAgfSk7XG4gIH1cbn1cblxuZnVuY3Rpb24gcmFuZ2VJbnB1dFR5cGUoc2NvcGUsIGVsZW1lbnQsIGF0dHIsIGN0cmwsICRzbmlmZmVyLCAkYnJvd3Nlcikge1xuICBiYWRJbnB1dENoZWNrZXIoc2NvcGUsIGVsZW1lbnQsIGF0dHIsIGN0cmwpO1xuICBudW1iZXJGb3JtYXR0ZXJQYXJzZXIoY3RybCk7XG4gIGJhc2VJbnB1dFR5cGUoc2NvcGUsIGVsZW1lbnQsIGF0dHIsIGN0cmwsICRzbmlmZmVyLCAkYnJvd3Nlcik7XG5cbiAgdmFyIHN1cHBvcnRzUmFuZ2UgPSBjdHJsLiQkaGFzTmF0aXZlVmFsaWRhdG9ycyAmJiBlbGVtZW50WzBdLnR5cGUgPT09ICdyYW5nZScsXG4gICAgICBtaW5WYWwgPSBzdXBwb3J0c1JhbmdlID8gMCA6IHVuZGVmaW5lZCxcbiAgICAgIG1heFZhbCA9IHN1cHBvcnRzUmFuZ2UgPyAxMDAgOiB1bmRlZmluZWQsXG4gICAgICBzdGVwVmFsID0gc3VwcG9ydHNSYW5nZSA/IDEgOiB1bmRlZmluZWQsXG4gICAgICB2YWxpZGl0eSA9IGVsZW1lbnRbMF0udmFsaWRpdHksXG4gICAgICBoYXNNaW5BdHRyID0gaXNEZWZpbmVkKGF0dHIubWluKSxcbiAgICAgIGhhc01heEF0dHIgPSBpc0RlZmluZWQoYXR0ci5tYXgpLFxuICAgICAgaGFzU3RlcEF0dHIgPSBpc0RlZmluZWQoYXR0ci5zdGVwKTtcblxuICB2YXIgb3JpZ2luYWxSZW5kZXIgPSBjdHJsLiRyZW5kZXI7XG5cbiAgY3RybC4kcmVuZGVyID0gc3VwcG9ydHNSYW5nZSAmJiBpc0RlZmluZWQodmFsaWRpdHkucmFuZ2VVbmRlcmZsb3cpICYmIGlzRGVmaW5lZCh2YWxpZGl0eS5yYW5nZU92ZXJmbG93KSA/XG4gICAgLy9Ccm93c2VycyB0aGF0IGltcGxlbWVudCByYW5nZSB3aWxsIHNldCB0aGVzZSB2YWx1ZXMgYXV0b21hdGljYWxseSwgYnV0IHJlYWRpbmcgdGhlIGFkanVzdGVkIHZhbHVlcyBhZnRlclxuICAgIC8vJHJlbmRlciB3b3VsZCBjYXVzZSB0aGUgbWluIC8gbWF4IHZhbGlkYXRvcnMgdG8gYmUgYXBwbGllZCB3aXRoIHRoZSB3cm9uZyB2YWx1ZVxuICAgIGZ1bmN0aW9uIHJhbmdlUmVuZGVyKCkge1xuICAgICAgb3JpZ2luYWxSZW5kZXIoKTtcbiAgICAgIGN0cmwuJHNldFZpZXdWYWx1ZShlbGVtZW50LnZhbCgpKTtcbiAgICB9IDpcbiAgICBvcmlnaW5hbFJlbmRlcjtcblxuICBpZiAoaGFzTWluQXR0cikge1xuICAgIGN0cmwuJHZhbGlkYXRvcnMubWluID0gc3VwcG9ydHNSYW5nZSA/XG4gICAgICAvLyBTaW5jZSBhbGwgYnJvd3NlcnMgc2V0IHRoZSBpbnB1dCB0byBhIHZhbGlkIHZhbHVlLCB3ZSBkb24ndCBuZWVkIHRvIGNoZWNrIHZhbGlkaXR5XG4gICAgICBmdW5jdGlvbiBub29wTWluVmFsaWRhdG9yKCkgeyByZXR1cm4gdHJ1ZTsgfSA6XG4gICAgICAvLyBub24tc3VwcG9ydCBicm93c2VycyB2YWxpZGF0ZSB0aGUgbWluIHZhbFxuICAgICAgZnVuY3Rpb24gbWluVmFsaWRhdG9yKG1vZGVsVmFsdWUsIHZpZXdWYWx1ZSkge1xuICAgICAgICByZXR1cm4gY3RybC4kaXNFbXB0eSh2aWV3VmFsdWUpIHx8IGlzVW5kZWZpbmVkKG1pblZhbCkgfHwgdmlld1ZhbHVlID49IG1pblZhbDtcbiAgICAgIH07XG5cbiAgICBzZXRJbml0aWFsVmFsdWVBbmRPYnNlcnZlcignbWluJywgbWluQ2hhbmdlKTtcbiAgfVxuXG4gIGlmIChoYXNNYXhBdHRyKSB7XG4gICAgY3RybC4kdmFsaWRhdG9ycy5tYXggPSBzdXBwb3J0c1JhbmdlID9cbiAgICAgIC8vIFNpbmNlIGFsbCBicm93c2VycyBzZXQgdGhlIGlucHV0IHRvIGEgdmFsaWQgdmFsdWUsIHdlIGRvbid0IG5lZWQgdG8gY2hlY2sgdmFsaWRpdHlcbiAgICAgIGZ1bmN0aW9uIG5vb3BNYXhWYWxpZGF0b3IoKSB7IHJldHVybiB0cnVlOyB9IDpcbiAgICAgIC8vIG5vbi1zdXBwb3J0IGJyb3dzZXJzIHZhbGlkYXRlIHRoZSBtYXggdmFsXG4gICAgICBmdW5jdGlvbiBtYXhWYWxpZGF0b3IobW9kZWxWYWx1ZSwgdmlld1ZhbHVlKSB7XG4gICAgICAgIHJldHVybiBjdHJsLiRpc0VtcHR5KHZpZXdWYWx1ZSkgfHwgaXNVbmRlZmluZWQobWF4VmFsKSB8fCB2aWV3VmFsdWUgPD0gbWF4VmFsO1xuICAgICAgfTtcblxuICAgIHNldEluaXRpYWxWYWx1ZUFuZE9ic2VydmVyKCdtYXgnLCBtYXhDaGFuZ2UpO1xuICB9XG5cbiAgaWYgKGhhc1N0ZXBBdHRyKSB7XG4gICAgY3RybC4kdmFsaWRhdG9ycy5zdGVwID0gc3VwcG9ydHNSYW5nZSA/XG4gICAgICBmdW5jdGlvbiBuYXRpdmVTdGVwVmFsaWRhdG9yKCkge1xuICAgICAgICAvLyBDdXJyZW50bHksIG9ubHkgRkYgaW1wbGVtZW50cyB0aGUgc3BlYyBvbiBzdGVwIGNoYW5nZSBjb3JyZWN0bHkgKGkuZS4gYWRqdXN0aW5nIHRoZVxuICAgICAgICAvLyBpbnB1dCBlbGVtZW50IHZhbHVlIHRvIGEgdmFsaWQgdmFsdWUpLiBJdCdzIHBvc3NpYmxlIHRoYXQgb3RoZXIgYnJvd3NlcnMgc2V0IHRoZSBzdGVwTWlzbWF0Y2hcbiAgICAgICAgLy8gdmFsaWRpdHkgZXJyb3IgaW5zdGVhZCwgc28gd2UgY2FuIGF0IGxlYXN0IHJlcG9ydCBhbiBlcnJvciBpbiB0aGF0IGNhc2UuXG4gICAgICAgIHJldHVybiAhdmFsaWRpdHkuc3RlcE1pc21hdGNoO1xuICAgICAgfSA6XG4gICAgICAvLyBuZ1N0ZXAgZG9lc24ndCBzZXQgdGhlIHNldHAgYXR0ciwgc28gdGhlIGJyb3dzZXIgZG9lc24ndCBhZGp1c3QgdGhlIGlucHV0IHZhbHVlIGFzIHNldHRpbmcgc3RlcCB3b3VsZFxuICAgICAgZnVuY3Rpb24gc3RlcFZhbGlkYXRvcihtb2RlbFZhbHVlLCB2aWV3VmFsdWUpIHtcbiAgICAgICAgcmV0dXJuIGN0cmwuJGlzRW1wdHkodmlld1ZhbHVlKSB8fCBpc1VuZGVmaW5lZChzdGVwVmFsKSB8fFxuICAgICAgICAgICAgICAgaXNWYWxpZEZvclN0ZXAodmlld1ZhbHVlLCBtaW5WYWwgfHwgMCwgc3RlcFZhbCk7XG4gICAgICB9O1xuXG4gICAgc2V0SW5pdGlhbFZhbHVlQW5kT2JzZXJ2ZXIoJ3N0ZXAnLCBzdGVwQ2hhbmdlKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHNldEluaXRpYWxWYWx1ZUFuZE9ic2VydmVyKGh0bWxBdHRyTmFtZSwgY2hhbmdlRm4pIHtcbiAgICAvLyBpbnRlcnBvbGF0ZWQgYXR0cmlidXRlcyBzZXQgdGhlIGF0dHJpYnV0ZSB2YWx1ZSBvbmx5IGFmdGVyIGEgZGlnZXN0LCBidXQgd2UgbmVlZCB0aGVcbiAgICAvLyBhdHRyaWJ1dGUgdmFsdWUgd2hlbiB0aGUgaW5wdXQgaXMgZmlyc3QgcmVuZGVyZWQsIHNvIHRoYXQgdGhlIGJyb3dzZXIgY2FuIGFkanVzdCB0aGVcbiAgICAvLyBpbnB1dCB2YWx1ZSBiYXNlZCBvbiB0aGUgbWluL21heCB2YWx1ZVxuICAgIGVsZW1lbnQuYXR0cihodG1sQXR0ck5hbWUsIGF0dHJbaHRtbEF0dHJOYW1lXSk7XG4gICAgYXR0ci4kb2JzZXJ2ZShodG1sQXR0ck5hbWUsIGNoYW5nZUZuKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIG1pbkNoYW5nZSh2YWwpIHtcbiAgICBtaW5WYWwgPSBwYXJzZU51bWJlckF0dHJWYWwodmFsKTtcbiAgICAvLyBpZ25vcmUgY2hhbmdlcyBiZWZvcmUgbW9kZWwgaXMgaW5pdGlhbGl6ZWRcbiAgICBpZiAoaXNOdW1iZXJOYU4oY3RybC4kbW9kZWxWYWx1ZSkpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBpZiAoc3VwcG9ydHNSYW5nZSkge1xuICAgICAgdmFyIGVsVmFsID0gZWxlbWVudC52YWwoKTtcbiAgICAgIC8vIElFMTEgZG9lc24ndCBzZXQgdGhlIGVsIHZhbCBjb3JyZWN0bHkgaWYgdGhlIG1pblZhbCBpcyBncmVhdGVyIHRoYW4gdGhlIGVsZW1lbnQgdmFsdWVcbiAgICAgIGlmIChtaW5WYWwgPiBlbFZhbCkge1xuICAgICAgICBlbFZhbCA9IG1pblZhbDtcbiAgICAgICAgZWxlbWVudC52YWwoZWxWYWwpO1xuICAgICAgfVxuICAgICAgY3RybC4kc2V0Vmlld1ZhbHVlKGVsVmFsKTtcbiAgICB9IGVsc2Uge1xuICAgICAgLy8gVE9ETyhtYXRza28pOiBpbXBsZW1lbnQgdmFsaWRhdGVMYXRlciB0byByZWR1Y2UgbnVtYmVyIG9mIHZhbGlkYXRpb25zXG4gICAgICBjdHJsLiR2YWxpZGF0ZSgpO1xuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIG1heENoYW5nZSh2YWwpIHtcbiAgICBtYXhWYWwgPSBwYXJzZU51bWJlckF0dHJWYWwodmFsKTtcbiAgICAvLyBpZ25vcmUgY2hhbmdlcyBiZWZvcmUgbW9kZWwgaXMgaW5pdGlhbGl6ZWRcbiAgICBpZiAoaXNOdW1iZXJOYU4oY3RybC4kbW9kZWxWYWx1ZSkpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBpZiAoc3VwcG9ydHNSYW5nZSkge1xuICAgICAgdmFyIGVsVmFsID0gZWxlbWVudC52YWwoKTtcbiAgICAgIC8vIElFMTEgZG9lc24ndCBzZXQgdGhlIGVsIHZhbCBjb3JyZWN0bHkgaWYgdGhlIG1heFZhbCBpcyBsZXNzIHRoYW4gdGhlIGVsZW1lbnQgdmFsdWVcbiAgICAgIGlmIChtYXhWYWwgPCBlbFZhbCkge1xuICAgICAgICBlbGVtZW50LnZhbChtYXhWYWwpO1xuICAgICAgICAvLyBJRTExIGFuZCBDaHJvbWUgZG9uJ3Qgc2V0IHRoZSB2YWx1ZSB0byB0aGUgbWluVmFsIHdoZW4gbWF4IDwgbWluXG4gICAgICAgIGVsVmFsID0gbWF4VmFsIDwgbWluVmFsID8gbWluVmFsIDogbWF4VmFsO1xuICAgICAgfVxuICAgICAgY3RybC4kc2V0Vmlld1ZhbHVlKGVsVmFsKTtcbiAgICB9IGVsc2Uge1xuICAgICAgLy8gVE9ETyhtYXRza28pOiBpbXBsZW1lbnQgdmFsaWRhdGVMYXRlciB0byByZWR1Y2UgbnVtYmVyIG9mIHZhbGlkYXRpb25zXG4gICAgICBjdHJsLiR2YWxpZGF0ZSgpO1xuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIHN0ZXBDaGFuZ2UodmFsKSB7XG4gICAgc3RlcFZhbCA9IHBhcnNlTnVtYmVyQXR0clZhbCh2YWwpO1xuICAgIC8vIGlnbm9yZSBjaGFuZ2VzIGJlZm9yZSBtb2RlbCBpcyBpbml0aWFsaXplZFxuICAgIGlmIChpc051bWJlck5hTihjdHJsLiRtb2RlbFZhbHVlKSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIC8vIFNvbWUgYnJvd3NlcnMgZG9uJ3QgYWRqdXN0IHRoZSBpbnB1dCB2YWx1ZSBjb3JyZWN0bHksIGJ1dCBzZXQgdGhlIHN0ZXBNaXNtYXRjaCBlcnJvclxuICAgIGlmIChzdXBwb3J0c1JhbmdlICYmIGN0cmwuJHZpZXdWYWx1ZSAhPT0gZWxlbWVudC52YWwoKSkge1xuICAgICAgY3RybC4kc2V0Vmlld1ZhbHVlKGVsZW1lbnQudmFsKCkpO1xuICAgIH0gZWxzZSB7XG4gICAgICAvLyBUT0RPKG1hdHNrbyk6IGltcGxlbWVudCB2YWxpZGF0ZUxhdGVyIHRvIHJlZHVjZSBudW1iZXIgb2YgdmFsaWRhdGlvbnNcbiAgICAgIGN0cmwuJHZhbGlkYXRlKCk7XG4gICAgfVxuICB9XG59XG5cbmZ1bmN0aW9uIHVybElucHV0VHlwZShzY29wZSwgZWxlbWVudCwgYXR0ciwgY3RybCwgJHNuaWZmZXIsICRicm93c2VyKSB7XG4gIC8vIE5vdGU6IG5vIGJhZElucHV0Q2hlY2tlciBoZXJlIGJ5IHB1cnBvc2UgYXMgYHVybGAgaXMgb25seSBhIHZhbGlkYXRpb25cbiAgLy8gaW4gYnJvd3NlcnMsIGkuZS4gd2UgY2FuIGFsd2F5cyByZWFkIG91dCBpbnB1dC52YWx1ZSBldmVuIGlmIGl0IGlzIG5vdCB2YWxpZCFcbiAgYmFzZUlucHV0VHlwZShzY29wZSwgZWxlbWVudCwgYXR0ciwgY3RybCwgJHNuaWZmZXIsICRicm93c2VyKTtcbiAgc3RyaW5nQmFzZWRJbnB1dFR5cGUoY3RybCk7XG5cbiAgY3RybC4kJHBhcnNlck5hbWUgPSAndXJsJztcbiAgY3RybC4kdmFsaWRhdG9ycy51cmwgPSBmdW5jdGlvbihtb2RlbFZhbHVlLCB2aWV3VmFsdWUpIHtcbiAgICB2YXIgdmFsdWUgPSBtb2RlbFZhbHVlIHx8IHZpZXdWYWx1ZTtcbiAgICByZXR1cm4gY3RybC4kaXNFbXB0eSh2YWx1ZSkgfHwgVVJMX1JFR0VYUC50ZXN0KHZhbHVlKTtcbiAgfTtcbn1cblxuZnVuY3Rpb24gZW1haWxJbnB1dFR5cGUoc2NvcGUsIGVsZW1lbnQsIGF0dHIsIGN0cmwsICRzbmlmZmVyLCAkYnJvd3Nlcikge1xuICAvLyBOb3RlOiBubyBiYWRJbnB1dENoZWNrZXIgaGVyZSBieSBwdXJwb3NlIGFzIGB1cmxgIGlzIG9ubHkgYSB2YWxpZGF0aW9uXG4gIC8vIGluIGJyb3dzZXJzLCBpLmUuIHdlIGNhbiBhbHdheXMgcmVhZCBvdXQgaW5wdXQudmFsdWUgZXZlbiBpZiBpdCBpcyBub3QgdmFsaWQhXG4gIGJhc2VJbnB1dFR5cGUoc2NvcGUsIGVsZW1lbnQsIGF0dHIsIGN0cmwsICRzbmlmZmVyLCAkYnJvd3Nlcik7XG4gIHN0cmluZ0Jhc2VkSW5wdXRUeXBlKGN0cmwpO1xuXG4gIGN0cmwuJCRwYXJzZXJOYW1lID0gJ2VtYWlsJztcbiAgY3RybC4kdmFsaWRhdG9ycy5lbWFpbCA9IGZ1bmN0aW9uKG1vZGVsVmFsdWUsIHZpZXdWYWx1ZSkge1xuICAgIHZhciB2YWx1ZSA9IG1vZGVsVmFsdWUgfHwgdmlld1ZhbHVlO1xuICAgIHJldHVybiBjdHJsLiRpc0VtcHR5KHZhbHVlKSB8fCBFTUFJTF9SRUdFWFAudGVzdCh2YWx1ZSk7XG4gIH07XG59XG5cbmZ1bmN0aW9uIHJhZGlvSW5wdXRUeXBlKHNjb3BlLCBlbGVtZW50LCBhdHRyLCBjdHJsKSB7XG4gIHZhciBkb1RyaW0gPSAhYXR0ci5uZ1RyaW0gfHwgdHJpbShhdHRyLm5nVHJpbSkgIT09ICdmYWxzZSc7XG4gIC8vIG1ha2UgdGhlIG5hbWUgdW5pcXVlLCBpZiBub3QgZGVmaW5lZFxuICBpZiAoaXNVbmRlZmluZWQoYXR0ci5uYW1lKSkge1xuICAgIGVsZW1lbnQuYXR0cignbmFtZScsIG5leHRVaWQoKSk7XG4gIH1cblxuICB2YXIgbGlzdGVuZXIgPSBmdW5jdGlvbihldikge1xuICAgIHZhciB2YWx1ZTtcbiAgICBpZiAoZWxlbWVudFswXS5jaGVja2VkKSB7XG4gICAgICB2YWx1ZSA9IGF0dHIudmFsdWU7XG4gICAgICBpZiAoZG9UcmltKSB7XG4gICAgICAgIHZhbHVlID0gdHJpbSh2YWx1ZSk7XG4gICAgICB9XG4gICAgICBjdHJsLiRzZXRWaWV3VmFsdWUodmFsdWUsIGV2ICYmIGV2LnR5cGUpO1xuICAgIH1cbiAgfTtcblxuICBlbGVtZW50Lm9uKCdjbGljaycsIGxpc3RlbmVyKTtcblxuICBjdHJsLiRyZW5kZXIgPSBmdW5jdGlvbigpIHtcbiAgICB2YXIgdmFsdWUgPSBhdHRyLnZhbHVlO1xuICAgIGlmIChkb1RyaW0pIHtcbiAgICAgIHZhbHVlID0gdHJpbSh2YWx1ZSk7XG4gICAgfVxuICAgIGVsZW1lbnRbMF0uY2hlY2tlZCA9ICh2YWx1ZSA9PT0gY3RybC4kdmlld1ZhbHVlKTtcbiAgfTtcblxuICBhdHRyLiRvYnNlcnZlKCd2YWx1ZScsIGN0cmwuJHJlbmRlcik7XG59XG5cbmZ1bmN0aW9uIHBhcnNlQ29uc3RhbnRFeHByKCRwYXJzZSwgY29udGV4dCwgbmFtZSwgZXhwcmVzc2lvbiwgZmFsbGJhY2spIHtcbiAgdmFyIHBhcnNlRm47XG4gIGlmIChpc0RlZmluZWQoZXhwcmVzc2lvbikpIHtcbiAgICBwYXJzZUZuID0gJHBhcnNlKGV4cHJlc3Npb24pO1xuICAgIGlmICghcGFyc2VGbi5jb25zdGFudCkge1xuICAgICAgdGhyb3cgbmdNb2RlbE1pbkVycignY29uc3RleHByJywgJ0V4cGVjdGVkIGNvbnN0YW50IGV4cHJlc3Npb24gZm9yIGB7MH1gLCBidXQgc2F3ICcgK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnYHsxfWAuJywgbmFtZSwgZXhwcmVzc2lvbik7XG4gICAgfVxuICAgIHJldHVybiBwYXJzZUZuKGNvbnRleHQpO1xuICB9XG4gIHJldHVybiBmYWxsYmFjaztcbn1cblxuZnVuY3Rpb24gY2hlY2tib3hJbnB1dFR5cGUoc2NvcGUsIGVsZW1lbnQsIGF0dHIsIGN0cmwsICRzbmlmZmVyLCAkYnJvd3NlciwgJGZpbHRlciwgJHBhcnNlKSB7XG4gIHZhciB0cnVlVmFsdWUgPSBwYXJzZUNvbnN0YW50RXhwcigkcGFyc2UsIHNjb3BlLCAnbmdUcnVlVmFsdWUnLCBhdHRyLm5nVHJ1ZVZhbHVlLCB0cnVlKTtcbiAgdmFyIGZhbHNlVmFsdWUgPSBwYXJzZUNvbnN0YW50RXhwcigkcGFyc2UsIHNjb3BlLCAnbmdGYWxzZVZhbHVlJywgYXR0ci5uZ0ZhbHNlVmFsdWUsIGZhbHNlKTtcblxuICB2YXIgbGlzdGVuZXIgPSBmdW5jdGlvbihldikge1xuICAgIGN0cmwuJHNldFZpZXdWYWx1ZShlbGVtZW50WzBdLmNoZWNrZWQsIGV2ICYmIGV2LnR5cGUpO1xuICB9O1xuXG4gIGVsZW1lbnQub24oJ2NsaWNrJywgbGlzdGVuZXIpO1xuXG4gIGN0cmwuJHJlbmRlciA9IGZ1bmN0aW9uKCkge1xuICAgIGVsZW1lbnRbMF0uY2hlY2tlZCA9IGN0cmwuJHZpZXdWYWx1ZTtcbiAgfTtcblxuICAvLyBPdmVycmlkZSB0aGUgc3RhbmRhcmQgYCRpc0VtcHR5YCBiZWNhdXNlIHRoZSAkdmlld1ZhbHVlIG9mIGFuIGVtcHR5IGNoZWNrYm94IGlzIGFsd2F5cyBzZXQgdG8gYGZhbHNlYFxuICAvLyBUaGlzIGlzIGJlY2F1c2Ugb2YgdGhlIHBhcnNlciBiZWxvdywgd2hpY2ggY29tcGFyZXMgdGhlIGAkbW9kZWxWYWx1ZWAgd2l0aCBgdHJ1ZVZhbHVlYCB0byBjb252ZXJ0XG4gIC8vIGl0IHRvIGEgYm9vbGVhbi5cbiAgY3RybC4kaXNFbXB0eSA9IGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgcmV0dXJuIHZhbHVlID09PSBmYWxzZTtcbiAgfTtcblxuICBjdHJsLiRmb3JtYXR0ZXJzLnB1c2goZnVuY3Rpb24odmFsdWUpIHtcbiAgICByZXR1cm4gZXF1YWxzKHZhbHVlLCB0cnVlVmFsdWUpO1xuICB9KTtcblxuICBjdHJsLiRwYXJzZXJzLnB1c2goZnVuY3Rpb24odmFsdWUpIHtcbiAgICByZXR1cm4gdmFsdWUgPyB0cnVlVmFsdWUgOiBmYWxzZVZhbHVlO1xuICB9KTtcbn1cblxuXG4vKipcbiAqIEBuZ2RvYyBkaXJlY3RpdmVcbiAqIEBuYW1lIHRleHRhcmVhXG4gKiBAcmVzdHJpY3QgRVxuICpcbiAqIEBkZXNjcmlwdGlvblxuICogSFRNTCB0ZXh0YXJlYSBlbGVtZW50IGNvbnRyb2wgd2l0aCBhbmd1bGFyIGRhdGEtYmluZGluZy4gVGhlIGRhdGEtYmluZGluZyBhbmQgdmFsaWRhdGlvblxuICogcHJvcGVydGllcyBvZiB0aGlzIGVsZW1lbnQgYXJlIGV4YWN0bHkgdGhlIHNhbWUgYXMgdGhvc2Ugb2YgdGhlXG4gKiB7QGxpbmsgbmcuZGlyZWN0aXZlOmlucHV0IGlucHV0IGVsZW1lbnR9LlxuICpcbiAqIEBwYXJhbSB7c3RyaW5nfSBuZ01vZGVsIEFzc2lnbmFibGUgYW5ndWxhciBleHByZXNzaW9uIHRvIGRhdGEtYmluZCB0by5cbiAqIEBwYXJhbSB7c3RyaW5nPX0gbmFtZSBQcm9wZXJ0eSBuYW1lIG9mIHRoZSBmb3JtIHVuZGVyIHdoaWNoIHRoZSBjb250cm9sIGlzIHB1Ymxpc2hlZC5cbiAqIEBwYXJhbSB7c3RyaW5nPX0gcmVxdWlyZWQgU2V0cyBgcmVxdWlyZWRgIHZhbGlkYXRpb24gZXJyb3Iga2V5IGlmIHRoZSB2YWx1ZSBpcyBub3QgZW50ZXJlZC5cbiAqIEBwYXJhbSB7c3RyaW5nPX0gbmdSZXF1aXJlZCBBZGRzIGByZXF1aXJlZGAgYXR0cmlidXRlIGFuZCBgcmVxdWlyZWRgIHZhbGlkYXRpb24gY29uc3RyYWludCB0b1xuICogICAgdGhlIGVsZW1lbnQgd2hlbiB0aGUgbmdSZXF1aXJlZCBleHByZXNzaW9uIGV2YWx1YXRlcyB0byB0cnVlLiBVc2UgYG5nUmVxdWlyZWRgIGluc3RlYWQgb2ZcbiAqICAgIGByZXF1aXJlZGAgd2hlbiB5b3Ugd2FudCB0byBkYXRhLWJpbmQgdG8gdGhlIGByZXF1aXJlZGAgYXR0cmlidXRlLlxuICogQHBhcmFtIHtudW1iZXI9fSBuZ01pbmxlbmd0aCBTZXRzIGBtaW5sZW5ndGhgIHZhbGlkYXRpb24gZXJyb3Iga2V5IGlmIHRoZSB2YWx1ZSBpcyBzaG9ydGVyIHRoYW5cbiAqICAgIG1pbmxlbmd0aC5cbiAqIEBwYXJhbSB7bnVtYmVyPX0gbmdNYXhsZW5ndGggU2V0cyBgbWF4bGVuZ3RoYCB2YWxpZGF0aW9uIGVycm9yIGtleSBpZiB0aGUgdmFsdWUgaXMgbG9uZ2VyIHRoYW5cbiAqICAgIG1heGxlbmd0aC4gU2V0dGluZyB0aGUgYXR0cmlidXRlIHRvIGEgbmVnYXRpdmUgb3Igbm9uLW51bWVyaWMgdmFsdWUsIGFsbG93cyB2aWV3IHZhbHVlcyBvZiBhbnlcbiAqICAgIGxlbmd0aC5cbiAqIEBwYXJhbSB7c3RyaW5nPX0gbmdQYXR0ZXJuIFNldHMgYHBhdHRlcm5gIHZhbGlkYXRpb24gZXJyb3Iga2V5IGlmIHRoZSBuZ01vZGVsIHtAbGluayBuZ01vZGVsLk5nTW9kZWxDb250cm9sbGVyIyR2aWV3VmFsdWUgJHZpZXdWYWx1ZX1cbiAqICAgIGRvZXMgbm90IG1hdGNoIGEgUmVnRXhwIGZvdW5kIGJ5IGV2YWx1YXRpbmcgdGhlIEFuZ3VsYXIgZXhwcmVzc2lvbiBnaXZlbiBpbiB0aGUgYXR0cmlidXRlIHZhbHVlLlxuICogICAgSWYgdGhlIGV4cHJlc3Npb24gZXZhbHVhdGVzIHRvIGEgUmVnRXhwIG9iamVjdCwgdGhlbiB0aGlzIGlzIHVzZWQgZGlyZWN0bHkuXG4gKiAgICBJZiB0aGUgZXhwcmVzc2lvbiBldmFsdWF0ZXMgdG8gYSBzdHJpbmcsIHRoZW4gaXQgd2lsbCBiZSBjb252ZXJ0ZWQgdG8gYSBSZWdFeHBcbiAqICAgIGFmdGVyIHdyYXBwaW5nIGl0IGluIGBeYCBhbmQgYCRgIGNoYXJhY3RlcnMuIEZvciBpbnN0YW5jZSwgYFwiYWJjXCJgIHdpbGwgYmUgY29udmVydGVkIHRvXG4gKiAgICBgbmV3IFJlZ0V4cCgnXmFiYyQnKWAuPGJyIC8+XG4gKiAgICAqKk5vdGU6KiogQXZvaWQgdXNpbmcgdGhlIGBnYCBmbGFnIG9uIHRoZSBSZWdFeHAsIGFzIGl0IHdpbGwgY2F1c2UgZWFjaCBzdWNjZXNzaXZlIHNlYXJjaCB0b1xuICogICAgc3RhcnQgYXQgdGhlIGluZGV4IG9mIHRoZSBsYXN0IHNlYXJjaCdzIG1hdGNoLCB0aHVzIG5vdCB0YWtpbmcgdGhlIHdob2xlIGlucHV0IHZhbHVlIGludG9cbiAqICAgIGFjY291bnQuXG4gKiBAcGFyYW0ge3N0cmluZz19IG5nQ2hhbmdlIEFuZ3VsYXIgZXhwcmVzc2lvbiB0byBiZSBleGVjdXRlZCB3aGVuIGlucHV0IGNoYW5nZXMgZHVlIHRvIHVzZXJcbiAqICAgIGludGVyYWN0aW9uIHdpdGggdGhlIGlucHV0IGVsZW1lbnQuXG4gKiBAcGFyYW0ge2Jvb2xlYW49fSBbbmdUcmltPXRydWVdIElmIHNldCB0byBmYWxzZSBBbmd1bGFyIHdpbGwgbm90IGF1dG9tYXRpY2FsbHkgdHJpbSB0aGUgaW5wdXQuXG4gKlxuICogQGtub3duSXNzdWVcbiAqXG4gKiBXaGVuIHNwZWNpZnlpbmcgdGhlIGBwbGFjZWhvbGRlcmAgYXR0cmlidXRlIG9mIGA8dGV4dGFyZWE+YCwgSW50ZXJuZXQgRXhwbG9yZXIgd2lsbCB0ZW1wb3JhcmlseVxuICogaW5zZXJ0IHRoZSBwbGFjZWhvbGRlciB2YWx1ZSBhcyB0aGUgdGV4dGFyZWEncyBjb250ZW50LiBJZiB0aGUgcGxhY2Vob2xkZXIgdmFsdWUgY29udGFpbnNcbiAqIGludGVycG9sYXRpb24gKGB7eyAuLi4gfX1gKSwgYW4gZXJyb3Igd2lsbCBiZSBsb2dnZWQgaW4gdGhlIGNvbnNvbGUgd2hlbiBBbmd1bGFyIHRyaWVzIHRvIHVwZGF0ZVxuICogdGhlIHZhbHVlIG9mIHRoZSBieS10aGVuLXJlbW92ZWQgdGV4dCBub2RlLiBUaGlzIGRvZXNuJ3QgYWZmZWN0IHRoZSBmdW5jdGlvbmFsaXR5IG9mIHRoZVxuICogdGV4dGFyZWEsIGJ1dCBjYW4gYmUgdW5kZXNpcmFibGUuXG4gKlxuICogWW91IGNhbiB3b3JrIGFyb3VuZCB0aGlzIEludGVybmV0IEV4cGxvcmVyIGlzc3VlIGJ5IHVzaW5nIGBuZy1hdHRyLXBsYWNlaG9sZGVyYCBpbnN0ZWFkIG9mXG4gKiBgcGxhY2Vob2xkZXJgIG9uIHRleHRhcmVhcywgd2hlbmV2ZXIgeW91IG5lZWQgaW50ZXJwb2xhdGlvbiBpbiB0aGUgcGxhY2Vob2xkZXIgdmFsdWUuIFlvdSBjYW5cbiAqIGZpbmQgbW9yZSBkZXRhaWxzIG9uIGBuZ0F0dHJgIGluIHRoZVxuICogW0ludGVycG9sYXRpb25dKGd1aWRlL2ludGVycG9sYXRpb24jLW5nYXR0ci1mb3ItYmluZGluZy10by1hcmJpdHJhcnktYXR0cmlidXRlcykgc2VjdGlvbiBvZiB0aGVcbiAqIERldmVsb3BlciBHdWlkZS5cbiAqL1xuXG5cbi8qKlxuICogQG5nZG9jIGRpcmVjdGl2ZVxuICogQG5hbWUgaW5wdXRcbiAqIEByZXN0cmljdCBFXG4gKlxuICogQGRlc2NyaXB0aW9uXG4gKiBIVE1MIGlucHV0IGVsZW1lbnQgY29udHJvbC4gV2hlbiB1c2VkIHRvZ2V0aGVyIHdpdGgge0BsaW5rIG5nTW9kZWwgYG5nTW9kZWxgfSwgaXQgcHJvdmlkZXMgZGF0YS1iaW5kaW5nLFxuICogaW5wdXQgc3RhdGUgY29udHJvbCwgYW5kIHZhbGlkYXRpb24uXG4gKiBJbnB1dCBjb250cm9sIGZvbGxvd3MgSFRNTDUgaW5wdXQgdHlwZXMgYW5kIHBvbHlmaWxscyB0aGUgSFRNTDUgdmFsaWRhdGlvbiBiZWhhdmlvciBmb3Igb2xkZXIgYnJvd3NlcnMuXG4gKlxuICogPGRpdiBjbGFzcz1cImFsZXJ0IGFsZXJ0LXdhcm5pbmdcIj5cbiAqICoqTm90ZToqKiBOb3QgZXZlcnkgZmVhdHVyZSBvZmZlcmVkIGlzIGF2YWlsYWJsZSBmb3IgYWxsIGlucHV0IHR5cGVzLlxuICogU3BlY2lmaWNhbGx5LCBkYXRhIGJpbmRpbmcgYW5kIGV2ZW50IGhhbmRsaW5nIHZpYSBgbmctbW9kZWxgIGlzIHVuc3VwcG9ydGVkIGZvciBgaW5wdXRbZmlsZV1gLlxuICogPC9kaXY+XG4gKlxuICogQHBhcmFtIHtzdHJpbmd9IG5nTW9kZWwgQXNzaWduYWJsZSBhbmd1bGFyIGV4cHJlc3Npb24gdG8gZGF0YS1iaW5kIHRvLlxuICogQHBhcmFtIHtzdHJpbmc9fSBuYW1lIFByb3BlcnR5IG5hbWUgb2YgdGhlIGZvcm0gdW5kZXIgd2hpY2ggdGhlIGNvbnRyb2wgaXMgcHVibGlzaGVkLlxuICogQHBhcmFtIHtzdHJpbmc9fSByZXF1aXJlZCBTZXRzIGByZXF1aXJlZGAgdmFsaWRhdGlvbiBlcnJvciBrZXkgaWYgdGhlIHZhbHVlIGlzIG5vdCBlbnRlcmVkLlxuICogQHBhcmFtIHtib29sZWFuPX0gbmdSZXF1aXJlZCBTZXRzIGByZXF1aXJlZGAgYXR0cmlidXRlIGlmIHNldCB0byB0cnVlXG4gKiBAcGFyYW0ge251bWJlcj19IG5nTWlubGVuZ3RoIFNldHMgYG1pbmxlbmd0aGAgdmFsaWRhdGlvbiBlcnJvciBrZXkgaWYgdGhlIHZhbHVlIGlzIHNob3J0ZXIgdGhhblxuICogICAgbWlubGVuZ3RoLlxuICogQHBhcmFtIHtudW1iZXI9fSBuZ01heGxlbmd0aCBTZXRzIGBtYXhsZW5ndGhgIHZhbGlkYXRpb24gZXJyb3Iga2V5IGlmIHRoZSB2YWx1ZSBpcyBsb25nZXIgdGhhblxuICogICAgbWF4bGVuZ3RoLiBTZXR0aW5nIHRoZSBhdHRyaWJ1dGUgdG8gYSBuZWdhdGl2ZSBvciBub24tbnVtZXJpYyB2YWx1ZSwgYWxsb3dzIHZpZXcgdmFsdWVzIG9mIGFueVxuICogICAgbGVuZ3RoLlxuICogQHBhcmFtIHtzdHJpbmc9fSBuZ1BhdHRlcm4gU2V0cyBgcGF0dGVybmAgdmFsaWRhdGlvbiBlcnJvciBrZXkgaWYgdGhlIG5nTW9kZWwge0BsaW5rIG5nTW9kZWwuTmdNb2RlbENvbnRyb2xsZXIjJHZpZXdWYWx1ZSAkdmlld1ZhbHVlfVxuICogICAgdmFsdWUgZG9lcyBub3QgbWF0Y2ggYSBSZWdFeHAgZm91bmQgYnkgZXZhbHVhdGluZyB0aGUgQW5ndWxhciBleHByZXNzaW9uIGdpdmVuIGluIHRoZSBhdHRyaWJ1dGUgdmFsdWUuXG4gKiAgICBJZiB0aGUgZXhwcmVzc2lvbiBldmFsdWF0ZXMgdG8gYSBSZWdFeHAgb2JqZWN0LCB0aGVuIHRoaXMgaXMgdXNlZCBkaXJlY3RseS5cbiAqICAgIElmIHRoZSBleHByZXNzaW9uIGV2YWx1YXRlcyB0byBhIHN0cmluZywgdGhlbiBpdCB3aWxsIGJlIGNvbnZlcnRlZCB0byBhIFJlZ0V4cFxuICogICAgYWZ0ZXIgd3JhcHBpbmcgaXQgaW4gYF5gIGFuZCBgJGAgY2hhcmFjdGVycy4gRm9yIGluc3RhbmNlLCBgXCJhYmNcImAgd2lsbCBiZSBjb252ZXJ0ZWQgdG9cbiAqICAgIGBuZXcgUmVnRXhwKCdeYWJjJCcpYC48YnIgLz5cbiAqICAgICoqTm90ZToqKiBBdm9pZCB1c2luZyB0aGUgYGdgIGZsYWcgb24gdGhlIFJlZ0V4cCwgYXMgaXQgd2lsbCBjYXVzZSBlYWNoIHN1Y2Nlc3NpdmUgc2VhcmNoIHRvXG4gKiAgICBzdGFydCBhdCB0aGUgaW5kZXggb2YgdGhlIGxhc3Qgc2VhcmNoJ3MgbWF0Y2gsIHRodXMgbm90IHRha2luZyB0aGUgd2hvbGUgaW5wdXQgdmFsdWUgaW50b1xuICogICAgYWNjb3VudC5cbiAqIEBwYXJhbSB7c3RyaW5nPX0gbmdDaGFuZ2UgQW5ndWxhciBleHByZXNzaW9uIHRvIGJlIGV4ZWN1dGVkIHdoZW4gaW5wdXQgY2hhbmdlcyBkdWUgdG8gdXNlclxuICogICAgaW50ZXJhY3Rpb24gd2l0aCB0aGUgaW5wdXQgZWxlbWVudC5cbiAqIEBwYXJhbSB7Ym9vbGVhbj19IFtuZ1RyaW09dHJ1ZV0gSWYgc2V0IHRvIGZhbHNlIEFuZ3VsYXIgd2lsbCBub3QgYXV0b21hdGljYWxseSB0cmltIHRoZSBpbnB1dC5cbiAqICAgIFRoaXMgcGFyYW1ldGVyIGlzIGlnbm9yZWQgZm9yIGlucHV0W3R5cGU9cGFzc3dvcmRdIGNvbnRyb2xzLCB3aGljaCB3aWxsIG5ldmVyIHRyaW0gdGhlXG4gKiAgICBpbnB1dC5cbiAqXG4gKiBAZXhhbXBsZVxuICAgIDxleGFtcGxlIG5hbWU9XCJpbnB1dC1kaXJlY3RpdmVcIiBtb2R1bGU9XCJpbnB1dEV4YW1wbGVcIj5cbiAgICAgIDxmaWxlIG5hbWU9XCJpbmRleC5odG1sXCI+XG4gICAgICAgPHNjcmlwdD5cbiAgICAgICAgICBhbmd1bGFyLm1vZHVsZSgnaW5wdXRFeGFtcGxlJywgW10pXG4gICAgICAgICAgICAuY29udHJvbGxlcignRXhhbXBsZUNvbnRyb2xsZXInLCBbJyRzY29wZScsIGZ1bmN0aW9uKCRzY29wZSkge1xuICAgICAgICAgICAgICAkc2NvcGUudXNlciA9IHtuYW1lOiAnZ3Vlc3QnLCBsYXN0OiAndmlzaXRvcid9O1xuICAgICAgICAgICAgfV0pO1xuICAgICAgIDwvc2NyaXB0PlxuICAgICAgIDxkaXYgbmctY29udHJvbGxlcj1cIkV4YW1wbGVDb250cm9sbGVyXCI+XG4gICAgICAgICA8Zm9ybSBuYW1lPVwibXlGb3JtXCI+XG4gICAgICAgICAgIDxsYWJlbD5cbiAgICAgICAgICAgICAgVXNlciBuYW1lOlxuICAgICAgICAgICAgICA8aW5wdXQgdHlwZT1cInRleHRcIiBuYW1lPVwidXNlck5hbWVcIiBuZy1tb2RlbD1cInVzZXIubmFtZVwiIHJlcXVpcmVkPlxuICAgICAgICAgICA8L2xhYmVsPlxuICAgICAgICAgICA8ZGl2IHJvbGU9XCJhbGVydFwiPlxuICAgICAgICAgICAgIDxzcGFuIGNsYXNzPVwiZXJyb3JcIiBuZy1zaG93PVwibXlGb3JtLnVzZXJOYW1lLiRlcnJvci5yZXF1aXJlZFwiPlxuICAgICAgICAgICAgICBSZXF1aXJlZCE8L3NwYW4+XG4gICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICA8bGFiZWw+XG4gICAgICAgICAgICAgIExhc3QgbmFtZTpcbiAgICAgICAgICAgICAgPGlucHV0IHR5cGU9XCJ0ZXh0XCIgbmFtZT1cImxhc3ROYW1lXCIgbmctbW9kZWw9XCJ1c2VyLmxhc3RcIlxuICAgICAgICAgICAgICBuZy1taW5sZW5ndGg9XCIzXCIgbmctbWF4bGVuZ3RoPVwiMTBcIj5cbiAgICAgICAgICAgPC9sYWJlbD5cbiAgICAgICAgICAgPGRpdiByb2xlPVwiYWxlcnRcIj5cbiAgICAgICAgICAgICA8c3BhbiBjbGFzcz1cImVycm9yXCIgbmctc2hvdz1cIm15Rm9ybS5sYXN0TmFtZS4kZXJyb3IubWlubGVuZ3RoXCI+XG4gICAgICAgICAgICAgICBUb28gc2hvcnQhPC9zcGFuPlxuICAgICAgICAgICAgIDxzcGFuIGNsYXNzPVwiZXJyb3JcIiBuZy1zaG93PVwibXlGb3JtLmxhc3ROYW1lLiRlcnJvci5tYXhsZW5ndGhcIj5cbiAgICAgICAgICAgICAgIFRvbyBsb25nITwvc3Bhbj5cbiAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICA8L2Zvcm0+XG4gICAgICAgICA8aHI+XG4gICAgICAgICA8dHQ+dXNlciA9IHt7dXNlcn19PC90dD48YnIvPlxuICAgICAgICAgPHR0Pm15Rm9ybS51c2VyTmFtZS4kdmFsaWQgPSB7e215Rm9ybS51c2VyTmFtZS4kdmFsaWR9fTwvdHQ+PGJyLz5cbiAgICAgICAgIDx0dD5teUZvcm0udXNlck5hbWUuJGVycm9yID0ge3tteUZvcm0udXNlck5hbWUuJGVycm9yfX08L3R0Pjxici8+XG4gICAgICAgICA8dHQ+bXlGb3JtLmxhc3ROYW1lLiR2YWxpZCA9IHt7bXlGb3JtLmxhc3ROYW1lLiR2YWxpZH19PC90dD48YnIvPlxuICAgICAgICAgPHR0Pm15Rm9ybS5sYXN0TmFtZS4kZXJyb3IgPSB7e215Rm9ybS5sYXN0TmFtZS4kZXJyb3J9fTwvdHQ+PGJyLz5cbiAgICAgICAgIDx0dD5teUZvcm0uJHZhbGlkID0ge3tteUZvcm0uJHZhbGlkfX08L3R0Pjxici8+XG4gICAgICAgICA8dHQ+bXlGb3JtLiRlcnJvci5yZXF1aXJlZCA9IHt7ISFteUZvcm0uJGVycm9yLnJlcXVpcmVkfX08L3R0Pjxici8+XG4gICAgICAgICA8dHQ+bXlGb3JtLiRlcnJvci5taW5sZW5ndGggPSB7eyEhbXlGb3JtLiRlcnJvci5taW5sZW5ndGh9fTwvdHQ+PGJyLz5cbiAgICAgICAgIDx0dD5teUZvcm0uJGVycm9yLm1heGxlbmd0aCA9IHt7ISFteUZvcm0uJGVycm9yLm1heGxlbmd0aH19PC90dD48YnIvPlxuICAgICAgIDwvZGl2PlxuICAgICAgPC9maWxlPlxuICAgICAgPGZpbGUgbmFtZT1cInByb3RyYWN0b3IuanNcIiB0eXBlPVwicHJvdHJhY3RvclwiPlxuICAgICAgICB2YXIgdXNlciA9IGVsZW1lbnQoYnkuZXhhY3RCaW5kaW5nKCd1c2VyJykpO1xuICAgICAgICB2YXIgdXNlck5hbWVWYWxpZCA9IGVsZW1lbnQoYnkuYmluZGluZygnbXlGb3JtLnVzZXJOYW1lLiR2YWxpZCcpKTtcbiAgICAgICAgdmFyIGxhc3ROYW1lVmFsaWQgPSBlbGVtZW50KGJ5LmJpbmRpbmcoJ215Rm9ybS5sYXN0TmFtZS4kdmFsaWQnKSk7XG4gICAgICAgIHZhciBsYXN0TmFtZUVycm9yID0gZWxlbWVudChieS5iaW5kaW5nKCdteUZvcm0ubGFzdE5hbWUuJGVycm9yJykpO1xuICAgICAgICB2YXIgZm9ybVZhbGlkID0gZWxlbWVudChieS5iaW5kaW5nKCdteUZvcm0uJHZhbGlkJykpO1xuICAgICAgICB2YXIgdXNlck5hbWVJbnB1dCA9IGVsZW1lbnQoYnkubW9kZWwoJ3VzZXIubmFtZScpKTtcbiAgICAgICAgdmFyIHVzZXJMYXN0SW5wdXQgPSBlbGVtZW50KGJ5Lm1vZGVsKCd1c2VyLmxhc3QnKSk7XG5cbiAgICAgICAgaXQoJ3Nob3VsZCBpbml0aWFsaXplIHRvIG1vZGVsJywgZnVuY3Rpb24oKSB7XG4gICAgICAgICAgZXhwZWN0KHVzZXIuZ2V0VGV4dCgpKS50b0NvbnRhaW4oJ3tcIm5hbWVcIjpcImd1ZXN0XCIsXCJsYXN0XCI6XCJ2aXNpdG9yXCJ9Jyk7XG4gICAgICAgICAgZXhwZWN0KHVzZXJOYW1lVmFsaWQuZ2V0VGV4dCgpKS50b0NvbnRhaW4oJ3RydWUnKTtcbiAgICAgICAgICBleHBlY3QoZm9ybVZhbGlkLmdldFRleHQoKSkudG9Db250YWluKCd0cnVlJyk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIGl0KCdzaG91bGQgYmUgaW52YWxpZCBpZiBlbXB0eSB3aGVuIHJlcXVpcmVkJywgZnVuY3Rpb24oKSB7XG4gICAgICAgICAgdXNlck5hbWVJbnB1dC5jbGVhcigpO1xuICAgICAgICAgIHVzZXJOYW1lSW5wdXQuc2VuZEtleXMoJycpO1xuXG4gICAgICAgICAgZXhwZWN0KHVzZXIuZ2V0VGV4dCgpKS50b0NvbnRhaW4oJ3tcImxhc3RcIjpcInZpc2l0b3JcIn0nKTtcbiAgICAgICAgICBleHBlY3QodXNlck5hbWVWYWxpZC5nZXRUZXh0KCkpLnRvQ29udGFpbignZmFsc2UnKTtcbiAgICAgICAgICBleHBlY3QoZm9ybVZhbGlkLmdldFRleHQoKSkudG9Db250YWluKCdmYWxzZScpO1xuICAgICAgICB9KTtcblxuICAgICAgICBpdCgnc2hvdWxkIGJlIHZhbGlkIGlmIGVtcHR5IHdoZW4gbWluIGxlbmd0aCBpcyBzZXQnLCBmdW5jdGlvbigpIHtcbiAgICAgICAgICB1c2VyTGFzdElucHV0LmNsZWFyKCk7XG4gICAgICAgICAgdXNlckxhc3RJbnB1dC5zZW5kS2V5cygnJyk7XG5cbiAgICAgICAgICBleHBlY3QodXNlci5nZXRUZXh0KCkpLnRvQ29udGFpbigne1wibmFtZVwiOlwiZ3Vlc3RcIixcImxhc3RcIjpcIlwifScpO1xuICAgICAgICAgIGV4cGVjdChsYXN0TmFtZVZhbGlkLmdldFRleHQoKSkudG9Db250YWluKCd0cnVlJyk7XG4gICAgICAgICAgZXhwZWN0KGZvcm1WYWxpZC5nZXRUZXh0KCkpLnRvQ29udGFpbigndHJ1ZScpO1xuICAgICAgICB9KTtcblxuICAgICAgICBpdCgnc2hvdWxkIGJlIGludmFsaWQgaWYgbGVzcyB0aGFuIHJlcXVpcmVkIG1pbiBsZW5ndGgnLCBmdW5jdGlvbigpIHtcbiAgICAgICAgICB1c2VyTGFzdElucHV0LmNsZWFyKCk7XG4gICAgICAgICAgdXNlckxhc3RJbnB1dC5zZW5kS2V5cygneHgnKTtcblxuICAgICAgICAgIGV4cGVjdCh1c2VyLmdldFRleHQoKSkudG9Db250YWluKCd7XCJuYW1lXCI6XCJndWVzdFwifScpO1xuICAgICAgICAgIGV4cGVjdChsYXN0TmFtZVZhbGlkLmdldFRleHQoKSkudG9Db250YWluKCdmYWxzZScpO1xuICAgICAgICAgIGV4cGVjdChsYXN0TmFtZUVycm9yLmdldFRleHQoKSkudG9Db250YWluKCdtaW5sZW5ndGgnKTtcbiAgICAgICAgICBleHBlY3QoZm9ybVZhbGlkLmdldFRleHQoKSkudG9Db250YWluKCdmYWxzZScpO1xuICAgICAgICB9KTtcblxuICAgICAgICBpdCgnc2hvdWxkIGJlIGludmFsaWQgaWYgbG9uZ2VyIHRoYW4gbWF4IGxlbmd0aCcsIGZ1bmN0aW9uKCkge1xuICAgICAgICAgIHVzZXJMYXN0SW5wdXQuY2xlYXIoKTtcbiAgICAgICAgICB1c2VyTGFzdElucHV0LnNlbmRLZXlzKCdzb21lIHJpZGljdWxvdXNseSBsb25nIG5hbWUnKTtcblxuICAgICAgICAgIGV4cGVjdCh1c2VyLmdldFRleHQoKSkudG9Db250YWluKCd7XCJuYW1lXCI6XCJndWVzdFwifScpO1xuICAgICAgICAgIGV4cGVjdChsYXN0TmFtZVZhbGlkLmdldFRleHQoKSkudG9Db250YWluKCdmYWxzZScpO1xuICAgICAgICAgIGV4cGVjdChsYXN0TmFtZUVycm9yLmdldFRleHQoKSkudG9Db250YWluKCdtYXhsZW5ndGgnKTtcbiAgICAgICAgICBleHBlY3QoZm9ybVZhbGlkLmdldFRleHQoKSkudG9Db250YWluKCdmYWxzZScpO1xuICAgICAgICB9KTtcbiAgICAgIDwvZmlsZT5cbiAgICA8L2V4YW1wbGU+XG4gKi9cbnZhciBpbnB1dERpcmVjdGl2ZSA9IFsnJGJyb3dzZXInLCAnJHNuaWZmZXInLCAnJGZpbHRlcicsICckcGFyc2UnLFxuICAgIGZ1bmN0aW9uKCRicm93c2VyLCAkc25pZmZlciwgJGZpbHRlciwgJHBhcnNlKSB7XG4gIHJldHVybiB7XG4gICAgcmVzdHJpY3Q6ICdFJyxcbiAgICByZXF1aXJlOiBbJz9uZ01vZGVsJ10sXG4gICAgbGluazoge1xuICAgICAgcHJlOiBmdW5jdGlvbihzY29wZSwgZWxlbWVudCwgYXR0ciwgY3RybHMpIHtcbiAgICAgICAgaWYgKGN0cmxzWzBdKSB7XG4gICAgICAgICAgKGlucHV0VHlwZVtsb3dlcmNhc2UoYXR0ci50eXBlKV0gfHwgaW5wdXRUeXBlLnRleHQpKHNjb3BlLCBlbGVtZW50LCBhdHRyLCBjdHJsc1swXSwgJHNuaWZmZXIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRicm93c2VyLCAkZmlsdGVyLCAkcGFyc2UpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9O1xufV07XG5cblxuXG52YXIgQ09OU1RBTlRfVkFMVUVfUkVHRVhQID0gL14odHJ1ZXxmYWxzZXxcXGQrKSQvO1xuLyoqXG4gKiBAbmdkb2MgZGlyZWN0aXZlXG4gKiBAbmFtZSBuZ1ZhbHVlXG4gKlxuICogQGRlc2NyaXB0aW9uXG4gKiBCaW5kcyB0aGUgZ2l2ZW4gZXhwcmVzc2lvbiB0byB0aGUgdmFsdWUgb2YgdGhlIGVsZW1lbnQuXG4gKlxuICogSXQgaXMgbWFpbmx5IHVzZWQgb24ge0BsaW5rIGlucHV0W3JhZGlvXSBgaW5wdXRbcmFkaW9dYH0gYW5kIG9wdGlvbiBlbGVtZW50cyxcbiAqIHNvIHRoYXQgd2hlbiB0aGUgZWxlbWVudCBpcyBzZWxlY3RlZCwgdGhlIHtAbGluayBuZ01vZGVsIGBuZ01vZGVsYH0gb2YgdGhhdCBlbGVtZW50IChvciBpdHNcbiAqIHtAbGluayBzZWxlY3QgYHNlbGVjdGB9IHBhcmVudCBlbGVtZW50KSBpcyBzZXQgdG8gdGhlIGJvdW5kIHZhbHVlLiBJdCBpcyBlc3BlY2lhbGx5IHVzZWZ1bFxuICogZm9yIGR5bmFtaWNhbGx5IGdlbmVyYXRlZCBsaXN0cyB1c2luZyB7QGxpbmsgbmdSZXBlYXQgYG5nUmVwZWF0YH0sIGFzIHNob3duIGJlbG93LlxuICpcbiAqIEl0IGNhbiBhbHNvIGJlIHVzZWQgdG8gYWNoaWV2ZSBvbmUtd2F5IGJpbmRpbmcgb2YgYSBnaXZlbiBleHByZXNzaW9uIHRvIGFuIGlucHV0IGVsZW1lbnRcbiAqIHN1Y2ggYXMgYW4gYGlucHV0W3RleHRdYCBvciBhIGB0ZXh0YXJlYWAsIHdoZW4gdGhhdCBlbGVtZW50IGRvZXMgbm90IHVzZSBuZ01vZGVsLlxuICpcbiAqIEBlbGVtZW50IGlucHV0XG4gKiBAcGFyYW0ge3N0cmluZz19IG5nVmFsdWUgYW5ndWxhciBleHByZXNzaW9uLCB3aG9zZSB2YWx1ZSB3aWxsIGJlIGJvdW5kIHRvIHRoZSBgdmFsdWVgIGF0dHJpYnV0ZVxuICogYW5kIGB2YWx1ZWAgcHJvcGVydHkgb2YgdGhlIGVsZW1lbnQuXG4gKlxuICogQGV4YW1wbGVcbiAgICA8ZXhhbXBsZSBuYW1lPVwibmdWYWx1ZS1kaXJlY3RpdmVcIiBtb2R1bGU9XCJ2YWx1ZUV4YW1wbGVcIj5cbiAgICAgIDxmaWxlIG5hbWU9XCJpbmRleC5odG1sXCI+XG4gICAgICAgPHNjcmlwdD5cbiAgICAgICAgICBhbmd1bGFyLm1vZHVsZSgndmFsdWVFeGFtcGxlJywgW10pXG4gICAgICAgICAgICAuY29udHJvbGxlcignRXhhbXBsZUNvbnRyb2xsZXInLCBbJyRzY29wZScsIGZ1bmN0aW9uKCRzY29wZSkge1xuICAgICAgICAgICAgICAkc2NvcGUubmFtZXMgPSBbJ3BpenphJywgJ3VuaWNvcm5zJywgJ3JvYm90cyddO1xuICAgICAgICAgICAgICAkc2NvcGUubXkgPSB7IGZhdm9yaXRlOiAndW5pY29ybnMnIH07XG4gICAgICAgICAgICB9XSk7XG4gICAgICAgPC9zY3JpcHQ+XG4gICAgICAgIDxmb3JtIG5nLWNvbnRyb2xsZXI9XCJFeGFtcGxlQ29udHJvbGxlclwiPlxuICAgICAgICAgIDxoMj5XaGljaCBpcyB5b3VyIGZhdm9yaXRlPzwvaDI+XG4gICAgICAgICAgICA8bGFiZWwgbmctcmVwZWF0PVwibmFtZSBpbiBuYW1lc1wiIGZvcj1cInt7bmFtZX19XCI+XG4gICAgICAgICAgICAgIHt7bmFtZX19XG4gICAgICAgICAgICAgIDxpbnB1dCB0eXBlPVwicmFkaW9cIlxuICAgICAgICAgICAgICAgICAgICAgbmctbW9kZWw9XCJteS5mYXZvcml0ZVwiXG4gICAgICAgICAgICAgICAgICAgICBuZy12YWx1ZT1cIm5hbWVcIlxuICAgICAgICAgICAgICAgICAgICAgaWQ9XCJ7e25hbWV9fVwiXG4gICAgICAgICAgICAgICAgICAgICBuYW1lPVwiZmF2b3JpdGVcIj5cbiAgICAgICAgICAgIDwvbGFiZWw+XG4gICAgICAgICAgPGRpdj5Zb3UgY2hvc2Uge3tteS5mYXZvcml0ZX19PC9kaXY+XG4gICAgICAgIDwvZm9ybT5cbiAgICAgIDwvZmlsZT5cbiAgICAgIDxmaWxlIG5hbWU9XCJwcm90cmFjdG9yLmpzXCIgdHlwZT1cInByb3RyYWN0b3JcIj5cbiAgICAgICAgdmFyIGZhdm9yaXRlID0gZWxlbWVudChieS5iaW5kaW5nKCdteS5mYXZvcml0ZScpKTtcblxuICAgICAgICBpdCgnc2hvdWxkIGluaXRpYWxpemUgdG8gbW9kZWwnLCBmdW5jdGlvbigpIHtcbiAgICAgICAgICBleHBlY3QoZmF2b3JpdGUuZ2V0VGV4dCgpKS50b0NvbnRhaW4oJ3VuaWNvcm5zJyk7XG4gICAgICAgIH0pO1xuICAgICAgICBpdCgnc2hvdWxkIGJpbmQgdGhlIHZhbHVlcyB0byB0aGUgaW5wdXRzJywgZnVuY3Rpb24oKSB7XG4gICAgICAgICAgZWxlbWVudC5hbGwoYnkubW9kZWwoJ215LmZhdm9yaXRlJykpLmdldCgwKS5jbGljaygpO1xuICAgICAgICAgIGV4cGVjdChmYXZvcml0ZS5nZXRUZXh0KCkpLnRvQ29udGFpbigncGl6emEnKTtcbiAgICAgICAgfSk7XG4gICAgICA8L2ZpbGU+XG4gICAgPC9leGFtcGxlPlxuICovXG52YXIgbmdWYWx1ZURpcmVjdGl2ZSA9IGZ1bmN0aW9uKCkge1xuICAvKipcbiAgICogIGlucHV0cyB1c2UgdGhlIHZhbHVlIGF0dHJpYnV0ZSBhcyB0aGVpciBkZWZhdWx0IHZhbHVlIGlmIHRoZSB2YWx1ZSBwcm9wZXJ0eSBpcyBub3Qgc2V0LlxuICAgKiAgT25jZSB0aGUgdmFsdWUgcHJvcGVydHkgaGFzIGJlZW4gc2V0IChieSBhZGRpbmcgaW5wdXQpLCBpdCB3aWxsIG5vdCByZWFjdCB0byBjaGFuZ2VzIHRvXG4gICAqICB0aGUgdmFsdWUgYXR0cmlidXRlIGFueW1vcmUuIFNldHRpbmcgYm90aCBhdHRyaWJ1dGUgYW5kIHByb3BlcnR5IGZpeGVzIHRoaXMgYmVoYXZpb3IsIGFuZFxuICAgKiAgbWFrZXMgaXQgcG9zc2libGUgdG8gdXNlIG5nVmFsdWUgYXMgYSBzb3J0IG9mIG9uZS13YXkgYmluZC5cbiAgICovXG4gIGZ1bmN0aW9uIHVwZGF0ZUVsZW1lbnRWYWx1ZShlbGVtZW50LCBhdHRyLCB2YWx1ZSkge1xuICAgIC8vIFN1cHBvcnQ6IElFOSBvbmx5XG4gICAgLy8gSW4gSUU5IHZhbHVlcyBhcmUgY29udmVydGVkIHRvIHN0cmluZyAoZS5nLiBgaW5wdXQudmFsdWUgPSBudWxsYCByZXN1bHRzIGluIGBpbnB1dC52YWx1ZSA9PT0gJ251bGwnYCkuXG4gICAgdmFyIHByb3BWYWx1ZSA9IGlzRGVmaW5lZCh2YWx1ZSkgPyB2YWx1ZSA6IChtc2llID09PSA5KSA/ICcnIDogbnVsbDtcbiAgICBlbGVtZW50LnByb3AoJ3ZhbHVlJywgcHJvcFZhbHVlKTtcbiAgICBhdHRyLiRzZXQoJ3ZhbHVlJywgdmFsdWUpO1xuICB9XG5cbiAgcmV0dXJuIHtcbiAgICByZXN0cmljdDogJ0EnLFxuICAgIHByaW9yaXR5OiAxMDAsXG4gICAgY29tcGlsZTogZnVuY3Rpb24odHBsLCB0cGxBdHRyKSB7XG4gICAgICBpZiAoQ09OU1RBTlRfVkFMVUVfUkVHRVhQLnRlc3QodHBsQXR0ci5uZ1ZhbHVlKSkge1xuICAgICAgICByZXR1cm4gZnVuY3Rpb24gbmdWYWx1ZUNvbnN0YW50TGluayhzY29wZSwgZWxtLCBhdHRyKSB7XG4gICAgICAgICAgdmFyIHZhbHVlID0gc2NvcGUuJGV2YWwoYXR0ci5uZ1ZhbHVlKTtcbiAgICAgICAgICB1cGRhdGVFbGVtZW50VmFsdWUoZWxtLCBhdHRyLCB2YWx1ZSk7XG4gICAgICAgIH07XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gZnVuY3Rpb24gbmdWYWx1ZUxpbmsoc2NvcGUsIGVsbSwgYXR0cikge1xuICAgICAgICAgIHNjb3BlLiR3YXRjaChhdHRyLm5nVmFsdWUsIGZ1bmN0aW9uIHZhbHVlV2F0Y2hBY3Rpb24odmFsdWUpIHtcbiAgICAgICAgICAgIHVwZGF0ZUVsZW1lbnRWYWx1ZShlbG0sIGF0dHIsIHZhbHVlKTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgfTtcbiAgICAgIH1cbiAgICB9XG4gIH07XG59O1xuXG4vKipcbiAqIEBuZ2RvYyBkaXJlY3RpdmVcbiAqIEBuYW1lIG5nQmluZFxuICogQHJlc3RyaWN0IEFDXG4gKlxuICogQGRlc2NyaXB0aW9uXG4gKiBUaGUgYG5nQmluZGAgYXR0cmlidXRlIHRlbGxzIEFuZ3VsYXIgdG8gcmVwbGFjZSB0aGUgdGV4dCBjb250ZW50IG9mIHRoZSBzcGVjaWZpZWQgSFRNTCBlbGVtZW50XG4gKiB3aXRoIHRoZSB2YWx1ZSBvZiBhIGdpdmVuIGV4cHJlc3Npb24sIGFuZCB0byB1cGRhdGUgdGhlIHRleHQgY29udGVudCB3aGVuIHRoZSB2YWx1ZSBvZiB0aGF0XG4gKiBleHByZXNzaW9uIGNoYW5nZXMuXG4gKlxuICogVHlwaWNhbGx5LCB5b3UgZG9uJ3QgdXNlIGBuZ0JpbmRgIGRpcmVjdGx5LCBidXQgaW5zdGVhZCB5b3UgdXNlIHRoZSBkb3VibGUgY3VybHkgbWFya3VwIGxpa2VcbiAqIGB7eyBleHByZXNzaW9uIH19YCB3aGljaCBpcyBzaW1pbGFyIGJ1dCBsZXNzIHZlcmJvc2UuXG4gKlxuICogSXQgaXMgcHJlZmVyYWJsZSB0byB1c2UgYG5nQmluZGAgaW5zdGVhZCBvZiBge3sgZXhwcmVzc2lvbiB9fWAgaWYgYSB0ZW1wbGF0ZSBpcyBtb21lbnRhcmlseVxuICogZGlzcGxheWVkIGJ5IHRoZSBicm93c2VyIGluIGl0cyByYXcgc3RhdGUgYmVmb3JlIEFuZ3VsYXIgY29tcGlsZXMgaXQuIFNpbmNlIGBuZ0JpbmRgIGlzIGFuXG4gKiBlbGVtZW50IGF0dHJpYnV0ZSwgaXQgbWFrZXMgdGhlIGJpbmRpbmdzIGludmlzaWJsZSB0byB0aGUgdXNlciB3aGlsZSB0aGUgcGFnZSBpcyBsb2FkaW5nLlxuICpcbiAqIEFuIGFsdGVybmF0aXZlIHNvbHV0aW9uIHRvIHRoaXMgcHJvYmxlbSB3b3VsZCBiZSB1c2luZyB0aGVcbiAqIHtAbGluayBuZy5kaXJlY3RpdmU6bmdDbG9hayBuZ0Nsb2FrfSBkaXJlY3RpdmUuXG4gKlxuICpcbiAqIEBlbGVtZW50IEFOWVxuICogQHBhcmFtIHtleHByZXNzaW9ufSBuZ0JpbmQge0BsaW5rIGd1aWRlL2V4cHJlc3Npb24gRXhwcmVzc2lvbn0gdG8gZXZhbHVhdGUuXG4gKlxuICogQGV4YW1wbGVcbiAqIEVudGVyIGEgbmFtZSBpbiB0aGUgTGl2ZSBQcmV2aWV3IHRleHQgYm94OyB0aGUgZ3JlZXRpbmcgYmVsb3cgdGhlIHRleHQgYm94IGNoYW5nZXMgaW5zdGFudGx5LlxuICAgPGV4YW1wbGUgbW9kdWxlPVwiYmluZEV4YW1wbGVcIiBuYW1lPVwibmctYmluZFwiPlxuICAgICA8ZmlsZSBuYW1lPVwiaW5kZXguaHRtbFwiPlxuICAgICAgIDxzY3JpcHQ+XG4gICAgICAgICBhbmd1bGFyLm1vZHVsZSgnYmluZEV4YW1wbGUnLCBbXSlcbiAgICAgICAgICAgLmNvbnRyb2xsZXIoJ0V4YW1wbGVDb250cm9sbGVyJywgWyckc2NvcGUnLCBmdW5jdGlvbigkc2NvcGUpIHtcbiAgICAgICAgICAgICAkc2NvcGUubmFtZSA9ICdXaGlybGVkJztcbiAgICAgICAgICAgfV0pO1xuICAgICAgIDwvc2NyaXB0PlxuICAgICAgIDxkaXYgbmctY29udHJvbGxlcj1cIkV4YW1wbGVDb250cm9sbGVyXCI+XG4gICAgICAgICA8bGFiZWw+RW50ZXIgbmFtZTogPGlucHV0IHR5cGU9XCJ0ZXh0XCIgbmctbW9kZWw9XCJuYW1lXCI+PC9sYWJlbD48YnI+XG4gICAgICAgICBIZWxsbyA8c3BhbiBuZy1iaW5kPVwibmFtZVwiPjwvc3Bhbj4hXG4gICAgICAgPC9kaXY+XG4gICAgIDwvZmlsZT5cbiAgICAgPGZpbGUgbmFtZT1cInByb3RyYWN0b3IuanNcIiB0eXBlPVwicHJvdHJhY3RvclwiPlxuICAgICAgIGl0KCdzaG91bGQgY2hlY2sgbmctYmluZCcsIGZ1bmN0aW9uKCkge1xuICAgICAgICAgdmFyIG5hbWVJbnB1dCA9IGVsZW1lbnQoYnkubW9kZWwoJ25hbWUnKSk7XG5cbiAgICAgICAgIGV4cGVjdChlbGVtZW50KGJ5LmJpbmRpbmcoJ25hbWUnKSkuZ2V0VGV4dCgpKS50b0JlKCdXaGlybGVkJyk7XG4gICAgICAgICBuYW1lSW5wdXQuY2xlYXIoKTtcbiAgICAgICAgIG5hbWVJbnB1dC5zZW5kS2V5cygnd29ybGQnKTtcbiAgICAgICAgIGV4cGVjdChlbGVtZW50KGJ5LmJpbmRpbmcoJ25hbWUnKSkuZ2V0VGV4dCgpKS50b0JlKCd3b3JsZCcpO1xuICAgICAgIH0pO1xuICAgICA8L2ZpbGU+XG4gICA8L2V4YW1wbGU+XG4gKi9cbnZhciBuZ0JpbmREaXJlY3RpdmUgPSBbJyRjb21waWxlJywgZnVuY3Rpb24oJGNvbXBpbGUpIHtcbiAgcmV0dXJuIHtcbiAgICByZXN0cmljdDogJ0FDJyxcbiAgICBjb21waWxlOiBmdW5jdGlvbiBuZ0JpbmRDb21waWxlKHRlbXBsYXRlRWxlbWVudCkge1xuICAgICAgJGNvbXBpbGUuJCRhZGRCaW5kaW5nQ2xhc3ModGVtcGxhdGVFbGVtZW50KTtcbiAgICAgIHJldHVybiBmdW5jdGlvbiBuZ0JpbmRMaW5rKHNjb3BlLCBlbGVtZW50LCBhdHRyKSB7XG4gICAgICAgICRjb21waWxlLiQkYWRkQmluZGluZ0luZm8oZWxlbWVudCwgYXR0ci5uZ0JpbmQpO1xuICAgICAgICBlbGVtZW50ID0gZWxlbWVudFswXTtcbiAgICAgICAgc2NvcGUuJHdhdGNoKGF0dHIubmdCaW5kLCBmdW5jdGlvbiBuZ0JpbmRXYXRjaEFjdGlvbih2YWx1ZSkge1xuICAgICAgICAgIGVsZW1lbnQudGV4dENvbnRlbnQgPSBzdHJpbmdpZnkodmFsdWUpO1xuICAgICAgICB9KTtcbiAgICAgIH07XG4gICAgfVxuICB9O1xufV07XG5cblxuLyoqXG4gKiBAbmdkb2MgZGlyZWN0aXZlXG4gKiBAbmFtZSBuZ0JpbmRUZW1wbGF0ZVxuICpcbiAqIEBkZXNjcmlwdGlvblxuICogVGhlIGBuZ0JpbmRUZW1wbGF0ZWAgZGlyZWN0aXZlIHNwZWNpZmllcyB0aGF0IHRoZSBlbGVtZW50XG4gKiB0ZXh0IGNvbnRlbnQgc2hvdWxkIGJlIHJlcGxhY2VkIHdpdGggdGhlIGludGVycG9sYXRpb24gb2YgdGhlIHRlbXBsYXRlXG4gKiBpbiB0aGUgYG5nQmluZFRlbXBsYXRlYCBhdHRyaWJ1dGUuXG4gKiBVbmxpa2UgYG5nQmluZGAsIHRoZSBgbmdCaW5kVGVtcGxhdGVgIGNhbiBjb250YWluIG11bHRpcGxlIGB7e2AgYH19YFxuICogZXhwcmVzc2lvbnMuIFRoaXMgZGlyZWN0aXZlIGlzIG5lZWRlZCBzaW5jZSBzb21lIEhUTUwgZWxlbWVudHNcbiAqIChzdWNoIGFzIFRJVExFIGFuZCBPUFRJT04pIGNhbm5vdCBjb250YWluIFNQQU4gZWxlbWVudHMuXG4gKlxuICogQGVsZW1lbnQgQU5ZXG4gKiBAcGFyYW0ge3N0cmluZ30gbmdCaW5kVGVtcGxhdGUgdGVtcGxhdGUgb2YgZm9ybVxuICogICA8dHQ+e3s8L3R0PiA8dHQ+ZXhwcmVzc2lvbjwvdHQ+IDx0dD59fTwvdHQ+IHRvIGV2YWwuXG4gKlxuICogQGV4YW1wbGVcbiAqIFRyeSBpdCBoZXJlOiBlbnRlciB0ZXh0IGluIHRleHQgYm94IGFuZCB3YXRjaCB0aGUgZ3JlZXRpbmcgY2hhbmdlLlxuICAgPGV4YW1wbGUgbW9kdWxlPVwiYmluZEV4YW1wbGVcIiBuYW1lPVwibmctYmluZC10ZW1wbGF0ZVwiPlxuICAgICA8ZmlsZSBuYW1lPVwiaW5kZXguaHRtbFwiPlxuICAgICAgIDxzY3JpcHQ+XG4gICAgICAgICBhbmd1bGFyLm1vZHVsZSgnYmluZEV4YW1wbGUnLCBbXSlcbiAgICAgICAgICAgLmNvbnRyb2xsZXIoJ0V4YW1wbGVDb250cm9sbGVyJywgWyckc2NvcGUnLCBmdW5jdGlvbigkc2NvcGUpIHtcbiAgICAgICAgICAgICAkc2NvcGUuc2FsdXRhdGlvbiA9ICdIZWxsbyc7XG4gICAgICAgICAgICAgJHNjb3BlLm5hbWUgPSAnV29ybGQnO1xuICAgICAgICAgICB9XSk7XG4gICAgICAgPC9zY3JpcHQ+XG4gICAgICAgPGRpdiBuZy1jb250cm9sbGVyPVwiRXhhbXBsZUNvbnRyb2xsZXJcIj5cbiAgICAgICAgPGxhYmVsPlNhbHV0YXRpb246IDxpbnB1dCB0eXBlPVwidGV4dFwiIG5nLW1vZGVsPVwic2FsdXRhdGlvblwiPjwvbGFiZWw+PGJyPlxuICAgICAgICA8bGFiZWw+TmFtZTogPGlucHV0IHR5cGU9XCJ0ZXh0XCIgbmctbW9kZWw9XCJuYW1lXCI+PC9sYWJlbD48YnI+XG4gICAgICAgIDxwcmUgbmctYmluZC10ZW1wbGF0ZT1cInt7c2FsdXRhdGlvbn19IHt7bmFtZX19IVwiPjwvcHJlPlxuICAgICAgIDwvZGl2PlxuICAgICA8L2ZpbGU+XG4gICAgIDxmaWxlIG5hbWU9XCJwcm90cmFjdG9yLmpzXCIgdHlwZT1cInByb3RyYWN0b3JcIj5cbiAgICAgICBpdCgnc2hvdWxkIGNoZWNrIG5nLWJpbmQnLCBmdW5jdGlvbigpIHtcbiAgICAgICAgIHZhciBzYWx1dGF0aW9uRWxlbSA9IGVsZW1lbnQoYnkuYmluZGluZygnc2FsdXRhdGlvbicpKTtcbiAgICAgICAgIHZhciBzYWx1dGF0aW9uSW5wdXQgPSBlbGVtZW50KGJ5Lm1vZGVsKCdzYWx1dGF0aW9uJykpO1xuICAgICAgICAgdmFyIG5hbWVJbnB1dCA9IGVsZW1lbnQoYnkubW9kZWwoJ25hbWUnKSk7XG5cbiAgICAgICAgIGV4cGVjdChzYWx1dGF0aW9uRWxlbS5nZXRUZXh0KCkpLnRvQmUoJ0hlbGxvIFdvcmxkIScpO1xuXG4gICAgICAgICBzYWx1dGF0aW9uSW5wdXQuY2xlYXIoKTtcbiAgICAgICAgIHNhbHV0YXRpb25JbnB1dC5zZW5kS2V5cygnR3JlZXRpbmdzJyk7XG4gICAgICAgICBuYW1lSW5wdXQuY2xlYXIoKTtcbiAgICAgICAgIG5hbWVJbnB1dC5zZW5kS2V5cygndXNlcicpO1xuXG4gICAgICAgICBleHBlY3Qoc2FsdXRhdGlvbkVsZW0uZ2V0VGV4dCgpKS50b0JlKCdHcmVldGluZ3MgdXNlciEnKTtcbiAgICAgICB9KTtcbiAgICAgPC9maWxlPlxuICAgPC9leGFtcGxlPlxuICovXG52YXIgbmdCaW5kVGVtcGxhdGVEaXJlY3RpdmUgPSBbJyRpbnRlcnBvbGF0ZScsICckY29tcGlsZScsIGZ1bmN0aW9uKCRpbnRlcnBvbGF0ZSwgJGNvbXBpbGUpIHtcbiAgcmV0dXJuIHtcbiAgICBjb21waWxlOiBmdW5jdGlvbiBuZ0JpbmRUZW1wbGF0ZUNvbXBpbGUodGVtcGxhdGVFbGVtZW50KSB7XG4gICAgICAkY29tcGlsZS4kJGFkZEJpbmRpbmdDbGFzcyh0ZW1wbGF0ZUVsZW1lbnQpO1xuICAgICAgcmV0dXJuIGZ1bmN0aW9uIG5nQmluZFRlbXBsYXRlTGluayhzY29wZSwgZWxlbWVudCwgYXR0cikge1xuICAgICAgICB2YXIgaW50ZXJwb2xhdGVGbiA9ICRpbnRlcnBvbGF0ZShlbGVtZW50LmF0dHIoYXR0ci4kYXR0ci5uZ0JpbmRUZW1wbGF0ZSkpO1xuICAgICAgICAkY29tcGlsZS4kJGFkZEJpbmRpbmdJbmZvKGVsZW1lbnQsIGludGVycG9sYXRlRm4uZXhwcmVzc2lvbnMpO1xuICAgICAgICBlbGVtZW50ID0gZWxlbWVudFswXTtcbiAgICAgICAgYXR0ci4kb2JzZXJ2ZSgnbmdCaW5kVGVtcGxhdGUnLCBmdW5jdGlvbih2YWx1ZSkge1xuICAgICAgICAgIGVsZW1lbnQudGV4dENvbnRlbnQgPSBpc1VuZGVmaW5lZCh2YWx1ZSkgPyAnJyA6IHZhbHVlO1xuICAgICAgICB9KTtcbiAgICAgIH07XG4gICAgfVxuICB9O1xufV07XG5cblxuLyoqXG4gKiBAbmdkb2MgZGlyZWN0aXZlXG4gKiBAbmFtZSBuZ0JpbmRIdG1sXG4gKlxuICogQGRlc2NyaXB0aW9uXG4gKiBFdmFsdWF0ZXMgdGhlIGV4cHJlc3Npb24gYW5kIGluc2VydHMgdGhlIHJlc3VsdGluZyBIVE1MIGludG8gdGhlIGVsZW1lbnQgaW4gYSBzZWN1cmUgd2F5LiBCeSBkZWZhdWx0LFxuICogdGhlIHJlc3VsdGluZyBIVE1MIGNvbnRlbnQgd2lsbCBiZSBzYW5pdGl6ZWQgdXNpbmcgdGhlIHtAbGluayBuZ1Nhbml0aXplLiRzYW5pdGl6ZSAkc2FuaXRpemV9IHNlcnZpY2UuXG4gKiBUbyB1dGlsaXplIHRoaXMgZnVuY3Rpb25hbGl0eSwgZW5zdXJlIHRoYXQgYCRzYW5pdGl6ZWAgaXMgYXZhaWxhYmxlLCBmb3IgZXhhbXBsZSwgYnkgaW5jbHVkaW5nIHtAbGlua1xuICogbmdTYW5pdGl6ZX0gaW4geW91ciBtb2R1bGUncyBkZXBlbmRlbmNpZXMgKG5vdCBpbiBjb3JlIEFuZ3VsYXIpLiBJbiBvcmRlciB0byB1c2Uge0BsaW5rIG5nU2FuaXRpemV9XG4gKiBpbiB5b3VyIG1vZHVsZSdzIGRlcGVuZGVuY2llcywgeW91IG5lZWQgdG8gaW5jbHVkZSBcImFuZ3VsYXItc2FuaXRpemUuanNcIiBpbiB5b3VyIGFwcGxpY2F0aW9uLlxuICpcbiAqIFlvdSBtYXkgYWxzbyBieXBhc3Mgc2FuaXRpemF0aW9uIGZvciB2YWx1ZXMgeW91IGtub3cgYXJlIHNhZmUuIFRvIGRvIHNvLCBiaW5kIHRvXG4gKiBhbiBleHBsaWNpdGx5IHRydXN0ZWQgdmFsdWUgdmlhIHtAbGluayBuZy4kc2NlI3RydXN0QXNIdG1sICRzY2UudHJ1c3RBc0h0bWx9LiAgU2VlIHRoZSBleGFtcGxlXG4gKiB1bmRlciB7QGxpbmsgbmcuJHNjZSNzaG93LW1lLWFuLWV4YW1wbGUtdXNpbmctc2NlLSBTdHJpY3QgQ29udGV4dHVhbCBFc2NhcGluZyAoU0NFKX0uXG4gKlxuICogTm90ZTogSWYgYSBgJHNhbml0aXplYCBzZXJ2aWNlIGlzIHVuYXZhaWxhYmxlIGFuZCB0aGUgYm91bmQgdmFsdWUgaXNuJ3QgZXhwbGljaXRseSB0cnVzdGVkLCB5b3VcbiAqIHdpbGwgaGF2ZSBhbiBleGNlcHRpb24gKGluc3RlYWQgb2YgYW4gZXhwbG9pdC4pXG4gKlxuICogQGVsZW1lbnQgQU5ZXG4gKiBAcGFyYW0ge2V4cHJlc3Npb259IG5nQmluZEh0bWwge0BsaW5rIGd1aWRlL2V4cHJlc3Npb24gRXhwcmVzc2lvbn0gdG8gZXZhbHVhdGUuXG4gKlxuICogQGV4YW1wbGVcblxuICAgPGV4YW1wbGUgbW9kdWxlPVwiYmluZEh0bWxFeGFtcGxlXCIgZGVwcz1cImFuZ3VsYXItc2FuaXRpemUuanNcIiBuYW1lPVwibmctYmluZC1odG1sXCI+XG4gICAgIDxmaWxlIG5hbWU9XCJpbmRleC5odG1sXCI+XG4gICAgICAgPGRpdiBuZy1jb250cm9sbGVyPVwiRXhhbXBsZUNvbnRyb2xsZXJcIj5cbiAgICAgICAgPHAgbmctYmluZC1odG1sPVwibXlIVE1MXCI+PC9wPlxuICAgICAgIDwvZGl2PlxuICAgICA8L2ZpbGU+XG5cbiAgICAgPGZpbGUgbmFtZT1cInNjcmlwdC5qc1wiPlxuICAgICAgIGFuZ3VsYXIubW9kdWxlKCdiaW5kSHRtbEV4YW1wbGUnLCBbJ25nU2FuaXRpemUnXSlcbiAgICAgICAgIC5jb250cm9sbGVyKCdFeGFtcGxlQ29udHJvbGxlcicsIFsnJHNjb3BlJywgZnVuY3Rpb24oJHNjb3BlKSB7XG4gICAgICAgICAgICRzY29wZS5teUhUTUwgPVxuICAgICAgICAgICAgICAnSSBhbSBhbiA8Y29kZT5IVE1MPC9jb2RlPnN0cmluZyB3aXRoICcgK1xuICAgICAgICAgICAgICAnPGEgaHJlZj1cIiNcIj5saW5rcyE8L2E+IGFuZCBvdGhlciA8ZW0+c3R1ZmY8L2VtPic7XG4gICAgICAgICB9XSk7XG4gICAgIDwvZmlsZT5cblxuICAgICA8ZmlsZSBuYW1lPVwicHJvdHJhY3Rvci5qc1wiIHR5cGU9XCJwcm90cmFjdG9yXCI+XG4gICAgICAgaXQoJ3Nob3VsZCBjaGVjayBuZy1iaW5kLWh0bWwnLCBmdW5jdGlvbigpIHtcbiAgICAgICAgIGV4cGVjdChlbGVtZW50KGJ5LmJpbmRpbmcoJ215SFRNTCcpKS5nZXRUZXh0KCkpLnRvQmUoXG4gICAgICAgICAgICAgJ0kgYW0gYW4gSFRNTHN0cmluZyB3aXRoIGxpbmtzISBhbmQgb3RoZXIgc3R1ZmYnKTtcbiAgICAgICB9KTtcbiAgICAgPC9maWxlPlxuICAgPC9leGFtcGxlPlxuICovXG52YXIgbmdCaW5kSHRtbERpcmVjdGl2ZSA9IFsnJHNjZScsICckcGFyc2UnLCAnJGNvbXBpbGUnLCBmdW5jdGlvbigkc2NlLCAkcGFyc2UsICRjb21waWxlKSB7XG4gIHJldHVybiB7XG4gICAgcmVzdHJpY3Q6ICdBJyxcbiAgICBjb21waWxlOiBmdW5jdGlvbiBuZ0JpbmRIdG1sQ29tcGlsZSh0RWxlbWVudCwgdEF0dHJzKSB7XG4gICAgICB2YXIgbmdCaW5kSHRtbEdldHRlciA9ICRwYXJzZSh0QXR0cnMubmdCaW5kSHRtbCk7XG4gICAgICB2YXIgbmdCaW5kSHRtbFdhdGNoID0gJHBhcnNlKHRBdHRycy5uZ0JpbmRIdG1sLCBmdW5jdGlvbiBzY2VWYWx1ZU9mKHZhbCkge1xuICAgICAgICAvLyBVbndyYXAgdGhlIHZhbHVlIHRvIGNvbXBhcmUgdGhlIGFjdHVhbCBpbm5lciBzYWZlIHZhbHVlLCBub3QgdGhlIHdyYXBwZXIgb2JqZWN0LlxuICAgICAgICByZXR1cm4gJHNjZS52YWx1ZU9mKHZhbCk7XG4gICAgICB9KTtcbiAgICAgICRjb21waWxlLiQkYWRkQmluZGluZ0NsYXNzKHRFbGVtZW50KTtcblxuICAgICAgcmV0dXJuIGZ1bmN0aW9uIG5nQmluZEh0bWxMaW5rKHNjb3BlLCBlbGVtZW50LCBhdHRyKSB7XG4gICAgICAgICRjb21waWxlLiQkYWRkQmluZGluZ0luZm8oZWxlbWVudCwgYXR0ci5uZ0JpbmRIdG1sKTtcblxuICAgICAgICBzY29wZS4kd2F0Y2gobmdCaW5kSHRtbFdhdGNoLCBmdW5jdGlvbiBuZ0JpbmRIdG1sV2F0Y2hBY3Rpb24oKSB7XG4gICAgICAgICAgLy8gVGhlIHdhdGNoZWQgdmFsdWUgaXMgdGhlIHVud3JhcHBlZCB2YWx1ZS4gVG8gYXZvaWQgcmUtZXNjYXBpbmcsIHVzZSB0aGUgZGlyZWN0IGdldHRlci5cbiAgICAgICAgICB2YXIgdmFsdWUgPSBuZ0JpbmRIdG1sR2V0dGVyKHNjb3BlKTtcbiAgICAgICAgICBlbGVtZW50Lmh0bWwoJHNjZS5nZXRUcnVzdGVkSHRtbCh2YWx1ZSkgfHwgJycpO1xuICAgICAgICB9KTtcbiAgICAgIH07XG4gICAgfVxuICB9O1xufV07XG5cbi8qKlxuICogQG5nZG9jIGRpcmVjdGl2ZVxuICogQG5hbWUgbmdDaGFuZ2VcbiAqXG4gKiBAZGVzY3JpcHRpb25cbiAqIEV2YWx1YXRlIHRoZSBnaXZlbiBleHByZXNzaW9uIHdoZW4gdGhlIHVzZXIgY2hhbmdlcyB0aGUgaW5wdXQuXG4gKiBUaGUgZXhwcmVzc2lvbiBpcyBldmFsdWF0ZWQgaW1tZWRpYXRlbHksIHVubGlrZSB0aGUgSmF2YVNjcmlwdCBvbmNoYW5nZSBldmVudFxuICogd2hpY2ggb25seSB0cmlnZ2VycyBhdCB0aGUgZW5kIG9mIGEgY2hhbmdlICh1c3VhbGx5LCB3aGVuIHRoZSB1c2VyIGxlYXZlcyB0aGVcbiAqIGZvcm0gZWxlbWVudCBvciBwcmVzc2VzIHRoZSByZXR1cm4ga2V5KS5cbiAqXG4gKiBUaGUgYG5nQ2hhbmdlYCBleHByZXNzaW9uIGlzIG9ubHkgZXZhbHVhdGVkIHdoZW4gYSBjaGFuZ2UgaW4gdGhlIGlucHV0IHZhbHVlIGNhdXNlc1xuICogYSBuZXcgdmFsdWUgdG8gYmUgY29tbWl0dGVkIHRvIHRoZSBtb2RlbC5cbiAqXG4gKiBJdCB3aWxsIG5vdCBiZSBldmFsdWF0ZWQ6XG4gKiAqIGlmIHRoZSB2YWx1ZSByZXR1cm5lZCBmcm9tIHRoZSBgJHBhcnNlcnNgIHRyYW5zZm9ybWF0aW9uIHBpcGVsaW5lIGhhcyBub3QgY2hhbmdlZFxuICogKiBpZiB0aGUgaW5wdXQgaGFzIGNvbnRpbnVlZCB0byBiZSBpbnZhbGlkIHNpbmNlIHRoZSBtb2RlbCB3aWxsIHN0YXkgYG51bGxgXG4gKiAqIGlmIHRoZSBtb2RlbCBpcyBjaGFuZ2VkIHByb2dyYW1tYXRpY2FsbHkgYW5kIG5vdCBieSBhIGNoYW5nZSB0byB0aGUgaW5wdXQgdmFsdWVcbiAqXG4gKlxuICogTm90ZSwgdGhpcyBkaXJlY3RpdmUgcmVxdWlyZXMgYG5nTW9kZWxgIHRvIGJlIHByZXNlbnQuXG4gKlxuICogQGVsZW1lbnQgaW5wdXRcbiAqIEBwYXJhbSB7ZXhwcmVzc2lvbn0gbmdDaGFuZ2Uge0BsaW5rIGd1aWRlL2V4cHJlc3Npb24gRXhwcmVzc2lvbn0gdG8gZXZhbHVhdGUgdXBvbiBjaGFuZ2VcbiAqIGluIGlucHV0IHZhbHVlLlxuICpcbiAqIEBleGFtcGxlXG4gKiA8ZXhhbXBsZSBuYW1lPVwibmdDaGFuZ2UtZGlyZWN0aXZlXCIgbW9kdWxlPVwiY2hhbmdlRXhhbXBsZVwiPlxuICogICA8ZmlsZSBuYW1lPVwiaW5kZXguaHRtbFwiPlxuICogICAgIDxzY3JpcHQ+XG4gKiAgICAgICBhbmd1bGFyLm1vZHVsZSgnY2hhbmdlRXhhbXBsZScsIFtdKVxuICogICAgICAgICAuY29udHJvbGxlcignRXhhbXBsZUNvbnRyb2xsZXInLCBbJyRzY29wZScsIGZ1bmN0aW9uKCRzY29wZSkge1xuICogICAgICAgICAgICRzY29wZS5jb3VudGVyID0gMDtcbiAqICAgICAgICAgICAkc2NvcGUuY2hhbmdlID0gZnVuY3Rpb24oKSB7XG4gKiAgICAgICAgICAgICAkc2NvcGUuY291bnRlcisrO1xuICogICAgICAgICAgIH07XG4gKiAgICAgICAgIH1dKTtcbiAqICAgICA8L3NjcmlwdD5cbiAqICAgICA8ZGl2IG5nLWNvbnRyb2xsZXI9XCJFeGFtcGxlQ29udHJvbGxlclwiPlxuICogICAgICAgPGlucHV0IHR5cGU9XCJjaGVja2JveFwiIG5nLW1vZGVsPVwiY29uZmlybWVkXCIgbmctY2hhbmdlPVwiY2hhbmdlKClcIiBpZD1cIm5nLWNoYW5nZS1leGFtcGxlMVwiIC8+XG4gKiAgICAgICA8aW5wdXQgdHlwZT1cImNoZWNrYm94XCIgbmctbW9kZWw9XCJjb25maXJtZWRcIiBpZD1cIm5nLWNoYW5nZS1leGFtcGxlMlwiIC8+XG4gKiAgICAgICA8bGFiZWwgZm9yPVwibmctY2hhbmdlLWV4YW1wbGUyXCI+Q29uZmlybWVkPC9sYWJlbD48YnIgLz5cbiAqICAgICAgIDx0dD5kZWJ1ZyA9IHt7Y29uZmlybWVkfX08L3R0Pjxici8+XG4gKiAgICAgICA8dHQ+Y291bnRlciA9IHt7Y291bnRlcn19PC90dD48YnIvPlxuICogICAgIDwvZGl2PlxuICogICA8L2ZpbGU+XG4gKiAgIDxmaWxlIG5hbWU9XCJwcm90cmFjdG9yLmpzXCIgdHlwZT1cInByb3RyYWN0b3JcIj5cbiAqICAgICB2YXIgY291bnRlciA9IGVsZW1lbnQoYnkuYmluZGluZygnY291bnRlcicpKTtcbiAqICAgICB2YXIgZGVidWcgPSBlbGVtZW50KGJ5LmJpbmRpbmcoJ2NvbmZpcm1lZCcpKTtcbiAqXG4gKiAgICAgaXQoJ3Nob3VsZCBldmFsdWF0ZSB0aGUgZXhwcmVzc2lvbiBpZiBjaGFuZ2luZyBmcm9tIHZpZXcnLCBmdW5jdGlvbigpIHtcbiAqICAgICAgIGV4cGVjdChjb3VudGVyLmdldFRleHQoKSkudG9Db250YWluKCcwJyk7XG4gKlxuICogICAgICAgZWxlbWVudChieS5pZCgnbmctY2hhbmdlLWV4YW1wbGUxJykpLmNsaWNrKCk7XG4gKlxuICogICAgICAgZXhwZWN0KGNvdW50ZXIuZ2V0VGV4dCgpKS50b0NvbnRhaW4oJzEnKTtcbiAqICAgICAgIGV4cGVjdChkZWJ1Zy5nZXRUZXh0KCkpLnRvQ29udGFpbigndHJ1ZScpO1xuICogICAgIH0pO1xuICpcbiAqICAgICBpdCgnc2hvdWxkIG5vdCBldmFsdWF0ZSB0aGUgZXhwcmVzc2lvbiBpZiBjaGFuZ2luZyBmcm9tIG1vZGVsJywgZnVuY3Rpb24oKSB7XG4gKiAgICAgICBlbGVtZW50KGJ5LmlkKCduZy1jaGFuZ2UtZXhhbXBsZTInKSkuY2xpY2soKTtcblxuICogICAgICAgZXhwZWN0KGNvdW50ZXIuZ2V0VGV4dCgpKS50b0NvbnRhaW4oJzAnKTtcbiAqICAgICAgIGV4cGVjdChkZWJ1Zy5nZXRUZXh0KCkpLnRvQ29udGFpbigndHJ1ZScpO1xuICogICAgIH0pO1xuICogICA8L2ZpbGU+XG4gKiA8L2V4YW1wbGU+XG4gKi9cbnZhciBuZ0NoYW5nZURpcmVjdGl2ZSA9IHZhbHVlRm4oe1xuICByZXN0cmljdDogJ0EnLFxuICByZXF1aXJlOiAnbmdNb2RlbCcsXG4gIGxpbms6IGZ1bmN0aW9uKHNjb3BlLCBlbGVtZW50LCBhdHRyLCBjdHJsKSB7XG4gICAgY3RybC4kdmlld0NoYW5nZUxpc3RlbmVycy5wdXNoKGZ1bmN0aW9uKCkge1xuICAgICAgc2NvcGUuJGV2YWwoYXR0ci5uZ0NoYW5nZSk7XG4gICAgfSk7XG4gIH1cbn0pO1xuXG4vKiBleHBvcnRlZFxuICBuZ0NsYXNzRGlyZWN0aXZlLFxuICBuZ0NsYXNzRXZlbkRpcmVjdGl2ZSxcbiAgbmdDbGFzc09kZERpcmVjdGl2ZVxuKi9cblxuZnVuY3Rpb24gY2xhc3NEaXJlY3RpdmUobmFtZSwgc2VsZWN0b3IpIHtcbiAgbmFtZSA9ICduZ0NsYXNzJyArIG5hbWU7XG4gIHZhciBpbmRleFdhdGNoRXhwcmVzc2lvbjtcblxuICByZXR1cm4gWyckcGFyc2UnLCBmdW5jdGlvbigkcGFyc2UpIHtcbiAgICByZXR1cm4ge1xuICAgICAgcmVzdHJpY3Q6ICdBQycsXG4gICAgICBsaW5rOiBmdW5jdGlvbihzY29wZSwgZWxlbWVudCwgYXR0cikge1xuICAgICAgICB2YXIgY2xhc3NDb3VudHMgPSBlbGVtZW50LmRhdGEoJyRjbGFzc0NvdW50cycpO1xuICAgICAgICB2YXIgb2xkTW9kdWxvID0gdHJ1ZTtcbiAgICAgICAgdmFyIG9sZENsYXNzU3RyaW5nO1xuXG4gICAgICAgIGlmICghY2xhc3NDb3VudHMpIHtcbiAgICAgICAgICAvLyBVc2UgY3JlYXRlTWFwKCkgdG8gcHJldmVudCBjbGFzcyBhc3N1bXB0aW9ucyBpbnZvbHZpbmcgcHJvcGVydHlcbiAgICAgICAgICAvLyBuYW1lcyBpbiBPYmplY3QucHJvdG90eXBlXG4gICAgICAgICAgY2xhc3NDb3VudHMgPSBjcmVhdGVNYXAoKTtcbiAgICAgICAgICBlbGVtZW50LmRhdGEoJyRjbGFzc0NvdW50cycsIGNsYXNzQ291bnRzKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChuYW1lICE9PSAnbmdDbGFzcycpIHtcbiAgICAgICAgICBpZiAoIWluZGV4V2F0Y2hFeHByZXNzaW9uKSB7XG4gICAgICAgICAgICBpbmRleFdhdGNoRXhwcmVzc2lvbiA9ICRwYXJzZSgnJGluZGV4JywgZnVuY3Rpb24gbW9kdWxvVHdvKCRpbmRleCkge1xuICAgICAgICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tYml0d2lzZVxuICAgICAgICAgICAgICByZXR1cm4gJGluZGV4ICYgMTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIHNjb3BlLiR3YXRjaChpbmRleFdhdGNoRXhwcmVzc2lvbiwgbmdDbGFzc0luZGV4V2F0Y2hBY3Rpb24pO1xuICAgICAgICB9XG5cbiAgICAgICAgc2NvcGUuJHdhdGNoKCRwYXJzZShhdHRyW25hbWVdLCB0b0NsYXNzU3RyaW5nKSwgbmdDbGFzc1dhdGNoQWN0aW9uKTtcblxuICAgICAgICBmdW5jdGlvbiBhZGRDbGFzc2VzKGNsYXNzU3RyaW5nKSB7XG4gICAgICAgICAgY2xhc3NTdHJpbmcgPSBkaWdlc3RDbGFzc0NvdW50cyhzcGxpdChjbGFzc1N0cmluZyksIDEpO1xuICAgICAgICAgIGF0dHIuJGFkZENsYXNzKGNsYXNzU3RyaW5nKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGZ1bmN0aW9uIHJlbW92ZUNsYXNzZXMoY2xhc3NTdHJpbmcpIHtcbiAgICAgICAgICBjbGFzc1N0cmluZyA9IGRpZ2VzdENsYXNzQ291bnRzKHNwbGl0KGNsYXNzU3RyaW5nKSwgLTEpO1xuICAgICAgICAgIGF0dHIuJHJlbW92ZUNsYXNzKGNsYXNzU3RyaW5nKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGZ1bmN0aW9uIHVwZGF0ZUNsYXNzZXMob2xkQ2xhc3NTdHJpbmcsIG5ld0NsYXNzU3RyaW5nKSB7XG4gICAgICAgICAgdmFyIG9sZENsYXNzQXJyYXkgPSBzcGxpdChvbGRDbGFzc1N0cmluZyk7XG4gICAgICAgICAgdmFyIG5ld0NsYXNzQXJyYXkgPSBzcGxpdChuZXdDbGFzc1N0cmluZyk7XG5cbiAgICAgICAgICB2YXIgdG9SZW1vdmVBcnJheSA9IGFycmF5RGlmZmVyZW5jZShvbGRDbGFzc0FycmF5LCBuZXdDbGFzc0FycmF5KTtcbiAgICAgICAgICB2YXIgdG9BZGRBcnJheSA9IGFycmF5RGlmZmVyZW5jZShuZXdDbGFzc0FycmF5LCBvbGRDbGFzc0FycmF5KTtcblxuICAgICAgICAgIHZhciB0b1JlbW92ZVN0cmluZyA9IGRpZ2VzdENsYXNzQ291bnRzKHRvUmVtb3ZlQXJyYXksIC0xKTtcbiAgICAgICAgICB2YXIgdG9BZGRTdHJpbmcgPSBkaWdlc3RDbGFzc0NvdW50cyh0b0FkZEFycmF5LCAxKTtcblxuICAgICAgICAgIGF0dHIuJGFkZENsYXNzKHRvQWRkU3RyaW5nKTtcbiAgICAgICAgICBhdHRyLiRyZW1vdmVDbGFzcyh0b1JlbW92ZVN0cmluZyk7XG4gICAgICAgIH1cblxuICAgICAgICBmdW5jdGlvbiBkaWdlc3RDbGFzc0NvdW50cyhjbGFzc0FycmF5LCBjb3VudCkge1xuICAgICAgICAgIHZhciBjbGFzc2VzVG9VcGRhdGUgPSBbXTtcblxuICAgICAgICAgIGZvckVhY2goY2xhc3NBcnJheSwgZnVuY3Rpb24oY2xhc3NOYW1lKSB7XG4gICAgICAgICAgICBpZiAoY291bnQgPiAwIHx8IGNsYXNzQ291bnRzW2NsYXNzTmFtZV0pIHtcbiAgICAgICAgICAgICAgY2xhc3NDb3VudHNbY2xhc3NOYW1lXSA9IChjbGFzc0NvdW50c1tjbGFzc05hbWVdIHx8IDApICsgY291bnQ7XG4gICAgICAgICAgICAgIGlmIChjbGFzc0NvdW50c1tjbGFzc05hbWVdID09PSArKGNvdW50ID4gMCkpIHtcbiAgICAgICAgICAgICAgICBjbGFzc2VzVG9VcGRhdGUucHVzaChjbGFzc05hbWUpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSk7XG5cbiAgICAgICAgICByZXR1cm4gY2xhc3Nlc1RvVXBkYXRlLmpvaW4oJyAnKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGZ1bmN0aW9uIG5nQ2xhc3NJbmRleFdhdGNoQWN0aW9uKG5ld01vZHVsbykge1xuICAgICAgICAgIC8vIFRoaXMgd2F0Y2gtYWN0aW9uIHNob3VsZCBydW4gYmVmb3JlIHRoZSBgbmdDbGFzc1dhdGNoQWN0aW9uKClgLCB0aHVzIGl0XG4gICAgICAgICAgLy8gYWRkcy9yZW1vdmVzIGBvbGRDbGFzc1N0cmluZ2AuIElmIHRoZSBgbmdDbGFzc2AgZXhwcmVzc2lvbiBoYXMgY2hhbmdlZCBhcyB3ZWxsLCB0aGVcbiAgICAgICAgICAvLyBgbmdDbGFzc1dhdGNoQWN0aW9uKClgIHdpbGwgdXBkYXRlIHRoZSBjbGFzc2VzLlxuICAgICAgICAgIGlmIChuZXdNb2R1bG8gPT09IHNlbGVjdG9yKSB7XG4gICAgICAgICAgICBhZGRDbGFzc2VzKG9sZENsYXNzU3RyaW5nKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmVtb3ZlQ2xhc3NlcyhvbGRDbGFzc1N0cmluZyk7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgb2xkTW9kdWxvID0gbmV3TW9kdWxvO1xuICAgICAgICB9XG5cbiAgICAgICAgZnVuY3Rpb24gbmdDbGFzc1dhdGNoQWN0aW9uKG5ld0NsYXNzU3RyaW5nKSB7XG4gICAgICAgICAgLy8gV2hlbiB1c2luZyBhIG9uZS10aW1lIGJpbmRpbmcgdGhlIG5ld0NsYXNzU3RyaW5nIHdpbGwgcmV0dXJuXG4gICAgICAgICAgLy8gdGhlIHByZS1pbnRlcmNlcHRvciB2YWx1ZSB1bnRpbCB0aGUgb25lLXRpbWUgaXMgY29tcGxldGVcbiAgICAgICAgICBpZiAoIWlzU3RyaW5nKG5ld0NsYXNzU3RyaW5nKSkge1xuICAgICAgICAgICAgbmV3Q2xhc3NTdHJpbmcgPSB0b0NsYXNzU3RyaW5nKG5ld0NsYXNzU3RyaW5nKTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBpZiAob2xkTW9kdWxvID09PSBzZWxlY3Rvcikge1xuICAgICAgICAgICAgdXBkYXRlQ2xhc3NlcyhvbGRDbGFzc1N0cmluZywgbmV3Q2xhc3NTdHJpbmcpO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIG9sZENsYXNzU3RyaW5nID0gbmV3Q2xhc3NTdHJpbmc7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9O1xuICB9XTtcblxuICAvLyBIZWxwZXJzXG4gIGZ1bmN0aW9uIGFycmF5RGlmZmVyZW5jZSh0b2tlbnMxLCB0b2tlbnMyKSB7XG4gICAgaWYgKCF0b2tlbnMxIHx8ICF0b2tlbnMxLmxlbmd0aCkgcmV0dXJuIFtdO1xuICAgIGlmICghdG9rZW5zMiB8fCAhdG9rZW5zMi5sZW5ndGgpIHJldHVybiB0b2tlbnMxO1xuXG4gICAgdmFyIHZhbHVlcyA9IFtdO1xuXG4gICAgb3V0ZXI6XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0b2tlbnMxLmxlbmd0aDsgaSsrKSB7XG4gICAgICB2YXIgdG9rZW4gPSB0b2tlbnMxW2ldO1xuICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCB0b2tlbnMyLmxlbmd0aDsgaisrKSB7XG4gICAgICAgIGlmICh0b2tlbiA9PT0gdG9rZW5zMltqXSkgY29udGludWUgb3V0ZXI7XG4gICAgICB9XG4gICAgICB2YWx1ZXMucHVzaCh0b2tlbik7XG4gICAgfVxuXG4gICAgcmV0dXJuIHZhbHVlcztcbiAgfVxuXG4gIGZ1bmN0aW9uIHNwbGl0KGNsYXNzU3RyaW5nKSB7XG4gICAgcmV0dXJuIGNsYXNzU3RyaW5nICYmIGNsYXNzU3RyaW5nLnNwbGl0KCcgJyk7XG4gIH1cblxuICBmdW5jdGlvbiB0b0NsYXNzU3RyaW5nKGNsYXNzVmFsdWUpIHtcbiAgICB2YXIgY2xhc3NTdHJpbmcgPSBjbGFzc1ZhbHVlO1xuXG4gICAgaWYgKGlzQXJyYXkoY2xhc3NWYWx1ZSkpIHtcbiAgICAgIGNsYXNzU3RyaW5nID0gY2xhc3NWYWx1ZS5tYXAodG9DbGFzc1N0cmluZykuam9pbignICcpO1xuICAgIH0gZWxzZSBpZiAoaXNPYmplY3QoY2xhc3NWYWx1ZSkpIHtcbiAgICAgIGNsYXNzU3RyaW5nID0gT2JqZWN0LmtleXMoY2xhc3NWYWx1ZSkuXG4gICAgICAgIGZpbHRlcihmdW5jdGlvbihrZXkpIHsgcmV0dXJuIGNsYXNzVmFsdWVba2V5XTsgfSkuXG4gICAgICAgIGpvaW4oJyAnKTtcbiAgICB9XG5cbiAgICByZXR1cm4gY2xhc3NTdHJpbmc7XG4gIH1cbn1cblxuLyoqXG4gKiBAbmdkb2MgZGlyZWN0aXZlXG4gKiBAbmFtZSBuZ0NsYXNzXG4gKiBAcmVzdHJpY3QgQUNcbiAqXG4gKiBAZGVzY3JpcHRpb25cbiAqIFRoZSBgbmdDbGFzc2AgZGlyZWN0aXZlIGFsbG93cyB5b3UgdG8gZHluYW1pY2FsbHkgc2V0IENTUyBjbGFzc2VzIG9uIGFuIEhUTUwgZWxlbWVudCBieSBkYXRhYmluZGluZ1xuICogYW4gZXhwcmVzc2lvbiB0aGF0IHJlcHJlc2VudHMgYWxsIGNsYXNzZXMgdG8gYmUgYWRkZWQuXG4gKlxuICogVGhlIGRpcmVjdGl2ZSBvcGVyYXRlcyBpbiB0aHJlZSBkaWZmZXJlbnQgd2F5cywgZGVwZW5kaW5nIG9uIHdoaWNoIG9mIHRocmVlIHR5cGVzIHRoZSBleHByZXNzaW9uXG4gKiBldmFsdWF0ZXMgdG86XG4gKlxuICogMS4gSWYgdGhlIGV4cHJlc3Npb24gZXZhbHVhdGVzIHRvIGEgc3RyaW5nLCB0aGUgc3RyaW5nIHNob3VsZCBiZSBvbmUgb3IgbW9yZSBzcGFjZS1kZWxpbWl0ZWQgY2xhc3NcbiAqIG5hbWVzLlxuICpcbiAqIDIuIElmIHRoZSBleHByZXNzaW9uIGV2YWx1YXRlcyB0byBhbiBvYmplY3QsIHRoZW4gZm9yIGVhY2gga2V5LXZhbHVlIHBhaXIgb2YgdGhlXG4gKiBvYmplY3Qgd2l0aCBhIHRydXRoeSB2YWx1ZSB0aGUgY29ycmVzcG9uZGluZyBrZXkgaXMgdXNlZCBhcyBhIGNsYXNzIG5hbWUuXG4gKlxuICogMy4gSWYgdGhlIGV4cHJlc3Npb24gZXZhbHVhdGVzIHRvIGFuIGFycmF5LCBlYWNoIGVsZW1lbnQgb2YgdGhlIGFycmF5IHNob3VsZCBlaXRoZXIgYmUgYSBzdHJpbmcgYXMgaW5cbiAqIHR5cGUgMSBvciBhbiBvYmplY3QgYXMgaW4gdHlwZSAyLiBUaGlzIG1lYW5zIHRoYXQgeW91IGNhbiBtaXggc3RyaW5ncyBhbmQgb2JqZWN0cyB0b2dldGhlciBpbiBhbiBhcnJheVxuICogdG8gZ2l2ZSB5b3UgbW9yZSBjb250cm9sIG92ZXIgd2hhdCBDU1MgY2xhc3NlcyBhcHBlYXIuIFNlZSB0aGUgY29kZSBiZWxvdyBmb3IgYW4gZXhhbXBsZSBvZiB0aGlzLlxuICpcbiAqXG4gKiBUaGUgZGlyZWN0aXZlIHdvbid0IGFkZCBkdXBsaWNhdGUgY2xhc3NlcyBpZiBhIHBhcnRpY3VsYXIgY2xhc3Mgd2FzIGFscmVhZHkgc2V0LlxuICpcbiAqIFdoZW4gdGhlIGV4cHJlc3Npb24gY2hhbmdlcywgdGhlIHByZXZpb3VzbHkgYWRkZWQgY2xhc3NlcyBhcmUgcmVtb3ZlZCBhbmQgb25seSB0aGVuIGFyZSB0aGVcbiAqIG5ldyBjbGFzc2VzIGFkZGVkLlxuICpcbiAqIEBrbm93bklzc3VlXG4gKiBZb3Ugc2hvdWxkIG5vdCB1c2Uge0BsaW5rIGd1aWRlL2ludGVycG9sYXRpb24gaW50ZXJwb2xhdGlvbn0gaW4gdGhlIHZhbHVlIG9mIHRoZSBgY2xhc3NgXG4gKiBhdHRyaWJ1dGUsIHdoZW4gdXNpbmcgdGhlIGBuZ0NsYXNzYCBkaXJlY3RpdmUgb24gdGhlIHNhbWUgZWxlbWVudC5cbiAqIFNlZSB7QGxpbmsgZ3VpZGUvaW50ZXJwb2xhdGlvbiNrbm93bi1pc3N1ZXMgaGVyZX0gZm9yIG1vcmUgaW5mby5cbiAqXG4gKiBAYW5pbWF0aW9uc1xuICogfCBBbmltYXRpb24gICAgICAgICAgICAgICAgICAgICAgICB8IE9jY3VycyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHxcbiAqIHwtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tfC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS18XG4gKiB8IHtAbGluayBuZy4kYW5pbWF0ZSNhZGRDbGFzcyBhZGRDbGFzc30gICAgICAgfCBqdXN0IGJlZm9yZSB0aGUgY2xhc3MgaXMgYXBwbGllZCB0byB0aGUgZWxlbWVudCAgIHxcbiAqIHwge0BsaW5rIG5nLiRhbmltYXRlI3JlbW92ZUNsYXNzIHJlbW92ZUNsYXNzfSB8IGp1c3QgYmVmb3JlIHRoZSBjbGFzcyBpcyByZW1vdmVkIGZyb20gdGhlIGVsZW1lbnQgfFxuICpcbiAqIEBlbGVtZW50IEFOWVxuICogQHBhcmFtIHtleHByZXNzaW9ufSBuZ0NsYXNzIHtAbGluayBndWlkZS9leHByZXNzaW9uIEV4cHJlc3Npb259IHRvIGV2YWwuIFRoZSByZXN1bHRcbiAqICAgb2YgdGhlIGV2YWx1YXRpb24gY2FuIGJlIGEgc3RyaW5nIHJlcHJlc2VudGluZyBzcGFjZSBkZWxpbWl0ZWQgY2xhc3NcbiAqICAgbmFtZXMsIGFuIGFycmF5LCBvciBhIG1hcCBvZiBjbGFzcyBuYW1lcyB0byBib29sZWFuIHZhbHVlcy4gSW4gdGhlIGNhc2Ugb2YgYSBtYXAsIHRoZVxuICogICBuYW1lcyBvZiB0aGUgcHJvcGVydGllcyB3aG9zZSB2YWx1ZXMgYXJlIHRydXRoeSB3aWxsIGJlIGFkZGVkIGFzIGNzcyBjbGFzc2VzIHRvIHRoZVxuICogICBlbGVtZW50LlxuICpcbiAqIEBleGFtcGxlIEV4YW1wbGUgdGhhdCBkZW1vbnN0cmF0ZXMgYmFzaWMgYmluZGluZ3MgdmlhIG5nQ2xhc3MgZGlyZWN0aXZlLlxuICAgPGV4YW1wbGUgbmFtZT1cIm5nLWNsYXNzXCI+XG4gICAgIDxmaWxlIG5hbWU9XCJpbmRleC5odG1sXCI+XG4gICAgICAgPHAgbmctY2xhc3M9XCJ7c3RyaWtlOiBkZWxldGVkLCBib2xkOiBpbXBvcnRhbnQsICdoYXMtZXJyb3InOiBlcnJvcn1cIj5NYXAgU3ludGF4IEV4YW1wbGU8L3A+XG4gICAgICAgPGxhYmVsPlxuICAgICAgICAgIDxpbnB1dCB0eXBlPVwiY2hlY2tib3hcIiBuZy1tb2RlbD1cImRlbGV0ZWRcIj5cbiAgICAgICAgICBkZWxldGVkIChhcHBseSBcInN0cmlrZVwiIGNsYXNzKVxuICAgICAgIDwvbGFiZWw+PGJyPlxuICAgICAgIDxsYWJlbD5cbiAgICAgICAgICA8aW5wdXQgdHlwZT1cImNoZWNrYm94XCIgbmctbW9kZWw9XCJpbXBvcnRhbnRcIj5cbiAgICAgICAgICBpbXBvcnRhbnQgKGFwcGx5IFwiYm9sZFwiIGNsYXNzKVxuICAgICAgIDwvbGFiZWw+PGJyPlxuICAgICAgIDxsYWJlbD5cbiAgICAgICAgICA8aW5wdXQgdHlwZT1cImNoZWNrYm94XCIgbmctbW9kZWw9XCJlcnJvclwiPlxuICAgICAgICAgIGVycm9yIChhcHBseSBcImhhcy1lcnJvclwiIGNsYXNzKVxuICAgICAgIDwvbGFiZWw+XG4gICAgICAgPGhyPlxuICAgICAgIDxwIG5nLWNsYXNzPVwic3R5bGVcIj5Vc2luZyBTdHJpbmcgU3ludGF4PC9wPlxuICAgICAgIDxpbnB1dCB0eXBlPVwidGV4dFwiIG5nLW1vZGVsPVwic3R5bGVcIlxuICAgICAgICAgICAgICBwbGFjZWhvbGRlcj1cIlR5cGU6IGJvbGQgc3RyaWtlIHJlZFwiIGFyaWEtbGFiZWw9XCJUeXBlOiBib2xkIHN0cmlrZSByZWRcIj5cbiAgICAgICA8aHI+XG4gICAgICAgPHAgbmctY2xhc3M9XCJbc3R5bGUxLCBzdHlsZTIsIHN0eWxlM11cIj5Vc2luZyBBcnJheSBTeW50YXg8L3A+XG4gICAgICAgPGlucHV0IG5nLW1vZGVsPVwic3R5bGUxXCJcbiAgICAgICAgICAgICAgcGxhY2Vob2xkZXI9XCJUeXBlOiBib2xkLCBzdHJpa2Ugb3IgcmVkXCIgYXJpYS1sYWJlbD1cIlR5cGU6IGJvbGQsIHN0cmlrZSBvciByZWRcIj48YnI+XG4gICAgICAgPGlucHV0IG5nLW1vZGVsPVwic3R5bGUyXCJcbiAgICAgICAgICAgICAgcGxhY2Vob2xkZXI9XCJUeXBlOiBib2xkLCBzdHJpa2Ugb3IgcmVkXCIgYXJpYS1sYWJlbD1cIlR5cGU6IGJvbGQsIHN0cmlrZSBvciByZWQgMlwiPjxicj5cbiAgICAgICA8aW5wdXQgbmctbW9kZWw9XCJzdHlsZTNcIlxuICAgICAgICAgICAgICBwbGFjZWhvbGRlcj1cIlR5cGU6IGJvbGQsIHN0cmlrZSBvciByZWRcIiBhcmlhLWxhYmVsPVwiVHlwZTogYm9sZCwgc3RyaWtlIG9yIHJlZCAzXCI+PGJyPlxuICAgICAgIDxocj5cbiAgICAgICA8cCBuZy1jbGFzcz1cIltzdHlsZTQsIHtvcmFuZ2U6IHdhcm5pbmd9XVwiPlVzaW5nIEFycmF5IGFuZCBNYXAgU3ludGF4PC9wPlxuICAgICAgIDxpbnB1dCBuZy1tb2RlbD1cInN0eWxlNFwiIHBsYWNlaG9sZGVyPVwiVHlwZTogYm9sZCwgc3RyaWtlXCIgYXJpYS1sYWJlbD1cIlR5cGU6IGJvbGQsIHN0cmlrZVwiPjxicj5cbiAgICAgICA8bGFiZWw+PGlucHV0IHR5cGU9XCJjaGVja2JveFwiIG5nLW1vZGVsPVwid2FybmluZ1wiPiB3YXJuaW5nIChhcHBseSBcIm9yYW5nZVwiIGNsYXNzKTwvbGFiZWw+XG4gICAgIDwvZmlsZT5cbiAgICAgPGZpbGUgbmFtZT1cInN0eWxlLmNzc1wiPlxuICAgICAgIC5zdHJpa2Uge1xuICAgICAgICAgICB0ZXh0LWRlY29yYXRpb246IGxpbmUtdGhyb3VnaDtcbiAgICAgICB9XG4gICAgICAgLmJvbGQge1xuICAgICAgICAgICBmb250LXdlaWdodDogYm9sZDtcbiAgICAgICB9XG4gICAgICAgLnJlZCB7XG4gICAgICAgICAgIGNvbG9yOiByZWQ7XG4gICAgICAgfVxuICAgICAgIC5oYXMtZXJyb3Ige1xuICAgICAgICAgICBjb2xvcjogcmVkO1xuICAgICAgICAgICBiYWNrZ3JvdW5kLWNvbG9yOiB5ZWxsb3c7XG4gICAgICAgfVxuICAgICAgIC5vcmFuZ2Uge1xuICAgICAgICAgICBjb2xvcjogb3JhbmdlO1xuICAgICAgIH1cbiAgICAgPC9maWxlPlxuICAgICA8ZmlsZSBuYW1lPVwicHJvdHJhY3Rvci5qc1wiIHR5cGU9XCJwcm90cmFjdG9yXCI+XG4gICAgICAgdmFyIHBzID0gZWxlbWVudC5hbGwoYnkuY3NzKCdwJykpO1xuXG4gICAgICAgaXQoJ3Nob3VsZCBsZXQgeW91IHRvZ2dsZSB0aGUgY2xhc3MnLCBmdW5jdGlvbigpIHtcblxuICAgICAgICAgZXhwZWN0KHBzLmZpcnN0KCkuZ2V0QXR0cmlidXRlKCdjbGFzcycpKS5ub3QudG9NYXRjaCgvYm9sZC8pO1xuICAgICAgICAgZXhwZWN0KHBzLmZpcnN0KCkuZ2V0QXR0cmlidXRlKCdjbGFzcycpKS5ub3QudG9NYXRjaCgvaGFzLWVycm9yLyk7XG5cbiAgICAgICAgIGVsZW1lbnQoYnkubW9kZWwoJ2ltcG9ydGFudCcpKS5jbGljaygpO1xuICAgICAgICAgZXhwZWN0KHBzLmZpcnN0KCkuZ2V0QXR0cmlidXRlKCdjbGFzcycpKS50b01hdGNoKC9ib2xkLyk7XG5cbiAgICAgICAgIGVsZW1lbnQoYnkubW9kZWwoJ2Vycm9yJykpLmNsaWNrKCk7XG4gICAgICAgICBleHBlY3QocHMuZmlyc3QoKS5nZXRBdHRyaWJ1dGUoJ2NsYXNzJykpLnRvTWF0Y2goL2hhcy1lcnJvci8pO1xuICAgICAgIH0pO1xuXG4gICAgICAgaXQoJ3Nob3VsZCBsZXQgeW91IHRvZ2dsZSBzdHJpbmcgZXhhbXBsZScsIGZ1bmN0aW9uKCkge1xuICAgICAgICAgZXhwZWN0KHBzLmdldCgxKS5nZXRBdHRyaWJ1dGUoJ2NsYXNzJykpLnRvQmUoJycpO1xuICAgICAgICAgZWxlbWVudChieS5tb2RlbCgnc3R5bGUnKSkuY2xlYXIoKTtcbiAgICAgICAgIGVsZW1lbnQoYnkubW9kZWwoJ3N0eWxlJykpLnNlbmRLZXlzKCdyZWQnKTtcbiAgICAgICAgIGV4cGVjdChwcy5nZXQoMSkuZ2V0QXR0cmlidXRlKCdjbGFzcycpKS50b0JlKCdyZWQnKTtcbiAgICAgICB9KTtcblxuICAgICAgIGl0KCdhcnJheSBleGFtcGxlIHNob3VsZCBoYXZlIDMgY2xhc3NlcycsIGZ1bmN0aW9uKCkge1xuICAgICAgICAgZXhwZWN0KHBzLmdldCgyKS5nZXRBdHRyaWJ1dGUoJ2NsYXNzJykpLnRvQmUoJycpO1xuICAgICAgICAgZWxlbWVudChieS5tb2RlbCgnc3R5bGUxJykpLnNlbmRLZXlzKCdib2xkJyk7XG4gICAgICAgICBlbGVtZW50KGJ5Lm1vZGVsKCdzdHlsZTInKSkuc2VuZEtleXMoJ3N0cmlrZScpO1xuICAgICAgICAgZWxlbWVudChieS5tb2RlbCgnc3R5bGUzJykpLnNlbmRLZXlzKCdyZWQnKTtcbiAgICAgICAgIGV4cGVjdChwcy5nZXQoMikuZ2V0QXR0cmlidXRlKCdjbGFzcycpKS50b0JlKCdib2xkIHN0cmlrZSByZWQnKTtcbiAgICAgICB9KTtcblxuICAgICAgIGl0KCdhcnJheSB3aXRoIG1hcCBleGFtcGxlIHNob3VsZCBoYXZlIDIgY2xhc3NlcycsIGZ1bmN0aW9uKCkge1xuICAgICAgICAgZXhwZWN0KHBzLmxhc3QoKS5nZXRBdHRyaWJ1dGUoJ2NsYXNzJykpLnRvQmUoJycpO1xuICAgICAgICAgZWxlbWVudChieS5tb2RlbCgnc3R5bGU0JykpLnNlbmRLZXlzKCdib2xkJyk7XG4gICAgICAgICBlbGVtZW50KGJ5Lm1vZGVsKCd3YXJuaW5nJykpLmNsaWNrKCk7XG4gICAgICAgICBleHBlY3QocHMubGFzdCgpLmdldEF0dHJpYnV0ZSgnY2xhc3MnKSkudG9CZSgnYm9sZCBvcmFuZ2UnKTtcbiAgICAgICB9KTtcbiAgICAgPC9maWxlPlxuICAgPC9leGFtcGxlPlxuXG4gICAjIyBBbmltYXRpb25zXG5cbiAgIFRoZSBleGFtcGxlIGJlbG93IGRlbW9uc3RyYXRlcyBob3cgdG8gcGVyZm9ybSBhbmltYXRpb25zIHVzaW5nIG5nQ2xhc3MuXG5cbiAgIDxleGFtcGxlIG1vZHVsZT1cIm5nQW5pbWF0ZVwiIGRlcHM9XCJhbmd1bGFyLWFuaW1hdGUuanNcIiBhbmltYXRpb25zPVwidHJ1ZVwiIG5hbWU9XCJuZy1jbGFzc1wiPlxuICAgICA8ZmlsZSBuYW1lPVwiaW5kZXguaHRtbFwiPlxuICAgICAgPGlucHV0IGlkPVwic2V0YnRuXCIgdHlwZT1cImJ1dHRvblwiIHZhbHVlPVwic2V0XCIgbmctY2xpY2s9XCJteVZhcj0nbXktY2xhc3MnXCI+XG4gICAgICA8aW5wdXQgaWQ9XCJjbGVhcmJ0blwiIHR5cGU9XCJidXR0b25cIiB2YWx1ZT1cImNsZWFyXCIgbmctY2xpY2s9XCJteVZhcj0nJ1wiPlxuICAgICAgPGJyPlxuICAgICAgPHNwYW4gY2xhc3M9XCJiYXNlLWNsYXNzXCIgbmctY2xhc3M9XCJteVZhclwiPlNhbXBsZSBUZXh0PC9zcGFuPlxuICAgICA8L2ZpbGU+XG4gICAgIDxmaWxlIG5hbWU9XCJzdHlsZS5jc3NcIj5cbiAgICAgICAuYmFzZS1jbGFzcyB7XG4gICAgICAgICB0cmFuc2l0aW9uOmFsbCBjdWJpYy1iZXppZXIoMC4yNTAsIDAuNDYwLCAwLjQ1MCwgMC45NDApIDAuNXM7XG4gICAgICAgfVxuXG4gICAgICAgLmJhc2UtY2xhc3MubXktY2xhc3Mge1xuICAgICAgICAgY29sb3I6IHJlZDtcbiAgICAgICAgIGZvbnQtc2l6ZTozZW07XG4gICAgICAgfVxuICAgICA8L2ZpbGU+XG4gICAgIDxmaWxlIG5hbWU9XCJwcm90cmFjdG9yLmpzXCIgdHlwZT1cInByb3RyYWN0b3JcIj5cbiAgICAgICBpdCgnc2hvdWxkIGNoZWNrIG5nLWNsYXNzJywgZnVuY3Rpb24oKSB7XG4gICAgICAgICBleHBlY3QoZWxlbWVudChieS5jc3MoJy5iYXNlLWNsYXNzJykpLmdldEF0dHJpYnV0ZSgnY2xhc3MnKSkubm90LlxuICAgICAgICAgICB0b01hdGNoKC9teS1jbGFzcy8pO1xuXG4gICAgICAgICBlbGVtZW50KGJ5LmlkKCdzZXRidG4nKSkuY2xpY2soKTtcblxuICAgICAgICAgZXhwZWN0KGVsZW1lbnQoYnkuY3NzKCcuYmFzZS1jbGFzcycpKS5nZXRBdHRyaWJ1dGUoJ2NsYXNzJykpLlxuICAgICAgICAgICB0b01hdGNoKC9teS1jbGFzcy8pO1xuXG4gICAgICAgICBlbGVtZW50KGJ5LmlkKCdjbGVhcmJ0bicpKS5jbGljaygpO1xuXG4gICAgICAgICBleHBlY3QoZWxlbWVudChieS5jc3MoJy5iYXNlLWNsYXNzJykpLmdldEF0dHJpYnV0ZSgnY2xhc3MnKSkubm90LlxuICAgICAgICAgICB0b01hdGNoKC9teS1jbGFzcy8pO1xuICAgICAgIH0pO1xuICAgICA8L2ZpbGU+XG4gICA8L2V4YW1wbGU+XG5cblxuICAgIyMgbmdDbGFzcyBhbmQgcHJlLWV4aXN0aW5nIENTUzMgVHJhbnNpdGlvbnMvQW5pbWF0aW9uc1xuICAgVGhlIG5nQ2xhc3MgZGlyZWN0aXZlIHN0aWxsIHN1cHBvcnRzIENTUzMgVHJhbnNpdGlvbnMvQW5pbWF0aW9ucyBldmVuIGlmIHRoZXkgZG8gbm90IGZvbGxvdyB0aGUgbmdBbmltYXRlIENTUyBuYW1pbmcgc3RydWN0dXJlLlxuICAgVXBvbiBhbmltYXRpb24gbmdBbmltYXRlIHdpbGwgYXBwbHkgc3VwcGxlbWVudGFyeSBDU1MgY2xhc3NlcyB0byB0cmFjayB0aGUgc3RhcnQgYW5kIGVuZCBvZiBhbiBhbmltYXRpb24sIGJ1dCB0aGlzIHdpbGwgbm90IGhpbmRlclxuICAgYW55IHByZS1leGlzdGluZyBDU1MgdHJhbnNpdGlvbnMgYWxyZWFkeSBvbiB0aGUgZWxlbWVudC4gVG8gZ2V0IGFuIGlkZWEgb2Ygd2hhdCBoYXBwZW5zIGR1cmluZyBhIGNsYXNzLWJhc2VkIGFuaW1hdGlvbiwgYmUgc3VyZVxuICAgdG8gdmlldyB0aGUgc3RlcCBieSBzdGVwIGRldGFpbHMgb2Yge0BsaW5rICRhbmltYXRlI2FkZENsYXNzICRhbmltYXRlLmFkZENsYXNzfSBhbmRcbiAgIHtAbGluayAkYW5pbWF0ZSNyZW1vdmVDbGFzcyAkYW5pbWF0ZS5yZW1vdmVDbGFzc30uXG4gKi9cbnZhciBuZ0NsYXNzRGlyZWN0aXZlID0gY2xhc3NEaXJlY3RpdmUoJycsIHRydWUpO1xuXG4vKipcbiAqIEBuZ2RvYyBkaXJlY3RpdmVcbiAqIEBuYW1lIG5nQ2xhc3NPZGRcbiAqIEByZXN0cmljdCBBQ1xuICpcbiAqIEBkZXNjcmlwdGlvblxuICogVGhlIGBuZ0NsYXNzT2RkYCBhbmQgYG5nQ2xhc3NFdmVuYCBkaXJlY3RpdmVzIHdvcmsgZXhhY3RseSBhc1xuICoge0BsaW5rIG5nLmRpcmVjdGl2ZTpuZ0NsYXNzIG5nQ2xhc3N9LCBleGNlcHQgdGhleSB3b3JrIGluXG4gKiBjb25qdW5jdGlvbiB3aXRoIGBuZ1JlcGVhdGAgYW5kIHRha2UgZWZmZWN0IG9ubHkgb24gb2RkIChldmVuKSByb3dzLlxuICpcbiAqIFRoaXMgZGlyZWN0aXZlIGNhbiBiZSBhcHBsaWVkIG9ubHkgd2l0aGluIHRoZSBzY29wZSBvZiBhblxuICoge0BsaW5rIG5nLmRpcmVjdGl2ZTpuZ1JlcGVhdCBuZ1JlcGVhdH0uXG4gKlxuICogQGVsZW1lbnQgQU5ZXG4gKiBAcGFyYW0ge2V4cHJlc3Npb259IG5nQ2xhc3NPZGQge0BsaW5rIGd1aWRlL2V4cHJlc3Npb24gRXhwcmVzc2lvbn0gdG8gZXZhbC4gVGhlIHJlc3VsdFxuICogICBvZiB0aGUgZXZhbHVhdGlvbiBjYW4gYmUgYSBzdHJpbmcgcmVwcmVzZW50aW5nIHNwYWNlIGRlbGltaXRlZCBjbGFzcyBuYW1lcyBvciBhbiBhcnJheS5cbiAqXG4gKiBAZXhhbXBsZVxuICAgPGV4YW1wbGUgbmFtZT1cIm5nLWNsYXNzLW9kZFwiPlxuICAgICA8ZmlsZSBuYW1lPVwiaW5kZXguaHRtbFwiPlxuICAgICAgICA8b2wgbmctaW5pdD1cIm5hbWVzPVsnSm9obicsICdNYXJ5JywgJ0NhdGUnLCAnU3V6J11cIj5cbiAgICAgICAgICA8bGkgbmctcmVwZWF0PVwibmFtZSBpbiBuYW1lc1wiPlxuICAgICAgICAgICA8c3BhbiBuZy1jbGFzcy1vZGQ9XCInb2RkJ1wiIG5nLWNsYXNzLWV2ZW49XCInZXZlbidcIj5cbiAgICAgICAgICAgICB7e25hbWV9fVxuICAgICAgICAgICA8L3NwYW4+XG4gICAgICAgICAgPC9saT5cbiAgICAgICAgPC9vbD5cbiAgICAgPC9maWxlPlxuICAgICA8ZmlsZSBuYW1lPVwic3R5bGUuY3NzXCI+XG4gICAgICAgLm9kZCB7XG4gICAgICAgICBjb2xvcjogcmVkO1xuICAgICAgIH1cbiAgICAgICAuZXZlbiB7XG4gICAgICAgICBjb2xvcjogYmx1ZTtcbiAgICAgICB9XG4gICAgIDwvZmlsZT5cbiAgICAgPGZpbGUgbmFtZT1cInByb3RyYWN0b3IuanNcIiB0eXBlPVwicHJvdHJhY3RvclwiPlxuICAgICAgIGl0KCdzaG91bGQgY2hlY2sgbmctY2xhc3Mtb2RkIGFuZCBuZy1jbGFzcy1ldmVuJywgZnVuY3Rpb24oKSB7XG4gICAgICAgICBleHBlY3QoZWxlbWVudChieS5yZXBlYXRlcignbmFtZSBpbiBuYW1lcycpLnJvdygwKS5jb2x1bW4oJ25hbWUnKSkuZ2V0QXR0cmlidXRlKCdjbGFzcycpKS5cbiAgICAgICAgICAgdG9NYXRjaCgvb2RkLyk7XG4gICAgICAgICBleHBlY3QoZWxlbWVudChieS5yZXBlYXRlcignbmFtZSBpbiBuYW1lcycpLnJvdygxKS5jb2x1bW4oJ25hbWUnKSkuZ2V0QXR0cmlidXRlKCdjbGFzcycpKS5cbiAgICAgICAgICAgdG9NYXRjaCgvZXZlbi8pO1xuICAgICAgIH0pO1xuICAgICA8L2ZpbGU+XG4gICA8L2V4YW1wbGU+XG4gKi9cbnZhciBuZ0NsYXNzT2RkRGlyZWN0aXZlID0gY2xhc3NEaXJlY3RpdmUoJ09kZCcsIDApO1xuXG4vKipcbiAqIEBuZ2RvYyBkaXJlY3RpdmVcbiAqIEBuYW1lIG5nQ2xhc3NFdmVuXG4gKiBAcmVzdHJpY3QgQUNcbiAqXG4gKiBAZGVzY3JpcHRpb25cbiAqIFRoZSBgbmdDbGFzc09kZGAgYW5kIGBuZ0NsYXNzRXZlbmAgZGlyZWN0aXZlcyB3b3JrIGV4YWN0bHkgYXNcbiAqIHtAbGluayBuZy5kaXJlY3RpdmU6bmdDbGFzcyBuZ0NsYXNzfSwgZXhjZXB0IHRoZXkgd29yayBpblxuICogY29uanVuY3Rpb24gd2l0aCBgbmdSZXBlYXRgIGFuZCB0YWtlIGVmZmVjdCBvbmx5IG9uIG9kZCAoZXZlbikgcm93cy5cbiAqXG4gKiBUaGlzIGRpcmVjdGl2ZSBjYW4gYmUgYXBwbGllZCBvbmx5IHdpdGhpbiB0aGUgc2NvcGUgb2YgYW5cbiAqIHtAbGluayBuZy5kaXJlY3RpdmU6bmdSZXBlYXQgbmdSZXBlYXR9LlxuICpcbiAqIEBlbGVtZW50IEFOWVxuICogQHBhcmFtIHtleHByZXNzaW9ufSBuZ0NsYXNzRXZlbiB7QGxpbmsgZ3VpZGUvZXhwcmVzc2lvbiBFeHByZXNzaW9ufSB0byBldmFsLiBUaGVcbiAqICAgcmVzdWx0IG9mIHRoZSBldmFsdWF0aW9uIGNhbiBiZSBhIHN0cmluZyByZXByZXNlbnRpbmcgc3BhY2UgZGVsaW1pdGVkIGNsYXNzIG5hbWVzIG9yIGFuIGFycmF5LlxuICpcbiAqIEBleGFtcGxlXG4gICA8ZXhhbXBsZSBuYW1lPVwibmctY2xhc3MtZXZlblwiPlxuICAgICA8ZmlsZSBuYW1lPVwiaW5kZXguaHRtbFwiPlxuICAgICAgICA8b2wgbmctaW5pdD1cIm5hbWVzPVsnSm9obicsICdNYXJ5JywgJ0NhdGUnLCAnU3V6J11cIj5cbiAgICAgICAgICA8bGkgbmctcmVwZWF0PVwibmFtZSBpbiBuYW1lc1wiPlxuICAgICAgICAgICA8c3BhbiBuZy1jbGFzcy1vZGQ9XCInb2RkJ1wiIG5nLWNsYXNzLWV2ZW49XCInZXZlbidcIj5cbiAgICAgICAgICAgICB7e25hbWV9fSAmbmJzcDsgJm5ic3A7ICZuYnNwO1xuICAgICAgICAgICA8L3NwYW4+XG4gICAgICAgICAgPC9saT5cbiAgICAgICAgPC9vbD5cbiAgICAgPC9maWxlPlxuICAgICA8ZmlsZSBuYW1lPVwic3R5bGUuY3NzXCI+XG4gICAgICAgLm9kZCB7XG4gICAgICAgICBjb2xvcjogcmVkO1xuICAgICAgIH1cbiAgICAgICAuZXZlbiB7XG4gICAgICAgICBjb2xvcjogYmx1ZTtcbiAgICAgICB9XG4gICAgIDwvZmlsZT5cbiAgICAgPGZpbGUgbmFtZT1cInByb3RyYWN0b3IuanNcIiB0eXBlPVwicHJvdHJhY3RvclwiPlxuICAgICAgIGl0KCdzaG91bGQgY2hlY2sgbmctY2xhc3Mtb2RkIGFuZCBuZy1jbGFzcy1ldmVuJywgZnVuY3Rpb24oKSB7XG4gICAgICAgICBleHBlY3QoZWxlbWVudChieS5yZXBlYXRlcignbmFtZSBpbiBuYW1lcycpLnJvdygwKS5jb2x1bW4oJ25hbWUnKSkuZ2V0QXR0cmlidXRlKCdjbGFzcycpKS5cbiAgICAgICAgICAgdG9NYXRjaCgvb2RkLyk7XG4gICAgICAgICBleHBlY3QoZWxlbWVudChieS5yZXBlYXRlcignbmFtZSBpbiBuYW1lcycpLnJvdygxKS5jb2x1bW4oJ25hbWUnKSkuZ2V0QXR0cmlidXRlKCdjbGFzcycpKS5cbiAgICAgICAgICAgdG9NYXRjaCgvZXZlbi8pO1xuICAgICAgIH0pO1xuICAgICA8L2ZpbGU+XG4gICA8L2V4YW1wbGU+XG4gKi9cbnZhciBuZ0NsYXNzRXZlbkRpcmVjdGl2ZSA9IGNsYXNzRGlyZWN0aXZlKCdFdmVuJywgMSk7XG5cbi8qKlxuICogQG5nZG9jIGRpcmVjdGl2ZVxuICogQG5hbWUgbmdDbG9ha1xuICogQHJlc3RyaWN0IEFDXG4gKlxuICogQGRlc2NyaXB0aW9uXG4gKiBUaGUgYG5nQ2xvYWtgIGRpcmVjdGl2ZSBpcyB1c2VkIHRvIHByZXZlbnQgdGhlIEFuZ3VsYXIgaHRtbCB0ZW1wbGF0ZSBmcm9tIGJlaW5nIGJyaWVmbHlcbiAqIGRpc3BsYXllZCBieSB0aGUgYnJvd3NlciBpbiBpdHMgcmF3ICh1bmNvbXBpbGVkKSBmb3JtIHdoaWxlIHlvdXIgYXBwbGljYXRpb24gaXMgbG9hZGluZy4gVXNlIHRoaXNcbiAqIGRpcmVjdGl2ZSB0byBhdm9pZCB0aGUgdW5kZXNpcmFibGUgZmxpY2tlciBlZmZlY3QgY2F1c2VkIGJ5IHRoZSBodG1sIHRlbXBsYXRlIGRpc3BsYXkuXG4gKlxuICogVGhlIGRpcmVjdGl2ZSBjYW4gYmUgYXBwbGllZCB0byB0aGUgYDxib2R5PmAgZWxlbWVudCwgYnV0IHRoZSBwcmVmZXJyZWQgdXNhZ2UgaXMgdG8gYXBwbHlcbiAqIG11bHRpcGxlIGBuZ0Nsb2FrYCBkaXJlY3RpdmVzIHRvIHNtYWxsIHBvcnRpb25zIG9mIHRoZSBwYWdlIHRvIHBlcm1pdCBwcm9ncmVzc2l2ZSByZW5kZXJpbmdcbiAqIG9mIHRoZSBicm93c2VyIHZpZXcuXG4gKlxuICogYG5nQ2xvYWtgIHdvcmtzIGluIGNvb3BlcmF0aW9uIHdpdGggdGhlIGZvbGxvd2luZyBjc3MgcnVsZSBlbWJlZGRlZCB3aXRoaW4gYGFuZ3VsYXIuanNgIGFuZFxuICogYGFuZ3VsYXIubWluLmpzYC5cbiAqIEZvciBDU1AgbW9kZSBwbGVhc2UgYWRkIGBhbmd1bGFyLWNzcC5jc3NgIHRvIHlvdXIgaHRtbCBmaWxlIChzZWUge0BsaW5rIG5nLmRpcmVjdGl2ZTpuZ0NzcCBuZ0NzcH0pLlxuICpcbiAqIGBgYGNzc1xuICogW25nXFw6Y2xvYWtdLCBbbmctY2xvYWtdLCBbZGF0YS1uZy1jbG9ha10sIFt4LW5nLWNsb2FrXSwgLm5nLWNsb2FrLCAueC1uZy1jbG9hayB7XG4gKiAgIGRpc3BsYXk6IG5vbmUgIWltcG9ydGFudDtcbiAqIH1cbiAqIGBgYFxuICpcbiAqIFdoZW4gdGhpcyBjc3MgcnVsZSBpcyBsb2FkZWQgYnkgdGhlIGJyb3dzZXIsIGFsbCBodG1sIGVsZW1lbnRzIChpbmNsdWRpbmcgdGhlaXIgY2hpbGRyZW4pIHRoYXRcbiAqIGFyZSB0YWdnZWQgd2l0aCB0aGUgYG5nQ2xvYWtgIGRpcmVjdGl2ZSBhcmUgaGlkZGVuLiBXaGVuIEFuZ3VsYXIgZW5jb3VudGVycyB0aGlzIGRpcmVjdGl2ZVxuICogZHVyaW5nIHRoZSBjb21waWxhdGlvbiBvZiB0aGUgdGVtcGxhdGUgaXQgZGVsZXRlcyB0aGUgYG5nQ2xvYWtgIGVsZW1lbnQgYXR0cmlidXRlLCBtYWtpbmdcbiAqIHRoZSBjb21waWxlZCBlbGVtZW50IHZpc2libGUuXG4gKlxuICogRm9yIHRoZSBiZXN0IHJlc3VsdCwgdGhlIGBhbmd1bGFyLmpzYCBzY3JpcHQgbXVzdCBiZSBsb2FkZWQgaW4gdGhlIGhlYWQgc2VjdGlvbiBvZiB0aGUgaHRtbFxuICogZG9jdW1lbnQ7IGFsdGVybmF0aXZlbHksIHRoZSBjc3MgcnVsZSBhYm92ZSBtdXN0IGJlIGluY2x1ZGVkIGluIHRoZSBleHRlcm5hbCBzdHlsZXNoZWV0IG9mIHRoZVxuICogYXBwbGljYXRpb24uXG4gKlxuICogQGVsZW1lbnQgQU5ZXG4gKlxuICogQGV4YW1wbGVcbiAgIDxleGFtcGxlIG5hbWU9XCJuZy1jbG9ha1wiPlxuICAgICA8ZmlsZSBuYW1lPVwiaW5kZXguaHRtbFwiPlxuICAgICAgICA8ZGl2IGlkPVwidGVtcGxhdGUxXCIgbmctY2xvYWs+e3sgJ2hlbGxvJyB9fTwvZGl2PlxuICAgICAgICA8ZGl2IGlkPVwidGVtcGxhdGUyXCIgY2xhc3M9XCJuZy1jbG9ha1wiPnt7ICd3b3JsZCcgfX08L2Rpdj5cbiAgICAgPC9maWxlPlxuICAgICA8ZmlsZSBuYW1lPVwicHJvdHJhY3Rvci5qc1wiIHR5cGU9XCJwcm90cmFjdG9yXCI+XG4gICAgICAgaXQoJ3Nob3VsZCByZW1vdmUgdGhlIHRlbXBsYXRlIGRpcmVjdGl2ZSBhbmQgY3NzIGNsYXNzJywgZnVuY3Rpb24oKSB7XG4gICAgICAgICBleHBlY3QoJCgnI3RlbXBsYXRlMScpLmdldEF0dHJpYnV0ZSgnbmctY2xvYWsnKSkuXG4gICAgICAgICAgIHRvQmVOdWxsKCk7XG4gICAgICAgICBleHBlY3QoJCgnI3RlbXBsYXRlMicpLmdldEF0dHJpYnV0ZSgnbmctY2xvYWsnKSkuXG4gICAgICAgICAgIHRvQmVOdWxsKCk7XG4gICAgICAgfSk7XG4gICAgIDwvZmlsZT5cbiAgIDwvZXhhbXBsZT5cbiAqXG4gKi9cbnZhciBuZ0Nsb2FrRGlyZWN0aXZlID0gbmdEaXJlY3RpdmUoe1xuICBjb21waWxlOiBmdW5jdGlvbihlbGVtZW50LCBhdHRyKSB7XG4gICAgYXR0ci4kc2V0KCduZ0Nsb2FrJywgdW5kZWZpbmVkKTtcbiAgICBlbGVtZW50LnJlbW92ZUNsYXNzKCduZy1jbG9haycpO1xuICB9XG59KTtcblxuLyoqXG4gKiBAbmdkb2MgZGlyZWN0aXZlXG4gKiBAbmFtZSBuZ0NvbnRyb2xsZXJcbiAqXG4gKiBAZGVzY3JpcHRpb25cbiAqIFRoZSBgbmdDb250cm9sbGVyYCBkaXJlY3RpdmUgYXR0YWNoZXMgYSBjb250cm9sbGVyIGNsYXNzIHRvIHRoZSB2aWV3LiBUaGlzIGlzIGEga2V5IGFzcGVjdCBvZiBob3cgYW5ndWxhclxuICogc3VwcG9ydHMgdGhlIHByaW5jaXBsZXMgYmVoaW5kIHRoZSBNb2RlbC1WaWV3LUNvbnRyb2xsZXIgZGVzaWduIHBhdHRlcm4uXG4gKlxuICogTVZDIGNvbXBvbmVudHMgaW4gYW5ndWxhcjpcbiAqXG4gKiAqIE1vZGVsIOKAlCBNb2RlbHMgYXJlIHRoZSBwcm9wZXJ0aWVzIG9mIGEgc2NvcGU7IHNjb3BlcyBhcmUgYXR0YWNoZWQgdG8gdGhlIERPTSB3aGVyZSBzY29wZSBwcm9wZXJ0aWVzXG4gKiAgIGFyZSBhY2Nlc3NlZCB0aHJvdWdoIGJpbmRpbmdzLlxuICogKiBWaWV3IOKAlCBUaGUgdGVtcGxhdGUgKEhUTUwgd2l0aCBkYXRhIGJpbmRpbmdzKSB0aGF0IGlzIHJlbmRlcmVkIGludG8gdGhlIFZpZXcuXG4gKiAqIENvbnRyb2xsZXIg4oCUIFRoZSBgbmdDb250cm9sbGVyYCBkaXJlY3RpdmUgc3BlY2lmaWVzIGEgQ29udHJvbGxlciBjbGFzczsgdGhlIGNsYXNzIGNvbnRhaW5zIGJ1c2luZXNzXG4gKiAgIGxvZ2ljIGJlaGluZCB0aGUgYXBwbGljYXRpb24gdG8gZGVjb3JhdGUgdGhlIHNjb3BlIHdpdGggZnVuY3Rpb25zIGFuZCB2YWx1ZXNcbiAqXG4gKiBOb3RlIHRoYXQgeW91IGNhbiBhbHNvIGF0dGFjaCBjb250cm9sbGVycyB0byB0aGUgRE9NIGJ5IGRlY2xhcmluZyBpdCBpbiBhIHJvdXRlIGRlZmluaXRpb25cbiAqIHZpYSB0aGUge0BsaW5rIG5nUm91dGUuJHJvdXRlICRyb3V0ZX0gc2VydmljZS4gQSBjb21tb24gbWlzdGFrZSBpcyB0byBkZWNsYXJlIHRoZSBjb250cm9sbGVyXG4gKiBhZ2FpbiB1c2luZyBgbmctY29udHJvbGxlcmAgaW4gdGhlIHRlbXBsYXRlIGl0c2VsZi4gIFRoaXMgd2lsbCBjYXVzZSB0aGUgY29udHJvbGxlciB0byBiZSBhdHRhY2hlZFxuICogYW5kIGV4ZWN1dGVkIHR3aWNlLlxuICpcbiAqIEBlbGVtZW50IEFOWVxuICogQHNjb3BlXG4gKiBAcHJpb3JpdHkgNTAwXG4gKiBAcGFyYW0ge2V4cHJlc3Npb259IG5nQ29udHJvbGxlciBOYW1lIG9mIGEgY29uc3RydWN0b3IgZnVuY3Rpb24gcmVnaXN0ZXJlZCB3aXRoIHRoZSBjdXJyZW50XG4gKiB7QGxpbmsgbmcuJGNvbnRyb2xsZXJQcm92aWRlciAkY29udHJvbGxlclByb3ZpZGVyfSBvciBhbiB7QGxpbmsgZ3VpZGUvZXhwcmVzc2lvbiBleHByZXNzaW9ufVxuICogdGhhdCBvbiB0aGUgY3VycmVudCBzY29wZSBldmFsdWF0ZXMgdG8gYSBjb25zdHJ1Y3RvciBmdW5jdGlvbi5cbiAqXG4gKiBUaGUgY29udHJvbGxlciBpbnN0YW5jZSBjYW4gYmUgcHVibGlzaGVkIGludG8gYSBzY29wZSBwcm9wZXJ0eSBieSBzcGVjaWZ5aW5nXG4gKiBgbmctY29udHJvbGxlcj1cImFzIHByb3BlcnR5TmFtZVwiYC5cbiAqXG4gKiBJZiB0aGUgY3VycmVudCBgJGNvbnRyb2xsZXJQcm92aWRlcmAgaXMgY29uZmlndXJlZCB0byB1c2UgZ2xvYmFscyAodmlhXG4gKiB7QGxpbmsgbmcuJGNvbnRyb2xsZXJQcm92aWRlciNhbGxvd0dsb2JhbHMgYCRjb250cm9sbGVyUHJvdmlkZXIuYWxsb3dHbG9iYWxzKClgIH0pLCB0aGlzIG1heVxuICogYWxzbyBiZSB0aGUgbmFtZSBvZiBhIGdsb2JhbGx5IGFjY2Vzc2libGUgY29uc3RydWN0b3IgZnVuY3Rpb24gKGRlcHJlY2F0ZWQsIG5vdCByZWNvbW1lbmRlZCkuXG4gKlxuICogQGV4YW1wbGVcbiAqIEhlcmUgaXMgYSBzaW1wbGUgZm9ybSBmb3IgZWRpdGluZyB1c2VyIGNvbnRhY3QgaW5mb3JtYXRpb24uIEFkZGluZywgcmVtb3ZpbmcsIGNsZWFyaW5nLCBhbmRcbiAqIGdyZWV0aW5nIGFyZSBtZXRob2RzIGRlY2xhcmVkIG9uIHRoZSBjb250cm9sbGVyIChzZWUgc291cmNlIHRhYikuIFRoZXNlIG1ldGhvZHMgY2FuXG4gKiBlYXNpbHkgYmUgY2FsbGVkIGZyb20gdGhlIGFuZ3VsYXIgbWFya3VwLiBBbnkgY2hhbmdlcyB0byB0aGUgZGF0YSBhcmUgYXV0b21hdGljYWxseSByZWZsZWN0ZWRcbiAqIGluIHRoZSBWaWV3IHdpdGhvdXQgdGhlIG5lZWQgZm9yIGEgbWFudWFsIHVwZGF0ZS5cbiAqXG4gKiBUd28gZGlmZmVyZW50IGRlY2xhcmF0aW9uIHN0eWxlcyBhcmUgaW5jbHVkZWQgYmVsb3c6XG4gKlxuICogKiBvbmUgYmluZHMgbWV0aG9kcyBhbmQgcHJvcGVydGllcyBkaXJlY3RseSBvbnRvIHRoZSBjb250cm9sbGVyIHVzaW5nIGB0aGlzYDpcbiAqIGBuZy1jb250cm9sbGVyPVwiU2V0dGluZ3NDb250cm9sbGVyMSBhcyBzZXR0aW5nc1wiYFxuICogKiBvbmUgaW5qZWN0cyBgJHNjb3BlYCBpbnRvIHRoZSBjb250cm9sbGVyOlxuICogYG5nLWNvbnRyb2xsZXI9XCJTZXR0aW5nc0NvbnRyb2xsZXIyXCJgXG4gKlxuICogVGhlIHNlY29uZCBvcHRpb24gaXMgbW9yZSBjb21tb24gaW4gdGhlIEFuZ3VsYXIgY29tbXVuaXR5LCBhbmQgaXMgZ2VuZXJhbGx5IHVzZWQgaW4gYm9pbGVycGxhdGVzXG4gKiBhbmQgaW4gdGhpcyBndWlkZS4gSG93ZXZlciwgdGhlcmUgYXJlIGFkdmFudGFnZXMgdG8gYmluZGluZyBwcm9wZXJ0aWVzIGRpcmVjdGx5IHRvIHRoZSBjb250cm9sbGVyXG4gKiBhbmQgYXZvaWRpbmcgc2NvcGUuXG4gKlxuICogKiBVc2luZyBgY29udHJvbGxlciBhc2AgbWFrZXMgaXQgb2J2aW91cyB3aGljaCBjb250cm9sbGVyIHlvdSBhcmUgYWNjZXNzaW5nIGluIHRoZSB0ZW1wbGF0ZSB3aGVuXG4gKiBtdWx0aXBsZSBjb250cm9sbGVycyBhcHBseSB0byBhbiBlbGVtZW50LlxuICogKiBJZiB5b3UgYXJlIHdyaXRpbmcgeW91ciBjb250cm9sbGVycyBhcyBjbGFzc2VzIHlvdSBoYXZlIGVhc2llciBhY2Nlc3MgdG8gdGhlIHByb3BlcnRpZXMgYW5kXG4gKiBtZXRob2RzLCB3aGljaCB3aWxsIGFwcGVhciBvbiB0aGUgc2NvcGUsIGZyb20gaW5zaWRlIHRoZSBjb250cm9sbGVyIGNvZGUuXG4gKiAqIFNpbmNlIHRoZXJlIGlzIGFsd2F5cyBhIGAuYCBpbiB0aGUgYmluZGluZ3MsIHlvdSBkb24ndCBoYXZlIHRvIHdvcnJ5IGFib3V0IHByb3RvdHlwYWxcbiAqIGluaGVyaXRhbmNlIG1hc2tpbmcgcHJpbWl0aXZlcy5cbiAqXG4gKiBUaGlzIGV4YW1wbGUgZGVtb25zdHJhdGVzIHRoZSBgY29udHJvbGxlciBhc2Agc3ludGF4LlxuICpcbiAqIDxleGFtcGxlIG5hbWU9XCJuZ0NvbnRyb2xsZXJBc1wiIG1vZHVsZT1cImNvbnRyb2xsZXJBc0V4YW1wbGVcIj5cbiAqICAgPGZpbGUgbmFtZT1cImluZGV4Lmh0bWxcIj5cbiAqICAgIDxkaXYgaWQ9XCJjdHJsLWFzLWV4bXBsXCIgbmctY29udHJvbGxlcj1cIlNldHRpbmdzQ29udHJvbGxlcjEgYXMgc2V0dGluZ3NcIj5cbiAqICAgICAgPGxhYmVsPk5hbWU6IDxpbnB1dCB0eXBlPVwidGV4dFwiIG5nLW1vZGVsPVwic2V0dGluZ3MubmFtZVwiLz48L2xhYmVsPlxuICogICAgICA8YnV0dG9uIG5nLWNsaWNrPVwic2V0dGluZ3MuZ3JlZXQoKVwiPmdyZWV0PC9idXR0b24+PGJyLz5cbiAqICAgICAgQ29udGFjdDpcbiAqICAgICAgPHVsPlxuICogICAgICAgIDxsaSBuZy1yZXBlYXQ9XCJjb250YWN0IGluIHNldHRpbmdzLmNvbnRhY3RzXCI+XG4gKiAgICAgICAgICA8c2VsZWN0IG5nLW1vZGVsPVwiY29udGFjdC50eXBlXCIgYXJpYS1sYWJlbD1cIkNvbnRhY3QgbWV0aG9kXCIgaWQ9XCJzZWxlY3Rfe3skaW5kZXh9fVwiPlxuICogICAgICAgICAgICAgPG9wdGlvbj5waG9uZTwvb3B0aW9uPlxuICogICAgICAgICAgICAgPG9wdGlvbj5lbWFpbDwvb3B0aW9uPlxuICogICAgICAgICAgPC9zZWxlY3Q+XG4gKiAgICAgICAgICA8aW5wdXQgdHlwZT1cInRleHRcIiBuZy1tb2RlbD1cImNvbnRhY3QudmFsdWVcIiBhcmlhLWxhYmVsbGVkYnk9XCJzZWxlY3Rfe3skaW5kZXh9fVwiIC8+XG4gKiAgICAgICAgICA8YnV0dG9uIG5nLWNsaWNrPVwic2V0dGluZ3MuY2xlYXJDb250YWN0KGNvbnRhY3QpXCI+Y2xlYXI8L2J1dHRvbj5cbiAqICAgICAgICAgIDxidXR0b24gbmctY2xpY2s9XCJzZXR0aW5ncy5yZW1vdmVDb250YWN0KGNvbnRhY3QpXCIgYXJpYS1sYWJlbD1cIlJlbW92ZVwiPlg8L2J1dHRvbj5cbiAqICAgICAgICA8L2xpPlxuICogICAgICAgIDxsaT48YnV0dG9uIG5nLWNsaWNrPVwic2V0dGluZ3MuYWRkQ29udGFjdCgpXCI+YWRkPC9idXR0b24+PC9saT5cbiAqICAgICA8L3VsPlxuICogICAgPC9kaXY+XG4gKiAgIDwvZmlsZT5cbiAqICAgPGZpbGUgbmFtZT1cImFwcC5qc1wiPlxuICogICAgYW5ndWxhci5tb2R1bGUoJ2NvbnRyb2xsZXJBc0V4YW1wbGUnLCBbXSlcbiAqICAgICAgLmNvbnRyb2xsZXIoJ1NldHRpbmdzQ29udHJvbGxlcjEnLCBTZXR0aW5nc0NvbnRyb2xsZXIxKTtcbiAqXG4gKiAgICBmdW5jdGlvbiBTZXR0aW5nc0NvbnRyb2xsZXIxKCkge1xuICogICAgICB0aGlzLm5hbWUgPSAnSm9obiBTbWl0aCc7XG4gKiAgICAgIHRoaXMuY29udGFjdHMgPSBbXG4gKiAgICAgICAge3R5cGU6ICdwaG9uZScsIHZhbHVlOiAnNDA4IDU1NSAxMjEyJ30sXG4gKiAgICAgICAge3R5cGU6ICdlbWFpbCcsIHZhbHVlOiAnam9obi5zbWl0aEBleGFtcGxlLm9yZyd9XG4gKiAgICAgIF07XG4gKiAgICB9XG4gKlxuICogICAgU2V0dGluZ3NDb250cm9sbGVyMS5wcm90b3R5cGUuZ3JlZXQgPSBmdW5jdGlvbigpIHtcbiAqICAgICAgYWxlcnQodGhpcy5uYW1lKTtcbiAqICAgIH07XG4gKlxuICogICAgU2V0dGluZ3NDb250cm9sbGVyMS5wcm90b3R5cGUuYWRkQ29udGFjdCA9IGZ1bmN0aW9uKCkge1xuICogICAgICB0aGlzLmNvbnRhY3RzLnB1c2goe3R5cGU6ICdlbWFpbCcsIHZhbHVlOiAneW91cm5hbWVAZXhhbXBsZS5vcmcnfSk7XG4gKiAgICB9O1xuICpcbiAqICAgIFNldHRpbmdzQ29udHJvbGxlcjEucHJvdG90eXBlLnJlbW92ZUNvbnRhY3QgPSBmdW5jdGlvbihjb250YWN0VG9SZW1vdmUpIHtcbiAqICAgICB2YXIgaW5kZXggPSB0aGlzLmNvbnRhY3RzLmluZGV4T2YoY29udGFjdFRvUmVtb3ZlKTtcbiAqICAgICAgdGhpcy5jb250YWN0cy5zcGxpY2UoaW5kZXgsIDEpO1xuICogICAgfTtcbiAqXG4gKiAgICBTZXR0aW5nc0NvbnRyb2xsZXIxLnByb3RvdHlwZS5jbGVhckNvbnRhY3QgPSBmdW5jdGlvbihjb250YWN0KSB7XG4gKiAgICAgIGNvbnRhY3QudHlwZSA9ICdwaG9uZSc7XG4gKiAgICAgIGNvbnRhY3QudmFsdWUgPSAnJztcbiAqICAgIH07XG4gKiAgIDwvZmlsZT5cbiAqICAgPGZpbGUgbmFtZT1cInByb3RyYWN0b3IuanNcIiB0eXBlPVwicHJvdHJhY3RvclwiPlxuICogICAgIGl0KCdzaG91bGQgY2hlY2sgY29udHJvbGxlciBhcycsIGZ1bmN0aW9uKCkge1xuICogICAgICAgdmFyIGNvbnRhaW5lciA9IGVsZW1lbnQoYnkuaWQoJ2N0cmwtYXMtZXhtcGwnKSk7XG4gKiAgICAgICAgIGV4cGVjdChjb250YWluZXIuZWxlbWVudChieS5tb2RlbCgnc2V0dGluZ3MubmFtZScpKVxuICogICAgICAgICAgIC5nZXRBdHRyaWJ1dGUoJ3ZhbHVlJykpLnRvQmUoJ0pvaG4gU21pdGgnKTtcbiAqXG4gKiAgICAgICB2YXIgZmlyc3RSZXBlYXQgPVxuICogICAgICAgICAgIGNvbnRhaW5lci5lbGVtZW50KGJ5LnJlcGVhdGVyKCdjb250YWN0IGluIHNldHRpbmdzLmNvbnRhY3RzJykucm93KDApKTtcbiAqICAgICAgIHZhciBzZWNvbmRSZXBlYXQgPVxuICogICAgICAgICAgIGNvbnRhaW5lci5lbGVtZW50KGJ5LnJlcGVhdGVyKCdjb250YWN0IGluIHNldHRpbmdzLmNvbnRhY3RzJykucm93KDEpKTtcbiAqXG4gKiAgICAgICBleHBlY3QoZmlyc3RSZXBlYXQuZWxlbWVudChieS5tb2RlbCgnY29udGFjdC52YWx1ZScpKS5nZXRBdHRyaWJ1dGUoJ3ZhbHVlJykpXG4gKiAgICAgICAgICAgLnRvQmUoJzQwOCA1NTUgMTIxMicpO1xuICpcbiAqICAgICAgIGV4cGVjdChzZWNvbmRSZXBlYXQuZWxlbWVudChieS5tb2RlbCgnY29udGFjdC52YWx1ZScpKS5nZXRBdHRyaWJ1dGUoJ3ZhbHVlJykpXG4gKiAgICAgICAgICAgLnRvQmUoJ2pvaG4uc21pdGhAZXhhbXBsZS5vcmcnKTtcbiAqXG4gKiAgICAgICBmaXJzdFJlcGVhdC5lbGVtZW50KGJ5LmJ1dHRvblRleHQoJ2NsZWFyJykpLmNsaWNrKCk7XG4gKlxuICogICAgICAgZXhwZWN0KGZpcnN0UmVwZWF0LmVsZW1lbnQoYnkubW9kZWwoJ2NvbnRhY3QudmFsdWUnKSkuZ2V0QXR0cmlidXRlKCd2YWx1ZScpKVxuICogICAgICAgICAgIC50b0JlKCcnKTtcbiAqXG4gKiAgICAgICBjb250YWluZXIuZWxlbWVudChieS5idXR0b25UZXh0KCdhZGQnKSkuY2xpY2soKTtcbiAqXG4gKiAgICAgICBleHBlY3QoY29udGFpbmVyLmVsZW1lbnQoYnkucmVwZWF0ZXIoJ2NvbnRhY3QgaW4gc2V0dGluZ3MuY29udGFjdHMnKS5yb3coMikpXG4gKiAgICAgICAgICAgLmVsZW1lbnQoYnkubW9kZWwoJ2NvbnRhY3QudmFsdWUnKSlcbiAqICAgICAgICAgICAuZ2V0QXR0cmlidXRlKCd2YWx1ZScpKVxuICogICAgICAgICAgIC50b0JlKCd5b3VybmFtZUBleGFtcGxlLm9yZycpO1xuICogICAgIH0pO1xuICogICA8L2ZpbGU+XG4gKiA8L2V4YW1wbGU+XG4gKlxuICogVGhpcyBleGFtcGxlIGRlbW9uc3RyYXRlcyB0aGUgXCJhdHRhY2ggdG8gYCRzY29wZWBcIiBzdHlsZSBvZiBjb250cm9sbGVyLlxuICpcbiAqIDxleGFtcGxlIG5hbWU9XCJuZ0NvbnRyb2xsZXJcIiBtb2R1bGU9XCJjb250cm9sbGVyRXhhbXBsZVwiPlxuICogIDxmaWxlIG5hbWU9XCJpbmRleC5odG1sXCI+XG4gKiAgIDxkaXYgaWQ9XCJjdHJsLWV4bXBsXCIgbmctY29udHJvbGxlcj1cIlNldHRpbmdzQ29udHJvbGxlcjJcIj5cbiAqICAgICA8bGFiZWw+TmFtZTogPGlucHV0IHR5cGU9XCJ0ZXh0XCIgbmctbW9kZWw9XCJuYW1lXCIvPjwvbGFiZWw+XG4gKiAgICAgPGJ1dHRvbiBuZy1jbGljaz1cImdyZWV0KClcIj5ncmVldDwvYnV0dG9uPjxici8+XG4gKiAgICAgQ29udGFjdDpcbiAqICAgICA8dWw+XG4gKiAgICAgICA8bGkgbmctcmVwZWF0PVwiY29udGFjdCBpbiBjb250YWN0c1wiPlxuICogICAgICAgICA8c2VsZWN0IG5nLW1vZGVsPVwiY29udGFjdC50eXBlXCIgaWQ9XCJzZWxlY3Rfe3skaW5kZXh9fVwiPlxuICogICAgICAgICAgICA8b3B0aW9uPnBob25lPC9vcHRpb24+XG4gKiAgICAgICAgICAgIDxvcHRpb24+ZW1haWw8L29wdGlvbj5cbiAqICAgICAgICAgPC9zZWxlY3Q+XG4gKiAgICAgICAgIDxpbnB1dCB0eXBlPVwidGV4dFwiIG5nLW1vZGVsPVwiY29udGFjdC52YWx1ZVwiIGFyaWEtbGFiZWxsZWRieT1cInNlbGVjdF97eyRpbmRleH19XCIgLz5cbiAqICAgICAgICAgPGJ1dHRvbiBuZy1jbGljaz1cImNsZWFyQ29udGFjdChjb250YWN0KVwiPmNsZWFyPC9idXR0b24+XG4gKiAgICAgICAgIDxidXR0b24gbmctY2xpY2s9XCJyZW1vdmVDb250YWN0KGNvbnRhY3QpXCI+WDwvYnV0dG9uPlxuICogICAgICAgPC9saT5cbiAqICAgICAgIDxsaT5bIDxidXR0b24gbmctY2xpY2s9XCJhZGRDb250YWN0KClcIj5hZGQ8L2J1dHRvbj4gXTwvbGk+XG4gKiAgICA8L3VsPlxuICogICA8L2Rpdj5cbiAqICA8L2ZpbGU+XG4gKiAgPGZpbGUgbmFtZT1cImFwcC5qc1wiPlxuICogICBhbmd1bGFyLm1vZHVsZSgnY29udHJvbGxlckV4YW1wbGUnLCBbXSlcbiAqICAgICAuY29udHJvbGxlcignU2V0dGluZ3NDb250cm9sbGVyMicsIFsnJHNjb3BlJywgU2V0dGluZ3NDb250cm9sbGVyMl0pO1xuICpcbiAqICAgZnVuY3Rpb24gU2V0dGluZ3NDb250cm9sbGVyMigkc2NvcGUpIHtcbiAqICAgICAkc2NvcGUubmFtZSA9ICdKb2huIFNtaXRoJztcbiAqICAgICAkc2NvcGUuY29udGFjdHMgPSBbXG4gKiAgICAgICB7dHlwZToncGhvbmUnLCB2YWx1ZTonNDA4IDU1NSAxMjEyJ30sXG4gKiAgICAgICB7dHlwZTonZW1haWwnLCB2YWx1ZTonam9obi5zbWl0aEBleGFtcGxlLm9yZyd9XG4gKiAgICAgXTtcbiAqXG4gKiAgICAgJHNjb3BlLmdyZWV0ID0gZnVuY3Rpb24oKSB7XG4gKiAgICAgICBhbGVydCgkc2NvcGUubmFtZSk7XG4gKiAgICAgfTtcbiAqXG4gKiAgICAgJHNjb3BlLmFkZENvbnRhY3QgPSBmdW5jdGlvbigpIHtcbiAqICAgICAgICRzY29wZS5jb250YWN0cy5wdXNoKHt0eXBlOidlbWFpbCcsIHZhbHVlOid5b3VybmFtZUBleGFtcGxlLm9yZyd9KTtcbiAqICAgICB9O1xuICpcbiAqICAgICAkc2NvcGUucmVtb3ZlQ29udGFjdCA9IGZ1bmN0aW9uKGNvbnRhY3RUb1JlbW92ZSkge1xuICogICAgICAgdmFyIGluZGV4ID0gJHNjb3BlLmNvbnRhY3RzLmluZGV4T2YoY29udGFjdFRvUmVtb3ZlKTtcbiAqICAgICAgICRzY29wZS5jb250YWN0cy5zcGxpY2UoaW5kZXgsIDEpO1xuICogICAgIH07XG4gKlxuICogICAgICRzY29wZS5jbGVhckNvbnRhY3QgPSBmdW5jdGlvbihjb250YWN0KSB7XG4gKiAgICAgICBjb250YWN0LnR5cGUgPSAncGhvbmUnO1xuICogICAgICAgY29udGFjdC52YWx1ZSA9ICcnO1xuICogICAgIH07XG4gKiAgIH1cbiAqICA8L2ZpbGU+XG4gKiAgPGZpbGUgbmFtZT1cInByb3RyYWN0b3IuanNcIiB0eXBlPVwicHJvdHJhY3RvclwiPlxuICogICAgaXQoJ3Nob3VsZCBjaGVjayBjb250cm9sbGVyJywgZnVuY3Rpb24oKSB7XG4gKiAgICAgIHZhciBjb250YWluZXIgPSBlbGVtZW50KGJ5LmlkKCdjdHJsLWV4bXBsJykpO1xuICpcbiAqICAgICAgZXhwZWN0KGNvbnRhaW5lci5lbGVtZW50KGJ5Lm1vZGVsKCduYW1lJykpXG4gKiAgICAgICAgICAuZ2V0QXR0cmlidXRlKCd2YWx1ZScpKS50b0JlKCdKb2huIFNtaXRoJyk7XG4gKlxuICogICAgICB2YXIgZmlyc3RSZXBlYXQgPVxuICogICAgICAgICAgY29udGFpbmVyLmVsZW1lbnQoYnkucmVwZWF0ZXIoJ2NvbnRhY3QgaW4gY29udGFjdHMnKS5yb3coMCkpO1xuICogICAgICB2YXIgc2Vjb25kUmVwZWF0ID1cbiAqICAgICAgICAgIGNvbnRhaW5lci5lbGVtZW50KGJ5LnJlcGVhdGVyKCdjb250YWN0IGluIGNvbnRhY3RzJykucm93KDEpKTtcbiAqXG4gKiAgICAgIGV4cGVjdChmaXJzdFJlcGVhdC5lbGVtZW50KGJ5Lm1vZGVsKCdjb250YWN0LnZhbHVlJykpLmdldEF0dHJpYnV0ZSgndmFsdWUnKSlcbiAqICAgICAgICAgIC50b0JlKCc0MDggNTU1IDEyMTInKTtcbiAqICAgICAgZXhwZWN0KHNlY29uZFJlcGVhdC5lbGVtZW50KGJ5Lm1vZGVsKCdjb250YWN0LnZhbHVlJykpLmdldEF0dHJpYnV0ZSgndmFsdWUnKSlcbiAqICAgICAgICAgIC50b0JlKCdqb2huLnNtaXRoQGV4YW1wbGUub3JnJyk7XG4gKlxuICogICAgICBmaXJzdFJlcGVhdC5lbGVtZW50KGJ5LmJ1dHRvblRleHQoJ2NsZWFyJykpLmNsaWNrKCk7XG4gKlxuICogICAgICBleHBlY3QoZmlyc3RSZXBlYXQuZWxlbWVudChieS5tb2RlbCgnY29udGFjdC52YWx1ZScpKS5nZXRBdHRyaWJ1dGUoJ3ZhbHVlJykpXG4gKiAgICAgICAgICAudG9CZSgnJyk7XG4gKlxuICogICAgICBjb250YWluZXIuZWxlbWVudChieS5idXR0b25UZXh0KCdhZGQnKSkuY2xpY2soKTtcbiAqXG4gKiAgICAgIGV4cGVjdChjb250YWluZXIuZWxlbWVudChieS5yZXBlYXRlcignY29udGFjdCBpbiBjb250YWN0cycpLnJvdygyKSlcbiAqICAgICAgICAgIC5lbGVtZW50KGJ5Lm1vZGVsKCdjb250YWN0LnZhbHVlJykpXG4gKiAgICAgICAgICAuZ2V0QXR0cmlidXRlKCd2YWx1ZScpKVxuICogICAgICAgICAgLnRvQmUoJ3lvdXJuYW1lQGV4YW1wbGUub3JnJyk7XG4gKiAgICB9KTtcbiAqICA8L2ZpbGU+XG4gKjwvZXhhbXBsZT5cblxuICovXG52YXIgbmdDb250cm9sbGVyRGlyZWN0aXZlID0gW2Z1bmN0aW9uKCkge1xuICByZXR1cm4ge1xuICAgIHJlc3RyaWN0OiAnQScsXG4gICAgc2NvcGU6IHRydWUsXG4gICAgY29udHJvbGxlcjogJ0AnLFxuICAgIHByaW9yaXR5OiA1MDBcbiAgfTtcbn1dO1xuXG4vKipcbiAqIEBuZ2RvYyBkaXJlY3RpdmVcbiAqIEBuYW1lIG5nQ3NwXG4gKlxuICogQHJlc3RyaWN0IEFcbiAqIEBlbGVtZW50IEFOWVxuICogQGRlc2NyaXB0aW9uXG4gKlxuICogQW5ndWxhciBoYXMgc29tZSBmZWF0dXJlcyB0aGF0IGNhbiBjb25mbGljdCB3aXRoIGNlcnRhaW4gcmVzdHJpY3Rpb25zIHRoYXQgYXJlIGFwcGxpZWQgd2hlbiB1c2luZ1xuICogW0NTUCAoQ29udGVudCBTZWN1cml0eSBQb2xpY3kpXShodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi9TZWN1cml0eS9DU1ApIHJ1bGVzLlxuICpcbiAqIElmIHlvdSBpbnRlbmQgdG8gaW1wbGVtZW50IENTUCB3aXRoIHRoZXNlIHJ1bGVzIHRoZW4geW91IG11c3QgdGVsbCBBbmd1bGFyIG5vdCB0byB1c2UgdGhlc2VcbiAqIGZlYXR1cmVzLlxuICpcbiAqIFRoaXMgaXMgbmVjZXNzYXJ5IHdoZW4gZGV2ZWxvcGluZyB0aGluZ3MgbGlrZSBHb29nbGUgQ2hyb21lIEV4dGVuc2lvbnMgb3IgVW5pdmVyc2FsIFdpbmRvd3MgQXBwcy5cbiAqXG4gKlxuICogVGhlIGZvbGxvd2luZyBkZWZhdWx0IHJ1bGVzIGluIENTUCBhZmZlY3QgQW5ndWxhcjpcbiAqXG4gKiAqIFRoZSB1c2Ugb2YgYGV2YWwoKWAsIGBGdW5jdGlvbihzdHJpbmcpYCBhbmQgc2ltaWxhciBmdW5jdGlvbnMgdG8gZHluYW1pY2FsbHkgY3JlYXRlIGFuZCBleGVjdXRlXG4gKiBjb2RlIGZyb20gc3RyaW5ncyBpcyBmb3JiaWRkZW4uIEFuZ3VsYXIgbWFrZXMgdXNlIG9mIHRoaXMgaW4gdGhlIHtAbGluayAkcGFyc2V9IHNlcnZpY2UgdG9cbiAqIHByb3ZpZGUgYSAzMCUgaW5jcmVhc2UgaW4gdGhlIHNwZWVkIG9mIGV2YWx1YXRpbmcgQW5ndWxhciBleHByZXNzaW9ucy4gKFRoaXMgQ1NQIHJ1bGUgY2FuIGJlXG4gKiBkaXNhYmxlZCB3aXRoIHRoZSBDU1Aga2V5d29yZCBgdW5zYWZlLWV2YWxgLCBidXQgaXQgaXMgZ2VuZXJhbGx5IG5vdCByZWNvbW1lbmRlZCBhcyBpdCB3b3VsZFxuICogd2Vha2VuIHRoZSBwcm90ZWN0aW9ucyBvZmZlcmVkIGJ5IENTUC4pXG4gKlxuICogKiBUaGUgdXNlIG9mIGlubGluZSByZXNvdXJjZXMsIHN1Y2ggYXMgaW5saW5lIGA8c2NyaXB0PmAgYW5kIGA8c3R5bGU+YCBlbGVtZW50cywgYXJlIGZvcmJpZGRlbi5cbiAqIFRoaXMgcHJldmVudHMgYXBwcyBmcm9tIGluamVjdGluZyBjdXN0b20gc3R5bGVzIGRpcmVjdGx5IGludG8gdGhlIGRvY3VtZW50LiBBbmd1bGFyIG1ha2VzIHVzZSBvZlxuICogdGhpcyB0byBpbmNsdWRlIHNvbWUgQ1NTIHJ1bGVzIChlLmcuIHtAbGluayBuZ0Nsb2FrfSBhbmQge0BsaW5rIG5nSGlkZX0pLiBUbyBtYWtlIHRoZXNlXG4gKiBkaXJlY3RpdmVzIHdvcmsgd2hlbiBhIENTUCBydWxlIGlzIGJsb2NraW5nIGlubGluZSBzdHlsZXMsIHlvdSBtdXN0IGxpbmsgdG8gdGhlIGBhbmd1bGFyLWNzcC5jc3NgXG4gKiBpbiB5b3VyIEhUTUwgbWFudWFsbHkuIChUaGlzIENTUCBydWxlIGNhbiBiZSBkaXNhYmxlZCB3aXRoIHRoZSBDU1Aga2V5d29yZCBgdW5zYWZlLWlubGluZWAsIGJ1dFxuICogaXQgaXMgZ2VuZXJhbGx5IG5vdCByZWNvbW1lbmRlZCBhcyBpdCB3b3VsZCB3ZWFrZW4gdGhlIHByb3RlY3Rpb25zIG9mZmVyZWQgYnkgQ1NQLilcbiAqXG4gKiBJZiB5b3UgZG8gbm90IHByb3ZpZGUgYG5nQ3NwYCB0aGVuIEFuZ3VsYXIgdHJpZXMgdG8gYXV0b2RldGVjdCBpZiBDU1AgaXMgYmxvY2tpbmcgZHluYW1pYyBjb2RlXG4gKiBjcmVhdGlvbiBmcm9tIHN0cmluZ3MgKGUuZy4sIGB1bnNhZmUtZXZhbGAgbm90IHNwZWNpZmllZCBpbiBDU1AgaGVhZGVyKSBhbmQgYXV0b21hdGljYWxseVxuICogZGVhY3RpdmF0ZXMgdGhpcyBmZWF0dXJlIGluIHRoZSB7QGxpbmsgJHBhcnNlfSBzZXJ2aWNlLiBUaGlzIGF1dG9kZXRlY3Rpb24sIGhvd2V2ZXIsIHRyaWdnZXJzIGFcbiAqIENTUCBlcnJvciB0byBiZSBsb2dnZWQgaW4gdGhlIGNvbnNvbGU6XG4gKlxuICogYGBgXG4gKiBSZWZ1c2VkIHRvIGV2YWx1YXRlIGEgc3RyaW5nIGFzIEphdmFTY3JpcHQgYmVjYXVzZSAndW5zYWZlLWV2YWwnIGlzIG5vdCBhbiBhbGxvd2VkIHNvdXJjZSBvZlxuICogc2NyaXB0IGluIHRoZSBmb2xsb3dpbmcgQ29udGVudCBTZWN1cml0eSBQb2xpY3kgZGlyZWN0aXZlOiBcImRlZmF1bHQtc3JjICdzZWxmJ1wiLiBOb3RlIHRoYXRcbiAqICdzY3JpcHQtc3JjJyB3YXMgbm90IGV4cGxpY2l0bHkgc2V0LCBzbyAnZGVmYXVsdC1zcmMnIGlzIHVzZWQgYXMgYSBmYWxsYmFjay5cbiAqIGBgYFxuICpcbiAqIFRoaXMgZXJyb3IgaXMgaGFybWxlc3MgYnV0IGFubm95aW5nLiBUbyBwcmV2ZW50IHRoZSBlcnJvciBmcm9tIHNob3dpbmcgdXAsIHB1dCB0aGUgYG5nQ3NwYFxuICogZGlyZWN0aXZlIG9uIGFuIGVsZW1lbnQgb2YgdGhlIEhUTUwgZG9jdW1lbnQgdGhhdCBhcHBlYXJzIGJlZm9yZSB0aGUgYDxzY3JpcHQ+YCB0YWcgdGhhdCBsb2Fkc1xuICogdGhlIGBhbmd1bGFyLmpzYCBmaWxlLlxuICpcbiAqICpOb3RlOiBUaGlzIGRpcmVjdGl2ZSBpcyBvbmx5IGF2YWlsYWJsZSBpbiB0aGUgYG5nLWNzcGAgYW5kIGBkYXRhLW5nLWNzcGAgYXR0cmlidXRlIGZvcm0uKlxuICpcbiAqIFlvdSBjYW4gc3BlY2lmeSB3aGljaCBvZiB0aGUgQ1NQIHJlbGF0ZWQgQW5ndWxhciBmZWF0dXJlcyBzaG91bGQgYmUgZGVhY3RpdmF0ZWQgYnkgcHJvdmlkaW5nXG4gKiBhIHZhbHVlIGZvciB0aGUgYG5nLWNzcGAgYXR0cmlidXRlLiBUaGUgb3B0aW9ucyBhcmUgYXMgZm9sbG93czpcbiAqXG4gKiAqIG5vLWlubGluZS1zdHlsZTogdGhpcyBzdG9wcyBBbmd1bGFyIGZyb20gaW5qZWN0aW5nIENTUyBzdHlsZXMgaW50byB0aGUgRE9NXG4gKlxuICogKiBuby11bnNhZmUtZXZhbDogdGhpcyBzdG9wcyBBbmd1bGFyIGZyb20gb3B0aW1pemluZyAkcGFyc2Ugd2l0aCB1bnNhZmUgZXZhbCBvZiBzdHJpbmdzXG4gKlxuICogWW91IGNhbiB1c2UgdGhlc2UgdmFsdWVzIGluIHRoZSBmb2xsb3dpbmcgY29tYmluYXRpb25zOlxuICpcbiAqXG4gKiAqIE5vIGRlY2xhcmF0aW9uIG1lYW5zIHRoYXQgQW5ndWxhciB3aWxsIGFzc3VtZSB0aGF0IHlvdSBjYW4gZG8gaW5saW5lIHN0eWxlcywgYnV0IGl0IHdpbGwgZG9cbiAqIGEgcnVudGltZSBjaGVjayBmb3IgdW5zYWZlLWV2YWwuIEUuZy4gYDxib2R5PmAuIFRoaXMgaXMgYmFja3dhcmRseSBjb21wYXRpYmxlIHdpdGggcHJldmlvdXNcbiAqIHZlcnNpb25zIG9mIEFuZ3VsYXIuXG4gKlxuICogKiBBIHNpbXBsZSBgbmctY3NwYCAob3IgYGRhdGEtbmctY3NwYCkgYXR0cmlidXRlIHdpbGwgdGVsbCBBbmd1bGFyIHRvIGRlYWN0aXZhdGUgYm90aCBpbmxpbmVcbiAqIHN0eWxlcyBhbmQgdW5zYWZlIGV2YWwuIEUuZy4gYDxib2R5IG5nLWNzcD5gLiBUaGlzIGlzIGJhY2t3YXJkbHkgY29tcGF0aWJsZSB3aXRoIHByZXZpb3VzXG4gKiB2ZXJzaW9ucyBvZiBBbmd1bGFyLlxuICpcbiAqICogU3BlY2lmeWluZyBvbmx5IGBuby11bnNhZmUtZXZhbGAgdGVsbHMgQW5ndWxhciB0aGF0IHdlIG11c3Qgbm90IHVzZSBldmFsLCBidXQgdGhhdCB3ZSBjYW5cbiAqIGluamVjdCBpbmxpbmUgc3R5bGVzLiBFLmcuIGA8Ym9keSBuZy1jc3A9XCJuby11bnNhZmUtZXZhbFwiPmAuXG4gKlxuICogKiBTcGVjaWZ5aW5nIG9ubHkgYG5vLWlubGluZS1zdHlsZWAgdGVsbHMgQW5ndWxhciB0aGF0IHdlIG11c3Qgbm90IGluamVjdCBzdHlsZXMsIGJ1dCB0aGF0IHdlIGNhblxuICogcnVuIGV2YWwgLSBubyBhdXRvbWF0aWMgY2hlY2sgZm9yIHVuc2FmZSBldmFsIHdpbGwgb2NjdXIuIEUuZy4gYDxib2R5IG5nLWNzcD1cIm5vLWlubGluZS1zdHlsZVwiPmBcbiAqXG4gKiAqIFNwZWNpZnlpbmcgYm90aCBgbm8tdW5zYWZlLWV2YWxgIGFuZCBgbm8taW5saW5lLXN0eWxlYCB0ZWxscyBBbmd1bGFyIHRoYXQgd2UgbXVzdCBub3QgaW5qZWN0XG4gKiBzdHlsZXMgbm9yIHVzZSBldmFsLCB3aGljaCBpcyB0aGUgc2FtZSBhcyBhbiBlbXB0eTogbmctY3NwLlxuICogRS5nLmA8Ym9keSBuZy1jc3A9XCJuby1pbmxpbmUtc3R5bGU7bm8tdW5zYWZlLWV2YWxcIj5gXG4gKlxuICogQGV4YW1wbGVcbiAqIFRoaXMgZXhhbXBsZSBzaG93cyBob3cgdG8gYXBwbHkgdGhlIGBuZ0NzcGAgZGlyZWN0aXZlIHRvIHRoZSBgaHRtbGAgdGFnLlxuICAgYGBgaHRtbFxuICAgICA8IWRvY3R5cGUgaHRtbD5cbiAgICAgPGh0bWwgbmctYXBwIG5nLWNzcD5cbiAgICAgLi4uXG4gICAgIC4uLlxuICAgICA8L2h0bWw+XG4gICBgYGBcbiAgKiBAZXhhbXBsZVxuICAgICAgPCEtLSBOb3RlOiB0aGUgYC5jc3BgIHN1ZmZpeCBpbiB0aGUgZXhhbXBsZSBuYW1lIHRyaWdnZXJzIENTUCBtb2RlIGluIG91ciBodHRwIHNlcnZlciEgLS0+XG4gICAgICA8ZXhhbXBsZSBuYW1lPVwiZXhhbXBsZS5jc3BcIiBtb2R1bGU9XCJjc3BFeGFtcGxlXCIgbmctY3NwPVwidHJ1ZVwiPlxuICAgICAgICA8ZmlsZSBuYW1lPVwiaW5kZXguaHRtbFwiPlxuICAgICAgICAgIDxkaXYgbmctY29udHJvbGxlcj1cIk1haW5Db250cm9sbGVyIGFzIGN0cmxcIj5cbiAgICAgICAgICAgIDxkaXY+XG4gICAgICAgICAgICAgIDxidXR0b24gbmctY2xpY2s9XCJjdHJsLmluYygpXCIgaWQ9XCJpbmNcIj5JbmNyZW1lbnQ8L2J1dHRvbj5cbiAgICAgICAgICAgICAgPHNwYW4gaWQ9XCJjb3VudGVyXCI+XG4gICAgICAgICAgICAgICAge3tjdHJsLmNvdW50ZXJ9fVxuICAgICAgICAgICAgICA8L3NwYW4+XG4gICAgICAgICAgICA8L2Rpdj5cblxuICAgICAgICAgICAgPGRpdj5cbiAgICAgICAgICAgICAgPGJ1dHRvbiBuZy1jbGljaz1cImN0cmwuZXZpbCgpXCIgaWQ9XCJldmlsXCI+RXZpbDwvYnV0dG9uPlxuICAgICAgICAgICAgICA8c3BhbiBpZD1cImV2aWxFcnJvclwiPlxuICAgICAgICAgICAgICAgIHt7Y3RybC5ldmlsRXJyb3J9fVxuICAgICAgICAgICAgICA8L3NwYW4+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9maWxlPlxuICAgICAgICA8ZmlsZSBuYW1lPVwic2NyaXB0LmpzXCI+XG4gICAgICAgICAgIGFuZ3VsYXIubW9kdWxlKCdjc3BFeGFtcGxlJywgW10pXG4gICAgICAgICAgICAgLmNvbnRyb2xsZXIoJ01haW5Db250cm9sbGVyJywgZnVuY3Rpb24gTWFpbkNvbnRyb2xsZXIoKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5jb3VudGVyID0gMDtcbiAgICAgICAgICAgICAgICB0aGlzLmluYyA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICAgdGhpcy5jb3VudGVyKys7XG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICB0aGlzLmV2aWwgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgIGV2YWwoJzErMicpOyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLWV2YWxcbiAgICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5ldmlsRXJyb3IgPSBlLm1lc3NhZ2U7XG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgfSk7XG4gICAgICAgIDwvZmlsZT5cbiAgICAgICAgPGZpbGUgbmFtZT1cInByb3RyYWN0b3IuanNcIiB0eXBlPVwicHJvdHJhY3RvclwiPlxuICAgICAgICAgIHZhciB1dGlsLCB3ZWJkcml2ZXI7XG5cbiAgICAgICAgICB2YXIgaW5jQnRuID0gZWxlbWVudChieS5pZCgnaW5jJykpO1xuICAgICAgICAgIHZhciBjb3VudGVyID0gZWxlbWVudChieS5pZCgnY291bnRlcicpKTtcbiAgICAgICAgICB2YXIgZXZpbEJ0biA9IGVsZW1lbnQoYnkuaWQoJ2V2aWwnKSk7XG4gICAgICAgICAgdmFyIGV2aWxFcnJvciA9IGVsZW1lbnQoYnkuaWQoJ2V2aWxFcnJvcicpKTtcblxuICAgICAgICAgIGZ1bmN0aW9uIGdldEFuZENsZWFyU2V2ZXJlRXJyb3JzKCkge1xuICAgICAgICAgICAgcmV0dXJuIGJyb3dzZXIubWFuYWdlKCkubG9ncygpLmdldCgnYnJvd3NlcicpLnRoZW4oZnVuY3Rpb24oYnJvd3NlckxvZykge1xuICAgICAgICAgICAgICByZXR1cm4gYnJvd3NlckxvZy5maWx0ZXIoZnVuY3Rpb24obG9nRW50cnkpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gbG9nRW50cnkubGV2ZWwudmFsdWUgPiB3ZWJkcml2ZXIubG9nZ2luZy5MZXZlbC5XQVJOSU5HLnZhbHVlO1xuICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGZ1bmN0aW9uIGNsZWFyRXJyb3JzKCkge1xuICAgICAgICAgICAgZ2V0QW5kQ2xlYXJTZXZlcmVFcnJvcnMoKTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBmdW5jdGlvbiBleHBlY3ROb0Vycm9ycygpIHtcbiAgICAgICAgICAgIGdldEFuZENsZWFyU2V2ZXJlRXJyb3JzKCkudGhlbihmdW5jdGlvbihmaWx0ZXJlZExvZykge1xuICAgICAgICAgICAgICBleHBlY3QoZmlsdGVyZWRMb2cubGVuZ3RoKS50b0VxdWFsKDApO1xuICAgICAgICAgICAgICBpZiAoZmlsdGVyZWRMb2cubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ2Jyb3dzZXIgY29uc29sZSBlcnJvcnM6ICcgKyB1dGlsLmluc3BlY3QoZmlsdGVyZWRMb2cpKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgZnVuY3Rpb24gZXhwZWN0RXJyb3IocmVnZXgpIHtcbiAgICAgICAgICAgIGdldEFuZENsZWFyU2V2ZXJlRXJyb3JzKCkudGhlbihmdW5jdGlvbihmaWx0ZXJlZExvZykge1xuICAgICAgICAgICAgICB2YXIgZm91bmQgPSBmYWxzZTtcbiAgICAgICAgICAgICAgZmlsdGVyZWRMb2cuZm9yRWFjaChmdW5jdGlvbihsb2cpIHtcbiAgICAgICAgICAgICAgICBpZiAobG9nLm1lc3NhZ2UubWF0Y2gocmVnZXgpKSB7XG4gICAgICAgICAgICAgICAgICBmb3VuZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgaWYgKCFmb3VuZCkge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignZXhwZWN0ZWQgYW4gZXJyb3IgdGhhdCBtYXRjaGVzICcgKyByZWdleCk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGJlZm9yZUVhY2goZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICB1dGlsID0gcmVxdWlyZSgndXRpbCcpO1xuICAgICAgICAgICAgd2ViZHJpdmVyID0gcmVxdWlyZSgnc2VsZW5pdW0td2ViZHJpdmVyJyk7XG4gICAgICAgICAgfSk7XG5cbiAgICAgICAgICAvLyBGb3Igbm93LCB3ZSBvbmx5IHRlc3Qgb24gQ2hyb21lLFxuICAgICAgICAgIC8vIGFzIFNhZmFyaSBkb2VzIG5vdCBsb2FkIHRoZSBwYWdlIHdpdGggUHJvdHJhY3RvcidzIGluamVjdGVkIHNjcmlwdHMsXG4gICAgICAgICAgLy8gYW5kIEZpcmVmb3ggd2ViZHJpdmVyIGFsd2F5cyBkaXNhYmxlcyBjb250ZW50IHNlY3VyaXR5IHBvbGljeSAoIzYzNTgpXG4gICAgICAgICAgaWYgKGJyb3dzZXIucGFyYW1zLmJyb3dzZXIgIT09ICdjaHJvbWUnKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgaXQoJ3Nob3VsZCBub3QgcmVwb3J0IGVycm9ycyB3aGVuIHRoZSBwYWdlIGlzIGxvYWRlZCcsIGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgLy8gY2xlYXIgZXJyb3JzIHNvIHdlIGFyZSBub3QgZGVwZW5kZW50IG9uIHByZXZpb3VzIHRlc3RzXG4gICAgICAgICAgICBjbGVhckVycm9ycygpO1xuICAgICAgICAgICAgLy8gTmVlZCB0byByZWxvYWQgdGhlIHBhZ2UgYXMgdGhlIHBhZ2UgaXMgYWxyZWFkeSBsb2FkZWQgd2hlblxuICAgICAgICAgICAgLy8gd2UgY29tZSBoZXJlXG4gICAgICAgICAgICBicm93c2VyLmRyaXZlci5nZXRDdXJyZW50VXJsKCkudGhlbihmdW5jdGlvbih1cmwpIHtcbiAgICAgICAgICAgICAgYnJvd3Nlci5nZXQodXJsKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgZXhwZWN0Tm9FcnJvcnMoKTtcbiAgICAgICAgICB9KTtcblxuICAgICAgICAgIGl0KCdzaG91bGQgZXZhbHVhdGUgZXhwcmVzc2lvbnMnLCBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIGV4cGVjdChjb3VudGVyLmdldFRleHQoKSkudG9FcXVhbCgnMCcpO1xuICAgICAgICAgICAgaW5jQnRuLmNsaWNrKCk7XG4gICAgICAgICAgICBleHBlY3QoY291bnRlci5nZXRUZXh0KCkpLnRvRXF1YWwoJzEnKTtcbiAgICAgICAgICAgIGV4cGVjdE5vRXJyb3JzKCk7XG4gICAgICAgICAgfSk7XG5cbiAgICAgICAgICBpdCgnc2hvdWxkIHRocm93IGFuZCByZXBvcnQgYW4gZXJyb3Igd2hlbiB1c2luZyBcImV2YWxcIicsIGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgZXZpbEJ0bi5jbGljaygpO1xuICAgICAgICAgICAgZXhwZWN0KGV2aWxFcnJvci5nZXRUZXh0KCkpLnRvTWF0Y2goL0NvbnRlbnQgU2VjdXJpdHkgUG9saWN5Lyk7XG4gICAgICAgICAgICBleHBlY3RFcnJvcigvQ29udGVudCBTZWN1cml0eSBQb2xpY3kvKTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgPC9maWxlPlxuICAgICAgPC9leGFtcGxlPlxuICAqL1xuXG4vLyBgbmdDc3BgIGlzIG5vdCBpbXBsZW1lbnRlZCBhcyBhIHByb3BlciBkaXJlY3RpdmUgYW55IG1vcmUsIGJlY2F1c2Ugd2UgbmVlZCBpdCBiZSBwcm9jZXNzZWQgd2hpbGVcbi8vIHdlIGJvb3RzdHJhcCB0aGUgYXBwIChiZWZvcmUgYCRwYXJzZWAgaXMgaW5zdGFudGlhdGVkKS4gRm9yIHRoaXMgcmVhc29uLCB3ZSBqdXN0IGhhdmUgdGhlIGBjc3AoKWBcbi8vIGZuIHRoYXQgbG9va3MgZm9yIHRoZSBgbmctY3NwYCBhdHRyaWJ1dGUgYW55d2hlcmUgaW4gdGhlIGN1cnJlbnQgZG9jLlxuXG4vKipcbiAqIEBuZ2RvYyBkaXJlY3RpdmVcbiAqIEBuYW1lIG5nQ2xpY2tcbiAqXG4gKiBAZGVzY3JpcHRpb25cbiAqIFRoZSBuZ0NsaWNrIGRpcmVjdGl2ZSBhbGxvd3MgeW91IHRvIHNwZWNpZnkgY3VzdG9tIGJlaGF2aW9yIHdoZW5cbiAqIGFuIGVsZW1lbnQgaXMgY2xpY2tlZC5cbiAqXG4gKiBAZWxlbWVudCBBTllcbiAqIEBwcmlvcml0eSAwXG4gKiBAcGFyYW0ge2V4cHJlc3Npb259IG5nQ2xpY2sge0BsaW5rIGd1aWRlL2V4cHJlc3Npb24gRXhwcmVzc2lvbn0gdG8gZXZhbHVhdGUgdXBvblxuICogY2xpY2suICh7QGxpbmsgZ3VpZGUvZXhwcmVzc2lvbiMtZXZlbnQtIEV2ZW50IG9iamVjdCBpcyBhdmFpbGFibGUgYXMgYCRldmVudGB9KVxuICpcbiAqIEBleGFtcGxlXG4gICA8ZXhhbXBsZSBuYW1lPVwibmctY2xpY2tcIj5cbiAgICAgPGZpbGUgbmFtZT1cImluZGV4Lmh0bWxcIj5cbiAgICAgIDxidXR0b24gbmctY2xpY2s9XCJjb3VudCA9IGNvdW50ICsgMVwiIG5nLWluaXQ9XCJjb3VudD0wXCI+XG4gICAgICAgIEluY3JlbWVudFxuICAgICAgPC9idXR0b24+XG4gICAgICA8c3Bhbj5cbiAgICAgICAgY291bnQ6IHt7Y291bnR9fVxuICAgICAgPC9zcGFuPlxuICAgICA8L2ZpbGU+XG4gICAgIDxmaWxlIG5hbWU9XCJwcm90cmFjdG9yLmpzXCIgdHlwZT1cInByb3RyYWN0b3JcIj5cbiAgICAgICBpdCgnc2hvdWxkIGNoZWNrIG5nLWNsaWNrJywgZnVuY3Rpb24oKSB7XG4gICAgICAgICBleHBlY3QoZWxlbWVudChieS5iaW5kaW5nKCdjb3VudCcpKS5nZXRUZXh0KCkpLnRvTWF0Y2goJzAnKTtcbiAgICAgICAgIGVsZW1lbnQoYnkuY3NzKCdidXR0b24nKSkuY2xpY2soKTtcbiAgICAgICAgIGV4cGVjdChlbGVtZW50KGJ5LmJpbmRpbmcoJ2NvdW50JykpLmdldFRleHQoKSkudG9NYXRjaCgnMScpO1xuICAgICAgIH0pO1xuICAgICA8L2ZpbGU+XG4gICA8L2V4YW1wbGU+XG4gKi9cbi8qXG4gKiBBIGNvbGxlY3Rpb24gb2YgZGlyZWN0aXZlcyB0aGF0IGFsbG93cyBjcmVhdGlvbiBvZiBjdXN0b20gZXZlbnQgaGFuZGxlcnMgdGhhdCBhcmUgZGVmaW5lZCBhc1xuICogYW5ndWxhciBleHByZXNzaW9ucyBhbmQgYXJlIGNvbXBpbGVkIGFuZCBleGVjdXRlZCB3aXRoaW4gdGhlIGN1cnJlbnQgc2NvcGUuXG4gKi9cbnZhciBuZ0V2ZW50RGlyZWN0aXZlcyA9IHt9O1xuXG4vLyBGb3IgZXZlbnRzIHRoYXQgbWlnaHQgZmlyZSBzeW5jaHJvbm91c2x5IGR1cmluZyBET00gbWFuaXB1bGF0aW9uXG4vLyB3ZSBuZWVkIHRvIGV4ZWN1dGUgdGhlaXIgZXZlbnQgaGFuZGxlcnMgYXN5bmNocm9ub3VzbHkgdXNpbmcgJGV2YWxBc3luYyxcbi8vIHNvIHRoYXQgdGhleSBhcmUgbm90IGV4ZWN1dGVkIGluIGFuIGluY29uc2lzdGVudCBzdGF0ZS5cbnZhciBmb3JjZUFzeW5jRXZlbnRzID0ge1xuICAnYmx1cic6IHRydWUsXG4gICdmb2N1cyc6IHRydWVcbn07XG5mb3JFYWNoKFxuICAnY2xpY2sgZGJsY2xpY2sgbW91c2Vkb3duIG1vdXNldXAgbW91c2VvdmVyIG1vdXNlb3V0IG1vdXNlbW92ZSBtb3VzZWVudGVyIG1vdXNlbGVhdmUga2V5ZG93biBrZXl1cCBrZXlwcmVzcyBzdWJtaXQgZm9jdXMgYmx1ciBjb3B5IGN1dCBwYXN0ZScuc3BsaXQoJyAnKSxcbiAgZnVuY3Rpb24oZXZlbnROYW1lKSB7XG4gICAgdmFyIGRpcmVjdGl2ZU5hbWUgPSBkaXJlY3RpdmVOb3JtYWxpemUoJ25nLScgKyBldmVudE5hbWUpO1xuICAgIG5nRXZlbnREaXJlY3RpdmVzW2RpcmVjdGl2ZU5hbWVdID0gWyckcGFyc2UnLCAnJHJvb3RTY29wZScsIGZ1bmN0aW9uKCRwYXJzZSwgJHJvb3RTY29wZSkge1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgcmVzdHJpY3Q6ICdBJyxcbiAgICAgICAgY29tcGlsZTogZnVuY3Rpb24oJGVsZW1lbnQsIGF0dHIpIHtcbiAgICAgICAgICAvLyBOT1RFOlxuICAgICAgICAgIC8vIFdlIGV4cG9zZSB0aGUgcG93ZXJmdWwgYCRldmVudGAgb2JqZWN0IG9uIHRoZSBzY29wZSB0aGF0IHByb3ZpZGVzIGFjY2VzcyB0byB0aGUgV2luZG93LFxuICAgICAgICAgIC8vIGV0Yy4gVGhpcyBpcyBPSywgYmVjYXVzZSBleHByZXNzaW9ucyBhcmUgbm90IHNhbmRib3hlZCBhbnkgbW9yZSAoYW5kIHRoZSBleHByZXNzaW9uXG4gICAgICAgICAgLy8gc2FuZGJveCB3YXMgbmV2ZXIgbWVhbnQgdG8gYmUgYSBzZWN1cml0eSBmZWF0dXJlIGFueXdheSkuXG4gICAgICAgICAgdmFyIGZuID0gJHBhcnNlKGF0dHJbZGlyZWN0aXZlTmFtZV0pO1xuICAgICAgICAgIHJldHVybiBmdW5jdGlvbiBuZ0V2ZW50SGFuZGxlcihzY29wZSwgZWxlbWVudCkge1xuICAgICAgICAgICAgZWxlbWVudC5vbihldmVudE5hbWUsIGZ1bmN0aW9uKGV2ZW50KSB7XG4gICAgICAgICAgICAgIHZhciBjYWxsYmFjayA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgIGZuKHNjb3BlLCB7JGV2ZW50OiBldmVudH0pO1xuICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICBpZiAoZm9yY2VBc3luY0V2ZW50c1tldmVudE5hbWVdICYmICRyb290U2NvcGUuJCRwaGFzZSkge1xuICAgICAgICAgICAgICAgIHNjb3BlLiRldmFsQXN5bmMoY2FsbGJhY2spO1xuICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHNjb3BlLiRhcHBseShjYWxsYmFjayk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICAgIH07XG4gICAgfV07XG4gIH1cbik7XG5cbi8qKlxuICogQG5nZG9jIGRpcmVjdGl2ZVxuICogQG5hbWUgbmdEYmxjbGlja1xuICpcbiAqIEBkZXNjcmlwdGlvblxuICogVGhlIGBuZ0RibGNsaWNrYCBkaXJlY3RpdmUgYWxsb3dzIHlvdSB0byBzcGVjaWZ5IGN1c3RvbSBiZWhhdmlvciBvbiBhIGRibGNsaWNrIGV2ZW50LlxuICpcbiAqIEBlbGVtZW50IEFOWVxuICogQHByaW9yaXR5IDBcbiAqIEBwYXJhbSB7ZXhwcmVzc2lvbn0gbmdEYmxjbGljayB7QGxpbmsgZ3VpZGUvZXhwcmVzc2lvbiBFeHByZXNzaW9ufSB0byBldmFsdWF0ZSB1cG9uXG4gKiBhIGRibGNsaWNrLiAoVGhlIEV2ZW50IG9iamVjdCBpcyBhdmFpbGFibGUgYXMgYCRldmVudGApXG4gKlxuICogQGV4YW1wbGVcbiAgIDxleGFtcGxlIG5hbWU9XCJuZy1kYmxjbGlja1wiPlxuICAgICA8ZmlsZSBuYW1lPVwiaW5kZXguaHRtbFwiPlxuICAgICAgPGJ1dHRvbiBuZy1kYmxjbGljaz1cImNvdW50ID0gY291bnQgKyAxXCIgbmctaW5pdD1cImNvdW50PTBcIj5cbiAgICAgICAgSW5jcmVtZW50IChvbiBkb3VibGUgY2xpY2spXG4gICAgICA8L2J1dHRvbj5cbiAgICAgIGNvdW50OiB7e2NvdW50fX1cbiAgICAgPC9maWxlPlxuICAgPC9leGFtcGxlPlxuICovXG5cblxuLyoqXG4gKiBAbmdkb2MgZGlyZWN0aXZlXG4gKiBAbmFtZSBuZ01vdXNlZG93blxuICpcbiAqIEBkZXNjcmlwdGlvblxuICogVGhlIG5nTW91c2Vkb3duIGRpcmVjdGl2ZSBhbGxvd3MgeW91IHRvIHNwZWNpZnkgY3VzdG9tIGJlaGF2aW9yIG9uIG1vdXNlZG93biBldmVudC5cbiAqXG4gKiBAZWxlbWVudCBBTllcbiAqIEBwcmlvcml0eSAwXG4gKiBAcGFyYW0ge2V4cHJlc3Npb259IG5nTW91c2Vkb3duIHtAbGluayBndWlkZS9leHByZXNzaW9uIEV4cHJlc3Npb259IHRvIGV2YWx1YXRlIHVwb25cbiAqIG1vdXNlZG93bi4gKHtAbGluayBndWlkZS9leHByZXNzaW9uIy1ldmVudC0gRXZlbnQgb2JqZWN0IGlzIGF2YWlsYWJsZSBhcyBgJGV2ZW50YH0pXG4gKlxuICogQGV4YW1wbGVcbiAgIDxleGFtcGxlIG5hbWU9XCJuZy1tb3VzZWRvd25cIj5cbiAgICAgPGZpbGUgbmFtZT1cImluZGV4Lmh0bWxcIj5cbiAgICAgIDxidXR0b24gbmctbW91c2Vkb3duPVwiY291bnQgPSBjb3VudCArIDFcIiBuZy1pbml0PVwiY291bnQ9MFwiPlxuICAgICAgICBJbmNyZW1lbnQgKG9uIG1vdXNlIGRvd24pXG4gICAgICA8L2J1dHRvbj5cbiAgICAgIGNvdW50OiB7e2NvdW50fX1cbiAgICAgPC9maWxlPlxuICAgPC9leGFtcGxlPlxuICovXG5cblxuLyoqXG4gKiBAbmdkb2MgZGlyZWN0aXZlXG4gKiBAbmFtZSBuZ01vdXNldXBcbiAqXG4gKiBAZGVzY3JpcHRpb25cbiAqIFNwZWNpZnkgY3VzdG9tIGJlaGF2aW9yIG9uIG1vdXNldXAgZXZlbnQuXG4gKlxuICogQGVsZW1lbnQgQU5ZXG4gKiBAcHJpb3JpdHkgMFxuICogQHBhcmFtIHtleHByZXNzaW9ufSBuZ01vdXNldXAge0BsaW5rIGd1aWRlL2V4cHJlc3Npb24gRXhwcmVzc2lvbn0gdG8gZXZhbHVhdGUgdXBvblxuICogbW91c2V1cC4gKHtAbGluayBndWlkZS9leHByZXNzaW9uIy1ldmVudC0gRXZlbnQgb2JqZWN0IGlzIGF2YWlsYWJsZSBhcyBgJGV2ZW50YH0pXG4gKlxuICogQGV4YW1wbGVcbiAgIDxleGFtcGxlIG5hbWU9XCJuZy1tb3VzZXVwXCI+XG4gICAgIDxmaWxlIG5hbWU9XCJpbmRleC5odG1sXCI+XG4gICAgICA8YnV0dG9uIG5nLW1vdXNldXA9XCJjb3VudCA9IGNvdW50ICsgMVwiIG5nLWluaXQ9XCJjb3VudD0wXCI+XG4gICAgICAgIEluY3JlbWVudCAob24gbW91c2UgdXApXG4gICAgICA8L2J1dHRvbj5cbiAgICAgIGNvdW50OiB7e2NvdW50fX1cbiAgICAgPC9maWxlPlxuICAgPC9leGFtcGxlPlxuICovXG5cbi8qKlxuICogQG5nZG9jIGRpcmVjdGl2ZVxuICogQG5hbWUgbmdNb3VzZW92ZXJcbiAqXG4gKiBAZGVzY3JpcHRpb25cbiAqIFNwZWNpZnkgY3VzdG9tIGJlaGF2aW9yIG9uIG1vdXNlb3ZlciBldmVudC5cbiAqXG4gKiBAZWxlbWVudCBBTllcbiAqIEBwcmlvcml0eSAwXG4gKiBAcGFyYW0ge2V4cHJlc3Npb259IG5nTW91c2VvdmVyIHtAbGluayBndWlkZS9leHByZXNzaW9uIEV4cHJlc3Npb259IHRvIGV2YWx1YXRlIHVwb25cbiAqIG1vdXNlb3Zlci4gKHtAbGluayBndWlkZS9leHByZXNzaW9uIy1ldmVudC0gRXZlbnQgb2JqZWN0IGlzIGF2YWlsYWJsZSBhcyBgJGV2ZW50YH0pXG4gKlxuICogQGV4YW1wbGVcbiAgIDxleGFtcGxlIG5hbWU9XCJuZy1tb3VzZW92ZXJcIj5cbiAgICAgPGZpbGUgbmFtZT1cImluZGV4Lmh0bWxcIj5cbiAgICAgIDxidXR0b24gbmctbW91c2VvdmVyPVwiY291bnQgPSBjb3VudCArIDFcIiBuZy1pbml0PVwiY291bnQ9MFwiPlxuICAgICAgICBJbmNyZW1lbnQgKHdoZW4gbW91c2UgaXMgb3ZlcilcbiAgICAgIDwvYnV0dG9uPlxuICAgICAgY291bnQ6IHt7Y291bnR9fVxuICAgICA8L2ZpbGU+XG4gICA8L2V4YW1wbGU+XG4gKi9cblxuXG4vKipcbiAqIEBuZ2RvYyBkaXJlY3RpdmVcbiAqIEBuYW1lIG5nTW91c2VlbnRlclxuICpcbiAqIEBkZXNjcmlwdGlvblxuICogU3BlY2lmeSBjdXN0b20gYmVoYXZpb3Igb24gbW91c2VlbnRlciBldmVudC5cbiAqXG4gKiBAZWxlbWVudCBBTllcbiAqIEBwcmlvcml0eSAwXG4gKiBAcGFyYW0ge2V4cHJlc3Npb259IG5nTW91c2VlbnRlciB7QGxpbmsgZ3VpZGUvZXhwcmVzc2lvbiBFeHByZXNzaW9ufSB0byBldmFsdWF0ZSB1cG9uXG4gKiBtb3VzZWVudGVyLiAoe0BsaW5rIGd1aWRlL2V4cHJlc3Npb24jLWV2ZW50LSBFdmVudCBvYmplY3QgaXMgYXZhaWxhYmxlIGFzIGAkZXZlbnRgfSlcbiAqXG4gKiBAZXhhbXBsZVxuICAgPGV4YW1wbGUgbmFtZT1cIm5nLW1vdXNlZW50ZXJcIj5cbiAgICAgPGZpbGUgbmFtZT1cImluZGV4Lmh0bWxcIj5cbiAgICAgIDxidXR0b24gbmctbW91c2VlbnRlcj1cImNvdW50ID0gY291bnQgKyAxXCIgbmctaW5pdD1cImNvdW50PTBcIj5cbiAgICAgICAgSW5jcmVtZW50ICh3aGVuIG1vdXNlIGVudGVycylcbiAgICAgIDwvYnV0dG9uPlxuICAgICAgY291bnQ6IHt7Y291bnR9fVxuICAgICA8L2ZpbGU+XG4gICA8L2V4YW1wbGU+XG4gKi9cblxuXG4vKipcbiAqIEBuZ2RvYyBkaXJlY3RpdmVcbiAqIEBuYW1lIG5nTW91c2VsZWF2ZVxuICpcbiAqIEBkZXNjcmlwdGlvblxuICogU3BlY2lmeSBjdXN0b20gYmVoYXZpb3Igb24gbW91c2VsZWF2ZSBldmVudC5cbiAqXG4gKiBAZWxlbWVudCBBTllcbiAqIEBwcmlvcml0eSAwXG4gKiBAcGFyYW0ge2V4cHJlc3Npb259IG5nTW91c2VsZWF2ZSB7QGxpbmsgZ3VpZGUvZXhwcmVzc2lvbiBFeHByZXNzaW9ufSB0byBldmFsdWF0ZSB1cG9uXG4gKiBtb3VzZWxlYXZlLiAoe0BsaW5rIGd1aWRlL2V4cHJlc3Npb24jLWV2ZW50LSBFdmVudCBvYmplY3QgaXMgYXZhaWxhYmxlIGFzIGAkZXZlbnRgfSlcbiAqXG4gKiBAZXhhbXBsZVxuICAgPGV4YW1wbGUgbmFtZT1cIm5nLW1vdXNlbGVhdmVcIj5cbiAgICAgPGZpbGUgbmFtZT1cImluZGV4Lmh0bWxcIj5cbiAgICAgIDxidXR0b24gbmctbW91c2VsZWF2ZT1cImNvdW50ID0gY291bnQgKyAxXCIgbmctaW5pdD1cImNvdW50PTBcIj5cbiAgICAgICAgSW5jcmVtZW50ICh3aGVuIG1vdXNlIGxlYXZlcylcbiAgICAgIDwvYnV0dG9uPlxuICAgICAgY291bnQ6IHt7Y291bnR9fVxuICAgICA8L2ZpbGU+XG4gICA8L2V4YW1wbGU+XG4gKi9cblxuXG4vKipcbiAqIEBuZ2RvYyBkaXJlY3RpdmVcbiAqIEBuYW1lIG5nTW91c2Vtb3ZlXG4gKlxuICogQGRlc2NyaXB0aW9uXG4gKiBTcGVjaWZ5IGN1c3RvbSBiZWhhdmlvciBvbiBtb3VzZW1vdmUgZXZlbnQuXG4gKlxuICogQGVsZW1lbnQgQU5ZXG4gKiBAcHJpb3JpdHkgMFxuICogQHBhcmFtIHtleHByZXNzaW9ufSBuZ01vdXNlbW92ZSB7QGxpbmsgZ3VpZGUvZXhwcmVzc2lvbiBFeHByZXNzaW9ufSB0byBldmFsdWF0ZSB1cG9uXG4gKiBtb3VzZW1vdmUuICh7QGxpbmsgZ3VpZGUvZXhwcmVzc2lvbiMtZXZlbnQtIEV2ZW50IG9iamVjdCBpcyBhdmFpbGFibGUgYXMgYCRldmVudGB9KVxuICpcbiAqIEBleGFtcGxlXG4gICA8ZXhhbXBsZSBuYW1lPVwibmctbW91c2Vtb3ZlXCI+XG4gICAgIDxmaWxlIG5hbWU9XCJpbmRleC5odG1sXCI+XG4gICAgICA8YnV0dG9uIG5nLW1vdXNlbW92ZT1cImNvdW50ID0gY291bnQgKyAxXCIgbmctaW5pdD1cImNvdW50PTBcIj5cbiAgICAgICAgSW5jcmVtZW50ICh3aGVuIG1vdXNlIG1vdmVzKVxuICAgICAgPC9idXR0b24+XG4gICAgICBjb3VudDoge3tjb3VudH19XG4gICAgIDwvZmlsZT5cbiAgIDwvZXhhbXBsZT5cbiAqL1xuXG5cbi8qKlxuICogQG5nZG9jIGRpcmVjdGl2ZVxuICogQG5hbWUgbmdLZXlkb3duXG4gKlxuICogQGRlc2NyaXB0aW9uXG4gKiBTcGVjaWZ5IGN1c3RvbSBiZWhhdmlvciBvbiBrZXlkb3duIGV2ZW50LlxuICpcbiAqIEBlbGVtZW50IEFOWVxuICogQHByaW9yaXR5IDBcbiAqIEBwYXJhbSB7ZXhwcmVzc2lvbn0gbmdLZXlkb3duIHtAbGluayBndWlkZS9leHByZXNzaW9uIEV4cHJlc3Npb259IHRvIGV2YWx1YXRlIHVwb25cbiAqIGtleWRvd24uIChFdmVudCBvYmplY3QgaXMgYXZhaWxhYmxlIGFzIGAkZXZlbnRgIGFuZCBjYW4gYmUgaW50ZXJyb2dhdGVkIGZvciBrZXlDb2RlLCBhbHRLZXksIGV0Yy4pXG4gKlxuICogQGV4YW1wbGVcbiAgIDxleGFtcGxlIG5hbWU9XCJuZy1rZXlkb3duXCI+XG4gICAgIDxmaWxlIG5hbWU9XCJpbmRleC5odG1sXCI+XG4gICAgICA8aW5wdXQgbmcta2V5ZG93bj1cImNvdW50ID0gY291bnQgKyAxXCIgbmctaW5pdD1cImNvdW50PTBcIj5cbiAgICAgIGtleSBkb3duIGNvdW50OiB7e2NvdW50fX1cbiAgICAgPC9maWxlPlxuICAgPC9leGFtcGxlPlxuICovXG5cblxuLyoqXG4gKiBAbmdkb2MgZGlyZWN0aXZlXG4gKiBAbmFtZSBuZ0tleXVwXG4gKlxuICogQGRlc2NyaXB0aW9uXG4gKiBTcGVjaWZ5IGN1c3RvbSBiZWhhdmlvciBvbiBrZXl1cCBldmVudC5cbiAqXG4gKiBAZWxlbWVudCBBTllcbiAqIEBwcmlvcml0eSAwXG4gKiBAcGFyYW0ge2V4cHJlc3Npb259IG5nS2V5dXAge0BsaW5rIGd1aWRlL2V4cHJlc3Npb24gRXhwcmVzc2lvbn0gdG8gZXZhbHVhdGUgdXBvblxuICoga2V5dXAuIChFdmVudCBvYmplY3QgaXMgYXZhaWxhYmxlIGFzIGAkZXZlbnRgIGFuZCBjYW4gYmUgaW50ZXJyb2dhdGVkIGZvciBrZXlDb2RlLCBhbHRLZXksIGV0Yy4pXG4gKlxuICogQGV4YW1wbGVcbiAgIDxleGFtcGxlIG5hbWU9XCJuZy1rZXl1cFwiPlxuICAgICA8ZmlsZSBuYW1lPVwiaW5kZXguaHRtbFwiPlxuICAgICAgIDxwPlR5cGluZyBpbiB0aGUgaW5wdXQgYm94IGJlbG93IHVwZGF0ZXMgdGhlIGtleSBjb3VudDwvcD5cbiAgICAgICA8aW5wdXQgbmcta2V5dXA9XCJjb3VudCA9IGNvdW50ICsgMVwiIG5nLWluaXQ9XCJjb3VudD0wXCI+IGtleSB1cCBjb3VudDoge3tjb3VudH19XG5cbiAgICAgICA8cD5UeXBpbmcgaW4gdGhlIGlucHV0IGJveCBiZWxvdyB1cGRhdGVzIHRoZSBrZXljb2RlPC9wPlxuICAgICAgIDxpbnB1dCBuZy1rZXl1cD1cImV2ZW50PSRldmVudFwiPlxuICAgICAgIDxwPmV2ZW50IGtleUNvZGU6IHt7IGV2ZW50LmtleUNvZGUgfX08L3A+XG4gICAgICAgPHA+ZXZlbnQgYWx0S2V5OiB7eyBldmVudC5hbHRLZXkgfX08L3A+XG4gICAgIDwvZmlsZT5cbiAgIDwvZXhhbXBsZT5cbiAqL1xuXG5cbi8qKlxuICogQG5nZG9jIGRpcmVjdGl2ZVxuICogQG5hbWUgbmdLZXlwcmVzc1xuICpcbiAqIEBkZXNjcmlwdGlvblxuICogU3BlY2lmeSBjdXN0b20gYmVoYXZpb3Igb24ga2V5cHJlc3MgZXZlbnQuXG4gKlxuICogQGVsZW1lbnQgQU5ZXG4gKiBAcGFyYW0ge2V4cHJlc3Npb259IG5nS2V5cHJlc3Mge0BsaW5rIGd1aWRlL2V4cHJlc3Npb24gRXhwcmVzc2lvbn0gdG8gZXZhbHVhdGUgdXBvblxuICoga2V5cHJlc3MuICh7QGxpbmsgZ3VpZGUvZXhwcmVzc2lvbiMtZXZlbnQtIEV2ZW50IG9iamVjdCBpcyBhdmFpbGFibGUgYXMgYCRldmVudGB9XG4gKiBhbmQgY2FuIGJlIGludGVycm9nYXRlZCBmb3Iga2V5Q29kZSwgYWx0S2V5LCBldGMuKVxuICpcbiAqIEBleGFtcGxlXG4gICA8ZXhhbXBsZSBuYW1lPVwibmcta2V5cHJlc3NcIj5cbiAgICAgPGZpbGUgbmFtZT1cImluZGV4Lmh0bWxcIj5cbiAgICAgIDxpbnB1dCBuZy1rZXlwcmVzcz1cImNvdW50ID0gY291bnQgKyAxXCIgbmctaW5pdD1cImNvdW50PTBcIj5cbiAgICAgIGtleSBwcmVzcyBjb3VudDoge3tjb3VudH19XG4gICAgIDwvZmlsZT5cbiAgIDwvZXhhbXBsZT5cbiAqL1xuXG5cbi8qKlxuICogQG5nZG9jIGRpcmVjdGl2ZVxuICogQG5hbWUgbmdTdWJtaXRcbiAqXG4gKiBAZGVzY3JpcHRpb25cbiAqIEVuYWJsZXMgYmluZGluZyBhbmd1bGFyIGV4cHJlc3Npb25zIHRvIG9uc3VibWl0IGV2ZW50cy5cbiAqXG4gKiBBZGRpdGlvbmFsbHkgaXQgcHJldmVudHMgdGhlIGRlZmF1bHQgYWN0aW9uICh3aGljaCBmb3IgZm9ybSBtZWFucyBzZW5kaW5nIHRoZSByZXF1ZXN0IHRvIHRoZVxuICogc2VydmVyIGFuZCByZWxvYWRpbmcgdGhlIGN1cnJlbnQgcGFnZSksIGJ1dCBvbmx5IGlmIHRoZSBmb3JtIGRvZXMgbm90IGNvbnRhaW4gYGFjdGlvbmAsXG4gKiBgZGF0YS1hY3Rpb25gLCBvciBgeC1hY3Rpb25gIGF0dHJpYnV0ZXMuXG4gKlxuICogPGRpdiBjbGFzcz1cImFsZXJ0IGFsZXJ0LXdhcm5pbmdcIj5cbiAqICoqV2FybmluZzoqKiBCZSBjYXJlZnVsIG5vdCB0byBjYXVzZSBcImRvdWJsZS1zdWJtaXNzaW9uXCIgYnkgdXNpbmcgYm90aCB0aGUgYG5nQ2xpY2tgIGFuZFxuICogYG5nU3VibWl0YCBoYW5kbGVycyB0b2dldGhlci4gU2VlIHRoZVxuICoge0BsaW5rIGZvcm0jc3VibWl0dGluZy1hLWZvcm0tYW5kLXByZXZlbnRpbmctdGhlLWRlZmF1bHQtYWN0aW9uIGBmb3JtYCBkaXJlY3RpdmUgZG9jdW1lbnRhdGlvbn1cbiAqIGZvciBhIGRldGFpbGVkIGRpc2N1c3Npb24gb2Ygd2hlbiBgbmdTdWJtaXRgIG1heSBiZSB0cmlnZ2VyZWQuXG4gKiA8L2Rpdj5cbiAqXG4gKiBAZWxlbWVudCBmb3JtXG4gKiBAcHJpb3JpdHkgMFxuICogQHBhcmFtIHtleHByZXNzaW9ufSBuZ1N1Ym1pdCB7QGxpbmsgZ3VpZGUvZXhwcmVzc2lvbiBFeHByZXNzaW9ufSB0byBldmFsLlxuICogKHtAbGluayBndWlkZS9leHByZXNzaW9uIy1ldmVudC0gRXZlbnQgb2JqZWN0IGlzIGF2YWlsYWJsZSBhcyBgJGV2ZW50YH0pXG4gKlxuICogQGV4YW1wbGVcbiAgIDxleGFtcGxlIG1vZHVsZT1cInN1Ym1pdEV4YW1wbGVcIiBuYW1lPVwibmctc3VibWl0XCI+XG4gICAgIDxmaWxlIG5hbWU9XCJpbmRleC5odG1sXCI+XG4gICAgICA8c2NyaXB0PlxuICAgICAgICBhbmd1bGFyLm1vZHVsZSgnc3VibWl0RXhhbXBsZScsIFtdKVxuICAgICAgICAgIC5jb250cm9sbGVyKCdFeGFtcGxlQ29udHJvbGxlcicsIFsnJHNjb3BlJywgZnVuY3Rpb24oJHNjb3BlKSB7XG4gICAgICAgICAgICAkc2NvcGUubGlzdCA9IFtdO1xuICAgICAgICAgICAgJHNjb3BlLnRleHQgPSAnaGVsbG8nO1xuICAgICAgICAgICAgJHNjb3BlLnN1Ym1pdCA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICBpZiAoJHNjb3BlLnRleHQpIHtcbiAgICAgICAgICAgICAgICAkc2NvcGUubGlzdC5wdXNoKHRoaXMudGV4dCk7XG4gICAgICAgICAgICAgICAgJHNjb3BlLnRleHQgPSAnJztcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfTtcbiAgICAgICAgICB9XSk7XG4gICAgICA8L3NjcmlwdD5cbiAgICAgIDxmb3JtIG5nLXN1Ym1pdD1cInN1Ym1pdCgpXCIgbmctY29udHJvbGxlcj1cIkV4YW1wbGVDb250cm9sbGVyXCI+XG4gICAgICAgIEVudGVyIHRleHQgYW5kIGhpdCBlbnRlcjpcbiAgICAgICAgPGlucHV0IHR5cGU9XCJ0ZXh0XCIgbmctbW9kZWw9XCJ0ZXh0XCIgbmFtZT1cInRleHRcIiAvPlxuICAgICAgICA8aW5wdXQgdHlwZT1cInN1Ym1pdFwiIGlkPVwic3VibWl0XCIgdmFsdWU9XCJTdWJtaXRcIiAvPlxuICAgICAgICA8cHJlPmxpc3Q9e3tsaXN0fX08L3ByZT5cbiAgICAgIDwvZm9ybT5cbiAgICAgPC9maWxlPlxuICAgICA8ZmlsZSBuYW1lPVwicHJvdHJhY3Rvci5qc1wiIHR5cGU9XCJwcm90cmFjdG9yXCI+XG4gICAgICAgaXQoJ3Nob3VsZCBjaGVjayBuZy1zdWJtaXQnLCBmdW5jdGlvbigpIHtcbiAgICAgICAgIGV4cGVjdChlbGVtZW50KGJ5LmJpbmRpbmcoJ2xpc3QnKSkuZ2V0VGV4dCgpKS50b0JlKCdsaXN0PVtdJyk7XG4gICAgICAgICBlbGVtZW50KGJ5LmNzcygnI3N1Ym1pdCcpKS5jbGljaygpO1xuICAgICAgICAgZXhwZWN0KGVsZW1lbnQoYnkuYmluZGluZygnbGlzdCcpKS5nZXRUZXh0KCkpLnRvQ29udGFpbignaGVsbG8nKTtcbiAgICAgICAgIGV4cGVjdChlbGVtZW50KGJ5Lm1vZGVsKCd0ZXh0JykpLmdldEF0dHJpYnV0ZSgndmFsdWUnKSkudG9CZSgnJyk7XG4gICAgICAgfSk7XG4gICAgICAgaXQoJ3Nob3VsZCBpZ25vcmUgZW1wdHkgc3RyaW5ncycsIGZ1bmN0aW9uKCkge1xuICAgICAgICAgZXhwZWN0KGVsZW1lbnQoYnkuYmluZGluZygnbGlzdCcpKS5nZXRUZXh0KCkpLnRvQmUoJ2xpc3Q9W10nKTtcbiAgICAgICAgIGVsZW1lbnQoYnkuY3NzKCcjc3VibWl0JykpLmNsaWNrKCk7XG4gICAgICAgICBlbGVtZW50KGJ5LmNzcygnI3N1Ym1pdCcpKS5jbGljaygpO1xuICAgICAgICAgZXhwZWN0KGVsZW1lbnQoYnkuYmluZGluZygnbGlzdCcpKS5nZXRUZXh0KCkpLnRvQ29udGFpbignaGVsbG8nKTtcbiAgICAgICAgfSk7XG4gICAgIDwvZmlsZT5cbiAgIDwvZXhhbXBsZT5cbiAqL1xuXG4vKipcbiAqIEBuZ2RvYyBkaXJlY3RpdmVcbiAqIEBuYW1lIG5nRm9jdXNcbiAqXG4gKiBAZGVzY3JpcHRpb25cbiAqIFNwZWNpZnkgY3VzdG9tIGJlaGF2aW9yIG9uIGZvY3VzIGV2ZW50LlxuICpcbiAqIE5vdGU6IEFzIHRoZSBgZm9jdXNgIGV2ZW50IGlzIGV4ZWN1dGVkIHN5bmNocm9ub3VzbHkgd2hlbiBjYWxsaW5nIGBpbnB1dC5mb2N1cygpYFxuICogQW5ndWxhckpTIGV4ZWN1dGVzIHRoZSBleHByZXNzaW9uIHVzaW5nIGBzY29wZS4kZXZhbEFzeW5jYCBpZiB0aGUgZXZlbnQgaXMgZmlyZWRcbiAqIGR1cmluZyBhbiBgJGFwcGx5YCB0byBlbnN1cmUgYSBjb25zaXN0ZW50IHN0YXRlLlxuICpcbiAqIEBlbGVtZW50IHdpbmRvdywgaW5wdXQsIHNlbGVjdCwgdGV4dGFyZWEsIGFcbiAqIEBwcmlvcml0eSAwXG4gKiBAcGFyYW0ge2V4cHJlc3Npb259IG5nRm9jdXMge0BsaW5rIGd1aWRlL2V4cHJlc3Npb24gRXhwcmVzc2lvbn0gdG8gZXZhbHVhdGUgdXBvblxuICogZm9jdXMuICh7QGxpbmsgZ3VpZGUvZXhwcmVzc2lvbiMtZXZlbnQtIEV2ZW50IG9iamVjdCBpcyBhdmFpbGFibGUgYXMgYCRldmVudGB9KVxuICpcbiAqIEBleGFtcGxlXG4gKiBTZWUge0BsaW5rIG5nLmRpcmVjdGl2ZTpuZ0NsaWNrIG5nQ2xpY2t9XG4gKi9cblxuLyoqXG4gKiBAbmdkb2MgZGlyZWN0aXZlXG4gKiBAbmFtZSBuZ0JsdXJcbiAqXG4gKiBAZGVzY3JpcHRpb25cbiAqIFNwZWNpZnkgY3VzdG9tIGJlaGF2aW9yIG9uIGJsdXIgZXZlbnQuXG4gKlxuICogQSBbYmx1ciBldmVudF0oaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvRXZlbnRzL2JsdXIpIGZpcmVzIHdoZW5cbiAqIGFuIGVsZW1lbnQgaGFzIGxvc3QgZm9jdXMuXG4gKlxuICogTm90ZTogQXMgdGhlIGBibHVyYCBldmVudCBpcyBleGVjdXRlZCBzeW5jaHJvbm91c2x5IGFsc28gZHVyaW5nIERPTSBtYW5pcHVsYXRpb25zXG4gKiAoZS5nLiByZW1vdmluZyBhIGZvY3Vzc2VkIGlucHV0KSxcbiAqIEFuZ3VsYXJKUyBleGVjdXRlcyB0aGUgZXhwcmVzc2lvbiB1c2luZyBgc2NvcGUuJGV2YWxBc3luY2AgaWYgdGhlIGV2ZW50IGlzIGZpcmVkXG4gKiBkdXJpbmcgYW4gYCRhcHBseWAgdG8gZW5zdXJlIGEgY29uc2lzdGVudCBzdGF0ZS5cbiAqXG4gKiBAZWxlbWVudCB3aW5kb3csIGlucHV0LCBzZWxlY3QsIHRleHRhcmVhLCBhXG4gKiBAcHJpb3JpdHkgMFxuICogQHBhcmFtIHtleHByZXNzaW9ufSBuZ0JsdXIge0BsaW5rIGd1aWRlL2V4cHJlc3Npb24gRXhwcmVzc2lvbn0gdG8gZXZhbHVhdGUgdXBvblxuICogYmx1ci4gKHtAbGluayBndWlkZS9leHByZXNzaW9uIy1ldmVudC0gRXZlbnQgb2JqZWN0IGlzIGF2YWlsYWJsZSBhcyBgJGV2ZW50YH0pXG4gKlxuICogQGV4YW1wbGVcbiAqIFNlZSB7QGxpbmsgbmcuZGlyZWN0aXZlOm5nQ2xpY2sgbmdDbGlja31cbiAqL1xuXG4vKipcbiAqIEBuZ2RvYyBkaXJlY3RpdmVcbiAqIEBuYW1lIG5nQ29weVxuICpcbiAqIEBkZXNjcmlwdGlvblxuICogU3BlY2lmeSBjdXN0b20gYmVoYXZpb3Igb24gY29weSBldmVudC5cbiAqXG4gKiBAZWxlbWVudCB3aW5kb3csIGlucHV0LCBzZWxlY3QsIHRleHRhcmVhLCBhXG4gKiBAcHJpb3JpdHkgMFxuICogQHBhcmFtIHtleHByZXNzaW9ufSBuZ0NvcHkge0BsaW5rIGd1aWRlL2V4cHJlc3Npb24gRXhwcmVzc2lvbn0gdG8gZXZhbHVhdGUgdXBvblxuICogY29weS4gKHtAbGluayBndWlkZS9leHByZXNzaW9uIy1ldmVudC0gRXZlbnQgb2JqZWN0IGlzIGF2YWlsYWJsZSBhcyBgJGV2ZW50YH0pXG4gKlxuICogQGV4YW1wbGVcbiAgIDxleGFtcGxlIG5hbWU9XCJuZy1jb3B5XCI+XG4gICAgIDxmaWxlIG5hbWU9XCJpbmRleC5odG1sXCI+XG4gICAgICA8aW5wdXQgbmctY29weT1cImNvcGllZD10cnVlXCIgbmctaW5pdD1cImNvcGllZD1mYWxzZTsgdmFsdWU9J2NvcHkgbWUnXCIgbmctbW9kZWw9XCJ2YWx1ZVwiPlxuICAgICAgY29waWVkOiB7e2NvcGllZH19XG4gICAgIDwvZmlsZT5cbiAgIDwvZXhhbXBsZT5cbiAqL1xuXG4vKipcbiAqIEBuZ2RvYyBkaXJlY3RpdmVcbiAqIEBuYW1lIG5nQ3V0XG4gKlxuICogQGRlc2NyaXB0aW9uXG4gKiBTcGVjaWZ5IGN1c3RvbSBiZWhhdmlvciBvbiBjdXQgZXZlbnQuXG4gKlxuICogQGVsZW1lbnQgd2luZG93LCBpbnB1dCwgc2VsZWN0LCB0ZXh0YXJlYSwgYVxuICogQHByaW9yaXR5IDBcbiAqIEBwYXJhbSB7ZXhwcmVzc2lvbn0gbmdDdXQge0BsaW5rIGd1aWRlL2V4cHJlc3Npb24gRXhwcmVzc2lvbn0gdG8gZXZhbHVhdGUgdXBvblxuICogY3V0LiAoe0BsaW5rIGd1aWRlL2V4cHJlc3Npb24jLWV2ZW50LSBFdmVudCBvYmplY3QgaXMgYXZhaWxhYmxlIGFzIGAkZXZlbnRgfSlcbiAqXG4gKiBAZXhhbXBsZVxuICAgPGV4YW1wbGUgbmFtZT1cIm5nLWN1dFwiPlxuICAgICA8ZmlsZSBuYW1lPVwiaW5kZXguaHRtbFwiPlxuICAgICAgPGlucHV0IG5nLWN1dD1cImN1dD10cnVlXCIgbmctaW5pdD1cImN1dD1mYWxzZTsgdmFsdWU9J2N1dCBtZSdcIiBuZy1tb2RlbD1cInZhbHVlXCI+XG4gICAgICBjdXQ6IHt7Y3V0fX1cbiAgICAgPC9maWxlPlxuICAgPC9leGFtcGxlPlxuICovXG5cbi8qKlxuICogQG5nZG9jIGRpcmVjdGl2ZVxuICogQG5hbWUgbmdQYXN0ZVxuICpcbiAqIEBkZXNjcmlwdGlvblxuICogU3BlY2lmeSBjdXN0b20gYmVoYXZpb3Igb24gcGFzdGUgZXZlbnQuXG4gKlxuICogQGVsZW1lbnQgd2luZG93LCBpbnB1dCwgc2VsZWN0LCB0ZXh0YXJlYSwgYVxuICogQHByaW9yaXR5IDBcbiAqIEBwYXJhbSB7ZXhwcmVzc2lvbn0gbmdQYXN0ZSB7QGxpbmsgZ3VpZGUvZXhwcmVzc2lvbiBFeHByZXNzaW9ufSB0byBldmFsdWF0ZSB1cG9uXG4gKiBwYXN0ZS4gKHtAbGluayBndWlkZS9leHByZXNzaW9uIy1ldmVudC0gRXZlbnQgb2JqZWN0IGlzIGF2YWlsYWJsZSBhcyBgJGV2ZW50YH0pXG4gKlxuICogQGV4YW1wbGVcbiAgIDxleGFtcGxlIG5hbWU9XCJuZy1wYXN0ZVwiPlxuICAgICA8ZmlsZSBuYW1lPVwiaW5kZXguaHRtbFwiPlxuICAgICAgPGlucHV0IG5nLXBhc3RlPVwicGFzdGU9dHJ1ZVwiIG5nLWluaXQ9XCJwYXN0ZT1mYWxzZVwiIHBsYWNlaG9sZGVyPSdwYXN0ZSBoZXJlJz5cbiAgICAgIHBhc3RlZDoge3twYXN0ZX19XG4gICAgIDwvZmlsZT5cbiAgIDwvZXhhbXBsZT5cbiAqL1xuXG4vKipcbiAqIEBuZ2RvYyBkaXJlY3RpdmVcbiAqIEBuYW1lIG5nSWZcbiAqIEByZXN0cmljdCBBXG4gKiBAbXVsdGlFbGVtZW50XG4gKlxuICogQGRlc2NyaXB0aW9uXG4gKiBUaGUgYG5nSWZgIGRpcmVjdGl2ZSByZW1vdmVzIG9yIHJlY3JlYXRlcyBhIHBvcnRpb24gb2YgdGhlIERPTSB0cmVlIGJhc2VkIG9uIGFuXG4gKiB7ZXhwcmVzc2lvbn0uIElmIHRoZSBleHByZXNzaW9uIGFzc2lnbmVkIHRvIGBuZ0lmYCBldmFsdWF0ZXMgdG8gYSBmYWxzZVxuICogdmFsdWUgdGhlbiB0aGUgZWxlbWVudCBpcyByZW1vdmVkIGZyb20gdGhlIERPTSwgb3RoZXJ3aXNlIGEgY2xvbmUgb2YgdGhlXG4gKiBlbGVtZW50IGlzIHJlaW5zZXJ0ZWQgaW50byB0aGUgRE9NLlxuICpcbiAqIGBuZ0lmYCBkaWZmZXJzIGZyb20gYG5nU2hvd2AgYW5kIGBuZ0hpZGVgIGluIHRoYXQgYG5nSWZgIGNvbXBsZXRlbHkgcmVtb3ZlcyBhbmQgcmVjcmVhdGVzIHRoZVxuICogZWxlbWVudCBpbiB0aGUgRE9NIHJhdGhlciB0aGFuIGNoYW5naW5nIGl0cyB2aXNpYmlsaXR5IHZpYSB0aGUgYGRpc3BsYXlgIGNzcyBwcm9wZXJ0eS4gIEEgY29tbW9uXG4gKiBjYXNlIHdoZW4gdGhpcyBkaWZmZXJlbmNlIGlzIHNpZ25pZmljYW50IGlzIHdoZW4gdXNpbmcgY3NzIHNlbGVjdG9ycyB0aGF0IHJlbHkgb24gYW4gZWxlbWVudCdzXG4gKiBwb3NpdGlvbiB3aXRoaW4gdGhlIERPTSwgc3VjaCBhcyB0aGUgYDpmaXJzdC1jaGlsZGAgb3IgYDpsYXN0LWNoaWxkYCBwc2V1ZG8tY2xhc3Nlcy5cbiAqXG4gKiBOb3RlIHRoYXQgd2hlbiBhbiBlbGVtZW50IGlzIHJlbW92ZWQgdXNpbmcgYG5nSWZgIGl0cyBzY29wZSBpcyBkZXN0cm95ZWQgYW5kIGEgbmV3IHNjb3BlXG4gKiBpcyBjcmVhdGVkIHdoZW4gdGhlIGVsZW1lbnQgaXMgcmVzdG9yZWQuICBUaGUgc2NvcGUgY3JlYXRlZCB3aXRoaW4gYG5nSWZgIGluaGVyaXRzIGZyb21cbiAqIGl0cyBwYXJlbnQgc2NvcGUgdXNpbmdcbiAqIFtwcm90b3R5cGFsIGluaGVyaXRhbmNlXShodHRwczovL2dpdGh1Yi5jb20vYW5ndWxhci9hbmd1bGFyLmpzL3dpa2kvVW5kZXJzdGFuZGluZy1TY29wZXMjamF2YXNjcmlwdC1wcm90b3R5cGFsLWluaGVyaXRhbmNlKS5cbiAqIEFuIGltcG9ydGFudCBpbXBsaWNhdGlvbiBvZiB0aGlzIGlzIGlmIGBuZ01vZGVsYCBpcyB1c2VkIHdpdGhpbiBgbmdJZmAgdG8gYmluZCB0b1xuICogYSBqYXZhc2NyaXB0IHByaW1pdGl2ZSBkZWZpbmVkIGluIHRoZSBwYXJlbnQgc2NvcGUuIEluIHRoaXMgY2FzZSBhbnkgbW9kaWZpY2F0aW9ucyBtYWRlIHRvIHRoZVxuICogdmFyaWFibGUgd2l0aGluIHRoZSBjaGlsZCBzY29wZSB3aWxsIG92ZXJyaWRlIChoaWRlKSB0aGUgdmFsdWUgaW4gdGhlIHBhcmVudCBzY29wZS5cbiAqXG4gKiBBbHNvLCBgbmdJZmAgcmVjcmVhdGVzIGVsZW1lbnRzIHVzaW5nIHRoZWlyIGNvbXBpbGVkIHN0YXRlLiBBbiBleGFtcGxlIG9mIHRoaXMgYmVoYXZpb3JcbiAqIGlzIGlmIGFuIGVsZW1lbnQncyBjbGFzcyBhdHRyaWJ1dGUgaXMgZGlyZWN0bHkgbW9kaWZpZWQgYWZ0ZXIgaXQncyBjb21waWxlZCwgdXNpbmcgc29tZXRoaW5nIGxpa2VcbiAqIGpRdWVyeSdzIGAuYWRkQ2xhc3MoKWAgbWV0aG9kLCBhbmQgdGhlIGVsZW1lbnQgaXMgbGF0ZXIgcmVtb3ZlZC4gV2hlbiBgbmdJZmAgcmVjcmVhdGVzIHRoZSBlbGVtZW50XG4gKiB0aGUgYWRkZWQgY2xhc3Mgd2lsbCBiZSBsb3N0IGJlY2F1c2UgdGhlIG9yaWdpbmFsIGNvbXBpbGVkIHN0YXRlIGlzIHVzZWQgdG8gcmVnZW5lcmF0ZSB0aGUgZWxlbWVudC5cbiAqXG4gKiBBZGRpdGlvbmFsbHksIHlvdSBjYW4gcHJvdmlkZSBhbmltYXRpb25zIHZpYSB0aGUgYG5nQW5pbWF0ZWAgbW9kdWxlIHRvIGFuaW1hdGUgdGhlIGBlbnRlcmBcbiAqIGFuZCBgbGVhdmVgIGVmZmVjdHMuXG4gKlxuICogQGFuaW1hdGlvbnNcbiAqIHwgQW5pbWF0aW9uICAgICAgICAgICAgICAgICAgICAgICAgfCBPY2N1cnMgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfFxuICogfC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS18LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLXxcbiAqIHwge0BsaW5rIG5nLiRhbmltYXRlI2VudGVyIGVudGVyfSAgfCBqdXN0IGFmdGVyIHRoZSBgbmdJZmAgY29udGVudHMgY2hhbmdlIGFuZCBhIG5ldyBET00gZWxlbWVudCBpcyBjcmVhdGVkIGFuZCBpbmplY3RlZCBpbnRvIHRoZSBgbmdJZmAgY29udGFpbmVyIHxcbiAqIHwge0BsaW5rIG5nLiRhbmltYXRlI2xlYXZlIGxlYXZlfSAgfCBqdXN0IGJlZm9yZSB0aGUgYG5nSWZgIGNvbnRlbnRzIGFyZSByZW1vdmVkIGZyb20gdGhlIERPTSB8XG4gKlxuICogQGVsZW1lbnQgQU5ZXG4gKiBAc2NvcGVcbiAqIEBwcmlvcml0eSA2MDBcbiAqIEBwYXJhbSB7ZXhwcmVzc2lvbn0gbmdJZiBJZiB0aGUge0BsaW5rIGd1aWRlL2V4cHJlc3Npb24gZXhwcmVzc2lvbn0gaXMgZmFsc3kgdGhlblxuICogICAgIHRoZSBlbGVtZW50IGlzIHJlbW92ZWQgZnJvbSB0aGUgRE9NIHRyZWUuIElmIGl0IGlzIHRydXRoeSBhIGNvcHkgb2YgdGhlIGNvbXBpbGVkXG4gKiAgICAgZWxlbWVudCBpcyBhZGRlZCB0byB0aGUgRE9NIHRyZWUuXG4gKlxuICogQGV4YW1wbGVcbiAgPGV4YW1wbGUgbW9kdWxlPVwibmdBbmltYXRlXCIgZGVwcz1cImFuZ3VsYXItYW5pbWF0ZS5qc1wiIGFuaW1hdGlvbnM9XCJ0cnVlXCIgbmFtZT1cIm5nLWlmXCI+XG4gICAgPGZpbGUgbmFtZT1cImluZGV4Lmh0bWxcIj5cbiAgICAgIDxsYWJlbD5DbGljayBtZTogPGlucHV0IHR5cGU9XCJjaGVja2JveFwiIG5nLW1vZGVsPVwiY2hlY2tlZFwiIG5nLWluaXQ9XCJjaGVja2VkPXRydWVcIiAvPjwvbGFiZWw+PGJyLz5cbiAgICAgIFNob3cgd2hlbiBjaGVja2VkOlxuICAgICAgPHNwYW4gbmctaWY9XCJjaGVja2VkXCIgY2xhc3M9XCJhbmltYXRlLWlmXCI+XG4gICAgICAgIFRoaXMgaXMgcmVtb3ZlZCB3aGVuIHRoZSBjaGVja2JveCBpcyB1bmNoZWNrZWQuXG4gICAgICA8L3NwYW4+XG4gICAgPC9maWxlPlxuICAgIDxmaWxlIG5hbWU9XCJhbmltYXRpb25zLmNzc1wiPlxuICAgICAgLmFuaW1hdGUtaWYge1xuICAgICAgICBiYWNrZ3JvdW5kOndoaXRlO1xuICAgICAgICBib3JkZXI6MXB4IHNvbGlkIGJsYWNrO1xuICAgICAgICBwYWRkaW5nOjEwcHg7XG4gICAgICB9XG5cbiAgICAgIC5hbmltYXRlLWlmLm5nLWVudGVyLCAuYW5pbWF0ZS1pZi5uZy1sZWF2ZSB7XG4gICAgICAgIHRyYW5zaXRpb246YWxsIGN1YmljLWJlemllcigwLjI1MCwgMC40NjAsIDAuNDUwLCAwLjk0MCkgMC41cztcbiAgICAgIH1cblxuICAgICAgLmFuaW1hdGUtaWYubmctZW50ZXIsXG4gICAgICAuYW5pbWF0ZS1pZi5uZy1sZWF2ZS5uZy1sZWF2ZS1hY3RpdmUge1xuICAgICAgICBvcGFjaXR5OjA7XG4gICAgICB9XG5cbiAgICAgIC5hbmltYXRlLWlmLm5nLWxlYXZlLFxuICAgICAgLmFuaW1hdGUtaWYubmctZW50ZXIubmctZW50ZXItYWN0aXZlIHtcbiAgICAgICAgb3BhY2l0eToxO1xuICAgICAgfVxuICAgIDwvZmlsZT5cbiAgPC9leGFtcGxlPlxuICovXG52YXIgbmdJZkRpcmVjdGl2ZSA9IFsnJGFuaW1hdGUnLCAnJGNvbXBpbGUnLCBmdW5jdGlvbigkYW5pbWF0ZSwgJGNvbXBpbGUpIHtcbiAgcmV0dXJuIHtcbiAgICBtdWx0aUVsZW1lbnQ6IHRydWUsXG4gICAgdHJhbnNjbHVkZTogJ2VsZW1lbnQnLFxuICAgIHByaW9yaXR5OiA2MDAsXG4gICAgdGVybWluYWw6IHRydWUsXG4gICAgcmVzdHJpY3Q6ICdBJyxcbiAgICAkJHRsYjogdHJ1ZSxcbiAgICBsaW5rOiBmdW5jdGlvbigkc2NvcGUsICRlbGVtZW50LCAkYXR0ciwgY3RybCwgJHRyYW5zY2x1ZGUpIHtcbiAgICAgICAgdmFyIGJsb2NrLCBjaGlsZFNjb3BlLCBwcmV2aW91c0VsZW1lbnRzO1xuICAgICAgICAkc2NvcGUuJHdhdGNoKCRhdHRyLm5nSWYsIGZ1bmN0aW9uIG5nSWZXYXRjaEFjdGlvbih2YWx1ZSkge1xuXG4gICAgICAgICAgaWYgKHZhbHVlKSB7XG4gICAgICAgICAgICBpZiAoIWNoaWxkU2NvcGUpIHtcbiAgICAgICAgICAgICAgJHRyYW5zY2x1ZGUoZnVuY3Rpb24oY2xvbmUsIG5ld1Njb3BlKSB7XG4gICAgICAgICAgICAgICAgY2hpbGRTY29wZSA9IG5ld1Njb3BlO1xuICAgICAgICAgICAgICAgIGNsb25lW2Nsb25lLmxlbmd0aCsrXSA9ICRjb21waWxlLiQkY3JlYXRlQ29tbWVudCgnZW5kIG5nSWYnLCAkYXR0ci5uZ0lmKTtcbiAgICAgICAgICAgICAgICAvLyBOb3RlOiBXZSBvbmx5IG5lZWQgdGhlIGZpcnN0L2xhc3Qgbm9kZSBvZiB0aGUgY2xvbmVkIG5vZGVzLlxuICAgICAgICAgICAgICAgIC8vIEhvd2V2ZXIsIHdlIG5lZWQgdG8ga2VlcCB0aGUgcmVmZXJlbmNlIHRvIHRoZSBqcWxpdGUgd3JhcHBlciBhcyBpdCBtaWdodCBiZSBjaGFuZ2VkIGxhdGVyXG4gICAgICAgICAgICAgICAgLy8gYnkgYSBkaXJlY3RpdmUgd2l0aCB0ZW1wbGF0ZVVybCB3aGVuIGl0cyB0ZW1wbGF0ZSBhcnJpdmVzLlxuICAgICAgICAgICAgICAgIGJsb2NrID0ge1xuICAgICAgICAgICAgICAgICAgY2xvbmU6IGNsb25lXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAkYW5pbWF0ZS5lbnRlcihjbG9uZSwgJGVsZW1lbnQucGFyZW50KCksICRlbGVtZW50KTtcbiAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGlmIChwcmV2aW91c0VsZW1lbnRzKSB7XG4gICAgICAgICAgICAgIHByZXZpb3VzRWxlbWVudHMucmVtb3ZlKCk7XG4gICAgICAgICAgICAgIHByZXZpb3VzRWxlbWVudHMgPSBudWxsO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGNoaWxkU2NvcGUpIHtcbiAgICAgICAgICAgICAgY2hpbGRTY29wZS4kZGVzdHJveSgpO1xuICAgICAgICAgICAgICBjaGlsZFNjb3BlID0gbnVsbDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChibG9jaykge1xuICAgICAgICAgICAgICBwcmV2aW91c0VsZW1lbnRzID0gZ2V0QmxvY2tOb2RlcyhibG9jay5jbG9uZSk7XG4gICAgICAgICAgICAgICRhbmltYXRlLmxlYXZlKHByZXZpb3VzRWxlbWVudHMpLmRvbmUoZnVuY3Rpb24ocmVzcG9uc2UpIHtcbiAgICAgICAgICAgICAgICBpZiAocmVzcG9uc2UgIT09IGZhbHNlKSBwcmV2aW91c0VsZW1lbnRzID0gbnVsbDtcbiAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgIGJsb2NrID0gbnVsbDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH1cbiAgfTtcbn1dO1xuXG4vKipcbiAqIEBuZ2RvYyBkaXJlY3RpdmVcbiAqIEBuYW1lIG5nSW5jbHVkZVxuICogQHJlc3RyaWN0IEVDQVxuICpcbiAqIEBkZXNjcmlwdGlvblxuICogRmV0Y2hlcywgY29tcGlsZXMgYW5kIGluY2x1ZGVzIGFuIGV4dGVybmFsIEhUTUwgZnJhZ21lbnQuXG4gKlxuICogQnkgZGVmYXVsdCwgdGhlIHRlbXBsYXRlIFVSTCBpcyByZXN0cmljdGVkIHRvIHRoZSBzYW1lIGRvbWFpbiBhbmQgcHJvdG9jb2wgYXMgdGhlXG4gKiBhcHBsaWNhdGlvbiBkb2N1bWVudC4gVGhpcyBpcyBkb25lIGJ5IGNhbGxpbmcge0BsaW5rICRzY2UjZ2V0VHJ1c3RlZFJlc291cmNlVXJsXG4gKiAkc2NlLmdldFRydXN0ZWRSZXNvdXJjZVVybH0gb24gaXQuIFRvIGxvYWQgdGVtcGxhdGVzIGZyb20gb3RoZXIgZG9tYWlucyBvciBwcm90b2NvbHNcbiAqIHlvdSBtYXkgZWl0aGVyIHtAbGluayBuZy4kc2NlRGVsZWdhdGVQcm92aWRlciNyZXNvdXJjZVVybFdoaXRlbGlzdCB3aGl0ZWxpc3QgdGhlbX0gb3JcbiAqIHtAbGluayAkc2NlI3RydXN0QXNSZXNvdXJjZVVybCB3cmFwIHRoZW19IGFzIHRydXN0ZWQgdmFsdWVzLiBSZWZlciB0byBBbmd1bGFyJ3Mge0BsaW5rXG4gKiBuZy4kc2NlIFN0cmljdCBDb250ZXh0dWFsIEVzY2FwaW5nfS5cbiAqXG4gKiBJbiBhZGRpdGlvbiwgdGhlIGJyb3dzZXInc1xuICogW1NhbWUgT3JpZ2luIFBvbGljeV0oaHR0cHM6Ly9jb2RlLmdvb2dsZS5jb20vcC9icm93c2Vyc2VjL3dpa2kvUGFydDIjU2FtZS1vcmlnaW5fcG9saWN5X2Zvcl9YTUxIdHRwUmVxdWVzdClcbiAqIGFuZCBbQ3Jvc3MtT3JpZ2luIFJlc291cmNlIFNoYXJpbmcgKENPUlMpXShodHRwOi8vd3d3LnczLm9yZy9UUi9jb3JzLylcbiAqIHBvbGljeSBtYXkgZnVydGhlciByZXN0cmljdCB3aGV0aGVyIHRoZSB0ZW1wbGF0ZSBpcyBzdWNjZXNzZnVsbHkgbG9hZGVkLlxuICogRm9yIGV4YW1wbGUsIGBuZ0luY2x1ZGVgIHdvbid0IHdvcmsgZm9yIGNyb3NzLWRvbWFpbiByZXF1ZXN0cyBvbiBhbGwgYnJvd3NlcnMgYW5kIGZvciBgZmlsZTovL2BcbiAqIGFjY2VzcyBvbiBzb21lIGJyb3dzZXJzLlxuICpcbiAqIEBhbmltYXRpb25zXG4gKiB8IEFuaW1hdGlvbiAgICAgICAgICAgICAgICAgICAgICAgIHwgT2NjdXJzICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfFxuICogfC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS18LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLXxcbiAqIHwge0BsaW5rIG5nLiRhbmltYXRlI2VudGVyIGVudGVyfSAgfCB3aGVuIHRoZSBleHByZXNzaW9uIGNoYW5nZXMsIG9uIHRoZSBuZXcgaW5jbHVkZSB8XG4gKiB8IHtAbGluayBuZy4kYW5pbWF0ZSNsZWF2ZSBsZWF2ZX0gIHwgd2hlbiB0aGUgZXhwcmVzc2lvbiBjaGFuZ2VzLCBvbiB0aGUgb2xkIGluY2x1ZGUgfFxuICpcbiAqIFRoZSBlbnRlciBhbmQgbGVhdmUgYW5pbWF0aW9uIG9jY3VyIGNvbmN1cnJlbnRseS5cbiAqXG4gKiBAc2NvcGVcbiAqIEBwcmlvcml0eSA0MDBcbiAqXG4gKiBAcGFyYW0ge3N0cmluZ30gbmdJbmNsdWRlfHNyYyBhbmd1bGFyIGV4cHJlc3Npb24gZXZhbHVhdGluZyB0byBVUkwuIElmIHRoZSBzb3VyY2UgaXMgYSBzdHJpbmcgY29uc3RhbnQsXG4gKiAgICAgICAgICAgICAgICAgbWFrZSBzdXJlIHlvdSB3cmFwIGl0IGluICoqc2luZ2xlKiogcXVvdGVzLCBlLmcuIGBzcmM9XCInbXlQYXJ0aWFsVGVtcGxhdGUuaHRtbCdcImAuXG4gKiBAcGFyYW0ge3N0cmluZz19IG9ubG9hZCBFeHByZXNzaW9uIHRvIGV2YWx1YXRlIHdoZW4gYSBuZXcgcGFydGlhbCBpcyBsb2FkZWQuXG4gKiAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJhbGVydCBhbGVydC13YXJuaW5nXCI+XG4gKiAgICAgICAgICAgICAgICAgICoqTm90ZToqKiBXaGVuIHVzaW5nIG9ubG9hZCBvbiBTVkcgZWxlbWVudHMgaW4gSUUxMSwgdGhlIGJyb3dzZXIgd2lsbCB0cnkgdG8gY2FsbFxuICogICAgICAgICAgICAgICAgICBhIGZ1bmN0aW9uIHdpdGggdGhlIG5hbWUgb24gdGhlIHdpbmRvdyBlbGVtZW50LCB3aGljaCB3aWxsIHVzdWFsbHkgdGhyb3cgYVxuICogICAgICAgICAgICAgICAgICBcImZ1bmN0aW9uIGlzIHVuZGVmaW5lZFwiIGVycm9yLiBUbyBmaXggdGhpcywgeW91IGNhbiBpbnN0ZWFkIHVzZSBgZGF0YS1vbmxvYWRgIG9yIGFcbiAqICAgICAgICAgICAgICAgICAgZGlmZmVyZW50IGZvcm0gdGhhdCB7QGxpbmsgZ3VpZGUvZGlyZWN0aXZlI25vcm1hbGl6YXRpb24gbWF0Y2hlc30gYG9ubG9hZGAuXG4gKiAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgKlxuICogQHBhcmFtIHtzdHJpbmc9fSBhdXRvc2Nyb2xsIFdoZXRoZXIgYG5nSW5jbHVkZWAgc2hvdWxkIGNhbGwge0BsaW5rIG5nLiRhbmNob3JTY3JvbGxcbiAqICAgICAgICAgICAgICAgICAgJGFuY2hvclNjcm9sbH0gdG8gc2Nyb2xsIHRoZSB2aWV3cG9ydCBhZnRlciB0aGUgY29udGVudCBpcyBsb2FkZWQuXG4gKlxuICogICAgICAgICAgICAgICAgICAtIElmIHRoZSBhdHRyaWJ1dGUgaXMgbm90IHNldCwgZGlzYWJsZSBzY3JvbGxpbmcuXG4gKiAgICAgICAgICAgICAgICAgIC0gSWYgdGhlIGF0dHJpYnV0ZSBpcyBzZXQgd2l0aG91dCB2YWx1ZSwgZW5hYmxlIHNjcm9sbGluZy5cbiAqICAgICAgICAgICAgICAgICAgLSBPdGhlcndpc2UgZW5hYmxlIHNjcm9sbGluZyBvbmx5IGlmIHRoZSBleHByZXNzaW9uIGV2YWx1YXRlcyB0byB0cnV0aHkgdmFsdWUuXG4gKlxuICogQGV4YW1wbGVcbiAgPGV4YW1wbGUgbW9kdWxlPVwiaW5jbHVkZUV4YW1wbGVcIiBkZXBzPVwiYW5ndWxhci1hbmltYXRlLmpzXCIgYW5pbWF0aW9ucz1cInRydWVcIiBuYW1lPVwibmctaW5jbHVkZVwiPlxuICAgIDxmaWxlIG5hbWU9XCJpbmRleC5odG1sXCI+XG4gICAgIDxkaXYgbmctY29udHJvbGxlcj1cIkV4YW1wbGVDb250cm9sbGVyXCI+XG4gICAgICAgPHNlbGVjdCBuZy1tb2RlbD1cInRlbXBsYXRlXCIgbmctb3B0aW9ucz1cInQubmFtZSBmb3IgdCBpbiB0ZW1wbGF0ZXNcIj5cbiAgICAgICAgPG9wdGlvbiB2YWx1ZT1cIlwiPihibGFuayk8L29wdGlvbj5cbiAgICAgICA8L3NlbGVjdD5cbiAgICAgICB1cmwgb2YgdGhlIHRlbXBsYXRlOiA8Y29kZT57e3RlbXBsYXRlLnVybH19PC9jb2RlPlxuICAgICAgIDxoci8+XG4gICAgICAgPGRpdiBjbGFzcz1cInNsaWRlLWFuaW1hdGUtY29udGFpbmVyXCI+XG4gICAgICAgICA8ZGl2IGNsYXNzPVwic2xpZGUtYW5pbWF0ZVwiIG5nLWluY2x1ZGU9XCJ0ZW1wbGF0ZS51cmxcIj48L2Rpdj5cbiAgICAgICA8L2Rpdj5cbiAgICAgPC9kaXY+XG4gICAgPC9maWxlPlxuICAgIDxmaWxlIG5hbWU9XCJzY3JpcHQuanNcIj5cbiAgICAgIGFuZ3VsYXIubW9kdWxlKCdpbmNsdWRlRXhhbXBsZScsIFsnbmdBbmltYXRlJ10pXG4gICAgICAgIC5jb250cm9sbGVyKCdFeGFtcGxlQ29udHJvbGxlcicsIFsnJHNjb3BlJywgZnVuY3Rpb24oJHNjb3BlKSB7XG4gICAgICAgICAgJHNjb3BlLnRlbXBsYXRlcyA9XG4gICAgICAgICAgICBbeyBuYW1lOiAndGVtcGxhdGUxLmh0bWwnLCB1cmw6ICd0ZW1wbGF0ZTEuaHRtbCd9LFxuICAgICAgICAgICAgIHsgbmFtZTogJ3RlbXBsYXRlMi5odG1sJywgdXJsOiAndGVtcGxhdGUyLmh0bWwnfV07XG4gICAgICAgICAgJHNjb3BlLnRlbXBsYXRlID0gJHNjb3BlLnRlbXBsYXRlc1swXTtcbiAgICAgICAgfV0pO1xuICAgICA8L2ZpbGU+XG4gICAgPGZpbGUgbmFtZT1cInRlbXBsYXRlMS5odG1sXCI+XG4gICAgICBDb250ZW50IG9mIHRlbXBsYXRlMS5odG1sXG4gICAgPC9maWxlPlxuICAgIDxmaWxlIG5hbWU9XCJ0ZW1wbGF0ZTIuaHRtbFwiPlxuICAgICAgQ29udGVudCBvZiB0ZW1wbGF0ZTIuaHRtbFxuICAgIDwvZmlsZT5cbiAgICA8ZmlsZSBuYW1lPVwiYW5pbWF0aW9ucy5jc3NcIj5cbiAgICAgIC5zbGlkZS1hbmltYXRlLWNvbnRhaW5lciB7XG4gICAgICAgIHBvc2l0aW9uOnJlbGF0aXZlO1xuICAgICAgICBiYWNrZ3JvdW5kOndoaXRlO1xuICAgICAgICBib3JkZXI6MXB4IHNvbGlkIGJsYWNrO1xuICAgICAgICBoZWlnaHQ6NDBweDtcbiAgICAgICAgb3ZlcmZsb3c6aGlkZGVuO1xuICAgICAgfVxuXG4gICAgICAuc2xpZGUtYW5pbWF0ZSB7XG4gICAgICAgIHBhZGRpbmc6MTBweDtcbiAgICAgIH1cblxuICAgICAgLnNsaWRlLWFuaW1hdGUubmctZW50ZXIsIC5zbGlkZS1hbmltYXRlLm5nLWxlYXZlIHtcbiAgICAgICAgdHJhbnNpdGlvbjphbGwgY3ViaWMtYmV6aWVyKDAuMjUwLCAwLjQ2MCwgMC40NTAsIDAuOTQwKSAwLjVzO1xuXG4gICAgICAgIHBvc2l0aW9uOmFic29sdXRlO1xuICAgICAgICB0b3A6MDtcbiAgICAgICAgbGVmdDowO1xuICAgICAgICByaWdodDowO1xuICAgICAgICBib3R0b206MDtcbiAgICAgICAgZGlzcGxheTpibG9jaztcbiAgICAgICAgcGFkZGluZzoxMHB4O1xuICAgICAgfVxuXG4gICAgICAuc2xpZGUtYW5pbWF0ZS5uZy1lbnRlciB7XG4gICAgICAgIHRvcDotNTBweDtcbiAgICAgIH1cbiAgICAgIC5zbGlkZS1hbmltYXRlLm5nLWVudGVyLm5nLWVudGVyLWFjdGl2ZSB7XG4gICAgICAgIHRvcDowO1xuICAgICAgfVxuXG4gICAgICAuc2xpZGUtYW5pbWF0ZS5uZy1sZWF2ZSB7XG4gICAgICAgIHRvcDowO1xuICAgICAgfVxuICAgICAgLnNsaWRlLWFuaW1hdGUubmctbGVhdmUubmctbGVhdmUtYWN0aXZlIHtcbiAgICAgICAgdG9wOjUwcHg7XG4gICAgICB9XG4gICAgPC9maWxlPlxuICAgIDxmaWxlIG5hbWU9XCJwcm90cmFjdG9yLmpzXCIgdHlwZT1cInByb3RyYWN0b3JcIj5cbiAgICAgIHZhciB0ZW1wbGF0ZVNlbGVjdCA9IGVsZW1lbnQoYnkubW9kZWwoJ3RlbXBsYXRlJykpO1xuICAgICAgdmFyIGluY2x1ZGVFbGVtID0gZWxlbWVudChieS5jc3MoJ1tuZy1pbmNsdWRlXScpKTtcblxuICAgICAgaXQoJ3Nob3VsZCBsb2FkIHRlbXBsYXRlMS5odG1sJywgZnVuY3Rpb24oKSB7XG4gICAgICAgIGV4cGVjdChpbmNsdWRlRWxlbS5nZXRUZXh0KCkpLnRvTWF0Y2goL0NvbnRlbnQgb2YgdGVtcGxhdGUxLmh0bWwvKTtcbiAgICAgIH0pO1xuXG4gICAgICBpdCgnc2hvdWxkIGxvYWQgdGVtcGxhdGUyLmh0bWwnLCBmdW5jdGlvbigpIHtcbiAgICAgICAgaWYgKGJyb3dzZXIucGFyYW1zLmJyb3dzZXIgPT09ICdmaXJlZm94Jykge1xuICAgICAgICAgIC8vIEZpcmVmb3ggY2FuJ3QgaGFuZGxlIHVzaW5nIHNlbGVjdHNcbiAgICAgICAgICAvLyBTZWUgaHR0cHM6Ly9naXRodWIuY29tL2FuZ3VsYXIvcHJvdHJhY3Rvci9pc3N1ZXMvNDgwXG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHRlbXBsYXRlU2VsZWN0LmNsaWNrKCk7XG4gICAgICAgIHRlbXBsYXRlU2VsZWN0LmFsbChieS5jc3MoJ29wdGlvbicpKS5nZXQoMikuY2xpY2soKTtcbiAgICAgICAgZXhwZWN0KGluY2x1ZGVFbGVtLmdldFRleHQoKSkudG9NYXRjaCgvQ29udGVudCBvZiB0ZW1wbGF0ZTIuaHRtbC8pO1xuICAgICAgfSk7XG5cbiAgICAgIGl0KCdzaG91bGQgY2hhbmdlIHRvIGJsYW5rJywgZnVuY3Rpb24oKSB7XG4gICAgICAgIGlmIChicm93c2VyLnBhcmFtcy5icm93c2VyID09PSAnZmlyZWZveCcpIHtcbiAgICAgICAgICAvLyBGaXJlZm94IGNhbid0IGhhbmRsZSB1c2luZyBzZWxlY3RzXG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHRlbXBsYXRlU2VsZWN0LmNsaWNrKCk7XG4gICAgICAgIHRlbXBsYXRlU2VsZWN0LmFsbChieS5jc3MoJ29wdGlvbicpKS5nZXQoMCkuY2xpY2soKTtcbiAgICAgICAgZXhwZWN0KGluY2x1ZGVFbGVtLmlzUHJlc2VudCgpKS50b0JlKGZhbHNlKTtcbiAgICAgIH0pO1xuICAgIDwvZmlsZT5cbiAgPC9leGFtcGxlPlxuICovXG5cblxuLyoqXG4gKiBAbmdkb2MgZXZlbnRcbiAqIEBuYW1lIG5nSW5jbHVkZSMkaW5jbHVkZUNvbnRlbnRSZXF1ZXN0ZWRcbiAqIEBldmVudFR5cGUgZW1pdCBvbiB0aGUgc2NvcGUgbmdJbmNsdWRlIHdhcyBkZWNsYXJlZCBpblxuICogQGRlc2NyaXB0aW9uXG4gKiBFbWl0dGVkIGV2ZXJ5IHRpbWUgdGhlIG5nSW5jbHVkZSBjb250ZW50IGlzIHJlcXVlc3RlZC5cbiAqXG4gKiBAcGFyYW0ge09iamVjdH0gYW5ndWxhckV2ZW50IFN5bnRoZXRpYyBldmVudCBvYmplY3QuXG4gKiBAcGFyYW0ge1N0cmluZ30gc3JjIFVSTCBvZiBjb250ZW50IHRvIGxvYWQuXG4gKi9cblxuXG4vKipcbiAqIEBuZ2RvYyBldmVudFxuICogQG5hbWUgbmdJbmNsdWRlIyRpbmNsdWRlQ29udGVudExvYWRlZFxuICogQGV2ZW50VHlwZSBlbWl0IG9uIHRoZSBjdXJyZW50IG5nSW5jbHVkZSBzY29wZVxuICogQGRlc2NyaXB0aW9uXG4gKiBFbWl0dGVkIGV2ZXJ5IHRpbWUgdGhlIG5nSW5jbHVkZSBjb250ZW50IGlzIHJlbG9hZGVkLlxuICpcbiAqIEBwYXJhbSB7T2JqZWN0fSBhbmd1bGFyRXZlbnQgU3ludGhldGljIGV2ZW50IG9iamVjdC5cbiAqIEBwYXJhbSB7U3RyaW5nfSBzcmMgVVJMIG9mIGNvbnRlbnQgdG8gbG9hZC5cbiAqL1xuXG5cbi8qKlxuICogQG5nZG9jIGV2ZW50XG4gKiBAbmFtZSBuZ0luY2x1ZGUjJGluY2x1ZGVDb250ZW50RXJyb3JcbiAqIEBldmVudFR5cGUgZW1pdCBvbiB0aGUgc2NvcGUgbmdJbmNsdWRlIHdhcyBkZWNsYXJlZCBpblxuICogQGRlc2NyaXB0aW9uXG4gKiBFbWl0dGVkIHdoZW4gYSB0ZW1wbGF0ZSBIVFRQIHJlcXVlc3QgeWllbGRzIGFuIGVycm9uZW91cyByZXNwb25zZSAoc3RhdHVzIDwgMjAwIHx8IHN0YXR1cyA+IDI5OSlcbiAqXG4gKiBAcGFyYW0ge09iamVjdH0gYW5ndWxhckV2ZW50IFN5bnRoZXRpYyBldmVudCBvYmplY3QuXG4gKiBAcGFyYW0ge1N0cmluZ30gc3JjIFVSTCBvZiBjb250ZW50IHRvIGxvYWQuXG4gKi9cbnZhciBuZ0luY2x1ZGVEaXJlY3RpdmUgPSBbJyR0ZW1wbGF0ZVJlcXVlc3QnLCAnJGFuY2hvclNjcm9sbCcsICckYW5pbWF0ZScsXG4gICAgICAgICAgICAgICAgICBmdW5jdGlvbigkdGVtcGxhdGVSZXF1ZXN0LCAgICRhbmNob3JTY3JvbGwsICAgJGFuaW1hdGUpIHtcbiAgcmV0dXJuIHtcbiAgICByZXN0cmljdDogJ0VDQScsXG4gICAgcHJpb3JpdHk6IDQwMCxcbiAgICB0ZXJtaW5hbDogdHJ1ZSxcbiAgICB0cmFuc2NsdWRlOiAnZWxlbWVudCcsXG4gICAgY29udHJvbGxlcjogYW5ndWxhci5ub29wLFxuICAgIGNvbXBpbGU6IGZ1bmN0aW9uKGVsZW1lbnQsIGF0dHIpIHtcbiAgICAgIHZhciBzcmNFeHAgPSBhdHRyLm5nSW5jbHVkZSB8fCBhdHRyLnNyYyxcbiAgICAgICAgICBvbmxvYWRFeHAgPSBhdHRyLm9ubG9hZCB8fCAnJyxcbiAgICAgICAgICBhdXRvU2Nyb2xsRXhwID0gYXR0ci5hdXRvc2Nyb2xsO1xuXG4gICAgICByZXR1cm4gZnVuY3Rpb24oc2NvcGUsICRlbGVtZW50LCAkYXR0ciwgY3RybCwgJHRyYW5zY2x1ZGUpIHtcbiAgICAgICAgdmFyIGNoYW5nZUNvdW50ZXIgPSAwLFxuICAgICAgICAgICAgY3VycmVudFNjb3BlLFxuICAgICAgICAgICAgcHJldmlvdXNFbGVtZW50LFxuICAgICAgICAgICAgY3VycmVudEVsZW1lbnQ7XG5cbiAgICAgICAgdmFyIGNsZWFudXBMYXN0SW5jbHVkZUNvbnRlbnQgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICBpZiAocHJldmlvdXNFbGVtZW50KSB7XG4gICAgICAgICAgICBwcmV2aW91c0VsZW1lbnQucmVtb3ZlKCk7XG4gICAgICAgICAgICBwcmV2aW91c0VsZW1lbnQgPSBudWxsO1xuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAoY3VycmVudFNjb3BlKSB7XG4gICAgICAgICAgICBjdXJyZW50U2NvcGUuJGRlc3Ryb3koKTtcbiAgICAgICAgICAgIGN1cnJlbnRTY29wZSA9IG51bGw7XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmIChjdXJyZW50RWxlbWVudCkge1xuICAgICAgICAgICAgJGFuaW1hdGUubGVhdmUoY3VycmVudEVsZW1lbnQpLmRvbmUoZnVuY3Rpb24ocmVzcG9uc2UpIHtcbiAgICAgICAgICAgICAgaWYgKHJlc3BvbnNlICE9PSBmYWxzZSkgcHJldmlvdXNFbGVtZW50ID0gbnVsbDtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgcHJldmlvdXNFbGVtZW50ID0gY3VycmVudEVsZW1lbnQ7XG4gICAgICAgICAgICBjdXJyZW50RWxlbWVudCA9IG51bGw7XG4gICAgICAgICAgfVxuICAgICAgICB9O1xuXG4gICAgICAgIHNjb3BlLiR3YXRjaChzcmNFeHAsIGZ1bmN0aW9uIG5nSW5jbHVkZVdhdGNoQWN0aW9uKHNyYykge1xuICAgICAgICAgIHZhciBhZnRlckFuaW1hdGlvbiA9IGZ1bmN0aW9uKHJlc3BvbnNlKSB7XG4gICAgICAgICAgICBpZiAocmVzcG9uc2UgIT09IGZhbHNlICYmIGlzRGVmaW5lZChhdXRvU2Nyb2xsRXhwKSAmJlxuICAgICAgICAgICAgICAoIWF1dG9TY3JvbGxFeHAgfHwgc2NvcGUuJGV2YWwoYXV0b1Njcm9sbEV4cCkpKSB7XG4gICAgICAgICAgICAgICAgJGFuY2hvclNjcm9sbCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH07XG4gICAgICAgICAgdmFyIHRoaXNDaGFuZ2VJZCA9ICsrY2hhbmdlQ291bnRlcjtcblxuICAgICAgICAgIGlmIChzcmMpIHtcbiAgICAgICAgICAgIC8vc2V0IHRoZSAybmQgcGFyYW0gdG8gdHJ1ZSB0byBpZ25vcmUgdGhlIHRlbXBsYXRlIHJlcXVlc3QgZXJyb3Igc28gdGhhdCB0aGUgaW5uZXJcbiAgICAgICAgICAgIC8vY29udGVudHMgYW5kIHNjb3BlIGNhbiBiZSBjbGVhbmVkIHVwLlxuICAgICAgICAgICAgJHRlbXBsYXRlUmVxdWVzdChzcmMsIHRydWUpLnRoZW4oZnVuY3Rpb24ocmVzcG9uc2UpIHtcbiAgICAgICAgICAgICAgaWYgKHNjb3BlLiQkZGVzdHJveWVkKSByZXR1cm47XG5cbiAgICAgICAgICAgICAgaWYgKHRoaXNDaGFuZ2VJZCAhPT0gY2hhbmdlQ291bnRlcikgcmV0dXJuO1xuICAgICAgICAgICAgICB2YXIgbmV3U2NvcGUgPSBzY29wZS4kbmV3KCk7XG4gICAgICAgICAgICAgIGN0cmwudGVtcGxhdGUgPSByZXNwb25zZTtcblxuICAgICAgICAgICAgICAvLyBOb3RlOiBUaGlzIHdpbGwgYWxzbyBsaW5rIGFsbCBjaGlsZHJlbiBvZiBuZy1pbmNsdWRlIHRoYXQgd2VyZSBjb250YWluZWQgaW4gdGhlIG9yaWdpbmFsXG4gICAgICAgICAgICAgIC8vIGh0bWwuIElmIHRoYXQgY29udGVudCBjb250YWlucyBjb250cm9sbGVycywgLi4uIHRoZXkgY291bGQgcG9sbHV0ZS9jaGFuZ2UgdGhlIHNjb3BlLlxuICAgICAgICAgICAgICAvLyBIb3dldmVyLCB1c2luZyBuZy1pbmNsdWRlIG9uIGFuIGVsZW1lbnQgd2l0aCBhZGRpdGlvbmFsIGNvbnRlbnQgZG9lcyBub3QgbWFrZSBzZW5zZS4uLlxuICAgICAgICAgICAgICAvLyBOb3RlOiBXZSBjYW4ndCByZW1vdmUgdGhlbSBpbiB0aGUgY2xvbmVBdHRjaEZuIG9mICR0cmFuc2NsdWRlIGFzIHRoYXRcbiAgICAgICAgICAgICAgLy8gZnVuY3Rpb24gaXMgY2FsbGVkIGJlZm9yZSBsaW5raW5nIHRoZSBjb250ZW50LCB3aGljaCB3b3VsZCBhcHBseSBjaGlsZFxuICAgICAgICAgICAgICAvLyBkaXJlY3RpdmVzIHRvIG5vbiBleGlzdGluZyBlbGVtZW50cy5cbiAgICAgICAgICAgICAgdmFyIGNsb25lID0gJHRyYW5zY2x1ZGUobmV3U2NvcGUsIGZ1bmN0aW9uKGNsb25lKSB7XG4gICAgICAgICAgICAgICAgY2xlYW51cExhc3RJbmNsdWRlQ29udGVudCgpO1xuICAgICAgICAgICAgICAgICRhbmltYXRlLmVudGVyKGNsb25lLCBudWxsLCAkZWxlbWVudCkuZG9uZShhZnRlckFuaW1hdGlvbik7XG4gICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgIGN1cnJlbnRTY29wZSA9IG5ld1Njb3BlO1xuICAgICAgICAgICAgICBjdXJyZW50RWxlbWVudCA9IGNsb25lO1xuXG4gICAgICAgICAgICAgIGN1cnJlbnRTY29wZS4kZW1pdCgnJGluY2x1ZGVDb250ZW50TG9hZGVkJywgc3JjKTtcbiAgICAgICAgICAgICAgc2NvcGUuJGV2YWwob25sb2FkRXhwKTtcbiAgICAgICAgICAgIH0sIGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICBpZiAoc2NvcGUuJCRkZXN0cm95ZWQpIHJldHVybjtcblxuICAgICAgICAgICAgICBpZiAodGhpc0NoYW5nZUlkID09PSBjaGFuZ2VDb3VudGVyKSB7XG4gICAgICAgICAgICAgICAgY2xlYW51cExhc3RJbmNsdWRlQ29udGVudCgpO1xuICAgICAgICAgICAgICAgIHNjb3BlLiRlbWl0KCckaW5jbHVkZUNvbnRlbnRFcnJvcicsIHNyYyk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgc2NvcGUuJGVtaXQoJyRpbmNsdWRlQ29udGVudFJlcXVlc3RlZCcsIHNyYyk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGNsZWFudXBMYXN0SW5jbHVkZUNvbnRlbnQoKTtcbiAgICAgICAgICAgIGN0cmwudGVtcGxhdGUgPSBudWxsO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICB9O1xuICAgIH1cbiAgfTtcbn1dO1xuXG4vLyBUaGlzIGRpcmVjdGl2ZSBpcyBjYWxsZWQgZHVyaW5nIHRoZSAkdHJhbnNjbHVkZSBjYWxsIG9mIHRoZSBmaXJzdCBgbmdJbmNsdWRlYCBkaXJlY3RpdmUuXG4vLyBJdCB3aWxsIHJlcGxhY2UgYW5kIGNvbXBpbGUgdGhlIGNvbnRlbnQgb2YgdGhlIGVsZW1lbnQgd2l0aCB0aGUgbG9hZGVkIHRlbXBsYXRlLlxuLy8gV2UgbmVlZCB0aGlzIGRpcmVjdGl2ZSBzbyB0aGF0IHRoZSBlbGVtZW50IGNvbnRlbnQgaXMgYWxyZWFkeSBmaWxsZWQgd2hlblxuLy8gdGhlIGxpbmsgZnVuY3Rpb24gb2YgYW5vdGhlciBkaXJlY3RpdmUgb24gdGhlIHNhbWUgZWxlbWVudCBhcyBuZ0luY2x1ZGVcbi8vIGlzIGNhbGxlZC5cbnZhciBuZ0luY2x1ZGVGaWxsQ29udGVudERpcmVjdGl2ZSA9IFsnJGNvbXBpbGUnLFxuICBmdW5jdGlvbigkY29tcGlsZSkge1xuICAgIHJldHVybiB7XG4gICAgICByZXN0cmljdDogJ0VDQScsXG4gICAgICBwcmlvcml0eTogLTQwMCxcbiAgICAgIHJlcXVpcmU6ICduZ0luY2x1ZGUnLFxuICAgICAgbGluazogZnVuY3Rpb24oc2NvcGUsICRlbGVtZW50LCAkYXR0ciwgY3RybCkge1xuICAgICAgICBpZiAodG9TdHJpbmcuY2FsbCgkZWxlbWVudFswXSkubWF0Y2goL1NWRy8pKSB7XG4gICAgICAgICAgLy8gV2ViS2l0OiBodHRwczovL2J1Z3Mud2Via2l0Lm9yZy9zaG93X2J1Zy5jZ2k/aWQ9MTM1Njk4IC0tLSBTVkcgZWxlbWVudHMgZG8gbm90XG4gICAgICAgICAgLy8gc3VwcG9ydCBpbm5lckhUTUwsIHNvIGRldGVjdCB0aGlzIGhlcmUgYW5kIHRyeSB0byBnZW5lcmF0ZSB0aGUgY29udGVudHNcbiAgICAgICAgICAvLyBzcGVjaWFsbHkuXG4gICAgICAgICAgJGVsZW1lbnQuZW1wdHkoKTtcbiAgICAgICAgICAkY29tcGlsZShqcUxpdGVCdWlsZEZyYWdtZW50KGN0cmwudGVtcGxhdGUsIHdpbmRvdy5kb2N1bWVudCkuY2hpbGROb2Rlcykoc2NvcGUsXG4gICAgICAgICAgICAgIGZ1bmN0aW9uIG5hbWVzcGFjZUFkYXB0ZWRDbG9uZShjbG9uZSkge1xuICAgICAgICAgICAgJGVsZW1lbnQuYXBwZW5kKGNsb25lKTtcbiAgICAgICAgICB9LCB7ZnV0dXJlUGFyZW50RWxlbWVudDogJGVsZW1lbnR9KTtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICAkZWxlbWVudC5odG1sKGN0cmwudGVtcGxhdGUpO1xuICAgICAgICAkY29tcGlsZSgkZWxlbWVudC5jb250ZW50cygpKShzY29wZSk7XG4gICAgICB9XG4gICAgfTtcbiAgfV07XG5cbi8qKlxuICogQG5nZG9jIGRpcmVjdGl2ZVxuICogQG5hbWUgbmdJbml0XG4gKiBAcmVzdHJpY3QgQUNcbiAqXG4gKiBAZGVzY3JpcHRpb25cbiAqIFRoZSBgbmdJbml0YCBkaXJlY3RpdmUgYWxsb3dzIHlvdSB0byBldmFsdWF0ZSBhbiBleHByZXNzaW9uIGluIHRoZVxuICogY3VycmVudCBzY29wZS5cbiAqXG4gKiA8ZGl2IGNsYXNzPVwiYWxlcnQgYWxlcnQtZGFuZ2VyXCI+XG4gKiBUaGlzIGRpcmVjdGl2ZSBjYW4gYmUgYWJ1c2VkIHRvIGFkZCB1bm5lY2Vzc2FyeSBhbW91bnRzIG9mIGxvZ2ljIGludG8geW91ciB0ZW1wbGF0ZXMuXG4gKiBUaGVyZSBhcmUgb25seSBhIGZldyBhcHByb3ByaWF0ZSB1c2VzIG9mIGBuZ0luaXRgLCBzdWNoIGFzIGZvciBhbGlhc2luZyBzcGVjaWFsIHByb3BlcnRpZXMgb2ZcbiAqIHtAbGluayBuZy5kaXJlY3RpdmU6bmdSZXBlYXQgYG5nUmVwZWF0YH0sIGFzIHNlZW4gaW4gdGhlIGRlbW8gYmVsb3c7IGFuZCBmb3IgaW5qZWN0aW5nIGRhdGEgdmlhXG4gKiBzZXJ2ZXIgc2lkZSBzY3JpcHRpbmcuIEJlc2lkZXMgdGhlc2UgZmV3IGNhc2VzLCB5b3Ugc2hvdWxkIHVzZSB7QGxpbmsgZ3VpZGUvY29udHJvbGxlciBjb250cm9sbGVyc31cbiAqIHJhdGhlciB0aGFuIGBuZ0luaXRgIHRvIGluaXRpYWxpemUgdmFsdWVzIG9uIGEgc2NvcGUuXG4gKiA8L2Rpdj5cbiAqXG4gKiA8ZGl2IGNsYXNzPVwiYWxlcnQgYWxlcnQtd2FybmluZ1wiPlxuICogKipOb3RlKio6IElmIHlvdSBoYXZlIGFzc2lnbm1lbnQgaW4gYG5nSW5pdGAgYWxvbmcgd2l0aCBhIHtAbGluayBuZy4kZmlsdGVyIGBmaWx0ZXJgfSwgbWFrZVxuICogc3VyZSB5b3UgaGF2ZSBwYXJlbnRoZXNlcyB0byBlbnN1cmUgY29ycmVjdCBvcGVyYXRvciBwcmVjZWRlbmNlOlxuICogPHByZSBjbGFzcz1cInByZXR0eXByaW50XCI+XG4gKiBgPGRpdiBuZy1pbml0PVwidGVzdDEgPSAoJGluZGV4IHwgdG9TdHJpbmcpXCI+PC9kaXY+YFxuICogPC9wcmU+XG4gKiA8L2Rpdj5cbiAqXG4gKiBAcHJpb3JpdHkgNDUwXG4gKlxuICogQGVsZW1lbnQgQU5ZXG4gKiBAcGFyYW0ge2V4cHJlc3Npb259IG5nSW5pdCB7QGxpbmsgZ3VpZGUvZXhwcmVzc2lvbiBFeHByZXNzaW9ufSB0byBldmFsLlxuICpcbiAqIEBleGFtcGxlXG4gICA8ZXhhbXBsZSBtb2R1bGU9XCJpbml0RXhhbXBsZVwiIG5hbWU9XCJuZy1pbml0XCI+XG4gICAgIDxmaWxlIG5hbWU9XCJpbmRleC5odG1sXCI+XG4gICA8c2NyaXB0PlxuICAgICBhbmd1bGFyLm1vZHVsZSgnaW5pdEV4YW1wbGUnLCBbXSlcbiAgICAgICAuY29udHJvbGxlcignRXhhbXBsZUNvbnRyb2xsZXInLCBbJyRzY29wZScsIGZ1bmN0aW9uKCRzY29wZSkge1xuICAgICAgICAgJHNjb3BlLmxpc3QgPSBbWydhJywgJ2InXSwgWydjJywgJ2QnXV07XG4gICAgICAgfV0pO1xuICAgPC9zY3JpcHQ+XG4gICA8ZGl2IG5nLWNvbnRyb2xsZXI9XCJFeGFtcGxlQ29udHJvbGxlclwiPlxuICAgICA8ZGl2IG5nLXJlcGVhdD1cImlubmVyTGlzdCBpbiBsaXN0XCIgbmctaW5pdD1cIm91dGVySW5kZXggPSAkaW5kZXhcIj5cbiAgICAgICA8ZGl2IG5nLXJlcGVhdD1cInZhbHVlIGluIGlubmVyTGlzdFwiIG5nLWluaXQ9XCJpbm5lckluZGV4ID0gJGluZGV4XCI+XG4gICAgICAgICAgPHNwYW4gY2xhc3M9XCJleGFtcGxlLWluaXRcIj5saXN0WyB7e291dGVySW5kZXh9fSBdWyB7e2lubmVySW5kZXh9fSBdID0ge3t2YWx1ZX19Ozwvc3Bhbj5cbiAgICAgICA8L2Rpdj5cbiAgICAgPC9kaXY+XG4gICA8L2Rpdj5cbiAgICAgPC9maWxlPlxuICAgICA8ZmlsZSBuYW1lPVwicHJvdHJhY3Rvci5qc1wiIHR5cGU9XCJwcm90cmFjdG9yXCI+XG4gICAgICAgaXQoJ3Nob3VsZCBhbGlhcyBpbmRleCBwb3NpdGlvbnMnLCBmdW5jdGlvbigpIHtcbiAgICAgICAgIHZhciBlbGVtZW50cyA9IGVsZW1lbnQuYWxsKGJ5LmNzcygnLmV4YW1wbGUtaW5pdCcpKTtcbiAgICAgICAgIGV4cGVjdChlbGVtZW50cy5nZXQoMCkuZ2V0VGV4dCgpKS50b0JlKCdsaXN0WyAwIF1bIDAgXSA9IGE7Jyk7XG4gICAgICAgICBleHBlY3QoZWxlbWVudHMuZ2V0KDEpLmdldFRleHQoKSkudG9CZSgnbGlzdFsgMCBdWyAxIF0gPSBiOycpO1xuICAgICAgICAgZXhwZWN0KGVsZW1lbnRzLmdldCgyKS5nZXRUZXh0KCkpLnRvQmUoJ2xpc3RbIDEgXVsgMCBdID0gYzsnKTtcbiAgICAgICAgIGV4cGVjdChlbGVtZW50cy5nZXQoMykuZ2V0VGV4dCgpKS50b0JlKCdsaXN0WyAxIF1bIDEgXSA9IGQ7Jyk7XG4gICAgICAgfSk7XG4gICAgIDwvZmlsZT5cbiAgIDwvZXhhbXBsZT5cbiAqL1xudmFyIG5nSW5pdERpcmVjdGl2ZSA9IG5nRGlyZWN0aXZlKHtcbiAgcHJpb3JpdHk6IDQ1MCxcbiAgY29tcGlsZTogZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIHByZTogZnVuY3Rpb24oc2NvcGUsIGVsZW1lbnQsIGF0dHJzKSB7XG4gICAgICAgIHNjb3BlLiRldmFsKGF0dHJzLm5nSW5pdCk7XG4gICAgICB9XG4gICAgfTtcbiAgfVxufSk7XG5cbi8qKlxuICogQG5nZG9jIGRpcmVjdGl2ZVxuICogQG5hbWUgbmdMaXN0XG4gKlxuICogQGRlc2NyaXB0aW9uXG4gKiBUZXh0IGlucHV0IHRoYXQgY29udmVydHMgYmV0d2VlbiBhIGRlbGltaXRlZCBzdHJpbmcgYW5kIGFuIGFycmF5IG9mIHN0cmluZ3MuIFRoZSBkZWZhdWx0XG4gKiBkZWxpbWl0ZXIgaXMgYSBjb21tYSBmb2xsb3dlZCBieSBhIHNwYWNlIC0gZXF1aXZhbGVudCB0byBgbmctbGlzdD1cIiwgXCJgLiBZb3UgY2FuIHNwZWNpZnkgYSBjdXN0b21cbiAqIGRlbGltaXRlciBhcyB0aGUgdmFsdWUgb2YgdGhlIGBuZ0xpc3RgIGF0dHJpYnV0ZSAtIGZvciBleGFtcGxlLCBgbmctbGlzdD1cIiB8IFwiYC5cbiAqXG4gKiBUaGUgYmVoYXZpb3VyIG9mIHRoZSBkaXJlY3RpdmUgaXMgYWZmZWN0ZWQgYnkgdGhlIHVzZSBvZiB0aGUgYG5nVHJpbWAgYXR0cmlidXRlLlxuICogKiBJZiBgbmdUcmltYCBpcyBzZXQgdG8gYFwiZmFsc2VcImAgdGhlbiB3aGl0ZXNwYWNlIGFyb3VuZCBib3RoIHRoZSBzZXBhcmF0b3IgYW5kIGVhY2hcbiAqICAgbGlzdCBpdGVtIGlzIHJlc3BlY3RlZC4gVGhpcyBpbXBsaWVzIHRoYXQgdGhlIHVzZXIgb2YgdGhlIGRpcmVjdGl2ZSBpcyByZXNwb25zaWJsZSBmb3JcbiAqICAgZGVhbGluZyB3aXRoIHdoaXRlc3BhY2UgYnV0IGFsc28gYWxsb3dzIHlvdSB0byB1c2Ugd2hpdGVzcGFjZSBhcyBhIGRlbGltaXRlciwgc3VjaCBhcyBhXG4gKiAgIHRhYiBvciBuZXdsaW5lIGNoYXJhY3Rlci5cbiAqICogT3RoZXJ3aXNlIHdoaXRlc3BhY2UgYXJvdW5kIHRoZSBkZWxpbWl0ZXIgaXMgaWdub3JlZCB3aGVuIHNwbGl0dGluZyAoYWx0aG91Z2ggaXQgaXMgcmVzcGVjdGVkXG4gKiAgIHdoZW4gam9pbmluZyB0aGUgbGlzdCBpdGVtcyBiYWNrIHRvZ2V0aGVyKSBhbmQgd2hpdGVzcGFjZSBhcm91bmQgZWFjaCBsaXN0IGl0ZW0gaXMgc3RyaXBwZWRcbiAqICAgYmVmb3JlIGl0IGlzIGFkZGVkIHRvIHRoZSBtb2RlbC5cbiAqXG4gKiAjIyMgRXhhbXBsZSB3aXRoIFZhbGlkYXRpb25cbiAqXG4gKiA8ZXhhbXBsZSBuYW1lPVwibmdMaXN0LWRpcmVjdGl2ZVwiIG1vZHVsZT1cImxpc3RFeGFtcGxlXCI+XG4gKiAgIDxmaWxlIG5hbWU9XCJhcHAuanNcIj5cbiAqICAgICAgYW5ndWxhci5tb2R1bGUoJ2xpc3RFeGFtcGxlJywgW10pXG4gKiAgICAgICAgLmNvbnRyb2xsZXIoJ0V4YW1wbGVDb250cm9sbGVyJywgWyckc2NvcGUnLCBmdW5jdGlvbigkc2NvcGUpIHtcbiAqICAgICAgICAgICRzY29wZS5uYW1lcyA9IFsnbW9ycGhldXMnLCAnbmVvJywgJ3RyaW5pdHknXTtcbiAqICAgICAgICB9XSk7XG4gKiAgIDwvZmlsZT5cbiAqICAgPGZpbGUgbmFtZT1cImluZGV4Lmh0bWxcIj5cbiAqICAgIDxmb3JtIG5hbWU9XCJteUZvcm1cIiBuZy1jb250cm9sbGVyPVwiRXhhbXBsZUNvbnRyb2xsZXJcIj5cbiAqICAgICAgPGxhYmVsPkxpc3Q6IDxpbnB1dCBuYW1lPVwibmFtZXNJbnB1dFwiIG5nLW1vZGVsPVwibmFtZXNcIiBuZy1saXN0IHJlcXVpcmVkPjwvbGFiZWw+XG4gKiAgICAgIDxzcGFuIHJvbGU9XCJhbGVydFwiPlxuICogICAgICAgIDxzcGFuIGNsYXNzPVwiZXJyb3JcIiBuZy1zaG93PVwibXlGb3JtLm5hbWVzSW5wdXQuJGVycm9yLnJlcXVpcmVkXCI+XG4gKiAgICAgICAgUmVxdWlyZWQhPC9zcGFuPlxuICogICAgICA8L3NwYW4+XG4gKiAgICAgIDxicj5cbiAqICAgICAgPHR0Pm5hbWVzID0ge3tuYW1lc319PC90dD48YnIvPlxuICogICAgICA8dHQ+bXlGb3JtLm5hbWVzSW5wdXQuJHZhbGlkID0ge3tteUZvcm0ubmFtZXNJbnB1dC4kdmFsaWR9fTwvdHQ+PGJyLz5cbiAqICAgICAgPHR0Pm15Rm9ybS5uYW1lc0lucHV0LiRlcnJvciA9IHt7bXlGb3JtLm5hbWVzSW5wdXQuJGVycm9yfX08L3R0Pjxici8+XG4gKiAgICAgIDx0dD5teUZvcm0uJHZhbGlkID0ge3tteUZvcm0uJHZhbGlkfX08L3R0Pjxici8+XG4gKiAgICAgIDx0dD5teUZvcm0uJGVycm9yLnJlcXVpcmVkID0ge3shIW15Rm9ybS4kZXJyb3IucmVxdWlyZWR9fTwvdHQ+PGJyLz5cbiAqICAgICA8L2Zvcm0+XG4gKiAgIDwvZmlsZT5cbiAqICAgPGZpbGUgbmFtZT1cInByb3RyYWN0b3IuanNcIiB0eXBlPVwicHJvdHJhY3RvclwiPlxuICogICAgIHZhciBsaXN0SW5wdXQgPSBlbGVtZW50KGJ5Lm1vZGVsKCduYW1lcycpKTtcbiAqICAgICB2YXIgbmFtZXMgPSBlbGVtZW50KGJ5LmV4YWN0QmluZGluZygnbmFtZXMnKSk7XG4gKiAgICAgdmFyIHZhbGlkID0gZWxlbWVudChieS5iaW5kaW5nKCdteUZvcm0ubmFtZXNJbnB1dC4kdmFsaWQnKSk7XG4gKiAgICAgdmFyIGVycm9yID0gZWxlbWVudChieS5jc3MoJ3NwYW4uZXJyb3InKSk7XG4gKlxuICogICAgIGl0KCdzaG91bGQgaW5pdGlhbGl6ZSB0byBtb2RlbCcsIGZ1bmN0aW9uKCkge1xuICogICAgICAgZXhwZWN0KG5hbWVzLmdldFRleHQoKSkudG9Db250YWluKCdbXCJtb3JwaGV1c1wiLFwibmVvXCIsXCJ0cmluaXR5XCJdJyk7XG4gKiAgICAgICBleHBlY3QodmFsaWQuZ2V0VGV4dCgpKS50b0NvbnRhaW4oJ3RydWUnKTtcbiAqICAgICAgIGV4cGVjdChlcnJvci5nZXRDc3NWYWx1ZSgnZGlzcGxheScpKS50b0JlKCdub25lJyk7XG4gKiAgICAgfSk7XG4gKlxuICogICAgIGl0KCdzaG91bGQgYmUgaW52YWxpZCBpZiBlbXB0eScsIGZ1bmN0aW9uKCkge1xuICogICAgICAgbGlzdElucHV0LmNsZWFyKCk7XG4gKiAgICAgICBsaXN0SW5wdXQuc2VuZEtleXMoJycpO1xuICpcbiAqICAgICAgIGV4cGVjdChuYW1lcy5nZXRUZXh0KCkpLnRvQ29udGFpbignJyk7XG4gKiAgICAgICBleHBlY3QodmFsaWQuZ2V0VGV4dCgpKS50b0NvbnRhaW4oJ2ZhbHNlJyk7XG4gKiAgICAgICBleHBlY3QoZXJyb3IuZ2V0Q3NzVmFsdWUoJ2Rpc3BsYXknKSkubm90LnRvQmUoJ25vbmUnKTtcbiAqICAgICB9KTtcbiAqICAgPC9maWxlPlxuICogPC9leGFtcGxlPlxuICpcbiAqICMjIyBFeGFtcGxlIC0gc3BsaXR0aW5nIG9uIG5ld2xpbmVcbiAqIDxleGFtcGxlIG5hbWU9XCJuZ0xpc3QtZGlyZWN0aXZlLW5ld2xpbmVzXCI+XG4gKiAgIDxmaWxlIG5hbWU9XCJpbmRleC5odG1sXCI+XG4gKiAgICA8dGV4dGFyZWEgbmctbW9kZWw9XCJsaXN0XCIgbmctbGlzdD1cIiYjMTA7XCIgbmctdHJpbT1cImZhbHNlXCI+PC90ZXh0YXJlYT5cbiAqICAgIDxwcmU+e3sgbGlzdCB8IGpzb24gfX08L3ByZT5cbiAqICAgPC9maWxlPlxuICogICA8ZmlsZSBuYW1lPVwicHJvdHJhY3Rvci5qc1wiIHR5cGU9XCJwcm90cmFjdG9yXCI+XG4gKiAgICAgaXQoXCJzaG91bGQgc3BsaXQgdGhlIHRleHQgYnkgbmV3bGluZXNcIiwgZnVuY3Rpb24oKSB7XG4gKiAgICAgICB2YXIgbGlzdElucHV0ID0gZWxlbWVudChieS5tb2RlbCgnbGlzdCcpKTtcbiAqICAgICAgIHZhciBvdXRwdXQgPSBlbGVtZW50KGJ5LmJpbmRpbmcoJ2xpc3QgfCBqc29uJykpO1xuICogICAgICAgbGlzdElucHV0LnNlbmRLZXlzKCdhYmNcXG5kZWZcXG5naGknKTtcbiAqICAgICAgIGV4cGVjdChvdXRwdXQuZ2V0VGV4dCgpKS50b0NvbnRhaW4oJ1tcXG4gIFwiYWJjXCIsXFxuICBcImRlZlwiLFxcbiAgXCJnaGlcIlxcbl0nKTtcbiAqICAgICB9KTtcbiAqICAgPC9maWxlPlxuICogPC9leGFtcGxlPlxuICpcbiAqIEBlbGVtZW50IGlucHV0XG4gKiBAcGFyYW0ge3N0cmluZz19IG5nTGlzdCBvcHRpb25hbCBkZWxpbWl0ZXIgdGhhdCBzaG91bGQgYmUgdXNlZCB0byBzcGxpdCB0aGUgdmFsdWUuXG4gKi9cbnZhciBuZ0xpc3REaXJlY3RpdmUgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHtcbiAgICByZXN0cmljdDogJ0EnLFxuICAgIHByaW9yaXR5OiAxMDAsXG4gICAgcmVxdWlyZTogJ25nTW9kZWwnLFxuICAgIGxpbms6IGZ1bmN0aW9uKHNjb3BlLCBlbGVtZW50LCBhdHRyLCBjdHJsKSB7XG4gICAgICB2YXIgbmdMaXN0ID0gYXR0ci5uZ0xpc3QgfHwgJywgJztcbiAgICAgIHZhciB0cmltVmFsdWVzID0gYXR0ci5uZ1RyaW0gIT09ICdmYWxzZSc7XG4gICAgICB2YXIgc2VwYXJhdG9yID0gdHJpbVZhbHVlcyA/IHRyaW0obmdMaXN0KSA6IG5nTGlzdDtcblxuICAgICAgdmFyIHBhcnNlID0gZnVuY3Rpb24odmlld1ZhbHVlKSB7XG4gICAgICAgIC8vIElmIHRoZSB2aWV3VmFsdWUgaXMgaW52YWxpZCAoc2F5IHJlcXVpcmVkIGJ1dCBlbXB0eSkgaXQgd2lsbCBiZSBgdW5kZWZpbmVkYFxuICAgICAgICBpZiAoaXNVbmRlZmluZWQodmlld1ZhbHVlKSkgcmV0dXJuO1xuXG4gICAgICAgIHZhciBsaXN0ID0gW107XG5cbiAgICAgICAgaWYgKHZpZXdWYWx1ZSkge1xuICAgICAgICAgIGZvckVhY2godmlld1ZhbHVlLnNwbGl0KHNlcGFyYXRvciksIGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgICAgICAgICBpZiAodmFsdWUpIGxpc3QucHVzaCh0cmltVmFsdWVzID8gdHJpbSh2YWx1ZSkgOiB2YWx1ZSk7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gbGlzdDtcbiAgICAgIH07XG5cbiAgICAgIGN0cmwuJHBhcnNlcnMucHVzaChwYXJzZSk7XG4gICAgICBjdHJsLiRmb3JtYXR0ZXJzLnB1c2goZnVuY3Rpb24odmFsdWUpIHtcbiAgICAgICAgaWYgKGlzQXJyYXkodmFsdWUpKSB7XG4gICAgICAgICAgcmV0dXJuIHZhbHVlLmpvaW4obmdMaXN0KTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgICB9KTtcblxuICAgICAgLy8gT3ZlcnJpZGUgdGhlIHN0YW5kYXJkICRpc0VtcHR5IGJlY2F1c2UgYW4gZW1wdHkgYXJyYXkgbWVhbnMgdGhlIGlucHV0IGlzIGVtcHR5LlxuICAgICAgY3RybC4kaXNFbXB0eSA9IGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgICAgIHJldHVybiAhdmFsdWUgfHwgIXZhbHVlLmxlbmd0aDtcbiAgICAgIH07XG4gICAgfVxuICB9O1xufTtcblxuLyogZ2xvYmFsIFZBTElEX0NMQVNTOiB0cnVlLFxuICBJTlZBTElEX0NMQVNTOiB0cnVlLFxuICBQUklTVElORV9DTEFTUzogdHJ1ZSxcbiAgRElSVFlfQ0xBU1M6IHRydWUsXG4gIFVOVE9VQ0hFRF9DTEFTUzogdHJ1ZSxcbiAgVE9VQ0hFRF9DTEFTUzogdHJ1ZSxcbiAgUEVORElOR19DTEFTUzogdHJ1ZSxcbiAgYWRkU2V0VmFsaWRpdHlNZXRob2Q6IHRydWUsXG4gIHNldHVwVmFsaWRpdHk6IHRydWUsXG4gIGRlZmF1bHRNb2RlbE9wdGlvbnM6IGZhbHNlXG4qL1xuXG5cbnZhciBWQUxJRF9DTEFTUyA9ICduZy12YWxpZCcsXG4gICAgSU5WQUxJRF9DTEFTUyA9ICduZy1pbnZhbGlkJyxcbiAgICBQUklTVElORV9DTEFTUyA9ICduZy1wcmlzdGluZScsXG4gICAgRElSVFlfQ0xBU1MgPSAnbmctZGlydHknLFxuICAgIFVOVE9VQ0hFRF9DTEFTUyA9ICduZy11bnRvdWNoZWQnLFxuICAgIFRPVUNIRURfQ0xBU1MgPSAnbmctdG91Y2hlZCcsXG4gICAgRU1QVFlfQ0xBU1MgPSAnbmctZW1wdHknLFxuICAgIE5PVF9FTVBUWV9DTEFTUyA9ICduZy1ub3QtZW1wdHknO1xuXG52YXIgbmdNb2RlbE1pbkVyciA9IG1pbkVycignbmdNb2RlbCcpO1xuXG4vKipcbiAqIEBuZ2RvYyB0eXBlXG4gKiBAbmFtZSBuZ01vZGVsLk5nTW9kZWxDb250cm9sbGVyXG4gKlxuICogQHByb3BlcnR5IHsqfSAkdmlld1ZhbHVlIFRoZSBhY3R1YWwgdmFsdWUgZnJvbSB0aGUgY29udHJvbCdzIHZpZXcuIEZvciBgaW5wdXRgIGVsZW1lbnRzLCB0aGlzIGlzIGFcbiAqIFN0cmluZy4gU2VlIHtAbGluayBuZ01vZGVsLk5nTW9kZWxDb250cm9sbGVyIyRzZXRWaWV3VmFsdWV9IGZvciBpbmZvcm1hdGlvbiBhYm91dCB3aGVuIHRoZSAkdmlld1ZhbHVlXG4gKiBpcyBzZXQuXG4gKlxuICogQHByb3BlcnR5IHsqfSAkbW9kZWxWYWx1ZSBUaGUgdmFsdWUgaW4gdGhlIG1vZGVsIHRoYXQgdGhlIGNvbnRyb2wgaXMgYm91bmQgdG8uXG4gKlxuICogQHByb3BlcnR5IHtBcnJheS48RnVuY3Rpb24+fSAkcGFyc2VycyBBcnJheSBvZiBmdW5jdGlvbnMgdG8gZXhlY3V0ZSwgYXMgYSBwaXBlbGluZSwgd2hlbmV2ZXJcbiAqICB0aGUgY29udHJvbCB1cGRhdGVzIHRoZSBuZ01vZGVsQ29udHJvbGxlciB3aXRoIGEgbmV3IHtAbGluayBuZ01vZGVsLk5nTW9kZWxDb250cm9sbGVyIyR2aWV3VmFsdWVcbiAgICBgJHZpZXdWYWx1ZWB9IGZyb20gdGhlIERPTSwgdXN1YWxseSB2aWEgdXNlciBpbnB1dC5cbiAgICBTZWUge0BsaW5rIG5nTW9kZWwuTmdNb2RlbENvbnRyb2xsZXIjJHNldFZpZXdWYWx1ZSBgJHNldFZpZXdWYWx1ZSgpYH0gZm9yIGEgZGV0YWlsZWQgbGlmZWN5Y2xlIGV4cGxhbmF0aW9uLlxuICAgIE5vdGUgdGhhdCB0aGUgYCRwYXJzZXJzYCBhcmUgbm90IGNhbGxlZCB3aGVuIHRoZSBib3VuZCBuZ01vZGVsIGV4cHJlc3Npb24gY2hhbmdlcyBwcm9ncmFtbWF0aWNhbGx5LlxuXG4gIFRoZSBmdW5jdGlvbnMgYXJlIGNhbGxlZCBpbiBhcnJheSBvcmRlciwgZWFjaCBwYXNzaW5nXG4gICAgaXRzIHJldHVybiB2YWx1ZSB0aHJvdWdoIHRvIHRoZSBuZXh0LiBUaGUgbGFzdCByZXR1cm4gdmFsdWUgaXMgZm9yd2FyZGVkIHRvIHRoZVxuICAgIHtAbGluayBuZ01vZGVsLk5nTW9kZWxDb250cm9sbGVyIyR2YWxpZGF0b3JzIGAkdmFsaWRhdG9yc2B9IGNvbGxlY3Rpb24uXG5cbiAgUGFyc2VycyBhcmUgdXNlZCB0byBzYW5pdGl6ZSAvIGNvbnZlcnQgdGhlIHtAbGluayBuZ01vZGVsLk5nTW9kZWxDb250cm9sbGVyIyR2aWV3VmFsdWVcbiAgICBgJHZpZXdWYWx1ZWB9LlxuXG4gIFJldHVybmluZyBgdW5kZWZpbmVkYCBmcm9tIGEgcGFyc2VyIG1lYW5zIGEgcGFyc2UgZXJyb3Igb2NjdXJyZWQuIEluIHRoYXQgY2FzZSxcbiAgICBubyB7QGxpbmsgbmdNb2RlbC5OZ01vZGVsQ29udHJvbGxlciMkdmFsaWRhdG9ycyBgJHZhbGlkYXRvcnNgfSB3aWxsIHJ1biBhbmQgdGhlIGBuZ01vZGVsYFxuICAgIHdpbGwgYmUgc2V0IHRvIGB1bmRlZmluZWRgIHVubGVzcyB7QGxpbmsgbmdNb2RlbE9wdGlvbnMgYG5nTW9kZWxPcHRpb25zLmFsbG93SW52YWxpZGB9XG4gICAgaXMgc2V0IHRvIGB0cnVlYC4gVGhlIHBhcnNlIGVycm9yIGlzIHN0b3JlZCBpbiBgbmdNb2RlbC4kZXJyb3IucGFyc2VgLlxuXG4gIFRoaXMgc2ltcGxlIGV4YW1wbGUgc2hvd3MgYSBwYXJzZXIgdGhhdCB3b3VsZCBjb252ZXJ0IHRleHQgaW5wdXQgdmFsdWUgdG8gbG93ZXJjYXNlOlxuICogYGBganNcbiAqIGZ1bmN0aW9uIHBhcnNlKHZhbHVlKSB7XG4gKiAgIGlmICh2YWx1ZSkge1xuICogICAgIHJldHVybiB2YWx1ZS50b0xvd2VyQ2FzZSgpO1xuICogICB9XG4gKiB9XG4gKiBuZ01vZGVsQ29udHJvbGxlci4kcGFyc2Vycy5wdXNoKHBhcnNlKTtcbiAqIGBgYFxuXG4gKlxuICogQHByb3BlcnR5IHtBcnJheS48RnVuY3Rpb24+fSAkZm9ybWF0dGVycyBBcnJheSBvZiBmdW5jdGlvbnMgdG8gZXhlY3V0ZSwgYXMgYSBwaXBlbGluZSwgd2hlbmV2ZXJcbiAgICB0aGUgYm91bmQgbmdNb2RlbCBleHByZXNzaW9uIGNoYW5nZXMgcHJvZ3JhbW1hdGljYWxseS4gVGhlIGAkZm9ybWF0dGVyc2AgYXJlIG5vdCBjYWxsZWQgd2hlbiB0aGVcbiAgICB2YWx1ZSBvZiB0aGUgY29udHJvbCBpcyBjaGFuZ2VkIGJ5IHVzZXIgaW50ZXJhY3Rpb24uXG5cbiAgRm9ybWF0dGVycyBhcmUgdXNlZCB0byBmb3JtYXQgLyBjb252ZXJ0IHRoZSB7QGxpbmsgbmdNb2RlbC5OZ01vZGVsQ29udHJvbGxlciMkbW9kZWxWYWx1ZVxuICAgIGAkbW9kZWxWYWx1ZWB9IGZvciBkaXNwbGF5IGluIHRoZSBjb250cm9sLlxuXG4gIFRoZSBmdW5jdGlvbnMgYXJlIGNhbGxlZCBpbiByZXZlcnNlIGFycmF5IG9yZGVyLCBlYWNoIHBhc3NpbmcgdGhlIHZhbHVlIHRocm91Z2ggdG8gdGhlXG4gICAgbmV4dC4gVGhlIGxhc3QgcmV0dXJuIHZhbHVlIGlzIHVzZWQgYXMgdGhlIGFjdHVhbCBET00gdmFsdWUuXG5cbiAgVGhpcyBzaW1wbGUgZXhhbXBsZSBzaG93cyBhIGZvcm1hdHRlciB0aGF0IHdvdWxkIGNvbnZlcnQgdGhlIG1vZGVsIHZhbHVlIHRvIHVwcGVyY2FzZTpcblxuICogYGBganNcbiAqIGZ1bmN0aW9uIGZvcm1hdCh2YWx1ZSkge1xuICogICBpZiAodmFsdWUpIHtcbiAqICAgICByZXR1cm4gdmFsdWUudG9VcHBlckNhc2UoKTtcbiAqICAgfVxuICogfVxuICogbmdNb2RlbC4kZm9ybWF0dGVycy5wdXNoKGZvcm1hdCk7XG4gKiBgYGBcbiAqXG4gKiBAcHJvcGVydHkge09iamVjdC48c3RyaW5nLCBmdW5jdGlvbj59ICR2YWxpZGF0b3JzIEEgY29sbGVjdGlvbiBvZiB2YWxpZGF0b3JzIHRoYXQgYXJlIGFwcGxpZWRcbiAqICAgICAgd2hlbmV2ZXIgdGhlIG1vZGVsIHZhbHVlIGNoYW5nZXMuIFRoZSBrZXkgdmFsdWUgd2l0aGluIHRoZSBvYmplY3QgcmVmZXJzIHRvIHRoZSBuYW1lIG9mIHRoZVxuICogICAgICB2YWxpZGF0b3Igd2hpbGUgdGhlIGZ1bmN0aW9uIHJlZmVycyB0byB0aGUgdmFsaWRhdGlvbiBvcGVyYXRpb24uIFRoZSB2YWxpZGF0aW9uIG9wZXJhdGlvbiBpc1xuICogICAgICBwcm92aWRlZCB3aXRoIHRoZSBtb2RlbCB2YWx1ZSBhcyBhbiBhcmd1bWVudCBhbmQgbXVzdCByZXR1cm4gYSB0cnVlIG9yIGZhbHNlIHZhbHVlIGRlcGVuZGluZ1xuICogICAgICBvbiB0aGUgcmVzcG9uc2Ugb2YgdGhhdCB2YWxpZGF0aW9uLlxuICpcbiAqIGBgYGpzXG4gKiBuZ01vZGVsLiR2YWxpZGF0b3JzLnZhbGlkQ2hhcmFjdGVycyA9IGZ1bmN0aW9uKG1vZGVsVmFsdWUsIHZpZXdWYWx1ZSkge1xuICogICB2YXIgdmFsdWUgPSBtb2RlbFZhbHVlIHx8IHZpZXdWYWx1ZTtcbiAqICAgcmV0dXJuIC9bMC05XSsvLnRlc3QodmFsdWUpICYmXG4gKiAgICAgICAgICAvW2Etel0rLy50ZXN0KHZhbHVlKSAmJlxuICogICAgICAgICAgL1tBLVpdKy8udGVzdCh2YWx1ZSkgJiZcbiAqICAgICAgICAgIC9cXFcrLy50ZXN0KHZhbHVlKTtcbiAqIH07XG4gKiBgYGBcbiAqXG4gKiBAcHJvcGVydHkge09iamVjdC48c3RyaW5nLCBmdW5jdGlvbj59ICRhc3luY1ZhbGlkYXRvcnMgQSBjb2xsZWN0aW9uIG9mIHZhbGlkYXRpb25zIHRoYXQgYXJlIGV4cGVjdGVkIHRvXG4gKiAgICAgIHBlcmZvcm0gYW4gYXN5bmNocm9ub3VzIHZhbGlkYXRpb24gKGUuZy4gYSBIVFRQIHJlcXVlc3QpLiBUaGUgdmFsaWRhdGlvbiBmdW5jdGlvbiB0aGF0IGlzIHByb3ZpZGVkXG4gKiAgICAgIGlzIGV4cGVjdGVkIHRvIHJldHVybiBhIHByb21pc2Ugd2hlbiBpdCBpcyBydW4gZHVyaW5nIHRoZSBtb2RlbCB2YWxpZGF0aW9uIHByb2Nlc3MuIE9uY2UgdGhlIHByb21pc2VcbiAqICAgICAgaXMgZGVsaXZlcmVkIHRoZW4gdGhlIHZhbGlkYXRpb24gc3RhdHVzIHdpbGwgYmUgc2V0IHRvIHRydWUgd2hlbiBmdWxmaWxsZWQgYW5kIGZhbHNlIHdoZW4gcmVqZWN0ZWQuXG4gKiAgICAgIFdoZW4gdGhlIGFzeW5jaHJvbm91cyB2YWxpZGF0b3JzIGFyZSB0cmlnZ2VyZWQsIGVhY2ggb2YgdGhlIHZhbGlkYXRvcnMgd2lsbCBydW4gaW4gcGFyYWxsZWwgYW5kIHRoZSBtb2RlbFxuICogICAgICB2YWx1ZSB3aWxsIG9ubHkgYmUgdXBkYXRlZCBvbmNlIGFsbCB2YWxpZGF0b3JzIGhhdmUgYmVlbiBmdWxmaWxsZWQuIEFzIGxvbmcgYXMgYW4gYXN5bmNocm9ub3VzIHZhbGlkYXRvclxuICogICAgICBpcyB1bmZ1bGZpbGxlZCwgaXRzIGtleSB3aWxsIGJlIGFkZGVkIHRvIHRoZSBjb250cm9sbGVycyBgJHBlbmRpbmdgIHByb3BlcnR5LiBBbHNvLCBhbGwgYXN5bmNocm9ub3VzIHZhbGlkYXRvcnNcbiAqICAgICAgd2lsbCBvbmx5IHJ1biBvbmNlIGFsbCBzeW5jaHJvbm91cyB2YWxpZGF0b3JzIGhhdmUgcGFzc2VkLlxuICpcbiAqIFBsZWFzZSBub3RlIHRoYXQgaWYgJGh0dHAgaXMgdXNlZCB0aGVuIGl0IGlzIGltcG9ydGFudCB0aGF0IHRoZSBzZXJ2ZXIgcmV0dXJucyBhIHN1Y2Nlc3MgSFRUUCByZXNwb25zZSBjb2RlXG4gKiBpbiBvcmRlciB0byBmdWxmaWxsIHRoZSB2YWxpZGF0aW9uIGFuZCBhIHN0YXR1cyBsZXZlbCBvZiBgNHh4YCBpbiBvcmRlciB0byByZWplY3QgdGhlIHZhbGlkYXRpb24uXG4gKlxuICogYGBganNcbiAqIG5nTW9kZWwuJGFzeW5jVmFsaWRhdG9ycy51bmlxdWVVc2VybmFtZSA9IGZ1bmN0aW9uKG1vZGVsVmFsdWUsIHZpZXdWYWx1ZSkge1xuICogICB2YXIgdmFsdWUgPSBtb2RlbFZhbHVlIHx8IHZpZXdWYWx1ZTtcbiAqXG4gKiAgIC8vIExvb2t1cCB1c2VyIGJ5IHVzZXJuYW1lXG4gKiAgIHJldHVybiAkaHR0cC5nZXQoJy9hcGkvdXNlcnMvJyArIHZhbHVlKS5cbiAqICAgICAgdGhlbihmdW5jdGlvbiByZXNvbHZlZCgpIHtcbiAqICAgICAgICAvL3VzZXJuYW1lIGV4aXN0cywgdGhpcyBtZWFucyB2YWxpZGF0aW9uIGZhaWxzXG4gKiAgICAgICAgcmV0dXJuICRxLnJlamVjdCgnZXhpc3RzJyk7XG4gKiAgICAgIH0sIGZ1bmN0aW9uIHJlamVjdGVkKCkge1xuICogICAgICAgIC8vdXNlcm5hbWUgZG9lcyBub3QgZXhpc3QsIHRoZXJlZm9yZSB0aGlzIHZhbGlkYXRpb24gcGFzc2VzXG4gKiAgICAgICAgcmV0dXJuIHRydWU7XG4gKiAgICAgIH0pO1xuICogfTtcbiAqIGBgYFxuICpcbiAqIEBwcm9wZXJ0eSB7QXJyYXkuPEZ1bmN0aW9uPn0gJHZpZXdDaGFuZ2VMaXN0ZW5lcnMgQXJyYXkgb2YgZnVuY3Rpb25zIHRvIGV4ZWN1dGUgd2hlbmV2ZXIgdGhlXG4gKiAgICAgdmlldyB2YWx1ZSBoYXMgY2hhbmdlZC4gSXQgaXMgY2FsbGVkIHdpdGggbm8gYXJndW1lbnRzLCBhbmQgaXRzIHJldHVybiB2YWx1ZSBpcyBpZ25vcmVkLlxuICogICAgIFRoaXMgY2FuIGJlIHVzZWQgaW4gcGxhY2Ugb2YgYWRkaXRpb25hbCAkd2F0Y2hlcyBhZ2FpbnN0IHRoZSBtb2RlbCB2YWx1ZS5cbiAqXG4gKiBAcHJvcGVydHkge09iamVjdH0gJGVycm9yIEFuIG9iamVjdCBoYXNoIHdpdGggYWxsIGZhaWxpbmcgdmFsaWRhdG9yIGlkcyBhcyBrZXlzLlxuICogQHByb3BlcnR5IHtPYmplY3R9ICRwZW5kaW5nIEFuIG9iamVjdCBoYXNoIHdpdGggYWxsIHBlbmRpbmcgdmFsaWRhdG9yIGlkcyBhcyBrZXlzLlxuICpcbiAqIEBwcm9wZXJ0eSB7Ym9vbGVhbn0gJHVudG91Y2hlZCBUcnVlIGlmIGNvbnRyb2wgaGFzIG5vdCBsb3N0IGZvY3VzIHlldC5cbiAqIEBwcm9wZXJ0eSB7Ym9vbGVhbn0gJHRvdWNoZWQgVHJ1ZSBpZiBjb250cm9sIGhhcyBsb3N0IGZvY3VzLlxuICogQHByb3BlcnR5IHtib29sZWFufSAkcHJpc3RpbmUgVHJ1ZSBpZiB1c2VyIGhhcyBub3QgaW50ZXJhY3RlZCB3aXRoIHRoZSBjb250cm9sIHlldC5cbiAqIEBwcm9wZXJ0eSB7Ym9vbGVhbn0gJGRpcnR5IFRydWUgaWYgdXNlciBoYXMgYWxyZWFkeSBpbnRlcmFjdGVkIHdpdGggdGhlIGNvbnRyb2wuXG4gKiBAcHJvcGVydHkge2Jvb2xlYW59ICR2YWxpZCBUcnVlIGlmIHRoZXJlIGlzIG5vIGVycm9yLlxuICogQHByb3BlcnR5IHtib29sZWFufSAkaW52YWxpZCBUcnVlIGlmIGF0IGxlYXN0IG9uZSBlcnJvciBvbiB0aGUgY29udHJvbC5cbiAqIEBwcm9wZXJ0eSB7c3RyaW5nfSAkbmFtZSBUaGUgbmFtZSBhdHRyaWJ1dGUgb2YgdGhlIGNvbnRyb2wuXG4gKlxuICogQGRlc2NyaXB0aW9uXG4gKlxuICogYE5nTW9kZWxDb250cm9sbGVyYCBwcm92aWRlcyBBUEkgZm9yIHRoZSB7QGxpbmsgbmdNb2RlbCBgbmdNb2RlbGB9IGRpcmVjdGl2ZS5cbiAqIFRoZSBjb250cm9sbGVyIGNvbnRhaW5zIHNlcnZpY2VzIGZvciBkYXRhLWJpbmRpbmcsIHZhbGlkYXRpb24sIENTUyB1cGRhdGVzLCBhbmQgdmFsdWUgZm9ybWF0dGluZ1xuICogYW5kIHBhcnNpbmcuIEl0IHB1cnBvc2VmdWxseSBkb2VzIG5vdCBjb250YWluIGFueSBsb2dpYyB3aGljaCBkZWFscyB3aXRoIERPTSByZW5kZXJpbmcgb3JcbiAqIGxpc3RlbmluZyB0byBET00gZXZlbnRzLlxuICogU3VjaCBET00gcmVsYXRlZCBsb2dpYyBzaG91bGQgYmUgcHJvdmlkZWQgYnkgb3RoZXIgZGlyZWN0aXZlcyB3aGljaCBtYWtlIHVzZSBvZlxuICogYE5nTW9kZWxDb250cm9sbGVyYCBmb3IgZGF0YS1iaW5kaW5nIHRvIGNvbnRyb2wgZWxlbWVudHMuXG4gKiBBbmd1bGFyIHByb3ZpZGVzIHRoaXMgRE9NIGxvZ2ljIGZvciBtb3N0IHtAbGluayBpbnB1dCBgaW5wdXRgfSBlbGVtZW50cy5cbiAqIEF0IHRoZSBlbmQgb2YgdGhpcyBwYWdlIHlvdSBjYW4gZmluZCBhIHtAbGluayBuZ01vZGVsLk5nTW9kZWxDb250cm9sbGVyI2N1c3RvbS1jb250cm9sLWV4YW1wbGVcbiAqIGN1c3RvbSBjb250cm9sIGV4YW1wbGV9IHRoYXQgdXNlcyBgbmdNb2RlbENvbnRyb2xsZXJgIHRvIGJpbmQgdG8gYGNvbnRlbnRlZGl0YWJsZWAgZWxlbWVudHMuXG4gKlxuICogQGV4YW1wbGVcbiAqICMjIyBDdXN0b20gQ29udHJvbCBFeGFtcGxlXG4gKiBUaGlzIGV4YW1wbGUgc2hvd3MgaG93IHRvIHVzZSBgTmdNb2RlbENvbnRyb2xsZXJgIHdpdGggYSBjdXN0b20gY29udHJvbCB0byBhY2hpZXZlXG4gKiBkYXRhLWJpbmRpbmcuIE5vdGljZSBob3cgZGlmZmVyZW50IGRpcmVjdGl2ZXMgKGBjb250ZW50ZWRpdGFibGVgLCBgbmctbW9kZWxgLCBhbmQgYHJlcXVpcmVkYClcbiAqIGNvbGxhYm9yYXRlIHRvZ2V0aGVyIHRvIGFjaGlldmUgdGhlIGRlc2lyZWQgcmVzdWx0LlxuICpcbiAqIGBjb250ZW50ZWRpdGFibGVgIGlzIGFuIEhUTUw1IGF0dHJpYnV0ZSwgd2hpY2ggdGVsbHMgdGhlIGJyb3dzZXIgdG8gbGV0IHRoZSBlbGVtZW50XG4gKiBjb250ZW50cyBiZSBlZGl0ZWQgaW4gcGxhY2UgYnkgdGhlIHVzZXIuXG4gKlxuICogV2UgYXJlIHVzaW5nIHRoZSB7QGxpbmsgbmcuc2VydmljZTokc2NlICRzY2V9IHNlcnZpY2UgaGVyZSBhbmQgaW5jbHVkZSB0aGUge0BsaW5rIG5nU2FuaXRpemUgJHNhbml0aXplfVxuICogbW9kdWxlIHRvIGF1dG9tYXRpY2FsbHkgcmVtb3ZlIFwiYmFkXCIgY29udGVudCBsaWtlIGlubGluZSBldmVudCBsaXN0ZW5lciAoZS5nLiBgPHNwYW4gb25jbGljaz1cIi4uLlwiPmApLlxuICogSG93ZXZlciwgYXMgd2UgYXJlIHVzaW5nIGAkc2NlYCB0aGUgbW9kZWwgY2FuIHN0aWxsIGRlY2lkZSB0byBwcm92aWRlIHVuc2FmZSBjb250ZW50IGlmIGl0IG1hcmtzXG4gKiB0aGF0IGNvbnRlbnQgdXNpbmcgdGhlIGAkc2NlYCBzZXJ2aWNlLlxuICpcbiAqIDxleGFtcGxlIG5hbWU9XCJOZ01vZGVsQ29udHJvbGxlclwiIG1vZHVsZT1cImN1c3RvbUNvbnRyb2xcIiBkZXBzPVwiYW5ndWxhci1zYW5pdGl6ZS5qc1wiPlxuICAgIDxmaWxlIG5hbWU9XCJzdHlsZS5jc3NcIj5cbiAgICAgIFtjb250ZW50ZWRpdGFibGVdIHtcbiAgICAgICAgYm9yZGVyOiAxcHggc29saWQgYmxhY2s7XG4gICAgICAgIGJhY2tncm91bmQtY29sb3I6IHdoaXRlO1xuICAgICAgICBtaW4taGVpZ2h0OiAyMHB4O1xuICAgICAgfVxuXG4gICAgICAubmctaW52YWxpZCB7XG4gICAgICAgIGJvcmRlcjogMXB4IHNvbGlkIHJlZDtcbiAgICAgIH1cblxuICAgIDwvZmlsZT5cbiAgICA8ZmlsZSBuYW1lPVwic2NyaXB0LmpzXCI+XG4gICAgICBhbmd1bGFyLm1vZHVsZSgnY3VzdG9tQ29udHJvbCcsIFsnbmdTYW5pdGl6ZSddKS5cbiAgICAgICAgZGlyZWN0aXZlKCdjb250ZW50ZWRpdGFibGUnLCBbJyRzY2UnLCBmdW5jdGlvbigkc2NlKSB7XG4gICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHJlc3RyaWN0OiAnQScsIC8vIG9ubHkgYWN0aXZhdGUgb24gZWxlbWVudCBhdHRyaWJ1dGVcbiAgICAgICAgICAgIHJlcXVpcmU6ICc/bmdNb2RlbCcsIC8vIGdldCBhIGhvbGQgb2YgTmdNb2RlbENvbnRyb2xsZXJcbiAgICAgICAgICAgIGxpbms6IGZ1bmN0aW9uKHNjb3BlLCBlbGVtZW50LCBhdHRycywgbmdNb2RlbCkge1xuICAgICAgICAgICAgICBpZiAoIW5nTW9kZWwpIHJldHVybjsgLy8gZG8gbm90aGluZyBpZiBubyBuZy1tb2RlbFxuXG4gICAgICAgICAgICAgIC8vIFNwZWNpZnkgaG93IFVJIHNob3VsZCBiZSB1cGRhdGVkXG4gICAgICAgICAgICAgIG5nTW9kZWwuJHJlbmRlciA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgIGVsZW1lbnQuaHRtbCgkc2NlLmdldFRydXN0ZWRIdG1sKG5nTW9kZWwuJHZpZXdWYWx1ZSB8fCAnJykpO1xuICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAgIC8vIExpc3RlbiBmb3IgY2hhbmdlIGV2ZW50cyB0byBlbmFibGUgYmluZGluZ1xuICAgICAgICAgICAgICBlbGVtZW50Lm9uKCdibHVyIGtleXVwIGNoYW5nZScsIGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgIHNjb3BlLiRldmFsQXN5bmMocmVhZCk7XG4gICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICByZWFkKCk7IC8vIGluaXRpYWxpemVcblxuICAgICAgICAgICAgICAvLyBXcml0ZSBkYXRhIHRvIHRoZSBtb2RlbFxuICAgICAgICAgICAgICBmdW5jdGlvbiByZWFkKCkge1xuICAgICAgICAgICAgICAgIHZhciBodG1sID0gZWxlbWVudC5odG1sKCk7XG4gICAgICAgICAgICAgICAgLy8gV2hlbiB3ZSBjbGVhciB0aGUgY29udGVudCBlZGl0YWJsZSB0aGUgYnJvd3NlciBsZWF2ZXMgYSA8YnI+IGJlaGluZFxuICAgICAgICAgICAgICAgIC8vIElmIHN0cmlwLWJyIGF0dHJpYnV0ZSBpcyBwcm92aWRlZCB0aGVuIHdlIHN0cmlwIHRoaXMgb3V0XG4gICAgICAgICAgICAgICAgaWYgKGF0dHJzLnN0cmlwQnIgJiYgaHRtbCA9PT0gJzxicj4nKSB7XG4gICAgICAgICAgICAgICAgICBodG1sID0gJyc7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIG5nTW9kZWwuJHNldFZpZXdWYWx1ZShodG1sKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH07XG4gICAgICAgIH1dKTtcbiAgICA8L2ZpbGU+XG4gICAgPGZpbGUgbmFtZT1cImluZGV4Lmh0bWxcIj5cbiAgICAgIDxmb3JtIG5hbWU9XCJteUZvcm1cIj5cbiAgICAgICA8ZGl2IGNvbnRlbnRlZGl0YWJsZVxuICAgICAgICAgICAgbmFtZT1cIm15V2lkZ2V0XCIgbmctbW9kZWw9XCJ1c2VyQ29udGVudFwiXG4gICAgICAgICAgICBzdHJpcC1icj1cInRydWVcIlxuICAgICAgICAgICAgcmVxdWlyZWQ+Q2hhbmdlIG1lITwvZGl2PlxuICAgICAgICA8c3BhbiBuZy1zaG93PVwibXlGb3JtLm15V2lkZ2V0LiRlcnJvci5yZXF1aXJlZFwiPlJlcXVpcmVkITwvc3Bhbj5cbiAgICAgICA8aHI+XG4gICAgICAgPHRleHRhcmVhIG5nLW1vZGVsPVwidXNlckNvbnRlbnRcIiBhcmlhLWxhYmVsPVwiRHluYW1pYyB0ZXh0YXJlYVwiPjwvdGV4dGFyZWE+XG4gICAgICA8L2Zvcm0+XG4gICAgPC9maWxlPlxuICAgIDxmaWxlIG5hbWU9XCJwcm90cmFjdG9yLmpzXCIgdHlwZT1cInByb3RyYWN0b3JcIj5cbiAgICBpdCgnc2hvdWxkIGRhdGEtYmluZCBhbmQgYmVjb21lIGludmFsaWQnLCBmdW5jdGlvbigpIHtcbiAgICAgIGlmIChicm93c2VyLnBhcmFtcy5icm93c2VyID09PSAnc2FmYXJpJyB8fCBicm93c2VyLnBhcmFtcy5icm93c2VyID09PSAnZmlyZWZveCcpIHtcbiAgICAgICAgLy8gU2FmYXJpRHJpdmVyIGNhbid0IGhhbmRsZSBjb250ZW50ZWRpdGFibGVcbiAgICAgICAgLy8gYW5kIEZpcmVmb3ggZHJpdmVyIGNhbid0IGNsZWFyIGNvbnRlbnRlZGl0YWJsZXMgdmVyeSB3ZWxsXG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIHZhciBjb250ZW50RWRpdGFibGUgPSBlbGVtZW50KGJ5LmNzcygnW2NvbnRlbnRlZGl0YWJsZV0nKSk7XG4gICAgICB2YXIgY29udGVudCA9ICdDaGFuZ2UgbWUhJztcblxuICAgICAgZXhwZWN0KGNvbnRlbnRFZGl0YWJsZS5nZXRUZXh0KCkpLnRvRXF1YWwoY29udGVudCk7XG5cbiAgICAgIGNvbnRlbnRFZGl0YWJsZS5jbGVhcigpO1xuICAgICAgY29udGVudEVkaXRhYmxlLnNlbmRLZXlzKHByb3RyYWN0b3IuS2V5LkJBQ0tfU1BBQ0UpO1xuICAgICAgZXhwZWN0KGNvbnRlbnRFZGl0YWJsZS5nZXRUZXh0KCkpLnRvRXF1YWwoJycpO1xuICAgICAgZXhwZWN0KGNvbnRlbnRFZGl0YWJsZS5nZXRBdHRyaWJ1dGUoJ2NsYXNzJykpLnRvTWF0Y2goL25nLWludmFsaWQtcmVxdWlyZWQvKTtcbiAgICB9KTtcbiAgICA8L2ZpbGU+XG4gKiA8L2V4YW1wbGU+XG4gKlxuICpcbiAqL1xuTmdNb2RlbENvbnRyb2xsZXIuJGluamVjdCA9IFsnJHNjb3BlJywgJyRleGNlcHRpb25IYW5kbGVyJywgJyRhdHRycycsICckZWxlbWVudCcsICckcGFyc2UnLCAnJGFuaW1hdGUnLCAnJHRpbWVvdXQnLCAnJHEnLCAnJGludGVycG9sYXRlJ107XG5mdW5jdGlvbiBOZ01vZGVsQ29udHJvbGxlcigkc2NvcGUsICRleGNlcHRpb25IYW5kbGVyLCAkYXR0ciwgJGVsZW1lbnQsICRwYXJzZSwgJGFuaW1hdGUsICR0aW1lb3V0LCAkcSwgJGludGVycG9sYXRlKSB7XG4gIHRoaXMuJHZpZXdWYWx1ZSA9IE51bWJlci5OYU47XG4gIHRoaXMuJG1vZGVsVmFsdWUgPSBOdW1iZXIuTmFOO1xuICB0aGlzLiQkcmF3TW9kZWxWYWx1ZSA9IHVuZGVmaW5lZDsgLy8gc3RvcmVzIHRoZSBwYXJzZWQgbW9kZWxWYWx1ZSAvIG1vZGVsIHNldCBmcm9tIHNjb3BlIHJlZ2FyZGxlc3Mgb2YgdmFsaWRpdHkuXG4gIHRoaXMuJHZhbGlkYXRvcnMgPSB7fTtcbiAgdGhpcy4kYXN5bmNWYWxpZGF0b3JzID0ge307XG4gIHRoaXMuJHBhcnNlcnMgPSBbXTtcbiAgdGhpcy4kZm9ybWF0dGVycyA9IFtdO1xuICB0aGlzLiR2aWV3Q2hhbmdlTGlzdGVuZXJzID0gW107XG4gIHRoaXMuJHVudG91Y2hlZCA9IHRydWU7XG4gIHRoaXMuJHRvdWNoZWQgPSBmYWxzZTtcbiAgdGhpcy4kcHJpc3RpbmUgPSB0cnVlO1xuICB0aGlzLiRkaXJ0eSA9IGZhbHNlO1xuICB0aGlzLiR2YWxpZCA9IHRydWU7XG4gIHRoaXMuJGludmFsaWQgPSBmYWxzZTtcbiAgdGhpcy4kZXJyb3IgPSB7fTsgLy8ga2VlcCBpbnZhbGlkIGtleXMgaGVyZVxuICB0aGlzLiQkc3VjY2VzcyA9IHt9OyAvLyBrZWVwIHZhbGlkIGtleXMgaGVyZVxuICB0aGlzLiRwZW5kaW5nID0gdW5kZWZpbmVkOyAvLyBrZWVwIHBlbmRpbmcga2V5cyBoZXJlXG4gIHRoaXMuJG5hbWUgPSAkaW50ZXJwb2xhdGUoJGF0dHIubmFtZSB8fCAnJywgZmFsc2UpKCRzY29wZSk7XG4gIHRoaXMuJCRwYXJlbnRGb3JtID0gbnVsbEZvcm1DdHJsO1xuICB0aGlzLiRvcHRpb25zID0gZGVmYXVsdE1vZGVsT3B0aW9ucztcblxuICB0aGlzLiQkcGFyc2VkTmdNb2RlbCA9ICRwYXJzZSgkYXR0ci5uZ01vZGVsKTtcbiAgdGhpcy4kJHBhcnNlZE5nTW9kZWxBc3NpZ24gPSB0aGlzLiQkcGFyc2VkTmdNb2RlbC5hc3NpZ247XG4gIHRoaXMuJCRuZ01vZGVsR2V0ID0gdGhpcy4kJHBhcnNlZE5nTW9kZWw7XG4gIHRoaXMuJCRuZ01vZGVsU2V0ID0gdGhpcy4kJHBhcnNlZE5nTW9kZWxBc3NpZ247XG4gIHRoaXMuJCRwZW5kaW5nRGVib3VuY2UgPSBudWxsO1xuICB0aGlzLiQkcGFyc2VyVmFsaWQgPSB1bmRlZmluZWQ7XG5cbiAgdGhpcy4kJGN1cnJlbnRWYWxpZGF0aW9uUnVuSWQgPSAwO1xuXG4gIC8vIGh0dHBzOi8vZ2l0aHViLmNvbS9hbmd1bGFyL2FuZ3VsYXIuanMvaXNzdWVzLzE1ODMzXG4gIC8vIFByZXZlbnQgYCQkc2NvcGVgIGZyb20gYmVpbmcgaXRlcmF0ZWQgb3ZlciBieSBgY29weWAgd2hlbiBOZ01vZGVsQ29udHJvbGxlciBpcyBkZWVwIHdhdGNoZWRcbiAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsICckJHNjb3BlJywge3ZhbHVlOiAkc2NvcGV9KTtcbiAgdGhpcy4kJGF0dHIgPSAkYXR0cjtcbiAgdGhpcy4kJGVsZW1lbnQgPSAkZWxlbWVudDtcbiAgdGhpcy4kJGFuaW1hdGUgPSAkYW5pbWF0ZTtcbiAgdGhpcy4kJHRpbWVvdXQgPSAkdGltZW91dDtcbiAgdGhpcy4kJHBhcnNlID0gJHBhcnNlO1xuICB0aGlzLiQkcSA9ICRxO1xuICB0aGlzLiQkZXhjZXB0aW9uSGFuZGxlciA9ICRleGNlcHRpb25IYW5kbGVyO1xuXG4gIHNldHVwVmFsaWRpdHkodGhpcyk7XG4gIHNldHVwTW9kZWxXYXRjaGVyKHRoaXMpO1xufVxuXG5OZ01vZGVsQ29udHJvbGxlci5wcm90b3R5cGUgPSB7XG4gICQkaW5pdEdldHRlclNldHRlcnM6IGZ1bmN0aW9uKCkge1xuICAgIGlmICh0aGlzLiRvcHRpb25zLmdldE9wdGlvbignZ2V0dGVyU2V0dGVyJykpIHtcbiAgICAgIHZhciBpbnZva2VNb2RlbEdldHRlciA9IHRoaXMuJCRwYXJzZSh0aGlzLiQkYXR0ci5uZ01vZGVsICsgJygpJyksXG4gICAgICAgICAgaW52b2tlTW9kZWxTZXR0ZXIgPSB0aGlzLiQkcGFyc2UodGhpcy4kJGF0dHIubmdNb2RlbCArICcoJCQkcCknKTtcblxuICAgICAgdGhpcy4kJG5nTW9kZWxHZXQgPSBmdW5jdGlvbigkc2NvcGUpIHtcbiAgICAgICAgdmFyIG1vZGVsVmFsdWUgPSB0aGlzLiQkcGFyc2VkTmdNb2RlbCgkc2NvcGUpO1xuICAgICAgICBpZiAoaXNGdW5jdGlvbihtb2RlbFZhbHVlKSkge1xuICAgICAgICAgIG1vZGVsVmFsdWUgPSBpbnZva2VNb2RlbEdldHRlcigkc2NvcGUpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBtb2RlbFZhbHVlO1xuICAgICAgfTtcbiAgICAgIHRoaXMuJCRuZ01vZGVsU2V0ID0gZnVuY3Rpb24oJHNjb3BlLCBuZXdWYWx1ZSkge1xuICAgICAgICBpZiAoaXNGdW5jdGlvbih0aGlzLiQkcGFyc2VkTmdNb2RlbCgkc2NvcGUpKSkge1xuICAgICAgICAgIGludm9rZU1vZGVsU2V0dGVyKCRzY29wZSwgeyQkJHA6IG5ld1ZhbHVlfSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdGhpcy4kJHBhcnNlZE5nTW9kZWxBc3NpZ24oJHNjb3BlLCBuZXdWYWx1ZSk7XG4gICAgICAgIH1cbiAgICAgIH07XG4gICAgfSBlbHNlIGlmICghdGhpcy4kJHBhcnNlZE5nTW9kZWwuYXNzaWduKSB7XG4gICAgICB0aHJvdyBuZ01vZGVsTWluRXJyKCdub25hc3NpZ24nLCAnRXhwcmVzc2lvbiBcXCd7MH1cXCcgaXMgbm9uLWFzc2lnbmFibGUuIEVsZW1lbnQ6IHsxfScsXG4gICAgICAgICAgdGhpcy4kJGF0dHIubmdNb2RlbCwgc3RhcnRpbmdUYWcodGhpcy4kJGVsZW1lbnQpKTtcbiAgICB9XG4gIH0sXG5cblxuICAvKipcbiAgICogQG5nZG9jIG1ldGhvZFxuICAgKiBAbmFtZSBuZ01vZGVsLk5nTW9kZWxDb250cm9sbGVyIyRyZW5kZXJcbiAgICpcbiAgICogQGRlc2NyaXB0aW9uXG4gICAqIENhbGxlZCB3aGVuIHRoZSB2aWV3IG5lZWRzIHRvIGJlIHVwZGF0ZWQuIEl0IGlzIGV4cGVjdGVkIHRoYXQgdGhlIHVzZXIgb2YgdGhlIG5nLW1vZGVsXG4gICAqIGRpcmVjdGl2ZSB3aWxsIGltcGxlbWVudCB0aGlzIG1ldGhvZC5cbiAgICpcbiAgICogVGhlIGAkcmVuZGVyKClgIG1ldGhvZCBpcyBpbnZva2VkIGluIHRoZSBmb2xsb3dpbmcgc2l0dWF0aW9uczpcbiAgICpcbiAgICogKiBgJHJvbGxiYWNrVmlld1ZhbHVlKClgIGlzIGNhbGxlZC4gIElmIHdlIGFyZSByb2xsaW5nIGJhY2sgdGhlIHZpZXcgdmFsdWUgdG8gdGhlIGxhc3RcbiAgICogICBjb21taXR0ZWQgdmFsdWUgdGhlbiBgJHJlbmRlcigpYCBpcyBjYWxsZWQgdG8gdXBkYXRlIHRoZSBpbnB1dCBjb250cm9sLlxuICAgKiAqIFRoZSB2YWx1ZSByZWZlcmVuY2VkIGJ5IGBuZy1tb2RlbGAgaXMgY2hhbmdlZCBwcm9ncmFtbWF0aWNhbGx5IGFuZCBib3RoIHRoZSBgJG1vZGVsVmFsdWVgIGFuZFxuICAgKiAgIHRoZSBgJHZpZXdWYWx1ZWAgYXJlIGRpZmZlcmVudCBmcm9tIGxhc3QgdGltZS5cbiAgICpcbiAgICogU2luY2UgYG5nLW1vZGVsYCBkb2VzIG5vdCBkbyBhIGRlZXAgd2F0Y2gsIGAkcmVuZGVyKClgIGlzIG9ubHkgaW52b2tlZCBpZiB0aGUgdmFsdWVzIG9mXG4gICAqIGAkbW9kZWxWYWx1ZWAgYW5kIGAkdmlld1ZhbHVlYCBhcmUgYWN0dWFsbHkgZGlmZmVyZW50IGZyb20gdGhlaXIgcHJldmlvdXMgdmFsdWVzLiBJZiBgJG1vZGVsVmFsdWVgXG4gICAqIG9yIGAkdmlld1ZhbHVlYCBhcmUgb2JqZWN0cyAocmF0aGVyIHRoYW4gYSBzdHJpbmcgb3IgbnVtYmVyKSB0aGVuIGAkcmVuZGVyKClgIHdpbGwgbm90IGJlXG4gICAqIGludm9rZWQgaWYgeW91IG9ubHkgY2hhbmdlIGEgcHJvcGVydHkgb24gdGhlIG9iamVjdHMuXG4gICAqL1xuICAkcmVuZGVyOiBub29wLFxuXG4gIC8qKlxuICAgKiBAbmdkb2MgbWV0aG9kXG4gICAqIEBuYW1lIG5nTW9kZWwuTmdNb2RlbENvbnRyb2xsZXIjJGlzRW1wdHlcbiAgICpcbiAgICogQGRlc2NyaXB0aW9uXG4gICAqIFRoaXMgaXMgY2FsbGVkIHdoZW4gd2UgbmVlZCB0byBkZXRlcm1pbmUgaWYgdGhlIHZhbHVlIG9mIGFuIGlucHV0IGlzIGVtcHR5LlxuICAgKlxuICAgKiBGb3IgaW5zdGFuY2UsIHRoZSByZXF1aXJlZCBkaXJlY3RpdmUgZG9lcyB0aGlzIHRvIHdvcmsgb3V0IGlmIHRoZSBpbnB1dCBoYXMgZGF0YSBvciBub3QuXG4gICAqXG4gICAqIFRoZSBkZWZhdWx0IGAkaXNFbXB0eWAgZnVuY3Rpb24gY2hlY2tzIHdoZXRoZXIgdGhlIHZhbHVlIGlzIGB1bmRlZmluZWRgLCBgJydgLCBgbnVsbGAgb3IgYE5hTmAuXG4gICAqXG4gICAqIFlvdSBjYW4gb3ZlcnJpZGUgdGhpcyBmb3IgaW5wdXQgZGlyZWN0aXZlcyB3aG9zZSBjb25jZXB0IG9mIGJlaW5nIGVtcHR5IGlzIGRpZmZlcmVudCBmcm9tIHRoZVxuICAgKiBkZWZhdWx0LiBUaGUgYGNoZWNrYm94SW5wdXRUeXBlYCBkaXJlY3RpdmUgZG9lcyB0aGlzIGJlY2F1c2UgaW4gaXRzIGNhc2UgYSB2YWx1ZSBvZiBgZmFsc2VgXG4gICAqIGltcGxpZXMgZW1wdHkuXG4gICAqXG4gICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIG9mIHRoZSBpbnB1dCB0byBjaGVjayBmb3IgZW1wdGluZXNzLlxuICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gVHJ1ZSBpZiBgdmFsdWVgIGlzIFwiZW1wdHlcIi5cbiAgICovXG4gICRpc0VtcHR5OiBmdW5jdGlvbih2YWx1ZSkge1xuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1zZWxmLWNvbXBhcmVcbiAgICByZXR1cm4gaXNVbmRlZmluZWQodmFsdWUpIHx8IHZhbHVlID09PSAnJyB8fCB2YWx1ZSA9PT0gbnVsbCB8fCB2YWx1ZSAhPT0gdmFsdWU7XG4gIH0sXG5cbiAgJCR1cGRhdGVFbXB0eUNsYXNzZXM6IGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgaWYgKHRoaXMuJGlzRW1wdHkodmFsdWUpKSB7XG4gICAgICB0aGlzLiQkYW5pbWF0ZS5yZW1vdmVDbGFzcyh0aGlzLiQkZWxlbWVudCwgTk9UX0VNUFRZX0NMQVNTKTtcbiAgICAgIHRoaXMuJCRhbmltYXRlLmFkZENsYXNzKHRoaXMuJCRlbGVtZW50LCBFTVBUWV9DTEFTUyk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuJCRhbmltYXRlLnJlbW92ZUNsYXNzKHRoaXMuJCRlbGVtZW50LCBFTVBUWV9DTEFTUyk7XG4gICAgICB0aGlzLiQkYW5pbWF0ZS5hZGRDbGFzcyh0aGlzLiQkZWxlbWVudCwgTk9UX0VNUFRZX0NMQVNTKTtcbiAgICB9XG4gIH0sXG5cbiAgLyoqXG4gICAqIEBuZ2RvYyBtZXRob2RcbiAgICogQG5hbWUgbmdNb2RlbC5OZ01vZGVsQ29udHJvbGxlciMkc2V0UHJpc3RpbmVcbiAgICpcbiAgICogQGRlc2NyaXB0aW9uXG4gICAqIFNldHMgdGhlIGNvbnRyb2wgdG8gaXRzIHByaXN0aW5lIHN0YXRlLlxuICAgKlxuICAgKiBUaGlzIG1ldGhvZCBjYW4gYmUgY2FsbGVkIHRvIHJlbW92ZSB0aGUgYG5nLWRpcnR5YCBjbGFzcyBhbmQgc2V0IHRoZSBjb250cm9sIHRvIGl0cyBwcmlzdGluZVxuICAgKiBzdGF0ZSAoYG5nLXByaXN0aW5lYCBjbGFzcykuIEEgbW9kZWwgaXMgY29uc2lkZXJlZCB0byBiZSBwcmlzdGluZSB3aGVuIHRoZSBjb250cm9sXG4gICAqIGhhcyBub3QgYmVlbiBjaGFuZ2VkIGZyb20gd2hlbiBmaXJzdCBjb21waWxlZC5cbiAgICovXG4gICRzZXRQcmlzdGluZTogZnVuY3Rpb24oKSB7XG4gICAgdGhpcy4kZGlydHkgPSBmYWxzZTtcbiAgICB0aGlzLiRwcmlzdGluZSA9IHRydWU7XG4gICAgdGhpcy4kJGFuaW1hdGUucmVtb3ZlQ2xhc3ModGhpcy4kJGVsZW1lbnQsIERJUlRZX0NMQVNTKTtcbiAgICB0aGlzLiQkYW5pbWF0ZS5hZGRDbGFzcyh0aGlzLiQkZWxlbWVudCwgUFJJU1RJTkVfQ0xBU1MpO1xuICB9LFxuXG4gIC8qKlxuICAgKiBAbmdkb2MgbWV0aG9kXG4gICAqIEBuYW1lIG5nTW9kZWwuTmdNb2RlbENvbnRyb2xsZXIjJHNldERpcnR5XG4gICAqXG4gICAqIEBkZXNjcmlwdGlvblxuICAgKiBTZXRzIHRoZSBjb250cm9sIHRvIGl0cyBkaXJ0eSBzdGF0ZS5cbiAgICpcbiAgICogVGhpcyBtZXRob2QgY2FuIGJlIGNhbGxlZCB0byByZW1vdmUgdGhlIGBuZy1wcmlzdGluZWAgY2xhc3MgYW5kIHNldCB0aGUgY29udHJvbCB0byBpdHMgZGlydHlcbiAgICogc3RhdGUgKGBuZy1kaXJ0eWAgY2xhc3MpLiBBIG1vZGVsIGlzIGNvbnNpZGVyZWQgdG8gYmUgZGlydHkgd2hlbiB0aGUgY29udHJvbCBoYXMgYmVlbiBjaGFuZ2VkXG4gICAqIGZyb20gd2hlbiBmaXJzdCBjb21waWxlZC5cbiAgICovXG4gICRzZXREaXJ0eTogZnVuY3Rpb24oKSB7XG4gICAgdGhpcy4kZGlydHkgPSB0cnVlO1xuICAgIHRoaXMuJHByaXN0aW5lID0gZmFsc2U7XG4gICAgdGhpcy4kJGFuaW1hdGUucmVtb3ZlQ2xhc3ModGhpcy4kJGVsZW1lbnQsIFBSSVNUSU5FX0NMQVNTKTtcbiAgICB0aGlzLiQkYW5pbWF0ZS5hZGRDbGFzcyh0aGlzLiQkZWxlbWVudCwgRElSVFlfQ0xBU1MpO1xuICAgIHRoaXMuJCRwYXJlbnRGb3JtLiRzZXREaXJ0eSgpO1xuICB9LFxuXG4gIC8qKlxuICAgKiBAbmdkb2MgbWV0aG9kXG4gICAqIEBuYW1lIG5nTW9kZWwuTmdNb2RlbENvbnRyb2xsZXIjJHNldFVudG91Y2hlZFxuICAgKlxuICAgKiBAZGVzY3JpcHRpb25cbiAgICogU2V0cyB0aGUgY29udHJvbCB0byBpdHMgdW50b3VjaGVkIHN0YXRlLlxuICAgKlxuICAgKiBUaGlzIG1ldGhvZCBjYW4gYmUgY2FsbGVkIHRvIHJlbW92ZSB0aGUgYG5nLXRvdWNoZWRgIGNsYXNzIGFuZCBzZXQgdGhlIGNvbnRyb2wgdG8gaXRzXG4gICAqIHVudG91Y2hlZCBzdGF0ZSAoYG5nLXVudG91Y2hlZGAgY2xhc3MpLiBVcG9uIGNvbXBpbGF0aW9uLCBhIG1vZGVsIGlzIHNldCBhcyB1bnRvdWNoZWRcbiAgICogYnkgZGVmYXVsdCwgaG93ZXZlciB0aGlzIGZ1bmN0aW9uIGNhbiBiZSB1c2VkIHRvIHJlc3RvcmUgdGhhdCBzdGF0ZSBpZiB0aGUgbW9kZWwgaGFzXG4gICAqIGFscmVhZHkgYmVlbiB0b3VjaGVkIGJ5IHRoZSB1c2VyLlxuICAgKi9cbiAgJHNldFVudG91Y2hlZDogZnVuY3Rpb24oKSB7XG4gICAgdGhpcy4kdG91Y2hlZCA9IGZhbHNlO1xuICAgIHRoaXMuJHVudG91Y2hlZCA9IHRydWU7XG4gICAgdGhpcy4kJGFuaW1hdGUuc2V0Q2xhc3ModGhpcy4kJGVsZW1lbnQsIFVOVE9VQ0hFRF9DTEFTUywgVE9VQ0hFRF9DTEFTUyk7XG4gIH0sXG5cbiAgLyoqXG4gICAqIEBuZ2RvYyBtZXRob2RcbiAgICogQG5hbWUgbmdNb2RlbC5OZ01vZGVsQ29udHJvbGxlciMkc2V0VG91Y2hlZFxuICAgKlxuICAgKiBAZGVzY3JpcHRpb25cbiAgICogU2V0cyB0aGUgY29udHJvbCB0byBpdHMgdG91Y2hlZCBzdGF0ZS5cbiAgICpcbiAgICogVGhpcyBtZXRob2QgY2FuIGJlIGNhbGxlZCB0byByZW1vdmUgdGhlIGBuZy11bnRvdWNoZWRgIGNsYXNzIGFuZCBzZXQgdGhlIGNvbnRyb2wgdG8gaXRzXG4gICAqIHRvdWNoZWQgc3RhdGUgKGBuZy10b3VjaGVkYCBjbGFzcykuIEEgbW9kZWwgaXMgY29uc2lkZXJlZCB0byBiZSB0b3VjaGVkIHdoZW4gdGhlIHVzZXIgaGFzXG4gICAqIGZpcnN0IGZvY3VzZWQgdGhlIGNvbnRyb2wgZWxlbWVudCBhbmQgdGhlbiBzaGlmdGVkIGZvY3VzIGF3YXkgZnJvbSB0aGUgY29udHJvbCAoYmx1ciBldmVudCkuXG4gICAqL1xuICAkc2V0VG91Y2hlZDogZnVuY3Rpb24oKSB7XG4gICAgdGhpcy4kdG91Y2hlZCA9IHRydWU7XG4gICAgdGhpcy4kdW50b3VjaGVkID0gZmFsc2U7XG4gICAgdGhpcy4kJGFuaW1hdGUuc2V0Q2xhc3ModGhpcy4kJGVsZW1lbnQsIFRPVUNIRURfQ0xBU1MsIFVOVE9VQ0hFRF9DTEFTUyk7XG4gIH0sXG5cbiAgLyoqXG4gICAqIEBuZ2RvYyBtZXRob2RcbiAgICogQG5hbWUgbmdNb2RlbC5OZ01vZGVsQ29udHJvbGxlciMkcm9sbGJhY2tWaWV3VmFsdWVcbiAgICpcbiAgICogQGRlc2NyaXB0aW9uXG4gICAqIENhbmNlbCBhbiB1cGRhdGUgYW5kIHJlc2V0IHRoZSBpbnB1dCBlbGVtZW50J3MgdmFsdWUgdG8gcHJldmVudCBhbiB1cGRhdGUgdG8gdGhlIGAkbW9kZWxWYWx1ZWAsXG4gICAqIHdoaWNoIG1heSBiZSBjYXVzZWQgYnkgYSBwZW5kaW5nIGRlYm91bmNlZCBldmVudCBvciBiZWNhdXNlIHRoZSBpbnB1dCBpcyB3YWl0aW5nIGZvciBzb21lXG4gICAqIGZ1dHVyZSBldmVudC5cbiAgICpcbiAgICogSWYgeW91IGhhdmUgYW4gaW5wdXQgdGhhdCB1c2VzIGBuZy1tb2RlbC1vcHRpb25zYCB0byBzZXQgdXAgZGVib3VuY2VkIHVwZGF0ZXMgb3IgdXBkYXRlcyB0aGF0XG4gICAqIGRlcGVuZCBvbiBzcGVjaWFsIGV2ZW50cyBzdWNoIGFzIGBibHVyYCwgdGhlcmUgY2FuIGJlIGEgcGVyaW9kIHdoZW4gdGhlIGAkdmlld1ZhbHVlYCBpcyBvdXQgb2ZcbiAgICogc3luYyB3aXRoIHRoZSBuZ01vZGVsJ3MgYCRtb2RlbFZhbHVlYC5cbiAgICpcbiAgICogSW4gdGhpcyBjYXNlLCB5b3UgY2FuIHVzZSBgJHJvbGxiYWNrVmlld1ZhbHVlKClgIHRvIG1hbnVhbGx5IGNhbmNlbCB0aGUgZGVib3VuY2VkIC8gZnV0dXJlIHVwZGF0ZVxuICAgKiBhbmQgcmVzZXQgdGhlIGlucHV0IHRvIHRoZSBsYXN0IGNvbW1pdHRlZCB2aWV3IHZhbHVlLlxuICAgKlxuICAgKiBJdCBpcyBhbHNvIHBvc3NpYmxlIHRoYXQgeW91IHJ1biBpbnRvIGRpZmZpY3VsdGllcyBpZiB5b3UgdHJ5IHRvIHVwZGF0ZSB0aGUgbmdNb2RlbCdzIGAkbW9kZWxWYWx1ZWBcbiAgICogcHJvZ3JhbW1hdGljYWxseSBiZWZvcmUgdGhlc2UgZGVib3VuY2VkL2Z1dHVyZSBldmVudHMgaGF2ZSByZXNvbHZlZC9vY2N1cnJlZCwgYmVjYXVzZSBBbmd1bGFyJ3NcbiAgICogZGlydHkgY2hlY2tpbmcgbWVjaGFuaXNtIGlzIG5vdCBhYmxlIHRvIHRlbGwgd2hldGhlciB0aGUgbW9kZWwgaGFzIGFjdHVhbGx5IGNoYW5nZWQgb3Igbm90LlxuICAgKlxuICAgKiBUaGUgYCRyb2xsYmFja1ZpZXdWYWx1ZSgpYCBtZXRob2Qgc2hvdWxkIGJlIGNhbGxlZCBiZWZvcmUgcHJvZ3JhbW1hdGljYWxseSBjaGFuZ2luZyB0aGUgbW9kZWwgb2YgYW5cbiAgICogaW5wdXQgd2hpY2ggbWF5IGhhdmUgc3VjaCBldmVudHMgcGVuZGluZy4gVGhpcyBpcyBpbXBvcnRhbnQgaW4gb3JkZXIgdG8gbWFrZSBzdXJlIHRoYXQgdGhlXG4gICAqIGlucHV0IGZpZWxkIHdpbGwgYmUgdXBkYXRlZCB3aXRoIHRoZSBuZXcgbW9kZWwgdmFsdWUgYW5kIGFueSBwZW5kaW5nIG9wZXJhdGlvbnMgYXJlIGNhbmNlbGxlZC5cbiAgICpcbiAgICogPGV4YW1wbGUgbmFtZT1cIm5nLW1vZGVsLWNhbmNlbC11cGRhdGVcIiBtb2R1bGU9XCJjYW5jZWwtdXBkYXRlLWV4YW1wbGVcIj5cbiAgICogICA8ZmlsZSBuYW1lPVwiYXBwLmpzXCI+XG4gICAqICAgICBhbmd1bGFyLm1vZHVsZSgnY2FuY2VsLXVwZGF0ZS1leGFtcGxlJywgW10pXG4gICAqXG4gICAqICAgICAuY29udHJvbGxlcignQ2FuY2VsVXBkYXRlQ29udHJvbGxlcicsIFsnJHNjb3BlJywgZnVuY3Rpb24oJHNjb3BlKSB7XG4gICAqICAgICAgICRzY29wZS5tb2RlbCA9IHt2YWx1ZTE6ICcnLCB2YWx1ZTI6ICcnfTtcbiAgICpcbiAgICogICAgICAgJHNjb3BlLnNldEVtcHR5ID0gZnVuY3Rpb24oZSwgdmFsdWUsIHJvbGxiYWNrKSB7XG4gICAqICAgICAgICAgaWYgKGUua2V5Q29kZSA9PT0gMjcpIHtcbiAgICogICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICogICAgICAgICAgIGlmIChyb2xsYmFjaykge1xuICAgKiAgICAgICAgICAgICAkc2NvcGUubXlGb3JtW3ZhbHVlXS4kcm9sbGJhY2tWaWV3VmFsdWUoKTtcbiAgICogICAgICAgICAgIH1cbiAgICogICAgICAgICAgICRzY29wZS5tb2RlbFt2YWx1ZV0gPSAnJztcbiAgICogICAgICAgICB9XG4gICAqICAgICAgIH07XG4gICAqICAgICB9XSk7XG4gICAqICAgPC9maWxlPlxuICAgKiAgIDxmaWxlIG5hbWU9XCJpbmRleC5odG1sXCI+XG4gICAqICAgICA8ZGl2IG5nLWNvbnRyb2xsZXI9XCJDYW5jZWxVcGRhdGVDb250cm9sbGVyXCI+XG4gICAqICAgICAgIDxwPkJvdGggb2YgdGhlc2UgaW5wdXRzIGFyZSBvbmx5IHVwZGF0ZWQgaWYgdGhleSBhcmUgYmx1cnJlZC4gSGl0dGluZyBlc2NhcGUgc2hvdWxkXG4gICAqICAgICAgIGVtcHR5IHRoZW0uIEZvbGxvdyB0aGVzZSBzdGVwcyBhbmQgb2JzZXJ2ZSB0aGUgZGlmZmVyZW5jZTo8L3A+XG4gICAqICAgICAgIDxvbD5cbiAgICogICAgICAgICA8bGk+VHlwZSBzb21ldGhpbmcgaW4gdGhlIGlucHV0LiBZb3Ugd2lsbCBzZWUgdGhhdCB0aGUgbW9kZWwgaXMgbm90IHlldCB1cGRhdGVkPC9saT5cbiAgICogICAgICAgICA8bGk+UHJlc3MgdGhlIEVzY2FwZSBrZXkuXG4gICAqICAgICAgICAgICA8b2w+XG4gICAqICAgICAgICAgICAgIDxsaT4gSW4gdGhlIGZpcnN0IGV4YW1wbGUsIG5vdGhpbmcgaGFwcGVucywgYmVjYXVzZSB0aGUgbW9kZWwgaXMgYWxyZWFkeSAnJywgYW5kIG5vXG4gICAqICAgICAgICAgICAgIHVwZGF0ZSBpcyBkZXRlY3RlZC4gSWYgeW91IGJsdXIgdGhlIGlucHV0LCB0aGUgbW9kZWwgd2lsbCBiZSBzZXQgdG8gdGhlIGN1cnJlbnQgdmlldy5cbiAgICogICAgICAgICAgICAgPC9saT5cbiAgICogICAgICAgICAgICAgPGxpPiBJbiB0aGUgc2Vjb25kIGV4YW1wbGUsIHRoZSBwZW5kaW5nIHVwZGF0ZSBpcyBjYW5jZWxsZWQsIGFuZCB0aGUgaW5wdXQgaXMgc2V0IGJhY2tcbiAgICogICAgICAgICAgICAgdG8gdGhlIGxhc3QgY29tbWl0dGVkIHZpZXcgdmFsdWUgKCcnKS4gQmx1cnJpbmcgdGhlIGlucHV0IGRvZXMgbm90aGluZy5cbiAgICogICAgICAgICAgICAgPC9saT5cbiAgICogICAgICAgICAgIDwvb2w+XG4gICAqICAgICAgICAgPC9saT5cbiAgICogICAgICAgPC9vbD5cbiAgICpcbiAgICogICAgICAgPGZvcm0gbmFtZT1cIm15Rm9ybVwiIG5nLW1vZGVsLW9wdGlvbnM9XCJ7IHVwZGF0ZU9uOiAnYmx1cicgfVwiPlxuICAgKiAgICAgICAgIDxkaXY+XG4gICAqICAgICAgICAgICA8cCBpZD1cImlucHV0RGVzY3JpcHRpb24xXCI+V2l0aG91dCAkcm9sbGJhY2tWaWV3VmFsdWUoKTo8L3A+XG4gICAqICAgICAgICAgICA8aW5wdXQgbmFtZT1cInZhbHVlMVwiIGFyaWEtZGVzY3JpYmVkYnk9XCJpbnB1dERlc2NyaXB0aW9uMVwiIG5nLW1vZGVsPVwibW9kZWwudmFsdWUxXCJcbiAgICogICAgICAgICAgICAgICAgICBuZy1rZXlkb3duPVwic2V0RW1wdHkoJGV2ZW50LCAndmFsdWUxJylcIj5cbiAgICogICAgICAgICAgIHZhbHVlMTogXCJ7eyBtb2RlbC52YWx1ZTEgfX1cIlxuICAgKiAgICAgICAgIDwvZGl2PlxuICAgKlxuICAgKiAgICAgICAgIDxkaXY+XG4gICAqICAgICAgICAgICA8cCBpZD1cImlucHV0RGVzY3JpcHRpb24yXCI+V2l0aCAkcm9sbGJhY2tWaWV3VmFsdWUoKTo8L3A+XG4gICAqICAgICAgICAgICA8aW5wdXQgbmFtZT1cInZhbHVlMlwiIGFyaWEtZGVzY3JpYmVkYnk9XCJpbnB1dERlc2NyaXB0aW9uMlwiIG5nLW1vZGVsPVwibW9kZWwudmFsdWUyXCJcbiAgICogICAgICAgICAgICAgICAgICBuZy1rZXlkb3duPVwic2V0RW1wdHkoJGV2ZW50LCAndmFsdWUyJywgdHJ1ZSlcIj5cbiAgICogICAgICAgICAgIHZhbHVlMjogXCJ7eyBtb2RlbC52YWx1ZTIgfX1cIlxuICAgKiAgICAgICAgIDwvZGl2PlxuICAgKiAgICAgICA8L2Zvcm0+XG4gICAqICAgICA8L2Rpdj5cbiAgICogICA8L2ZpbGU+XG4gICAgICAgPGZpbGUgbmFtZT1cInN0eWxlLmNzc1wiPlxuICAgICAgICAgIGRpdiB7XG4gICAgICAgICAgICBkaXNwbGF5OiB0YWJsZS1jZWxsO1xuICAgICAgICAgIH1cbiAgICAgICAgICBkaXY6bnRoLWNoaWxkKDEpIHtcbiAgICAgICAgICAgIHBhZGRpbmctcmlnaHQ6IDMwcHg7XG4gICAgICAgICAgfVxuXG4gICAgICAgIDwvZmlsZT5cbiAgICogPC9leGFtcGxlPlxuICAgKi9cbiAgJHJvbGxiYWNrVmlld1ZhbHVlOiBmdW5jdGlvbigpIHtcbiAgICB0aGlzLiQkdGltZW91dC5jYW5jZWwodGhpcy4kJHBlbmRpbmdEZWJvdW5jZSk7XG4gICAgdGhpcy4kdmlld1ZhbHVlID0gdGhpcy4kJGxhc3RDb21taXR0ZWRWaWV3VmFsdWU7XG4gICAgdGhpcy4kcmVuZGVyKCk7XG4gIH0sXG5cbiAgLyoqXG4gICAqIEBuZ2RvYyBtZXRob2RcbiAgICogQG5hbWUgbmdNb2RlbC5OZ01vZGVsQ29udHJvbGxlciMkdmFsaWRhdGVcbiAgICpcbiAgICogQGRlc2NyaXB0aW9uXG4gICAqIFJ1bnMgZWFjaCBvZiB0aGUgcmVnaXN0ZXJlZCB2YWxpZGF0b3JzIChmaXJzdCBzeW5jaHJvbm91cyB2YWxpZGF0b3JzIGFuZCB0aGVuXG4gICAqIGFzeW5jaHJvbm91cyB2YWxpZGF0b3JzKS5cbiAgICogSWYgdGhlIHZhbGlkaXR5IGNoYW5nZXMgdG8gaW52YWxpZCwgdGhlIG1vZGVsIHdpbGwgYmUgc2V0IHRvIGB1bmRlZmluZWRgLFxuICAgKiB1bmxlc3Mge0BsaW5rIG5nTW9kZWxPcHRpb25zIGBuZ01vZGVsT3B0aW9ucy5hbGxvd0ludmFsaWRgfSBpcyBgdHJ1ZWAuXG4gICAqIElmIHRoZSB2YWxpZGl0eSBjaGFuZ2VzIHRvIHZhbGlkLCBpdCB3aWxsIHNldCB0aGUgbW9kZWwgdG8gdGhlIGxhc3QgYXZhaWxhYmxlIHZhbGlkXG4gICAqIGAkbW9kZWxWYWx1ZWAsIGkuZS4gZWl0aGVyIHRoZSBsYXN0IHBhcnNlZCB2YWx1ZSBvciB0aGUgbGFzdCB2YWx1ZSBzZXQgZnJvbSB0aGUgc2NvcGUuXG4gICAqL1xuICAkdmFsaWRhdGU6IGZ1bmN0aW9uKCkge1xuICAgIC8vIGlnbm9yZSAkdmFsaWRhdGUgYmVmb3JlIG1vZGVsIGlzIGluaXRpYWxpemVkXG4gICAgaWYgKGlzTnVtYmVyTmFOKHRoaXMuJG1vZGVsVmFsdWUpKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgdmFyIHZpZXdWYWx1ZSA9IHRoaXMuJCRsYXN0Q29tbWl0dGVkVmlld1ZhbHVlO1xuICAgIC8vIE5vdGU6IHdlIHVzZSB0aGUgJCRyYXdNb2RlbFZhbHVlIGFzICRtb2RlbFZhbHVlIG1pZ2h0IGhhdmUgYmVlblxuICAgIC8vIHNldCB0byB1bmRlZmluZWQgZHVyaW5nIGEgdmlldyAtPiBtb2RlbCB1cGRhdGUgdGhhdCBmb3VuZCB2YWxpZGF0aW9uXG4gICAgLy8gZXJyb3JzLiBXZSBjYW4ndCBwYXJzZSB0aGUgdmlldyBoZXJlLCBzaW5jZSB0aGF0IGNvdWxkIGNoYW5nZVxuICAgIC8vIHRoZSBtb2RlbCBhbHRob3VnaCBuZWl0aGVyIHZpZXdWYWx1ZSBub3IgdGhlIG1vZGVsIG9uIHRoZSBzY29wZSBjaGFuZ2VkXG4gICAgdmFyIG1vZGVsVmFsdWUgPSB0aGlzLiQkcmF3TW9kZWxWYWx1ZTtcblxuICAgIHZhciBwcmV2VmFsaWQgPSB0aGlzLiR2YWxpZDtcbiAgICB2YXIgcHJldk1vZGVsVmFsdWUgPSB0aGlzLiRtb2RlbFZhbHVlO1xuXG4gICAgdmFyIGFsbG93SW52YWxpZCA9IHRoaXMuJG9wdGlvbnMuZ2V0T3B0aW9uKCdhbGxvd0ludmFsaWQnKTtcblxuICAgIHZhciB0aGF0ID0gdGhpcztcbiAgICB0aGlzLiQkcnVuVmFsaWRhdG9ycyhtb2RlbFZhbHVlLCB2aWV3VmFsdWUsIGZ1bmN0aW9uKGFsbFZhbGlkKSB7XG4gICAgICAvLyBJZiB0aGVyZSB3YXMgbm8gY2hhbmdlIGluIHZhbGlkaXR5LCBkb24ndCB1cGRhdGUgdGhlIG1vZGVsXG4gICAgICAvLyBUaGlzIHByZXZlbnRzIGNoYW5naW5nIGFuIGludmFsaWQgbW9kZWxWYWx1ZSB0byB1bmRlZmluZWRcbiAgICAgIGlmICghYWxsb3dJbnZhbGlkICYmIHByZXZWYWxpZCAhPT0gYWxsVmFsaWQpIHtcbiAgICAgICAgLy8gTm90ZTogRG9uJ3QgY2hlY2sgdGhpcy4kdmFsaWQgaGVyZSwgYXMgd2UgY291bGQgaGF2ZVxuICAgICAgICAvLyBleHRlcm5hbCB2YWxpZGF0b3JzIChlLmcuIGNhbGN1bGF0ZWQgb24gdGhlIHNlcnZlciksXG4gICAgICAgIC8vIHRoYXQganVzdCBjYWxsICRzZXRWYWxpZGl0eSBhbmQgbmVlZCB0aGUgbW9kZWwgdmFsdWVcbiAgICAgICAgLy8gdG8gY2FsY3VsYXRlIHRoZWlyIHZhbGlkaXR5LlxuICAgICAgICB0aGF0LiRtb2RlbFZhbHVlID0gYWxsVmFsaWQgPyBtb2RlbFZhbHVlIDogdW5kZWZpbmVkO1xuXG4gICAgICAgIGlmICh0aGF0LiRtb2RlbFZhbHVlICE9PSBwcmV2TW9kZWxWYWx1ZSkge1xuICAgICAgICAgIHRoYXQuJCR3cml0ZU1vZGVsVG9TY29wZSgpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSk7XG4gIH0sXG5cbiAgJCRydW5WYWxpZGF0b3JzOiBmdW5jdGlvbihtb2RlbFZhbHVlLCB2aWV3VmFsdWUsIGRvbmVDYWxsYmFjaykge1xuICAgIHRoaXMuJCRjdXJyZW50VmFsaWRhdGlvblJ1bklkKys7XG4gICAgdmFyIGxvY2FsVmFsaWRhdGlvblJ1bklkID0gdGhpcy4kJGN1cnJlbnRWYWxpZGF0aW9uUnVuSWQ7XG4gICAgdmFyIHRoYXQgPSB0aGlzO1xuXG4gICAgLy8gY2hlY2sgcGFyc2VyIGVycm9yXG4gICAgaWYgKCFwcm9jZXNzUGFyc2VFcnJvcnMoKSkge1xuICAgICAgdmFsaWRhdGlvbkRvbmUoZmFsc2UpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBpZiAoIXByb2Nlc3NTeW5jVmFsaWRhdG9ycygpKSB7XG4gICAgICB2YWxpZGF0aW9uRG9uZShmYWxzZSk7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIHByb2Nlc3NBc3luY1ZhbGlkYXRvcnMoKTtcblxuICAgIGZ1bmN0aW9uIHByb2Nlc3NQYXJzZUVycm9ycygpIHtcbiAgICAgIHZhciBlcnJvcktleSA9IHRoYXQuJCRwYXJzZXJOYW1lIHx8ICdwYXJzZSc7XG4gICAgICBpZiAoaXNVbmRlZmluZWQodGhhdC4kJHBhcnNlclZhbGlkKSkge1xuICAgICAgICBzZXRWYWxpZGl0eShlcnJvcktleSwgbnVsbCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBpZiAoIXRoYXQuJCRwYXJzZXJWYWxpZCkge1xuICAgICAgICAgIGZvckVhY2godGhhdC4kdmFsaWRhdG9ycywgZnVuY3Rpb24odiwgbmFtZSkge1xuICAgICAgICAgICAgc2V0VmFsaWRpdHkobmFtZSwgbnVsbCk7XG4gICAgICAgICAgfSk7XG4gICAgICAgICAgZm9yRWFjaCh0aGF0LiRhc3luY1ZhbGlkYXRvcnMsIGZ1bmN0aW9uKHYsIG5hbWUpIHtcbiAgICAgICAgICAgIHNldFZhbGlkaXR5KG5hbWUsIG51bGwpO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIC8vIFNldCB0aGUgcGFyc2UgZXJyb3IgbGFzdCwgdG8gcHJldmVudCB1bnNldHRpbmcgaXQsIHNob3VsZCBhICR2YWxpZGF0b3JzIGtleSA9PSBwYXJzZXJOYW1lXG4gICAgICAgIHNldFZhbGlkaXR5KGVycm9yS2V5LCB0aGF0LiQkcGFyc2VyVmFsaWQpO1xuICAgICAgICByZXR1cm4gdGhhdC4kJHBhcnNlclZhbGlkO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gcHJvY2Vzc1N5bmNWYWxpZGF0b3JzKCkge1xuICAgICAgdmFyIHN5bmNWYWxpZGF0b3JzVmFsaWQgPSB0cnVlO1xuICAgICAgZm9yRWFjaCh0aGF0LiR2YWxpZGF0b3JzLCBmdW5jdGlvbih2YWxpZGF0b3IsIG5hbWUpIHtcbiAgICAgICAgdmFyIHJlc3VsdCA9IEJvb2xlYW4odmFsaWRhdG9yKG1vZGVsVmFsdWUsIHZpZXdWYWx1ZSkpO1xuICAgICAgICBzeW5jVmFsaWRhdG9yc1ZhbGlkID0gc3luY1ZhbGlkYXRvcnNWYWxpZCAmJiByZXN1bHQ7XG4gICAgICAgIHNldFZhbGlkaXR5KG5hbWUsIHJlc3VsdCk7XG4gICAgICB9KTtcbiAgICAgIGlmICghc3luY1ZhbGlkYXRvcnNWYWxpZCkge1xuICAgICAgICBmb3JFYWNoKHRoYXQuJGFzeW5jVmFsaWRhdG9ycywgZnVuY3Rpb24odiwgbmFtZSkge1xuICAgICAgICAgIHNldFZhbGlkaXR5KG5hbWUsIG51bGwpO1xuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gcHJvY2Vzc0FzeW5jVmFsaWRhdG9ycygpIHtcbiAgICAgIHZhciB2YWxpZGF0b3JQcm9taXNlcyA9IFtdO1xuICAgICAgdmFyIGFsbFZhbGlkID0gdHJ1ZTtcbiAgICAgIGZvckVhY2godGhhdC4kYXN5bmNWYWxpZGF0b3JzLCBmdW5jdGlvbih2YWxpZGF0b3IsIG5hbWUpIHtcbiAgICAgICAgdmFyIHByb21pc2UgPSB2YWxpZGF0b3IobW9kZWxWYWx1ZSwgdmlld1ZhbHVlKTtcbiAgICAgICAgaWYgKCFpc1Byb21pc2VMaWtlKHByb21pc2UpKSB7XG4gICAgICAgICAgdGhyb3cgbmdNb2RlbE1pbkVycignbm9wcm9taXNlJyxcbiAgICAgICAgICAgICdFeHBlY3RlZCBhc3luY2hyb25vdXMgdmFsaWRhdG9yIHRvIHJldHVybiBhIHByb21pc2UgYnV0IGdvdCBcXCd7MH1cXCcgaW5zdGVhZC4nLCBwcm9taXNlKTtcbiAgICAgICAgfVxuICAgICAgICBzZXRWYWxpZGl0eShuYW1lLCB1bmRlZmluZWQpO1xuICAgICAgICB2YWxpZGF0b3JQcm9taXNlcy5wdXNoKHByb21pc2UudGhlbihmdW5jdGlvbigpIHtcbiAgICAgICAgICBzZXRWYWxpZGl0eShuYW1lLCB0cnVlKTtcbiAgICAgICAgfSwgZnVuY3Rpb24oKSB7XG4gICAgICAgICAgYWxsVmFsaWQgPSBmYWxzZTtcbiAgICAgICAgICBzZXRWYWxpZGl0eShuYW1lLCBmYWxzZSk7XG4gICAgICAgIH0pKTtcbiAgICAgIH0pO1xuICAgICAgaWYgKCF2YWxpZGF0b3JQcm9taXNlcy5sZW5ndGgpIHtcbiAgICAgICAgdmFsaWRhdGlvbkRvbmUodHJ1ZSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGF0LiQkcS5hbGwodmFsaWRhdG9yUHJvbWlzZXMpLnRoZW4oZnVuY3Rpb24oKSB7XG4gICAgICAgICAgdmFsaWRhdGlvbkRvbmUoYWxsVmFsaWQpO1xuICAgICAgICB9LCBub29wKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBmdW5jdGlvbiBzZXRWYWxpZGl0eShuYW1lLCBpc1ZhbGlkKSB7XG4gICAgICBpZiAobG9jYWxWYWxpZGF0aW9uUnVuSWQgPT09IHRoYXQuJCRjdXJyZW50VmFsaWRhdGlvblJ1bklkKSB7XG4gICAgICAgIHRoYXQuJHNldFZhbGlkaXR5KG5hbWUsIGlzVmFsaWQpO1xuICAgICAgfVxuICAgIH1cblxuICAgIGZ1bmN0aW9uIHZhbGlkYXRpb25Eb25lKGFsbFZhbGlkKSB7XG4gICAgICBpZiAobG9jYWxWYWxpZGF0aW9uUnVuSWQgPT09IHRoYXQuJCRjdXJyZW50VmFsaWRhdGlvblJ1bklkKSB7XG5cbiAgICAgICAgZG9uZUNhbGxiYWNrKGFsbFZhbGlkKTtcbiAgICAgIH1cbiAgICB9XG4gIH0sXG5cbiAgLyoqXG4gICAqIEBuZ2RvYyBtZXRob2RcbiAgICogQG5hbWUgbmdNb2RlbC5OZ01vZGVsQ29udHJvbGxlciMkY29tbWl0Vmlld1ZhbHVlXG4gICAqXG4gICAqIEBkZXNjcmlwdGlvblxuICAgKiBDb21taXQgYSBwZW5kaW5nIHVwZGF0ZSB0byB0aGUgYCRtb2RlbFZhbHVlYC5cbiAgICpcbiAgICogVXBkYXRlcyBtYXkgYmUgcGVuZGluZyBieSBhIGRlYm91bmNlZCBldmVudCBvciBiZWNhdXNlIHRoZSBpbnB1dCBpcyB3YWl0aW5nIGZvciBhIHNvbWUgZnV0dXJlXG4gICAqIGV2ZW50IGRlZmluZWQgaW4gYG5nLW1vZGVsLW9wdGlvbnNgLiB0aGlzIG1ldGhvZCBpcyByYXJlbHkgbmVlZGVkIGFzIGBOZ01vZGVsQ29udHJvbGxlcmBcbiAgICogdXN1YWxseSBoYW5kbGVzIGNhbGxpbmcgdGhpcyBpbiByZXNwb25zZSB0byBpbnB1dCBldmVudHMuXG4gICAqL1xuICAkY29tbWl0Vmlld1ZhbHVlOiBmdW5jdGlvbigpIHtcbiAgICB2YXIgdmlld1ZhbHVlID0gdGhpcy4kdmlld1ZhbHVlO1xuXG4gICAgdGhpcy4kJHRpbWVvdXQuY2FuY2VsKHRoaXMuJCRwZW5kaW5nRGVib3VuY2UpO1xuXG4gICAgLy8gSWYgdGhlIHZpZXcgdmFsdWUgaGFzIG5vdCBjaGFuZ2VkIHRoZW4gd2Ugc2hvdWxkIGp1c3QgZXhpdCwgZXhjZXB0IGluIHRoZSBjYXNlIHdoZXJlIHRoZXJlIGlzXG4gICAgLy8gYSBuYXRpdmUgdmFsaWRhdG9yIG9uIHRoZSBlbGVtZW50LiBJbiB0aGlzIGNhc2UgdGhlIHZhbGlkYXRpb24gc3RhdGUgbWF5IGhhdmUgY2hhbmdlZCBldmVuIHRob3VnaFxuICAgIC8vIHRoZSB2aWV3VmFsdWUgaGFzIHN0YXllZCBlbXB0eS5cbiAgICBpZiAodGhpcy4kJGxhc3RDb21taXR0ZWRWaWV3VmFsdWUgPT09IHZpZXdWYWx1ZSAmJiAodmlld1ZhbHVlICE9PSAnJyB8fCAhdGhpcy4kJGhhc05hdGl2ZVZhbGlkYXRvcnMpKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIHRoaXMuJCR1cGRhdGVFbXB0eUNsYXNzZXModmlld1ZhbHVlKTtcbiAgICB0aGlzLiQkbGFzdENvbW1pdHRlZFZpZXdWYWx1ZSA9IHZpZXdWYWx1ZTtcblxuICAgIC8vIGNoYW5nZSB0byBkaXJ0eVxuICAgIGlmICh0aGlzLiRwcmlzdGluZSkge1xuICAgICAgdGhpcy4kc2V0RGlydHkoKTtcbiAgICB9XG4gICAgdGhpcy4kJHBhcnNlQW5kVmFsaWRhdGUoKTtcbiAgfSxcblxuICAkJHBhcnNlQW5kVmFsaWRhdGU6IGZ1bmN0aW9uKCkge1xuICAgIHZhciB2aWV3VmFsdWUgPSB0aGlzLiQkbGFzdENvbW1pdHRlZFZpZXdWYWx1ZTtcbiAgICB2YXIgbW9kZWxWYWx1ZSA9IHZpZXdWYWx1ZTtcbiAgICB2YXIgdGhhdCA9IHRoaXM7XG5cbiAgICB0aGlzLiQkcGFyc2VyVmFsaWQgPSBpc1VuZGVmaW5lZChtb2RlbFZhbHVlKSA/IHVuZGVmaW5lZCA6IHRydWU7XG5cbiAgICBpZiAodGhpcy4kJHBhcnNlclZhbGlkKSB7XG4gICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMuJHBhcnNlcnMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgbW9kZWxWYWx1ZSA9IHRoaXMuJHBhcnNlcnNbaV0obW9kZWxWYWx1ZSk7XG4gICAgICAgIGlmIChpc1VuZGVmaW5lZChtb2RlbFZhbHVlKSkge1xuICAgICAgICAgIHRoaXMuJCRwYXJzZXJWYWxpZCA9IGZhbHNlO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIGlmIChpc051bWJlck5hTih0aGlzLiRtb2RlbFZhbHVlKSkge1xuICAgICAgLy8gdGhpcy4kbW9kZWxWYWx1ZSBoYXMgbm90IGJlZW4gdG91Y2hlZCB5ZXQuLi5cbiAgICAgIHRoaXMuJG1vZGVsVmFsdWUgPSB0aGlzLiQkbmdNb2RlbEdldCh0aGlzLiQkc2NvcGUpO1xuICAgIH1cbiAgICB2YXIgcHJldk1vZGVsVmFsdWUgPSB0aGlzLiRtb2RlbFZhbHVlO1xuICAgIHZhciBhbGxvd0ludmFsaWQgPSB0aGlzLiRvcHRpb25zLmdldE9wdGlvbignYWxsb3dJbnZhbGlkJyk7XG4gICAgdGhpcy4kJHJhd01vZGVsVmFsdWUgPSBtb2RlbFZhbHVlO1xuXG4gICAgaWYgKGFsbG93SW52YWxpZCkge1xuICAgICAgdGhpcy4kbW9kZWxWYWx1ZSA9IG1vZGVsVmFsdWU7XG4gICAgICB3cml0ZVRvTW9kZWxJZk5lZWRlZCgpO1xuICAgIH1cblxuICAgIC8vIFBhc3MgdGhlICQkbGFzdENvbW1pdHRlZFZpZXdWYWx1ZSBoZXJlLCBiZWNhdXNlIHRoZSBjYWNoZWQgdmlld1ZhbHVlIG1pZ2h0IGJlIG91dCBvZiBkYXRlLlxuICAgIC8vIFRoaXMgY2FuIGhhcHBlbiBpZiBlLmcuICRzZXRWaWV3VmFsdWUgaXMgY2FsbGVkIGZyb20gaW5zaWRlIGEgcGFyc2VyXG4gICAgdGhpcy4kJHJ1blZhbGlkYXRvcnMobW9kZWxWYWx1ZSwgdGhpcy4kJGxhc3RDb21taXR0ZWRWaWV3VmFsdWUsIGZ1bmN0aW9uKGFsbFZhbGlkKSB7XG4gICAgICBpZiAoIWFsbG93SW52YWxpZCkge1xuICAgICAgICAvLyBOb3RlOiBEb24ndCBjaGVjayB0aGlzLiR2YWxpZCBoZXJlLCBhcyB3ZSBjb3VsZCBoYXZlXG4gICAgICAgIC8vIGV4dGVybmFsIHZhbGlkYXRvcnMgKGUuZy4gY2FsY3VsYXRlZCBvbiB0aGUgc2VydmVyKSxcbiAgICAgICAgLy8gdGhhdCBqdXN0IGNhbGwgJHNldFZhbGlkaXR5IGFuZCBuZWVkIHRoZSBtb2RlbCB2YWx1ZVxuICAgICAgICAvLyB0byBjYWxjdWxhdGUgdGhlaXIgdmFsaWRpdHkuXG4gICAgICAgIHRoYXQuJG1vZGVsVmFsdWUgPSBhbGxWYWxpZCA/IG1vZGVsVmFsdWUgOiB1bmRlZmluZWQ7XG4gICAgICAgIHdyaXRlVG9Nb2RlbElmTmVlZGVkKCk7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICBmdW5jdGlvbiB3cml0ZVRvTW9kZWxJZk5lZWRlZCgpIHtcbiAgICAgIGlmICh0aGF0LiRtb2RlbFZhbHVlICE9PSBwcmV2TW9kZWxWYWx1ZSkge1xuICAgICAgICB0aGF0LiQkd3JpdGVNb2RlbFRvU2NvcGUoKTtcbiAgICAgIH1cbiAgICB9XG4gIH0sXG5cbiAgJCR3cml0ZU1vZGVsVG9TY29wZTogZnVuY3Rpb24oKSB7XG4gICAgdGhpcy4kJG5nTW9kZWxTZXQodGhpcy4kJHNjb3BlLCB0aGlzLiRtb2RlbFZhbHVlKTtcbiAgICBmb3JFYWNoKHRoaXMuJHZpZXdDaGFuZ2VMaXN0ZW5lcnMsIGZ1bmN0aW9uKGxpc3RlbmVyKSB7XG4gICAgICB0cnkge1xuICAgICAgICBsaXN0ZW5lcigpO1xuICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8taW52YWxpZC10aGlzXG4gICAgICAgIHRoaXMuJCRleGNlcHRpb25IYW5kbGVyKGUpO1xuICAgICAgfVxuICAgIH0sIHRoaXMpO1xuICB9LFxuXG4gIC8qKlxuICAgKiBAbmdkb2MgbWV0aG9kXG4gICAqIEBuYW1lIG5nTW9kZWwuTmdNb2RlbENvbnRyb2xsZXIjJHNldFZpZXdWYWx1ZVxuICAgKlxuICAgKiBAZGVzY3JpcHRpb25cbiAgICogVXBkYXRlIHRoZSB2aWV3IHZhbHVlLlxuICAgKlxuICAgKiBUaGlzIG1ldGhvZCBzaG91bGQgYmUgY2FsbGVkIHdoZW4gYSBjb250cm9sIHdhbnRzIHRvIGNoYW5nZSB0aGUgdmlldyB2YWx1ZTsgdHlwaWNhbGx5LFxuICAgKiB0aGlzIGlzIGRvbmUgZnJvbSB3aXRoaW4gYSBET00gZXZlbnQgaGFuZGxlci4gRm9yIGV4YW1wbGUsIHRoZSB7QGxpbmsgbmcuZGlyZWN0aXZlOmlucHV0IGlucHV0fVxuICAgKiBkaXJlY3RpdmUgY2FsbHMgaXQgd2hlbiB0aGUgdmFsdWUgb2YgdGhlIGlucHV0IGNoYW5nZXMgYW5kIHtAbGluayBuZy5kaXJlY3RpdmU6c2VsZWN0IHNlbGVjdH1cbiAgICogY2FsbHMgaXQgd2hlbiBhbiBvcHRpb24gaXMgc2VsZWN0ZWQuXG4gICAqXG4gICAqIFdoZW4gYCRzZXRWaWV3VmFsdWVgIGlzIGNhbGxlZCwgdGhlIG5ldyBgdmFsdWVgIHdpbGwgYmUgc3RhZ2VkIGZvciBjb21taXR0aW5nIHRocm91Z2ggdGhlIGAkcGFyc2Vyc2BcbiAgICogYW5kIGAkdmFsaWRhdG9yc2AgcGlwZWxpbmVzLiBJZiB0aGVyZSBhcmUgbm8gc3BlY2lhbCB7QGxpbmsgbmdNb2RlbE9wdGlvbnN9IHNwZWNpZmllZCB0aGVuIHRoZSBzdGFnZWRcbiAgICogdmFsdWUgaXMgc2VudCBkaXJlY3RseSBmb3IgcHJvY2Vzc2luZyB0aHJvdWdoIHRoZSBgJHBhcnNlcnNgIHBpcGVsaW5lLiBBZnRlciB0aGlzLCB0aGUgYCR2YWxpZGF0b3JzYCBhbmRcbiAgICogYCRhc3luY1ZhbGlkYXRvcnNgIGFyZSBjYWxsZWQgYW5kIHRoZSB2YWx1ZSBpcyBhcHBsaWVkIHRvIGAkbW9kZWxWYWx1ZWAuXG4gICAqIEZpbmFsbHksIHRoZSB2YWx1ZSBpcyBzZXQgdG8gdGhlICoqZXhwcmVzc2lvbioqIHNwZWNpZmllZCBpbiB0aGUgYG5nLW1vZGVsYCBhdHRyaWJ1dGUgYW5kXG4gICAqIGFsbCB0aGUgcmVnaXN0ZXJlZCBjaGFuZ2UgbGlzdGVuZXJzLCBpbiB0aGUgYCR2aWV3Q2hhbmdlTGlzdGVuZXJzYCBsaXN0IGFyZSBjYWxsZWQuXG4gICAqXG4gICAqIEluIGNhc2UgdGhlIHtAbGluayBuZy5kaXJlY3RpdmU6bmdNb2RlbE9wdGlvbnMgbmdNb2RlbE9wdGlvbnN9IGRpcmVjdGl2ZSBpcyB1c2VkIHdpdGggYHVwZGF0ZU9uYFxuICAgKiBhbmQgdGhlIGBkZWZhdWx0YCB0cmlnZ2VyIGlzIG5vdCBsaXN0ZWQsIGFsbCB0aG9zZSBhY3Rpb25zIHdpbGwgcmVtYWluIHBlbmRpbmcgdW50aWwgb25lIG9mIHRoZVxuICAgKiBgdXBkYXRlT25gIGV2ZW50cyBpcyB0cmlnZ2VyZWQgb24gdGhlIERPTSBlbGVtZW50LlxuICAgKiBBbGwgdGhlc2UgYWN0aW9ucyB3aWxsIGJlIGRlYm91bmNlZCBpZiB0aGUge0BsaW5rIG5nLmRpcmVjdGl2ZTpuZ01vZGVsT3B0aW9ucyBuZ01vZGVsT3B0aW9uc31cbiAgICogZGlyZWN0aXZlIGlzIHVzZWQgd2l0aCBhIGN1c3RvbSBkZWJvdW5jZSBmb3IgdGhpcyBwYXJ0aWN1bGFyIGV2ZW50LlxuICAgKiBOb3RlIHRoYXQgYSBgJGRpZ2VzdGAgaXMgb25seSB0cmlnZ2VyZWQgb25jZSB0aGUgYHVwZGF0ZU9uYCBldmVudHMgYXJlIGZpcmVkLCBvciBpZiBgZGVib3VuY2VgXG4gICAqIGlzIHNwZWNpZmllZCwgb25jZSB0aGUgdGltZXIgcnVucyBvdXQuXG4gICAqXG4gICAqIFdoZW4gdXNlZCB3aXRoIHN0YW5kYXJkIGlucHV0cywgdGhlIHZpZXcgdmFsdWUgd2lsbCBhbHdheXMgYmUgYSBzdHJpbmcgKHdoaWNoIGlzIGluIHNvbWUgY2FzZXNcbiAgICogcGFyc2VkIGludG8gYW5vdGhlciB0eXBlLCBzdWNoIGFzIGEgYERhdGVgIG9iamVjdCBmb3IgYGlucHV0W2RhdGVdYC4pXG4gICAqIEhvd2V2ZXIsIGN1c3RvbSBjb250cm9scyBtaWdodCBhbHNvIHBhc3Mgb2JqZWN0cyB0byB0aGlzIG1ldGhvZC4gSW4gdGhpcyBjYXNlLCB3ZSBzaG91bGQgbWFrZVxuICAgKiBhIGNvcHkgb2YgdGhlIG9iamVjdCBiZWZvcmUgcGFzc2luZyBpdCB0byBgJHNldFZpZXdWYWx1ZWAuIFRoaXMgaXMgYmVjYXVzZSBgbmdNb2RlbGAgZG9lcyBub3RcbiAgICogcGVyZm9ybSBhIGRlZXAgd2F0Y2ggb2Ygb2JqZWN0cywgaXQgb25seSBsb29rcyBmb3IgYSBjaGFuZ2Ugb2YgaWRlbnRpdHkuIElmIHlvdSBvbmx5IGNoYW5nZVxuICAgKiB0aGUgcHJvcGVydHkgb2YgdGhlIG9iamVjdCB0aGVuIG5nTW9kZWwgd2lsbCBub3QgcmVhbGl6ZSB0aGF0IHRoZSBvYmplY3QgaGFzIGNoYW5nZWQgYW5kXG4gICAqIHdpbGwgbm90IGludm9rZSB0aGUgYCRwYXJzZXJzYCBhbmQgYCR2YWxpZGF0b3JzYCBwaXBlbGluZXMuIEZvciB0aGlzIHJlYXNvbiwgeW91IHNob3VsZFxuICAgKiBub3QgY2hhbmdlIHByb3BlcnRpZXMgb2YgdGhlIGNvcHkgb25jZSBpdCBoYXMgYmVlbiBwYXNzZWQgdG8gYCRzZXRWaWV3VmFsdWVgLlxuICAgKiBPdGhlcndpc2UgeW91IG1heSBjYXVzZSB0aGUgbW9kZWwgdmFsdWUgb24gdGhlIHNjb3BlIHRvIGNoYW5nZSBpbmNvcnJlY3RseS5cbiAgICpcbiAgICogPGRpdiBjbGFzcz1cImFsZXJ0IGFsZXJ0LWluZm9cIj5cbiAgICogSW4gYW55IGNhc2UsIHRoZSB2YWx1ZSBwYXNzZWQgdG8gdGhlIG1ldGhvZCBzaG91bGQgYWx3YXlzIHJlZmxlY3QgdGhlIGN1cnJlbnQgdmFsdWVcbiAgICogb2YgdGhlIGNvbnRyb2wuIEZvciBleGFtcGxlLCBpZiB5b3UgYXJlIGNhbGxpbmcgYCRzZXRWaWV3VmFsdWVgIGZvciBhbiBpbnB1dCBlbGVtZW50LFxuICAgKiB5b3Ugc2hvdWxkIHBhc3MgdGhlIGlucHV0IERPTSB2YWx1ZS4gT3RoZXJ3aXNlLCB0aGUgY29udHJvbCBhbmQgdGhlIHNjb3BlIG1vZGVsIGJlY29tZVxuICAgKiBvdXQgb2Ygc3luYy4gSXQncyBhbHNvIGltcG9ydGFudCB0byBub3RlIHRoYXQgYCRzZXRWaWV3VmFsdWVgIGRvZXMgbm90IGNhbGwgYCRyZW5kZXJgIG9yIGNoYW5nZVxuICAgKiB0aGUgY29udHJvbCdzIERPTSB2YWx1ZSBpbiBhbnkgd2F5LiBJZiB3ZSB3YW50IHRvIGNoYW5nZSB0aGUgY29udHJvbCdzIERPTSB2YWx1ZVxuICAgKiBwcm9ncmFtbWF0aWNhbGx5LCB3ZSBzaG91bGQgdXBkYXRlIHRoZSBgbmdNb2RlbGAgc2NvcGUgZXhwcmVzc2lvbi4gSXRzIG5ldyB2YWx1ZSB3aWxsIGJlXG4gICAqIHBpY2tlZCB1cCBieSB0aGUgbW9kZWwgY29udHJvbGxlciwgd2hpY2ggd2lsbCBydW4gaXQgdGhyb3VnaCB0aGUgYCRmb3JtYXR0ZXJzYCwgYCRyZW5kZXJgIGl0XG4gICAqIHRvIHVwZGF0ZSB0aGUgRE9NLCBhbmQgZmluYWxseSBjYWxsIGAkdmFsaWRhdGVgIG9uIGl0LlxuICAgKiA8L2Rpdj5cbiAgICpcbiAgICogQHBhcmFtIHsqfSB2YWx1ZSB2YWx1ZSBmcm9tIHRoZSB2aWV3LlxuICAgKiBAcGFyYW0ge3N0cmluZ30gdHJpZ2dlciBFdmVudCB0aGF0IHRyaWdnZXJlZCB0aGUgdXBkYXRlLlxuICAgKi9cbiAgJHNldFZpZXdWYWx1ZTogZnVuY3Rpb24odmFsdWUsIHRyaWdnZXIpIHtcbiAgICB0aGlzLiR2aWV3VmFsdWUgPSB2YWx1ZTtcbiAgICBpZiAodGhpcy4kb3B0aW9ucy5nZXRPcHRpb24oJ3VwZGF0ZU9uRGVmYXVsdCcpKSB7XG4gICAgICB0aGlzLiQkZGVib3VuY2VWaWV3VmFsdWVDb21taXQodHJpZ2dlcik7XG4gICAgfVxuICB9LFxuXG4gICQkZGVib3VuY2VWaWV3VmFsdWVDb21taXQ6IGZ1bmN0aW9uKHRyaWdnZXIpIHtcbiAgICB2YXIgZGVib3VuY2VEZWxheSA9IHRoaXMuJG9wdGlvbnMuZ2V0T3B0aW9uKCdkZWJvdW5jZScpO1xuXG4gICAgaWYgKGlzTnVtYmVyKGRlYm91bmNlRGVsYXlbdHJpZ2dlcl0pKSB7XG4gICAgICBkZWJvdW5jZURlbGF5ID0gZGVib3VuY2VEZWxheVt0cmlnZ2VyXTtcbiAgICB9IGVsc2UgaWYgKGlzTnVtYmVyKGRlYm91bmNlRGVsYXlbJ2RlZmF1bHQnXSkpIHtcbiAgICAgIGRlYm91bmNlRGVsYXkgPSBkZWJvdW5jZURlbGF5WydkZWZhdWx0J107XG4gICAgfVxuXG4gICAgdGhpcy4kJHRpbWVvdXQuY2FuY2VsKHRoaXMuJCRwZW5kaW5nRGVib3VuY2UpO1xuICAgIHZhciB0aGF0ID0gdGhpcztcbiAgICBpZiAoZGVib3VuY2VEZWxheSA+IDApIHsgLy8gdGhpcyBmYWlscyBpZiBkZWJvdW5jZURlbGF5IGlzIGFuIG9iamVjdFxuICAgICAgdGhpcy4kJHBlbmRpbmdEZWJvdW5jZSA9IHRoaXMuJCR0aW1lb3V0KGZ1bmN0aW9uKCkge1xuICAgICAgICB0aGF0LiRjb21taXRWaWV3VmFsdWUoKTtcbiAgICAgIH0sIGRlYm91bmNlRGVsYXkpO1xuICAgIH0gZWxzZSBpZiAodGhpcy4kJHNjb3BlLiRyb290LiQkcGhhc2UpIHtcbiAgICAgIHRoaXMuJGNvbW1pdFZpZXdWYWx1ZSgpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLiQkc2NvcGUuJGFwcGx5KGZ1bmN0aW9uKCkge1xuICAgICAgICB0aGF0LiRjb21taXRWaWV3VmFsdWUoKTtcbiAgICAgIH0pO1xuICAgIH1cbiAgfSxcblxuICAvKipcbiAgICogQG5nZG9jIG1ldGhvZFxuICAgKlxuICAgKiBAbmFtZSBuZ01vZGVsLk5nTW9kZWxDb250cm9sbGVyIyRvdmVycmlkZU1vZGVsT3B0aW9uc1xuICAgKlxuICAgKiBAZGVzY3JpcHRpb25cbiAgICpcbiAgICogT3ZlcnJpZGUgdGhlIGN1cnJlbnQgbW9kZWwgb3B0aW9ucyBzZXR0aW5ncyBwcm9ncmFtbWF0aWNhbGx5LlxuICAgKlxuICAgKiBUaGUgcHJldmlvdXMgYE1vZGVsT3B0aW9uc2AgdmFsdWUgd2lsbCBub3QgYmUgbW9kaWZpZWQuIEluc3RlYWQsIGFcbiAgICogbmV3IGBNb2RlbE9wdGlvbnNgIG9iamVjdCB3aWxsIGluaGVyaXQgZnJvbSB0aGUgcHJldmlvdXMgb25lIG92ZXJyaWRpbmdcbiAgICogb3IgaW5oZXJpdGluZyBzZXR0aW5ncyB0aGF0IGFyZSBkZWZpbmVkIGluIHRoZSBnaXZlbiBwYXJhbWV0ZXIuXG4gICAqXG4gICAqIFNlZSB7QGxpbmsgbmdNb2RlbE9wdGlvbnN9IGZvciBpbmZvcm1hdGlvbiBhYm91dCB3aGF0IG9wdGlvbnMgY2FuIGJlIHNwZWNpZmllZFxuICAgKiBhbmQgaG93IG1vZGVsIG9wdGlvbiBpbmhlcml0YW5jZSB3b3Jrcy5cbiAgICpcbiAgICogQHBhcmFtIHtPYmplY3R9IG9wdGlvbnMgYSBoYXNoIG9mIHNldHRpbmdzIHRvIG92ZXJyaWRlIHRoZSBwcmV2aW91cyBvcHRpb25zXG4gICAqXG4gICAqL1xuICAkb3ZlcnJpZGVNb2RlbE9wdGlvbnM6IGZ1bmN0aW9uKG9wdGlvbnMpIHtcbiAgICB0aGlzLiRvcHRpb25zID0gdGhpcy4kb3B0aW9ucy5jcmVhdGVDaGlsZChvcHRpb25zKTtcbiAgfVxufTtcblxuZnVuY3Rpb24gc2V0dXBNb2RlbFdhdGNoZXIoY3RybCkge1xuICAvLyBtb2RlbCAtPiB2YWx1ZVxuICAvLyBOb3RlOiB3ZSBjYW5ub3QgdXNlIGEgbm9ybWFsIHNjb3BlLiR3YXRjaCBhcyB3ZSB3YW50IHRvIGRldGVjdCB0aGUgZm9sbG93aW5nOlxuICAvLyAxLiBzY29wZSB2YWx1ZSBpcyAnYSdcbiAgLy8gMi4gdXNlciBlbnRlcnMgJ2InXG4gIC8vIDMuIG5nLWNoYW5nZSBraWNrcyBpbiBhbmQgcmV2ZXJ0cyBzY29wZSB2YWx1ZSB0byAnYSdcbiAgLy8gICAgLT4gc2NvcGUgdmFsdWUgZGlkIG5vdCBjaGFuZ2Ugc2luY2UgdGhlIGxhc3QgZGlnZXN0IGFzXG4gIC8vICAgICAgIG5nLWNoYW5nZSBleGVjdXRlcyBpbiBhcHBseSBwaGFzZVxuICAvLyA0LiB2aWV3IHNob3VsZCBiZSBjaGFuZ2VkIGJhY2sgdG8gJ2EnXG4gIGN0cmwuJCRzY29wZS4kd2F0Y2goZnVuY3Rpb24gbmdNb2RlbFdhdGNoKHNjb3BlKSB7XG4gICAgdmFyIG1vZGVsVmFsdWUgPSBjdHJsLiQkbmdNb2RlbEdldChzY29wZSk7XG5cbiAgICAvLyBpZiBzY29wZSBtb2RlbCB2YWx1ZSBhbmQgbmdNb2RlbCB2YWx1ZSBhcmUgb3V0IG9mIHN5bmNcbiAgICAvLyBUT0RPKHBlcmYpOiB3aHkgbm90IG1vdmUgdGhpcyB0byB0aGUgYWN0aW9uIGZuP1xuICAgIGlmIChtb2RlbFZhbHVlICE9PSBjdHJsLiRtb2RlbFZhbHVlICYmXG4gICAgICAgLy8gY2hlY2tzIGZvciBOYU4gaXMgbmVlZGVkIHRvIGFsbG93IHNldHRpbmcgdGhlIG1vZGVsIHRvIE5hTiB3aGVuIHRoZXJlJ3MgYW4gYXN5bmNWYWxpZGF0b3JcbiAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXNlbGYtY29tcGFyZVxuICAgICAgIChjdHJsLiRtb2RlbFZhbHVlID09PSBjdHJsLiRtb2RlbFZhbHVlIHx8IG1vZGVsVmFsdWUgPT09IG1vZGVsVmFsdWUpXG4gICAgKSB7XG4gICAgICBjdHJsLiRtb2RlbFZhbHVlID0gY3RybC4kJHJhd01vZGVsVmFsdWUgPSBtb2RlbFZhbHVlO1xuICAgICAgY3RybC4kJHBhcnNlclZhbGlkID0gdW5kZWZpbmVkO1xuXG4gICAgICB2YXIgZm9ybWF0dGVycyA9IGN0cmwuJGZvcm1hdHRlcnMsXG4gICAgICAgICAgaWR4ID0gZm9ybWF0dGVycy5sZW5ndGg7XG5cbiAgICAgIHZhciB2aWV3VmFsdWUgPSBtb2RlbFZhbHVlO1xuICAgICAgd2hpbGUgKGlkeC0tKSB7XG4gICAgICAgIHZpZXdWYWx1ZSA9IGZvcm1hdHRlcnNbaWR4XSh2aWV3VmFsdWUpO1xuICAgICAgfVxuICAgICAgaWYgKGN0cmwuJHZpZXdWYWx1ZSAhPT0gdmlld1ZhbHVlKSB7XG4gICAgICAgIGN0cmwuJCR1cGRhdGVFbXB0eUNsYXNzZXModmlld1ZhbHVlKTtcbiAgICAgICAgY3RybC4kdmlld1ZhbHVlID0gY3RybC4kJGxhc3RDb21taXR0ZWRWaWV3VmFsdWUgPSB2aWV3VmFsdWU7XG4gICAgICAgIGN0cmwuJHJlbmRlcigpO1xuXG4gICAgICAgIC8vIEl0IGlzIHBvc3NpYmxlIHRoYXQgbW9kZWwgYW5kIHZpZXcgdmFsdWUgaGF2ZSBiZWVuIHVwZGF0ZWQgZHVyaW5nIHJlbmRlclxuICAgICAgICBjdHJsLiQkcnVuVmFsaWRhdG9ycyhjdHJsLiRtb2RlbFZhbHVlLCBjdHJsLiR2aWV3VmFsdWUsIG5vb3ApO1xuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBtb2RlbFZhbHVlO1xuICB9KTtcbn1cblxuLyoqXG4gKiBAbmdkb2MgbWV0aG9kXG4gKiBAbmFtZSBuZ01vZGVsLk5nTW9kZWxDb250cm9sbGVyIyRzZXRWYWxpZGl0eVxuICpcbiAqIEBkZXNjcmlwdGlvblxuICogQ2hhbmdlIHRoZSB2YWxpZGl0eSBzdGF0ZSwgYW5kIG5vdGlmeSB0aGUgZm9ybS5cbiAqXG4gKiBUaGlzIG1ldGhvZCBjYW4gYmUgY2FsbGVkIHdpdGhpbiAkcGFyc2Vycy8kZm9ybWF0dGVycyBvciBhIGN1c3RvbSB2YWxpZGF0aW9uIGltcGxlbWVudGF0aW9uLlxuICogSG93ZXZlciwgaW4gbW9zdCBjYXNlcyBpdCBzaG91bGQgYmUgc3VmZmljaWVudCB0byB1c2UgdGhlIGBuZ01vZGVsLiR2YWxpZGF0b3JzYCBhbmRcbiAqIGBuZ01vZGVsLiRhc3luY1ZhbGlkYXRvcnNgIGNvbGxlY3Rpb25zIHdoaWNoIHdpbGwgY2FsbCBgJHNldFZhbGlkaXR5YCBhdXRvbWF0aWNhbGx5LlxuICpcbiAqIEBwYXJhbSB7c3RyaW5nfSB2YWxpZGF0aW9uRXJyb3JLZXkgTmFtZSBvZiB0aGUgdmFsaWRhdG9yLiBUaGUgYHZhbGlkYXRpb25FcnJvcktleWAgd2lsbCBiZSBhc3NpZ25lZFxuICogICAgICAgIHRvIGVpdGhlciBgJGVycm9yW3ZhbGlkYXRpb25FcnJvcktleV1gIG9yIGAkcGVuZGluZ1t2YWxpZGF0aW9uRXJyb3JLZXldYFxuICogICAgICAgIChmb3IgdW5mdWxmaWxsZWQgYCRhc3luY1ZhbGlkYXRvcnNgKSwgc28gdGhhdCBpdCBpcyBhdmFpbGFibGUgZm9yIGRhdGEtYmluZGluZy5cbiAqICAgICAgICBUaGUgYHZhbGlkYXRpb25FcnJvcktleWAgc2hvdWxkIGJlIGluIGNhbWVsQ2FzZSBhbmQgd2lsbCBnZXQgY29udmVydGVkIGludG8gZGFzaC1jYXNlXG4gKiAgICAgICAgZm9yIGNsYXNzIG5hbWUuIEV4YW1wbGU6IGBteUVycm9yYCB3aWxsIHJlc3VsdCBpbiBgbmctdmFsaWQtbXktZXJyb3JgIGFuZCBgbmctaW52YWxpZC1teS1lcnJvcmBcbiAqICAgICAgICBjbGFzcyBhbmQgY2FuIGJlIGJvdW5kIHRvIGFzICBge3tzb21lRm9ybS5zb21lQ29udHJvbC4kZXJyb3IubXlFcnJvcn19YCAuXG4gKiBAcGFyYW0ge2Jvb2xlYW59IGlzVmFsaWQgV2hldGhlciB0aGUgY3VycmVudCBzdGF0ZSBpcyB2YWxpZCAodHJ1ZSksIGludmFsaWQgKGZhbHNlKSwgcGVuZGluZyAodW5kZWZpbmVkKSxcbiAqICAgICAgICAgICAgICAgICAgICAgICAgICBvciBza2lwcGVkIChudWxsKS4gUGVuZGluZyBpcyB1c2VkIGZvciB1bmZ1bGZpbGxlZCBgJGFzeW5jVmFsaWRhdG9yc2AuXG4gKiAgICAgICAgICAgICAgICAgICAgICAgICAgU2tpcHBlZCBpcyB1c2VkIGJ5IEFuZ3VsYXIgd2hlbiB2YWxpZGF0b3JzIGRvIG5vdCBydW4gYmVjYXVzZSBvZiBwYXJzZSBlcnJvcnMgYW5kXG4gKiAgICAgICAgICAgICAgICAgICAgICAgICAgd2hlbiBgJGFzeW5jVmFsaWRhdG9yc2AgZG8gbm90IHJ1biBiZWNhdXNlIGFueSBvZiB0aGUgYCR2YWxpZGF0b3JzYCBmYWlsZWQuXG4gKi9cbmFkZFNldFZhbGlkaXR5TWV0aG9kKHtcbiAgY2xheno6IE5nTW9kZWxDb250cm9sbGVyLFxuICBzZXQ6IGZ1bmN0aW9uKG9iamVjdCwgcHJvcGVydHkpIHtcbiAgICBvYmplY3RbcHJvcGVydHldID0gdHJ1ZTtcbiAgfSxcbiAgdW5zZXQ6IGZ1bmN0aW9uKG9iamVjdCwgcHJvcGVydHkpIHtcbiAgICBkZWxldGUgb2JqZWN0W3Byb3BlcnR5XTtcbiAgfVxufSk7XG5cblxuLyoqXG4gKiBAbmdkb2MgZGlyZWN0aXZlXG4gKiBAbmFtZSBuZ01vZGVsXG4gKlxuICogQGVsZW1lbnQgaW5wdXRcbiAqIEBwcmlvcml0eSAxXG4gKlxuICogQGRlc2NyaXB0aW9uXG4gKiBUaGUgYG5nTW9kZWxgIGRpcmVjdGl2ZSBiaW5kcyBhbiBgaW5wdXRgLGBzZWxlY3RgLCBgdGV4dGFyZWFgIChvciBjdXN0b20gZm9ybSBjb250cm9sKSB0byBhXG4gKiBwcm9wZXJ0eSBvbiB0aGUgc2NvcGUgdXNpbmcge0BsaW5rIG5nTW9kZWwuTmdNb2RlbENvbnRyb2xsZXIgTmdNb2RlbENvbnRyb2xsZXJ9LFxuICogd2hpY2ggaXMgY3JlYXRlZCBhbmQgZXhwb3NlZCBieSB0aGlzIGRpcmVjdGl2ZS5cbiAqXG4gKiBgbmdNb2RlbGAgaXMgcmVzcG9uc2libGUgZm9yOlxuICpcbiAqIC0gQmluZGluZyB0aGUgdmlldyBpbnRvIHRoZSBtb2RlbCwgd2hpY2ggb3RoZXIgZGlyZWN0aXZlcyBzdWNoIGFzIGBpbnB1dGAsIGB0ZXh0YXJlYWAgb3IgYHNlbGVjdGBcbiAqICAgcmVxdWlyZS5cbiAqIC0gUHJvdmlkaW5nIHZhbGlkYXRpb24gYmVoYXZpb3IgKGkuZS4gcmVxdWlyZWQsIG51bWJlciwgZW1haWwsIHVybCkuXG4gKiAtIEtlZXBpbmcgdGhlIHN0YXRlIG9mIHRoZSBjb250cm9sICh2YWxpZC9pbnZhbGlkLCBkaXJ0eS9wcmlzdGluZSwgdG91Y2hlZC91bnRvdWNoZWQsIHZhbGlkYXRpb24gZXJyb3JzKS5cbiAqIC0gU2V0dGluZyByZWxhdGVkIGNzcyBjbGFzc2VzIG9uIHRoZSBlbGVtZW50IChgbmctdmFsaWRgLCBgbmctaW52YWxpZGAsIGBuZy1kaXJ0eWAsIGBuZy1wcmlzdGluZWAsIGBuZy10b3VjaGVkYCxcbiAqICAgYG5nLXVudG91Y2hlZGAsIGBuZy1lbXB0eWAsIGBuZy1ub3QtZW1wdHlgKSBpbmNsdWRpbmcgYW5pbWF0aW9ucy5cbiAqIC0gUmVnaXN0ZXJpbmcgdGhlIGNvbnRyb2wgd2l0aCBpdHMgcGFyZW50IHtAbGluayBuZy5kaXJlY3RpdmU6Zm9ybSBmb3JtfS5cbiAqXG4gKiBOb3RlOiBgbmdNb2RlbGAgd2lsbCB0cnkgdG8gYmluZCB0byB0aGUgcHJvcGVydHkgZ2l2ZW4gYnkgZXZhbHVhdGluZyB0aGUgZXhwcmVzc2lvbiBvbiB0aGVcbiAqIGN1cnJlbnQgc2NvcGUuIElmIHRoZSBwcm9wZXJ0eSBkb2Vzbid0IGFscmVhZHkgZXhpc3Qgb24gdGhpcyBzY29wZSwgaXQgd2lsbCBiZSBjcmVhdGVkXG4gKiBpbXBsaWNpdGx5IGFuZCBhZGRlZCB0byB0aGUgc2NvcGUuXG4gKlxuICogRm9yIGJlc3QgcHJhY3RpY2VzIG9uIHVzaW5nIGBuZ01vZGVsYCwgc2VlOlxuICpcbiAqICAtIFtVbmRlcnN0YW5kaW5nIFNjb3Blc10oaHR0cHM6Ly9naXRodWIuY29tL2FuZ3VsYXIvYW5ndWxhci5qcy93aWtpL1VuZGVyc3RhbmRpbmctU2NvcGVzKVxuICpcbiAqIEZvciBiYXNpYyBleGFtcGxlcywgaG93IHRvIHVzZSBgbmdNb2RlbGAsIHNlZTpcbiAqXG4gKiAgLSB7QGxpbmsgbmcuZGlyZWN0aXZlOmlucHV0IGlucHV0fVxuICogICAgLSB7QGxpbmsgaW5wdXRbdGV4dF0gdGV4dH1cbiAqICAgIC0ge0BsaW5rIGlucHV0W2NoZWNrYm94XSBjaGVja2JveH1cbiAqICAgIC0ge0BsaW5rIGlucHV0W3JhZGlvXSByYWRpb31cbiAqICAgIC0ge0BsaW5rIGlucHV0W251bWJlcl0gbnVtYmVyfVxuICogICAgLSB7QGxpbmsgaW5wdXRbZW1haWxdIGVtYWlsfVxuICogICAgLSB7QGxpbmsgaW5wdXRbdXJsXSB1cmx9XG4gKiAgICAtIHtAbGluayBpbnB1dFtkYXRlXSBkYXRlfVxuICogICAgLSB7QGxpbmsgaW5wdXRbZGF0ZXRpbWUtbG9jYWxdIGRhdGV0aW1lLWxvY2FsfVxuICogICAgLSB7QGxpbmsgaW5wdXRbdGltZV0gdGltZX1cbiAqICAgIC0ge0BsaW5rIGlucHV0W21vbnRoXSBtb250aH1cbiAqICAgIC0ge0BsaW5rIGlucHV0W3dlZWtdIHdlZWt9XG4gKiAgLSB7QGxpbmsgbmcuZGlyZWN0aXZlOnNlbGVjdCBzZWxlY3R9XG4gKiAgLSB7QGxpbmsgbmcuZGlyZWN0aXZlOnRleHRhcmVhIHRleHRhcmVhfVxuICpcbiAqICMgQ29tcGxleCBNb2RlbHMgKG9iamVjdHMgb3IgY29sbGVjdGlvbnMpXG4gKlxuICogQnkgZGVmYXVsdCwgYG5nTW9kZWxgIHdhdGNoZXMgdGhlIG1vZGVsIGJ5IHJlZmVyZW5jZSwgbm90IHZhbHVlLiBUaGlzIGlzIGltcG9ydGFudCB0byBrbm93IHdoZW5cbiAqIGJpbmRpbmcgaW5wdXRzIHRvIG1vZGVscyB0aGF0IGFyZSBvYmplY3RzIChlLmcuIGBEYXRlYCkgb3IgY29sbGVjdGlvbnMgKGUuZy4gYXJyYXlzKS4gSWYgb25seSBwcm9wZXJ0aWVzIG9mIHRoZVxuICogb2JqZWN0IG9yIGNvbGxlY3Rpb24gY2hhbmdlLCBgbmdNb2RlbGAgd2lsbCBub3QgYmUgbm90aWZpZWQgYW5kIHNvIHRoZSBpbnB1dCB3aWxsIG5vdCBiZSAgcmUtcmVuZGVyZWQuXG4gKlxuICogVGhlIG1vZGVsIG11c3QgYmUgYXNzaWduZWQgYW4gZW50aXJlbHkgbmV3IG9iamVjdCBvciBjb2xsZWN0aW9uIGJlZm9yZSBhIHJlLXJlbmRlcmluZyB3aWxsIG9jY3VyLlxuICpcbiAqIFNvbWUgZGlyZWN0aXZlcyBoYXZlIG9wdGlvbnMgdGhhdCB3aWxsIGNhdXNlIHRoZW0gdG8gdXNlIGEgY3VzdG9tIGAkd2F0Y2hDb2xsZWN0aW9uYCBvbiB0aGUgbW9kZWwgZXhwcmVzc2lvblxuICogLSBmb3IgZXhhbXBsZSwgYG5nT3B0aW9uc2Agd2lsbCBkbyBzbyB3aGVuIGEgYHRyYWNrIGJ5YCBjbGF1c2UgaXMgaW5jbHVkZWQgaW4gdGhlIGNvbXByZWhlbnNpb24gZXhwcmVzc2lvbiBvclxuICogaWYgdGhlIHNlbGVjdCBpcyBnaXZlbiB0aGUgYG11bHRpcGxlYCBhdHRyaWJ1dGUuXG4gKlxuICogVGhlIGAkd2F0Y2hDb2xsZWN0aW9uKClgIG1ldGhvZCBvbmx5IGRvZXMgYSBzaGFsbG93IGNvbXBhcmlzb24sIG1lYW5pbmcgdGhhdCBjaGFuZ2luZyBwcm9wZXJ0aWVzIGRlZXBlciB0aGFuIHRoZVxuICogZmlyc3QgbGV2ZWwgb2YgdGhlIG9iamVjdCAob3Igb25seSBjaGFuZ2luZyB0aGUgcHJvcGVydGllcyBvZiBhbiBpdGVtIGluIHRoZSBjb2xsZWN0aW9uIGlmIGl0J3MgYW4gYXJyYXkpIHdpbGwgc3RpbGxcbiAqIG5vdCB0cmlnZ2VyIGEgcmUtcmVuZGVyaW5nIG9mIHRoZSBtb2RlbC5cbiAqXG4gKiAjIENTUyBjbGFzc2VzXG4gKiBUaGUgZm9sbG93aW5nIENTUyBjbGFzc2VzIGFyZSBhZGRlZCBhbmQgcmVtb3ZlZCBvbiB0aGUgYXNzb2NpYXRlZCBpbnB1dC9zZWxlY3QvdGV4dGFyZWEgZWxlbWVudFxuICogZGVwZW5kaW5nIG9uIHRoZSB2YWxpZGl0eSBvZiB0aGUgbW9kZWwuXG4gKlxuICogIC0gYG5nLXZhbGlkYDogdGhlIG1vZGVsIGlzIHZhbGlkXG4gKiAgLSBgbmctaW52YWxpZGA6IHRoZSBtb2RlbCBpcyBpbnZhbGlkXG4gKiAgLSBgbmctdmFsaWQtW2tleV1gOiBmb3IgZWFjaCB2YWxpZCBrZXkgYWRkZWQgYnkgYCRzZXRWYWxpZGl0eWBcbiAqICAtIGBuZy1pbnZhbGlkLVtrZXldYDogZm9yIGVhY2ggaW52YWxpZCBrZXkgYWRkZWQgYnkgYCRzZXRWYWxpZGl0eWBcbiAqICAtIGBuZy1wcmlzdGluZWA6IHRoZSBjb250cm9sIGhhc24ndCBiZWVuIGludGVyYWN0ZWQgd2l0aCB5ZXRcbiAqICAtIGBuZy1kaXJ0eWA6IHRoZSBjb250cm9sIGhhcyBiZWVuIGludGVyYWN0ZWQgd2l0aFxuICogIC0gYG5nLXRvdWNoZWRgOiB0aGUgY29udHJvbCBoYXMgYmVlbiBibHVycmVkXG4gKiAgLSBgbmctdW50b3VjaGVkYDogdGhlIGNvbnRyb2wgaGFzbid0IGJlZW4gYmx1cnJlZFxuICogIC0gYG5nLXBlbmRpbmdgOiBhbnkgYCRhc3luY1ZhbGlkYXRvcnNgIGFyZSB1bmZ1bGZpbGxlZFxuICogIC0gYG5nLWVtcHR5YDogdGhlIHZpZXcgZG9lcyBub3QgY29udGFpbiBhIHZhbHVlIG9yIHRoZSB2YWx1ZSBpcyBkZWVtZWQgXCJlbXB0eVwiLCBhcyBkZWZpbmVkXG4gKiAgICAgYnkgdGhlIHtAbGluayBuZ01vZGVsLk5nTW9kZWxDb250cm9sbGVyIyRpc0VtcHR5fSBtZXRob2RcbiAqICAtIGBuZy1ub3QtZW1wdHlgOiB0aGUgdmlldyBjb250YWlucyBhIG5vbi1lbXB0eSB2YWx1ZVxuICpcbiAqIEtlZXAgaW4gbWluZCB0aGF0IG5nQW5pbWF0ZSBjYW4gZGV0ZWN0IGVhY2ggb2YgdGhlc2UgY2xhc3NlcyB3aGVuIGFkZGVkIGFuZCByZW1vdmVkLlxuICpcbiAqICMjIEFuaW1hdGlvbiBIb29rc1xuICpcbiAqIEFuaW1hdGlvbnMgd2l0aGluIG1vZGVscyBhcmUgdHJpZ2dlcmVkIHdoZW4gYW55IG9mIHRoZSBhc3NvY2lhdGVkIENTUyBjbGFzc2VzIGFyZSBhZGRlZCBhbmQgcmVtb3ZlZFxuICogb24gdGhlIGlucHV0IGVsZW1lbnQgd2hpY2ggaXMgYXR0YWNoZWQgdG8gdGhlIG1vZGVsLiBUaGVzZSBjbGFzc2VzIGluY2x1ZGU6IGAubmctcHJpc3RpbmVgLCBgLm5nLWRpcnR5YCxcbiAqIGAubmctaW52YWxpZGAgYW5kIGAubmctdmFsaWRgIGFzIHdlbGwgYXMgYW55IG90aGVyIHZhbGlkYXRpb25zIHRoYXQgYXJlIHBlcmZvcm1lZCBvbiB0aGUgbW9kZWwgaXRzZWxmLlxuICogVGhlIGFuaW1hdGlvbnMgdGhhdCBhcmUgdHJpZ2dlcmVkIHdpdGhpbiBuZ01vZGVsIGFyZSBzaW1pbGFyIHRvIGhvdyB0aGV5IHdvcmsgaW4gbmdDbGFzcyBhbmRcbiAqIGFuaW1hdGlvbnMgY2FuIGJlIGhvb2tlZCBpbnRvIHVzaW5nIENTUyB0cmFuc2l0aW9ucywga2V5ZnJhbWVzIGFzIHdlbGwgYXMgSlMgYW5pbWF0aW9ucy5cbiAqXG4gKiBUaGUgZm9sbG93aW5nIGV4YW1wbGUgc2hvd3MgYSBzaW1wbGUgd2F5IHRvIHV0aWxpemUgQ1NTIHRyYW5zaXRpb25zIHRvIHN0eWxlIGFuIGlucHV0IGVsZW1lbnRcbiAqIHRoYXQgaGFzIGJlZW4gcmVuZGVyZWQgYXMgaW52YWxpZCBhZnRlciBpdCBoYXMgYmVlbiB2YWxpZGF0ZWQ6XG4gKlxuICogPHByZT5cbiAqIC8vYmUgc3VyZSB0byBpbmNsdWRlIG5nQW5pbWF0ZSBhcyBhIG1vZHVsZSB0byBob29rIGludG8gbW9yZVxuICogLy9hZHZhbmNlZCBhbmltYXRpb25zXG4gKiAubXktaW5wdXQge1xuICogICB0cmFuc2l0aW9uOjAuNXMgbGluZWFyIGFsbDtcbiAqICAgYmFja2dyb3VuZDogd2hpdGU7XG4gKiB9XG4gKiAubXktaW5wdXQubmctaW52YWxpZCB7XG4gKiAgIGJhY2tncm91bmQ6IHJlZDtcbiAqICAgY29sb3I6d2hpdGU7XG4gKiB9XG4gKiA8L3ByZT5cbiAqXG4gKiBAZXhhbXBsZVxuICogPGV4YW1wbGUgZGVwcz1cImFuZ3VsYXItYW5pbWF0ZS5qc1wiIGFuaW1hdGlvbnM9XCJ0cnVlXCIgZml4QmFzZT1cInRydWVcIiBtb2R1bGU9XCJpbnB1dEV4YW1wbGVcIiBuYW1lPVwibmctbW9kZWxcIj5cbiAgICAgPGZpbGUgbmFtZT1cImluZGV4Lmh0bWxcIj5cbiAgICAgICA8c2NyaXB0PlxuICAgICAgICBhbmd1bGFyLm1vZHVsZSgnaW5wdXRFeGFtcGxlJywgW10pXG4gICAgICAgICAgLmNvbnRyb2xsZXIoJ0V4YW1wbGVDb250cm9sbGVyJywgWyckc2NvcGUnLCBmdW5jdGlvbigkc2NvcGUpIHtcbiAgICAgICAgICAgICRzY29wZS52YWwgPSAnMSc7XG4gICAgICAgICAgfV0pO1xuICAgICAgIDwvc2NyaXB0PlxuICAgICAgIDxzdHlsZT5cbiAgICAgICAgIC5teS1pbnB1dCB7XG4gICAgICAgICAgIHRyYW5zaXRpb246YWxsIGxpbmVhciAwLjVzO1xuICAgICAgICAgICBiYWNrZ3JvdW5kOiB0cmFuc3BhcmVudDtcbiAgICAgICAgIH1cbiAgICAgICAgIC5teS1pbnB1dC5uZy1pbnZhbGlkIHtcbiAgICAgICAgICAgY29sb3I6d2hpdGU7XG4gICAgICAgICAgIGJhY2tncm91bmQ6IHJlZDtcbiAgICAgICAgIH1cbiAgICAgICA8L3N0eWxlPlxuICAgICAgIDxwIGlkPVwiaW5wdXREZXNjcmlwdGlvblwiPlxuICAgICAgICBVcGRhdGUgaW5wdXQgdG8gc2VlIHRyYW5zaXRpb25zIHdoZW4gdmFsaWQvaW52YWxpZC5cbiAgICAgICAgSW50ZWdlciBpcyBhIHZhbGlkIHZhbHVlLlxuICAgICAgIDwvcD5cbiAgICAgICA8Zm9ybSBuYW1lPVwidGVzdEZvcm1cIiBuZy1jb250cm9sbGVyPVwiRXhhbXBsZUNvbnRyb2xsZXJcIj5cbiAgICAgICAgIDxpbnB1dCBuZy1tb2RlbD1cInZhbFwiIG5nLXBhdHRlcm49XCIvXlxcZCskL1wiIG5hbWU9XCJhbmltXCIgY2xhc3M9XCJteS1pbnB1dFwiXG4gICAgICAgICAgICAgICAgYXJpYS1kZXNjcmliZWRieT1cImlucHV0RGVzY3JpcHRpb25cIiAvPlxuICAgICAgIDwvZm9ybT5cbiAgICAgPC9maWxlPlxuICogPC9leGFtcGxlPlxuICpcbiAqICMjIEJpbmRpbmcgdG8gYSBnZXR0ZXIvc2V0dGVyXG4gKlxuICogU29tZXRpbWVzIGl0J3MgaGVscGZ1bCB0byBiaW5kIGBuZ01vZGVsYCB0byBhIGdldHRlci9zZXR0ZXIgZnVuY3Rpb24uICBBIGdldHRlci9zZXR0ZXIgaXMgYVxuICogZnVuY3Rpb24gdGhhdCByZXR1cm5zIGEgcmVwcmVzZW50YXRpb24gb2YgdGhlIG1vZGVsIHdoZW4gY2FsbGVkIHdpdGggemVybyBhcmd1bWVudHMsIGFuZCBzZXRzXG4gKiB0aGUgaW50ZXJuYWwgc3RhdGUgb2YgYSBtb2RlbCB3aGVuIGNhbGxlZCB3aXRoIGFuIGFyZ3VtZW50LiBJdCdzIHNvbWV0aW1lcyB1c2VmdWwgdG8gdXNlIHRoaXNcbiAqIGZvciBtb2RlbHMgdGhhdCBoYXZlIGFuIGludGVybmFsIHJlcHJlc2VudGF0aW9uIHRoYXQncyBkaWZmZXJlbnQgZnJvbSB3aGF0IHRoZSBtb2RlbCBleHBvc2VzXG4gKiB0byB0aGUgdmlldy5cbiAqXG4gKiA8ZGl2IGNsYXNzPVwiYWxlcnQgYWxlcnQtc3VjY2Vzc1wiPlxuICogKipCZXN0IFByYWN0aWNlOioqIEl0J3MgYmVzdCB0byBrZWVwIGdldHRlcnMgZmFzdCBiZWNhdXNlIEFuZ3VsYXIgaXMgbGlrZWx5IHRvIGNhbGwgdGhlbSBtb3JlXG4gKiBmcmVxdWVudGx5IHRoYW4gb3RoZXIgcGFydHMgb2YgeW91ciBjb2RlLlxuICogPC9kaXY+XG4gKlxuICogWW91IHVzZSB0aGlzIGJlaGF2aW9yIGJ5IGFkZGluZyBgbmctbW9kZWwtb3B0aW9ucz1cInsgZ2V0dGVyU2V0dGVyOiB0cnVlIH1cImAgdG8gYW4gZWxlbWVudCB0aGF0XG4gKiBoYXMgYG5nLW1vZGVsYCBhdHRhY2hlZCB0byBpdC4gWW91IGNhbiBhbHNvIGFkZCBgbmctbW9kZWwtb3B0aW9ucz1cInsgZ2V0dGVyU2V0dGVyOiB0cnVlIH1cImAgdG9cbiAqIGEgYDxmb3JtPmAsIHdoaWNoIHdpbGwgZW5hYmxlIHRoaXMgYmVoYXZpb3IgZm9yIGFsbCBgPGlucHV0PmBzIHdpdGhpbiBpdC4gU2VlXG4gKiB7QGxpbmsgbmcuZGlyZWN0aXZlOm5nTW9kZWxPcHRpb25zIGBuZ01vZGVsT3B0aW9uc2B9IGZvciBtb3JlLlxuICpcbiAqIFRoZSBmb2xsb3dpbmcgZXhhbXBsZSBzaG93cyBob3cgdG8gdXNlIGBuZ01vZGVsYCB3aXRoIGEgZ2V0dGVyL3NldHRlcjpcbiAqXG4gKiBAZXhhbXBsZVxuICogPGV4YW1wbGUgbmFtZT1cIm5nTW9kZWwtZ2V0dGVyLXNldHRlclwiIG1vZHVsZT1cImdldHRlclNldHRlckV4YW1wbGVcIj5cbiAgICAgPGZpbGUgbmFtZT1cImluZGV4Lmh0bWxcIj5cbiAgICAgICA8ZGl2IG5nLWNvbnRyb2xsZXI9XCJFeGFtcGxlQ29udHJvbGxlclwiPlxuICAgICAgICAgPGZvcm0gbmFtZT1cInVzZXJGb3JtXCI+XG4gICAgICAgICAgIDxsYWJlbD5OYW1lOlxuICAgICAgICAgICAgIDxpbnB1dCB0eXBlPVwidGV4dFwiIG5hbWU9XCJ1c2VyTmFtZVwiXG4gICAgICAgICAgICAgICAgICAgIG5nLW1vZGVsPVwidXNlci5uYW1lXCJcbiAgICAgICAgICAgICAgICAgICAgbmctbW9kZWwtb3B0aW9ucz1cInsgZ2V0dGVyU2V0dGVyOiB0cnVlIH1cIiAvPlxuICAgICAgICAgICA8L2xhYmVsPlxuICAgICAgICAgPC9mb3JtPlxuICAgICAgICAgPHByZT51c2VyLm5hbWUgPSA8c3BhbiBuZy1iaW5kPVwidXNlci5uYW1lKClcIj48L3NwYW4+PC9wcmU+XG4gICAgICAgPC9kaXY+XG4gICAgIDwvZmlsZT5cbiAgICAgPGZpbGUgbmFtZT1cImFwcC5qc1wiPlxuICAgICAgIGFuZ3VsYXIubW9kdWxlKCdnZXR0ZXJTZXR0ZXJFeGFtcGxlJywgW10pXG4gICAgICAgICAuY29udHJvbGxlcignRXhhbXBsZUNvbnRyb2xsZXInLCBbJyRzY29wZScsIGZ1bmN0aW9uKCRzY29wZSkge1xuICAgICAgICAgICB2YXIgX25hbWUgPSAnQnJpYW4nO1xuICAgICAgICAgICAkc2NvcGUudXNlciA9IHtcbiAgICAgICAgICAgICBuYW1lOiBmdW5jdGlvbihuZXdOYW1lKSB7XG4gICAgICAgICAgICAgIC8vIE5vdGUgdGhhdCBuZXdOYW1lIGNhbiBiZSB1bmRlZmluZWQgZm9yIHR3byByZWFzb25zOlxuICAgICAgICAgICAgICAvLyAxLiBCZWNhdXNlIGl0IGlzIGNhbGxlZCBhcyBhIGdldHRlciBhbmQgdGh1cyBjYWxsZWQgd2l0aCBubyBhcmd1bWVudHNcbiAgICAgICAgICAgICAgLy8gMi4gQmVjYXVzZSB0aGUgcHJvcGVydHkgc2hvdWxkIGFjdHVhbGx5IGJlIHNldCB0byB1bmRlZmluZWQuIFRoaXMgaGFwcGVucyBlLmcuIGlmIHRoZVxuICAgICAgICAgICAgICAvLyAgICBpbnB1dCBpcyBpbnZhbGlkXG4gICAgICAgICAgICAgIHJldHVybiBhcmd1bWVudHMubGVuZ3RoID8gKF9uYW1lID0gbmV3TmFtZSkgOiBfbmFtZTtcbiAgICAgICAgICAgICB9XG4gICAgICAgICAgIH07XG4gICAgICAgICB9XSk7XG4gICAgIDwvZmlsZT5cbiAqIDwvZXhhbXBsZT5cbiAqL1xudmFyIG5nTW9kZWxEaXJlY3RpdmUgPSBbJyRyb290U2NvcGUnLCBmdW5jdGlvbigkcm9vdFNjb3BlKSB7XG4gIHJldHVybiB7XG4gICAgcmVzdHJpY3Q6ICdBJyxcbiAgICByZXF1aXJlOiBbJ25nTW9kZWwnLCAnXj9mb3JtJywgJ14/bmdNb2RlbE9wdGlvbnMnXSxcbiAgICBjb250cm9sbGVyOiBOZ01vZGVsQ29udHJvbGxlcixcbiAgICAvLyBQcmVsaW5rIG5lZWRzIHRvIHJ1biBiZWZvcmUgYW55IGlucHV0IGRpcmVjdGl2ZVxuICAgIC8vIHNvIHRoYXQgd2UgY2FuIHNldCB0aGUgTmdNb2RlbE9wdGlvbnMgaW4gTmdNb2RlbENvbnRyb2xsZXJcbiAgICAvLyBiZWZvcmUgYW55b25lIGVsc2UgdXNlcyBpdC5cbiAgICBwcmlvcml0eTogMSxcbiAgICBjb21waWxlOiBmdW5jdGlvbiBuZ01vZGVsQ29tcGlsZShlbGVtZW50KSB7XG4gICAgICAvLyBTZXR1cCBpbml0aWFsIHN0YXRlIG9mIHRoZSBjb250cm9sXG4gICAgICBlbGVtZW50LmFkZENsYXNzKFBSSVNUSU5FX0NMQVNTKS5hZGRDbGFzcyhVTlRPVUNIRURfQ0xBU1MpLmFkZENsYXNzKFZBTElEX0NMQVNTKTtcblxuICAgICAgcmV0dXJuIHtcbiAgICAgICAgcHJlOiBmdW5jdGlvbiBuZ01vZGVsUHJlTGluayhzY29wZSwgZWxlbWVudCwgYXR0ciwgY3RybHMpIHtcbiAgICAgICAgICB2YXIgbW9kZWxDdHJsID0gY3RybHNbMF0sXG4gICAgICAgICAgICAgIGZvcm1DdHJsID0gY3RybHNbMV0gfHwgbW9kZWxDdHJsLiQkcGFyZW50Rm9ybSxcbiAgICAgICAgICAgICAgb3B0aW9uc0N0cmwgPSBjdHJsc1syXTtcblxuICAgICAgICAgIGlmIChvcHRpb25zQ3RybCkge1xuICAgICAgICAgICAgbW9kZWxDdHJsLiRvcHRpb25zID0gb3B0aW9uc0N0cmwuJG9wdGlvbnM7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgbW9kZWxDdHJsLiQkaW5pdEdldHRlclNldHRlcnMoKTtcblxuICAgICAgICAgIC8vIG5vdGlmeSBvdGhlcnMsIGVzcGVjaWFsbHkgcGFyZW50IGZvcm1zXG4gICAgICAgICAgZm9ybUN0cmwuJGFkZENvbnRyb2wobW9kZWxDdHJsKTtcblxuICAgICAgICAgIGF0dHIuJG9ic2VydmUoJ25hbWUnLCBmdW5jdGlvbihuZXdWYWx1ZSkge1xuICAgICAgICAgICAgaWYgKG1vZGVsQ3RybC4kbmFtZSAhPT0gbmV3VmFsdWUpIHtcbiAgICAgICAgICAgICAgbW9kZWxDdHJsLiQkcGFyZW50Rm9ybS4kJHJlbmFtZUNvbnRyb2wobW9kZWxDdHJsLCBuZXdWYWx1ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSk7XG5cbiAgICAgICAgICBzY29wZS4kb24oJyRkZXN0cm95JywgZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICBtb2RlbEN0cmwuJCRwYXJlbnRGb3JtLiRyZW1vdmVDb250cm9sKG1vZGVsQ3RybCk7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH0sXG4gICAgICAgIHBvc3Q6IGZ1bmN0aW9uIG5nTW9kZWxQb3N0TGluayhzY29wZSwgZWxlbWVudCwgYXR0ciwgY3RybHMpIHtcbiAgICAgICAgICB2YXIgbW9kZWxDdHJsID0gY3RybHNbMF07XG4gICAgICAgICAgaWYgKG1vZGVsQ3RybC4kb3B0aW9ucy5nZXRPcHRpb24oJ3VwZGF0ZU9uJykpIHtcbiAgICAgICAgICAgIGVsZW1lbnQub24obW9kZWxDdHJsLiRvcHRpb25zLmdldE9wdGlvbigndXBkYXRlT24nKSwgZnVuY3Rpb24oZXYpIHtcbiAgICAgICAgICAgICAgbW9kZWxDdHJsLiQkZGVib3VuY2VWaWV3VmFsdWVDb21taXQoZXYgJiYgZXYudHlwZSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBmdW5jdGlvbiBzZXRUb3VjaGVkKCkge1xuICAgICAgICAgICAgbW9kZWxDdHJsLiRzZXRUb3VjaGVkKCk7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgZWxlbWVudC5vbignYmx1cicsIGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgaWYgKG1vZGVsQ3RybC4kdG91Y2hlZCkgcmV0dXJuO1xuXG4gICAgICAgICAgICBpZiAoJHJvb3RTY29wZS4kJHBoYXNlKSB7XG4gICAgICAgICAgICAgIHNjb3BlLiRldmFsQXN5bmMoc2V0VG91Y2hlZCk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICBzY29wZS4kYXBwbHkoc2V0VG91Y2hlZCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgIH07XG4gICAgfVxuICB9O1xufV07XG5cbi8qIGV4cG9ydGVkIGRlZmF1bHRNb2RlbE9wdGlvbnMgKi9cbnZhciBkZWZhdWx0TW9kZWxPcHRpb25zO1xudmFyIERFRkFVTFRfUkVHRVhQID0gLyhcXHMrfF4pZGVmYXVsdChcXHMrfCQpLztcblxuLyoqXG4gKiBAbmdkb2MgdHlwZVxuICogQG5hbWUgTW9kZWxPcHRpb25zXG4gKiBAZGVzY3JpcHRpb25cbiAqIEEgY29udGFpbmVyIGZvciB0aGUgb3B0aW9ucyBzZXQgYnkgdGhlIHtAbGluayBuZ01vZGVsT3B0aW9uc30gZGlyZWN0aXZlXG4gKi9cbmZ1bmN0aW9uIE1vZGVsT3B0aW9ucyhvcHRpb25zKSB7XG4gIHRoaXMuJCRvcHRpb25zID0gb3B0aW9ucztcbn1cblxuTW9kZWxPcHRpb25zLnByb3RvdHlwZSA9IHtcblxuICAvKipcbiAgICogQG5nZG9jIG1ldGhvZFxuICAgKiBAbmFtZSBNb2RlbE9wdGlvbnMjZ2V0T3B0aW9uXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBuYW1lIHRoZSBuYW1lIG9mIHRoZSBvcHRpb24gdG8gcmV0cmlldmVcbiAgICogQHJldHVybnMgeyp9IHRoZSB2YWx1ZSBvZiB0aGUgb3B0aW9uXG4gICAqIEBkZXNjcmlwdGlvblxuICAgKiBSZXR1cm5zIHRoZSB2YWx1ZSBvZiB0aGUgZ2l2ZW4gb3B0aW9uXG4gICAqL1xuICBnZXRPcHRpb246IGZ1bmN0aW9uKG5hbWUpIHtcbiAgICByZXR1cm4gdGhpcy4kJG9wdGlvbnNbbmFtZV07XG4gIH0sXG5cbiAgLyoqXG4gICAqIEBuZ2RvYyBtZXRob2RcbiAgICogQG5hbWUgTW9kZWxPcHRpb25zI2NyZWF0ZUNoaWxkXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBvcHRpb25zIGEgaGFzaCBvZiBvcHRpb25zIGZvciB0aGUgbmV3IGNoaWxkIHRoYXQgd2lsbCBvdmVycmlkZSB0aGUgcGFyZW50J3Mgb3B0aW9uc1xuICAgKiBAcmV0dXJuIHtNb2RlbE9wdGlvbnN9IGEgbmV3IGBNb2RlbE9wdGlvbnNgIG9iamVjdCBpbml0aWFsaXplZCB3aXRoIHRoZSBnaXZlbiBvcHRpb25zLlxuICAgKi9cbiAgY3JlYXRlQ2hpbGQ6IGZ1bmN0aW9uKG9wdGlvbnMpIHtcbiAgICB2YXIgaW5oZXJpdEFsbCA9IGZhbHNlO1xuXG4gICAgLy8gbWFrZSBhIHNoYWxsb3cgY29weVxuICAgIG9wdGlvbnMgPSBleHRlbmQoe30sIG9wdGlvbnMpO1xuXG4gICAgLy8gSW5oZXJpdCBvcHRpb25zIGZyb20gdGhlIHBhcmVudCBpZiBzcGVjaWZpZWQgYnkgdGhlIHZhbHVlIGBcIiRpbmhlcml0XCJgXG4gICAgZm9yRWFjaChvcHRpb25zLCAvKiBAdGhpcyAqLyBmdW5jdGlvbihvcHRpb24sIGtleSkge1xuICAgICAgaWYgKG9wdGlvbiA9PT0gJyRpbmhlcml0Jykge1xuICAgICAgICBpZiAoa2V5ID09PSAnKicpIHtcbiAgICAgICAgICBpbmhlcml0QWxsID0gdHJ1ZTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBvcHRpb25zW2tleV0gPSB0aGlzLiQkb3B0aW9uc1trZXldO1xuICAgICAgICAgIC8vIGB1cGRhdGVPbmAgaXMgc3BlY2lhbCBzbyB3ZSBtdXN0IGFsc28gaW5oZXJpdCB0aGUgYHVwZGF0ZU9uRGVmYXVsdGAgb3B0aW9uXG4gICAgICAgICAgaWYgKGtleSA9PT0gJ3VwZGF0ZU9uJykge1xuICAgICAgICAgICAgb3B0aW9ucy51cGRhdGVPbkRlZmF1bHQgPSB0aGlzLiQkb3B0aW9ucy51cGRhdGVPbkRlZmF1bHQ7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBpZiAoa2V5ID09PSAndXBkYXRlT24nKSB7XG4gICAgICAgICAgLy8gSWYgdGhlIGB1cGRhdGVPbmAgcHJvcGVydHkgY29udGFpbnMgdGhlIGBkZWZhdWx0YCBldmVudCB0aGVuIHdlIGhhdmUgdG8gcmVtb3ZlXG4gICAgICAgICAgLy8gaXQgZnJvbSB0aGUgZXZlbnQgbGlzdCBhbmQgc2V0IHRoZSBgdXBkYXRlT25EZWZhdWx0YCBmbGFnLlxuICAgICAgICAgIG9wdGlvbnMudXBkYXRlT25EZWZhdWx0ID0gZmFsc2U7XG4gICAgICAgICAgb3B0aW9uc1trZXldID0gdHJpbShvcHRpb24ucmVwbGFjZShERUZBVUxUX1JFR0VYUCwgZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICBvcHRpb25zLnVwZGF0ZU9uRGVmYXVsdCA9IHRydWU7XG4gICAgICAgICAgICByZXR1cm4gJyAnO1xuICAgICAgICAgIH0pKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0sIHRoaXMpO1xuXG4gICAgaWYgKGluaGVyaXRBbGwpIHtcbiAgICAgIC8vIFdlIGhhdmUgYSBwcm9wZXJ0eSBvZiB0aGUgZm9ybTogYFwiKlwiOiBcIiRpbmhlcml0XCJgXG4gICAgICBkZWxldGUgb3B0aW9uc1snKiddO1xuICAgICAgZGVmYXVsdHMob3B0aW9ucywgdGhpcy4kJG9wdGlvbnMpO1xuICAgIH1cblxuICAgIC8vIEZpbmFsbHkgYWRkIGluIGFueSBtaXNzaW5nIGRlZmF1bHRzXG4gICAgZGVmYXVsdHMob3B0aW9ucywgZGVmYXVsdE1vZGVsT3B0aW9ucy4kJG9wdGlvbnMpO1xuXG4gICAgcmV0dXJuIG5ldyBNb2RlbE9wdGlvbnMob3B0aW9ucyk7XG4gIH1cbn07XG5cblxuZGVmYXVsdE1vZGVsT3B0aW9ucyA9IG5ldyBNb2RlbE9wdGlvbnMoe1xuICB1cGRhdGVPbjogJycsXG4gIHVwZGF0ZU9uRGVmYXVsdDogdHJ1ZSxcbiAgZGVib3VuY2U6IDAsXG4gIGdldHRlclNldHRlcjogZmFsc2UsXG4gIGFsbG93SW52YWxpZDogZmFsc2UsXG4gIHRpbWV6b25lOiBudWxsXG59KTtcblxuXG4vKipcbiAqIEBuZ2RvYyBkaXJlY3RpdmVcbiAqIEBuYW1lIG5nTW9kZWxPcHRpb25zXG4gKlxuICogQGRlc2NyaXB0aW9uXG4gKiBUaGlzIGRpcmVjdGl2ZSBhbGxvd3MgeW91IHRvIG1vZGlmeSB0aGUgYmVoYXZpb3VyIG9mIHtAbGluayBuZ01vZGVsfSBkaXJlY3RpdmVzIHdpdGhpbiB5b3VyXG4gKiBhcHBsaWNhdGlvbi4gWW91IGNhbiBzcGVjaWZ5IGFuIGBuZ01vZGVsT3B0aW9uc2AgZGlyZWN0aXZlIG9uIGFueSBlbGVtZW50LiBBbGwge0BsaW5rIG5nTW9kZWx9XG4gKiBkaXJlY3RpdmVzIHdpbGwgdXNlIHRoZSBvcHRpb25zIG9mIHRoZWlyIG5lYXJlc3QgYG5nTW9kZWxPcHRpb25zYCBhbmNlc3Rvci5cbiAqXG4gKiBUaGUgYG5nTW9kZWxPcHRpb25zYCBzZXR0aW5ncyBhcmUgZm91bmQgYnkgZXZhbHVhdGluZyB0aGUgdmFsdWUgb2YgdGhlIGF0dHJpYnV0ZSBkaXJlY3RpdmUgYXNcbiAqIGFuIEFuZ3VsYXIgZXhwcmVzc2lvbi4gVGhpcyBleHByZXNzaW9uIHNob3VsZCBldmFsdWF0ZSB0byBhbiBvYmplY3QsIHdob3NlIHByb3BlcnRpZXMgY29udGFpblxuICogdGhlIHNldHRpbmdzLiBGb3IgZXhhbXBsZTogYDxkaXYgXCJuZy1tb2RlbC1vcHRpb25zXCI9XCJ7IGRlYm91bmNlOiAxMDAgfVwiYC5cbiAqXG4gKiAjIyBJbmhlcml0aW5nIE9wdGlvbnNcbiAqXG4gKiBZb3UgY2FuIHNwZWNpZnkgdGhhdCBhbiBgbmdNb2RlbE9wdGlvbnNgIHNldHRpbmcgc2hvdWxkIGJlIGluaGVyaXRlZCBmcm9tIGEgcGFyZW50IGBuZ01vZGVsT3B0aW9uc2BcbiAqIGRpcmVjdGl2ZSBieSBnaXZpbmcgaXQgdGhlIHZhbHVlIG9mIGBcIiRpbmhlcml0XCJgLlxuICogVGhlbiBpdCB3aWxsIGluaGVyaXQgdGhhdCBzZXR0aW5nIGZyb20gdGhlIGZpcnN0IGBuZ01vZGVsT3B0aW9uc2AgZGlyZWN0aXZlIGZvdW5kIGJ5IHRyYXZlcnNpbmcgdXAgdGhlXG4gKiBET00gdHJlZS4gSWYgdGhlcmUgaXMgbm8gYW5jZXN0b3IgZWxlbWVudCBjb250YWluaW5nIGFuIGBuZ01vZGVsT3B0aW9uc2AgZGlyZWN0aXZlIHRoZW4gZGVmYXVsdCBzZXR0aW5nc1xuICogd2lsbCBiZSB1c2VkLlxuICpcbiAqIEZvciBleGFtcGxlIGdpdmVuIHRoZSBmb2xsb3dpbmcgZnJhZ21lbnQgb2YgSFRNTFxuICpcbiAqXG4gKiBgYGBodG1sXG4gKiA8ZGl2IG5nLW1vZGVsLW9wdGlvbnM9XCJ7IGFsbG93SW52YWxpZDogdHJ1ZSwgZGVib3VuY2U6IDIwMCB9XCI+XG4gKiAgIDxmb3JtIG5nLW1vZGVsLW9wdGlvbnM9XCJ7IHVwZGF0ZU9uOiAnYmx1cicsIGFsbG93SW52YWxpZDogJyRpbmhlcml0JyB9XCI+XG4gKiAgICAgPGlucHV0IG5nLW1vZGVsLW9wdGlvbnM9XCJ7IHVwZGF0ZU9uOiAnZGVmYXVsdCcsIGFsbG93SW52YWxpZDogJyRpbmhlcml0JyB9XCIgLz5cbiAqICAgPC9mb3JtPlxuICogPC9kaXY+XG4gKiBgYGBcbiAqXG4gKiB0aGUgYGlucHV0YCBlbGVtZW50IHdpbGwgaGF2ZSB0aGUgZm9sbG93aW5nIHNldHRpbmdzXG4gKlxuICogYGBganNcbiAqIHsgYWxsb3dJbnZhbGlkOiB0cnVlLCB1cGRhdGVPbjogJ2RlZmF1bHQnLCBkZWJvdW5jZTogMCB9XG4gKiBgYGBcbiAqXG4gKiBOb3RpY2UgdGhhdCB0aGUgYGRlYm91bmNlYCBzZXR0aW5nIHdhcyBub3QgaW5oZXJpdGVkIGFuZCB1c2VkIHRoZSBkZWZhdWx0IHZhbHVlIGluc3RlYWQuXG4gKlxuICogWW91IGNhbiBzcGVjaWZ5IHRoYXQgYWxsIHVuZGVmaW5lZCBzZXR0aW5ncyBhcmUgYXV0b21hdGljYWxseSBpbmhlcml0ZWQgZnJvbSBhbiBhbmNlc3RvciBieVxuICogaW5jbHVkaW5nIGEgcHJvcGVydHkgd2l0aCBrZXkgb2YgYFwiKlwiYCBhbmQgdmFsdWUgb2YgYFwiJGluaGVyaXRcImAuXG4gKlxuICogRm9yIGV4YW1wbGUgZ2l2ZW4gdGhlIGZvbGxvd2luZyBmcmFnbWVudCBvZiBIVE1MXG4gKlxuICpcbiAqIGBgYGh0bWxcbiAqIDxkaXYgbmctbW9kZWwtb3B0aW9ucz1cInsgYWxsb3dJbnZhbGlkOiB0cnVlLCBkZWJvdW5jZTogMjAwIH1cIj5cbiAqICAgPGZvcm0gbmctbW9kZWwtb3B0aW9ucz1cInsgdXBkYXRlT246ICdibHVyJywgXCIqXCI6ICckaW5oZXJpdCcgfVwiPlxuICogICAgIDxpbnB1dCBuZy1tb2RlbC1vcHRpb25zPVwieyB1cGRhdGVPbjogJ2RlZmF1bHQnLCBcIipcIjogJyRpbmhlcml0JyB9XCIgLz5cbiAqICAgPC9mb3JtPlxuICogPC9kaXY+XG4gKiBgYGBcbiAqXG4gKiB0aGUgYGlucHV0YCBlbGVtZW50IHdpbGwgaGF2ZSB0aGUgZm9sbG93aW5nIHNldHRpbmdzXG4gKlxuICogYGBganNcbiAqIHsgYWxsb3dJbnZhbGlkOiB0cnVlLCB1cGRhdGVPbjogJ2RlZmF1bHQnLCBkZWJvdW5jZTogMjAwIH1cbiAqIGBgYFxuICpcbiAqIE5vdGljZSB0aGF0IHRoZSBgZGVib3VuY2VgIHNldHRpbmcgbm93IGluaGVyaXRzIHRoZSB2YWx1ZSBmcm9tIHRoZSBvdXRlciBgPGRpdj5gIGVsZW1lbnQuXG4gKlxuICogSWYgeW91IGFyZSBjcmVhdGluZyBhIHJldXNhYmxlIGNvbXBvbmVudCB0aGVuIHlvdSBzaG91bGQgYmUgY2FyZWZ1bCB3aGVuIHVzaW5nIGBcIipcIjogXCIkaW5oZXJpdFwiYFxuICogc2luY2UgeW91IG1heSBpbmFkdmVydGVudGx5IGluaGVyaXQgYSBzZXR0aW5nIGluIHRoZSBmdXR1cmUgdGhhdCBjaGFuZ2VzIHRoZSBiZWhhdmlvciBvZiB5b3VyIGNvbXBvbmVudC5cbiAqXG4gKlxuICogIyMgVHJpZ2dlcmluZyBhbmQgZGVib3VuY2luZyBtb2RlbCB1cGRhdGVzXG4gKlxuICogVGhlIGB1cGRhdGVPbmAgYW5kIGBkZWJvdW5jZWAgcHJvcGVydGllcyBhbGxvdyB5b3UgdG8gc3BlY2lmeSBhIGN1c3RvbSBsaXN0IG9mIGV2ZW50cyB0aGF0IHdpbGxcbiAqIHRyaWdnZXIgYSBtb2RlbCB1cGRhdGUgYW5kL29yIGEgZGVib3VuY2luZyBkZWxheSBzbyB0aGF0IHRoZSBhY3R1YWwgdXBkYXRlIG9ubHkgdGFrZXMgcGxhY2Ugd2hlblxuICogYSB0aW1lciBleHBpcmVzOyB0aGlzIHRpbWVyIHdpbGwgYmUgcmVzZXQgYWZ0ZXIgYW5vdGhlciBjaGFuZ2UgdGFrZXMgcGxhY2UuXG4gKlxuICogR2l2ZW4gdGhlIG5hdHVyZSBvZiBgbmdNb2RlbE9wdGlvbnNgLCB0aGUgdmFsdWUgZGlzcGxheWVkIGluc2lkZSBpbnB1dCBmaWVsZHMgaW4gdGhlIHZpZXcgbWlnaHRcbiAqIGJlIGRpZmZlcmVudCBmcm9tIHRoZSB2YWx1ZSBpbiB0aGUgYWN0dWFsIG1vZGVsLiBUaGlzIG1lYW5zIHRoYXQgaWYgeW91IHVwZGF0ZSB0aGUgbW9kZWwgeW91XG4gKiBzaG91bGQgYWxzbyBpbnZva2Uge0BsaW5rIG5nTW9kZWwuTmdNb2RlbENvbnRyb2xsZXIjJHJvbGxiYWNrVmlld1ZhbHVlfSBvbiB0aGUgcmVsZXZhbnQgaW5wdXQgZmllbGQgaW5cbiAqIG9yZGVyIHRvIG1ha2Ugc3VyZSBpdCBpcyBzeW5jaHJvbml6ZWQgd2l0aCB0aGUgbW9kZWwgYW5kIHRoYXQgYW55IGRlYm91bmNlZCBhY3Rpb24gaXMgY2FuY2VsZWQuXG4gKlxuICogVGhlIGVhc2llc3Qgd2F5IHRvIHJlZmVyZW5jZSB0aGUgY29udHJvbCdzIHtAbGluayBuZ01vZGVsLk5nTW9kZWxDb250cm9sbGVyIyRyb2xsYmFja1ZpZXdWYWx1ZX1cbiAqIG1ldGhvZCBpcyBieSBtYWtpbmcgc3VyZSB0aGUgaW5wdXQgaXMgcGxhY2VkIGluc2lkZSBhIGZvcm0gdGhhdCBoYXMgYSBgbmFtZWAgYXR0cmlidXRlLiBUaGlzIGlzXG4gKiBpbXBvcnRhbnQgYmVjYXVzZSBgZm9ybWAgY29udHJvbGxlcnMgYXJlIHB1Ymxpc2hlZCB0byB0aGUgcmVsYXRlZCBzY29wZSB1bmRlciB0aGUgbmFtZSBpbiB0aGVpclxuICogYG5hbWVgIGF0dHJpYnV0ZS5cbiAqXG4gKiBBbnkgcGVuZGluZyBjaGFuZ2VzIHdpbGwgdGFrZSBwbGFjZSBpbW1lZGlhdGVseSB3aGVuIGFuIGVuY2xvc2luZyBmb3JtIGlzIHN1Ym1pdHRlZCB2aWEgdGhlXG4gKiBgc3VibWl0YCBldmVudC4gTm90ZSB0aGF0IGBuZ0NsaWNrYCBldmVudHMgd2lsbCBvY2N1ciBiZWZvcmUgdGhlIG1vZGVsIGlzIHVwZGF0ZWQuIFVzZSBgbmdTdWJtaXRgXG4gKiB0byBoYXZlIGFjY2VzcyB0byB0aGUgdXBkYXRlZCBtb2RlbC5cbiAqXG4gKiBUaGUgZm9sbG93aW5nIGV4YW1wbGUgc2hvd3MgaG93IHRvIG92ZXJyaWRlIGltbWVkaWF0ZSB1cGRhdGVzLiBDaGFuZ2VzIG9uIHRoZSBpbnB1dHMgd2l0aGluIHRoZVxuICogZm9ybSB3aWxsIHVwZGF0ZSB0aGUgbW9kZWwgb25seSB3aGVuIHRoZSBjb250cm9sIGxvc2VzIGZvY3VzIChibHVyIGV2ZW50KS4gSWYgYGVzY2FwZWAga2V5IGlzXG4gKiBwcmVzc2VkIHdoaWxlIHRoZSBpbnB1dCBmaWVsZCBpcyBmb2N1c2VkLCB0aGUgdmFsdWUgaXMgcmVzZXQgdG8gdGhlIHZhbHVlIGluIHRoZSBjdXJyZW50IG1vZGVsLlxuICpcbiAqIDxleGFtcGxlIG5hbWU9XCJuZ01vZGVsT3B0aW9ucy1kaXJlY3RpdmUtYmx1clwiIG1vZHVsZT1cIm9wdGlvbnNFeGFtcGxlXCI+XG4gKiAgIDxmaWxlIG5hbWU9XCJpbmRleC5odG1sXCI+XG4gKiAgICAgPGRpdiBuZy1jb250cm9sbGVyPVwiRXhhbXBsZUNvbnRyb2xsZXJcIj5cbiAqICAgICAgIDxmb3JtIG5hbWU9XCJ1c2VyRm9ybVwiPlxuICogICAgICAgICA8bGFiZWw+XG4gKiAgICAgICAgICAgTmFtZTpcbiAqICAgICAgICAgICA8aW5wdXQgdHlwZT1cInRleHRcIiBuYW1lPVwidXNlck5hbWVcIlxuICogICAgICAgICAgICAgICAgICBuZy1tb2RlbD1cInVzZXIubmFtZVwiXG4gKiAgICAgICAgICAgICAgICAgIG5nLW1vZGVsLW9wdGlvbnM9XCJ7IHVwZGF0ZU9uOiAnYmx1cicgfVwiXG4gKiAgICAgICAgICAgICAgICAgIG5nLWtleXVwPVwiY2FuY2VsKCRldmVudClcIiAvPlxuICogICAgICAgICA8L2xhYmVsPjxiciAvPlxuICogICAgICAgICA8bGFiZWw+XG4gKiAgICAgICAgICAgT3RoZXIgZGF0YTpcbiAqICAgICAgICAgICA8aW5wdXQgdHlwZT1cInRleHRcIiBuZy1tb2RlbD1cInVzZXIuZGF0YVwiIC8+XG4gKiAgICAgICAgIDwvbGFiZWw+PGJyIC8+XG4gKiAgICAgICA8L2Zvcm0+XG4gKiAgICAgICA8cHJlPnVzZXIubmFtZSA9IDxzcGFuIG5nLWJpbmQ9XCJ1c2VyLm5hbWVcIj48L3NwYW4+PC9wcmU+XG4gKiAgICAgPC9kaXY+XG4gKiAgIDwvZmlsZT5cbiAqICAgPGZpbGUgbmFtZT1cImFwcC5qc1wiPlxuICogICAgIGFuZ3VsYXIubW9kdWxlKCdvcHRpb25zRXhhbXBsZScsIFtdKVxuICogICAgICAgLmNvbnRyb2xsZXIoJ0V4YW1wbGVDb250cm9sbGVyJywgWyckc2NvcGUnLCBmdW5jdGlvbigkc2NvcGUpIHtcbiAqICAgICAgICAgJHNjb3BlLnVzZXIgPSB7IG5hbWU6ICdzYXknLCBkYXRhOiAnJyB9O1xuICpcbiAqICAgICAgICAgJHNjb3BlLmNhbmNlbCA9IGZ1bmN0aW9uKGUpIHtcbiAqICAgICAgICAgICBpZiAoZS5rZXlDb2RlID09PSAyNykge1xuICogICAgICAgICAgICAgJHNjb3BlLnVzZXJGb3JtLnVzZXJOYW1lLiRyb2xsYmFja1ZpZXdWYWx1ZSgpO1xuICogICAgICAgICAgIH1cbiAqICAgICAgICAgfTtcbiAqICAgICAgIH1dKTtcbiAqICAgPC9maWxlPlxuICogICA8ZmlsZSBuYW1lPVwicHJvdHJhY3Rvci5qc1wiIHR5cGU9XCJwcm90cmFjdG9yXCI+XG4gKiAgICAgdmFyIG1vZGVsID0gZWxlbWVudChieS5iaW5kaW5nKCd1c2VyLm5hbWUnKSk7XG4gKiAgICAgdmFyIGlucHV0ID0gZWxlbWVudChieS5tb2RlbCgndXNlci5uYW1lJykpO1xuICogICAgIHZhciBvdGhlciA9IGVsZW1lbnQoYnkubW9kZWwoJ3VzZXIuZGF0YScpKTtcbiAqXG4gKiAgICAgaXQoJ3Nob3VsZCBhbGxvdyBjdXN0b20gZXZlbnRzJywgZnVuY3Rpb24oKSB7XG4gKiAgICAgICBpbnB1dC5zZW5kS2V5cygnIGhlbGxvJyk7XG4gKiAgICAgICBpbnB1dC5jbGljaygpO1xuICogICAgICAgZXhwZWN0KG1vZGVsLmdldFRleHQoKSkudG9FcXVhbCgnc2F5Jyk7XG4gKiAgICAgICBvdGhlci5jbGljaygpO1xuICogICAgICAgZXhwZWN0KG1vZGVsLmdldFRleHQoKSkudG9FcXVhbCgnc2F5IGhlbGxvJyk7XG4gKiAgICAgfSk7XG4gKlxuICogICAgIGl0KCdzaG91bGQgJHJvbGxiYWNrVmlld1ZhbHVlIHdoZW4gbW9kZWwgY2hhbmdlcycsIGZ1bmN0aW9uKCkge1xuICogICAgICAgaW5wdXQuc2VuZEtleXMoJyBoZWxsbycpO1xuICogICAgICAgZXhwZWN0KGlucHV0LmdldEF0dHJpYnV0ZSgndmFsdWUnKSkudG9FcXVhbCgnc2F5IGhlbGxvJyk7XG4gKiAgICAgICBpbnB1dC5zZW5kS2V5cyhwcm90cmFjdG9yLktleS5FU0NBUEUpO1xuICogICAgICAgZXhwZWN0KGlucHV0LmdldEF0dHJpYnV0ZSgndmFsdWUnKSkudG9FcXVhbCgnc2F5Jyk7XG4gKiAgICAgICBvdGhlci5jbGljaygpO1xuICogICAgICAgZXhwZWN0KG1vZGVsLmdldFRleHQoKSkudG9FcXVhbCgnc2F5Jyk7XG4gKiAgICAgfSk7XG4gKiAgIDwvZmlsZT5cbiAqIDwvZXhhbXBsZT5cbiAqXG4gKiBUaGUgbmV4dCBleGFtcGxlIHNob3dzIGhvdyB0byBkZWJvdW5jZSBtb2RlbCBjaGFuZ2VzLiBNb2RlbCB3aWxsIGJlIHVwZGF0ZWQgb25seSAxIHNlYyBhZnRlciBsYXN0IGNoYW5nZS5cbiAqIElmIHRoZSBgQ2xlYXJgIGJ1dHRvbiBpcyBwcmVzc2VkLCBhbnkgZGVib3VuY2VkIGFjdGlvbiBpcyBjYW5jZWxlZCBhbmQgdGhlIHZhbHVlIGJlY29tZXMgZW1wdHkuXG4gKlxuICogPGV4YW1wbGUgbmFtZT1cIm5nTW9kZWxPcHRpb25zLWRpcmVjdGl2ZS1kZWJvdW5jZVwiIG1vZHVsZT1cIm9wdGlvbnNFeGFtcGxlXCI+XG4gKiAgIDxmaWxlIG5hbWU9XCJpbmRleC5odG1sXCI+XG4gKiAgICAgPGRpdiBuZy1jb250cm9sbGVyPVwiRXhhbXBsZUNvbnRyb2xsZXJcIj5cbiAqICAgICAgIDxmb3JtIG5hbWU9XCJ1c2VyRm9ybVwiPlxuICogICAgICAgICBOYW1lOlxuICogICAgICAgICA8aW5wdXQgdHlwZT1cInRleHRcIiBuYW1lPVwidXNlck5hbWVcIlxuICogICAgICAgICAgICAgICAgbmctbW9kZWw9XCJ1c2VyLm5hbWVcIlxuICogICAgICAgICAgICAgICAgbmctbW9kZWwtb3B0aW9ucz1cInsgZGVib3VuY2U6IDEwMDAgfVwiIC8+XG4gKiAgICAgICAgIDxidXR0b24gbmctY2xpY2s9XCJ1c2VyRm9ybS51c2VyTmFtZS4kcm9sbGJhY2tWaWV3VmFsdWUoKTsgdXNlci5uYW1lPScnXCI+Q2xlYXI8L2J1dHRvbj48YnIgLz5cbiAqICAgICAgIDwvZm9ybT5cbiAqICAgICAgIDxwcmU+dXNlci5uYW1lID0gPHNwYW4gbmctYmluZD1cInVzZXIubmFtZVwiPjwvc3Bhbj48L3ByZT5cbiAqICAgICA8L2Rpdj5cbiAqICAgPC9maWxlPlxuICogICA8ZmlsZSBuYW1lPVwiYXBwLmpzXCI+XG4gKiAgICAgYW5ndWxhci5tb2R1bGUoJ29wdGlvbnNFeGFtcGxlJywgW10pXG4gKiAgICAgICAuY29udHJvbGxlcignRXhhbXBsZUNvbnRyb2xsZXInLCBbJyRzY29wZScsIGZ1bmN0aW9uKCRzY29wZSkge1xuICogICAgICAgICAkc2NvcGUudXNlciA9IHsgbmFtZTogJ3NheScgfTtcbiAqICAgICAgIH1dKTtcbiAqICAgPC9maWxlPlxuICogPC9leGFtcGxlPlxuICpcbiAqICMjIE1vZGVsIHVwZGF0ZXMgYW5kIHZhbGlkYXRpb25cbiAqXG4gKiBUaGUgZGVmYXVsdCBiZWhhdmlvdXIgaW4gYG5nTW9kZWxgIGlzIHRoYXQgdGhlIG1vZGVsIHZhbHVlIGlzIHNldCB0byBgdW5kZWZpbmVkYCB3aGVuIHRoZVxuICogdmFsaWRhdGlvbiBkZXRlcm1pbmVzIHRoYXQgdGhlIHZhbHVlIGlzIGludmFsaWQuIEJ5IHNldHRpbmcgdGhlIGBhbGxvd0ludmFsaWRgIHByb3BlcnR5IHRvIHRydWUsXG4gKiB0aGUgbW9kZWwgd2lsbCBzdGlsbCBiZSB1cGRhdGVkIGV2ZW4gaWYgdGhlIHZhbHVlIGlzIGludmFsaWQuXG4gKlxuICpcbiAqICMjIENvbm5lY3RpbmcgdG8gdGhlIHNjb3BlXG4gKlxuICogQnkgc2V0dGluZyB0aGUgYGdldHRlclNldHRlcmAgcHJvcGVydHkgdG8gdHJ1ZSB5b3UgYXJlIHRlbGxpbmcgbmdNb2RlbCB0aGF0IHRoZSBgbmdNb2RlbGAgZXhwcmVzc2lvblxuICogb24gdGhlIHNjb3BlIHJlZmVycyB0byBhIFwiZ2V0dGVyL3NldHRlclwiIGZ1bmN0aW9uIHJhdGhlciB0aGFuIHRoZSB2YWx1ZSBpdHNlbGYuXG4gKlxuICogVGhlIGZvbGxvd2luZyBleGFtcGxlIHNob3dzIGhvdyB0byBiaW5kIHRvIGdldHRlci9zZXR0ZXJzOlxuICpcbiAqIDxleGFtcGxlIG5hbWU9XCJuZ01vZGVsT3B0aW9ucy1kaXJlY3RpdmUtZ2V0dGVyLXNldHRlclwiIG1vZHVsZT1cImdldHRlclNldHRlckV4YW1wbGVcIj5cbiAqICAgPGZpbGUgbmFtZT1cImluZGV4Lmh0bWxcIj5cbiAqICAgICA8ZGl2IG5nLWNvbnRyb2xsZXI9XCJFeGFtcGxlQ29udHJvbGxlclwiPlxuICogICAgICAgPGZvcm0gbmFtZT1cInVzZXJGb3JtXCI+XG4gKiAgICAgICAgIDxsYWJlbD5cbiAqICAgICAgICAgICBOYW1lOlxuICogICAgICAgICAgIDxpbnB1dCB0eXBlPVwidGV4dFwiIG5hbWU9XCJ1c2VyTmFtZVwiXG4gKiAgICAgICAgICAgICAgICAgIG5nLW1vZGVsPVwidXNlci5uYW1lXCJcbiAqICAgICAgICAgICAgICAgICAgbmctbW9kZWwtb3B0aW9ucz1cInsgZ2V0dGVyU2V0dGVyOiB0cnVlIH1cIiAvPlxuICogICAgICAgICA8L2xhYmVsPlxuICogICAgICAgPC9mb3JtPlxuICogICAgICAgPHByZT51c2VyLm5hbWUgPSA8c3BhbiBuZy1iaW5kPVwidXNlci5uYW1lKClcIj48L3NwYW4+PC9wcmU+XG4gKiAgICAgPC9kaXY+XG4gKiAgIDwvZmlsZT5cbiAqICAgPGZpbGUgbmFtZT1cImFwcC5qc1wiPlxuICogICAgIGFuZ3VsYXIubW9kdWxlKCdnZXR0ZXJTZXR0ZXJFeGFtcGxlJywgW10pXG4gKiAgICAgICAuY29udHJvbGxlcignRXhhbXBsZUNvbnRyb2xsZXInLCBbJyRzY29wZScsIGZ1bmN0aW9uKCRzY29wZSkge1xuICogICAgICAgICB2YXIgX25hbWUgPSAnQnJpYW4nO1xuICogICAgICAgICAkc2NvcGUudXNlciA9IHtcbiAqICAgICAgICAgICBuYW1lOiBmdW5jdGlvbihuZXdOYW1lKSB7XG4gKiAgICAgICAgICAgICByZXR1cm4gYW5ndWxhci5pc0RlZmluZWQobmV3TmFtZSkgPyAoX25hbWUgPSBuZXdOYW1lKSA6IF9uYW1lO1xuICogICAgICAgICAgIH1cbiAqICAgICAgICAgfTtcbiAqICAgICAgIH1dKTtcbiAqICAgPC9maWxlPlxuICogPC9leGFtcGxlPlxuICpcbiAqXG4gKiAjIyBTcGVjaWZ5aW5nIHRpbWV6b25lc1xuICpcbiAqIFlvdSBjYW4gc3BlY2lmeSB0aGUgdGltZXpvbmUgdGhhdCBkYXRlL3RpbWUgaW5wdXQgZGlyZWN0aXZlcyBleHBlY3QgYnkgcHJvdmlkaW5nIGl0cyBuYW1lIGluIHRoZVxuICogYHRpbWV6b25lYCBwcm9wZXJ0eS5cbiAqXG4gKiBAcGFyYW0ge09iamVjdH0gbmdNb2RlbE9wdGlvbnMgb3B0aW9ucyB0byBhcHBseSB0byB7QGxpbmsgbmdNb2RlbH0gZGlyZWN0aXZlcyBvbiB0aGlzIGVsZW1lbnQgYW5kXG4gKiAgIGFuZCBpdHMgZGVzY2VuZGVudHMuIFZhbGlkIGtleXMgYXJlOlxuICogICAtIGB1cGRhdGVPbmA6IHN0cmluZyBzcGVjaWZ5aW5nIHdoaWNoIGV2ZW50IHNob3VsZCB0aGUgaW5wdXQgYmUgYm91bmQgdG8uIFlvdSBjYW4gc2V0IHNldmVyYWxcbiAqICAgICBldmVudHMgdXNpbmcgYW4gc3BhY2UgZGVsaW1pdGVkIGxpc3QuIFRoZXJlIGlzIGEgc3BlY2lhbCBldmVudCBjYWxsZWQgYGRlZmF1bHRgIHRoYXRcbiAqICAgICBtYXRjaGVzIHRoZSBkZWZhdWx0IGV2ZW50cyBiZWxvbmdpbmcgdG8gdGhlIGNvbnRyb2wuXG4gKiAgIC0gYGRlYm91bmNlYDogaW50ZWdlciB2YWx1ZSB3aGljaCBjb250YWlucyB0aGUgZGVib3VuY2UgbW9kZWwgdXBkYXRlIHZhbHVlIGluIG1pbGxpc2Vjb25kcy4gQVxuICogICAgIHZhbHVlIG9mIDAgdHJpZ2dlcnMgYW4gaW1tZWRpYXRlIHVwZGF0ZS4gSWYgYW4gb2JqZWN0IGlzIHN1cHBsaWVkIGluc3RlYWQsIHlvdSBjYW4gc3BlY2lmeSBhXG4gKiAgICAgY3VzdG9tIHZhbHVlIGZvciBlYWNoIGV2ZW50LiBGb3IgZXhhbXBsZTpcbiAqICAgICBgYGBcbiAqICAgICBuZy1tb2RlbC1vcHRpb25zPVwie1xuICogICAgICAgdXBkYXRlT246ICdkZWZhdWx0IGJsdXInLFxuICogICAgICAgZGVib3VuY2U6IHsgJ2RlZmF1bHQnOiA1MDAsICdibHVyJzogMCB9XG4gKiAgICAgfVwiXG4gKiAgICAgYGBgXG4gKiAgIC0gYGFsbG93SW52YWxpZGA6IGJvb2xlYW4gdmFsdWUgd2hpY2ggaW5kaWNhdGVzIHRoYXQgdGhlIG1vZGVsIGNhbiBiZSBzZXQgd2l0aCB2YWx1ZXMgdGhhdCBkaWRcbiAqICAgICBub3QgdmFsaWRhdGUgY29ycmVjdGx5IGluc3RlYWQgb2YgdGhlIGRlZmF1bHQgYmVoYXZpb3Igb2Ygc2V0dGluZyB0aGUgbW9kZWwgdG8gdW5kZWZpbmVkLlxuICogICAtIGBnZXR0ZXJTZXR0ZXJgOiBib29sZWFuIHZhbHVlIHdoaWNoIGRldGVybWluZXMgd2hldGhlciBvciBub3QgdG8gdHJlYXQgZnVuY3Rpb25zIGJvdW5kIHRvXG4gKiAgICAgYG5nTW9kZWxgIGFzIGdldHRlcnMvc2V0dGVycy5cbiAqICAgLSBgdGltZXpvbmVgOiBEZWZpbmVzIHRoZSB0aW1lem9uZSB0byBiZSB1c2VkIHRvIHJlYWQvd3JpdGUgdGhlIGBEYXRlYCBpbnN0YW5jZSBpbiB0aGUgbW9kZWwgZm9yXG4gKiAgICAgYDxpbnB1dCB0eXBlPVwiZGF0ZVwiIC8+YCwgYDxpbnB1dCB0eXBlPVwidGltZVwiIC8+YCwgLi4uIC4gSXQgdW5kZXJzdGFuZHMgVVRDL0dNVCBhbmQgdGhlXG4gKiAgICAgY29udGluZW50YWwgVVMgdGltZSB6b25lIGFiYnJldmlhdGlvbnMsIGJ1dCBmb3IgZ2VuZXJhbCB1c2UsIHVzZSBhIHRpbWUgem9uZSBvZmZzZXQsIGZvclxuICogICAgIGV4YW1wbGUsIGAnKzA0MzAnYCAoNCBob3VycywgMzAgbWludXRlcyBlYXN0IG9mIHRoZSBHcmVlbndpY2ggbWVyaWRpYW4pXG4gKiAgICAgSWYgbm90IHNwZWNpZmllZCwgdGhlIHRpbWV6b25lIG9mIHRoZSBicm93c2VyIHdpbGwgYmUgdXNlZC5cbiAqXG4gKi9cbnZhciBuZ01vZGVsT3B0aW9uc0RpcmVjdGl2ZSA9IGZ1bmN0aW9uKCkge1xuICBOZ01vZGVsT3B0aW9uc0NvbnRyb2xsZXIuJGluamVjdCA9IFsnJGF0dHJzJywgJyRzY29wZSddO1xuICBmdW5jdGlvbiBOZ01vZGVsT3B0aW9uc0NvbnRyb2xsZXIoJGF0dHJzLCAkc2NvcGUpIHtcbiAgICB0aGlzLiQkYXR0cnMgPSAkYXR0cnM7XG4gICAgdGhpcy4kJHNjb3BlID0gJHNjb3BlO1xuICB9XG4gIE5nTW9kZWxPcHRpb25zQ29udHJvbGxlci5wcm90b3R5cGUgPSB7XG4gICAgJG9uSW5pdDogZnVuY3Rpb24oKSB7XG4gICAgICB2YXIgcGFyZW50T3B0aW9ucyA9IHRoaXMucGFyZW50Q3RybCA/IHRoaXMucGFyZW50Q3RybC4kb3B0aW9ucyA6IGRlZmF1bHRNb2RlbE9wdGlvbnM7XG4gICAgICB2YXIgbW9kZWxPcHRpb25zRGVmaW5pdGlvbiA9IHRoaXMuJCRzY29wZS4kZXZhbCh0aGlzLiQkYXR0cnMubmdNb2RlbE9wdGlvbnMpO1xuXG4gICAgICB0aGlzLiRvcHRpb25zID0gcGFyZW50T3B0aW9ucy5jcmVhdGVDaGlsZChtb2RlbE9wdGlvbnNEZWZpbml0aW9uKTtcbiAgICB9XG4gIH07XG5cbiAgcmV0dXJuIHtcbiAgICByZXN0cmljdDogJ0EnLFxuICAgIC8vIG5nTW9kZWxPcHRpb25zIG5lZWRzIHRvIHJ1biBiZWZvcmUgbmdNb2RlbCBhbmQgaW5wdXQgZGlyZWN0aXZlc1xuICAgIHByaW9yaXR5OiAxMCxcbiAgICByZXF1aXJlOiB7cGFyZW50Q3RybDogJz9eXm5nTW9kZWxPcHRpb25zJ30sXG4gICAgYmluZFRvQ29udHJvbGxlcjogdHJ1ZSxcbiAgICBjb250cm9sbGVyOiBOZ01vZGVsT3B0aW9uc0NvbnRyb2xsZXJcbiAgfTtcbn07XG5cblxuLy8gc2hhbGxvdyBjb3B5IG92ZXIgdmFsdWVzIGZyb20gYHNyY2AgdGhhdCBhcmUgbm90IGFscmVhZHkgc3BlY2lmaWVkIG9uIGBkc3RgXG5mdW5jdGlvbiBkZWZhdWx0cyhkc3QsIHNyYykge1xuICBmb3JFYWNoKHNyYywgZnVuY3Rpb24odmFsdWUsIGtleSkge1xuICAgIGlmICghaXNEZWZpbmVkKGRzdFtrZXldKSkge1xuICAgICAgZHN0W2tleV0gPSB2YWx1ZTtcbiAgICB9XG4gIH0pO1xufVxuXG4vKipcbiAqIEBuZ2RvYyBkaXJlY3RpdmVcbiAqIEBuYW1lIG5nTm9uQmluZGFibGVcbiAqIEByZXN0cmljdCBBQ1xuICogQHByaW9yaXR5IDEwMDBcbiAqXG4gKiBAZGVzY3JpcHRpb25cbiAqIFRoZSBgbmdOb25CaW5kYWJsZWAgZGlyZWN0aXZlIHRlbGxzIEFuZ3VsYXIgbm90IHRvIGNvbXBpbGUgb3IgYmluZCB0aGUgY29udGVudHMgb2YgdGhlIGN1cnJlbnRcbiAqIERPTSBlbGVtZW50LiBUaGlzIGlzIHVzZWZ1bCBpZiB0aGUgZWxlbWVudCBjb250YWlucyB3aGF0IGFwcGVhcnMgdG8gYmUgQW5ndWxhciBkaXJlY3RpdmVzIGFuZFxuICogYmluZGluZ3MgYnV0IHdoaWNoIHNob3VsZCBiZSBpZ25vcmVkIGJ5IEFuZ3VsYXIuIFRoaXMgY291bGQgYmUgdGhlIGNhc2UgaWYgeW91IGhhdmUgYSBzaXRlIHRoYXRcbiAqIGRpc3BsYXlzIHNuaXBwZXRzIG9mIGNvZGUsIGZvciBpbnN0YW5jZS5cbiAqXG4gKiBAZWxlbWVudCBBTllcbiAqXG4gKiBAZXhhbXBsZVxuICogSW4gdGhpcyBleGFtcGxlIHRoZXJlIGFyZSB0d28gbG9jYXRpb25zIHdoZXJlIGEgc2ltcGxlIGludGVycG9sYXRpb24gYmluZGluZyAoYHt7fX1gKSBpcyBwcmVzZW50LFxuICogYnV0IHRoZSBvbmUgd3JhcHBlZCBpbiBgbmdOb25CaW5kYWJsZWAgaXMgbGVmdCBhbG9uZS5cbiAqXG4gKiBAZXhhbXBsZVxuICAgIDxleGFtcGxlIG5hbWU9XCJuZy1ub24tYmluZGFibGVcIj5cbiAgICAgIDxmaWxlIG5hbWU9XCJpbmRleC5odG1sXCI+XG4gICAgICAgIDxkaXY+Tm9ybWFsOiB7ezEgKyAyfX08L2Rpdj5cbiAgICAgICAgPGRpdiBuZy1ub24tYmluZGFibGU+SWdub3JlZDoge3sxICsgMn19PC9kaXY+XG4gICAgICA8L2ZpbGU+XG4gICAgICA8ZmlsZSBuYW1lPVwicHJvdHJhY3Rvci5qc1wiIHR5cGU9XCJwcm90cmFjdG9yXCI+XG4gICAgICAgaXQoJ3Nob3VsZCBjaGVjayBuZy1ub24tYmluZGFibGUnLCBmdW5jdGlvbigpIHtcbiAgICAgICAgIGV4cGVjdChlbGVtZW50KGJ5LmJpbmRpbmcoJzEgKyAyJykpLmdldFRleHQoKSkudG9Db250YWluKCczJyk7XG4gICAgICAgICBleHBlY3QoZWxlbWVudC5hbGwoYnkuY3NzKCdkaXYnKSkubGFzdCgpLmdldFRleHQoKSkudG9NYXRjaCgvMSBcXCsgMi8pO1xuICAgICAgIH0pO1xuICAgICAgPC9maWxlPlxuICAgIDwvZXhhbXBsZT5cbiAqL1xudmFyIG5nTm9uQmluZGFibGVEaXJlY3RpdmUgPSBuZ0RpcmVjdGl2ZSh7IHRlcm1pbmFsOiB0cnVlLCBwcmlvcml0eTogMTAwMCB9KTtcblxuLyogZXhwb3J0ZWQgbmdPcHRpb25zRGlyZWN0aXZlICovXG5cbi8qIGdsb2JhbCBqcUxpdGVSZW1vdmUgKi9cblxudmFyIG5nT3B0aW9uc01pbkVyciA9IG1pbkVycignbmdPcHRpb25zJyk7XG5cbi8qKlxuICogQG5nZG9jIGRpcmVjdGl2ZVxuICogQG5hbWUgbmdPcHRpb25zXG4gKiBAcmVzdHJpY3QgQVxuICpcbiAqIEBkZXNjcmlwdGlvblxuICpcbiAqIFRoZSBgbmdPcHRpb25zYCBhdHRyaWJ1dGUgY2FuIGJlIHVzZWQgdG8gZHluYW1pY2FsbHkgZ2VuZXJhdGUgYSBsaXN0IG9mIGA8b3B0aW9uPmBcbiAqIGVsZW1lbnRzIGZvciB0aGUgYDxzZWxlY3Q+YCBlbGVtZW50IHVzaW5nIHRoZSBhcnJheSBvciBvYmplY3Qgb2J0YWluZWQgYnkgZXZhbHVhdGluZyB0aGVcbiAqIGBuZ09wdGlvbnNgIGNvbXByZWhlbnNpb24gZXhwcmVzc2lvbi5cbiAqXG4gKiBJbiBtYW55IGNhc2VzLCB7QGxpbmsgbmcuZGlyZWN0aXZlOm5nUmVwZWF0IG5nUmVwZWF0fSBjYW4gYmUgdXNlZCBvbiBgPG9wdGlvbj5gIGVsZW1lbnRzIGluc3RlYWQgb2ZcbiAqIGBuZ09wdGlvbnNgIHRvIGFjaGlldmUgYSBzaW1pbGFyIHJlc3VsdC4gSG93ZXZlciwgYG5nT3B0aW9uc2AgcHJvdmlkZXMgc29tZSBiZW5lZml0czpcbiAqIC0gbW9yZSBmbGV4aWJpbGl0eSBpbiBob3cgdGhlIGA8c2VsZWN0PmAncyBtb2RlbCBpcyBhc3NpZ25lZCB2aWEgdGhlIGBzZWxlY3RgICoqYGFzYCoqIHBhcnQgb2YgdGhlXG4gKiBjb21wcmVoZW5zaW9uIGV4cHJlc3Npb25cbiAqIC0gcmVkdWNlZCBtZW1vcnkgY29uc3VtcHRpb24gYnkgbm90IGNyZWF0aW5nIGEgbmV3IHNjb3BlIGZvciBlYWNoIHJlcGVhdGVkIGluc3RhbmNlXG4gKiAtIGluY3JlYXNlZCByZW5kZXIgc3BlZWQgYnkgY3JlYXRpbmcgdGhlIG9wdGlvbnMgaW4gYSBkb2N1bWVudEZyYWdtZW50IGluc3RlYWQgb2YgaW5kaXZpZHVhbGx5XG4gKlxuICogV2hlbiBhbiBpdGVtIGluIHRoZSBgPHNlbGVjdD5gIG1lbnUgaXMgc2VsZWN0ZWQsIHRoZSBhcnJheSBlbGVtZW50IG9yIG9iamVjdCBwcm9wZXJ0eVxuICogcmVwcmVzZW50ZWQgYnkgdGhlIHNlbGVjdGVkIG9wdGlvbiB3aWxsIGJlIGJvdW5kIHRvIHRoZSBtb2RlbCBpZGVudGlmaWVkIGJ5IHRoZSBgbmdNb2RlbGBcbiAqIGRpcmVjdGl2ZS5cbiAqXG4gKiBPcHRpb25hbGx5LCBhIHNpbmdsZSBoYXJkLWNvZGVkIGA8b3B0aW9uPmAgZWxlbWVudCwgd2l0aCB0aGUgdmFsdWUgc2V0IHRvIGFuIGVtcHR5IHN0cmluZywgY2FuXG4gKiBiZSBuZXN0ZWQgaW50byB0aGUgYDxzZWxlY3Q+YCBlbGVtZW50LiBUaGlzIGVsZW1lbnQgd2lsbCB0aGVuIHJlcHJlc2VudCB0aGUgYG51bGxgIG9yIFwibm90IHNlbGVjdGVkXCJcbiAqIG9wdGlvbi4gU2VlIGV4YW1wbGUgYmVsb3cgZm9yIGRlbW9uc3RyYXRpb24uXG4gKlxuICogIyMgQ29tcGxleCBNb2RlbHMgKG9iamVjdHMgb3IgY29sbGVjdGlvbnMpXG4gKlxuICogQnkgZGVmYXVsdCwgYG5nTW9kZWxgIHdhdGNoZXMgdGhlIG1vZGVsIGJ5IHJlZmVyZW5jZSwgbm90IHZhbHVlLiBUaGlzIGlzIGltcG9ydGFudCB0byBrbm93IHdoZW5cbiAqIGJpbmRpbmcgdGhlIHNlbGVjdCB0byBhIG1vZGVsIHRoYXQgaXMgYW4gb2JqZWN0IG9yIGEgY29sbGVjdGlvbi5cbiAqXG4gKiBPbmUgaXNzdWUgb2NjdXJzIGlmIHlvdSB3YW50IHRvIHByZXNlbGVjdCBhbiBvcHRpb24uIEZvciBleGFtcGxlLCBpZiB5b3Ugc2V0XG4gKiB0aGUgbW9kZWwgdG8gYW4gb2JqZWN0IHRoYXQgaXMgZXF1YWwgdG8gYW4gb2JqZWN0IGluIHlvdXIgY29sbGVjdGlvbiwgYG5nT3B0aW9uc2Agd29uJ3QgYmUgYWJsZSB0byBzZXQgdGhlIHNlbGVjdGlvbixcbiAqIGJlY2F1c2UgdGhlIG9iamVjdHMgYXJlIG5vdCBpZGVudGljYWwuIFNvIGJ5IGRlZmF1bHQsIHlvdSBzaG91bGQgYWx3YXlzIHJlZmVyZW5jZSB0aGUgaXRlbSBpbiB5b3VyIGNvbGxlY3Rpb25cbiAqIGZvciBwcmVzZWxlY3Rpb25zLCBlLmcuOiBgJHNjb3BlLnNlbGVjdGVkID0gJHNjb3BlLmNvbGxlY3Rpb25bM11gLlxuICpcbiAqIEFub3RoZXIgc29sdXRpb24gaXMgdG8gdXNlIGEgYHRyYWNrIGJ5YCBjbGF1c2UsIGJlY2F1c2UgdGhlbiBgbmdPcHRpb25zYCB3aWxsIHRyYWNrIHRoZSBpZGVudGl0eVxuICogb2YgdGhlIGl0ZW0gbm90IGJ5IHJlZmVyZW5jZSwgYnV0IGJ5IHRoZSByZXN1bHQgb2YgdGhlIGB0cmFjayBieWAgZXhwcmVzc2lvbi4gRm9yIGV4YW1wbGUsIGlmIHlvdXJcbiAqIGNvbGxlY3Rpb24gaXRlbXMgaGF2ZSBhbiBpZCBwcm9wZXJ0eSwgeW91IHdvdWxkIGB0cmFjayBieSBpdGVtLmlkYC5cbiAqXG4gKiBBIGRpZmZlcmVudCBpc3N1ZSB3aXRoIG9iamVjdHMgb3IgY29sbGVjdGlvbnMgaXMgdGhhdCBuZ01vZGVsIHdvbid0IGRldGVjdCBpZiBhbiBvYmplY3QgcHJvcGVydHkgb3JcbiAqIGEgY29sbGVjdGlvbiBpdGVtIGNoYW5nZXMuIEZvciB0aGF0IHJlYXNvbiwgYG5nT3B0aW9uc2AgYWRkaXRpb25hbGx5IHdhdGNoZXMgdGhlIG1vZGVsIHVzaW5nXG4gKiBgJHdhdGNoQ29sbGVjdGlvbmAsIHdoZW4gdGhlIGV4cHJlc3Npb24gY29udGFpbnMgYSBgdHJhY2sgYnlgIGNsYXVzZSBvciB0aGUgdGhlIHNlbGVjdCBoYXMgdGhlIGBtdWx0aXBsZWAgYXR0cmlidXRlLlxuICogVGhpcyBhbGxvd3MgbmdPcHRpb25zIHRvIHRyaWdnZXIgYSByZS1yZW5kZXJpbmcgb2YgdGhlIG9wdGlvbnMgZXZlbiBpZiB0aGUgYWN0dWFsIG9iamVjdC9jb2xsZWN0aW9uXG4gKiBoYXMgbm90IGNoYW5nZWQgaWRlbnRpdHksIGJ1dCBvbmx5IGEgcHJvcGVydHkgb24gdGhlIG9iamVjdCBvciBhbiBpdGVtIGluIHRoZSBjb2xsZWN0aW9uIGNoYW5nZXMuXG4gKlxuICogTm90ZSB0aGF0IGAkd2F0Y2hDb2xsZWN0aW9uYCBkb2VzIGEgc2hhbGxvdyBjb21wYXJpc29uIG9mIHRoZSBwcm9wZXJ0aWVzIG9mIHRoZSBvYmplY3QgKG9yIHRoZSBpdGVtcyBpbiB0aGUgY29sbGVjdGlvblxuICogaWYgdGhlIG1vZGVsIGlzIGFuIGFycmF5KS4gVGhpcyBtZWFucyB0aGF0IGNoYW5naW5nIGEgcHJvcGVydHkgZGVlcGVyIHRoYW4gdGhlIGZpcnN0IGxldmVsIGluc2lkZSB0aGVcbiAqIG9iamVjdC9jb2xsZWN0aW9uIHdpbGwgbm90IHRyaWdnZXIgYSByZS1yZW5kZXJpbmcuXG4gKlxuICogIyMgYHNlbGVjdGAgKipgYXNgKipcbiAqXG4gKiBVc2luZyBgc2VsZWN0YCAqKmBhc2AqKiB3aWxsIGJpbmQgdGhlIHJlc3VsdCBvZiB0aGUgYHNlbGVjdGAgZXhwcmVzc2lvbiB0byB0aGUgbW9kZWwsIGJ1dFxuICogdGhlIHZhbHVlIG9mIHRoZSBgPHNlbGVjdD5gIGFuZCBgPG9wdGlvbj5gIGh0bWwgZWxlbWVudHMgd2lsbCBiZSBlaXRoZXIgdGhlIGluZGV4IChmb3IgYXJyYXkgZGF0YSBzb3VyY2VzKVxuICogb3IgcHJvcGVydHkgbmFtZSAoZm9yIG9iamVjdCBkYXRhIHNvdXJjZXMpIG9mIHRoZSB2YWx1ZSB3aXRoaW4gdGhlIGNvbGxlY3Rpb24uIElmIGEgKipgdHJhY2sgYnlgKiogZXhwcmVzc2lvblxuICogaXMgdXNlZCwgdGhlIHJlc3VsdCBvZiB0aGF0IGV4cHJlc3Npb24gd2lsbCBiZSBzZXQgYXMgdGhlIHZhbHVlIG9mIHRoZSBgb3B0aW9uYCBhbmQgYHNlbGVjdGAgZWxlbWVudHMuXG4gKlxuICpcbiAqICMjIyBgc2VsZWN0YCAqKmBhc2AqKiBhbmQgKipgdHJhY2sgYnlgKipcbiAqXG4gKiA8ZGl2IGNsYXNzPVwiYWxlcnQgYWxlcnQtd2FybmluZ1wiPlxuICogQmUgY2FyZWZ1bCB3aGVuIHVzaW5nIGBzZWxlY3RgICoqYGFzYCoqIGFuZCAqKmB0cmFjayBieWAqKiBpbiB0aGUgc2FtZSBleHByZXNzaW9uLlxuICogPC9kaXY+XG4gKlxuICogR2l2ZW4gdGhpcyBhcnJheSBvZiBpdGVtcyBvbiB0aGUgJHNjb3BlOlxuICpcbiAqIGBgYGpzXG4gKiAkc2NvcGUuaXRlbXMgPSBbe1xuICogICBpZDogMSxcbiAqICAgbGFiZWw6ICdhTGFiZWwnLFxuICogICBzdWJJdGVtOiB7IG5hbWU6ICdhU3ViSXRlbScgfVxuICogfSwge1xuICogICBpZDogMixcbiAqICAgbGFiZWw6ICdiTGFiZWwnLFxuICogICBzdWJJdGVtOiB7IG5hbWU6ICdiU3ViSXRlbScgfVxuICogfV07XG4gKiBgYGBcbiAqXG4gKiBUaGlzIHdpbGwgd29yazpcbiAqXG4gKiBgYGBodG1sXG4gKiA8c2VsZWN0IG5nLW9wdGlvbnM9XCJpdGVtIGFzIGl0ZW0ubGFiZWwgZm9yIGl0ZW0gaW4gaXRlbXMgdHJhY2sgYnkgaXRlbS5pZFwiIG5nLW1vZGVsPVwic2VsZWN0ZWRcIj48L3NlbGVjdD5cbiAqIGBgYFxuICogYGBganNcbiAqICRzY29wZS5zZWxlY3RlZCA9ICRzY29wZS5pdGVtc1swXTtcbiAqIGBgYFxuICpcbiAqIGJ1dCB0aGlzIHdpbGwgbm90IHdvcms6XG4gKlxuICogYGBgaHRtbFxuICogPHNlbGVjdCBuZy1vcHRpb25zPVwiaXRlbS5zdWJJdGVtIGFzIGl0ZW0ubGFiZWwgZm9yIGl0ZW0gaW4gaXRlbXMgdHJhY2sgYnkgaXRlbS5pZFwiIG5nLW1vZGVsPVwic2VsZWN0ZWRcIj48L3NlbGVjdD5cbiAqIGBgYFxuICogYGBganNcbiAqICRzY29wZS5zZWxlY3RlZCA9ICRzY29wZS5pdGVtc1swXS5zdWJJdGVtO1xuICogYGBgXG4gKlxuICogSW4gYm90aCBleGFtcGxlcywgdGhlICoqYHRyYWNrIGJ5YCoqIGV4cHJlc3Npb24gaXMgYXBwbGllZCBzdWNjZXNzZnVsbHkgdG8gZWFjaCBgaXRlbWAgaW4gdGhlXG4gKiBgaXRlbXNgIGFycmF5LiBCZWNhdXNlIHRoZSBzZWxlY3RlZCBvcHRpb24gaGFzIGJlZW4gc2V0IHByb2dyYW1tYXRpY2FsbHkgaW4gdGhlIGNvbnRyb2xsZXIsIHRoZVxuICogKipgdHJhY2sgYnlgKiogZXhwcmVzc2lvbiBpcyBhbHNvIGFwcGxpZWQgdG8gdGhlIGBuZ01vZGVsYCB2YWx1ZS4gSW4gdGhlIGZpcnN0IGV4YW1wbGUsIHRoZVxuICogYG5nTW9kZWxgIHZhbHVlIGlzIGBpdGVtc1swXWAgYW5kIHRoZSAqKmB0cmFjayBieWAqKiBleHByZXNzaW9uIGV2YWx1YXRlcyB0byBgaXRlbXNbMF0uaWRgIHdpdGhcbiAqIG5vIGlzc3VlLiBJbiB0aGUgc2Vjb25kIGV4YW1wbGUsIHRoZSBgbmdNb2RlbGAgdmFsdWUgaXMgYGl0ZW1zWzBdLnN1Ykl0ZW1gIGFuZCB0aGUgKipgdHJhY2sgYnlgKipcbiAqIGV4cHJlc3Npb24gZXZhbHVhdGVzIHRvIGBpdGVtc1swXS5zdWJJdGVtLmlkYCAod2hpY2ggaXMgdW5kZWZpbmVkKS4gQXMgYSByZXN1bHQsIHRoZSBtb2RlbCB2YWx1ZVxuICogaXMgbm90IG1hdGNoZWQgYWdhaW5zdCBhbnkgYDxvcHRpb24+YCBhbmQgdGhlIGA8c2VsZWN0PmAgYXBwZWFycyBhcyBoYXZpbmcgbm8gc2VsZWN0ZWQgdmFsdWUuXG4gKlxuICpcbiAqIEBwYXJhbSB7c3RyaW5nfSBuZ01vZGVsIEFzc2lnbmFibGUgQW5ndWxhckpTIGV4cHJlc3Npb24gdG8gZGF0YS1iaW5kIHRvLlxuICogQHBhcmFtIHtjb21wcmVoZW5zaW9uX2V4cHJlc3Npb259IG5nT3B0aW9ucyBpbiBvbmUgb2YgdGhlIGZvbGxvd2luZyBmb3JtczpcbiAqXG4gKiAgICogZm9yIGFycmF5IGRhdGEgc291cmNlczpcbiAqICAgICAqIGBsYWJlbGAgKipgZm9yYCoqIGB2YWx1ZWAgKipgaW5gKiogYGFycmF5YFxuICogICAgICogYHNlbGVjdGAgKipgYXNgKiogYGxhYmVsYCAqKmBmb3JgKiogYHZhbHVlYCAqKmBpbmAqKiBgYXJyYXlgXG4gKiAgICAgKiBgbGFiZWxgICoqYGdyb3VwIGJ5YCoqIGBncm91cGAgKipgZm9yYCoqIGB2YWx1ZWAgKipgaW5gKiogYGFycmF5YFxuICogICAgICogYGxhYmVsYCAqKmBkaXNhYmxlIHdoZW5gKiogYGRpc2FibGVgICoqYGZvcmAqKiBgdmFsdWVgICoqYGluYCoqIGBhcnJheWBcbiAqICAgICAqIGBsYWJlbGAgKipgZ3JvdXAgYnlgKiogYGdyb3VwYCAqKmBmb3JgKiogYHZhbHVlYCAqKmBpbmAqKiBgYXJyYXlgICoqYHRyYWNrIGJ5YCoqIGB0cmFja2V4cHJgXG4gKiAgICAgKiBgbGFiZWxgICoqYGRpc2FibGUgd2hlbmAqKiBgZGlzYWJsZWAgKipgZm9yYCoqIGB2YWx1ZWAgKipgaW5gKiogYGFycmF5YCAqKmB0cmFjayBieWAqKiBgdHJhY2tleHByYFxuICogICAgICogYGxhYmVsYCAqKmBmb3JgKiogYHZhbHVlYCAqKmBpbmAqKiBgYXJyYXlgIHwgb3JkZXJCeTpgb3JkZXJleHByYCAqKmB0cmFjayBieWAqKiBgdHJhY2tleHByYFxuICogICAgICAgIChmb3IgaW5jbHVkaW5nIGEgZmlsdGVyIHdpdGggYHRyYWNrIGJ5YClcbiAqICAgKiBmb3Igb2JqZWN0IGRhdGEgc291cmNlczpcbiAqICAgICAqIGBsYWJlbGAgKipgZm9yIChgKipga2V5YCAqKmAsYCoqIGB2YWx1ZWAqKmApIGluYCoqIGBvYmplY3RgXG4gKiAgICAgKiBgc2VsZWN0YCAqKmBhc2AqKiBgbGFiZWxgICoqYGZvciAoYCoqYGtleWAgKipgLGAqKiBgdmFsdWVgKipgKSBpbmAqKiBgb2JqZWN0YFxuICogICAgICogYGxhYmVsYCAqKmBncm91cCBieWAqKiBgZ3JvdXBgICoqYGZvciAoYCoqYGtleWAqKmAsYCoqIGB2YWx1ZWAqKmApIGluYCoqIGBvYmplY3RgXG4gKiAgICAgKiBgbGFiZWxgICoqYGRpc2FibGUgd2hlbmAqKiBgZGlzYWJsZWAgKipgZm9yIChgKipga2V5YCoqYCxgKiogYHZhbHVlYCoqYCkgaW5gKiogYG9iamVjdGBcbiAqICAgICAqIGBzZWxlY3RgICoqYGFzYCoqIGBsYWJlbGAgKipgZ3JvdXAgYnlgKiogYGdyb3VwYFxuICogICAgICAgICAqKmBmb3JgIGAoYCoqYGtleWAqKmAsYCoqIGB2YWx1ZWAqKmApIGluYCoqIGBvYmplY3RgXG4gKiAgICAgKiBgc2VsZWN0YCAqKmBhc2AqKiBgbGFiZWxgICoqYGRpc2FibGUgd2hlbmAqKiBgZGlzYWJsZWBcbiAqICAgICAgICAgKipgZm9yYCBgKGAqKmBrZXlgKipgLGAqKiBgdmFsdWVgKipgKSBpbmAqKiBgb2JqZWN0YFxuICpcbiAqIFdoZXJlOlxuICpcbiAqICAgKiBgYXJyYXlgIC8gYG9iamVjdGA6IGFuIGV4cHJlc3Npb24gd2hpY2ggZXZhbHVhdGVzIHRvIGFuIGFycmF5IC8gb2JqZWN0IHRvIGl0ZXJhdGUgb3Zlci5cbiAqICAgKiBgdmFsdWVgOiBsb2NhbCB2YXJpYWJsZSB3aGljaCB3aWxsIHJlZmVyIHRvIGVhY2ggaXRlbSBpbiB0aGUgYGFycmF5YCBvciBlYWNoIHByb3BlcnR5IHZhbHVlXG4gKiAgICAgIG9mIGBvYmplY3RgIGR1cmluZyBpdGVyYXRpb24uXG4gKiAgICogYGtleWA6IGxvY2FsIHZhcmlhYmxlIHdoaWNoIHdpbGwgcmVmZXIgdG8gYSBwcm9wZXJ0eSBuYW1lIGluIGBvYmplY3RgIGR1cmluZyBpdGVyYXRpb24uXG4gKiAgICogYGxhYmVsYDogVGhlIHJlc3VsdCBvZiB0aGlzIGV4cHJlc3Npb24gd2lsbCBiZSB0aGUgbGFiZWwgZm9yIGA8b3B0aW9uPmAgZWxlbWVudC4gVGhlXG4gKiAgICAgYGV4cHJlc3Npb25gIHdpbGwgbW9zdCBsaWtlbHkgcmVmZXIgdG8gdGhlIGB2YWx1ZWAgdmFyaWFibGUgKGUuZy4gYHZhbHVlLnByb3BlcnR5TmFtZWApLlxuICogICAqIGBzZWxlY3RgOiBUaGUgcmVzdWx0IG9mIHRoaXMgZXhwcmVzc2lvbiB3aWxsIGJlIGJvdW5kIHRvIHRoZSBtb2RlbCBvZiB0aGUgcGFyZW50IGA8c2VsZWN0PmBcbiAqICAgICAgZWxlbWVudC4gSWYgbm90IHNwZWNpZmllZCwgYHNlbGVjdGAgZXhwcmVzc2lvbiB3aWxsIGRlZmF1bHQgdG8gYHZhbHVlYC5cbiAqICAgKiBgZ3JvdXBgOiBUaGUgcmVzdWx0IG9mIHRoaXMgZXhwcmVzc2lvbiB3aWxsIGJlIHVzZWQgdG8gZ3JvdXAgb3B0aW9ucyB1c2luZyB0aGUgYDxvcHRncm91cD5gXG4gKiAgICAgIERPTSBlbGVtZW50LlxuICogICAqIGBkaXNhYmxlYDogVGhlIHJlc3VsdCBvZiB0aGlzIGV4cHJlc3Npb24gd2lsbCBiZSB1c2VkIHRvIGRpc2FibGUgdGhlIHJlbmRlcmVkIGA8b3B0aW9uPmBcbiAqICAgICAgZWxlbWVudC4gUmV0dXJuIGB0cnVlYCB0byBkaXNhYmxlLlxuICogICAqIGB0cmFja2V4cHJgOiBVc2VkIHdoZW4gd29ya2luZyB3aXRoIGFuIGFycmF5IG9mIG9iamVjdHMuIFRoZSByZXN1bHQgb2YgdGhpcyBleHByZXNzaW9uIHdpbGwgYmVcbiAqICAgICAgdXNlZCB0byBpZGVudGlmeSB0aGUgb2JqZWN0cyBpbiB0aGUgYXJyYXkuIFRoZSBgdHJhY2tleHByYCB3aWxsIG1vc3QgbGlrZWx5IHJlZmVyIHRvIHRoZVxuICogICAgIGB2YWx1ZWAgdmFyaWFibGUgKGUuZy4gYHZhbHVlLnByb3BlcnR5TmFtZWApLiBXaXRoIHRoaXMgdGhlIHNlbGVjdGlvbiBpcyBwcmVzZXJ2ZWRcbiAqICAgICAgZXZlbiB3aGVuIHRoZSBvcHRpb25zIGFyZSByZWNyZWF0ZWQgKGUuZy4gcmVsb2FkZWQgZnJvbSB0aGUgc2VydmVyKS5cbiAqIEBwYXJhbSB7c3RyaW5nPX0gbmFtZSBQcm9wZXJ0eSBuYW1lIG9mIHRoZSBmb3JtIHVuZGVyIHdoaWNoIHRoZSBjb250cm9sIGlzIHB1Ymxpc2hlZC5cbiAqIEBwYXJhbSB7c3RyaW5nPX0gcmVxdWlyZWQgVGhlIGNvbnRyb2wgaXMgY29uc2lkZXJlZCB2YWxpZCBvbmx5IGlmIHZhbHVlIGlzIGVudGVyZWQuXG4gKiBAcGFyYW0ge3N0cmluZz19IG5nUmVxdWlyZWQgQWRkcyBgcmVxdWlyZWRgIGF0dHJpYnV0ZSBhbmQgYHJlcXVpcmVkYCB2YWxpZGF0aW9uIGNvbnN0cmFpbnQgdG9cbiAqICAgIHRoZSBlbGVtZW50IHdoZW4gdGhlIG5nUmVxdWlyZWQgZXhwcmVzc2lvbiBldmFsdWF0ZXMgdG8gdHJ1ZS4gVXNlIGBuZ1JlcXVpcmVkYCBpbnN0ZWFkIG9mXG4gKiAgICBgcmVxdWlyZWRgIHdoZW4geW91IHdhbnQgdG8gZGF0YS1iaW5kIHRvIHRoZSBgcmVxdWlyZWRgIGF0dHJpYnV0ZS5cbiAqIEBwYXJhbSB7c3RyaW5nPX0gbmdBdHRyU2l6ZSBzZXRzIHRoZSBzaXplIG9mIHRoZSBzZWxlY3QgZWxlbWVudCBkeW5hbWljYWxseS4gVXNlcyB0aGVcbiAqIHtAbGluayBndWlkZS9pbnRlcnBvbGF0aW9uIy1uZ2F0dHItZm9yLWJpbmRpbmctdG8tYXJiaXRyYXJ5LWF0dHJpYnV0ZXMgbmdBdHRyfSBkaXJlY3RpdmUuXG4gKlxuICogQGV4YW1wbGVcbiAgICA8ZXhhbXBsZSBtb2R1bGU9XCJzZWxlY3RFeGFtcGxlXCIgbmFtZT1cInNlbGVjdFwiPlxuICAgICAgPGZpbGUgbmFtZT1cImluZGV4Lmh0bWxcIj5cbiAgICAgICAgPHNjcmlwdD5cbiAgICAgICAgYW5ndWxhci5tb2R1bGUoJ3NlbGVjdEV4YW1wbGUnLCBbXSlcbiAgICAgICAgICAuY29udHJvbGxlcignRXhhbXBsZUNvbnRyb2xsZXInLCBbJyRzY29wZScsIGZ1bmN0aW9uKCRzY29wZSkge1xuICAgICAgICAgICAgJHNjb3BlLmNvbG9ycyA9IFtcbiAgICAgICAgICAgICAge25hbWU6J2JsYWNrJywgc2hhZGU6J2RhcmsnfSxcbiAgICAgICAgICAgICAge25hbWU6J3doaXRlJywgc2hhZGU6J2xpZ2h0Jywgbm90QW5PcHRpb246IHRydWV9LFxuICAgICAgICAgICAgICB7bmFtZToncmVkJywgc2hhZGU6J2RhcmsnfSxcbiAgICAgICAgICAgICAge25hbWU6J2JsdWUnLCBzaGFkZTonZGFyaycsIG5vdEFuT3B0aW9uOiB0cnVlfSxcbiAgICAgICAgICAgICAge25hbWU6J3llbGxvdycsIHNoYWRlOidsaWdodCcsIG5vdEFuT3B0aW9uOiBmYWxzZX1cbiAgICAgICAgICAgIF07XG4gICAgICAgICAgICAkc2NvcGUubXlDb2xvciA9ICRzY29wZS5jb2xvcnNbMl07IC8vIHJlZFxuICAgICAgICAgIH1dKTtcbiAgICAgICAgPC9zY3JpcHQ+XG4gICAgICAgIDxkaXYgbmctY29udHJvbGxlcj1cIkV4YW1wbGVDb250cm9sbGVyXCI+XG4gICAgICAgICAgPHVsPlxuICAgICAgICAgICAgPGxpIG5nLXJlcGVhdD1cImNvbG9yIGluIGNvbG9yc1wiPlxuICAgICAgICAgICAgICA8bGFiZWw+TmFtZTogPGlucHV0IG5nLW1vZGVsPVwiY29sb3IubmFtZVwiPjwvbGFiZWw+XG4gICAgICAgICAgICAgIDxsYWJlbD48aW5wdXQgdHlwZT1cImNoZWNrYm94XCIgbmctbW9kZWw9XCJjb2xvci5ub3RBbk9wdGlvblwiPiBEaXNhYmxlZD88L2xhYmVsPlxuICAgICAgICAgICAgICA8YnV0dG9uIG5nLWNsaWNrPVwiY29sb3JzLnNwbGljZSgkaW5kZXgsIDEpXCIgYXJpYS1sYWJlbD1cIlJlbW92ZVwiPlg8L2J1dHRvbj5cbiAgICAgICAgICAgIDwvbGk+XG4gICAgICAgICAgICA8bGk+XG4gICAgICAgICAgICAgIDxidXR0b24gbmctY2xpY2s9XCJjb2xvcnMucHVzaCh7fSlcIj5hZGQ8L2J1dHRvbj5cbiAgICAgICAgICAgIDwvbGk+XG4gICAgICAgICAgPC91bD5cbiAgICAgICAgICA8aHIvPlxuICAgICAgICAgIDxsYWJlbD5Db2xvciAobnVsbCBub3QgYWxsb3dlZCk6XG4gICAgICAgICAgICA8c2VsZWN0IG5nLW1vZGVsPVwibXlDb2xvclwiIG5nLW9wdGlvbnM9XCJjb2xvci5uYW1lIGZvciBjb2xvciBpbiBjb2xvcnNcIj48L3NlbGVjdD5cbiAgICAgICAgICA8L2xhYmVsPjxici8+XG4gICAgICAgICAgPGxhYmVsPkNvbG9yIChudWxsIGFsbG93ZWQpOlxuICAgICAgICAgIDxzcGFuICBjbGFzcz1cIm51bGxhYmxlXCI+XG4gICAgICAgICAgICA8c2VsZWN0IG5nLW1vZGVsPVwibXlDb2xvclwiIG5nLW9wdGlvbnM9XCJjb2xvci5uYW1lIGZvciBjb2xvciBpbiBjb2xvcnNcIj5cbiAgICAgICAgICAgICAgPG9wdGlvbiB2YWx1ZT1cIlwiPi0tIGNob29zZSBjb2xvciAtLTwvb3B0aW9uPlxuICAgICAgICAgICAgPC9zZWxlY3Q+XG4gICAgICAgICAgPC9zcGFuPjwvbGFiZWw+PGJyLz5cblxuICAgICAgICAgIDxsYWJlbD5Db2xvciBncm91cGVkIGJ5IHNoYWRlOlxuICAgICAgICAgICAgPHNlbGVjdCBuZy1tb2RlbD1cIm15Q29sb3JcIiBuZy1vcHRpb25zPVwiY29sb3IubmFtZSBncm91cCBieSBjb2xvci5zaGFkZSBmb3IgY29sb3IgaW4gY29sb3JzXCI+XG4gICAgICAgICAgICA8L3NlbGVjdD5cbiAgICAgICAgICA8L2xhYmVsPjxici8+XG5cbiAgICAgICAgICA8bGFiZWw+Q29sb3IgZ3JvdXBlZCBieSBzaGFkZSwgd2l0aCBzb21lIGRpc2FibGVkOlxuICAgICAgICAgICAgPHNlbGVjdCBuZy1tb2RlbD1cIm15Q29sb3JcIlxuICAgICAgICAgICAgICAgICAgbmctb3B0aW9ucz1cImNvbG9yLm5hbWUgZ3JvdXAgYnkgY29sb3Iuc2hhZGUgZGlzYWJsZSB3aGVuIGNvbG9yLm5vdEFuT3B0aW9uIGZvciBjb2xvciBpbiBjb2xvcnNcIj5cbiAgICAgICAgICAgIDwvc2VsZWN0PlxuICAgICAgICAgIDwvbGFiZWw+PGJyLz5cblxuXG5cbiAgICAgICAgICBTZWxlY3QgPGJ1dHRvbiBuZy1jbGljaz1cIm15Q29sb3IgPSB7IG5hbWU6J25vdCBpbiBsaXN0Jywgc2hhZGU6ICdvdGhlcicgfVwiPmJvZ3VzPC9idXR0b24+LlxuICAgICAgICAgIDxici8+XG4gICAgICAgICAgPGhyLz5cbiAgICAgICAgICBDdXJyZW50bHkgc2VsZWN0ZWQ6IHt7IHtzZWxlY3RlZF9jb2xvcjpteUNvbG9yfSB9fVxuICAgICAgICAgIDxkaXYgc3R5bGU9XCJib3JkZXI6c29saWQgMXB4IGJsYWNrOyBoZWlnaHQ6MjBweFwiXG4gICAgICAgICAgICAgICBuZy1zdHlsZT1cInsnYmFja2dyb3VuZC1jb2xvcic6bXlDb2xvci5uYW1lfVwiPlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvZmlsZT5cbiAgICAgIDxmaWxlIG5hbWU9XCJwcm90cmFjdG9yLmpzXCIgdHlwZT1cInByb3RyYWN0b3JcIj5cbiAgICAgICAgIGl0KCdzaG91bGQgY2hlY2sgbmctb3B0aW9ucycsIGZ1bmN0aW9uKCkge1xuICAgICAgICAgICBleHBlY3QoZWxlbWVudChieS5iaW5kaW5nKCd7c2VsZWN0ZWRfY29sb3I6bXlDb2xvcn0nKSkuZ2V0VGV4dCgpKS50b01hdGNoKCdyZWQnKTtcbiAgICAgICAgICAgZWxlbWVudC5hbGwoYnkubW9kZWwoJ215Q29sb3InKSkuZmlyc3QoKS5jbGljaygpO1xuICAgICAgICAgICBlbGVtZW50LmFsbChieS5jc3MoJ3NlbGVjdFtuZy1tb2RlbD1cIm15Q29sb3JcIl0gb3B0aW9uJykpLmZpcnN0KCkuY2xpY2soKTtcbiAgICAgICAgICAgZXhwZWN0KGVsZW1lbnQoYnkuYmluZGluZygne3NlbGVjdGVkX2NvbG9yOm15Q29sb3J9JykpLmdldFRleHQoKSkudG9NYXRjaCgnYmxhY2snKTtcbiAgICAgICAgICAgZWxlbWVudChieS5jc3MoJy5udWxsYWJsZSBzZWxlY3RbbmctbW9kZWw9XCJteUNvbG9yXCJdJykpLmNsaWNrKCk7XG4gICAgICAgICAgIGVsZW1lbnQuYWxsKGJ5LmNzcygnLm51bGxhYmxlIHNlbGVjdFtuZy1tb2RlbD1cIm15Q29sb3JcIl0gb3B0aW9uJykpLmZpcnN0KCkuY2xpY2soKTtcbiAgICAgICAgICAgZXhwZWN0KGVsZW1lbnQoYnkuYmluZGluZygne3NlbGVjdGVkX2NvbG9yOm15Q29sb3J9JykpLmdldFRleHQoKSkudG9NYXRjaCgnbnVsbCcpO1xuICAgICAgICAgfSk7XG4gICAgICA8L2ZpbGU+XG4gICAgPC9leGFtcGxlPlxuICovXG5cbi8qIGVzbGludC1kaXNhYmxlIG1heC1sZW4gKi9cbi8vICAgICAgICAgICAgICAgICAgICAgLy8wMDAwMTExMTExMTExMTAwMDAwMDAwMDAwMjIyMjIyMjIyMjAwMDAwMDAwMDAwMDAwMDAwMDAwMDMzMzMzMzMzMzMwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwNDQ0NDQ0NDQ0NDQwMDAwMDAwMDAwMDAwNTU1NTU1NTU1NTU1NTAwMDAwMDAwMDY2NjY2NjY2NjY2NjYwMDAwMDAwNzc3Nzc3Nzc3Nzc3NzAwMDAwMDAwMDAwMDAwMDg4ODg4ODg4ODgwMDAwMDAwMDAwMDAwMDAwMDAwOTk5OTk5OTk5OVxudmFyIE5HX09QVElPTlNfUkVHRVhQID0gL15cXHMqKFtcXHNcXFNdKz8pKD86XFxzK2FzXFxzKyhbXFxzXFxTXSs/KSk/KD86XFxzK2dyb3VwXFxzK2J5XFxzKyhbXFxzXFxTXSs/KSk/KD86XFxzK2Rpc2FibGVcXHMrd2hlblxccysoW1xcc1xcU10rPykpP1xccytmb3JcXHMrKD86KFskXFx3XVskXFx3XSopfCg/OlxcKFxccyooWyRcXHddWyRcXHddKilcXHMqLFxccyooWyRcXHddWyRcXHddKilcXHMqXFwpKSlcXHMraW5cXHMrKFtcXHNcXFNdKz8pKD86XFxzK3RyYWNrXFxzK2J5XFxzKyhbXFxzXFxTXSs/KSk/JC87XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyAxOiB2YWx1ZSBleHByZXNzaW9uICh2YWx1ZUZuKVxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gMjogbGFiZWwgZXhwcmVzc2lvbiAoZGlzcGxheUZuKVxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gMzogZ3JvdXAgYnkgZXhwcmVzc2lvbiAoZ3JvdXBCeUZuKVxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gNDogZGlzYWJsZSB3aGVuIGV4cHJlc3Npb24gKGRpc2FibGVXaGVuRm4pXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyA1OiBhcnJheSBpdGVtIHZhcmlhYmxlIG5hbWVcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIDY6IG9iamVjdCBpdGVtIGtleSB2YXJpYWJsZSBuYW1lXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyA3OiBvYmplY3QgaXRlbSB2YWx1ZSB2YXJpYWJsZSBuYW1lXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyA4OiBjb2xsZWN0aW9uIGV4cHJlc3Npb25cbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIDk6IHRyYWNrIGJ5IGV4cHJlc3Npb25cbi8qIGVzbGludC1lbmFibGUgKi9cblxuXG52YXIgbmdPcHRpb25zRGlyZWN0aXZlID0gWyckY29tcGlsZScsICckZG9jdW1lbnQnLCAnJHBhcnNlJywgZnVuY3Rpb24oJGNvbXBpbGUsICRkb2N1bWVudCwgJHBhcnNlKSB7XG5cbiAgZnVuY3Rpb24gcGFyc2VPcHRpb25zRXhwcmVzc2lvbihvcHRpb25zRXhwLCBzZWxlY3RFbGVtZW50LCBzY29wZSkge1xuXG4gICAgdmFyIG1hdGNoID0gb3B0aW9uc0V4cC5tYXRjaChOR19PUFRJT05TX1JFR0VYUCk7XG4gICAgaWYgKCEobWF0Y2gpKSB7XG4gICAgICB0aHJvdyBuZ09wdGlvbnNNaW5FcnIoJ2lleHAnLFxuICAgICAgICAnRXhwZWN0ZWQgZXhwcmVzc2lvbiBpbiBmb3JtIG9mICcgK1xuICAgICAgICAnXFwnX3NlbGVjdF8gKGFzIF9sYWJlbF8pPyBmb3IgKF9rZXlfLCk/X3ZhbHVlXyBpbiBfY29sbGVjdGlvbl9cXCcnICtcbiAgICAgICAgJyBidXQgZ290IFxcJ3swfVxcJy4gRWxlbWVudDogezF9JyxcbiAgICAgICAgb3B0aW9uc0V4cCwgc3RhcnRpbmdUYWcoc2VsZWN0RWxlbWVudCkpO1xuICAgIH1cblxuICAgIC8vIEV4dHJhY3QgdGhlIHBhcnRzIGZyb20gdGhlIG5nT3B0aW9ucyBleHByZXNzaW9uXG5cbiAgICAvLyBUaGUgdmFyaWFibGUgbmFtZSBmb3IgdGhlIHZhbHVlIG9mIHRoZSBpdGVtIGluIHRoZSBjb2xsZWN0aW9uXG4gICAgdmFyIHZhbHVlTmFtZSA9IG1hdGNoWzVdIHx8IG1hdGNoWzddO1xuICAgIC8vIFRoZSB2YXJpYWJsZSBuYW1lIGZvciB0aGUga2V5IG9mIHRoZSBpdGVtIGluIHRoZSBjb2xsZWN0aW9uXG4gICAgdmFyIGtleU5hbWUgPSBtYXRjaFs2XTtcblxuICAgIC8vIEFuIGV4cHJlc3Npb24gdGhhdCBnZW5lcmF0ZXMgdGhlIHZpZXdWYWx1ZSBmb3IgYW4gb3B0aW9uIGlmIHRoZXJlIGlzIGEgbGFiZWwgZXhwcmVzc2lvblxuICAgIHZhciBzZWxlY3RBcyA9IC8gYXMgLy50ZXN0KG1hdGNoWzBdKSAmJiBtYXRjaFsxXTtcbiAgICAvLyBBbiBleHByZXNzaW9uIHRoYXQgaXMgdXNlZCB0byB0cmFjayB0aGUgaWQgb2YgZWFjaCBvYmplY3QgaW4gdGhlIG9wdGlvbnMgY29sbGVjdGlvblxuICAgIHZhciB0cmFja0J5ID0gbWF0Y2hbOV07XG4gICAgLy8gQW4gZXhwcmVzc2lvbiB0aGF0IGdlbmVyYXRlcyB0aGUgdmlld1ZhbHVlIGZvciBhbiBvcHRpb24gaWYgdGhlcmUgaXMgbm8gbGFiZWwgZXhwcmVzc2lvblxuICAgIHZhciB2YWx1ZUZuID0gJHBhcnNlKG1hdGNoWzJdID8gbWF0Y2hbMV0gOiB2YWx1ZU5hbWUpO1xuICAgIHZhciBzZWxlY3RBc0ZuID0gc2VsZWN0QXMgJiYgJHBhcnNlKHNlbGVjdEFzKTtcbiAgICB2YXIgdmlld1ZhbHVlRm4gPSBzZWxlY3RBc0ZuIHx8IHZhbHVlRm47XG4gICAgdmFyIHRyYWNrQnlGbiA9IHRyYWNrQnkgJiYgJHBhcnNlKHRyYWNrQnkpO1xuXG4gICAgLy8gR2V0IHRoZSB2YWx1ZSBieSB3aGljaCB3ZSBhcmUgZ29pbmcgdG8gdHJhY2sgdGhlIG9wdGlvblxuICAgIC8vIGlmIHdlIGhhdmUgYSB0cmFja0ZuIHRoZW4gdXNlIHRoYXQgKHBhc3Npbmcgc2NvcGUgYW5kIGxvY2FscylcbiAgICAvLyBvdGhlcndpc2UganVzdCBoYXNoIHRoZSBnaXZlbiB2aWV3VmFsdWVcbiAgICB2YXIgZ2V0VHJhY2tCeVZhbHVlRm4gPSB0cmFja0J5ID9cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZ1bmN0aW9uKHZhbHVlLCBsb2NhbHMpIHsgcmV0dXJuIHRyYWNrQnlGbihzY29wZSwgbG9jYWxzKTsgfSA6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmdW5jdGlvbiBnZXRIYXNoT2ZWYWx1ZSh2YWx1ZSkgeyByZXR1cm4gaGFzaEtleSh2YWx1ZSk7IH07XG4gICAgdmFyIGdldFRyYWNrQnlWYWx1ZSA9IGZ1bmN0aW9uKHZhbHVlLCBrZXkpIHtcbiAgICAgIHJldHVybiBnZXRUcmFja0J5VmFsdWVGbih2YWx1ZSwgZ2V0TG9jYWxzKHZhbHVlLCBrZXkpKTtcbiAgICB9O1xuXG4gICAgdmFyIGRpc3BsYXlGbiA9ICRwYXJzZShtYXRjaFsyXSB8fCBtYXRjaFsxXSk7XG4gICAgdmFyIGdyb3VwQnlGbiA9ICRwYXJzZShtYXRjaFszXSB8fCAnJyk7XG4gICAgdmFyIGRpc2FibGVXaGVuRm4gPSAkcGFyc2UobWF0Y2hbNF0gfHwgJycpO1xuICAgIHZhciB2YWx1ZXNGbiA9ICRwYXJzZShtYXRjaFs4XSk7XG5cbiAgICB2YXIgbG9jYWxzID0ge307XG4gICAgdmFyIGdldExvY2FscyA9IGtleU5hbWUgPyBmdW5jdGlvbih2YWx1ZSwga2V5KSB7XG4gICAgICBsb2NhbHNba2V5TmFtZV0gPSBrZXk7XG4gICAgICBsb2NhbHNbdmFsdWVOYW1lXSA9IHZhbHVlO1xuICAgICAgcmV0dXJuIGxvY2FscztcbiAgICB9IDogZnVuY3Rpb24odmFsdWUpIHtcbiAgICAgIGxvY2Fsc1t2YWx1ZU5hbWVdID0gdmFsdWU7XG4gICAgICByZXR1cm4gbG9jYWxzO1xuICAgIH07XG5cblxuICAgIGZ1bmN0aW9uIE9wdGlvbihzZWxlY3RWYWx1ZSwgdmlld1ZhbHVlLCBsYWJlbCwgZ3JvdXAsIGRpc2FibGVkKSB7XG4gICAgICB0aGlzLnNlbGVjdFZhbHVlID0gc2VsZWN0VmFsdWU7XG4gICAgICB0aGlzLnZpZXdWYWx1ZSA9IHZpZXdWYWx1ZTtcbiAgICAgIHRoaXMubGFiZWwgPSBsYWJlbDtcbiAgICAgIHRoaXMuZ3JvdXAgPSBncm91cDtcbiAgICAgIHRoaXMuZGlzYWJsZWQgPSBkaXNhYmxlZDtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBnZXRPcHRpb25WYWx1ZXNLZXlzKG9wdGlvblZhbHVlcykge1xuICAgICAgdmFyIG9wdGlvblZhbHVlc0tleXM7XG5cbiAgICAgIGlmICgha2V5TmFtZSAmJiBpc0FycmF5TGlrZShvcHRpb25WYWx1ZXMpKSB7XG4gICAgICAgIG9wdGlvblZhbHVlc0tleXMgPSBvcHRpb25WYWx1ZXM7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICAvLyBpZiBvYmplY3QsIGV4dHJhY3Qga2V5cywgaW4gZW51bWVyYXRpb24gb3JkZXIsIHVuc29ydGVkXG4gICAgICAgIG9wdGlvblZhbHVlc0tleXMgPSBbXTtcbiAgICAgICAgZm9yICh2YXIgaXRlbUtleSBpbiBvcHRpb25WYWx1ZXMpIHtcbiAgICAgICAgICBpZiAob3B0aW9uVmFsdWVzLmhhc093blByb3BlcnR5KGl0ZW1LZXkpICYmIGl0ZW1LZXkuY2hhckF0KDApICE9PSAnJCcpIHtcbiAgICAgICAgICAgIG9wdGlvblZhbHVlc0tleXMucHVzaChpdGVtS2V5KTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiBvcHRpb25WYWx1ZXNLZXlzO1xuICAgIH1cblxuICAgIHJldHVybiB7XG4gICAgICB0cmFja0J5OiB0cmFja0J5LFxuICAgICAgZ2V0VHJhY2tCeVZhbHVlOiBnZXRUcmFja0J5VmFsdWUsXG4gICAgICBnZXRXYXRjaGFibGVzOiAkcGFyc2UodmFsdWVzRm4sIGZ1bmN0aW9uKG9wdGlvblZhbHVlcykge1xuICAgICAgICAvLyBDcmVhdGUgYSBjb2xsZWN0aW9uIG9mIHRoaW5ncyB0aGF0IHdlIHdvdWxkIGxpa2UgdG8gd2F0Y2ggKHdhdGNoZWRBcnJheSlcbiAgICAgICAgLy8gc28gdGhhdCB0aGV5IGNhbiBhbGwgYmUgd2F0Y2hlZCB1c2luZyBhIHNpbmdsZSAkd2F0Y2hDb2xsZWN0aW9uXG4gICAgICAgIC8vIHRoYXQgb25seSBydW5zIHRoZSBoYW5kbGVyIG9uY2UgaWYgYW55dGhpbmcgY2hhbmdlc1xuICAgICAgICB2YXIgd2F0Y2hlZEFycmF5ID0gW107XG4gICAgICAgIG9wdGlvblZhbHVlcyA9IG9wdGlvblZhbHVlcyB8fCBbXTtcblxuICAgICAgICB2YXIgb3B0aW9uVmFsdWVzS2V5cyA9IGdldE9wdGlvblZhbHVlc0tleXMob3B0aW9uVmFsdWVzKTtcbiAgICAgICAgdmFyIG9wdGlvblZhbHVlc0xlbmd0aCA9IG9wdGlvblZhbHVlc0tleXMubGVuZ3RoO1xuICAgICAgICBmb3IgKHZhciBpbmRleCA9IDA7IGluZGV4IDwgb3B0aW9uVmFsdWVzTGVuZ3RoOyBpbmRleCsrKSB7XG4gICAgICAgICAgdmFyIGtleSA9IChvcHRpb25WYWx1ZXMgPT09IG9wdGlvblZhbHVlc0tleXMpID8gaW5kZXggOiBvcHRpb25WYWx1ZXNLZXlzW2luZGV4XTtcbiAgICAgICAgICB2YXIgdmFsdWUgPSBvcHRpb25WYWx1ZXNba2V5XTtcblxuICAgICAgICAgIHZhciBsb2NhbHMgPSBnZXRMb2NhbHModmFsdWUsIGtleSk7XG4gICAgICAgICAgdmFyIHNlbGVjdFZhbHVlID0gZ2V0VHJhY2tCeVZhbHVlRm4odmFsdWUsIGxvY2Fscyk7XG4gICAgICAgICAgd2F0Y2hlZEFycmF5LnB1c2goc2VsZWN0VmFsdWUpO1xuXG4gICAgICAgICAgLy8gT25seSBuZWVkIHRvIHdhdGNoIHRoZSBkaXNwbGF5Rm4gaWYgdGhlcmUgaXMgYSBzcGVjaWZpYyBsYWJlbCBleHByZXNzaW9uXG4gICAgICAgICAgaWYgKG1hdGNoWzJdIHx8IG1hdGNoWzFdKSB7XG4gICAgICAgICAgICB2YXIgbGFiZWwgPSBkaXNwbGF5Rm4oc2NvcGUsIGxvY2Fscyk7XG4gICAgICAgICAgICB3YXRjaGVkQXJyYXkucHVzaChsYWJlbCk7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgLy8gT25seSBuZWVkIHRvIHdhdGNoIHRoZSBkaXNhYmxlV2hlbkZuIGlmIHRoZXJlIGlzIGEgc3BlY2lmaWMgZGlzYWJsZSBleHByZXNzaW9uXG4gICAgICAgICAgaWYgKG1hdGNoWzRdKSB7XG4gICAgICAgICAgICB2YXIgZGlzYWJsZVdoZW4gPSBkaXNhYmxlV2hlbkZuKHNjb3BlLCBsb2NhbHMpO1xuICAgICAgICAgICAgd2F0Y2hlZEFycmF5LnB1c2goZGlzYWJsZVdoZW4pO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gd2F0Y2hlZEFycmF5O1xuICAgICAgfSksXG5cbiAgICAgIGdldE9wdGlvbnM6IGZ1bmN0aW9uKCkge1xuXG4gICAgICAgIHZhciBvcHRpb25JdGVtcyA9IFtdO1xuICAgICAgICB2YXIgc2VsZWN0VmFsdWVNYXAgPSB7fTtcblxuICAgICAgICAvLyBUaGUgb3B0aW9uIHZhbHVlcyB3ZXJlIGFscmVhZHkgY29tcHV0ZWQgaW4gdGhlIGBnZXRXYXRjaGFibGVzYCBmbixcbiAgICAgICAgLy8gd2hpY2ggbXVzdCBoYXZlIGJlZW4gY2FsbGVkIHRvIHRyaWdnZXIgYGdldE9wdGlvbnNgXG4gICAgICAgIHZhciBvcHRpb25WYWx1ZXMgPSB2YWx1ZXNGbihzY29wZSkgfHwgW107XG4gICAgICAgIHZhciBvcHRpb25WYWx1ZXNLZXlzID0gZ2V0T3B0aW9uVmFsdWVzS2V5cyhvcHRpb25WYWx1ZXMpO1xuICAgICAgICB2YXIgb3B0aW9uVmFsdWVzTGVuZ3RoID0gb3B0aW9uVmFsdWVzS2V5cy5sZW5ndGg7XG5cbiAgICAgICAgZm9yICh2YXIgaW5kZXggPSAwOyBpbmRleCA8IG9wdGlvblZhbHVlc0xlbmd0aDsgaW5kZXgrKykge1xuICAgICAgICAgIHZhciBrZXkgPSAob3B0aW9uVmFsdWVzID09PSBvcHRpb25WYWx1ZXNLZXlzKSA/IGluZGV4IDogb3B0aW9uVmFsdWVzS2V5c1tpbmRleF07XG4gICAgICAgICAgdmFyIHZhbHVlID0gb3B0aW9uVmFsdWVzW2tleV07XG4gICAgICAgICAgdmFyIGxvY2FscyA9IGdldExvY2Fscyh2YWx1ZSwga2V5KTtcbiAgICAgICAgICB2YXIgdmlld1ZhbHVlID0gdmlld1ZhbHVlRm4oc2NvcGUsIGxvY2Fscyk7XG4gICAgICAgICAgdmFyIHNlbGVjdFZhbHVlID0gZ2V0VHJhY2tCeVZhbHVlRm4odmlld1ZhbHVlLCBsb2NhbHMpO1xuICAgICAgICAgIHZhciBsYWJlbCA9IGRpc3BsYXlGbihzY29wZSwgbG9jYWxzKTtcbiAgICAgICAgICB2YXIgZ3JvdXAgPSBncm91cEJ5Rm4oc2NvcGUsIGxvY2Fscyk7XG4gICAgICAgICAgdmFyIGRpc2FibGVkID0gZGlzYWJsZVdoZW5GbihzY29wZSwgbG9jYWxzKTtcbiAgICAgICAgICB2YXIgb3B0aW9uSXRlbSA9IG5ldyBPcHRpb24oc2VsZWN0VmFsdWUsIHZpZXdWYWx1ZSwgbGFiZWwsIGdyb3VwLCBkaXNhYmxlZCk7XG5cbiAgICAgICAgICBvcHRpb25JdGVtcy5wdXNoKG9wdGlvbkl0ZW0pO1xuICAgICAgICAgIHNlbGVjdFZhbHVlTWFwW3NlbGVjdFZhbHVlXSA9IG9wdGlvbkl0ZW07XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIGl0ZW1zOiBvcHRpb25JdGVtcyxcbiAgICAgICAgICBzZWxlY3RWYWx1ZU1hcDogc2VsZWN0VmFsdWVNYXAsXG4gICAgICAgICAgZ2V0T3B0aW9uRnJvbVZpZXdWYWx1ZTogZnVuY3Rpb24odmFsdWUpIHtcbiAgICAgICAgICAgIHJldHVybiBzZWxlY3RWYWx1ZU1hcFtnZXRUcmFja0J5VmFsdWUodmFsdWUpXTtcbiAgICAgICAgICB9LFxuICAgICAgICAgIGdldFZpZXdWYWx1ZUZyb21PcHRpb246IGZ1bmN0aW9uKG9wdGlvbikge1xuICAgICAgICAgICAgLy8gSWYgdGhlIHZpZXdWYWx1ZSBjb3VsZCBiZSBhbiBvYmplY3QgdGhhdCBtYXkgYmUgbXV0YXRlZCBieSB0aGUgYXBwbGljYXRpb24sXG4gICAgICAgICAgICAvLyB3ZSBuZWVkIHRvIG1ha2UgYSBjb3B5IGFuZCBub3QgcmV0dXJuIHRoZSByZWZlcmVuY2UgdG8gdGhlIHZhbHVlIG9uIHRoZSBvcHRpb24uXG4gICAgICAgICAgICByZXR1cm4gdHJhY2tCeSA/IGNvcHkob3B0aW9uLnZpZXdWYWx1ZSkgOiBvcHRpb24udmlld1ZhbHVlO1xuICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgIH1cbiAgICB9O1xuICB9XG5cblxuICAvLyB3ZSBjYW4ndCBqdXN0IGpxTGl0ZSgnPG9wdGlvbj4nKSBzaW5jZSBqcUxpdGUgaXMgbm90IHNtYXJ0IGVub3VnaFxuICAvLyB0byBjcmVhdGUgaXQgaW4gPHNlbGVjdD4gYW5kIElFIGJhcmZzIG90aGVyd2lzZS5cbiAgdmFyIG9wdGlvblRlbXBsYXRlID0gd2luZG93LmRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ29wdGlvbicpLFxuICAgICAgb3B0R3JvdXBUZW1wbGF0ZSA9IHdpbmRvdy5kb2N1bWVudC5jcmVhdGVFbGVtZW50KCdvcHRncm91cCcpO1xuXG4gICAgZnVuY3Rpb24gbmdPcHRpb25zUG9zdExpbmsoc2NvcGUsIHNlbGVjdEVsZW1lbnQsIGF0dHIsIGN0cmxzKSB7XG5cbiAgICAgIHZhciBzZWxlY3RDdHJsID0gY3RybHNbMF07XG4gICAgICB2YXIgbmdNb2RlbEN0cmwgPSBjdHJsc1sxXTtcbiAgICAgIHZhciBtdWx0aXBsZSA9IGF0dHIubXVsdGlwbGU7XG5cbiAgICAgIC8vIFRoZSBlbXB0eU9wdGlvbiBhbGxvd3MgdGhlIGFwcGxpY2F0aW9uIGRldmVsb3BlciB0byBwcm92aWRlIHRoZWlyIG93biBjdXN0b20gXCJlbXB0eVwiXG4gICAgICAvLyBvcHRpb24gd2hlbiB0aGUgdmlld1ZhbHVlIGRvZXMgbm90IG1hdGNoIGFueSBvZiB0aGUgb3B0aW9uIHZhbHVlcy5cbiAgICAgIGZvciAodmFyIGkgPSAwLCBjaGlsZHJlbiA9IHNlbGVjdEVsZW1lbnQuY2hpbGRyZW4oKSwgaWkgPSBjaGlsZHJlbi5sZW5ndGg7IGkgPCBpaTsgaSsrKSB7XG4gICAgICAgIGlmIChjaGlsZHJlbltpXS52YWx1ZSA9PT0gJycpIHtcbiAgICAgICAgICBzZWxlY3RDdHJsLmhhc0VtcHR5T3B0aW9uID0gdHJ1ZTtcbiAgICAgICAgICBzZWxlY3RDdHJsLmVtcHR5T3B0aW9uID0gY2hpbGRyZW4uZXEoaSk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgdmFyIHByb3ZpZGVkRW1wdHlPcHRpb24gPSAhIXNlbGVjdEN0cmwuZW1wdHlPcHRpb247XG5cbiAgICAgIHZhciB1bmtub3duT3B0aW9uID0ganFMaXRlKG9wdGlvblRlbXBsYXRlLmNsb25lTm9kZShmYWxzZSkpO1xuICAgICAgdW5rbm93bk9wdGlvbi52YWwoJz8nKTtcblxuICAgICAgdmFyIG9wdGlvbnM7XG4gICAgICB2YXIgbmdPcHRpb25zID0gcGFyc2VPcHRpb25zRXhwcmVzc2lvbihhdHRyLm5nT3B0aW9ucywgc2VsZWN0RWxlbWVudCwgc2NvcGUpO1xuICAgICAgLy8gVGhpcyBzdG9yZXMgdGhlIG5ld2x5IGNyZWF0ZWQgb3B0aW9ucyBiZWZvcmUgdGhleSBhcmUgYXBwZW5kZWQgdG8gdGhlIHNlbGVjdC5cbiAgICAgIC8vIFNpbmNlIHRoZSBjb250ZW50cyBhcmUgcmVtb3ZlZCBmcm9tIHRoZSBmcmFnbWVudCB3aGVuIGl0IGlzIGFwcGVuZGVkLFxuICAgICAgLy8gd2Ugb25seSBuZWVkIHRvIGNyZWF0ZSBpdCBvbmNlLlxuICAgICAgdmFyIGxpc3RGcmFnbWVudCA9ICRkb2N1bWVudFswXS5jcmVhdGVEb2N1bWVudEZyYWdtZW50KCk7XG5cbiAgICAgIC8vIE92ZXJ3cml0ZSB0aGUgaW1wbGVtZW50YXRpb24uIG5nT3B0aW9ucyBkb2Vzbid0IHVzZSBoYXNoZXNcbiAgICAgIHNlbGVjdEN0cmwuZ2VuZXJhdGVVbmtub3duT3B0aW9uVmFsdWUgPSBmdW5jdGlvbih2YWwpIHtcbiAgICAgICAgcmV0dXJuICc/JztcbiAgICAgIH07XG5cbiAgICAgIC8vIFVwZGF0ZSB0aGUgY29udHJvbGxlciBtZXRob2RzIGZvciBtdWx0aXBsZSBzZWxlY3RhYmxlIG9wdGlvbnNcbiAgICAgIGlmICghbXVsdGlwbGUpIHtcblxuICAgICAgICBzZWxlY3RDdHJsLndyaXRlVmFsdWUgPSBmdW5jdGlvbiB3cml0ZU5nT3B0aW9uc1ZhbHVlKHZhbHVlKSB7XG4gICAgICAgICAgdmFyIHNlbGVjdGVkT3B0aW9uID0gb3B0aW9ucy5zZWxlY3RWYWx1ZU1hcFtzZWxlY3RFbGVtZW50LnZhbCgpXTtcbiAgICAgICAgICB2YXIgb3B0aW9uID0gb3B0aW9ucy5nZXRPcHRpb25Gcm9tVmlld1ZhbHVlKHZhbHVlKTtcblxuICAgICAgICAgIC8vIE1ha2Ugc3VyZSB0byByZW1vdmUgdGhlIHNlbGVjdGVkIGF0dHJpYnV0ZSBmcm9tIHRoZSBwcmV2aW91c2x5IHNlbGVjdGVkIG9wdGlvblxuICAgICAgICAgIC8vIE90aGVyd2lzZSwgc2NyZWVuIHJlYWRlcnMgbWlnaHQgZ2V0IGNvbmZ1c2VkXG4gICAgICAgICAgaWYgKHNlbGVjdGVkT3B0aW9uKSBzZWxlY3RlZE9wdGlvbi5lbGVtZW50LnJlbW92ZUF0dHJpYnV0ZSgnc2VsZWN0ZWQnKTtcblxuICAgICAgICAgIGlmIChvcHRpb24pIHtcbiAgICAgICAgICAgIC8vIERvbid0IHVwZGF0ZSB0aGUgb3B0aW9uIHdoZW4gaXQgaXMgYWxyZWFkeSBzZWxlY3RlZC5cbiAgICAgICAgICAgIC8vIEZvciBleGFtcGxlLCB0aGUgYnJvd3NlciB3aWxsIHNlbGVjdCB0aGUgZmlyc3Qgb3B0aW9uIGJ5IGRlZmF1bHQuIEluIHRoYXQgY2FzZSxcbiAgICAgICAgICAgIC8vIG1vc3QgcHJvcGVydGllcyBhcmUgc2V0IGF1dG9tYXRpY2FsbHkgLSBleGNlcHQgdGhlIGBzZWxlY3RlZGAgYXR0cmlidXRlLCB3aGljaCB3ZVxuICAgICAgICAgICAgLy8gc2V0IGFsd2F5c1xuXG4gICAgICAgICAgICBpZiAoc2VsZWN0RWxlbWVudFswXS52YWx1ZSAhPT0gb3B0aW9uLnNlbGVjdFZhbHVlKSB7XG4gICAgICAgICAgICAgIHNlbGVjdEN0cmwucmVtb3ZlVW5rbm93bk9wdGlvbigpO1xuICAgICAgICAgICAgICBzZWxlY3RDdHJsLnVuc2VsZWN0RW1wdHlPcHRpb24oKTtcblxuICAgICAgICAgICAgICBzZWxlY3RFbGVtZW50WzBdLnZhbHVlID0gb3B0aW9uLnNlbGVjdFZhbHVlO1xuICAgICAgICAgICAgICBvcHRpb24uZWxlbWVudC5zZWxlY3RlZCA9IHRydWU7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIG9wdGlvbi5lbGVtZW50LnNldEF0dHJpYnV0ZSgnc2VsZWN0ZWQnLCAnc2VsZWN0ZWQnKTtcbiAgICAgICAgICB9IGVsc2Uge1xuXG4gICAgICAgICAgICBpZiAocHJvdmlkZWRFbXB0eU9wdGlvbikge1xuICAgICAgICAgICAgICBzZWxlY3RDdHJsLnNlbGVjdEVtcHR5T3B0aW9uKCk7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKHNlbGVjdEN0cmwudW5rbm93bk9wdGlvbi5wYXJlbnQoKS5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgc2VsZWN0Q3RybC51cGRhdGVVbmtub3duT3B0aW9uKHZhbHVlKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIHNlbGVjdEN0cmwucmVuZGVyVW5rbm93bk9wdGlvbih2YWx1ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9O1xuXG4gICAgICAgIHNlbGVjdEN0cmwucmVhZFZhbHVlID0gZnVuY3Rpb24gcmVhZE5nT3B0aW9uc1ZhbHVlKCkge1xuXG4gICAgICAgICAgdmFyIHNlbGVjdGVkT3B0aW9uID0gb3B0aW9ucy5zZWxlY3RWYWx1ZU1hcFtzZWxlY3RFbGVtZW50LnZhbCgpXTtcblxuICAgICAgICAgIGlmIChzZWxlY3RlZE9wdGlvbiAmJiAhc2VsZWN0ZWRPcHRpb24uZGlzYWJsZWQpIHtcbiAgICAgICAgICAgIHNlbGVjdEN0cmwudW5zZWxlY3RFbXB0eU9wdGlvbigpO1xuICAgICAgICAgICAgc2VsZWN0Q3RybC5yZW1vdmVVbmtub3duT3B0aW9uKCk7XG4gICAgICAgICAgICByZXR1cm4gb3B0aW9ucy5nZXRWaWV3VmFsdWVGcm9tT3B0aW9uKHNlbGVjdGVkT3B0aW9uKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIH07XG5cbiAgICAgICAgLy8gSWYgd2UgYXJlIHVzaW5nIGB0cmFjayBieWAgdGhlbiB3ZSBtdXN0IHdhdGNoIHRoZSB0cmFja2VkIHZhbHVlIG9uIHRoZSBtb2RlbFxuICAgICAgICAvLyBzaW5jZSBuZ01vZGVsIG9ubHkgd2F0Y2hlcyBmb3Igb2JqZWN0IGlkZW50aXR5IGNoYW5nZVxuICAgICAgICAvLyBGSVhNRTogV2hlbiBhIHVzZXIgc2VsZWN0cyBhbiBvcHRpb24sIHRoaXMgd2F0Y2ggd2lsbCBmaXJlIG5lZWRsZXNzbHlcbiAgICAgICAgaWYgKG5nT3B0aW9ucy50cmFja0J5KSB7XG4gICAgICAgICAgc2NvcGUuJHdhdGNoKFxuICAgICAgICAgICAgZnVuY3Rpb24oKSB7IHJldHVybiBuZ09wdGlvbnMuZ2V0VHJhY2tCeVZhbHVlKG5nTW9kZWxDdHJsLiR2aWV3VmFsdWUpOyB9LFxuICAgICAgICAgICAgZnVuY3Rpb24oKSB7IG5nTW9kZWxDdHJsLiRyZW5kZXIoKTsgfVxuICAgICAgICAgICk7XG4gICAgICAgIH1cblxuICAgICAgfSBlbHNlIHtcblxuICAgICAgICBzZWxlY3RDdHJsLndyaXRlVmFsdWUgPSBmdW5jdGlvbiB3cml0ZU5nT3B0aW9uc011bHRpcGxlKHZhbHVlcykge1xuICAgICAgICAgIC8vIE9ubHkgc2V0IGA8b3B0aW9uPi5zZWxlY3RlZGAgaWYgbmVjZXNzYXJ5LCBpbiBvcmRlciB0byBwcmV2ZW50IHNvbWUgYnJvd3NlcnMgZnJvbVxuICAgICAgICAgIC8vIHNjcm9sbGluZyB0byBgPG9wdGlvbj5gIGVsZW1lbnRzIHRoYXQgYXJlIG91dHNpZGUgdGhlIGA8c2VsZWN0PmAgZWxlbWVudCdzIHZpZXdwb3J0LlxuXG4gICAgICAgICAgdmFyIHNlbGVjdGVkT3B0aW9ucyA9IHZhbHVlcyAmJiB2YWx1ZXMubWFwKGdldEFuZFVwZGF0ZVNlbGVjdGVkT3B0aW9uKSB8fCBbXTtcblxuICAgICAgICAgIG9wdGlvbnMuaXRlbXMuZm9yRWFjaChmdW5jdGlvbihvcHRpb24pIHtcbiAgICAgICAgICAgIGlmIChvcHRpb24uZWxlbWVudC5zZWxlY3RlZCAmJiAhaW5jbHVkZXMoc2VsZWN0ZWRPcHRpb25zLCBvcHRpb24pKSB7XG4gICAgICAgICAgICAgIG9wdGlvbi5lbGVtZW50LnNlbGVjdGVkID0gZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSk7XG4gICAgICAgIH07XG5cblxuICAgICAgICBzZWxlY3RDdHJsLnJlYWRWYWx1ZSA9IGZ1bmN0aW9uIHJlYWROZ09wdGlvbnNNdWx0aXBsZSgpIHtcbiAgICAgICAgICB2YXIgc2VsZWN0ZWRWYWx1ZXMgPSBzZWxlY3RFbGVtZW50LnZhbCgpIHx8IFtdLFxuICAgICAgICAgICAgICBzZWxlY3Rpb25zID0gW107XG5cbiAgICAgICAgICBmb3JFYWNoKHNlbGVjdGVkVmFsdWVzLCBmdW5jdGlvbih2YWx1ZSkge1xuICAgICAgICAgICAgdmFyIG9wdGlvbiA9IG9wdGlvbnMuc2VsZWN0VmFsdWVNYXBbdmFsdWVdO1xuICAgICAgICAgICAgaWYgKG9wdGlvbiAmJiAhb3B0aW9uLmRpc2FibGVkKSBzZWxlY3Rpb25zLnB1c2gob3B0aW9ucy5nZXRWaWV3VmFsdWVGcm9tT3B0aW9uKG9wdGlvbikpO1xuICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgcmV0dXJuIHNlbGVjdGlvbnM7XG4gICAgICAgIH07XG5cbiAgICAgICAgLy8gSWYgd2UgYXJlIHVzaW5nIGB0cmFjayBieWAgdGhlbiB3ZSBtdXN0IHdhdGNoIHRoZXNlIHRyYWNrZWQgdmFsdWVzIG9uIHRoZSBtb2RlbFxuICAgICAgICAvLyBzaW5jZSBuZ01vZGVsIG9ubHkgd2F0Y2hlcyBmb3Igb2JqZWN0IGlkZW50aXR5IGNoYW5nZVxuICAgICAgICBpZiAobmdPcHRpb25zLnRyYWNrQnkpIHtcblxuICAgICAgICAgIHNjb3BlLiR3YXRjaENvbGxlY3Rpb24oZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICBpZiAoaXNBcnJheShuZ01vZGVsQ3RybC4kdmlld1ZhbHVlKSkge1xuICAgICAgICAgICAgICByZXR1cm4gbmdNb2RlbEN0cmwuJHZpZXdWYWx1ZS5tYXAoZnVuY3Rpb24odmFsdWUpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gbmdPcHRpb25zLmdldFRyYWNrQnlWYWx1ZSh2YWx1ZSk7XG4gICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0sIGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgbmdNb2RlbEN0cmwuJHJlbmRlcigpO1xuICAgICAgICAgIH0pO1xuXG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgaWYgKHByb3ZpZGVkRW1wdHlPcHRpb24pIHtcblxuICAgICAgICAvLyB3ZSBuZWVkIHRvIHJlbW92ZSBpdCBiZWZvcmUgY2FsbGluZyBzZWxlY3RFbGVtZW50LmVtcHR5KCkgYmVjYXVzZSBvdGhlcndpc2UgSUUgd2lsbFxuICAgICAgICAvLyByZW1vdmUgdGhlIGxhYmVsIGZyb20gdGhlIGVsZW1lbnQuIHd0Zj9cbiAgICAgICAgc2VsZWN0Q3RybC5lbXB0eU9wdGlvbi5yZW1vdmUoKTtcblxuICAgICAgICAvLyBjb21waWxlIHRoZSBlbGVtZW50IHNpbmNlIHRoZXJlIG1pZ2h0IGJlIGJpbmRpbmdzIGluIGl0XG4gICAgICAgICRjb21waWxlKHNlbGVjdEN0cmwuZW1wdHlPcHRpb24pKHNjb3BlKTtcblxuICAgICAgICBpZiAoc2VsZWN0Q3RybC5lbXB0eU9wdGlvblswXS5ub2RlVHlwZSA9PT0gTk9ERV9UWVBFX0NPTU1FTlQpIHtcbiAgICAgICAgICAvLyBUaGlzIG1lYW5zIHRoZSBlbXB0eSBvcHRpb24gaGFzIGN1cnJlbnRseSBubyBhY3R1YWwgRE9NIG5vZGUsIHByb2JhYmx5IGJlY2F1c2VcbiAgICAgICAgICAvLyBpdCBoYXMgYmVlbiBtb2RpZmllZCBieSBhIHRyYW5zY2x1c2lvbiBkaXJlY3RpdmUuXG4gICAgICAgICAgc2VsZWN0Q3RybC5oYXNFbXB0eU9wdGlvbiA9IGZhbHNlO1xuXG4gICAgICAgICAgLy8gUmVkZWZpbmUgdGhlIHJlZ2lzdGVyT3B0aW9uIGZ1bmN0aW9uLCB3aGljaCB3aWxsIGNhdGNoXG4gICAgICAgICAgLy8gb3B0aW9ucyB0aGF0IGFyZSBhZGRlZCBieSBuZ0lmIGV0Yy4gKHJlbmRlcmluZyBvZiB0aGUgbm9kZSBpcyBhc3luYyBiZWNhdXNlIG9mXG4gICAgICAgICAgLy8gbGF6eSB0cmFuc2NsdXNpb24pXG4gICAgICAgICAgc2VsZWN0Q3RybC5yZWdpc3Rlck9wdGlvbiA9IGZ1bmN0aW9uKG9wdGlvblNjb3BlLCBvcHRpb25FbCkge1xuICAgICAgICAgICAgaWYgKG9wdGlvbkVsLnZhbCgpID09PSAnJykge1xuICAgICAgICAgICAgICBzZWxlY3RDdHJsLmhhc0VtcHR5T3B0aW9uID0gdHJ1ZTtcbiAgICAgICAgICAgICAgc2VsZWN0Q3RybC5lbXB0eU9wdGlvbiA9IG9wdGlvbkVsO1xuICAgICAgICAgICAgICBzZWxlY3RDdHJsLmVtcHR5T3B0aW9uLnJlbW92ZUNsYXNzKCduZy1zY29wZScpO1xuICAgICAgICAgICAgICAvLyBUaGlzIGVuc3VyZXMgdGhlIG5ldyBlbXB0eSBvcHRpb24gaXMgc2VsZWN0ZWQgaWYgcHJldmlvdXNseSBubyBvcHRpb24gd2FzIHNlbGVjdGVkXG4gICAgICAgICAgICAgIG5nTW9kZWxDdHJsLiRyZW5kZXIoKTtcblxuICAgICAgICAgICAgICBvcHRpb25FbC5vbignJGRlc3Ryb3knLCBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICBzZWxlY3RDdHJsLmhhc0VtcHR5T3B0aW9uID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgc2VsZWN0Q3RybC5lbXB0eU9wdGlvbiA9IHVuZGVmaW5lZDtcbiAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfTtcblxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIC8vIHJlbW92ZSB0aGUgY2xhc3MsIHdoaWNoIGlzIGFkZGVkIGF1dG9tYXRpY2FsbHkgYmVjYXVzZSB3ZSByZWNvbXBpbGUgdGhlIGVsZW1lbnQgYW5kIGl0XG4gICAgICAgICAgLy8gYmVjb21lcyB0aGUgY29tcGlsYXRpb24gcm9vdFxuICAgICAgICAgIHNlbGVjdEN0cmwuZW1wdHlPcHRpb24ucmVtb3ZlQ2xhc3MoJ25nLXNjb3BlJyk7XG4gICAgICAgIH1cblxuICAgICAgfVxuXG4gICAgICBzZWxlY3RFbGVtZW50LmVtcHR5KCk7XG5cbiAgICAgIC8vIFdlIG5lZWQgdG8gZG8gdGhpcyBoZXJlIHRvIGVuc3VyZSB0aGF0IHRoZSBvcHRpb25zIG9iamVjdCBpcyBkZWZpbmVkXG4gICAgICAvLyB3aGVuIHdlIGZpcnN0IGhpdCBpdCBpbiB3cml0ZU5nT3B0aW9uc1ZhbHVlXG4gICAgICB1cGRhdGVPcHRpb25zKCk7XG5cbiAgICAgIC8vIFdlIHdpbGwgcmUtcmVuZGVyIHRoZSBvcHRpb24gZWxlbWVudHMgaWYgdGhlIG9wdGlvbiB2YWx1ZXMgb3IgbGFiZWxzIGNoYW5nZVxuICAgICAgc2NvcGUuJHdhdGNoQ29sbGVjdGlvbihuZ09wdGlvbnMuZ2V0V2F0Y2hhYmxlcywgdXBkYXRlT3B0aW9ucyk7XG5cbiAgICAgIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSAvL1xuXG4gICAgICBmdW5jdGlvbiBhZGRPcHRpb25FbGVtZW50KG9wdGlvbiwgcGFyZW50KSB7XG4gICAgICAgIHZhciBvcHRpb25FbGVtZW50ID0gb3B0aW9uVGVtcGxhdGUuY2xvbmVOb2RlKGZhbHNlKTtcbiAgICAgICAgcGFyZW50LmFwcGVuZENoaWxkKG9wdGlvbkVsZW1lbnQpO1xuICAgICAgICB1cGRhdGVPcHRpb25FbGVtZW50KG9wdGlvbiwgb3B0aW9uRWxlbWVudCk7XG4gICAgICB9XG5cbiAgICAgIGZ1bmN0aW9uIGdldEFuZFVwZGF0ZVNlbGVjdGVkT3B0aW9uKHZpZXdWYWx1ZSkge1xuICAgICAgICB2YXIgb3B0aW9uID0gb3B0aW9ucy5nZXRPcHRpb25Gcm9tVmlld1ZhbHVlKHZpZXdWYWx1ZSk7XG4gICAgICAgIHZhciBlbGVtZW50ID0gb3B0aW9uICYmIG9wdGlvbi5lbGVtZW50O1xuXG4gICAgICAgIGlmIChlbGVtZW50ICYmICFlbGVtZW50LnNlbGVjdGVkKSBlbGVtZW50LnNlbGVjdGVkID0gdHJ1ZTtcblxuICAgICAgICByZXR1cm4gb3B0aW9uO1xuICAgICAgfVxuXG4gICAgICBmdW5jdGlvbiB1cGRhdGVPcHRpb25FbGVtZW50KG9wdGlvbiwgZWxlbWVudCkge1xuICAgICAgICBvcHRpb24uZWxlbWVudCA9IGVsZW1lbnQ7XG4gICAgICAgIGVsZW1lbnQuZGlzYWJsZWQgPSBvcHRpb24uZGlzYWJsZWQ7XG4gICAgICAgIC8vIE5PVEU6IFRoZSBsYWJlbCBtdXN0IGJlIHNldCBiZWZvcmUgdGhlIHZhbHVlLCBvdGhlcndpc2UgSUUxMC8xMS9FREdFIGNyZWF0ZSB1bnJlc3BvbnNpdmVcbiAgICAgICAgLy8gc2VsZWN0cyBpbiBjZXJ0YWluIGNpcmN1bXN0YW5jZXMgd2hlbiBtdWx0aXBsZSBzZWxlY3RzIGFyZSBuZXh0IHRvIGVhY2ggb3RoZXIgYW5kIGRpc3BsYXlcbiAgICAgICAgLy8gdGhlIG9wdGlvbiBsaXN0IGluIGxpc3Rib3ggc3R5bGUsIGkuZS4gdGhlIHNlbGVjdCBpcyBbbXVsdGlwbGVdLCBvciBzcGVjaWZpZXMgYSBbc2l6ZV0uXG4gICAgICAgIC8vIFNlZSBodHRwczovL2dpdGh1Yi5jb20vYW5ndWxhci9hbmd1bGFyLmpzL2lzc3Vlcy8xMTMxNCBmb3IgbW9yZSBpbmZvLlxuICAgICAgICAvLyBUaGlzIGlzIHVuZm9ydHVuYXRlbHkgdW50ZXN0YWJsZSB3aXRoIHVuaXQgLyBlMmUgdGVzdHNcbiAgICAgICAgaWYgKG9wdGlvbi5sYWJlbCAhPT0gZWxlbWVudC5sYWJlbCkge1xuICAgICAgICAgIGVsZW1lbnQubGFiZWwgPSBvcHRpb24ubGFiZWw7XG4gICAgICAgICAgZWxlbWVudC50ZXh0Q29udGVudCA9IG9wdGlvbi5sYWJlbDtcbiAgICAgICAgfVxuICAgICAgICBlbGVtZW50LnZhbHVlID0gb3B0aW9uLnNlbGVjdFZhbHVlO1xuICAgICAgfVxuXG4gICAgICBmdW5jdGlvbiB1cGRhdGVPcHRpb25zKCkge1xuICAgICAgICB2YXIgcHJldmlvdXNWYWx1ZSA9IG9wdGlvbnMgJiYgc2VsZWN0Q3RybC5yZWFkVmFsdWUoKTtcblxuICAgICAgICAvLyBXZSBtdXN0IHJlbW92ZSBhbGwgY3VycmVudCBvcHRpb25zLCBidXQgY2Fubm90IHNpbXBseSBzZXQgaW5uZXJIVE1MID0gbnVsbFxuICAgICAgICAvLyBzaW5jZSB0aGUgcHJvdmlkZWRFbXB0eU9wdGlvbiBtaWdodCBoYXZlIGFuIG5nSWYgb24gaXQgdGhhdCBpbnNlcnRzIGNvbW1lbnRzIHdoaWNoIHdlXG4gICAgICAgIC8vIG11c3QgcHJlc2VydmUuXG4gICAgICAgIC8vIEluc3RlYWQsIGl0ZXJhdGUgb3ZlciB0aGUgY3VycmVudCBvcHRpb24gZWxlbWVudHMgYW5kIHJlbW92ZSB0aGVtIG9yIHRoZWlyIG9wdGdyb3VwXG4gICAgICAgIC8vIHBhcmVudHNcbiAgICAgICAgaWYgKG9wdGlvbnMpIHtcblxuICAgICAgICAgIGZvciAodmFyIGkgPSBvcHRpb25zLml0ZW1zLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSB7XG4gICAgICAgICAgICB2YXIgb3B0aW9uID0gb3B0aW9ucy5pdGVtc1tpXTtcbiAgICAgICAgICAgIGlmIChpc0RlZmluZWQob3B0aW9uLmdyb3VwKSkge1xuICAgICAgICAgICAgICBqcUxpdGVSZW1vdmUob3B0aW9uLmVsZW1lbnQucGFyZW50Tm9kZSk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICBqcUxpdGVSZW1vdmUob3B0aW9uLmVsZW1lbnQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIG9wdGlvbnMgPSBuZ09wdGlvbnMuZ2V0T3B0aW9ucygpO1xuXG4gICAgICAgIHZhciBncm91cEVsZW1lbnRNYXAgPSB7fTtcblxuICAgICAgICAvLyBFbnN1cmUgdGhhdCB0aGUgZW1wdHkgb3B0aW9uIGlzIGFsd2F5cyB0aGVyZSBpZiBpdCB3YXMgZXhwbGljaXRseSBwcm92aWRlZFxuICAgICAgICBpZiAocHJvdmlkZWRFbXB0eU9wdGlvbikge1xuICAgICAgICAgIHNlbGVjdEVsZW1lbnQucHJlcGVuZChzZWxlY3RDdHJsLmVtcHR5T3B0aW9uKTtcbiAgICAgICAgfVxuXG4gICAgICAgIG9wdGlvbnMuaXRlbXMuZm9yRWFjaChmdW5jdGlvbiBhZGRPcHRpb24ob3B0aW9uKSB7XG4gICAgICAgICAgdmFyIGdyb3VwRWxlbWVudDtcblxuICAgICAgICAgIGlmIChpc0RlZmluZWQob3B0aW9uLmdyb3VwKSkge1xuXG4gICAgICAgICAgICAvLyBUaGlzIG9wdGlvbiBpcyB0byBsaXZlIGluIGEgZ3JvdXBcbiAgICAgICAgICAgIC8vIFNlZSBpZiB3ZSBoYXZlIGFscmVhZHkgY3JlYXRlZCB0aGlzIGdyb3VwXG4gICAgICAgICAgICBncm91cEVsZW1lbnQgPSBncm91cEVsZW1lbnRNYXBbb3B0aW9uLmdyb3VwXTtcblxuICAgICAgICAgICAgaWYgKCFncm91cEVsZW1lbnQpIHtcblxuICAgICAgICAgICAgICBncm91cEVsZW1lbnQgPSBvcHRHcm91cFRlbXBsYXRlLmNsb25lTm9kZShmYWxzZSk7XG4gICAgICAgICAgICAgIGxpc3RGcmFnbWVudC5hcHBlbmRDaGlsZChncm91cEVsZW1lbnQpO1xuXG4gICAgICAgICAgICAgIC8vIFVwZGF0ZSB0aGUgbGFiZWwgb24gdGhlIGdyb3VwIGVsZW1lbnRcbiAgICAgICAgICAgICAgLy8gXCJudWxsXCIgaXMgc3BlY2lhbCBjYXNlZCBiZWNhdXNlIG9mIFNhZmFyaVxuICAgICAgICAgICAgICBncm91cEVsZW1lbnQubGFiZWwgPSBvcHRpb24uZ3JvdXAgPT09IG51bGwgPyAnbnVsbCcgOiBvcHRpb24uZ3JvdXA7XG5cbiAgICAgICAgICAgICAgLy8gU3RvcmUgaXQgZm9yIHVzZSBsYXRlclxuICAgICAgICAgICAgICBncm91cEVsZW1lbnRNYXBbb3B0aW9uLmdyb3VwXSA9IGdyb3VwRWxlbWVudDtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgYWRkT3B0aW9uRWxlbWVudChvcHRpb24sIGdyb3VwRWxlbWVudCk7XG5cbiAgICAgICAgICB9IGVsc2Uge1xuXG4gICAgICAgICAgICAvLyBUaGlzIG9wdGlvbiBpcyBub3QgaW4gYSBncm91cFxuICAgICAgICAgICAgYWRkT3B0aW9uRWxlbWVudChvcHRpb24sIGxpc3RGcmFnbWVudCk7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcblxuICAgICAgICBzZWxlY3RFbGVtZW50WzBdLmFwcGVuZENoaWxkKGxpc3RGcmFnbWVudCk7XG5cbiAgICAgICAgbmdNb2RlbEN0cmwuJHJlbmRlcigpO1xuXG4gICAgICAgIC8vIENoZWNrIHRvIHNlZSBpZiB0aGUgdmFsdWUgaGFzIGNoYW5nZWQgZHVlIHRvIHRoZSB1cGRhdGUgdG8gdGhlIG9wdGlvbnNcbiAgICAgICAgaWYgKCFuZ01vZGVsQ3RybC4kaXNFbXB0eShwcmV2aW91c1ZhbHVlKSkge1xuICAgICAgICAgIHZhciBuZXh0VmFsdWUgPSBzZWxlY3RDdHJsLnJlYWRWYWx1ZSgpO1xuICAgICAgICAgIHZhciBpc05vdFByaW1pdGl2ZSA9IG5nT3B0aW9ucy50cmFja0J5IHx8IG11bHRpcGxlO1xuICAgICAgICAgIGlmIChpc05vdFByaW1pdGl2ZSA/ICFlcXVhbHMocHJldmlvdXNWYWx1ZSwgbmV4dFZhbHVlKSA6IHByZXZpb3VzVmFsdWUgIT09IG5leHRWYWx1ZSkge1xuICAgICAgICAgICAgbmdNb2RlbEN0cmwuJHNldFZpZXdWYWx1ZShuZXh0VmFsdWUpO1xuICAgICAgICAgICAgbmdNb2RlbEN0cmwuJHJlbmRlcigpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICB9XG4gIH1cblxuICByZXR1cm4ge1xuICAgIHJlc3RyaWN0OiAnQScsXG4gICAgdGVybWluYWw6IHRydWUsXG4gICAgcmVxdWlyZTogWydzZWxlY3QnLCAnbmdNb2RlbCddLFxuICAgIGxpbms6IHtcbiAgICAgIHByZTogZnVuY3Rpb24gbmdPcHRpb25zUHJlTGluayhzY29wZSwgc2VsZWN0RWxlbWVudCwgYXR0ciwgY3RybHMpIHtcbiAgICAgICAgLy8gRGVhY3RpdmF0ZSB0aGUgU2VsZWN0Q29udHJvbGxlci5yZWdpc3RlciBtZXRob2QgdG8gcHJldmVudFxuICAgICAgICAvLyBvcHRpb24gZGlyZWN0aXZlcyBmcm9tIGFjY2lkZW50YWxseSByZWdpc3RlcmluZyB0aGVtc2VsdmVzXG4gICAgICAgIC8vIChhbmQgdW53YW50ZWQgJGRlc3Ryb3kgaGFuZGxlcnMgZXRjLilcbiAgICAgICAgY3RybHNbMF0ucmVnaXN0ZXJPcHRpb24gPSBub29wO1xuICAgICAgfSxcbiAgICAgIHBvc3Q6IG5nT3B0aW9uc1Bvc3RMaW5rXG4gICAgfVxuICB9O1xufV07XG5cbi8qKlxuICogQG5nZG9jIGRpcmVjdGl2ZVxuICogQG5hbWUgbmdQbHVyYWxpemVcbiAqIEByZXN0cmljdCBFQVxuICpcbiAqIEBkZXNjcmlwdGlvblxuICogYG5nUGx1cmFsaXplYCBpcyBhIGRpcmVjdGl2ZSB0aGF0IGRpc3BsYXlzIG1lc3NhZ2VzIGFjY29yZGluZyB0byBlbi1VUyBsb2NhbGl6YXRpb24gcnVsZXMuXG4gKiBUaGVzZSBydWxlcyBhcmUgYnVuZGxlZCB3aXRoIGFuZ3VsYXIuanMsIGJ1dCBjYW4gYmUgb3ZlcnJpZGRlblxuICogKHNlZSB7QGxpbmsgZ3VpZGUvaTE4biBBbmd1bGFyIGkxOG59IGRldiBndWlkZSkuIFlvdSBjb25maWd1cmUgbmdQbHVyYWxpemUgZGlyZWN0aXZlXG4gKiBieSBzcGVjaWZ5aW5nIHRoZSBtYXBwaW5ncyBiZXR3ZWVuXG4gKiBbcGx1cmFsIGNhdGVnb3JpZXNdKGh0dHA6Ly91bmljb2RlLm9yZy9yZXBvcy9jbGRyLXRtcC90cnVuay9kaWZmL3N1cHBsZW1lbnRhbC9sYW5ndWFnZV9wbHVyYWxfcnVsZXMuaHRtbClcbiAqIGFuZCB0aGUgc3RyaW5ncyB0byBiZSBkaXNwbGF5ZWQuXG4gKlxuICogIyBQbHVyYWwgY2F0ZWdvcmllcyBhbmQgZXhwbGljaXQgbnVtYmVyIHJ1bGVzXG4gKiBUaGVyZSBhcmUgdHdvXG4gKiBbcGx1cmFsIGNhdGVnb3JpZXNdKGh0dHA6Ly91bmljb2RlLm9yZy9yZXBvcy9jbGRyLXRtcC90cnVuay9kaWZmL3N1cHBsZW1lbnRhbC9sYW5ndWFnZV9wbHVyYWxfcnVsZXMuaHRtbClcbiAqIGluIEFuZ3VsYXIncyBkZWZhdWx0IGVuLVVTIGxvY2FsZTogXCJvbmVcIiBhbmQgXCJvdGhlclwiLlxuICpcbiAqIFdoaWxlIGEgcGx1cmFsIGNhdGVnb3J5IG1heSBtYXRjaCBtYW55IG51bWJlcnMgKGZvciBleGFtcGxlLCBpbiBlbi1VUyBsb2NhbGUsIFwib3RoZXJcIiBjYW4gbWF0Y2hcbiAqIGFueSBudW1iZXIgdGhhdCBpcyBub3QgMSksIGFuIGV4cGxpY2l0IG51bWJlciBydWxlIGNhbiBvbmx5IG1hdGNoIG9uZSBudW1iZXIuIEZvciBleGFtcGxlLCB0aGVcbiAqIGV4cGxpY2l0IG51bWJlciBydWxlIGZvciBcIjNcIiBtYXRjaGVzIHRoZSBudW1iZXIgMy4gVGhlcmUgYXJlIGV4YW1wbGVzIG9mIHBsdXJhbCBjYXRlZ29yaWVzXG4gKiBhbmQgZXhwbGljaXQgbnVtYmVyIHJ1bGVzIHRocm91Z2hvdXQgdGhlIHJlc3Qgb2YgdGhpcyBkb2N1bWVudGF0aW9uLlxuICpcbiAqICMgQ29uZmlndXJpbmcgbmdQbHVyYWxpemVcbiAqIFlvdSBjb25maWd1cmUgbmdQbHVyYWxpemUgYnkgcHJvdmlkaW5nIDIgYXR0cmlidXRlczogYGNvdW50YCBhbmQgYHdoZW5gLlxuICogWW91IGNhbiBhbHNvIHByb3ZpZGUgYW4gb3B0aW9uYWwgYXR0cmlidXRlLCBgb2Zmc2V0YC5cbiAqXG4gKiBUaGUgdmFsdWUgb2YgdGhlIGBjb3VudGAgYXR0cmlidXRlIGNhbiBiZSBlaXRoZXIgYSBzdHJpbmcgb3IgYW4ge0BsaW5rIGd1aWRlL2V4cHJlc3Npb25cbiAqIEFuZ3VsYXIgZXhwcmVzc2lvbn07IHRoZXNlIGFyZSBldmFsdWF0ZWQgb24gdGhlIGN1cnJlbnQgc2NvcGUgZm9yIGl0cyBib3VuZCB2YWx1ZS5cbiAqXG4gKiBUaGUgYHdoZW5gIGF0dHJpYnV0ZSBzcGVjaWZpZXMgdGhlIG1hcHBpbmdzIGJldHdlZW4gcGx1cmFsIGNhdGVnb3JpZXMgYW5kIHRoZSBhY3R1YWxcbiAqIHN0cmluZyB0byBiZSBkaXNwbGF5ZWQuIFRoZSB2YWx1ZSBvZiB0aGUgYXR0cmlidXRlIHNob3VsZCBiZSBhIEpTT04gb2JqZWN0LlxuICpcbiAqIFRoZSBmb2xsb3dpbmcgZXhhbXBsZSBzaG93cyBob3cgdG8gY29uZmlndXJlIG5nUGx1cmFsaXplOlxuICpcbiAqIGBgYGh0bWxcbiAqIDxuZy1wbHVyYWxpemUgY291bnQ9XCJwZXJzb25Db3VudFwiXG4gICAgICAgICAgICAgICAgIHdoZW49XCJ7JzAnOiAnTm9ib2R5IGlzIHZpZXdpbmcuJyxcbiAqICAgICAgICAgICAgICAgICAgICAgICdvbmUnOiAnMSBwZXJzb24gaXMgdmlld2luZy4nLFxuICogICAgICAgICAgICAgICAgICAgICAgJ290aGVyJzogJ3t9IHBlb3BsZSBhcmUgdmlld2luZy4nfVwiPlxuICogPC9uZy1wbHVyYWxpemU+XG4gKmBgYFxuICpcbiAqIEluIHRoZSBleGFtcGxlLCBgXCIwOiBOb2JvZHkgaXMgdmlld2luZy5cImAgaXMgYW4gZXhwbGljaXQgbnVtYmVyIHJ1bGUuIElmIHlvdSBkaWQgbm90XG4gKiBzcGVjaWZ5IHRoaXMgcnVsZSwgMCB3b3VsZCBiZSBtYXRjaGVkIHRvIHRoZSBcIm90aGVyXCIgY2F0ZWdvcnkgYW5kIFwiMCBwZW9wbGUgYXJlIHZpZXdpbmdcIlxuICogd291bGQgYmUgc2hvd24gaW5zdGVhZCBvZiBcIk5vYm9keSBpcyB2aWV3aW5nXCIuIFlvdSBjYW4gc3BlY2lmeSBhbiBleHBsaWNpdCBudW1iZXIgcnVsZSBmb3JcbiAqIG90aGVyIG51bWJlcnMsIGZvciBleGFtcGxlIDEyLCBzbyB0aGF0IGluc3RlYWQgb2Ygc2hvd2luZyBcIjEyIHBlb3BsZSBhcmUgdmlld2luZ1wiLCB5b3UgY2FuXG4gKiBzaG93IFwiYSBkb3plbiBwZW9wbGUgYXJlIHZpZXdpbmdcIi5cbiAqXG4gKiBZb3UgY2FuIHVzZSBhIHNldCBvZiBjbG9zZWQgYnJhY2VzIChge31gKSBhcyBhIHBsYWNlaG9sZGVyIGZvciB0aGUgbnVtYmVyIHRoYXQgeW91IHdhbnQgc3Vic3RpdHV0ZWRcbiAqIGludG8gcGx1cmFsaXplZCBzdHJpbmdzLiBJbiB0aGUgcHJldmlvdXMgZXhhbXBsZSwgQW5ndWxhciB3aWxsIHJlcGxhY2UgYHt9YCB3aXRoXG4gKiA8c3BhbiBuZy1ub24tYmluZGFibGU+YHt7cGVyc29uQ291bnR9fWA8L3NwYW4+LiBUaGUgY2xvc2VkIGJyYWNlcyBge31gIGlzIGEgcGxhY2Vob2xkZXJcbiAqIGZvciA8c3BhbiBuZy1ub24tYmluZGFibGU+e3tudW1iZXJFeHByZXNzaW9ufX08L3NwYW4+LlxuICpcbiAqIElmIG5vIHJ1bGUgaXMgZGVmaW5lZCBmb3IgYSBjYXRlZ29yeSwgdGhlbiBhbiBlbXB0eSBzdHJpbmcgaXMgZGlzcGxheWVkIGFuZCBhIHdhcm5pbmcgaXMgZ2VuZXJhdGVkLlxuICogTm90ZSB0aGF0IHNvbWUgbG9jYWxlcyBkZWZpbmUgbW9yZSBjYXRlZ29yaWVzIHRoYW4gYG9uZWAgYW5kIGBvdGhlcmAuIEZvciBleGFtcGxlLCBmci1mciBkZWZpbmVzIGBmZXdgIGFuZCBgbWFueWAuXG4gKlxuICogIyBDb25maWd1cmluZyBuZ1BsdXJhbGl6ZSB3aXRoIG9mZnNldFxuICogVGhlIGBvZmZzZXRgIGF0dHJpYnV0ZSBhbGxvd3MgZnVydGhlciBjdXN0b21pemF0aW9uIG9mIHBsdXJhbGl6ZWQgdGV4dCwgd2hpY2ggY2FuIHJlc3VsdCBpblxuICogYSBiZXR0ZXIgdXNlciBleHBlcmllbmNlLiBGb3IgZXhhbXBsZSwgaW5zdGVhZCBvZiB0aGUgbWVzc2FnZSBcIjQgcGVvcGxlIGFyZSB2aWV3aW5nIHRoaXMgZG9jdW1lbnRcIixcbiAqIHlvdSBtaWdodCBkaXNwbGF5IFwiSm9obiwgS2F0ZSBhbmQgMiBvdGhlcnMgYXJlIHZpZXdpbmcgdGhpcyBkb2N1bWVudFwiLlxuICogVGhlIG9mZnNldCBhdHRyaWJ1dGUgYWxsb3dzIHlvdSB0byBvZmZzZXQgYSBudW1iZXIgYnkgYW55IGRlc2lyZWQgdmFsdWUuXG4gKiBMZXQncyB0YWtlIGEgbG9vayBhdCBhbiBleGFtcGxlOlxuICpcbiAqIGBgYGh0bWxcbiAqIDxuZy1wbHVyYWxpemUgY291bnQ9XCJwZXJzb25Db3VudFwiIG9mZnNldD0yXG4gKiAgICAgICAgICAgICAgIHdoZW49XCJ7JzAnOiAnTm9ib2R5IGlzIHZpZXdpbmcuJyxcbiAqICAgICAgICAgICAgICAgICAgICAgICcxJzogJ3t7cGVyc29uMX19IGlzIHZpZXdpbmcuJyxcbiAqICAgICAgICAgICAgICAgICAgICAgICcyJzogJ3t7cGVyc29uMX19IGFuZCB7e3BlcnNvbjJ9fSBhcmUgdmlld2luZy4nLFxuICogICAgICAgICAgICAgICAgICAgICAgJ29uZSc6ICd7e3BlcnNvbjF9fSwge3twZXJzb24yfX0gYW5kIG9uZSBvdGhlciBwZXJzb24gYXJlIHZpZXdpbmcuJyxcbiAqICAgICAgICAgICAgICAgICAgICAgICdvdGhlcic6ICd7e3BlcnNvbjF9fSwge3twZXJzb24yfX0gYW5kIHt9IG90aGVyIHBlb3BsZSBhcmUgdmlld2luZy4nfVwiPlxuICogPC9uZy1wbHVyYWxpemU+XG4gKiBgYGBcbiAqXG4gKiBOb3RpY2UgdGhhdCB3ZSBhcmUgc3RpbGwgdXNpbmcgdHdvIHBsdXJhbCBjYXRlZ29yaWVzKG9uZSwgb3RoZXIpLCBidXQgd2UgYWRkZWRcbiAqIHRocmVlIGV4cGxpY2l0IG51bWJlciBydWxlcyAwLCAxIGFuZCAyLlxuICogV2hlbiBvbmUgcGVyc29uLCBwZXJoYXBzIEpvaG4sIHZpZXdzIHRoZSBkb2N1bWVudCwgXCJKb2huIGlzIHZpZXdpbmdcIiB3aWxsIGJlIHNob3duLlxuICogV2hlbiB0aHJlZSBwZW9wbGUgdmlldyB0aGUgZG9jdW1lbnQsIG5vIGV4cGxpY2l0IG51bWJlciBydWxlIGlzIGZvdW5kLCBzb1xuICogYW4gb2Zmc2V0IG9mIDIgaXMgdGFrZW4gb2ZmIDMsIGFuZCBBbmd1bGFyIHVzZXMgMSB0byBkZWNpZGUgdGhlIHBsdXJhbCBjYXRlZ29yeS5cbiAqIEluIHRoaXMgY2FzZSwgcGx1cmFsIGNhdGVnb3J5ICdvbmUnIGlzIG1hdGNoZWQgYW5kIFwiSm9obiwgTWFyeSBhbmQgb25lIG90aGVyIHBlcnNvbiBhcmUgdmlld2luZ1wiXG4gKiBpcyBzaG93bi5cbiAqXG4gKiBOb3RlIHRoYXQgd2hlbiB5b3Ugc3BlY2lmeSBvZmZzZXRzLCB5b3UgbXVzdCBwcm92aWRlIGV4cGxpY2l0IG51bWJlciBydWxlcyBmb3JcbiAqIG51bWJlcnMgZnJvbSAwIHVwIHRvIGFuZCBpbmNsdWRpbmcgdGhlIG9mZnNldC4gSWYgeW91IHVzZSBhbiBvZmZzZXQgb2YgMywgZm9yIGV4YW1wbGUsXG4gKiB5b3UgbXVzdCBwcm92aWRlIGV4cGxpY2l0IG51bWJlciBydWxlcyBmb3IgMCwgMSwgMiBhbmQgMy4gWW91IG11c3QgYWxzbyBwcm92aWRlIHBsdXJhbCBzdHJpbmdzIGZvclxuICogcGx1cmFsIGNhdGVnb3JpZXMgXCJvbmVcIiBhbmQgXCJvdGhlclwiLlxuICpcbiAqIEBwYXJhbSB7c3RyaW5nfGV4cHJlc3Npb259IGNvdW50IFRoZSB2YXJpYWJsZSB0byBiZSBib3VuZCB0by5cbiAqIEBwYXJhbSB7c3RyaW5nfSB3aGVuIFRoZSBtYXBwaW5nIGJldHdlZW4gcGx1cmFsIGNhdGVnb3J5IHRvIGl0cyBjb3JyZXNwb25kaW5nIHN0cmluZ3MuXG4gKiBAcGFyYW0ge251bWJlcj19IG9mZnNldCBPZmZzZXQgdG8gZGVkdWN0IGZyb20gdGhlIHRvdGFsIG51bWJlci5cbiAqXG4gKiBAZXhhbXBsZVxuICAgIDxleGFtcGxlIG1vZHVsZT1cInBsdXJhbGl6ZUV4YW1wbGVcIiBuYW1lPVwibmctcGx1cmFsaXplXCI+XG4gICAgICA8ZmlsZSBuYW1lPVwiaW5kZXguaHRtbFwiPlxuICAgICAgICA8c2NyaXB0PlxuICAgICAgICAgIGFuZ3VsYXIubW9kdWxlKCdwbHVyYWxpemVFeGFtcGxlJywgW10pXG4gICAgICAgICAgICAuY29udHJvbGxlcignRXhhbXBsZUNvbnRyb2xsZXInLCBbJyRzY29wZScsIGZ1bmN0aW9uKCRzY29wZSkge1xuICAgICAgICAgICAgICAkc2NvcGUucGVyc29uMSA9ICdJZ29yJztcbiAgICAgICAgICAgICAgJHNjb3BlLnBlcnNvbjIgPSAnTWlza28nO1xuICAgICAgICAgICAgICAkc2NvcGUucGVyc29uQ291bnQgPSAxO1xuICAgICAgICAgICAgfV0pO1xuICAgICAgICA8L3NjcmlwdD5cbiAgICAgICAgPGRpdiBuZy1jb250cm9sbGVyPVwiRXhhbXBsZUNvbnRyb2xsZXJcIj5cbiAgICAgICAgICA8bGFiZWw+UGVyc29uIDE6PGlucHV0IHR5cGU9XCJ0ZXh0XCIgbmctbW9kZWw9XCJwZXJzb24xXCIgdmFsdWU9XCJJZ29yXCIgLz48L2xhYmVsPjxici8+XG4gICAgICAgICAgPGxhYmVsPlBlcnNvbiAyOjxpbnB1dCB0eXBlPVwidGV4dFwiIG5nLW1vZGVsPVwicGVyc29uMlwiIHZhbHVlPVwiTWlza29cIiAvPjwvbGFiZWw+PGJyLz5cbiAgICAgICAgICA8bGFiZWw+TnVtYmVyIG9mIFBlb3BsZTo8aW5wdXQgdHlwZT1cInRleHRcIiBuZy1tb2RlbD1cInBlcnNvbkNvdW50XCIgdmFsdWU9XCIxXCIgLz48L2xhYmVsPjxici8+XG5cbiAgICAgICAgICA8IS0tLSBFeGFtcGxlIHdpdGggc2ltcGxlIHBsdXJhbGl6YXRpb24gcnVsZXMgZm9yIGVuIGxvY2FsZSAtLS0+XG4gICAgICAgICAgV2l0aG91dCBPZmZzZXQ6XG4gICAgICAgICAgPG5nLXBsdXJhbGl6ZSBjb3VudD1cInBlcnNvbkNvdW50XCJcbiAgICAgICAgICAgICAgICAgICAgICAgIHdoZW49XCJ7JzAnOiAnTm9ib2R5IGlzIHZpZXdpbmcuJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnb25lJzogJzEgcGVyc29uIGlzIHZpZXdpbmcuJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnb3RoZXInOiAne30gcGVvcGxlIGFyZSB2aWV3aW5nLid9XCI+XG4gICAgICAgICAgPC9uZy1wbHVyYWxpemU+PGJyPlxuXG4gICAgICAgICAgPCEtLS0gRXhhbXBsZSB3aXRoIG9mZnNldCAtLS0+XG4gICAgICAgICAgV2l0aCBPZmZzZXQoMik6XG4gICAgICAgICAgPG5nLXBsdXJhbGl6ZSBjb3VudD1cInBlcnNvbkNvdW50XCIgb2Zmc2V0PTJcbiAgICAgICAgICAgICAgICAgICAgICAgIHdoZW49XCJ7JzAnOiAnTm9ib2R5IGlzIHZpZXdpbmcuJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnMSc6ICd7e3BlcnNvbjF9fSBpcyB2aWV3aW5nLicsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJzInOiAne3twZXJzb24xfX0gYW5kIHt7cGVyc29uMn19IGFyZSB2aWV3aW5nLicsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ29uZSc6ICd7e3BlcnNvbjF9fSwge3twZXJzb24yfX0gYW5kIG9uZSBvdGhlciBwZXJzb24gYXJlIHZpZXdpbmcuJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnb3RoZXInOiAne3twZXJzb24xfX0sIHt7cGVyc29uMn19IGFuZCB7fSBvdGhlciBwZW9wbGUgYXJlIHZpZXdpbmcuJ31cIj5cbiAgICAgICAgICA8L25nLXBsdXJhbGl6ZT5cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L2ZpbGU+XG4gICAgICA8ZmlsZSBuYW1lPVwicHJvdHJhY3Rvci5qc1wiIHR5cGU9XCJwcm90cmFjdG9yXCI+XG4gICAgICAgIGl0KCdzaG91bGQgc2hvdyBjb3JyZWN0IHBsdXJhbGl6ZWQgc3RyaW5nJywgZnVuY3Rpb24oKSB7XG4gICAgICAgICAgdmFyIHdpdGhvdXRPZmZzZXQgPSBlbGVtZW50LmFsbChieS5jc3MoJ25nLXBsdXJhbGl6ZScpKS5nZXQoMCk7XG4gICAgICAgICAgdmFyIHdpdGhPZmZzZXQgPSBlbGVtZW50LmFsbChieS5jc3MoJ25nLXBsdXJhbGl6ZScpKS5nZXQoMSk7XG4gICAgICAgICAgdmFyIGNvdW50SW5wdXQgPSBlbGVtZW50KGJ5Lm1vZGVsKCdwZXJzb25Db3VudCcpKTtcblxuICAgICAgICAgIGV4cGVjdCh3aXRob3V0T2Zmc2V0LmdldFRleHQoKSkudG9FcXVhbCgnMSBwZXJzb24gaXMgdmlld2luZy4nKTtcbiAgICAgICAgICBleHBlY3Qod2l0aE9mZnNldC5nZXRUZXh0KCkpLnRvRXF1YWwoJ0lnb3IgaXMgdmlld2luZy4nKTtcblxuICAgICAgICAgIGNvdW50SW5wdXQuY2xlYXIoKTtcbiAgICAgICAgICBjb3VudElucHV0LnNlbmRLZXlzKCcwJyk7XG5cbiAgICAgICAgICBleHBlY3Qod2l0aG91dE9mZnNldC5nZXRUZXh0KCkpLnRvRXF1YWwoJ05vYm9keSBpcyB2aWV3aW5nLicpO1xuICAgICAgICAgIGV4cGVjdCh3aXRoT2Zmc2V0LmdldFRleHQoKSkudG9FcXVhbCgnTm9ib2R5IGlzIHZpZXdpbmcuJyk7XG5cbiAgICAgICAgICBjb3VudElucHV0LmNsZWFyKCk7XG4gICAgICAgICAgY291bnRJbnB1dC5zZW5kS2V5cygnMicpO1xuXG4gICAgICAgICAgZXhwZWN0KHdpdGhvdXRPZmZzZXQuZ2V0VGV4dCgpKS50b0VxdWFsKCcyIHBlb3BsZSBhcmUgdmlld2luZy4nKTtcbiAgICAgICAgICBleHBlY3Qod2l0aE9mZnNldC5nZXRUZXh0KCkpLnRvRXF1YWwoJ0lnb3IgYW5kIE1pc2tvIGFyZSB2aWV3aW5nLicpO1xuXG4gICAgICAgICAgY291bnRJbnB1dC5jbGVhcigpO1xuICAgICAgICAgIGNvdW50SW5wdXQuc2VuZEtleXMoJzMnKTtcblxuICAgICAgICAgIGV4cGVjdCh3aXRob3V0T2Zmc2V0LmdldFRleHQoKSkudG9FcXVhbCgnMyBwZW9wbGUgYXJlIHZpZXdpbmcuJyk7XG4gICAgICAgICAgZXhwZWN0KHdpdGhPZmZzZXQuZ2V0VGV4dCgpKS50b0VxdWFsKCdJZ29yLCBNaXNrbyBhbmQgb25lIG90aGVyIHBlcnNvbiBhcmUgdmlld2luZy4nKTtcblxuICAgICAgICAgIGNvdW50SW5wdXQuY2xlYXIoKTtcbiAgICAgICAgICBjb3VudElucHV0LnNlbmRLZXlzKCc0Jyk7XG5cbiAgICAgICAgICBleHBlY3Qod2l0aG91dE9mZnNldC5nZXRUZXh0KCkpLnRvRXF1YWwoJzQgcGVvcGxlIGFyZSB2aWV3aW5nLicpO1xuICAgICAgICAgIGV4cGVjdCh3aXRoT2Zmc2V0LmdldFRleHQoKSkudG9FcXVhbCgnSWdvciwgTWlza28gYW5kIDIgb3RoZXIgcGVvcGxlIGFyZSB2aWV3aW5nLicpO1xuICAgICAgICB9KTtcbiAgICAgICAgaXQoJ3Nob3VsZCBzaG93IGRhdGEtYm91bmQgbmFtZXMnLCBmdW5jdGlvbigpIHtcbiAgICAgICAgICB2YXIgd2l0aE9mZnNldCA9IGVsZW1lbnQuYWxsKGJ5LmNzcygnbmctcGx1cmFsaXplJykpLmdldCgxKTtcbiAgICAgICAgICB2YXIgcGVyc29uQ291bnQgPSBlbGVtZW50KGJ5Lm1vZGVsKCdwZXJzb25Db3VudCcpKTtcbiAgICAgICAgICB2YXIgcGVyc29uMSA9IGVsZW1lbnQoYnkubW9kZWwoJ3BlcnNvbjEnKSk7XG4gICAgICAgICAgdmFyIHBlcnNvbjIgPSBlbGVtZW50KGJ5Lm1vZGVsKCdwZXJzb24yJykpO1xuICAgICAgICAgIHBlcnNvbkNvdW50LmNsZWFyKCk7XG4gICAgICAgICAgcGVyc29uQ291bnQuc2VuZEtleXMoJzQnKTtcbiAgICAgICAgICBwZXJzb24xLmNsZWFyKCk7XG4gICAgICAgICAgcGVyc29uMS5zZW5kS2V5cygnRGknKTtcbiAgICAgICAgICBwZXJzb24yLmNsZWFyKCk7XG4gICAgICAgICAgcGVyc29uMi5zZW5kS2V5cygnVm9qdGEnKTtcbiAgICAgICAgICBleHBlY3Qod2l0aE9mZnNldC5nZXRUZXh0KCkpLnRvRXF1YWwoJ0RpLCBWb2p0YSBhbmQgMiBvdGhlciBwZW9wbGUgYXJlIHZpZXdpbmcuJyk7XG4gICAgICAgIH0pO1xuICAgICAgPC9maWxlPlxuICAgIDwvZXhhbXBsZT5cbiAqL1xudmFyIG5nUGx1cmFsaXplRGlyZWN0aXZlID0gWyckbG9jYWxlJywgJyRpbnRlcnBvbGF0ZScsICckbG9nJywgZnVuY3Rpb24oJGxvY2FsZSwgJGludGVycG9sYXRlLCAkbG9nKSB7XG4gIHZhciBCUkFDRSA9IC97fS9nLFxuICAgICAgSVNfV0hFTiA9IC9ed2hlbihNaW51cyk/KC4rKSQvO1xuXG4gIHJldHVybiB7XG4gICAgbGluazogZnVuY3Rpb24oc2NvcGUsIGVsZW1lbnQsIGF0dHIpIHtcbiAgICAgIHZhciBudW1iZXJFeHAgPSBhdHRyLmNvdW50LFxuICAgICAgICAgIHdoZW5FeHAgPSBhdHRyLiRhdHRyLndoZW4gJiYgZWxlbWVudC5hdHRyKGF0dHIuJGF0dHIud2hlbiksIC8vIHdlIGhhdmUge3t9fSBpbiBhdHRyc1xuICAgICAgICAgIG9mZnNldCA9IGF0dHIub2Zmc2V0IHx8IDAsXG4gICAgICAgICAgd2hlbnMgPSBzY29wZS4kZXZhbCh3aGVuRXhwKSB8fCB7fSxcbiAgICAgICAgICB3aGVuc0V4cEZucyA9IHt9LFxuICAgICAgICAgIHN0YXJ0U3ltYm9sID0gJGludGVycG9sYXRlLnN0YXJ0U3ltYm9sKCksXG4gICAgICAgICAgZW5kU3ltYm9sID0gJGludGVycG9sYXRlLmVuZFN5bWJvbCgpLFxuICAgICAgICAgIGJyYWNlUmVwbGFjZW1lbnQgPSBzdGFydFN5bWJvbCArIG51bWJlckV4cCArICctJyArIG9mZnNldCArIGVuZFN5bWJvbCxcbiAgICAgICAgICB3YXRjaFJlbW92ZXIgPSBhbmd1bGFyLm5vb3AsXG4gICAgICAgICAgbGFzdENvdW50O1xuXG4gICAgICBmb3JFYWNoKGF0dHIsIGZ1bmN0aW9uKGV4cHJlc3Npb24sIGF0dHJpYnV0ZU5hbWUpIHtcbiAgICAgICAgdmFyIHRtcE1hdGNoID0gSVNfV0hFTi5leGVjKGF0dHJpYnV0ZU5hbWUpO1xuICAgICAgICBpZiAodG1wTWF0Y2gpIHtcbiAgICAgICAgICB2YXIgd2hlbktleSA9ICh0bXBNYXRjaFsxXSA/ICctJyA6ICcnKSArIGxvd2VyY2FzZSh0bXBNYXRjaFsyXSk7XG4gICAgICAgICAgd2hlbnNbd2hlbktleV0gPSBlbGVtZW50LmF0dHIoYXR0ci4kYXR0clthdHRyaWJ1dGVOYW1lXSk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgICAgZm9yRWFjaCh3aGVucywgZnVuY3Rpb24oZXhwcmVzc2lvbiwga2V5KSB7XG4gICAgICAgIHdoZW5zRXhwRm5zW2tleV0gPSAkaW50ZXJwb2xhdGUoZXhwcmVzc2lvbi5yZXBsYWNlKEJSQUNFLCBicmFjZVJlcGxhY2VtZW50KSk7XG5cbiAgICAgIH0pO1xuXG4gICAgICBzY29wZS4kd2F0Y2gobnVtYmVyRXhwLCBmdW5jdGlvbiBuZ1BsdXJhbGl6ZVdhdGNoQWN0aW9uKG5ld1ZhbCkge1xuICAgICAgICB2YXIgY291bnQgPSBwYXJzZUZsb2F0KG5ld1ZhbCk7XG4gICAgICAgIHZhciBjb3VudElzTmFOID0gaXNOdW1iZXJOYU4oY291bnQpO1xuXG4gICAgICAgIGlmICghY291bnRJc05hTiAmJiAhKGNvdW50IGluIHdoZW5zKSkge1xuICAgICAgICAgIC8vIElmIGFuIGV4cGxpY2l0IG51bWJlciBydWxlIHN1Y2ggYXMgMSwgMiwgMy4uLiBpcyBkZWZpbmVkLCBqdXN0IHVzZSBpdC5cbiAgICAgICAgICAvLyBPdGhlcndpc2UsIGNoZWNrIGl0IGFnYWluc3QgcGx1cmFsaXphdGlvbiBydWxlcyBpbiAkbG9jYWxlIHNlcnZpY2UuXG4gICAgICAgICAgY291bnQgPSAkbG9jYWxlLnBsdXJhbENhdChjb3VudCAtIG9mZnNldCk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBJZiBib3RoIGBjb3VudGAgYW5kIGBsYXN0Q291bnRgIGFyZSBOYU4sIHdlIGRvbid0IG5lZWQgdG8gcmUtcmVnaXN0ZXIgYSB3YXRjaC5cbiAgICAgICAgLy8gSW4gSlMgYE5hTiAhPT0gTmFOYCwgc28gd2UgaGF2ZSB0byBleHBsaWNpdGx5IGNoZWNrLlxuICAgICAgICBpZiAoKGNvdW50ICE9PSBsYXN0Q291bnQpICYmICEoY291bnRJc05hTiAmJiBpc051bWJlck5hTihsYXN0Q291bnQpKSkge1xuICAgICAgICAgIHdhdGNoUmVtb3ZlcigpO1xuICAgICAgICAgIHZhciB3aGVuRXhwRm4gPSB3aGVuc0V4cEZuc1tjb3VudF07XG4gICAgICAgICAgaWYgKGlzVW5kZWZpbmVkKHdoZW5FeHBGbikpIHtcbiAgICAgICAgICAgIGlmIChuZXdWYWwgIT0gbnVsbCkge1xuICAgICAgICAgICAgICAkbG9nLmRlYnVnKCduZ1BsdXJhbGl6ZTogbm8gcnVsZSBkZWZpbmVkIGZvciBcXCcnICsgY291bnQgKyAnXFwnIGluICcgKyB3aGVuRXhwKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHdhdGNoUmVtb3ZlciA9IG5vb3A7XG4gICAgICAgICAgICB1cGRhdGVFbGVtZW50VGV4dCgpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB3YXRjaFJlbW92ZXIgPSBzY29wZS4kd2F0Y2god2hlbkV4cEZuLCB1cGRhdGVFbGVtZW50VGV4dCk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGxhc3RDb3VudCA9IGNvdW50O1xuICAgICAgICB9XG4gICAgICB9KTtcblxuICAgICAgZnVuY3Rpb24gdXBkYXRlRWxlbWVudFRleHQobmV3VGV4dCkge1xuICAgICAgICBlbGVtZW50LnRleHQobmV3VGV4dCB8fCAnJyk7XG4gICAgICB9XG4gICAgfVxuICB9O1xufV07XG5cbi8qIGV4cG9ydGVkIG5nUmVwZWF0RGlyZWN0aXZlICovXG5cbi8qKlxuICogQG5nZG9jIGRpcmVjdGl2ZVxuICogQG5hbWUgbmdSZXBlYXRcbiAqIEBtdWx0aUVsZW1lbnRcbiAqIEByZXN0cmljdCBBXG4gKlxuICogQGRlc2NyaXB0aW9uXG4gKiBUaGUgYG5nUmVwZWF0YCBkaXJlY3RpdmUgaW5zdGFudGlhdGVzIGEgdGVtcGxhdGUgb25jZSBwZXIgaXRlbSBmcm9tIGEgY29sbGVjdGlvbi4gRWFjaCB0ZW1wbGF0ZVxuICogaW5zdGFuY2UgZ2V0cyBpdHMgb3duIHNjb3BlLCB3aGVyZSB0aGUgZ2l2ZW4gbG9vcCB2YXJpYWJsZSBpcyBzZXQgdG8gdGhlIGN1cnJlbnQgY29sbGVjdGlvbiBpdGVtLFxuICogYW5kIGAkaW5kZXhgIGlzIHNldCB0byB0aGUgaXRlbSBpbmRleCBvciBrZXkuXG4gKlxuICogU3BlY2lhbCBwcm9wZXJ0aWVzIGFyZSBleHBvc2VkIG9uIHRoZSBsb2NhbCBzY29wZSBvZiBlYWNoIHRlbXBsYXRlIGluc3RhbmNlLCBpbmNsdWRpbmc6XG4gKlxuICogfCBWYXJpYWJsZSAgfCBUeXBlICAgICAgICAgICAgfCBEZXRhaWxzICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfFxuICogfC0tLS0tLS0tLS0tfC0tLS0tLS0tLS0tLS0tLS0tfC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tfFxuICogfCBgJGluZGV4YCAgfCB7QHR5cGUgbnVtYmVyfSAgfCBpdGVyYXRvciBvZmZzZXQgb2YgdGhlIHJlcGVhdGVkIGVsZW1lbnQgKDAuLmxlbmd0aC0xKSAgICAgICAgICAgICAgICAgICAgICAgfFxuICogfCBgJGZpcnN0YCAgfCB7QHR5cGUgYm9vbGVhbn0gfCB0cnVlIGlmIHRoZSByZXBlYXRlZCBlbGVtZW50IGlzIGZpcnN0IGluIHRoZSBpdGVyYXRvci4gICAgICAgICAgICAgICAgICAgICAgfFxuICogfCBgJG1pZGRsZWAgfCB7QHR5cGUgYm9vbGVhbn0gfCB0cnVlIGlmIHRoZSByZXBlYXRlZCBlbGVtZW50IGlzIGJldHdlZW4gdGhlIGZpcnN0IGFuZCBsYXN0IGluIHRoZSBpdGVyYXRvci4gfFxuICogfCBgJGxhc3RgICAgfCB7QHR5cGUgYm9vbGVhbn0gfCB0cnVlIGlmIHRoZSByZXBlYXRlZCBlbGVtZW50IGlzIGxhc3QgaW4gdGhlIGl0ZXJhdG9yLiAgICAgICAgICAgICAgICAgICAgICAgfFxuICogfCBgJGV2ZW5gICAgfCB7QHR5cGUgYm9vbGVhbn0gfCB0cnVlIGlmIHRoZSBpdGVyYXRvciBwb3NpdGlvbiBgJGluZGV4YCBpcyBldmVuIChvdGhlcndpc2UgZmFsc2UpLiAgICAgICAgICAgfFxuICogfCBgJG9kZGAgICAgfCB7QHR5cGUgYm9vbGVhbn0gfCB0cnVlIGlmIHRoZSBpdGVyYXRvciBwb3NpdGlvbiBgJGluZGV4YCBpcyBvZGQgKG90aGVyd2lzZSBmYWxzZSkuICAgICAgICAgICAgfFxuICpcbiAqIDxkaXYgY2xhc3M9XCJhbGVydCBhbGVydC1pbmZvXCI+XG4gKiAgIENyZWF0aW5nIGFsaWFzZXMgZm9yIHRoZXNlIHByb3BlcnRpZXMgaXMgcG9zc2libGUgd2l0aCB7QGxpbmsgbmcuZGlyZWN0aXZlOm5nSW5pdCBgbmdJbml0YH0uXG4gKiAgIFRoaXMgbWF5IGJlIHVzZWZ1bCB3aGVuLCBmb3IgaW5zdGFuY2UsIG5lc3RpbmcgbmdSZXBlYXRzLlxuICogPC9kaXY+XG4gKlxuICpcbiAqICMgSXRlcmF0aW5nIG92ZXIgb2JqZWN0IHByb3BlcnRpZXNcbiAqXG4gKiBJdCBpcyBwb3NzaWJsZSB0byBnZXQgYG5nUmVwZWF0YCB0byBpdGVyYXRlIG92ZXIgdGhlIHByb3BlcnRpZXMgb2YgYW4gb2JqZWN0IHVzaW5nIHRoZSBmb2xsb3dpbmdcbiAqIHN5bnRheDpcbiAqXG4gKiBgYGBqc1xuICogPGRpdiBuZy1yZXBlYXQ9XCIoa2V5LCB2YWx1ZSkgaW4gbXlPYmpcIj4gLi4uIDwvZGl2PlxuICogYGBgXG4gKlxuICogSG93ZXZlciwgdGhlcmUgYXJlIGEgZmV3IGxpbWl0YXRpb25zIGNvbXBhcmVkIHRvIGFycmF5IGl0ZXJhdGlvbjpcbiAqXG4gKiAtIFRoZSBKYXZhU2NyaXB0IHNwZWNpZmljYXRpb24gZG9lcyBub3QgZGVmaW5lIHRoZSBvcmRlciBvZiBrZXlzXG4gKiAgIHJldHVybmVkIGZvciBhbiBvYmplY3QsIHNvIEFuZ3VsYXIgcmVsaWVzIG9uIHRoZSBvcmRlciByZXR1cm5lZCBieSB0aGUgYnJvd3NlclxuICogICB3aGVuIHJ1bm5pbmcgYGZvciBrZXkgaW4gbXlPYmpgLiBCcm93c2VycyBnZW5lcmFsbHkgZm9sbG93IHRoZSBzdHJhdGVneSBvZiBwcm92aWRpbmdcbiAqICAga2V5cyBpbiB0aGUgb3JkZXIgaW4gd2hpY2ggdGhleSB3ZXJlIGRlZmluZWQsIGFsdGhvdWdoIHRoZXJlIGFyZSBleGNlcHRpb25zIHdoZW4ga2V5cyBhcmUgZGVsZXRlZFxuICogICBhbmQgcmVpbnN0YXRlZC4gU2VlIHRoZVxuICogICBbTUROIHBhZ2Ugb24gYGRlbGV0ZWAgZm9yIG1vcmUgaW5mb10oaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvSmF2YVNjcmlwdC9SZWZlcmVuY2UvT3BlcmF0b3JzL2RlbGV0ZSNDcm9zcy1icm93c2VyX25vdGVzKS5cbiAqXG4gKiAtIGBuZ1JlcGVhdGAgd2lsbCBzaWxlbnRseSAqaWdub3JlKiBvYmplY3Qga2V5cyBzdGFydGluZyB3aXRoIGAkYCwgYmVjYXVzZVxuICogICBpdCdzIGEgcHJlZml4IHVzZWQgYnkgQW5ndWxhciBmb3IgcHVibGljIChgJGApIGFuZCBwcml2YXRlIChgJCRgKSBwcm9wZXJ0aWVzLlxuICpcbiAqIC0gVGhlIGJ1aWx0LWluIGZpbHRlcnMge0BsaW5rIG5nLm9yZGVyQnkgb3JkZXJCeX0gYW5kIHtAbGluayBuZy5maWx0ZXIgZmlsdGVyfSBkbyBub3Qgd29yayB3aXRoXG4gKiAgIG9iamVjdHMsIGFuZCB3aWxsIHRocm93IGFuIGVycm9yIGlmIHVzZWQgd2l0aCBvbmUuXG4gKlxuICogSWYgeW91IGFyZSBoaXR0aW5nIGFueSBvZiB0aGVzZSBsaW1pdGF0aW9ucywgdGhlIHJlY29tbWVuZGVkIHdvcmthcm91bmQgaXMgdG8gY29udmVydCB5b3VyIG9iamVjdCBpbnRvIGFuIGFycmF5XG4gKiB0aGF0IGlzIHNvcnRlZCBpbnRvIHRoZSBvcmRlciB0aGF0IHlvdSBwcmVmZXIgYmVmb3JlIHByb3ZpZGluZyBpdCB0byBgbmdSZXBlYXRgLiBZb3UgY291bGRcbiAqIGRvIHRoaXMgd2l0aCBhIGZpbHRlciBzdWNoIGFzIFt0b0FycmF5RmlsdGVyXShodHRwOi8vbmdtb2R1bGVzLm9yZy9tb2R1bGVzL2FuZ3VsYXItdG9BcnJheUZpbHRlcilcbiAqIG9yIGltcGxlbWVudCBhIGAkd2F0Y2hgIG9uIHRoZSBvYmplY3QgeW91cnNlbGYuXG4gKlxuICpcbiAqICMgVHJhY2tpbmcgYW5kIER1cGxpY2F0ZXNcbiAqXG4gKiBgbmdSZXBlYXRgIHVzZXMge0BsaW5rICRyb290U2NvcGUuU2NvcGUjJHdhdGNoQ29sbGVjdGlvbiAkd2F0Y2hDb2xsZWN0aW9ufSB0byBkZXRlY3QgY2hhbmdlcyBpblxuICogdGhlIGNvbGxlY3Rpb24uIFdoZW4gYSBjaGFuZ2UgaGFwcGVucywgYG5nUmVwZWF0YCB0aGVuIG1ha2VzIHRoZSBjb3JyZXNwb25kaW5nIGNoYW5nZXMgdG8gdGhlIERPTTpcbiAqXG4gKiAqIFdoZW4gYW4gaXRlbSBpcyBhZGRlZCwgYSBuZXcgaW5zdGFuY2Ugb2YgdGhlIHRlbXBsYXRlIGlzIGFkZGVkIHRvIHRoZSBET00uXG4gKiAqIFdoZW4gYW4gaXRlbSBpcyByZW1vdmVkLCBpdHMgdGVtcGxhdGUgaW5zdGFuY2UgaXMgcmVtb3ZlZCBmcm9tIHRoZSBET00uXG4gKiAqIFdoZW4gaXRlbXMgYXJlIHJlb3JkZXJlZCwgdGhlaXIgcmVzcGVjdGl2ZSB0ZW1wbGF0ZXMgYXJlIHJlb3JkZXJlZCBpbiB0aGUgRE9NLlxuICpcbiAqIFRvIG1pbmltaXplIGNyZWF0aW9uIG9mIERPTSBlbGVtZW50cywgYG5nUmVwZWF0YCB1c2VzIGEgZnVuY3Rpb25cbiAqIHRvIFwia2VlcCB0cmFja1wiIG9mIGFsbCBpdGVtcyBpbiB0aGUgY29sbGVjdGlvbiBhbmQgdGhlaXIgY29ycmVzcG9uZGluZyBET00gZWxlbWVudHMuXG4gKiBGb3IgZXhhbXBsZSwgaWYgYW4gaXRlbSBpcyBhZGRlZCB0byB0aGUgY29sbGVjdGlvbiwgYG5nUmVwZWF0YCB3aWxsIGtub3cgdGhhdCBhbGwgb3RoZXIgaXRlbXNcbiAqIGFscmVhZHkgaGF2ZSBET00gZWxlbWVudHMsIGFuZCB3aWxsIG5vdCByZS1yZW5kZXIgdGhlbS5cbiAqXG4gKiBUaGUgZGVmYXVsdCB0cmFja2luZyBmdW5jdGlvbiAod2hpY2ggdHJhY2tzIGl0ZW1zIGJ5IHRoZWlyIGlkZW50aXR5KSBkb2VzIG5vdCBhbGxvd1xuICogZHVwbGljYXRlIGl0ZW1zIGluIGFycmF5cy4gVGhpcyBpcyBiZWNhdXNlIHdoZW4gdGhlcmUgYXJlIGR1cGxpY2F0ZXMsIGl0IGlzIG5vdCBwb3NzaWJsZVxuICogdG8gbWFpbnRhaW4gYSBvbmUtdG8tb25lIG1hcHBpbmcgYmV0d2VlbiBjb2xsZWN0aW9uIGl0ZW1zIGFuZCBET00gZWxlbWVudHMuXG4gKlxuICogSWYgeW91IGRvIG5lZWQgdG8gcmVwZWF0IGR1cGxpY2F0ZSBpdGVtcywgeW91IGNhbiBzdWJzdGl0dXRlIHRoZSBkZWZhdWx0IHRyYWNraW5nIGJlaGF2aW9yXG4gKiB3aXRoIHlvdXIgb3duIHVzaW5nIHRoZSBgdHJhY2sgYnlgIGV4cHJlc3Npb24uXG4gKlxuICogRm9yIGV4YW1wbGUsIHlvdSBtYXkgdHJhY2sgaXRlbXMgYnkgdGhlIGluZGV4IG9mIGVhY2ggaXRlbSBpbiB0aGUgY29sbGVjdGlvbiwgdXNpbmcgdGhlXG4gKiBzcGVjaWFsIHNjb3BlIHByb3BlcnR5IGAkaW5kZXhgOlxuICogYGBgaHRtbFxuICogICAgPGRpdiBuZy1yZXBlYXQ9XCJuIGluIFs0MiwgNDIsIDQzLCA0M10gdHJhY2sgYnkgJGluZGV4XCI+XG4gKiAgICAgIHt7bn19XG4gKiAgICA8L2Rpdj5cbiAqIGBgYFxuICpcbiAqIFlvdSBtYXkgYWxzbyB1c2UgYXJiaXRyYXJ5IGV4cHJlc3Npb25zIGluIGB0cmFjayBieWAsIGluY2x1ZGluZyByZWZlcmVuY2VzIHRvIGN1c3RvbSBmdW5jdGlvbnNcbiAqIG9uIHRoZSBzY29wZTpcbiAqIGBgYGh0bWxcbiAqICAgIDxkaXYgbmctcmVwZWF0PVwibiBpbiBbNDIsIDQyLCA0MywgNDNdIHRyYWNrIGJ5IG15VHJhY2tpbmdGdW5jdGlvbihuKVwiPlxuICogICAgICB7e259fVxuICogICAgPC9kaXY+XG4gKiBgYGBcbiAqXG4gKiA8ZGl2IGNsYXNzPVwiYWxlcnQgYWxlcnQtc3VjY2Vzc1wiPlxuICogSWYgeW91IGFyZSB3b3JraW5nIHdpdGggb2JqZWN0cyB0aGF0IGhhdmUgYSB1bmlxdWUgaWRlbnRpZmllciBwcm9wZXJ0eSwgeW91IHNob3VsZCB0cmFja1xuICogYnkgdGhpcyBpZGVudGlmaWVyIGluc3RlYWQgb2YgdGhlIG9iamVjdCBpbnN0YW5jZS4gU2hvdWxkIHlvdSByZWxvYWQgeW91ciBkYXRhIGxhdGVyLCBgbmdSZXBlYXRgXG4gKiB3aWxsIG5vdCBoYXZlIHRvIHJlYnVpbGQgdGhlIERPTSBlbGVtZW50cyBmb3IgaXRlbXMgaXQgaGFzIGFscmVhZHkgcmVuZGVyZWQsIGV2ZW4gaWYgdGhlXG4gKiBKYXZhU2NyaXB0IG9iamVjdHMgaW4gdGhlIGNvbGxlY3Rpb24gaGF2ZSBiZWVuIHN1YnN0aXR1dGVkIGZvciBuZXcgb25lcy4gRm9yIGxhcmdlIGNvbGxlY3Rpb25zLFxuICogdGhpcyBzaWduaWZpY2FudGx5IGltcHJvdmVzIHJlbmRlcmluZyBwZXJmb3JtYW5jZS4gSWYgeW91IGRvbid0IGhhdmUgYSB1bmlxdWUgaWRlbnRpZmllcixcbiAqIGB0cmFjayBieSAkaW5kZXhgIGNhbiBhbHNvIHByb3ZpZGUgYSBwZXJmb3JtYW5jZSBib29zdC5cbiAqIDwvZGl2PlxuICpcbiAqIGBgYGh0bWxcbiAqICAgIDxkaXYgbmctcmVwZWF0PVwibW9kZWwgaW4gY29sbGVjdGlvbiB0cmFjayBieSBtb2RlbC5pZFwiPlxuICogICAgICB7e21vZGVsLm5hbWV9fVxuICogICAgPC9kaXY+XG4gKiBgYGBcbiAqXG4gKiA8YnIgLz5cbiAqIDxkaXYgY2xhc3M9XCJhbGVydCBhbGVydC13YXJuaW5nXCI+XG4gKiBBdm9pZCB1c2luZyBgdHJhY2sgYnkgJGluZGV4YCB3aGVuIHRoZSByZXBlYXRlZCB0ZW1wbGF0ZSBjb250YWluc1xuICoge0BsaW5rIGd1aWRlL2V4cHJlc3Npb24jb25lLXRpbWUtYmluZGluZyBvbmUtdGltZSBiaW5kaW5nc30uIEluIHN1Y2ggY2FzZXMsIHRoZSBgbnRoYCBET01cbiAqIGVsZW1lbnQgd2lsbCBhbHdheXMgYmUgbWF0Y2hlZCB3aXRoIHRoZSBgbnRoYCBpdGVtIG9mIHRoZSBhcnJheSwgc28gdGhlIGJpbmRpbmdzIG9uIHRoYXQgZWxlbWVudFxuICogd2lsbCBub3QgYmUgdXBkYXRlZCBldmVuIHdoZW4gdGhlIGNvcnJlc3BvbmRpbmcgaXRlbSBjaGFuZ2VzLCBlc3NlbnRpYWxseSBjYXVzaW5nIHRoZSB2aWV3IHRvIGdldFxuICogb3V0LW9mLXN5bmMgd2l0aCB0aGUgdW5kZXJseWluZyBkYXRhLlxuICogPC9kaXY+XG4gKlxuICogV2hlbiBubyBgdHJhY2sgYnlgIGV4cHJlc3Npb24gaXMgcHJvdmlkZWQsIGl0IGlzIGVxdWl2YWxlbnQgdG8gdHJhY2tpbmcgYnkgdGhlIGJ1aWx0LWluXG4gKiBgJGlkYCBmdW5jdGlvbiwgd2hpY2ggdHJhY2tzIGl0ZW1zIGJ5IHRoZWlyIGlkZW50aXR5OlxuICogYGBgaHRtbFxuICogICAgPGRpdiBuZy1yZXBlYXQ9XCJvYmogaW4gY29sbGVjdGlvbiB0cmFjayBieSAkaWQob2JqKVwiPlxuICogICAgICB7e29iai5wcm9wfX1cbiAqICAgIDwvZGl2PlxuICogYGBgXG4gKlxuICogPGJyIC8+XG4gKiA8ZGl2IGNsYXNzPVwiYWxlcnQgYWxlcnQtd2FybmluZ1wiPlxuICogKipOb3RlOioqIGB0cmFjayBieWAgbXVzdCBhbHdheXMgYmUgdGhlIGxhc3QgZXhwcmVzc2lvbjpcbiAqIDwvZGl2PlxuICogYGBgXG4gKiAgICA8ZGl2IG5nLXJlcGVhdD1cIm1vZGVsIGluIGNvbGxlY3Rpb24gfCBvcmRlckJ5OiAnaWQnIGFzIGZpbHRlcmVkX3Jlc3VsdCB0cmFjayBieSBtb2RlbC5pZFwiPlxuICogICAgICB7e21vZGVsLm5hbWV9fVxuICogICAgPC9kaXY+XG4gKiBgYGBcbiAqXG4gKlxuICogIyBTcGVjaWFsIHJlcGVhdCBzdGFydCBhbmQgZW5kIHBvaW50c1xuICogVG8gcmVwZWF0IGEgc2VyaWVzIG9mIGVsZW1lbnRzIGluc3RlYWQgb2YganVzdCBvbmUgcGFyZW50IGVsZW1lbnQsIG5nUmVwZWF0IChhcyB3ZWxsIGFzIG90aGVyIG5nIGRpcmVjdGl2ZXMpIHN1cHBvcnRzIGV4dGVuZGluZ1xuICogdGhlIHJhbmdlIG9mIHRoZSByZXBlYXRlciBieSBkZWZpbmluZyBleHBsaWNpdCBzdGFydCBhbmQgZW5kIHBvaW50cyBieSB1c2luZyAqKm5nLXJlcGVhdC1zdGFydCoqIGFuZCAqKm5nLXJlcGVhdC1lbmQqKiByZXNwZWN0aXZlbHkuXG4gKiBUaGUgKipuZy1yZXBlYXQtc3RhcnQqKiBkaXJlY3RpdmUgd29ya3MgdGhlIHNhbWUgYXMgKipuZy1yZXBlYXQqKiwgYnV0IHdpbGwgcmVwZWF0IGFsbCB0aGUgSFRNTCBjb2RlIChpbmNsdWRpbmcgdGhlIHRhZyBpdCdzIGRlZmluZWQgb24pXG4gKiB1cCB0byBhbmQgaW5jbHVkaW5nIHRoZSBlbmRpbmcgSFRNTCB0YWcgd2hlcmUgKipuZy1yZXBlYXQtZW5kKiogaXMgcGxhY2VkLlxuICpcbiAqIFRoZSBleGFtcGxlIGJlbG93IG1ha2VzIHVzZSBvZiB0aGlzIGZlYXR1cmU6XG4gKiBgYGBodG1sXG4gKiAgIDxoZWFkZXIgbmctcmVwZWF0LXN0YXJ0PVwiaXRlbSBpbiBpdGVtc1wiPlxuICogICAgIEhlYWRlciB7eyBpdGVtIH19XG4gKiAgIDwvaGVhZGVyPlxuICogICA8ZGl2IGNsYXNzPVwiYm9keVwiPlxuICogICAgIEJvZHkge3sgaXRlbSB9fVxuICogICA8L2Rpdj5cbiAqICAgPGZvb3RlciBuZy1yZXBlYXQtZW5kPlxuICogICAgIEZvb3RlciB7eyBpdGVtIH19XG4gKiAgIDwvZm9vdGVyPlxuICogYGBgXG4gKlxuICogQW5kIHdpdGggYW4gaW5wdXQgb2Yge0B0eXBlIFsnQScsJ0InXX0gZm9yIHRoZSBpdGVtcyB2YXJpYWJsZSBpbiB0aGUgZXhhbXBsZSBhYm92ZSwgdGhlIG91dHB1dCB3aWxsIGV2YWx1YXRlIHRvOlxuICogYGBgaHRtbFxuICogICA8aGVhZGVyPlxuICogICAgIEhlYWRlciBBXG4gKiAgIDwvaGVhZGVyPlxuICogICA8ZGl2IGNsYXNzPVwiYm9keVwiPlxuICogICAgIEJvZHkgQVxuICogICA8L2Rpdj5cbiAqICAgPGZvb3Rlcj5cbiAqICAgICBGb290ZXIgQVxuICogICA8L2Zvb3Rlcj5cbiAqICAgPGhlYWRlcj5cbiAqICAgICBIZWFkZXIgQlxuICogICA8L2hlYWRlcj5cbiAqICAgPGRpdiBjbGFzcz1cImJvZHlcIj5cbiAqICAgICBCb2R5IEJcbiAqICAgPC9kaXY+XG4gKiAgIDxmb290ZXI+XG4gKiAgICAgRm9vdGVyIEJcbiAqICAgPC9mb290ZXI+XG4gKiBgYGBcbiAqXG4gKiBUaGUgY3VzdG9tIHN0YXJ0IGFuZCBlbmQgcG9pbnRzIGZvciBuZ1JlcGVhdCBhbHNvIHN1cHBvcnQgYWxsIG90aGVyIEhUTUwgZGlyZWN0aXZlIHN5bnRheCBmbGF2b3JzIHByb3ZpZGVkIGluIEFuZ3VsYXJKUyAoc3VjaFxuICogYXMgKipkYXRhLW5nLXJlcGVhdC1zdGFydCoqLCAqKngtbmctcmVwZWF0LXN0YXJ0KiogYW5kICoqbmc6cmVwZWF0LXN0YXJ0KiopLlxuICpcbiAqIEBhbmltYXRpb25zXG4gKiB8IEFuaW1hdGlvbiAgICAgICAgICAgICAgICAgICAgICAgIHwgT2NjdXJzICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfFxuICogfC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS18LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLXxcbiAqIHwge0BsaW5rIG5nLiRhbmltYXRlI2VudGVyIGVudGVyfSB8IHdoZW4gYSBuZXcgaXRlbSBpcyBhZGRlZCB0byB0aGUgbGlzdCBvciB3aGVuIGFuIGl0ZW0gaXMgcmV2ZWFsZWQgYWZ0ZXIgYSBmaWx0ZXIgfFxuICogfCB7QGxpbmsgbmcuJGFuaW1hdGUjbGVhdmUgbGVhdmV9IHwgd2hlbiBhbiBpdGVtIGlzIHJlbW92ZWQgZnJvbSB0aGUgbGlzdCBvciB3aGVuIGFuIGl0ZW0gaXMgZmlsdGVyZWQgb3V0IHxcbiAqIHwge0BsaW5rIG5nLiRhbmltYXRlI21vdmUgbW92ZSB9IHwgd2hlbiBhbiBhZGphY2VudCBpdGVtIGlzIGZpbHRlcmVkIG91dCBjYXVzaW5nIGEgcmVvcmRlciBvciB3aGVuIHRoZSBpdGVtIGNvbnRlbnRzIGFyZSByZW9yZGVyZWQgfFxuICpcbiAqIFNlZSB0aGUgZXhhbXBsZSBiZWxvdyBmb3IgZGVmaW5pbmcgQ1NTIGFuaW1hdGlvbnMgd2l0aCBuZ1JlcGVhdC5cbiAqXG4gKiBAZWxlbWVudCBBTllcbiAqIEBzY29wZVxuICogQHByaW9yaXR5IDEwMDBcbiAqIEBwYXJhbSB7cmVwZWF0X2V4cHJlc3Npb259IG5nUmVwZWF0IFRoZSBleHByZXNzaW9uIGluZGljYXRpbmcgaG93IHRvIGVudW1lcmF0ZSBhIGNvbGxlY3Rpb24uIFRoZXNlXG4gKiAgIGZvcm1hdHMgYXJlIGN1cnJlbnRseSBzdXBwb3J0ZWQ6XG4gKlxuICogICAqIGB2YXJpYWJsZSBpbiBleHByZXNzaW9uYCDigJMgd2hlcmUgdmFyaWFibGUgaXMgdGhlIHVzZXIgZGVmaW5lZCBsb29wIHZhcmlhYmxlIGFuZCBgZXhwcmVzc2lvbmBcbiAqICAgICBpcyBhIHNjb3BlIGV4cHJlc3Npb24gZ2l2aW5nIHRoZSBjb2xsZWN0aW9uIHRvIGVudW1lcmF0ZS5cbiAqXG4gKiAgICAgRm9yIGV4YW1wbGU6IGBhbGJ1bSBpbiBhcnRpc3QuYWxidW1zYC5cbiAqXG4gKiAgICogYChrZXksIHZhbHVlKSBpbiBleHByZXNzaW9uYCDigJMgd2hlcmUgYGtleWAgYW5kIGB2YWx1ZWAgY2FuIGJlIGFueSB1c2VyIGRlZmluZWQgaWRlbnRpZmllcnMsXG4gKiAgICAgYW5kIGBleHByZXNzaW9uYCBpcyB0aGUgc2NvcGUgZXhwcmVzc2lvbiBnaXZpbmcgdGhlIGNvbGxlY3Rpb24gdG8gZW51bWVyYXRlLlxuICpcbiAqICAgICBGb3IgZXhhbXBsZTogYChuYW1lLCBhZ2UpIGluIHsnYWRhbSc6MTAsICdhbWFsaWUnOjEyfWAuXG4gKlxuICogICAqIGB2YXJpYWJsZSBpbiBleHByZXNzaW9uIHRyYWNrIGJ5IHRyYWNraW5nX2V4cHJlc3Npb25gIOKAkyBZb3UgY2FuIGFsc28gcHJvdmlkZSBhbiBvcHRpb25hbCB0cmFja2luZyBleHByZXNzaW9uXG4gKiAgICAgd2hpY2ggY2FuIGJlIHVzZWQgdG8gYXNzb2NpYXRlIHRoZSBvYmplY3RzIGluIHRoZSBjb2xsZWN0aW9uIHdpdGggdGhlIERPTSBlbGVtZW50cy4gSWYgbm8gdHJhY2tpbmcgZXhwcmVzc2lvblxuICogICAgIGlzIHNwZWNpZmllZCwgbmctcmVwZWF0IGFzc29jaWF0ZXMgZWxlbWVudHMgYnkgaWRlbnRpdHkuIEl0IGlzIGFuIGVycm9yIHRvIGhhdmVcbiAqICAgICBtb3JlIHRoYW4gb25lIHRyYWNraW5nIGV4cHJlc3Npb24gdmFsdWUgcmVzb2x2ZSB0byB0aGUgc2FtZSBrZXkuIChUaGlzIHdvdWxkIG1lYW4gdGhhdCB0d28gZGlzdGluY3Qgb2JqZWN0cyBhcmVcbiAqICAgICBtYXBwZWQgdG8gdGhlIHNhbWUgRE9NIGVsZW1lbnQsIHdoaWNoIGlzIG5vdCBwb3NzaWJsZS4pXG4gKlxuICogICAgIE5vdGUgdGhhdCB0aGUgdHJhY2tpbmcgZXhwcmVzc2lvbiBtdXN0IGNvbWUgbGFzdCwgYWZ0ZXIgYW55IGZpbHRlcnMsIGFuZCB0aGUgYWxpYXMgZXhwcmVzc2lvbi5cbiAqXG4gKiAgICAgRm9yIGV4YW1wbGU6IGBpdGVtIGluIGl0ZW1zYCBpcyBlcXVpdmFsZW50IHRvIGBpdGVtIGluIGl0ZW1zIHRyYWNrIGJ5ICRpZChpdGVtKWAuIFRoaXMgaW1wbGllcyB0aGF0IHRoZSBET00gZWxlbWVudHNcbiAqICAgICB3aWxsIGJlIGFzc29jaWF0ZWQgYnkgaXRlbSBpZGVudGl0eSBpbiB0aGUgYXJyYXkuXG4gKlxuICogICAgIEZvciBleGFtcGxlOiBgaXRlbSBpbiBpdGVtcyB0cmFjayBieSAkaWQoaXRlbSlgLiBBIGJ1aWx0IGluIGAkaWQoKWAgZnVuY3Rpb24gY2FuIGJlIHVzZWQgdG8gYXNzaWduIGEgdW5pcXVlXG4gKiAgICAgYCQkaGFzaEtleWAgcHJvcGVydHkgdG8gZWFjaCBpdGVtIGluIHRoZSBhcnJheS4gVGhpcyBwcm9wZXJ0eSBpcyB0aGVuIHVzZWQgYXMgYSBrZXkgdG8gYXNzb2NpYXRlZCBET00gZWxlbWVudHNcbiAqICAgICB3aXRoIHRoZSBjb3JyZXNwb25kaW5nIGl0ZW0gaW4gdGhlIGFycmF5IGJ5IGlkZW50aXR5LiBNb3ZpbmcgdGhlIHNhbWUgb2JqZWN0IGluIGFycmF5IHdvdWxkIG1vdmUgdGhlIERPTVxuICogICAgIGVsZW1lbnQgaW4gdGhlIHNhbWUgd2F5IGluIHRoZSBET00uXG4gKlxuICogICAgIEZvciBleGFtcGxlOiBgaXRlbSBpbiBpdGVtcyB0cmFjayBieSBpdGVtLmlkYCBpcyBhIHR5cGljYWwgcGF0dGVybiB3aGVuIHRoZSBpdGVtcyBjb21lIGZyb20gdGhlIGRhdGFiYXNlLiBJbiB0aGlzXG4gKiAgICAgY2FzZSB0aGUgb2JqZWN0IGlkZW50aXR5IGRvZXMgbm90IG1hdHRlci4gVHdvIG9iamVjdHMgYXJlIGNvbnNpZGVyZWQgZXF1aXZhbGVudCBhcyBsb25nIGFzIHRoZWlyIGBpZGBcbiAqICAgICBwcm9wZXJ0eSBpcyBzYW1lLlxuICpcbiAqICAgICBGb3IgZXhhbXBsZTogYGl0ZW0gaW4gaXRlbXMgfCBmaWx0ZXI6c2VhcmNoVGV4dCB0cmFjayBieSBpdGVtLmlkYCBpcyBhIHBhdHRlcm4gdGhhdCBtaWdodCBiZSB1c2VkIHRvIGFwcGx5IGEgZmlsdGVyXG4gKiAgICAgdG8gaXRlbXMgaW4gY29uanVuY3Rpb24gd2l0aCBhIHRyYWNraW5nIGV4cHJlc3Npb24uXG4gKlxuICogICAqIGB2YXJpYWJsZSBpbiBleHByZXNzaW9uIGFzIGFsaWFzX2V4cHJlc3Npb25gIOKAkyBZb3UgY2FuIGFsc28gcHJvdmlkZSBhbiBvcHRpb25hbCBhbGlhcyBleHByZXNzaW9uIHdoaWNoIHdpbGwgdGhlbiBzdG9yZSB0aGVcbiAqICAgICBpbnRlcm1lZGlhdGUgcmVzdWx0cyBvZiB0aGUgcmVwZWF0ZXIgYWZ0ZXIgdGhlIGZpbHRlcnMgaGF2ZSBiZWVuIGFwcGxpZWQuIFR5cGljYWxseSB0aGlzIGlzIHVzZWQgdG8gcmVuZGVyIGEgc3BlY2lhbCBtZXNzYWdlXG4gKiAgICAgd2hlbiBhIGZpbHRlciBpcyBhY3RpdmUgb24gdGhlIHJlcGVhdGVyLCBidXQgdGhlIGZpbHRlcmVkIHJlc3VsdCBzZXQgaXMgZW1wdHkuXG4gKlxuICogICAgIEZvciBleGFtcGxlOiBgaXRlbSBpbiBpdGVtcyB8IGZpbHRlcjp4IGFzIHJlc3VsdHNgIHdpbGwgc3RvcmUgdGhlIGZyYWdtZW50IG9mIHRoZSByZXBlYXRlZCBpdGVtcyBhcyBgcmVzdWx0c2AsIGJ1dCBvbmx5IGFmdGVyXG4gKiAgICAgdGhlIGl0ZW1zIGhhdmUgYmVlbiBwcm9jZXNzZWQgdGhyb3VnaCB0aGUgZmlsdGVyLlxuICpcbiAqICAgICBQbGVhc2Ugbm90ZSB0aGF0IGBhcyBbdmFyaWFibGUgbmFtZV0gaXMgbm90IGFuIG9wZXJhdG9yIGJ1dCByYXRoZXIgYSBwYXJ0IG9mIG5nUmVwZWF0IG1pY3JvLXN5bnRheCBzbyBpdCBjYW4gYmUgdXNlZCBvbmx5IGF0IHRoZSBlbmRcbiAqICAgICAoYW5kIG5vdCBhcyBvcGVyYXRvciwgaW5zaWRlIGFuIGV4cHJlc3Npb24pLlxuICpcbiAqICAgICBGb3IgZXhhbXBsZTogYGl0ZW0gaW4gaXRlbXMgfCBmaWx0ZXIgOiB4IHwgb3JkZXJCeSA6IG9yZGVyIHwgbGltaXRUbyA6IGxpbWl0IGFzIHJlc3VsdHNgIC5cbiAqXG4gKiBAZXhhbXBsZVxuICogVGhpcyBleGFtcGxlIHVzZXMgYG5nUmVwZWF0YCB0byBkaXNwbGF5IGEgbGlzdCBvZiBwZW9wbGUuIEEgZmlsdGVyIGlzIHVzZWQgdG8gcmVzdHJpY3QgdGhlIGRpc3BsYXllZFxuICogcmVzdWx0cyBieSBuYW1lIG9yIGJ5IGFnZS4gTmV3IChlbnRlcmluZykgYW5kIHJlbW92ZWQgKGxlYXZpbmcpIGl0ZW1zIGFyZSBhbmltYXRlZC5cbiAgPGV4YW1wbGUgbW9kdWxlPVwibmdSZXBlYXRcIiBuYW1lPVwibmdSZXBlYXRcIiBkZXBzPVwiYW5ndWxhci1hbmltYXRlLmpzXCIgYW5pbWF0aW9ucz1cInRydWVcIiBuYW1lPVwibmctcmVwZWF0XCI+XG4gICAgPGZpbGUgbmFtZT1cImluZGV4Lmh0bWxcIj5cbiAgICAgIDxkaXYgbmctY29udHJvbGxlcj1cInJlcGVhdENvbnRyb2xsZXJcIj5cbiAgICAgICAgSSBoYXZlIHt7ZnJpZW5kcy5sZW5ndGh9fSBmcmllbmRzLiBUaGV5IGFyZTpcbiAgICAgICAgPGlucHV0IHR5cGU9XCJzZWFyY2hcIiBuZy1tb2RlbD1cInFcIiBwbGFjZWhvbGRlcj1cImZpbHRlciBmcmllbmRzLi4uXCIgYXJpYS1sYWJlbD1cImZpbHRlciBmcmllbmRzXCIgLz5cbiAgICAgICAgPHVsIGNsYXNzPVwiZXhhbXBsZS1hbmltYXRlLWNvbnRhaW5lclwiPlxuICAgICAgICAgIDxsaSBjbGFzcz1cImFuaW1hdGUtcmVwZWF0XCIgbmctcmVwZWF0PVwiZnJpZW5kIGluIGZyaWVuZHMgfCBmaWx0ZXI6cSBhcyByZXN1bHRzXCI+XG4gICAgICAgICAgICBbe3skaW5kZXggKyAxfX1dIHt7ZnJpZW5kLm5hbWV9fSB3aG8gaXMge3tmcmllbmQuYWdlfX0geWVhcnMgb2xkLlxuICAgICAgICAgIDwvbGk+XG4gICAgICAgICAgPGxpIGNsYXNzPVwiYW5pbWF0ZS1yZXBlYXRcIiBuZy1pZj1cInJlc3VsdHMubGVuZ3RoID09PSAwXCI+XG4gICAgICAgICAgICA8c3Ryb25nPk5vIHJlc3VsdHMgZm91bmQuLi48L3N0cm9uZz5cbiAgICAgICAgICA8L2xpPlxuICAgICAgICA8L3VsPlxuICAgICAgPC9kaXY+XG4gICAgPC9maWxlPlxuICAgIDxmaWxlIG5hbWU9XCJzY3JpcHQuanNcIj5cbiAgICAgIGFuZ3VsYXIubW9kdWxlKCduZ1JlcGVhdCcsIFsnbmdBbmltYXRlJ10pLmNvbnRyb2xsZXIoJ3JlcGVhdENvbnRyb2xsZXInLCBmdW5jdGlvbigkc2NvcGUpIHtcbiAgICAgICAgJHNjb3BlLmZyaWVuZHMgPSBbXG4gICAgICAgICAge25hbWU6J0pvaG4nLCBhZ2U6MjUsIGdlbmRlcjonYm95J30sXG4gICAgICAgICAge25hbWU6J0plc3NpZScsIGFnZTozMCwgZ2VuZGVyOidnaXJsJ30sXG4gICAgICAgICAge25hbWU6J0pvaGFubmEnLCBhZ2U6MjgsIGdlbmRlcjonZ2lybCd9LFxuICAgICAgICAgIHtuYW1lOidKb3knLCBhZ2U6MTUsIGdlbmRlcjonZ2lybCd9LFxuICAgICAgICAgIHtuYW1lOidNYXJ5JywgYWdlOjI4LCBnZW5kZXI6J2dpcmwnfSxcbiAgICAgICAgICB7bmFtZTonUGV0ZXInLCBhZ2U6OTUsIGdlbmRlcjonYm95J30sXG4gICAgICAgICAge25hbWU6J1NlYmFzdGlhbicsIGFnZTo1MCwgZ2VuZGVyOidib3knfSxcbiAgICAgICAgICB7bmFtZTonRXJpa2EnLCBhZ2U6MjcsIGdlbmRlcjonZ2lybCd9LFxuICAgICAgICAgIHtuYW1lOidQYXRyaWNrJywgYWdlOjQwLCBnZW5kZXI6J2JveSd9LFxuICAgICAgICAgIHtuYW1lOidTYW1hbnRoYScsIGFnZTo2MCwgZ2VuZGVyOidnaXJsJ31cbiAgICAgICAgXTtcbiAgICAgIH0pO1xuICAgIDwvZmlsZT5cbiAgICA8ZmlsZSBuYW1lPVwiYW5pbWF0aW9ucy5jc3NcIj5cbiAgICAgIC5leGFtcGxlLWFuaW1hdGUtY29udGFpbmVyIHtcbiAgICAgICAgYmFja2dyb3VuZDp3aGl0ZTtcbiAgICAgICAgYm9yZGVyOjFweCBzb2xpZCBibGFjaztcbiAgICAgICAgbGlzdC1zdHlsZTpub25lO1xuICAgICAgICBtYXJnaW46MDtcbiAgICAgICAgcGFkZGluZzowIDEwcHg7XG4gICAgICB9XG5cbiAgICAgIC5hbmltYXRlLXJlcGVhdCB7XG4gICAgICAgIGxpbmUtaGVpZ2h0OjMwcHg7XG4gICAgICAgIGxpc3Qtc3R5bGU6bm9uZTtcbiAgICAgICAgYm94LXNpemluZzpib3JkZXItYm94O1xuICAgICAgfVxuXG4gICAgICAuYW5pbWF0ZS1yZXBlYXQubmctbW92ZSxcbiAgICAgIC5hbmltYXRlLXJlcGVhdC5uZy1lbnRlcixcbiAgICAgIC5hbmltYXRlLXJlcGVhdC5uZy1sZWF2ZSB7XG4gICAgICAgIHRyYW5zaXRpb246YWxsIGxpbmVhciAwLjVzO1xuICAgICAgfVxuXG4gICAgICAuYW5pbWF0ZS1yZXBlYXQubmctbGVhdmUubmctbGVhdmUtYWN0aXZlLFxuICAgICAgLmFuaW1hdGUtcmVwZWF0Lm5nLW1vdmUsXG4gICAgICAuYW5pbWF0ZS1yZXBlYXQubmctZW50ZXIge1xuICAgICAgICBvcGFjaXR5OjA7XG4gICAgICAgIG1heC1oZWlnaHQ6MDtcbiAgICAgIH1cblxuICAgICAgLmFuaW1hdGUtcmVwZWF0Lm5nLWxlYXZlLFxuICAgICAgLmFuaW1hdGUtcmVwZWF0Lm5nLW1vdmUubmctbW92ZS1hY3RpdmUsXG4gICAgICAuYW5pbWF0ZS1yZXBlYXQubmctZW50ZXIubmctZW50ZXItYWN0aXZlIHtcbiAgICAgICAgb3BhY2l0eToxO1xuICAgICAgICBtYXgtaGVpZ2h0OjMwcHg7XG4gICAgICB9XG4gICAgPC9maWxlPlxuICAgIDxmaWxlIG5hbWU9XCJwcm90cmFjdG9yLmpzXCIgdHlwZT1cInByb3RyYWN0b3JcIj5cbiAgICAgIHZhciBmcmllbmRzID0gZWxlbWVudC5hbGwoYnkucmVwZWF0ZXIoJ2ZyaWVuZCBpbiBmcmllbmRzJykpO1xuXG4gICAgICBpdCgnc2hvdWxkIHJlbmRlciBpbml0aWFsIGRhdGEgc2V0JywgZnVuY3Rpb24oKSB7XG4gICAgICAgIGV4cGVjdChmcmllbmRzLmNvdW50KCkpLnRvQmUoMTApO1xuICAgICAgICBleHBlY3QoZnJpZW5kcy5nZXQoMCkuZ2V0VGV4dCgpKS50b0VxdWFsKCdbMV0gSm9obiB3aG8gaXMgMjUgeWVhcnMgb2xkLicpO1xuICAgICAgICBleHBlY3QoZnJpZW5kcy5nZXQoMSkuZ2V0VGV4dCgpKS50b0VxdWFsKCdbMl0gSmVzc2llIHdobyBpcyAzMCB5ZWFycyBvbGQuJyk7XG4gICAgICAgIGV4cGVjdChmcmllbmRzLmxhc3QoKS5nZXRUZXh0KCkpLnRvRXF1YWwoJ1sxMF0gU2FtYW50aGEgd2hvIGlzIDYwIHllYXJzIG9sZC4nKTtcbiAgICAgICAgZXhwZWN0KGVsZW1lbnQoYnkuYmluZGluZygnZnJpZW5kcy5sZW5ndGgnKSkuZ2V0VGV4dCgpKVxuICAgICAgICAgICAgLnRvTWF0Y2goXCJJIGhhdmUgMTAgZnJpZW5kcy4gVGhleSBhcmU6XCIpO1xuICAgICAgfSk7XG5cbiAgICAgICBpdCgnc2hvdWxkIHVwZGF0ZSByZXBlYXRlciB3aGVuIGZpbHRlciBwcmVkaWNhdGUgY2hhbmdlcycsIGZ1bmN0aW9uKCkge1xuICAgICAgICAgZXhwZWN0KGZyaWVuZHMuY291bnQoKSkudG9CZSgxMCk7XG5cbiAgICAgICAgIGVsZW1lbnQoYnkubW9kZWwoJ3EnKSkuc2VuZEtleXMoJ21hJyk7XG5cbiAgICAgICAgIGV4cGVjdChmcmllbmRzLmNvdW50KCkpLnRvQmUoMik7XG4gICAgICAgICBleHBlY3QoZnJpZW5kcy5nZXQoMCkuZ2V0VGV4dCgpKS50b0VxdWFsKCdbMV0gTWFyeSB3aG8gaXMgMjggeWVhcnMgb2xkLicpO1xuICAgICAgICAgZXhwZWN0KGZyaWVuZHMubGFzdCgpLmdldFRleHQoKSkudG9FcXVhbCgnWzJdIFNhbWFudGhhIHdobyBpcyA2MCB5ZWFycyBvbGQuJyk7XG4gICAgICAgfSk7XG4gICAgICA8L2ZpbGU+XG4gICAgPC9leGFtcGxlPlxuICovXG52YXIgbmdSZXBlYXREaXJlY3RpdmUgPSBbJyRwYXJzZScsICckYW5pbWF0ZScsICckY29tcGlsZScsIGZ1bmN0aW9uKCRwYXJzZSwgJGFuaW1hdGUsICRjb21waWxlKSB7XG4gIHZhciBOR19SRU1PVkVEID0gJyQkTkdfUkVNT1ZFRCc7XG4gIHZhciBuZ1JlcGVhdE1pbkVyciA9IG1pbkVycignbmdSZXBlYXQnKTtcblxuICB2YXIgdXBkYXRlU2NvcGUgPSBmdW5jdGlvbihzY29wZSwgaW5kZXgsIHZhbHVlSWRlbnRpZmllciwgdmFsdWUsIGtleUlkZW50aWZpZXIsIGtleSwgYXJyYXlMZW5ndGgpIHtcbiAgICAvLyBUT0RPKHBlcmYpOiBnZW5lcmF0ZSBzZXR0ZXJzIHRvIHNoYXZlIG9mZiB+NDBtcyBvciAxLTEuNSVcbiAgICBzY29wZVt2YWx1ZUlkZW50aWZpZXJdID0gdmFsdWU7XG4gICAgaWYgKGtleUlkZW50aWZpZXIpIHNjb3BlW2tleUlkZW50aWZpZXJdID0ga2V5O1xuICAgIHNjb3BlLiRpbmRleCA9IGluZGV4O1xuICAgIHNjb3BlLiRmaXJzdCA9IChpbmRleCA9PT0gMCk7XG4gICAgc2NvcGUuJGxhc3QgPSAoaW5kZXggPT09IChhcnJheUxlbmd0aCAtIDEpKTtcbiAgICBzY29wZS4kbWlkZGxlID0gIShzY29wZS4kZmlyc3QgfHwgc2NvcGUuJGxhc3QpO1xuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1iaXR3aXNlXG4gICAgc2NvcGUuJG9kZCA9ICEoc2NvcGUuJGV2ZW4gPSAoaW5kZXggJiAxKSA9PT0gMCk7XG4gIH07XG5cbiAgdmFyIGdldEJsb2NrU3RhcnQgPSBmdW5jdGlvbihibG9jaykge1xuICAgIHJldHVybiBibG9jay5jbG9uZVswXTtcbiAgfTtcblxuICB2YXIgZ2V0QmxvY2tFbmQgPSBmdW5jdGlvbihibG9jaykge1xuICAgIHJldHVybiBibG9jay5jbG9uZVtibG9jay5jbG9uZS5sZW5ndGggLSAxXTtcbiAgfTtcblxuXG4gIHJldHVybiB7XG4gICAgcmVzdHJpY3Q6ICdBJyxcbiAgICBtdWx0aUVsZW1lbnQ6IHRydWUsXG4gICAgdHJhbnNjbHVkZTogJ2VsZW1lbnQnLFxuICAgIHByaW9yaXR5OiAxMDAwLFxuICAgIHRlcm1pbmFsOiB0cnVlLFxuICAgICQkdGxiOiB0cnVlLFxuICAgIGNvbXBpbGU6IGZ1bmN0aW9uIG5nUmVwZWF0Q29tcGlsZSgkZWxlbWVudCwgJGF0dHIpIHtcbiAgICAgIHZhciBleHByZXNzaW9uID0gJGF0dHIubmdSZXBlYXQ7XG4gICAgICB2YXIgbmdSZXBlYXRFbmRDb21tZW50ID0gJGNvbXBpbGUuJCRjcmVhdGVDb21tZW50KCdlbmQgbmdSZXBlYXQnLCBleHByZXNzaW9uKTtcblxuICAgICAgdmFyIG1hdGNoID0gZXhwcmVzc2lvbi5tYXRjaCgvXlxccyooW1xcc1xcU10rPylcXHMraW5cXHMrKFtcXHNcXFNdKz8pKD86XFxzK2FzXFxzKyhbXFxzXFxTXSs/KSk/KD86XFxzK3RyYWNrXFxzK2J5XFxzKyhbXFxzXFxTXSs/KSk/XFxzKiQvKTtcblxuICAgICAgaWYgKCFtYXRjaCkge1xuICAgICAgICB0aHJvdyBuZ1JlcGVhdE1pbkVycignaWV4cCcsICdFeHBlY3RlZCBleHByZXNzaW9uIGluIGZvcm0gb2YgXFwnX2l0ZW1fIGluIF9jb2xsZWN0aW9uX1sgdHJhY2sgYnkgX2lkX11cXCcgYnV0IGdvdCBcXCd7MH1cXCcuJyxcbiAgICAgICAgICAgIGV4cHJlc3Npb24pO1xuICAgICAgfVxuXG4gICAgICB2YXIgbGhzID0gbWF0Y2hbMV07XG4gICAgICB2YXIgcmhzID0gbWF0Y2hbMl07XG4gICAgICB2YXIgYWxpYXNBcyA9IG1hdGNoWzNdO1xuICAgICAgdmFyIHRyYWNrQnlFeHAgPSBtYXRjaFs0XTtcblxuICAgICAgbWF0Y2ggPSBsaHMubWF0Y2goL14oPzooXFxzKlskXFx3XSspfFxcKFxccyooWyRcXHddKylcXHMqLFxccyooWyRcXHddKylcXHMqXFwpKSQvKTtcblxuICAgICAgaWYgKCFtYXRjaCkge1xuICAgICAgICB0aHJvdyBuZ1JlcGVhdE1pbkVycignaWlkZXhwJywgJ1xcJ19pdGVtX1xcJyBpbiBcXCdfaXRlbV8gaW4gX2NvbGxlY3Rpb25fXFwnIHNob3VsZCBiZSBhbiBpZGVudGlmaWVyIG9yIFxcJyhfa2V5XywgX3ZhbHVlXylcXCcgZXhwcmVzc2lvbiwgYnV0IGdvdCBcXCd7MH1cXCcuJyxcbiAgICAgICAgICAgIGxocyk7XG4gICAgICB9XG4gICAgICB2YXIgdmFsdWVJZGVudGlmaWVyID0gbWF0Y2hbM10gfHwgbWF0Y2hbMV07XG4gICAgICB2YXIga2V5SWRlbnRpZmllciA9IG1hdGNoWzJdO1xuXG4gICAgICBpZiAoYWxpYXNBcyAmJiAoIS9eWyRhLXpBLVpfXVskYS16QS1aMC05X10qJC8udGVzdChhbGlhc0FzKSB8fFxuICAgICAgICAgIC9eKG51bGx8dW5kZWZpbmVkfHRoaXN8XFwkaW5kZXh8XFwkZmlyc3R8XFwkbWlkZGxlfFxcJGxhc3R8XFwkZXZlbnxcXCRvZGR8XFwkcGFyZW50fFxcJHJvb3R8XFwkaWQpJC8udGVzdChhbGlhc0FzKSkpIHtcbiAgICAgICAgdGhyb3cgbmdSZXBlYXRNaW5FcnIoJ2JhZGlkZW50JywgJ2FsaWFzIFxcJ3swfVxcJyBpcyBpbnZhbGlkIC0tLSBtdXN0IGJlIGEgdmFsaWQgSlMgaWRlbnRpZmllciB3aGljaCBpcyBub3QgYSByZXNlcnZlZCBuYW1lLicsXG4gICAgICAgICAgYWxpYXNBcyk7XG4gICAgICB9XG5cbiAgICAgIHZhciB0cmFja0J5RXhwR2V0dGVyLCB0cmFja0J5SWRFeHBGbiwgdHJhY2tCeUlkQXJyYXlGbiwgdHJhY2tCeUlkT2JqRm47XG4gICAgICB2YXIgaGFzaEZuTG9jYWxzID0geyRpZDogaGFzaEtleX07XG5cbiAgICAgIGlmICh0cmFja0J5RXhwKSB7XG4gICAgICAgIHRyYWNrQnlFeHBHZXR0ZXIgPSAkcGFyc2UodHJhY2tCeUV4cCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0cmFja0J5SWRBcnJheUZuID0gZnVuY3Rpb24oa2V5LCB2YWx1ZSkge1xuICAgICAgICAgIHJldHVybiBoYXNoS2V5KHZhbHVlKTtcbiAgICAgICAgfTtcbiAgICAgICAgdHJhY2tCeUlkT2JqRm4gPSBmdW5jdGlvbihrZXkpIHtcbiAgICAgICAgICByZXR1cm4ga2V5O1xuICAgICAgICB9O1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gZnVuY3Rpb24gbmdSZXBlYXRMaW5rKCRzY29wZSwgJGVsZW1lbnQsICRhdHRyLCBjdHJsLCAkdHJhbnNjbHVkZSkge1xuXG4gICAgICAgIGlmICh0cmFja0J5RXhwR2V0dGVyKSB7XG4gICAgICAgICAgdHJhY2tCeUlkRXhwRm4gPSBmdW5jdGlvbihrZXksIHZhbHVlLCBpbmRleCkge1xuICAgICAgICAgICAgLy8gYXNzaWduIGtleSwgdmFsdWUsIGFuZCAkaW5kZXggdG8gdGhlIGxvY2FscyBzbyB0aGF0IHRoZXkgY2FuIGJlIHVzZWQgaW4gaGFzaCBmdW5jdGlvbnNcbiAgICAgICAgICAgIGlmIChrZXlJZGVudGlmaWVyKSBoYXNoRm5Mb2NhbHNba2V5SWRlbnRpZmllcl0gPSBrZXk7XG4gICAgICAgICAgICBoYXNoRm5Mb2NhbHNbdmFsdWVJZGVudGlmaWVyXSA9IHZhbHVlO1xuICAgICAgICAgICAgaGFzaEZuTG9jYWxzLiRpbmRleCA9IGluZGV4O1xuICAgICAgICAgICAgcmV0dXJuIHRyYWNrQnlFeHBHZXR0ZXIoJHNjb3BlLCBoYXNoRm5Mb2NhbHMpO1xuICAgICAgICAgIH07XG4gICAgICAgIH1cblxuICAgICAgICAvLyBTdG9yZSBhIGxpc3Qgb2YgZWxlbWVudHMgZnJvbSBwcmV2aW91cyBydW4uIFRoaXMgaXMgYSBoYXNoIHdoZXJlIGtleSBpcyB0aGUgaXRlbSBmcm9tIHRoZVxuICAgICAgICAvLyBpdGVyYXRvciwgYW5kIHRoZSB2YWx1ZSBpcyBvYmplY3RzIHdpdGggZm9sbG93aW5nIHByb3BlcnRpZXMuXG4gICAgICAgIC8vICAgLSBzY29wZTogYm91bmQgc2NvcGVcbiAgICAgICAgLy8gICAtIGVsZW1lbnQ6IHByZXZpb3VzIGVsZW1lbnQuXG4gICAgICAgIC8vICAgLSBpbmRleDogcG9zaXRpb25cbiAgICAgICAgLy9cbiAgICAgICAgLy8gV2UgYXJlIHVzaW5nIG5vLXByb3RvIG9iamVjdCBzbyB0aGF0IHdlIGRvbid0IG5lZWQgdG8gZ3VhcmQgYWdhaW5zdCBpbmhlcml0ZWQgcHJvcHMgdmlhXG4gICAgICAgIC8vIGhhc093blByb3BlcnR5LlxuICAgICAgICB2YXIgbGFzdEJsb2NrTWFwID0gY3JlYXRlTWFwKCk7XG5cbiAgICAgICAgLy93YXRjaCBwcm9wc1xuICAgICAgICAkc2NvcGUuJHdhdGNoQ29sbGVjdGlvbihyaHMsIGZ1bmN0aW9uIG5nUmVwZWF0QWN0aW9uKGNvbGxlY3Rpb24pIHtcbiAgICAgICAgICB2YXIgaW5kZXgsIGxlbmd0aCxcbiAgICAgICAgICAgICAgcHJldmlvdXNOb2RlID0gJGVsZW1lbnRbMF0sICAgICAvLyBub2RlIHRoYXQgY2xvbmVkIG5vZGVzIHNob3VsZCBiZSBpbnNlcnRlZCBhZnRlclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIGluaXRpYWxpemVkIHRvIHRoZSBjb21tZW50IG5vZGUgYW5jaG9yXG4gICAgICAgICAgICAgIG5leHROb2RlLFxuICAgICAgICAgICAgICAvLyBTYW1lIGFzIGxhc3RCbG9ja01hcCBidXQgaXQgaGFzIHRoZSBjdXJyZW50IHN0YXRlLiBJdCB3aWxsIGJlY29tZSB0aGVcbiAgICAgICAgICAgICAgLy8gbGFzdEJsb2NrTWFwIG9uIHRoZSBuZXh0IGl0ZXJhdGlvbi5cbiAgICAgICAgICAgICAgbmV4dEJsb2NrTWFwID0gY3JlYXRlTWFwKCksXG4gICAgICAgICAgICAgIGNvbGxlY3Rpb25MZW5ndGgsXG4gICAgICAgICAgICAgIGtleSwgdmFsdWUsIC8vIGtleS92YWx1ZSBvZiBpdGVyYXRpb25cbiAgICAgICAgICAgICAgdHJhY2tCeUlkLFxuICAgICAgICAgICAgICB0cmFja0J5SWRGbixcbiAgICAgICAgICAgICAgY29sbGVjdGlvbktleXMsXG4gICAgICAgICAgICAgIGJsb2NrLCAgICAgICAvLyBsYXN0IG9iamVjdCBpbmZvcm1hdGlvbiB7c2NvcGUsIGVsZW1lbnQsIGlkfVxuICAgICAgICAgICAgICBuZXh0QmxvY2tPcmRlcixcbiAgICAgICAgICAgICAgZWxlbWVudHNUb1JlbW92ZTtcblxuICAgICAgICAgIGlmIChhbGlhc0FzKSB7XG4gICAgICAgICAgICAkc2NvcGVbYWxpYXNBc10gPSBjb2xsZWN0aW9uO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGlmIChpc0FycmF5TGlrZShjb2xsZWN0aW9uKSkge1xuICAgICAgICAgICAgY29sbGVjdGlvbktleXMgPSBjb2xsZWN0aW9uO1xuICAgICAgICAgICAgdHJhY2tCeUlkRm4gPSB0cmFja0J5SWRFeHBGbiB8fCB0cmFja0J5SWRBcnJheUZuO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0cmFja0J5SWRGbiA9IHRyYWNrQnlJZEV4cEZuIHx8IHRyYWNrQnlJZE9iakZuO1xuICAgICAgICAgICAgLy8gaWYgb2JqZWN0LCBleHRyYWN0IGtleXMsIGluIGVudW1lcmF0aW9uIG9yZGVyLCB1bnNvcnRlZFxuICAgICAgICAgICAgY29sbGVjdGlvbktleXMgPSBbXTtcbiAgICAgICAgICAgIGZvciAodmFyIGl0ZW1LZXkgaW4gY29sbGVjdGlvbikge1xuICAgICAgICAgICAgICBpZiAoaGFzT3duUHJvcGVydHkuY2FsbChjb2xsZWN0aW9uLCBpdGVtS2V5KSAmJiBpdGVtS2V5LmNoYXJBdCgwKSAhPT0gJyQnKSB7XG4gICAgICAgICAgICAgICAgY29sbGVjdGlvbktleXMucHVzaChpdGVtS2V5KTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cblxuICAgICAgICAgIGNvbGxlY3Rpb25MZW5ndGggPSBjb2xsZWN0aW9uS2V5cy5sZW5ndGg7XG4gICAgICAgICAgbmV4dEJsb2NrT3JkZXIgPSBuZXcgQXJyYXkoY29sbGVjdGlvbkxlbmd0aCk7XG5cbiAgICAgICAgICAvLyBsb2NhdGUgZXhpc3RpbmcgaXRlbXNcbiAgICAgICAgICBmb3IgKGluZGV4ID0gMDsgaW5kZXggPCBjb2xsZWN0aW9uTGVuZ3RoOyBpbmRleCsrKSB7XG4gICAgICAgICAgICBrZXkgPSAoY29sbGVjdGlvbiA9PT0gY29sbGVjdGlvbktleXMpID8gaW5kZXggOiBjb2xsZWN0aW9uS2V5c1tpbmRleF07XG4gICAgICAgICAgICB2YWx1ZSA9IGNvbGxlY3Rpb25ba2V5XTtcbiAgICAgICAgICAgIHRyYWNrQnlJZCA9IHRyYWNrQnlJZEZuKGtleSwgdmFsdWUsIGluZGV4KTtcbiAgICAgICAgICAgIGlmIChsYXN0QmxvY2tNYXBbdHJhY2tCeUlkXSkge1xuICAgICAgICAgICAgICAvLyBmb3VuZCBwcmV2aW91c2x5IHNlZW4gYmxvY2tcbiAgICAgICAgICAgICAgYmxvY2sgPSBsYXN0QmxvY2tNYXBbdHJhY2tCeUlkXTtcbiAgICAgICAgICAgICAgZGVsZXRlIGxhc3RCbG9ja01hcFt0cmFja0J5SWRdO1xuICAgICAgICAgICAgICBuZXh0QmxvY2tNYXBbdHJhY2tCeUlkXSA9IGJsb2NrO1xuICAgICAgICAgICAgICBuZXh0QmxvY2tPcmRlcltpbmRleF0gPSBibG9jaztcbiAgICAgICAgICAgIH0gZWxzZSBpZiAobmV4dEJsb2NrTWFwW3RyYWNrQnlJZF0pIHtcbiAgICAgICAgICAgICAgLy8gaWYgY29sbGlzaW9uIGRldGVjdGVkLiByZXN0b3JlIGxhc3RCbG9ja01hcCBhbmQgdGhyb3cgYW4gZXJyb3JcbiAgICAgICAgICAgICAgZm9yRWFjaChuZXh0QmxvY2tPcmRlciwgZnVuY3Rpb24oYmxvY2spIHtcbiAgICAgICAgICAgICAgICBpZiAoYmxvY2sgJiYgYmxvY2suc2NvcGUpIGxhc3RCbG9ja01hcFtibG9jay5pZF0gPSBibG9jaztcbiAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgIHRocm93IG5nUmVwZWF0TWluRXJyKCdkdXBlcycsXG4gICAgICAgICAgICAgICAgICAnRHVwbGljYXRlcyBpbiBhIHJlcGVhdGVyIGFyZSBub3QgYWxsb3dlZC4gVXNlIFxcJ3RyYWNrIGJ5XFwnIGV4cHJlc3Npb24gdG8gc3BlY2lmeSB1bmlxdWUga2V5cy4gUmVwZWF0ZXI6IHswfSwgRHVwbGljYXRlIGtleTogezF9LCBEdXBsaWNhdGUgdmFsdWU6IHsyfScsXG4gICAgICAgICAgICAgICAgICBleHByZXNzaW9uLCB0cmFja0J5SWQsIHZhbHVlKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIC8vIG5ldyBuZXZlciBiZWZvcmUgc2VlbiBibG9ja1xuICAgICAgICAgICAgICBuZXh0QmxvY2tPcmRlcltpbmRleF0gPSB7aWQ6IHRyYWNrQnlJZCwgc2NvcGU6IHVuZGVmaW5lZCwgY2xvbmU6IHVuZGVmaW5lZH07XG4gICAgICAgICAgICAgIG5leHRCbG9ja01hcFt0cmFja0J5SWRdID0gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG5cbiAgICAgICAgICAvLyByZW1vdmUgbGVmdG92ZXIgaXRlbXNcbiAgICAgICAgICBmb3IgKHZhciBibG9ja0tleSBpbiBsYXN0QmxvY2tNYXApIHtcbiAgICAgICAgICAgIGJsb2NrID0gbGFzdEJsb2NrTWFwW2Jsb2NrS2V5XTtcbiAgICAgICAgICAgIGVsZW1lbnRzVG9SZW1vdmUgPSBnZXRCbG9ja05vZGVzKGJsb2NrLmNsb25lKTtcbiAgICAgICAgICAgICRhbmltYXRlLmxlYXZlKGVsZW1lbnRzVG9SZW1vdmUpO1xuICAgICAgICAgICAgaWYgKGVsZW1lbnRzVG9SZW1vdmVbMF0ucGFyZW50Tm9kZSkge1xuICAgICAgICAgICAgICAvLyBpZiB0aGUgZWxlbWVudCB3YXMgbm90IHJlbW92ZWQgeWV0IGJlY2F1c2Ugb2YgcGVuZGluZyBhbmltYXRpb24sIG1hcmsgaXQgYXMgZGVsZXRlZFxuICAgICAgICAgICAgICAvLyBzbyB0aGF0IHdlIGNhbiBpZ25vcmUgaXQgbGF0ZXJcbiAgICAgICAgICAgICAgZm9yIChpbmRleCA9IDAsIGxlbmd0aCA9IGVsZW1lbnRzVG9SZW1vdmUubGVuZ3RoOyBpbmRleCA8IGxlbmd0aDsgaW5kZXgrKykge1xuICAgICAgICAgICAgICAgIGVsZW1lbnRzVG9SZW1vdmVbaW5kZXhdW05HX1JFTU9WRURdID0gdHJ1ZTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgYmxvY2suc2NvcGUuJGRlc3Ryb3koKTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICAvLyB3ZSBhcmUgbm90IHVzaW5nIGZvckVhY2ggZm9yIHBlcmYgcmVhc29ucyAodHJ5aW5nIHRvIGF2b2lkICNjYWxsKVxuICAgICAgICAgIGZvciAoaW5kZXggPSAwOyBpbmRleCA8IGNvbGxlY3Rpb25MZW5ndGg7IGluZGV4KyspIHtcbiAgICAgICAgICAgIGtleSA9IChjb2xsZWN0aW9uID09PSBjb2xsZWN0aW9uS2V5cykgPyBpbmRleCA6IGNvbGxlY3Rpb25LZXlzW2luZGV4XTtcbiAgICAgICAgICAgIHZhbHVlID0gY29sbGVjdGlvbltrZXldO1xuICAgICAgICAgICAgYmxvY2sgPSBuZXh0QmxvY2tPcmRlcltpbmRleF07XG5cbiAgICAgICAgICAgIGlmIChibG9jay5zY29wZSkge1xuICAgICAgICAgICAgICAvLyBpZiB3ZSBoYXZlIGFscmVhZHkgc2VlbiB0aGlzIG9iamVjdCwgdGhlbiB3ZSBuZWVkIHRvIHJldXNlIHRoZVxuICAgICAgICAgICAgICAvLyBhc3NvY2lhdGVkIHNjb3BlL2VsZW1lbnRcblxuICAgICAgICAgICAgICBuZXh0Tm9kZSA9IHByZXZpb3VzTm9kZTtcblxuICAgICAgICAgICAgICAvLyBza2lwIG5vZGVzIHRoYXQgYXJlIGFscmVhZHkgcGVuZGluZyByZW1vdmFsIHZpYSBsZWF2ZSBhbmltYXRpb25cbiAgICAgICAgICAgICAgZG8ge1xuICAgICAgICAgICAgICAgIG5leHROb2RlID0gbmV4dE5vZGUubmV4dFNpYmxpbmc7XG4gICAgICAgICAgICAgIH0gd2hpbGUgKG5leHROb2RlICYmIG5leHROb2RlW05HX1JFTU9WRURdKTtcblxuICAgICAgICAgICAgICBpZiAoZ2V0QmxvY2tTdGFydChibG9jaykgIT09IG5leHROb2RlKSB7XG4gICAgICAgICAgICAgICAgLy8gZXhpc3RpbmcgaXRlbSB3aGljaCBnb3QgbW92ZWRcbiAgICAgICAgICAgICAgICAkYW5pbWF0ZS5tb3ZlKGdldEJsb2NrTm9kZXMoYmxvY2suY2xvbmUpLCBudWxsLCBwcmV2aW91c05vZGUpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIHByZXZpb3VzTm9kZSA9IGdldEJsb2NrRW5kKGJsb2NrKTtcbiAgICAgICAgICAgICAgdXBkYXRlU2NvcGUoYmxvY2suc2NvcGUsIGluZGV4LCB2YWx1ZUlkZW50aWZpZXIsIHZhbHVlLCBrZXlJZGVudGlmaWVyLCBrZXksIGNvbGxlY3Rpb25MZW5ndGgpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgLy8gbmV3IGl0ZW0gd2hpY2ggd2UgZG9uJ3Qga25vdyBhYm91dFxuICAgICAgICAgICAgICAkdHJhbnNjbHVkZShmdW5jdGlvbiBuZ1JlcGVhdFRyYW5zY2x1ZGUoY2xvbmUsIHNjb3BlKSB7XG4gICAgICAgICAgICAgICAgYmxvY2suc2NvcGUgPSBzY29wZTtcbiAgICAgICAgICAgICAgICAvLyBodHRwOi8vanNwZXJmLmNvbS9jbG9uZS12cy1jcmVhdGVjb21tZW50XG4gICAgICAgICAgICAgICAgdmFyIGVuZE5vZGUgPSBuZ1JlcGVhdEVuZENvbW1lbnQuY2xvbmVOb2RlKGZhbHNlKTtcbiAgICAgICAgICAgICAgICBjbG9uZVtjbG9uZS5sZW5ndGgrK10gPSBlbmROb2RlO1xuXG4gICAgICAgICAgICAgICAgJGFuaW1hdGUuZW50ZXIoY2xvbmUsIG51bGwsIHByZXZpb3VzTm9kZSk7XG4gICAgICAgICAgICAgICAgcHJldmlvdXNOb2RlID0gZW5kTm9kZTtcbiAgICAgICAgICAgICAgICAvLyBOb3RlOiBXZSBvbmx5IG5lZWQgdGhlIGZpcnN0L2xhc3Qgbm9kZSBvZiB0aGUgY2xvbmVkIG5vZGVzLlxuICAgICAgICAgICAgICAgIC8vIEhvd2V2ZXIsIHdlIG5lZWQgdG8ga2VlcCB0aGUgcmVmZXJlbmNlIHRvIHRoZSBqcWxpdGUgd3JhcHBlciBhcyBpdCBtaWdodCBiZSBjaGFuZ2VkIGxhdGVyXG4gICAgICAgICAgICAgICAgLy8gYnkgYSBkaXJlY3RpdmUgd2l0aCB0ZW1wbGF0ZVVybCB3aGVuIGl0cyB0ZW1wbGF0ZSBhcnJpdmVzLlxuICAgICAgICAgICAgICAgIGJsb2NrLmNsb25lID0gY2xvbmU7XG4gICAgICAgICAgICAgICAgbmV4dEJsb2NrTWFwW2Jsb2NrLmlkXSA9IGJsb2NrO1xuICAgICAgICAgICAgICAgIHVwZGF0ZVNjb3BlKGJsb2NrLnNjb3BlLCBpbmRleCwgdmFsdWVJZGVudGlmaWVyLCB2YWx1ZSwga2V5SWRlbnRpZmllciwga2V5LCBjb2xsZWN0aW9uTGVuZ3RoKTtcbiAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICAgIGxhc3RCbG9ja01hcCA9IG5leHRCbG9ja01hcDtcbiAgICAgICAgfSk7XG4gICAgICB9O1xuICAgIH1cbiAgfTtcbn1dO1xuXG52YXIgTkdfSElERV9DTEFTUyA9ICduZy1oaWRlJztcbnZhciBOR19ISURFX0lOX1BST0dSRVNTX0NMQVNTID0gJ25nLWhpZGUtYW5pbWF0ZSc7XG4vKipcbiAqIEBuZ2RvYyBkaXJlY3RpdmVcbiAqIEBuYW1lIG5nU2hvd1xuICogQG11bHRpRWxlbWVudFxuICpcbiAqIEBkZXNjcmlwdGlvblxuICogVGhlIGBuZ1Nob3dgIGRpcmVjdGl2ZSBzaG93cyBvciBoaWRlcyB0aGUgZ2l2ZW4gSFRNTCBlbGVtZW50IGJhc2VkIG9uIHRoZSBleHByZXNzaW9uIHByb3ZpZGVkIHRvXG4gKiB0aGUgYG5nU2hvd2AgYXR0cmlidXRlLlxuICpcbiAqIFRoZSBlbGVtZW50IGlzIHNob3duIG9yIGhpZGRlbiBieSByZW1vdmluZyBvciBhZGRpbmcgdGhlIGAubmctaGlkZWAgQ1NTIGNsYXNzIG9udG8gdGhlIGVsZW1lbnQuXG4gKiBUaGUgYC5uZy1oaWRlYCBDU1MgY2xhc3MgaXMgcHJlZGVmaW5lZCBpbiBBbmd1bGFySlMgYW5kIHNldHMgdGhlIGRpc3BsYXkgc3R5bGUgdG8gbm9uZSAodXNpbmcgYW5cbiAqIGAhaW1wb3J0YW50YCBmbGFnKS4gRm9yIENTUCBtb2RlIHBsZWFzZSBhZGQgYGFuZ3VsYXItY3NwLmNzc2AgdG8geW91ciBIVE1MIGZpbGUgKHNlZVxuICoge0BsaW5rIG5nLmRpcmVjdGl2ZTpuZ0NzcCBuZ0NzcH0pLlxuICpcbiAqIGBgYGh0bWxcbiAqIDwhLS0gd2hlbiAkc2NvcGUubXlWYWx1ZSBpcyB0cnV0aHkgKGVsZW1lbnQgaXMgdmlzaWJsZSkgLS0+XG4gKiA8ZGl2IG5nLXNob3c9XCJteVZhbHVlXCI+PC9kaXY+XG4gKlxuICogPCEtLSB3aGVuICRzY29wZS5teVZhbHVlIGlzIGZhbHN5IChlbGVtZW50IGlzIGhpZGRlbikgLS0+XG4gKiA8ZGl2IG5nLXNob3c9XCJteVZhbHVlXCIgY2xhc3M9XCJuZy1oaWRlXCI+PC9kaXY+XG4gKiBgYGBcbiAqXG4gKiBXaGVuIHRoZSBgbmdTaG93YCBleHByZXNzaW9uIGV2YWx1YXRlcyB0byBhIGZhbHN5IHZhbHVlIHRoZW4gdGhlIGAubmctaGlkZWAgQ1NTIGNsYXNzIGlzIGFkZGVkXG4gKiB0byB0aGUgY2xhc3MgYXR0cmlidXRlIG9uIHRoZSBlbGVtZW50IGNhdXNpbmcgaXQgdG8gYmVjb21lIGhpZGRlbi4gV2hlbiB0cnV0aHksIHRoZSBgLm5nLWhpZGVgXG4gKiBDU1MgY2xhc3MgaXMgcmVtb3ZlZCBmcm9tIHRoZSBlbGVtZW50IGNhdXNpbmcgdGhlIGVsZW1lbnQgbm90IHRvIGFwcGVhciBoaWRkZW4uXG4gKlxuICogIyMgV2h5IGlzIGAhaW1wb3J0YW50YCB1c2VkP1xuICpcbiAqIFlvdSBtYXkgYmUgd29uZGVyaW5nIHdoeSBgIWltcG9ydGFudGAgaXMgdXNlZCBmb3IgdGhlIGAubmctaGlkZWAgQ1NTIGNsYXNzLiBUaGlzIGlzIGJlY2F1c2UgdGhlXG4gKiBgLm5nLWhpZGVgIHNlbGVjdG9yIGNhbiBiZSBlYXNpbHkgb3ZlcnJpZGRlbiBieSBoZWF2aWVyIHNlbGVjdG9ycy4gRm9yIGV4YW1wbGUsIHNvbWV0aGluZyBhc1xuICogc2ltcGxlIGFzIGNoYW5naW5nIHRoZSBkaXNwbGF5IHN0eWxlIG9uIGEgSFRNTCBsaXN0IGl0ZW0gd291bGQgbWFrZSBoaWRkZW4gZWxlbWVudHMgYXBwZWFyXG4gKiB2aXNpYmxlLiBUaGlzIGFsc28gYmVjb21lcyBhIGJpZ2dlciBpc3N1ZSB3aGVuIGRlYWxpbmcgd2l0aCBDU1MgZnJhbWV3b3Jrcy5cbiAqXG4gKiBCeSB1c2luZyBgIWltcG9ydGFudGAsIHRoZSBzaG93IGFuZCBoaWRlIGJlaGF2aW9yIHdpbGwgd29yayBhcyBleHBlY3RlZCBkZXNwaXRlIGFueSBjbGFzaCBiZXR3ZWVuXG4gKiBDU1Mgc2VsZWN0b3Igc3BlY2lmaWNpdHkgKHdoZW4gYCFpbXBvcnRhbnRgIGlzbid0IHVzZWQgd2l0aCBhbnkgY29uZmxpY3Rpbmcgc3R5bGVzKS4gSWYgYVxuICogZGV2ZWxvcGVyIGNob29zZXMgdG8gb3ZlcnJpZGUgdGhlIHN0eWxpbmcgdG8gY2hhbmdlIGhvdyB0byBoaWRlIGFuIGVsZW1lbnQgdGhlbiBpdCBpcyBqdXN0IGFcbiAqIG1hdHRlciBvZiB1c2luZyBgIWltcG9ydGFudGAgaW4gdGhlaXIgb3duIENTUyBjb2RlLlxuICpcbiAqICMjIyBPdmVycmlkaW5nIGAubmctaGlkZWBcbiAqXG4gKiBCeSBkZWZhdWx0LCB0aGUgYC5uZy1oaWRlYCBjbGFzcyB3aWxsIHN0eWxlIHRoZSBlbGVtZW50IHdpdGggYGRpc3BsYXk6IG5vbmUgIWltcG9ydGFudGAuIElmIHlvdVxuICogd2lzaCB0byBjaGFuZ2UgdGhlIGhpZGUgYmVoYXZpb3Igd2l0aCBgbmdTaG93YC9gbmdIaWRlYCwgeW91IGNhbiBzaW1wbHkgb3ZlcndyaXRlIHRoZSBzdHlsZXMgZm9yXG4gKiB0aGUgYC5uZy1oaWRlYCBDU1MgY2xhc3MuIE5vdGUgdGhhdCB0aGUgc2VsZWN0b3IgdGhhdCBuZWVkcyB0byBiZSB1c2VkIGlzIGFjdHVhbGx5XG4gKiBgLm5nLWhpZGU6bm90KC5uZy1oaWRlLWFuaW1hdGUpYCB0byBjb3BlIHdpdGggZXh0cmEgYW5pbWF0aW9uIGNsYXNzZXMgdGhhdCBjYW4gYmUgYWRkZWQuXG4gKlxuICogYGBgY3NzXG4gKiAubmctaGlkZTpub3QoLm5nLWhpZGUtYW5pbWF0ZSkge1xuICogICAvJiM0MjsgVGhlc2UgYXJlIGp1c3QgYWx0ZXJuYXRpdmUgd2F5cyBvZiBoaWRpbmcgYW4gZWxlbWVudCAmIzQyOy9cbiAqICAgZGlzcGxheTogYmxvY2shaW1wb3J0YW50O1xuICogICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gKiAgIHRvcDogLTk5OTlweDtcbiAqICAgbGVmdDogLTk5OTlweDtcbiAqIH1cbiAqIGBgYFxuICpcbiAqIEJ5IGRlZmF1bHQgeW91IGRvbid0IG5lZWQgdG8gb3ZlcnJpZGUgYW55dGhpbmcgaW4gQ1NTIGFuZCB0aGUgYW5pbWF0aW9ucyB3aWxsIHdvcmsgYXJvdW5kIHRoZVxuICogZGlzcGxheSBzdHlsZS5cbiAqXG4gKiAjIyBBIG5vdGUgYWJvdXQgYW5pbWF0aW9ucyB3aXRoIGBuZ1Nob3dgXG4gKlxuICogQW5pbWF0aW9ucyBpbiBgbmdTaG93YC9gbmdIaWRlYCB3b3JrIHdpdGggdGhlIHNob3cgYW5kIGhpZGUgZXZlbnRzIHRoYXQgYXJlIHRyaWdnZXJlZCB3aGVuIHRoZVxuICogZGlyZWN0aXZlIGV4cHJlc3Npb24gaXMgdHJ1ZSBhbmQgZmFsc2UuIFRoaXMgc3lzdGVtIHdvcmtzIGxpa2UgdGhlIGFuaW1hdGlvbiBzeXN0ZW0gcHJlc2VudCB3aXRoXG4gKiBgbmdDbGFzc2AgZXhjZXB0IHRoYXQgeW91IG11c3QgYWxzbyBpbmNsdWRlIHRoZSBgIWltcG9ydGFudGAgZmxhZyB0byBvdmVycmlkZSB0aGUgZGlzcGxheVxuICogcHJvcGVydHkgc28gdGhhdCB0aGUgZWxlbWVudHMgYXJlIG5vdCBhY3R1YWxseSBoaWRkZW4gZHVyaW5nIHRoZSBhbmltYXRpb24uXG4gKlxuICogYGBgY3NzXG4gKiAvJiM0MjsgQSB3b3JraW5nIGV4YW1wbGUgY2FuIGJlIGZvdW5kIGF0IHRoZSBib3R0b20gb2YgdGhpcyBwYWdlLiAmIzQyOy9cbiAqIC5teS1lbGVtZW50Lm5nLWhpZGUtYWRkLCAubXktZWxlbWVudC5uZy1oaWRlLXJlbW92ZSB7XG4gKiAgIHRyYW5zaXRpb246IGFsbCAwLjVzIGxpbmVhcjtcbiAqIH1cbiAqXG4gKiAubXktZWxlbWVudC5uZy1oaWRlLWFkZCB7IC4uLiB9XG4gKiAubXktZWxlbWVudC5uZy1oaWRlLWFkZC5uZy1oaWRlLWFkZC1hY3RpdmUgeyAuLi4gfVxuICogLm15LWVsZW1lbnQubmctaGlkZS1yZW1vdmUgeyAuLi4gfVxuICogLm15LWVsZW1lbnQubmctaGlkZS1yZW1vdmUubmctaGlkZS1yZW1vdmUtYWN0aXZlIHsgLi4uIH1cbiAqIGBgYFxuICpcbiAqIEtlZXAgaW4gbWluZCB0aGF0LCBhcyBvZiBBbmd1bGFySlMgdmVyc2lvbiAxLjMsIHRoZXJlIGlzIG5vIG5lZWQgdG8gY2hhbmdlIHRoZSBkaXNwbGF5IHByb3BlcnR5XG4gKiB0byBibG9jayBkdXJpbmcgYW5pbWF0aW9uIHN0YXRlcyAtIG5nQW5pbWF0ZSB3aWxsIGF1dG9tYXRpY2FsbHkgaGFuZGxlIHRoZSBzdHlsZSB0b2dnbGluZyBmb3IgeW91LlxuICpcbiAqIEBhbmltYXRpb25zXG4gKiB8IEFuaW1hdGlvbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB8IE9jY3VycyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfFxuICogfC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tfC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLXxcbiAqIHwge0BsaW5rICRhbmltYXRlI2FkZENsYXNzIGFkZENsYXNzfSBgLm5nLWhpZGVgICAgICAgIHwgQWZ0ZXIgdGhlIGBuZ1Nob3dgIGV4cHJlc3Npb24gZXZhbHVhdGVzIHRvIGEgbm9uIHRydXRoeSB2YWx1ZSBhbmQganVzdCBiZWZvcmUgdGhlIGNvbnRlbnRzIGFyZSBzZXQgdG8gaGlkZGVuLiB8XG4gKiB8IHtAbGluayAkYW5pbWF0ZSNyZW1vdmVDbGFzcyByZW1vdmVDbGFzc30gYC5uZy1oaWRlYCB8IEFmdGVyIHRoZSBgbmdTaG93YCBleHByZXNzaW9uIGV2YWx1YXRlcyB0byBhIHRydXRoeSB2YWx1ZSBhbmQganVzdCBiZWZvcmUgY29udGVudHMgYXJlIHNldCB0byB2aXNpYmxlLiAgICAgICAgfFxuICpcbiAqIEBlbGVtZW50IEFOWVxuICogQHBhcmFtIHtleHByZXNzaW9ufSBuZ1Nob3cgSWYgdGhlIHtAbGluayBndWlkZS9leHByZXNzaW9uIGV4cHJlc3Npb259IGlzIHRydXRoeS9mYWxzeSB0aGVuIHRoZVxuICogICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxlbWVudCBpcyBzaG93bi9oaWRkZW4gcmVzcGVjdGl2ZWx5LlxuICpcbiAqIEBleGFtcGxlXG4gKiBBIHNpbXBsZSBleGFtcGxlLCBhbmltYXRpbmcgdGhlIGVsZW1lbnQncyBvcGFjaXR5OlxuICpcbiAgPGV4YW1wbGUgbW9kdWxlPVwibmdBbmltYXRlXCIgZGVwcz1cImFuZ3VsYXItYW5pbWF0ZS5qc1wiIGFuaW1hdGlvbnM9XCJ0cnVlXCIgbmFtZT1cIm5nLXNob3ctc2ltcGxlXCI+XG4gICAgPGZpbGUgbmFtZT1cImluZGV4Lmh0bWxcIj5cbiAgICAgIFNob3c6IDxpbnB1dCB0eXBlPVwiY2hlY2tib3hcIiBuZy1tb2RlbD1cImNoZWNrZWRcIiBhcmlhLWxhYmVsPVwiVG9nZ2xlIG5nU2hvd1wiPjxiciAvPlxuICAgICAgPGRpdiBjbGFzcz1cImNoZWNrLWVsZW1lbnQgYW5pbWF0ZS1zaG93LWhpZGVcIiBuZy1zaG93PVwiY2hlY2tlZFwiPlxuICAgICAgICBJIHNob3cgdXAgd2hlbiB5b3VyIGNoZWNrYm94IGlzIGNoZWNrZWQuXG4gICAgICA8L2Rpdj5cbiAgICA8L2ZpbGU+XG4gICAgPGZpbGUgbmFtZT1cImFuaW1hdGlvbnMuY3NzXCI+XG4gICAgICAuYW5pbWF0ZS1zaG93LWhpZGUubmctaGlkZSB7XG4gICAgICAgIG9wYWNpdHk6IDA7XG4gICAgICB9XG5cbiAgICAgIC5hbmltYXRlLXNob3ctaGlkZS5uZy1oaWRlLWFkZCxcbiAgICAgIC5hbmltYXRlLXNob3ctaGlkZS5uZy1oaWRlLXJlbW92ZSB7XG4gICAgICAgIHRyYW5zaXRpb246IGFsbCBsaW5lYXIgMC41cztcbiAgICAgIH1cblxuICAgICAgLmNoZWNrLWVsZW1lbnQge1xuICAgICAgICBib3JkZXI6IDFweCBzb2xpZCBibGFjaztcbiAgICAgICAgb3BhY2l0eTogMTtcbiAgICAgICAgcGFkZGluZzogMTBweDtcbiAgICAgIH1cbiAgICA8L2ZpbGU+XG4gICAgPGZpbGUgbmFtZT1cInByb3RyYWN0b3IuanNcIiB0eXBlPVwicHJvdHJhY3RvclwiPlxuICAgICAgaXQoJ3Nob3VsZCBjaGVjayBuZ1Nob3cnLCBmdW5jdGlvbigpIHtcbiAgICAgICAgdmFyIGNoZWNrYm94ID0gZWxlbWVudChieS5tb2RlbCgnY2hlY2tlZCcpKTtcbiAgICAgICAgdmFyIGNoZWNrRWxlbSA9IGVsZW1lbnQoYnkuY3NzKCcuY2hlY2stZWxlbWVudCcpKTtcblxuICAgICAgICBleHBlY3QoY2hlY2tFbGVtLmlzRGlzcGxheWVkKCkpLnRvQmUoZmFsc2UpO1xuICAgICAgICBjaGVja2JveC5jbGljaygpO1xuICAgICAgICBleHBlY3QoY2hlY2tFbGVtLmlzRGlzcGxheWVkKCkpLnRvQmUodHJ1ZSk7XG4gICAgICB9KTtcbiAgICA8L2ZpbGU+XG4gIDwvZXhhbXBsZT5cbiAqXG4gKiA8aHIgLz5cbiAqIEBleGFtcGxlXG4gKiBBIG1vcmUgY29tcGxleCBleGFtcGxlLCBmZWF0dXJpbmcgZGlmZmVyZW50IHNob3cvaGlkZSBhbmltYXRpb25zOlxuICpcbiAgPGV4YW1wbGUgbW9kdWxlPVwibmdBbmltYXRlXCIgZGVwcz1cImFuZ3VsYXItYW5pbWF0ZS5qc1wiIGFuaW1hdGlvbnM9XCJ0cnVlXCIgbmFtZT1cIm5nLXNob3ctY29tcGxleFwiPlxuICAgIDxmaWxlIG5hbWU9XCJpbmRleC5odG1sXCI+XG4gICAgICBTaG93OiA8aW5wdXQgdHlwZT1cImNoZWNrYm94XCIgbmctbW9kZWw9XCJjaGVja2VkXCIgYXJpYS1sYWJlbD1cIlRvZ2dsZSBuZ1Nob3dcIj48YnIgLz5cbiAgICAgIDxkaXYgY2xhc3M9XCJjaGVjay1lbGVtZW50IGZ1bmt5LXNob3ctaGlkZVwiIG5nLXNob3c9XCJjaGVja2VkXCI+XG4gICAgICAgIEkgc2hvdyB1cCB3aGVuIHlvdXIgY2hlY2tib3ggaXMgY2hlY2tlZC5cbiAgICAgIDwvZGl2PlxuICAgIDwvZmlsZT5cbiAgICA8ZmlsZSBuYW1lPVwiYW5pbWF0aW9ucy5jc3NcIj5cbiAgICAgIGJvZHkge1xuICAgICAgICBvdmVyZmxvdzogaGlkZGVuO1xuICAgICAgICBwZXJzcGVjdGl2ZTogMTAwMHB4O1xuICAgICAgfVxuXG4gICAgICAuZnVua3ktc2hvdy1oaWRlLm5nLWhpZGUtYWRkIHtcbiAgICAgICAgdHJhbnNmb3JtOiByb3RhdGVaKDApO1xuICAgICAgICB0cmFuc2Zvcm0tb3JpZ2luOiByaWdodDtcbiAgICAgICAgdHJhbnNpdGlvbjogYWxsIDAuNXMgZWFzZS1pbi1vdXQ7XG4gICAgICB9XG5cbiAgICAgIC5mdW5reS1zaG93LWhpZGUubmctaGlkZS1hZGQubmctaGlkZS1hZGQtYWN0aXZlIHtcbiAgICAgICAgdHJhbnNmb3JtOiByb3RhdGVaKC0xMzVkZWcpO1xuICAgICAgfVxuXG4gICAgICAuZnVua3ktc2hvdy1oaWRlLm5nLWhpZGUtcmVtb3ZlIHtcbiAgICAgICAgdHJhbnNmb3JtOiByb3RhdGVZKDkwZGVnKTtcbiAgICAgICAgdHJhbnNmb3JtLW9yaWdpbjogbGVmdDtcbiAgICAgICAgdHJhbnNpdGlvbjogYWxsIDAuNXMgZWFzZTtcbiAgICAgIH1cblxuICAgICAgLmZ1bmt5LXNob3ctaGlkZS5uZy1oaWRlLXJlbW92ZS5uZy1oaWRlLXJlbW92ZS1hY3RpdmUge1xuICAgICAgICB0cmFuc2Zvcm06IHJvdGF0ZVkoMCk7XG4gICAgICB9XG5cbiAgICAgIC5jaGVjay1lbGVtZW50IHtcbiAgICAgICAgYm9yZGVyOiAxcHggc29saWQgYmxhY2s7XG4gICAgICAgIG9wYWNpdHk6IDE7XG4gICAgICAgIHBhZGRpbmc6IDEwcHg7XG4gICAgICB9XG4gICAgPC9maWxlPlxuICAgIDxmaWxlIG5hbWU9XCJwcm90cmFjdG9yLmpzXCIgdHlwZT1cInByb3RyYWN0b3JcIj5cbiAgICAgIGl0KCdzaG91bGQgY2hlY2sgbmdTaG93JywgZnVuY3Rpb24oKSB7XG4gICAgICAgIHZhciBjaGVja2JveCA9IGVsZW1lbnQoYnkubW9kZWwoJ2NoZWNrZWQnKSk7XG4gICAgICAgIHZhciBjaGVja0VsZW0gPSBlbGVtZW50KGJ5LmNzcygnLmNoZWNrLWVsZW1lbnQnKSk7XG5cbiAgICAgICAgZXhwZWN0KGNoZWNrRWxlbS5pc0Rpc3BsYXllZCgpKS50b0JlKGZhbHNlKTtcbiAgICAgICAgY2hlY2tib3guY2xpY2soKTtcbiAgICAgICAgZXhwZWN0KGNoZWNrRWxlbS5pc0Rpc3BsYXllZCgpKS50b0JlKHRydWUpO1xuICAgICAgfSk7XG4gICAgPC9maWxlPlxuICA8L2V4YW1wbGU+XG4gKi9cbnZhciBuZ1Nob3dEaXJlY3RpdmUgPSBbJyRhbmltYXRlJywgZnVuY3Rpb24oJGFuaW1hdGUpIHtcbiAgcmV0dXJuIHtcbiAgICByZXN0cmljdDogJ0EnLFxuICAgIG11bHRpRWxlbWVudDogdHJ1ZSxcbiAgICBsaW5rOiBmdW5jdGlvbihzY29wZSwgZWxlbWVudCwgYXR0cikge1xuICAgICAgc2NvcGUuJHdhdGNoKGF0dHIubmdTaG93LCBmdW5jdGlvbiBuZ1Nob3dXYXRjaEFjdGlvbih2YWx1ZSkge1xuICAgICAgICAvLyB3ZSdyZSBhZGRpbmcgYSB0ZW1wb3JhcnksIGFuaW1hdGlvbi1zcGVjaWZpYyBjbGFzcyBmb3IgbmctaGlkZSBzaW5jZSB0aGlzIHdheVxuICAgICAgICAvLyB3ZSBjYW4gY29udHJvbCB3aGVuIHRoZSBlbGVtZW50IGlzIGFjdHVhbGx5IGRpc3BsYXllZCBvbiBzY3JlZW4gd2l0aG91dCBoYXZpbmdcbiAgICAgICAgLy8gdG8gaGF2ZSBhIGdsb2JhbC9ncmVlZHkgQ1NTIHNlbGVjdG9yIHRoYXQgYnJlYWtzIHdoZW4gb3RoZXIgYW5pbWF0aW9ucyBhcmUgcnVuLlxuICAgICAgICAvLyBSZWFkOiBodHRwczovL2dpdGh1Yi5jb20vYW5ndWxhci9hbmd1bGFyLmpzL2lzc3Vlcy85MTAzI2lzc3VlY29tbWVudC01ODMzNTg0NVxuICAgICAgICAkYW5pbWF0ZVt2YWx1ZSA/ICdyZW1vdmVDbGFzcycgOiAnYWRkQ2xhc3MnXShlbGVtZW50LCBOR19ISURFX0NMQVNTLCB7XG4gICAgICAgICAgdGVtcENsYXNzZXM6IE5HX0hJREVfSU5fUFJPR1JFU1NfQ0xBU1NcbiAgICAgICAgfSk7XG4gICAgICB9KTtcbiAgICB9XG4gIH07XG59XTtcblxuXG4vKipcbiAqIEBuZ2RvYyBkaXJlY3RpdmVcbiAqIEBuYW1lIG5nSGlkZVxuICogQG11bHRpRWxlbWVudFxuICpcbiAqIEBkZXNjcmlwdGlvblxuICogVGhlIGBuZ0hpZGVgIGRpcmVjdGl2ZSBzaG93cyBvciBoaWRlcyB0aGUgZ2l2ZW4gSFRNTCBlbGVtZW50IGJhc2VkIG9uIHRoZSBleHByZXNzaW9uIHByb3ZpZGVkIHRvXG4gKiB0aGUgYG5nSGlkZWAgYXR0cmlidXRlLlxuICpcbiAqIFRoZSBlbGVtZW50IGlzIHNob3duIG9yIGhpZGRlbiBieSByZW1vdmluZyBvciBhZGRpbmcgdGhlIGAubmctaGlkZWAgQ1NTIGNsYXNzIG9udG8gdGhlIGVsZW1lbnQuXG4gKiBUaGUgYC5uZy1oaWRlYCBDU1MgY2xhc3MgaXMgcHJlZGVmaW5lZCBpbiBBbmd1bGFySlMgYW5kIHNldHMgdGhlIGRpc3BsYXkgc3R5bGUgdG8gbm9uZSAodXNpbmcgYW5cbiAqIGAhaW1wb3J0YW50YCBmbGFnKS4gRm9yIENTUCBtb2RlIHBsZWFzZSBhZGQgYGFuZ3VsYXItY3NwLmNzc2AgdG8geW91ciBIVE1MIGZpbGUgKHNlZVxuICoge0BsaW5rIG5nLmRpcmVjdGl2ZTpuZ0NzcCBuZ0NzcH0pLlxuICpcbiAqIGBgYGh0bWxcbiAqIDwhLS0gd2hlbiAkc2NvcGUubXlWYWx1ZSBpcyB0cnV0aHkgKGVsZW1lbnQgaXMgaGlkZGVuKSAtLT5cbiAqIDxkaXYgbmctaGlkZT1cIm15VmFsdWVcIiBjbGFzcz1cIm5nLWhpZGVcIj48L2Rpdj5cbiAqXG4gKiA8IS0tIHdoZW4gJHNjb3BlLm15VmFsdWUgaXMgZmFsc3kgKGVsZW1lbnQgaXMgdmlzaWJsZSkgLS0+XG4gKiA8ZGl2IG5nLWhpZGU9XCJteVZhbHVlXCI+PC9kaXY+XG4gKiBgYGBcbiAqXG4gKiBXaGVuIHRoZSBgbmdIaWRlYCBleHByZXNzaW9uIGV2YWx1YXRlcyB0byBhIHRydXRoeSB2YWx1ZSB0aGVuIHRoZSBgLm5nLWhpZGVgIENTUyBjbGFzcyBpcyBhZGRlZFxuICogdG8gdGhlIGNsYXNzIGF0dHJpYnV0ZSBvbiB0aGUgZWxlbWVudCBjYXVzaW5nIGl0IHRvIGJlY29tZSBoaWRkZW4uIFdoZW4gZmFsc3ksIHRoZSBgLm5nLWhpZGVgXG4gKiBDU1MgY2xhc3MgaXMgcmVtb3ZlZCBmcm9tIHRoZSBlbGVtZW50IGNhdXNpbmcgdGhlIGVsZW1lbnQgbm90IHRvIGFwcGVhciBoaWRkZW4uXG4gKlxuICogIyMgV2h5IGlzIGAhaW1wb3J0YW50YCB1c2VkP1xuICpcbiAqIFlvdSBtYXkgYmUgd29uZGVyaW5nIHdoeSBgIWltcG9ydGFudGAgaXMgdXNlZCBmb3IgdGhlIGAubmctaGlkZWAgQ1NTIGNsYXNzLiBUaGlzIGlzIGJlY2F1c2UgdGhlXG4gKiBgLm5nLWhpZGVgIHNlbGVjdG9yIGNhbiBiZSBlYXNpbHkgb3ZlcnJpZGRlbiBieSBoZWF2aWVyIHNlbGVjdG9ycy4gRm9yIGV4YW1wbGUsIHNvbWV0aGluZyBhc1xuICogc2ltcGxlIGFzIGNoYW5naW5nIHRoZSBkaXNwbGF5IHN0eWxlIG9uIGEgSFRNTCBsaXN0IGl0ZW0gd291bGQgbWFrZSBoaWRkZW4gZWxlbWVudHMgYXBwZWFyXG4gKiB2aXNpYmxlLiBUaGlzIGFsc28gYmVjb21lcyBhIGJpZ2dlciBpc3N1ZSB3aGVuIGRlYWxpbmcgd2l0aCBDU1MgZnJhbWV3b3Jrcy5cbiAqXG4gKiBCeSB1c2luZyBgIWltcG9ydGFudGAsIHRoZSBzaG93IGFuZCBoaWRlIGJlaGF2aW9yIHdpbGwgd29yayBhcyBleHBlY3RlZCBkZXNwaXRlIGFueSBjbGFzaCBiZXR3ZWVuXG4gKiBDU1Mgc2VsZWN0b3Igc3BlY2lmaWNpdHkgKHdoZW4gYCFpbXBvcnRhbnRgIGlzbid0IHVzZWQgd2l0aCBhbnkgY29uZmxpY3Rpbmcgc3R5bGVzKS4gSWYgYVxuICogZGV2ZWxvcGVyIGNob29zZXMgdG8gb3ZlcnJpZGUgdGhlIHN0eWxpbmcgdG8gY2hhbmdlIGhvdyB0byBoaWRlIGFuIGVsZW1lbnQgdGhlbiBpdCBpcyBqdXN0IGFcbiAqIG1hdHRlciBvZiB1c2luZyBgIWltcG9ydGFudGAgaW4gdGhlaXIgb3duIENTUyBjb2RlLlxuICpcbiAqICMjIyBPdmVycmlkaW5nIGAubmctaGlkZWBcbiAqXG4gKiBCeSBkZWZhdWx0LCB0aGUgYC5uZy1oaWRlYCBjbGFzcyB3aWxsIHN0eWxlIHRoZSBlbGVtZW50IHdpdGggYGRpc3BsYXk6IG5vbmUgIWltcG9ydGFudGAuIElmIHlvdVxuICogd2lzaCB0byBjaGFuZ2UgdGhlIGhpZGUgYmVoYXZpb3Igd2l0aCBgbmdTaG93YC9gbmdIaWRlYCwgeW91IGNhbiBzaW1wbHkgb3ZlcndyaXRlIHRoZSBzdHlsZXMgZm9yXG4gKiB0aGUgYC5uZy1oaWRlYCBDU1MgY2xhc3MuIE5vdGUgdGhhdCB0aGUgc2VsZWN0b3IgdGhhdCBuZWVkcyB0byBiZSB1c2VkIGlzIGFjdHVhbGx5XG4gKiBgLm5nLWhpZGU6bm90KC5uZy1oaWRlLWFuaW1hdGUpYCB0byBjb3BlIHdpdGggZXh0cmEgYW5pbWF0aW9uIGNsYXNzZXMgdGhhdCBjYW4gYmUgYWRkZWQuXG4gKlxuICogYGBgY3NzXG4gKiAubmctaGlkZTpub3QoLm5nLWhpZGUtYW5pbWF0ZSkge1xuICogICAvJiM0MjsgVGhlc2UgYXJlIGp1c3QgYWx0ZXJuYXRpdmUgd2F5cyBvZiBoaWRpbmcgYW4gZWxlbWVudCAmIzQyOy9cbiAqICAgZGlzcGxheTogYmxvY2shaW1wb3J0YW50O1xuICogICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gKiAgIHRvcDogLTk5OTlweDtcbiAqICAgbGVmdDogLTk5OTlweDtcbiAqIH1cbiAqIGBgYFxuICpcbiAqIEJ5IGRlZmF1bHQgeW91IGRvbid0IG5lZWQgdG8gb3ZlcnJpZGUgaW4gQ1NTIGFueXRoaW5nIGFuZCB0aGUgYW5pbWF0aW9ucyB3aWxsIHdvcmsgYXJvdW5kIHRoZVxuICogZGlzcGxheSBzdHlsZS5cbiAqXG4gKiAjIyBBIG5vdGUgYWJvdXQgYW5pbWF0aW9ucyB3aXRoIGBuZ0hpZGVgXG4gKlxuICogQW5pbWF0aW9ucyBpbiBgbmdTaG93YC9gbmdIaWRlYCB3b3JrIHdpdGggdGhlIHNob3cgYW5kIGhpZGUgZXZlbnRzIHRoYXQgYXJlIHRyaWdnZXJlZCB3aGVuIHRoZVxuICogZGlyZWN0aXZlIGV4cHJlc3Npb24gaXMgdHJ1ZSBhbmQgZmFsc2UuIFRoaXMgc3lzdGVtIHdvcmtzIGxpa2UgdGhlIGFuaW1hdGlvbiBzeXN0ZW0gcHJlc2VudCB3aXRoXG4gKiBgbmdDbGFzc2AgZXhjZXB0IHRoYXQgeW91IG11c3QgYWxzbyBpbmNsdWRlIHRoZSBgIWltcG9ydGFudGAgZmxhZyB0byBvdmVycmlkZSB0aGUgZGlzcGxheVxuICogcHJvcGVydHkgc28gdGhhdCB0aGUgZWxlbWVudHMgYXJlIG5vdCBhY3R1YWxseSBoaWRkZW4gZHVyaW5nIHRoZSBhbmltYXRpb24uXG4gKlxuICogYGBgY3NzXG4gKiAvJiM0MjsgQSB3b3JraW5nIGV4YW1wbGUgY2FuIGJlIGZvdW5kIGF0IHRoZSBib3R0b20gb2YgdGhpcyBwYWdlLiAmIzQyOy9cbiAqIC5teS1lbGVtZW50Lm5nLWhpZGUtYWRkLCAubXktZWxlbWVudC5uZy1oaWRlLXJlbW92ZSB7XG4gKiAgIHRyYW5zaXRpb246IGFsbCAwLjVzIGxpbmVhcjtcbiAqIH1cbiAqXG4gKiAubXktZWxlbWVudC5uZy1oaWRlLWFkZCB7IC4uLiB9XG4gKiAubXktZWxlbWVudC5uZy1oaWRlLWFkZC5uZy1oaWRlLWFkZC1hY3RpdmUgeyAuLi4gfVxuICogLm15LWVsZW1lbnQubmctaGlkZS1yZW1vdmUgeyAuLi4gfVxuICogLm15LWVsZW1lbnQubmctaGlkZS1yZW1vdmUubmctaGlkZS1yZW1vdmUtYWN0aXZlIHsgLi4uIH1cbiAqIGBgYFxuICpcbiAqIEtlZXAgaW4gbWluZCB0aGF0LCBhcyBvZiBBbmd1bGFySlMgdmVyc2lvbiAxLjMsIHRoZXJlIGlzIG5vIG5lZWQgdG8gY2hhbmdlIHRoZSBkaXNwbGF5IHByb3BlcnR5XG4gKiB0byBibG9jayBkdXJpbmcgYW5pbWF0aW9uIHN0YXRlcyAtIG5nQW5pbWF0ZSB3aWxsIGF1dG9tYXRpY2FsbHkgaGFuZGxlIHRoZSBzdHlsZSB0b2dnbGluZyBmb3IgeW91LlxuICpcbiAqIEBhbmltYXRpb25zXG4gKiB8IEFuaW1hdGlvbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB8IE9jY3VycyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfFxuICogfC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tfC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLXxcbiAqIHwge0BsaW5rICRhbmltYXRlI2FkZENsYXNzIGFkZENsYXNzfSBgLm5nLWhpZGVgICAgICAgIHwgQWZ0ZXIgdGhlIGBuZ0hpZGVgIGV4cHJlc3Npb24gZXZhbHVhdGVzIHRvIGEgdHJ1dGh5IHZhbHVlIGFuZCBqdXN0IGJlZm9yZSB0aGUgY29udGVudHMgYXJlIHNldCB0byBoaWRkZW4uICB8XG4gKiB8IHtAbGluayAkYW5pbWF0ZSNyZW1vdmVDbGFzcyByZW1vdmVDbGFzc30gYC5uZy1oaWRlYCB8IEFmdGVyIHRoZSBgbmdIaWRlYCBleHByZXNzaW9uIGV2YWx1YXRlcyB0byBhIG5vbiB0cnV0aHkgdmFsdWUgYW5kIGp1c3QgYmVmb3JlIGNvbnRlbnRzIGFyZSBzZXQgdG8gdmlzaWJsZS4gfFxuICpcbiAqXG4gKiBAZWxlbWVudCBBTllcbiAqIEBwYXJhbSB7ZXhwcmVzc2lvbn0gbmdIaWRlIElmIHRoZSB7QGxpbmsgZ3VpZGUvZXhwcmVzc2lvbiBleHByZXNzaW9ufSBpcyB0cnV0aHkvZmFsc3kgdGhlbiB0aGVcbiAqICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsZW1lbnQgaXMgaGlkZGVuL3Nob3duIHJlc3BlY3RpdmVseS5cbiAqXG4gKiBAZXhhbXBsZVxuICogQSBzaW1wbGUgZXhhbXBsZSwgYW5pbWF0aW5nIHRoZSBlbGVtZW50J3Mgb3BhY2l0eTpcbiAqXG4gIDxleGFtcGxlIG1vZHVsZT1cIm5nQW5pbWF0ZVwiIGRlcHM9XCJhbmd1bGFyLWFuaW1hdGUuanNcIiBhbmltYXRpb25zPVwidHJ1ZVwiIG5hbWU9XCJuZy1oaWRlLXNpbXBsZVwiPlxuICAgIDxmaWxlIG5hbWU9XCJpbmRleC5odG1sXCI+XG4gICAgICBIaWRlOiA8aW5wdXQgdHlwZT1cImNoZWNrYm94XCIgbmctbW9kZWw9XCJjaGVja2VkXCIgYXJpYS1sYWJlbD1cIlRvZ2dsZSBuZ0hpZGVcIj48YnIgLz5cbiAgICAgIDxkaXYgY2xhc3M9XCJjaGVjay1lbGVtZW50IGFuaW1hdGUtc2hvdy1oaWRlXCIgbmctaGlkZT1cImNoZWNrZWRcIj5cbiAgICAgICAgSSBoaWRlIHdoZW4geW91ciBjaGVja2JveCBpcyBjaGVja2VkLlxuICAgICAgPC9kaXY+XG4gICAgPC9maWxlPlxuICAgIDxmaWxlIG5hbWU9XCJhbmltYXRpb25zLmNzc1wiPlxuICAgICAgLmFuaW1hdGUtc2hvdy1oaWRlLm5nLWhpZGUge1xuICAgICAgICBvcGFjaXR5OiAwO1xuICAgICAgfVxuXG4gICAgICAuYW5pbWF0ZS1zaG93LWhpZGUubmctaGlkZS1hZGQsXG4gICAgICAuYW5pbWF0ZS1zaG93LWhpZGUubmctaGlkZS1yZW1vdmUge1xuICAgICAgICB0cmFuc2l0aW9uOiBhbGwgbGluZWFyIDAuNXM7XG4gICAgICB9XG5cbiAgICAgIC5jaGVjay1lbGVtZW50IHtcbiAgICAgICAgYm9yZGVyOiAxcHggc29saWQgYmxhY2s7XG4gICAgICAgIG9wYWNpdHk6IDE7XG4gICAgICAgIHBhZGRpbmc6IDEwcHg7XG4gICAgICB9XG4gICAgPC9maWxlPlxuICAgIDxmaWxlIG5hbWU9XCJwcm90cmFjdG9yLmpzXCIgdHlwZT1cInByb3RyYWN0b3JcIj5cbiAgICAgIGl0KCdzaG91bGQgY2hlY2sgbmdIaWRlJywgZnVuY3Rpb24oKSB7XG4gICAgICAgIHZhciBjaGVja2JveCA9IGVsZW1lbnQoYnkubW9kZWwoJ2NoZWNrZWQnKSk7XG4gICAgICAgIHZhciBjaGVja0VsZW0gPSBlbGVtZW50KGJ5LmNzcygnLmNoZWNrLWVsZW1lbnQnKSk7XG5cbiAgICAgICAgZXhwZWN0KGNoZWNrRWxlbS5pc0Rpc3BsYXllZCgpKS50b0JlKHRydWUpO1xuICAgICAgICBjaGVja2JveC5jbGljaygpO1xuICAgICAgICBleHBlY3QoY2hlY2tFbGVtLmlzRGlzcGxheWVkKCkpLnRvQmUoZmFsc2UpO1xuICAgICAgfSk7XG4gICAgPC9maWxlPlxuICA8L2V4YW1wbGU+XG4gKlxuICogPGhyIC8+XG4gKiBAZXhhbXBsZVxuICogQSBtb3JlIGNvbXBsZXggZXhhbXBsZSwgZmVhdHVyaW5nIGRpZmZlcmVudCBzaG93L2hpZGUgYW5pbWF0aW9uczpcbiAqXG4gIDxleGFtcGxlIG1vZHVsZT1cIm5nQW5pbWF0ZVwiIGRlcHM9XCJhbmd1bGFyLWFuaW1hdGUuanNcIiBhbmltYXRpb25zPVwidHJ1ZVwiIG5hbWU9XCJuZy1oaWRlLWNvbXBsZXhcIj5cbiAgICA8ZmlsZSBuYW1lPVwiaW5kZXguaHRtbFwiPlxuICAgICAgSGlkZTogPGlucHV0IHR5cGU9XCJjaGVja2JveFwiIG5nLW1vZGVsPVwiY2hlY2tlZFwiIGFyaWEtbGFiZWw9XCJUb2dnbGUgbmdIaWRlXCI+PGJyIC8+XG4gICAgICA8ZGl2IGNsYXNzPVwiY2hlY2stZWxlbWVudCBmdW5reS1zaG93LWhpZGVcIiBuZy1oaWRlPVwiY2hlY2tlZFwiPlxuICAgICAgICBJIGhpZGUgd2hlbiB5b3VyIGNoZWNrYm94IGlzIGNoZWNrZWQuXG4gICAgICA8L2Rpdj5cbiAgICA8L2ZpbGU+XG4gICAgPGZpbGUgbmFtZT1cImFuaW1hdGlvbnMuY3NzXCI+XG4gICAgICBib2R5IHtcbiAgICAgICAgb3ZlcmZsb3c6IGhpZGRlbjtcbiAgICAgICAgcGVyc3BlY3RpdmU6IDEwMDBweDtcbiAgICAgIH1cblxuICAgICAgLmZ1bmt5LXNob3ctaGlkZS5uZy1oaWRlLWFkZCB7XG4gICAgICAgIHRyYW5zZm9ybTogcm90YXRlWigwKTtcbiAgICAgICAgdHJhbnNmb3JtLW9yaWdpbjogcmlnaHQ7XG4gICAgICAgIHRyYW5zaXRpb246IGFsbCAwLjVzIGVhc2UtaW4tb3V0O1xuICAgICAgfVxuXG4gICAgICAuZnVua3ktc2hvdy1oaWRlLm5nLWhpZGUtYWRkLm5nLWhpZGUtYWRkLWFjdGl2ZSB7XG4gICAgICAgIHRyYW5zZm9ybTogcm90YXRlWigtMTM1ZGVnKTtcbiAgICAgIH1cblxuICAgICAgLmZ1bmt5LXNob3ctaGlkZS5uZy1oaWRlLXJlbW92ZSB7XG4gICAgICAgIHRyYW5zZm9ybTogcm90YXRlWSg5MGRlZyk7XG4gICAgICAgIHRyYW5zZm9ybS1vcmlnaW46IGxlZnQ7XG4gICAgICAgIHRyYW5zaXRpb246IGFsbCAwLjVzIGVhc2U7XG4gICAgICB9XG5cbiAgICAgIC5mdW5reS1zaG93LWhpZGUubmctaGlkZS1yZW1vdmUubmctaGlkZS1yZW1vdmUtYWN0aXZlIHtcbiAgICAgICAgdHJhbnNmb3JtOiByb3RhdGVZKDApO1xuICAgICAgfVxuXG4gICAgICAuY2hlY2stZWxlbWVudCB7XG4gICAgICAgIGJvcmRlcjogMXB4IHNvbGlkIGJsYWNrO1xuICAgICAgICBvcGFjaXR5OiAxO1xuICAgICAgICBwYWRkaW5nOiAxMHB4O1xuICAgICAgfVxuICAgIDwvZmlsZT5cbiAgICA8ZmlsZSBuYW1lPVwicHJvdHJhY3Rvci5qc1wiIHR5cGU9XCJwcm90cmFjdG9yXCI+XG4gICAgICBpdCgnc2hvdWxkIGNoZWNrIG5nSGlkZScsIGZ1bmN0aW9uKCkge1xuICAgICAgICB2YXIgY2hlY2tib3ggPSBlbGVtZW50KGJ5Lm1vZGVsKCdjaGVja2VkJykpO1xuICAgICAgICB2YXIgY2hlY2tFbGVtID0gZWxlbWVudChieS5jc3MoJy5jaGVjay1lbGVtZW50JykpO1xuXG4gICAgICAgIGV4cGVjdChjaGVja0VsZW0uaXNEaXNwbGF5ZWQoKSkudG9CZSh0cnVlKTtcbiAgICAgICAgY2hlY2tib3guY2xpY2soKTtcbiAgICAgICAgZXhwZWN0KGNoZWNrRWxlbS5pc0Rpc3BsYXllZCgpKS50b0JlKGZhbHNlKTtcbiAgICAgIH0pO1xuICAgIDwvZmlsZT5cbiAgPC9leGFtcGxlPlxuICovXG52YXIgbmdIaWRlRGlyZWN0aXZlID0gWyckYW5pbWF0ZScsIGZ1bmN0aW9uKCRhbmltYXRlKSB7XG4gIHJldHVybiB7XG4gICAgcmVzdHJpY3Q6ICdBJyxcbiAgICBtdWx0aUVsZW1lbnQ6IHRydWUsXG4gICAgbGluazogZnVuY3Rpb24oc2NvcGUsIGVsZW1lbnQsIGF0dHIpIHtcbiAgICAgIHNjb3BlLiR3YXRjaChhdHRyLm5nSGlkZSwgZnVuY3Rpb24gbmdIaWRlV2F0Y2hBY3Rpb24odmFsdWUpIHtcbiAgICAgICAgLy8gVGhlIGNvbW1lbnQgaW5zaWRlIG9mIHRoZSBuZ1Nob3dEaXJlY3RpdmUgZXhwbGFpbnMgd2h5IHdlIGFkZCBhbmRcbiAgICAgICAgLy8gcmVtb3ZlIGEgdGVtcG9yYXJ5IGNsYXNzIGZvciB0aGUgc2hvdy9oaWRlIGFuaW1hdGlvblxuICAgICAgICAkYW5pbWF0ZVt2YWx1ZSA/ICdhZGRDbGFzcycgOiAncmVtb3ZlQ2xhc3MnXShlbGVtZW50LE5HX0hJREVfQ0xBU1MsIHtcbiAgICAgICAgICB0ZW1wQ2xhc3NlczogTkdfSElERV9JTl9QUk9HUkVTU19DTEFTU1xuICAgICAgICB9KTtcbiAgICAgIH0pO1xuICAgIH1cbiAgfTtcbn1dO1xuXG4vKipcbiAqIEBuZ2RvYyBkaXJlY3RpdmVcbiAqIEBuYW1lIG5nU3R5bGVcbiAqIEByZXN0cmljdCBBQ1xuICpcbiAqIEBkZXNjcmlwdGlvblxuICogVGhlIGBuZ1N0eWxlYCBkaXJlY3RpdmUgYWxsb3dzIHlvdSB0byBzZXQgQ1NTIHN0eWxlIG9uIGFuIEhUTUwgZWxlbWVudCBjb25kaXRpb25hbGx5LlxuICpcbiAqIEBrbm93bklzc3VlXG4gKiBZb3Ugc2hvdWxkIG5vdCB1c2Uge0BsaW5rIGd1aWRlL2ludGVycG9sYXRpb24gaW50ZXJwb2xhdGlvbn0gaW4gdGhlIHZhbHVlIG9mIHRoZSBgc3R5bGVgXG4gKiBhdHRyaWJ1dGUsIHdoZW4gdXNpbmcgdGhlIGBuZ1N0eWxlYCBkaXJlY3RpdmUgb24gdGhlIHNhbWUgZWxlbWVudC5cbiAqIFNlZSB7QGxpbmsgZ3VpZGUvaW50ZXJwb2xhdGlvbiNrbm93bi1pc3N1ZXMgaGVyZX0gZm9yIG1vcmUgaW5mby5cbiAqXG4gKiBAZWxlbWVudCBBTllcbiAqIEBwYXJhbSB7ZXhwcmVzc2lvbn0gbmdTdHlsZVxuICpcbiAqIHtAbGluayBndWlkZS9leHByZXNzaW9uIEV4cHJlc3Npb259IHdoaWNoIGV2YWxzIHRvIGFuXG4gKiBvYmplY3Qgd2hvc2Uga2V5cyBhcmUgQ1NTIHN0eWxlIG5hbWVzIGFuZCB2YWx1ZXMgYXJlIGNvcnJlc3BvbmRpbmcgdmFsdWVzIGZvciB0aG9zZSBDU1NcbiAqIGtleXMuXG4gKlxuICogU2luY2Ugc29tZSBDU1Mgc3R5bGUgbmFtZXMgYXJlIG5vdCB2YWxpZCBrZXlzIGZvciBhbiBvYmplY3QsIHRoZXkgbXVzdCBiZSBxdW90ZWQuXG4gKiBTZWUgdGhlICdiYWNrZ3JvdW5kLWNvbG9yJyBzdHlsZSBpbiB0aGUgZXhhbXBsZSBiZWxvdy5cbiAqXG4gKiBAZXhhbXBsZVxuICAgPGV4YW1wbGUgbmFtZT1cIm5nLXN0eWxlXCI+XG4gICAgIDxmaWxlIG5hbWU9XCJpbmRleC5odG1sXCI+XG4gICAgICAgIDxpbnB1dCB0eXBlPVwiYnV0dG9uXCIgdmFsdWU9XCJzZXQgY29sb3JcIiBuZy1jbGljaz1cIm15U3R5bGU9e2NvbG9yOidyZWQnfVwiPlxuICAgICAgICA8aW5wdXQgdHlwZT1cImJ1dHRvblwiIHZhbHVlPVwic2V0IGJhY2tncm91bmRcIiBuZy1jbGljaz1cIm15U3R5bGU9eydiYWNrZ3JvdW5kLWNvbG9yJzonYmx1ZSd9XCI+XG4gICAgICAgIDxpbnB1dCB0eXBlPVwiYnV0dG9uXCIgdmFsdWU9XCJjbGVhclwiIG5nLWNsaWNrPVwibXlTdHlsZT17fVwiPlxuICAgICAgICA8YnIvPlxuICAgICAgICA8c3BhbiBuZy1zdHlsZT1cIm15U3R5bGVcIj5TYW1wbGUgVGV4dDwvc3Bhbj5cbiAgICAgICAgPHByZT5teVN0eWxlPXt7bXlTdHlsZX19PC9wcmU+XG4gICAgIDwvZmlsZT5cbiAgICAgPGZpbGUgbmFtZT1cInN0eWxlLmNzc1wiPlxuICAgICAgIHNwYW4ge1xuICAgICAgICAgY29sb3I6IGJsYWNrO1xuICAgICAgIH1cbiAgICAgPC9maWxlPlxuICAgICA8ZmlsZSBuYW1lPVwicHJvdHJhY3Rvci5qc1wiIHR5cGU9XCJwcm90cmFjdG9yXCI+XG4gICAgICAgdmFyIGNvbG9yU3BhbiA9IGVsZW1lbnQoYnkuY3NzKCdzcGFuJykpO1xuXG4gICAgICAgaXQoJ3Nob3VsZCBjaGVjayBuZy1zdHlsZScsIGZ1bmN0aW9uKCkge1xuICAgICAgICAgZXhwZWN0KGNvbG9yU3Bhbi5nZXRDc3NWYWx1ZSgnY29sb3InKSkudG9CZSgncmdiYSgwLCAwLCAwLCAxKScpO1xuICAgICAgICAgZWxlbWVudChieS5jc3MoJ2lucHV0W3ZhbHVlPVxcJ3NldCBjb2xvclxcJ10nKSkuY2xpY2soKTtcbiAgICAgICAgIGV4cGVjdChjb2xvclNwYW4uZ2V0Q3NzVmFsdWUoJ2NvbG9yJykpLnRvQmUoJ3JnYmEoMjU1LCAwLCAwLCAxKScpO1xuICAgICAgICAgZWxlbWVudChieS5jc3MoJ2lucHV0W3ZhbHVlPWNsZWFyXScpKS5jbGljaygpO1xuICAgICAgICAgZXhwZWN0KGNvbG9yU3Bhbi5nZXRDc3NWYWx1ZSgnY29sb3InKSkudG9CZSgncmdiYSgwLCAwLCAwLCAxKScpO1xuICAgICAgIH0pO1xuICAgICA8L2ZpbGU+XG4gICA8L2V4YW1wbGU+XG4gKi9cbnZhciBuZ1N0eWxlRGlyZWN0aXZlID0gbmdEaXJlY3RpdmUoZnVuY3Rpb24oc2NvcGUsIGVsZW1lbnQsIGF0dHIpIHtcbiAgc2NvcGUuJHdhdGNoKGF0dHIubmdTdHlsZSwgZnVuY3Rpb24gbmdTdHlsZVdhdGNoQWN0aW9uKG5ld1N0eWxlcywgb2xkU3R5bGVzKSB7XG4gICAgaWYgKG9sZFN0eWxlcyAmJiAobmV3U3R5bGVzICE9PSBvbGRTdHlsZXMpKSB7XG4gICAgICBmb3JFYWNoKG9sZFN0eWxlcywgZnVuY3Rpb24odmFsLCBzdHlsZSkgeyBlbGVtZW50LmNzcyhzdHlsZSwgJycpO30pO1xuICAgIH1cbiAgICBpZiAobmV3U3R5bGVzKSBlbGVtZW50LmNzcyhuZXdTdHlsZXMpO1xuICB9LCB0cnVlKTtcbn0pO1xuXG4vKipcbiAqIEBuZ2RvYyBkaXJlY3RpdmVcbiAqIEBuYW1lIG5nU3dpdGNoXG4gKiBAcmVzdHJpY3QgRUFcbiAqXG4gKiBAZGVzY3JpcHRpb25cbiAqIFRoZSBgbmdTd2l0Y2hgIGRpcmVjdGl2ZSBpcyB1c2VkIHRvIGNvbmRpdGlvbmFsbHkgc3dhcCBET00gc3RydWN0dXJlIG9uIHlvdXIgdGVtcGxhdGUgYmFzZWQgb24gYSBzY29wZSBleHByZXNzaW9uLlxuICogRWxlbWVudHMgd2l0aGluIGBuZ1N3aXRjaGAgYnV0IHdpdGhvdXQgYG5nU3dpdGNoV2hlbmAgb3IgYG5nU3dpdGNoRGVmYXVsdGAgZGlyZWN0aXZlcyB3aWxsIGJlIHByZXNlcnZlZCBhdCB0aGUgbG9jYXRpb25cbiAqIGFzIHNwZWNpZmllZCBpbiB0aGUgdGVtcGxhdGUuXG4gKlxuICogVGhlIGRpcmVjdGl2ZSBpdHNlbGYgd29ya3Mgc2ltaWxhciB0byBuZ0luY2x1ZGUsIGhvd2V2ZXIsIGluc3RlYWQgb2YgZG93bmxvYWRpbmcgdGVtcGxhdGUgY29kZSAob3IgbG9hZGluZyBpdFxuICogZnJvbSB0aGUgdGVtcGxhdGUgY2FjaGUpLCBgbmdTd2l0Y2hgIHNpbXBseSBjaG9vc2VzIG9uZSBvZiB0aGUgbmVzdGVkIGVsZW1lbnRzIGFuZCBtYWtlcyBpdCB2aXNpYmxlIGJhc2VkIG9uIHdoaWNoIGVsZW1lbnRcbiAqIG1hdGNoZXMgdGhlIHZhbHVlIG9idGFpbmVkIGZyb20gdGhlIGV2YWx1YXRlZCBleHByZXNzaW9uLiBJbiBvdGhlciB3b3JkcywgeW91IGRlZmluZSBhIGNvbnRhaW5lciBlbGVtZW50XG4gKiAod2hlcmUgeW91IHBsYWNlIHRoZSBkaXJlY3RpdmUpLCBwbGFjZSBhbiBleHByZXNzaW9uIG9uIHRoZSAqKmBvbj1cIi4uLlwiYCBhdHRyaWJ1dGUqKlxuICogKG9yIHRoZSAqKmBuZy1zd2l0Y2g9XCIuLi5cImAgYXR0cmlidXRlKiopLCBkZWZpbmUgYW55IGlubmVyIGVsZW1lbnRzIGluc2lkZSBvZiB0aGUgZGlyZWN0aXZlIGFuZCBwbGFjZVxuICogYSB3aGVuIGF0dHJpYnV0ZSBwZXIgZWxlbWVudC4gVGhlIHdoZW4gYXR0cmlidXRlIGlzIHVzZWQgdG8gaW5mb3JtIG5nU3dpdGNoIHdoaWNoIGVsZW1lbnQgdG8gZGlzcGxheSB3aGVuIHRoZSBvblxuICogZXhwcmVzc2lvbiBpcyBldmFsdWF0ZWQuIElmIGEgbWF0Y2hpbmcgZXhwcmVzc2lvbiBpcyBub3QgZm91bmQgdmlhIGEgd2hlbiBhdHRyaWJ1dGUgdGhlbiBhbiBlbGVtZW50IHdpdGggdGhlIGRlZmF1bHRcbiAqIGF0dHJpYnV0ZSBpcyBkaXNwbGF5ZWQuXG4gKlxuICogPGRpdiBjbGFzcz1cImFsZXJ0IGFsZXJ0LWluZm9cIj5cbiAqIEJlIGF3YXJlIHRoYXQgdGhlIGF0dHJpYnV0ZSB2YWx1ZXMgdG8gbWF0Y2ggYWdhaW5zdCBjYW5ub3QgYmUgZXhwcmVzc2lvbnMuIFRoZXkgYXJlIGludGVycHJldGVkXG4gKiBhcyBsaXRlcmFsIHN0cmluZyB2YWx1ZXMgdG8gbWF0Y2ggYWdhaW5zdC5cbiAqIEZvciBleGFtcGxlLCAqKmBuZy1zd2l0Y2gtd2hlbj1cInNvbWVWYWxcImAqKiB3aWxsIG1hdGNoIGFnYWluc3QgdGhlIHN0cmluZyBgXCJzb21lVmFsXCJgIG5vdCBhZ2FpbnN0IHRoZVxuICogdmFsdWUgb2YgdGhlIGV4cHJlc3Npb24gYCRzY29wZS5zb21lVmFsYC5cbiAqIDwvZGl2PlxuXG4gKiBAYW5pbWF0aW9uc1xuICogfCBBbmltYXRpb24gICAgICAgICAgICAgICAgICAgICAgICB8IE9jY3VycyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHxcbiAqIHwtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tfC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS18XG4gKiB8IHtAbGluayBuZy4kYW5pbWF0ZSNlbnRlciBlbnRlcn0gIHwgYWZ0ZXIgdGhlIG5nU3dpdGNoIGNvbnRlbnRzIGNoYW5nZSBhbmQgdGhlIG1hdGNoZWQgY2hpbGQgZWxlbWVudCBpcyBwbGFjZWQgaW5zaWRlIHRoZSBjb250YWluZXIgfFxuICogfCB7QGxpbmsgbmcuJGFuaW1hdGUjbGVhdmUgbGVhdmV9ICB8IGFmdGVyIHRoZSBuZ1N3aXRjaCBjb250ZW50cyBjaGFuZ2UgYW5kIGp1c3QgYmVmb3JlIHRoZSBmb3JtZXIgY29udGVudHMgYXJlIHJlbW92ZWQgZnJvbSB0aGUgRE9NIHxcbiAqXG4gKiBAdXNhZ2VcbiAqXG4gKiBgYGBcbiAqIDxBTlkgbmctc3dpdGNoPVwiZXhwcmVzc2lvblwiPlxuICogICA8QU5ZIG5nLXN3aXRjaC13aGVuPVwibWF0Y2hWYWx1ZTFcIj4uLi48L0FOWT5cbiAqICAgPEFOWSBuZy1zd2l0Y2gtd2hlbj1cIm1hdGNoVmFsdWUyXCI+Li4uPC9BTlk+XG4gKiAgIDxBTlkgbmctc3dpdGNoLWRlZmF1bHQ+Li4uPC9BTlk+XG4gKiA8L0FOWT5cbiAqIGBgYFxuICpcbiAqXG4gKiBAc2NvcGVcbiAqIEBwcmlvcml0eSAxMjAwXG4gKiBAcGFyYW0geyp9IG5nU3dpdGNofG9uIGV4cHJlc3Npb24gdG8gbWF0Y2ggYWdhaW5zdCA8Y29kZT5uZy1zd2l0Y2gtd2hlbjwvY29kZT4uXG4gKiBPbiBjaGlsZCBlbGVtZW50cyBhZGQ6XG4gKlxuICogKiBgbmdTd2l0Y2hXaGVuYDogdGhlIGNhc2Ugc3RhdGVtZW50IHRvIG1hdGNoIGFnYWluc3QuIElmIG1hdGNoIHRoZW4gdGhpc1xuICogICBjYXNlIHdpbGwgYmUgZGlzcGxheWVkLiBJZiB0aGUgc2FtZSBtYXRjaCBhcHBlYXJzIG11bHRpcGxlIHRpbWVzLCBhbGwgdGhlXG4gKiAgIGVsZW1lbnRzIHdpbGwgYmUgZGlzcGxheWVkLiBJdCBpcyBwb3NzaWJsZSB0byBhc3NvY2lhdGUgbXVsdGlwbGUgdmFsdWVzIHRvXG4gKiAgIHRoZSBzYW1lIGBuZ1N3aXRjaFdoZW5gIGJ5IGRlZmluaW5nIHRoZSBvcHRpb25hbCBhdHRyaWJ1dGVcbiAqICAgYG5nU3dpdGNoV2hlblNlcGFyYXRvcmAuIFRoZSBzZXBhcmF0b3Igd2lsbCBiZSB1c2VkIHRvIHNwbGl0IHRoZSB2YWx1ZSBvZlxuICogICB0aGUgYG5nU3dpdGNoV2hlbmAgYXR0cmlidXRlIGludG8gbXVsdGlwbGUgdG9rZW5zLCBhbmQgdGhlIGVsZW1lbnQgd2lsbCBzaG93XG4gKiAgIGlmIGFueSBvZiB0aGUgYG5nU3dpdGNoYCBldmFsdWF0ZXMgdG8gYW55IG9mIHRoZXNlIHRva2Vucy5cbiAqICogYG5nU3dpdGNoRGVmYXVsdGA6IHRoZSBkZWZhdWx0IGNhc2Ugd2hlbiBubyBvdGhlciBjYXNlIG1hdGNoLiBJZiB0aGVyZVxuICogICBhcmUgbXVsdGlwbGUgZGVmYXVsdCBjYXNlcywgYWxsIG9mIHRoZW0gd2lsbCBiZSBkaXNwbGF5ZWQgd2hlbiBubyBvdGhlclxuICogICBjYXNlIG1hdGNoLlxuICpcbiAqXG4gKiBAZXhhbXBsZVxuICA8ZXhhbXBsZSBtb2R1bGU9XCJzd2l0Y2hFeGFtcGxlXCIgZGVwcz1cImFuZ3VsYXItYW5pbWF0ZS5qc1wiIGFuaW1hdGlvbnM9XCJ0cnVlXCIgbmFtZT1cIm5nLXN3aXRjaFwiPlxuICAgIDxmaWxlIG5hbWU9XCJpbmRleC5odG1sXCI+XG4gICAgICA8ZGl2IG5nLWNvbnRyb2xsZXI9XCJFeGFtcGxlQ29udHJvbGxlclwiPlxuICAgICAgICA8c2VsZWN0IG5nLW1vZGVsPVwic2VsZWN0aW9uXCIgbmctb3B0aW9ucz1cIml0ZW0gZm9yIGl0ZW0gaW4gaXRlbXNcIj5cbiAgICAgICAgPC9zZWxlY3Q+XG4gICAgICAgIDxjb2RlPnNlbGVjdGlvbj17e3NlbGVjdGlvbn19PC9jb2RlPlxuICAgICAgICA8aHIvPlxuICAgICAgICA8ZGl2IGNsYXNzPVwiYW5pbWF0ZS1zd2l0Y2gtY29udGFpbmVyXCJcbiAgICAgICAgICBuZy1zd2l0Y2ggb249XCJzZWxlY3Rpb25cIj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJhbmltYXRlLXN3aXRjaFwiIG5nLXN3aXRjaC13aGVuPVwic2V0dGluZ3N8b3B0aW9uc1wiIG5nLXN3aXRjaC13aGVuLXNlcGFyYXRvcj1cInxcIj5TZXR0aW5ncyBEaXY8L2Rpdj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJhbmltYXRlLXN3aXRjaFwiIG5nLXN3aXRjaC13aGVuPVwiaG9tZVwiPkhvbWUgU3BhbjwvZGl2PlxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cImFuaW1hdGUtc3dpdGNoXCIgbmctc3dpdGNoLWRlZmF1bHQ+ZGVmYXVsdDwvZGl2PlxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvZGl2PlxuICAgIDwvZmlsZT5cbiAgICA8ZmlsZSBuYW1lPVwic2NyaXB0LmpzXCI+XG4gICAgICBhbmd1bGFyLm1vZHVsZSgnc3dpdGNoRXhhbXBsZScsIFsnbmdBbmltYXRlJ10pXG4gICAgICAgIC5jb250cm9sbGVyKCdFeGFtcGxlQ29udHJvbGxlcicsIFsnJHNjb3BlJywgZnVuY3Rpb24oJHNjb3BlKSB7XG4gICAgICAgICAgJHNjb3BlLml0ZW1zID0gWydzZXR0aW5ncycsICdob21lJywgJ29wdGlvbnMnLCAnb3RoZXInXTtcbiAgICAgICAgICAkc2NvcGUuc2VsZWN0aW9uID0gJHNjb3BlLml0ZW1zWzBdO1xuICAgICAgICB9XSk7XG4gICAgPC9maWxlPlxuICAgIDxmaWxlIG5hbWU9XCJhbmltYXRpb25zLmNzc1wiPlxuICAgICAgLmFuaW1hdGUtc3dpdGNoLWNvbnRhaW5lciB7XG4gICAgICAgIHBvc2l0aW9uOnJlbGF0aXZlO1xuICAgICAgICBiYWNrZ3JvdW5kOndoaXRlO1xuICAgICAgICBib3JkZXI6MXB4IHNvbGlkIGJsYWNrO1xuICAgICAgICBoZWlnaHQ6NDBweDtcbiAgICAgICAgb3ZlcmZsb3c6aGlkZGVuO1xuICAgICAgfVxuXG4gICAgICAuYW5pbWF0ZS1zd2l0Y2gge1xuICAgICAgICBwYWRkaW5nOjEwcHg7XG4gICAgICB9XG5cbiAgICAgIC5hbmltYXRlLXN3aXRjaC5uZy1hbmltYXRlIHtcbiAgICAgICAgdHJhbnNpdGlvbjphbGwgY3ViaWMtYmV6aWVyKDAuMjUwLCAwLjQ2MCwgMC40NTAsIDAuOTQwKSAwLjVzO1xuXG4gICAgICAgIHBvc2l0aW9uOmFic29sdXRlO1xuICAgICAgICB0b3A6MDtcbiAgICAgICAgbGVmdDowO1xuICAgICAgICByaWdodDowO1xuICAgICAgICBib3R0b206MDtcbiAgICAgIH1cblxuICAgICAgLmFuaW1hdGUtc3dpdGNoLm5nLWxlYXZlLm5nLWxlYXZlLWFjdGl2ZSxcbiAgICAgIC5hbmltYXRlLXN3aXRjaC5uZy1lbnRlciB7XG4gICAgICAgIHRvcDotNTBweDtcbiAgICAgIH1cbiAgICAgIC5hbmltYXRlLXN3aXRjaC5uZy1sZWF2ZSxcbiAgICAgIC5hbmltYXRlLXN3aXRjaC5uZy1lbnRlci5uZy1lbnRlci1hY3RpdmUge1xuICAgICAgICB0b3A6MDtcbiAgICAgIH1cbiAgICA8L2ZpbGU+XG4gICAgPGZpbGUgbmFtZT1cInByb3RyYWN0b3IuanNcIiB0eXBlPVwicHJvdHJhY3RvclwiPlxuICAgICAgdmFyIHN3aXRjaEVsZW0gPSBlbGVtZW50KGJ5LmNzcygnW25nLXN3aXRjaF0nKSk7XG4gICAgICB2YXIgc2VsZWN0ID0gZWxlbWVudChieS5tb2RlbCgnc2VsZWN0aW9uJykpO1xuXG4gICAgICBpdCgnc2hvdWxkIHN0YXJ0IGluIHNldHRpbmdzJywgZnVuY3Rpb24oKSB7XG4gICAgICAgIGV4cGVjdChzd2l0Y2hFbGVtLmdldFRleHQoKSkudG9NYXRjaCgvU2V0dGluZ3MgRGl2Lyk7XG4gICAgICB9KTtcbiAgICAgIGl0KCdzaG91bGQgY2hhbmdlIHRvIGhvbWUnLCBmdW5jdGlvbigpIHtcbiAgICAgICAgc2VsZWN0LmFsbChieS5jc3MoJ29wdGlvbicpKS5nZXQoMSkuY2xpY2soKTtcbiAgICAgICAgZXhwZWN0KHN3aXRjaEVsZW0uZ2V0VGV4dCgpKS50b01hdGNoKC9Ib21lIFNwYW4vKTtcbiAgICAgIH0pO1xuICAgICAgaXQoJ3Nob3VsZCBjaGFuZ2UgdG8gc2V0dGluZ3MgdmlhIFwib3B0aW9uc1wiJywgZnVuY3Rpb24oKSB7XG4gICAgICAgIHNlbGVjdC5hbGwoYnkuY3NzKCdvcHRpb24nKSkuZ2V0KDIpLmNsaWNrKCk7XG4gICAgICAgIGV4cGVjdChzd2l0Y2hFbGVtLmdldFRleHQoKSkudG9NYXRjaCgvU2V0dGluZ3MgRGl2Lyk7XG4gICAgICB9KTtcbiAgICAgIGl0KCdzaG91bGQgc2VsZWN0IGRlZmF1bHQnLCBmdW5jdGlvbigpIHtcbiAgICAgICAgc2VsZWN0LmFsbChieS5jc3MoJ29wdGlvbicpKS5nZXQoMykuY2xpY2soKTtcbiAgICAgICAgZXhwZWN0KHN3aXRjaEVsZW0uZ2V0VGV4dCgpKS50b01hdGNoKC9kZWZhdWx0Lyk7XG4gICAgICB9KTtcbiAgICA8L2ZpbGU+XG4gIDwvZXhhbXBsZT5cbiAqL1xudmFyIG5nU3dpdGNoRGlyZWN0aXZlID0gWyckYW5pbWF0ZScsICckY29tcGlsZScsIGZ1bmN0aW9uKCRhbmltYXRlLCAkY29tcGlsZSkge1xuICByZXR1cm4ge1xuICAgIHJlcXVpcmU6ICduZ1N3aXRjaCcsXG5cbiAgICAvLyBhc2tzIGZvciAkc2NvcGUgdG8gZm9vbCB0aGUgQkMgY29udHJvbGxlciBtb2R1bGVcbiAgICBjb250cm9sbGVyOiBbJyRzY29wZScsIGZ1bmN0aW9uIE5nU3dpdGNoQ29udHJvbGxlcigpIHtcbiAgICAgdGhpcy5jYXNlcyA9IHt9O1xuICAgIH1dLFxuICAgIGxpbms6IGZ1bmN0aW9uKHNjb3BlLCBlbGVtZW50LCBhdHRyLCBuZ1N3aXRjaENvbnRyb2xsZXIpIHtcbiAgICAgIHZhciB3YXRjaEV4cHIgPSBhdHRyLm5nU3dpdGNoIHx8IGF0dHIub24sXG4gICAgICAgICAgc2VsZWN0ZWRUcmFuc2NsdWRlcyA9IFtdLFxuICAgICAgICAgIHNlbGVjdGVkRWxlbWVudHMgPSBbXSxcbiAgICAgICAgICBwcmV2aW91c0xlYXZlQW5pbWF0aW9ucyA9IFtdLFxuICAgICAgICAgIHNlbGVjdGVkU2NvcGVzID0gW107XG5cbiAgICAgIHZhciBzcGxpY2VGYWN0b3J5ID0gZnVuY3Rpb24oYXJyYXksIGluZGV4KSB7XG4gICAgICAgICAgcmV0dXJuIGZ1bmN0aW9uKHJlc3BvbnNlKSB7XG4gICAgICAgICAgICBpZiAocmVzcG9uc2UgIT09IGZhbHNlKSBhcnJheS5zcGxpY2UoaW5kZXgsIDEpO1xuICAgICAgICAgIH07XG4gICAgICB9O1xuXG4gICAgICBzY29wZS4kd2F0Y2god2F0Y2hFeHByLCBmdW5jdGlvbiBuZ1N3aXRjaFdhdGNoQWN0aW9uKHZhbHVlKSB7XG4gICAgICAgIHZhciBpLCBpaTtcblxuICAgICAgICAvLyBTdGFydCB3aXRoIHRoZSBsYXN0LCBpbiBjYXNlIHRoZSBhcnJheSBpcyBtb2RpZmllZCBkdXJpbmcgdGhlIGxvb3BcbiAgICAgICAgd2hpbGUgKHByZXZpb3VzTGVhdmVBbmltYXRpb25zLmxlbmd0aCkge1xuICAgICAgICAgICRhbmltYXRlLmNhbmNlbChwcmV2aW91c0xlYXZlQW5pbWF0aW9ucy5wb3AoKSk7XG4gICAgICAgIH1cblxuICAgICAgICBmb3IgKGkgPSAwLCBpaSA9IHNlbGVjdGVkU2NvcGVzLmxlbmd0aDsgaSA8IGlpOyArK2kpIHtcbiAgICAgICAgICB2YXIgc2VsZWN0ZWQgPSBnZXRCbG9ja05vZGVzKHNlbGVjdGVkRWxlbWVudHNbaV0uY2xvbmUpO1xuICAgICAgICAgIHNlbGVjdGVkU2NvcGVzW2ldLiRkZXN0cm95KCk7XG4gICAgICAgICAgdmFyIHJ1bm5lciA9IHByZXZpb3VzTGVhdmVBbmltYXRpb25zW2ldID0gJGFuaW1hdGUubGVhdmUoc2VsZWN0ZWQpO1xuICAgICAgICAgIHJ1bm5lci5kb25lKHNwbGljZUZhY3RvcnkocHJldmlvdXNMZWF2ZUFuaW1hdGlvbnMsIGkpKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHNlbGVjdGVkRWxlbWVudHMubGVuZ3RoID0gMDtcbiAgICAgICAgc2VsZWN0ZWRTY29wZXMubGVuZ3RoID0gMDtcblxuICAgICAgICBpZiAoKHNlbGVjdGVkVHJhbnNjbHVkZXMgPSBuZ1N3aXRjaENvbnRyb2xsZXIuY2FzZXNbJyEnICsgdmFsdWVdIHx8IG5nU3dpdGNoQ29udHJvbGxlci5jYXNlc1snPyddKSkge1xuICAgICAgICAgIGZvckVhY2goc2VsZWN0ZWRUcmFuc2NsdWRlcywgZnVuY3Rpb24oc2VsZWN0ZWRUcmFuc2NsdWRlKSB7XG4gICAgICAgICAgICBzZWxlY3RlZFRyYW5zY2x1ZGUudHJhbnNjbHVkZShmdW5jdGlvbihjYXNlRWxlbWVudCwgc2VsZWN0ZWRTY29wZSkge1xuICAgICAgICAgICAgICBzZWxlY3RlZFNjb3Blcy5wdXNoKHNlbGVjdGVkU2NvcGUpO1xuICAgICAgICAgICAgICB2YXIgYW5jaG9yID0gc2VsZWN0ZWRUcmFuc2NsdWRlLmVsZW1lbnQ7XG4gICAgICAgICAgICAgIGNhc2VFbGVtZW50W2Nhc2VFbGVtZW50Lmxlbmd0aCsrXSA9ICRjb21waWxlLiQkY3JlYXRlQ29tbWVudCgnZW5kIG5nU3dpdGNoV2hlbicpO1xuICAgICAgICAgICAgICB2YXIgYmxvY2sgPSB7IGNsb25lOiBjYXNlRWxlbWVudCB9O1xuXG4gICAgICAgICAgICAgIHNlbGVjdGVkRWxlbWVudHMucHVzaChibG9jayk7XG4gICAgICAgICAgICAgICRhbmltYXRlLmVudGVyKGNhc2VFbGVtZW50LCBhbmNob3IucGFyZW50KCksIGFuY2hvcik7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfVxuICB9O1xufV07XG5cbnZhciBuZ1N3aXRjaFdoZW5EaXJlY3RpdmUgPSBuZ0RpcmVjdGl2ZSh7XG4gIHRyYW5zY2x1ZGU6ICdlbGVtZW50JyxcbiAgcHJpb3JpdHk6IDEyMDAsXG4gIHJlcXVpcmU6ICdebmdTd2l0Y2gnLFxuICBtdWx0aUVsZW1lbnQ6IHRydWUsXG4gIGxpbms6IGZ1bmN0aW9uKHNjb3BlLCBlbGVtZW50LCBhdHRycywgY3RybCwgJHRyYW5zY2x1ZGUpIHtcblxuICAgIHZhciBjYXNlcyA9IGF0dHJzLm5nU3dpdGNoV2hlbi5zcGxpdChhdHRycy5uZ1N3aXRjaFdoZW5TZXBhcmF0b3IpLnNvcnQoKS5maWx0ZXIoXG4gICAgICAvLyBGaWx0ZXIgZHVwbGljYXRlIGNhc2VzXG4gICAgICBmdW5jdGlvbihlbGVtZW50LCBpbmRleCwgYXJyYXkpIHsgcmV0dXJuIGFycmF5W2luZGV4IC0gMV0gIT09IGVsZW1lbnQ7IH1cbiAgICApO1xuXG4gICAgZm9yRWFjaChjYXNlcywgZnVuY3Rpb24od2hlbkNhc2UpIHtcbiAgICAgIGN0cmwuY2FzZXNbJyEnICsgd2hlbkNhc2VdID0gKGN0cmwuY2FzZXNbJyEnICsgd2hlbkNhc2VdIHx8IFtdKTtcbiAgICAgIGN0cmwuY2FzZXNbJyEnICsgd2hlbkNhc2VdLnB1c2goeyB0cmFuc2NsdWRlOiAkdHJhbnNjbHVkZSwgZWxlbWVudDogZWxlbWVudCB9KTtcbiAgICB9KTtcbiAgfVxufSk7XG5cbnZhciBuZ1N3aXRjaERlZmF1bHREaXJlY3RpdmUgPSBuZ0RpcmVjdGl2ZSh7XG4gIHRyYW5zY2x1ZGU6ICdlbGVtZW50JyxcbiAgcHJpb3JpdHk6IDEyMDAsXG4gIHJlcXVpcmU6ICdebmdTd2l0Y2gnLFxuICBtdWx0aUVsZW1lbnQ6IHRydWUsXG4gIGxpbms6IGZ1bmN0aW9uKHNjb3BlLCBlbGVtZW50LCBhdHRyLCBjdHJsLCAkdHJhbnNjbHVkZSkge1xuICAgIGN0cmwuY2FzZXNbJz8nXSA9IChjdHJsLmNhc2VzWyc/J10gfHwgW10pO1xuICAgIGN0cmwuY2FzZXNbJz8nXS5wdXNoKHsgdHJhbnNjbHVkZTogJHRyYW5zY2x1ZGUsIGVsZW1lbnQ6IGVsZW1lbnQgfSk7XG4gICB9XG59KTtcblxuLyoqXG4gKiBAbmdkb2MgZGlyZWN0aXZlXG4gKiBAbmFtZSBuZ1RyYW5zY2x1ZGVcbiAqIEByZXN0cmljdCBFQUNcbiAqXG4gKiBAZGVzY3JpcHRpb25cbiAqIERpcmVjdGl2ZSB0aGF0IG1hcmtzIHRoZSBpbnNlcnRpb24gcG9pbnQgZm9yIHRoZSB0cmFuc2NsdWRlZCBET00gb2YgdGhlIG5lYXJlc3QgcGFyZW50IGRpcmVjdGl2ZSB0aGF0IHVzZXMgdHJhbnNjbHVzaW9uLlxuICpcbiAqIFlvdSBjYW4gc3BlY2lmeSB0aGF0IHlvdSB3YW50IHRvIGluc2VydCBhIG5hbWVkIHRyYW5zY2x1c2lvbiBzbG90LCBpbnN0ZWFkIG9mIHRoZSBkZWZhdWx0IHNsb3QsIGJ5IHByb3ZpZGluZyB0aGUgc2xvdCBuYW1lXG4gKiBhcyB0aGUgdmFsdWUgb2YgdGhlIGBuZy10cmFuc2NsdWRlYCBvciBgbmctdHJhbnNjbHVkZS1zbG90YCBhdHRyaWJ1dGUuXG4gKlxuICogSWYgdGhlIHRyYW5zY2x1ZGVkIGNvbnRlbnQgaXMgbm90IGVtcHR5IChpLmUuIGNvbnRhaW5zIG9uZSBvciBtb3JlIERPTSBub2RlcywgaW5jbHVkaW5nIHdoaXRlc3BhY2UgdGV4dCBub2RlcyksIGFueSBleGlzdGluZ1xuICogY29udGVudCBvZiB0aGlzIGVsZW1lbnQgd2lsbCBiZSByZW1vdmVkIGJlZm9yZSB0aGUgdHJhbnNjbHVkZWQgY29udGVudCBpcyBpbnNlcnRlZC5cbiAqIElmIHRoZSB0cmFuc2NsdWRlZCBjb250ZW50IGlzIGVtcHR5IChvciBvbmx5IHdoaXRlc3BhY2UpLCB0aGUgZXhpc3RpbmcgY29udGVudCBpcyBsZWZ0IGludGFjdC4gVGhpcyBsZXRzIHlvdSBwcm92aWRlIGZhbGxiYWNrXG4gKiBjb250ZW50IGluIHRoZSBjYXNlIHRoYXQgbm8gdHJhbnNjbHVkZWQgY29udGVudCBpcyBwcm92aWRlZC5cbiAqXG4gKiBAZWxlbWVudCBBTllcbiAqXG4gKiBAcGFyYW0ge3N0cmluZ30gbmdUcmFuc2NsdWRlfG5nVHJhbnNjbHVkZVNsb3QgdGhlIG5hbWUgb2YgdGhlIHNsb3QgdG8gaW5zZXJ0IGF0IHRoaXMgcG9pbnQuIElmIHRoaXMgaXMgbm90IHByb3ZpZGVkLCBpcyBlbXB0eVxuICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9yIGl0cyB2YWx1ZSBpcyB0aGUgc2FtZSBhcyB0aGUgbmFtZSBvZiB0aGUgYXR0cmlidXRlIHRoZW4gdGhlIGRlZmF1bHQgc2xvdCBpcyB1c2VkLlxuICpcbiAqIEBleGFtcGxlXG4gKiAjIyMgQmFzaWMgdHJhbnNjbHVzaW9uXG4gKiBUaGlzIGV4YW1wbGUgZGVtb25zdHJhdGVzIGJhc2ljIHRyYW5zY2x1c2lvbiBvZiBjb250ZW50IGludG8gYSBjb21wb25lbnQgZGlyZWN0aXZlLlxuICogPGV4YW1wbGUgbmFtZT1cInNpbXBsZVRyYW5zY2x1ZGVFeGFtcGxlXCIgbW9kdWxlPVwidHJhbnNjbHVkZUV4YW1wbGVcIj5cbiAqICAgPGZpbGUgbmFtZT1cImluZGV4Lmh0bWxcIj5cbiAqICAgICA8c2NyaXB0PlxuICogICAgICAgYW5ndWxhci5tb2R1bGUoJ3RyYW5zY2x1ZGVFeGFtcGxlJywgW10pXG4gKiAgICAgICAgLmRpcmVjdGl2ZSgncGFuZScsIGZ1bmN0aW9uKCl7XG4gKiAgICAgICAgICAgcmV0dXJuIHtcbiAqICAgICAgICAgICAgIHJlc3RyaWN0OiAnRScsXG4gKiAgICAgICAgICAgICB0cmFuc2NsdWRlOiB0cnVlLFxuICogICAgICAgICAgICAgc2NvcGU6IHsgdGl0bGU6J0AnIH0sXG4gKiAgICAgICAgICAgICB0ZW1wbGF0ZTogJzxkaXYgc3R5bGU9XCJib3JkZXI6IDFweCBzb2xpZCBibGFjaztcIj4nICtcbiAqICAgICAgICAgICAgICAgICAgICAgICAgICc8ZGl2IHN0eWxlPVwiYmFja2dyb3VuZC1jb2xvcjogZ3JheVwiPnt7dGl0bGV9fTwvZGl2PicgK1xuICogICAgICAgICAgICAgICAgICAgICAgICAgJzxuZy10cmFuc2NsdWRlPjwvbmctdHJhbnNjbHVkZT4nICtcbiAqICAgICAgICAgICAgICAgICAgICAgICAnPC9kaXY+J1xuICogICAgICAgICAgIH07XG4gKiAgICAgICB9KVxuICogICAgICAgLmNvbnRyb2xsZXIoJ0V4YW1wbGVDb250cm9sbGVyJywgWyckc2NvcGUnLCBmdW5jdGlvbigkc2NvcGUpIHtcbiAqICAgICAgICAgJHNjb3BlLnRpdGxlID0gJ0xvcmVtIElwc3VtJztcbiAqICAgICAgICAgJHNjb3BlLnRleHQgPSAnTmVxdWUgcG9ycm8gcXVpc3F1YW0gZXN0IHF1aSBkb2xvcmVtIGlwc3VtIHF1aWEgZG9sb3IuLi4nO1xuICogICAgICAgfV0pO1xuICogICAgIDwvc2NyaXB0PlxuICogICAgIDxkaXYgbmctY29udHJvbGxlcj1cIkV4YW1wbGVDb250cm9sbGVyXCI+XG4gKiAgICAgICA8aW5wdXQgbmctbW9kZWw9XCJ0aXRsZVwiIGFyaWEtbGFiZWw9XCJ0aXRsZVwiPiA8YnIvPlxuICogICAgICAgPHRleHRhcmVhIG5nLW1vZGVsPVwidGV4dFwiIGFyaWEtbGFiZWw9XCJ0ZXh0XCI+PC90ZXh0YXJlYT4gPGJyLz5cbiAqICAgICAgIDxwYW5lIHRpdGxlPVwie3t0aXRsZX19XCI+PHNwYW4+e3t0ZXh0fX08L3NwYW4+PC9wYW5lPlxuICogICAgIDwvZGl2PlxuICogICA8L2ZpbGU+XG4gKiAgIDxmaWxlIG5hbWU9XCJwcm90cmFjdG9yLmpzXCIgdHlwZT1cInByb3RyYWN0b3JcIj5cbiAqICAgICAgaXQoJ3Nob3VsZCBoYXZlIHRyYW5zY2x1ZGVkJywgZnVuY3Rpb24oKSB7XG4gKiAgICAgICAgdmFyIHRpdGxlRWxlbWVudCA9IGVsZW1lbnQoYnkubW9kZWwoJ3RpdGxlJykpO1xuICogICAgICAgIHRpdGxlRWxlbWVudC5jbGVhcigpO1xuICogICAgICAgIHRpdGxlRWxlbWVudC5zZW5kS2V5cygnVElUTEUnKTtcbiAqICAgICAgICB2YXIgdGV4dEVsZW1lbnQgPSBlbGVtZW50KGJ5Lm1vZGVsKCd0ZXh0JykpO1xuICogICAgICAgIHRleHRFbGVtZW50LmNsZWFyKCk7XG4gKiAgICAgICAgdGV4dEVsZW1lbnQuc2VuZEtleXMoJ1RFWFQnKTtcbiAqICAgICAgICBleHBlY3QoZWxlbWVudChieS5iaW5kaW5nKCd0aXRsZScpKS5nZXRUZXh0KCkpLnRvRXF1YWwoJ1RJVExFJyk7XG4gKiAgICAgICAgZXhwZWN0KGVsZW1lbnQoYnkuYmluZGluZygndGV4dCcpKS5nZXRUZXh0KCkpLnRvRXF1YWwoJ1RFWFQnKTtcbiAqICAgICAgfSk7XG4gKiAgIDwvZmlsZT5cbiAqIDwvZXhhbXBsZT5cbiAqXG4gKiBAZXhhbXBsZVxuICogIyMjIFRyYW5zY2x1ZGUgZmFsbGJhY2sgY29udGVudFxuICogVGhpcyBleGFtcGxlIHNob3dzIGhvdyB0byB1c2UgYE5nVHJhbnNjbHVkZWAgd2l0aCBmYWxsYmFjayBjb250ZW50LCB0aGF0XG4gKiBpcyBkaXNwbGF5ZWQgaWYgbm8gdHJhbnNjbHVkZWQgY29udGVudCBpcyBwcm92aWRlZC5cbiAqXG4gKiA8ZXhhbXBsZSBtb2R1bGU9XCJ0cmFuc2NsdWRlRmFsbGJhY2tDb250ZW50RXhhbXBsZVwiIG5hbWU9XCJuZy10cmFuc2NsdWRlXCI+XG4gKiA8ZmlsZSBuYW1lPVwiaW5kZXguaHRtbFwiPlxuICogPHNjcmlwdD5cbiAqIGFuZ3VsYXIubW9kdWxlKCd0cmFuc2NsdWRlRmFsbGJhY2tDb250ZW50RXhhbXBsZScsIFtdKVxuICogLmRpcmVjdGl2ZSgnbXlCdXR0b24nLCBmdW5jdGlvbigpe1xuICogICAgICAgICAgICAgcmV0dXJuIHtcbiAqICAgICAgICAgICAgICAgcmVzdHJpY3Q6ICdFJyxcbiAqICAgICAgICAgICAgICAgdHJhbnNjbHVkZTogdHJ1ZSxcbiAqICAgICAgICAgICAgICAgc2NvcGU6IHRydWUsXG4gKiAgICAgICAgICAgICAgIHRlbXBsYXRlOiAnPGJ1dHRvbiBzdHlsZT1cImN1cnNvcjogcG9pbnRlcjtcIj4nICtcbiAqICAgICAgICAgICAgICAgICAgICAgICAgICAgJzxuZy10cmFuc2NsdWRlPicgK1xuICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICc8YiBzdHlsZT1cImNvbG9yOiByZWQ7XCI+QnV0dG9uMTwvYj4nICtcbiAqICAgICAgICAgICAgICAgICAgICAgICAgICAgJzwvbmctdHJhbnNjbHVkZT4nICtcbiAqICAgICAgICAgICAgICAgICAgICAgICAgICc8L2J1dHRvbj4nXG4gKiAgICAgICAgICAgICB9O1xuICogICAgICAgICB9KTtcbiAqIDwvc2NyaXB0PlxuICogPCEtLSBmYWxsYmFjayBidXR0b24gY29udGVudCAtLT5cbiAqIDxteS1idXR0b24gaWQ9XCJmYWxsYmFja1wiPjwvbXktYnV0dG9uPlxuICogPCEtLSBtb2RpZmllZCBidXR0b24gY29udGVudCAtLT5cbiAqIDxteS1idXR0b24gaWQ9XCJtb2RpZmllZFwiPlxuICogICA8aSBzdHlsZT1cImNvbG9yOiBncmVlbjtcIj5CdXR0b24yPC9pPlxuICogPC9teS1idXR0b24+XG4gKiA8L2ZpbGU+XG4gKiA8ZmlsZSBuYW1lPVwicHJvdHJhY3Rvci5qc1wiIHR5cGU9XCJwcm90cmFjdG9yXCI+XG4gKiBpdCgnc2hvdWxkIGhhdmUgZGlmZmVyZW50IHRyYW5zY2x1ZGUgZWxlbWVudCBjb250ZW50JywgZnVuY3Rpb24oKSB7XG4gKiAgICAgICAgICBleHBlY3QoZWxlbWVudChieS5pZCgnZmFsbGJhY2snKSkuZ2V0VGV4dCgpKS50b0JlKCdCdXR0b24xJyk7XG4gKiAgICAgICAgICBleHBlY3QoZWxlbWVudChieS5pZCgnbW9kaWZpZWQnKSkuZ2V0VGV4dCgpKS50b0JlKCdCdXR0b24yJyk7XG4gKiAgICAgICAgfSk7XG4gKiA8L2ZpbGU+XG4gKiA8L2V4YW1wbGU+XG4gKlxuICogQGV4YW1wbGVcbiAqICMjIyBNdWx0aS1zbG90IHRyYW5zY2x1c2lvblxuICogVGhpcyBleGFtcGxlIGRlbW9uc3RyYXRlcyB1c2luZyBtdWx0aS1zbG90IHRyYW5zY2x1c2lvbiBpbiBhIGNvbXBvbmVudCBkaXJlY3RpdmUuXG4gKiA8ZXhhbXBsZSBuYW1lPVwibXVsdGlTbG90VHJhbnNjbHVkZUV4YW1wbGVcIiBtb2R1bGU9XCJtdWx0aVNsb3RUcmFuc2NsdWRlRXhhbXBsZVwiPlxuICogICA8ZmlsZSBuYW1lPVwiaW5kZXguaHRtbFwiPlxuICogICAgPHN0eWxlPlxuICogICAgICAudGl0bGUsIC5mb290ZXIge1xuICogICAgICAgIGJhY2tncm91bmQtY29sb3I6IGdyYXlcbiAqICAgICAgfVxuICogICAgPC9zdHlsZT5cbiAqICAgIDxkaXYgbmctY29udHJvbGxlcj1cIkV4YW1wbGVDb250cm9sbGVyXCI+XG4gKiAgICAgIDxpbnB1dCBuZy1tb2RlbD1cInRpdGxlXCIgYXJpYS1sYWJlbD1cInRpdGxlXCI+IDxici8+XG4gKiAgICAgIDx0ZXh0YXJlYSBuZy1tb2RlbD1cInRleHRcIiBhcmlhLWxhYmVsPVwidGV4dFwiPjwvdGV4dGFyZWE+IDxici8+XG4gKiAgICAgIDxwYW5lPlxuICogICAgICAgIDxwYW5lLXRpdGxlPjxhIG5nLWhyZWY9XCJ7e2xpbmt9fVwiPnt7dGl0bGV9fTwvYT48L3BhbmUtdGl0bGU+XG4gKiAgICAgICAgPHBhbmUtYm9keT48cD57e3RleHR9fTwvcD48L3BhbmUtYm9keT5cbiAqICAgICAgPC9wYW5lPlxuICogICAgPC9kaXY+XG4gKiAgIDwvZmlsZT5cbiAqICAgPGZpbGUgbmFtZT1cImFwcC5qc1wiPlxuICogICAgYW5ndWxhci5tb2R1bGUoJ211bHRpU2xvdFRyYW5zY2x1ZGVFeGFtcGxlJywgW10pXG4gKiAgICAgLmRpcmVjdGl2ZSgncGFuZScsIGZ1bmN0aW9uKCkge1xuICogICAgICAgIHJldHVybiB7XG4gKiAgICAgICAgICByZXN0cmljdDogJ0UnLFxuICogICAgICAgICAgdHJhbnNjbHVkZToge1xuICogICAgICAgICAgICAndGl0bGUnOiAnP3BhbmVUaXRsZScsXG4gKiAgICAgICAgICAgICdib2R5JzogJ3BhbmVCb2R5JyxcbiAqICAgICAgICAgICAgJ2Zvb3Rlcic6ICc/cGFuZUZvb3RlcidcbiAqICAgICAgICAgIH0sXG4gKiAgICAgICAgICB0ZW1wbGF0ZTogJzxkaXYgc3R5bGU9XCJib3JkZXI6IDFweCBzb2xpZCBibGFjaztcIj4nICtcbiAqICAgICAgICAgICAgICAgICAgICAgICc8ZGl2IGNsYXNzPVwidGl0bGVcIiBuZy10cmFuc2NsdWRlPVwidGl0bGVcIj5GYWxsYmFjayBUaXRsZTwvZGl2PicgK1xuICogICAgICAgICAgICAgICAgICAgICAgJzxkaXYgbmctdHJhbnNjbHVkZT1cImJvZHlcIj48L2Rpdj4nICtcbiAqICAgICAgICAgICAgICAgICAgICAgICc8ZGl2IGNsYXNzPVwiZm9vdGVyXCIgbmctdHJhbnNjbHVkZT1cImZvb3RlclwiPkZhbGxiYWNrIEZvb3RlcjwvZGl2PicgK1xuICogICAgICAgICAgICAgICAgICAgICc8L2Rpdj4nXG4gKiAgICAgICAgfTtcbiAqICAgIH0pXG4gKiAgICAuY29udHJvbGxlcignRXhhbXBsZUNvbnRyb2xsZXInLCBbJyRzY29wZScsIGZ1bmN0aW9uKCRzY29wZSkge1xuICogICAgICAkc2NvcGUudGl0bGUgPSAnTG9yZW0gSXBzdW0nO1xuICogICAgICAkc2NvcGUubGluayA9ICdodHRwczovL2dvb2dsZS5jb20nO1xuICogICAgICAkc2NvcGUudGV4dCA9ICdOZXF1ZSBwb3JybyBxdWlzcXVhbSBlc3QgcXVpIGRvbG9yZW0gaXBzdW0gcXVpYSBkb2xvci4uLic7XG4gKiAgICB9XSk7XG4gKiAgIDwvZmlsZT5cbiAqICAgPGZpbGUgbmFtZT1cInByb3RyYWN0b3IuanNcIiB0eXBlPVwicHJvdHJhY3RvclwiPlxuICogICAgICBpdCgnc2hvdWxkIGhhdmUgdHJhbnNjbHVkZWQgdGhlIHRpdGxlIGFuZCB0aGUgYm9keScsIGZ1bmN0aW9uKCkge1xuICogICAgICAgIHZhciB0aXRsZUVsZW1lbnQgPSBlbGVtZW50KGJ5Lm1vZGVsKCd0aXRsZScpKTtcbiAqICAgICAgICB0aXRsZUVsZW1lbnQuY2xlYXIoKTtcbiAqICAgICAgICB0aXRsZUVsZW1lbnQuc2VuZEtleXMoJ1RJVExFJyk7XG4gKiAgICAgICAgdmFyIHRleHRFbGVtZW50ID0gZWxlbWVudChieS5tb2RlbCgndGV4dCcpKTtcbiAqICAgICAgICB0ZXh0RWxlbWVudC5jbGVhcigpO1xuICogICAgICAgIHRleHRFbGVtZW50LnNlbmRLZXlzKCdURVhUJyk7XG4gKiAgICAgICAgZXhwZWN0KGVsZW1lbnQoYnkuY3NzKCcudGl0bGUnKSkuZ2V0VGV4dCgpKS50b0VxdWFsKCdUSVRMRScpO1xuICogICAgICAgIGV4cGVjdChlbGVtZW50KGJ5LmJpbmRpbmcoJ3RleHQnKSkuZ2V0VGV4dCgpKS50b0VxdWFsKCdURVhUJyk7XG4gKiAgICAgICAgZXhwZWN0KGVsZW1lbnQoYnkuY3NzKCcuZm9vdGVyJykpLmdldFRleHQoKSkudG9FcXVhbCgnRmFsbGJhY2sgRm9vdGVyJyk7XG4gKiAgICAgIH0pO1xuICogICA8L2ZpbGU+XG4gKiA8L2V4YW1wbGU+XG4gKi9cbnZhciBuZ1RyYW5zY2x1ZGVNaW5FcnIgPSBtaW5FcnIoJ25nVHJhbnNjbHVkZScpO1xudmFyIG5nVHJhbnNjbHVkZURpcmVjdGl2ZSA9IFsnJGNvbXBpbGUnLCBmdW5jdGlvbigkY29tcGlsZSkge1xuICByZXR1cm4ge1xuICAgIHJlc3RyaWN0OiAnRUFDJyxcbiAgICB0ZXJtaW5hbDogdHJ1ZSxcbiAgICBjb21waWxlOiBmdW5jdGlvbiBuZ1RyYW5zY2x1ZGVDb21waWxlKHRFbGVtZW50KSB7XG5cbiAgICAgIC8vIFJlbW92ZSBhbmQgY2FjaGUgYW55IG9yaWdpbmFsIGNvbnRlbnQgdG8gYWN0IGFzIGEgZmFsbGJhY2tcbiAgICAgIHZhciBmYWxsYmFja0xpbmtGbiA9ICRjb21waWxlKHRFbGVtZW50LmNvbnRlbnRzKCkpO1xuICAgICAgdEVsZW1lbnQuZW1wdHkoKTtcblxuICAgICAgcmV0dXJuIGZ1bmN0aW9uIG5nVHJhbnNjbHVkZVBvc3RMaW5rKCRzY29wZSwgJGVsZW1lbnQsICRhdHRycywgY29udHJvbGxlciwgJHRyYW5zY2x1ZGUpIHtcblxuICAgICAgICBpZiAoISR0cmFuc2NsdWRlKSB7XG4gICAgICAgICAgdGhyb3cgbmdUcmFuc2NsdWRlTWluRXJyKCdvcnBoYW4nLFxuICAgICAgICAgICdJbGxlZ2FsIHVzZSBvZiBuZ1RyYW5zY2x1ZGUgZGlyZWN0aXZlIGluIHRoZSB0ZW1wbGF0ZSEgJyArXG4gICAgICAgICAgJ05vIHBhcmVudCBkaXJlY3RpdmUgdGhhdCByZXF1aXJlcyBhIHRyYW5zY2x1c2lvbiBmb3VuZC4gJyArXG4gICAgICAgICAgJ0VsZW1lbnQ6IHswfScsXG4gICAgICAgICAgc3RhcnRpbmdUYWcoJGVsZW1lbnQpKTtcbiAgICAgICAgfVxuXG5cbiAgICAgICAgLy8gSWYgdGhlIGF0dHJpYnV0ZSBpcyBvZiB0aGUgZm9ybTogYG5nLXRyYW5zY2x1ZGU9XCJuZy10cmFuc2NsdWRlXCJgIHRoZW4gdHJlYXQgaXQgbGlrZSB0aGUgZGVmYXVsdFxuICAgICAgICBpZiAoJGF0dHJzLm5nVHJhbnNjbHVkZSA9PT0gJGF0dHJzLiRhdHRyLm5nVHJhbnNjbHVkZSkge1xuICAgICAgICAgICRhdHRycy5uZ1RyYW5zY2x1ZGUgPSAnJztcbiAgICAgICAgfVxuICAgICAgICB2YXIgc2xvdE5hbWUgPSAkYXR0cnMubmdUcmFuc2NsdWRlIHx8ICRhdHRycy5uZ1RyYW5zY2x1ZGVTbG90O1xuXG4gICAgICAgIC8vIElmIHRoZSBzbG90IGlzIHJlcXVpcmVkIGFuZCBubyB0cmFuc2NsdXNpb24gY29udGVudCBpcyBwcm92aWRlZCB0aGVuIHRoaXMgY2FsbCB3aWxsIHRocm93IGFuIGVycm9yXG4gICAgICAgICR0cmFuc2NsdWRlKG5nVHJhbnNjbHVkZUNsb25lQXR0YWNoRm4sIG51bGwsIHNsb3ROYW1lKTtcblxuICAgICAgICAvLyBJZiB0aGUgc2xvdCBpcyBvcHRpb25hbCBhbmQgbm8gdHJhbnNjbHVzaW9uIGNvbnRlbnQgaXMgcHJvdmlkZWQgdGhlbiB1c2UgdGhlIGZhbGxiYWNrIGNvbnRlbnRcbiAgICAgICAgaWYgKHNsb3ROYW1lICYmICEkdHJhbnNjbHVkZS5pc1Nsb3RGaWxsZWQoc2xvdE5hbWUpKSB7XG4gICAgICAgICAgdXNlRmFsbGJhY2tDb250ZW50KCk7XG4gICAgICAgIH1cblxuICAgICAgICBmdW5jdGlvbiBuZ1RyYW5zY2x1ZGVDbG9uZUF0dGFjaEZuKGNsb25lLCB0cmFuc2NsdWRlZFNjb3BlKSB7XG4gICAgICAgICAgaWYgKGNsb25lLmxlbmd0aCAmJiBub3RXaGl0ZXNwYWNlKGNsb25lKSkge1xuICAgICAgICAgICAgJGVsZW1lbnQuYXBwZW5kKGNsb25lKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdXNlRmFsbGJhY2tDb250ZW50KCk7XG4gICAgICAgICAgICAvLyBUaGVyZSBpcyBub3RoaW5nIGxpbmtlZCBhZ2FpbnN0IHRoZSB0cmFuc2NsdWRlZCBzY29wZSBzaW5jZSBubyBjb250ZW50IHdhcyBhdmFpbGFibGUsXG4gICAgICAgICAgICAvLyBzbyBpdCBzaG91bGQgYmUgc2FmZSB0byBjbGVhbiB1cCB0aGUgZ2VuZXJhdGVkIHNjb3BlLlxuICAgICAgICAgICAgdHJhbnNjbHVkZWRTY29wZS4kZGVzdHJveSgpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGZ1bmN0aW9uIHVzZUZhbGxiYWNrQ29udGVudCgpIHtcbiAgICAgICAgICAvLyBTaW5jZSB0aGlzIGlzIHRoZSBmYWxsYmFjayBjb250ZW50IHJhdGhlciB0aGFuIHRoZSB0cmFuc2NsdWRlZCBjb250ZW50LFxuICAgICAgICAgIC8vIHdlIGxpbmsgYWdhaW5zdCB0aGUgc2NvcGUgb2YgdGhpcyBkaXJlY3RpdmUgcmF0aGVyIHRoYW4gdGhlIHRyYW5zY2x1ZGVkIHNjb3BlXG4gICAgICAgICAgZmFsbGJhY2tMaW5rRm4oJHNjb3BlLCBmdW5jdGlvbihjbG9uZSkge1xuICAgICAgICAgICAgJGVsZW1lbnQuYXBwZW5kKGNsb25lKTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIGZ1bmN0aW9uIG5vdFdoaXRlc3BhY2Uobm9kZXMpIHtcbiAgICAgICAgICBmb3IgKHZhciBpID0gMCwgaWkgPSBub2Rlcy5sZW5ndGg7IGkgPCBpaTsgaSsrKSB7XG4gICAgICAgICAgICB2YXIgbm9kZSA9IG5vZGVzW2ldO1xuICAgICAgICAgICAgaWYgKG5vZGUubm9kZVR5cGUgIT09IE5PREVfVFlQRV9URVhUIHx8IG5vZGUubm9kZVZhbHVlLnRyaW0oKSkge1xuICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH07XG4gICAgfVxuICB9O1xufV07XG5cbi8qKlxuICogQG5nZG9jIGRpcmVjdGl2ZVxuICogQG5hbWUgc2NyaXB0XG4gKiBAcmVzdHJpY3QgRVxuICpcbiAqIEBkZXNjcmlwdGlvblxuICogTG9hZCB0aGUgY29udGVudCBvZiBhIGA8c2NyaXB0PmAgZWxlbWVudCBpbnRvIHtAbGluayBuZy4kdGVtcGxhdGVDYWNoZSBgJHRlbXBsYXRlQ2FjaGVgfSwgc28gdGhhdCB0aGVcbiAqIHRlbXBsYXRlIGNhbiBiZSB1c2VkIGJ5IHtAbGluayBuZy5kaXJlY3RpdmU6bmdJbmNsdWRlIGBuZ0luY2x1ZGVgfSxcbiAqIHtAbGluayBuZ1JvdXRlLmRpcmVjdGl2ZTpuZ1ZpZXcgYG5nVmlld2B9LCBvciB7QGxpbmsgZ3VpZGUvZGlyZWN0aXZlIGRpcmVjdGl2ZXN9LiBUaGUgdHlwZSBvZiB0aGVcbiAqIGA8c2NyaXB0PmAgZWxlbWVudCBtdXN0IGJlIHNwZWNpZmllZCBhcyBgdGV4dC9uZy10ZW1wbGF0ZWAsIGFuZCBhIGNhY2hlIG5hbWUgZm9yIHRoZSB0ZW1wbGF0ZSBtdXN0IGJlXG4gKiBhc3NpZ25lZCB0aHJvdWdoIHRoZSBlbGVtZW50J3MgYGlkYCwgd2hpY2ggY2FuIHRoZW4gYmUgdXNlZCBhcyBhIGRpcmVjdGl2ZSdzIGB0ZW1wbGF0ZVVybGAuXG4gKlxuICogQHBhcmFtIHtzdHJpbmd9IHR5cGUgTXVzdCBiZSBzZXQgdG8gYCd0ZXh0L25nLXRlbXBsYXRlJ2AuXG4gKiBAcGFyYW0ge3N0cmluZ30gaWQgQ2FjaGUgbmFtZSBvZiB0aGUgdGVtcGxhdGUuXG4gKlxuICogQGV4YW1wbGVcbiAgPGV4YW1wbGUgIG5hbWU9XCJzY3JpcHQtdGFnXCI+XG4gICAgPGZpbGUgbmFtZT1cImluZGV4Lmh0bWxcIj5cbiAgICAgIDxzY3JpcHQgdHlwZT1cInRleHQvbmctdGVtcGxhdGVcIiBpZD1cIi90cGwuaHRtbFwiPlxuICAgICAgICBDb250ZW50IG9mIHRoZSB0ZW1wbGF0ZS5cbiAgICAgIDwvc2NyaXB0PlxuXG4gICAgICA8YSBuZy1jbGljaz1cImN1cnJlbnRUcGw9Jy90cGwuaHRtbCdcIiBpZD1cInRwbC1saW5rXCI+TG9hZCBpbmxpbmVkIHRlbXBsYXRlPC9hPlxuICAgICAgPGRpdiBpZD1cInRwbC1jb250ZW50XCIgbmctaW5jbHVkZSBzcmM9XCJjdXJyZW50VHBsXCI+PC9kaXY+XG4gICAgPC9maWxlPlxuICAgIDxmaWxlIG5hbWU9XCJwcm90cmFjdG9yLmpzXCIgdHlwZT1cInByb3RyYWN0b3JcIj5cbiAgICAgIGl0KCdzaG91bGQgbG9hZCB0ZW1wbGF0ZSBkZWZpbmVkIGluc2lkZSBzY3JpcHQgdGFnJywgZnVuY3Rpb24oKSB7XG4gICAgICAgIGVsZW1lbnQoYnkuY3NzKCcjdHBsLWxpbmsnKSkuY2xpY2soKTtcbiAgICAgICAgZXhwZWN0KGVsZW1lbnQoYnkuY3NzKCcjdHBsLWNvbnRlbnQnKSkuZ2V0VGV4dCgpKS50b01hdGNoKC9Db250ZW50IG9mIHRoZSB0ZW1wbGF0ZS8pO1xuICAgICAgfSk7XG4gICAgPC9maWxlPlxuICA8L2V4YW1wbGU+XG4gKi9cbnZhciBzY3JpcHREaXJlY3RpdmUgPSBbJyR0ZW1wbGF0ZUNhY2hlJywgZnVuY3Rpb24oJHRlbXBsYXRlQ2FjaGUpIHtcbiAgcmV0dXJuIHtcbiAgICByZXN0cmljdDogJ0UnLFxuICAgIHRlcm1pbmFsOiB0cnVlLFxuICAgIGNvbXBpbGU6IGZ1bmN0aW9uKGVsZW1lbnQsIGF0dHIpIHtcbiAgICAgIGlmIChhdHRyLnR5cGUgPT09ICd0ZXh0L25nLXRlbXBsYXRlJykge1xuICAgICAgICB2YXIgdGVtcGxhdGVVcmwgPSBhdHRyLmlkLFxuICAgICAgICAgICAgdGV4dCA9IGVsZW1lbnRbMF0udGV4dDtcblxuICAgICAgICAkdGVtcGxhdGVDYWNoZS5wdXQodGVtcGxhdGVVcmwsIHRleHQpO1xuICAgICAgfVxuICAgIH1cbiAgfTtcbn1dO1xuXG4vKiBleHBvcnRlZCBzZWxlY3REaXJlY3RpdmUsIG9wdGlvbkRpcmVjdGl2ZSAqL1xuXG52YXIgbm9vcE5nTW9kZWxDb250cm9sbGVyID0geyAkc2V0Vmlld1ZhbHVlOiBub29wLCAkcmVuZGVyOiBub29wIH07XG5cbmZ1bmN0aW9uIHNldE9wdGlvblNlbGVjdGVkU3RhdHVzKG9wdGlvbkVsLCB2YWx1ZSkge1xuICBvcHRpb25FbC5wcm9wKCdzZWxlY3RlZCcsIHZhbHVlKTsgLy8gbmVlZGVkIGZvciBJRVxuICAvKipcbiAgICogV2hlbiB1bnNlbGVjdGluZyBhbiBvcHRpb24sIHNldHRpbmcgdGhlIHByb3BlcnR5IHRvIG51bGwgLyBmYWxzZSBzaG91bGQgYmUgZW5vdWdoXG4gICAqIEhvd2V2ZXIsIHNjcmVlbnJlYWRlcnMgbWlnaHQgcmVhY3QgdG8gdGhlIHNlbGVjdGVkIGF0dHJpYnV0ZSBpbnN0ZWFkLCBzZWVcbiAgICogaHR0cHM6Ly9naXRodWIuY29tL2FuZ3VsYXIvYW5ndWxhci5qcy9pc3N1ZXMvMTQ0MTlcbiAgICogTm90ZTogXCJzZWxlY3RlZFwiIGlzIGEgYm9vbGVhbiBhdHRyIGFuZCB3aWxsIGJlIHJlbW92ZWQgd2hlbiB0aGUgXCJ2YWx1ZVwiIGFyZyBpbiBhdHRyKCkgaXMgZmFsc2VcbiAgICogb3IgbnVsbFxuICAgKi9cbiAgb3B0aW9uRWwuYXR0cignc2VsZWN0ZWQnLCB2YWx1ZSk7XG59XG5cbi8qKlxuICogQG5nZG9jIHR5cGVcbiAqIEBuYW1lICBzZWxlY3QuU2VsZWN0Q29udHJvbGxlclxuICogQGRlc2NyaXB0aW9uXG4gKiBUaGUgY29udHJvbGxlciBmb3IgdGhlIGA8c2VsZWN0PmAgZGlyZWN0aXZlLiBUaGlzIHByb3ZpZGVzIHN1cHBvcnQgZm9yIHJlYWRpbmdcbiAqIGFuZCB3cml0aW5nIHRoZSBzZWxlY3RlZCB2YWx1ZShzKSBvZiB0aGUgY29udHJvbCBhbmQgYWxzbyBjb29yZGluYXRlcyBkeW5hbWljYWxseVxuICogYWRkZWQgYDxvcHRpb24+YCBlbGVtZW50cywgcGVyaGFwcyBieSBhbiBgbmdSZXBlYXRgIGRpcmVjdGl2ZS5cbiAqL1xudmFyIFNlbGVjdENvbnRyb2xsZXIgPVxuICAgICAgICBbJyRlbGVtZW50JywgJyRzY29wZScsIC8qKiBAdGhpcyAqLyBmdW5jdGlvbigkZWxlbWVudCwgJHNjb3BlKSB7XG5cbiAgdmFyIHNlbGYgPSB0aGlzLFxuICAgICAgb3B0aW9uc01hcCA9IG5ldyBOZ01hcCgpO1xuXG4gIHNlbGYuc2VsZWN0VmFsdWVNYXAgPSB7fTsgLy8gS2V5cyBhcmUgdGhlIGhhc2hlZCB2YWx1ZXMsIHZhbHVlcyB0aGUgb3JpZ2luYWwgdmFsdWVzXG5cbiAgLy8gSWYgdGhlIG5nTW9kZWwgZG9lc24ndCBnZXQgcHJvdmlkZWQgdGhlbiBwcm92aWRlIGEgZHVtbXkgbm9vcCB2ZXJzaW9uIHRvIHByZXZlbnQgZXJyb3JzXG4gIHNlbGYubmdNb2RlbEN0cmwgPSBub29wTmdNb2RlbENvbnRyb2xsZXI7XG4gIHNlbGYubXVsdGlwbGUgPSBmYWxzZTtcblxuICAvLyBUaGUgXCJ1bmtub3duXCIgb3B0aW9uIGlzIG9uZSB0aGF0IGlzIHByZXBlbmRlZCB0byB0aGUgbGlzdCBpZiB0aGUgdmlld1ZhbHVlXG4gIC8vIGRvZXMgbm90IG1hdGNoIGFueSBvZiB0aGUgb3B0aW9ucy4gV2hlbiBpdCBpcyByZW5kZXJlZCB0aGUgdmFsdWUgb2YgdGhlIHVua25vd25cbiAgLy8gb3B0aW9uIGlzICc/IFhYWCA/JyB3aGVyZSBYWFggaXMgdGhlIGhhc2hLZXkgb2YgdGhlIHZhbHVlIHRoYXQgaXMgbm90IGtub3duLlxuICAvL1xuICAvLyBXZSBjYW4ndCBqdXN0IGpxTGl0ZSgnPG9wdGlvbj4nKSBzaW5jZSBqcUxpdGUgaXMgbm90IHNtYXJ0IGVub3VnaFxuICAvLyB0byBjcmVhdGUgaXQgaW4gPHNlbGVjdD4gYW5kIElFIGJhcmZzIG90aGVyd2lzZS5cbiAgc2VsZi51bmtub3duT3B0aW9uID0ganFMaXRlKHdpbmRvdy5kb2N1bWVudC5jcmVhdGVFbGVtZW50KCdvcHRpb24nKSk7XG5cbiAgLy8gVGhlIGVtcHR5IG9wdGlvbiBpcyBhbiBvcHRpb24gd2l0aCB0aGUgdmFsdWUgJycgdGhhdCB0ZSBhcHBsaWNhdGlvbiBkZXZlbG9wZXIgY2FuXG4gIC8vIHByb3ZpZGUgaW5zaWRlIHRoZSBzZWxlY3QuIFdoZW4gdGhlIG1vZGVsIGNoYW5nZXMgdG8gYSB2YWx1ZSB0aGF0IGRvZXNuJ3QgbWF0Y2ggYW4gb3B0aW9uLFxuICAvLyBpdCBpcyBzZWxlY3RlZCAtIHNvIGlmIGFuIGVtcHR5IG9wdGlvbiBpcyBwcm92aWRlZCwgbm8gdW5rbm93biBvcHRpb24gaXMgZ2VuZXJhdGVkLlxuICAvLyBIb3dldmVyLCB0aGUgZW1wdHkgb3B0aW9uIGlzIG5vdCByZW1vdmVkIHdoZW4gdGhlIG1vZGVsIG1hdGNoZXMgYW4gb3B0aW9uLiBJdCBpcyBhbHdheXMgc2VsZWN0YWJsZVxuICAvLyBhbmQgaW5kaWNhdGVzIHRoYXQgYSBcIm51bGxcIiBzZWxlY3Rpb24gaGFzIGJlZW4gbWFkZS5cbiAgc2VsZi5oYXNFbXB0eU9wdGlvbiA9IGZhbHNlO1xuICBzZWxmLmVtcHR5T3B0aW9uID0gdW5kZWZpbmVkO1xuXG4gIHNlbGYucmVuZGVyVW5rbm93bk9wdGlvbiA9IGZ1bmN0aW9uKHZhbCkge1xuICAgIHZhciB1bmtub3duVmFsID0gc2VsZi5nZW5lcmF0ZVVua25vd25PcHRpb25WYWx1ZSh2YWwpO1xuICAgIHNlbGYudW5rbm93bk9wdGlvbi52YWwodW5rbm93blZhbCk7XG4gICAgJGVsZW1lbnQucHJlcGVuZChzZWxmLnVua25vd25PcHRpb24pO1xuICAgIHNldE9wdGlvblNlbGVjdGVkU3RhdHVzKHNlbGYudW5rbm93bk9wdGlvbiwgdHJ1ZSk7XG4gICAgJGVsZW1lbnQudmFsKHVua25vd25WYWwpO1xuICB9O1xuXG4gIHNlbGYudXBkYXRlVW5rbm93bk9wdGlvbiA9IGZ1bmN0aW9uKHZhbCkge1xuICAgIHZhciB1bmtub3duVmFsID0gc2VsZi5nZW5lcmF0ZVVua25vd25PcHRpb25WYWx1ZSh2YWwpO1xuICAgIHNlbGYudW5rbm93bk9wdGlvbi52YWwodW5rbm93blZhbCk7XG4gICAgc2V0T3B0aW9uU2VsZWN0ZWRTdGF0dXMoc2VsZi51bmtub3duT3B0aW9uLCB0cnVlKTtcbiAgICAkZWxlbWVudC52YWwodW5rbm93blZhbCk7XG4gIH07XG5cbiAgc2VsZi5nZW5lcmF0ZVVua25vd25PcHRpb25WYWx1ZSA9IGZ1bmN0aW9uKHZhbCkge1xuICAgIHJldHVybiAnPyAnICsgaGFzaEtleSh2YWwpICsgJyA/JztcbiAgfTtcblxuICBzZWxmLnJlbW92ZVVua25vd25PcHRpb24gPSBmdW5jdGlvbigpIHtcbiAgICBpZiAoc2VsZi51bmtub3duT3B0aW9uLnBhcmVudCgpKSBzZWxmLnVua25vd25PcHRpb24ucmVtb3ZlKCk7XG4gIH07XG5cbiAgc2VsZi5zZWxlY3RFbXB0eU9wdGlvbiA9IGZ1bmN0aW9uKCkge1xuICAgIGlmIChzZWxmLmVtcHR5T3B0aW9uKSB7XG4gICAgICAkZWxlbWVudC52YWwoJycpO1xuICAgICAgc2V0T3B0aW9uU2VsZWN0ZWRTdGF0dXMoc2VsZi5lbXB0eU9wdGlvbiwgdHJ1ZSk7XG4gICAgfVxuICB9O1xuXG4gIHNlbGYudW5zZWxlY3RFbXB0eU9wdGlvbiA9IGZ1bmN0aW9uKCkge1xuICAgIGlmIChzZWxmLmhhc0VtcHR5T3B0aW9uKSB7XG4gICAgICBzZWxmLmVtcHR5T3B0aW9uLnJlbW92ZUF0dHIoJ3NlbGVjdGVkJyk7XG4gICAgfVxuICB9O1xuXG4gICRzY29wZS4kb24oJyRkZXN0cm95JywgZnVuY3Rpb24oKSB7XG4gICAgLy8gZGlzYWJsZSB1bmtub3duIG9wdGlvbiBzbyB0aGF0IHdlIGRvbid0IGRvIHdvcmsgd2hlbiB0aGUgd2hvbGUgc2VsZWN0IGlzIGJlaW5nIGRlc3Ryb3llZFxuICAgIHNlbGYucmVuZGVyVW5rbm93bk9wdGlvbiA9IG5vb3A7XG4gIH0pO1xuXG4gIC8vIFJlYWQgdGhlIHZhbHVlIG9mIHRoZSBzZWxlY3QgY29udHJvbCwgdGhlIGltcGxlbWVudGF0aW9uIG9mIHRoaXMgY2hhbmdlcyBkZXBlbmRpbmdcbiAgLy8gdXBvbiB3aGV0aGVyIHRoZSBzZWxlY3QgY2FuIGhhdmUgbXVsdGlwbGUgdmFsdWVzIGFuZCB3aGV0aGVyIG5nT3B0aW9ucyBpcyBhdCB3b3JrLlxuICBzZWxmLnJlYWRWYWx1ZSA9IGZ1bmN0aW9uIHJlYWRTaW5nbGVWYWx1ZSgpIHtcbiAgICB2YXIgdmFsID0gJGVsZW1lbnQudmFsKCk7XG4gICAgLy8gbmdWYWx1ZSBhZGRlZCBvcHRpb24gdmFsdWVzIGFyZSBzdG9yZWQgaW4gdGhlIHNlbGVjdFZhbHVlTWFwLCBub3JtYWwgaW50ZXJwb2xhdGlvbnMgYXJlIG5vdFxuICAgIHZhciByZWFsVmFsID0gdmFsIGluIHNlbGYuc2VsZWN0VmFsdWVNYXAgPyBzZWxmLnNlbGVjdFZhbHVlTWFwW3ZhbF0gOiB2YWw7XG5cbiAgICBpZiAoc2VsZi5oYXNPcHRpb24ocmVhbFZhbCkpIHtcbiAgICAgIHJldHVybiByZWFsVmFsO1xuICAgIH1cblxuICAgIHJldHVybiBudWxsO1xuICB9O1xuXG5cbiAgLy8gV3JpdGUgdGhlIHZhbHVlIHRvIHRoZSBzZWxlY3QgY29udHJvbCwgdGhlIGltcGxlbWVudGF0aW9uIG9mIHRoaXMgY2hhbmdlcyBkZXBlbmRpbmdcbiAgLy8gdXBvbiB3aGV0aGVyIHRoZSBzZWxlY3QgY2FuIGhhdmUgbXVsdGlwbGUgdmFsdWVzIGFuZCB3aGV0aGVyIG5nT3B0aW9ucyBpcyBhdCB3b3JrLlxuICBzZWxmLndyaXRlVmFsdWUgPSBmdW5jdGlvbiB3cml0ZVNpbmdsZVZhbHVlKHZhbHVlKSB7XG4gICAgLy8gTWFrZSBzdXJlIHRvIHJlbW92ZSB0aGUgc2VsZWN0ZWQgYXR0cmlidXRlIGZyb20gdGhlIHByZXZpb3VzbHkgc2VsZWN0ZWQgb3B0aW9uXG4gICAgLy8gT3RoZXJ3aXNlLCBzY3JlZW4gcmVhZGVycyBtaWdodCBnZXQgY29uZnVzZWRcbiAgICB2YXIgY3VycmVudGx5U2VsZWN0ZWRPcHRpb24gPSAkZWxlbWVudFswXS5vcHRpb25zWyRlbGVtZW50WzBdLnNlbGVjdGVkSW5kZXhdO1xuICAgIGlmIChjdXJyZW50bHlTZWxlY3RlZE9wdGlvbikgc2V0T3B0aW9uU2VsZWN0ZWRTdGF0dXMoanFMaXRlKGN1cnJlbnRseVNlbGVjdGVkT3B0aW9uKSwgZmFsc2UpO1xuXG4gICAgaWYgKHNlbGYuaGFzT3B0aW9uKHZhbHVlKSkge1xuICAgICAgc2VsZi5yZW1vdmVVbmtub3duT3B0aW9uKCk7XG5cbiAgICAgIHZhciBoYXNoZWRWYWwgPSBoYXNoS2V5KHZhbHVlKTtcbiAgICAgICRlbGVtZW50LnZhbChoYXNoZWRWYWwgaW4gc2VsZi5zZWxlY3RWYWx1ZU1hcCA/IGhhc2hlZFZhbCA6IHZhbHVlKTtcblxuICAgICAgLy8gU2V0IHNlbGVjdGVkIGF0dHJpYnV0ZSBhbmQgcHJvcGVydHkgb24gc2VsZWN0ZWQgb3B0aW9uIGZvciBzY3JlZW4gcmVhZGVyc1xuICAgICAgdmFyIHNlbGVjdGVkT3B0aW9uID0gJGVsZW1lbnRbMF0ub3B0aW9uc1skZWxlbWVudFswXS5zZWxlY3RlZEluZGV4XTtcbiAgICAgIHNldE9wdGlvblNlbGVjdGVkU3RhdHVzKGpxTGl0ZShzZWxlY3RlZE9wdGlvbiksIHRydWUpO1xuICAgIH0gZWxzZSB7XG4gICAgICBpZiAodmFsdWUgPT0gbnVsbCAmJiBzZWxmLmVtcHR5T3B0aW9uKSB7XG4gICAgICAgIHNlbGYucmVtb3ZlVW5rbm93bk9wdGlvbigpO1xuICAgICAgICBzZWxmLnNlbGVjdEVtcHR5T3B0aW9uKCk7XG4gICAgICB9IGVsc2UgaWYgKHNlbGYudW5rbm93bk9wdGlvbi5wYXJlbnQoKS5sZW5ndGgpIHtcbiAgICAgICAgc2VsZi51cGRhdGVVbmtub3duT3B0aW9uKHZhbHVlKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHNlbGYucmVuZGVyVW5rbm93bk9wdGlvbih2YWx1ZSk7XG4gICAgICB9XG4gICAgfVxuICB9O1xuXG5cbiAgLy8gVGVsbCB0aGUgc2VsZWN0IGNvbnRyb2wgdGhhdCBhbiBvcHRpb24sIHdpdGggdGhlIGdpdmVuIHZhbHVlLCBoYXMgYmVlbiBhZGRlZFxuICBzZWxmLmFkZE9wdGlvbiA9IGZ1bmN0aW9uKHZhbHVlLCBlbGVtZW50KSB7XG4gICAgLy8gU2tpcCBjb21tZW50IG5vZGVzLCBhcyB0aGV5IG9ubHkgcG9sbHV0ZSB0aGUgYG9wdGlvbnNNYXBgXG4gICAgaWYgKGVsZW1lbnRbMF0ubm9kZVR5cGUgPT09IE5PREVfVFlQRV9DT01NRU5UKSByZXR1cm47XG5cbiAgICBhc3NlcnROb3RIYXNPd25Qcm9wZXJ0eSh2YWx1ZSwgJ1wib3B0aW9uIHZhbHVlXCInKTtcbiAgICBpZiAodmFsdWUgPT09ICcnKSB7XG4gICAgICBzZWxmLmhhc0VtcHR5T3B0aW9uID0gdHJ1ZTtcbiAgICAgIHNlbGYuZW1wdHlPcHRpb24gPSBlbGVtZW50O1xuICAgIH1cbiAgICB2YXIgY291bnQgPSBvcHRpb25zTWFwLmdldCh2YWx1ZSkgfHwgMDtcbiAgICBvcHRpb25zTWFwLnNldCh2YWx1ZSwgY291bnQgKyAxKTtcbiAgICAvLyBPbmx5IHJlbmRlciBhdCB0aGUgZW5kIG9mIGEgZGlnZXN0LiBUaGlzIGltcHJvdmVzIHJlbmRlciBwZXJmb3JtYW5jZSB3aGVuIG1hbnkgb3B0aW9uc1xuICAgIC8vIGFyZSBhZGRlZCBkdXJpbmcgYSBkaWdlc3QgYW5kIGVuc3VyZXMgYWxsIHJlbGV2YW50IG9wdGlvbnMgYXJlIGNvcnJlY3RseSBtYXJrZWQgYXMgc2VsZWN0ZWRcbiAgICBzY2hlZHVsZVJlbmRlcigpO1xuICB9O1xuXG4gIC8vIFRlbGwgdGhlIHNlbGVjdCBjb250cm9sIHRoYXQgYW4gb3B0aW9uLCB3aXRoIHRoZSBnaXZlbiB2YWx1ZSwgaGFzIGJlZW4gcmVtb3ZlZFxuICBzZWxmLnJlbW92ZU9wdGlvbiA9IGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgdmFyIGNvdW50ID0gb3B0aW9uc01hcC5nZXQodmFsdWUpO1xuICAgIGlmIChjb3VudCkge1xuICAgICAgaWYgKGNvdW50ID09PSAxKSB7XG4gICAgICAgIG9wdGlvbnNNYXAuZGVsZXRlKHZhbHVlKTtcbiAgICAgICAgaWYgKHZhbHVlID09PSAnJykge1xuICAgICAgICAgIHNlbGYuaGFzRW1wdHlPcHRpb24gPSBmYWxzZTtcbiAgICAgICAgICBzZWxmLmVtcHR5T3B0aW9uID0gdW5kZWZpbmVkO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBvcHRpb25zTWFwLnNldCh2YWx1ZSwgY291bnQgLSAxKTtcbiAgICAgIH1cbiAgICB9XG4gIH07XG5cbiAgLy8gQ2hlY2sgd2hldGhlciB0aGUgc2VsZWN0IGNvbnRyb2wgaGFzIGFuIG9wdGlvbiBtYXRjaGluZyB0aGUgZ2l2ZW4gdmFsdWVcbiAgc2VsZi5oYXNPcHRpb24gPSBmdW5jdGlvbih2YWx1ZSkge1xuICAgIHJldHVybiAhIW9wdGlvbnNNYXAuZ2V0KHZhbHVlKTtcbiAgfTtcblxuXG4gIHZhciByZW5kZXJTY2hlZHVsZWQgPSBmYWxzZTtcbiAgZnVuY3Rpb24gc2NoZWR1bGVSZW5kZXIoKSB7XG4gICAgaWYgKHJlbmRlclNjaGVkdWxlZCkgcmV0dXJuO1xuICAgIHJlbmRlclNjaGVkdWxlZCA9IHRydWU7XG4gICAgJHNjb3BlLiQkcG9zdERpZ2VzdChmdW5jdGlvbigpIHtcbiAgICAgIHJlbmRlclNjaGVkdWxlZCA9IGZhbHNlO1xuICAgICAgc2VsZi5uZ01vZGVsQ3RybC4kcmVuZGVyKCk7XG4gICAgfSk7XG4gIH1cblxuICB2YXIgdXBkYXRlU2NoZWR1bGVkID0gZmFsc2U7XG4gIGZ1bmN0aW9uIHNjaGVkdWxlVmlld1ZhbHVlVXBkYXRlKHJlbmRlckFmdGVyKSB7XG4gICAgaWYgKHVwZGF0ZVNjaGVkdWxlZCkgcmV0dXJuO1xuXG4gICAgdXBkYXRlU2NoZWR1bGVkID0gdHJ1ZTtcblxuICAgICRzY29wZS4kJHBvc3REaWdlc3QoZnVuY3Rpb24oKSB7XG4gICAgICBpZiAoJHNjb3BlLiQkZGVzdHJveWVkKSByZXR1cm47XG5cbiAgICAgIHVwZGF0ZVNjaGVkdWxlZCA9IGZhbHNlO1xuICAgICAgc2VsZi5uZ01vZGVsQ3RybC4kc2V0Vmlld1ZhbHVlKHNlbGYucmVhZFZhbHVlKCkpO1xuICAgICAgaWYgKHJlbmRlckFmdGVyKSBzZWxmLm5nTW9kZWxDdHJsLiRyZW5kZXIoKTtcbiAgICB9KTtcbiAgfVxuXG5cbiAgc2VsZi5yZWdpc3Rlck9wdGlvbiA9IGZ1bmN0aW9uKG9wdGlvblNjb3BlLCBvcHRpb25FbGVtZW50LCBvcHRpb25BdHRycywgaW50ZXJwb2xhdGVWYWx1ZUZuLCBpbnRlcnBvbGF0ZVRleHRGbikge1xuXG4gICAgaWYgKG9wdGlvbkF0dHJzLiRhdHRyLm5nVmFsdWUpIHtcbiAgICAgIC8vIFRoZSB2YWx1ZSBhdHRyaWJ1dGUgaXMgc2V0IGJ5IG5nVmFsdWVcbiAgICAgIHZhciBvbGRWYWwsIGhhc2hlZFZhbCA9IE5hTjtcbiAgICAgIG9wdGlvbkF0dHJzLiRvYnNlcnZlKCd2YWx1ZScsIGZ1bmN0aW9uIHZhbHVlQXR0cmlidXRlT2JzZXJ2ZUFjdGlvbihuZXdWYWwpIHtcblxuICAgICAgICB2YXIgcmVtb3ZhbDtcbiAgICAgICAgdmFyIHByZXZpb3VzbHlTZWxlY3RlZCA9IG9wdGlvbkVsZW1lbnQucHJvcCgnc2VsZWN0ZWQnKTtcblxuICAgICAgICBpZiAoaXNEZWZpbmVkKGhhc2hlZFZhbCkpIHtcbiAgICAgICAgICBzZWxmLnJlbW92ZU9wdGlvbihvbGRWYWwpO1xuICAgICAgICAgIGRlbGV0ZSBzZWxmLnNlbGVjdFZhbHVlTWFwW2hhc2hlZFZhbF07XG4gICAgICAgICAgcmVtb3ZhbCA9IHRydWU7XG4gICAgICAgIH1cblxuICAgICAgICBoYXNoZWRWYWwgPSBoYXNoS2V5KG5ld1ZhbCk7XG4gICAgICAgIG9sZFZhbCA9IG5ld1ZhbDtcbiAgICAgICAgc2VsZi5zZWxlY3RWYWx1ZU1hcFtoYXNoZWRWYWxdID0gbmV3VmFsO1xuICAgICAgICBzZWxmLmFkZE9wdGlvbihuZXdWYWwsIG9wdGlvbkVsZW1lbnQpO1xuICAgICAgICAvLyBTZXQgdGhlIGF0dHJpYnV0ZSBkaXJlY3RseSBpbnN0ZWFkIG9mIHVzaW5nIG9wdGlvbkF0dHJzLiRzZXQgLSB0aGlzIHN0b3BzIHRoZSBvYnNlcnZlclxuICAgICAgICAvLyBmcm9tIGZpcmluZyBhIHNlY29uZCB0aW1lLiBPdGhlciAkb2JzZXJ2ZXJzIG9uIHZhbHVlIHdpbGwgYWxzbyBnZXQgdGhlIHJlc3VsdCBvZiB0aGVcbiAgICAgICAgLy8gbmdWYWx1ZSBleHByZXNzaW9uLCBub3QgdGhlIGhhc2hlZCB2YWx1ZVxuICAgICAgICBvcHRpb25FbGVtZW50LmF0dHIoJ3ZhbHVlJywgaGFzaGVkVmFsKTtcblxuICAgICAgICBpZiAocmVtb3ZhbCAmJiBwcmV2aW91c2x5U2VsZWN0ZWQpIHtcbiAgICAgICAgICBzY2hlZHVsZVZpZXdWYWx1ZVVwZGF0ZSgpO1xuICAgICAgICB9XG5cbiAgICAgIH0pO1xuICAgIH0gZWxzZSBpZiAoaW50ZXJwb2xhdGVWYWx1ZUZuKSB7XG4gICAgICAvLyBUaGUgdmFsdWUgYXR0cmlidXRlIGlzIGludGVycG9sYXRlZFxuICAgICAgb3B0aW9uQXR0cnMuJG9ic2VydmUoJ3ZhbHVlJywgZnVuY3Rpb24gdmFsdWVBdHRyaWJ1dGVPYnNlcnZlQWN0aW9uKG5ld1ZhbCkge1xuICAgICAgICAvLyBUaGlzIG1ldGhvZCBpcyBvdmVyd3JpdHRlbiBpbiBuZ09wdGlvbnMgYW5kIGhhcyBzaWRlLWVmZmVjdHMhXG4gICAgICAgIHNlbGYucmVhZFZhbHVlKCk7XG5cbiAgICAgICAgdmFyIHJlbW92YWw7XG4gICAgICAgIHZhciBwcmV2aW91c2x5U2VsZWN0ZWQgPSBvcHRpb25FbGVtZW50LnByb3AoJ3NlbGVjdGVkJyk7XG5cbiAgICAgICAgaWYgKGlzRGVmaW5lZChvbGRWYWwpKSB7XG4gICAgICAgICAgc2VsZi5yZW1vdmVPcHRpb24ob2xkVmFsKTtcbiAgICAgICAgICByZW1vdmFsID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICBvbGRWYWwgPSBuZXdWYWw7XG4gICAgICAgIHNlbGYuYWRkT3B0aW9uKG5ld1ZhbCwgb3B0aW9uRWxlbWVudCk7XG5cbiAgICAgICAgaWYgKHJlbW92YWwgJiYgcHJldmlvdXNseVNlbGVjdGVkKSB7XG4gICAgICAgICAgc2NoZWR1bGVWaWV3VmFsdWVVcGRhdGUoKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfSBlbHNlIGlmIChpbnRlcnBvbGF0ZVRleHRGbikge1xuICAgICAgLy8gVGhlIHRleHQgY29udGVudCBpcyBpbnRlcnBvbGF0ZWRcbiAgICAgIG9wdGlvblNjb3BlLiR3YXRjaChpbnRlcnBvbGF0ZVRleHRGbiwgZnVuY3Rpb24gaW50ZXJwb2xhdGVXYXRjaEFjdGlvbihuZXdWYWwsIG9sZFZhbCkge1xuICAgICAgICBvcHRpb25BdHRycy4kc2V0KCd2YWx1ZScsIG5ld1ZhbCk7XG4gICAgICAgIHZhciBwcmV2aW91c2x5U2VsZWN0ZWQgPSBvcHRpb25FbGVtZW50LnByb3AoJ3NlbGVjdGVkJyk7XG4gICAgICAgIGlmIChvbGRWYWwgIT09IG5ld1ZhbCkge1xuICAgICAgICAgIHNlbGYucmVtb3ZlT3B0aW9uKG9sZFZhbCk7XG4gICAgICAgIH1cbiAgICAgICAgc2VsZi5hZGRPcHRpb24obmV3VmFsLCBvcHRpb25FbGVtZW50KTtcblxuICAgICAgICBpZiAob2xkVmFsICYmIHByZXZpb3VzbHlTZWxlY3RlZCkge1xuICAgICAgICAgIHNjaGVkdWxlVmlld1ZhbHVlVXBkYXRlKCk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH0gZWxzZSB7XG4gICAgICAvLyBUaGUgdmFsdWUgYXR0cmlidXRlIGlzIHN0YXRpY1xuICAgICAgc2VsZi5hZGRPcHRpb24ob3B0aW9uQXR0cnMudmFsdWUsIG9wdGlvbkVsZW1lbnQpO1xuICAgIH1cblxuXG4gICAgb3B0aW9uQXR0cnMuJG9ic2VydmUoJ2Rpc2FibGVkJywgZnVuY3Rpb24obmV3VmFsKSB7XG5cbiAgICAgIC8vIFNpbmNlIG1vZGVsIHVwZGF0ZXMgd2lsbCBhbHNvIHNlbGVjdCBkaXNhYmxlZCBvcHRpb25zIChsaWtlIG5nT3B0aW9ucyksXG4gICAgICAvLyB3ZSBvbmx5IGhhdmUgdG8gaGFuZGxlIG9wdGlvbnMgYmVjb21pbmcgZGlzYWJsZWQsIG5vdCBlbmFibGVkXG5cbiAgICAgIGlmIChuZXdWYWwgPT09ICd0cnVlJyB8fCBuZXdWYWwgJiYgb3B0aW9uRWxlbWVudC5wcm9wKCdzZWxlY3RlZCcpKSB7XG4gICAgICAgIGlmIChzZWxmLm11bHRpcGxlKSB7XG4gICAgICAgICAgc2NoZWR1bGVWaWV3VmFsdWVVcGRhdGUodHJ1ZSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgc2VsZi5uZ01vZGVsQ3RybC4kc2V0Vmlld1ZhbHVlKG51bGwpO1xuICAgICAgICAgIHNlbGYubmdNb2RlbEN0cmwuJHJlbmRlcigpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICBvcHRpb25FbGVtZW50Lm9uKCckZGVzdHJveScsIGZ1bmN0aW9uKCkge1xuICAgICAgdmFyIGN1cnJlbnRWYWx1ZSA9IHNlbGYucmVhZFZhbHVlKCk7XG4gICAgICB2YXIgcmVtb3ZlVmFsdWUgPSBvcHRpb25BdHRycy52YWx1ZTtcblxuICAgICAgc2VsZi5yZW1vdmVPcHRpb24ocmVtb3ZlVmFsdWUpO1xuICAgICAgc2NoZWR1bGVSZW5kZXIoKTtcblxuICAgICAgaWYgKHNlbGYubXVsdGlwbGUgJiYgY3VycmVudFZhbHVlICYmIGN1cnJlbnRWYWx1ZS5pbmRleE9mKHJlbW92ZVZhbHVlKSAhPT0gLTEgfHxcbiAgICAgICAgICBjdXJyZW50VmFsdWUgPT09IHJlbW92ZVZhbHVlXG4gICAgICApIHtcbiAgICAgICAgLy8gV2hlbiBtdWx0aXBsZSAoc2VsZWN0ZWQpIG9wdGlvbnMgYXJlIGRlc3Ryb3llZCBhdCB0aGUgc2FtZSB0aW1lLCB3ZSBkb24ndCB3YW50XG4gICAgICAgIC8vIHRvIHJ1biBhIG1vZGVsIHVwZGF0ZSBmb3IgZWFjaCBvZiB0aGVtLiBJbnN0ZWFkLCBydW4gYSBzaW5nbGUgdXBkYXRlIGluIHRoZSAkJHBvc3REaWdlc3RcbiAgICAgICAgc2NoZWR1bGVWaWV3VmFsdWVVcGRhdGUodHJ1ZSk7XG4gICAgICB9XG4gICAgfSk7XG4gIH07XG59XTtcblxuLyoqXG4gKiBAbmdkb2MgZGlyZWN0aXZlXG4gKiBAbmFtZSBzZWxlY3RcbiAqIEByZXN0cmljdCBFXG4gKlxuICogQGRlc2NyaXB0aW9uXG4gKiBIVE1MIGBzZWxlY3RgIGVsZW1lbnQgd2l0aCBhbmd1bGFyIGRhdGEtYmluZGluZy5cbiAqXG4gKiBUaGUgYHNlbGVjdGAgZGlyZWN0aXZlIGlzIHVzZWQgdG9nZXRoZXIgd2l0aCB7QGxpbmsgbmdNb2RlbCBgbmdNb2RlbGB9IHRvIHByb3ZpZGUgZGF0YS1iaW5kaW5nXG4gKiBiZXR3ZWVuIHRoZSBzY29wZSBhbmQgdGhlIGA8c2VsZWN0PmAgY29udHJvbCAoaW5jbHVkaW5nIHNldHRpbmcgZGVmYXVsdCB2YWx1ZXMpLlxuICogSXQgYWxzbyBoYW5kbGVzIGR5bmFtaWMgYDxvcHRpb24+YCBlbGVtZW50cywgd2hpY2ggY2FuIGJlIGFkZGVkIHVzaW5nIHRoZSB7QGxpbmsgbmdSZXBlYXQgYG5nUmVwZWF0fWAgb3JcbiAqIHtAbGluayBuZ09wdGlvbnMgYG5nT3B0aW9uc2B9IGRpcmVjdGl2ZXMuXG4gKlxuICogV2hlbiBhbiBpdGVtIGluIHRoZSBgPHNlbGVjdD5gIG1lbnUgaXMgc2VsZWN0ZWQsIHRoZSB2YWx1ZSBvZiB0aGUgc2VsZWN0ZWQgb3B0aW9uIHdpbGwgYmUgYm91bmRcbiAqIHRvIHRoZSBtb2RlbCBpZGVudGlmaWVkIGJ5IHRoZSBgbmdNb2RlbGAgZGlyZWN0aXZlLiBXaXRoIHN0YXRpYyBvciByZXBlYXRlZCBvcHRpb25zLCB0aGlzIGlzXG4gKiB0aGUgY29udGVudCBvZiB0aGUgYHZhbHVlYCBhdHRyaWJ1dGUgb3IgdGhlIHRleHRDb250ZW50IG9mIHRoZSBgPG9wdGlvbj5gLCBpZiB0aGUgdmFsdWUgYXR0cmlidXRlIGlzIG1pc3NpbmcuXG4gKiBWYWx1ZSBhbmQgdGV4dENvbnRlbnQgY2FuIGJlIGludGVycG9sYXRlZC5cbiAqXG4gKiAjIyBNYXRjaGluZyBtb2RlbCBhbmQgb3B0aW9uIHZhbHVlc1xuICpcbiAqIEluIGdlbmVyYWwsIHRoZSBtYXRjaCBiZXR3ZWVuIHRoZSBtb2RlbCBhbmQgYW4gb3B0aW9uIGlzIGV2YWx1YXRlZCBieSBzdHJpY3RseSBjb21wYXJpbmcgdGhlIG1vZGVsXG4gKiB2YWx1ZSBhZ2FpbnN0IHRoZSB2YWx1ZSBvZiB0aGUgYXZhaWxhYmxlIG9wdGlvbnMuXG4gKlxuICogSWYgeW91IGFyZSBzZXR0aW5nIHRoZSBvcHRpb24gdmFsdWUgd2l0aCB0aGUgb3B0aW9uJ3MgYHZhbHVlYCBhdHRyaWJ1dGUsIG9yIHRleHRDb250ZW50LCB0aGVcbiAqIHZhbHVlIHdpbGwgYWx3YXlzIGJlIGEgYHN0cmluZ2Agd2hpY2ggbWVhbnMgdGhhdCB0aGUgbW9kZWwgdmFsdWUgbXVzdCBhbHNvIGJlIGEgc3RyaW5nLlxuICogT3RoZXJ3aXNlIHRoZSBgc2VsZWN0YCBkaXJlY3RpdmUgY2Fubm90IG1hdGNoIHRoZW0gY29ycmVjdGx5LlxuICpcbiAqIFRvIGJpbmQgdGhlIG1vZGVsIHRvIGEgbm9uLXN0cmluZyB2YWx1ZSwgeW91IGNhbiB1c2Ugb25lIG9mIHRoZSBmb2xsb3dpbmcgc3RyYXRlZ2llczpcbiAqIC0gdGhlIHtAbGluayBuZy5uZ09wdGlvbnMgYG5nT3B0aW9uc2B9IGRpcmVjdGl2ZVxuICogICAoe0BsaW5rIG5nLnNlbGVjdCN1c2luZy1zZWxlY3Qtd2l0aC1uZ29wdGlvbnMtYW5kLXNldHRpbmctYS1kZWZhdWx0LXZhbHVlfSlcbiAqIC0gdGhlIHtAbGluayBuZy5uZ1ZhbHVlIGBuZ1ZhbHVlYH0gZGlyZWN0aXZlLCB3aGljaCBhbGxvd3MgYXJiaXRyYXJ5IGV4cHJlc3Npb25zIHRvIGJlXG4gKiAgIG9wdGlvbiB2YWx1ZXMgKHtAbGluayBuZy5zZWxlY3QjdXNpbmctbmd2YWx1ZS10by1iaW5kLXRoZS1tb2RlbC10by1hbi1hcnJheS1vZi1vYmplY3RzIEV4YW1wbGV9KVxuICogLSBtb2RlbCAkcGFyc2VycyAvICRmb3JtYXR0ZXJzIHRvIGNvbnZlcnQgdGhlIHN0cmluZyB2YWx1ZVxuICogICAoe0BsaW5rIG5nLnNlbGVjdCNiaW5kaW5nLXNlbGVjdC10by1hLW5vbi1zdHJpbmctdmFsdWUtdmlhLW5nbW9kZWwtcGFyc2luZy1mb3JtYXR0aW5nIEV4YW1wbGV9KVxuICpcbiAqIElmIHRoZSB2aWV3VmFsdWUgb2YgYG5nTW9kZWxgIGRvZXMgbm90IG1hdGNoIGFueSBvZiB0aGUgb3B0aW9ucywgdGhlbiB0aGUgY29udHJvbFxuICogd2lsbCBhdXRvbWF0aWNhbGx5IGFkZCBhbiBcInVua25vd25cIiBvcHRpb24sIHdoaWNoIGl0IHRoZW4gcmVtb3ZlcyB3aGVuIHRoZSBtaXNtYXRjaCBpcyByZXNvbHZlZC5cbiAqXG4gKiBPcHRpb25hbGx5LCBhIHNpbmdsZSBoYXJkLWNvZGVkIGA8b3B0aW9uPmAgZWxlbWVudCwgd2l0aCB0aGUgdmFsdWUgc2V0IHRvIGFuIGVtcHR5IHN0cmluZywgY2FuXG4gKiBiZSBuZXN0ZWQgaW50byB0aGUgYDxzZWxlY3Q+YCBlbGVtZW50LiBUaGlzIGVsZW1lbnQgd2lsbCB0aGVuIHJlcHJlc2VudCB0aGUgYG51bGxgIG9yIFwibm90IHNlbGVjdGVkXCJcbiAqIG9wdGlvbi4gU2VlIGV4YW1wbGUgYmVsb3cgZm9yIGRlbW9uc3RyYXRpb24uXG4gKlxuICogIyMgQ2hvb3NpbmcgYmV0d2VlbiBgbmdSZXBlYXRgIGFuZCBgbmdPcHRpb25zYFxuICpcbiAqIEluIG1hbnkgY2FzZXMsIGBuZ1JlcGVhdGAgY2FuIGJlIHVzZWQgb24gYDxvcHRpb24+YCBlbGVtZW50cyBpbnN0ZWFkIG9mIHtAbGluayBuZy5kaXJlY3RpdmU6bmdPcHRpb25zXG4gKiBuZ09wdGlvbnN9IHRvIGFjaGlldmUgYSBzaW1pbGFyIHJlc3VsdC4gSG93ZXZlciwgYG5nT3B0aW9uc2AgcHJvdmlkZXMgc29tZSBiZW5lZml0czpcbiAqIC0gbW9yZSBmbGV4aWJpbGl0eSBpbiBob3cgdGhlIGA8c2VsZWN0PmAncyBtb2RlbCBpcyBhc3NpZ25lZCB2aWEgdGhlIGBzZWxlY3RgICoqYGFzYCoqIHBhcnQgb2YgdGhlXG4gKiBjb21wcmVoZW5zaW9uIGV4cHJlc3Npb25cbiAqIC0gcmVkdWNlZCBtZW1vcnkgY29uc3VtcHRpb24gYnkgbm90IGNyZWF0aW5nIGEgbmV3IHNjb3BlIGZvciBlYWNoIHJlcGVhdGVkIGluc3RhbmNlXG4gKiAtIGluY3JlYXNlZCByZW5kZXIgc3BlZWQgYnkgY3JlYXRpbmcgdGhlIG9wdGlvbnMgaW4gYSBkb2N1bWVudEZyYWdtZW50IGluc3RlYWQgb2YgaW5kaXZpZHVhbGx5XG4gKlxuICogU3BlY2lmaWNhbGx5LCBzZWxlY3Qgd2l0aCByZXBlYXRlZCBvcHRpb25zIHNsb3dzIGRvd24gc2lnbmlmaWNhbnRseSBzdGFydGluZyBhdCAyMDAwIG9wdGlvbnMgaW5cbiAqIENocm9tZSBhbmQgSW50ZXJuZXQgRXhwbG9yZXIgLyBFZGdlLlxuICpcbiAqXG4gKiBAcGFyYW0ge3N0cmluZ30gbmdNb2RlbCBBc3NpZ25hYmxlIGFuZ3VsYXIgZXhwcmVzc2lvbiB0byBkYXRhLWJpbmQgdG8uXG4gKiBAcGFyYW0ge3N0cmluZz19IG5hbWUgUHJvcGVydHkgbmFtZSBvZiB0aGUgZm9ybSB1bmRlciB3aGljaCB0aGUgY29udHJvbCBpcyBwdWJsaXNoZWQuXG4gKiBAcGFyYW0ge3N0cmluZz19IG11bHRpcGxlIEFsbG93cyBtdWx0aXBsZSBvcHRpb25zIHRvIGJlIHNlbGVjdGVkLiBUaGUgc2VsZWN0ZWQgdmFsdWVzIHdpbGwgYmVcbiAqICAgICBib3VuZCB0byB0aGUgbW9kZWwgYXMgYW4gYXJyYXkuXG4gKiBAcGFyYW0ge3N0cmluZz19IHJlcXVpcmVkIFNldHMgYHJlcXVpcmVkYCB2YWxpZGF0aW9uIGVycm9yIGtleSBpZiB0aGUgdmFsdWUgaXMgbm90IGVudGVyZWQuXG4gKiBAcGFyYW0ge3N0cmluZz19IG5nUmVxdWlyZWQgQWRkcyByZXF1aXJlZCBhdHRyaWJ1dGUgYW5kIHJlcXVpcmVkIHZhbGlkYXRpb24gY29uc3RyYWludCB0b1xuICogdGhlIGVsZW1lbnQgd2hlbiB0aGUgbmdSZXF1aXJlZCBleHByZXNzaW9uIGV2YWx1YXRlcyB0byB0cnVlLiBVc2UgbmdSZXF1aXJlZCBpbnN0ZWFkIG9mIHJlcXVpcmVkXG4gKiB3aGVuIHlvdSB3YW50IHRvIGRhdGEtYmluZCB0byB0aGUgcmVxdWlyZWQgYXR0cmlidXRlLlxuICogQHBhcmFtIHtzdHJpbmc9fSBuZ0NoYW5nZSBBbmd1bGFyIGV4cHJlc3Npb24gdG8gYmUgZXhlY3V0ZWQgd2hlbiBzZWxlY3RlZCBvcHRpb24ocykgY2hhbmdlcyBkdWUgdG8gdXNlclxuICogICAgaW50ZXJhY3Rpb24gd2l0aCB0aGUgc2VsZWN0IGVsZW1lbnQuXG4gKiBAcGFyYW0ge3N0cmluZz19IG5nT3B0aW9ucyBzZXRzIHRoZSBvcHRpb25zIHRoYXQgdGhlIHNlbGVjdCBpcyBwb3B1bGF0ZWQgd2l0aCBhbmQgZGVmaW5lcyB3aGF0IGlzXG4gKiBzZXQgb24gdGhlIG1vZGVsIG9uIHNlbGVjdGlvbi4gU2VlIHtAbGluayBuZ09wdGlvbnMgYG5nT3B0aW9uc2B9LlxuICogQHBhcmFtIHtzdHJpbmc9fSBuZ0F0dHJTaXplIHNldHMgdGhlIHNpemUgb2YgdGhlIHNlbGVjdCBlbGVtZW50IGR5bmFtaWNhbGx5LiBVc2VzIHRoZVxuICoge0BsaW5rIGd1aWRlL2ludGVycG9sYXRpb24jLW5nYXR0ci1mb3ItYmluZGluZy10by1hcmJpdHJhcnktYXR0cmlidXRlcyBuZ0F0dHJ9IGRpcmVjdGl2ZS5cbiAqXG4gKiBAZXhhbXBsZVxuICogIyMjIFNpbXBsZSBgc2VsZWN0YCBlbGVtZW50cyB3aXRoIHN0YXRpYyBvcHRpb25zXG4gKlxuICogPGV4YW1wbGUgbmFtZT1cInN0YXRpYy1zZWxlY3RcIiBtb2R1bGU9XCJzdGF0aWNTZWxlY3RcIj5cbiAqIDxmaWxlIG5hbWU9XCJpbmRleC5odG1sXCI+XG4gKiA8ZGl2IG5nLWNvbnRyb2xsZXI9XCJFeGFtcGxlQ29udHJvbGxlclwiPlxuICogICA8Zm9ybSBuYW1lPVwibXlGb3JtXCI+XG4gKiAgICAgPGxhYmVsIGZvcj1cInNpbmdsZVNlbGVjdFwiPiBTaW5nbGUgc2VsZWN0OiA8L2xhYmVsPjxicj5cbiAqICAgICA8c2VsZWN0IG5hbWU9XCJzaW5nbGVTZWxlY3RcIiBuZy1tb2RlbD1cImRhdGEuc2luZ2xlU2VsZWN0XCI+XG4gKiAgICAgICA8b3B0aW9uIHZhbHVlPVwib3B0aW9uLTFcIj5PcHRpb24gMTwvb3B0aW9uPlxuICogICAgICAgPG9wdGlvbiB2YWx1ZT1cIm9wdGlvbi0yXCI+T3B0aW9uIDI8L29wdGlvbj5cbiAqICAgICA8L3NlbGVjdD48YnI+XG4gKlxuICogICAgIDxsYWJlbCBmb3I9XCJzaW5nbGVTZWxlY3RcIj4gU2luZ2xlIHNlbGVjdCB3aXRoIFwibm90IHNlbGVjdGVkXCIgb3B0aW9uIGFuZCBkeW5hbWljIG9wdGlvbiB2YWx1ZXM6IDwvbGFiZWw+PGJyPlxuICogICAgIDxzZWxlY3QgbmFtZT1cInNpbmdsZVNlbGVjdFwiIGlkPVwic2luZ2xlU2VsZWN0XCIgbmctbW9kZWw9XCJkYXRhLnNpbmdsZVNlbGVjdFwiPlxuICogICAgICAgPG9wdGlvbiB2YWx1ZT1cIlwiPi0tLVBsZWFzZSBzZWxlY3QtLS08L29wdGlvbj4gPCEtLSBub3Qgc2VsZWN0ZWQgLyBibGFuayBvcHRpb24gLS0+XG4gKiAgICAgICA8b3B0aW9uIHZhbHVlPVwie3tkYXRhLm9wdGlvbjF9fVwiPk9wdGlvbiAxPC9vcHRpb24+IDwhLS0gaW50ZXJwb2xhdGlvbiAtLT5cbiAqICAgICAgIDxvcHRpb24gdmFsdWU9XCJvcHRpb24tMlwiPk9wdGlvbiAyPC9vcHRpb24+XG4gKiAgICAgPC9zZWxlY3Q+PGJyPlxuICogICAgIDxidXR0b24gbmctY2xpY2s9XCJmb3JjZVVua25vd25PcHRpb24oKVwiPkZvcmNlIHVua25vd24gb3B0aW9uPC9idXR0b24+PGJyPlxuICogICAgIDx0dD5zaW5nbGVTZWxlY3QgPSB7e2RhdGEuc2luZ2xlU2VsZWN0fX08L3R0PlxuICpcbiAqICAgICA8aHI+XG4gKiAgICAgPGxhYmVsIGZvcj1cIm11bHRpcGxlU2VsZWN0XCI+IE11bHRpcGxlIHNlbGVjdDogPC9sYWJlbD48YnI+XG4gKiAgICAgPHNlbGVjdCBuYW1lPVwibXVsdGlwbGVTZWxlY3RcIiBpZD1cIm11bHRpcGxlU2VsZWN0XCIgbmctbW9kZWw9XCJkYXRhLm11bHRpcGxlU2VsZWN0XCIgbXVsdGlwbGU+XG4gKiAgICAgICA8b3B0aW9uIHZhbHVlPVwib3B0aW9uLTFcIj5PcHRpb24gMTwvb3B0aW9uPlxuICogICAgICAgPG9wdGlvbiB2YWx1ZT1cIm9wdGlvbi0yXCI+T3B0aW9uIDI8L29wdGlvbj5cbiAqICAgICAgIDxvcHRpb24gdmFsdWU9XCJvcHRpb24tM1wiPk9wdGlvbiAzPC9vcHRpb24+XG4gKiAgICAgPC9zZWxlY3Q+PGJyPlxuICogICAgIDx0dD5tdWx0aXBsZVNlbGVjdCA9IHt7ZGF0YS5tdWx0aXBsZVNlbGVjdH19PC90dD48YnIvPlxuICogICA8L2Zvcm0+XG4gKiA8L2Rpdj5cbiAqIDwvZmlsZT5cbiAqIDxmaWxlIG5hbWU9XCJhcHAuanNcIj5cbiAqICBhbmd1bGFyLm1vZHVsZSgnc3RhdGljU2VsZWN0JywgW10pXG4gKiAgICAuY29udHJvbGxlcignRXhhbXBsZUNvbnRyb2xsZXInLCBbJyRzY29wZScsIGZ1bmN0aW9uKCRzY29wZSkge1xuICogICAgICAkc2NvcGUuZGF0YSA9IHtcbiAqICAgICAgIHNpbmdsZVNlbGVjdDogbnVsbCxcbiAqICAgICAgIG11bHRpcGxlU2VsZWN0OiBbXSxcbiAqICAgICAgIG9wdGlvbjE6ICdvcHRpb24tMSdcbiAqICAgICAgfTtcbiAqXG4gKiAgICAgICRzY29wZS5mb3JjZVVua25vd25PcHRpb24gPSBmdW5jdGlvbigpIHtcbiAqICAgICAgICAkc2NvcGUuZGF0YS5zaW5nbGVTZWxlY3QgPSAnbm9uc2Vuc2UnO1xuICogICAgICB9O1xuICogICB9XSk7XG4gKiA8L2ZpbGU+XG4gKjwvZXhhbXBsZT5cbiAqXG4gKiAjIyMgVXNpbmcgYG5nUmVwZWF0YCB0byBnZW5lcmF0ZSBgc2VsZWN0YCBvcHRpb25zXG4gKiA8ZXhhbXBsZSBuYW1lPVwic2VsZWN0LW5ncmVwZWF0XCIgbW9kdWxlPVwibmdyZXBlYXRTZWxlY3RcIj5cbiAqIDxmaWxlIG5hbWU9XCJpbmRleC5odG1sXCI+XG4gKiA8ZGl2IG5nLWNvbnRyb2xsZXI9XCJFeGFtcGxlQ29udHJvbGxlclwiPlxuICogICA8Zm9ybSBuYW1lPVwibXlGb3JtXCI+XG4gKiAgICAgPGxhYmVsIGZvcj1cInJlcGVhdFNlbGVjdFwiPiBSZXBlYXQgc2VsZWN0OiA8L2xhYmVsPlxuICogICAgIDxzZWxlY3QgbmFtZT1cInJlcGVhdFNlbGVjdFwiIGlkPVwicmVwZWF0U2VsZWN0XCIgbmctbW9kZWw9XCJkYXRhLm1vZGVsXCI+XG4gKiAgICAgICA8b3B0aW9uIG5nLXJlcGVhdD1cIm9wdGlvbiBpbiBkYXRhLmF2YWlsYWJsZU9wdGlvbnNcIiB2YWx1ZT1cInt7b3B0aW9uLmlkfX1cIj57e29wdGlvbi5uYW1lfX08L29wdGlvbj5cbiAqICAgICA8L3NlbGVjdD5cbiAqICAgPC9mb3JtPlxuICogICA8aHI+XG4gKiAgIDx0dD5tb2RlbCA9IHt7ZGF0YS5tb2RlbH19PC90dD48YnIvPlxuICogPC9kaXY+XG4gKiA8L2ZpbGU+XG4gKiA8ZmlsZSBuYW1lPVwiYXBwLmpzXCI+XG4gKiAgYW5ndWxhci5tb2R1bGUoJ25ncmVwZWF0U2VsZWN0JywgW10pXG4gKiAgICAuY29udHJvbGxlcignRXhhbXBsZUNvbnRyb2xsZXInLCBbJyRzY29wZScsIGZ1bmN0aW9uKCRzY29wZSkge1xuICogICAgICAkc2NvcGUuZGF0YSA9IHtcbiAqICAgICAgIG1vZGVsOiBudWxsLFxuICogICAgICAgYXZhaWxhYmxlT3B0aW9uczogW1xuICogICAgICAgICB7aWQ6ICcxJywgbmFtZTogJ09wdGlvbiBBJ30sXG4gKiAgICAgICAgIHtpZDogJzInLCBuYW1lOiAnT3B0aW9uIEInfSxcbiAqICAgICAgICAge2lkOiAnMycsIG5hbWU6ICdPcHRpb24gQyd9XG4gKiAgICAgICBdXG4gKiAgICAgIH07XG4gKiAgIH1dKTtcbiAqIDwvZmlsZT5cbiAqPC9leGFtcGxlPlxuICpcbiAqICMjIyBVc2luZyBgbmdWYWx1ZWAgdG8gYmluZCB0aGUgbW9kZWwgdG8gYW4gYXJyYXkgb2Ygb2JqZWN0c1xuICogPGV4YW1wbGUgbmFtZT1cInNlbGVjdC1uZ3ZhbHVlXCIgbW9kdWxlPVwibmd2YWx1ZVNlbGVjdFwiPlxuICogPGZpbGUgbmFtZT1cImluZGV4Lmh0bWxcIj5cbiAqIDxkaXYgbmctY29udHJvbGxlcj1cIkV4YW1wbGVDb250cm9sbGVyXCI+XG4gKiAgIDxmb3JtIG5hbWU9XCJteUZvcm1cIj5cbiAqICAgICA8bGFiZWwgZm9yPVwibmd2YWx1ZXNlbGVjdFwiPiBuZ3ZhbHVlIHNlbGVjdDogPC9sYWJlbD5cbiAqICAgICA8c2VsZWN0IHNpemU9XCI2XCIgbmFtZT1cIm5ndmFsdWVzZWxlY3RcIiBuZy1tb2RlbD1cImRhdGEubW9kZWxcIiBtdWx0aXBsZT5cbiAqICAgICAgIDxvcHRpb24gbmctcmVwZWF0PVwib3B0aW9uIGluIGRhdGEuYXZhaWxhYmxlT3B0aW9uc1wiIG5nLXZhbHVlPVwib3B0aW9uLnZhbHVlXCI+e3tvcHRpb24ubmFtZX19PC9vcHRpb24+XG4gKiAgICAgPC9zZWxlY3Q+XG4gKiAgIDwvZm9ybT5cbiAqICAgPGhyPlxuICogICA8cHJlPm1vZGVsID0ge3tkYXRhLm1vZGVsIHwganNvbn19PC9wcmU+PGJyLz5cbiAqIDwvZGl2PlxuICogPC9maWxlPlxuICogPGZpbGUgbmFtZT1cImFwcC5qc1wiPlxuICogIGFuZ3VsYXIubW9kdWxlKCduZ3ZhbHVlU2VsZWN0JywgW10pXG4gKiAgICAuY29udHJvbGxlcignRXhhbXBsZUNvbnRyb2xsZXInLCBbJyRzY29wZScsIGZ1bmN0aW9uKCRzY29wZSkge1xuICogICAgICAkc2NvcGUuZGF0YSA9IHtcbiAqICAgICAgIG1vZGVsOiBudWxsLFxuICogICAgICAgYXZhaWxhYmxlT3B0aW9uczogW1xuICAgICAgICAgICB7dmFsdWU6ICdteVN0cmluZycsIG5hbWU6ICdzdHJpbmcnfSxcbiAgICAgICAgICAge3ZhbHVlOiAxLCBuYW1lOiAnaW50ZWdlcid9LFxuICAgICAgICAgICB7dmFsdWU6IHRydWUsIG5hbWU6ICdib29sZWFuJ30sXG4gICAgICAgICAgIHt2YWx1ZTogbnVsbCwgbmFtZTogJ251bGwnfSxcbiAgICAgICAgICAge3ZhbHVlOiB7cHJvcDogJ3ZhbHVlJ30sIG5hbWU6ICdvYmplY3QnfSxcbiAgICAgICAgICAge3ZhbHVlOiBbJ2EnXSwgbmFtZTogJ2FycmF5J31cbiAqICAgICAgIF1cbiAqICAgICAgfTtcbiAqICAgfV0pO1xuICogPC9maWxlPlxuICo8L2V4YW1wbGU+XG4gKlxuICogIyMjIFVzaW5nIGBzZWxlY3RgIHdpdGggYG5nT3B0aW9uc2AgYW5kIHNldHRpbmcgYSBkZWZhdWx0IHZhbHVlXG4gKiBTZWUgdGhlIHtAbGluayBuZ09wdGlvbnMgbmdPcHRpb25zIGRvY3VtZW50YXRpb259IGZvciBtb3JlIGBuZ09wdGlvbnNgIHVzYWdlIGV4YW1wbGVzLlxuICpcbiAqIDxleGFtcGxlIG5hbWU9XCJzZWxlY3Qtd2l0aC1kZWZhdWx0LXZhbHVlc1wiIG1vZHVsZT1cImRlZmF1bHRWYWx1ZVNlbGVjdFwiPlxuICogPGZpbGUgbmFtZT1cImluZGV4Lmh0bWxcIj5cbiAqIDxkaXYgbmctY29udHJvbGxlcj1cIkV4YW1wbGVDb250cm9sbGVyXCI+XG4gKiAgIDxmb3JtIG5hbWU9XCJteUZvcm1cIj5cbiAqICAgICA8bGFiZWwgZm9yPVwibXlTZWxlY3RcIj5NYWtlIGEgY2hvaWNlOjwvbGFiZWw+XG4gKiAgICAgPHNlbGVjdCBuYW1lPVwibXlTZWxlY3RcIiBpZD1cIm15U2VsZWN0XCJcbiAqICAgICAgIG5nLW9wdGlvbnM9XCJvcHRpb24ubmFtZSBmb3Igb3B0aW9uIGluIGRhdGEuYXZhaWxhYmxlT3B0aW9ucyB0cmFjayBieSBvcHRpb24uaWRcIlxuICogICAgICAgbmctbW9kZWw9XCJkYXRhLnNlbGVjdGVkT3B0aW9uXCI+PC9zZWxlY3Q+XG4gKiAgIDwvZm9ybT5cbiAqICAgPGhyPlxuICogICA8dHQ+b3B0aW9uID0ge3tkYXRhLnNlbGVjdGVkT3B0aW9ufX08L3R0Pjxici8+XG4gKiA8L2Rpdj5cbiAqIDwvZmlsZT5cbiAqIDxmaWxlIG5hbWU9XCJhcHAuanNcIj5cbiAqICBhbmd1bGFyLm1vZHVsZSgnZGVmYXVsdFZhbHVlU2VsZWN0JywgW10pXG4gKiAgICAuY29udHJvbGxlcignRXhhbXBsZUNvbnRyb2xsZXInLCBbJyRzY29wZScsIGZ1bmN0aW9uKCRzY29wZSkge1xuICogICAgICAkc2NvcGUuZGF0YSA9IHtcbiAqICAgICAgIGF2YWlsYWJsZU9wdGlvbnM6IFtcbiAqICAgICAgICAge2lkOiAnMScsIG5hbWU6ICdPcHRpb24gQSd9LFxuICogICAgICAgICB7aWQ6ICcyJywgbmFtZTogJ09wdGlvbiBCJ30sXG4gKiAgICAgICAgIHtpZDogJzMnLCBuYW1lOiAnT3B0aW9uIEMnfVxuICogICAgICAgXSxcbiAqICAgICAgIHNlbGVjdGVkT3B0aW9uOiB7aWQ6ICczJywgbmFtZTogJ09wdGlvbiBDJ30gLy9UaGlzIHNldHMgdGhlIGRlZmF1bHQgdmFsdWUgb2YgdGhlIHNlbGVjdCBpbiB0aGUgdWlcbiAqICAgICAgIH07XG4gKiAgIH1dKTtcbiAqIDwvZmlsZT5cbiAqPC9leGFtcGxlPlxuICpcbiAqXG4gKiAjIyMgQmluZGluZyBgc2VsZWN0YCB0byBhIG5vbi1zdHJpbmcgdmFsdWUgdmlhIGBuZ01vZGVsYCBwYXJzaW5nIC8gZm9ybWF0dGluZ1xuICpcbiAqIDxleGFtcGxlIG5hbWU9XCJzZWxlY3Qtd2l0aC1ub24tc3RyaW5nLW9wdGlvbnNcIiBtb2R1bGU9XCJub25TdHJpbmdTZWxlY3RcIj5cbiAqICAgPGZpbGUgbmFtZT1cImluZGV4Lmh0bWxcIj5cbiAqICAgICA8c2VsZWN0IG5nLW1vZGVsPVwibW9kZWwuaWRcIiBjb252ZXJ0LXRvLW51bWJlcj5cbiAqICAgICAgIDxvcHRpb24gdmFsdWU9XCIwXCI+WmVybzwvb3B0aW9uPlxuICogICAgICAgPG9wdGlvbiB2YWx1ZT1cIjFcIj5PbmU8L29wdGlvbj5cbiAqICAgICAgIDxvcHRpb24gdmFsdWU9XCIyXCI+VHdvPC9vcHRpb24+XG4gKiAgICAgPC9zZWxlY3Q+XG4gKiAgICAge3sgbW9kZWwgfX1cbiAqICAgPC9maWxlPlxuICogICA8ZmlsZSBuYW1lPVwiYXBwLmpzXCI+XG4gKiAgICAgYW5ndWxhci5tb2R1bGUoJ25vblN0cmluZ1NlbGVjdCcsIFtdKVxuICogICAgICAgLnJ1bihmdW5jdGlvbigkcm9vdFNjb3BlKSB7XG4gKiAgICAgICAgICRyb290U2NvcGUubW9kZWwgPSB7IGlkOiAyIH07XG4gKiAgICAgICB9KVxuICogICAgICAgLmRpcmVjdGl2ZSgnY29udmVydFRvTnVtYmVyJywgZnVuY3Rpb24oKSB7XG4gKiAgICAgICAgIHJldHVybiB7XG4gKiAgICAgICAgICAgcmVxdWlyZTogJ25nTW9kZWwnLFxuICogICAgICAgICAgIGxpbms6IGZ1bmN0aW9uKHNjb3BlLCBlbGVtZW50LCBhdHRycywgbmdNb2RlbCkge1xuICogICAgICAgICAgICAgbmdNb2RlbC4kcGFyc2Vycy5wdXNoKGZ1bmN0aW9uKHZhbCkge1xuICogICAgICAgICAgICAgICByZXR1cm4gcGFyc2VJbnQodmFsLCAxMCk7XG4gKiAgICAgICAgICAgICB9KTtcbiAqICAgICAgICAgICAgIG5nTW9kZWwuJGZvcm1hdHRlcnMucHVzaChmdW5jdGlvbih2YWwpIHtcbiAqICAgICAgICAgICAgICAgcmV0dXJuICcnICsgdmFsO1xuICogICAgICAgICAgICAgfSk7XG4gKiAgICAgICAgICAgfVxuICogICAgICAgICB9O1xuICogICAgICAgfSk7XG4gKiAgIDwvZmlsZT5cbiAqICAgPGZpbGUgbmFtZT1cInByb3RyYWN0b3IuanNcIiB0eXBlPVwicHJvdHJhY3RvclwiPlxuICogICAgIGl0KCdzaG91bGQgaW5pdGlhbGl6ZSB0byBtb2RlbCcsIGZ1bmN0aW9uKCkge1xuICogICAgICAgZXhwZWN0KGVsZW1lbnQoYnkubW9kZWwoJ21vZGVsLmlkJykpLiQoJ29wdGlvbjpjaGVja2VkJykuZ2V0VGV4dCgpKS50b0VxdWFsKCdUd28nKTtcbiAqICAgICB9KTtcbiAqICAgPC9maWxlPlxuICogPC9leGFtcGxlPlxuICpcbiAqL1xudmFyIHNlbGVjdERpcmVjdGl2ZSA9IGZ1bmN0aW9uKCkge1xuXG4gIHJldHVybiB7XG4gICAgcmVzdHJpY3Q6ICdFJyxcbiAgICByZXF1aXJlOiBbJ3NlbGVjdCcsICc/bmdNb2RlbCddLFxuICAgIGNvbnRyb2xsZXI6IFNlbGVjdENvbnRyb2xsZXIsXG4gICAgcHJpb3JpdHk6IDEsXG4gICAgbGluazoge1xuICAgICAgcHJlOiBzZWxlY3RQcmVMaW5rLFxuICAgICAgcG9zdDogc2VsZWN0UG9zdExpbmtcbiAgICB9XG4gIH07XG5cbiAgZnVuY3Rpb24gc2VsZWN0UHJlTGluayhzY29wZSwgZWxlbWVudCwgYXR0ciwgY3RybHMpIHtcblxuICAgICAgdmFyIHNlbGVjdEN0cmwgPSBjdHJsc1swXTtcbiAgICAgIHZhciBuZ01vZGVsQ3RybCA9IGN0cmxzWzFdO1xuXG4gICAgICAvLyBpZiBuZ01vZGVsIGlzIG5vdCBkZWZpbmVkLCB3ZSBkb24ndCBuZWVkIHRvIGRvIGFueXRoaW5nIGJ1dCBzZXQgdGhlIHJlZ2lzdGVyT3B0aW9uXG4gICAgICAvLyBmdW5jdGlvbiB0byBub29wLCBzbyBvcHRpb25zIGRvbid0IGdldCBhZGRlZCBpbnRlcm5hbGx5XG4gICAgICBpZiAoIW5nTW9kZWxDdHJsKSB7XG4gICAgICAgIHNlbGVjdEN0cmwucmVnaXN0ZXJPcHRpb24gPSBub29wO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cblxuICAgICAgc2VsZWN0Q3RybC5uZ01vZGVsQ3RybCA9IG5nTW9kZWxDdHJsO1xuXG4gICAgICAvLyBXaGVuIHRoZSBzZWxlY3RlZCBpdGVtKHMpIGNoYW5nZXMgd2UgZGVsZWdhdGUgZ2V0dGluZyB0aGUgdmFsdWUgb2YgdGhlIHNlbGVjdCBjb250cm9sXG4gICAgICAvLyB0byB0aGUgYHJlYWRWYWx1ZWAgbWV0aG9kLCB3aGljaCBjYW4gYmUgY2hhbmdlZCBpZiB0aGUgc2VsZWN0IGNhbiBoYXZlIG11bHRpcGxlXG4gICAgICAvLyBzZWxlY3RlZCB2YWx1ZXMgb3IgaWYgdGhlIG9wdGlvbnMgYXJlIGJlaW5nIGdlbmVyYXRlZCBieSBgbmdPcHRpb25zYFxuICAgICAgZWxlbWVudC5vbignY2hhbmdlJywgZnVuY3Rpb24oKSB7XG4gICAgICAgIHNlbGVjdEN0cmwucmVtb3ZlVW5rbm93bk9wdGlvbigpO1xuICAgICAgICBzY29wZS4kYXBwbHkoZnVuY3Rpb24oKSB7XG4gICAgICAgICAgbmdNb2RlbEN0cmwuJHNldFZpZXdWYWx1ZShzZWxlY3RDdHJsLnJlYWRWYWx1ZSgpKTtcbiAgICAgICAgfSk7XG4gICAgICB9KTtcblxuICAgICAgLy8gSWYgdGhlIHNlbGVjdCBhbGxvd3MgbXVsdGlwbGUgdmFsdWVzIHRoZW4gd2UgbmVlZCB0byBtb2RpZnkgaG93IHdlIHJlYWQgYW5kIHdyaXRlXG4gICAgICAvLyB2YWx1ZXMgZnJvbSBhbmQgdG8gdGhlIGNvbnRyb2w7IGFsc28gd2hhdCBpdCBtZWFucyBmb3IgdGhlIHZhbHVlIHRvIGJlIGVtcHR5IGFuZFxuICAgICAgLy8gd2UgaGF2ZSB0byBhZGQgYW4gZXh0cmEgd2F0Y2ggc2luY2UgbmdNb2RlbCBkb2Vzbid0IHdvcmsgd2VsbCB3aXRoIGFycmF5cyAtIGl0XG4gICAgICAvLyBkb2Vzbid0IHRyaWdnZXIgcmVuZGVyaW5nIGlmIG9ubHkgYW4gaXRlbSBpbiB0aGUgYXJyYXkgY2hhbmdlcy5cbiAgICAgIGlmIChhdHRyLm11bHRpcGxlKSB7XG4gICAgICAgIHNlbGVjdEN0cmwubXVsdGlwbGUgPSB0cnVlO1xuXG4gICAgICAgIC8vIFJlYWQgdmFsdWUgbm93IG5lZWRzIHRvIGNoZWNrIGVhY2ggb3B0aW9uIHRvIHNlZSBpZiBpdCBpcyBzZWxlY3RlZFxuICAgICAgICBzZWxlY3RDdHJsLnJlYWRWYWx1ZSA9IGZ1bmN0aW9uIHJlYWRNdWx0aXBsZVZhbHVlKCkge1xuICAgICAgICAgIHZhciBhcnJheSA9IFtdO1xuICAgICAgICAgIGZvckVhY2goZWxlbWVudC5maW5kKCdvcHRpb24nKSwgZnVuY3Rpb24ob3B0aW9uKSB7XG4gICAgICAgICAgICBpZiAob3B0aW9uLnNlbGVjdGVkICYmICFvcHRpb24uZGlzYWJsZWQpIHtcbiAgICAgICAgICAgICAgdmFyIHZhbCA9IG9wdGlvbi52YWx1ZTtcbiAgICAgICAgICAgICAgYXJyYXkucHVzaCh2YWwgaW4gc2VsZWN0Q3RybC5zZWxlY3RWYWx1ZU1hcCA/IHNlbGVjdEN0cmwuc2VsZWN0VmFsdWVNYXBbdmFsXSA6IHZhbCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSk7XG4gICAgICAgICAgcmV0dXJuIGFycmF5O1xuICAgICAgICB9O1xuXG4gICAgICAgIC8vIFdyaXRlIHZhbHVlIG5vdyBuZWVkcyB0byBzZXQgdGhlIHNlbGVjdGVkIHByb3BlcnR5IG9mIGVhY2ggbWF0Y2hpbmcgb3B0aW9uXG4gICAgICAgIHNlbGVjdEN0cmwud3JpdGVWYWx1ZSA9IGZ1bmN0aW9uIHdyaXRlTXVsdGlwbGVWYWx1ZSh2YWx1ZSkge1xuICAgICAgICAgIGZvckVhY2goZWxlbWVudC5maW5kKCdvcHRpb24nKSwgZnVuY3Rpb24ob3B0aW9uKSB7XG4gICAgICAgICAgICB2YXIgc2hvdWxkQmVTZWxlY3RlZCA9ICEhdmFsdWUgJiYgKGluY2x1ZGVzKHZhbHVlLCBvcHRpb24udmFsdWUpIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGluY2x1ZGVzKHZhbHVlLCBzZWxlY3RDdHJsLnNlbGVjdFZhbHVlTWFwW29wdGlvbi52YWx1ZV0pKTtcbiAgICAgICAgICAgIHZhciBjdXJyZW50bHlTZWxlY3RlZCA9IG9wdGlvbi5zZWxlY3RlZDtcblxuICAgICAgICAgICAgLy8gSUUgYW5kIEVkZ2UsIGFkZGluZyBvcHRpb25zIHRvIHRoZSBzZWxlY3Rpb24gdmlhIHNoaWZ0K2NsaWNrL1VQL0RPV04sXG4gICAgICAgICAgICAvLyB3aWxsIGRlLXNlbGVjdCBhbHJlYWR5IHNlbGVjdGVkIG9wdGlvbnMgaWYgXCJzZWxlY3RlZFwiIG9uIHRob3NlIG9wdGlvbnMgd2FzIHNldFxuICAgICAgICAgICAgLy8gbW9yZSB0aGFuIG9uY2UgKGkuZS4gd2hlbiB0aGUgb3B0aW9ucyB3ZXJlIGFscmVhZHkgc2VsZWN0ZWQpXG4gICAgICAgICAgICAvLyBTbyB3ZSBvbmx5IG1vZGlmeSB0aGUgc2VsZWN0ZWQgcHJvcGVydHkgaWYgbmVjY2Vzc2FyeS5cbiAgICAgICAgICAgIC8vIE5vdGU6IHRoaXMgYmVoYXZpb3IgY2Fubm90IGJlIHJlcGxpY2F0ZWQgdmlhIHVuaXQgdGVzdHMgYmVjYXVzZSBpdCBvbmx5IHNob3dzIGluIHRoZVxuICAgICAgICAgICAgLy8gYWN0dWFsIHVzZXIgaW50ZXJmYWNlLlxuICAgICAgICAgICAgaWYgKHNob3VsZEJlU2VsZWN0ZWQgIT09IGN1cnJlbnRseVNlbGVjdGVkKSB7XG4gICAgICAgICAgICAgIHNldE9wdGlvblNlbGVjdGVkU3RhdHVzKGpxTGl0ZShvcHRpb24pLCBzaG91bGRCZVNlbGVjdGVkKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgIH0pO1xuICAgICAgICB9O1xuXG4gICAgICAgIC8vIHdlIGhhdmUgdG8gZG8gaXQgb24gZWFjaCB3YXRjaCBzaW5jZSBuZ01vZGVsIHdhdGNoZXMgcmVmZXJlbmNlLCBidXRcbiAgICAgICAgLy8gd2UgbmVlZCB0byB3b3JrIG9mIGFuIGFycmF5LCBzbyB3ZSBuZWVkIHRvIHNlZSBpZiBhbnl0aGluZyB3YXMgaW5zZXJ0ZWQvcmVtb3ZlZFxuICAgICAgICB2YXIgbGFzdFZpZXcsIGxhc3RWaWV3UmVmID0gTmFOO1xuICAgICAgICBzY29wZS4kd2F0Y2goZnVuY3Rpb24gc2VsZWN0TXVsdGlwbGVXYXRjaCgpIHtcbiAgICAgICAgICBpZiAobGFzdFZpZXdSZWYgPT09IG5nTW9kZWxDdHJsLiR2aWV3VmFsdWUgJiYgIWVxdWFscyhsYXN0VmlldywgbmdNb2RlbEN0cmwuJHZpZXdWYWx1ZSkpIHtcbiAgICAgICAgICAgIGxhc3RWaWV3ID0gc2hhbGxvd0NvcHkobmdNb2RlbEN0cmwuJHZpZXdWYWx1ZSk7XG4gICAgICAgICAgICBuZ01vZGVsQ3RybC4kcmVuZGVyKCk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGxhc3RWaWV3UmVmID0gbmdNb2RlbEN0cmwuJHZpZXdWYWx1ZTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgLy8gSWYgd2UgYXJlIGEgbXVsdGlwbGUgc2VsZWN0IHRoZW4gdmFsdWUgaXMgbm93IGEgY29sbGVjdGlvblxuICAgICAgICAvLyBzbyB0aGUgbWVhbmluZyBvZiAkaXNFbXB0eSBjaGFuZ2VzXG4gICAgICAgIG5nTW9kZWxDdHJsLiRpc0VtcHR5ID0gZnVuY3Rpb24odmFsdWUpIHtcbiAgICAgICAgICByZXR1cm4gIXZhbHVlIHx8IHZhbHVlLmxlbmd0aCA9PT0gMDtcbiAgICAgICAgfTtcblxuICAgICAgfVxuICAgIH1cblxuICAgIGZ1bmN0aW9uIHNlbGVjdFBvc3RMaW5rKHNjb3BlLCBlbGVtZW50LCBhdHRycywgY3RybHMpIHtcbiAgICAgIC8vIGlmIG5nTW9kZWwgaXMgbm90IGRlZmluZWQsIHdlIGRvbid0IG5lZWQgdG8gZG8gYW55dGhpbmdcbiAgICAgIHZhciBuZ01vZGVsQ3RybCA9IGN0cmxzWzFdO1xuICAgICAgaWYgKCFuZ01vZGVsQ3RybCkgcmV0dXJuO1xuXG4gICAgICB2YXIgc2VsZWN0Q3RybCA9IGN0cmxzWzBdO1xuXG4gICAgICAvLyBXZSBkZWxlZ2F0ZSByZW5kZXJpbmcgdG8gdGhlIGB3cml0ZVZhbHVlYCBtZXRob2QsIHdoaWNoIGNhbiBiZSBjaGFuZ2VkXG4gICAgICAvLyBpZiB0aGUgc2VsZWN0IGNhbiBoYXZlIG11bHRpcGxlIHNlbGVjdGVkIHZhbHVlcyBvciBpZiB0aGUgb3B0aW9ucyBhcmUgYmVpbmdcbiAgICAgIC8vIGdlbmVyYXRlZCBieSBgbmdPcHRpb25zYC5cbiAgICAgIC8vIFRoaXMgbXVzdCBiZSBkb25lIGluIHRoZSBwb3N0TGluayBmbiB0byBwcmV2ZW50ICRyZW5kZXIgdG8gYmUgY2FsbGVkIGJlZm9yZVxuICAgICAgLy8gYWxsIG5vZGVzIGhhdmUgYmVlbiBsaW5rZWQgY29ycmVjdGx5LlxuICAgICAgbmdNb2RlbEN0cmwuJHJlbmRlciA9IGZ1bmN0aW9uKCkge1xuICAgICAgICBzZWxlY3RDdHJsLndyaXRlVmFsdWUobmdNb2RlbEN0cmwuJHZpZXdWYWx1ZSk7XG4gICAgICB9O1xuICAgIH1cbn07XG5cblxuLy8gVGhlIG9wdGlvbiBkaXJlY3RpdmUgaXMgcHVyZWx5IGRlc2lnbmVkIHRvIGNvbW11bmljYXRlIHRoZSBleGlzdGVuY2UgKG9yIGxhY2sgb2YpXG4vLyBvZiBkeW5hbWljYWxseSBjcmVhdGVkIChhbmQgZGVzdHJveWVkKSBvcHRpb24gZWxlbWVudHMgdG8gdGhlaXIgY29udGFpbmluZyBzZWxlY3Rcbi8vIGRpcmVjdGl2ZSB2aWEgaXRzIGNvbnRyb2xsZXIuXG52YXIgb3B0aW9uRGlyZWN0aXZlID0gWyckaW50ZXJwb2xhdGUnLCBmdW5jdGlvbigkaW50ZXJwb2xhdGUpIHtcbiAgcmV0dXJuIHtcbiAgICByZXN0cmljdDogJ0UnLFxuICAgIHByaW9yaXR5OiAxMDAsXG4gICAgY29tcGlsZTogZnVuY3Rpb24oZWxlbWVudCwgYXR0cikge1xuICAgICAgdmFyIGludGVycG9sYXRlVmFsdWVGbiwgaW50ZXJwb2xhdGVUZXh0Rm47XG5cbiAgICAgIGlmIChpc0RlZmluZWQoYXR0ci5uZ1ZhbHVlKSkge1xuICAgICAgICAvLyBXaWxsIGJlIGhhbmRsZWQgYnkgcmVnaXN0ZXJPcHRpb25cbiAgICAgIH0gZWxzZSBpZiAoaXNEZWZpbmVkKGF0dHIudmFsdWUpKSB7XG4gICAgICAgIC8vIElmIHRoZSB2YWx1ZSBhdHRyaWJ1dGUgaXMgZGVmaW5lZCwgY2hlY2sgaWYgaXQgY29udGFpbnMgYW4gaW50ZXJwb2xhdGlvblxuICAgICAgICBpbnRlcnBvbGF0ZVZhbHVlRm4gPSAkaW50ZXJwb2xhdGUoYXR0ci52YWx1ZSwgdHJ1ZSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICAvLyBJZiB0aGUgdmFsdWUgYXR0cmlidXRlIGlzIG5vdCBkZWZpbmVkIHRoZW4gd2UgZmFsbCBiYWNrIHRvIHRoZVxuICAgICAgICAvLyB0ZXh0IGNvbnRlbnQgb2YgdGhlIG9wdGlvbiBlbGVtZW50LCB3aGljaCBtYXkgYmUgaW50ZXJwb2xhdGVkXG4gICAgICAgIGludGVycG9sYXRlVGV4dEZuID0gJGludGVycG9sYXRlKGVsZW1lbnQudGV4dCgpLCB0cnVlKTtcbiAgICAgICAgaWYgKCFpbnRlcnBvbGF0ZVRleHRGbikge1xuICAgICAgICAgIGF0dHIuJHNldCgndmFsdWUnLCBlbGVtZW50LnRleHQoKSk7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgcmV0dXJuIGZ1bmN0aW9uKHNjb3BlLCBlbGVtZW50LCBhdHRyKSB7XG4gICAgICAgIC8vIFRoaXMgaXMgYW4gb3B0aW1pemF0aW9uIG92ZXIgdXNpbmcgXl4gc2luY2Ugd2UgZG9uJ3Qgd2FudCB0byBoYXZlIHRvIHNlYXJjaFxuICAgICAgICAvLyBhbGwgdGhlIHdheSB0byB0aGUgcm9vdCBvZiB0aGUgRE9NIGZvciBldmVyeSBzaW5nbGUgb3B0aW9uIGVsZW1lbnRcbiAgICAgICAgdmFyIHNlbGVjdEN0cmxOYW1lID0gJyRzZWxlY3RDb250cm9sbGVyJyxcbiAgICAgICAgICAgIHBhcmVudCA9IGVsZW1lbnQucGFyZW50KCksXG4gICAgICAgICAgICBzZWxlY3RDdHJsID0gcGFyZW50LmRhdGEoc2VsZWN0Q3RybE5hbWUpIHx8XG4gICAgICAgICAgICAgIHBhcmVudC5wYXJlbnQoKS5kYXRhKHNlbGVjdEN0cmxOYW1lKTsgLy8gaW4gY2FzZSB3ZSBhcmUgaW4gb3B0Z3JvdXBcblxuICAgICAgICBpZiAoc2VsZWN0Q3RybCkge1xuICAgICAgICAgIHNlbGVjdEN0cmwucmVnaXN0ZXJPcHRpb24oc2NvcGUsIGVsZW1lbnQsIGF0dHIsIGludGVycG9sYXRlVmFsdWVGbiwgaW50ZXJwb2xhdGVUZXh0Rm4pO1xuICAgICAgICB9XG4gICAgICB9O1xuICAgIH1cbiAgfTtcbn1dO1xuXG4vKipcbiAqIEBuZ2RvYyBkaXJlY3RpdmVcbiAqIEBuYW1lIG5nUmVxdWlyZWRcbiAqIEByZXN0cmljdCBBXG4gKlxuICogQGRlc2NyaXB0aW9uXG4gKlxuICogbmdSZXF1aXJlZCBhZGRzIHRoZSByZXF1aXJlZCB7QGxpbmsgbmdNb2RlbC5OZ01vZGVsQ29udHJvbGxlciMkdmFsaWRhdG9ycyBgdmFsaWRhdG9yYH0gdG8ge0BsaW5rIG5nTW9kZWwgYG5nTW9kZWxgfS5cbiAqIEl0IGlzIG1vc3Qgb2Z0ZW4gdXNlZCBmb3Ige0BsaW5rIGlucHV0IGBpbnB1dGB9IGFuZCB7QGxpbmsgc2VsZWN0IGBzZWxlY3RgfSBjb250cm9scywgYnV0IGNhbiBhbHNvIGJlXG4gKiBhcHBsaWVkIHRvIGN1c3RvbSBjb250cm9scy5cbiAqXG4gKiBUaGUgZGlyZWN0aXZlIHNldHMgdGhlIGByZXF1aXJlZGAgYXR0cmlidXRlIG9uIHRoZSBlbGVtZW50IGlmIHRoZSBBbmd1bGFyIGV4cHJlc3Npb24gaW5zaWRlXG4gKiBgbmdSZXF1aXJlZGAgZXZhbHVhdGVzIHRvIHRydWUuIEEgc3BlY2lhbCBkaXJlY3RpdmUgZm9yIHNldHRpbmcgYHJlcXVpcmVkYCBpcyBuZWNlc3NhcnkgYmVjYXVzZSB3ZVxuICogY2Fubm90IHVzZSBpbnRlcnBvbGF0aW9uIGluc2lkZSBgcmVxdWlyZWRgLiBTZWUgdGhlIHtAbGluayBndWlkZS9pbnRlcnBvbGF0aW9uIGludGVycG9sYXRpb24gZ3VpZGV9XG4gKiBmb3IgbW9yZSBpbmZvLlxuICpcbiAqIFRoZSB2YWxpZGF0b3Igd2lsbCBzZXQgdGhlIGByZXF1aXJlZGAgZXJyb3Iga2V5IHRvIHRydWUgaWYgdGhlIGByZXF1aXJlZGAgYXR0cmlidXRlIGlzIHNldCBhbmRcbiAqIGNhbGxpbmcge0BsaW5rIG5nTW9kZWwuTmdNb2RlbENvbnRyb2xsZXIjJGlzRW1wdHkgYE5nTW9kZWxDb250cm9sbGVyLiRpc0VtcHR5YH0gd2l0aCB0aGVcbiAqIHtAbGluayBuZ01vZGVsLk5nTW9kZWxDb250cm9sbGVyIyR2aWV3VmFsdWUgYG5nTW9kZWwuJHZpZXdWYWx1ZWB9IHJldHVybnMgYHRydWVgLiBGb3IgZXhhbXBsZSwgdGhlXG4gKiBgJGlzRW1wdHkoKWAgaW1wbGVtZW50YXRpb24gZm9yIGBpbnB1dFt0ZXh0XWAgY2hlY2tzIHRoZSBsZW5ndGggb2YgdGhlIGAkdmlld1ZhbHVlYC4gV2hlbiBkZXZlbG9waW5nXG4gKiBjdXN0b20gY29udHJvbHMsIGAkaXNFbXB0eSgpYCBjYW4gYmUgb3ZlcndyaXR0ZW4gdG8gYWNjb3VudCBmb3IgYSAkdmlld1ZhbHVlIHRoYXQgaXMgbm90IHN0cmluZy1iYXNlZC5cbiAqXG4gKiBAZXhhbXBsZVxuICogPGV4YW1wbGUgbmFtZT1cIm5nUmVxdWlyZWREaXJlY3RpdmVcIiBtb2R1bGU9XCJuZ1JlcXVpcmVkRXhhbXBsZVwiPlxuICogICA8ZmlsZSBuYW1lPVwiaW5kZXguaHRtbFwiPlxuICogICAgIDxzY3JpcHQ+XG4gKiAgICAgICBhbmd1bGFyLm1vZHVsZSgnbmdSZXF1aXJlZEV4YW1wbGUnLCBbXSlcbiAqICAgICAgICAgLmNvbnRyb2xsZXIoJ0V4YW1wbGVDb250cm9sbGVyJywgWyckc2NvcGUnLCBmdW5jdGlvbigkc2NvcGUpIHtcbiAqICAgICAgICAgICAkc2NvcGUucmVxdWlyZWQgPSB0cnVlO1xuICogICAgICAgICB9XSk7XG4gKiAgICAgPC9zY3JpcHQ+XG4gKiAgICAgPGRpdiBuZy1jb250cm9sbGVyPVwiRXhhbXBsZUNvbnRyb2xsZXJcIj5cbiAqICAgICAgIDxmb3JtIG5hbWU9XCJmb3JtXCI+XG4gKiAgICAgICAgIDxsYWJlbCBmb3I9XCJyZXF1aXJlZFwiPlRvZ2dsZSByZXF1aXJlZDogPC9sYWJlbD5cbiAqICAgICAgICAgPGlucHV0IHR5cGU9XCJjaGVja2JveFwiIG5nLW1vZGVsPVwicmVxdWlyZWRcIiBpZD1cInJlcXVpcmVkXCIgLz5cbiAqICAgICAgICAgPGJyPlxuICogICAgICAgICA8bGFiZWwgZm9yPVwiaW5wdXRcIj5UaGlzIGlucHV0IG11c3QgYmUgZmlsbGVkIGlmIGByZXF1aXJlZGAgaXMgdHJ1ZTogPC9sYWJlbD5cbiAqICAgICAgICAgPGlucHV0IHR5cGU9XCJ0ZXh0XCIgbmctbW9kZWw9XCJtb2RlbFwiIGlkPVwiaW5wdXRcIiBuYW1lPVwiaW5wdXRcIiBuZy1yZXF1aXJlZD1cInJlcXVpcmVkXCIgLz48YnI+XG4gKiAgICAgICAgIDxocj5cbiAqICAgICAgICAgcmVxdWlyZWQgZXJyb3Igc2V0PyA9IDxjb2RlPnt7Zm9ybS5pbnB1dC4kZXJyb3IucmVxdWlyZWR9fTwvY29kZT48YnI+XG4gKiAgICAgICAgIG1vZGVsID0gPGNvZGU+e3ttb2RlbH19PC9jb2RlPlxuICogICAgICAgPC9mb3JtPlxuICogICAgIDwvZGl2PlxuICogICA8L2ZpbGU+XG4gKiAgIDxmaWxlIG5hbWU9XCJwcm90cmFjdG9yLmpzXCIgdHlwZT1cInByb3RyYWN0b3JcIj5cbiAgICAgICB2YXIgcmVxdWlyZWQgPSBlbGVtZW50KGJ5LmJpbmRpbmcoJ2Zvcm0uaW5wdXQuJGVycm9yLnJlcXVpcmVkJykpO1xuICAgICAgIHZhciBtb2RlbCA9IGVsZW1lbnQoYnkuYmluZGluZygnbW9kZWwnKSk7XG4gICAgICAgdmFyIGlucHV0ID0gZWxlbWVudChieS5pZCgnaW5wdXQnKSk7XG5cbiAgICAgICBpdCgnc2hvdWxkIHNldCB0aGUgcmVxdWlyZWQgZXJyb3InLCBmdW5jdGlvbigpIHtcbiAgICAgICAgIGV4cGVjdChyZXF1aXJlZC5nZXRUZXh0KCkpLnRvQ29udGFpbigndHJ1ZScpO1xuXG4gICAgICAgICBpbnB1dC5zZW5kS2V5cygnMTIzJyk7XG4gICAgICAgICBleHBlY3QocmVxdWlyZWQuZ2V0VGV4dCgpKS5ub3QudG9Db250YWluKCd0cnVlJyk7XG4gICAgICAgICBleHBlY3QobW9kZWwuZ2V0VGV4dCgpKS50b0NvbnRhaW4oJzEyMycpO1xuICAgICAgIH0pO1xuICogICA8L2ZpbGU+XG4gKiA8L2V4YW1wbGU+XG4gKi9cbnZhciByZXF1aXJlZERpcmVjdGl2ZSA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4ge1xuICAgIHJlc3RyaWN0OiAnQScsXG4gICAgcmVxdWlyZTogJz9uZ01vZGVsJyxcbiAgICBsaW5rOiBmdW5jdGlvbihzY29wZSwgZWxtLCBhdHRyLCBjdHJsKSB7XG4gICAgICBpZiAoIWN0cmwpIHJldHVybjtcbiAgICAgIGF0dHIucmVxdWlyZWQgPSB0cnVlOyAvLyBmb3JjZSB0cnV0aHkgaW4gY2FzZSB3ZSBhcmUgb24gbm9uIGlucHV0IGVsZW1lbnRcblxuICAgICAgY3RybC4kdmFsaWRhdG9ycy5yZXF1aXJlZCA9IGZ1bmN0aW9uKG1vZGVsVmFsdWUsIHZpZXdWYWx1ZSkge1xuICAgICAgICByZXR1cm4gIWF0dHIucmVxdWlyZWQgfHwgIWN0cmwuJGlzRW1wdHkodmlld1ZhbHVlKTtcbiAgICAgIH07XG5cbiAgICAgIGF0dHIuJG9ic2VydmUoJ3JlcXVpcmVkJywgZnVuY3Rpb24oKSB7XG4gICAgICAgIGN0cmwuJHZhbGlkYXRlKCk7XG4gICAgICB9KTtcbiAgICB9XG4gIH07XG59O1xuXG4vKipcbiAqIEBuZ2RvYyBkaXJlY3RpdmVcbiAqIEBuYW1lIG5nUGF0dGVyblxuICpcbiAqIEBkZXNjcmlwdGlvblxuICpcbiAqIG5nUGF0dGVybiBhZGRzIHRoZSBwYXR0ZXJuIHtAbGluayBuZ01vZGVsLk5nTW9kZWxDb250cm9sbGVyIyR2YWxpZGF0b3JzIGB2YWxpZGF0b3JgfSB0byB7QGxpbmsgbmdNb2RlbCBgbmdNb2RlbGB9LlxuICogSXQgaXMgbW9zdCBvZnRlbiB1c2VkIGZvciB0ZXh0LWJhc2VkIHtAbGluayBpbnB1dCBgaW5wdXRgfSBjb250cm9scywgYnV0IGNhbiBhbHNvIGJlIGFwcGxpZWQgdG8gY3VzdG9tIHRleHQtYmFzZWQgY29udHJvbHMuXG4gKlxuICogVGhlIHZhbGlkYXRvciBzZXRzIHRoZSBgcGF0dGVybmAgZXJyb3Iga2V5IGlmIHRoZSB7QGxpbmsgbmdNb2RlbC5OZ01vZGVsQ29udHJvbGxlciMkdmlld1ZhbHVlIGBuZ01vZGVsLiR2aWV3VmFsdWVgfVxuICogZG9lcyBub3QgbWF0Y2ggYSBSZWdFeHAgd2hpY2ggaXMgb2J0YWluZWQgYnkgZXZhbHVhdGluZyB0aGUgQW5ndWxhciBleHByZXNzaW9uIGdpdmVuIGluIHRoZVxuICogYG5nUGF0dGVybmAgYXR0cmlidXRlIHZhbHVlOlxuICogKiBJZiB0aGUgZXhwcmVzc2lvbiBldmFsdWF0ZXMgdG8gYSBSZWdFeHAgb2JqZWN0LCB0aGVuIHRoaXMgaXMgdXNlZCBkaXJlY3RseS5cbiAqICogSWYgdGhlIGV4cHJlc3Npb24gZXZhbHVhdGVzIHRvIGEgc3RyaW5nLCB0aGVuIGl0IHdpbGwgYmUgY29udmVydGVkIHRvIGEgUmVnRXhwIGFmdGVyIHdyYXBwaW5nIGl0XG4gKiBpbiBgXmAgYW5kIGAkYCBjaGFyYWN0ZXJzLiBGb3IgaW5zdGFuY2UsIGBcImFiY1wiYCB3aWxsIGJlIGNvbnZlcnRlZCB0byBgbmV3IFJlZ0V4cCgnXmFiYyQnKWAuXG4gKlxuICogPGRpdiBjbGFzcz1cImFsZXJ0IGFsZXJ0LWluZm9cIj5cbiAqICoqTm90ZToqKiBBdm9pZCB1c2luZyB0aGUgYGdgIGZsYWcgb24gdGhlIFJlZ0V4cCwgYXMgaXQgd2lsbCBjYXVzZSBlYWNoIHN1Y2Nlc3NpdmUgc2VhcmNoIHRvXG4gKiBzdGFydCBhdCB0aGUgaW5kZXggb2YgdGhlIGxhc3Qgc2VhcmNoJ3MgbWF0Y2gsIHRodXMgbm90IHRha2luZyB0aGUgd2hvbGUgaW5wdXQgdmFsdWUgaW50b1xuICogYWNjb3VudC5cbiAqIDwvZGl2PlxuICpcbiAqIDxkaXYgY2xhc3M9XCJhbGVydCBhbGVydC1pbmZvXCI+XG4gKiAqKk5vdGU6KiogVGhpcyBkaXJlY3RpdmUgaXMgYWxzbyBhZGRlZCB3aGVuIHRoZSBwbGFpbiBgcGF0dGVybmAgYXR0cmlidXRlIGlzIHVzZWQsIHdpdGggdHdvXG4gKiBkaWZmZXJlbmNlczpcbiAqIDxvbD5cbiAqICAgPGxpPlxuICogICAgIGBuZ1BhdHRlcm5gIGRvZXMgbm90IHNldCB0aGUgYHBhdHRlcm5gIGF0dHJpYnV0ZSBhbmQgdGhlcmVmb3JlIEhUTUw1IGNvbnN0cmFpbnQgdmFsaWRhdGlvbiBpc1xuICogICAgIG5vdCBhdmFpbGFibGUuXG4gKiAgIDwvbGk+XG4gKiAgIDxsaT5cbiAqICAgICBUaGUgYG5nUGF0dGVybmAgYXR0cmlidXRlIG11c3QgYmUgYW4gZXhwcmVzc2lvbiwgd2hpbGUgdGhlIGBwYXR0ZXJuYCB2YWx1ZSBtdXN0IGJlXG4gKiAgICAgaW50ZXJwb2xhdGVkLlxuICogICA8L2xpPlxuICogPC9vbD5cbiAqIDwvZGl2PlxuICpcbiAqIEBleGFtcGxlXG4gKiA8ZXhhbXBsZSBuYW1lPVwibmdQYXR0ZXJuRGlyZWN0aXZlXCIgbW9kdWxlPVwibmdQYXR0ZXJuRXhhbXBsZVwiPlxuICogICA8ZmlsZSBuYW1lPVwiaW5kZXguaHRtbFwiPlxuICogICAgIDxzY3JpcHQ+XG4gKiAgICAgICBhbmd1bGFyLm1vZHVsZSgnbmdQYXR0ZXJuRXhhbXBsZScsIFtdKVxuICogICAgICAgICAuY29udHJvbGxlcignRXhhbXBsZUNvbnRyb2xsZXInLCBbJyRzY29wZScsIGZ1bmN0aW9uKCRzY29wZSkge1xuICogICAgICAgICAgICRzY29wZS5yZWdleCA9ICdcXFxcZCsnO1xuICogICAgICAgICB9XSk7XG4gKiAgICAgPC9zY3JpcHQ+XG4gKiAgICAgPGRpdiBuZy1jb250cm9sbGVyPVwiRXhhbXBsZUNvbnRyb2xsZXJcIj5cbiAqICAgICAgIDxmb3JtIG5hbWU9XCJmb3JtXCI+XG4gKiAgICAgICAgIDxsYWJlbCBmb3I9XCJyZWdleFwiPlNldCBhIHBhdHRlcm4gKHJlZ2V4IHN0cmluZyk6IDwvbGFiZWw+XG4gKiAgICAgICAgIDxpbnB1dCB0eXBlPVwidGV4dFwiIG5nLW1vZGVsPVwicmVnZXhcIiBpZD1cInJlZ2V4XCIgLz5cbiAqICAgICAgICAgPGJyPlxuICogICAgICAgICA8bGFiZWwgZm9yPVwiaW5wdXRcIj5UaGlzIGlucHV0IGlzIHJlc3RyaWN0ZWQgYnkgdGhlIGN1cnJlbnQgcGF0dGVybjogPC9sYWJlbD5cbiAqICAgICAgICAgPGlucHV0IHR5cGU9XCJ0ZXh0XCIgbmctbW9kZWw9XCJtb2RlbFwiIGlkPVwiaW5wdXRcIiBuYW1lPVwiaW5wdXRcIiBuZy1wYXR0ZXJuPVwicmVnZXhcIiAvPjxicj5cbiAqICAgICAgICAgPGhyPlxuICogICAgICAgICBpbnB1dCB2YWxpZD8gPSA8Y29kZT57e2Zvcm0uaW5wdXQuJHZhbGlkfX08L2NvZGU+PGJyPlxuICogICAgICAgICBtb2RlbCA9IDxjb2RlPnt7bW9kZWx9fTwvY29kZT5cbiAqICAgICAgIDwvZm9ybT5cbiAqICAgICA8L2Rpdj5cbiAqICAgPC9maWxlPlxuICogICA8ZmlsZSBuYW1lPVwicHJvdHJhY3Rvci5qc1wiIHR5cGU9XCJwcm90cmFjdG9yXCI+XG4gICAgICAgdmFyIG1vZGVsID0gZWxlbWVudChieS5iaW5kaW5nKCdtb2RlbCcpKTtcbiAgICAgICB2YXIgaW5wdXQgPSBlbGVtZW50KGJ5LmlkKCdpbnB1dCcpKTtcblxuICAgICAgIGl0KCdzaG91bGQgdmFsaWRhdGUgdGhlIGlucHV0IHdpdGggdGhlIGRlZmF1bHQgcGF0dGVybicsIGZ1bmN0aW9uKCkge1xuICAgICAgICAgaW5wdXQuc2VuZEtleXMoJ2FhYScpO1xuICAgICAgICAgZXhwZWN0KG1vZGVsLmdldFRleHQoKSkubm90LnRvQ29udGFpbignYWFhJyk7XG5cbiAgICAgICAgIGlucHV0LmNsZWFyKCkudGhlbihmdW5jdGlvbigpIHtcbiAgICAgICAgICAgaW5wdXQuc2VuZEtleXMoJzEyMycpO1xuICAgICAgICAgICBleHBlY3QobW9kZWwuZ2V0VGV4dCgpKS50b0NvbnRhaW4oJzEyMycpO1xuICAgICAgICAgfSk7XG4gICAgICAgfSk7XG4gKiAgIDwvZmlsZT5cbiAqIDwvZXhhbXBsZT5cbiAqL1xudmFyIHBhdHRlcm5EaXJlY3RpdmUgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHtcbiAgICByZXN0cmljdDogJ0EnLFxuICAgIHJlcXVpcmU6ICc/bmdNb2RlbCcsXG4gICAgbGluazogZnVuY3Rpb24oc2NvcGUsIGVsbSwgYXR0ciwgY3RybCkge1xuICAgICAgaWYgKCFjdHJsKSByZXR1cm47XG5cbiAgICAgIHZhciByZWdleHAsIHBhdHRlcm5FeHAgPSBhdHRyLm5nUGF0dGVybiB8fCBhdHRyLnBhdHRlcm47XG4gICAgICBhdHRyLiRvYnNlcnZlKCdwYXR0ZXJuJywgZnVuY3Rpb24ocmVnZXgpIHtcbiAgICAgICAgaWYgKGlzU3RyaW5nKHJlZ2V4KSAmJiByZWdleC5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgcmVnZXggPSBuZXcgUmVnRXhwKCdeJyArIHJlZ2V4ICsgJyQnKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChyZWdleCAmJiAhcmVnZXgudGVzdCkge1xuICAgICAgICAgIHRocm93IG1pbkVycignbmdQYXR0ZXJuJykoJ25vcmVnZXhwJyxcbiAgICAgICAgICAgICdFeHBlY3RlZCB7MH0gdG8gYmUgYSBSZWdFeHAgYnV0IHdhcyB7MX0uIEVsZW1lbnQ6IHsyfScsIHBhdHRlcm5FeHAsXG4gICAgICAgICAgICByZWdleCwgc3RhcnRpbmdUYWcoZWxtKSk7XG4gICAgICAgIH1cblxuICAgICAgICByZWdleHAgPSByZWdleCB8fCB1bmRlZmluZWQ7XG4gICAgICAgIGN0cmwuJHZhbGlkYXRlKCk7XG4gICAgICB9KTtcblxuICAgICAgY3RybC4kdmFsaWRhdG9ycy5wYXR0ZXJuID0gZnVuY3Rpb24obW9kZWxWYWx1ZSwgdmlld1ZhbHVlKSB7XG4gICAgICAgIC8vIEhUTUw1IHBhdHRlcm4gY29uc3RyYWludCB2YWxpZGF0ZXMgdGhlIGlucHV0IHZhbHVlLCBzbyB3ZSB2YWxpZGF0ZSB0aGUgdmlld1ZhbHVlXG4gICAgICAgIHJldHVybiBjdHJsLiRpc0VtcHR5KHZpZXdWYWx1ZSkgfHwgaXNVbmRlZmluZWQocmVnZXhwKSB8fCByZWdleHAudGVzdCh2aWV3VmFsdWUpO1xuICAgICAgfTtcbiAgICB9XG4gIH07XG59O1xuXG4vKipcbiAqIEBuZ2RvYyBkaXJlY3RpdmVcbiAqIEBuYW1lIG5nTWF4bGVuZ3RoXG4gKlxuICogQGRlc2NyaXB0aW9uXG4gKlxuICogbmdNYXhsZW5ndGggYWRkcyB0aGUgbWF4bGVuZ3RoIHtAbGluayBuZ01vZGVsLk5nTW9kZWxDb250cm9sbGVyIyR2YWxpZGF0b3JzIGB2YWxpZGF0b3JgfSB0byB7QGxpbmsgbmdNb2RlbCBgbmdNb2RlbGB9LlxuICogSXQgaXMgbW9zdCBvZnRlbiB1c2VkIGZvciB0ZXh0LWJhc2VkIHtAbGluayBpbnB1dCBgaW5wdXRgfSBjb250cm9scywgYnV0IGNhbiBhbHNvIGJlIGFwcGxpZWQgdG8gY3VzdG9tIHRleHQtYmFzZWQgY29udHJvbHMuXG4gKlxuICogVGhlIHZhbGlkYXRvciBzZXRzIHRoZSBgbWF4bGVuZ3RoYCBlcnJvciBrZXkgaWYgdGhlIHtAbGluayBuZ01vZGVsLk5nTW9kZWxDb250cm9sbGVyIyR2aWV3VmFsdWUgYG5nTW9kZWwuJHZpZXdWYWx1ZWB9XG4gKiBpcyBsb25nZXIgdGhhbiB0aGUgaW50ZWdlciBvYnRhaW5lZCBieSBldmFsdWF0aW5nIHRoZSBBbmd1bGFyIGV4cHJlc3Npb24gZ2l2ZW4gaW4gdGhlXG4gKiBgbmdNYXhsZW5ndGhgIGF0dHJpYnV0ZSB2YWx1ZS5cbiAqXG4gKiA8ZGl2IGNsYXNzPVwiYWxlcnQgYWxlcnQtaW5mb1wiPlxuICogKipOb3RlOioqIFRoaXMgZGlyZWN0aXZlIGlzIGFsc28gYWRkZWQgd2hlbiB0aGUgcGxhaW4gYG1heGxlbmd0aGAgYXR0cmlidXRlIGlzIHVzZWQsIHdpdGggdHdvXG4gKiBkaWZmZXJlbmNlczpcbiAqIDxvbD5cbiAqICAgPGxpPlxuICogICAgIGBuZ01heGxlbmd0aGAgZG9lcyBub3Qgc2V0IHRoZSBgbWF4bGVuZ3RoYCBhdHRyaWJ1dGUgYW5kIHRoZXJlZm9yZSBIVE1MNSBjb25zdHJhaW50XG4gKiAgICAgdmFsaWRhdGlvbiBpcyBub3QgYXZhaWxhYmxlLlxuICogICA8L2xpPlxuICogICA8bGk+XG4gKiAgICAgVGhlIGBuZ01heGxlbmd0aGAgYXR0cmlidXRlIG11c3QgYmUgYW4gZXhwcmVzc2lvbiwgd2hpbGUgdGhlIGBtYXhsZW5ndGhgIHZhbHVlIG11c3QgYmVcbiAqICAgICBpbnRlcnBvbGF0ZWQuXG4gKiAgIDwvbGk+XG4gKiA8L29sPlxuICogPC9kaXY+XG4gKlxuICogQGV4YW1wbGVcbiAqIDxleGFtcGxlIG5hbWU9XCJuZ01heGxlbmd0aERpcmVjdGl2ZVwiIG1vZHVsZT1cIm5nTWF4bGVuZ3RoRXhhbXBsZVwiPlxuICogICA8ZmlsZSBuYW1lPVwiaW5kZXguaHRtbFwiPlxuICogICAgIDxzY3JpcHQ+XG4gKiAgICAgICBhbmd1bGFyLm1vZHVsZSgnbmdNYXhsZW5ndGhFeGFtcGxlJywgW10pXG4gKiAgICAgICAgIC5jb250cm9sbGVyKCdFeGFtcGxlQ29udHJvbGxlcicsIFsnJHNjb3BlJywgZnVuY3Rpb24oJHNjb3BlKSB7XG4gKiAgICAgICAgICAgJHNjb3BlLm1heGxlbmd0aCA9IDU7XG4gKiAgICAgICAgIH1dKTtcbiAqICAgICA8L3NjcmlwdD5cbiAqICAgICA8ZGl2IG5nLWNvbnRyb2xsZXI9XCJFeGFtcGxlQ29udHJvbGxlclwiPlxuICogICAgICAgPGZvcm0gbmFtZT1cImZvcm1cIj5cbiAqICAgICAgICAgPGxhYmVsIGZvcj1cIm1heGxlbmd0aFwiPlNldCBhIG1heGxlbmd0aDogPC9sYWJlbD5cbiAqICAgICAgICAgPGlucHV0IHR5cGU9XCJudW1iZXJcIiBuZy1tb2RlbD1cIm1heGxlbmd0aFwiIGlkPVwibWF4bGVuZ3RoXCIgLz5cbiAqICAgICAgICAgPGJyPlxuICogICAgICAgICA8bGFiZWwgZm9yPVwiaW5wdXRcIj5UaGlzIGlucHV0IGlzIHJlc3RyaWN0ZWQgYnkgdGhlIGN1cnJlbnQgbWF4bGVuZ3RoOiA8L2xhYmVsPlxuICogICAgICAgICA8aW5wdXQgdHlwZT1cInRleHRcIiBuZy1tb2RlbD1cIm1vZGVsXCIgaWQ9XCJpbnB1dFwiIG5hbWU9XCJpbnB1dFwiIG5nLW1heGxlbmd0aD1cIm1heGxlbmd0aFwiIC8+PGJyPlxuICogICAgICAgICA8aHI+XG4gKiAgICAgICAgIGlucHV0IHZhbGlkPyA9IDxjb2RlPnt7Zm9ybS5pbnB1dC4kdmFsaWR9fTwvY29kZT48YnI+XG4gKiAgICAgICAgIG1vZGVsID0gPGNvZGU+e3ttb2RlbH19PC9jb2RlPlxuICogICAgICAgPC9mb3JtPlxuICogICAgIDwvZGl2PlxuICogICA8L2ZpbGU+XG4gKiAgIDxmaWxlIG5hbWU9XCJwcm90cmFjdG9yLmpzXCIgdHlwZT1cInByb3RyYWN0b3JcIj5cbiAgICAgICB2YXIgbW9kZWwgPSBlbGVtZW50KGJ5LmJpbmRpbmcoJ21vZGVsJykpO1xuICAgICAgIHZhciBpbnB1dCA9IGVsZW1lbnQoYnkuaWQoJ2lucHV0JykpO1xuXG4gICAgICAgaXQoJ3Nob3VsZCB2YWxpZGF0ZSB0aGUgaW5wdXQgd2l0aCB0aGUgZGVmYXVsdCBtYXhsZW5ndGgnLCBmdW5jdGlvbigpIHtcbiAgICAgICAgIGlucHV0LnNlbmRLZXlzKCdhYmNkZWYnKTtcbiAgICAgICAgIGV4cGVjdChtb2RlbC5nZXRUZXh0KCkpLm5vdC50b0NvbnRhaW4oJ2FiY2RlZicpO1xuXG4gICAgICAgICBpbnB1dC5jbGVhcigpLnRoZW4oZnVuY3Rpb24oKSB7XG4gICAgICAgICAgIGlucHV0LnNlbmRLZXlzKCdhYmNkZScpO1xuICAgICAgICAgICBleHBlY3QobW9kZWwuZ2V0VGV4dCgpKS50b0NvbnRhaW4oJ2FiY2RlJyk7XG4gICAgICAgICB9KTtcbiAgICAgICB9KTtcbiAqICAgPC9maWxlPlxuICogPC9leGFtcGxlPlxuICovXG52YXIgbWF4bGVuZ3RoRGlyZWN0aXZlID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiB7XG4gICAgcmVzdHJpY3Q6ICdBJyxcbiAgICByZXF1aXJlOiAnP25nTW9kZWwnLFxuICAgIGxpbms6IGZ1bmN0aW9uKHNjb3BlLCBlbG0sIGF0dHIsIGN0cmwpIHtcbiAgICAgIGlmICghY3RybCkgcmV0dXJuO1xuXG4gICAgICB2YXIgbWF4bGVuZ3RoID0gLTE7XG4gICAgICBhdHRyLiRvYnNlcnZlKCdtYXhsZW5ndGgnLCBmdW5jdGlvbih2YWx1ZSkge1xuICAgICAgICB2YXIgaW50VmFsID0gdG9JbnQodmFsdWUpO1xuICAgICAgICBtYXhsZW5ndGggPSBpc051bWJlck5hTihpbnRWYWwpID8gLTEgOiBpbnRWYWw7XG4gICAgICAgIGN0cmwuJHZhbGlkYXRlKCk7XG4gICAgICB9KTtcbiAgICAgIGN0cmwuJHZhbGlkYXRvcnMubWF4bGVuZ3RoID0gZnVuY3Rpb24obW9kZWxWYWx1ZSwgdmlld1ZhbHVlKSB7XG4gICAgICAgIHJldHVybiAobWF4bGVuZ3RoIDwgMCkgfHwgY3RybC4kaXNFbXB0eSh2aWV3VmFsdWUpIHx8ICh2aWV3VmFsdWUubGVuZ3RoIDw9IG1heGxlbmd0aCk7XG4gICAgICB9O1xuICAgIH1cbiAgfTtcbn07XG5cbi8qKlxuICogQG5nZG9jIGRpcmVjdGl2ZVxuICogQG5hbWUgbmdNaW5sZW5ndGhcbiAqXG4gKiBAZGVzY3JpcHRpb25cbiAqXG4gKiBuZ01pbmxlbmd0aCBhZGRzIHRoZSBtaW5sZW5ndGgge0BsaW5rIG5nTW9kZWwuTmdNb2RlbENvbnRyb2xsZXIjJHZhbGlkYXRvcnMgYHZhbGlkYXRvcmB9IHRvIHtAbGluayBuZ01vZGVsIGBuZ01vZGVsYH0uXG4gKiBJdCBpcyBtb3N0IG9mdGVuIHVzZWQgZm9yIHRleHQtYmFzZWQge0BsaW5rIGlucHV0IGBpbnB1dGB9IGNvbnRyb2xzLCBidXQgY2FuIGFsc28gYmUgYXBwbGllZCB0byBjdXN0b20gdGV4dC1iYXNlZCBjb250cm9scy5cbiAqXG4gKiBUaGUgdmFsaWRhdG9yIHNldHMgdGhlIGBtaW5sZW5ndGhgIGVycm9yIGtleSBpZiB0aGUge0BsaW5rIG5nTW9kZWwuTmdNb2RlbENvbnRyb2xsZXIjJHZpZXdWYWx1ZSBgbmdNb2RlbC4kdmlld1ZhbHVlYH1cbiAqIGlzIHNob3J0ZXIgdGhhbiB0aGUgaW50ZWdlciBvYnRhaW5lZCBieSBldmFsdWF0aW5nIHRoZSBBbmd1bGFyIGV4cHJlc3Npb24gZ2l2ZW4gaW4gdGhlXG4gKiBgbmdNaW5sZW5ndGhgIGF0dHJpYnV0ZSB2YWx1ZS5cbiAqXG4gKiA8ZGl2IGNsYXNzPVwiYWxlcnQgYWxlcnQtaW5mb1wiPlxuICogKipOb3RlOioqIFRoaXMgZGlyZWN0aXZlIGlzIGFsc28gYWRkZWQgd2hlbiB0aGUgcGxhaW4gYG1pbmxlbmd0aGAgYXR0cmlidXRlIGlzIHVzZWQsIHdpdGggdHdvXG4gKiBkaWZmZXJlbmNlczpcbiAqIDxvbD5cbiAqICAgPGxpPlxuICogICAgIGBuZ01pbmxlbmd0aGAgZG9lcyBub3Qgc2V0IHRoZSBgbWlubGVuZ3RoYCBhdHRyaWJ1dGUgYW5kIHRoZXJlZm9yZSBIVE1MNSBjb25zdHJhaW50XG4gKiAgICAgdmFsaWRhdGlvbiBpcyBub3QgYXZhaWxhYmxlLlxuICogICA8L2xpPlxuICogICA8bGk+XG4gKiAgICAgVGhlIGBuZ01pbmxlbmd0aGAgdmFsdWUgbXVzdCBiZSBhbiBleHByZXNzaW9uLCB3aGlsZSB0aGUgYG1pbmxlbmd0aGAgdmFsdWUgbXVzdCBiZVxuICogICAgIGludGVycG9sYXRlZC5cbiAqICAgPC9saT5cbiAqIDwvb2w+XG4gKiA8L2Rpdj5cbiAqXG4gKiBAZXhhbXBsZVxuICogPGV4YW1wbGUgbmFtZT1cIm5nTWlubGVuZ3RoRGlyZWN0aXZlXCIgbW9kdWxlPVwibmdNaW5sZW5ndGhFeGFtcGxlXCI+XG4gKiAgIDxmaWxlIG5hbWU9XCJpbmRleC5odG1sXCI+XG4gKiAgICAgPHNjcmlwdD5cbiAqICAgICAgIGFuZ3VsYXIubW9kdWxlKCduZ01pbmxlbmd0aEV4YW1wbGUnLCBbXSlcbiAqICAgICAgICAgLmNvbnRyb2xsZXIoJ0V4YW1wbGVDb250cm9sbGVyJywgWyckc2NvcGUnLCBmdW5jdGlvbigkc2NvcGUpIHtcbiAqICAgICAgICAgICAkc2NvcGUubWlubGVuZ3RoID0gMztcbiAqICAgICAgICAgfV0pO1xuICogICAgIDwvc2NyaXB0PlxuICogICAgIDxkaXYgbmctY29udHJvbGxlcj1cIkV4YW1wbGVDb250cm9sbGVyXCI+XG4gKiAgICAgICA8Zm9ybSBuYW1lPVwiZm9ybVwiPlxuICogICAgICAgICA8bGFiZWwgZm9yPVwibWlubGVuZ3RoXCI+U2V0IGEgbWlubGVuZ3RoOiA8L2xhYmVsPlxuICogICAgICAgICA8aW5wdXQgdHlwZT1cIm51bWJlclwiIG5nLW1vZGVsPVwibWlubGVuZ3RoXCIgaWQ9XCJtaW5sZW5ndGhcIiAvPlxuICogICAgICAgICA8YnI+XG4gKiAgICAgICAgIDxsYWJlbCBmb3I9XCJpbnB1dFwiPlRoaXMgaW5wdXQgaXMgcmVzdHJpY3RlZCBieSB0aGUgY3VycmVudCBtaW5sZW5ndGg6IDwvbGFiZWw+XG4gKiAgICAgICAgIDxpbnB1dCB0eXBlPVwidGV4dFwiIG5nLW1vZGVsPVwibW9kZWxcIiBpZD1cImlucHV0XCIgbmFtZT1cImlucHV0XCIgbmctbWlubGVuZ3RoPVwibWlubGVuZ3RoXCIgLz48YnI+XG4gKiAgICAgICAgIDxocj5cbiAqICAgICAgICAgaW5wdXQgdmFsaWQ/ID0gPGNvZGU+e3tmb3JtLmlucHV0LiR2YWxpZH19PC9jb2RlPjxicj5cbiAqICAgICAgICAgbW9kZWwgPSA8Y29kZT57e21vZGVsfX08L2NvZGU+XG4gKiAgICAgICA8L2Zvcm0+XG4gKiAgICAgPC9kaXY+XG4gKiAgIDwvZmlsZT5cbiAqICAgPGZpbGUgbmFtZT1cInByb3RyYWN0b3IuanNcIiB0eXBlPVwicHJvdHJhY3RvclwiPlxuICAgICAgIHZhciBtb2RlbCA9IGVsZW1lbnQoYnkuYmluZGluZygnbW9kZWwnKSk7XG4gICAgICAgdmFyIGlucHV0ID0gZWxlbWVudChieS5pZCgnaW5wdXQnKSk7XG5cbiAgICAgICBpdCgnc2hvdWxkIHZhbGlkYXRlIHRoZSBpbnB1dCB3aXRoIHRoZSBkZWZhdWx0IG1pbmxlbmd0aCcsIGZ1bmN0aW9uKCkge1xuICAgICAgICAgaW5wdXQuc2VuZEtleXMoJ2FiJyk7XG4gICAgICAgICBleHBlY3QobW9kZWwuZ2V0VGV4dCgpKS5ub3QudG9Db250YWluKCdhYicpO1xuXG4gICAgICAgICBpbnB1dC5zZW5kS2V5cygnYWJjJyk7XG4gICAgICAgICBleHBlY3QobW9kZWwuZ2V0VGV4dCgpKS50b0NvbnRhaW4oJ2FiYycpO1xuICAgICAgIH0pO1xuICogICA8L2ZpbGU+XG4gKiA8L2V4YW1wbGU+XG4gKi9cbnZhciBtaW5sZW5ndGhEaXJlY3RpdmUgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHtcbiAgICByZXN0cmljdDogJ0EnLFxuICAgIHJlcXVpcmU6ICc/bmdNb2RlbCcsXG4gICAgbGluazogZnVuY3Rpb24oc2NvcGUsIGVsbSwgYXR0ciwgY3RybCkge1xuICAgICAgaWYgKCFjdHJsKSByZXR1cm47XG5cbiAgICAgIHZhciBtaW5sZW5ndGggPSAwO1xuICAgICAgYXR0ci4kb2JzZXJ2ZSgnbWlubGVuZ3RoJywgZnVuY3Rpb24odmFsdWUpIHtcbiAgICAgICAgbWlubGVuZ3RoID0gdG9JbnQodmFsdWUpIHx8IDA7XG4gICAgICAgIGN0cmwuJHZhbGlkYXRlKCk7XG4gICAgICB9KTtcbiAgICAgIGN0cmwuJHZhbGlkYXRvcnMubWlubGVuZ3RoID0gZnVuY3Rpb24obW9kZWxWYWx1ZSwgdmlld1ZhbHVlKSB7XG4gICAgICAgIHJldHVybiBjdHJsLiRpc0VtcHR5KHZpZXdWYWx1ZSkgfHwgdmlld1ZhbHVlLmxlbmd0aCA+PSBtaW5sZW5ndGg7XG4gICAgICB9O1xuICAgIH1cbiAgfTtcbn07XG5cbmlmICh3aW5kb3cuYW5ndWxhci5ib290c3RyYXApIHtcbiAgLy8gQW5ndWxhckpTIGlzIGFscmVhZHkgbG9hZGVkLCBzbyB3ZSBjYW4gcmV0dXJuIGhlcmUuLi5cbiAgaWYgKHdpbmRvdy5jb25zb2xlKSB7XG4gICAgY29uc29sZS5sb2coJ1dBUk5JTkc6IFRyaWVkIHRvIGxvYWQgYW5ndWxhciBtb3JlIHRoYW4gb25jZS4nKTtcbiAgfVxuICByZXR1cm47XG59XG5cbi8vIHRyeSB0byBiaW5kIHRvIGpxdWVyeSBub3cgc28gdGhhdCBvbmUgY2FuIHdyaXRlIGpxTGl0ZShmbilcbi8vIGJ1dCB3ZSB3aWxsIHJlYmluZCBvbiBib290c3RyYXAgYWdhaW4uXG5iaW5kSlF1ZXJ5KCk7XG5cbnB1Ymxpc2hFeHRlcm5hbEFQSShhbmd1bGFyKTtcblxuYW5ndWxhci5tb2R1bGUoXCJuZ0xvY2FsZVwiLCBbXSwgW1wiJHByb3ZpZGVcIiwgZnVuY3Rpb24oJHByb3ZpZGUpIHtcbnZhciBQTFVSQUxfQ0FURUdPUlkgPSB7WkVSTzogXCJ6ZXJvXCIsIE9ORTogXCJvbmVcIiwgVFdPOiBcInR3b1wiLCBGRVc6IFwiZmV3XCIsIE1BTlk6IFwibWFueVwiLCBPVEhFUjogXCJvdGhlclwifTtcbmZ1bmN0aW9uIGdldERlY2ltYWxzKG4pIHtcbiAgbiA9IG4gKyAnJztcbiAgdmFyIGkgPSBuLmluZGV4T2YoJy4nKTtcbiAgcmV0dXJuIChpID09IC0xKSA/IDAgOiBuLmxlbmd0aCAtIGkgLSAxO1xufVxuXG5mdW5jdGlvbiBnZXRWRihuLCBvcHRfcHJlY2lzaW9uKSB7XG4gIHZhciB2ID0gb3B0X3ByZWNpc2lvbjtcblxuICBpZiAodW5kZWZpbmVkID09PSB2KSB7XG4gICAgdiA9IE1hdGgubWluKGdldERlY2ltYWxzKG4pLCAzKTtcbiAgfVxuXG4gIHZhciBiYXNlID0gTWF0aC5wb3coMTAsIHYpO1xuICB2YXIgZiA9ICgobiAqIGJhc2UpIHwgMCkgJSBiYXNlO1xuICByZXR1cm4ge3Y6IHYsIGY6IGZ9O1xufVxuXG4kcHJvdmlkZS52YWx1ZShcIiRsb2NhbGVcIiwge1xuICBcIkRBVEVUSU1FX0ZPUk1BVFNcIjoge1xuICAgIFwiQU1QTVNcIjogW1xuICAgICAgXCJBTVwiLFxuICAgICAgXCJQTVwiXG4gICAgXSxcbiAgICBcIkRBWVwiOiBbXG4gICAgICBcIlN1bmRheVwiLFxuICAgICAgXCJNb25kYXlcIixcbiAgICAgIFwiVHVlc2RheVwiLFxuICAgICAgXCJXZWRuZXNkYXlcIixcbiAgICAgIFwiVGh1cnNkYXlcIixcbiAgICAgIFwiRnJpZGF5XCIsXG4gICAgICBcIlNhdHVyZGF5XCJcbiAgICBdLFxuICAgIFwiRVJBTkFNRVNcIjogW1xuICAgICAgXCJCZWZvcmUgQ2hyaXN0XCIsXG4gICAgICBcIkFubm8gRG9taW5pXCJcbiAgICBdLFxuICAgIFwiRVJBU1wiOiBbXG4gICAgICBcIkJDXCIsXG4gICAgICBcIkFEXCJcbiAgICBdLFxuICAgIFwiRklSU1REQVlPRldFRUtcIjogNixcbiAgICBcIk1PTlRIXCI6IFtcbiAgICAgIFwiSmFudWFyeVwiLFxuICAgICAgXCJGZWJydWFyeVwiLFxuICAgICAgXCJNYXJjaFwiLFxuICAgICAgXCJBcHJpbFwiLFxuICAgICAgXCJNYXlcIixcbiAgICAgIFwiSnVuZVwiLFxuICAgICAgXCJKdWx5XCIsXG4gICAgICBcIkF1Z3VzdFwiLFxuICAgICAgXCJTZXB0ZW1iZXJcIixcbiAgICAgIFwiT2N0b2JlclwiLFxuICAgICAgXCJOb3ZlbWJlclwiLFxuICAgICAgXCJEZWNlbWJlclwiXG4gICAgXSxcbiAgICBcIlNIT1JUREFZXCI6IFtcbiAgICAgIFwiU3VuXCIsXG4gICAgICBcIk1vblwiLFxuICAgICAgXCJUdWVcIixcbiAgICAgIFwiV2VkXCIsXG4gICAgICBcIlRodVwiLFxuICAgICAgXCJGcmlcIixcbiAgICAgIFwiU2F0XCJcbiAgICBdLFxuICAgIFwiU0hPUlRNT05USFwiOiBbXG4gICAgICBcIkphblwiLFxuICAgICAgXCJGZWJcIixcbiAgICAgIFwiTWFyXCIsXG4gICAgICBcIkFwclwiLFxuICAgICAgXCJNYXlcIixcbiAgICAgIFwiSnVuXCIsXG4gICAgICBcIkp1bFwiLFxuICAgICAgXCJBdWdcIixcbiAgICAgIFwiU2VwXCIsXG4gICAgICBcIk9jdFwiLFxuICAgICAgXCJOb3ZcIixcbiAgICAgIFwiRGVjXCJcbiAgICBdLFxuICAgIFwiU1RBTkRBTE9ORU1PTlRIXCI6IFtcbiAgICAgIFwiSmFudWFyeVwiLFxuICAgICAgXCJGZWJydWFyeVwiLFxuICAgICAgXCJNYXJjaFwiLFxuICAgICAgXCJBcHJpbFwiLFxuICAgICAgXCJNYXlcIixcbiAgICAgIFwiSnVuZVwiLFxuICAgICAgXCJKdWx5XCIsXG4gICAgICBcIkF1Z3VzdFwiLFxuICAgICAgXCJTZXB0ZW1iZXJcIixcbiAgICAgIFwiT2N0b2JlclwiLFxuICAgICAgXCJOb3ZlbWJlclwiLFxuICAgICAgXCJEZWNlbWJlclwiXG4gICAgXSxcbiAgICBcIldFRUtFTkRSQU5HRVwiOiBbXG4gICAgICA1LFxuICAgICAgNlxuICAgIF0sXG4gICAgXCJmdWxsRGF0ZVwiOiBcIkVFRUUsIE1NTU0gZCwgeVwiLFxuICAgIFwibG9uZ0RhdGVcIjogXCJNTU1NIGQsIHlcIixcbiAgICBcIm1lZGl1bVwiOiBcIk1NTSBkLCB5IGg6bW06c3MgYVwiLFxuICAgIFwibWVkaXVtRGF0ZVwiOiBcIk1NTSBkLCB5XCIsXG4gICAgXCJtZWRpdW1UaW1lXCI6IFwiaDptbTpzcyBhXCIsXG4gICAgXCJzaG9ydFwiOiBcIk0vZC95eSBoOm1tIGFcIixcbiAgICBcInNob3J0RGF0ZVwiOiBcIk0vZC95eVwiLFxuICAgIFwic2hvcnRUaW1lXCI6IFwiaDptbSBhXCJcbiAgfSxcbiAgXCJOVU1CRVJfRk9STUFUU1wiOiB7XG4gICAgXCJDVVJSRU5DWV9TWU1cIjogXCIkXCIsXG4gICAgXCJERUNJTUFMX1NFUFwiOiBcIi5cIixcbiAgICBcIkdST1VQX1NFUFwiOiBcIixcIixcbiAgICBcIlBBVFRFUk5TXCI6IFtcbiAgICAgIHtcbiAgICAgICAgXCJnU2l6ZVwiOiAzLFxuICAgICAgICBcImxnU2l6ZVwiOiAzLFxuICAgICAgICBcIm1heEZyYWNcIjogMyxcbiAgICAgICAgXCJtaW5GcmFjXCI6IDAsXG4gICAgICAgIFwibWluSW50XCI6IDEsXG4gICAgICAgIFwibmVnUHJlXCI6IFwiLVwiLFxuICAgICAgICBcIm5lZ1N1ZlwiOiBcIlwiLFxuICAgICAgICBcInBvc1ByZVwiOiBcIlwiLFxuICAgICAgICBcInBvc1N1ZlwiOiBcIlwiXG4gICAgICB9LFxuICAgICAge1xuICAgICAgICBcImdTaXplXCI6IDMsXG4gICAgICAgIFwibGdTaXplXCI6IDMsXG4gICAgICAgIFwibWF4RnJhY1wiOiAyLFxuICAgICAgICBcIm1pbkZyYWNcIjogMixcbiAgICAgICAgXCJtaW5JbnRcIjogMSxcbiAgICAgICAgXCJuZWdQcmVcIjogXCItXFx1MDBhNFwiLFxuICAgICAgICBcIm5lZ1N1ZlwiOiBcIlwiLFxuICAgICAgICBcInBvc1ByZVwiOiBcIlxcdTAwYTRcIixcbiAgICAgICAgXCJwb3NTdWZcIjogXCJcIlxuICAgICAgfVxuICAgIF1cbiAgfSxcbiAgXCJpZFwiOiBcImVuLXVzXCIsXG4gIFwibG9jYWxlSURcIjogXCJlbl9VU1wiLFxuICBcInBsdXJhbENhdFwiOiBmdW5jdGlvbihuLCBvcHRfcHJlY2lzaW9uKSB7ICB2YXIgaSA9IG4gfCAwOyAgdmFyIHZmID0gZ2V0VkYobiwgb3B0X3ByZWNpc2lvbik7ICBpZiAoaSA9PSAxICYmIHZmLnYgPT0gMCkgeyAgICByZXR1cm4gUExVUkFMX0NBVEVHT1JZLk9ORTsgIH0gIHJldHVybiBQTFVSQUxfQ0FURUdPUlkuT1RIRVI7fVxufSk7XG59XSk7XG5cbiAganFMaXRlKGZ1bmN0aW9uKCkge1xuICAgIGFuZ3VsYXJJbml0KHdpbmRvdy5kb2N1bWVudCwgYm9vdHN0cmFwKTtcbiAgfSk7XG5cbn0pKHdpbmRvdyk7XG5cbiF3aW5kb3cuYW5ndWxhci4kJGNzcCgpLm5vSW5saW5lU3R5bGUgJiYgd2luZG93LmFuZ3VsYXIuZWxlbWVudChkb2N1bWVudC5oZWFkKS5wcmVwZW5kKCc8c3R5bGUgdHlwZT1cInRleHQvY3NzXCI+QGNoYXJzZXQgXCJVVEYtOFwiO1tuZ1xcXFw6Y2xvYWtdLFtuZy1jbG9ha10sW2RhdGEtbmctY2xvYWtdLFt4LW5nLWNsb2FrXSwubmctY2xvYWssLngtbmctY2xvYWssLm5nLWhpZGU6bm90KC5uZy1oaWRlLWFuaW1hdGUpe2Rpc3BsYXk6bm9uZSAhaW1wb3J0YW50O31uZ1xcXFw6Zm9ybXtkaXNwbGF5OmJsb2NrO30ubmctYW5pbWF0ZS1zaGlte3Zpc2liaWxpdHk6aGlkZGVuO30ubmctYW5jaG9ye3Bvc2l0aW9uOmFic29sdXRlO308L3N0eWxlPicpO1xuKGZ1bmN0aW9uKCkge1xuXG5cbi8vIENyZWF0ZSBhbGwgbW9kdWxlcyBhbmQgZGVmaW5lIGRlcGVuZGVuY2llcyB0byBtYWtlIHN1cmUgdGhleSBleGlzdFxuLy8gYW5kIGFyZSBsb2FkZWQgaW4gdGhlIGNvcnJlY3Qgb3JkZXIgdG8gc2F0aXNmeSBkZXBlbmRlbmN5IGluamVjdGlvblxuLy8gYmVmb3JlIGFsbCBuZXN0ZWQgZmlsZXMgYXJlIGNvbmNhdGVuYXRlZCBieSBHcnVudFxuXG4vLyBNb2R1bGVzXG5hbmd1bGFyLm1vZHVsZSgnYW5ndWxhci1qd3QnLFxuICAgIFtcbiAgICAgICAgJ2FuZ3VsYXItand0Lm9wdGlvbnMnLFxuICAgICAgICAnYW5ndWxhci1qd3QuaW50ZXJjZXB0b3InLFxuICAgICAgICAnYW5ndWxhci1qd3Quand0JyxcbiAgICAgICAgJ2FuZ3VsYXItand0LmF1dGhNYW5hZ2VyJ1xuICAgIF0pO1xuXG5hbmd1bGFyLm1vZHVsZSgnYW5ndWxhci1qd3QuYXV0aE1hbmFnZXInLCBbXSlcbiAgLnByb3ZpZGVyKCdhdXRoTWFuYWdlcicsIGZ1bmN0aW9uICgpIHtcblxuICAgIHRoaXMuJGdldCA9IFtcIiRyb290U2NvcGVcIiwgXCIkaW5qZWN0b3JcIiwgXCIkbG9jYXRpb25cIiwgXCJqd3RIZWxwZXJcIiwgXCJqd3RJbnRlcmNlcHRvclwiLCBcImp3dE9wdGlvbnNcIiwgZnVuY3Rpb24gKCRyb290U2NvcGUsICRpbmplY3RvciwgJGxvY2F0aW9uLCBqd3RIZWxwZXIsIGp3dEludGVyY2VwdG9yLCBqd3RPcHRpb25zKSB7XG5cbiAgICAgIHZhciBjb25maWcgPSBqd3RPcHRpb25zLmdldENvbmZpZygpO1xuXG4gICAgICBmdW5jdGlvbiBpbnZva2VUb2tlbih0b2tlbkdldHRlcikge1xuICAgICAgICB2YXIgdG9rZW4gPSBudWxsO1xuICAgICAgICBpZiAoQXJyYXkuaXNBcnJheSh0b2tlbkdldHRlcikpIHtcbiAgICAgICAgICB0b2tlbiA9ICRpbmplY3Rvci5pbnZva2UodG9rZW5HZXR0ZXIsIHRoaXMsIHtvcHRpb25zOiBudWxsfSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdG9rZW4gPSB0b2tlbkdldHRlcigpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0b2tlbjtcbiAgICAgIH1cblxuICAgICAgZnVuY3Rpb24gaW52b2tlUmVkaXJlY3RvcihyZWRpcmVjdG9yKSB7XG4gICAgICAgIGlmIChBcnJheS5pc0FycmF5KHJlZGlyZWN0b3IpIHx8IGFuZ3VsYXIuaXNGdW5jdGlvbihyZWRpcmVjdG9yKSkge1xuICAgICAgICAgIHJldHVybiAkaW5qZWN0b3IuaW52b2tlKHJlZGlyZWN0b3IsIGNvbmZpZywge30pO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHRocm93IG5ldyBFcnJvcigndW5hdXRoZW50aWNhdGVkUmVkaXJlY3RvciBtdXN0IGJlIGEgZnVuY3Rpb24nKTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBmdW5jdGlvbiBpc0F1dGhlbnRpY2F0ZWQoKSB7XG4gICAgICAgIHZhciB0b2tlbiA9IGludm9rZVRva2VuKGNvbmZpZy50b2tlbkdldHRlcik7XG4gICAgICAgIGlmICh0b2tlbikge1xuICAgICAgICAgIHJldHVybiAhand0SGVscGVyLmlzVG9rZW5FeHBpcmVkKHRva2VuKTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICAkcm9vdFNjb3BlLmlzQXV0aGVudGljYXRlZCA9IGZhbHNlO1xuXG4gICAgICBmdW5jdGlvbiBhdXRoZW50aWNhdGUoKSB7XG4gICAgICAgICRyb290U2NvcGUuaXNBdXRoZW50aWNhdGVkID0gdHJ1ZTtcbiAgICAgIH1cblxuICAgICAgZnVuY3Rpb24gdW5hdXRoZW50aWNhdGUoKSB7XG4gICAgICAgICRyb290U2NvcGUuaXNBdXRoZW50aWNhdGVkID0gZmFsc2U7XG4gICAgICB9XG5cbiAgICAgIGZ1bmN0aW9uIGNoZWNrQXV0aE9uUmVmcmVzaCgpIHtcbiAgICAgICAgJHJvb3RTY29wZS4kb24oJyRsb2NhdGlvbkNoYW5nZVN0YXJ0JywgZnVuY3Rpb24gKCkge1xuICAgICAgICAgIHZhciB0b2tlbiA9IGludm9rZVRva2VuKGNvbmZpZy50b2tlbkdldHRlcik7XG4gICAgICAgICAgaWYgKHRva2VuKSB7XG4gICAgICAgICAgICBpZiAoIWp3dEhlbHBlci5pc1Rva2VuRXhwaXJlZCh0b2tlbikpIHtcbiAgICAgICAgICAgICAgYXV0aGVudGljYXRlKCk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAkcm9vdFNjb3BlLiRicm9hZGNhc3QoJ3Rva2VuSGFzRXhwaXJlZCcsIHRva2VuKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgfVxuXG4gICAgICBmdW5jdGlvbiByZWRpcmVjdFdoZW5VbmF1dGhlbnRpY2F0ZWQoKSB7XG4gICAgICAgICRyb290U2NvcGUuJG9uKCd1bmF1dGhlbnRpY2F0ZWQnLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgaW52b2tlUmVkaXJlY3Rvcihjb25maWcudW5hdXRoZW50aWNhdGVkUmVkaXJlY3Rvcik7XG4gICAgICAgICAgdW5hdXRoZW50aWNhdGUoKTtcbiAgICAgICAgfSk7XG4gICAgICB9XG5cbiAgICAgIGZ1bmN0aW9uIHZlcmlmeVJvdXRlKGV2ZW50LCBuZXh0KSB7XG4gICAgICAgIGlmICghbmV4dCkge1xuICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciByb3V0ZURhdGEgPSAobmV4dC4kJHJvdXRlKSA/IG5leHQuJCRyb3V0ZSA6IG5leHQuZGF0YTtcblxuICAgICAgICBpZiAocm91dGVEYXRhICYmIHJvdXRlRGF0YS5yZXF1aXJlc0xvZ2luID09PSB0cnVlKSB7XG4gICAgICAgICAgdmFyIHRva2VuID0gaW52b2tlVG9rZW4oY29uZmlnLnRva2VuR2V0dGVyKTtcbiAgICAgICAgICBpZiAoIXRva2VuIHx8IGp3dEhlbHBlci5pc1Rva2VuRXhwaXJlZCh0b2tlbikpIHtcbiAgICAgICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgICBpbnZva2VSZWRpcmVjdG9yKGNvbmZpZy51bmF1dGhlbnRpY2F0ZWRSZWRpcmVjdG9yKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgdmFyIGV2ZW50TmFtZSA9ICgkaW5qZWN0b3IuaGFzKCckc3RhdGUnKSkgPyAnJHN0YXRlQ2hhbmdlU3RhcnQnIDogJyRyb3V0ZUNoYW5nZVN0YXJ0JztcbiAgICAgICRyb290U2NvcGUuJG9uKGV2ZW50TmFtZSwgdmVyaWZ5Um91dGUpO1xuXG4gICAgICByZXR1cm4ge1xuICAgICAgICBhdXRoZW50aWNhdGU6IGF1dGhlbnRpY2F0ZSxcbiAgICAgICAgdW5hdXRoZW50aWNhdGU6IHVuYXV0aGVudGljYXRlLFxuICAgICAgICBnZXRUb2tlbjogZnVuY3Rpb24oKXsgcmV0dXJuIGludm9rZVRva2VuKGNvbmZpZy50b2tlbkdldHRlcik7IH0sXG4gICAgICAgIHJlZGlyZWN0OiBmdW5jdGlvbigpIHsgcmV0dXJuIGludm9rZVJlZGlyZWN0b3IoY29uZmlnLnVuYXV0aGVudGljYXRlZFJlZGlyZWN0b3IpOyB9LFxuICAgICAgICBjaGVja0F1dGhPblJlZnJlc2g6IGNoZWNrQXV0aE9uUmVmcmVzaCxcbiAgICAgICAgcmVkaXJlY3RXaGVuVW5hdXRoZW50aWNhdGVkOiByZWRpcmVjdFdoZW5VbmF1dGhlbnRpY2F0ZWQsXG4gICAgICAgIGlzQXV0aGVudGljYXRlZDogaXNBdXRoZW50aWNhdGVkXG4gICAgICB9XG4gICAgfV1cbiAgfSk7XG5cbmFuZ3VsYXIubW9kdWxlKCdhbmd1bGFyLWp3dC5pbnRlcmNlcHRvcicsIFtdKVxuICAucHJvdmlkZXIoJ2p3dEludGVyY2VwdG9yJywgZnVuY3Rpb24oKSB7XG5cbiAgICB0aGlzLnVybFBhcmFtO1xuICAgIHRoaXMuYXV0aEhlYWRlcjtcbiAgICB0aGlzLmF1dGhQcmVmaXg7XG4gICAgdGhpcy53aGl0ZUxpc3RlZERvbWFpbnM7XG4gICAgdGhpcy50b2tlbkdldHRlcjtcblxuICAgIHZhciBjb25maWcgPSB0aGlzO1xuXG4gICAgdGhpcy4kZ2V0ID0gW1wiJHFcIiwgXCIkaW5qZWN0b3JcIiwgXCIkcm9vdFNjb3BlXCIsIFwidXJsVXRpbHNcIiwgXCJqd3RPcHRpb25zXCIsIGZ1bmN0aW9uKCRxLCAkaW5qZWN0b3IsICRyb290U2NvcGUsIHVybFV0aWxzLCBqd3RPcHRpb25zKSB7XG5cbiAgICAgIHZhciBvcHRpb25zID0gYW5ndWxhci5leHRlbmQoe30sIGp3dE9wdGlvbnMuZ2V0Q29uZmlnKCksIGNvbmZpZyk7XG5cbiAgICAgIGZ1bmN0aW9uIGlzU2FmZSAodXJsKSB7XG4gICAgICAgIGlmICghdXJsVXRpbHMuaXNTYW1lT3JpZ2luKHVybCkgJiYgIW9wdGlvbnMud2hpdGVMaXN0ZWREb21haW5zLmxlbmd0aCkge1xuICAgICAgICAgIHRocm93IG5ldyBFcnJvcignQXMgb2YgdjAuMS4wLCByZXF1ZXN0cyB0byBkb21haW5zIG90aGVyIHRoYW4gdGhlIGFwcGxpY2F0aW9uXFwncyBvcmlnaW4gbXVzdCBiZSB3aGl0ZSBsaXN0ZWQuIFVzZSBqd3RPcHRpb25zUHJvdmlkZXIuY29uZmlnKHsgd2hpdGVMaXN0ZWREb21haW5zOiBbPGRvbWFpbj5dIH0pOyB0byB3aGl0ZWxpc3QuJylcbiAgICAgICAgfVxuICAgICAgICB2YXIgaG9zdG5hbWUgPSB1cmxVdGlscy51cmxSZXNvbHZlKHVybCkuaG9zdG5hbWUudG9Mb3dlckNhc2UoKTtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBvcHRpb25zLndoaXRlTGlzdGVkRG9tYWlucy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgIHZhciBkb21haW4gPSBvcHRpb25zLndoaXRlTGlzdGVkRG9tYWluc1tpXTtcbiAgICAgICAgICB2YXIgcmVnZXhwID0gZG9tYWluIGluc3RhbmNlb2YgUmVnRXhwID8gZG9tYWluIDogbmV3IFJlZ0V4cChkb21haW4sICdpJyk7XG4gICAgICAgICAgaWYgKGhvc3RuYW1lLm1hdGNoKHJlZ2V4cCkpIHtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh1cmxVdGlscy5pc1NhbWVPcmlnaW4odXJsKSkge1xuICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4ge1xuICAgICAgICByZXF1ZXN0OiBmdW5jdGlvbiAocmVxdWVzdCkge1xuICAgICAgICAgIGlmIChyZXF1ZXN0LnNraXBBdXRob3JpemF0aW9uIHx8ICFpc1NhZmUocmVxdWVzdC51cmwpKSB7XG4gICAgICAgICAgICByZXR1cm4gcmVxdWVzdDtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBpZiAob3B0aW9ucy51cmxQYXJhbSkge1xuICAgICAgICAgICAgcmVxdWVzdC5wYXJhbXMgPSByZXF1ZXN0LnBhcmFtcyB8fCB7fTtcbiAgICAgICAgICAgIC8vIEFscmVhZHkgaGFzIHRoZSB0b2tlbiBpbiB0aGUgdXJsIGl0c2VsZlxuICAgICAgICAgICAgaWYgKHJlcXVlc3QucGFyYW1zW29wdGlvbnMudXJsUGFyYW1dKSB7XG4gICAgICAgICAgICAgIHJldHVybiByZXF1ZXN0O1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXF1ZXN0LmhlYWRlcnMgPSByZXF1ZXN0LmhlYWRlcnMgfHwge307XG4gICAgICAgICAgICAvLyBBbHJlYWR5IGhhcyBhbiBBdXRob3JpemF0aW9uIGhlYWRlclxuICAgICAgICAgICAgaWYgKHJlcXVlc3QuaGVhZGVyc1tvcHRpb25zLmF1dGhIZWFkZXJdKSB7XG4gICAgICAgICAgICAgIHJldHVybiByZXF1ZXN0O1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cblxuICAgICAgICAgIHZhciB0b2tlblByb21pc2UgPSAkcS53aGVuKCRpbmplY3Rvci5pbnZva2Uob3B0aW9ucy50b2tlbkdldHRlciwgdGhpcywge1xuICAgICAgICAgICAgb3B0aW9uczogcmVxdWVzdFxuICAgICAgICAgIH0pKTtcblxuICAgICAgICAgIHJldHVybiB0b2tlblByb21pc2UudGhlbihmdW5jdGlvbih0b2tlbikge1xuICAgICAgICAgICAgaWYgKHRva2VuKSB7XG4gICAgICAgICAgICAgIGlmIChvcHRpb25zLnVybFBhcmFtKSB7XG4gICAgICAgICAgICAgICAgcmVxdWVzdC5wYXJhbXNbb3B0aW9ucy51cmxQYXJhbV0gPSB0b2tlbjtcbiAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICByZXF1ZXN0LmhlYWRlcnNbb3B0aW9ucy5hdXRoSGVhZGVyXSA9IG9wdGlvbnMuYXV0aFByZWZpeCArIHRva2VuO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gcmVxdWVzdDtcbiAgICAgICAgICB9KTtcbiAgICAgICAgfSxcbiAgICAgICAgcmVzcG9uc2VFcnJvcjogZnVuY3Rpb24gKHJlc3BvbnNlKSB7XG4gICAgICAgICAgLy8gaGFuZGxlIHRoZSBjYXNlIHdoZXJlIHRoZSB1c2VyIGlzIG5vdCBhdXRoZW50aWNhdGVkXG4gICAgICAgICAgaWYgKHJlc3BvbnNlLnN0YXR1cyA9PT0gNDAxKSB7XG4gICAgICAgICAgICAkcm9vdFNjb3BlLiRicm9hZGNhc3QoJ3VuYXV0aGVudGljYXRlZCcsIHJlc3BvbnNlKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgcmV0dXJuICRxLnJlamVjdChyZXNwb25zZSk7XG4gICAgICAgIH1cbiAgICAgIH07XG4gICAgfV1cbiAgfSk7XG5cbiBhbmd1bGFyLm1vZHVsZSgnYW5ndWxhci1qd3Quand0JywgW10pXG4gIC5zZXJ2aWNlKCdqd3RIZWxwZXInLCBbXCIkd2luZG93XCIsIGZ1bmN0aW9uKCR3aW5kb3cpIHtcblxuICAgIHRoaXMudXJsQmFzZTY0RGVjb2RlID0gZnVuY3Rpb24oc3RyKSB7XG4gICAgICB2YXIgb3V0cHV0ID0gc3RyLnJlcGxhY2UoLy0vZywgJysnKS5yZXBsYWNlKC9fL2csICcvJyk7XG4gICAgICBzd2l0Y2ggKG91dHB1dC5sZW5ndGggJSA0KSB7XG4gICAgICAgIGNhc2UgMDogeyBicmVhazsgfVxuICAgICAgICBjYXNlIDI6IHsgb3V0cHV0ICs9ICc9PSc7IGJyZWFrOyB9XG4gICAgICAgIGNhc2UgMzogeyBvdXRwdXQgKz0gJz0nOyBicmVhazsgfVxuICAgICAgICBkZWZhdWx0OiB7XG4gICAgICAgICAgdGhyb3cgJ0lsbGVnYWwgYmFzZTY0dXJsIHN0cmluZyEnO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gJHdpbmRvdy5kZWNvZGVVUklDb21wb25lbnQoZXNjYXBlKCR3aW5kb3cuYXRvYihvdXRwdXQpKSk7IC8vcG9seWZpbGwgaHR0cHM6Ly9naXRodWIuY29tL2RhdmlkY2hhbWJlcnMvQmFzZTY0LmpzXG4gICAgfTtcblxuXG4gICAgdGhpcy5kZWNvZGVUb2tlbiA9IGZ1bmN0aW9uKHRva2VuKSB7XG4gICAgICB2YXIgcGFydHMgPSB0b2tlbi5zcGxpdCgnLicpO1xuXG4gICAgICBpZiAocGFydHMubGVuZ3RoICE9PSAzKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignSldUIG11c3QgaGF2ZSAzIHBhcnRzJyk7XG4gICAgICB9XG5cbiAgICAgIHZhciBkZWNvZGVkID0gdGhpcy51cmxCYXNlNjREZWNvZGUocGFydHNbMV0pO1xuICAgICAgaWYgKCFkZWNvZGVkKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignQ2Fubm90IGRlY29kZSB0aGUgdG9rZW4nKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIGFuZ3VsYXIuZnJvbUpzb24oZGVjb2RlZCk7XG4gICAgfTtcblxuICAgIHRoaXMuZ2V0VG9rZW5FeHBpcmF0aW9uRGF0ZSA9IGZ1bmN0aW9uKHRva2VuKSB7XG4gICAgICB2YXIgZGVjb2RlZCA9IHRoaXMuZGVjb2RlVG9rZW4odG9rZW4pO1xuXG4gICAgICBpZih0eXBlb2YgZGVjb2RlZC5leHAgPT09IFwidW5kZWZpbmVkXCIpIHtcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICB9XG5cbiAgICAgIHZhciBkID0gbmV3IERhdGUoMCk7IC8vIFRoZSAwIGhlcmUgaXMgdGhlIGtleSwgd2hpY2ggc2V0cyB0aGUgZGF0ZSB0byB0aGUgZXBvY2hcbiAgICAgIGQuc2V0VVRDU2Vjb25kcyhkZWNvZGVkLmV4cCk7XG5cbiAgICAgIHJldHVybiBkO1xuICAgIH07XG5cbiAgICB0aGlzLmlzVG9rZW5FeHBpcmVkID0gZnVuY3Rpb24odG9rZW4sIG9mZnNldFNlY29uZHMpIHtcbiAgICAgIHZhciBkID0gdGhpcy5nZXRUb2tlbkV4cGlyYXRpb25EYXRlKHRva2VuKTtcbiAgICAgIG9mZnNldFNlY29uZHMgPSBvZmZzZXRTZWNvbmRzIHx8IDA7XG4gICAgICBpZiAoZCA9PT0gbnVsbCkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9XG5cbiAgICAgIC8vIFRva2VuIGV4cGlyZWQ/XG4gICAgICByZXR1cm4gIShkLnZhbHVlT2YoKSA+IChuZXcgRGF0ZSgpLnZhbHVlT2YoKSArIChvZmZzZXRTZWNvbmRzICogMTAwMCkpKTtcbiAgICB9O1xuICB9XSk7XG5cbmFuZ3VsYXIubW9kdWxlKCdhbmd1bGFyLWp3dC5vcHRpb25zJywgW10pXG4gIC5wcm92aWRlcignand0T3B0aW9ucycsIGZ1bmN0aW9uKCkge1xuICAgIHZhciBnbG9iYWxDb25maWcgPSB7fTtcbiAgICB0aGlzLmNvbmZpZyA9IGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgICBnbG9iYWxDb25maWcgPSB2YWx1ZTtcbiAgICB9O1xuICAgIHRoaXMuJGdldCA9IGZ1bmN0aW9uKCkge1xuXG4gICAgICB2YXIgb3B0aW9ucyA9IHtcbiAgICAgICAgdXJsUGFyYW06IG51bGwsXG4gICAgICAgIGF1dGhIZWFkZXI6ICdBdXRob3JpemF0aW9uJyxcbiAgICAgICAgYXV0aFByZWZpeDogJ0JlYXJlciAnLFxuICAgICAgICB3aGl0ZUxpc3RlZERvbWFpbnM6IFtdLFxuICAgICAgICB0b2tlbkdldHRlcjogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIH0sXG4gICAgICAgIGxvZ2luUGF0aDogJy8nLFxuICAgICAgICB1bmF1dGhlbnRpY2F0ZWRSZWRpcmVjdFBhdGg6ICcvJyxcbiAgICAgICAgdW5hdXRoZW50aWNhdGVkUmVkaXJlY3RvcjogWyckbG9jYXRpb24nLCBmdW5jdGlvbigkbG9jYXRpb24pIHtcbiAgICAgICAgICAkbG9jYXRpb24ucGF0aCh0aGlzLnVuYXV0aGVudGljYXRlZFJlZGlyZWN0UGF0aCk7XG4gICAgICAgIH1dXG4gICAgICB9O1xuXG4gICAgICBmdW5jdGlvbiBKd3RPcHRpb25zKCkge1xuICAgICAgICB2YXIgY29uZmlnID0gdGhpcy5jb25maWcgPSBhbmd1bGFyLmV4dGVuZCh7fSwgb3B0aW9ucywgZ2xvYmFsQ29uZmlnKTtcbiAgICAgIH1cblxuICAgICAgSnd0T3B0aW9ucy5wcm90b3R5cGUuZ2V0Q29uZmlnID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmNvbmZpZztcbiAgICAgIH07XG5cbiAgICAgIHJldHVybiBuZXcgSnd0T3B0aW9ucygpO1xuICAgIH1cbiAgfSk7XG5cbiAvKipcbiAgKiBUaGUgY29udGVudCBmcm9tIHRoaXMgZmlsZSB3YXMgZGlyZWN0bHkgbGlmdGVkIGZyb20gQW5ndWxhci4gSXQgaXNcbiAgKiB1bmZvcnR1bmF0ZWx5IG5vdCBhIHB1YmxpYyBBUEksIHNvIHRoZSBiZXN0IHdlIGNhbiBkbyBpcyBjb3B5IGl0LlxuICAqXG4gICogQW5ndWxhciBSZWZlcmVuY2VzOlxuICAqICAgaHR0cHM6Ly9naXRodWIuY29tL2FuZ3VsYXIvYW5ndWxhci5qcy9pc3N1ZXMvMzI5OVxuICAqICAgaHR0cHM6Ly9naXRodWIuY29tL2FuZ3VsYXIvYW5ndWxhci5qcy9ibG9iL2QwNzc5NjZmZjFhYzE4MjYyZjQ2MTVmZjFhNTMzZGIyNGQ0NDMyYTcvc3JjL25nL3VybFV0aWxzLmpzXG4gICovXG5cbiBhbmd1bGFyLm1vZHVsZSgnYW5ndWxhci1qd3QuaW50ZXJjZXB0b3InKVxuICAuc2VydmljZSgndXJsVXRpbHMnLCBmdW5jdGlvbiAoKSB7XG5cbiAgICAvLyBOT1RFOiAgVGhlIHVzYWdlIG9mIHdpbmRvdyBhbmQgZG9jdW1lbnQgaW5zdGVhZCBvZiAkd2luZG93IGFuZCAkZG9jdW1lbnQgaGVyZSBpc1xuICAgIC8vIGRlbGliZXJhdGUuICBUaGlzIHNlcnZpY2UgZGVwZW5kcyBvbiB0aGUgc3BlY2lmaWMgYmVoYXZpb3Igb2YgYW5jaG9yIG5vZGVzIGNyZWF0ZWQgYnkgdGhlXG4gICAgLy8gYnJvd3NlciAocmVzb2x2aW5nIGFuZCBwYXJzaW5nIFVSTHMpIHRoYXQgaXMgdW5saWtlbHkgdG8gYmUgcHJvdmlkZWQgYnkgbW9jayBvYmplY3RzIGFuZFxuICAgIC8vIGNhdXNlIHVzIHRvIGJyZWFrIHRlc3RzLiAgSW4gYWRkaXRpb24sIHdoZW4gdGhlIGJyb3dzZXIgcmVzb2x2ZXMgYSBVUkwgZm9yIFhIUiwgaXRcbiAgICAvLyBkb2Vzbid0IGtub3cgYWJvdXQgbW9ja2VkIGxvY2F0aW9ucyBhbmQgcmVzb2x2ZXMgVVJMcyB0byB0aGUgcmVhbCBkb2N1bWVudCAtIHdoaWNoIGlzXG4gICAgLy8gZXhhY3RseSB0aGUgYmVoYXZpb3IgbmVlZGVkIGhlcmUuICBUaGVyZSBpcyBsaXR0bGUgdmFsdWUgaXMgbW9ja2luZyB0aGVzZSBvdXQgZm9yIHRoaXNcbiAgICAvLyBzZXJ2aWNlLlxuICAgIHZhciB1cmxQYXJzaW5nTm9kZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJhXCIpO1xuICAgIHZhciBvcmlnaW5VcmwgPSB1cmxSZXNvbHZlKHdpbmRvdy5sb2NhdGlvbi5ocmVmKTtcblxuICAgIC8qKlxuICAgICAqXG4gICAgICogSW1wbGVtZW50YXRpb24gTm90ZXMgZm9yIG5vbi1JRSBicm93c2Vyc1xuICAgICAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAgKiBBc3NpZ25pbmcgYSBVUkwgdG8gdGhlIGhyZWYgcHJvcGVydHkgb2YgYW4gYW5jaG9yIERPTSBub2RlLCBldmVuIG9uZSBhdHRhY2hlZCB0byB0aGUgRE9NLFxuICAgICAqIHJlc3VsdHMgYm90aCBpbiB0aGUgbm9ybWFsaXppbmcgYW5kIHBhcnNpbmcgb2YgdGhlIFVSTC4gIE5vcm1hbGl6aW5nIG1lYW5zIHRoYXQgYSByZWxhdGl2ZVxuICAgICAqIFVSTCB3aWxsIGJlIHJlc29sdmVkIGludG8gYW4gYWJzb2x1dGUgVVJMIGluIHRoZSBjb250ZXh0IG9mIHRoZSBhcHBsaWNhdGlvbiBkb2N1bWVudC5cbiAgICAgKiBQYXJzaW5nIG1lYW5zIHRoYXQgdGhlIGFuY2hvciBub2RlJ3MgaG9zdCwgaG9zdG5hbWUsIHByb3RvY29sLCBwb3J0LCBwYXRobmFtZSBhbmQgcmVsYXRlZFxuICAgICAqIHByb3BlcnRpZXMgYXJlIGFsbCBwb3B1bGF0ZWQgdG8gcmVmbGVjdCB0aGUgbm9ybWFsaXplZCBVUkwuICBUaGlzIGFwcHJvYWNoIGhhcyB3aWRlXG4gICAgICogY29tcGF0aWJpbGl0eSAtIFNhZmFyaSAxKywgTW96aWxsYSAxKywgT3BlcmEgNyssZSBldGMuICBTZWVcbiAgICAgKiBodHRwOi8vd3d3LmFwdGFuYS5jb20vcmVmZXJlbmNlL2h0bWwvYXBpL0hUTUxBbmNob3JFbGVtZW50Lmh0bWxcbiAgICAgKlxuICAgICAqIEltcGxlbWVudGF0aW9uIE5vdGVzIGZvciBJRVxuICAgICAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgICAqIElFIDw9IDEwIG5vcm1hbGl6ZXMgdGhlIFVSTCB3aGVuIGFzc2lnbmVkIHRvIHRoZSBhbmNob3Igbm9kZSBzaW1pbGFyIHRvIHRoZSBvdGhlclxuICAgICAqIGJyb3dzZXJzLiAgSG93ZXZlciwgdGhlIHBhcnNlZCBjb21wb25lbnRzIHdpbGwgbm90IGJlIHNldCBpZiB0aGUgVVJMIGFzc2lnbmVkIGRpZCBub3Qgc3BlY2lmeVxuICAgICAqIHRoZW0uICAoZS5nLiBpZiB5b3UgYXNzaWduIGEuaHJlZiA9IFwiZm9vXCIsIHRoZW4gYS5wcm90b2NvbCwgYS5ob3N0LCBldGMuIHdpbGwgYmUgZW1wdHkuKSAgV2VcbiAgICAgKiB3b3JrIGFyb3VuZCB0aGF0IGJ5IHBlcmZvcm1pbmcgdGhlIHBhcnNpbmcgaW4gYSAybmQgc3RlcCBieSB0YWtpbmcgYSBwcmV2aW91c2x5IG5vcm1hbGl6ZWRcbiAgICAgKiBVUkwgKGUuZy4gYnkgYXNzaWduaW5nIHRvIGEuaHJlZikgYW5kIGFzc2lnbmluZyBpdCBhLmhyZWYgYWdhaW4uICBUaGlzIGNvcnJlY3RseSBwb3B1bGF0ZXMgdGhlXG4gICAgICogcHJvcGVydGllcyBzdWNoIGFzIHByb3RvY29sLCBob3N0bmFtZSwgcG9ydCwgZXRjLlxuICAgICAqXG4gICAgICogUmVmZXJlbmNlczpcbiAgICAgKiAgIGh0dHA6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvQVBJL0hUTUxBbmNob3JFbGVtZW50XG4gICAgICogICBodHRwOi8vd3d3LmFwdGFuYS5jb20vcmVmZXJlbmNlL2h0bWwvYXBpL0hUTUxBbmNob3JFbGVtZW50Lmh0bWxcbiAgICAgKiAgIGh0dHA6Ly91cmwuc3BlYy53aGF0d2cub3JnLyN1cmx1dGlsc1xuICAgICAqICAgaHR0cHM6Ly9naXRodWIuY29tL2FuZ3VsYXIvYW5ndWxhci5qcy9wdWxsLzI5MDJcbiAgICAgKiAgIGh0dHA6Ly9qYW1lcy5wYWRvbHNleS5jb20vamF2YXNjcmlwdC9wYXJzaW5nLXVybHMtd2l0aC10aGUtZG9tL1xuICAgICAqXG4gICAgICogQGtpbmQgZnVuY3Rpb25cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gdXJsIFRoZSBVUkwgdG8gYmUgcGFyc2VkLlxuICAgICAqIEBkZXNjcmlwdGlvbiBOb3JtYWxpemVzIGFuZCBwYXJzZXMgYSBVUkwuXG4gICAgICogQHJldHVybnMge29iamVjdH0gUmV0dXJucyB0aGUgbm9ybWFsaXplZCBVUkwgYXMgYSBkaWN0aW9uYXJ5LlxuICAgICAqXG4gICAgICogICB8IG1lbWJlciBuYW1lICAgfCBEZXNjcmlwdGlvbiAgICB8XG4gICAgICogICB8LS0tLS0tLS0tLS0tLS0tfC0tLS0tLS0tLS0tLS0tLS18XG4gICAgICogICB8IGhyZWYgICAgICAgICAgfCBBIG5vcm1hbGl6ZWQgdmVyc2lvbiBvZiB0aGUgcHJvdmlkZWQgVVJMIGlmIGl0IHdhcyBub3QgYW4gYWJzb2x1dGUgVVJMIHxcbiAgICAgKiAgIHwgcHJvdG9jb2wgICAgICB8IFRoZSBwcm90b2NvbCBpbmNsdWRpbmcgdGhlIHRyYWlsaW5nIGNvbG9uICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfFxuICAgICAqICAgfCBob3N0ICAgICAgICAgIHwgVGhlIGhvc3QgYW5kIHBvcnQgKGlmIHRoZSBwb3J0IGlzIG5vbi1kZWZhdWx0KSBvZiB0aGUgbm9ybWFsaXplZFVybCAgICB8XG4gICAgICogICB8IHNlYXJjaCAgICAgICAgfCBUaGUgc2VhcmNoIHBhcmFtcywgbWludXMgdGhlIHF1ZXN0aW9uIG1hcmsgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHxcbiAgICAgKiAgIHwgaGFzaCAgICAgICAgICB8IFRoZSBoYXNoIHN0cmluZywgbWludXMgdGhlIGhhc2ggc3ltYm9sXG4gICAgICogICB8IGhvc3RuYW1lICAgICAgfCBUaGUgaG9zdG5hbWVcbiAgICAgKiAgIHwgcG9ydCAgICAgICAgICB8IFRoZSBwb3J0LCB3aXRob3V0IFwiOlwiXG4gICAgICogICB8IHBhdGhuYW1lICAgICAgfCBUaGUgcGF0aG5hbWUsIGJlZ2lubmluZyB3aXRoIFwiL1wiXG4gICAgICpcbiAgICAgKi9cbiAgICBmdW5jdGlvbiB1cmxSZXNvbHZlKHVybCkge1xuICAgICAgdmFyIGhyZWYgPSB1cmw7XG5cbiAgICAgIC8vIE5vcm1hbGl6ZSBiZWZvcmUgcGFyc2UuICBSZWZlciBJbXBsZW1lbnRhdGlvbiBOb3RlcyBvbiB3aHkgdGhpcyBpc1xuICAgICAgLy8gZG9uZSBpbiB0d28gc3RlcHMgb24gSUUuXG4gICAgICB1cmxQYXJzaW5nTm9kZS5zZXRBdHRyaWJ1dGUoXCJocmVmXCIsIGhyZWYpO1xuICAgICAgaHJlZiA9IHVybFBhcnNpbmdOb2RlLmhyZWY7XG4gICAgICB1cmxQYXJzaW5nTm9kZS5zZXRBdHRyaWJ1dGUoJ2hyZWYnLCBocmVmKTtcblxuICAgICAgLy8gdXJsUGFyc2luZ05vZGUgcHJvdmlkZXMgdGhlIFVybFV0aWxzIGludGVyZmFjZSAtIGh0dHA6Ly91cmwuc3BlYy53aGF0d2cub3JnLyN1cmx1dGlsc1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgaHJlZjogdXJsUGFyc2luZ05vZGUuaHJlZixcbiAgICAgICAgcHJvdG9jb2w6IHVybFBhcnNpbmdOb2RlLnByb3RvY29sID8gdXJsUGFyc2luZ05vZGUucHJvdG9jb2wucmVwbGFjZSgvOiQvLCAnJykgOiAnJyxcbiAgICAgICAgaG9zdDogdXJsUGFyc2luZ05vZGUuaG9zdCxcbiAgICAgICAgc2VhcmNoOiB1cmxQYXJzaW5nTm9kZS5zZWFyY2ggPyB1cmxQYXJzaW5nTm9kZS5zZWFyY2gucmVwbGFjZSgvXlxcPy8sICcnKSA6ICcnLFxuICAgICAgICBoYXNoOiB1cmxQYXJzaW5nTm9kZS5oYXNoID8gdXJsUGFyc2luZ05vZGUuaGFzaC5yZXBsYWNlKC9eIy8sICcnKSA6ICcnLFxuICAgICAgICBob3N0bmFtZTogdXJsUGFyc2luZ05vZGUuaG9zdG5hbWUsXG4gICAgICAgIHBvcnQ6IHVybFBhcnNpbmdOb2RlLnBvcnQsXG4gICAgICAgIHBhdGhuYW1lOiAodXJsUGFyc2luZ05vZGUucGF0aG5hbWUuY2hhckF0KDApID09PSAnLycpXG4gICAgICAgICAgPyB1cmxQYXJzaW5nTm9kZS5wYXRobmFtZVxuICAgICAgICAgIDogJy8nICsgdXJsUGFyc2luZ05vZGUucGF0aG5hbWVcbiAgICAgIH07XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUGFyc2UgYSByZXF1ZXN0IFVSTCBhbmQgZGV0ZXJtaW5lIHdoZXRoZXIgdGhpcyBpcyBhIHNhbWUtb3JpZ2luIHJlcXVlc3QgYXMgdGhlIGFwcGxpY2F0aW9uIGRvY3VtZW50LlxuICAgICAqXG4gICAgICogQHBhcmFtIHtzdHJpbmd8b2JqZWN0fSByZXF1ZXN0VXJsIFRoZSB1cmwgb2YgdGhlIHJlcXVlc3QgYXMgYSBzdHJpbmcgdGhhdCB3aWxsIGJlIHJlc29sdmVkXG4gICAgICogb3IgYSBwYXJzZWQgVVJMIG9iamVjdC5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gV2hldGhlciB0aGUgcmVxdWVzdCBpcyBmb3IgdGhlIHNhbWUgb3JpZ2luIGFzIHRoZSBhcHBsaWNhdGlvbiBkb2N1bWVudC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiB1cmxJc1NhbWVPcmlnaW4ocmVxdWVzdFVybCkge1xuICAgICAgdmFyIHBhcnNlZCA9IChhbmd1bGFyLmlzU3RyaW5nKHJlcXVlc3RVcmwpKSA/IHVybFJlc29sdmUocmVxdWVzdFVybCkgOiByZXF1ZXN0VXJsO1xuICAgICAgcmV0dXJuIChwYXJzZWQucHJvdG9jb2wgPT09IG9yaWdpblVybC5wcm90b2NvbCAmJlxuICAgICAgICAgICAgICBwYXJzZWQuaG9zdCA9PT0gb3JpZ2luVXJsLmhvc3QpO1xuICAgIH1cblxuICAgIHJldHVybiB7XG4gICAgICB1cmxSZXNvbHZlOiB1cmxSZXNvbHZlLFxuICAgICAgaXNTYW1lT3JpZ2luOiB1cmxJc1NhbWVPcmlnaW5cbiAgICB9O1xuXG4gIH0pO1xuXG59KCkpO1xuLyoqXG4gKiBTdGF0ZS1iYXNlZCByb3V0aW5nIGZvciBBbmd1bGFySlMgMS54XG4gKiBOT1RJQ0U6IFRoaXMgbW9ub2xpdGhpYyBidW5kbGUgYWxzbyBidW5kbGVzIHRoZSBAdWlyb3V0ZXIvY29yZSBjb2RlLlxuICogICAgICAgICBUaGlzIGNhdXNlcyBpdCB0byBiZSBpbmNvbXBhdGlibGUgd2l0aCBwbHVnaW5zIHRoYXQgZGVwZW5kIG9uIEB1aXJvdXRlci9jb3JlLlxuICogICAgICAgICBXZSByZWNvbW1lbmQgc3dpdGNoaW5nIHRvIHRoZSB1aS1yb3V0ZXItY29yZS5qcyBhbmQgdWktcm91dGVyLWFuZ3VsYXJqcy5qcyBidW5kbGVzIGluc3RlYWQuXG4gKiAgICAgICAgIEZvciBtb3JlIGluZm9ybWF0aW9uLCBzZWUgaHR0cDovL3VpLXJvdXRlci5naXRodWIuaW8vYmxvZy9hbmd1bGFyLXVpLXJvdXRlci11bWQtYnVuZGxlc1xuICogQHZlcnNpb24gdjEuMC4zXG4gKiBAbGluayBodHRwczovL3VpLXJvdXRlci5naXRodWIuaW9cbiAqIEBsaWNlbnNlIE1JVCBMaWNlbnNlLCBodHRwOi8vd3d3Lm9wZW5zb3VyY2Uub3JnL2xpY2Vuc2VzL01JVFxuICovXG4oZnVuY3Rpb24gKGdsb2JhbCwgZmFjdG9yeSkge1xuICAgIHR5cGVvZiBleHBvcnRzID09PSAnb2JqZWN0JyAmJiB0eXBlb2YgbW9kdWxlICE9PSAndW5kZWZpbmVkJyA/IGZhY3RvcnkoZXhwb3J0cywgcmVxdWlyZSgnYW5ndWxhcicpKSA6XG4gICAgdHlwZW9mIGRlZmluZSA9PT0gJ2Z1bmN0aW9uJyAmJiBkZWZpbmUuYW1kID8gZGVmaW5lKFsnZXhwb3J0cycsICdhbmd1bGFyJ10sIGZhY3RvcnkpIDpcbiAgICAoZmFjdG9yeSgoZ2xvYmFsWydAdWlyb3V0ZXIvYW5ndWxhcmpzJ10gPSBnbG9iYWxbJ0B1aXJvdXRlci9hbmd1bGFyanMnXSB8fCB7fSksZ2xvYmFsLmFuZ3VsYXIpKTtcbn0odGhpcywgKGZ1bmN0aW9uIChleHBvcnRzLG5nX2Zyb21faW1wb3J0KSB7ICd1c2Ugc3RyaWN0JztcblxuLyoqXG4gKiBIaWdoZXIgb3JkZXIgZnVuY3Rpb25zXG4gKlxuICogVGhlc2UgdXRpbGl0eSBmdW5jdGlvbnMgYXJlIGV4cG9ydGVkLCBidXQgYXJlIHN1YmplY3QgdG8gY2hhbmdlIHdpdGhvdXQgbm90aWNlLlxuICpcbiAqIEBtb2R1bGUgY29tbW9uX2hvZlxuICovIC8qKiAqL1xuLyoqXG4gKiBSZXR1cm5zIGEgbmV3IGZ1bmN0aW9uIGZvciBbUGFydGlhbCBBcHBsaWNhdGlvbl0oaHR0cHM6Ly9lbi53aWtpcGVkaWEub3JnL3dpa2kvUGFydGlhbF9hcHBsaWNhdGlvbikgb2YgdGhlIG9yaWdpbmFsIGZ1bmN0aW9uLlxuICpcbiAqIEdpdmVuIGEgZnVuY3Rpb24gd2l0aCBOIHBhcmFtZXRlcnMsIHJldHVybnMgYSBuZXcgZnVuY3Rpb24gdGhhdCBzdXBwb3J0cyBwYXJ0aWFsIGFwcGxpY2F0aW9uLlxuICogVGhlIG5ldyBmdW5jdGlvbiBhY2NlcHRzIGFueXdoZXJlIGZyb20gMSB0byBOIHBhcmFtZXRlcnMuICBXaGVuIHRoYXQgZnVuY3Rpb24gaXMgY2FsbGVkIHdpdGggTSBwYXJhbWV0ZXJzLFxuICogd2hlcmUgTSBpcyBsZXNzIHRoYW4gTiwgaXQgcmV0dXJucyBhIG5ldyBmdW5jdGlvbiB0aGF0IGFjY2VwdHMgdGhlIHJlbWFpbmluZyBwYXJhbWV0ZXJzLiAgSXQgY29udGludWVzIHRvXG4gKiBhY2NlcHQgbW9yZSBwYXJhbWV0ZXJzIHVudGlsIGFsbCBOIHBhcmFtZXRlcnMgaGF2ZSBiZWVuIHN1cHBsaWVkLlxuICpcbiAqXG4gKiBUaGlzIGNvbnRyaXZlZCBleGFtcGxlIHVzZXMgYSBwYXJ0aWFsbHkgYXBwbGllZCBmdW5jdGlvbiBhcyBhbiBwcmVkaWNhdGUsIHdoaWNoIHJldHVybnMgdHJ1ZVxuICogaWYgYW4gb2JqZWN0IGlzIGZvdW5kIGluIGJvdGggYXJyYXlzLlxuICogQGV4YW1wbGVcbiAqIGBgYFxuICogLy8gcmV0dXJucyB0cnVlIGlmIGFuIG9iamVjdCBpcyBpbiBib3RoIG9mIHRoZSB0d28gYXJyYXlzXG4gKiBmdW5jdGlvbiBpbkJvdGgoYXJyYXkxLCBhcnJheTIsIG9iamVjdCkge1xuICogICByZXR1cm4gYXJyYXkxLmluZGV4T2Yob2JqZWN0KSAhPT0gLTEgJiZcbiAqICAgICAgICAgIGFycmF5Mi5pbmRleE9mKG9iamVjdCkgIT09IDE7XG4gKiB9XG4gKiBsZXQgb2JqMSwgb2JqMiwgb2JqMywgb2JqNCwgb2JqNSwgb2JqNiwgb2JqN1xuICogbGV0IGZvb3MgPSBbb2JqMSwgb2JqM11cbiAqIGxldCBiYXJzID0gW29iajMsIG9iajQsIG9iajVdXG4gKlxuICogLy8gQSBjdXJyaWVkIFwiY29weVwiIG9mIGluQm90aFxuICogbGV0IGN1cnJpZWRJbkJvdGggPSBjdXJyeShpbkJvdGgpO1xuICogLy8gUGFydGlhbGx5IGFwcGx5IGJvdGggdGhlIGFycmF5MSBhbmQgYXJyYXkyXG4gKiBsZXQgaW5Gb29zQW5kQmFycyA9IGN1cnJpZWRJbkJvdGgoZm9vcywgYmFycyk7XG4gKlxuICogLy8gU3VwcGx5IHRoZSBmaW5hbCBhcmd1bWVudDsgc2luY2UgYWxsIGFyZ3VtZW50cyBhcmVcbiAqIC8vIHN1cHBsaWVkLCB0aGUgb3JpZ2luYWwgaW5Cb3RoIGZ1bmN0aW9uIGlzIHRoZW4gY2FsbGVkLlxuICogbGV0IG9iajFJbkJvdGggPSBpbkZvb3NBbmRCYXJzKG9iajEpOyAvLyBmYWxzZVxuICpcbiAqIC8vIFVzZSB0aGUgaW5Gb29zQW5kQmFycyBhcyBhIHByZWRpY2F0ZS5cbiAqIC8vIEZpbHRlciwgb24gZWFjaCBpdGVyYXRpb24sIHN1cHBsaWVzIHRoZSBmaW5hbCBhcmd1bWVudFxuICogbGV0IGFsbE9ianMgPSBbIG9iajEsIG9iajIsIG9iajMsIG9iajQsIG9iajUsIG9iajYsIG9iajcgXTtcbiAqIGxldCBmb3VuZEluQm90aCA9IGFsbE9ianMuZmlsdGVyKGluRm9vc0FuZEJhcnMpOyAvLyBbIG9iajMgXVxuICpcbiAqIGBgYFxuICpcbiAqIFN0b2xlbiBmcm9tOiBodHRwOi8vc3RhY2tvdmVyZmxvdy5jb20vcXVlc3Rpb25zLzQzOTQ3NDcvamF2YXNjcmlwdC1jdXJyeS1mdW5jdGlvblxuICpcbiAqIEBwYXJhbSBmblxuICogQHJldHVybnMgeyp8ZnVuY3Rpb24oKTogKCp8YW55KX1cbiAqL1xuZnVuY3Rpb24gY3VycnkoZm4pIHtcbiAgICB2YXIgaW5pdGlhbF9hcmdzID0gW10uc2xpY2UuYXBwbHkoYXJndW1lbnRzLCBbMV0pO1xuICAgIHZhciBmdW5jX2FyZ3NfbGVuZ3RoID0gZm4ubGVuZ3RoO1xuICAgIGZ1bmN0aW9uIGN1cnJpZWQoYXJncykge1xuICAgICAgICBpZiAoYXJncy5sZW5ndGggPj0gZnVuY19hcmdzX2xlbmd0aClcbiAgICAgICAgICAgIHJldHVybiBmbi5hcHBseShudWxsLCBhcmdzKTtcbiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiBjdXJyaWVkKGFyZ3MuY29uY2F0KFtdLnNsaWNlLmFwcGx5KGFyZ3VtZW50cykpKTtcbiAgICAgICAgfTtcbiAgICB9XG4gICAgcmV0dXJuIGN1cnJpZWQoaW5pdGlhbF9hcmdzKTtcbn1cbi8qKlxuICogR2l2ZW4gYSB2YXJhcmdzIGxpc3Qgb2YgZnVuY3Rpb25zLCByZXR1cm5zIGEgZnVuY3Rpb24gdGhhdCBjb21wb3NlcyB0aGUgYXJndW1lbnQgZnVuY3Rpb25zLCByaWdodC10by1sZWZ0XG4gKiBnaXZlbjogZih4KSwgZyh4KSwgaCh4KVxuICogbGV0IGNvbXBvc2VkID0gY29tcG9zZShmLGcsaClcbiAqIHRoZW4sIGNvbXBvc2VkIGlzOiBmKGcoaCh4KSkpXG4gKi9cbmZ1bmN0aW9uIGNvbXBvc2UoKSB7XG4gICAgdmFyIGFyZ3MgPSBhcmd1bWVudHM7XG4gICAgdmFyIHN0YXJ0ID0gYXJncy5sZW5ndGggLSAxO1xuICAgIHJldHVybiBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBpID0gc3RhcnQsIHJlc3VsdCA9IGFyZ3Nbc3RhcnRdLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gICAgICAgIHdoaWxlIChpLS0pXG4gICAgICAgICAgICByZXN1bHQgPSBhcmdzW2ldLmNhbGwodGhpcywgcmVzdWx0KTtcbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9O1xufVxuLyoqXG4gKiBHaXZlbiBhIHZhcmFyZ3MgbGlzdCBvZiBmdW5jdGlvbnMsIHJldHVybnMgYSBmdW5jdGlvbiB0aGF0IGlzIGNvbXBvc2VzIHRoZSBhcmd1bWVudCBmdW5jdGlvbnMsIGxlZnQtdG8tcmlnaHRcbiAqIGdpdmVuOiBmKHgpLCBnKHgpLCBoKHgpXG4gKiBsZXQgcGlwZWQgPSBwaXBlKGYsZyxoKTtcbiAqIHRoZW4sIHBpcGVkIGlzOiBoKGcoZih4KSkpXG4gKi9cbmZ1bmN0aW9uIHBpcGUoKSB7XG4gICAgdmFyIGZ1bmNzID0gW107XG4gICAgZm9yICh2YXIgX2kgPSAwOyBfaSA8IGFyZ3VtZW50cy5sZW5ndGg7IF9pKyspIHtcbiAgICAgICAgZnVuY3NbX2ldID0gYXJndW1lbnRzW19pXTtcbiAgICB9XG4gICAgcmV0dXJuIGNvbXBvc2UuYXBwbHkobnVsbCwgW10uc2xpY2UuY2FsbChhcmd1bWVudHMpLnJldmVyc2UoKSk7XG59XG4vKipcbiAqIEdpdmVuIGEgcHJvcGVydHkgbmFtZSwgcmV0dXJucyBhIGZ1bmN0aW9uIHRoYXQgcmV0dXJucyB0aGF0IHByb3BlcnR5IGZyb20gYW4gb2JqZWN0XG4gKiBsZXQgb2JqID0geyBmb286IDEsIG5hbWU6IFwiYmxhcmdcIiB9O1xuICogbGV0IGdldE5hbWUgPSBwcm9wKFwibmFtZVwiKTtcbiAqIGdldE5hbWUob2JqKSA9PT0gXCJibGFyZ1wiXG4gKi9cbnZhciBwcm9wID0gZnVuY3Rpb24gKG5hbWUpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24gKG9iaikgeyByZXR1cm4gb2JqICYmIG9ialtuYW1lXTsgfTtcbn07XG4vKipcbiAqIEdpdmVuIGEgcHJvcGVydHkgbmFtZSBhbmQgYSB2YWx1ZSwgcmV0dXJucyBhIGZ1bmN0aW9uIHRoYXQgcmV0dXJucyBhIGJvb2xlYW4gYmFzZWQgb24gd2hldGhlclxuICogdGhlIHBhc3NlZCBvYmplY3QgaGFzIGEgcHJvcGVydHkgdGhhdCBtYXRjaGVzIHRoZSB2YWx1ZVxuICogbGV0IG9iaiA9IHsgZm9vOiAxLCBuYW1lOiBcImJsYXJnXCIgfTtcbiAqIGxldCBnZXROYW1lID0gcHJvcEVxKFwibmFtZVwiLCBcImJsYXJnXCIpO1xuICogZ2V0TmFtZShvYmopID09PSB0cnVlXG4gKi9cbnZhciBwcm9wRXEgPSBjdXJyeShmdW5jdGlvbiAobmFtZSwgdmFsLCBvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmpbbmFtZV0gPT09IHZhbDsgfSk7XG4vKipcbiAqIEdpdmVuIGEgZG90dGVkIHByb3BlcnR5IG5hbWUsIHJldHVybnMgYSBmdW5jdGlvbiB0aGF0IHJldHVybnMgYSBuZXN0ZWQgcHJvcGVydHkgZnJvbSBhbiBvYmplY3QsIG9yIHVuZGVmaW5lZFxuICogbGV0IG9iaiA9IHsgaWQ6IDEsIG5lc3RlZE9iajogeyBmb286IDEsIG5hbWU6IFwiYmxhcmdcIiB9LCB9O1xuICogbGV0IGdldE5hbWUgPSBwcm9wKFwibmVzdGVkT2JqLm5hbWVcIik7XG4gKiBnZXROYW1lKG9iaikgPT09IFwiYmxhcmdcIlxuICogbGV0IHByb3BOb3RGb3VuZCA9IHByb3AoXCJ0aGlzLnByb3BlcnR5LmRvZXNudC5leGlzdFwiKTtcbiAqIHByb3BOb3RGb3VuZChvYmopID09PSB1bmRlZmluZWRcbiAqL1xudmFyIHBhcnNlID0gZnVuY3Rpb24gKG5hbWUpIHtcbiAgICByZXR1cm4gcGlwZS5hcHBseShudWxsLCBuYW1lLnNwbGl0KFwiLlwiKS5tYXAocHJvcCkpO1xufTtcbi8qKlxuICogR2l2ZW4gYSBmdW5jdGlvbiB0aGF0IHJldHVybnMgYSB0cnV0aHkgb3IgZmFsc2V5IHZhbHVlLCByZXR1cm5zIGFcbiAqIGZ1bmN0aW9uIHRoYXQgcmV0dXJucyB0aGUgb3Bwb3NpdGUgKGZhbHNleSBvciB0cnV0aHkpIHZhbHVlIGdpdmVuIHRoZSBzYW1lIGlucHV0c1xuICovXG52YXIgbm90ID0gZnVuY3Rpb24gKGZuKSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIGFyZ3MgPSBbXTtcbiAgICAgICAgZm9yICh2YXIgX2kgPSAwOyBfaSA8IGFyZ3VtZW50cy5sZW5ndGg7IF9pKyspIHtcbiAgICAgICAgICAgIGFyZ3NbX2ldID0gYXJndW1lbnRzW19pXTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gIWZuLmFwcGx5KG51bGwsIGFyZ3MpO1xuICAgIH07XG59O1xuLyoqXG4gKiBHaXZlbiB0d28gZnVuY3Rpb25zIHRoYXQgcmV0dXJuIHRydXRoeSBvciBmYWxzZXkgdmFsdWVzLCByZXR1cm5zIGEgZnVuY3Rpb24gdGhhdCByZXR1cm5zIHRydXRoeVxuICogaWYgYm90aCBmdW5jdGlvbnMgcmV0dXJuIHRydXRoeSBmb3IgdGhlIGdpdmVuIGFyZ3VtZW50c1xuICovXG5mdW5jdGlvbiBhbmQoZm4xLCBmbjIpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgYXJncyA9IFtdO1xuICAgICAgICBmb3IgKHZhciBfaSA9IDA7IF9pIDwgYXJndW1lbnRzLmxlbmd0aDsgX2krKykge1xuICAgICAgICAgICAgYXJnc1tfaV0gPSBhcmd1bWVudHNbX2ldO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBmbjEuYXBwbHkobnVsbCwgYXJncykgJiYgZm4yLmFwcGx5KG51bGwsIGFyZ3MpO1xuICAgIH07XG59XG4vKipcbiAqIEdpdmVuIHR3byBmdW5jdGlvbnMgdGhhdCByZXR1cm4gdHJ1dGh5IG9yIGZhbHNleSB2YWx1ZXMsIHJldHVybnMgYSBmdW5jdGlvbiB0aGF0IHJldHVybnMgdHJ1dGh5XG4gKiBpZiBhdCBsZWFzdCBvbmUgb2YgdGhlIGZ1bmN0aW9ucyByZXR1cm5zIHRydXRoeSBmb3IgdGhlIGdpdmVuIGFyZ3VtZW50c1xuICovXG5mdW5jdGlvbiBvcihmbjEsIGZuMikge1xuICAgIHJldHVybiBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBhcmdzID0gW107XG4gICAgICAgIGZvciAodmFyIF9pID0gMDsgX2kgPCBhcmd1bWVudHMubGVuZ3RoOyBfaSsrKSB7XG4gICAgICAgICAgICBhcmdzW19pXSA9IGFyZ3VtZW50c1tfaV07XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGZuMS5hcHBseShudWxsLCBhcmdzKSB8fCBmbjIuYXBwbHkobnVsbCwgYXJncyk7XG4gICAgfTtcbn1cbi8qKlxuICogQ2hlY2sgaWYgYWxsIHRoZSBlbGVtZW50cyBvZiBhbiBhcnJheSBtYXRjaCBhIHByZWRpY2F0ZSBmdW5jdGlvblxuICpcbiAqIEBwYXJhbSBmbjEgYSBwcmVkaWNhdGUgZnVuY3Rpb24gYGZuMWBcbiAqIEByZXR1cm5zIGEgZnVuY3Rpb24gd2hpY2ggdGFrZXMgYW4gYXJyYXkgYW5kIHJldHVybnMgdHJ1ZSBpZiBgZm4xYCBpcyB0cnVlIGZvciBhbGwgZWxlbWVudHMgb2YgdGhlIGFycmF5XG4gKi9cbnZhciBhbGwgPSBmdW5jdGlvbiAoZm4xKSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uIChhcnIpIHsgcmV0dXJuIGFyci5yZWR1Y2UoZnVuY3Rpb24gKGIsIHgpIHsgcmV0dXJuIGIgJiYgISFmbjEoeCk7IH0sIHRydWUpOyB9O1xufTtcbnZhciBhbnkgPSBmdW5jdGlvbiAoZm4xKSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uIChhcnIpIHsgcmV0dXJuIGFyci5yZWR1Y2UoZnVuY3Rpb24gKGIsIHgpIHsgcmV0dXJuIGIgfHwgISFmbjEoeCk7IH0sIGZhbHNlKTsgfTtcbn07XG4vKiogR2l2ZW4gYSBjbGFzcywgcmV0dXJucyBhIFByZWRpY2F0ZSBmdW5jdGlvbiB0aGF0IHJldHVybnMgdHJ1ZSBpZiB0aGUgb2JqZWN0IGlzIG9mIHRoYXQgY2xhc3MgKi9cbnZhciBpcyA9IGZ1bmN0aW9uIChjdG9yKSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uIChvYmopIHtcbiAgICAgICAgcmV0dXJuIChvYmogIT0gbnVsbCAmJiBvYmouY29uc3RydWN0b3IgPT09IGN0b3IgfHwgb2JqIGluc3RhbmNlb2YgY3Rvcik7XG4gICAgfTtcbn07XG4vKiogR2l2ZW4gYSB2YWx1ZSwgcmV0dXJucyBhIFByZWRpY2F0ZSBmdW5jdGlvbiB0aGF0IHJldHVybnMgdHJ1ZSBpZiBhbm90aGVyIHZhbHVlIGlzID09PSBlcXVhbCB0byB0aGUgb3JpZ2luYWwgdmFsdWUgKi9cbnZhciBlcSA9IGZ1bmN0aW9uICh2YWwpIHsgcmV0dXJuIGZ1bmN0aW9uIChvdGhlcikge1xuICAgIHJldHVybiB2YWwgPT09IG90aGVyO1xufTsgfTtcbi8qKiBHaXZlbiBhIHZhbHVlLCByZXR1cm5zIGEgZnVuY3Rpb24gd2hpY2ggcmV0dXJucyB0aGUgdmFsdWUgKi9cbnZhciB2YWwgPSBmdW5jdGlvbiAodikgeyByZXR1cm4gZnVuY3Rpb24gKCkgeyByZXR1cm4gdjsgfTsgfTtcbmZ1bmN0aW9uIGludm9rZShmbk5hbWUsIGFyZ3MpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24gKG9iaikge1xuICAgICAgICByZXR1cm4gb2JqW2ZuTmFtZV0uYXBwbHkob2JqLCBhcmdzKTtcbiAgICB9O1xufVxuLyoqXG4gKiBTb3J0YSBsaWtlIFBhdHRlcm4gTWF0Y2hpbmcgKGEgZnVuY3Rpb25hbCBwcm9ncmFtbWluZyBjb25kaXRpb25hbCBjb25zdHJ1Y3QpXG4gKlxuICogU2VlIGh0dHA6Ly9jMi5jb20vY2dpL3dpa2k/UGF0dGVybk1hdGNoaW5nXG4gKlxuICogVGhpcyBpcyBhIGNvbmRpdGlvbmFsIGNvbnN0cnVjdCB3aGljaCBhbGxvd3MgYSBzZXJpZXMgb2YgcHJlZGljYXRlcyBhbmQgb3V0cHV0IGZ1bmN0aW9uc1xuICogdG8gYmUgY2hlY2tlZCBhbmQgdGhlbiBhcHBsaWVkLiAgRWFjaCBwcmVkaWNhdGUgcmVjZWl2ZXMgdGhlIGlucHV0LiAgSWYgdGhlIHByZWRpY2F0ZVxuICogcmV0dXJucyB0cnV0aHksIHRoZW4gaXRzIG1hdGNoaW5nIG91dHB1dCBmdW5jdGlvbiAobWFwcGluZyBmdW5jdGlvbikgaXMgcHJvdmlkZWQgd2l0aFxuICogdGhlIGlucHV0IGFuZCwgdGhlbiB0aGUgcmVzdWx0IGlzIHJldHVybmVkLlxuICpcbiAqIEVhY2ggY29tYmluYXRpb24gKDItdHVwbGUpIG9mIHByZWRpY2F0ZSArIG91dHB1dCBmdW5jdGlvbiBzaG91bGQgYmUgcGxhY2VkIGluIGFuIGFycmF5XG4gKiBvZiBzaXplIDI6IFsgcHJlZGljYXRlLCBtYXBGbiBdXG4gKlxuICogVGhlc2UgMi10dXBsZXMgc2hvdWxkIGJlIHB1dCBpbiBhbiBvdXRlciBhcnJheS5cbiAqXG4gKiBAZXhhbXBsZVxuICogYGBgXG4gKlxuICogLy8gSGVyZSdzIGEgMi10dXBsZSB3aGVyZSB0aGUgZmlyc3QgZWxlbWVudCBpcyB0aGUgaXNTdHJpbmcgcHJlZGljYXRlXG4gKiAvLyBhbmQgdGhlIHNlY29uZCBlbGVtZW50IGlzIGEgZnVuY3Rpb24gdGhhdCByZXR1cm5zIGEgZGVzY3JpcHRpb24gb2YgdGhlIGlucHV0XG4gKiBsZXQgZmlyc3RUdXBsZSA9IFsgYW5ndWxhci5pc1N0cmluZywgKGlucHV0KSA9PiBgSGVyZXMgeW91ciBzdHJpbmcgJHtpbnB1dH1gIF07XG4gKlxuICogLy8gU2Vjb25kIHR1cGxlOiBwcmVkaWNhdGUgXCJpc051bWJlclwiLCBtYXBmbiByZXR1cm5zIGEgZGVzY3JpcHRpb25cbiAqIGxldCBzZWNvbmRUdXBsZSA9IFsgYW5ndWxhci5pc051bWJlciwgKGlucHV0KSA9PiBgKCR7aW5wdXR9KSBUaGF0J3MgYSBudW1iZXIhYCBdO1xuICpcbiAqIGxldCB0aGlyZCA9IFsgKGlucHV0KSA9PiBpbnB1dCA9PT0gbnVsbCwgIChpbnB1dCkgPT4gYE9oLCBudWxsLi4uYCBdO1xuICpcbiAqIGxldCBmb3VydGggPSBbIChpbnB1dCkgPT4gaW5wdXQgPT09IHVuZGVmaW5lZCwgIChpbnB1dCkgPT4gYG5vdGRlZmluZWRgIF07XG4gKlxuICogbGV0IGRlc2NyaXB0aW9uT2YgPSBwYXR0ZXJuKFsgZmlyc3RUdXBsZSwgc2Vjb25kVHVwbGUsIHRoaXJkLCBmb3VydGggXSk7XG4gKlxuICogY29uc29sZS5sb2coZGVzY3JpcHRpb25PZih1bmRlZmluZWQpKTsgLy8gJ25vdGRlZmluZWQnXG4gKiBjb25zb2xlLmxvZyhkZXNjcmlwdGlvbk9mKDU1KSk7IC8vICcoNTUpIFRoYXQncyBhIG51bWJlciEnXG4gKiBjb25zb2xlLmxvZyhkZXNjcmlwdGlvbk9mKFwiZm9vXCIpKTsgLy8gJ0hlcmUncyB5b3VyIHN0cmluZyBmb28nXG4gKiBgYGBcbiAqXG4gKiBAcGFyYW0gc3RydWN0IEEgMkQgYXJyYXkuICBFYWNoIGVsZW1lbnQgb2YgdGhlIGFycmF5IHNob3VsZCBiZSBhbiBhcnJheSwgYSAyLXR1cGxlLFxuICogd2l0aCBhIFByZWRpY2F0ZSBhbmQgYSBtYXBwaW5nL291dHB1dCBmdW5jdGlvblxuICogQHJldHVybnMge2Z1bmN0aW9uKGFueSk6ICp9XG4gKi9cbmZ1bmN0aW9uIHBhdHRlcm4oc3RydWN0KSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uICh4KSB7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgc3RydWN0Lmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBpZiAoc3RydWN0W2ldWzBdKHgpKVxuICAgICAgICAgICAgICAgIHJldHVybiBzdHJ1Y3RbaV1bMV0oeCk7XG4gICAgICAgIH1cbiAgICB9O1xufVxuXG4vKipcbiAqIEBjb3JlYXBpXG4gKiBAbW9kdWxlIGNvcmVcbiAqL1xuLyoqXG4gKiBNYXRjaGVzIHN0YXRlIG5hbWVzIHVzaW5nIGdsb2ItbGlrZSBwYXR0ZXJuIHN0cmluZ3MuXG4gKlxuICogR2xvYnMgY2FuIGJlIHVzZWQgaW4gc3BlY2lmaWMgQVBJcyBpbmNsdWRpbmc6XG4gKlxuICogLSBbW1N0YXRlU2VydmljZS5pc11dXG4gKiAtIFtbU3RhdGVTZXJ2aWNlLmluY2x1ZGVzXV1cbiAqIC0gVGhlIGZpcnN0IGFyZ3VtZW50IHRvIEhvb2sgUmVnaXN0cmF0aW9uIGZ1bmN0aW9ucyBsaWtlIFtbVHJhbnNpdGlvblNlcnZpY2Uub25TdGFydF1dXG4gKiAgICAtIFtbSG9va01hdGNoQ3JpdGVyaWFdXSBhbmQgW1tIb29rTWF0Y2hDcml0ZXJpb25dXVxuICpcbiAqIEEgYEdsb2JgIHN0cmluZyBpcyBhIHBhdHRlcm4gd2hpY2ggbWF0Y2hlcyBzdGF0ZSBuYW1lcy5cbiAqIE5lc3RlZCBzdGF0ZSBuYW1lcyBhcmUgc3BsaXQgaW50byBzZWdtZW50cyAoc2VwYXJhdGVkIGJ5IGEgZG90KSB3aGVuIHByb2Nlc3NpbmcuXG4gKiBUaGUgc3RhdGUgbmFtZWQgYGZvby5iYXIuYmF6YCBpcyBzcGxpdCBpbnRvIHRocmVlIHNlZ21lbnRzIFsnZm9vJywgJ2JhcicsICdiYXonXVxuICpcbiAqIEdsb2JzIHdvcmsgYWNjb3JkaW5nIHRvIHRoZSBmb2xsb3dpbmcgcnVsZXM6XG4gKlxuICogIyMjIEV4YWN0IG1hdGNoOlxuICpcbiAqIFRoZSBnbG9iIGAnQS5CJ2AgbWF0Y2hlcyB0aGUgc3RhdGUgbmFtZWQgZXhhY3RseSBgJ0EuQidgLlxuICpcbiAqIHwgR2xvYiAgICAgICAgfE1hdGNoZXMgc3RhdGVzIG5hbWVkfERvZXMgbm90IG1hdGNoIHN0YXRlIG5hbWVkfFxuICogfDotLS0tLS0tLS0tLS18Oi0tLS0tLS0tLS0tLS0tLS0tLS0tfDotLS0tLS0tLS0tLS0tLS0tLS0tLS18XG4gKiB8IGAnQSdgICAgICAgIHwgYCdBJ2AgICAgICAgICAgICAgICB8IGAnQidgICwgYCdBLkMnYCAgICAgIHxcbiAqIHwgYCdBLkInYCAgICAgfCBgJ0EuQidgICAgICAgICAgICAgIHwgYCdBJ2AgLCBgJ0EuQi5DJ2AgICAgfFxuICogfCBgJ2ZvbydgICAgICB8IGAnZm9vJ2AgICAgICAgICAgICAgfCBgJ0ZPTydgICwgYCdmb28uYmFyJ2B8XG4gKlxuICogIyMjIFNpbmdsZSBzdGFyIChgKmApXG4gKlxuICogQSBzaW5nbGUgc3RhciAoYCpgKSBpcyBhIHdpbGRjYXJkIHRoYXQgbWF0Y2hlcyBleGFjdGx5IG9uZSBzZWdtZW50LlxuICpcbiAqIHwgR2xvYiAgICAgICAgfE1hdGNoZXMgc3RhdGVzIG5hbWVkICB8RG9lcyBub3QgbWF0Y2ggc3RhdGUgbmFtZWQgfFxuICogfDotLS0tLS0tLS0tLS18Oi0tLS0tLS0tLS0tLS0tLS0tLS0tLXw6LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS18XG4gKiB8IGAnKidgICAgICAgIHwgYCdBJ2AgLCBgJ1onYCAgICAgICAgfCBgJ0EuQidgICwgYCdaLlkuWCdgICAgICAgIHxcbiAqIHwgYCdBLionYCAgICAgfCBgJ0EuQidgICwgYCdBLkMnYCAgICB8IGAnQSdgICwgYCdBLkIuQydgICAgICAgICAgfFxuICogfCBgJ0EuKi4qJ2AgICB8IGAnQS5CLkMnYCAsIGAnQS5YLlknYHwgYCdBJ2AsIGAnQS5CJ2AgLCBgJ1ouWS5YJ2B8XG4gKlxuICogIyMjIERvdWJsZSBzdGFyIChgKipgKVxuICpcbiAqIEEgZG91YmxlIHN0YXIgKGAnKionYCkgaXMgYSB3aWxkY2FyZCB0aGF0IG1hdGNoZXMgKnplcm8gb3IgbW9yZSBzZWdtZW50cypcbiAqXG4gKiB8IEdsb2IgICAgICAgIHxNYXRjaGVzIHN0YXRlcyBuYW1lZCAgICAgICAgICAgICAgICAgICAgICAgICAgIHxEb2VzIG5vdCBtYXRjaCBzdGF0ZSBuYW1lZCAgICAgICAgIHxcbiAqIHw6LS0tLS0tLS0tLS0tfDotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tfDotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tfFxuICogfCBgJyoqJ2AgICAgICB8IGAnQSdgICwgYCdBLkInYCwgYCdaLlkuWCdgICAgICAgICAgICAgICAgICAgICB8IChtYXRjaGVzIGFsbCBzdGF0ZXMpICAgICAgICAgICAgICB8XG4gKiB8IGAnQS4qKidgICAgIHwgYCdBJ2AgLCBgJ0EuQidgICwgYCdBLkMuWCdgICAgICAgICAgICAgICAgICAgIHwgYCdaLlkuWCdgICAgICAgICAgICAgICAgICAgICAgICAgIHxcbiAqIHwgYCcqKi5YJ2AgICAgfCBgJ1gnYCAsIGAnQS5YJ2AgLCBgJ1ouWS5YJ2AgICAgICAgICAgICAgICAgICAgfCBgJ0EnYCAsIGAnQS5sb2dpbi5aJ2AgICAgICAgICAgICAgfFxuICogfCBgJ0EuKiouWCdgICB8IGAnQS5YJ2AgLCBgJ0EuQi5YJ2AgLCBgJ0EuQi5DLlgnYCAgICAgICAgICAgICB8IGAnQSdgICwgYCdBLkIuQydgICAgICAgICAgICAgICAgICB8XG4gKlxuICovXG52YXIgR2xvYiA9IChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gR2xvYih0ZXh0KSB7XG4gICAgICAgIHRoaXMudGV4dCA9IHRleHQ7XG4gICAgICAgIHRoaXMuZ2xvYiA9IHRleHQuc3BsaXQoJy4nKTtcbiAgICAgICAgdmFyIHJlZ2V4cFN0cmluZyA9IHRoaXMudGV4dC5zcGxpdCgnLicpXG4gICAgICAgICAgICAubWFwKGZ1bmN0aW9uIChzZWcpIHtcbiAgICAgICAgICAgIGlmIChzZWcgPT09ICcqKicpXG4gICAgICAgICAgICAgICAgcmV0dXJuICcoPzp8KD86XFxcXC5bXi5dKikqKSc7XG4gICAgICAgICAgICBpZiAoc2VnID09PSAnKicpXG4gICAgICAgICAgICAgICAgcmV0dXJuICdcXFxcLlteLl0qJztcbiAgICAgICAgICAgIHJldHVybiAnXFxcXC4nICsgc2VnO1xuICAgICAgICB9KS5qb2luKCcnKTtcbiAgICAgICAgdGhpcy5yZWdleHAgPSBuZXcgUmVnRXhwKFwiXlwiICsgcmVnZXhwU3RyaW5nICsgXCIkXCIpO1xuICAgIH1cbiAgICBHbG9iLnByb3RvdHlwZS5tYXRjaGVzID0gZnVuY3Rpb24gKG5hbWUpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMucmVnZXhwLnRlc3QoJy4nICsgbmFtZSk7XG4gICAgfTtcbiAgICAvKiogUmV0dXJucyB0cnVlIGlmIHRoZSBzdHJpbmcgaGFzIGdsb2ItbGlrZSBjaGFyYWN0ZXJzIGluIGl0ICovXG4gICAgR2xvYi5pcyA9IGZ1bmN0aW9uICh0ZXh0KSB7XG4gICAgICAgIHJldHVybiAhIS9bISwqXSsvLmV4ZWModGV4dCk7XG4gICAgfTtcbiAgICAvKiogUmV0dXJucyBhIGdsb2IgZnJvbSB0aGUgc3RyaW5nLCBvciBudWxsIGlmIHRoZSBzdHJpbmcgaXNuJ3QgR2xvYi1saWtlICovXG4gICAgR2xvYi5mcm9tU3RyaW5nID0gZnVuY3Rpb24gKHRleHQpIHtcbiAgICAgICAgcmV0dXJuIEdsb2IuaXModGV4dCkgPyBuZXcgR2xvYih0ZXh0KSA6IG51bGw7XG4gICAgfTtcbiAgICByZXR1cm4gR2xvYjtcbn0oKSk7XG5cbi8qKlxuICogSW50ZXJuYWwgcmVwcmVzZW50YXRpb24gb2YgYSBVSS1Sb3V0ZXIgc3RhdGUuXG4gKlxuICogSW5zdGFuY2VzIG9mIHRoaXMgY2xhc3MgYXJlIGNyZWF0ZWQgd2hlbiBhIFtbU3RhdGVEZWNsYXJhdGlvbl1dIGlzIHJlZ2lzdGVyZWQgd2l0aCB0aGUgW1tTdGF0ZVJlZ2lzdHJ5XV0uXG4gKlxuICogQSByZWdpc3RlcmVkIFtbU3RhdGVEZWNsYXJhdGlvbl1dIGlzIGF1Z21lbnRlZCB3aXRoIGEgZ2V0dGVyIChbW1N0YXRlRGVjbGFyYXRpb24uJCRzdGF0ZV1dKSB3aGljaCByZXR1cm5zIHRoZSBjb3JyZXNwb25kaW5nIFtbU3RhdGVPYmplY3RdXSBvYmplY3QuXG4gKlxuICogVGhpcyBjbGFzcyBwcm90b3R5cGFsbHkgaW5oZXJpdHMgZnJvbSB0aGUgY29ycmVzcG9uZGluZyBbW1N0YXRlRGVjbGFyYXRpb25dXS5cbiAqIEVhY2ggb2YgaXRzIG93biBwcm9wZXJ0aWVzIChpLmUuLCBgaGFzT3duUHJvcGVydHlgKSBhcmUgYnVpbHQgdXNpbmcgYnVpbGRlcnMgZnJvbSB0aGUgW1tTdGF0ZUJ1aWxkZXJdXS5cbiAqL1xudmFyIFN0YXRlT2JqZWN0ID0gKGZ1bmN0aW9uICgpIHtcbiAgICAvKiogQGRlcHJlY2F0ZWQgdXNlIFN0YXRlLmNyZWF0ZSgpICovXG4gICAgZnVuY3Rpb24gU3RhdGVPYmplY3QoY29uZmlnKSB7XG4gICAgICAgIHJldHVybiBTdGF0ZU9iamVjdC5jcmVhdGUoY29uZmlnIHx8IHt9KTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQ3JlYXRlIGEgc3RhdGUgb2JqZWN0IHRvIHB1dCB0aGUgcHJpdmF0ZS9pbnRlcm5hbCBpbXBsZW1lbnRhdGlvbiBkZXRhaWxzIG9udG8uXG4gICAgICogVGhlIG9iamVjdCdzIHByb3RvdHlwZSBjaGFpbiBsb29rcyBsaWtlOlxuICAgICAqIChJbnRlcm5hbCBTdGF0ZSBPYmplY3QpIC0+IChDb3B5IG9mIFN0YXRlLnByb3RvdHlwZSkgLT4gKFN0YXRlIERlY2xhcmF0aW9uIG9iamVjdCkgLT4gKFN0YXRlIERlY2xhcmF0aW9uJ3MgcHJvdG90eXBlLi4uKVxuICAgICAqXG4gICAgICogQHBhcmFtIHN0YXRlRGVjbCB0aGUgdXNlci1zdXBwbGllZCBTdGF0ZSBEZWNsYXJhdGlvblxuICAgICAqIEByZXR1cm5zIHtTdGF0ZU9iamVjdH0gYW4gaW50ZXJuYWwgU3RhdGUgb2JqZWN0XG4gICAgICovXG4gICAgU3RhdGVPYmplY3QuY3JlYXRlID0gZnVuY3Rpb24gKHN0YXRlRGVjbCkge1xuICAgICAgICBzdGF0ZURlY2wgPSBTdGF0ZU9iamVjdC5pc1N0YXRlQ2xhc3Moc3RhdGVEZWNsKSA/IG5ldyBzdGF0ZURlY2woKSA6IHN0YXRlRGVjbDtcbiAgICAgICAgdmFyIHN0YXRlID0gaW5oZXJpdChpbmhlcml0KHN0YXRlRGVjbCwgU3RhdGVPYmplY3QucHJvdG90eXBlKSk7XG4gICAgICAgIHN0YXRlRGVjbC4kJHN0YXRlID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gc3RhdGU7IH07XG4gICAgICAgIHN0YXRlLnNlbGYgPSBzdGF0ZURlY2w7XG4gICAgICAgIHN0YXRlLl9fc3RhdGVPYmplY3RDYWNoZSA9IHtcbiAgICAgICAgICAgIG5hbWVHbG9iOiBHbG9iLmZyb21TdHJpbmcoc3RhdGUubmFtZSkgLy8gbWlnaHQgcmV0dXJuIG51bGxcbiAgICAgICAgfTtcbiAgICAgICAgcmV0dXJuIHN0YXRlO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogUmV0dXJucyB0cnVlIGlmIHRoZSBwcm92aWRlZCBwYXJhbWV0ZXIgaXMgdGhlIHNhbWUgc3RhdGUuXG4gICAgICpcbiAgICAgKiBDb21wYXJlcyB0aGUgaWRlbnRpdHkgb2YgdGhlIHN0YXRlIGFnYWluc3QgdGhlIHBhc3NlZCB2YWx1ZSwgd2hpY2ggaXMgZWl0aGVyIGFuIG9iamVjdFxuICAgICAqIHJlZmVyZW5jZSB0byB0aGUgYWN0dWFsIGBTdGF0ZWAgaW5zdGFuY2UsIHRoZSBvcmlnaW5hbCBkZWZpbml0aW9uIG9iamVjdCBwYXNzZWQgdG9cbiAgICAgKiBgJHN0YXRlUHJvdmlkZXIuc3RhdGUoKWAsIG9yIHRoZSBmdWxseS1xdWFsaWZpZWQgbmFtZS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSByZWYgQ2FuIGJlIG9uZSBvZiAoYSkgYSBgU3RhdGVgIGluc3RhbmNlLCAoYikgYW4gb2JqZWN0IHRoYXQgd2FzIHBhc3NlZFxuICAgICAqICAgICAgICBpbnRvIGAkc3RhdGVQcm92aWRlci5zdGF0ZSgpYCwgKGMpIHRoZSBmdWxseS1xdWFsaWZpZWQgbmFtZSBvZiBhIHN0YXRlIGFzIGEgc3RyaW5nLlxuICAgICAqIEByZXR1cm5zIFJldHVybnMgYHRydWVgIGlmIGByZWZgIG1hdGNoZXMgdGhlIGN1cnJlbnQgYFN0YXRlYCBpbnN0YW5jZS5cbiAgICAgKi9cbiAgICBTdGF0ZU9iamVjdC5wcm90b3R5cGUuaXMgPSBmdW5jdGlvbiAocmVmKSB7XG4gICAgICAgIHJldHVybiB0aGlzID09PSByZWYgfHwgdGhpcy5zZWxmID09PSByZWYgfHwgdGhpcy5mcW4oKSA9PT0gcmVmO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQGRlcHJlY2F0ZWQgdGhpcyBkb2VzIG5vdCBwcm9wZXJseSBoYW5kbGUgZG90IG5vdGF0aW9uXG4gICAgICogQHJldHVybnMgUmV0dXJucyBhIGRvdC1zZXBhcmF0ZWQgbmFtZSBvZiB0aGUgc3RhdGUuXG4gICAgICovXG4gICAgU3RhdGVPYmplY3QucHJvdG90eXBlLmZxbiA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKCF0aGlzLnBhcmVudCB8fCAhKHRoaXMucGFyZW50IGluc3RhbmNlb2YgdGhpcy5jb25zdHJ1Y3RvcikpXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5uYW1lO1xuICAgICAgICB2YXIgbmFtZSA9IHRoaXMucGFyZW50LmZxbigpO1xuICAgICAgICByZXR1cm4gbmFtZSA/IG5hbWUgKyBcIi5cIiArIHRoaXMubmFtZSA6IHRoaXMubmFtZTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFJldHVybnMgdGhlIHJvb3Qgbm9kZSBvZiB0aGlzIHN0YXRlJ3MgdHJlZS5cbiAgICAgKlxuICAgICAqIEByZXR1cm5zIFRoZSByb290IG9mIHRoaXMgc3RhdGUncyB0cmVlLlxuICAgICAqL1xuICAgIFN0YXRlT2JqZWN0LnByb3RvdHlwZS5yb290ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5wYXJlbnQgJiYgdGhpcy5wYXJlbnQucm9vdCgpIHx8IHRoaXM7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBHZXRzIHRoZSBzdGF0ZSdzIGBQYXJhbWAgb2JqZWN0c1xuICAgICAqXG4gICAgICogR2V0cyB0aGUgbGlzdCBvZiBbW1BhcmFtXV0gb2JqZWN0cyBvd25lZCBieSB0aGUgc3RhdGUuXG4gICAgICogSWYgYG9wdHMuaW5oZXJpdGAgaXMgdHJ1ZSwgaXQgYWxzbyBpbmNsdWRlcyB0aGUgYW5jZXN0b3Igc3RhdGVzJyBbW1BhcmFtXV0gb2JqZWN0cy5cbiAgICAgKiBJZiBgb3B0cy5tYXRjaGluZ0tleXNgIGV4aXN0cywgcmV0dXJucyBvbmx5IGBQYXJhbWBzIHdob3NlIGBpZGAgaXMgYSBrZXkgb24gdGhlIGBtYXRjaGluZ0tleXNgIG9iamVjdFxuICAgICAqXG4gICAgICogQHBhcmFtIG9wdHMgb3B0aW9uc1xuICAgICAqL1xuICAgIFN0YXRlT2JqZWN0LnByb3RvdHlwZS5wYXJhbWV0ZXJzID0gZnVuY3Rpb24gKG9wdHMpIHtcbiAgICAgICAgb3B0cyA9IGRlZmF1bHRzKG9wdHMsIHsgaW5oZXJpdDogdHJ1ZSwgbWF0Y2hpbmdLZXlzOiBudWxsIH0pO1xuICAgICAgICB2YXIgaW5oZXJpdGVkID0gb3B0cy5pbmhlcml0ICYmIHRoaXMucGFyZW50ICYmIHRoaXMucGFyZW50LnBhcmFtZXRlcnMoKSB8fCBbXTtcbiAgICAgICAgcmV0dXJuIGluaGVyaXRlZC5jb25jYXQodmFsdWVzKHRoaXMucGFyYW1zKSlcbiAgICAgICAgICAgIC5maWx0ZXIoZnVuY3Rpb24gKHBhcmFtKSB7IHJldHVybiAhb3B0cy5tYXRjaGluZ0tleXMgfHwgb3B0cy5tYXRjaGluZ0tleXMuaGFzT3duUHJvcGVydHkocGFyYW0uaWQpOyB9KTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFJldHVybnMgYSBzaW5nbGUgW1tQYXJhbV1dIHRoYXQgaXMgb3duZWQgYnkgdGhlIHN0YXRlXG4gICAgICpcbiAgICAgKiBJZiBgb3B0cy5pbmhlcml0YCBpcyB0cnVlLCBpdCBhbHNvIHNlYXJjaGVzIHRoZSBhbmNlc3RvciBzdGF0ZXNgIFtbUGFyYW1dXXMuXG4gICAgICogQHBhcmFtIGlkIHRoZSBuYW1lIG9mIHRoZSBbW1BhcmFtXV0gdG8gcmV0dXJuXG4gICAgICogQHBhcmFtIG9wdHMgb3B0aW9uc1xuICAgICAqL1xuICAgIFN0YXRlT2JqZWN0LnByb3RvdHlwZS5wYXJhbWV0ZXIgPSBmdW5jdGlvbiAoaWQsIG9wdHMpIHtcbiAgICAgICAgaWYgKG9wdHMgPT09IHZvaWQgMCkgeyBvcHRzID0ge307IH1cbiAgICAgICAgcmV0dXJuICh0aGlzLnVybCAmJiB0aGlzLnVybC5wYXJhbWV0ZXIoaWQsIG9wdHMpIHx8XG4gICAgICAgICAgICBmaW5kKHZhbHVlcyh0aGlzLnBhcmFtcyksIHByb3BFcSgnaWQnLCBpZCkpIHx8XG4gICAgICAgICAgICBvcHRzLmluaGVyaXQgJiYgdGhpcy5wYXJlbnQgJiYgdGhpcy5wYXJlbnQucGFyYW1ldGVyKGlkKSk7XG4gICAgfTtcbiAgICBTdGF0ZU9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmZxbigpO1xuICAgIH07XG4gICAgcmV0dXJuIFN0YXRlT2JqZWN0O1xufSgpKTtcbi8qKiBQcmVkaWNhdGUgd2hpY2ggcmV0dXJucyB0cnVlIGlmIHRoZSBvYmplY3QgaXMgYW4gY2xhc3Mgd2l0aCBAU3RhdGUoKSBkZWNvcmF0b3IgKi9cblN0YXRlT2JqZWN0LmlzU3RhdGVDbGFzcyA9IGZ1bmN0aW9uIChzdGF0ZURlY2wpIHtcbiAgICByZXR1cm4gaXNGdW5jdGlvbihzdGF0ZURlY2wpICYmIHN0YXRlRGVjbFsnX191aVJvdXRlclN0YXRlJ10gPT09IHRydWU7XG59O1xuLyoqIFByZWRpY2F0ZSB3aGljaCByZXR1cm5zIHRydWUgaWYgdGhlIG9iamVjdCBpcyBhbiBpbnRlcm5hbCBbW1N0YXRlT2JqZWN0XV0gb2JqZWN0ICovXG5TdGF0ZU9iamVjdC5pc1N0YXRlID0gZnVuY3Rpb24gKG9iaikge1xuICAgIHJldHVybiBpc09iamVjdChvYmpbJ19fc3RhdGVPYmplY3RDYWNoZSddKTtcbn07XG5cbi8qKiBQcmVkaWNhdGVzXG4gKlxuICogVGhlc2UgcHJlZGljYXRlcyByZXR1cm4gdHJ1ZS9mYWxzZSBiYXNlZCBvbiB0aGUgaW5wdXQuXG4gKiBBbHRob3VnaCB0aGVzZSBmdW5jdGlvbnMgYXJlIGV4cG9ydGVkLCB0aGV5IGFyZSBzdWJqZWN0IHRvIGNoYW5nZSB3aXRob3V0IG5vdGljZS5cbiAqXG4gKiBAbW9kdWxlIGNvbW1vbl9wcmVkaWNhdGVzXG4gKi9cbi8qKiAqL1xudmFyIHRvU3RyID0gT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZztcbnZhciB0aXMgPSBmdW5jdGlvbiAodCkgeyByZXR1cm4gZnVuY3Rpb24gKHgpIHsgcmV0dXJuIHR5cGVvZiAoeCkgPT09IHQ7IH07IH07XG52YXIgaXNVbmRlZmluZWQgPSB0aXMoJ3VuZGVmaW5lZCcpO1xudmFyIGlzRGVmaW5lZCA9IG5vdChpc1VuZGVmaW5lZCk7XG52YXIgaXNOdWxsID0gZnVuY3Rpb24gKG8pIHsgcmV0dXJuIG8gPT09IG51bGw7IH07XG52YXIgaXNOdWxsT3JVbmRlZmluZWQgPSBvcihpc051bGwsIGlzVW5kZWZpbmVkKTtcbnZhciBpc0Z1bmN0aW9uID0gdGlzKCdmdW5jdGlvbicpO1xudmFyIGlzTnVtYmVyID0gdGlzKCdudW1iZXInKTtcbnZhciBpc1N0cmluZyA9IHRpcygnc3RyaW5nJyk7XG52YXIgaXNPYmplY3QgPSBmdW5jdGlvbiAoeCkgeyByZXR1cm4geCAhPT0gbnVsbCAmJiB0eXBlb2YgeCA9PT0gJ29iamVjdCc7IH07XG52YXIgaXNBcnJheSA9IEFycmF5LmlzQXJyYXk7XG52YXIgaXNEYXRlID0gKGZ1bmN0aW9uICh4KSB7IHJldHVybiB0b1N0ci5jYWxsKHgpID09PSAnW29iamVjdCBEYXRlXSc7IH0pO1xudmFyIGlzUmVnRXhwID0gKGZ1bmN0aW9uICh4KSB7IHJldHVybiB0b1N0ci5jYWxsKHgpID09PSAnW29iamVjdCBSZWdFeHBdJzsgfSk7XG52YXIgaXNTdGF0ZSA9IFN0YXRlT2JqZWN0LmlzU3RhdGU7XG4vKipcbiAqIFByZWRpY2F0ZSB3aGljaCBjaGVja3MgaWYgYSB2YWx1ZSBpcyBpbmplY3RhYmxlXG4gKlxuICogQSB2YWx1ZSBpcyBcImluamVjdGFibGVcIiBpZiBpdCBpcyBhIGZ1bmN0aW9uLCBvciBpZiBpdCBpcyBhbiBuZzEgYXJyYXktbm90YXRpb24tc3R5bGUgYXJyYXlcbiAqIHdoZXJlIGFsbCB0aGUgZWxlbWVudHMgaW4gdGhlIGFycmF5IGFyZSBTdHJpbmdzLCBleGNlcHQgdGhlIGxhc3Qgb25lLCB3aGljaCBpcyBhIEZ1bmN0aW9uXG4gKi9cbmZ1bmN0aW9uIGlzSW5qZWN0YWJsZSh2YWwkJDEpIHtcbiAgICBpZiAoaXNBcnJheSh2YWwkJDEpICYmIHZhbCQkMS5sZW5ndGgpIHtcbiAgICAgICAgdmFyIGhlYWQgPSB2YWwkJDEuc2xpY2UoMCwgLTEpLCB0YWlsID0gdmFsJCQxLnNsaWNlKC0xKTtcbiAgICAgICAgcmV0dXJuICEoaGVhZC5maWx0ZXIobm90KGlzU3RyaW5nKSkubGVuZ3RoIHx8IHRhaWwuZmlsdGVyKG5vdChpc0Z1bmN0aW9uKSkubGVuZ3RoKTtcbiAgICB9XG4gICAgcmV0dXJuIGlzRnVuY3Rpb24odmFsJCQxKTtcbn1cbi8qKlxuICogUHJlZGljYXRlIHdoaWNoIGNoZWNrcyBpZiBhIHZhbHVlIGxvb2tzIGxpa2UgYSBQcm9taXNlXG4gKlxuICogSXQgaXMgcHJvYmFibHkgYSBQcm9taXNlIGlmIGl0J3MgYW4gb2JqZWN0LCBhbmQgaXQgaGFzIGEgYHRoZW5gIHByb3BlcnR5IHdoaWNoIGlzIGEgRnVuY3Rpb25cbiAqL1xudmFyIGlzUHJvbWlzZSA9IGFuZChpc09iamVjdCwgcGlwZShwcm9wKCd0aGVuJyksIGlzRnVuY3Rpb24pKTtcblxudmFyIG5vdEltcGxlbWVudGVkID0gZnVuY3Rpb24gKGZubmFtZSkgeyByZXR1cm4gZnVuY3Rpb24gKCkge1xuICAgIHRocm93IG5ldyBFcnJvcihmbm5hbWUgKyBcIigpOiBObyBjb3Jlc2VydmljZXMgaW1wbGVtZW50YXRpb24gZm9yIFVJLVJvdXRlciBpcyBsb2FkZWQuXCIpO1xufTsgfTtcbnZhciBzZXJ2aWNlcyA9IHtcbiAgICAkcTogdW5kZWZpbmVkLFxuICAgICRpbmplY3RvcjogdW5kZWZpbmVkLFxufTtcblxuLyoqXG4gKiBSYW5kb20gdXRpbGl0eSBmdW5jdGlvbnMgdXNlZCBpbiB0aGUgVUktUm91dGVyIGNvZGVcbiAqXG4gKiBUaGVzZSBmdW5jdGlvbnMgYXJlIGV4cG9ydGVkLCBidXQgYXJlIHN1YmplY3QgdG8gY2hhbmdlIHdpdGhvdXQgbm90aWNlLlxuICpcbiAqIEBwcmVmZXJyZWRcbiAqIEBtb2R1bGUgY29tbW9uXG4gKi9cbi8qKiBmb3IgdHlwZWRvYyAqL1xudmFyIHcgPSB0eXBlb2Ygd2luZG93ID09PSAndW5kZWZpbmVkJyA/IHt9IDogd2luZG93O1xudmFyIGFuZ3VsYXIkMSA9IHcuYW5ndWxhciB8fCB7fTtcbnZhciBmcm9tSnNvbiA9IGFuZ3VsYXIkMS5mcm9tSnNvbiB8fCBKU09OLnBhcnNlLmJpbmQoSlNPTik7XG52YXIgdG9Kc29uID0gYW5ndWxhciQxLnRvSnNvbiB8fCBKU09OLnN0cmluZ2lmeS5iaW5kKEpTT04pO1xudmFyIGNvcHkgPSBhbmd1bGFyJDEuY29weSB8fCBfY29weTtcbnZhciBmb3JFYWNoID0gYW5ndWxhciQxLmZvckVhY2ggfHwgX2ZvckVhY2g7XG52YXIgZXh0ZW5kID0gT2JqZWN0LmFzc2lnbiB8fCBfZXh0ZW5kO1xudmFyIGVxdWFscyA9IGFuZ3VsYXIkMS5lcXVhbHMgfHwgX2VxdWFscztcbmZ1bmN0aW9uIGlkZW50aXR5KHgpIHsgcmV0dXJuIHg7IH1cbmZ1bmN0aW9uIG5vb3AkMSgpIHsgfVxuLyoqXG4gKiBCdWlsZHMgcHJveHkgZnVuY3Rpb25zIG9uIHRoZSBgdG9gIG9iamVjdCB3aGljaCBwYXNzIHRocm91Z2ggdG8gdGhlIGBmcm9tYCBvYmplY3QuXG4gKlxuICogRm9yIGVhY2gga2V5IGluIGBmbk5hbWVzYCwgY3JlYXRlcyBhIHByb3h5IGZ1bmN0aW9uIG9uIHRoZSBgdG9gIG9iamVjdC5cbiAqIFRoZSBwcm94eSBmdW5jdGlvbiBjYWxscyB0aGUgcmVhbCBmdW5jdGlvbiBvbiB0aGUgYGZyb21gIG9iamVjdC5cbiAqXG4gKlxuICogIyMjIyBFeGFtcGxlOlxuICogVGhpcyBleGFtcGxlIGNyZWF0ZXMgYW4gbmV3IGNsYXNzIGluc3RhbmNlIHdob3NlIGZ1bmN0aW9ucyBhcmUgcHJlYm91bmQgdG8gdGhlIG5ldydkIG9iamVjdC5cbiAqIGBgYGpzXG4gKiBjbGFzcyBGb28ge1xuICogICBjb25zdHJ1Y3RvcihkYXRhKSB7XG4gKiAgICAgLy8gQmluZHMgYWxsIGZ1bmN0aW9ucyBmcm9tIEZvby5wcm90b3R5cGUgdG8gJ3RoaXMnLFxuICogICAgIC8vIHRoZW4gY29waWVzIHRoZW0gdG8gJ3RoaXMnXG4gKiAgICAgYmluZEZ1bmN0aW9ucyhGb28ucHJvdG90eXBlLCB0aGlzLCB0aGlzKTtcbiAqICAgICB0aGlzLmRhdGEgPSBkYXRhO1xuICogICB9XG4gKlxuICogICBsb2coKSB7XG4gKiAgICAgY29uc29sZS5sb2codGhpcy5kYXRhKTtcbiAqICAgfVxuICogfVxuICpcbiAqIGxldCBteUZvbyA9IG5ldyBGb28oWzEsMiwzXSk7XG4gKiB2YXIgbG9naXQgPSBteUZvby5sb2c7XG4gKiBsb2dpdCgpOyAvLyBsb2dzIFsxLCAyLCAzXSBmcm9tIHRoZSBteUZvbyAndGhpcycgaW5zdGFuY2VcbiAqIGBgYFxuICpcbiAqICMjIyMgRXhhbXBsZTpcbiAqIFRoaXMgZXhhbXBsZSBjcmVhdGVzIGEgYm91bmQgdmVyc2lvbiBvZiBhIHNlcnZpY2UgZnVuY3Rpb24sIGFuZCBjb3BpZXMgaXQgdG8gYW5vdGhlciBvYmplY3RcbiAqIGBgYFxuICpcbiAqIHZhciBTb21lU2VydmljZSA9IHtcbiAqICAgdGhpcy5kYXRhID0gWzMsIDQsIDVdO1xuICogICB0aGlzLmxvZyA9IGZ1bmN0aW9uKCkge1xuICogICAgIGNvbnNvbGUubG9nKHRoaXMuZGF0YSk7XG4gKiAgIH1cbiAqIH1cbiAqXG4gKiAvLyBDb25zdHJ1Y3RvciBmblxuICogZnVuY3Rpb24gT3RoZXJUaGluZygpIHtcbiAqICAgLy8gQmluZHMgYWxsIGZ1bmN0aW9ucyBmcm9tIFNvbWVTZXJ2aWNlIHRvIFNvbWVTZXJ2aWNlLFxuICogICAvLyB0aGVuIGNvcGllcyB0aGVtIHRvICd0aGlzJ1xuICogICBiaW5kRnVuY3Rpb25zKFNvbWVTZXJ2aWNlLCB0aGlzLCBTb21lU2VydmljZSk7XG4gKiB9XG4gKlxuICogbGV0IG15T3RoZXJUaGluZyA9IG5ldyBPdGhlclRoaW5nKCk7XG4gKiBteU90aGVyVGhpbmcubG9nKCk7IC8vIGxvZ3MgWzMsIDQsIDVdIGZyb20gU29tZVNlcnZpY2UncyAndGhpcydcbiAqIGBgYFxuICpcbiAqIEBwYXJhbSBzb3VyY2UgQSBmdW5jdGlvbiB0aGF0IHJldHVybnMgdGhlIHNvdXJjZSBvYmplY3Qgd2hpY2ggY29udGFpbnMgdGhlIG9yaWdpbmFsIGZ1bmN0aW9ucyB0byBiZSBib3VuZFxuICogQHBhcmFtIHRhcmdldCBBIGZ1bmN0aW9uIHRoYXQgcmV0dXJucyB0aGUgdGFyZ2V0IG9iamVjdCB3aGljaCB3aWxsIHJlY2VpdmUgdGhlIGJvdW5kIGZ1bmN0aW9uc1xuICogQHBhcmFtIGJpbmQgQSBmdW5jdGlvbiB0aGF0IHJldHVybnMgdGhlIG9iamVjdCB3aGljaCB0aGUgZnVuY3Rpb25zIHdpbGwgYmUgYm91bmQgdG9cbiAqIEBwYXJhbSBmbk5hbWVzIFRoZSBmdW5jdGlvbiBuYW1lcyB3aGljaCB3aWxsIGJlIGJvdW5kIChEZWZhdWx0cyB0byBhbGwgdGhlIGZ1bmN0aW9ucyBmb3VuZCBvbiB0aGUgJ2Zyb20nIG9iamVjdClcbiAqIEBwYXJhbSBsYXRlYmluZCBJZiB0cnVlLCB0aGUgYmluZGluZyBvZiB0aGUgZnVuY3Rpb24gaXMgZGVsYXllZCB1bnRpbCB0aGUgZmlyc3QgdGltZSBpdCdzIGludm9rZWRcbiAqL1xuZnVuY3Rpb24gY3JlYXRlUHJveHlGdW5jdGlvbnMoc291cmNlLCB0YXJnZXQsIGJpbmQsIGZuTmFtZXMsIGxhdGViaW5kKSB7XG4gICAgaWYgKGxhdGViaW5kID09PSB2b2lkIDApIHsgbGF0ZWJpbmQgPSBmYWxzZTsgfVxuICAgIHZhciBiaW5kRnVuY3Rpb24gPSBmdW5jdGlvbiAoZm5OYW1lKSB7XG4gICAgICAgIHJldHVybiBzb3VyY2UoKVtmbk5hbWVdLmJpbmQoYmluZCgpKTtcbiAgICB9O1xuICAgIHZhciBtYWtlTGF0ZVJlYmluZEZuID0gZnVuY3Rpb24gKGZuTmFtZSkgeyByZXR1cm4gZnVuY3Rpb24gbGF0ZVJlYmluZEZ1bmN0aW9uKCkge1xuICAgICAgICB0YXJnZXRbZm5OYW1lXSA9IGJpbmRGdW5jdGlvbihmbk5hbWUpO1xuICAgICAgICByZXR1cm4gdGFyZ2V0W2ZuTmFtZV0uYXBwbHkobnVsbCwgYXJndW1lbnRzKTtcbiAgICB9OyB9O1xuICAgIGZuTmFtZXMgPSBmbk5hbWVzIHx8IE9iamVjdC5rZXlzKHNvdXJjZSgpKTtcbiAgICByZXR1cm4gZm5OYW1lcy5yZWR1Y2UoZnVuY3Rpb24gKGFjYywgbmFtZSkge1xuICAgICAgICBhY2NbbmFtZV0gPSBsYXRlYmluZCA/IG1ha2VMYXRlUmViaW5kRm4obmFtZSkgOiBiaW5kRnVuY3Rpb24obmFtZSk7XG4gICAgICAgIHJldHVybiBhY2M7XG4gICAgfSwgdGFyZ2V0KTtcbn1cbi8qKlxuICogcHJvdG90eXBhbCBpbmhlcml0YW5jZSBoZWxwZXIuXG4gKiBDcmVhdGVzIGEgbmV3IG9iamVjdCB3aGljaCBoYXMgYHBhcmVudGAgb2JqZWN0IGFzIGl0cyBwcm90b3R5cGUsIGFuZCB0aGVuIGNvcGllcyB0aGUgcHJvcGVydGllcyBmcm9tIGBleHRyYWAgb250byBpdFxuICovXG52YXIgaW5oZXJpdCA9IGZ1bmN0aW9uIChwYXJlbnQsIGV4dHJhKSB7XG4gICAgcmV0dXJuIGV4dGVuZChPYmplY3QuY3JlYXRlKHBhcmVudCksIGV4dHJhKTtcbn07XG4vKiogR2l2ZW4gYW4gYXJyYXksIHJldHVybnMgdHJ1ZSBpZiB0aGUgb2JqZWN0IGlzIGZvdW5kIGluIHRoZSBhcnJheSwgKHVzaW5nIGluZGV4T2YpICovXG52YXIgaW5BcnJheSA9IGN1cnJ5KF9pbkFycmF5KTtcbmZ1bmN0aW9uIF9pbkFycmF5KGFycmF5LCBvYmopIHtcbiAgICByZXR1cm4gYXJyYXkuaW5kZXhPZihvYmopICE9PSAtMTtcbn1cbi8qKlxuICogR2l2ZW4gYW4gYXJyYXksIGFuZCBhbiBpdGVtLCBpZiB0aGUgaXRlbSBpcyBmb3VuZCBpbiB0aGUgYXJyYXksIGl0IHJlbW92ZXMgaXQgKGluLXBsYWNlKS5cbiAqIFRoZSBzYW1lIGFycmF5IGlzIHJldHVybmVkXG4gKi9cbnZhciByZW1vdmVGcm9tID0gY3VycnkoX3JlbW92ZUZyb20pO1xuZnVuY3Rpb24gX3JlbW92ZUZyb20oYXJyYXksIG9iaikge1xuICAgIHZhciBpZHggPSBhcnJheS5pbmRleE9mKG9iaik7XG4gICAgaWYgKGlkeCA+PSAwKVxuICAgICAgICBhcnJheS5zcGxpY2UoaWR4LCAxKTtcbiAgICByZXR1cm4gYXJyYXk7XG59XG4vKiogcHVzaGVzIGEgdmFsdWVzIHRvIGFuIGFycmF5IGFuZCByZXR1cm5zIHRoZSB2YWx1ZSAqL1xudmFyIHB1c2hUbyA9IGN1cnJ5KF9wdXNoVG8pO1xuZnVuY3Rpb24gX3B1c2hUbyhhcnIsIHZhbCQkMSkge1xuICAgIHJldHVybiAoYXJyLnB1c2godmFsJCQxKSwgdmFsJCQxKTtcbn1cbi8qKiBHaXZlbiBhbiBhcnJheSBvZiAoZGVyZWdpc3RyYXRpb24pIGZ1bmN0aW9ucywgY2FsbHMgYWxsIGZ1bmN0aW9ucyBhbmQgcmVtb3ZlcyBlYWNoIG9uZSBmcm9tIHRoZSBzb3VyY2UgYXJyYXkgKi9cbnZhciBkZXJlZ0FsbCA9IGZ1bmN0aW9uIChmdW5jdGlvbnMpIHtcbiAgICByZXR1cm4gZnVuY3Rpb25zLnNsaWNlKCkuZm9yRWFjaChmdW5jdGlvbiAoZm4pIHtcbiAgICAgICAgdHlwZW9mIGZuID09PSAnZnVuY3Rpb24nICYmIGZuKCk7XG4gICAgICAgIHJlbW92ZUZyb20oZnVuY3Rpb25zLCBmbik7XG4gICAgfSk7XG59O1xuLyoqXG4gKiBBcHBsaWVzIGEgc2V0IG9mIGRlZmF1bHRzIHRvIGFuIG9wdGlvbnMgb2JqZWN0LiAgVGhlIG9wdGlvbnMgb2JqZWN0IGlzIGZpbHRlcmVkXG4gKiB0byBvbmx5IHRob3NlIHByb3BlcnRpZXMgb2YgdGhlIG9iamVjdHMgaW4gdGhlIGRlZmF1bHRzTGlzdC5cbiAqIEVhcmxpZXIgb2JqZWN0cyBpbiB0aGUgZGVmYXVsdHNMaXN0IHRha2UgcHJlY2VkZW5jZSB3aGVuIGFwcGx5aW5nIGRlZmF1bHRzLlxuICovXG5mdW5jdGlvbiBkZWZhdWx0cyhvcHRzKSB7XG4gICAgdmFyIGRlZmF1bHRzTGlzdCA9IFtdO1xuICAgIGZvciAodmFyIF9pID0gMTsgX2kgPCBhcmd1bWVudHMubGVuZ3RoOyBfaSsrKSB7XG4gICAgICAgIGRlZmF1bHRzTGlzdFtfaSAtIDFdID0gYXJndW1lbnRzW19pXTtcbiAgICB9XG4gICAgdmFyIF9kZWZhdWx0c0xpc3QgPSBkZWZhdWx0c0xpc3QuY29uY2F0KHt9KS5yZXZlcnNlKCk7XG4gICAgdmFyIGRlZmF1bHRWYWxzID0gZXh0ZW5kLmFwcGx5KG51bGwsIF9kZWZhdWx0c0xpc3QpO1xuICAgIHJldHVybiBleHRlbmQoe30sIGRlZmF1bHRWYWxzLCBwaWNrKG9wdHMgfHwge30sIE9iamVjdC5rZXlzKGRlZmF1bHRWYWxzKSkpO1xufVxuLyoqIFJlZHVjZSBmdW5jdGlvbiB0aGF0IG1lcmdlcyBlYWNoIGVsZW1lbnQgb2YgdGhlIGxpc3QgaW50byBhIHNpbmdsZSBvYmplY3QsIHVzaW5nIGV4dGVuZCAqL1xudmFyIG1lcmdlUiA9IGZ1bmN0aW9uIChtZW1vLCBpdGVtKSB7IHJldHVybiBleHRlbmQobWVtbywgaXRlbSk7IH07XG4vKipcbiAqIEZpbmRzIHRoZSBjb21tb24gYW5jZXN0b3IgcGF0aCBiZXR3ZWVuIHR3byBzdGF0ZXMuXG4gKlxuICogQHBhcmFtIHtPYmplY3R9IGZpcnN0IFRoZSBmaXJzdCBzdGF0ZS5cbiAqIEBwYXJhbSB7T2JqZWN0fSBzZWNvbmQgVGhlIHNlY29uZCBzdGF0ZS5cbiAqIEByZXR1cm4ge0FycmF5fSBSZXR1cm5zIGFuIGFycmF5IG9mIHN0YXRlIG5hbWVzIGluIGRlc2NlbmRpbmcgb3JkZXIsIG5vdCBpbmNsdWRpbmcgdGhlIHJvb3QuXG4gKi9cbmZ1bmN0aW9uIGFuY2VzdG9ycyhmaXJzdCwgc2Vjb25kKSB7XG4gICAgdmFyIHBhdGggPSBbXTtcbiAgICBmb3IgKHZhciBuIGluIGZpcnN0LnBhdGgpIHtcbiAgICAgICAgaWYgKGZpcnN0LnBhdGhbbl0gIT09IHNlY29uZC5wYXRoW25dKVxuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIHBhdGgucHVzaChmaXJzdC5wYXRoW25dKTtcbiAgICB9XG4gICAgcmV0dXJuIHBhdGg7XG59XG4vKipcbiAqIFJldHVybiBhIGNvcHkgb2YgdGhlIG9iamVjdCBvbmx5IGNvbnRhaW5pbmcgdGhlIHdoaXRlbGlzdGVkIHByb3BlcnRpZXMuXG4gKlxuICogIyMjIyBFeGFtcGxlOlxuICogYGBgXG4gKiB2YXIgZm9vID0geyBhOiAxLCBiOiAyLCBjOiAzIH07XG4gKiB2YXIgYWIgPSBwaWNrKGZvbywgWydhJywgJ2InXSk7IC8vIHsgYTogMSwgYjogMiB9XG4gKiBgYGBcbiAqIEBwYXJhbSBvYmogdGhlIHNvdXJjZSBvYmplY3RcbiAqIEBwYXJhbSBwcm9wTmFtZXMgYW4gQXJyYXkgb2Ygc3RyaW5ncywgd2hpY2ggYXJlIHRoZSB3aGl0ZWxpc3RlZCBwcm9wZXJ0eSBuYW1lc1xuICovXG5mdW5jdGlvbiBwaWNrKG9iaiwgcHJvcE5hbWVzKSB7XG4gICAgdmFyIG9iakNvcHkgPSB7fTtcbiAgICBmb3IgKHZhciBwcm9wXzEgaW4gb2JqKSB7XG4gICAgICAgIGlmIChwcm9wTmFtZXMuaW5kZXhPZihwcm9wXzEpICE9PSAtMSkge1xuICAgICAgICAgICAgb2JqQ29weVtwcm9wXzFdID0gb2JqW3Byb3BfMV07XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIG9iakNvcHk7XG59XG4vKipcbiAqIFJldHVybiBhIGNvcHkgb2YgdGhlIG9iamVjdCBvbWl0dGluZyB0aGUgYmxhY2tsaXN0ZWQgcHJvcGVydGllcy5cbiAqXG4gKiBAZXhhbXBsZVxuICogYGBgXG4gKlxuICogdmFyIGZvbyA9IHsgYTogMSwgYjogMiwgYzogMyB9O1xuICogdmFyIGFiID0gb21pdChmb28sIFsnYScsICdiJ10pOyAvLyB7IGM6IDMgfVxuICogYGBgXG4gKiBAcGFyYW0gb2JqIHRoZSBzb3VyY2Ugb2JqZWN0XG4gKiBAcGFyYW0gcHJvcE5hbWVzIGFuIEFycmF5IG9mIHN0cmluZ3MsIHdoaWNoIGFyZSB0aGUgYmxhY2tsaXN0ZWQgcHJvcGVydHkgbmFtZXNcbiAqL1xuZnVuY3Rpb24gb21pdChvYmosIHByb3BOYW1lcykge1xuICAgIHJldHVybiBPYmplY3Qua2V5cyhvYmopXG4gICAgICAgIC5maWx0ZXIobm90KGluQXJyYXkocHJvcE5hbWVzKSkpXG4gICAgICAgIC5yZWR1Y2UoZnVuY3Rpb24gKGFjYywga2V5KSB7IHJldHVybiAoYWNjW2tleV0gPSBvYmpba2V5XSwgYWNjKTsgfSwge30pO1xufVxuLyoqXG4gKiBNYXBzIGFuIGFycmF5LCBvciBvYmplY3QgdG8gYSBwcm9wZXJ0eSAoYnkgbmFtZSlcbiAqL1xuZnVuY3Rpb24gcGx1Y2soY29sbGVjdGlvbiwgcHJvcE5hbWUpIHtcbiAgICByZXR1cm4gbWFwKGNvbGxlY3Rpb24sIHByb3AocHJvcE5hbWUpKTtcbn1cbi8qKiBGaWx0ZXJzIGFuIEFycmF5IG9yIGFuIE9iamVjdCdzIHByb3BlcnRpZXMgYmFzZWQgb24gYSBwcmVkaWNhdGUgKi9cbmZ1bmN0aW9uIGZpbHRlcihjb2xsZWN0aW9uLCBjYWxsYmFjaykge1xuICAgIHZhciBhcnIgPSBpc0FycmF5KGNvbGxlY3Rpb24pLCByZXN1bHQgPSBhcnIgPyBbXSA6IHt9O1xuICAgIHZhciBhY2NlcHQgPSBhcnIgPyBmdW5jdGlvbiAoeCkgeyByZXR1cm4gcmVzdWx0LnB1c2goeCk7IH0gOiBmdW5jdGlvbiAoeCwga2V5KSB7IHJldHVybiByZXN1bHRba2V5XSA9IHg7IH07XG4gICAgZm9yRWFjaChjb2xsZWN0aW9uLCBmdW5jdGlvbiAoaXRlbSwgaSkge1xuICAgICAgICBpZiAoY2FsbGJhY2soaXRlbSwgaSkpXG4gICAgICAgICAgICBhY2NlcHQoaXRlbSwgaSk7XG4gICAgfSk7XG4gICAgcmV0dXJuIHJlc3VsdDtcbn1cbi8qKiBGaW5kcyBhbiBvYmplY3QgZnJvbSBhbiBhcnJheSwgb3IgYSBwcm9wZXJ0eSBvZiBhbiBvYmplY3QsIHRoYXQgbWF0Y2hlcyBhIHByZWRpY2F0ZSAqL1xuZnVuY3Rpb24gZmluZChjb2xsZWN0aW9uLCBjYWxsYmFjaykge1xuICAgIHZhciByZXN1bHQ7XG4gICAgZm9yRWFjaChjb2xsZWN0aW9uLCBmdW5jdGlvbiAoaXRlbSwgaSkge1xuICAgICAgICBpZiAocmVzdWx0KVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICBpZiAoY2FsbGJhY2soaXRlbSwgaSkpXG4gICAgICAgICAgICByZXN1bHQgPSBpdGVtO1xuICAgIH0pO1xuICAgIHJldHVybiByZXN1bHQ7XG59XG4vKiogR2l2ZW4gYW4gb2JqZWN0LCByZXR1cm5zIGEgbmV3IG9iamVjdCwgd2hlcmUgZWFjaCBwcm9wZXJ0eSBpcyB0cmFuc2Zvcm1lZCBieSB0aGUgY2FsbGJhY2sgZnVuY3Rpb24gKi9cbnZhciBtYXBPYmogPSBtYXA7XG4vKiogTWFwcyBhbiBhcnJheSBvciBvYmplY3QgcHJvcGVydGllcyB1c2luZyBhIGNhbGxiYWNrIGZ1bmN0aW9uICovXG5mdW5jdGlvbiBtYXAoY29sbGVjdGlvbiwgY2FsbGJhY2spIHtcbiAgICB2YXIgcmVzdWx0ID0gaXNBcnJheShjb2xsZWN0aW9uKSA/IFtdIDoge307XG4gICAgZm9yRWFjaChjb2xsZWN0aW9uLCBmdW5jdGlvbiAoaXRlbSwgaSkgeyByZXR1cm4gcmVzdWx0W2ldID0gY2FsbGJhY2soaXRlbSwgaSk7IH0pO1xuICAgIHJldHVybiByZXN1bHQ7XG59XG4vKipcbiAqIEdpdmVuIGFuIG9iamVjdCwgcmV0dXJuIGl0cyBlbnVtZXJhYmxlIHByb3BlcnR5IHZhbHVlc1xuICpcbiAqIEBleGFtcGxlXG4gKiBgYGBcbiAqXG4gKiBsZXQgZm9vID0geyBhOiAxLCBiOiAyLCBjOiAzIH1cbiAqIGxldCB2YWxzID0gdmFsdWVzKGZvbyk7IC8vIFsgMSwgMiwgMyBdXG4gKiBgYGBcbiAqL1xudmFyIHZhbHVlcyA9IGZ1bmN0aW9uIChvYmopIHtcbiAgICByZXR1cm4gT2JqZWN0LmtleXMob2JqKS5tYXAoZnVuY3Rpb24gKGtleSkgeyByZXR1cm4gb2JqW2tleV07IH0pO1xufTtcbi8qKlxuICogUmVkdWNlIGZ1bmN0aW9uIHRoYXQgcmV0dXJucyB0cnVlIGlmIGFsbCBvZiB0aGUgdmFsdWVzIGFyZSB0cnV0aHkuXG4gKlxuICogQGV4YW1wbGVcbiAqIGBgYFxuICpcbiAqIGxldCB2YWxzID0gWyAxLCB0cnVlLCB7fSwgXCJoZWxsbyB3b3JsZFwiXTtcbiAqIHZhbHMucmVkdWNlKGFsbFRydWVSLCB0cnVlKTsgLy8gdHJ1ZVxuICpcbiAqIHZhbHMucHVzaCgwKTtcbiAqIHZhbHMucmVkdWNlKGFsbFRydWVSLCB0cnVlKTsgLy8gZmFsc2VcbiAqIGBgYFxuICovXG52YXIgYWxsVHJ1ZVIgPSBmdW5jdGlvbiAobWVtbywgZWxlbSkgeyByZXR1cm4gbWVtbyAmJiBlbGVtOyB9O1xuLyoqXG4gKiBSZWR1Y2UgZnVuY3Rpb24gdGhhdCByZXR1cm5zIHRydWUgaWYgYW55IG9mIHRoZSB2YWx1ZXMgYXJlIHRydXRoeS5cbiAqXG4gKiAgKiBAZXhhbXBsZVxuICogYGBgXG4gKlxuICogbGV0IHZhbHMgPSBbIDAsIG51bGwsIHVuZGVmaW5lZCBdO1xuICogdmFscy5yZWR1Y2UoYW55VHJ1ZVIsIHRydWUpOyAvLyBmYWxzZVxuICpcbiAqIHZhbHMucHVzaChcImhlbGxvIHdvcmxkXCIpO1xuICogdmFscy5yZWR1Y2UoYW55VHJ1ZVIsIHRydWUpOyAvLyB0cnVlXG4gKiBgYGBcbiAqL1xudmFyIGFueVRydWVSID0gZnVuY3Rpb24gKG1lbW8sIGVsZW0pIHsgcmV0dXJuIG1lbW8gfHwgZWxlbTsgfTtcbi8qKlxuICogUmVkdWNlIGZ1bmN0aW9uIHdoaWNoIHVuLW5lc3RzIGEgc2luZ2xlIGxldmVsIG9mIGFycmF5c1xuICogQGV4YW1wbGVcbiAqIGBgYFxuICpcbiAqIGxldCBpbnB1dCA9IFsgWyBcImFcIiwgXCJiXCIgXSwgWyBcImNcIiwgXCJkXCIgXSwgWyBbIFwiZG91YmxlXCIsIFwibmVzdGVkXCIgXSBdIF07XG4gKiBpbnB1dC5yZWR1Y2UodW5uZXN0UiwgW10pIC8vIFsgXCJhXCIsIFwiYlwiLCBcImNcIiwgXCJkXCIsIFsgXCJkb3VibGUsIFwibmVzdGVkXCIgXSBdXG4gKiBgYGBcbiAqL1xudmFyIHVubmVzdFIgPSBmdW5jdGlvbiAobWVtbywgZWxlbSkgeyByZXR1cm4gbWVtby5jb25jYXQoZWxlbSk7IH07XG4vKipcbiAqIFJlZHVjZSBmdW5jdGlvbiB3aGljaCByZWN1cnNpdmVseSB1bi1uZXN0cyBhbGwgYXJyYXlzXG4gKlxuICogQGV4YW1wbGVcbiAqIGBgYFxuICpcbiAqIGxldCBpbnB1dCA9IFsgWyBcImFcIiwgXCJiXCIgXSwgWyBcImNcIiwgXCJkXCIgXSwgWyBbIFwiZG91YmxlXCIsIFwibmVzdGVkXCIgXSBdIF07XG4gKiBpbnB1dC5yZWR1Y2UodW5uZXN0UiwgW10pIC8vIFsgXCJhXCIsIFwiYlwiLCBcImNcIiwgXCJkXCIsIFwiZG91YmxlLCBcIm5lc3RlZFwiIF1cbiAqIGBgYFxuICovXG52YXIgZmxhdHRlblIgPSBmdW5jdGlvbiAobWVtbywgZWxlbSkge1xuICAgIHJldHVybiBpc0FycmF5KGVsZW0pID8gbWVtby5jb25jYXQoZWxlbS5yZWR1Y2UoZmxhdHRlblIsIFtdKSkgOiBwdXNoUihtZW1vLCBlbGVtKTtcbn07XG4vKipcbiAqIFJlZHVjZSBmdW5jdGlvbiB0aGF0IHB1c2hlcyBhbiBvYmplY3QgdG8gYW4gYXJyYXksIHRoZW4gcmV0dXJucyB0aGUgYXJyYXkuXG4gKiBNb3N0bHkganVzdCBmb3IgW1tmbGF0dGVuUl1dIGFuZCBbW3VuaXFSXV1cbiAqL1xuZnVuY3Rpb24gcHVzaFIoYXJyLCBvYmopIHtcbiAgICBhcnIucHVzaChvYmopO1xuICAgIHJldHVybiBhcnI7XG59XG4vKiogUmVkdWNlIGZ1bmN0aW9uIHRoYXQgZmlsdGVycyBvdXQgZHVwbGljYXRlcyAqL1xudmFyIHVuaXFSID0gZnVuY3Rpb24gKGFjYywgdG9rZW4pIHtcbiAgICByZXR1cm4gaW5BcnJheShhY2MsIHRva2VuKSA/IGFjYyA6IHB1c2hSKGFjYywgdG9rZW4pO1xufTtcbi8qKlxuICogUmV0dXJuIGEgbmV3IGFycmF5IHdpdGggYSBzaW5nbGUgbGV2ZWwgb2YgYXJyYXlzIHVubmVzdGVkLlxuICpcbiAqIEBleGFtcGxlXG4gKiBgYGBcbiAqXG4gKiBsZXQgaW5wdXQgPSBbIFsgXCJhXCIsIFwiYlwiIF0sIFsgXCJjXCIsIFwiZFwiIF0sIFsgWyBcImRvdWJsZVwiLCBcIm5lc3RlZFwiIF0gXSBdO1xuICogdW5uZXN0KGlucHV0KSAvLyBbIFwiYVwiLCBcImJcIiwgXCJjXCIsIFwiZFwiLCBbIFwiZG91YmxlLCBcIm5lc3RlZFwiIF0gXVxuICogYGBgXG4gKi9cbnZhciB1bm5lc3QgPSBmdW5jdGlvbiAoYXJyKSB7IHJldHVybiBhcnIucmVkdWNlKHVubmVzdFIsIFtdKTsgfTtcbi8qKlxuICogUmV0dXJuIGEgY29tcGxldGVseSBmbGF0dGVuZWQgdmVyc2lvbiBvZiBhbiBhcnJheS5cbiAqXG4gKiBAZXhhbXBsZVxuICogYGBgXG4gKlxuICogbGV0IGlucHV0ID0gWyBbIFwiYVwiLCBcImJcIiBdLCBbIFwiY1wiLCBcImRcIiBdLCBbIFsgXCJkb3VibGVcIiwgXCJuZXN0ZWRcIiBdIF0gXTtcbiAqIGZsYXR0ZW4oaW5wdXQpIC8vIFsgXCJhXCIsIFwiYlwiLCBcImNcIiwgXCJkXCIsIFwiZG91YmxlLCBcIm5lc3RlZFwiIF1cbiAqIGBgYFxuICovXG52YXIgZmxhdHRlbiA9IGZ1bmN0aW9uIChhcnIpIHsgcmV0dXJuIGFyci5yZWR1Y2UoZmxhdHRlblIsIFtdKTsgfTtcbi8qKlxuICogR2l2ZW4gYSAuZmlsdGVyIFByZWRpY2F0ZSwgYnVpbGRzIGEgLmZpbHRlciBQcmVkaWNhdGUgd2hpY2ggdGhyb3dzIGFuIGVycm9yIGlmIGFueSBlbGVtZW50cyBkbyBub3QgcGFzcy5cbiAqIEBleGFtcGxlXG4gKiBgYGBcbiAqXG4gKiBsZXQgaXNOdW1iZXIgPSAob2JqKSA9PiB0eXBlb2Yob2JqKSA9PT0gJ251bWJlcic7XG4gKiBsZXQgYWxsTnVtYmVycyA9IFsgMSwgMiwgMywgNCwgNSBdO1xuICogYWxsTnVtYmVycy5maWx0ZXIoYXNzZXJ0UHJlZGljYXRlKGlzTnVtYmVyKSk7IC8vT0tcbiAqXG4gKiBsZXQgb25lU3RyaW5nID0gWyAxLCAyLCAzLCA0LCBcIjVcIiBdO1xuICogb25lU3RyaW5nLmZpbHRlcihhc3NlcnRQcmVkaWNhdGUoaXNOdW1iZXIsIFwiTm90IGFsbCBudW1iZXJzXCIpKTsgLy8gdGhyb3dzIEVycm9yKFwiXCJOb3QgYWxsIG51bWJlcnNcIlwiKTtcbiAqIGBgYFxuICovXG52YXIgYXNzZXJ0UHJlZGljYXRlID0gYXNzZXJ0Rm47XG4vKipcbiAqIEdpdmVuIGEgLm1hcCBmdW5jdGlvbiwgYnVpbGRzIGEgLm1hcCBmdW5jdGlvbiB3aGljaCB0aHJvd3MgYW4gZXJyb3IgaWYgYW55IG1hcHBlZCBlbGVtZW50cyBkbyBub3QgcGFzcyBhIHRydXRoeW5lc3MgdGVzdC5cbiAqIEBleGFtcGxlXG4gKiBgYGBcbiAqXG4gKiB2YXIgZGF0YSA9IHsgZm9vOiAxLCBiYXI6IDIgfTtcbiAqXG4gKiBsZXQga2V5cyA9IFsgJ2ZvbycsICdiYXInIF1cbiAqIGxldCB2YWx1ZXMgPSBrZXlzLm1hcChhc3NlcnRNYXAoa2V5ID0+IGRhdGFba2V5XSwgXCJLZXkgbm90IGZvdW5kXCIpKTtcbiAqIC8vIHZhbHVlcyBpcyBbMSwgMl1cbiAqXG4gKiBsZXQga2V5cyA9IFsgJ2ZvbycsICdiYXInLCAnYmF6JyBdXG4gKiBsZXQgdmFsdWVzID0ga2V5cy5tYXAoYXNzZXJ0TWFwKGtleSA9PiBkYXRhW2tleV0sIFwiS2V5IG5vdCBmb3VuZFwiKSk7XG4gKiAvLyB0aHJvd3MgRXJyb3IoXCJLZXkgbm90IGZvdW5kXCIpXG4gKiBgYGBcbiAqL1xudmFyIGFzc2VydE1hcCA9IGFzc2VydEZuO1xuZnVuY3Rpb24gYXNzZXJ0Rm4ocHJlZGljYXRlT3JNYXAsIGVyck1zZykge1xuICAgIGlmIChlcnJNc2cgPT09IHZvaWQgMCkgeyBlcnJNc2cgPSBcImFzc2VydCBmYWlsdXJlXCI7IH1cbiAgICByZXR1cm4gZnVuY3Rpb24gKG9iaikge1xuICAgICAgICB2YXIgcmVzdWx0ID0gcHJlZGljYXRlT3JNYXAob2JqKTtcbiAgICAgICAgaWYgKCFyZXN1bHQpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihpc0Z1bmN0aW9uKGVyck1zZykgPyBlcnJNc2cob2JqKSA6IGVyck1zZyk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9O1xufVxuLyoqXG4gKiBMaWtlIF8ucGFpcnM6IEdpdmVuIGFuIG9iamVjdCwgcmV0dXJucyBhbiBhcnJheSBvZiBrZXkvdmFsdWUgcGFpcnNcbiAqXG4gKiBAZXhhbXBsZVxuICogYGBgXG4gKlxuICogcGFpcnMoeyBmb286IFwiRk9PXCIsIGJhcjogXCJCQVIgfSkgLy8gWyBbIFwiZm9vXCIsIFwiRk9PXCIgXSwgWyBcImJhclwiOiBcIkJBUlwiIF0gXVxuICogYGBgXG4gKi9cbnZhciBwYWlycyA9IGZ1bmN0aW9uIChvYmopIHtcbiAgICByZXR1cm4gT2JqZWN0LmtleXMob2JqKS5tYXAoZnVuY3Rpb24gKGtleSkgeyByZXR1cm4gW2tleSwgb2JqW2tleV1dOyB9KTtcbn07XG4vKipcbiAqIEdpdmVuIHR3byBvciBtb3JlIHBhcmFsbGVsIGFycmF5cywgcmV0dXJucyBhbiBhcnJheSBvZiB0dXBsZXMgd2hlcmVcbiAqIGVhY2ggdHVwbGUgaXMgY29tcG9zZWQgb2YgWyBhW2ldLCBiW2ldLCAuLi4geltpXSBdXG4gKlxuICogQGV4YW1wbGVcbiAqIGBgYFxuICpcbiAqIGxldCBmb28gPSBbIDAsIDIsIDQsIDYgXTtcbiAqIGxldCBiYXIgPSBbIDEsIDMsIDUsIDcgXTtcbiAqIGxldCBiYXogPSBbIDEwLCAzMCwgNTAsIDcwIF07XG4gKiBhcnJheVR1cGxlcyhmb28sIGJhcik7ICAgICAgIC8vIFsgWzAsIDFdLCBbMiwgM10sIFs0LCA1XSwgWzYsIDddIF1cbiAqIGFycmF5VHVwbGVzKGZvbywgYmFyLCBiYXopOyAgLy8gWyBbMCwgMSwgMTBdLCBbMiwgMywgMzBdLCBbNCwgNSwgNTBdLCBbNiwgNywgNzBdIF1cbiAqIGBgYFxuICovXG5mdW5jdGlvbiBhcnJheVR1cGxlcygpIHtcbiAgICB2YXIgYXJncyA9IFtdO1xuICAgIGZvciAodmFyIF9pID0gMDsgX2kgPCBhcmd1bWVudHMubGVuZ3RoOyBfaSsrKSB7XG4gICAgICAgIGFyZ3NbX2ldID0gYXJndW1lbnRzW19pXTtcbiAgICB9XG4gICAgaWYgKGFyZ3MubGVuZ3RoID09PSAwKVxuICAgICAgICByZXR1cm4gW107XG4gICAgdmFyIG1heEFycmF5TGVuID0gYXJncy5yZWR1Y2UoZnVuY3Rpb24gKG1pbiwgYXJyKSB7IHJldHVybiBNYXRoLm1pbihhcnIubGVuZ3RoLCBtaW4pOyB9LCA5MDA3MTk5MjU0NzQwOTkxKTsgLy8gYWthIDJeNTMg4oiSIDEgYWthIE51bWJlci5NQVhfU0FGRV9JTlRFR0VSXG4gICAgdmFyIGksIHJlc3VsdCA9IFtdO1xuICAgIGZvciAoaSA9IDA7IGkgPCBtYXhBcnJheUxlbjsgaSsrKSB7XG4gICAgICAgIC8vIFRoaXMgaXMgYSBob3QgZnVuY3Rpb25cbiAgICAgICAgLy8gVW5yb2xsIHdoZW4gdGhlcmUgYXJlIDEtNCBhcmd1bWVudHNcbiAgICAgICAgc3dpdGNoIChhcmdzLmxlbmd0aCkge1xuICAgICAgICAgICAgY2FzZSAxOlxuICAgICAgICAgICAgICAgIHJlc3VsdC5wdXNoKFthcmdzWzBdW2ldXSk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIDI6XG4gICAgICAgICAgICAgICAgcmVzdWx0LnB1c2goW2FyZ3NbMF1baV0sIGFyZ3NbMV1baV1dKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgMzpcbiAgICAgICAgICAgICAgICByZXN1bHQucHVzaChbYXJnc1swXVtpXSwgYXJnc1sxXVtpXSwgYXJnc1syXVtpXV0pO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSA0OlxuICAgICAgICAgICAgICAgIHJlc3VsdC5wdXNoKFthcmdzWzBdW2ldLCBhcmdzWzFdW2ldLCBhcmdzWzJdW2ldLCBhcmdzWzNdW2ldXSk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgIHJlc3VsdC5wdXNoKGFyZ3MubWFwKGZ1bmN0aW9uIChhcnJheSkgeyByZXR1cm4gYXJyYXlbaV07IH0pKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gcmVzdWx0O1xufVxuLyoqXG4gKiBSZWR1Y2UgZnVuY3Rpb24gd2hpY2ggYnVpbGRzIGFuIG9iamVjdCBmcm9tIGFuIGFycmF5IG9mIFtrZXksIHZhbHVlXSBwYWlycy5cbiAqXG4gKiBFYWNoIGl0ZXJhdGlvbiBzZXRzIHRoZSBrZXkvdmFsIHBhaXIgb24gdGhlIG1lbW8gb2JqZWN0LCB0aGVuIHJldHVybnMgdGhlIG1lbW8gZm9yIHRoZSBuZXh0IGl0ZXJhdGlvbi5cbiAqXG4gKiBFYWNoIGtleVZhbHVlVHVwbGUgc2hvdWxkIGJlIGFuIGFycmF5IHdpdGggdmFsdWVzIFsga2V5OiBzdHJpbmcsIHZhbHVlOiBhbnkgXVxuICpcbiAqIEBleGFtcGxlXG4gKiBgYGBcbiAqXG4gKiB2YXIgcGFpcnMgPSBbIFtcImZvb2tleVwiLCBcImZvb3ZhbFwiXSwgW1wiYmFya2V5XCIsIFwiYmFydmFsXCJdIF1cbiAqXG4gKiB2YXIgcGFpcnNUb09iaiA9IHBhaXJzLnJlZHVjZSgobWVtbywgcGFpcikgPT4gYXBwbHlQYWlycyhtZW1vLCBwYWlyKSwge30pXG4gKiAvLyBwYWlyc1RvT2JqID09IHsgZm9va2V5OiBcImZvb3ZhbFwiLCBiYXJrZXk6IFwiYmFydmFsXCIgfVxuICpcbiAqIC8vIE9yLCBtb3JlIHNpbXBseTpcbiAqIHZhciBwYWlyc1RvT2JqID0gcGFpcnMucmVkdWNlKGFwcGx5UGFpcnMsIHt9KVxuICogLy8gcGFpcnNUb09iaiA9PSB7IGZvb2tleTogXCJmb292YWxcIiwgYmFya2V5OiBcImJhcnZhbFwiIH1cbiAqIGBgYFxuICovXG5mdW5jdGlvbiBhcHBseVBhaXJzKG1lbW8sIGtleVZhbFR1cGxlKSB7XG4gICAgdmFyIGtleSwgdmFsdWU7XG4gICAgaWYgKGlzQXJyYXkoa2V5VmFsVHVwbGUpKVxuICAgICAgICBrZXkgPSBrZXlWYWxUdXBsZVswXSwgdmFsdWUgPSBrZXlWYWxUdXBsZVsxXTtcbiAgICBpZiAoIWlzU3RyaW5nKGtleSkpXG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcImludmFsaWQgcGFyYW1ldGVycyB0byBhcHBseVBhaXJzXCIpO1xuICAgIG1lbW9ba2V5XSA9IHZhbHVlO1xuICAgIHJldHVybiBtZW1vO1xufVxuLyoqIEdldCB0aGUgbGFzdCBlbGVtZW50IG9mIGFuIGFycmF5ICovXG5mdW5jdGlvbiB0YWlsKGFycikge1xuICAgIHJldHVybiBhcnIubGVuZ3RoICYmIGFyclthcnIubGVuZ3RoIC0gMV0gfHwgdW5kZWZpbmVkO1xufVxuLyoqXG4gKiBzaGFsbG93IGNvcHkgZnJvbSBzcmMgdG8gZGVzdFxuICpcbiAqIG5vdGU6IFRoaXMgaXMgYSBzaGFsbG93IGNvcHksIHdoaWxlIGFuZ3VsYXIuY29weSBpcyBhIGRlZXAgY29weS5cbiAqIHVpLXJvdXRlciB1c2VzIGBjb3B5YCBvbmx5IHRvIG1ha2UgY29waWVzIG9mIHN0YXRlIHBhcmFtZXRlcnMuXG4gKi9cbmZ1bmN0aW9uIF9jb3B5KHNyYywgZGVzdCkge1xuICAgIGlmIChkZXN0KVxuICAgICAgICBPYmplY3Qua2V5cyhkZXN0KS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHsgcmV0dXJuIGRlbGV0ZSBkZXN0W2tleV07IH0pO1xuICAgIGlmICghZGVzdClcbiAgICAgICAgZGVzdCA9IHt9O1xuICAgIHJldHVybiBleHRlbmQoZGVzdCwgc3JjKTtcbn1cbi8qKiBOYWl2ZSBmb3JFYWNoIGltcGxlbWVudGF0aW9uIHdvcmtzIHdpdGggT2JqZWN0cyBvciBBcnJheXMgKi9cbmZ1bmN0aW9uIF9mb3JFYWNoKG9iaiwgY2IsIF90aGlzKSB7XG4gICAgaWYgKGlzQXJyYXkob2JqKSlcbiAgICAgICAgcmV0dXJuIG9iai5mb3JFYWNoKGNiLCBfdGhpcyk7XG4gICAgT2JqZWN0LmtleXMob2JqKS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHsgcmV0dXJuIGNiKG9ialtrZXldLCBrZXkpOyB9KTtcbn1cbmZ1bmN0aW9uIF9leHRlbmQodG9PYmopIHtcbiAgICBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykge1xuICAgICAgICB2YXIgb2JqID0gYXJndW1lbnRzW2ldO1xuICAgICAgICBpZiAoIW9iailcbiAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB2YXIga2V5cyA9IE9iamVjdC5rZXlzKG9iaik7XG4gICAgICAgIGZvciAodmFyIGogPSAwOyBqIDwga2V5cy5sZW5ndGg7IGorKykge1xuICAgICAgICAgICAgdG9PYmpba2V5c1tqXV0gPSBvYmpba2V5c1tqXV07XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHRvT2JqO1xufVxuZnVuY3Rpb24gX2VxdWFscyhvMSwgbzIpIHtcbiAgICBpZiAobzEgPT09IG8yKVxuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICBpZiAobzEgPT09IG51bGwgfHwgbzIgPT09IG51bGwpXG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICBpZiAobzEgIT09IG8xICYmIG8yICE9PSBvMilcbiAgICAgICAgcmV0dXJuIHRydWU7IC8vIE5hTiA9PT0gTmFOXG4gICAgdmFyIHQxID0gdHlwZW9mIG8xLCB0MiA9IHR5cGVvZiBvMjtcbiAgICBpZiAodDEgIT09IHQyIHx8IHQxICE9PSAnb2JqZWN0JylcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIHZhciB0dXAgPSBbbzEsIG8yXTtcbiAgICBpZiAoYWxsKGlzQXJyYXkpKHR1cCkpXG4gICAgICAgIHJldHVybiBfYXJyYXlzRXEobzEsIG8yKTtcbiAgICBpZiAoYWxsKGlzRGF0ZSkodHVwKSlcbiAgICAgICAgcmV0dXJuIG8xLmdldFRpbWUoKSA9PT0gbzIuZ2V0VGltZSgpO1xuICAgIGlmIChhbGwoaXNSZWdFeHApKHR1cCkpXG4gICAgICAgIHJldHVybiBvMS50b1N0cmluZygpID09PSBvMi50b1N0cmluZygpO1xuICAgIGlmIChhbGwoaXNGdW5jdGlvbikodHVwKSlcbiAgICAgICAgcmV0dXJuIHRydWU7IC8vIG1laFxuICAgIHZhciBwcmVkaWNhdGVzID0gW2lzRnVuY3Rpb24sIGlzQXJyYXksIGlzRGF0ZSwgaXNSZWdFeHBdO1xuICAgIGlmIChwcmVkaWNhdGVzLm1hcChhbnkpLnJlZHVjZShmdW5jdGlvbiAoYiwgZm4pIHsgcmV0dXJuIGIgfHwgISFmbih0dXApOyB9LCBmYWxzZSkpXG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB2YXIga2V5LCBrZXlzID0ge307XG4gICAgZm9yIChrZXkgaW4gbzEpIHtcbiAgICAgICAgaWYgKCFfZXF1YWxzKG8xW2tleV0sIG8yW2tleV0pKVxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICBrZXlzW2tleV0gPSB0cnVlO1xuICAgIH1cbiAgICBmb3IgKGtleSBpbiBvMikge1xuICAgICAgICBpZiAoIWtleXNba2V5XSlcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgcmV0dXJuIHRydWU7XG59XG5mdW5jdGlvbiBfYXJyYXlzRXEoYTEsIGEyKSB7XG4gICAgaWYgKGExLmxlbmd0aCAhPT0gYTIubGVuZ3RoKVxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgcmV0dXJuIGFycmF5VHVwbGVzKGExLCBhMikucmVkdWNlKGZ1bmN0aW9uIChiLCB0KSB7IHJldHVybiBiICYmIF9lcXVhbHModFswXSwgdFsxXSk7IH0sIHRydWUpO1xufVxuLyoqXG4gKiBDcmVhdGUgYSBzb3J0IGZ1bmN0aW9uXG4gKlxuICogQ3JlYXRlcyBhIHNvcnQgZnVuY3Rpb24gd2hpY2ggc29ydHMgYnkgYSBudW1lcmljIHByb3BlcnR5LlxuICpcbiAqIFRoZSBgcHJvcEZuYCBzaG91bGQgcmV0dXJuIHRoZSBwcm9wZXJ0eSBhcyBhIG51bWJlciB3aGljaCBjYW4gYmUgc29ydGVkLlxuICpcbiAqICMjIyMgRXhhbXBsZTpcbiAqIFRoaXMgZXhhbXBsZSByZXR1cm5zIHRoZSBgcHJpb3JpdHlgIHByb3AuXG4gKiBgYGBqc1xuICogdmFyIHNvcnRmbiA9IHNvcnRCeShvYmogPT4gb2JqLnByaW9yaXR5KVxuICogLy8gZXF1aXZhbGVudCB0bzpcbiAqIHZhciBsb25naGFuZFNvcnRGbiA9IChhLCBiKSA9PiBhLnByaW9yaXR5IC0gYi5wcmlvcml0eTtcbiAqIGBgYFxuICpcbiAqICMjIyMgRXhhbXBsZTpcbiAqIFRoaXMgZXhhbXBsZSB1c2VzIFtbcHJvcF1dXG4gKiBgYGBqc1xuICogdmFyIHNvcnRmbiA9IHNvcnRCeShwcm9wKCdwcmlvcml0eScpKVxuICogYGBgXG4gKlxuICogVGhlIGBjaGVja0ZuYCBjYW4gYmUgdXNlZCB0byBleGNsdWRlIG9iamVjdHMgZnJvbSBzb3J0aW5nLlxuICpcbiAqICMjIyMgRXhhbXBsZTpcbiAqIFRoaXMgZXhhbXBsZSBvbmx5IHNvcnRzIG9iamVjdHMgd2l0aCB0eXBlID09PSAnRk9PJ1xuICogYGBganNcbiAqIHZhciBzb3J0Zm4gPSBzb3J0QnkocHJvcCgncHJpb3JpdHknKSwgcHJvcEVxKCd0eXBlJywgJ0ZPTycpKVxuICogYGBgXG4gKlxuICogQHBhcmFtIHByb3BGbiBhIGZ1bmN0aW9uIHRoYXQgcmV0dXJucyB0aGUgcHJvcGVydHkgKGFzIGEgbnVtYmVyKVxuICogQHBhcmFtIGNoZWNrRm4gYSBwcmVkaWNhdGVcbiAqXG4gKiBAcmV0dXJuIGEgc29ydCBmdW5jdGlvbiBsaWtlOiBgKGEsIGIpID0+IChjaGVja0ZuKGEpICYmIGNoZWNrRm4oYikpID8gcHJvcEZuKGEpIC0gcHJvcEZuKGIpIDogMGBcbiAqL1xudmFyIHNvcnRCeSA9IGZ1bmN0aW9uIChwcm9wRm4sIGNoZWNrRm4pIHtcbiAgICBpZiAoY2hlY2tGbiA9PT0gdm9pZCAwKSB7IGNoZWNrRm4gPSB2YWwodHJ1ZSk7IH1cbiAgICByZXR1cm4gZnVuY3Rpb24gKGEsIGIpIHtcbiAgICAgICAgcmV0dXJuIChjaGVja0ZuKGEpICYmIGNoZWNrRm4oYikpID8gcHJvcEZuKGEpIC0gcHJvcEZuKGIpIDogMDtcbiAgICB9O1xufTtcbi8qKlxuICogQ29tcG9zZXMgYSBsaXN0IG9mIHNvcnQgZnVuY3Rpb25zXG4gKlxuICogQ3JlYXRlcyBhIHNvcnQgZnVuY3Rpb24gY29tcG9zZWQgb2YgbXVsdGlwbGUgc29ydCBmdW5jdGlvbnMuXG4gKiBFYWNoIHNvcnQgZnVuY3Rpb24gaXMgaW52b2tlZCBpbiBzZXJpZXMuXG4gKiBUaGUgZmlyc3Qgc29ydCBmdW5jdGlvbiB0byByZXR1cm4gbm9uLXplcm8gXCJ3aW5zXCIuXG4gKlxuICogQHBhcmFtIHNvcnRGbnMgbGlzdCBvZiBzb3J0IGZ1bmN0aW9uc1xuICovXG52YXIgY29tcG9zZVNvcnQgPSBmdW5jdGlvbiAoKSB7XG4gICAgdmFyIHNvcnRGbnMgPSBbXTtcbiAgICBmb3IgKHZhciBfaSA9IDA7IF9pIDwgYXJndW1lbnRzLmxlbmd0aDsgX2krKykge1xuICAgICAgICBzb3J0Rm5zW19pXSA9IGFyZ3VtZW50c1tfaV07XG4gICAgfVxuICAgIHJldHVybiBmdW5jdGlvbiBjb21wb3NlZFNvcnQoYSwgYikge1xuICAgICAgICByZXR1cm4gc29ydEZucy5yZWR1Y2UoZnVuY3Rpb24gKHByZXYsIGZuKSB7IHJldHVybiBwcmV2IHx8IGZuKGEsIGIpOyB9LCAwKTtcbiAgICB9O1xufTtcbi8vIGlzc3VlICMyNjc2XG52YXIgc2lsZW5jZVVuY2F1Z2h0SW5Qcm9taXNlID0gZnVuY3Rpb24gKHByb21pc2UpIHtcbiAgICByZXR1cm4gcHJvbWlzZS5jYXRjaChmdW5jdGlvbiAoZSkgeyByZXR1cm4gMDsgfSkgJiYgcHJvbWlzZTtcbn07XG52YXIgc2lsZW50UmVqZWN0aW9uID0gZnVuY3Rpb24gKGVycm9yKSB7XG4gICAgcmV0dXJuIHNpbGVuY2VVbmNhdWdodEluUHJvbWlzZShzZXJ2aWNlcy4kcS5yZWplY3QoZXJyb3IpKTtcbn07XG5cbi8qKlxuICogQG1vZHVsZSBjb21tb25cbiAqLyAvKiogZm9yIHR5cGVkb2MgKi9cbnZhciBRdWV1ZSA9IChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gUXVldWUoX2l0ZW1zLCBfbGltaXQpIHtcbiAgICAgICAgaWYgKF9pdGVtcyA9PT0gdm9pZCAwKSB7IF9pdGVtcyA9IFtdOyB9XG4gICAgICAgIGlmIChfbGltaXQgPT09IHZvaWQgMCkgeyBfbGltaXQgPSBudWxsOyB9XG4gICAgICAgIHRoaXMuX2l0ZW1zID0gX2l0ZW1zO1xuICAgICAgICB0aGlzLl9saW1pdCA9IF9saW1pdDtcbiAgICB9XG4gICAgUXVldWUucHJvdG90eXBlLmVucXVldWUgPSBmdW5jdGlvbiAoaXRlbSkge1xuICAgICAgICB2YXIgaXRlbXMgPSB0aGlzLl9pdGVtcztcbiAgICAgICAgaXRlbXMucHVzaChpdGVtKTtcbiAgICAgICAgaWYgKHRoaXMuX2xpbWl0ICYmIGl0ZW1zLmxlbmd0aCA+IHRoaXMuX2xpbWl0KVxuICAgICAgICAgICAgaXRlbXMuc2hpZnQoKTtcbiAgICAgICAgcmV0dXJuIGl0ZW07XG4gICAgfTtcbiAgICBRdWV1ZS5wcm90b3R5cGUuZGVxdWV1ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKHRoaXMuc2l6ZSgpKVxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2l0ZW1zLnNwbGljZSgwLCAxKVswXTtcbiAgICB9O1xuICAgIFF1ZXVlLnByb3RvdHlwZS5jbGVhciA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIGN1cnJlbnQgPSB0aGlzLl9pdGVtcztcbiAgICAgICAgdGhpcy5faXRlbXMgPSBbXTtcbiAgICAgICAgcmV0dXJuIGN1cnJlbnQ7XG4gICAgfTtcbiAgICBRdWV1ZS5wcm90b3R5cGUuc2l6ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2l0ZW1zLmxlbmd0aDtcbiAgICB9O1xuICAgIFF1ZXVlLnByb3RvdHlwZS5yZW1vdmUgPSBmdW5jdGlvbiAoaXRlbSkge1xuICAgICAgICB2YXIgaWR4ID0gdGhpcy5faXRlbXMuaW5kZXhPZihpdGVtKTtcbiAgICAgICAgcmV0dXJuIGlkeCA+IC0xICYmIHRoaXMuX2l0ZW1zLnNwbGljZShpZHgsIDEpWzBdO1xuICAgIH07XG4gICAgUXVldWUucHJvdG90eXBlLnBlZWtUYWlsID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5faXRlbXNbdGhpcy5faXRlbXMubGVuZ3RoIC0gMV07XG4gICAgfTtcbiAgICBRdWV1ZS5wcm90b3R5cGUucGVla0hlYWQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmICh0aGlzLnNpemUoKSlcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9pdGVtc1swXTtcbiAgICB9O1xuICAgIHJldHVybiBRdWV1ZTtcbn0oKSk7XG5cbi8qKlxuICogQGNvcmVhcGlcbiAqIEBtb2R1bGUgdHJhbnNpdGlvblxuICovIC8qKiBmb3IgdHlwZWRvYyAqL1xuXG4oZnVuY3Rpb24gKFJlamVjdFR5cGUpIHtcbiAgICBSZWplY3RUeXBlW1JlamVjdFR5cGVbXCJTVVBFUlNFREVEXCJdID0gMl0gPSBcIlNVUEVSU0VERURcIjtcbiAgICBSZWplY3RUeXBlW1JlamVjdFR5cGVbXCJBQk9SVEVEXCJdID0gM10gPSBcIkFCT1JURURcIjtcbiAgICBSZWplY3RUeXBlW1JlamVjdFR5cGVbXCJJTlZBTElEXCJdID0gNF0gPSBcIklOVkFMSURcIjtcbiAgICBSZWplY3RUeXBlW1JlamVjdFR5cGVbXCJJR05PUkVEXCJdID0gNV0gPSBcIklHTk9SRURcIjtcbiAgICBSZWplY3RUeXBlW1JlamVjdFR5cGVbXCJFUlJPUlwiXSA9IDZdID0gXCJFUlJPUlwiO1xufSkoZXhwb3J0cy5SZWplY3RUeXBlIHx8IChleHBvcnRzLlJlamVjdFR5cGUgPSB7fSkpO1xuLyoqIEBoaWRkZW4gKi8gdmFyIGlkID0gMDtcbnZhciBSZWplY3Rpb24gPSAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIFJlamVjdGlvbih0eXBlLCBtZXNzYWdlLCBkZXRhaWwpIHtcbiAgICAgICAgdGhpcy4kaWQgPSBpZCsrO1xuICAgICAgICB0aGlzLnR5cGUgPSB0eXBlO1xuICAgICAgICB0aGlzLm1lc3NhZ2UgPSBtZXNzYWdlO1xuICAgICAgICB0aGlzLmRldGFpbCA9IGRldGFpbDtcbiAgICB9XG4gICAgUmVqZWN0aW9uLnByb3RvdHlwZS50b1N0cmluZyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIGRldGFpbFN0cmluZyA9IGZ1bmN0aW9uIChkKSB7XG4gICAgICAgICAgICByZXR1cm4gZCAmJiBkLnRvU3RyaW5nICE9PSBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nID8gZC50b1N0cmluZygpIDogc3RyaW5naWZ5KGQpO1xuICAgICAgICB9O1xuICAgICAgICB2YXIgZGV0YWlsID0gZGV0YWlsU3RyaW5nKHRoaXMuZGV0YWlsKTtcbiAgICAgICAgdmFyIF9hID0gdGhpcywgJGlkID0gX2EuJGlkLCB0eXBlID0gX2EudHlwZSwgbWVzc2FnZSA9IF9hLm1lc3NhZ2U7XG4gICAgICAgIHJldHVybiBcIlRyYW5zaXRpb24gUmVqZWN0aW9uKCRpZDogXCIgKyAkaWQgKyBcIiB0eXBlOiBcIiArIHR5cGUgKyBcIiwgbWVzc2FnZTogXCIgKyBtZXNzYWdlICsgXCIsIGRldGFpbDogXCIgKyBkZXRhaWwgKyBcIilcIjtcbiAgICB9O1xuICAgIFJlamVjdGlvbi5wcm90b3R5cGUudG9Qcm9taXNlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gZXh0ZW5kKHNpbGVudFJlamVjdGlvbih0aGlzKSwgeyBfdHJhbnNpdGlvblJlamVjdGlvbjogdGhpcyB9KTtcbiAgICB9O1xuICAgIC8qKiBSZXR1cm5zIHRydWUgaWYgdGhlIG9iaiBpcyBhIHJlamVjdGVkIHByb21pc2UgY3JlYXRlZCBmcm9tIHRoZSBgYXNQcm9taXNlYCBmYWN0b3J5ICovXG4gICAgUmVqZWN0aW9uLmlzUmVqZWN0aW9uUHJvbWlzZSA9IGZ1bmN0aW9uIChvYmopIHtcbiAgICAgICAgcmV0dXJuIG9iaiAmJiAodHlwZW9mIG9iai50aGVuID09PSAnZnVuY3Rpb24nKSAmJiBpcyhSZWplY3Rpb24pKG9iai5fdHJhbnNpdGlvblJlamVjdGlvbik7XG4gICAgfTtcbiAgICAvKiogUmV0dXJucyBhIFJlamVjdGlvbiBkdWUgdG8gdHJhbnNpdGlvbiBzdXBlcnNlZGVkICovXG4gICAgUmVqZWN0aW9uLnN1cGVyc2VkZWQgPSBmdW5jdGlvbiAoZGV0YWlsLCBvcHRpb25zKSB7XG4gICAgICAgIHZhciBtZXNzYWdlID0gXCJUaGUgdHJhbnNpdGlvbiBoYXMgYmVlbiBzdXBlcnNlZGVkIGJ5IGEgZGlmZmVyZW50IHRyYW5zaXRpb25cIjtcbiAgICAgICAgdmFyIHJlamVjdGlvbiA9IG5ldyBSZWplY3Rpb24oZXhwb3J0cy5SZWplY3RUeXBlLlNVUEVSU0VERUQsIG1lc3NhZ2UsIGRldGFpbCk7XG4gICAgICAgIGlmIChvcHRpb25zICYmIG9wdGlvbnMucmVkaXJlY3RlZCkge1xuICAgICAgICAgICAgcmVqZWN0aW9uLnJlZGlyZWN0ZWQgPSB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiByZWplY3Rpb247XG4gICAgfTtcbiAgICAvKiogUmV0dXJucyBhIFJlamVjdGlvbiBkdWUgdG8gcmVkaXJlY3RlZCB0cmFuc2l0aW9uICovXG4gICAgUmVqZWN0aW9uLnJlZGlyZWN0ZWQgPSBmdW5jdGlvbiAoZGV0YWlsKSB7XG4gICAgICAgIHJldHVybiBSZWplY3Rpb24uc3VwZXJzZWRlZChkZXRhaWwsIHsgcmVkaXJlY3RlZDogdHJ1ZSB9KTtcbiAgICB9O1xuICAgIC8qKiBSZXR1cm5zIGEgUmVqZWN0aW9uIGR1ZSB0byBpbnZhbGlkIHRyYW5zaXRpb24gKi9cbiAgICBSZWplY3Rpb24uaW52YWxpZCA9IGZ1bmN0aW9uIChkZXRhaWwpIHtcbiAgICAgICAgdmFyIG1lc3NhZ2UgPSBcIlRoaXMgdHJhbnNpdGlvbiBpcyBpbnZhbGlkXCI7XG4gICAgICAgIHJldHVybiBuZXcgUmVqZWN0aW9uKGV4cG9ydHMuUmVqZWN0VHlwZS5JTlZBTElELCBtZXNzYWdlLCBkZXRhaWwpO1xuICAgIH07XG4gICAgLyoqIFJldHVybnMgYSBSZWplY3Rpb24gZHVlIHRvIGlnbm9yZWQgdHJhbnNpdGlvbiAqL1xuICAgIFJlamVjdGlvbi5pZ25vcmVkID0gZnVuY3Rpb24gKGRldGFpbCkge1xuICAgICAgICB2YXIgbWVzc2FnZSA9IFwiVGhlIHRyYW5zaXRpb24gd2FzIGlnbm9yZWRcIjtcbiAgICAgICAgcmV0dXJuIG5ldyBSZWplY3Rpb24oZXhwb3J0cy5SZWplY3RUeXBlLklHTk9SRUQsIG1lc3NhZ2UsIGRldGFpbCk7XG4gICAgfTtcbiAgICAvKiogUmV0dXJucyBhIFJlamVjdGlvbiBkdWUgdG8gYWJvcnRlZCB0cmFuc2l0aW9uICovXG4gICAgUmVqZWN0aW9uLmFib3J0ZWQgPSBmdW5jdGlvbiAoZGV0YWlsKSB7XG4gICAgICAgIHZhciBtZXNzYWdlID0gXCJUaGUgdHJhbnNpdGlvbiBoYXMgYmVlbiBhYm9ydGVkXCI7XG4gICAgICAgIHJldHVybiBuZXcgUmVqZWN0aW9uKGV4cG9ydHMuUmVqZWN0VHlwZS5BQk9SVEVELCBtZXNzYWdlLCBkZXRhaWwpO1xuICAgIH07XG4gICAgLyoqIFJldHVybnMgYSBSZWplY3Rpb24gZHVlIHRvIGFib3J0ZWQgdHJhbnNpdGlvbiAqL1xuICAgIFJlamVjdGlvbi5lcnJvcmVkID0gZnVuY3Rpb24gKGRldGFpbCkge1xuICAgICAgICB2YXIgbWVzc2FnZSA9IFwiVGhlIHRyYW5zaXRpb24gZXJyb3JlZFwiO1xuICAgICAgICByZXR1cm4gbmV3IFJlamVjdGlvbihleHBvcnRzLlJlamVjdFR5cGUuRVJST1IsIG1lc3NhZ2UsIGRldGFpbCk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIGEgUmVqZWN0aW9uXG4gICAgICpcbiAgICAgKiBOb3JtYWxpemVzIGEgdmFsdWUgYXMgYSBSZWplY3Rpb24uXG4gICAgICogSWYgdGhlIHZhbHVlIGlzIGFscmVhZHkgYSBSZWplY3Rpb24sIHJldHVybnMgaXQuXG4gICAgICogT3RoZXJ3aXNlLCB3cmFwcyBhbmQgcmV0dXJucyB0aGUgdmFsdWUgYXMgYSBSZWplY3Rpb24gKFJlamVjdGlvbiB0eXBlOiBFUlJPUikuXG4gICAgICpcbiAgICAgKiBAcmV0dXJucyBgZGV0YWlsYCBpZiBpdCBpcyBhbHJlYWR5IGEgYFJlamVjdGlvbmAsIGVsc2UgcmV0dXJucyBhbiBFUlJPUiBSZWplY3Rpb24uXG4gICAgICovXG4gICAgUmVqZWN0aW9uLm5vcm1hbGl6ZSA9IGZ1bmN0aW9uIChkZXRhaWwpIHtcbiAgICAgICAgcmV0dXJuIGlzKFJlamVjdGlvbikoZGV0YWlsKSA/IGRldGFpbCA6IFJlamVjdGlvbi5lcnJvcmVkKGRldGFpbCk7XG4gICAgfTtcbiAgICByZXR1cm4gUmVqZWN0aW9uO1xufSgpKTtcblxuLyoqXG4gKiAjIFRyYW5zaXRpb24gdHJhY2luZyAoZGVidWcpXG4gKlxuICogRW5hYmxlIHRyYW5zaXRpb24gdHJhY2luZyB0byBwcmludCB0cmFuc2l0aW9uIGluZm9ybWF0aW9uIHRvIHRoZSBjb25zb2xlLFxuICogaW4gb3JkZXIgdG8gaGVscCBkZWJ1ZyB5b3VyIGFwcGxpY2F0aW9uLlxuICogVHJhY2luZyBsb2dzIGRldGFpbGVkIGluZm9ybWF0aW9uIGFib3V0IGVhY2ggVHJhbnNpdGlvbiB0byB5b3VyIGNvbnNvbGUuXG4gKlxuICogVG8gZW5hYmxlIHRyYWNpbmcsIGltcG9ydCB0aGUgW1tUcmFjZV1dIHNpbmdsZXRvbiBhbmQgZW5hYmxlIG9uZSBvciBtb3JlIGNhdGVnb3JpZXMuXG4gKlxuICogIyMjIEVTNlxuICogYGBganNcbiAqIGltcG9ydCB7dHJhY2V9IGZyb20gXCJ1aS1yb3V0ZXItbmcyXCI7IC8vIG9yIFwiYW5ndWxhci11aS1yb3V0ZXJcIlxuICogdHJhY2UuZW5hYmxlKDEsIDUpOyAvLyBUUkFOU0lUSU9OIGFuZCBWSUVXQ09ORklHXG4gKiBgYGBcbiAqXG4gKiAjIyMgQ0pTXG4gKiBgYGBqc1xuICogbGV0IHRyYWNlID0gcmVxdWlyZShcImFuZ3VsYXItdWktcm91dGVyXCIpLnRyYWNlOyAvLyBvciBcInVpLXJvdXRlci1uZzJcIlxuICogdHJhY2UuZW5hYmxlKFwiVFJBTlNJVElPTlwiLCBcIlZJRVdDT05GSUdcIik7XG4gKiBgYGBcbiAqXG4gKiAjIyMgR2xvYmFsc1xuICogYGBganNcbiAqIGxldCB0cmFjZSA9IHdpbmRvd1tcImFuZ3VsYXItdWktcm91dGVyXCJdLnRyYWNlOyAvLyBvciBcInVpLXJvdXRlci1uZzJcIlxuICogdHJhY2UuZW5hYmxlKCk7IC8vIFRyYWNlIGV2ZXJ5dGhpbmcgKHZlcnkgdmVyYm9zZSlcbiAqIGBgYFxuICpcbiAqICMjIyBBbmd1bGFyIDE6XG4gKiBgYGBqc1xuICogYXBwLnJ1bigkdHJhY2UgPT4gJHRyYWNlLmVuYWJsZSgpKTtcbiAqIGBgYFxuICpcbiAqIEBjb3JlYXBpXG4gKiBAbW9kdWxlIHRyYWNlXG4gKi8gLyoqIGZvciB0eXBlZG9jICovXG4vKiogQGhpZGRlbiAqL1xuZnVuY3Rpb24gdWlWaWV3U3RyaW5nKHZpZXdEYXRhKSB7XG4gICAgaWYgKCF2aWV3RGF0YSlcbiAgICAgICAgcmV0dXJuICd1aS12aWV3IChkZWZ1bmN0KSc7XG4gICAgcmV0dXJuIFwiW3VpLXZpZXcjXCIgKyB2aWV3RGF0YS5pZCArIFwiIHRhZyBcIiArXG4gICAgICAgIChcImluIHRlbXBsYXRlIGZyb20gJ1wiICsgKHZpZXdEYXRhLmNyZWF0aW9uQ29udGV4dCAmJiB2aWV3RGF0YS5jcmVhdGlvbkNvbnRleHQubmFtZSB8fCAnKHJvb3QpJykgKyBcIicgc3RhdGVdOiBcIikgK1xuICAgICAgICAoXCJmcW46ICdcIiArIHZpZXdEYXRhLmZxbiArIFwiJywgXCIpICtcbiAgICAgICAgKFwibmFtZTogJ1wiICsgdmlld0RhdGEubmFtZSArIFwiQFwiICsgdmlld0RhdGEuY3JlYXRpb25Db250ZXh0ICsgXCInKVwiKTtcbn1cbi8qKiBAaGlkZGVuICovXG52YXIgdmlld0NvbmZpZ1N0cmluZyA9IGZ1bmN0aW9uICh2aWV3Q29uZmlnKSB7XG4gICAgcmV0dXJuIFwiW1ZpZXdDb25maWcjXCIgKyB2aWV3Q29uZmlnLiRpZCArIFwiIGZyb20gJ1wiICsgKHZpZXdDb25maWcudmlld0RlY2wuJGNvbnRleHQubmFtZSB8fCAnKHJvb3QpJykgKyBcIicgc3RhdGVdOiB0YXJnZXQgdWktdmlldzogJ1wiICsgdmlld0NvbmZpZy52aWV3RGVjbC4kdWlWaWV3TmFtZSArIFwiQFwiICsgdmlld0NvbmZpZy52aWV3RGVjbC4kdWlWaWV3Q29udGV4dEFuY2hvciArIFwiJ1wiO1xufTtcbi8qKiBAaGlkZGVuICovXG5mdW5jdGlvbiBub3JtYWxpemVkQ2F0KGlucHV0KSB7XG4gICAgcmV0dXJuIGlzTnVtYmVyKGlucHV0KSA/IGV4cG9ydHMuQ2F0ZWdvcnlbaW5wdXRdIDogZXhwb3J0cy5DYXRlZ29yeVtleHBvcnRzLkNhdGVnb3J5W2lucHV0XV07XG59XG4vKipcbiAqIFRyYWNlIGNhdGVnb3JpZXMgRW51bVxuICpcbiAqIEVuYWJsZSBvciBkaXNhYmxlIGEgY2F0ZWdvcnkgdXNpbmcgW1tUcmFjZS5lbmFibGVdXSBvciBbW1RyYWNlLmRpc2FibGVdXVxuICpcbiAqIGB0cmFjZS5lbmFibGUoQ2F0ZWdvcnkuVFJBTlNJVElPTilgXG4gKlxuICogVGhlc2UgY2FuIGFsc28gYmUgcHJvdmlkZWQgdXNpbmcgYSBtYXRjaGluZyBzdHJpbmcsIG9yIHBvc2l0aW9uIG9yZGluYWxcbiAqXG4gKiBgdHJhY2UuZW5hYmxlKFwiVFJBTlNJVElPTlwiKWBcbiAqXG4gKiBgdHJhY2UuZW5hYmxlKDEpYFxuICovXG5cbihmdW5jdGlvbiAoQ2F0ZWdvcnkpIHtcbiAgICBDYXRlZ29yeVtDYXRlZ29yeVtcIlJFU09MVkVcIl0gPSAwXSA9IFwiUkVTT0xWRVwiO1xuICAgIENhdGVnb3J5W0NhdGVnb3J5W1wiVFJBTlNJVElPTlwiXSA9IDFdID0gXCJUUkFOU0lUSU9OXCI7XG4gICAgQ2F0ZWdvcnlbQ2F0ZWdvcnlbXCJIT09LXCJdID0gMl0gPSBcIkhPT0tcIjtcbiAgICBDYXRlZ29yeVtDYXRlZ29yeVtcIlVJVklFV1wiXSA9IDNdID0gXCJVSVZJRVdcIjtcbiAgICBDYXRlZ29yeVtDYXRlZ29yeVtcIlZJRVdDT05GSUdcIl0gPSA0XSA9IFwiVklFV0NPTkZJR1wiO1xufSkoZXhwb3J0cy5DYXRlZ29yeSB8fCAoZXhwb3J0cy5DYXRlZ29yeSA9IHt9KSk7XG4vKiogQGhpZGRlbiAqLyB2YXIgX3RpZCA9IHBhcnNlKFwiJGlkXCIpO1xuLyoqIEBoaWRkZW4gKi8gdmFyIF9yaWQgPSBwYXJzZShcInJvdXRlci4kaWRcIik7XG4vKiogQGhpZGRlbiAqLyB2YXIgdHJhbnNMYmwgPSBmdW5jdGlvbiAodHJhbnMpIHsgcmV0dXJuIFwiVHJhbnNpdGlvbiAjXCIgKyBfdGlkKHRyYW5zKSArIFwiLVwiICsgX3JpZCh0cmFucyk7IH07XG4vKipcbiAqIFByaW50cyBVSS1Sb3V0ZXIgVHJhbnNpdGlvbiB0cmFjZSBpbmZvcm1hdGlvbiB0byB0aGUgY29uc29sZS5cbiAqL1xudmFyIFRyYWNlID0gKGZ1bmN0aW9uICgpIHtcbiAgICAvKiogQGhpZGRlbiAqL1xuICAgIGZ1bmN0aW9uIFRyYWNlKCkge1xuICAgICAgICAvKiogQGhpZGRlbiAqL1xuICAgICAgICB0aGlzLl9lbmFibGVkID0ge307XG4gICAgICAgIHRoaXMuYXBwcm94aW1hdGVEaWdlc3RzID0gMDtcbiAgICB9XG4gICAgLyoqIEBoaWRkZW4gKi9cbiAgICBUcmFjZS5wcm90b3R5cGUuX3NldCA9IGZ1bmN0aW9uIChlbmFibGVkLCBjYXRlZ29yaWVzKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIGlmICghY2F0ZWdvcmllcy5sZW5ndGgpIHtcbiAgICAgICAgICAgIGNhdGVnb3JpZXMgPSBPYmplY3Qua2V5cyhleHBvcnRzLkNhdGVnb3J5KVxuICAgICAgICAgICAgICAgIC5tYXAoZnVuY3Rpb24gKGspIHsgcmV0dXJuIHBhcnNlSW50KGssIDEwKTsgfSlcbiAgICAgICAgICAgICAgICAuZmlsdGVyKGZ1bmN0aW9uIChrKSB7IHJldHVybiAhaXNOYU4oayk7IH0pXG4gICAgICAgICAgICAgICAgLm1hcChmdW5jdGlvbiAoa2V5KSB7IHJldHVybiBleHBvcnRzLkNhdGVnb3J5W2tleV07IH0pO1xuICAgICAgICB9XG4gICAgICAgIGNhdGVnb3JpZXMubWFwKG5vcm1hbGl6ZWRDYXQpLmZvckVhY2goZnVuY3Rpb24gKGNhdGVnb3J5KSB7IHJldHVybiBfdGhpcy5fZW5hYmxlZFtjYXRlZ29yeV0gPSBlbmFibGVkOyB9KTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEVuYWJsZXMgYSB0cmFjZSBbW0NhdGVnb3J5XV1cbiAgICAgKlxuICAgICAqIGBgYGpzXG4gICAgICogdHJhY2UuZW5hYmxlKFwiVFJBTlNJVElPTlwiKTtcbiAgICAgKiBgYGBcbiAgICAgKlxuICAgICAqIEBwYXJhbSBjYXRlZ29yaWVzIGNhdGVnb3JpZXMgdG8gZW5hYmxlLiBJZiBgY2F0ZWdvcmllc2AgaXMgb21pdHRlZCwgYWxsIGNhdGVnb3JpZXMgYXJlIGVuYWJsZWQuXG4gICAgICogICAgICAgIEFsc28gdGFrZXMgc3RyaW5ncyAoY2F0ZWdvcnkgbmFtZSkgb3Igb3JkaW5hbCAoY2F0ZWdvcnkgcG9zaXRpb24pXG4gICAgICovXG4gICAgVHJhY2UucHJvdG90eXBlLmVuYWJsZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIGNhdGVnb3JpZXMgPSBbXTtcbiAgICAgICAgZm9yICh2YXIgX2kgPSAwOyBfaSA8IGFyZ3VtZW50cy5sZW5ndGg7IF9pKyspIHtcbiAgICAgICAgICAgIGNhdGVnb3JpZXNbX2ldID0gYXJndW1lbnRzW19pXTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLl9zZXQodHJ1ZSwgY2F0ZWdvcmllcyk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBEaXNhYmxlcyBhIHRyYWNlIFtbQ2F0ZWdvcnldXVxuICAgICAqXG4gICAgICogYGBganNcbiAgICAgKiB0cmFjZS5kaXNhYmxlKFwiVklFV0NPTkZJR1wiKTtcbiAgICAgKiBgYGBcbiAgICAgKlxuICAgICAqIEBwYXJhbSBjYXRlZ29yaWVzIGNhdGVnb3JpZXMgdG8gZGlzYWJsZS4gSWYgYGNhdGVnb3JpZXNgIGlzIG9taXR0ZWQsIGFsbCBjYXRlZ29yaWVzIGFyZSBkaXNhYmxlZC5cbiAgICAgKiAgICAgICAgQWxzbyB0YWtlcyBzdHJpbmdzIChjYXRlZ29yeSBuYW1lKSBvciBvcmRpbmFsIChjYXRlZ29yeSBwb3NpdGlvbilcbiAgICAgKi9cbiAgICBUcmFjZS5wcm90b3R5cGUuZGlzYWJsZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIGNhdGVnb3JpZXMgPSBbXTtcbiAgICAgICAgZm9yICh2YXIgX2kgPSAwOyBfaSA8IGFyZ3VtZW50cy5sZW5ndGg7IF9pKyspIHtcbiAgICAgICAgICAgIGNhdGVnb3JpZXNbX2ldID0gYXJndW1lbnRzW19pXTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLl9zZXQoZmFsc2UsIGNhdGVnb3JpZXMpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogUmV0cmlldmVzIHRoZSBlbmFibGVkIHN0YXRldXMgb2YgYSBbW0NhdGVnb3J5XV1cbiAgICAgKlxuICAgICAqIGBgYGpzXG4gICAgICogdHJhY2UuZW5hYmxlZChcIlZJRVdDT05GSUdcIik7IC8vIHRydWUgb3IgZmFsc2VcbiAgICAgKiBgYGBcbiAgICAgKlxuICAgICAqIEByZXR1cm5zIGJvb2xlYW4gdHJ1ZSBpZiB0aGUgY2F0ZWdvcnkgaXMgZW5hYmxlZFxuICAgICAqL1xuICAgIFRyYWNlLnByb3RvdHlwZS5lbmFibGVkID0gZnVuY3Rpb24gKGNhdGVnb3J5KSB7XG4gICAgICAgIHJldHVybiAhIXRoaXMuX2VuYWJsZWRbbm9ybWFsaXplZENhdChjYXRlZ29yeSldO1xuICAgIH07XG4gICAgLyoqIEBpbnRlcm5hbGFwaSBjYWxsZWQgYnkgdWktcm91dGVyIGNvZGUgKi9cbiAgICBUcmFjZS5wcm90b3R5cGUudHJhY2VUcmFuc2l0aW9uU3RhcnQgPSBmdW5jdGlvbiAodHJhbnMpIHtcbiAgICAgICAgaWYgKCF0aGlzLmVuYWJsZWQoZXhwb3J0cy5DYXRlZ29yeS5UUkFOU0lUSU9OKSlcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgY29uc29sZS5sb2codHJhbnNMYmwodHJhbnMpICsgXCI6IFN0YXJ0ZWQgIC0+IFwiICsgc3RyaW5naWZ5KHRyYW5zKSk7XG4gICAgfTtcbiAgICAvKiogQGludGVybmFsYXBpIGNhbGxlZCBieSB1aS1yb3V0ZXIgY29kZSAqL1xuICAgIFRyYWNlLnByb3RvdHlwZS50cmFjZVRyYW5zaXRpb25JZ25vcmVkID0gZnVuY3Rpb24gKHRyYW5zKSB7XG4gICAgICAgIGlmICghdGhpcy5lbmFibGVkKGV4cG9ydHMuQ2F0ZWdvcnkuVFJBTlNJVElPTikpXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIGNvbnNvbGUubG9nKHRyYW5zTGJsKHRyYW5zKSArIFwiOiBJZ25vcmVkICA8PiBcIiArIHN0cmluZ2lmeSh0cmFucykpO1xuICAgIH07XG4gICAgLyoqIEBpbnRlcm5hbGFwaSBjYWxsZWQgYnkgdWktcm91dGVyIGNvZGUgKi9cbiAgICBUcmFjZS5wcm90b3R5cGUudHJhY2VIb29rSW52b2NhdGlvbiA9IGZ1bmN0aW9uIChzdGVwLCB0cmFucywgb3B0aW9ucykge1xuICAgICAgICBpZiAoIXRoaXMuZW5hYmxlZChleHBvcnRzLkNhdGVnb3J5LkhPT0spKVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB2YXIgZXZlbnQgPSBwYXJzZShcInRyYWNlRGF0YS5ob29rVHlwZVwiKShvcHRpb25zKSB8fCBcImludGVybmFsXCIsIGNvbnRleHQgPSBwYXJzZShcInRyYWNlRGF0YS5jb250ZXh0LnN0YXRlLm5hbWVcIikob3B0aW9ucykgfHwgcGFyc2UoXCJ0cmFjZURhdGEuY29udGV4dFwiKShvcHRpb25zKSB8fCBcInVua25vd25cIiwgbmFtZSA9IGZ1bmN0aW9uVG9TdHJpbmcoc3RlcC5yZWdpc3RlcmVkSG9vay5jYWxsYmFjayk7XG4gICAgICAgIGNvbnNvbGUubG9nKHRyYW5zTGJsKHRyYW5zKSArIFwiOiAgIEhvb2sgLT4gXCIgKyBldmVudCArIFwiIGNvbnRleHQ6IFwiICsgY29udGV4dCArIFwiLCBcIiArIG1heExlbmd0aCgyMDAsIG5hbWUpKTtcbiAgICB9O1xuICAgIC8qKiBAaW50ZXJuYWxhcGkgY2FsbGVkIGJ5IHVpLXJvdXRlciBjb2RlICovXG4gICAgVHJhY2UucHJvdG90eXBlLnRyYWNlSG9va1Jlc3VsdCA9IGZ1bmN0aW9uIChob29rUmVzdWx0LCB0cmFucywgdHJhbnNpdGlvbk9wdGlvbnMpIHtcbiAgICAgICAgaWYgKCF0aGlzLmVuYWJsZWQoZXhwb3J0cy5DYXRlZ29yeS5IT09LKSlcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgY29uc29sZS5sb2codHJhbnNMYmwodHJhbnMpICsgXCI6ICAgPC0gSG9vayByZXR1cm5lZDogXCIgKyBtYXhMZW5ndGgoMjAwLCBzdHJpbmdpZnkoaG9va1Jlc3VsdCkpKTtcbiAgICB9O1xuICAgIC8qKiBAaW50ZXJuYWxhcGkgY2FsbGVkIGJ5IHVpLXJvdXRlciBjb2RlICovXG4gICAgVHJhY2UucHJvdG90eXBlLnRyYWNlUmVzb2x2ZVBhdGggPSBmdW5jdGlvbiAocGF0aCwgd2hlbiwgdHJhbnMpIHtcbiAgICAgICAgaWYgKCF0aGlzLmVuYWJsZWQoZXhwb3J0cy5DYXRlZ29yeS5SRVNPTFZFKSlcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgY29uc29sZS5sb2codHJhbnNMYmwodHJhbnMpICsgXCI6ICAgICAgICAgUmVzb2x2aW5nIFwiICsgcGF0aCArIFwiIChcIiArIHdoZW4gKyBcIilcIik7XG4gICAgfTtcbiAgICAvKiogQGludGVybmFsYXBpIGNhbGxlZCBieSB1aS1yb3V0ZXIgY29kZSAqL1xuICAgIFRyYWNlLnByb3RvdHlwZS50cmFjZVJlc29sdmFibGVSZXNvbHZlZCA9IGZ1bmN0aW9uIChyZXNvbHZhYmxlLCB0cmFucykge1xuICAgICAgICBpZiAoIXRoaXMuZW5hYmxlZChleHBvcnRzLkNhdGVnb3J5LlJFU09MVkUpKVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICBjb25zb2xlLmxvZyh0cmFuc0xibCh0cmFucykgKyBcIjogICAgICAgICAgICAgICA8LSBSZXNvbHZlZCAgXCIgKyByZXNvbHZhYmxlICsgXCIgdG86IFwiICsgbWF4TGVuZ3RoKDIwMCwgc3RyaW5naWZ5KHJlc29sdmFibGUuZGF0YSkpKTtcbiAgICB9O1xuICAgIC8qKiBAaW50ZXJuYWxhcGkgY2FsbGVkIGJ5IHVpLXJvdXRlciBjb2RlICovXG4gICAgVHJhY2UucHJvdG90eXBlLnRyYWNlRXJyb3IgPSBmdW5jdGlvbiAocmVhc29uLCB0cmFucykge1xuICAgICAgICBpZiAoIXRoaXMuZW5hYmxlZChleHBvcnRzLkNhdGVnb3J5LlRSQU5TSVRJT04pKVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICBjb25zb2xlLmxvZyh0cmFuc0xibCh0cmFucykgKyBcIjogPC0gUmVqZWN0ZWQgXCIgKyBzdHJpbmdpZnkodHJhbnMpICsgXCIsIHJlYXNvbjogXCIgKyByZWFzb24pO1xuICAgIH07XG4gICAgLyoqIEBpbnRlcm5hbGFwaSBjYWxsZWQgYnkgdWktcm91dGVyIGNvZGUgKi9cbiAgICBUcmFjZS5wcm90b3R5cGUudHJhY2VTdWNjZXNzID0gZnVuY3Rpb24gKGZpbmFsU3RhdGUsIHRyYW5zKSB7XG4gICAgICAgIGlmICghdGhpcy5lbmFibGVkKGV4cG9ydHMuQ2F0ZWdvcnkuVFJBTlNJVElPTikpXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIGNvbnNvbGUubG9nKHRyYW5zTGJsKHRyYW5zKSArIFwiOiA8LSBTdWNjZXNzICBcIiArIHN0cmluZ2lmeSh0cmFucykgKyBcIiwgZmluYWwgc3RhdGU6IFwiICsgZmluYWxTdGF0ZS5uYW1lKTtcbiAgICB9O1xuICAgIC8qKiBAaW50ZXJuYWxhcGkgY2FsbGVkIGJ5IHVpLXJvdXRlciBjb2RlICovXG4gICAgVHJhY2UucHJvdG90eXBlLnRyYWNlVUlWaWV3RXZlbnQgPSBmdW5jdGlvbiAoZXZlbnQsIHZpZXdEYXRhLCBleHRyYSkge1xuICAgICAgICBpZiAoZXh0cmEgPT09IHZvaWQgMCkgeyBleHRyYSA9IFwiXCI7IH1cbiAgICAgICAgaWYgKCF0aGlzLmVuYWJsZWQoZXhwb3J0cy5DYXRlZ29yeS5VSVZJRVcpKVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICBjb25zb2xlLmxvZyhcInVpLXZpZXc6IFwiICsgcGFkU3RyaW5nKDMwLCBldmVudCkgKyBcIiBcIiArIHVpVmlld1N0cmluZyh2aWV3RGF0YSkgKyBleHRyYSk7XG4gICAgfTtcbiAgICAvKiogQGludGVybmFsYXBpIGNhbGxlZCBieSB1aS1yb3V0ZXIgY29kZSAqL1xuICAgIFRyYWNlLnByb3RvdHlwZS50cmFjZVVJVmlld0NvbmZpZ1VwZGF0ZWQgPSBmdW5jdGlvbiAodmlld0RhdGEsIGNvbnRleHQpIHtcbiAgICAgICAgaWYgKCF0aGlzLmVuYWJsZWQoZXhwb3J0cy5DYXRlZ29yeS5VSVZJRVcpKVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB0aGlzLnRyYWNlVUlWaWV3RXZlbnQoXCJVcGRhdGluZ1wiLCB2aWV3RGF0YSwgXCIgd2l0aCBWaWV3Q29uZmlnIGZyb20gY29udGV4dD0nXCIgKyBjb250ZXh0ICsgXCInXCIpO1xuICAgIH07XG4gICAgLyoqIEBpbnRlcm5hbGFwaSBjYWxsZWQgYnkgdWktcm91dGVyIGNvZGUgKi9cbiAgICBUcmFjZS5wcm90b3R5cGUudHJhY2VVSVZpZXdGaWxsID0gZnVuY3Rpb24gKHZpZXdEYXRhLCBodG1sKSB7XG4gICAgICAgIGlmICghdGhpcy5lbmFibGVkKGV4cG9ydHMuQ2F0ZWdvcnkuVUlWSUVXKSlcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgdGhpcy50cmFjZVVJVmlld0V2ZW50KFwiRmlsbFwiLCB2aWV3RGF0YSwgXCIgd2l0aDogXCIgKyBtYXhMZW5ndGgoMjAwLCBodG1sKSk7XG4gICAgfTtcbiAgICAvKiogQGludGVybmFsYXBpIGNhbGxlZCBieSB1aS1yb3V0ZXIgY29kZSAqL1xuICAgIFRyYWNlLnByb3RvdHlwZS50cmFjZVZpZXdTZXJ2aWNlRXZlbnQgPSBmdW5jdGlvbiAoZXZlbnQsIHZpZXdDb25maWcpIHtcbiAgICAgICAgaWYgKCF0aGlzLmVuYWJsZWQoZXhwb3J0cy5DYXRlZ29yeS5WSUVXQ09ORklHKSlcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgY29uc29sZS5sb2coXCJWSUVXQ09ORklHOiBcIiArIGV2ZW50ICsgXCIgXCIgKyB2aWV3Q29uZmlnU3RyaW5nKHZpZXdDb25maWcpKTtcbiAgICB9O1xuICAgIC8qKiBAaW50ZXJuYWxhcGkgY2FsbGVkIGJ5IHVpLXJvdXRlciBjb2RlICovXG4gICAgVHJhY2UucHJvdG90eXBlLnRyYWNlVmlld1NlcnZpY2VVSVZpZXdFdmVudCA9IGZ1bmN0aW9uIChldmVudCwgdmlld0RhdGEpIHtcbiAgICAgICAgaWYgKCF0aGlzLmVuYWJsZWQoZXhwb3J0cy5DYXRlZ29yeS5WSUVXQ09ORklHKSlcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgY29uc29sZS5sb2coXCJWSUVXQ09ORklHOiBcIiArIGV2ZW50ICsgXCIgXCIgKyB1aVZpZXdTdHJpbmcodmlld0RhdGEpKTtcbiAgICB9O1xuICAgIHJldHVybiBUcmFjZTtcbn0oKSk7XG4vKipcbiAqIFRoZSBbW1RyYWNlXV0gc2luZ2xldG9uXG4gKlxuICogIyMjIyBFeGFtcGxlOlxuICogYGBganNcbiAqIGltcG9ydCB7dHJhY2V9IGZyb20gXCJhbmd1bGFyLXVpLXJvdXRlclwiO1xuICogdHJhY2UuZW5hYmxlKDEsIDUpO1xuICogYGBgXG4gKi9cbnZhciB0cmFjZSA9IG5ldyBUcmFjZSgpO1xuXG4oZnVuY3Rpb24gKFRyYW5zaXRpb25Ib29rUGhhc2UpIHtcbiAgICBUcmFuc2l0aW9uSG9va1BoYXNlW1RyYW5zaXRpb25Ib29rUGhhc2VbXCJDUkVBVEVcIl0gPSAwXSA9IFwiQ1JFQVRFXCI7XG4gICAgVHJhbnNpdGlvbkhvb2tQaGFzZVtUcmFuc2l0aW9uSG9va1BoYXNlW1wiQkVGT1JFXCJdID0gMV0gPSBcIkJFRk9SRVwiO1xuICAgIFRyYW5zaXRpb25Ib29rUGhhc2VbVHJhbnNpdGlvbkhvb2tQaGFzZVtcIlJVTlwiXSA9IDJdID0gXCJSVU5cIjtcbiAgICBUcmFuc2l0aW9uSG9va1BoYXNlW1RyYW5zaXRpb25Ib29rUGhhc2VbXCJTVUNDRVNTXCJdID0gM10gPSBcIlNVQ0NFU1NcIjtcbiAgICBUcmFuc2l0aW9uSG9va1BoYXNlW1RyYW5zaXRpb25Ib29rUGhhc2VbXCJFUlJPUlwiXSA9IDRdID0gXCJFUlJPUlwiO1xufSkoZXhwb3J0cy5UcmFuc2l0aW9uSG9va1BoYXNlIHx8IChleHBvcnRzLlRyYW5zaXRpb25Ib29rUGhhc2UgPSB7fSkpO1xuXG4oZnVuY3Rpb24gKFRyYW5zaXRpb25Ib29rU2NvcGUpIHtcbiAgICBUcmFuc2l0aW9uSG9va1Njb3BlW1RyYW5zaXRpb25Ib29rU2NvcGVbXCJUUkFOU0lUSU9OXCJdID0gMF0gPSBcIlRSQU5TSVRJT05cIjtcbiAgICBUcmFuc2l0aW9uSG9va1Njb3BlW1RyYW5zaXRpb25Ib29rU2NvcGVbXCJTVEFURVwiXSA9IDFdID0gXCJTVEFURVwiO1xufSkoZXhwb3J0cy5UcmFuc2l0aW9uSG9va1Njb3BlIHx8IChleHBvcnRzLlRyYW5zaXRpb25Ib29rU2NvcGUgPSB7fSkpO1xuXG4vKipcbiAqIEBjb3JlYXBpXG4gKiBAbW9kdWxlIHN0YXRlXG4gKi8gLyoqIGZvciB0eXBlZG9jICovXG4vKipcbiAqIEVuY2Fwc3VsYXRlIHRoZSB0YXJnZXQgKGRlc3RpbmF0aW9uKSBzdGF0ZS9wYXJhbXMvb3B0aW9ucyBvZiBhIFtbVHJhbnNpdGlvbl1dLlxuICpcbiAqIFRoaXMgY2xhc3MgaXMgZnJlcXVlbnRseSB1c2VkIHRvIHJlZGlyZWN0IGEgdHJhbnNpdGlvbiB0byBhIG5ldyBkZXN0aW5hdGlvbi5cbiAqXG4gKiBTZWU6XG4gKlxuICogLSBbW0hvb2tSZXN1bHRdXVxuICogLSBbW1RyYW5zaXRpb25Ib29rRm5dXVxuICogLSBbW1RyYW5zaXRpb25TZXJ2aWNlLm9uU3RhcnRdXVxuICpcbiAqIFRvIGNyZWF0ZSBhIGBUYXJnZXRTdGF0ZWAsIHVzZSBbW1N0YXRlU2VydmljZS50YXJnZXRdXS5cbiAqXG4gKiAtLS1cbiAqXG4gKiBUaGlzIGNsYXNzIHdyYXBzOlxuICpcbiAqIDEpIGFuIGlkZW50aWZpZXIgZm9yIGEgc3RhdGVcbiAqIDIpIGEgc2V0IG9mIHBhcmFtZXRlcnNcbiAqIDMpIGFuZCB0cmFuc2l0aW9uIG9wdGlvbnNcbiAqIDQpIHRoZSByZWdpc3RlcmVkIHN0YXRlIG9iamVjdCAodGhlIFtbU3RhdGVEZWNsYXJhdGlvbl1dKVxuICpcbiAqIE1hbnkgVUktUm91dGVyIEFQSXMgc3VjaCBhcyBbW1N0YXRlU2VydmljZS5nb11dIHRha2UgYSBbW1N0YXRlT3JOYW1lXV0gYXJndW1lbnQgd2hpY2ggY2FuXG4gKiBlaXRoZXIgYmUgYSAqc3RhdGUgb2JqZWN0KiAoYSBbW1N0YXRlRGVjbGFyYXRpb25dXSBvciBbW1N0YXRlT2JqZWN0XV0pIG9yIGEgKnN0YXRlIG5hbWUqIChhIHN0cmluZykuXG4gKiBUaGUgYFRhcmdldFN0YXRlYCBjbGFzcyBub3JtYWxpemVzIHRob3NlIG9wdGlvbnMuXG4gKlxuICogQSBgVGFyZ2V0U3RhdGVgIG1heSBiZSB2YWxpZCAodGhlIHN0YXRlIGJlaW5nIHRhcmdldGVkIGV4aXN0cyBpbiB0aGUgcmVnaXN0cnkpXG4gKiBvciBpbnZhbGlkICh0aGUgc3RhdGUgYmVpbmcgdGFyZ2V0ZWQgaXMgbm90IHJlZ2lzdGVyZWQpLlxuICovXG52YXIgVGFyZ2V0U3RhdGUgPSAoZnVuY3Rpb24gKCkge1xuICAgIC8qKlxuICAgICAqIFRoZSBUYXJnZXRTdGF0ZSBjb25zdHJ1Y3RvclxuICAgICAqXG4gICAgICogTm90ZTogRG8gbm90IGNvbnN0cnVjdCBhIGBUYXJnZXRTdGF0ZWAgbWFudWFsbHkuXG4gICAgICogVG8gY3JlYXRlIGEgYFRhcmdldFN0YXRlYCwgdXNlIHRoZSBbW1N0YXRlU2VydmljZS50YXJnZXRdXSBmYWN0b3J5IG1ldGhvZC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBfaWRlbnRpZmllciBBbiBpZGVudGlmaWVyIGZvciBhIHN0YXRlLlxuICAgICAqICAgIEVpdGhlciBhIGZ1bGx5LXF1YWxpZmllZCBzdGF0ZSBuYW1lLCBvciB0aGUgb2JqZWN0IHVzZWQgdG8gZGVmaW5lIHRoZSBzdGF0ZS5cbiAgICAgKiBAcGFyYW0gX2RlZmluaXRpb24gVGhlIGludGVybmFsIHN0YXRlIHJlcHJlc2VudGF0aW9uLCBpZiBleGlzdHMuXG4gICAgICogQHBhcmFtIF9wYXJhbXMgUGFyYW1ldGVycyBmb3IgdGhlIHRhcmdldCBzdGF0ZVxuICAgICAqIEBwYXJhbSBfb3B0aW9ucyBUcmFuc2l0aW9uIG9wdGlvbnMuXG4gICAgICpcbiAgICAgKiBAaW50ZXJuYWxhcGlcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBUYXJnZXRTdGF0ZShfaWRlbnRpZmllciwgX2RlZmluaXRpb24sIF9wYXJhbXMsIF9vcHRpb25zKSB7XG4gICAgICAgIGlmIChfb3B0aW9ucyA9PT0gdm9pZCAwKSB7IF9vcHRpb25zID0ge307IH1cbiAgICAgICAgdGhpcy5faWRlbnRpZmllciA9IF9pZGVudGlmaWVyO1xuICAgICAgICB0aGlzLl9kZWZpbml0aW9uID0gX2RlZmluaXRpb247XG4gICAgICAgIHRoaXMuX29wdGlvbnMgPSBfb3B0aW9ucztcbiAgICAgICAgdGhpcy5fcGFyYW1zID0gX3BhcmFtcyB8fCB7fTtcbiAgICB9XG4gICAgLyoqIFRoZSBuYW1lIG9mIHRoZSBzdGF0ZSB0aGlzIG9iamVjdCB0YXJnZXRzICovXG4gICAgVGFyZ2V0U3RhdGUucHJvdG90eXBlLm5hbWUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9kZWZpbml0aW9uICYmIHRoaXMuX2RlZmluaXRpb24ubmFtZSB8fCB0aGlzLl9pZGVudGlmaWVyO1xuICAgIH07XG4gICAgLyoqIFRoZSBpZGVudGlmaWVyIHVzZWQgd2hlbiBjcmVhdGluZyB0aGlzIFRhcmdldFN0YXRlICovXG4gICAgVGFyZ2V0U3RhdGUucHJvdG90eXBlLmlkZW50aWZpZXIgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9pZGVudGlmaWVyO1xuICAgIH07XG4gICAgLyoqIFRoZSB0YXJnZXQgcGFyYW1ldGVyIHZhbHVlcyAqL1xuICAgIFRhcmdldFN0YXRlLnByb3RvdHlwZS5wYXJhbXMgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9wYXJhbXM7XG4gICAgfTtcbiAgICAvKiogVGhlIGludGVybmFsIHN0YXRlIG9iamVjdCAoaWYgaXQgd2FzIGZvdW5kKSAqL1xuICAgIFRhcmdldFN0YXRlLnByb3RvdHlwZS4kc3RhdGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9kZWZpbml0aW9uO1xuICAgIH07XG4gICAgLyoqIFRoZSBpbnRlcm5hbCBzdGF0ZSBkZWNsYXJhdGlvbiAoaWYgaXQgd2FzIGZvdW5kKSAqL1xuICAgIFRhcmdldFN0YXRlLnByb3RvdHlwZS5zdGF0ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2RlZmluaXRpb24gJiYgdGhpcy5fZGVmaW5pdGlvbi5zZWxmO1xuICAgIH07XG4gICAgLyoqIFRoZSB0YXJnZXQgb3B0aW9ucyAqL1xuICAgIFRhcmdldFN0YXRlLnByb3RvdHlwZS5vcHRpb25zID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fb3B0aW9ucztcbiAgICB9O1xuICAgIC8qKiBUcnVlIGlmIHRoZSB0YXJnZXQgc3RhdGUgd2FzIGZvdW5kICovXG4gICAgVGFyZ2V0U3RhdGUucHJvdG90eXBlLmV4aXN0cyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuICEhKHRoaXMuX2RlZmluaXRpb24gJiYgdGhpcy5fZGVmaW5pdGlvbi5zZWxmKTtcbiAgICB9O1xuICAgIC8qKiBUcnVlIGlmIHRoZSBvYmplY3QgaXMgdmFsaWQgKi9cbiAgICBUYXJnZXRTdGF0ZS5wcm90b3R5cGUudmFsaWQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiAhdGhpcy5lcnJvcigpO1xuICAgIH07XG4gICAgLyoqIElmIHRoZSBvYmplY3QgaXMgaW52YWxpZCwgcmV0dXJucyB0aGUgcmVhc29uIHdoeSAqL1xuICAgIFRhcmdldFN0YXRlLnByb3RvdHlwZS5lcnJvciA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIGJhc2UgPSB0aGlzLm9wdGlvbnMoKS5yZWxhdGl2ZTtcbiAgICAgICAgaWYgKCF0aGlzLl9kZWZpbml0aW9uICYmICEhYmFzZSkge1xuICAgICAgICAgICAgdmFyIHN0YXRlTmFtZSA9IGJhc2UubmFtZSA/IGJhc2UubmFtZSA6IGJhc2U7XG4gICAgICAgICAgICByZXR1cm4gXCJDb3VsZCBub3QgcmVzb2x2ZSAnXCIgKyB0aGlzLm5hbWUoKSArIFwiJyBmcm9tIHN0YXRlICdcIiArIHN0YXRlTmFtZSArIFwiJ1wiO1xuICAgICAgICB9XG4gICAgICAgIGlmICghdGhpcy5fZGVmaW5pdGlvbilcbiAgICAgICAgICAgIHJldHVybiBcIk5vIHN1Y2ggc3RhdGUgJ1wiICsgdGhpcy5uYW1lKCkgKyBcIidcIjtcbiAgICAgICAgaWYgKCF0aGlzLl9kZWZpbml0aW9uLnNlbGYpXG4gICAgICAgICAgICByZXR1cm4gXCJTdGF0ZSAnXCIgKyB0aGlzLm5hbWUoKSArIFwiJyBoYXMgYW4gaW52YWxpZCBkZWZpbml0aW9uXCI7XG4gICAgfTtcbiAgICBUYXJnZXRTdGF0ZS5wcm90b3R5cGUudG9TdHJpbmcgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiBcIidcIiArIHRoaXMubmFtZSgpICsgXCInXCIgKyB0b0pzb24odGhpcy5wYXJhbXMoKSk7XG4gICAgfTtcbiAgICByZXR1cm4gVGFyZ2V0U3RhdGU7XG59KCkpO1xuLyoqIFJldHVybnMgdHJ1ZSBpZiB0aGUgb2JqZWN0IGhhcyBhIHN0YXRlIHByb3BlcnR5IHRoYXQgbWlnaHQgYmUgYSBzdGF0ZSBvciBzdGF0ZSBuYW1lICovXG5UYXJnZXRTdGF0ZS5pc0RlZiA9IGZ1bmN0aW9uIChvYmopIHtcbiAgICByZXR1cm4gb2JqICYmIG9iai5zdGF0ZSAmJiAoaXNTdHJpbmcob2JqLnN0YXRlKSB8fCBpc1N0cmluZyhvYmouc3RhdGUubmFtZSkpO1xufTtcblxuLyoqXG4gKiBAY29yZWFwaVxuICogQG1vZHVsZSB0cmFuc2l0aW9uXG4gKi9cbi8qKiBmb3IgdHlwZWRvYyAqL1xudmFyIGRlZmF1bHRPcHRpb25zID0ge1xuICAgIGN1cnJlbnQ6IG5vb3AkMSxcbiAgICB0cmFuc2l0aW9uOiBudWxsLFxuICAgIHRyYWNlRGF0YToge30sXG4gICAgYmluZDogbnVsbCxcbn07XG4vKiogQGhpZGRlbiAqL1xudmFyIFRyYW5zaXRpb25Ib29rID0gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBUcmFuc2l0aW9uSG9vayh0cmFuc2l0aW9uLCBzdGF0ZUNvbnRleHQsIHJlZ2lzdGVyZWRIb29rLCBvcHRpb25zKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIHRoaXMudHJhbnNpdGlvbiA9IHRyYW5zaXRpb247XG4gICAgICAgIHRoaXMuc3RhdGVDb250ZXh0ID0gc3RhdGVDb250ZXh0O1xuICAgICAgICB0aGlzLnJlZ2lzdGVyZWRIb29rID0gcmVnaXN0ZXJlZEhvb2s7XG4gICAgICAgIHRoaXMub3B0aW9ucyA9IG9wdGlvbnM7XG4gICAgICAgIHRoaXMuaXNTdXBlcnNlZGVkID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIF90aGlzLnR5cGUuaG9va1BoYXNlID09PSBleHBvcnRzLlRyYW5zaXRpb25Ib29rUGhhc2UuUlVOICYmICFfdGhpcy5vcHRpb25zLnRyYW5zaXRpb24uaXNBY3RpdmUoKTtcbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy5vcHRpb25zID0gZGVmYXVsdHMob3B0aW9ucywgZGVmYXVsdE9wdGlvbnMpO1xuICAgICAgICB0aGlzLnR5cGUgPSByZWdpc3RlcmVkSG9vay5ldmVudFR5cGU7XG4gICAgfVxuICAgIFRyYW5zaXRpb25Ib29rLnByb3RvdHlwZS5sb2dFcnJvciA9IGZ1bmN0aW9uIChlcnIpIHtcbiAgICAgICAgdGhpcy50cmFuc2l0aW9uLnJvdXRlci5zdGF0ZVNlcnZpY2UuZGVmYXVsdEVycm9ySGFuZGxlcigpKGVycik7XG4gICAgfTtcbiAgICBUcmFuc2l0aW9uSG9vay5wcm90b3R5cGUuaW52b2tlSG9vayA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgdmFyIGhvb2sgPSB0aGlzLnJlZ2lzdGVyZWRIb29rO1xuICAgICAgICBpZiAoaG9vay5fZGVyZWdpc3RlcmVkKVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB2YXIgbm90Q3VycmVudCA9IHRoaXMuZ2V0Tm90Q3VycmVudFJlamVjdGlvbigpO1xuICAgICAgICBpZiAobm90Q3VycmVudClcbiAgICAgICAgICAgIHJldHVybiBub3RDdXJyZW50O1xuICAgICAgICB2YXIgb3B0aW9ucyA9IHRoaXMub3B0aW9ucztcbiAgICAgICAgdHJhY2UudHJhY2VIb29rSW52b2NhdGlvbih0aGlzLCB0aGlzLnRyYW5zaXRpb24sIG9wdGlvbnMpO1xuICAgICAgICB2YXIgaW52b2tlQ2FsbGJhY2sgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gaG9vay5jYWxsYmFjay5jYWxsKG9wdGlvbnMuYmluZCwgX3RoaXMudHJhbnNpdGlvbiwgX3RoaXMuc3RhdGVDb250ZXh0KTtcbiAgICAgICAgfTtcbiAgICAgICAgdmFyIG5vcm1hbGl6ZUVyciA9IGZ1bmN0aW9uIChlcnIpIHtcbiAgICAgICAgICAgIHJldHVybiBSZWplY3Rpb24ubm9ybWFsaXplKGVycikudG9Qcm9taXNlKCk7XG4gICAgICAgIH07XG4gICAgICAgIHZhciBoYW5kbGVFcnJvciA9IGZ1bmN0aW9uIChlcnIpIHtcbiAgICAgICAgICAgIHJldHVybiBob29rLmV2ZW50VHlwZS5nZXRFcnJvckhhbmRsZXIoX3RoaXMpKGVycik7XG4gICAgICAgIH07XG4gICAgICAgIHZhciBoYW5kbGVSZXN1bHQgPSBmdW5jdGlvbiAocmVzdWx0KSB7XG4gICAgICAgICAgICByZXR1cm4gaG9vay5ldmVudFR5cGUuZ2V0UmVzdWx0SGFuZGxlcihfdGhpcykocmVzdWx0KTtcbiAgICAgICAgfTtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIHZhciByZXN1bHQgPSBpbnZva2VDYWxsYmFjaygpO1xuICAgICAgICAgICAgaWYgKCF0aGlzLnR5cGUuc3luY2hyb25vdXMgJiYgaXNQcm9taXNlKHJlc3VsdCkpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gcmVzdWx0LmNhdGNoKG5vcm1hbGl6ZUVycilcbiAgICAgICAgICAgICAgICAgICAgLnRoZW4oaGFuZGxlUmVzdWx0LCBoYW5kbGVFcnJvcik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gaGFuZGxlUmVzdWx0KHJlc3VsdCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2ggKGVycikge1xuICAgICAgICAgICAgLy8gSWYgY2FsbGJhY2sgdGhyb3dzIChzeW5jaHJvbm91c2x5KVxuICAgICAgICAgICAgcmV0dXJuIGhhbmRsZUVycm9yKFJlamVjdGlvbi5ub3JtYWxpemUoZXJyKSk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIGhhbmRsZXMgdGhlIHJldHVybiB2YWx1ZSBvZiBhIFRyYW5zaXRpb24gSG9vay5cbiAgICAgKlxuICAgICAqIEEgaG9vayBjYW4gcmV0dXJuIGZhbHNlIChjYW5jZWwpLCBhIFRhcmdldFN0YXRlIChyZWRpcmVjdCksXG4gICAgICogb3IgYSBwcm9taXNlICh3aGljaCBtYXkgbGF0ZXIgcmVzb2x2ZSB0byBmYWxzZSBvciBhIHJlZGlyZWN0KVxuICAgICAqXG4gICAgICogVGhpcyBhbHNvIGhhbmRsZXMgXCJ0cmFuc2l0aW9uIHN1cGVyc2VkZWRcIiAtLSB3aGVuIGEgbmV3IHRyYW5zaXRpb25cbiAgICAgKiB3YXMgc3RhcnRlZCB3aGlsZSB0aGUgaG9vayB3YXMgc3RpbGwgcnVubmluZ1xuICAgICAqL1xuICAgIFRyYW5zaXRpb25Ib29rLnByb3RvdHlwZS5oYW5kbGVIb29rUmVzdWx0ID0gZnVuY3Rpb24gKHJlc3VsdCkge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICB2YXIgbm90Q3VycmVudCA9IHRoaXMuZ2V0Tm90Q3VycmVudFJlamVjdGlvbigpO1xuICAgICAgICBpZiAobm90Q3VycmVudClcbiAgICAgICAgICAgIHJldHVybiBub3RDdXJyZW50O1xuICAgICAgICAvLyBIb29rIHJldHVybmVkIGEgcHJvbWlzZVxuICAgICAgICBpZiAoaXNQcm9taXNlKHJlc3VsdCkpIHtcbiAgICAgICAgICAgIC8vIFdhaXQgZm9yIHRoZSBwcm9taXNlLCB0aGVuIHJlcHJvY2VzcyB3aXRoIHRoZSByZXN1bHRpbmcgdmFsdWVcbiAgICAgICAgICAgIHJldHVybiByZXN1bHQudGhlbihmdW5jdGlvbiAodmFsJCQxKSB7IHJldHVybiBfdGhpcy5oYW5kbGVIb29rUmVzdWx0KHZhbCQkMSk7IH0pO1xuICAgICAgICB9XG4gICAgICAgIHRyYWNlLnRyYWNlSG9va1Jlc3VsdChyZXN1bHQsIHRoaXMudHJhbnNpdGlvbiwgdGhpcy5vcHRpb25zKTtcbiAgICAgICAgLy8gSG9vayByZXR1cm5lZCBmYWxzZVxuICAgICAgICBpZiAocmVzdWx0ID09PSBmYWxzZSkge1xuICAgICAgICAgICAgLy8gQWJvcnQgdGhpcyBUcmFuc2l0aW9uXG4gICAgICAgICAgICByZXR1cm4gUmVqZWN0aW9uLmFib3J0ZWQoXCJIb29rIGFib3J0ZWQgdHJhbnNpdGlvblwiKS50b1Byb21pc2UoKTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgaXNUYXJnZXRTdGF0ZSA9IGlzKFRhcmdldFN0YXRlKTtcbiAgICAgICAgLy8gaG9vayByZXR1cm5lZCBhIFRhcmdldFN0YXRlXG4gICAgICAgIGlmIChpc1RhcmdldFN0YXRlKHJlc3VsdCkpIHtcbiAgICAgICAgICAgIC8vIEhhbHQgdGhlIGN1cnJlbnQgVHJhbnNpdGlvbiBhbmQgcmVkaXJlY3QgKGEgbmV3IFRyYW5zaXRpb24pIHRvIHRoZSBUYXJnZXRTdGF0ZS5cbiAgICAgICAgICAgIHJldHVybiBSZWplY3Rpb24ucmVkaXJlY3RlZChyZXN1bHQpLnRvUHJvbWlzZSgpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBSZXR1cm4gYSBSZWplY3Rpb24gcHJvbWlzZSBpZiB0aGUgdHJhbnNpdGlvbiBpcyBubyBsb25nZXIgY3VycmVudCBkdWVcbiAgICAgKiB0byBhIHN0b3BwZWQgcm91dGVyIChkaXNwb3NlZCksIG9yIGEgbmV3IHRyYW5zaXRpb24gaGFzIHN0YXJ0ZWQgYW5kIHN1cGVyc2VkZWQgdGhpcyBvbmUuXG4gICAgICovXG4gICAgVHJhbnNpdGlvbkhvb2sucHJvdG90eXBlLmdldE5vdEN1cnJlbnRSZWplY3Rpb24gPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciByb3V0ZXIgPSB0aGlzLnRyYW5zaXRpb24ucm91dGVyO1xuICAgICAgICAvLyBUaGUgcm91dGVyIGlzIHN0b3BwZWRcbiAgICAgICAgaWYgKHJvdXRlci5fZGlzcG9zZWQpIHtcbiAgICAgICAgICAgIHJldHVybiBSZWplY3Rpb24uYWJvcnRlZChcIlVJUm91dGVyIGluc3RhbmNlICNcIiArIHJvdXRlci4kaWQgKyBcIiBoYXMgYmVlbiBzdG9wcGVkIChkaXNwb3NlZClcIikudG9Qcm9taXNlKCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMudHJhbnNpdGlvbi5fYWJvcnRlZCkge1xuICAgICAgICAgICAgcmV0dXJuIFJlamVjdGlvbi5hYm9ydGVkKCkudG9Qcm9taXNlKCk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gVGhpcyB0cmFuc2l0aW9uIGlzIG5vIGxvbmdlciBjdXJyZW50LlxuICAgICAgICAvLyBBbm90aGVyIHRyYW5zaXRpb24gc3RhcnRlZCB3aGlsZSB0aGlzIGhvb2sgd2FzIHN0aWxsIHJ1bm5pbmcuXG4gICAgICAgIGlmICh0aGlzLmlzU3VwZXJzZWRlZCgpKSB7XG4gICAgICAgICAgICAvLyBBYm9ydCB0aGlzIHRyYW5zaXRpb25cbiAgICAgICAgICAgIHJldHVybiBSZWplY3Rpb24uc3VwZXJzZWRlZCh0aGlzLm9wdGlvbnMuY3VycmVudCgpKS50b1Byb21pc2UoKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgVHJhbnNpdGlvbkhvb2sucHJvdG90eXBlLnRvU3RyaW5nID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgX2EgPSB0aGlzLCBvcHRpb25zID0gX2Eub3B0aW9ucywgcmVnaXN0ZXJlZEhvb2sgPSBfYS5yZWdpc3RlcmVkSG9vaztcbiAgICAgICAgdmFyIGV2ZW50ID0gcGFyc2UoXCJ0cmFjZURhdGEuaG9va1R5cGVcIikob3B0aW9ucykgfHwgXCJpbnRlcm5hbFwiLCBjb250ZXh0ID0gcGFyc2UoXCJ0cmFjZURhdGEuY29udGV4dC5zdGF0ZS5uYW1lXCIpKG9wdGlvbnMpIHx8IHBhcnNlKFwidHJhY2VEYXRhLmNvbnRleHRcIikob3B0aW9ucykgfHwgXCJ1bmtub3duXCIsIG5hbWUgPSBmblRvU3RyaW5nKHJlZ2lzdGVyZWRIb29rLmNhbGxiYWNrKTtcbiAgICAgICAgcmV0dXJuIGV2ZW50ICsgXCIgY29udGV4dDogXCIgKyBjb250ZXh0ICsgXCIsIFwiICsgbWF4TGVuZ3RoKDIwMCwgbmFtZSk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBDaGFpbnMgdG9nZXRoZXIgYW4gYXJyYXkgb2YgVHJhbnNpdGlvbkhvb2tzLlxuICAgICAqXG4gICAgICogR2l2ZW4gYSBsaXN0IG9mIFtbVHJhbnNpdGlvbkhvb2tdXSBvYmplY3RzLCBjaGFpbnMgdGhlbSB0b2dldGhlci5cbiAgICAgKiBFYWNoIGhvb2sgaXMgaW52b2tlZCBhZnRlciB0aGUgcHJldmlvdXMgb25lIGNvbXBsZXRlcy5cbiAgICAgKlxuICAgICAqICMjIyMgRXhhbXBsZTpcbiAgICAgKiBgYGBqc1xuICAgICAqIHZhciBob29rczogVHJhbnNpdGlvbkhvb2tbXSA9IGdldEhvb2tzKCk7XG4gICAgICogbGV0IHByb21pc2U6IFByb21pc2U8YW55PiA9IFRyYW5zaXRpb25Ib29rLmNoYWluKGhvb2tzKTtcbiAgICAgKlxuICAgICAqIHByb21pc2UudGhlbihoYW5kbGVTdWNjZXNzLCBoYW5kbGVFcnJvcik7XG4gICAgICogYGBgXG4gICAgICpcbiAgICAgKiBAcGFyYW0gaG9va3MgdGhlIGxpc3Qgb2YgaG9va3MgdG8gY2hhaW4gdG9nZXRoZXJcbiAgICAgKiBAcGFyYW0gd2FpdEZvciBpZiBwcm92aWRlZCwgdGhlIGNoYWluIGlzIGAudGhlbigpYCdlZCBvZmYgdGhpcyBwcm9taXNlXG4gICAgICogQHJldHVybnMgYSBgUHJvbWlzZWAgZm9yIHNlcXVlbnRpYWxseSBpbnZva2luZyB0aGUgaG9va3MgKGluIG9yZGVyKVxuICAgICAqL1xuICAgIFRyYW5zaXRpb25Ib29rLmNoYWluID0gZnVuY3Rpb24gKGhvb2tzLCB3YWl0Rm9yKSB7XG4gICAgICAgIC8vIENoYWluIHRoZSBuZXh0IGhvb2sgb2ZmIHRoZSBwcmV2aW91c1xuICAgICAgICB2YXIgY3JlYXRlSG9va0NoYWluUiA9IGZ1bmN0aW9uIChwcmV2LCBuZXh0SG9vaykge1xuICAgICAgICAgICAgcmV0dXJuIHByZXYudGhlbihmdW5jdGlvbiAoKSB7IHJldHVybiBuZXh0SG9vay5pbnZva2VIb29rKCk7IH0pO1xuICAgICAgICB9O1xuICAgICAgICByZXR1cm4gaG9va3MucmVkdWNlKGNyZWF0ZUhvb2tDaGFpblIsIHdhaXRGb3IgfHwgc2VydmljZXMuJHEud2hlbigpKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEludm9rZXMgYWxsIHRoZSBwcm92aWRlZCBUcmFuc2l0aW9uSG9va3MsIGluIG9yZGVyLlxuICAgICAqIEVhY2ggaG9vaydzIHJldHVybiB2YWx1ZSBpcyBjaGVja2VkLlxuICAgICAqIElmIGFueSBob29rIHJldHVybnMgYSBwcm9taXNlLCB0aGVuIHRoZSByZXN0IG9mIHRoZSBob29rcyBhcmUgY2hhaW5lZCBvZmYgdGhhdCBwcm9taXNlLCBhbmQgdGhlIHByb21pc2UgaXMgcmV0dXJuZWQuXG4gICAgICogSWYgbm8gaG9vayByZXR1cm5zIGEgcHJvbWlzZSwgdGhlbiBhbGwgaG9va3MgYXJlIHByb2Nlc3NlZCBzeW5jaHJvbm91c2x5LlxuICAgICAqXG4gICAgICogQHBhcmFtIGhvb2tzIHRoZSBsaXN0IG9mIFRyYW5zaXRpb25Ib29rcyB0byBpbnZva2VcbiAgICAgKiBAcGFyYW0gZG9uZUNhbGxiYWNrIGEgY2FsbGJhY2sgdGhhdCBpcyBpbnZva2VkIGFmdGVyIGFsbCB0aGUgaG9va3MgaGF2ZSBzdWNjZXNzZnVsbHkgY29tcGxldGVkXG4gICAgICpcbiAgICAgKiBAcmV0dXJucyBhIHByb21pc2UgZm9yIHRoZSBhc3luYyByZXN1bHQsIG9yIHRoZSByZXN1bHQgb2YgdGhlIGNhbGxiYWNrXG4gICAgICovXG4gICAgVHJhbnNpdGlvbkhvb2suaW52b2tlSG9va3MgPSBmdW5jdGlvbiAoaG9va3MsIGRvbmVDYWxsYmFjaykge1xuICAgICAgICBmb3IgKHZhciBpZHggPSAwOyBpZHggPCBob29rcy5sZW5ndGg7IGlkeCsrKSB7XG4gICAgICAgICAgICB2YXIgaG9va1Jlc3VsdCA9IGhvb2tzW2lkeF0uaW52b2tlSG9vaygpO1xuICAgICAgICAgICAgaWYgKGlzUHJvbWlzZShob29rUmVzdWx0KSkge1xuICAgICAgICAgICAgICAgIHZhciByZW1haW5pbmdIb29rcyA9IGhvb2tzLnNsaWNlKGlkeCArIDEpO1xuICAgICAgICAgICAgICAgIHJldHVybiBUcmFuc2l0aW9uSG9vay5jaGFpbihyZW1haW5pbmdIb29rcywgaG9va1Jlc3VsdClcbiAgICAgICAgICAgICAgICAgICAgLnRoZW4oZG9uZUNhbGxiYWNrKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZG9uZUNhbGxiYWNrKCk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBSdW4gYWxsIFRyYW5zaXRpb25Ib29rcywgaWdub3JpbmcgdGhlaXIgcmV0dXJuIHZhbHVlLlxuICAgICAqL1xuICAgIFRyYW5zaXRpb25Ib29rLnJ1bkFsbEhvb2tzID0gZnVuY3Rpb24gKGhvb2tzKSB7XG4gICAgICAgIGhvb2tzLmZvckVhY2goZnVuY3Rpb24gKGhvb2spIHsgcmV0dXJuIGhvb2suaW52b2tlSG9vaygpOyB9KTtcbiAgICB9O1xuICAgIHJldHVybiBUcmFuc2l0aW9uSG9vaztcbn0oKSk7XG4vKipcbiAqIFRoZXNlIEdldFJlc3VsdEhhbmRsZXIocykgYXJlIHVzZWQgYnkgW1tpbnZva2VIb29rXV0gYmVsb3dcbiAqIEVhY2ggSG9va1R5cGUgY2hvb3NlcyBhIEdldFJlc3VsdEhhbmRsZXIgKFNlZTogW1tUcmFuc2l0aW9uU2VydmljZS5fZGVmaW5lQ29yZUV2ZW50c11dKVxuICovXG5UcmFuc2l0aW9uSG9vay5IQU5ETEVfUkVTVUxUID0gZnVuY3Rpb24gKGhvb2spIHsgcmV0dXJuIGZ1bmN0aW9uIChyZXN1bHQpIHtcbiAgICByZXR1cm4gaG9vay5oYW5kbGVIb29rUmVzdWx0KHJlc3VsdCk7XG59OyB9O1xuLyoqXG4gKiBJZiB0aGUgcmVzdWx0IGlzIGEgcHJvbWlzZSByZWplY3Rpb24sIGxvZyBpdC5cbiAqIE90aGVyd2lzZSwgaWdub3JlIHRoZSByZXN1bHQuXG4gKi9cblRyYW5zaXRpb25Ib29rLkxPR19SRUpFQ1RFRF9SRVNVTFQgPSBmdW5jdGlvbiAoaG9vaykgeyByZXR1cm4gZnVuY3Rpb24gKHJlc3VsdCkge1xuICAgIGlzUHJvbWlzZShyZXN1bHQpICYmIHJlc3VsdC5jYXRjaChmdW5jdGlvbiAoZXJyKSB7XG4gICAgICAgIHJldHVybiBob29rLmxvZ0Vycm9yKFJlamVjdGlvbi5ub3JtYWxpemUoZXJyKSk7XG4gICAgfSk7XG4gICAgcmV0dXJuIHVuZGVmaW5lZDtcbn07IH07XG4vKipcbiAqIFRoZXNlIEdldEVycm9ySGFuZGxlcihzKSBhcmUgdXNlZCBieSBbW2ludm9rZUhvb2tdXSBiZWxvd1xuICogRWFjaCBIb29rVHlwZSBjaG9vc2VzIGEgR2V0RXJyb3JIYW5kbGVyIChTZWU6IFtbVHJhbnNpdGlvblNlcnZpY2UuX2RlZmluZUNvcmVFdmVudHNdXSlcbiAqL1xuVHJhbnNpdGlvbkhvb2suTE9HX0VSUk9SID0gZnVuY3Rpb24gKGhvb2spIHsgcmV0dXJuIGZ1bmN0aW9uIChlcnJvcikge1xuICAgIHJldHVybiBob29rLmxvZ0Vycm9yKGVycm9yKTtcbn07IH07XG5UcmFuc2l0aW9uSG9vay5SRUpFQ1RfRVJST1IgPSBmdW5jdGlvbiAoaG9vaykgeyByZXR1cm4gZnVuY3Rpb24gKGVycm9yKSB7XG4gICAgcmV0dXJuIHNpbGVudFJlamVjdGlvbihlcnJvcik7XG59OyB9O1xuVHJhbnNpdGlvbkhvb2suVEhST1dfRVJST1IgPSBmdW5jdGlvbiAoaG9vaykgeyByZXR1cm4gZnVuY3Rpb24gKGVycm9yKSB7XG4gICAgdGhyb3cgZXJyb3I7XG59OyB9O1xuXG4vKipcbiAqIEBjb3JlYXBpXG4gKiBAbW9kdWxlIHRyYW5zaXRpb25cbiAqLyAvKiogZm9yIHR5cGVkb2MgKi9cbi8qKlxuICogRGV0ZXJtaW5lcyBpZiB0aGUgZ2l2ZW4gc3RhdGUgbWF0Y2hlcyB0aGUgbWF0Y2hDcml0ZXJpYVxuICpcbiAqIEBoaWRkZW5cbiAqXG4gKiBAcGFyYW0gc3RhdGUgYSBTdGF0ZSBPYmplY3QgdG8gdGVzdCBhZ2FpbnN0XG4gKiBAcGFyYW0gY3JpdGVyaW9uXG4gKiAtIElmIGEgc3RyaW5nLCBtYXRjaFN0YXRlIHVzZXMgdGhlIHN0cmluZyBhcyBhIGdsb2ItbWF0Y2hlciBhZ2FpbnN0IHRoZSBzdGF0ZSBuYW1lXG4gKiAtIElmIGFuIGFycmF5IChvZiBzdHJpbmdzKSwgbWF0Y2hTdGF0ZSB1c2VzIGVhY2ggc3RyaW5nIGluIHRoZSBhcnJheSBhcyBhIGdsb2ItbWF0Y2hlcnMgYWdhaW5zdCB0aGUgc3RhdGUgbmFtZVxuICogICBhbmQgcmV0dXJucyBhIHBvc2l0aXZlIG1hdGNoIGlmIGFueSBvZiB0aGUgZ2xvYnMgbWF0Y2guXG4gKiAtIElmIGEgZnVuY3Rpb24sIG1hdGNoU3RhdGUgY2FsbHMgdGhlIGZ1bmN0aW9uIHdpdGggdGhlIHN0YXRlIGFuZCByZXR1cm5zIHRydWUgaWYgdGhlIGZ1bmN0aW9uJ3MgcmVzdWx0IGlzIHRydXRoeS5cbiAqIEByZXR1cm5zIHtib29sZWFufVxuICovXG5mdW5jdGlvbiBtYXRjaFN0YXRlKHN0YXRlLCBjcml0ZXJpb24pIHtcbiAgICB2YXIgdG9NYXRjaCA9IGlzU3RyaW5nKGNyaXRlcmlvbikgPyBbY3JpdGVyaW9uXSA6IGNyaXRlcmlvbjtcbiAgICBmdW5jdGlvbiBtYXRjaEdsb2JzKF9zdGF0ZSkge1xuICAgICAgICB2YXIgZ2xvYlN0cmluZ3MgPSB0b01hdGNoO1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGdsb2JTdHJpbmdzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICB2YXIgZ2xvYiA9IG5ldyBHbG9iKGdsb2JTdHJpbmdzW2ldKTtcbiAgICAgICAgICAgIGlmICgoZ2xvYiAmJiBnbG9iLm1hdGNoZXMoX3N0YXRlLm5hbWUpKSB8fCAoIWdsb2IgJiYgZ2xvYlN0cmluZ3NbaV0gPT09IF9zdGF0ZS5uYW1lKSkge1xuICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgdmFyIG1hdGNoRm4gPSAoaXNGdW5jdGlvbih0b01hdGNoKSA/IHRvTWF0Y2ggOiBtYXRjaEdsb2JzKTtcbiAgICByZXR1cm4gISFtYXRjaEZuKHN0YXRlKTtcbn1cbi8qKlxuICogQGludGVybmFsYXBpXG4gKiBUaGUgcmVnaXN0cmF0aW9uIGRhdGEgZm9yIGEgcmVnaXN0ZXJlZCB0cmFuc2l0aW9uIGhvb2tcbiAqL1xudmFyIFJlZ2lzdGVyZWRIb29rID0gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBSZWdpc3RlcmVkSG9vayh0cmFuU3ZjLCBldmVudFR5cGUsIGNhbGxiYWNrLCBtYXRjaENyaXRlcmlhLCBvcHRpb25zKSB7XG4gICAgICAgIGlmIChvcHRpb25zID09PSB2b2lkIDApIHsgb3B0aW9ucyA9IHt9OyB9XG4gICAgICAgIHRoaXMudHJhblN2YyA9IHRyYW5TdmM7XG4gICAgICAgIHRoaXMuZXZlbnRUeXBlID0gZXZlbnRUeXBlO1xuICAgICAgICB0aGlzLmNhbGxiYWNrID0gY2FsbGJhY2s7XG4gICAgICAgIHRoaXMubWF0Y2hDcml0ZXJpYSA9IG1hdGNoQ3JpdGVyaWE7XG4gICAgICAgIHRoaXMucHJpb3JpdHkgPSBvcHRpb25zLnByaW9yaXR5IHx8IDA7XG4gICAgICAgIHRoaXMuYmluZCA9IG9wdGlvbnMuYmluZCB8fCBudWxsO1xuICAgICAgICB0aGlzLl9kZXJlZ2lzdGVyZWQgPSBmYWxzZTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogR2V0cyB0aGUgbWF0Y2hpbmcgW1tQYXRoTm9kZV1dc1xuICAgICAqXG4gICAgICogR2l2ZW4gYW4gYXJyYXkgb2YgW1tQYXRoTm9kZV1dcywgYW5kIGEgW1tIb29rTWF0Y2hDcml0ZXJpb25dXSwgcmV0dXJucyBhbiBhcnJheSBjb250YWluaW5nXG4gICAgICogdGhlIFtbUGF0aE5vZGVdXXMgdGhhdCB0aGUgY3JpdGVyaWEgbWF0Y2hlcywgb3IgYG51bGxgIGlmIHRoZXJlIHdlcmUgbm8gbWF0Y2hpbmcgbm9kZXMuXG4gICAgICpcbiAgICAgKiBSZXR1cm5pbmcgYG51bGxgIGlzIHNpZ25pZmljYW50IHRvIGRpc3Rpbmd1aXNoIGJldHdlZW4gdGhlIGRlZmF1bHRcbiAgICAgKiBcIm1hdGNoLWFsbCBjcml0ZXJpb24gdmFsdWVcIiBvZiBgdHJ1ZWAgY29tcGFyZWQgdG8gYSBgKCkgPT4gdHJ1ZWAgZnVuY3Rpb24sXG4gICAgICogd2hlbiB0aGUgbm9kZXMgaXMgYW4gZW1wdHkgYXJyYXkuXG4gICAgICpcbiAgICAgKiBUaGlzIGlzIHVzZWZ1bCB0byBhbGxvdyBhIHRyYW5zaXRpb24gbWF0Y2ggY3JpdGVyaWEgb2YgYGVudGVyaW5nOiB0cnVlYFxuICAgICAqIHRvIHN0aWxsIG1hdGNoIGEgdHJhbnNpdGlvbiwgZXZlbiB3aGVuIGBlbnRlcmluZyA9PT0gW11gLiAgQ29udHJhc3QgdGhhdFxuICAgICAqIHdpdGggYGVudGVyaW5nOiAoc3RhdGUpID0+IHRydWVgIHdoaWNoIG9ubHkgbWF0Y2hlcyB3aGVuIGEgc3RhdGUgaXMgYWN0dWFsbHlcbiAgICAgKiBiZWluZyBlbnRlcmVkLlxuICAgICAqL1xuICAgIFJlZ2lzdGVyZWRIb29rLnByb3RvdHlwZS5fbWF0Y2hpbmdOb2RlcyA9IGZ1bmN0aW9uIChub2RlcywgY3JpdGVyaW9uKSB7XG4gICAgICAgIGlmIChjcml0ZXJpb24gPT09IHRydWUpXG4gICAgICAgICAgICByZXR1cm4gbm9kZXM7XG4gICAgICAgIHZhciBtYXRjaGluZyA9IG5vZGVzLmZpbHRlcihmdW5jdGlvbiAobm9kZSkgeyByZXR1cm4gbWF0Y2hTdGF0ZShub2RlLnN0YXRlLCBjcml0ZXJpb24pOyB9KTtcbiAgICAgICAgcmV0dXJuIG1hdGNoaW5nLmxlbmd0aCA/IG1hdGNoaW5nIDogbnVsbDtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEdldHMgdGhlIGRlZmF1bHQgbWF0Y2ggY3JpdGVyaWEgKGFsbCBgdHJ1ZWApXG4gICAgICpcbiAgICAgKiBSZXR1cm5zIGFuIG9iamVjdCB3aGljaCBoYXMgYWxsIHRoZSBjcml0ZXJpYSBtYXRjaCBwYXRocyBhcyBrZXlzIGFuZCBgdHJ1ZWAgYXMgdmFsdWVzLCBpLmUuOlxuICAgICAqXG4gICAgICogYGBganNcbiAgICAgKiB7XG4gICAgICogICB0bzogdHJ1ZSxcbiAgICAgKiAgIGZyb206IHRydWUsXG4gICAgICogICBlbnRlcmluZzogdHJ1ZSxcbiAgICAgKiAgIGV4aXRpbmc6IHRydWUsXG4gICAgICogICByZXRhaW5lZDogdHJ1ZSxcbiAgICAgKiB9XG4gICAgICovXG4gICAgUmVnaXN0ZXJlZEhvb2sucHJvdG90eXBlLl9nZXREZWZhdWx0TWF0Y2hDcml0ZXJpYSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIG1hcCh0aGlzLnRyYW5TdmMuX3BsdWdpbmFwaS5fZ2V0UGF0aFR5cGVzKCksIGZ1bmN0aW9uICgpIHsgcmV0dXJuIHRydWU7IH0pO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogR2V0cyBtYXRjaGluZyBub2RlcyBhcyBbW0lNYXRjaGluZ05vZGVzXV1cbiAgICAgKlxuICAgICAqIENyZWF0ZSBhIElNYXRjaGluZ05vZGVzIG9iamVjdCBmcm9tIHRoZSBUcmFuc2l0aW9uSG9va1R5cGVzIHRoYXQgaXMgcm91Z2hseSBlcXVpdmFsZW50IHRvOlxuICAgICAqXG4gICAgICogYGBganNcbiAgICAgKiBsZXQgbWF0Y2hlczogSU1hdGNoaW5nTm9kZXMgPSB7XG4gICAgICogICB0bzogICAgICAgX21hdGNoaW5nTm9kZXMoW3RhaWwodHJlZUNoYW5nZXMudG8pXSwgICBtYy50byksXG4gICAgICogICBmcm9tOiAgICAgX21hdGNoaW5nTm9kZXMoW3RhaWwodHJlZUNoYW5nZXMuZnJvbSldLCBtYy5mcm9tKSxcbiAgICAgKiAgIGV4aXRpbmc6ICBfbWF0Y2hpbmdOb2Rlcyh0cmVlQ2hhbmdlcy5leGl0aW5nLCAgICAgIG1jLmV4aXRpbmcpLFxuICAgICAqICAgcmV0YWluZWQ6IF9tYXRjaGluZ05vZGVzKHRyZWVDaGFuZ2VzLnJldGFpbmVkLCAgICAgbWMucmV0YWluZWQpLFxuICAgICAqICAgZW50ZXJpbmc6IF9tYXRjaGluZ05vZGVzKHRyZWVDaGFuZ2VzLmVudGVyaW5nLCAgICAgbWMuZW50ZXJpbmcpLFxuICAgICAqIH07XG4gICAgICogYGBgXG4gICAgICovXG4gICAgUmVnaXN0ZXJlZEhvb2sucHJvdG90eXBlLl9nZXRNYXRjaGluZ05vZGVzID0gZnVuY3Rpb24gKHRyZWVDaGFuZ2VzKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIHZhciBjcml0ZXJpYSA9IGV4dGVuZCh0aGlzLl9nZXREZWZhdWx0TWF0Y2hDcml0ZXJpYSgpLCB0aGlzLm1hdGNoQ3JpdGVyaWEpO1xuICAgICAgICB2YXIgcGF0aHMgPSB2YWx1ZXModGhpcy50cmFuU3ZjLl9wbHVnaW5hcGkuX2dldFBhdGhUeXBlcygpKTtcbiAgICAgICAgcmV0dXJuIHBhdGhzLnJlZHVjZShmdW5jdGlvbiAobW4sIHBhdGh0eXBlKSB7XG4gICAgICAgICAgICAvLyBTVEFURSBzY29wZSBjcml0ZXJpYSBtYXRjaGVzIGFnYWluc3QgZXZlcnkgbm9kZSBpbiB0aGUgcGF0aC5cbiAgICAgICAgICAgIC8vIFRSQU5TSVRJT04gc2NvcGUgY3JpdGVyaWEgbWF0Y2hlcyBhZ2FpbnN0IG9ubHkgdGhlIGxhc3Qgbm9kZSBpbiB0aGUgcGF0aFxuICAgICAgICAgICAgdmFyIGlzU3RhdGVIb29rID0gcGF0aHR5cGUuc2NvcGUgPT09IGV4cG9ydHMuVHJhbnNpdGlvbkhvb2tTY29wZS5TVEFURTtcbiAgICAgICAgICAgIHZhciBwYXRoID0gdHJlZUNoYW5nZXNbcGF0aHR5cGUubmFtZV0gfHwgW107XG4gICAgICAgICAgICB2YXIgbm9kZXMgPSBpc1N0YXRlSG9vayA/IHBhdGggOiBbdGFpbChwYXRoKV07XG4gICAgICAgICAgICBtbltwYXRodHlwZS5uYW1lXSA9IF90aGlzLl9tYXRjaGluZ05vZGVzKG5vZGVzLCBjcml0ZXJpYVtwYXRodHlwZS5uYW1lXSk7XG4gICAgICAgICAgICByZXR1cm4gbW47XG4gICAgICAgIH0sIHt9KTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIERldGVybWluZXMgaWYgdGhpcyBob29rJ3MgW1ttYXRjaENyaXRlcmlhXV0gbWF0Y2ggdGhlIGdpdmVuIFtbVHJlZUNoYW5nZXNdXVxuICAgICAqXG4gICAgICogQHJldHVybnMgYW4gSU1hdGNoaW5nTm9kZXMgb2JqZWN0LCBvciBudWxsLiBJZiBhbiBJTWF0Y2hpbmdOb2RlcyBvYmplY3QgaXMgcmV0dXJuZWQsIGl0cyB2YWx1ZXNcbiAgICAgKiBhcmUgdGhlIG1hdGNoaW5nIFtbUGF0aE5vZGVdXXMgZm9yIGVhY2ggW1tIb29rTWF0Y2hDcml0ZXJpb25dXSAodG8sIGZyb20sIGV4aXRpbmcsIHJldGFpbmVkLCBlbnRlcmluZylcbiAgICAgKi9cbiAgICBSZWdpc3RlcmVkSG9vay5wcm90b3R5cGUubWF0Y2hlcyA9IGZ1bmN0aW9uICh0cmVlQ2hhbmdlcykge1xuICAgICAgICB2YXIgbWF0Y2hlcyA9IHRoaXMuX2dldE1hdGNoaW5nTm9kZXModHJlZUNoYW5nZXMpO1xuICAgICAgICAvLyBDaGVjayBpZiBhbGwgdGhlIGNyaXRlcmlhIG1hdGNoZWQgdGhlIFRyZWVDaGFuZ2VzIG9iamVjdFxuICAgICAgICB2YXIgYWxsTWF0Y2hlZCA9IHZhbHVlcyhtYXRjaGVzKS5ldmVyeShpZGVudGl0eSk7XG4gICAgICAgIHJldHVybiBhbGxNYXRjaGVkID8gbWF0Y2hlcyA6IG51bGw7XG4gICAgfTtcbiAgICByZXR1cm4gUmVnaXN0ZXJlZEhvb2s7XG59KCkpO1xuLyoqIEBoaWRkZW4gUmV0dXJuIGEgcmVnaXN0cmF0aW9uIGZ1bmN0aW9uIG9mIHRoZSByZXF1ZXN0ZWQgdHlwZS4gKi9cbmZ1bmN0aW9uIG1ha2VFdmVudChyZWdpc3RyeSwgdHJhbnNpdGlvblNlcnZpY2UsIGV2ZW50VHlwZSkge1xuICAgIC8vIENyZWF0ZSB0aGUgb2JqZWN0IHdoaWNoIGhvbGRzIHRoZSByZWdpc3RlcmVkIHRyYW5zaXRpb24gaG9va3MuXG4gICAgdmFyIF9yZWdpc3RlcmVkSG9va3MgPSByZWdpc3RyeS5fcmVnaXN0ZXJlZEhvb2tzID0gKHJlZ2lzdHJ5Ll9yZWdpc3RlcmVkSG9va3MgfHwge30pO1xuICAgIHZhciBob29rcyA9IF9yZWdpc3RlcmVkSG9va3NbZXZlbnRUeXBlLm5hbWVdID0gW107XG4gICAgLy8gQ3JlYXRlIGhvb2sgcmVnaXN0cmF0aW9uIGZ1bmN0aW9uIG9uIHRoZSBJSG9va1JlZ2lzdHJ5IGZvciB0aGUgZXZlbnRcbiAgICByZWdpc3RyeVtldmVudFR5cGUubmFtZV0gPSBob29rUmVnaXN0cmF0aW9uRm47XG4gICAgZnVuY3Rpb24gaG9va1JlZ2lzdHJhdGlvbkZuKG1hdGNoT2JqZWN0LCBjYWxsYmFjaywgb3B0aW9ucykge1xuICAgICAgICBpZiAob3B0aW9ucyA9PT0gdm9pZCAwKSB7IG9wdGlvbnMgPSB7fTsgfVxuICAgICAgICB2YXIgcmVnaXN0ZXJlZEhvb2sgPSBuZXcgUmVnaXN0ZXJlZEhvb2sodHJhbnNpdGlvblNlcnZpY2UsIGV2ZW50VHlwZSwgY2FsbGJhY2ssIG1hdGNoT2JqZWN0LCBvcHRpb25zKTtcbiAgICAgICAgaG9va3MucHVzaChyZWdpc3RlcmVkSG9vayk7XG4gICAgICAgIHJldHVybiBmdW5jdGlvbiBkZXJlZ2lzdGVyRXZlbnRIb29rKCkge1xuICAgICAgICAgICAgcmVnaXN0ZXJlZEhvb2suX2RlcmVnaXN0ZXJlZCA9IHRydWU7XG4gICAgICAgICAgICByZW1vdmVGcm9tKGhvb2tzKShyZWdpc3RlcmVkSG9vayk7XG4gICAgICAgIH07XG4gICAgfVxuICAgIHJldHVybiBob29rUmVnaXN0cmF0aW9uRm47XG59XG5cbi8qKlxuICogQGNvcmVhcGlcbiAqIEBtb2R1bGUgdHJhbnNpdGlvblxuICovIC8qKiBmb3IgdHlwZWRvYyAqL1xuLyoqXG4gKiBUaGlzIGNsYXNzIHJldHVybnMgYXBwbGljYWJsZSBUcmFuc2l0aW9uSG9va3MgZm9yIGEgc3BlY2lmaWMgVHJhbnNpdGlvbiBpbnN0YW5jZS5cbiAqXG4gKiBIb29rcyAoW1tSZWdpc3RlcmVkSG9va11dKSBtYXkgYmUgcmVnaXN0ZXJlZCBnbG9iYWxseSwgZS5nLiwgJHRyYW5zaXRpb25zLm9uRW50ZXIoLi4uKSwgb3IgbG9jYWxseSwgZS5nLlxuICogbXlUcmFuc2l0aW9uLm9uRW50ZXIoLi4uKS4gIFRoZSBIb29rQnVpbGRlciBmaW5kcyBtYXRjaGluZyBSZWdpc3RlcmVkSG9va3MgKHdoZXJlIHRoZSBtYXRjaCBjcml0ZXJpYSBpc1xuICogZGV0ZXJtaW5lZCBieSB0aGUgdHlwZSBvZiBob29rKVxuICpcbiAqIFRoZSBIb29rQnVpbGRlciBhbHNvIGNvbnZlcnRzIFJlZ2lzdGVyZWRIb29rcyBvYmplY3RzIHRvIFRyYW5zaXRpb25Ib29rIG9iamVjdHMsIHdoaWNoIGFyZSB1c2VkIHRvIHJ1biBhIFRyYW5zaXRpb24uXG4gKlxuICogVGhlIEhvb2tCdWlsZGVyIGNvbnN0cnVjdG9yIGlzIGdpdmVuIHRoZSAkdHJhbnNpdGlvbnMgc2VydmljZSBhbmQgYSBUcmFuc2l0aW9uIGluc3RhbmNlLiAgVGh1cywgYSBIb29rQnVpbGRlclxuICogaW5zdGFuY2UgbWF5IG9ubHkgYmUgdXNlZCBmb3Igb25lIHNwZWNpZmljIFRyYW5zaXRpb24gb2JqZWN0LiAoc2lkZSBub3RlOiB0aGUgX3RyZWVDaGFuZ2VzIGFjY2Vzc29yIGlzIHByaXZhdGVcbiAqIGluIHRoZSBUcmFuc2l0aW9uIGNsYXNzLCBzbyB3ZSBtdXN0IGFsc28gcHJvdmlkZSB0aGUgVHJhbnNpdGlvbidzIF90cmVlQ2hhbmdlcylcbiAqXG4gKi9cbnZhciBIb29rQnVpbGRlciA9IChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gSG9va0J1aWxkZXIodHJhbnNpdGlvbikge1xuICAgICAgICB0aGlzLnRyYW5zaXRpb24gPSB0cmFuc2l0aW9uO1xuICAgIH1cbiAgICBIb29rQnVpbGRlci5wcm90b3R5cGUuYnVpbGRIb29rc0ZvclBoYXNlID0gZnVuY3Rpb24gKHBoYXNlKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIHZhciAkdHJhbnNpdGlvbnMgPSB0aGlzLnRyYW5zaXRpb24ucm91dGVyLnRyYW5zaXRpb25TZXJ2aWNlO1xuICAgICAgICByZXR1cm4gJHRyYW5zaXRpb25zLl9wbHVnaW5hcGkuX2dldEV2ZW50cyhwaGFzZSlcbiAgICAgICAgICAgIC5tYXAoZnVuY3Rpb24gKHR5cGUpIHsgcmV0dXJuIF90aGlzLmJ1aWxkSG9va3ModHlwZSk7IH0pXG4gICAgICAgICAgICAucmVkdWNlKHVubmVzdFIsIFtdKVxuICAgICAgICAgICAgLmZpbHRlcihpZGVudGl0eSk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIGFuIGFycmF5IG9mIG5ld2x5IGJ1aWx0IFRyYW5zaXRpb25Ib29rIG9iamVjdHMuXG4gICAgICpcbiAgICAgKiAtIEZpbmRzIGFsbCBSZWdpc3RlcmVkSG9va3MgcmVnaXN0ZXJlZCBmb3IgdGhlIGdpdmVuIGBob29rVHlwZWAgd2hpY2ggbWF0Y2hlZCB0aGUgdHJhbnNpdGlvbidzIFtbVHJlZUNoYW5nZXNdXS5cbiAgICAgKiAtIEZpbmRzIFtbUGF0aE5vZGVdXSAob3IgYFBhdGhOb2RlW11gKSB0byB1c2UgYXMgdGhlIFRyYW5zaXRpb25Ib29rIGNvbnRleHQocylcbiAgICAgKiAtIEZvciBlYWNoIG9mIHRoZSBbW1BhdGhOb2RlXV1zLCBjcmVhdGVzIGEgVHJhbnNpdGlvbkhvb2tcbiAgICAgKlxuICAgICAqIEBwYXJhbSBob29rVHlwZSB0aGUgdHlwZSBvZiB0aGUgaG9vayByZWdpc3RyYXRpb24gZnVuY3Rpb24sIGUuZy4sICdvbkVudGVyJywgJ29uRmluaXNoJy5cbiAgICAgKi9cbiAgICBIb29rQnVpbGRlci5wcm90b3R5cGUuYnVpbGRIb29rcyA9IGZ1bmN0aW9uIChob29rVHlwZSkge1xuICAgICAgICB2YXIgdHJhbnNpdGlvbiA9IHRoaXMudHJhbnNpdGlvbjtcbiAgICAgICAgdmFyIHRyZWVDaGFuZ2VzID0gdHJhbnNpdGlvbi50cmVlQ2hhbmdlcygpO1xuICAgICAgICAvLyBGaW5kIGFsbCB0aGUgbWF0Y2hpbmcgcmVnaXN0ZXJlZCBob29rcyBmb3IgYSBnaXZlbiBob29rIHR5cGVcbiAgICAgICAgdmFyIG1hdGNoaW5nSG9va3MgPSB0aGlzLmdldE1hdGNoaW5nSG9va3MoaG9va1R5cGUsIHRyZWVDaGFuZ2VzKTtcbiAgICAgICAgaWYgKCFtYXRjaGluZ0hvb2tzKVxuICAgICAgICAgICAgcmV0dXJuIFtdO1xuICAgICAgICB2YXIgYmFzZUhvb2tPcHRpb25zID0ge1xuICAgICAgICAgICAgdHJhbnNpdGlvbjogdHJhbnNpdGlvbixcbiAgICAgICAgICAgIGN1cnJlbnQ6IHRyYW5zaXRpb24ub3B0aW9ucygpLmN1cnJlbnRcbiAgICAgICAgfTtcbiAgICAgICAgdmFyIG1ha2VUcmFuc2l0aW9uSG9va3MgPSBmdW5jdGlvbiAoaG9vaykge1xuICAgICAgICAgICAgLy8gRmV0Y2ggdGhlIE5vZGVzIHRoYXQgY2F1c2VkIHRoaXMgaG9vayB0byBtYXRjaC5cbiAgICAgICAgICAgIHZhciBtYXRjaGVzID0gaG9vay5tYXRjaGVzKHRyZWVDaGFuZ2VzKTtcbiAgICAgICAgICAgIC8vIFNlbGVjdCB0aGUgUGF0aE5vZGVbXSB0aGF0IHdpbGwgYmUgdXNlZCBhcyBUcmFuc2l0aW9uSG9vayBjb250ZXh0IG9iamVjdHNcbiAgICAgICAgICAgIHZhciBtYXRjaGluZ05vZGVzID0gbWF0Y2hlc1tob29rVHlwZS5jcml0ZXJpYU1hdGNoUGF0aC5uYW1lXTtcbiAgICAgICAgICAgIC8vIFJldHVybiBhbiBhcnJheSBvZiBIb29rVHVwbGVzXG4gICAgICAgICAgICByZXR1cm4gbWF0Y2hpbmdOb2Rlcy5tYXAoZnVuY3Rpb24gKG5vZGUpIHtcbiAgICAgICAgICAgICAgICB2YXIgX29wdGlvbnMgPSBleHRlbmQoe1xuICAgICAgICAgICAgICAgICAgICBiaW5kOiBob29rLmJpbmQsXG4gICAgICAgICAgICAgICAgICAgIHRyYWNlRGF0YTogeyBob29rVHlwZTogaG9va1R5cGUubmFtZSwgY29udGV4dDogbm9kZSB9XG4gICAgICAgICAgICAgICAgfSwgYmFzZUhvb2tPcHRpb25zKTtcbiAgICAgICAgICAgICAgICB2YXIgc3RhdGUgPSBob29rVHlwZS5jcml0ZXJpYU1hdGNoUGF0aC5zY29wZSA9PT0gZXhwb3J0cy5UcmFuc2l0aW9uSG9va1Njb3BlLlNUQVRFID8gbm9kZS5zdGF0ZS5zZWxmIDogbnVsbDtcbiAgICAgICAgICAgICAgICB2YXIgdHJhbnNpdGlvbkhvb2sgPSBuZXcgVHJhbnNpdGlvbkhvb2sodHJhbnNpdGlvbiwgc3RhdGUsIGhvb2ssIF9vcHRpb25zKTtcbiAgICAgICAgICAgICAgICByZXR1cm4geyBob29rOiBob29rLCBub2RlOiBub2RlLCB0cmFuc2l0aW9uSG9vazogdHJhbnNpdGlvbkhvb2sgfTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9O1xuICAgICAgICByZXR1cm4gbWF0Y2hpbmdIb29rcy5tYXAobWFrZVRyYW5zaXRpb25Ib29rcylcbiAgICAgICAgICAgIC5yZWR1Y2UodW5uZXN0UiwgW10pXG4gICAgICAgICAgICAuc29ydCh0dXBsZVNvcnQoaG9va1R5cGUucmV2ZXJzZVNvcnQpKVxuICAgICAgICAgICAgLm1hcChmdW5jdGlvbiAodHVwbGUpIHsgcmV0dXJuIHR1cGxlLnRyYW5zaXRpb25Ib29rOyB9KTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEZpbmRzIGFsbCBSZWdpc3RlcmVkSG9va3MgZnJvbTpcbiAgICAgKiAtIFRoZSBUcmFuc2l0aW9uIG9iamVjdCBpbnN0YW5jZSBob29rIHJlZ2lzdHJ5XG4gICAgICogLSBUaGUgVHJhbnNpdGlvblNlcnZpY2UgKCR0cmFuc2l0aW9ucykgZ2xvYmFsIGhvb2sgcmVnaXN0cnlcbiAgICAgKlxuICAgICAqIHdoaWNoIG1hdGNoZWQ6XG4gICAgICogLSB0aGUgZXZlbnRUeXBlXG4gICAgICogLSB0aGUgbWF0Y2hDcml0ZXJpYSAodG8sIGZyb20sIGV4aXRpbmcsIHJldGFpbmVkLCBlbnRlcmluZylcbiAgICAgKlxuICAgICAqIEByZXR1cm5zIGFuIGFycmF5IG9mIG1hdGNoZWQgW1tSZWdpc3RlcmVkSG9va11dc1xuICAgICAqL1xuICAgIEhvb2tCdWlsZGVyLnByb3RvdHlwZS5nZXRNYXRjaGluZ0hvb2tzID0gZnVuY3Rpb24gKGhvb2tUeXBlLCB0cmVlQ2hhbmdlcykge1xuICAgICAgICB2YXIgaXNDcmVhdGUgPSBob29rVHlwZS5ob29rUGhhc2UgPT09IGV4cG9ydHMuVHJhbnNpdGlvbkhvb2tQaGFzZS5DUkVBVEU7XG4gICAgICAgIC8vIEluc3RhbmNlIGFuZCBHbG9iYWwgaG9vayByZWdpc3RyaWVzXG4gICAgICAgIHZhciAkdHJhbnNpdGlvbnMgPSB0aGlzLnRyYW5zaXRpb24ucm91dGVyLnRyYW5zaXRpb25TZXJ2aWNlO1xuICAgICAgICB2YXIgcmVnaXN0cmllcyA9IGlzQ3JlYXRlID8gWyR0cmFuc2l0aW9uc10gOiBbdGhpcy50cmFuc2l0aW9uLCAkdHJhbnNpdGlvbnNdO1xuICAgICAgICByZXR1cm4gcmVnaXN0cmllcy5tYXAoZnVuY3Rpb24gKHJlZykgeyByZXR1cm4gcmVnLmdldEhvb2tzKGhvb2tUeXBlLm5hbWUpOyB9KSAvLyBHZXQgbmFtZWQgaG9va3MgZnJvbSByZWdpc3RyaWVzXG4gICAgICAgICAgICAuZmlsdGVyKGFzc2VydFByZWRpY2F0ZShpc0FycmF5LCBcImJyb2tlbiBldmVudCBuYW1lZDogXCIgKyBob29rVHlwZS5uYW1lKSkgLy8gU2FuaXR5IGNoZWNrXG4gICAgICAgICAgICAucmVkdWNlKHVubmVzdFIsIFtdKSAvLyBVbi1uZXN0IFJlZ2lzdGVyZWRIb29rW11bXSB0byBSZWdpc3RlcmVkSG9va1tdIGFycmF5XG4gICAgICAgICAgICAuZmlsdGVyKGZ1bmN0aW9uIChob29rKSB7IHJldHVybiBob29rLm1hdGNoZXModHJlZUNoYW5nZXMpOyB9KTsgLy8gT25seSB0aG9zZSBzYXRpc2Z5aW5nIG1hdGNoQ3JpdGVyaWFcbiAgICB9O1xuICAgIHJldHVybiBIb29rQnVpbGRlcjtcbn0oKSk7XG4vKipcbiAqIEEgZmFjdG9yeSBmb3IgYSBzb3J0IGZ1bmN0aW9uIGZvciBIb29rVHVwbGVzLlxuICpcbiAqIFRoZSBzb3J0IGZ1bmN0aW9uIGZpcnN0IGNvbXBhcmVzIHRoZSBQYXRoTm9kZSBkZXB0aCAoaG93IGRlZXAgaW4gdGhlIHN0YXRlIHRyZWUgYSBub2RlIGlzKSwgdGhlbiBjb21wYXJlc1xuICogdGhlIEV2ZW50SG9vayBwcmlvcml0eS5cbiAqXG4gKiBAcGFyYW0gcmV2ZXJzZURlcHRoU29ydCBhIGJvb2xlYW4sIHdoZW4gdHJ1ZSwgcmV2ZXJzZXMgdGhlIHNvcnQgb3JkZXIgZm9yIHRoZSBub2RlIGRlcHRoXG4gKiBAcmV0dXJucyBhIHR1cGxlIHNvcnQgZnVuY3Rpb25cbiAqL1xuZnVuY3Rpb24gdHVwbGVTb3J0KHJldmVyc2VEZXB0aFNvcnQpIHtcbiAgICBpZiAocmV2ZXJzZURlcHRoU29ydCA9PT0gdm9pZCAwKSB7IHJldmVyc2VEZXB0aFNvcnQgPSBmYWxzZTsgfVxuICAgIHJldHVybiBmdW5jdGlvbiBub2RlRGVwdGhUaGVuUHJpb3JpdHkobCwgcikge1xuICAgICAgICB2YXIgZmFjdG9yID0gcmV2ZXJzZURlcHRoU29ydCA/IC0xIDogMTtcbiAgICAgICAgdmFyIGRlcHRoRGVsdGEgPSAobC5ub2RlLnN0YXRlLnBhdGgubGVuZ3RoIC0gci5ub2RlLnN0YXRlLnBhdGgubGVuZ3RoKSAqIGZhY3RvcjtcbiAgICAgICAgcmV0dXJuIGRlcHRoRGVsdGEgIT09IDAgPyBkZXB0aERlbHRhIDogci5ob29rLnByaW9yaXR5IC0gbC5ob29rLnByaW9yaXR5O1xuICAgIH07XG59XG5cbi8qKlxuICogQGNvcmVhcGlcbiAqIEBtb2R1bGUgcGFyYW1zXG4gKi9cbi8qKiAqL1xuLyoqXG4gKiBBbiBpbnRlcm5hbCBjbGFzcyB3aGljaCBpbXBsZW1lbnRzIFtbUGFyYW1UeXBlRGVmaW5pdGlvbl1dLlxuICpcbiAqIEEgW1tQYXJhbVR5cGVEZWZpbml0aW9uXV0gaXMgYSBwbGFpbiBqYXZhc2NyaXB0IG9iamVjdCB1c2VkIHRvIHJlZ2lzdGVyIGN1c3RvbSBwYXJhbWV0ZXIgdHlwZXMuXG4gKiBXaGVuIGEgcGFyYW0gdHlwZSBkZWZpbml0aW9uIGlzIHJlZ2lzdGVyZWQsIGFuIGluc3RhbmNlIG9mIHRoaXMgY2xhc3MgaXMgY3JlYXRlZCBpbnRlcm5hbGx5LlxuICpcbiAqIFRoaXMgY2xhc3MgaGFzIG5haXZlIGltcGxlbWVudGF0aW9ucyBmb3IgYWxsIHRoZSBbW1BhcmFtVHlwZURlZmluaXRpb25dXSBtZXRob2RzLlxuICpcbiAqIFVzZWQgYnkgW1tVcmxNYXRjaGVyXV0gd2hlbiBtYXRjaGluZyBvciBmb3JtYXR0aW5nIFVSTHMsIG9yIGNvbXBhcmluZyBhbmQgdmFsaWRhdGluZyBwYXJhbWV0ZXIgdmFsdWVzLlxuICpcbiAqICMjIyMgRXhhbXBsZTpcbiAqIGBgYGpzXG4gKiB2YXIgcGFyYW1UeXBlRGVmID0ge1xuICogICBkZWNvZGU6IGZ1bmN0aW9uKHZhbCkgeyByZXR1cm4gcGFyc2VJbnQodmFsLCAxMCk7IH0sXG4gKiAgIGVuY29kZTogZnVuY3Rpb24odmFsKSB7IHJldHVybiB2YWwgJiYgdmFsLnRvU3RyaW5nKCk7IH0sXG4gKiAgIGVxdWFsczogZnVuY3Rpb24oYSwgYikgeyByZXR1cm4gdGhpcy5pcyhhKSAmJiBhID09PSBiOyB9LFxuICogICBpczogZnVuY3Rpb24odmFsKSB7IHJldHVybiBhbmd1bGFyLmlzTnVtYmVyKHZhbCkgJiYgaXNGaW5pdGUodmFsKSAmJiB2YWwgJSAxID09PSAwOyB9LFxuICogICBwYXR0ZXJuOiAvXFxkKy9cbiAqIH1cbiAqXG4gKiB2YXIgcGFyYW1UeXBlID0gbmV3IFBhcmFtVHlwZShwYXJhbVR5cGVEZWYpO1xuICogYGBgXG4gKiBAaW50ZXJuYWxhcGlcbiAqL1xudmFyIFBhcmFtVHlwZSA9IChmdW5jdGlvbiAoKSB7XG4gICAgLyoqXG4gICAgICogQHBhcmFtIGRlZiAgQSBjb25maWd1cmF0aW9uIG9iamVjdCB3aGljaCBjb250YWlucyB0aGUgY3VzdG9tIHR5cGUgZGVmaW5pdGlvbi4gIFRoZSBvYmplY3Qnc1xuICAgICAqICAgICAgICBwcm9wZXJ0aWVzIHdpbGwgb3ZlcnJpZGUgdGhlIGRlZmF1bHQgbWV0aG9kcyBhbmQvb3IgcGF0dGVybiBpbiBgUGFyYW1UeXBlYCdzIHB1YmxpYyBpbnRlcmZhY2UuXG4gICAgICogQHJldHVybnMgYSBuZXcgUGFyYW1UeXBlIG9iamVjdFxuICAgICAqL1xuICAgIGZ1bmN0aW9uIFBhcmFtVHlwZShkZWYpIHtcbiAgICAgICAgLyoqIEBpbmhlcml0ZG9jICovXG4gICAgICAgIHRoaXMucGF0dGVybiA9IC8uKi87XG4gICAgICAgIC8qKiBAaW5oZXJpdGRvYyAqL1xuICAgICAgICB0aGlzLmluaGVyaXQgPSB0cnVlO1xuICAgICAgICBleHRlbmQodGhpcywgZGVmKTtcbiAgICB9XG4gICAgLy8gY29uc2lkZXIgdGhlc2UgZm91ciBtZXRob2RzIHRvIGJlIFwiYWJzdHJhY3QgbWV0aG9kc1wiIHRoYXQgc2hvdWxkIGJlIG92ZXJyaWRkZW5cbiAgICAvKiogQGluaGVyaXRkb2MgKi9cbiAgICBQYXJhbVR5cGUucHJvdG90eXBlLmlzID0gZnVuY3Rpb24gKHZhbCwga2V5KSB7IHJldHVybiB0cnVlOyB9O1xuICAgIC8qKiBAaW5oZXJpdGRvYyAqL1xuICAgIFBhcmFtVHlwZS5wcm90b3R5cGUuZW5jb2RlID0gZnVuY3Rpb24gKHZhbCwga2V5KSB7IHJldHVybiB2YWw7IH07XG4gICAgLyoqIEBpbmhlcml0ZG9jICovXG4gICAgUGFyYW1UeXBlLnByb3RvdHlwZS5kZWNvZGUgPSBmdW5jdGlvbiAodmFsLCBrZXkpIHsgcmV0dXJuIHZhbDsgfTtcbiAgICAvKiogQGluaGVyaXRkb2MgKi9cbiAgICBQYXJhbVR5cGUucHJvdG90eXBlLmVxdWFscyA9IGZ1bmN0aW9uIChhLCBiKSB7IHJldHVybiBhID09IGI7IH07XG4gICAgUGFyYW1UeXBlLnByb3RvdHlwZS4kc3ViUGF0dGVybiA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIHN1YiA9IHRoaXMucGF0dGVybi50b1N0cmluZygpO1xuICAgICAgICByZXR1cm4gc3ViLnN1YnN0cigxLCBzdWIubGVuZ3RoIC0gMik7XG4gICAgfTtcbiAgICBQYXJhbVR5cGUucHJvdG90eXBlLnRvU3RyaW5nID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gXCJ7UGFyYW1UeXBlOlwiICsgdGhpcy5uYW1lICsgXCJ9XCI7XG4gICAgfTtcbiAgICAvKiogR2l2ZW4gYW4gZW5jb2RlZCBzdHJpbmcsIG9yIGEgZGVjb2RlZCBvYmplY3QsIHJldHVybnMgYSBkZWNvZGVkIG9iamVjdCAqL1xuICAgIFBhcmFtVHlwZS5wcm90b3R5cGUuJG5vcm1hbGl6ZSA9IGZ1bmN0aW9uICh2YWwpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuaXModmFsKSA/IHZhbCA6IHRoaXMuZGVjb2RlKHZhbCk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBXcmFwcyBhbiBleGlzdGluZyBjdXN0b20gUGFyYW1UeXBlIGFzIGFuIGFycmF5IG9mIFBhcmFtVHlwZSwgZGVwZW5kaW5nIG9uICdtb2RlJy5cbiAgICAgKiBlLmcuOlxuICAgICAqIC0gdXJsbWF0Y2hlciBwYXR0ZXJuIFwiL3BhdGg/e3F1ZXJ5UGFyYW1bXTppbnR9XCJcbiAgICAgKiAtIHVybDogXCIvcGF0aD9xdWVyeVBhcmFtPTEmcXVlcnlQYXJhbT0yXG4gICAgICogLSAkc3RhdGVQYXJhbXMucXVlcnlQYXJhbSB3aWxsIGJlIFsxLCAyXVxuICAgICAqIGlmIGBtb2RlYCBpcyBcImF1dG9cIiwgdGhlblxuICAgICAqIC0gdXJsOiBcIi9wYXRoP3F1ZXJ5UGFyYW09MSB3aWxsIGNyZWF0ZSAkc3RhdGVQYXJhbXMucXVlcnlQYXJhbTogMVxuICAgICAqIC0gdXJsOiBcIi9wYXRoP3F1ZXJ5UGFyYW09MSZxdWVyeVBhcmFtPTIgd2lsbCBjcmVhdGUgJHN0YXRlUGFyYW1zLnF1ZXJ5UGFyYW06IFsxLCAyXVxuICAgICAqL1xuICAgIFBhcmFtVHlwZS5wcm90b3R5cGUuJGFzQXJyYXkgPSBmdW5jdGlvbiAobW9kZSwgaXNTZWFyY2gpIHtcbiAgICAgICAgaWYgKCFtb2RlKVxuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgIGlmIChtb2RlID09PSBcImF1dG9cIiAmJiAhaXNTZWFyY2gpXG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCInYXV0bycgYXJyYXkgbW9kZSBpcyBmb3IgcXVlcnkgcGFyYW1ldGVycyBvbmx5XCIpO1xuICAgICAgICByZXR1cm4gbmV3IEFycmF5VHlwZSh0aGlzLCBtb2RlKTtcbiAgICB9O1xuICAgIHJldHVybiBQYXJhbVR5cGU7XG59KCkpO1xuLyoqXG4gKiBXcmFwcyB1cCBhIGBQYXJhbVR5cGVgIG9iamVjdCB0byBoYW5kbGUgYXJyYXkgdmFsdWVzLlxuICogQGludGVybmFsYXBpXG4gKi9cbmZ1bmN0aW9uIEFycmF5VHlwZSh0eXBlLCBtb2RlKSB7XG4gICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAvLyBXcmFwIG5vbi1hcnJheSB2YWx1ZSBhcyBhcnJheVxuICAgIGZ1bmN0aW9uIGFycmF5V3JhcCh2YWwpIHtcbiAgICAgICAgcmV0dXJuIGlzQXJyYXkodmFsKSA/IHZhbCA6IChpc0RlZmluZWQodmFsKSA/IFt2YWxdIDogW10pO1xuICAgIH1cbiAgICAvLyBVbndyYXAgYXJyYXkgdmFsdWUgZm9yIFwiYXV0b1wiIG1vZGUuIFJldHVybiB1bmRlZmluZWQgZm9yIGVtcHR5IGFycmF5LlxuICAgIGZ1bmN0aW9uIGFycmF5VW53cmFwKHZhbCkge1xuICAgICAgICBzd2l0Y2ggKHZhbC5sZW5ndGgpIHtcbiAgICAgICAgICAgIGNhc2UgMDogcmV0dXJuIHVuZGVmaW5lZDtcbiAgICAgICAgICAgIGNhc2UgMTogcmV0dXJuIG1vZGUgPT09IFwiYXV0b1wiID8gdmFsWzBdIDogdmFsO1xuICAgICAgICAgICAgZGVmYXVsdDogcmV0dXJuIHZhbDtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvLyBXcmFwcyB0eXBlICguaXMvLmVuY29kZS8uZGVjb2RlKSBmdW5jdGlvbnMgdG8gb3BlcmF0ZSBvbiBlYWNoIHZhbHVlIG9mIGFuIGFycmF5XG4gICAgZnVuY3Rpb24gYXJyYXlIYW5kbGVyKGNhbGxiYWNrLCBhbGxUcnV0aHlNb2RlKSB7XG4gICAgICAgIHJldHVybiBmdW5jdGlvbiBoYW5kbGVBcnJheSh2YWwpIHtcbiAgICAgICAgICAgIGlmIChpc0FycmF5KHZhbCkgJiYgdmFsLmxlbmd0aCA9PT0gMClcbiAgICAgICAgICAgICAgICByZXR1cm4gdmFsO1xuICAgICAgICAgICAgdmFyIGFyciA9IGFycmF5V3JhcCh2YWwpO1xuICAgICAgICAgICAgdmFyIHJlc3VsdCA9IG1hcChhcnIsIGNhbGxiYWNrKTtcbiAgICAgICAgICAgIHJldHVybiAoYWxsVHJ1dGh5TW9kZSA9PT0gdHJ1ZSkgPyBmaWx0ZXIocmVzdWx0LCBmdW5jdGlvbiAoeCkgeyByZXR1cm4gIXg7IH0pLmxlbmd0aCA9PT0gMCA6IGFycmF5VW53cmFwKHJlc3VsdCk7XG4gICAgICAgIH07XG4gICAgfVxuICAgIC8vIFdyYXBzIHR5cGUgKC5lcXVhbHMpIGZ1bmN0aW9ucyB0byBvcGVyYXRlIG9uIGVhY2ggdmFsdWUgb2YgYW4gYXJyYXlcbiAgICBmdW5jdGlvbiBhcnJheUVxdWFsc0hhbmRsZXIoY2FsbGJhY2spIHtcbiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uIGhhbmRsZUFycmF5KHZhbDEsIHZhbDIpIHtcbiAgICAgICAgICAgIHZhciBsZWZ0ID0gYXJyYXlXcmFwKHZhbDEpLCByaWdodCA9IGFycmF5V3JhcCh2YWwyKTtcbiAgICAgICAgICAgIGlmIChsZWZ0Lmxlbmd0aCAhPT0gcmlnaHQubGVuZ3RoKVxuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbGVmdC5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgIGlmICghY2FsbGJhY2sobGVmdFtpXSwgcmlnaHRbaV0pKVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfTtcbiAgICB9XG4gICAgWydlbmNvZGUnLCAnZGVjb2RlJywgJ2VxdWFscycsICckbm9ybWFsaXplJ10uZm9yRWFjaChmdW5jdGlvbiAobmFtZSkge1xuICAgICAgICB2YXIgcGFyYW1UeXBlRm4gPSB0eXBlW25hbWVdLmJpbmQodHlwZSk7XG4gICAgICAgIHZhciB3cmFwcGVyRm4gPSBuYW1lID09PSAnZXF1YWxzJyA/IGFycmF5RXF1YWxzSGFuZGxlciA6IGFycmF5SGFuZGxlcjtcbiAgICAgICAgX3RoaXNbbmFtZV0gPSB3cmFwcGVyRm4ocGFyYW1UeXBlRm4pO1xuICAgIH0pO1xuICAgIGV4dGVuZCh0aGlzLCB7XG4gICAgICAgIGR5bmFtaWM6IHR5cGUuZHluYW1pYyxcbiAgICAgICAgbmFtZTogdHlwZS5uYW1lLFxuICAgICAgICBwYXR0ZXJuOiB0eXBlLnBhdHRlcm4sXG4gICAgICAgIGluaGVyaXQ6IHR5cGUuaW5oZXJpdCxcbiAgICAgICAgaXM6IGFycmF5SGFuZGxlcih0eXBlLmlzLmJpbmQodHlwZSksIHRydWUpLFxuICAgICAgICAkYXJyYXlNb2RlOiBtb2RlXG4gICAgfSk7XG59XG5cbi8qKlxuICogQGNvcmVhcGlcbiAqIEBtb2R1bGUgcGFyYW1zXG4gKi8gLyoqIGZvciB0eXBlZG9jICovXG4vKiogQGhpZGRlbiAqLyB2YXIgaGFzT3duID0gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eTtcbi8qKiBAaGlkZGVuICovIHZhciBpc1Nob3J0aGFuZCA9IGZ1bmN0aW9uIChjZmcpIHtcbiAgICByZXR1cm4gW1widmFsdWVcIiwgXCJ0eXBlXCIsIFwic3F1YXNoXCIsIFwiYXJyYXlcIiwgXCJkeW5hbWljXCJdLmZpbHRlcihoYXNPd24uYmluZChjZmcgfHwge30pKS5sZW5ndGggPT09IDA7XG59O1xuLyoqIEBpbnRlcm5hbGFwaSAqL1xuXG4oZnVuY3Rpb24gKERlZlR5cGUpIHtcbiAgICBEZWZUeXBlW0RlZlR5cGVbXCJQQVRIXCJdID0gMF0gPSBcIlBBVEhcIjtcbiAgICBEZWZUeXBlW0RlZlR5cGVbXCJTRUFSQ0hcIl0gPSAxXSA9IFwiU0VBUkNIXCI7XG4gICAgRGVmVHlwZVtEZWZUeXBlW1wiQ09ORklHXCJdID0gMl0gPSBcIkNPTkZJR1wiO1xufSkoZXhwb3J0cy5EZWZUeXBlIHx8IChleHBvcnRzLkRlZlR5cGUgPSB7fSkpO1xuLyoqIEBoaWRkZW4gKi9cbmZ1bmN0aW9uIHVud3JhcFNob3J0aGFuZChjZmcpIHtcbiAgICBjZmcgPSBpc1Nob3J0aGFuZChjZmcpICYmIHsgdmFsdWU6IGNmZyB9IHx8IGNmZztcbiAgICBnZXRTdGF0aWNEZWZhdWx0VmFsdWVbJ19fY2FjaGVhYmxlJ10gPSB0cnVlO1xuICAgIGZ1bmN0aW9uIGdldFN0YXRpY0RlZmF1bHRWYWx1ZSgpIHtcbiAgICAgICAgcmV0dXJuIGNmZy52YWx1ZTtcbiAgICB9XG4gICAgcmV0dXJuIGV4dGVuZChjZmcsIHtcbiAgICAgICAgJCRmbjogaXNJbmplY3RhYmxlKGNmZy52YWx1ZSkgPyBjZmcudmFsdWUgOiBnZXRTdGF0aWNEZWZhdWx0VmFsdWUsXG4gICAgfSk7XG59XG4vKiogQGhpZGRlbiAqL1xuZnVuY3Rpb24gZ2V0VHlwZShjZmcsIHVybFR5cGUsIGxvY2F0aW9uLCBpZCwgcGFyYW1UeXBlcykge1xuICAgIGlmIChjZmcudHlwZSAmJiB1cmxUeXBlICYmIHVybFR5cGUubmFtZSAhPT0gJ3N0cmluZycpXG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcIlBhcmFtICdcIiArIGlkICsgXCInIGhhcyB0d28gdHlwZSBjb25maWd1cmF0aW9ucy5cIik7XG4gICAgaWYgKGNmZy50eXBlICYmIHVybFR5cGUgJiYgdXJsVHlwZS5uYW1lID09PSAnc3RyaW5nJyAmJiBwYXJhbVR5cGVzLnR5cGUoY2ZnLnR5cGUpKVxuICAgICAgICByZXR1cm4gcGFyYW1UeXBlcy50eXBlKGNmZy50eXBlKTtcbiAgICBpZiAodXJsVHlwZSlcbiAgICAgICAgcmV0dXJuIHVybFR5cGU7XG4gICAgaWYgKCFjZmcudHlwZSkge1xuICAgICAgICB2YXIgdHlwZSA9IGxvY2F0aW9uID09PSBleHBvcnRzLkRlZlR5cGUuQ09ORklHID8gXCJhbnlcIiA6XG4gICAgICAgICAgICBsb2NhdGlvbiA9PT0gZXhwb3J0cy5EZWZUeXBlLlBBVEggPyBcInBhdGhcIiA6XG4gICAgICAgICAgICAgICAgbG9jYXRpb24gPT09IGV4cG9ydHMuRGVmVHlwZS5TRUFSQ0ggPyBcInF1ZXJ5XCIgOiBcInN0cmluZ1wiO1xuICAgICAgICByZXR1cm4gcGFyYW1UeXBlcy50eXBlKHR5cGUpO1xuICAgIH1cbiAgICByZXR1cm4gY2ZnLnR5cGUgaW5zdGFuY2VvZiBQYXJhbVR5cGUgPyBjZmcudHlwZSA6IHBhcmFtVHlwZXMudHlwZShjZmcudHlwZSk7XG59XG4vKipcbiAqIEBpbnRlcm5hbGFwaVxuICogcmV0dXJucyBmYWxzZSwgdHJ1ZSwgb3IgdGhlIHNxdWFzaCB2YWx1ZSB0byBpbmRpY2F0ZSB0aGUgXCJkZWZhdWx0IHBhcmFtZXRlciB1cmwgc3F1YXNoIHBvbGljeVwiLlxuICovXG5mdW5jdGlvbiBnZXRTcXVhc2hQb2xpY3koY29uZmlnLCBpc09wdGlvbmFsLCBkZWZhdWx0UG9saWN5KSB7XG4gICAgdmFyIHNxdWFzaCA9IGNvbmZpZy5zcXVhc2g7XG4gICAgaWYgKCFpc09wdGlvbmFsIHx8IHNxdWFzaCA9PT0gZmFsc2UpXG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICBpZiAoIWlzRGVmaW5lZChzcXVhc2gpIHx8IHNxdWFzaCA9PSBudWxsKVxuICAgICAgICByZXR1cm4gZGVmYXVsdFBvbGljeTtcbiAgICBpZiAoc3F1YXNoID09PSB0cnVlIHx8IGlzU3RyaW5nKHNxdWFzaCkpXG4gICAgICAgIHJldHVybiBzcXVhc2g7XG4gICAgdGhyb3cgbmV3IEVycm9yKFwiSW52YWxpZCBzcXVhc2ggcG9saWN5OiAnXCIgKyBzcXVhc2ggKyBcIicuIFZhbGlkIHBvbGljaWVzOiBmYWxzZSwgdHJ1ZSwgb3IgYXJiaXRyYXJ5IHN0cmluZ1wiKTtcbn1cbi8qKiBAaW50ZXJuYWxhcGkgKi9cbmZ1bmN0aW9uIGdldFJlcGxhY2UoY29uZmlnLCBhcnJheU1vZGUsIGlzT3B0aW9uYWwsIHNxdWFzaCkge1xuICAgIHZhciByZXBsYWNlLCBjb25maWd1cmVkS2V5cywgZGVmYXVsdFBvbGljeSA9IFtcbiAgICAgICAgeyBmcm9tOiBcIlwiLCB0bzogKGlzT3B0aW9uYWwgfHwgYXJyYXlNb2RlID8gdW5kZWZpbmVkIDogXCJcIikgfSxcbiAgICAgICAgeyBmcm9tOiBudWxsLCB0bzogKGlzT3B0aW9uYWwgfHwgYXJyYXlNb2RlID8gdW5kZWZpbmVkIDogXCJcIikgfSxcbiAgICBdO1xuICAgIHJlcGxhY2UgPSBpc0FycmF5KGNvbmZpZy5yZXBsYWNlKSA/IGNvbmZpZy5yZXBsYWNlIDogW107XG4gICAgaWYgKGlzU3RyaW5nKHNxdWFzaCkpXG4gICAgICAgIHJlcGxhY2UucHVzaCh7IGZyb206IHNxdWFzaCwgdG86IHVuZGVmaW5lZCB9KTtcbiAgICBjb25maWd1cmVkS2V5cyA9IG1hcChyZXBsYWNlLCBwcm9wKFwiZnJvbVwiKSk7XG4gICAgcmV0dXJuIGZpbHRlcihkZWZhdWx0UG9saWN5LCBmdW5jdGlvbiAoaXRlbSkgeyByZXR1cm4gY29uZmlndXJlZEtleXMuaW5kZXhPZihpdGVtLmZyb20pID09PSAtMTsgfSkuY29uY2F0KHJlcGxhY2UpO1xufVxuLyoqIEBpbnRlcm5hbGFwaSAqL1xudmFyIFBhcmFtID0gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBQYXJhbShpZCwgdHlwZSwgY29uZmlnLCBsb2NhdGlvbiwgdXJsTWF0Y2hlckZhY3RvcnkpIHtcbiAgICAgICAgY29uZmlnID0gdW53cmFwU2hvcnRoYW5kKGNvbmZpZyk7XG4gICAgICAgIHR5cGUgPSBnZXRUeXBlKGNvbmZpZywgdHlwZSwgbG9jYXRpb24sIGlkLCB1cmxNYXRjaGVyRmFjdG9yeS5wYXJhbVR5cGVzKTtcbiAgICAgICAgdmFyIGFycmF5TW9kZSA9IGdldEFycmF5TW9kZSgpO1xuICAgICAgICB0eXBlID0gYXJyYXlNb2RlID8gdHlwZS4kYXNBcnJheShhcnJheU1vZGUsIGxvY2F0aW9uID09PSBleHBvcnRzLkRlZlR5cGUuU0VBUkNIKSA6IHR5cGU7XG4gICAgICAgIHZhciBpc09wdGlvbmFsID0gY29uZmlnLnZhbHVlICE9PSB1bmRlZmluZWQgfHwgbG9jYXRpb24gPT09IGV4cG9ydHMuRGVmVHlwZS5TRUFSQ0g7XG4gICAgICAgIHZhciBkeW5hbWljID0gaXNEZWZpbmVkKGNvbmZpZy5keW5hbWljKSA/ICEhY29uZmlnLmR5bmFtaWMgOiAhIXR5cGUuZHluYW1pYztcbiAgICAgICAgdmFyIHJhdyA9IGlzRGVmaW5lZChjb25maWcucmF3KSA/ICEhY29uZmlnLnJhdyA6ICEhdHlwZS5yYXc7XG4gICAgICAgIHZhciBzcXVhc2ggPSBnZXRTcXVhc2hQb2xpY3koY29uZmlnLCBpc09wdGlvbmFsLCB1cmxNYXRjaGVyRmFjdG9yeS5kZWZhdWx0U3F1YXNoUG9saWN5KCkpO1xuICAgICAgICB2YXIgcmVwbGFjZSA9IGdldFJlcGxhY2UoY29uZmlnLCBhcnJheU1vZGUsIGlzT3B0aW9uYWwsIHNxdWFzaCk7XG4gICAgICAgIHZhciBpbmhlcml0JCQxID0gaXNEZWZpbmVkKGNvbmZpZy5pbmhlcml0KSA/ICEhY29uZmlnLmluaGVyaXQgOiAhIXR5cGUuaW5oZXJpdDtcbiAgICAgICAgLy8gYXJyYXkgY29uZmlnOiBwYXJhbSBuYW1lIChwYXJhbVtdKSBvdmVycmlkZXMgZGVmYXVsdCBzZXR0aW5ncy4gIGV4cGxpY2l0IGNvbmZpZyBvdmVycmlkZXMgcGFyYW0gbmFtZS5cbiAgICAgICAgZnVuY3Rpb24gZ2V0QXJyYXlNb2RlKCkge1xuICAgICAgICAgICAgdmFyIGFycmF5RGVmYXVsdHMgPSB7IGFycmF5OiAobG9jYXRpb24gPT09IGV4cG9ydHMuRGVmVHlwZS5TRUFSQ0ggPyBcImF1dG9cIiA6IGZhbHNlKSB9O1xuICAgICAgICAgICAgdmFyIGFycmF5UGFyYW1Ob21lbmNsYXR1cmUgPSBpZC5tYXRjaCgvXFxbXFxdJC8pID8geyBhcnJheTogdHJ1ZSB9IDoge307XG4gICAgICAgICAgICByZXR1cm4gZXh0ZW5kKGFycmF5RGVmYXVsdHMsIGFycmF5UGFyYW1Ob21lbmNsYXR1cmUsIGNvbmZpZykuYXJyYXk7XG4gICAgICAgIH1cbiAgICAgICAgZXh0ZW5kKHRoaXMsIHsgaWQ6IGlkLCB0eXBlOiB0eXBlLCBsb2NhdGlvbjogbG9jYXRpb24sIGlzT3B0aW9uYWw6IGlzT3B0aW9uYWwsIGR5bmFtaWM6IGR5bmFtaWMsIHJhdzogcmF3LCBzcXVhc2g6IHNxdWFzaCwgcmVwbGFjZTogcmVwbGFjZSwgaW5oZXJpdDogaW5oZXJpdCQkMSwgYXJyYXk6IGFycmF5TW9kZSwgY29uZmlnOiBjb25maWcgfSk7XG4gICAgfVxuICAgIFBhcmFtLnByb3RvdHlwZS5pc0RlZmF1bHRWYWx1ZSA9IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICByZXR1cm4gdGhpcy5pc09wdGlvbmFsICYmIHRoaXMudHlwZS5lcXVhbHModGhpcy52YWx1ZSgpLCB2YWx1ZSk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBbSW50ZXJuYWxdIEdldHMgdGhlIGRlY29kZWQgcmVwcmVzZW50YXRpb24gb2YgYSB2YWx1ZSBpZiB0aGUgdmFsdWUgaXMgZGVmaW5lZCwgb3RoZXJ3aXNlLCByZXR1cm5zIHRoZVxuICAgICAqIGRlZmF1bHQgdmFsdWUsIHdoaWNoIG1heSBiZSB0aGUgcmVzdWx0IG9mIGFuIGluamVjdGFibGUgZnVuY3Rpb24uXG4gICAgICovXG4gICAgUGFyYW0ucHJvdG90eXBlLnZhbHVlID0gZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBbSW50ZXJuYWxdIEdldCB0aGUgZGVmYXVsdCB2YWx1ZSBvZiBhIHBhcmFtZXRlciwgd2hpY2ggbWF5IGJlIGFuIGluamVjdGFibGUgZnVuY3Rpb24uXG4gICAgICAgICAqL1xuICAgICAgICB2YXIgZ2V0RGVmYXVsdFZhbHVlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgaWYgKF90aGlzLl9kZWZhdWx0VmFsdWVDYWNoZSlcbiAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXMuX2RlZmF1bHRWYWx1ZUNhY2hlLmRlZmF1bHRWYWx1ZTtcbiAgICAgICAgICAgIGlmICghc2VydmljZXMuJGluamVjdG9yKVxuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIkluamVjdGFibGUgZnVuY3Rpb25zIGNhbm5vdCBiZSBjYWxsZWQgYXQgY29uZmlndXJhdGlvbiB0aW1lXCIpO1xuICAgICAgICAgICAgdmFyIGRlZmF1bHRWYWx1ZSA9IHNlcnZpY2VzLiRpbmplY3Rvci5pbnZva2UoX3RoaXMuY29uZmlnLiQkZm4pO1xuICAgICAgICAgICAgaWYgKGRlZmF1bHRWYWx1ZSAhPT0gbnVsbCAmJiBkZWZhdWx0VmFsdWUgIT09IHVuZGVmaW5lZCAmJiAhX3RoaXMudHlwZS5pcyhkZWZhdWx0VmFsdWUpKVxuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIkRlZmF1bHQgdmFsdWUgKFwiICsgZGVmYXVsdFZhbHVlICsgXCIpIGZvciBwYXJhbWV0ZXIgJ1wiICsgX3RoaXMuaWQgKyBcIicgaXMgbm90IGFuIGluc3RhbmNlIG9mIFBhcmFtVHlwZSAoXCIgKyBfdGhpcy50eXBlLm5hbWUgKyBcIilcIik7XG4gICAgICAgICAgICBpZiAoX3RoaXMuY29uZmlnLiQkZm5bJ19fY2FjaGVhYmxlJ10pIHtcbiAgICAgICAgICAgICAgICBfdGhpcy5fZGVmYXVsdFZhbHVlQ2FjaGUgPSB7IGRlZmF1bHRWYWx1ZTogZGVmYXVsdFZhbHVlIH07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gZGVmYXVsdFZhbHVlO1xuICAgICAgICB9O1xuICAgICAgICB2YXIgcmVwbGFjZVNwZWNpYWxWYWx1ZXMgPSBmdW5jdGlvbiAodmFsJCQxKSB7XG4gICAgICAgICAgICBmb3IgKHZhciBfaSA9IDAsIF9hID0gX3RoaXMucmVwbGFjZTsgX2kgPCBfYS5sZW5ndGg7IF9pKyspIHtcbiAgICAgICAgICAgICAgICB2YXIgdHVwbGUgPSBfYVtfaV07XG4gICAgICAgICAgICAgICAgaWYgKHR1cGxlLmZyb20gPT09IHZhbCQkMSlcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHR1cGxlLnRvO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHZhbCQkMTtcbiAgICAgICAgfTtcbiAgICAgICAgdmFsdWUgPSByZXBsYWNlU3BlY2lhbFZhbHVlcyh2YWx1ZSk7XG4gICAgICAgIHJldHVybiBpc1VuZGVmaW5lZCh2YWx1ZSkgPyBnZXREZWZhdWx0VmFsdWUoKSA6IHRoaXMudHlwZS4kbm9ybWFsaXplKHZhbHVlKTtcbiAgICB9O1xuICAgIFBhcmFtLnByb3RvdHlwZS5pc1NlYXJjaCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMubG9jYXRpb24gPT09IGV4cG9ydHMuRGVmVHlwZS5TRUFSQ0g7XG4gICAgfTtcbiAgICBQYXJhbS5wcm90b3R5cGUudmFsaWRhdGVzID0gZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgIC8vIFRoZXJlIHdhcyBubyBwYXJhbWV0ZXIgdmFsdWUsIGJ1dCB0aGUgcGFyYW0gaXMgb3B0aW9uYWxcbiAgICAgICAgaWYgKChpc1VuZGVmaW5lZCh2YWx1ZSkgfHwgdmFsdWUgPT09IG51bGwpICYmIHRoaXMuaXNPcHRpb25hbClcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAvLyBUaGUgdmFsdWUgd2FzIG5vdCBvZiB0aGUgY29ycmVjdCBQYXJhbVR5cGUsIGFuZCBjb3VsZCBub3QgYmUgZGVjb2RlZCB0byB0aGUgY29ycmVjdCBQYXJhbVR5cGVcbiAgICAgICAgdmFyIG5vcm1hbGl6ZWQgPSB0aGlzLnR5cGUuJG5vcm1hbGl6ZSh2YWx1ZSk7XG4gICAgICAgIGlmICghdGhpcy50eXBlLmlzKG5vcm1hbGl6ZWQpKVxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAvLyBUaGUgdmFsdWUgd2FzIG9mIHRoZSBjb3JyZWN0IHR5cGUsIGJ1dCB3aGVuIGVuY29kZWQsIGRpZCBub3QgbWF0Y2ggdGhlIFBhcmFtVHlwZSdzIHJlZ2V4cFxuICAgICAgICB2YXIgZW5jb2RlZCA9IHRoaXMudHlwZS5lbmNvZGUobm9ybWFsaXplZCk7XG4gICAgICAgIHJldHVybiAhKGlzU3RyaW5nKGVuY29kZWQpICYmICF0aGlzLnR5cGUucGF0dGVybi5leGVjKGVuY29kZWQpKTtcbiAgICB9O1xuICAgIFBhcmFtLnByb3RvdHlwZS50b1N0cmluZyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIFwie1BhcmFtOlwiICsgdGhpcy5pZCArIFwiIFwiICsgdGhpcy50eXBlICsgXCIgc3F1YXNoOiAnXCIgKyB0aGlzLnNxdWFzaCArIFwiJyBvcHRpb25hbDogXCIgKyB0aGlzLmlzT3B0aW9uYWwgKyBcIn1cIjtcbiAgICB9O1xuICAgIFBhcmFtLnZhbHVlcyA9IGZ1bmN0aW9uIChwYXJhbXMsIHZhbHVlcyQkMSkge1xuICAgICAgICBpZiAodmFsdWVzJCQxID09PSB2b2lkIDApIHsgdmFsdWVzJCQxID0ge307IH1cbiAgICAgICAgdmFyIHBhcmFtVmFsdWVzID0ge307XG4gICAgICAgIGZvciAodmFyIF9pID0gMCwgcGFyYW1zXzEgPSBwYXJhbXM7IF9pIDwgcGFyYW1zXzEubGVuZ3RoOyBfaSsrKSB7XG4gICAgICAgICAgICB2YXIgcGFyYW0gPSBwYXJhbXNfMVtfaV07XG4gICAgICAgICAgICBwYXJhbVZhbHVlc1twYXJhbS5pZF0gPSBwYXJhbS52YWx1ZSh2YWx1ZXMkJDFbcGFyYW0uaWRdKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcGFyYW1WYWx1ZXM7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBGaW5kcyBbW1BhcmFtXV0gb2JqZWN0cyB3aGljaCBoYXZlIGRpZmZlcmVudCBwYXJhbSB2YWx1ZXNcbiAgICAgKlxuICAgICAqIEZpbHRlcnMgYSBsaXN0IG9mIFtbUGFyYW1dXSBvYmplY3RzIHRvIG9ubHkgdGhvc2Ugd2hvc2UgcGFyYW1ldGVyIHZhbHVlcyBkaWZmZXIgaW4gdHdvIHBhcmFtIHZhbHVlIG9iamVjdHNcbiAgICAgKlxuICAgICAqIEBwYXJhbSBwYXJhbXM6IFRoZSBsaXN0IG9mIFBhcmFtIG9iamVjdHMgdG8gZmlsdGVyXG4gICAgICogQHBhcmFtIHZhbHVlczE6IFRoZSBmaXJzdCBzZXQgb2YgcGFyYW1ldGVyIHZhbHVlc1xuICAgICAqIEBwYXJhbSB2YWx1ZXMyOiB0aGUgc2Vjb25kIHNldCBvZiBwYXJhbWV0ZXIgdmFsdWVzXG4gICAgICpcbiAgICAgKiBAcmV0dXJucyBhbnkgUGFyYW0gb2JqZWN0cyB3aG9zZSB2YWx1ZXMgd2VyZSBkaWZmZXJlbnQgYmV0d2VlbiB2YWx1ZXMxIGFuZCB2YWx1ZXMyXG4gICAgICovXG4gICAgUGFyYW0uY2hhbmdlZCA9IGZ1bmN0aW9uIChwYXJhbXMsIHZhbHVlczEsIHZhbHVlczIpIHtcbiAgICAgICAgaWYgKHZhbHVlczEgPT09IHZvaWQgMCkgeyB2YWx1ZXMxID0ge307IH1cbiAgICAgICAgaWYgKHZhbHVlczIgPT09IHZvaWQgMCkgeyB2YWx1ZXMyID0ge307IH1cbiAgICAgICAgcmV0dXJuIHBhcmFtcy5maWx0ZXIoZnVuY3Rpb24gKHBhcmFtKSB7IHJldHVybiAhcGFyYW0udHlwZS5lcXVhbHModmFsdWVzMVtwYXJhbS5pZF0sIHZhbHVlczJbcGFyYW0uaWRdKTsgfSk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBDaGVja3MgaWYgdHdvIHBhcmFtIHZhbHVlIG9iamVjdHMgYXJlIGVxdWFsIChmb3IgYSBzZXQgb2YgW1tQYXJhbV1dIG9iamVjdHMpXG4gICAgICpcbiAgICAgKiBAcGFyYW0gcGFyYW1zIFRoZSBsaXN0IG9mIFtbUGFyYW1dXSBvYmplY3RzIHRvIGNoZWNrXG4gICAgICogQHBhcmFtIHZhbHVlczEgVGhlIGZpcnN0IHNldCBvZiBwYXJhbSB2YWx1ZXNcbiAgICAgKiBAcGFyYW0gdmFsdWVzMiBUaGUgc2Vjb25kIHNldCBvZiBwYXJhbSB2YWx1ZXNcbiAgICAgKlxuICAgICAqIEByZXR1cm5zIHRydWUgaWYgdGhlIHBhcmFtIHZhbHVlcyBpbiB2YWx1ZXMxIGFuZCB2YWx1ZXMyIGFyZSBlcXVhbFxuICAgICAqL1xuICAgIFBhcmFtLmVxdWFscyA9IGZ1bmN0aW9uIChwYXJhbXMsIHZhbHVlczEsIHZhbHVlczIpIHtcbiAgICAgICAgaWYgKHZhbHVlczEgPT09IHZvaWQgMCkgeyB2YWx1ZXMxID0ge307IH1cbiAgICAgICAgaWYgKHZhbHVlczIgPT09IHZvaWQgMCkgeyB2YWx1ZXMyID0ge307IH1cbiAgICAgICAgcmV0dXJuIFBhcmFtLmNoYW5nZWQocGFyYW1zLCB2YWx1ZXMxLCB2YWx1ZXMyKS5sZW5ndGggPT09IDA7XG4gICAgfTtcbiAgICAvKiogUmV0dXJucyB0cnVlIGlmIGEgdGhlIHBhcmFtZXRlciB2YWx1ZXMgYXJlIHZhbGlkLCBhY2NvcmRpbmcgdG8gdGhlIFBhcmFtIGRlZmluaXRpb25zICovXG4gICAgUGFyYW0udmFsaWRhdGVzID0gZnVuY3Rpb24gKHBhcmFtcywgdmFsdWVzJCQxKSB7XG4gICAgICAgIGlmICh2YWx1ZXMkJDEgPT09IHZvaWQgMCkgeyB2YWx1ZXMkJDEgPSB7fTsgfVxuICAgICAgICByZXR1cm4gcGFyYW1zLm1hcChmdW5jdGlvbiAocGFyYW0pIHsgcmV0dXJuIHBhcmFtLnZhbGlkYXRlcyh2YWx1ZXMkJDFbcGFyYW0uaWRdKTsgfSkucmVkdWNlKGFsbFRydWVSLCB0cnVlKTtcbiAgICB9O1xuICAgIHJldHVybiBQYXJhbTtcbn0oKSk7XG5cbi8qKiBAbW9kdWxlIHBhdGggKi8gLyoqIGZvciB0eXBlZG9jICovXG4vKipcbiAqIEBpbnRlcm5hbGFwaVxuICpcbiAqIEEgbm9kZSBpbiBhIFtbVHJlZUNoYW5nZXNdXSBwYXRoXG4gKlxuICogRm9yIGEgW1tUcmVlQ2hhbmdlc11dIHBhdGgsIHRoaXMgY2xhc3MgaG9sZHMgdGhlIHN0YXRlZnVsIGluZm9ybWF0aW9uIGZvciBhIHNpbmdsZSBub2RlIGluIHRoZSBwYXRoLlxuICogRWFjaCBQYXRoTm9kZSBjb3JyZXNwb25kcyB0byBhIHN0YXRlIGJlaW5nIGVudGVyZWQsIGV4aXRlZCwgb3IgcmV0YWluZWQuXG4gKiBUaGUgc3RhdGVmdWwgaW5mb3JtYXRpb24gaW5jbHVkZXMgcGFyYW1ldGVyIHZhbHVlcyBhbmQgcmVzb2x2ZSBkYXRhLlxuICovXG52YXIgUGF0aE5vZGUgPSAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIFBhdGhOb2RlKHN0YXRlT3JOb2RlKSB7XG4gICAgICAgIGlmIChzdGF0ZU9yTm9kZSBpbnN0YW5jZW9mIFBhdGhOb2RlKSB7XG4gICAgICAgICAgICB2YXIgbm9kZSA9IHN0YXRlT3JOb2RlO1xuICAgICAgICAgICAgdGhpcy5zdGF0ZSA9IG5vZGUuc3RhdGU7XG4gICAgICAgICAgICB0aGlzLnBhcmFtU2NoZW1hID0gbm9kZS5wYXJhbVNjaGVtYS5zbGljZSgpO1xuICAgICAgICAgICAgdGhpcy5wYXJhbVZhbHVlcyA9IGV4dGVuZCh7fSwgbm9kZS5wYXJhbVZhbHVlcyk7XG4gICAgICAgICAgICB0aGlzLnJlc29sdmFibGVzID0gbm9kZS5yZXNvbHZhYmxlcy5zbGljZSgpO1xuICAgICAgICAgICAgdGhpcy52aWV3cyA9IG5vZGUudmlld3MgJiYgbm9kZS52aWV3cy5zbGljZSgpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdmFyIHN0YXRlID0gc3RhdGVPck5vZGU7XG4gICAgICAgICAgICB0aGlzLnN0YXRlID0gc3RhdGU7XG4gICAgICAgICAgICB0aGlzLnBhcmFtU2NoZW1hID0gc3RhdGUucGFyYW1ldGVycyh7IGluaGVyaXQ6IGZhbHNlIH0pO1xuICAgICAgICAgICAgdGhpcy5wYXJhbVZhbHVlcyA9IHt9O1xuICAgICAgICAgICAgdGhpcy5yZXNvbHZhYmxlcyA9IHN0YXRlLnJlc29sdmFibGVzLm1hcChmdW5jdGlvbiAocmVzKSB7IHJldHVybiByZXMuY2xvbmUoKTsgfSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLyoqIFNldHMgW1twYXJhbVZhbHVlc11dIGZvciB0aGUgbm9kZSwgZnJvbSB0aGUgdmFsdWVzIG9mIGFuIG9iamVjdCBoYXNoICovXG4gICAgUGF0aE5vZGUucHJvdG90eXBlLmFwcGx5UmF3UGFyYW1zID0gZnVuY3Rpb24gKHBhcmFtcykge1xuICAgICAgICB2YXIgZ2V0UGFyYW1WYWwgPSBmdW5jdGlvbiAocGFyYW1EZWYpIHsgcmV0dXJuIFtwYXJhbURlZi5pZCwgcGFyYW1EZWYudmFsdWUocGFyYW1zW3BhcmFtRGVmLmlkXSldOyB9O1xuICAgICAgICB0aGlzLnBhcmFtVmFsdWVzID0gdGhpcy5wYXJhbVNjaGVtYS5yZWR1Y2UoZnVuY3Rpb24gKG1lbW8sIHBEZWYpIHsgcmV0dXJuIGFwcGx5UGFpcnMobWVtbywgZ2V0UGFyYW1WYWwocERlZikpOyB9LCB7fSk7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG4gICAgLyoqIEdldHMgYSBzcGVjaWZpYyBbW1BhcmFtXV0gbWV0YWRhdGEgdGhhdCBiZWxvbmdzIHRvIHRoZSBub2RlICovXG4gICAgUGF0aE5vZGUucHJvdG90eXBlLnBhcmFtZXRlciA9IGZ1bmN0aW9uIChuYW1lKSB7XG4gICAgICAgIHJldHVybiBmaW5kKHRoaXMucGFyYW1TY2hlbWEsIHByb3BFcShcImlkXCIsIG5hbWUpKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEByZXR1cm5zIHRydWUgaWYgdGhlIHN0YXRlIGFuZCBwYXJhbWV0ZXIgdmFsdWVzIGZvciBhbm90aGVyIFBhdGhOb2RlIGFyZVxuICAgICAqIGVxdWFsIHRvIHRoZSBzdGF0ZSBhbmQgcGFyYW0gdmFsdWVzIGZvciB0aGlzIFBhdGhOb2RlXG4gICAgICovXG4gICAgUGF0aE5vZGUucHJvdG90eXBlLmVxdWFscyA9IGZ1bmN0aW9uIChub2RlLCBwYXJhbXNGbikge1xuICAgICAgICB2YXIgZGlmZiA9IHRoaXMuZGlmZihub2RlLCBwYXJhbXNGbik7XG4gICAgICAgIHJldHVybiBkaWZmICYmIGRpZmYubGVuZ3RoID09PSAwO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogRmluZHMgUGFyYW1zIHdpdGggZGlmZmVyZW50IHBhcmFtZXRlciB2YWx1ZXMgb24gYW5vdGhlciBQYXRoTm9kZS5cbiAgICAgKlxuICAgICAqIEdpdmVuIGFub3RoZXIgbm9kZSAob2YgdGhlIHNhbWUgc3RhdGUpLCBmaW5kcyB0aGUgcGFyYW1ldGVyIHZhbHVlcyB3aGljaCBkaWZmZXIuXG4gICAgICogUmV0dXJucyB0aGUgW1tQYXJhbV1dIChzY2hlbWEgb2JqZWN0cykgd2hvc2UgcGFyYW1ldGVyIHZhbHVlcyBkaWZmZXIuXG4gICAgICpcbiAgICAgKiBHaXZlbiBhbm90aGVyIG5vZGUgZm9yIGEgZGlmZmVyZW50IHN0YXRlLCByZXR1cm5zIGBmYWxzZWBcbiAgICAgKlxuICAgICAqIEBwYXJhbSBub2RlIFRoZSBub2RlIHRvIGNvbXBhcmUgdG9cbiAgICAgKiBAcGFyYW0gcGFyYW1zRm4gQSBmdW5jdGlvbiB0aGF0IHJldHVybnMgd2hpY2ggcGFyYW1ldGVycyBzaG91bGQgYmUgY29tcGFyZWQuXG4gICAgICogQHJldHVybnMgVGhlIFtbUGFyYW1dXXMgd2hpY2ggZGlmZmVyLCBvciBudWxsIGlmIHRoZSB0d28gbm9kZXMgYXJlIGZvciBkaWZmZXJlbnQgc3RhdGVzXG4gICAgICovXG4gICAgUGF0aE5vZGUucHJvdG90eXBlLmRpZmYgPSBmdW5jdGlvbiAobm9kZSwgcGFyYW1zRm4pIHtcbiAgICAgICAgaWYgKHRoaXMuc3RhdGUgIT09IG5vZGUuc3RhdGUpXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIHZhciBwYXJhbXMgPSBwYXJhbXNGbiA/IHBhcmFtc0ZuKHRoaXMpIDogdGhpcy5wYXJhbVNjaGVtYTtcbiAgICAgICAgcmV0dXJuIFBhcmFtLmNoYW5nZWQocGFyYW1zLCB0aGlzLnBhcmFtVmFsdWVzLCBub2RlLnBhcmFtVmFsdWVzKTtcbiAgICB9O1xuICAgIC8qKiBSZXR1cm5zIGEgY2xvbmUgb2YgdGhlIFBhdGhOb2RlICovXG4gICAgUGF0aE5vZGUuY2xvbmUgPSBmdW5jdGlvbiAobm9kZSkge1xuICAgICAgICByZXR1cm4gbmV3IFBhdGhOb2RlKG5vZGUpO1xuICAgIH07XG4gICAgcmV0dXJuIFBhdGhOb2RlO1xufSgpKTtcblxuLyoqIEBtb2R1bGUgcGF0aCAqLyAvKiogZm9yIHR5cGVkb2MgKi9cbi8qKlxuICogVGhpcyBjbGFzcyBjb250YWlucyBmdW5jdGlvbnMgd2hpY2ggY29udmVydCBUYXJnZXRTdGF0ZXMsIE5vZGVzIGFuZCBwYXRocyBmcm9tIG9uZSB0eXBlIHRvIGFub3RoZXIuXG4gKi9cbnZhciBQYXRoVXRpbHMgPSAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIFBhdGhVdGlscygpIHtcbiAgICB9XG4gICAgLyoqIEdpdmVuIGEgUGF0aE5vZGVbXSwgY3JlYXRlIGFuIFRhcmdldFN0YXRlICovXG4gICAgUGF0aFV0aWxzLm1ha2VUYXJnZXRTdGF0ZSA9IGZ1bmN0aW9uIChwYXRoKSB7XG4gICAgICAgIHZhciBzdGF0ZSA9IHRhaWwocGF0aCkuc3RhdGU7XG4gICAgICAgIHJldHVybiBuZXcgVGFyZ2V0U3RhdGUoc3RhdGUsIHN0YXRlLCBwYXRoLm1hcChwcm9wKFwicGFyYW1WYWx1ZXNcIikpLnJlZHVjZShtZXJnZVIsIHt9KSk7XG4gICAgfTtcbiAgICBQYXRoVXRpbHMuYnVpbGRQYXRoID0gZnVuY3Rpb24gKHRhcmdldFN0YXRlKSB7XG4gICAgICAgIHZhciB0b1BhcmFtcyA9IHRhcmdldFN0YXRlLnBhcmFtcygpO1xuICAgICAgICByZXR1cm4gdGFyZ2V0U3RhdGUuJHN0YXRlKCkucGF0aC5tYXAoZnVuY3Rpb24gKHN0YXRlKSB7IHJldHVybiBuZXcgUGF0aE5vZGUoc3RhdGUpLmFwcGx5UmF3UGFyYW1zKHRvUGFyYW1zKTsgfSk7XG4gICAgfTtcbiAgICAvKiogR2l2ZW4gYSBmcm9tUGF0aDogUGF0aE5vZGVbXSBhbmQgYSBUYXJnZXRTdGF0ZSwgYnVpbGRzIGEgdG9QYXRoOiBQYXRoTm9kZVtdICovXG4gICAgUGF0aFV0aWxzLmJ1aWxkVG9QYXRoID0gZnVuY3Rpb24gKGZyb21QYXRoLCB0YXJnZXRTdGF0ZSkge1xuICAgICAgICB2YXIgdG9QYXRoID0gUGF0aFV0aWxzLmJ1aWxkUGF0aCh0YXJnZXRTdGF0ZSk7XG4gICAgICAgIGlmICh0YXJnZXRTdGF0ZS5vcHRpb25zKCkuaW5oZXJpdCkge1xuICAgICAgICAgICAgcmV0dXJuIFBhdGhVdGlscy5pbmhlcml0UGFyYW1zKGZyb21QYXRoLCB0b1BhdGgsIE9iamVjdC5rZXlzKHRhcmdldFN0YXRlLnBhcmFtcygpKSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRvUGF0aDtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgVmlld0NvbmZpZyBvYmplY3RzIGFuZCBhZGRzIHRvIG5vZGVzLlxuICAgICAqXG4gICAgICogT24gZWFjaCBbW1BhdGhOb2RlXV0sIGNyZWF0ZXMgVmlld0NvbmZpZyBvYmplY3RzIGZyb20gdGhlIHZpZXdzOiBwcm9wZXJ0eSBvZiB0aGUgbm9kZSdzIHN0YXRlXG4gICAgICovXG4gICAgUGF0aFV0aWxzLmFwcGx5Vmlld0NvbmZpZ3MgPSBmdW5jdGlvbiAoJHZpZXcsIHBhdGgsIHN0YXRlcykge1xuICAgICAgICAvLyBPbmx5IGFwcGx5IHRoZSB2aWV3Q29uZmlncyB0byB0aGUgbm9kZXMgZm9yIHRoZSBnaXZlbiBzdGF0ZXNcbiAgICAgICAgcGF0aC5maWx0ZXIoZnVuY3Rpb24gKG5vZGUpIHsgcmV0dXJuIGluQXJyYXkoc3RhdGVzLCBub2RlLnN0YXRlKTsgfSkuZm9yRWFjaChmdW5jdGlvbiAobm9kZSkge1xuICAgICAgICAgICAgdmFyIHZpZXdEZWNscyA9IHZhbHVlcyhub2RlLnN0YXRlLnZpZXdzIHx8IHt9KTtcbiAgICAgICAgICAgIHZhciBzdWJQYXRoID0gUGF0aFV0aWxzLnN1YlBhdGgocGF0aCwgZnVuY3Rpb24gKG4pIHsgcmV0dXJuIG4gPT09IG5vZGU7IH0pO1xuICAgICAgICAgICAgdmFyIHZpZXdDb25maWdzID0gdmlld0RlY2xzLm1hcChmdW5jdGlvbiAodmlldykgeyByZXR1cm4gJHZpZXcuY3JlYXRlVmlld0NvbmZpZyhzdWJQYXRoLCB2aWV3KTsgfSk7XG4gICAgICAgICAgICBub2RlLnZpZXdzID0gdmlld0NvbmZpZ3MucmVkdWNlKHVubmVzdFIsIFtdKTtcbiAgICAgICAgfSk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBHaXZlbiBhIGZyb21QYXRoIGFuZCBhIHRvUGF0aCwgcmV0dXJucyBhIG5ldyB0byBwYXRoIHdoaWNoIGluaGVyaXRzIHBhcmFtZXRlcnMgZnJvbSB0aGUgZnJvbVBhdGhcbiAgICAgKlxuICAgICAqIEZvciBhIHBhcmFtZXRlciBpbiBhIG5vZGUgdG8gYmUgaW5oZXJpdGVkIGZyb20gdGhlIGZyb20gcGF0aDpcbiAgICAgKiAtIFRoZSB0b1BhdGgncyBub2RlIG11c3QgaGF2ZSBhIG1hdGNoaW5nIG5vZGUgaW4gdGhlIGZyb21QYXRoIChieSBzdGF0ZSkuXG4gICAgICogLSBUaGUgcGFyYW1ldGVyIG5hbWUgbXVzdCBub3QgYmUgZm91bmQgaW4gdGhlIHRvS2V5cyBwYXJhbWV0ZXIgYXJyYXkuXG4gICAgICpcbiAgICAgKiBOb3RlOiB0aGUga2V5cyBwcm92aWRlZCBpbiB0b0tleXMgYXJlIGludGVuZGVkIHRvIGJlIHRob3NlIHBhcmFtIGtleXMgZXhwbGljaXRseSBzcGVjaWZpZWQgYnkgc29tZVxuICAgICAqIGNhbGxlciwgZm9yIGluc3RhbmNlLCAkc3RhdGUudHJhbnNpdGlvblRvKC4uLiwgdG9QYXJhbXMpLiAgSWYgYSBrZXkgd2FzIGZvdW5kIGluIHRvUGFyYW1zLFxuICAgICAqIGl0IGlzIG5vdCBpbmhlcml0ZWQgZnJvbSB0aGUgZnJvbVBhdGguXG4gICAgICovXG4gICAgUGF0aFV0aWxzLmluaGVyaXRQYXJhbXMgPSBmdW5jdGlvbiAoZnJvbVBhdGgsIHRvUGF0aCwgdG9LZXlzKSB7XG4gICAgICAgIGlmICh0b0tleXMgPT09IHZvaWQgMCkgeyB0b0tleXMgPSBbXTsgfVxuICAgICAgICBmdW5jdGlvbiBub2RlUGFyYW1WYWxzKHBhdGgsIHN0YXRlKSB7XG4gICAgICAgICAgICB2YXIgbm9kZSA9IGZpbmQocGF0aCwgcHJvcEVxKCdzdGF0ZScsIHN0YXRlKSk7XG4gICAgICAgICAgICByZXR1cm4gZXh0ZW5kKHt9LCBub2RlICYmIG5vZGUucGFyYW1WYWx1ZXMpO1xuICAgICAgICB9XG4gICAgICAgIHZhciBub0luaGVyaXQgPSBmcm9tUGF0aC5tYXAoZnVuY3Rpb24gKG5vZGUpIHsgcmV0dXJuIG5vZGUucGFyYW1TY2hlbWE7IH0pXG4gICAgICAgICAgICAucmVkdWNlKHVubmVzdFIsIFtdKVxuICAgICAgICAgICAgLmZpbHRlcihmdW5jdGlvbiAocGFyYW0pIHsgcmV0dXJuICFwYXJhbS5pbmhlcml0OyB9KVxuICAgICAgICAgICAgLm1hcChwcm9wKCdpZCcpKTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEdpdmVuIGFuIFtbUGF0aE5vZGVdXSBcInRvTm9kZVwiLCByZXR1cm4gYSBuZXcgW1tQYXRoTm9kZV1dIHdpdGggcGFyYW0gdmFsdWVzIGluaGVyaXRlZCBmcm9tIHRoZVxuICAgICAgICAgKiBtYXRjaGluZyBub2RlIGluIGZyb21QYXRoLiAgT25seSBpbmhlcml0IGtleXMgdGhhdCBhcmVuJ3QgZm91bmQgaW4gXCJ0b0tleXNcIiBmcm9tIHRoZSBub2RlIGluIFwiZnJvbVBhdGhcIlwiXG4gICAgICAgICAqL1xuICAgICAgICBmdW5jdGlvbiBtYWtlSW5oZXJpdGVkUGFyYW1zTm9kZSh0b05vZGUpIHtcbiAgICAgICAgICAgIC8vIEFsbCBwYXJhbSB2YWx1ZXMgZm9yIHRoZSBub2RlIChtYXkgaW5jbHVkZSBkZWZhdWx0IGtleS92YWxzLCB3aGVuIGtleSB3YXMgbm90IGZvdW5kIGluIHRvUGFyYW1zKVxuICAgICAgICAgICAgdmFyIHRvUGFyYW1WYWxzID0gZXh0ZW5kKHt9LCB0b05vZGUgJiYgdG9Ob2RlLnBhcmFtVmFsdWVzKTtcbiAgICAgICAgICAgIC8vIGxpbWl0ZWQgdG8gb25seSB0aG9zZSBrZXlzIGZvdW5kIGluIHRvUGFyYW1zXG4gICAgICAgICAgICB2YXIgaW5jb21pbmdQYXJhbVZhbHMgPSBwaWNrKHRvUGFyYW1WYWxzLCB0b0tleXMpO1xuICAgICAgICAgICAgdG9QYXJhbVZhbHMgPSBvbWl0KHRvUGFyYW1WYWxzLCB0b0tleXMpO1xuICAgICAgICAgICAgdmFyIGZyb21QYXJhbVZhbHMgPSBvbWl0KG5vZGVQYXJhbVZhbHMoZnJvbVBhdGgsIHRvTm9kZS5zdGF0ZSkgfHwge30sIG5vSW5oZXJpdCk7XG4gICAgICAgICAgICAvLyBleHRlbmQgdG9QYXJhbVZhbHMgd2l0aCBhbnkgZnJvbVBhcmFtVmFscywgdGhlbiBvdmVycmlkZSBhbnkgb2YgdGhvc2UgdGhvc2Ugd2l0aCBpbmNvbWluZ1BhcmFtVmFsc1xuICAgICAgICAgICAgdmFyIG93blBhcmFtVmFscyA9IGV4dGVuZCh0b1BhcmFtVmFscywgZnJvbVBhcmFtVmFscywgaW5jb21pbmdQYXJhbVZhbHMpO1xuICAgICAgICAgICAgcmV0dXJuIG5ldyBQYXRoTm9kZSh0b05vZGUuc3RhdGUpLmFwcGx5UmF3UGFyYW1zKG93blBhcmFtVmFscyk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gVGhlIHBhcmFtIGtleXMgc3BlY2lmaWVkIGJ5IHRoZSBpbmNvbWluZyB0b1BhcmFtc1xuICAgICAgICByZXR1cm4gdG9QYXRoLm1hcChtYWtlSW5oZXJpdGVkUGFyYW1zTm9kZSk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBDb21wdXRlcyB0aGUgdHJlZSBjaGFuZ2VzIChlbnRlcmluZywgZXhpdGluZykgYmV0d2VlbiBhIGZyb21QYXRoIGFuZCB0b1BhdGguXG4gICAgICovXG4gICAgUGF0aFV0aWxzLnRyZWVDaGFuZ2VzID0gZnVuY3Rpb24gKGZyb21QYXRoLCB0b1BhdGgsIHJlbG9hZFN0YXRlKSB7XG4gICAgICAgIHZhciBrZWVwID0gMCwgbWF4ID0gTWF0aC5taW4oZnJvbVBhdGgubGVuZ3RoLCB0b1BhdGgubGVuZ3RoKTtcbiAgICAgICAgdmFyIG5vZGVzTWF0Y2ggPSBmdW5jdGlvbiAobm9kZTEsIG5vZGUyKSB7XG4gICAgICAgICAgICByZXR1cm4gbm9kZTEuZXF1YWxzKG5vZGUyLCBQYXRoVXRpbHMubm9uRHluYW1pY1BhcmFtcyk7XG4gICAgICAgIH07XG4gICAgICAgIHdoaWxlIChrZWVwIDwgbWF4ICYmIGZyb21QYXRoW2tlZXBdLnN0YXRlICE9PSByZWxvYWRTdGF0ZSAmJiBub2Rlc01hdGNoKGZyb21QYXRoW2tlZXBdLCB0b1BhdGhba2VlcF0pKSB7XG4gICAgICAgICAgICBrZWVwKys7XG4gICAgICAgIH1cbiAgICAgICAgLyoqIEdpdmVuIGEgcmV0YWluZWQgbm9kZSwgcmV0dXJuIGEgbmV3IG5vZGUgd2hpY2ggdXNlcyB0aGUgdG8gbm9kZSdzIHBhcmFtIHZhbHVlcyAqL1xuICAgICAgICBmdW5jdGlvbiBhcHBseVRvUGFyYW1zKHJldGFpbmVkTm9kZSwgaWR4KSB7XG4gICAgICAgICAgICB2YXIgY2xvbmVkID0gUGF0aE5vZGUuY2xvbmUocmV0YWluZWROb2RlKTtcbiAgICAgICAgICAgIGNsb25lZC5wYXJhbVZhbHVlcyA9IHRvUGF0aFtpZHhdLnBhcmFtVmFsdWVzO1xuICAgICAgICAgICAgcmV0dXJuIGNsb25lZDtcbiAgICAgICAgfVxuICAgICAgICB2YXIgZnJvbSwgcmV0YWluZWQsIGV4aXRpbmcsIGVudGVyaW5nLCB0bztcbiAgICAgICAgZnJvbSA9IGZyb21QYXRoO1xuICAgICAgICByZXRhaW5lZCA9IGZyb20uc2xpY2UoMCwga2VlcCk7XG4gICAgICAgIGV4aXRpbmcgPSBmcm9tLnNsaWNlKGtlZXApO1xuICAgICAgICAvLyBDcmVhdGUgYSBuZXcgcmV0YWluZWQgcGF0aCAod2l0aCBzaGFsbG93IGNvcGllcyBvZiBub2Rlcykgd2hpY2ggaGF2ZSB0aGUgcGFyYW1zIG9mIHRoZSB0b1BhdGggbWFwcGVkXG4gICAgICAgIHZhciByZXRhaW5lZFdpdGhUb1BhcmFtcyA9IHJldGFpbmVkLm1hcChhcHBseVRvUGFyYW1zKTtcbiAgICAgICAgZW50ZXJpbmcgPSB0b1BhdGguc2xpY2Uoa2VlcCk7XG4gICAgICAgIHRvID0gKHJldGFpbmVkV2l0aFRvUGFyYW1zKS5jb25jYXQoZW50ZXJpbmcpO1xuICAgICAgICByZXR1cm4geyBmcm9tOiBmcm9tLCB0bzogdG8sIHJldGFpbmVkOiByZXRhaW5lZCwgZXhpdGluZzogZXhpdGluZywgZW50ZXJpbmc6IGVudGVyaW5nIH07XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIGEgbmV3IHBhdGggd2hpY2ggaXM6IHRoZSBzdWJwYXRoIG9mIHRoZSBmaXJzdCBwYXRoIHdoaWNoIG1hdGNoZXMgdGhlIHNlY29uZCBwYXRoLlxuICAgICAqXG4gICAgICogVGhlIG5ldyBwYXRoIHN0YXJ0cyBmcm9tIHJvb3QgYW5kIGNvbnRhaW5zIGFueSBub2RlcyB0aGF0IG1hdGNoIHRoZSBub2RlcyBpbiB0aGUgc2Vjb25kIHBhdGguXG4gICAgICogSXQgc3RvcHMgYmVmb3JlIHRoZSBmaXJzdCBub24tbWF0Y2hpbmcgbm9kZS5cbiAgICAgKlxuICAgICAqIE5vZGVzIGFyZSBjb21wYXJlZCB1c2luZyB0aGVpciBzdGF0ZSBwcm9wZXJ0eSBhbmQgdGhlaXIgcGFyYW1ldGVyIHZhbHVlcy5cbiAgICAgKiBJZiBhIGBwYXJhbXNGbmAgaXMgcHJvdmlkZWQsIG9ubHkgdGhlIFtbUGFyYW1dXSByZXR1cm5lZCBieSB0aGUgZnVuY3Rpb24gd2lsbCBiZSBjb25zaWRlcmVkIHdoZW4gY29tcGFyaW5nIG5vZGVzLlxuICAgICAqXG4gICAgICogQHBhcmFtIHBhdGhBIHRoZSBmaXJzdCBwYXRoXG4gICAgICogQHBhcmFtIHBhdGhCIHRoZSBzZWNvbmQgcGF0aFxuICAgICAqIEBwYXJhbSBwYXJhbXNGbiBhIGZ1bmN0aW9uIHdoaWNoIHJldHVybnMgdGhlIHBhcmFtZXRlcnMgdG8gY29uc2lkZXIgd2hlbiBjb21wYXJpbmdcbiAgICAgKlxuICAgICAqIEByZXR1cm5zIGFuIGFycmF5IG9mIFBhdGhOb2RlcyBmcm9tIHRoZSBmaXJzdCBwYXRoIHdoaWNoIG1hdGNoIHRoZSBub2RlcyBpbiB0aGUgc2Vjb25kIHBhdGhcbiAgICAgKi9cbiAgICBQYXRoVXRpbHMubWF0Y2hpbmcgPSBmdW5jdGlvbiAocGF0aEEsIHBhdGhCLCBwYXJhbXNGbikge1xuICAgICAgICB2YXIgZG9uZSA9IGZhbHNlO1xuICAgICAgICB2YXIgdHVwbGVzID0gYXJyYXlUdXBsZXMocGF0aEEsIHBhdGhCKTtcbiAgICAgICAgcmV0dXJuIHR1cGxlcy5yZWR1Y2UoZnVuY3Rpb24gKG1hdGNoaW5nLCBfYSkge1xuICAgICAgICAgICAgdmFyIG5vZGVBID0gX2FbMF0sIG5vZGVCID0gX2FbMV07XG4gICAgICAgICAgICBkb25lID0gZG9uZSB8fCAhbm9kZUEuZXF1YWxzKG5vZGVCLCBwYXJhbXNGbik7XG4gICAgICAgICAgICByZXR1cm4gZG9uZSA/IG1hdGNoaW5nIDogbWF0Y2hpbmcuY29uY2F0KG5vZGVBKTtcbiAgICAgICAgfSwgW10pO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogUmV0dXJucyB0cnVlIGlmIHR3byBwYXRocyBhcmUgaWRlbnRpY2FsLlxuICAgICAqXG4gICAgICogQHBhcmFtIHBhdGhBXG4gICAgICogQHBhcmFtIHBhdGhCXG4gICAgICogQHBhcmFtIHBhcmFtc0ZuIGEgZnVuY3Rpb24gd2hpY2ggcmV0dXJucyB0aGUgcGFyYW1ldGVycyB0byBjb25zaWRlciB3aGVuIGNvbXBhcmluZ1xuICAgICAqIEByZXR1cm5zIHRydWUgaWYgdGhlIHRoZSBzdGF0ZXMgYW5kIHBhcmFtZXRlciB2YWx1ZXMgZm9yIGJvdGggcGF0aHMgYXJlIGlkZW50aWNhbFxuICAgICAqL1xuICAgIFBhdGhVdGlscy5lcXVhbHMgPSBmdW5jdGlvbiAocGF0aEEsIHBhdGhCLCBwYXJhbXNGbikge1xuICAgICAgICByZXR1cm4gcGF0aEEubGVuZ3RoID09PSBwYXRoQi5sZW5ndGggJiZcbiAgICAgICAgICAgIFBhdGhVdGlscy5tYXRjaGluZyhwYXRoQSwgcGF0aEIsIHBhcmFtc0ZuKS5sZW5ndGggPT09IHBhdGhBLmxlbmd0aDtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFJldHVybiBhIHN1YnBhdGggb2YgYSBwYXRoLCB3aGljaCBzdG9wcyBhdCB0aGUgZmlyc3QgbWF0Y2hpbmcgbm9kZVxuICAgICAqXG4gICAgICogR2l2ZW4gYW4gYXJyYXkgb2Ygbm9kZXMsIHJldHVybnMgYSBzdWJzZXQgb2YgdGhlIGFycmF5IHN0YXJ0aW5nIGZyb20gdGhlIGZpcnN0IG5vZGUsXG4gICAgICogc3RvcHBpbmcgd2hlbiB0aGUgZmlyc3Qgbm9kZSBtYXRjaGVzIHRoZSBwcmVkaWNhdGUuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gcGF0aCBhIHBhdGggb2YgW1tQYXRoTm9kZV1dc1xuICAgICAqIEBwYXJhbSBwcmVkaWNhdGUgYSBbW1ByZWRpY2F0ZV1dIGZuIHRoYXQgbWF0Y2hlcyBbW1BhdGhOb2RlXV1zXG4gICAgICogQHJldHVybnMgYSBzdWJwYXRoIHVwIHRvIHRoZSBtYXRjaGluZyBub2RlLCBvciB1bmRlZmluZWQgaWYgbm8gbWF0Y2ggaXMgZm91bmRcbiAgICAgKi9cbiAgICBQYXRoVXRpbHMuc3ViUGF0aCA9IGZ1bmN0aW9uIChwYXRoLCBwcmVkaWNhdGUpIHtcbiAgICAgICAgdmFyIG5vZGUgPSBmaW5kKHBhdGgsIHByZWRpY2F0ZSk7XG4gICAgICAgIHZhciBlbGVtZW50SWR4ID0gcGF0aC5pbmRleE9mKG5vZGUpO1xuICAgICAgICByZXR1cm4gZWxlbWVudElkeCA9PT0gLTEgPyB1bmRlZmluZWQgOiBwYXRoLnNsaWNlKDAsIGVsZW1lbnRJZHggKyAxKTtcbiAgICB9O1xuICAgIHJldHVybiBQYXRoVXRpbHM7XG59KCkpO1xuUGF0aFV0aWxzLm5vbkR5bmFtaWNQYXJhbXMgPSBmdW5jdGlvbiAobm9kZSkge1xuICAgIHJldHVybiBub2RlLnN0YXRlLnBhcmFtZXRlcnMoeyBpbmhlcml0OiBmYWxzZSB9KVxuICAgICAgICAuZmlsdGVyKGZ1bmN0aW9uIChwYXJhbSkgeyByZXR1cm4gIXBhcmFtLmR5bmFtaWM7IH0pO1xufTtcbi8qKiBHZXRzIHRoZSByYXcgcGFyYW1ldGVyIHZhbHVlcyBmcm9tIGEgcGF0aCAqL1xuUGF0aFV0aWxzLnBhcmFtVmFsdWVzID0gZnVuY3Rpb24gKHBhdGgpIHtcbiAgICByZXR1cm4gcGF0aC5yZWR1Y2UoZnVuY3Rpb24gKGFjYywgbm9kZSkgeyByZXR1cm4gZXh0ZW5kKGFjYywgbm9kZS5wYXJhbVZhbHVlcyk7IH0sIHt9KTtcbn07XG5cbi8qKlxuICogQGNvcmVhcGlcbiAqIEBtb2R1bGUgcmVzb2x2ZVxuICovIC8qKiBmb3IgdHlwZWRvYyAqL1xuLy8gVE9ETzogZXhwbGljaXRseSBtYWtlIHRoaXMgdXNlciBjb25maWd1cmFibGVcbnZhciBkZWZhdWx0UmVzb2x2ZVBvbGljeSA9IHtcbiAgICB3aGVuOiBcIkxBWllcIixcbiAgICBhc3luYzogXCJXQUlUXCJcbn07XG4vKipcbiAqIFRoZSBiYXNpYyBidWlsZGluZyBibG9jayBmb3IgdGhlIHJlc29sdmUgc3lzdGVtLlxuICpcbiAqIFJlc29sdmFibGVzIGVuY2Fwc3VsYXRlIGEgc3RhdGUncyByZXNvbHZlJ3MgcmVzb2x2ZUZuLCB0aGUgcmVzb2x2ZUZuJ3MgZGVjbGFyZWQgZGVwZW5kZW5jaWVzLCB0aGUgd3JhcHBlZCAoLnByb21pc2UpLFxuICogYW5kIHRoZSB1bndyYXBwZWQtd2hlbi1jb21wbGV0ZSAoLmRhdGEpIHJlc3VsdCBvZiB0aGUgcmVzb2x2ZUZuLlxuICpcbiAqIFJlc29sdmFibGUuZ2V0KCkgZWl0aGVyIHJldHJpZXZlcyB0aGUgUmVzb2x2YWJsZSdzIGV4aXN0aW5nIHByb21pc2UsIG9yIGVsc2UgaW52b2tlcyByZXNvbHZlKCkgKHdoaWNoIGludm9rZXMgdGhlXG4gKiByZXNvbHZlRm4pIGFuZCByZXR1cm5zIHRoZSByZXN1bHRpbmcgcHJvbWlzZS5cbiAqXG4gKiBSZXNvbHZhYmxlLmdldCgpIGFuZCBSZXNvbHZhYmxlLnJlc29sdmUoKSBib3RoIGV4ZWN1dGUgd2l0aGluIGEgY29udGV4dCBwYXRoLCB3aGljaCBpcyBwYXNzZWQgYXMgdGhlIGZpcnN0XG4gKiBwYXJhbWV0ZXIgdG8gdGhvc2UgZm5zLlxuICovXG52YXIgUmVzb2x2YWJsZSA9IChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gUmVzb2x2YWJsZShhcmcxLCByZXNvbHZlRm4sIGRlcHMsIHBvbGljeSwgZGF0YSkge1xuICAgICAgICB0aGlzLnJlc29sdmVkID0gZmFsc2U7XG4gICAgICAgIHRoaXMucHJvbWlzZSA9IHVuZGVmaW5lZDtcbiAgICAgICAgaWYgKGFyZzEgaW5zdGFuY2VvZiBSZXNvbHZhYmxlKSB7XG4gICAgICAgICAgICBleHRlbmQodGhpcywgYXJnMSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoaXNGdW5jdGlvbihyZXNvbHZlRm4pKSB7XG4gICAgICAgICAgICBpZiAoYXJnMSA9PSBudWxsIHx8IGFyZzEgPT0gdW5kZWZpbmVkKVxuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIm5ldyBSZXNvbHZhYmxlKCk6IHRva2VuIGFyZ3VtZW50IGlzIHJlcXVpcmVkXCIpO1xuICAgICAgICAgICAgaWYgKCFpc0Z1bmN0aW9uKHJlc29sdmVGbikpXG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwibmV3IFJlc29sdmFibGUoKTogcmVzb2x2ZUZuIGFyZ3VtZW50IG11c3QgYmUgYSBmdW5jdGlvblwiKTtcbiAgICAgICAgICAgIHRoaXMudG9rZW4gPSBhcmcxO1xuICAgICAgICAgICAgdGhpcy5wb2xpY3kgPSBwb2xpY3k7XG4gICAgICAgICAgICB0aGlzLnJlc29sdmVGbiA9IHJlc29sdmVGbjtcbiAgICAgICAgICAgIHRoaXMuZGVwcyA9IGRlcHMgfHwgW107XG4gICAgICAgICAgICB0aGlzLmRhdGEgPSBkYXRhO1xuICAgICAgICAgICAgdGhpcy5yZXNvbHZlZCA9IGRhdGEgIT09IHVuZGVmaW5lZDtcbiAgICAgICAgICAgIHRoaXMucHJvbWlzZSA9IHRoaXMucmVzb2x2ZWQgPyBzZXJ2aWNlcy4kcS53aGVuKHRoaXMuZGF0YSkgOiB1bmRlZmluZWQ7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoaXNPYmplY3QoYXJnMSkgJiYgYXJnMS50b2tlbiAmJiBpc0Z1bmN0aW9uKGFyZzEucmVzb2x2ZUZuKSkge1xuICAgICAgICAgICAgdmFyIGxpdGVyYWwgPSBhcmcxO1xuICAgICAgICAgICAgcmV0dXJuIG5ldyBSZXNvbHZhYmxlKGxpdGVyYWwudG9rZW4sIGxpdGVyYWwucmVzb2x2ZUZuLCBsaXRlcmFsLmRlcHMsIGxpdGVyYWwucG9saWN5LCBsaXRlcmFsLmRhdGEpO1xuICAgICAgICB9XG4gICAgfVxuICAgIFJlc29sdmFibGUucHJvdG90eXBlLmdldFBvbGljeSA9IGZ1bmN0aW9uIChzdGF0ZSkge1xuICAgICAgICB2YXIgdGhpc1BvbGljeSA9IHRoaXMucG9saWN5IHx8IHt9O1xuICAgICAgICB2YXIgc3RhdGVQb2xpY3kgPSBzdGF0ZSAmJiBzdGF0ZS5yZXNvbHZlUG9saWN5IHx8IHt9O1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgd2hlbjogdGhpc1BvbGljeS53aGVuIHx8IHN0YXRlUG9saWN5LndoZW4gfHwgZGVmYXVsdFJlc29sdmVQb2xpY3kud2hlbixcbiAgICAgICAgICAgIGFzeW5jOiB0aGlzUG9saWN5LmFzeW5jIHx8IHN0YXRlUG9saWN5LmFzeW5jIHx8IGRlZmF1bHRSZXNvbHZlUG9saWN5LmFzeW5jLFxuICAgICAgICB9O1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQXN5bmNocm9ub3VzbHkgcmVzb2x2ZSB0aGlzIFJlc29sdmFibGUncyBkYXRhXG4gICAgICpcbiAgICAgKiBHaXZlbiBhIFJlc29sdmVDb250ZXh0IHRoYXQgdGhpcyBSZXNvbHZhYmxlIGlzIGZvdW5kIGluOlxuICAgICAqIFdhaXQgZm9yIHRoaXMgUmVzb2x2YWJsZSdzIGRlcGVuZGVuY2llcywgdGhlbiBpbnZva2UgdGhpcyBSZXNvbHZhYmxlJ3MgZnVuY3Rpb25cbiAgICAgKiBhbmQgdXBkYXRlIHRoZSBSZXNvbHZhYmxlJ3Mgc3RhdGVcbiAgICAgKi9cbiAgICBSZXNvbHZhYmxlLnByb3RvdHlwZS5yZXNvbHZlID0gZnVuY3Rpb24gKHJlc29sdmVDb250ZXh0LCB0cmFucykge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICB2YXIgJHEgPSBzZXJ2aWNlcy4kcTtcbiAgICAgICAgLy8gR2V0cyBhbGwgZGVwZW5kZW5jaWVzIGZyb20gUmVzb2x2ZUNvbnRleHQgYW5kIHdhaXQgZm9yIHRoZW0gdG8gYmUgcmVzb2x2ZWRcbiAgICAgICAgdmFyIGdldFJlc29sdmFibGVEZXBlbmRlbmNpZXMgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gJHEuYWxsKHJlc29sdmVDb250ZXh0LmdldERlcGVuZGVuY2llcyhfdGhpcykubWFwKGZ1bmN0aW9uIChyZXNvbHZhYmxlKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHJlc29sdmFibGUuZ2V0KHJlc29sdmVDb250ZXh0LCB0cmFucyk7XG4gICAgICAgICAgICB9KSk7XG4gICAgICAgIH07XG4gICAgICAgIC8vIEludm9rZXMgdGhlIHJlc29sdmUgZnVuY3Rpb24gcGFzc2luZyB0aGUgcmVzb2x2ZWQgZGVwZW5kZW5jaWVzIGFzIGFyZ3VtZW50c1xuICAgICAgICB2YXIgaW52b2tlUmVzb2x2ZUZuID0gZnVuY3Rpb24gKHJlc29sdmVkRGVwcykge1xuICAgICAgICAgICAgcmV0dXJuIF90aGlzLnJlc29sdmVGbi5hcHBseShudWxsLCByZXNvbHZlZERlcHMpO1xuICAgICAgICB9O1xuICAgICAgICAvKipcbiAgICAgICAgICogRm9yIFJYV0FJVCBwb2xpY3k6XG4gICAgICAgICAqXG4gICAgICAgICAqIEdpdmVuIGFuIG9ic2VydmFibGUgcmV0dXJuZWQgZnJvbSBhIHJlc29sdmUgZnVuY3Rpb246XG4gICAgICAgICAqIC0gZW5hYmxlcyAuY2FjaGUoKSBtb2RlICh0aGlzIGFsbG93cyBtdWx0aWNhc3Qgc3Vic2NyaWJlcnMpXG4gICAgICAgICAqIC0gdGhlbiBjYWxscyB0b1Byb21pc2UoKSAodGhpcyB0cmlnZ2VycyBzdWJzY3JpYmUoKSBhbmQgdGh1cyBmZXRjaGVzKVxuICAgICAgICAgKiAtIFdhaXRzIGZvciB0aGUgcHJvbWlzZSwgdGhlbiByZXR1cm4gdGhlIGNhY2hlZCBvYnNlcnZhYmxlIChub3QgdGhlIGZpcnN0IGVtaXR0ZWQgdmFsdWUpLlxuICAgICAgICAgKi9cbiAgICAgICAgdmFyIHdhaXRGb3JSeCA9IGZ1bmN0aW9uIChvYnNlcnZhYmxlJCkge1xuICAgICAgICAgICAgdmFyIGNhY2hlZCA9IG9ic2VydmFibGUkLmNhY2hlKDEpO1xuICAgICAgICAgICAgcmV0dXJuIGNhY2hlZC50YWtlKDEpLnRvUHJvbWlzZSgpLnRoZW4oZnVuY3Rpb24gKCkgeyByZXR1cm4gY2FjaGVkOyB9KTtcbiAgICAgICAgfTtcbiAgICAgICAgLy8gSWYgdGhlIHJlc29sdmUgcG9saWN5IGlzIFJYV0FJVCwgd2FpdCBmb3IgdGhlIG9ic2VydmFibGUgdG8gZW1pdCBzb21ldGhpbmcuIG90aGVyd2lzZSBwYXNzIHRocm91Z2guXG4gICAgICAgIHZhciBub2RlID0gcmVzb2x2ZUNvbnRleHQuZmluZE5vZGUodGhpcyk7XG4gICAgICAgIHZhciBzdGF0ZSA9IG5vZGUgJiYgbm9kZS5zdGF0ZTtcbiAgICAgICAgdmFyIG1heWJlV2FpdEZvclJ4ID0gdGhpcy5nZXRQb2xpY3koc3RhdGUpLmFzeW5jID09PSBcIlJYV0FJVFwiID8gd2FpdEZvclJ4IDogaWRlbnRpdHk7XG4gICAgICAgIC8vIEFmdGVyIHRoZSBmaW5hbCB2YWx1ZSBoYXMgYmVlbiByZXNvbHZlZCwgdXBkYXRlIHRoZSBzdGF0ZSBvZiB0aGUgUmVzb2x2YWJsZVxuICAgICAgICB2YXIgYXBwbHlSZXNvbHZlZFZhbHVlID0gZnVuY3Rpb24gKHJlc29sdmVkVmFsdWUpIHtcbiAgICAgICAgICAgIF90aGlzLmRhdGEgPSByZXNvbHZlZFZhbHVlO1xuICAgICAgICAgICAgX3RoaXMucmVzb2x2ZWQgPSB0cnVlO1xuICAgICAgICAgICAgdHJhY2UudHJhY2VSZXNvbHZhYmxlUmVzb2x2ZWQoX3RoaXMsIHRyYW5zKTtcbiAgICAgICAgICAgIHJldHVybiBfdGhpcy5kYXRhO1xuICAgICAgICB9O1xuICAgICAgICAvLyBTZXRzIHRoZSBwcm9taXNlIHByb3BlcnR5IGZpcnN0LCB0aGVuIGdldHNSZXNvbHZhYmxlRGVwZW5kZW5jaWVzIGluIHRoZSBjb250ZXh0IG9mIHRoZSBwcm9taXNlIGNoYWluLiBBbHdheXMgd2FpdHMgb25lIHRpY2suXG4gICAgICAgIHJldHVybiB0aGlzLnByb21pc2UgPSAkcS53aGVuKClcbiAgICAgICAgICAgIC50aGVuKGdldFJlc29sdmFibGVEZXBlbmRlbmNpZXMpXG4gICAgICAgICAgICAudGhlbihpbnZva2VSZXNvbHZlRm4pXG4gICAgICAgICAgICAudGhlbihtYXliZVdhaXRGb3JSeClcbiAgICAgICAgICAgIC50aGVuKGFwcGx5UmVzb2x2ZWRWYWx1ZSk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBHZXRzIGEgcHJvbWlzZSBmb3IgdGhpcyBSZXNvbHZhYmxlJ3MgZGF0YS5cbiAgICAgKlxuICAgICAqIEZldGNoZXMgdGhlIGRhdGEgYW5kIHJldHVybnMgYSBwcm9taXNlLlxuICAgICAqIFJldHVybnMgdGhlIGV4aXN0aW5nIHByb21pc2UgaWYgaXQgaGFzIGFscmVhZHkgYmVlbiBmZXRjaGVkIG9uY2UuXG4gICAgICovXG4gICAgUmVzb2x2YWJsZS5wcm90b3R5cGUuZ2V0ID0gZnVuY3Rpb24gKHJlc29sdmVDb250ZXh0LCB0cmFucykge1xuICAgICAgICByZXR1cm4gdGhpcy5wcm9taXNlIHx8IHRoaXMucmVzb2x2ZShyZXNvbHZlQ29udGV4dCwgdHJhbnMpO1xuICAgIH07XG4gICAgUmVzb2x2YWJsZS5wcm90b3R5cGUudG9TdHJpbmcgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiBcIlJlc29sdmFibGUodG9rZW46IFwiICsgc3RyaW5naWZ5KHRoaXMudG9rZW4pICsgXCIsIHJlcXVpcmVzOiBbXCIgKyB0aGlzLmRlcHMubWFwKHN0cmluZ2lmeSkgKyBcIl0pXCI7XG4gICAgfTtcbiAgICBSZXNvbHZhYmxlLnByb3RvdHlwZS5jbG9uZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBSZXNvbHZhYmxlKHRoaXMpO1xuICAgIH07XG4gICAgcmV0dXJuIFJlc29sdmFibGU7XG59KCkpO1xuUmVzb2x2YWJsZS5mcm9tRGF0YSA9IGZ1bmN0aW9uICh0b2tlbiwgZGF0YSkge1xuICAgIHJldHVybiBuZXcgUmVzb2x2YWJsZSh0b2tlbiwgZnVuY3Rpb24gKCkgeyByZXR1cm4gZGF0YTsgfSwgbnVsbCwgbnVsbCwgZGF0YSk7XG59O1xuXG4vKiogQGludGVybmFsYXBpICovXG52YXIgcmVzb2x2ZVBvbGljaWVzID0ge1xuICAgIHdoZW46IHtcbiAgICAgICAgTEFaWTogXCJMQVpZXCIsXG4gICAgICAgIEVBR0VSOiBcIkVBR0VSXCJcbiAgICB9LFxuICAgIGFzeW5jOiB7XG4gICAgICAgIFdBSVQ6IFwiV0FJVFwiLFxuICAgICAgICBOT1dBSVQ6IFwiTk9XQUlUXCIsXG4gICAgICAgIFJYV0FJVDogXCJSWFdBSVRcIlxuICAgIH1cbn07XG5cbi8qKiBAbW9kdWxlIHJlc29sdmUgKi9cbi8qKiBmb3IgdHlwZWRvYyAqL1xudmFyIHdoZW4gPSByZXNvbHZlUG9saWNpZXMud2hlbjtcbnZhciBBTExfV0hFTlMgPSBbd2hlbi5FQUdFUiwgd2hlbi5MQVpZXTtcbnZhciBFQUdFUl9XSEVOUyA9IFt3aGVuLkVBR0VSXTtcbnZhciBOQVRJVkVfSU5KRUNUT1JfVE9LRU4gPSBcIk5hdGl2ZSBJbmplY3RvclwiO1xuLyoqXG4gKiBFbmNhcHN1bGF0ZXMgRGVwZW5kZW5jeSBJbmplY3Rpb24gZm9yIGEgcGF0aCBvZiBub2Rlc1xuICpcbiAqIFVJLVJvdXRlciBzdGF0ZXMgYXJlIG9yZ2FuaXplZCBhcyBhIHRyZWUuXG4gKiBBIG5lc3RlZCBzdGF0ZSBoYXMgYSBwYXRoIG9mIGFuY2VzdG9ycyB0byB0aGUgcm9vdCBvZiB0aGUgdHJlZS5cbiAqIFdoZW4gYSBzdGF0ZSBpcyBiZWluZyBhY3RpdmF0ZWQsIGVhY2ggZWxlbWVudCBpbiB0aGUgcGF0aCBpcyB3cmFwcGVkIGFzIGEgW1tQYXRoTm9kZV1dLlxuICogQSBgUGF0aE5vZGVgIGlzIGEgc3RhdGVmdWwgb2JqZWN0IHRoYXQgaG9sZHMgdGhpbmdzIGxpa2UgcGFyYW1ldGVycyBhbmQgcmVzb2x2YWJsZXMgZm9yIHRoZSBzdGF0ZSBiZWluZyBhY3RpdmF0ZWQuXG4gKlxuICogVGhlIFJlc29sdmVDb250ZXh0IGNsb3NlcyBvdmVyIHRoZSBbW1BhdGhOb2RlXV1zLCBhbmQgcHJvdmlkZXMgREkgZm9yIHRoZSBsYXN0IG5vZGUgaW4gdGhlIHBhdGguXG4gKi9cbnZhciBSZXNvbHZlQ29udGV4dCA9IChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gUmVzb2x2ZUNvbnRleHQoX3BhdGgpIHtcbiAgICAgICAgdGhpcy5fcGF0aCA9IF9wYXRoO1xuICAgIH1cbiAgICAvKiogR2V0cyBhbGwgdGhlIHRva2VucyBmb3VuZCBpbiB0aGUgcmVzb2x2ZSBjb250ZXh0LCBkZS1kdXBsaWNhdGVkICovXG4gICAgUmVzb2x2ZUNvbnRleHQucHJvdG90eXBlLmdldFRva2VucyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3BhdGgucmVkdWNlKGZ1bmN0aW9uIChhY2MsIG5vZGUpIHsgcmV0dXJuIGFjYy5jb25jYXQobm9kZS5yZXNvbHZhYmxlcy5tYXAoZnVuY3Rpb24gKHIpIHsgcmV0dXJuIHIudG9rZW47IH0pKTsgfSwgW10pLnJlZHVjZSh1bmlxUiwgW10pO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogR2V0cyB0aGUgUmVzb2x2YWJsZSB0aGF0IG1hdGNoZXMgdGhlIHRva2VuXG4gICAgICpcbiAgICAgKiBHZXRzIHRoZSBsYXN0IFJlc29sdmFibGUgdGhhdCBtYXRjaGVzIHRoZSB0b2tlbiBpbiB0aGlzIGNvbnRleHQsIG9yIHVuZGVmaW5lZC5cbiAgICAgKiBUaHJvd3MgYW4gZXJyb3IgaWYgaXQgZG9lc24ndCBleGlzdCBpbiB0aGUgUmVzb2x2ZUNvbnRleHRcbiAgICAgKi9cbiAgICBSZXNvbHZlQ29udGV4dC5wcm90b3R5cGUuZ2V0UmVzb2x2YWJsZSA9IGZ1bmN0aW9uICh0b2tlbikge1xuICAgICAgICB2YXIgbWF0Y2hpbmcgPSB0aGlzLl9wYXRoLm1hcChmdW5jdGlvbiAobm9kZSkgeyByZXR1cm4gbm9kZS5yZXNvbHZhYmxlczsgfSlcbiAgICAgICAgICAgIC5yZWR1Y2UodW5uZXN0UiwgW10pXG4gICAgICAgICAgICAuZmlsdGVyKGZ1bmN0aW9uIChyKSB7IHJldHVybiByLnRva2VuID09PSB0b2tlbjsgfSk7XG4gICAgICAgIHJldHVybiB0YWlsKG1hdGNoaW5nKTtcbiAgICB9O1xuICAgIC8qKiBSZXR1cm5zIHRoZSBbW1Jlc29sdmVQb2xpY3ldXSBmb3IgdGhlIGdpdmVuIFtbUmVzb2x2YWJsZV1dICovXG4gICAgUmVzb2x2ZUNvbnRleHQucHJvdG90eXBlLmdldFBvbGljeSA9IGZ1bmN0aW9uIChyZXNvbHZhYmxlKSB7XG4gICAgICAgIHZhciBub2RlID0gdGhpcy5maW5kTm9kZShyZXNvbHZhYmxlKTtcbiAgICAgICAgcmV0dXJuIHJlc29sdmFibGUuZ2V0UG9saWN5KG5vZGUuc3RhdGUpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogUmV0dXJucyBhIFJlc29sdmVDb250ZXh0IHRoYXQgaW5jbHVkZXMgYSBwb3J0aW9uIG9mIHRoaXMgb25lXG4gICAgICpcbiAgICAgKiBHaXZlbiBhIHN0YXRlLCB0aGlzIG1ldGhvZCBjcmVhdGVzIGEgbmV3IFJlc29sdmVDb250ZXh0IGZyb20gdGhpcyBvbmUuXG4gICAgICogVGhlIG5ldyBjb250ZXh0IHN0YXJ0cyBhdCB0aGUgZmlyc3Qgbm9kZSAocm9vdCkgYW5kIHN0b3BzIGF0IHRoZSBub2RlIGZvciB0aGUgYHN0YXRlYCBwYXJhbWV0ZXIuXG4gICAgICpcbiAgICAgKiAjIyMjIFdoeVxuICAgICAqXG4gICAgICogV2hlbiBhIHRyYW5zaXRpb24gaXMgY3JlYXRlZCwgdGhlIG5vZGVzIGluIHRoZSBcIlRvIFBhdGhcIiBhcmUgaW5qZWN0ZWQgZnJvbSBhIFJlc29sdmVDb250ZXh0LlxuICAgICAqIEEgUmVzb2x2ZUNvbnRleHQgY2xvc2VzIG92ZXIgYSBwYXRoIG9mIFtbUGF0aE5vZGVdXXMgYW5kIHByb2Nlc3NlcyB0aGUgcmVzb2x2YWJsZXMuXG4gICAgICogVGhlIFwiVG8gU3RhdGVcIiBjYW4gaW5qZWN0IHZhbHVlcyBmcm9tIGl0cyBvd24gcmVzb2x2YWJsZXMsIGFzIHdlbGwgYXMgdGhvc2UgZnJvbSBhbGwgaXRzIGFuY2VzdG9yIHN0YXRlJ3MgKG5vZGUncykuXG4gICAgICogVGhpcyBtZXRob2QgaXMgdXNlZCB0byBjcmVhdGUgYSBuYXJyb3dlciBjb250ZXh0IHdoZW4gaW5qZWN0aW5nIGFuY2VzdG9yIG5vZGVzLlxuICAgICAqXG4gICAgICogQGV4YW1wbGVcbiAgICAgKiBgbGV0IEFCQ0QgPSBuZXcgUmVzb2x2ZUNvbnRleHQoW0EsIEIsIEMsIERdKTtgXG4gICAgICpcbiAgICAgKiBHaXZlbiBhIHBhdGggYFtBLCBCLCBDLCBEXWAsIHdoZXJlIGBBYCwgYEJgLCBgQ2AgYW5kIGBEYCBhcmUgbm9kZXMgZm9yIHN0YXRlcyBgYWAsIGBiYCwgYGNgLCBgZGA6XG4gICAgICogV2hlbiBpbmplY3RpbmcgYERgLCBgRGAgc2hvdWxkIGhhdmUgYWNjZXNzIHRvIGFsbCByZXNvbHZhYmxlcyBmcm9tIGBBYCwgYEJgLCBgQ2AsIGBEYC5cbiAgICAgKiBIb3dldmVyLCBgQmAgc2hvdWxkIG9ubHkgYmUgYWJsZSB0byBhY2Nlc3MgcmVzb2x2YWJsZXMgZnJvbSBgQWAsIGBCYC5cbiAgICAgKlxuICAgICAqIFdoZW4gcmVzb2x2aW5nIGZvciB0aGUgYEJgIG5vZGUsIGZpcnN0IHRha2UgdGhlIGZ1bGwgXCJUbyBQYXRoXCIgQ29udGV4dCBgW0EsQixDLERdYCBhbmQgbGltaXQgdG8gdGhlIHN1YnBhdGggYFtBLEJdYC5cbiAgICAgKiBgbGV0IEFCID0gQUJDRC5zdWJjb250ZXh0KGEpYFxuICAgICAqL1xuICAgIFJlc29sdmVDb250ZXh0LnByb3RvdHlwZS5zdWJDb250ZXh0ID0gZnVuY3Rpb24gKHN0YXRlKSB7XG4gICAgICAgIHJldHVybiBuZXcgUmVzb2x2ZUNvbnRleHQoUGF0aFV0aWxzLnN1YlBhdGgodGhpcy5fcGF0aCwgZnVuY3Rpb24gKG5vZGUpIHsgcmV0dXJuIG5vZGUuc3RhdGUgPT09IHN0YXRlOyB9KSk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBBZGRzIFJlc29sdmFibGVzIHRvIHRoZSBub2RlIHRoYXQgbWF0Y2hlcyB0aGUgc3RhdGVcbiAgICAgKlxuICAgICAqIFRoaXMgYWRkcyBhIFtbUmVzb2x2YWJsZV1dIChnZW5lcmFsbHkgb25lIGNyZWF0ZWQgb24gdGhlIGZseTsgbm90IGRlY2xhcmVkIG9uIGEgW1tTdGF0ZURlY2xhcmF0aW9uLnJlc29sdmVdXSBibG9jaykuXG4gICAgICogVGhlIHJlc29sdmFibGUgaXMgYWRkZWQgdG8gdGhlIG5vZGUgbWF0Y2hpbmcgdGhlIGBzdGF0ZWAgcGFyYW1ldGVyLlxuICAgICAqXG4gICAgICogVGhlc2UgbmV3IHJlc29sdmFibGVzIGFyZSBub3QgYXV0b21hdGljYWxseSBmZXRjaGVkLlxuICAgICAqIFRoZSBjYWxsaW5nIGNvZGUgc2hvdWxkIGVpdGhlciBmZXRjaCB0aGVtLCBmZXRjaCBzb21ldGhpbmcgdGhhdCBkZXBlbmRzIG9uIHRoZW0sXG4gICAgICogb3IgcmVseSBvbiBbW3Jlc29sdmVQYXRoXV0gYmVpbmcgY2FsbGVkIHdoZW4gc29tZSBzdGF0ZSBpcyBiZWluZyBlbnRlcmVkLlxuICAgICAqXG4gICAgICogTm90ZTogZWFjaCByZXNvbHZhYmxlJ3MgW1tSZXNvbHZlUG9saWN5XV0gaXMgbWVyZ2VkIHdpdGggdGhlIHN0YXRlJ3MgcG9saWN5LCBhbmQgdGhlIGdsb2JhbCBkZWZhdWx0LlxuICAgICAqXG4gICAgICogQHBhcmFtIG5ld1Jlc29sdmFibGVzIHRoZSBuZXcgUmVzb2x2YWJsZXNcbiAgICAgKiBAcGFyYW0gc3RhdGUgVXNlZCB0byBmaW5kIHRoZSBub2RlIHRvIHB1dCB0aGUgcmVzb2x2YWJsZSBvblxuICAgICAqL1xuICAgIFJlc29sdmVDb250ZXh0LnByb3RvdHlwZS5hZGRSZXNvbHZhYmxlcyA9IGZ1bmN0aW9uIChuZXdSZXNvbHZhYmxlcywgc3RhdGUpIHtcbiAgICAgICAgdmFyIG5vZGUgPSBmaW5kKHRoaXMuX3BhdGgsIHByb3BFcSgnc3RhdGUnLCBzdGF0ZSkpO1xuICAgICAgICB2YXIga2V5cyA9IG5ld1Jlc29sdmFibGVzLm1hcChmdW5jdGlvbiAocikgeyByZXR1cm4gci50b2tlbjsgfSk7XG4gICAgICAgIG5vZGUucmVzb2x2YWJsZXMgPSBub2RlLnJlc29sdmFibGVzLmZpbHRlcihmdW5jdGlvbiAocikgeyByZXR1cm4ga2V5cy5pbmRleE9mKHIudG9rZW4pID09PSAtMTsgfSkuY29uY2F0KG5ld1Jlc29sdmFibGVzKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFJldHVybnMgYSBwcm9taXNlIGZvciBhbiBhcnJheSBvZiByZXNvbHZlZCBwYXRoIEVsZW1lbnQgcHJvbWlzZXNcbiAgICAgKlxuICAgICAqIEBwYXJhbSB3aGVuXG4gICAgICogQHBhcmFtIHRyYW5zXG4gICAgICogQHJldHVybnMge1Byb21pc2U8YW55Pnxhbnl9XG4gICAgICovXG4gICAgUmVzb2x2ZUNvbnRleHQucHJvdG90eXBlLnJlc29sdmVQYXRoID0gZnVuY3Rpb24gKHdoZW4sIHRyYW5zKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIGlmICh3aGVuID09PSB2b2lkIDApIHsgd2hlbiA9IFwiTEFaWVwiOyB9XG4gICAgICAgIC8vIFRoaXMgb3B0aW9uIGRldGVybWluZXMgd2hpY2ggJ3doZW4nIHBvbGljeSBSZXNvbHZhYmxlcyB3ZSBhcmUgYWJvdXQgdG8gZmV0Y2guXG4gICAgICAgIHZhciB3aGVuT3B0aW9uID0gaW5BcnJheShBTExfV0hFTlMsIHdoZW4pID8gd2hlbiA6IFwiTEFaWVwiO1xuICAgICAgICAvLyBJZiB0aGUgY2FsbGVyIHNwZWNpZmllZCBFQUdFUiwgb25seSB0aGUgRUFHRVIgUmVzb2x2YWJsZXMgYXJlIGZldGNoZWQuXG4gICAgICAgIC8vIGlmIHRoZSBjYWxsZXIgc3BlY2lmaWVkIExBWlksIGJvdGggRUFHRVIgYW5kIExBWlkgUmVzb2x2YWJsZXMgYXJlIGZldGNoZWQuYFxuICAgICAgICB2YXIgbWF0Y2hlZFdoZW5zID0gd2hlbk9wdGlvbiA9PT0gcmVzb2x2ZVBvbGljaWVzLndoZW4uRUFHRVIgPyBFQUdFUl9XSEVOUyA6IEFMTF9XSEVOUztcbiAgICAgICAgLy8gZ2V0IHRoZSBzdWJwYXRoIHRvIHRoZSBzdGF0ZSBhcmd1bWVudCwgaWYgcHJvdmlkZWRcbiAgICAgICAgdHJhY2UudHJhY2VSZXNvbHZlUGF0aCh0aGlzLl9wYXRoLCB3aGVuLCB0cmFucyk7XG4gICAgICAgIHZhciBtYXRjaGVzUG9saWN5ID0gZnVuY3Rpb24gKGFjY2VwdGVkVmFscywgd2hlbk9yQXN5bmMpIHtcbiAgICAgICAgICAgIHJldHVybiBmdW5jdGlvbiAocmVzb2x2YWJsZSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBpbkFycmF5KGFjY2VwdGVkVmFscywgX3RoaXMuZ2V0UG9saWN5KHJlc29sdmFibGUpW3doZW5PckFzeW5jXSk7XG4gICAgICAgICAgICB9O1xuICAgICAgICB9O1xuICAgICAgICAvLyBUcmlnZ2VyIGFsbCB0aGUgKG1hdGNoaW5nKSBSZXNvbHZhYmxlcyBpbiB0aGUgcGF0aFxuICAgICAgICAvLyBSZWR1Y2UgYWxsIHRoZSBcIldBSVRcIiBSZXNvbHZhYmxlcyBpbnRvIGFuIGFycmF5XG4gICAgICAgIHZhciBwcm9taXNlcyA9IHRoaXMuX3BhdGgucmVkdWNlKGZ1bmN0aW9uIChhY2MsIG5vZGUpIHtcbiAgICAgICAgICAgIHZhciBub2RlUmVzb2x2YWJsZXMgPSBub2RlLnJlc29sdmFibGVzLmZpbHRlcihtYXRjaGVzUG9saWN5KG1hdGNoZWRXaGVucywgJ3doZW4nKSk7XG4gICAgICAgICAgICB2YXIgbm93YWl0ID0gbm9kZVJlc29sdmFibGVzLmZpbHRlcihtYXRjaGVzUG9saWN5KFsnTk9XQUlUJ10sICdhc3luYycpKTtcbiAgICAgICAgICAgIHZhciB3YWl0ID0gbm9kZVJlc29sdmFibGVzLmZpbHRlcihub3QobWF0Y2hlc1BvbGljeShbJ05PV0FJVCddLCAnYXN5bmMnKSkpO1xuICAgICAgICAgICAgLy8gRm9yIHRoZSBtYXRjaGluZyBSZXNvbHZhYmxlcywgc3RhcnQgdGhlaXIgYXN5bmMgZmV0Y2ggcHJvY2Vzcy5cbiAgICAgICAgICAgIHZhciBzdWJDb250ZXh0ID0gX3RoaXMuc3ViQ29udGV4dChub2RlLnN0YXRlKTtcbiAgICAgICAgICAgIHZhciBnZXRSZXN1bHQgPSBmdW5jdGlvbiAocikgeyByZXR1cm4gci5nZXQoc3ViQ29udGV4dCwgdHJhbnMpXG4gICAgICAgICAgICAgICAgLnRoZW4oZnVuY3Rpb24gKHZhbHVlKSB7IHJldHVybiAoeyB0b2tlbjogci50b2tlbiwgdmFsdWU6IHZhbHVlIH0pOyB9KTsgfTtcbiAgICAgICAgICAgIG5vd2FpdC5mb3JFYWNoKGdldFJlc3VsdCk7XG4gICAgICAgICAgICByZXR1cm4gYWNjLmNvbmNhdCh3YWl0Lm1hcChnZXRSZXN1bHQpKTtcbiAgICAgICAgfSwgW10pO1xuICAgICAgICAvLyBXYWl0IGZvciBhbGwgdGhlIFwiV0FJVFwiIHJlc29sdmFibGVzXG4gICAgICAgIHJldHVybiBzZXJ2aWNlcy4kcS5hbGwocHJvbWlzZXMpO1xuICAgIH07XG4gICAgUmVzb2x2ZUNvbnRleHQucHJvdG90eXBlLmluamVjdG9yID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5faW5qZWN0b3IgfHwgKHRoaXMuX2luamVjdG9yID0gbmV3IFVJSW5qZWN0b3JJbXBsKHRoaXMpKTtcbiAgICB9O1xuICAgIFJlc29sdmVDb250ZXh0LnByb3RvdHlwZS5maW5kTm9kZSA9IGZ1bmN0aW9uIChyZXNvbHZhYmxlKSB7XG4gICAgICAgIHJldHVybiBmaW5kKHRoaXMuX3BhdGgsIGZ1bmN0aW9uIChub2RlKSB7IHJldHVybiBpbkFycmF5KG5vZGUucmVzb2x2YWJsZXMsIHJlc29sdmFibGUpOyB9KTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEdldHMgdGhlIGFzeW5jIGRlcGVuZGVuY2llcyBvZiBhIFJlc29sdmFibGVcbiAgICAgKlxuICAgICAqIEdpdmVuIGEgUmVzb2x2YWJsZSwgcmV0dXJucyBpdHMgZGVwZW5kZW5jaWVzIGFzIGEgUmVzb2x2YWJsZVtdXG4gICAgICovXG4gICAgUmVzb2x2ZUNvbnRleHQucHJvdG90eXBlLmdldERlcGVuZGVuY2llcyA9IGZ1bmN0aW9uIChyZXNvbHZhYmxlKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIHZhciBub2RlID0gdGhpcy5maW5kTm9kZShyZXNvbHZhYmxlKTtcbiAgICAgICAgLy8gRmluZCB3aGljaCBvdGhlciByZXNvbHZhYmxlcyBhcmUgXCJ2aXNpYmxlXCIgdG8gdGhlIGByZXNvbHZhYmxlYCBhcmd1bWVudFxuICAgICAgICAvLyBzdWJwYXRoIHN0b3BwaW5nIGF0IHJlc29sdmFibGUncyBub2RlLCBvciB0aGUgd2hvbGUgcGF0aCAoaWYgdGhlIHJlc29sdmFibGUgaXNuJ3QgaW4gdGhlIHBhdGgpXG4gICAgICAgIHZhciBzdWJQYXRoID0gUGF0aFV0aWxzLnN1YlBhdGgodGhpcy5fcGF0aCwgZnVuY3Rpb24gKHgpIHsgcmV0dXJuIHggPT09IG5vZGU7IH0pIHx8IHRoaXMuX3BhdGg7XG4gICAgICAgIHZhciBhdmFpbGFibGVSZXNvbHZhYmxlcyA9IHN1YlBhdGhcbiAgICAgICAgICAgIC5yZWR1Y2UoZnVuY3Rpb24gKGFjYywgbm9kZSkgeyByZXR1cm4gYWNjLmNvbmNhdChub2RlLnJlc29sdmFibGVzKTsgfSwgW10pIC8vYWxsIG9mIHN1YnBhdGgncyByZXNvbHZhYmxlc1xuICAgICAgICAgICAgLmZpbHRlcihmdW5jdGlvbiAocmVzKSB7IHJldHVybiByZXMgIT09IHJlc29sdmFibGU7IH0pOyAvLyBmaWx0ZXIgb3V0IHRoZSBgcmVzb2x2YWJsZWAgYXJndW1lbnRcbiAgICAgICAgdmFyIGdldERlcGVuZGVuY3kgPSBmdW5jdGlvbiAodG9rZW4pIHtcbiAgICAgICAgICAgIHZhciBtYXRjaGluZyA9IGF2YWlsYWJsZVJlc29sdmFibGVzLmZpbHRlcihmdW5jdGlvbiAocikgeyByZXR1cm4gci50b2tlbiA9PT0gdG9rZW47IH0pO1xuICAgICAgICAgICAgaWYgKG1hdGNoaW5nLmxlbmd0aClcbiAgICAgICAgICAgICAgICByZXR1cm4gdGFpbChtYXRjaGluZyk7XG4gICAgICAgICAgICB2YXIgZnJvbUluamVjdG9yID0gX3RoaXMuaW5qZWN0b3IoKS5nZXROYXRpdmUodG9rZW4pO1xuICAgICAgICAgICAgaWYgKCFmcm9tSW5qZWN0b3IpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJDb3VsZCBub3QgZmluZCBEZXBlbmRlbmN5IEluamVjdGlvbiB0b2tlbjogXCIgKyBzdHJpbmdpZnkodG9rZW4pKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBuZXcgUmVzb2x2YWJsZSh0b2tlbiwgZnVuY3Rpb24gKCkgeyByZXR1cm4gZnJvbUluamVjdG9yOyB9LCBbXSwgZnJvbUluamVjdG9yKTtcbiAgICAgICAgfTtcbiAgICAgICAgcmV0dXJuIHJlc29sdmFibGUuZGVwcy5tYXAoZ2V0RGVwZW5kZW5jeSk7XG4gICAgfTtcbiAgICByZXR1cm4gUmVzb2x2ZUNvbnRleHQ7XG59KCkpO1xudmFyIFVJSW5qZWN0b3JJbXBsID0gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBVSUluamVjdG9ySW1wbChjb250ZXh0KSB7XG4gICAgICAgIHRoaXMuY29udGV4dCA9IGNvbnRleHQ7XG4gICAgICAgIHRoaXMubmF0aXZlID0gdGhpcy5nZXQoTkFUSVZFX0lOSkVDVE9SX1RPS0VOKSB8fCBzZXJ2aWNlcy4kaW5qZWN0b3I7XG4gICAgfVxuICAgIFVJSW5qZWN0b3JJbXBsLnByb3RvdHlwZS5nZXQgPSBmdW5jdGlvbiAodG9rZW4pIHtcbiAgICAgICAgdmFyIHJlc29sdmFibGUgPSB0aGlzLmNvbnRleHQuZ2V0UmVzb2x2YWJsZSh0b2tlbik7XG4gICAgICAgIGlmIChyZXNvbHZhYmxlKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5jb250ZXh0LmdldFBvbGljeShyZXNvbHZhYmxlKS5hc3luYyA9PT0gJ05PV0FJVCcpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gcmVzb2x2YWJsZS5nZXQodGhpcy5jb250ZXh0KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICghcmVzb2x2YWJsZS5yZXNvbHZlZCkge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIlJlc29sdmFibGUgYXN5bmMgLmdldCgpIG5vdCBjb21wbGV0ZTpcIiArIHN0cmluZ2lmeShyZXNvbHZhYmxlLnRva2VuKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gcmVzb2x2YWJsZS5kYXRhO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLm5hdGl2ZSAmJiB0aGlzLm5hdGl2ZS5nZXQodG9rZW4pO1xuICAgIH07XG4gICAgVUlJbmplY3RvckltcGwucHJvdG90eXBlLmdldEFzeW5jID0gZnVuY3Rpb24gKHRva2VuKSB7XG4gICAgICAgIHZhciByZXNvbHZhYmxlID0gdGhpcy5jb250ZXh0LmdldFJlc29sdmFibGUodG9rZW4pO1xuICAgICAgICBpZiAocmVzb2x2YWJsZSlcbiAgICAgICAgICAgIHJldHVybiByZXNvbHZhYmxlLmdldCh0aGlzLmNvbnRleHQpO1xuICAgICAgICByZXR1cm4gc2VydmljZXMuJHEud2hlbih0aGlzLm5hdGl2ZS5nZXQodG9rZW4pKTtcbiAgICB9O1xuICAgIFVJSW5qZWN0b3JJbXBsLnByb3RvdHlwZS5nZXROYXRpdmUgPSBmdW5jdGlvbiAodG9rZW4pIHtcbiAgICAgICAgcmV0dXJuIHRoaXMubmF0aXZlICYmIHRoaXMubmF0aXZlLmdldCh0b2tlbik7XG4gICAgfTtcbiAgICByZXR1cm4gVUlJbmplY3RvckltcGw7XG59KCkpO1xuXG4vKipcbiAqIEBjb3JlYXBpXG4gKiBAbW9kdWxlIHRyYW5zaXRpb25cbiAqL1xuLyoqIGZvciB0eXBlZG9jICovXG4vKiogQGhpZGRlbiAqL1xudmFyIHN0YXRlU2VsZiA9IHByb3AoXCJzZWxmXCIpO1xuLyoqXG4gKiBSZXByZXNlbnRzIGEgdHJhbnNpdGlvbiBiZXR3ZWVuIHR3byBzdGF0ZXMuXG4gKlxuICogV2hlbiBuYXZpZ2F0aW5nIHRvIGEgc3RhdGUsIHdlIGFyZSB0cmFuc2l0aW9uaW5nICoqZnJvbSoqIHRoZSBjdXJyZW50IHN0YXRlICoqdG8qKiB0aGUgbmV3IHN0YXRlLlxuICpcbiAqIFRoaXMgb2JqZWN0IGNvbnRhaW5zIGFsbCBjb250ZXh0dWFsIGluZm9ybWF0aW9uIGFib3V0IHRoZSB0by9mcm9tIHN0YXRlcywgcGFyYW1ldGVycywgcmVzb2x2ZXMuXG4gKiBJdCBoYXMgaW5mb3JtYXRpb24gYWJvdXQgYWxsIHN0YXRlcyBiZWluZyBlbnRlcmVkIGFuZCBleGl0ZWQgYXMgYSByZXN1bHQgb2YgdGhlIHRyYW5zaXRpb24uXG4gKi9cbnZhciBUcmFuc2l0aW9uID0gKGZ1bmN0aW9uICgpIHtcbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgbmV3IFRyYW5zaXRpb24gb2JqZWN0LlxuICAgICAqXG4gICAgICogSWYgdGhlIHRhcmdldCBzdGF0ZSBpcyBub3QgdmFsaWQsIGFuIGVycm9yIGlzIHRocm93bi5cbiAgICAgKlxuICAgICAqIEBpbnRlcm5hbGFwaVxuICAgICAqXG4gICAgICogQHBhcmFtIGZyb21QYXRoIFRoZSBwYXRoIG9mIFtbUGF0aE5vZGVdXXMgZnJvbSB3aGljaCB0aGUgdHJhbnNpdGlvbiBpcyBsZWF2aW5nLiAgVGhlIGxhc3Qgbm9kZSBpbiB0aGUgYGZyb21QYXRoYFxuICAgICAqICAgICAgICBlbmNhcHN1bGF0ZXMgdGhlIFwiZnJvbSBzdGF0ZVwiLlxuICAgICAqIEBwYXJhbSB0YXJnZXRTdGF0ZSBUaGUgdGFyZ2V0IHN0YXRlIGFuZCBwYXJhbWV0ZXJzIGJlaW5nIHRyYW5zaXRpb25lZCB0byAoYWxzbywgdGhlIHRyYW5zaXRpb24gb3B0aW9ucylcbiAgICAgKiBAcGFyYW0gcm91dGVyIFRoZSBbW1VJUm91dGVyXV0gaW5zdGFuY2VcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBUcmFuc2l0aW9uKGZyb21QYXRoLCB0YXJnZXRTdGF0ZSwgcm91dGVyKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIC8qKiBAaGlkZGVuICovXG4gICAgICAgIHRoaXMuX2RlZmVycmVkID0gc2VydmljZXMuJHEuZGVmZXIoKTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoaXMgcHJvbWlzZSBpcyByZXNvbHZlZCBvciByZWplY3RlZCBiYXNlZCBvbiB0aGUgb3V0Y29tZSBvZiB0aGUgVHJhbnNpdGlvbi5cbiAgICAgICAgICpcbiAgICAgICAgICogV2hlbiB0aGUgdHJhbnNpdGlvbiBpcyBzdWNjZXNzZnVsLCB0aGUgcHJvbWlzZSBpcyByZXNvbHZlZFxuICAgICAgICAgKiBXaGVuIHRoZSB0cmFuc2l0aW9uIGlzIHVuc3VjY2Vzc2Z1bCwgdGhlIHByb21pc2UgaXMgcmVqZWN0ZWQgd2l0aCB0aGUgW1tSZWplY3Rpb25dXSBvciBqYXZhc2NyaXB0IGVycm9yXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnByb21pc2UgPSB0aGlzLl9kZWZlcnJlZC5wcm9taXNlO1xuICAgICAgICAvKiogQGhpZGRlbiBIb2xkcyB0aGUgaG9vayByZWdpc3RyYXRpb24gZnVuY3Rpb25zIHN1Y2ggYXMgdGhvc2UgcGFzc2VkIHRvIFRyYW5zaXRpb24ub25TdGFydCgpICovXG4gICAgICAgIHRoaXMuX3JlZ2lzdGVyZWRIb29rcyA9IHt9O1xuICAgICAgICAvKiogQGhpZGRlbiAqL1xuICAgICAgICB0aGlzLl9ob29rQnVpbGRlciA9IG5ldyBIb29rQnVpbGRlcih0aGlzKTtcbiAgICAgICAgLyoqIENoZWNrcyBpZiB0aGlzIHRyYW5zaXRpb24gaXMgY3VycmVudGx5IGFjdGl2ZS9ydW5uaW5nLiAqL1xuICAgICAgICB0aGlzLmlzQWN0aXZlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIF90aGlzLnJvdXRlci5nbG9iYWxzLnRyYW5zaXRpb24gPT09IF90aGlzO1xuICAgICAgICB9O1xuICAgICAgICB0aGlzLnJvdXRlciA9IHJvdXRlcjtcbiAgICAgICAgdGhpcy5fdGFyZ2V0U3RhdGUgPSB0YXJnZXRTdGF0ZTtcbiAgICAgICAgaWYgKCF0YXJnZXRTdGF0ZS52YWxpZCgpKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IodGFyZ2V0U3RhdGUuZXJyb3IoKSk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gY3VycmVudCgpIGlzIGFzc3VtZWQgdG8gY29tZSBmcm9tIHRhcmdldFN0YXRlLm9wdGlvbnMsIGJ1dCBwcm92aWRlIGEgbmFpdmUgaW1wbGVtZW50YXRpb24gb3RoZXJ3aXNlLlxuICAgICAgICB0aGlzLl9vcHRpb25zID0gZXh0ZW5kKHsgY3VycmVudDogdmFsKHRoaXMpIH0sIHRhcmdldFN0YXRlLm9wdGlvbnMoKSk7XG4gICAgICAgIHRoaXMuJGlkID0gcm91dGVyLnRyYW5zaXRpb25TZXJ2aWNlLl90cmFuc2l0aW9uQ291bnQrKztcbiAgICAgICAgdmFyIHRvUGF0aCA9IFBhdGhVdGlscy5idWlsZFRvUGF0aChmcm9tUGF0aCwgdGFyZ2V0U3RhdGUpO1xuICAgICAgICB0aGlzLl90cmVlQ2hhbmdlcyA9IFBhdGhVdGlscy50cmVlQ2hhbmdlcyhmcm9tUGF0aCwgdG9QYXRoLCB0aGlzLl9vcHRpb25zLnJlbG9hZFN0YXRlKTtcbiAgICAgICAgdGhpcy5jcmVhdGVUcmFuc2l0aW9uSG9va1JlZ0ZucygpO1xuICAgICAgICB2YXIgb25DcmVhdGVIb29rcyA9IHRoaXMuX2hvb2tCdWlsZGVyLmJ1aWxkSG9va3NGb3JQaGFzZShleHBvcnRzLlRyYW5zaXRpb25Ib29rUGhhc2UuQ1JFQVRFKTtcbiAgICAgICAgVHJhbnNpdGlvbkhvb2suaW52b2tlSG9va3Mob25DcmVhdGVIb29rcywgZnVuY3Rpb24gKCkgeyByZXR1cm4gbnVsbDsgfSk7XG4gICAgICAgIHRoaXMuYXBwbHlWaWV3Q29uZmlncyhyb3V0ZXIpO1xuICAgIH1cbiAgICAvKiogQGhpZGRlbiAqL1xuICAgIFRyYW5zaXRpb24ucHJvdG90eXBlLm9uQmVmb3JlID0gZnVuY3Rpb24gKGNyaXRlcmlhLCBjYWxsYmFjaywgb3B0aW9ucykgeyByZXR1cm47IH07XG4gICAgLyoqIEBpbmhlcml0ZG9jICovXG4gICAgVHJhbnNpdGlvbi5wcm90b3R5cGUub25TdGFydCA9IGZ1bmN0aW9uIChjcml0ZXJpYSwgY2FsbGJhY2ssIG9wdGlvbnMpIHsgcmV0dXJuOyB9O1xuICAgIC8qKiBAaW5oZXJpdGRvYyAqL1xuICAgIFRyYW5zaXRpb24ucHJvdG90eXBlLm9uRXhpdCA9IGZ1bmN0aW9uIChjcml0ZXJpYSwgY2FsbGJhY2ssIG9wdGlvbnMpIHsgcmV0dXJuOyB9O1xuICAgIC8qKiBAaW5oZXJpdGRvYyAqL1xuICAgIFRyYW5zaXRpb24ucHJvdG90eXBlLm9uUmV0YWluID0gZnVuY3Rpb24gKGNyaXRlcmlhLCBjYWxsYmFjaywgb3B0aW9ucykgeyByZXR1cm47IH07XG4gICAgLyoqIEBpbmhlcml0ZG9jICovXG4gICAgVHJhbnNpdGlvbi5wcm90b3R5cGUub25FbnRlciA9IGZ1bmN0aW9uIChjcml0ZXJpYSwgY2FsbGJhY2ssIG9wdGlvbnMpIHsgcmV0dXJuOyB9O1xuICAgIC8qKiBAaW5oZXJpdGRvYyAqL1xuICAgIFRyYW5zaXRpb24ucHJvdG90eXBlLm9uRmluaXNoID0gZnVuY3Rpb24gKGNyaXRlcmlhLCBjYWxsYmFjaywgb3B0aW9ucykgeyByZXR1cm47IH07XG4gICAgLyoqIEBpbmhlcml0ZG9jICovXG4gICAgVHJhbnNpdGlvbi5wcm90b3R5cGUub25TdWNjZXNzID0gZnVuY3Rpb24gKGNyaXRlcmlhLCBjYWxsYmFjaywgb3B0aW9ucykgeyByZXR1cm47IH07XG4gICAgLyoqIEBpbmhlcml0ZG9jICovXG4gICAgVHJhbnNpdGlvbi5wcm90b3R5cGUub25FcnJvciA9IGZ1bmN0aW9uIChjcml0ZXJpYSwgY2FsbGJhY2ssIG9wdGlvbnMpIHsgcmV0dXJuOyB9O1xuICAgIC8qKiBAaGlkZGVuXG4gICAgICogQ3JlYXRlcyB0aGUgdHJhbnNpdGlvbi1sZXZlbCBob29rIHJlZ2lzdHJhdGlvbiBmdW5jdGlvbnNcbiAgICAgKiAod2hpY2ggY2FuIHRoZW4gYmUgdXNlZCB0byByZWdpc3RlciBob29rcylcbiAgICAgKi9cbiAgICBUcmFuc2l0aW9uLnByb3RvdHlwZS5jcmVhdGVUcmFuc2l0aW9uSG9va1JlZ0ZucyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgdGhpcy5yb3V0ZXIudHJhbnNpdGlvblNlcnZpY2UuX3BsdWdpbmFwaS5fZ2V0RXZlbnRzKClcbiAgICAgICAgICAgIC5maWx0ZXIoZnVuY3Rpb24gKHR5cGUpIHsgcmV0dXJuIHR5cGUuaG9va1BoYXNlICE9PSBleHBvcnRzLlRyYW5zaXRpb25Ib29rUGhhc2UuQ1JFQVRFOyB9KVxuICAgICAgICAgICAgLmZvckVhY2goZnVuY3Rpb24gKHR5cGUpIHsgcmV0dXJuIG1ha2VFdmVudChfdGhpcywgX3RoaXMucm91dGVyLnRyYW5zaXRpb25TZXJ2aWNlLCB0eXBlKTsgfSk7XG4gICAgfTtcbiAgICAvKiogQGludGVybmFsYXBpICovXG4gICAgVHJhbnNpdGlvbi5wcm90b3R5cGUuZ2V0SG9va3MgPSBmdW5jdGlvbiAoaG9va05hbWUpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3JlZ2lzdGVyZWRIb29rc1tob29rTmFtZV07XG4gICAgfTtcbiAgICBUcmFuc2l0aW9uLnByb3RvdHlwZS5hcHBseVZpZXdDb25maWdzID0gZnVuY3Rpb24gKHJvdXRlcikge1xuICAgICAgICB2YXIgZW50ZXJpbmdTdGF0ZXMgPSB0aGlzLl90cmVlQ2hhbmdlcy5lbnRlcmluZy5tYXAoZnVuY3Rpb24gKG5vZGUpIHsgcmV0dXJuIG5vZGUuc3RhdGU7IH0pO1xuICAgICAgICBQYXRoVXRpbHMuYXBwbHlWaWV3Q29uZmlncyhyb3V0ZXIudHJhbnNpdGlvblNlcnZpY2UuJHZpZXcsIHRoaXMuX3RyZWVDaGFuZ2VzLnRvLCBlbnRlcmluZ1N0YXRlcyk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBAaW50ZXJuYWxhcGlcbiAgICAgKlxuICAgICAqIEByZXR1cm5zIHRoZSBpbnRlcm5hbCBmcm9tIFtTdGF0ZV0gb2JqZWN0XG4gICAgICovXG4gICAgVHJhbnNpdGlvbi5wcm90b3R5cGUuJGZyb20gPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0YWlsKHRoaXMuX3RyZWVDaGFuZ2VzLmZyb20pLnN0YXRlO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQGludGVybmFsYXBpXG4gICAgICpcbiAgICAgKiBAcmV0dXJucyB0aGUgaW50ZXJuYWwgdG8gW1N0YXRlXSBvYmplY3RcbiAgICAgKi9cbiAgICBUcmFuc2l0aW9uLnByb3RvdHlwZS4kdG8gPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0YWlsKHRoaXMuX3RyZWVDaGFuZ2VzLnRvKS5zdGF0ZTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFJldHVybnMgdGhlIFwiZnJvbSBzdGF0ZVwiXG4gICAgICpcbiAgICAgKiBSZXR1cm5zIHRoZSBzdGF0ZSB0aGF0IHRoZSB0cmFuc2l0aW9uIGlzIGNvbWluZyAqZnJvbSouXG4gICAgICpcbiAgICAgKiBAcmV0dXJucyBUaGUgc3RhdGUgZGVjbGFyYXRpb24gb2JqZWN0IGZvciB0aGUgVHJhbnNpdGlvbidzIChcImZyb20gc3RhdGVcIikuXG4gICAgICovXG4gICAgVHJhbnNpdGlvbi5wcm90b3R5cGUuZnJvbSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuJGZyb20oKS5zZWxmO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogUmV0dXJucyB0aGUgXCJ0byBzdGF0ZVwiXG4gICAgICpcbiAgICAgKiBSZXR1cm5zIHRoZSBzdGF0ZSB0aGF0IHRoZSB0cmFuc2l0aW9uIGlzIGdvaW5nICp0byouXG4gICAgICpcbiAgICAgKiBAcmV0dXJucyBUaGUgc3RhdGUgZGVjbGFyYXRpb24gb2JqZWN0IGZvciB0aGUgVHJhbnNpdGlvbidzIHRhcmdldCBzdGF0ZSAoXCJ0byBzdGF0ZVwiKS5cbiAgICAgKi9cbiAgICBUcmFuc2l0aW9uLnByb3RvdHlwZS50byA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuJHRvKCkuc2VsZjtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEdldHMgdGhlIFRhcmdldCBTdGF0ZVxuICAgICAqXG4gICAgICogQSB0cmFuc2l0aW9uJ3MgW1tUYXJnZXRTdGF0ZV1dIGVuY2Fwc3VsYXRlcyB0aGUgW1t0b11dIHN0YXRlLCB0aGUgW1twYXJhbXNdXSwgYW5kIHRoZSBbW29wdGlvbnNdXSBhcyBhIHNpbmdsZSBvYmplY3QuXG4gICAgICpcbiAgICAgKiBAcmV0dXJucyB0aGUgW1tUYXJnZXRTdGF0ZV1dIG9mIHRoaXMgVHJhbnNpdGlvblxuICAgICAqL1xuICAgIFRyYW5zaXRpb24ucHJvdG90eXBlLnRhcmdldFN0YXRlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fdGFyZ2V0U3RhdGU7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBEZXRlcm1pbmVzIHdoZXRoZXIgdHdvIHRyYW5zaXRpb25zIGFyZSBlcXVpdmFsZW50LlxuICAgICAqIEBkZXByZWNhdGVkXG4gICAgICovXG4gICAgVHJhbnNpdGlvbi5wcm90b3R5cGUuaXMgPSBmdW5jdGlvbiAoY29tcGFyZSkge1xuICAgICAgICBpZiAoY29tcGFyZSBpbnN0YW5jZW9mIFRyYW5zaXRpb24pIHtcbiAgICAgICAgICAgIC8vIFRPRE86IEFsc28gY29tcGFyZSBwYXJhbWV0ZXJzXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5pcyh7IHRvOiBjb21wYXJlLiR0bygpLm5hbWUsIGZyb206IGNvbXBhcmUuJGZyb20oKS5uYW1lIH0pO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiAhKChjb21wYXJlLnRvICYmICFtYXRjaFN0YXRlKHRoaXMuJHRvKCksIGNvbXBhcmUudG8pKSB8fFxuICAgICAgICAgICAgKGNvbXBhcmUuZnJvbSAmJiAhbWF0Y2hTdGF0ZSh0aGlzLiRmcm9tKCksIGNvbXBhcmUuZnJvbSkpKTtcbiAgICB9O1xuICAgIFRyYW5zaXRpb24ucHJvdG90eXBlLnBhcmFtcyA9IGZ1bmN0aW9uIChwYXRobmFtZSkge1xuICAgICAgICBpZiAocGF0aG5hbWUgPT09IHZvaWQgMCkgeyBwYXRobmFtZSA9IFwidG9cIjsgfVxuICAgICAgICByZXR1cm4gT2JqZWN0LmZyZWV6ZSh0aGlzLl90cmVlQ2hhbmdlc1twYXRobmFtZV0ubWFwKHByb3AoXCJwYXJhbVZhbHVlc1wiKSkucmVkdWNlKG1lcmdlUiwge30pKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBbW1VJSW5qZWN0b3JdXSBEZXBlbmRlbmN5IEluamVjdG9yXG4gICAgICpcbiAgICAgKiBSZXR1cm5zIGEgRGVwZW5kZW5jeSBJbmplY3RvciBmb3IgdGhlIFRyYW5zaXRpb24ncyB0YXJnZXQgc3RhdGUgKHRvIHN0YXRlKS5cbiAgICAgKiBUaGUgaW5qZWN0b3IgcHJvdmlkZXMgcmVzb2x2ZSB2YWx1ZXMgd2hpY2ggdGhlIHRhcmdldCBzdGF0ZSBoYXMgYWNjZXNzIHRvLlxuICAgICAqXG4gICAgICogVGhlIGBVSUluamVjdG9yYCBjYW4gYWxzbyBwcm92aWRlIHZhbHVlcyBmcm9tIHRoZSBuYXRpdmUgcm9vdC9nbG9iYWwgaW5qZWN0b3IgKG5nMS9uZzIpLlxuICAgICAqXG4gICAgICogIyMjIyBFeGFtcGxlOlxuICAgICAqIGBgYGpzXG4gICAgICogLm9uRW50ZXIoeyBlbnRlcmluZzogJ215U3RhdGUnIH0sIHRyYW5zID0+IHtcbiAgICAgKiAgIHZhciBteVJlc29sdmVWYWx1ZSA9IHRyYW5zLmluamVjdG9yKCkuZ2V0KCdteVJlc29sdmUnKTtcbiAgICAgKiAgIC8vIEluamVjdCBhIGdsb2JhbCBzZXJ2aWNlIGZyb20gdGhlIGdsb2JhbC9uYXRpdmUgaW5qZWN0b3IgKGlmIGl0IGV4aXN0cylcbiAgICAgKiAgIHZhciBNeVNlcnZpY2UgPSB0cmFucy5pbmplY3RvcigpLmdldCgnTXlTZXJ2aWNlJyk7XG4gICAgICogfSlcbiAgICAgKiBgYGBcbiAgICAgKlxuICAgICAqIEluIHNvbWUgY2FzZXMgKHN1Y2ggYXMgYG9uQmVmb3JlYCksIHlvdSBtYXkgbmVlZCBhY2Nlc3MgdG8gc29tZSByZXNvbHZlIGRhdGEgYnV0IGl0IGhhcyBub3QgeWV0IGJlZW4gZmV0Y2hlZC5cbiAgICAgKiBZb3UgY2FuIHVzZSBbW1VJSW5qZWN0b3IuZ2V0QXN5bmNdXSB0byBnZXQgYSBwcm9taXNlIGZvciB0aGUgZGF0YS5cbiAgICAgKiAjIyMjIEV4YW1wbGU6XG4gICAgICogYGBganNcbiAgICAgKiAub25CZWZvcmUoe30sIHRyYW5zID0+IHtcbiAgICAgKiAgIHJldHVybiB0cmFucy5pbmplY3RvcigpLmdldEFzeW5jKCdteVJlc29sdmUnKS50aGVuKG15UmVzb2x2ZVZhbHVlID0+XG4gICAgICogICAgIHJldHVybiBteVJlc29sdmVWYWx1ZSAhPT0gJ0FCT1JUJztcbiAgICAgKiAgIH0pO1xuICAgICAqIH0pO1xuICAgICAqIGBgYFxuICAgICAqXG4gICAgICogSWYgYSBgc3RhdGVgIGlzIHByb3ZpZGVkLCB0aGUgaW5qZWN0b3IgdGhhdCBpcyByZXR1cm5lZCB3aWxsIGJlIGxpbWl0ZWQgdG8gcmVzb2x2ZSB2YWx1ZXMgdGhhdCB0aGUgcHJvdmlkZWQgc3RhdGUgaGFzIGFjY2VzcyB0by5cbiAgICAgKiBUaGlzIGNhbiBiZSB1c2VmdWwgaWYgYm90aCBhIHBhcmVudCBzdGF0ZSBgZm9vYCBhbmQgYSBjaGlsZCBzdGF0ZSBgZm9vLmJhcmAgaGF2ZSBib3RoIGRlZmluZWQgYSByZXNvbHZlIHN1Y2ggYXMgYGRhdGFgLlxuICAgICAqICMjIyMgRXhhbXBsZTpcbiAgICAgKiBgYGBqc1xuICAgICAqIC5vbkVudGVyKHsgdG86ICdmb28uYmFyJyB9LCB0cmFucyA9PiB7XG4gICAgICogICAvLyByZXR1cm5zIHJlc3VsdCBvZiBgZm9vYCBzdGF0ZSdzIGBkYXRhYCByZXNvbHZlXG4gICAgICogICAvLyBldmVuIHRob3VnaCBgZm9vLmJhcmAgYWxzbyBoYXMgYSBgZGF0YWAgcmVzb2x2ZVxuICAgICAqICAgdmFyIGZvb0RhdGEgPSB0cmFucy5pbmplY3RvcignZm9vJykuZ2V0KCdkYXRhJyk7XG4gICAgICogfSk7XG4gICAgICogYGBgXG4gICAgICpcbiAgICAgKiBJZiB5b3UgbmVlZCByZXNvbHZlIGRhdGEgZnJvbSB0aGUgZXhpdGluZyBzdGF0ZXMsIHBhc3MgYCdmcm9tJ2AgYXMgYHBhdGhOYW1lYC5cbiAgICAgKiBUaGUgcmVzb2x2ZSBkYXRhIGZyb20gdGhlIGBmcm9tYCBwYXRoIHdpbGwgYmUgcmV0dXJuZWQuXG4gICAgICogIyMjIyBFeGFtcGxlOlxuICAgICAqIGBgYGpzXG4gICAgICogLm9uRXhpdCh7IGV4aXRpbmc6ICdmb28uYmFyJyB9LCB0cmFucyA9PiB7XG4gICAgICogICAvLyBHZXRzIHRoZSByZXNvbHZlIHZhbHVlIG9mIGBkYXRhYCBmcm9tIHRoZSBleGl0aW5nIHN0YXRlLlxuICAgICAqICAgdmFyIGZvb0RhdGEgPSB0cmFucy5pbmplY3RvcihudWxsLCAnZm9vLmJhcicpLmdldCgnZGF0YScpO1xuICAgICAqIH0pO1xuICAgICAqIGBgYFxuICAgICAqXG4gICAgICpcbiAgICAgKiBAcGFyYW0gc3RhdGUgTGltaXRzIHRoZSByZXNvbHZlcyBwcm92aWRlZCB0byBvbmx5IHRoZSByZXNvbHZlcyB0aGUgcHJvdmlkZWQgc3RhdGUgaGFzIGFjY2VzcyB0by5cbiAgICAgKiBAcGFyYW0gcGF0aE5hbWUgRGVmYXVsdDogYCd0bydgOiBDaG9vc2VzIHRoZSBwYXRoIGZvciB3aGljaCB0byBjcmVhdGUgdGhlIGluamVjdG9yLiBVc2UgdGhpcyB0byBhY2Nlc3MgcmVzb2x2ZXMgZm9yIGBleGl0aW5nYCBzdGF0ZXMuXG4gICAgICpcbiAgICAgKiBAcmV0dXJucyBhIFtbVUlJbmplY3Rvcl1dXG4gICAgICovXG4gICAgVHJhbnNpdGlvbi5wcm90b3R5cGUuaW5qZWN0b3IgPSBmdW5jdGlvbiAoc3RhdGUsIHBhdGhOYW1lKSB7XG4gICAgICAgIGlmIChwYXRoTmFtZSA9PT0gdm9pZCAwKSB7IHBhdGhOYW1lID0gXCJ0b1wiOyB9XG4gICAgICAgIHZhciBwYXRoID0gdGhpcy5fdHJlZUNoYW5nZXNbcGF0aE5hbWVdO1xuICAgICAgICBpZiAoc3RhdGUpXG4gICAgICAgICAgICBwYXRoID0gUGF0aFV0aWxzLnN1YlBhdGgocGF0aCwgZnVuY3Rpb24gKG5vZGUpIHsgcmV0dXJuIG5vZGUuc3RhdGUgPT09IHN0YXRlIHx8IG5vZGUuc3RhdGUubmFtZSA9PT0gc3RhdGU7IH0pO1xuICAgICAgICByZXR1cm4gbmV3IFJlc29sdmVDb250ZXh0KHBhdGgpLmluamVjdG9yKCk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBHZXRzIGFsbCBhdmFpbGFibGUgcmVzb2x2ZSB0b2tlbnMgKGtleXMpXG4gICAgICpcbiAgICAgKiBUaGlzIG1ldGhvZCBjYW4gYmUgdXNlZCBpbiBjb25qdW5jdGlvbiB3aXRoIFtbaW5qZWN0b3JdXSB0byBpbnNwZWN0IHRoZSByZXNvbHZlIHZhbHVlc1xuICAgICAqIGF2YWlsYWJsZSB0byB0aGUgVHJhbnNpdGlvbi5cbiAgICAgKlxuICAgICAqIFRoaXMgcmV0dXJucyBhbGwgdGhlIHRva2VucyBkZWZpbmVkIG9uIFtbU3RhdGVEZWNsYXJhdGlvbi5yZXNvbHZlXV0gYmxvY2tzLCBmb3IgdGhlIHN0YXRlc1xuICAgICAqIGluIHRoZSBUcmFuc2l0aW9uJ3MgW1tUcmVlQ2hhbmdlcy50b11dIHBhdGguXG4gICAgICpcbiAgICAgKiAjIyMjIEV4YW1wbGU6XG4gICAgICogVGhpcyBleGFtcGxlIGxvZ3MgYWxsIHJlc29sdmUgdmFsdWVzXG4gICAgICogYGBganNcbiAgICAgKiBsZXQgdG9rZW5zID0gdHJhbnMuZ2V0UmVzb2x2ZVRva2VucygpO1xuICAgICAqIHRva2Vucy5mb3JFYWNoKHRva2VuID0+IGNvbnNvbGUubG9nKHRva2VuICsgXCIgPSBcIiArIHRyYW5zLmluamVjdG9yKCkuZ2V0KHRva2VuKSkpO1xuICAgICAqIGBgYFxuICAgICAqXG4gICAgICogIyMjIyBFeGFtcGxlOlxuICAgICAqIFRoaXMgZXhhbXBsZSBjcmVhdGVzIHByb21pc2VzIGZvciBlYWNoIHJlc29sdmUgdmFsdWUuXG4gICAgICogVGhpcyB0cmlnZ2VycyBmZXRjaGVzIG9mIHJlc29sdmVzIChpZiBhbnkgaGF2ZSBub3QgeWV0IGJlZW4gZmV0Y2hlZCkuXG4gICAgICogV2hlbiBhbGwgcHJvbWlzZXMgaGF2ZSBhbGwgc2V0dGxlZCwgaXQgbG9ncyB0aGUgcmVzb2x2ZSB2YWx1ZXMuXG4gICAgICogYGBganNcbiAgICAgKiBsZXQgdG9rZW5zID0gdHJhbnMuZ2V0UmVzb2x2ZVRva2VucygpO1xuICAgICAqIGxldCBwcm9taXNlID0gdG9rZW5zLm1hcCh0b2tlbiA9PiB0cmFucy5pbmplY3RvcigpLmdldEFzeW5jKHRva2VuKSk7XG4gICAgICogUHJvbWlzZS5hbGwocHJvbWlzZXMpLnRoZW4odmFsdWVzID0+IGNvbnNvbGUubG9nKFwiUmVzb2x2ZWQgdmFsdWVzOiBcIiArIHZhbHVlcykpO1xuICAgICAqIGBgYFxuICAgICAqXG4gICAgICogTm90ZTogQW5ndWxhciAxIHVzZXJzIHdob3VsZCB1c2UgYCRxLmFsbCgpYFxuICAgICAqXG4gICAgICogQHBhcmFtIHBhdGhuYW1lIHJlc29sdmUgY29udGV4dCdzIHBhdGggbmFtZSAoZS5nLiwgYHRvYCBvciBgZnJvbWApXG4gICAgICpcbiAgICAgKiBAcmV0dXJucyBhbiBhcnJheSBvZiByZXNvbHZlIHRva2VucyAoa2V5cylcbiAgICAgKi9cbiAgICBUcmFuc2l0aW9uLnByb3RvdHlwZS5nZXRSZXNvbHZlVG9rZW5zID0gZnVuY3Rpb24gKHBhdGhuYW1lKSB7XG4gICAgICAgIGlmIChwYXRobmFtZSA9PT0gdm9pZCAwKSB7IHBhdGhuYW1lID0gXCJ0b1wiOyB9XG4gICAgICAgIHJldHVybiBuZXcgUmVzb2x2ZUNvbnRleHQodGhpcy5fdHJlZUNoYW5nZXNbcGF0aG5hbWVdKS5nZXRUb2tlbnMoKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIER5bmFtaWNhbGx5IGFkZHMgYSBuZXcgW1tSZXNvbHZhYmxlXV0gKGkuZS4sIFtbU3RhdGVEZWNsYXJhdGlvbi5yZXNvbHZlXV0pIHRvIHRoaXMgdHJhbnNpdGlvbi5cbiAgICAgKlxuICAgICAqICMjIyMgRXhhbXBsZTpcbiAgICAgKiBgYGBqc1xuICAgICAqIHRyYW5zaXRpb25TZXJ2aWNlLm9uQmVmb3JlKHt9LCB0cmFuc2l0aW9uID0+IHtcbiAgICAgKiAgIHRyYW5zaXRpb24uYWRkUmVzb2x2YWJsZSh7XG4gICAgICogICAgIHRva2VuOiAnbXlSZXNvbHZlJyxcbiAgICAgKiAgICAgZGVwczogWydNeVNlcnZpY2UnXSxcbiAgICAgKiAgICAgcmVzb2x2ZUZuOiBteVNlcnZpY2UgPT4gbXlTZXJ2aWNlLmdldERhdGEoKVxuICAgICAqICAgfSk7XG4gICAgICogfSk7XG4gICAgICogYGBgXG4gICAgICpcbiAgICAgKiBAcGFyYW0gcmVzb2x2YWJsZSBhIFtbUmVzb2x2YWJsZUxpdGVyYWxdXSBvYmplY3QgKG9yIGEgW1tSZXNvbHZhYmxlXV0pXG4gICAgICogQHBhcmFtIHN0YXRlIHRoZSBzdGF0ZSBpbiB0aGUgXCJ0byBwYXRoXCIgd2hpY2ggc2hvdWxkIHJlY2VpdmUgdGhlIG5ldyByZXNvbHZlIChvdGhlcndpc2UsIHRoZSByb290IHN0YXRlKVxuICAgICAqL1xuICAgIFRyYW5zaXRpb24ucHJvdG90eXBlLmFkZFJlc29sdmFibGUgPSBmdW5jdGlvbiAocmVzb2x2YWJsZSwgc3RhdGUpIHtcbiAgICAgICAgaWYgKHN0YXRlID09PSB2b2lkIDApIHsgc3RhdGUgPSBcIlwiOyB9XG4gICAgICAgIHJlc29sdmFibGUgPSBpcyhSZXNvbHZhYmxlKShyZXNvbHZhYmxlKSA/IHJlc29sdmFibGUgOiBuZXcgUmVzb2x2YWJsZShyZXNvbHZhYmxlKTtcbiAgICAgICAgdmFyIHN0YXRlTmFtZSA9ICh0eXBlb2Ygc3RhdGUgPT09IFwic3RyaW5nXCIpID8gc3RhdGUgOiBzdGF0ZS5uYW1lO1xuICAgICAgICB2YXIgdG9wYXRoID0gdGhpcy5fdHJlZUNoYW5nZXMudG87XG4gICAgICAgIHZhciB0YXJnZXROb2RlID0gZmluZCh0b3BhdGgsIGZ1bmN0aW9uIChub2RlKSB7IHJldHVybiBub2RlLnN0YXRlLm5hbWUgPT09IHN0YXRlTmFtZTsgfSk7XG4gICAgICAgIHZhciByZXNvbHZlQ29udGV4dCA9IG5ldyBSZXNvbHZlQ29udGV4dCh0b3BhdGgpO1xuICAgICAgICByZXNvbHZlQ29udGV4dC5hZGRSZXNvbHZhYmxlcyhbcmVzb2x2YWJsZV0sIHRhcmdldE5vZGUuc3RhdGUpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogR2V0cyB0aGUgdHJhbnNpdGlvbiBmcm9tIHdoaWNoIHRoaXMgdHJhbnNpdGlvbiB3YXMgcmVkaXJlY3RlZC5cbiAgICAgKlxuICAgICAqIElmIHRoZSBjdXJyZW50IHRyYW5zaXRpb24gaXMgYSByZWRpcmVjdCwgdGhpcyBtZXRob2QgcmV0dXJucyB0aGUgdHJhbnNpdGlvbiB0aGF0IHdhcyByZWRpcmVjdGVkLlxuICAgICAqXG4gICAgICogIyMjIyBFeGFtcGxlOlxuICAgICAqIGBgYGpzXG4gICAgICogbGV0IHRyYW5zaXRpb25BID0gJHN0YXRlLmdvKCdBJykudHJhbnNpdGlvblxuICAgICAqIHRyYW5zaXRpb25BLm9uU3RhcnQoe30sICgpID0+ICRzdGF0ZS50YXJnZXQoJ0InKSk7XG4gICAgICogJHRyYW5zaXRpb25zLm9uU3VjY2Vzcyh7IHRvOiAnQicgfSwgKHRyYW5zKSA9PiB7XG4gICAgICogICB0cmFucy50bygpLm5hbWUgPT09ICdCJzsgLy8gdHJ1ZVxuICAgICAqICAgdHJhbnMucmVkaXJlY3RlZEZyb20oKSA9PT0gdHJhbnNpdGlvbkE7IC8vIHRydWVcbiAgICAgKiB9KTtcbiAgICAgKiBgYGBcbiAgICAgKlxuICAgICAqIEByZXR1cm5zIFRoZSBwcmV2aW91cyBUcmFuc2l0aW9uLCBvciBudWxsIGlmIHRoaXMgVHJhbnNpdGlvbiBpcyBub3QgdGhlIHJlc3VsdCBvZiBhIHJlZGlyZWN0aW9uXG4gICAgICovXG4gICAgVHJhbnNpdGlvbi5wcm90b3R5cGUucmVkaXJlY3RlZEZyb20gPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9vcHRpb25zLnJlZGlyZWN0ZWRGcm9tIHx8IG51bGw7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBHZXRzIHRoZSBvcmlnaW5hbCB0cmFuc2l0aW9uIGluIGEgcmVkaXJlY3QgY2hhaW5cbiAgICAgKlxuICAgICAqIEEgdHJhbnNpdGlvbiBtaWdodCBiZWxvbmcgdG8gYSBsb25nIGNoYWluIG9mIG11bHRpcGxlIHJlZGlyZWN0cy5cbiAgICAgKiBUaGlzIG1ldGhvZCB3YWxrcyB0aGUgW1tyZWRpcmVjdGVkRnJvbV1dIGNoYWluIGJhY2sgdG8gdGhlIG9yaWdpbmFsIChmaXJzdCkgdHJhbnNpdGlvbiBpbiB0aGUgY2hhaW4uXG4gICAgICpcbiAgICAgKiAjIyMjIEV4YW1wbGU6XG4gICAgICogYGBganNcbiAgICAgKiAvLyBzdGF0ZXNcbiAgICAgKiByZWdpc3RyeS5yZWdpc3Rlcih7IG5hbWU6ICdBJywgcmVkaXJlY3RUbzogJ0InIH0pO1xuICAgICAqIHJlZ2lzdHJ5LnJlZ2lzdGVyKHsgbmFtZTogJ0InLCByZWRpcmVjdFRvOiAnQycgfSk7XG4gICAgICogcmVnaXN0cnkucmVnaXN0ZXIoeyBuYW1lOiAnQycsIHJlZGlyZWN0VG86ICdEJyB9KTtcbiAgICAgKiByZWdpc3RyeS5yZWdpc3Rlcih7IG5hbWU6ICdEJyB9KTtcbiAgICAgKlxuICAgICAqIGxldCB0cmFuc2l0aW9uQSA9ICRzdGF0ZS5nbygnQScpLnRyYW5zaXRpb25cbiAgICAgKlxuICAgICAqICR0cmFuc2l0aW9ucy5vblN1Y2Nlc3MoeyB0bzogJ0QnIH0sICh0cmFucykgPT4ge1xuICAgICAqICAgdHJhbnMudG8oKS5uYW1lID09PSAnRCc7IC8vIHRydWVcbiAgICAgKiAgIHRyYW5zLnJlZGlyZWN0ZWRGcm9tKCkudG8oKS5uYW1lID09PSAnQyc7IC8vIHRydWVcbiAgICAgKiAgIHRyYW5zLm9yaWdpbmFsVHJhbnNpdGlvbigpID09PSB0cmFuc2l0aW9uQTsgLy8gdHJ1ZVxuICAgICAqICAgdHJhbnMub3JpZ2luYWxUcmFuc2l0aW9uKCkudG8oKS5uYW1lID09PSAnQSc7IC8vIHRydWVcbiAgICAgKiB9KTtcbiAgICAgKiBgYGBcbiAgICAgKlxuICAgICAqIEByZXR1cm5zIFRoZSBvcmlnaW5hbCBUcmFuc2l0aW9uIHRoYXQgc3RhcnRlZCBhIHJlZGlyZWN0IGNoYWluXG4gICAgICovXG4gICAgVHJhbnNpdGlvbi5wcm90b3R5cGUub3JpZ2luYWxUcmFuc2l0aW9uID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgcmYgPSB0aGlzLnJlZGlyZWN0ZWRGcm9tKCk7XG4gICAgICAgIHJldHVybiAocmYgJiYgcmYub3JpZ2luYWxUcmFuc2l0aW9uKCkpIHx8IHRoaXM7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBHZXQgdGhlIHRyYW5zaXRpb24gb3B0aW9uc1xuICAgICAqXG4gICAgICogQHJldHVybnMgdGhlIG9wdGlvbnMgZm9yIHRoaXMgVHJhbnNpdGlvbi5cbiAgICAgKi9cbiAgICBUcmFuc2l0aW9uLnByb3RvdHlwZS5vcHRpb25zID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fb3B0aW9ucztcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEdldHMgdGhlIHN0YXRlcyBiZWluZyBlbnRlcmVkLlxuICAgICAqXG4gICAgICogQHJldHVybnMgYW4gYXJyYXkgb2Ygc3RhdGVzIHRoYXQgd2lsbCBiZSBlbnRlcmVkIGR1cmluZyB0aGlzIHRyYW5zaXRpb24uXG4gICAgICovXG4gICAgVHJhbnNpdGlvbi5wcm90b3R5cGUuZW50ZXJpbmcgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiBtYXAodGhpcy5fdHJlZUNoYW5nZXMuZW50ZXJpbmcsIHByb3AoJ3N0YXRlJykpLm1hcChzdGF0ZVNlbGYpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogR2V0cyB0aGUgc3RhdGVzIGJlaW5nIGV4aXRlZC5cbiAgICAgKlxuICAgICAqIEByZXR1cm5zIGFuIGFycmF5IG9mIHN0YXRlcyB0aGF0IHdpbGwgYmUgZXhpdGVkIGR1cmluZyB0aGlzIHRyYW5zaXRpb24uXG4gICAgICovXG4gICAgVHJhbnNpdGlvbi5wcm90b3R5cGUuZXhpdGluZyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIG1hcCh0aGlzLl90cmVlQ2hhbmdlcy5leGl0aW5nLCBwcm9wKCdzdGF0ZScpKS5tYXAoc3RhdGVTZWxmKS5yZXZlcnNlKCk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBHZXRzIHRoZSBzdGF0ZXMgYmVpbmcgcmV0YWluZWQuXG4gICAgICpcbiAgICAgKiBAcmV0dXJucyBhbiBhcnJheSBvZiBzdGF0ZXMgdGhhdCBhcmUgYWxyZWFkeSBlbnRlcmVkIGZyb20gYSBwcmV2aW91cyBUcmFuc2l0aW9uLCB0aGF0IHdpbGwgbm90IGJlXG4gICAgICogICAgZXhpdGVkIGR1cmluZyB0aGlzIFRyYW5zaXRpb25cbiAgICAgKi9cbiAgICBUcmFuc2l0aW9uLnByb3RvdHlwZS5yZXRhaW5lZCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIG1hcCh0aGlzLl90cmVlQ2hhbmdlcy5yZXRhaW5lZCwgcHJvcCgnc3RhdGUnKSkubWFwKHN0YXRlU2VsZik7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBHZXQgdGhlIFtbVmlld0NvbmZpZ11dcyBhc3NvY2lhdGVkIHdpdGggdGhpcyBUcmFuc2l0aW9uXG4gICAgICpcbiAgICAgKiBFYWNoIHN0YXRlIGNhbiBkZWZpbmUgb25lIG9yIG1vcmUgdmlld3MgKHRlbXBsYXRlL2NvbnRyb2xsZXIpLCB3aGljaCBhcmUgZW5jYXBzdWxhdGVkIGFzIGBWaWV3Q29uZmlnYCBvYmplY3RzLlxuICAgICAqIFRoaXMgbWV0aG9kIGZldGNoZXMgdGhlIGBWaWV3Q29uZmlnc2AgZm9yIGEgZ2l2ZW4gcGF0aCBpbiB0aGUgVHJhbnNpdGlvbiAoZS5nLiwgXCJ0b1wiIG9yIFwiZW50ZXJpbmdcIikuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gcGF0aG5hbWUgdGhlIG5hbWUgb2YgdGhlIHBhdGggdG8gZmV0Y2ggdmlld3MgZm9yOlxuICAgICAqICAgKGAndG8nYCwgYCdmcm9tJ2AsIGAnZW50ZXJpbmcnYCwgYCdleGl0aW5nJ2AsIGAncmV0YWluZWQnYClcbiAgICAgKiBAcGFyYW0gc3RhdGUgSWYgcHJvdmlkZWQsIG9ubHkgcmV0dXJucyB0aGUgYFZpZXdDb25maWdgcyBmb3IgYSBzaW5nbGUgc3RhdGUgaW4gdGhlIHBhdGhcbiAgICAgKlxuICAgICAqIEByZXR1cm5zIGEgbGlzdCBvZiBWaWV3Q29uZmlnIG9iamVjdHMgZm9yIHRoZSBnaXZlbiBwYXRoLlxuICAgICAqL1xuICAgIFRyYW5zaXRpb24ucHJvdG90eXBlLnZpZXdzID0gZnVuY3Rpb24gKHBhdGhuYW1lLCBzdGF0ZSkge1xuICAgICAgICBpZiAocGF0aG5hbWUgPT09IHZvaWQgMCkgeyBwYXRobmFtZSA9IFwiZW50ZXJpbmdcIjsgfVxuICAgICAgICB2YXIgcGF0aCA9IHRoaXMuX3RyZWVDaGFuZ2VzW3BhdGhuYW1lXTtcbiAgICAgICAgcGF0aCA9ICFzdGF0ZSA/IHBhdGggOiBwYXRoLmZpbHRlcihwcm9wRXEoJ3N0YXRlJywgc3RhdGUpKTtcbiAgICAgICAgcmV0dXJuIHBhdGgubWFwKHByb3AoXCJ2aWV3c1wiKSkuZmlsdGVyKGlkZW50aXR5KS5yZWR1Y2UodW5uZXN0UiwgW10pO1xuICAgIH07XG4gICAgVHJhbnNpdGlvbi5wcm90b3R5cGUudHJlZUNoYW5nZXMgPSBmdW5jdGlvbiAocGF0aG5hbWUpIHtcbiAgICAgICAgcmV0dXJuIHBhdGhuYW1lID8gdGhpcy5fdHJlZUNoYW5nZXNbcGF0aG5hbWVdIDogdGhpcy5fdHJlZUNoYW5nZXM7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgbmV3IHRyYW5zaXRpb24gdGhhdCBpcyBhIHJlZGlyZWN0aW9uIG9mIHRoZSBjdXJyZW50IG9uZS5cbiAgICAgKlxuICAgICAqIFRoaXMgdHJhbnNpdGlvbiBjYW4gYmUgcmV0dXJuZWQgZnJvbSBhIFtbVHJhbnNpdGlvblNlcnZpY2VdXSBob29rIHRvXG4gICAgICogcmVkaXJlY3QgYSB0cmFuc2l0aW9uIHRvIGEgbmV3IHN0YXRlIGFuZC9vciBzZXQgb2YgcGFyYW1ldGVycy5cbiAgICAgKlxuICAgICAqIEBpbnRlcm5hbGFwaVxuICAgICAqXG4gICAgICogQHJldHVybnMgUmV0dXJucyBhIG5ldyBbW1RyYW5zaXRpb25dXSBpbnN0YW5jZS5cbiAgICAgKi9cbiAgICBUcmFuc2l0aW9uLnByb3RvdHlwZS5yZWRpcmVjdCA9IGZ1bmN0aW9uICh0YXJnZXRTdGF0ZSkge1xuICAgICAgICB2YXIgcmVkaXJlY3RzID0gMSwgdHJhbnMgPSB0aGlzO1xuICAgICAgICB3aGlsZSAoKHRyYW5zID0gdHJhbnMucmVkaXJlY3RlZEZyb20oKSkgIT0gbnVsbCkge1xuICAgICAgICAgICAgaWYgKCsrcmVkaXJlY3RzID4gMjApXG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiVG9vIG1hbnkgY29uc2VjdXRpdmUgVHJhbnNpdGlvbiByZWRpcmVjdHMgKDIwKylcIik7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIHJlZGlyZWN0T3B0cyA9IHsgcmVkaXJlY3RlZEZyb206IHRoaXMsIHNvdXJjZTogXCJyZWRpcmVjdFwiIH07XG4gICAgICAgIC8vIElmIHRoZSBvcmlnaW5hbCB0cmFuc2l0aW9uIHdhcyBjYXVzZWQgYnkgVVJMIHN5bmMsIHRoZW4gdXNlIHsgbG9jYXRpb246ICdyZXBsYWNlJyB9XG4gICAgICAgIC8vIG9uIHRoZSBuZXcgdHJhbnNpdGlvbiAodW5sZXNzIHRoZSB0YXJnZXQgc3RhdGUgZXhwbGljaXRseSBzcGVjaWZpZXMgbG9jYXRpb246IGZhbHNlKS5cbiAgICAgICAgLy8gVGhpcyBjYXVzZXMgdGhlIG9yaWdpbmFsIHVybCB0byBiZSByZXBsYWNlZCB3aXRoIHRoZSB1cmwgZm9yIHRoZSByZWRpcmVjdCB0YXJnZXRcbiAgICAgICAgLy8gc28gdGhlIG9yaWdpbmFsIHVybCBkaXNhcHBlYXJzIGZyb20gdGhlIGJyb3dzZXIgaGlzdG9yeS5cbiAgICAgICAgaWYgKHRoaXMub3B0aW9ucygpLnNvdXJjZSA9PT0gJ3VybCcgJiYgdGFyZ2V0U3RhdGUub3B0aW9ucygpLmxvY2F0aW9uICE9PSBmYWxzZSkge1xuICAgICAgICAgICAgcmVkaXJlY3RPcHRzLmxvY2F0aW9uID0gJ3JlcGxhY2UnO1xuICAgICAgICB9XG4gICAgICAgIHZhciBuZXdPcHRpb25zID0gZXh0ZW5kKHt9LCB0aGlzLm9wdGlvbnMoKSwgdGFyZ2V0U3RhdGUub3B0aW9ucygpLCByZWRpcmVjdE9wdHMpO1xuICAgICAgICB0YXJnZXRTdGF0ZSA9IG5ldyBUYXJnZXRTdGF0ZSh0YXJnZXRTdGF0ZS5pZGVudGlmaWVyKCksIHRhcmdldFN0YXRlLiRzdGF0ZSgpLCB0YXJnZXRTdGF0ZS5wYXJhbXMoKSwgbmV3T3B0aW9ucyk7XG4gICAgICAgIHZhciBuZXdUcmFuc2l0aW9uID0gdGhpcy5yb3V0ZXIudHJhbnNpdGlvblNlcnZpY2UuY3JlYXRlKHRoaXMuX3RyZWVDaGFuZ2VzLmZyb20sIHRhcmdldFN0YXRlKTtcbiAgICAgICAgdmFyIG9yaWdpbmFsRW50ZXJpbmdOb2RlcyA9IHRoaXMuX3RyZWVDaGFuZ2VzLmVudGVyaW5nO1xuICAgICAgICB2YXIgcmVkaXJlY3RFbnRlcmluZ05vZGVzID0gbmV3VHJhbnNpdGlvbi5fdHJlZUNoYW5nZXMuZW50ZXJpbmc7XG4gICAgICAgIC8vIC0tLSBSZS11c2UgcmVzb2x2ZSBkYXRhIGZyb20gb3JpZ2luYWwgdHJhbnNpdGlvbiAtLS1cbiAgICAgICAgLy8gV2hlbiByZWRpcmVjdGluZyBmcm9tIGEgcGFyZW50IHN0YXRlIHRvIGEgY2hpbGQgc3RhdGUgd2hlcmUgdGhlIHBhcmVudCBwYXJhbWV0ZXIgdmFsdWVzIGhhdmVuJ3QgY2hhbmdlZFxuICAgICAgICAvLyAoYmVjYXVzZSBvZiB0aGUgcmVkaXJlY3QpLCB0aGUgcmVzb2x2ZXMgZmV0Y2hlZCBieSB0aGUgb3JpZ2luYWwgdHJhbnNpdGlvbiBhcmUgc3RpbGwgdmFsaWQgaW4gdGhlXG4gICAgICAgIC8vIHJlZGlyZWN0ZWQgdHJhbnNpdGlvbi5cbiAgICAgICAgLy9cbiAgICAgICAgLy8gVGhpcyBhbGxvd3MgeW91IHRvIGRlZmluZSBhIHJlZGlyZWN0IG9uIGEgcGFyZW50IHN0YXRlIHdoaWNoIGRlcGVuZHMgb24gYW4gYXN5bmMgcmVzb2x2ZSB2YWx1ZS5cbiAgICAgICAgLy8gWW91IGNhbiB3YWl0IGZvciB0aGUgcmVzb2x2ZSwgdGhlbiByZWRpcmVjdCB0byBhIGNoaWxkIHN0YXRlIGJhc2VkIG9uIHRoZSByZXN1bHQuXG4gICAgICAgIC8vIFRoZSByZWRpcmVjdGVkIHRyYW5zaXRpb24gZG9lcyBub3QgaGF2ZSB0byByZS1mZXRjaCB0aGUgcmVzb2x2ZS5cbiAgICAgICAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgICAgIHZhciBub2RlSXNSZWxvYWRpbmcgPSBmdW5jdGlvbiAocmVsb2FkU3RhdGUpIHsgcmV0dXJuIGZ1bmN0aW9uIChub2RlKSB7XG4gICAgICAgICAgICByZXR1cm4gcmVsb2FkU3RhdGUgJiYgbm9kZS5zdGF0ZS5pbmNsdWRlc1tyZWxvYWRTdGF0ZS5uYW1lXTtcbiAgICAgICAgfTsgfTtcbiAgICAgICAgLy8gRmluZCBhbnkgXCJlbnRlcmluZ1wiIG5vZGVzIGluIHRoZSByZWRpcmVjdCBwYXRoIHRoYXQgbWF0Y2ggdGhlIG9yaWdpbmFsIHBhdGggYW5kIGFyZW4ndCBiZWluZyByZWxvYWRlZFxuICAgICAgICB2YXIgbWF0Y2hpbmdFbnRlcmluZ05vZGVzID0gUGF0aFV0aWxzLm1hdGNoaW5nKHJlZGlyZWN0RW50ZXJpbmdOb2Rlcywgb3JpZ2luYWxFbnRlcmluZ05vZGVzLCBQYXRoVXRpbHMubm9uRHluYW1pY1BhcmFtcylcbiAgICAgICAgICAgIC5maWx0ZXIobm90KG5vZGVJc1JlbG9hZGluZyh0YXJnZXRTdGF0ZS5vcHRpb25zKCkucmVsb2FkU3RhdGUpKSk7XG4gICAgICAgIC8vIFVzZSB0aGUgZXhpc3RpbmcgKHBvc3NpYmx5IHByZS1yZXNvbHZlZCkgcmVzb2x2YWJsZXMgZm9yIHRoZSBtYXRjaGluZyBlbnRlcmluZyBub2Rlcy5cbiAgICAgICAgbWF0Y2hpbmdFbnRlcmluZ05vZGVzLmZvckVhY2goZnVuY3Rpb24gKG5vZGUsIGlkeCkge1xuICAgICAgICAgICAgbm9kZS5yZXNvbHZhYmxlcyA9IG9yaWdpbmFsRW50ZXJpbmdOb2Rlc1tpZHhdLnJlc29sdmFibGVzO1xuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIG5ld1RyYW5zaXRpb247XG4gICAgfTtcbiAgICAvKiogQGhpZGRlbiBJZiBhIHRyYW5zaXRpb24gZG9lc24ndCBleGl0L2VudGVyIGFueSBzdGF0ZXMsIHJldHVybnMgYW55IFtbUGFyYW1dXSB3aG9zZSB2YWx1ZSBjaGFuZ2VkICovXG4gICAgVHJhbnNpdGlvbi5wcm90b3R5cGUuX2NoYW5nZWRQYXJhbXMgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciB0YyA9IHRoaXMuX3RyZWVDaGFuZ2VzO1xuICAgICAgICAvKiogUmV0dXJuIHVuZGVmaW5lZCBpZiBpdCdzIG5vdCBhIFwiZHluYW1pY1wiIHRyYW5zaXRpb24sIGZvciB0aGUgZm9sbG93aW5nIHJlYXNvbnMgKi9cbiAgICAgICAgLy8gSWYgdXNlciBleHBsaWNpdGx5IHdhbnRzIGEgcmVsb2FkXG4gICAgICAgIGlmICh0aGlzLl9vcHRpb25zLnJlbG9hZClcbiAgICAgICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgICAgIC8vIElmIGFueSBzdGF0ZXMgYXJlIGV4aXRpbmcgb3IgZW50ZXJpbmdcbiAgICAgICAgaWYgKHRjLmV4aXRpbmcubGVuZ3RoIHx8IHRjLmVudGVyaW5nLmxlbmd0aClcbiAgICAgICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgICAgIC8vIElmIHRvL2Zyb20gcGF0aCBsZW5ndGhzIGRpZmZlclxuICAgICAgICBpZiAodGMudG8ubGVuZ3RoICE9PSB0Yy5mcm9tLmxlbmd0aClcbiAgICAgICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgICAgIC8vIElmIHRoZSB0by9mcm9tIHBhdGhzIGFyZSBkaWZmZXJlbnRcbiAgICAgICAgdmFyIHBhdGhzRGlmZmVyID0gYXJyYXlUdXBsZXModGMudG8sIHRjLmZyb20pXG4gICAgICAgICAgICAubWFwKGZ1bmN0aW9uICh0dXBsZSkgeyByZXR1cm4gdHVwbGVbMF0uc3RhdGUgIT09IHR1cGxlWzFdLnN0YXRlOyB9KVxuICAgICAgICAgICAgLnJlZHVjZShhbnlUcnVlUiwgZmFsc2UpO1xuICAgICAgICBpZiAocGF0aHNEaWZmZXIpXG4gICAgICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgICAgICAvLyBGaW5kIGFueSBwYXJhbWV0ZXIgdmFsdWVzIHRoYXQgZGlmZmVyXG4gICAgICAgIHZhciBub2RlU2NoZW1hcyA9IHRjLnRvLm1hcChmdW5jdGlvbiAobm9kZSkgeyByZXR1cm4gbm9kZS5wYXJhbVNjaGVtYTsgfSk7XG4gICAgICAgIHZhciBfYSA9IFt0Yy50bywgdGMuZnJvbV0ubWFwKGZ1bmN0aW9uIChwYXRoKSB7IHJldHVybiBwYXRoLm1hcChmdW5jdGlvbiAoeCkgeyByZXR1cm4geC5wYXJhbVZhbHVlczsgfSk7IH0pLCB0b1ZhbHVlcyA9IF9hWzBdLCBmcm9tVmFsdWVzID0gX2FbMV07XG4gICAgICAgIHZhciB0dXBsZXMgPSBhcnJheVR1cGxlcyhub2RlU2NoZW1hcywgdG9WYWx1ZXMsIGZyb21WYWx1ZXMpO1xuICAgICAgICByZXR1cm4gdHVwbGVzLm1hcChmdW5jdGlvbiAoX2EpIHtcbiAgICAgICAgICAgIHZhciBzY2hlbWEgPSBfYVswXSwgdG9WYWxzID0gX2FbMV0sIGZyb21WYWxzID0gX2FbMl07XG4gICAgICAgICAgICByZXR1cm4gUGFyYW0uY2hhbmdlZChzY2hlbWEsIHRvVmFscywgZnJvbVZhbHMpO1xuICAgICAgICB9KS5yZWR1Y2UodW5uZXN0UiwgW10pO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogUmV0dXJucyB0cnVlIGlmIHRoZSB0cmFuc2l0aW9uIGlzIGR5bmFtaWMuXG4gICAgICpcbiAgICAgKiBBIHRyYW5zaXRpb24gaXMgZHluYW1pYyBpZiBubyBzdGF0ZXMgYXJlIGVudGVyZWQgbm9yIGV4aXRlZCwgYnV0IGF0IGxlYXN0IG9uZSBkeW5hbWljIHBhcmFtZXRlciBoYXMgY2hhbmdlZC5cbiAgICAgKlxuICAgICAqIEByZXR1cm5zIHRydWUgaWYgdGhlIFRyYW5zaXRpb24gaXMgZHluYW1pY1xuICAgICAqL1xuICAgIFRyYW5zaXRpb24ucHJvdG90eXBlLmR5bmFtaWMgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBjaGFuZ2VzID0gdGhpcy5fY2hhbmdlZFBhcmFtcygpO1xuICAgICAgICByZXR1cm4gIWNoYW5nZXMgPyBmYWxzZSA6IGNoYW5nZXMubWFwKGZ1bmN0aW9uICh4KSB7IHJldHVybiB4LmR5bmFtaWM7IH0pLnJlZHVjZShhbnlUcnVlUiwgZmFsc2UpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogUmV0dXJucyB0cnVlIGlmIHRoZSB0cmFuc2l0aW9uIGlzIGlnbm9yZWQuXG4gICAgICpcbiAgICAgKiBBIHRyYW5zaXRpb24gaXMgaWdub3JlZCBpZiBubyBzdGF0ZXMgYXJlIGVudGVyZWQgbm9yIGV4aXRlZCwgYW5kIG5vIHBhcmFtZXRlciB2YWx1ZXMgaGF2ZSBjaGFuZ2VkLlxuICAgICAqXG4gICAgICogQHJldHVybnMgdHJ1ZSBpZiB0aGUgVHJhbnNpdGlvbiBpcyBpZ25vcmVkLlxuICAgICAqL1xuICAgIFRyYW5zaXRpb24ucHJvdG90eXBlLmlnbm9yZWQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiAhIXRoaXMuX2lnbm9yZWRSZWFzb24oKTtcbiAgICB9O1xuICAgIC8qKiBAaGlkZGVuICovXG4gICAgVHJhbnNpdGlvbi5wcm90b3R5cGUuX2lnbm9yZWRSZWFzb24gPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBwZW5kaW5nID0gdGhpcy5yb3V0ZXIuZ2xvYmFscy50cmFuc2l0aW9uO1xuICAgICAgICB2YXIgcmVsb2FkU3RhdGUgPSB0aGlzLl9vcHRpb25zLnJlbG9hZFN0YXRlO1xuICAgICAgICB2YXIgc2FtZSA9IGZ1bmN0aW9uIChwYXRoQSwgcGF0aEIpIHtcbiAgICAgICAgICAgIGlmIChwYXRoQS5sZW5ndGggIT09IHBhdGhCLmxlbmd0aClcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICB2YXIgbWF0Y2hpbmcgPSBQYXRoVXRpbHMubWF0Y2hpbmcocGF0aEEsIHBhdGhCKTtcbiAgICAgICAgICAgIHJldHVybiBwYXRoQS5sZW5ndGggPT09IG1hdGNoaW5nLmZpbHRlcihmdW5jdGlvbiAobm9kZSkgeyByZXR1cm4gIXJlbG9hZFN0YXRlIHx8ICFub2RlLnN0YXRlLmluY2x1ZGVzW3JlbG9hZFN0YXRlLm5hbWVdOyB9KS5sZW5ndGg7XG4gICAgICAgIH07XG4gICAgICAgIHZhciBuZXdUQyA9IHRoaXMudHJlZUNoYW5nZXMoKTtcbiAgICAgICAgdmFyIHBlbmRUQyA9IHBlbmRpbmcgJiYgcGVuZGluZy50cmVlQ2hhbmdlcygpO1xuICAgICAgICBpZiAocGVuZFRDICYmIHNhbWUocGVuZFRDLnRvLCBuZXdUQy50bykgJiYgc2FtZShwZW5kVEMuZXhpdGluZywgbmV3VEMuZXhpdGluZykpXG4gICAgICAgICAgICByZXR1cm4gXCJTYW1lQXNQZW5kaW5nXCI7XG4gICAgICAgIGlmIChuZXdUQy5leGl0aW5nLmxlbmd0aCA9PT0gMCAmJiBuZXdUQy5lbnRlcmluZy5sZW5ndGggPT09IDAgJiYgc2FtZShuZXdUQy5mcm9tLCBuZXdUQy50bykpXG4gICAgICAgICAgICByZXR1cm4gXCJTYW1lQXNDdXJyZW50XCI7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBSdW5zIHRoZSB0cmFuc2l0aW9uXG4gICAgICpcbiAgICAgKiBUaGlzIG1ldGhvZCBpcyBnZW5lcmFsbHkgY2FsbGVkIGZyb20gdGhlIFtbU3RhdGVTZXJ2aWNlLnRyYW5zaXRpb25Ub11dXG4gICAgICpcbiAgICAgKiBAaW50ZXJuYWxhcGlcbiAgICAgKlxuICAgICAqIEByZXR1cm5zIGEgcHJvbWlzZSBmb3IgYSBzdWNjZXNzZnVsIHRyYW5zaXRpb24uXG4gICAgICovXG4gICAgVHJhbnNpdGlvbi5wcm90b3R5cGUucnVuID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICB2YXIgcnVuQWxsSG9va3MgPSBUcmFuc2l0aW9uSG9vay5ydW5BbGxIb29rcztcbiAgICAgICAgLy8gR2V0cyB0cmFuc2l0aW9uIGhvb2tzIGFycmF5IGZvciB0aGUgZ2l2ZW4gcGhhc2VcbiAgICAgICAgdmFyIGdldEhvb2tzRm9yID0gZnVuY3Rpb24gKHBoYXNlKSB7XG4gICAgICAgICAgICByZXR1cm4gX3RoaXMuX2hvb2tCdWlsZGVyLmJ1aWxkSG9va3NGb3JQaGFzZShwaGFzZSk7XG4gICAgICAgIH07XG4gICAgICAgIC8vIFdoZW4gdGhlIGNoYWluIGlzIGNvbXBsZXRlLCB0aGVuIHJlc29sdmUgb3IgcmVqZWN0IHRoZSBkZWZlcnJlZFxuICAgICAgICB2YXIgdHJhbnNpdGlvblN1Y2Nlc3MgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB0cmFjZS50cmFjZVN1Y2Nlc3MoX3RoaXMuJHRvKCksIF90aGlzKTtcbiAgICAgICAgICAgIF90aGlzLnN1Y2Nlc3MgPSB0cnVlO1xuICAgICAgICAgICAgX3RoaXMuX2RlZmVycmVkLnJlc29sdmUoX3RoaXMudG8oKSk7XG4gICAgICAgICAgICBydW5BbGxIb29rcyhnZXRIb29rc0ZvcihleHBvcnRzLlRyYW5zaXRpb25Ib29rUGhhc2UuU1VDQ0VTUykpO1xuICAgICAgICB9O1xuICAgICAgICB2YXIgdHJhbnNpdGlvbkVycm9yID0gZnVuY3Rpb24gKHJlYXNvbikge1xuICAgICAgICAgICAgdHJhY2UudHJhY2VFcnJvcihyZWFzb24sIF90aGlzKTtcbiAgICAgICAgICAgIF90aGlzLnN1Y2Nlc3MgPSBmYWxzZTtcbiAgICAgICAgICAgIF90aGlzLl9kZWZlcnJlZC5yZWplY3QocmVhc29uKTtcbiAgICAgICAgICAgIF90aGlzLl9lcnJvciA9IHJlYXNvbjtcbiAgICAgICAgICAgIHJ1bkFsbEhvb2tzKGdldEhvb2tzRm9yKGV4cG9ydHMuVHJhbnNpdGlvbkhvb2tQaGFzZS5FUlJPUikpO1xuICAgICAgICB9O1xuICAgICAgICB2YXIgcnVuVHJhbnNpdGlvbiA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIC8vIFdhaXQgdG8gYnVpbGQgdGhlIFJVTiBob29rIGNoYWluIHVudGlsIHRoZSBCRUZPUkUgaG9va3MgYXJlIGRvbmVcbiAgICAgICAgICAgIC8vIFRoaXMgYWxsb3dzIGEgQkVGT1JFIGhvb2sgdG8gZHluYW1pY2FsbHkgYWRkIGFkZGl0aW9uYWwgUlVOIGhvb2tzIHZpYSB0aGUgVHJhbnNpdGlvbiBvYmplY3QuXG4gICAgICAgICAgICB2YXIgYWxsUnVuSG9va3MgPSBnZXRIb29rc0ZvcihleHBvcnRzLlRyYW5zaXRpb25Ib29rUGhhc2UuUlVOKTtcbiAgICAgICAgICAgIHZhciBkb25lID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gc2VydmljZXMuJHEud2hlbih1bmRlZmluZWQpOyB9O1xuICAgICAgICAgICAgcmV0dXJuIFRyYW5zaXRpb25Ib29rLmludm9rZUhvb2tzKGFsbFJ1bkhvb2tzLCBkb25lKTtcbiAgICAgICAgfTtcbiAgICAgICAgdmFyIHN0YXJ0VHJhbnNpdGlvbiA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHZhciBnbG9iYWxzID0gX3RoaXMucm91dGVyLmdsb2JhbHM7XG4gICAgICAgICAgICBnbG9iYWxzLmxhc3RTdGFydGVkVHJhbnNpdGlvbklkID0gX3RoaXMuJGlkO1xuICAgICAgICAgICAgZ2xvYmFscy50cmFuc2l0aW9uID0gX3RoaXM7XG4gICAgICAgICAgICBnbG9iYWxzLnRyYW5zaXRpb25IaXN0b3J5LmVucXVldWUoX3RoaXMpO1xuICAgICAgICAgICAgdHJhY2UudHJhY2VUcmFuc2l0aW9uU3RhcnQoX3RoaXMpO1xuICAgICAgICAgICAgcmV0dXJuIHNlcnZpY2VzLiRxLndoZW4odW5kZWZpbmVkKTtcbiAgICAgICAgfTtcbiAgICAgICAgdmFyIGFsbEJlZm9yZUhvb2tzID0gZ2V0SG9va3NGb3IoZXhwb3J0cy5UcmFuc2l0aW9uSG9va1BoYXNlLkJFRk9SRSk7XG4gICAgICAgIFRyYW5zaXRpb25Ib29rLmludm9rZUhvb2tzKGFsbEJlZm9yZUhvb2tzLCBzdGFydFRyYW5zaXRpb24pXG4gICAgICAgICAgICAudGhlbihydW5UcmFuc2l0aW9uKVxuICAgICAgICAgICAgLnRoZW4odHJhbnNpdGlvblN1Y2Nlc3MsIHRyYW5zaXRpb25FcnJvcik7XG4gICAgICAgIHJldHVybiB0aGlzLnByb21pc2U7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBDaGVja3MgaWYgdGhlIFRyYW5zaXRpb24gaXMgdmFsaWRcbiAgICAgKlxuICAgICAqIEByZXR1cm5zIHRydWUgaWYgdGhlIFRyYW5zaXRpb24gaXMgdmFsaWRcbiAgICAgKi9cbiAgICBUcmFuc2l0aW9uLnByb3RvdHlwZS52YWxpZCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuICF0aGlzLmVycm9yKCkgfHwgdGhpcy5zdWNjZXNzICE9PSB1bmRlZmluZWQ7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBBYm9ydHMgdGhpcyB0cmFuc2l0aW9uXG4gICAgICpcbiAgICAgKiBJbXBlcmF0aXZlIEFQSSB0byBhYm9ydCBhIFRyYW5zaXRpb24uXG4gICAgICogVGhpcyBvbmx5IGFwcGxpZXMgdG8gVHJhbnNpdGlvbnMgdGhhdCBhcmUgbm90IHlldCBjb21wbGV0ZS5cbiAgICAgKi9cbiAgICBUcmFuc2l0aW9uLnByb3RvdHlwZS5hYm9ydCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgLy8gRG8gbm90IHNldCBmbGFnIGlmIHRoZSB0cmFuc2l0aW9uIGlzIGFscmVhZHkgY29tcGxldGVcbiAgICAgICAgaWYgKGlzVW5kZWZpbmVkKHRoaXMuc3VjY2VzcykpIHtcbiAgICAgICAgICAgIHRoaXMuX2Fib3J0ZWQgPSB0cnVlO1xuICAgICAgICB9XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBUaGUgVHJhbnNpdGlvbiBlcnJvciByZWFzb24uXG4gICAgICpcbiAgICAgKiBJZiB0aGUgdHJhbnNpdGlvbiBpcyBpbnZhbGlkIChhbmQgY291bGQgbm90IGJlIHJ1biksIHJldHVybnMgdGhlIHJlYXNvbiB0aGUgdHJhbnNpdGlvbiBpcyBpbnZhbGlkLlxuICAgICAqIElmIHRoZSB0cmFuc2l0aW9uIHdhcyB2YWxpZCBhbmQgcmFuLCBidXQgd2FzIG5vdCBzdWNjZXNzZnVsLCByZXR1cm5zIHRoZSByZWFzb24gdGhlIHRyYW5zaXRpb24gZmFpbGVkLlxuICAgICAqXG4gICAgICogQHJldHVybnMgYW4gZXJyb3IgbWVzc2FnZSBleHBsYWluaW5nIHdoeSB0aGUgdHJhbnNpdGlvbiBpcyBpbnZhbGlkLCBvciB0aGUgcmVhc29uIHRoZSB0cmFuc2l0aW9uIGZhaWxlZC5cbiAgICAgKi9cbiAgICBUcmFuc2l0aW9uLnByb3RvdHlwZS5lcnJvciA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIHN0YXRlID0gdGhpcy4kdG8oKTtcbiAgICAgICAgaWYgKHN0YXRlLnNlbGYuYWJzdHJhY3QpXG4gICAgICAgICAgICByZXR1cm4gXCJDYW5ub3QgdHJhbnNpdGlvbiB0byBhYnN0cmFjdCBzdGF0ZSAnXCIgKyBzdGF0ZS5uYW1lICsgXCInXCI7XG4gICAgICAgIGlmICghUGFyYW0udmFsaWRhdGVzKHN0YXRlLnBhcmFtZXRlcnMoKSwgdGhpcy5wYXJhbXMoKSkpXG4gICAgICAgICAgICByZXR1cm4gXCJQYXJhbSB2YWx1ZXMgbm90IHZhbGlkIGZvciBzdGF0ZSAnXCIgKyBzdGF0ZS5uYW1lICsgXCInXCI7XG4gICAgICAgIGlmICh0aGlzLnN1Y2Nlc3MgPT09IGZhbHNlKVxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2Vycm9yO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQSBzdHJpbmcgcmVwcmVzZW50YXRpb24gb2YgdGhlIFRyYW5zaXRpb25cbiAgICAgKlxuICAgICAqIEByZXR1cm5zIEEgc3RyaW5nIHJlcHJlc2VudGF0aW9uIG9mIHRoZSBUcmFuc2l0aW9uXG4gICAgICovXG4gICAgVHJhbnNpdGlvbi5wcm90b3R5cGUudG9TdHJpbmcgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBmcm9tU3RhdGVPck5hbWUgPSB0aGlzLmZyb20oKTtcbiAgICAgICAgdmFyIHRvU3RhdGVPck5hbWUgPSB0aGlzLnRvKCk7XG4gICAgICAgIHZhciBhdm9pZEVtcHR5SGFzaCA9IGZ1bmN0aW9uIChwYXJhbXMpIHtcbiAgICAgICAgICAgIHJldHVybiAocGFyYW1zW1wiI1wiXSAhPT0gbnVsbCAmJiBwYXJhbXNbXCIjXCJdICE9PSB1bmRlZmluZWQpID8gcGFyYW1zIDogb21pdChwYXJhbXMsIFtcIiNcIl0pO1xuICAgICAgICB9O1xuICAgICAgICAvLyAoWCkgbWVhbnMgdGhlIHRvIHN0YXRlIGlzIGludmFsaWQuXG4gICAgICAgIHZhciBpZCA9IHRoaXMuJGlkLCBmcm9tID0gaXNPYmplY3QoZnJvbVN0YXRlT3JOYW1lKSA/IGZyb21TdGF0ZU9yTmFtZS5uYW1lIDogZnJvbVN0YXRlT3JOYW1lLCBmcm9tUGFyYW1zID0gdG9Kc29uKGF2b2lkRW1wdHlIYXNoKHRoaXMuX3RyZWVDaGFuZ2VzLmZyb20ubWFwKHByb3AoJ3BhcmFtVmFsdWVzJykpLnJlZHVjZShtZXJnZVIsIHt9KSkpLCB0b1ZhbGlkID0gdGhpcy52YWxpZCgpID8gXCJcIiA6IFwiKFgpIFwiLCB0byA9IGlzT2JqZWN0KHRvU3RhdGVPck5hbWUpID8gdG9TdGF0ZU9yTmFtZS5uYW1lIDogdG9TdGF0ZU9yTmFtZSwgdG9QYXJhbXMgPSB0b0pzb24oYXZvaWRFbXB0eUhhc2godGhpcy5wYXJhbXMoKSkpO1xuICAgICAgICByZXR1cm4gXCJUcmFuc2l0aW9uI1wiICsgaWQgKyBcIiggJ1wiICsgZnJvbSArIFwiJ1wiICsgZnJvbVBhcmFtcyArIFwiIC0+IFwiICsgdG9WYWxpZCArIFwiJ1wiICsgdG8gKyBcIidcIiArIHRvUGFyYW1zICsgXCIgKVwiO1xuICAgIH07XG4gICAgcmV0dXJuIFRyYW5zaXRpb247XG59KCkpO1xuLyoqIEBoaWRkZW4gKi9cblRyYW5zaXRpb24uZGlUb2tlbiA9IFRyYW5zaXRpb247XG5cbi8qKlxuICogRnVuY3Rpb25zIHRoYXQgbWFuaXB1bGF0ZSBzdHJpbmdzXG4gKlxuICogQWx0aG91Z2ggdGhlc2UgZnVuY3Rpb25zIGFyZSBleHBvcnRlZCwgdGhleSBhcmUgc3ViamVjdCB0byBjaGFuZ2Ugd2l0aG91dCBub3RpY2UuXG4gKlxuICogQG1vZHVsZSBjb21tb25fc3RyaW5nc1xuICovIC8qKiAqL1xuLyoqXG4gKiBSZXR1cm5zIGEgc3RyaW5nIHNob3J0ZW5lZCB0byBhIG1heGltdW0gbGVuZ3RoXG4gKlxuICogSWYgdGhlIHN0cmluZyBpcyBhbHJlYWR5IGxlc3MgdGhhbiB0aGUgYG1heGAgbGVuZ3RoLCByZXR1cm4gdGhlIHN0cmluZy5cbiAqIEVsc2UgcmV0dXJuIHRoZSBzdHJpbmcsIHNob3J0ZW5lZCB0byBgbWF4IC0gM2AgYW5kIGFwcGVuZCB0aHJlZSBkb3RzIChcIi4uLlwiKS5cbiAqXG4gKiBAcGFyYW0gbWF4IHRoZSBtYXhpbXVtIGxlbmd0aCBvZiB0aGUgc3RyaW5nIHRvIHJldHVyblxuICogQHBhcmFtIHN0ciB0aGUgaW5wdXQgc3RyaW5nXG4gKi9cbmZ1bmN0aW9uIG1heExlbmd0aChtYXgsIHN0cikge1xuICAgIGlmIChzdHIubGVuZ3RoIDw9IG1heClcbiAgICAgICAgcmV0dXJuIHN0cjtcbiAgICByZXR1cm4gc3RyLnN1YnN0cigwLCBtYXggLSAzKSArIFwiLi4uXCI7XG59XG4vKipcbiAqIFJldHVybnMgYSBzdHJpbmcsIHdpdGggc3BhY2VzIGFkZGVkIHRvIHRoZSBlbmQsIHVwIHRvIGEgZGVzaXJlZCBzdHIgbGVuZ3RoXG4gKlxuICogSWYgdGhlIHN0cmluZyBpcyBhbHJlYWR5IGxvbmdlciB0aGFuIHRoZSBkZXNpcmVkIGxlbmd0aCwgcmV0dXJuIHRoZSBzdHJpbmcuXG4gKiBFbHNlIHJldHVybnMgdGhlIHN0cmluZywgd2l0aCBleHRyYSBzcGFjZXMgb24gdGhlIGVuZCwgc3VjaCB0aGF0IGl0IHJlYWNoZXMgYGxlbmd0aGAgY2hhcmFjdGVycy5cbiAqXG4gKiBAcGFyYW0gbGVuZ3RoIHRoZSBkZXNpcmVkIGxlbmd0aCBvZiB0aGUgc3RyaW5nIHRvIHJldHVyblxuICogQHBhcmFtIHN0ciB0aGUgaW5wdXQgc3RyaW5nXG4gKi9cbmZ1bmN0aW9uIHBhZFN0cmluZyhsZW5ndGgsIHN0cikge1xuICAgIHdoaWxlIChzdHIubGVuZ3RoIDwgbGVuZ3RoKVxuICAgICAgICBzdHIgKz0gXCIgXCI7XG4gICAgcmV0dXJuIHN0cjtcbn1cbmZ1bmN0aW9uIGtlYm9iU3RyaW5nKGNhbWVsQ2FzZSkge1xuICAgIHJldHVybiBjYW1lbENhc2VcbiAgICAgICAgLnJlcGxhY2UoL14oW0EtWl0pLywgZnVuY3Rpb24gKCQxKSB7IHJldHVybiAkMS50b0xvd2VyQ2FzZSgpOyB9KSAvLyByZXBsYWNlIGZpcnN0IGNoYXJcbiAgICAgICAgLnJlcGxhY2UoLyhbQS1aXSkvZywgZnVuY3Rpb24gKCQxKSB7IHJldHVybiBcIi1cIiArICQxLnRvTG93ZXJDYXNlKCk7IH0pOyAvLyByZXBsYWNlIHJlc3Rcbn1cbmZ1bmN0aW9uIGZ1bmN0aW9uVG9TdHJpbmcoZm4pIHtcbiAgICB2YXIgZm5TdHIgPSBmblRvU3RyaW5nKGZuKTtcbiAgICB2YXIgbmFtZWRGdW5jdGlvbk1hdGNoID0gZm5TdHIubWF0Y2goL14oZnVuY3Rpb24gW14gXStcXChbXildKlxcKSkvKTtcbiAgICB2YXIgdG9TdHIgPSBuYW1lZEZ1bmN0aW9uTWF0Y2ggPyBuYW1lZEZ1bmN0aW9uTWF0Y2hbMV0gOiBmblN0cjtcbiAgICB2YXIgZm5OYW1lID0gZm5bJ25hbWUnXSB8fCBcIlwiO1xuICAgIGlmIChmbk5hbWUgJiYgdG9TdHIubWF0Y2goL2Z1bmN0aW9uIFxcKC8pKSB7XG4gICAgICAgIHJldHVybiAnZnVuY3Rpb24gJyArIGZuTmFtZSArIHRvU3RyLnN1YnN0cig5KTtcbiAgICB9XG4gICAgcmV0dXJuIHRvU3RyO1xufVxuZnVuY3Rpb24gZm5Ub1N0cmluZyhmbikge1xuICAgIHZhciBfZm4gPSBpc0FycmF5KGZuKSA/IGZuLnNsaWNlKC0xKVswXSA6IGZuO1xuICAgIHJldHVybiBfZm4gJiYgX2ZuLnRvU3RyaW5nKCkgfHwgXCJ1bmRlZmluZWRcIjtcbn1cbnZhciBzdHJpbmdpZnlQYXR0ZXJuRm4gPSBudWxsO1xudmFyIHN0cmluZ2lmeVBhdHRlcm4gPSBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICB2YXIgaXNSZWplY3Rpb24gPSBSZWplY3Rpb24uaXNSZWplY3Rpb25Qcm9taXNlO1xuICAgIHN0cmluZ2lmeVBhdHRlcm5GbiA9IHN0cmluZ2lmeVBhdHRlcm5GbiB8fCBwYXR0ZXJuKFtcbiAgICAgICAgW25vdChpc0RlZmluZWQpLCB2YWwoXCJ1bmRlZmluZWRcIildLFxuICAgICAgICBbaXNOdWxsLCB2YWwoXCJudWxsXCIpXSxcbiAgICAgICAgW2lzUHJvbWlzZSwgdmFsKFwiW1Byb21pc2VdXCIpXSxcbiAgICAgICAgW2lzUmVqZWN0aW9uLCBmdW5jdGlvbiAoeCkgeyByZXR1cm4geC5fdHJhbnNpdGlvblJlamVjdGlvbi50b1N0cmluZygpOyB9XSxcbiAgICAgICAgW2lzKFJlamVjdGlvbiksIGludm9rZShcInRvU3RyaW5nXCIpXSxcbiAgICAgICAgW2lzKFRyYW5zaXRpb24pLCBpbnZva2UoXCJ0b1N0cmluZ1wiKV0sXG4gICAgICAgIFtpcyhSZXNvbHZhYmxlKSwgaW52b2tlKFwidG9TdHJpbmdcIildLFxuICAgICAgICBbaXNJbmplY3RhYmxlLCBmdW5jdGlvblRvU3RyaW5nXSxcbiAgICAgICAgW3ZhbCh0cnVlKSwgaWRlbnRpdHldXG4gICAgXSk7XG4gICAgcmV0dXJuIHN0cmluZ2lmeVBhdHRlcm5Gbih2YWx1ZSk7XG59O1xuZnVuY3Rpb24gc3RyaW5naWZ5KG8pIHtcbiAgICB2YXIgc2VlbiA9IFtdO1xuICAgIGZ1bmN0aW9uIGZvcm1hdCh2YWwkJDEpIHtcbiAgICAgICAgaWYgKGlzT2JqZWN0KHZhbCQkMSkpIHtcbiAgICAgICAgICAgIGlmIChzZWVuLmluZGV4T2YodmFsJCQxKSAhPT0gLTEpXG4gICAgICAgICAgICAgICAgcmV0dXJuICdbY2lyY3VsYXIgcmVmXSc7XG4gICAgICAgICAgICBzZWVuLnB1c2godmFsJCQxKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gc3RyaW5naWZ5UGF0dGVybih2YWwkJDEpO1xuICAgIH1cbiAgICByZXR1cm4gSlNPTi5zdHJpbmdpZnkobywgZnVuY3Rpb24gKGtleSwgdmFsJCQxKSB7IHJldHVybiBmb3JtYXQodmFsJCQxKTsgfSkucmVwbGFjZSgvXFxcXFwiL2csICdcIicpO1xufVxuLyoqIFJldHVybnMgYSBmdW5jdGlvbiB0aGF0IHNwbGl0cyBhIHN0cmluZyBvbiBhIGNoYXJhY3RlciBvciBzdWJzdHJpbmcgKi9cbnZhciBiZWZvcmVBZnRlclN1YnN0ciA9IGZ1bmN0aW9uIChjaGFyKSB7IHJldHVybiBmdW5jdGlvbiAoc3RyKSB7XG4gICAgaWYgKCFzdHIpXG4gICAgICAgIHJldHVybiBbXCJcIiwgXCJcIl07XG4gICAgdmFyIGlkeCA9IHN0ci5pbmRleE9mKGNoYXIpO1xuICAgIGlmIChpZHggPT09IC0xKVxuICAgICAgICByZXR1cm4gW3N0ciwgXCJcIl07XG4gICAgcmV0dXJuIFtzdHIuc3Vic3RyKDAsIGlkeCksIHN0ci5zdWJzdHIoaWR4ICsgMSldO1xufTsgfTtcbi8qKlxuICogU3BsaXRzIG9uIGEgZGVsaW1pdGVyLCBidXQgcmV0dXJucyB0aGUgZGVsaW1pdGVycyBpbiB0aGUgYXJyYXlcbiAqXG4gKiAjIyMjIEV4YW1wbGU6XG4gKiBgYGBqc1xuICogdmFyIHNwbGl0T25TbGFzaGVzID0gc3BsaXRPbkRlbGltKCcvJyk7XG4gKiBzcGxpdE9uU2xhc2hlcyhcIi9mb29cIik7IC8vIFtcIi9cIiwgXCJmb29cIl1cbiAqIHNwbGl0T25TbGFzaGVzKFwiL2Zvby9cIik7IC8vIFtcIi9cIiwgXCJmb29cIiwgXCIvXCJdXG4gKiBgYGBcbiAqL1xuZnVuY3Rpb24gc3BsaXRPbkRlbGltKGRlbGltKSB7XG4gICAgdmFyIHJlID0gbmV3IFJlZ0V4cChcIihcIiArIGRlbGltICsgXCIpXCIsIFwiZ1wiKTtcbiAgICByZXR1cm4gZnVuY3Rpb24gKHN0cikge1xuICAgICAgICByZXR1cm4gc3RyLnNwbGl0KHJlKS5maWx0ZXIoaWRlbnRpdHkpO1xuICAgIH07XG59XG5cbi8qKlxuICogUmVkdWNlIGZuIHRoYXQgam9pbnMgbmVpZ2hib3Jpbmcgc3RyaW5nc1xuICpcbiAqIEdpdmVuIGFuIGFycmF5IG9mIHN0cmluZ3MsIHJldHVybnMgYSBuZXcgYXJyYXlcbiAqIHdoZXJlIGFsbCBuZWlnaGJvcmluZyBzdHJpbmdzIGhhdmUgYmVlbiBqb2luZWQuXG4gKlxuICogIyMjIyBFeGFtcGxlOlxuICogYGBganNcbiAqIGxldCBhcnIgPSBbXCJmb29cIiwgXCJiYXJcIiwgMSwgXCJiYXpcIiwgXCJcIiwgXCJxdXhcIiBdO1xuICogYXJyLnJlZHVjZShqb2luTmVpZ2hib3JzUiwgW10pIC8vIFtcImZvb2JhclwiLCAxLCBcImJhenF1eFwiIF1cbiAqIGBgYFxuICovXG5mdW5jdGlvbiBqb2luTmVpZ2hib3JzUihhY2MsIHgpIHtcbiAgICBpZiAoaXNTdHJpbmcodGFpbChhY2MpKSAmJiBpc1N0cmluZyh4KSlcbiAgICAgICAgcmV0dXJuIGFjYy5zbGljZSgwLCAtMSkuY29uY2F0KHRhaWwoYWNjKSArIHgpO1xuICAgIHJldHVybiBwdXNoUihhY2MsIHgpO1xufVxuXG4vKiogQG1vZHVsZSBjb21tb24gKi8gLyoqIGZvciB0eXBlZG9jICovXG5cbi8qKlxuICogQGNvcmVhcGlcbiAqIEBtb2R1bGUgcGFyYW1zXG4gKi9cbi8qKiAqL1xuLyoqXG4gKiBBIHJlZ2lzdHJ5IGZvciBwYXJhbWV0ZXIgdHlwZXMuXG4gKlxuICogVGhpcyByZWdpc3RyeSBtYW5hZ2VzIHRoZSBidWlsdC1pbiAoYW5kIGN1c3RvbSkgcGFyYW1ldGVyIHR5cGVzLlxuICpcbiAqIFRoZSBidWlsdC1pbiBwYXJhbWV0ZXIgdHlwZXMgYXJlOlxuICpcbiAqIC0gW1tzdHJpbmddXVxuICogLSBbW3BhdGhdXVxuICogLSBbW3F1ZXJ5XV1cbiAqIC0gW1toYXNoXV1cbiAqIC0gW1tpbnRdXVxuICogLSBbW2Jvb2xdXVxuICogLSBbW2RhdGVdXVxuICogLSBbW2pzb25dXVxuICogLSBbW2FueV1dXG4gKi9cbnZhciBQYXJhbVR5cGVzID0gKGZ1bmN0aW9uICgpIHtcbiAgICAvKiogQGludGVybmFsYXBpICovXG4gICAgZnVuY3Rpb24gUGFyYW1UeXBlcygpIHtcbiAgICAgICAgLyoqIEBoaWRkZW4gKi9cbiAgICAgICAgdGhpcy5lbnF1ZXVlID0gdHJ1ZTtcbiAgICAgICAgLyoqIEBoaWRkZW4gKi9cbiAgICAgICAgdGhpcy50eXBlUXVldWUgPSBbXTtcbiAgICAgICAgLyoqIEBpbnRlcm5hbGFwaSAqL1xuICAgICAgICB0aGlzLmRlZmF1bHRUeXBlcyA9IHBpY2soUGFyYW1UeXBlcy5wcm90b3R5cGUsIFtcImhhc2hcIiwgXCJzdHJpbmdcIiwgXCJxdWVyeVwiLCBcInBhdGhcIiwgXCJpbnRcIiwgXCJib29sXCIsIFwiZGF0ZVwiLCBcImpzb25cIiwgXCJhbnlcIl0pO1xuICAgICAgICAvLyBSZWdpc3RlciBkZWZhdWx0IHR5cGVzLiBTdG9yZSB0aGVtIGluIHRoZSBwcm90b3R5cGUgb2YgdGhpcy50eXBlcy5cbiAgICAgICAgdmFyIG1ha2VUeXBlID0gZnVuY3Rpb24gKGRlZmluaXRpb24sIG5hbWUpIHtcbiAgICAgICAgICAgIHJldHVybiBuZXcgUGFyYW1UeXBlKGV4dGVuZCh7IG5hbWU6IG5hbWUgfSwgZGVmaW5pdGlvbikpO1xuICAgICAgICB9O1xuICAgICAgICB0aGlzLnR5cGVzID0gaW5oZXJpdChtYXAodGhpcy5kZWZhdWx0VHlwZXMsIG1ha2VUeXBlKSwge30pO1xuICAgIH1cbiAgICAvKiogQGludGVybmFsYXBpICovXG4gICAgUGFyYW1UeXBlcy5wcm90b3R5cGUuZGlzcG9zZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy50eXBlcyA9IHt9O1xuICAgIH07XG4gICAgLyoqXG4gICAgICogUmVnaXN0ZXJzIGEgcGFyYW1ldGVyIHR5cGVcbiAgICAgKlxuICAgICAqIEVuZCB1c2VycyBzaG91bGQgY2FsbCBbW1VybE1hdGNoZXJGYWN0b3J5LnR5cGVdXSwgd2hpY2ggZGVsZWdhdGVzIHRvIHRoaXMgbWV0aG9kLlxuICAgICAqL1xuICAgIFBhcmFtVHlwZXMucHJvdG90eXBlLnR5cGUgPSBmdW5jdGlvbiAobmFtZSwgZGVmaW5pdGlvbiwgZGVmaW5pdGlvbkZuKSB7XG4gICAgICAgIGlmICghaXNEZWZpbmVkKGRlZmluaXRpb24pKVxuICAgICAgICAgICAgcmV0dXJuIHRoaXMudHlwZXNbbmFtZV07XG4gICAgICAgIGlmICh0aGlzLnR5cGVzLmhhc093blByb3BlcnR5KG5hbWUpKVxuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiQSB0eXBlIG5hbWVkICdcIiArIG5hbWUgKyBcIicgaGFzIGFscmVhZHkgYmVlbiBkZWZpbmVkLlwiKTtcbiAgICAgICAgdGhpcy50eXBlc1tuYW1lXSA9IG5ldyBQYXJhbVR5cGUoZXh0ZW5kKHsgbmFtZTogbmFtZSB9LCBkZWZpbml0aW9uKSk7XG4gICAgICAgIGlmIChkZWZpbml0aW9uRm4pIHtcbiAgICAgICAgICAgIHRoaXMudHlwZVF1ZXVlLnB1c2goeyBuYW1lOiBuYW1lLCBkZWY6IGRlZmluaXRpb25GbiB9KTtcbiAgICAgICAgICAgIGlmICghdGhpcy5lbnF1ZXVlKVxuICAgICAgICAgICAgICAgIHRoaXMuX2ZsdXNoVHlwZVF1ZXVlKCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcbiAgICAvKiogQGludGVybmFsYXBpICovXG4gICAgUGFyYW1UeXBlcy5wcm90b3R5cGUuX2ZsdXNoVHlwZVF1ZXVlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB3aGlsZSAodGhpcy50eXBlUXVldWUubGVuZ3RoKSB7XG4gICAgICAgICAgICB2YXIgdHlwZSA9IHRoaXMudHlwZVF1ZXVlLnNoaWZ0KCk7XG4gICAgICAgICAgICBpZiAodHlwZS5wYXR0ZXJuKVxuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIllvdSBjYW5ub3Qgb3ZlcnJpZGUgYSB0eXBlJ3MgLnBhdHRlcm4gYXQgcnVudGltZS5cIik7XG4gICAgICAgICAgICBleHRlbmQodGhpcy50eXBlc1t0eXBlLm5hbWVdLCBzZXJ2aWNlcy4kaW5qZWN0b3IuaW52b2tlKHR5cGUuZGVmKSk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIHJldHVybiBQYXJhbVR5cGVzO1xufSgpKTtcbi8qKiBAaGlkZGVuICovXG5mdW5jdGlvbiBpbml0RGVmYXVsdFR5cGVzKCkge1xuICAgIHZhciBtYWtlRGVmYXVsdFR5cGUgPSBmdW5jdGlvbiAoZGVmKSB7XG4gICAgICAgIHZhciB2YWxUb1N0cmluZyA9IGZ1bmN0aW9uICh2YWwkJDEpIHtcbiAgICAgICAgICAgIHJldHVybiB2YWwkJDEgIT0gbnVsbCA/IHZhbCQkMS50b1N0cmluZygpIDogdmFsJCQxO1xuICAgICAgICB9O1xuICAgICAgICB2YXIgZGVmYXVsdFR5cGVCYXNlID0ge1xuICAgICAgICAgICAgZW5jb2RlOiB2YWxUb1N0cmluZyxcbiAgICAgICAgICAgIGRlY29kZTogdmFsVG9TdHJpbmcsXG4gICAgICAgICAgICBpczogaXMoU3RyaW5nKSxcbiAgICAgICAgICAgIHBhdHRlcm46IC8uKi8sXG4gICAgICAgICAgICBlcXVhbHM6IGZ1bmN0aW9uIChhLCBiKSB7IHJldHVybiBhID09IGI7IH0sXG4gICAgICAgIH07XG4gICAgICAgIHJldHVybiBleHRlbmQoe30sIGRlZmF1bHRUeXBlQmFzZSwgZGVmKTtcbiAgICB9O1xuICAgIC8vIERlZmF1bHQgUGFyYW1ldGVyIFR5cGUgRGVmaW5pdGlvbnNcbiAgICBleHRlbmQoUGFyYW1UeXBlcy5wcm90b3R5cGUsIHtcbiAgICAgICAgc3RyaW5nOiBtYWtlRGVmYXVsdFR5cGUoe30pLFxuICAgICAgICBwYXRoOiBtYWtlRGVmYXVsdFR5cGUoe1xuICAgICAgICAgICAgcGF0dGVybjogL1teL10qLyxcbiAgICAgICAgfSksXG4gICAgICAgIHF1ZXJ5OiBtYWtlRGVmYXVsdFR5cGUoe30pLFxuICAgICAgICBoYXNoOiBtYWtlRGVmYXVsdFR5cGUoe1xuICAgICAgICAgICAgaW5oZXJpdDogZmFsc2UsXG4gICAgICAgIH0pLFxuICAgICAgICBpbnQ6IG1ha2VEZWZhdWx0VHlwZSh7XG4gICAgICAgICAgICBkZWNvZGU6IGZ1bmN0aW9uICh2YWwkJDEpIHsgcmV0dXJuIHBhcnNlSW50KHZhbCQkMSwgMTApOyB9LFxuICAgICAgICAgICAgaXM6IGZ1bmN0aW9uICh2YWwkJDEpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gIWlzTnVsbE9yVW5kZWZpbmVkKHZhbCQkMSkgJiYgdGhpcy5kZWNvZGUodmFsJCQxLnRvU3RyaW5nKCkpID09PSB2YWwkJDE7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgcGF0dGVybjogLy0/XFxkKy8sXG4gICAgICAgIH0pLFxuICAgICAgICBib29sOiBtYWtlRGVmYXVsdFR5cGUoe1xuICAgICAgICAgICAgZW5jb2RlOiBmdW5jdGlvbiAodmFsJCQxKSB7IHJldHVybiB2YWwkJDEgJiYgMSB8fCAwOyB9LFxuICAgICAgICAgICAgZGVjb2RlOiBmdW5jdGlvbiAodmFsJCQxKSB7IHJldHVybiBwYXJzZUludCh2YWwkJDEsIDEwKSAhPT0gMDsgfSxcbiAgICAgICAgICAgIGlzOiBpcyhCb29sZWFuKSxcbiAgICAgICAgICAgIHBhdHRlcm46IC8wfDEvXG4gICAgICAgIH0pLFxuICAgICAgICBkYXRlOiBtYWtlRGVmYXVsdFR5cGUoe1xuICAgICAgICAgICAgZW5jb2RlOiBmdW5jdGlvbiAodmFsJCQxKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuICF0aGlzLmlzKHZhbCQkMSkgPyB1bmRlZmluZWQgOiBbXG4gICAgICAgICAgICAgICAgICAgIHZhbCQkMS5nZXRGdWxsWWVhcigpLFxuICAgICAgICAgICAgICAgICAgICAoJzAnICsgKHZhbCQkMS5nZXRNb250aCgpICsgMSkpLnNsaWNlKC0yKSxcbiAgICAgICAgICAgICAgICAgICAgKCcwJyArIHZhbCQkMS5nZXREYXRlKCkpLnNsaWNlKC0yKVxuICAgICAgICAgICAgICAgIF0uam9pbihcIi1cIik7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgZGVjb2RlOiBmdW5jdGlvbiAodmFsJCQxKSB7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuaXModmFsJCQxKSlcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHZhbCQkMTtcbiAgICAgICAgICAgICAgICB2YXIgbWF0Y2ggPSB0aGlzLmNhcHR1cmUuZXhlYyh2YWwkJDEpO1xuICAgICAgICAgICAgICAgIHJldHVybiBtYXRjaCA/IG5ldyBEYXRlKG1hdGNoWzFdLCBtYXRjaFsyXSAtIDEsIG1hdGNoWzNdKSA6IHVuZGVmaW5lZDtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBpczogZnVuY3Rpb24gKHZhbCQkMSkgeyByZXR1cm4gdmFsJCQxIGluc3RhbmNlb2YgRGF0ZSAmJiAhaXNOYU4odmFsJCQxLnZhbHVlT2YoKSk7IH0sXG4gICAgICAgICAgICBlcXVhbHM6IGZ1bmN0aW9uIChsLCByKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIFsnZ2V0RnVsbFllYXInLCAnZ2V0TW9udGgnLCAnZ2V0RGF0ZSddXG4gICAgICAgICAgICAgICAgICAgIC5yZWR1Y2UoZnVuY3Rpb24gKGFjYywgZm4pIHsgcmV0dXJuIGFjYyAmJiBsW2ZuXSgpID09PSByW2ZuXSgpOyB9LCB0cnVlKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBwYXR0ZXJuOiAvWzAtOV17NH0tKD86MFsxLTldfDFbMC0yXSktKD86MFsxLTldfFsxLTJdWzAtOV18M1swLTFdKS8sXG4gICAgICAgICAgICBjYXB0dXJlOiAvKFswLTldezR9KS0oMFsxLTldfDFbMC0yXSktKDBbMS05XXxbMS0yXVswLTldfDNbMC0xXSkvXG4gICAgICAgIH0pLFxuICAgICAgICBqc29uOiBtYWtlRGVmYXVsdFR5cGUoe1xuICAgICAgICAgICAgZW5jb2RlOiB0b0pzb24sXG4gICAgICAgICAgICBkZWNvZGU6IGZyb21Kc29uLFxuICAgICAgICAgICAgaXM6IGlzKE9iamVjdCksXG4gICAgICAgICAgICBlcXVhbHM6IGVxdWFscyxcbiAgICAgICAgICAgIHBhdHRlcm46IC9bXi9dKi9cbiAgICAgICAgfSksXG4gICAgICAgIC8vIGRvZXMgbm90IGVuY29kZS9kZWNvZGVcbiAgICAgICAgYW55OiBtYWtlRGVmYXVsdFR5cGUoe1xuICAgICAgICAgICAgZW5jb2RlOiBpZGVudGl0eSxcbiAgICAgICAgICAgIGRlY29kZTogaWRlbnRpdHksXG4gICAgICAgICAgICBpczogZnVuY3Rpb24gKCkgeyByZXR1cm4gdHJ1ZTsgfSxcbiAgICAgICAgICAgIGVxdWFsczogZXF1YWxzLFxuICAgICAgICB9KSxcbiAgICB9KTtcbn1cbmluaXREZWZhdWx0VHlwZXMoKTtcblxuLyoqXG4gKiBAY29yZWFwaVxuICogQG1vZHVsZSBwYXJhbXNcbiAqL1xuLyoqICovXG4vKiogQGludGVybmFsYXBpICovXG52YXIgU3RhdGVQYXJhbXMgPSAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIFN0YXRlUGFyYW1zKHBhcmFtcykge1xuICAgICAgICBpZiAocGFyYW1zID09PSB2b2lkIDApIHsgcGFyYW1zID0ge307IH1cbiAgICAgICAgZXh0ZW5kKHRoaXMsIHBhcmFtcyk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIE1lcmdlcyBhIHNldCBvZiBwYXJhbWV0ZXJzIHdpdGggYWxsIHBhcmFtZXRlcnMgaW5oZXJpdGVkIGJldHdlZW4gdGhlIGNvbW1vbiBwYXJlbnRzIG9mIHRoZVxuICAgICAqIGN1cnJlbnQgc3RhdGUgYW5kIGEgZ2l2ZW4gZGVzdGluYXRpb24gc3RhdGUuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gbmV3UGFyYW1zIFRoZSBzZXQgb2YgcGFyYW1ldGVycyB3aGljaCB3aWxsIGJlIGNvbXBvc2l0ZWQgd2l0aCBpbmhlcml0ZWQgcGFyYW1zLlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSAkY3VycmVudCBJbnRlcm5hbCBkZWZpbml0aW9uIG9mIG9iamVjdCByZXByZXNlbnRpbmcgdGhlIGN1cnJlbnQgc3RhdGUuXG4gICAgICogQHBhcmFtIHtPYmplY3R9ICR0byBJbnRlcm5hbCBkZWZpbml0aW9uIG9mIG9iamVjdCByZXByZXNlbnRpbmcgc3RhdGUgdG8gdHJhbnNpdGlvbiB0by5cbiAgICAgKi9cbiAgICBTdGF0ZVBhcmFtcy5wcm90b3R5cGUuJGluaGVyaXQgPSBmdW5jdGlvbiAobmV3UGFyYW1zLCAkY3VycmVudCwgJHRvKSB7XG4gICAgICAgIHZhciBwYXJlbnRzID0gYW5jZXN0b3JzKCRjdXJyZW50LCAkdG8pLCBwYXJlbnRQYXJhbXMsIGluaGVyaXRlZCA9IHt9LCBpbmhlcml0TGlzdCA9IFtdO1xuICAgICAgICBmb3IgKHZhciBpIGluIHBhcmVudHMpIHtcbiAgICAgICAgICAgIGlmICghcGFyZW50c1tpXSB8fCAhcGFyZW50c1tpXS5wYXJhbXMpXG4gICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICBwYXJlbnRQYXJhbXMgPSBPYmplY3Qua2V5cyhwYXJlbnRzW2ldLnBhcmFtcyk7XG4gICAgICAgICAgICBpZiAoIXBhcmVudFBhcmFtcy5sZW5ndGgpXG4gICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICBmb3IgKHZhciBqIGluIHBhcmVudFBhcmFtcykge1xuICAgICAgICAgICAgICAgIGlmIChpbmhlcml0TGlzdC5pbmRleE9mKHBhcmVudFBhcmFtc1tqXSkgPj0gMClcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgaW5oZXJpdExpc3QucHVzaChwYXJlbnRQYXJhbXNbal0pO1xuICAgICAgICAgICAgICAgIGluaGVyaXRlZFtwYXJlbnRQYXJhbXNbal1dID0gdGhpc1twYXJlbnRQYXJhbXNbal1dO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBleHRlbmQoe30sIGluaGVyaXRlZCwgbmV3UGFyYW1zKTtcbiAgICB9O1xuICAgIFxuICAgIHJldHVybiBTdGF0ZVBhcmFtcztcbn0oKSk7XG5cbi8qKiBAbW9kdWxlIHBhdGggKi8gLyoqIGZvciB0eXBlZG9jICovXG5cbi8qKiBAbW9kdWxlIHJlc29sdmUgKi8gLyoqIGZvciB0eXBlZG9jICovXG5cbi8qKiBAbW9kdWxlIHN0YXRlICovIC8qKiBmb3IgdHlwZWRvYyAqL1xudmFyIHBhcnNlVXJsID0gZnVuY3Rpb24gKHVybCkge1xuICAgIGlmICghaXNTdHJpbmcodXJsKSlcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIHZhciByb290ID0gdXJsLmNoYXJBdCgwKSA9PT0gJ14nO1xuICAgIHJldHVybiB7IHZhbDogcm9vdCA/IHVybC5zdWJzdHJpbmcoMSkgOiB1cmwsIHJvb3Q6IHJvb3QgfTtcbn07XG5mdW5jdGlvbiBuYW1lQnVpbGRlcihzdGF0ZSkge1xuICAgIHJldHVybiBzdGF0ZS5uYW1lO1xufVxuZnVuY3Rpb24gc2VsZkJ1aWxkZXIoc3RhdGUpIHtcbiAgICBzdGF0ZS5zZWxmLiQkc3RhdGUgPSBmdW5jdGlvbiAoKSB7IHJldHVybiBzdGF0ZTsgfTtcbiAgICByZXR1cm4gc3RhdGUuc2VsZjtcbn1cbmZ1bmN0aW9uIGRhdGFCdWlsZGVyKHN0YXRlKSB7XG4gICAgaWYgKHN0YXRlLnBhcmVudCAmJiBzdGF0ZS5wYXJlbnQuZGF0YSkge1xuICAgICAgICBzdGF0ZS5kYXRhID0gc3RhdGUuc2VsZi5kYXRhID0gaW5oZXJpdChzdGF0ZS5wYXJlbnQuZGF0YSwgc3RhdGUuZGF0YSk7XG4gICAgfVxuICAgIHJldHVybiBzdGF0ZS5kYXRhO1xufVxudmFyIGdldFVybEJ1aWxkZXIgPSBmdW5jdGlvbiAoJHVybE1hdGNoZXJGYWN0b3J5UHJvdmlkZXIsIHJvb3QpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24gdXJsQnVpbGRlcihzdGF0ZSkge1xuICAgICAgICB2YXIgc3RhdGVEZWMgPSBzdGF0ZTtcbiAgICAgICAgLy8gRm9yIGZ1dHVyZSBzdGF0ZXMsIGkuZS4sIHN0YXRlcyB3aG9zZSBuYW1lIGVuZHMgd2l0aCBgLioqYCxcbiAgICAgICAgLy8gbWF0Y2ggYW55dGhpbmcgdGhhdCBzdGFydHMgd2l0aCB0aGUgdXJsIHByZWZpeFxuICAgICAgICBpZiAoc3RhdGVEZWMgJiYgc3RhdGVEZWMudXJsICYmIHN0YXRlRGVjLm5hbWUgJiYgc3RhdGVEZWMubmFtZS5tYXRjaCgvXFwuXFwqXFwqJC8pKSB7XG4gICAgICAgICAgICBzdGF0ZURlYy51cmwgKz0gXCJ7cmVtYWluZGVyOmFueX1cIjsgLy8gbWF0Y2ggYW55IHBhdGggKC4qKVxuICAgICAgICB9XG4gICAgICAgIHZhciBwYXJzZWQgPSBwYXJzZVVybChzdGF0ZURlYy51cmwpLCBwYXJlbnQgPSBzdGF0ZS5wYXJlbnQ7XG4gICAgICAgIHZhciB1cmwgPSAhcGFyc2VkID8gc3RhdGVEZWMudXJsIDogJHVybE1hdGNoZXJGYWN0b3J5UHJvdmlkZXIuY29tcGlsZShwYXJzZWQudmFsLCB7XG4gICAgICAgICAgICBwYXJhbXM6IHN0YXRlLnBhcmFtcyB8fCB7fSxcbiAgICAgICAgICAgIHBhcmFtTWFwOiBmdW5jdGlvbiAocGFyYW1Db25maWcsIGlzU2VhcmNoKSB7XG4gICAgICAgICAgICAgICAgaWYgKHN0YXRlRGVjLnJlbG9hZE9uU2VhcmNoID09PSBmYWxzZSAmJiBpc1NlYXJjaClcbiAgICAgICAgICAgICAgICAgICAgcGFyYW1Db25maWcgPSBleHRlbmQocGFyYW1Db25maWcgfHwge30sIHsgZHluYW1pYzogdHJ1ZSB9KTtcbiAgICAgICAgICAgICAgICByZXR1cm4gcGFyYW1Db25maWc7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICBpZiAoIXVybClcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICBpZiAoISR1cmxNYXRjaGVyRmFjdG9yeVByb3ZpZGVyLmlzTWF0Y2hlcih1cmwpKVxuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiSW52YWxpZCB1cmwgJ1wiICsgdXJsICsgXCInIGluIHN0YXRlICdcIiArIHN0YXRlICsgXCInXCIpO1xuICAgICAgICByZXR1cm4gKHBhcnNlZCAmJiBwYXJzZWQucm9vdCkgPyB1cmwgOiAoKHBhcmVudCAmJiBwYXJlbnQubmF2aWdhYmxlKSB8fCByb290KCkpLnVybC5hcHBlbmQodXJsKTtcbiAgICB9O1xufTtcbnZhciBnZXROYXZpZ2FibGVCdWlsZGVyID0gZnVuY3Rpb24gKGlzUm9vdCkge1xuICAgIHJldHVybiBmdW5jdGlvbiBuYXZpZ2FibGVCdWlsZGVyKHN0YXRlKSB7XG4gICAgICAgIHJldHVybiAhaXNSb290KHN0YXRlKSAmJiBzdGF0ZS51cmwgPyBzdGF0ZSA6IChzdGF0ZS5wYXJlbnQgPyBzdGF0ZS5wYXJlbnQubmF2aWdhYmxlIDogbnVsbCk7XG4gICAgfTtcbn07XG52YXIgZ2V0UGFyYW1zQnVpbGRlciA9IGZ1bmN0aW9uIChwYXJhbUZhY3RvcnkpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24gcGFyYW1zQnVpbGRlcihzdGF0ZSkge1xuICAgICAgICB2YXIgbWFrZUNvbmZpZ1BhcmFtID0gZnVuY3Rpb24gKGNvbmZpZywgaWQpIHsgcmV0dXJuIHBhcmFtRmFjdG9yeS5mcm9tQ29uZmlnKGlkLCBudWxsLCBjb25maWcpOyB9O1xuICAgICAgICB2YXIgdXJsUGFyYW1zID0gKHN0YXRlLnVybCAmJiBzdGF0ZS51cmwucGFyYW1ldGVycyh7IGluaGVyaXQ6IGZhbHNlIH0pKSB8fCBbXTtcbiAgICAgICAgdmFyIG5vblVybFBhcmFtcyA9IHZhbHVlcyhtYXBPYmoob21pdChzdGF0ZS5wYXJhbXMgfHwge30sIHVybFBhcmFtcy5tYXAocHJvcCgnaWQnKSkpLCBtYWtlQ29uZmlnUGFyYW0pKTtcbiAgICAgICAgcmV0dXJuIHVybFBhcmFtcy5jb25jYXQobm9uVXJsUGFyYW1zKS5tYXAoZnVuY3Rpb24gKHApIHsgcmV0dXJuIFtwLmlkLCBwXTsgfSkucmVkdWNlKGFwcGx5UGFpcnMsIHt9KTtcbiAgICB9O1xufTtcbmZ1bmN0aW9uIHBhdGhCdWlsZGVyKHN0YXRlKSB7XG4gICAgcmV0dXJuIHN0YXRlLnBhcmVudCA/IHN0YXRlLnBhcmVudC5wYXRoLmNvbmNhdChzdGF0ZSkgOiBbc3RhdGVdO1xufVxuZnVuY3Rpb24gaW5jbHVkZXNCdWlsZGVyKHN0YXRlKSB7XG4gICAgdmFyIGluY2x1ZGVzID0gc3RhdGUucGFyZW50ID8gZXh0ZW5kKHt9LCBzdGF0ZS5wYXJlbnQuaW5jbHVkZXMpIDoge307XG4gICAgaW5jbHVkZXNbc3RhdGUubmFtZV0gPSB0cnVlO1xuICAgIHJldHVybiBpbmNsdWRlcztcbn1cbi8qKlxuICogVGhpcyBpcyBhIFtbU3RhdGVCdWlsZGVyLmJ1aWxkZXJdXSBmdW5jdGlvbiBmb3IgdGhlIGByZXNvbHZlOmAgYmxvY2sgb24gYSBbW1N0YXRlRGVjbGFyYXRpb25dXS5cbiAqXG4gKiBXaGVuIHRoZSBbW1N0YXRlQnVpbGRlcl1dIGJ1aWxkcyBhIFtbU3RhdGVPYmplY3RdXSBvYmplY3QgZnJvbSBhIHJhdyBbW1N0YXRlRGVjbGFyYXRpb25dXSwgdGhpcyBidWlsZGVyXG4gKiB2YWxpZGF0ZXMgdGhlIGByZXNvbHZlYCBwcm9wZXJ0eSBhbmQgY29udmVydHMgaXQgdG8gYSBbW1Jlc29sdmFibGVdXSBhcnJheS5cbiAqXG4gKiByZXNvbHZlOiBpbnB1dCB2YWx1ZSBjYW4gYmU6XG4gKlxuICoge1xuICogICAvLyBhbmFseXplZCBidXQgbm90IGluamVjdGVkXG4gKiAgIG15Rm9vUmVzb2x2ZTogZnVuY3Rpb24oKSB7IHJldHVybiBcIm15Rm9vRGF0YVwiOyB9LFxuICpcbiAqICAgLy8gZnVuY3Rpb24udG9TdHJpbmcoKSBwYXJzZWQsIFwiRGVwZW5kZW5jeU5hbWVcIiBkZXAgYXMgc3RyaW5nIChub3QgbWluLXNhZmUpXG4gKiAgIG15QmFyUmVzb2x2ZTogZnVuY3Rpb24oRGVwZW5kZW5jeU5hbWUpIHsgcmV0dXJuIERlcGVuZGVuY3lOYW1lLmZldGNoU29tZXRoaW5nQXNQcm9taXNlKCkgfSxcbiAqXG4gKiAgIC8vIEFycmF5IHNwbGl0OyBcIkRlcGVuZGVuY3lOYW1lXCIgZGVwIGFzIHN0cmluZ1xuICogICBteUJhelJlc29sdmU6IFsgXCJEZXBlbmRlbmN5TmFtZVwiLCBmdW5jdGlvbihkZXApIHsgcmV0dXJuIGRlcC5mZXRjaFNvbWV0aGluZ0FzUHJvbWlzZSgpIH0sXG4gKlxuICogICAvLyBBcnJheSBzcGxpdDsgRGVwZW5kZW5jeVR5cGUgZGVwIGFzIHRva2VuIChjb21wYXJlZCB1c2luZyA9PT0pXG4gKiAgIG15UXV4UmVzb2x2ZTogWyBEZXBlbmRlbmN5VHlwZSwgZnVuY3Rpb24oZGVwKSB7IHJldHVybiBkZXAuZmV0Y2hTb21ldGluZ0FzUHJvbWlzZSgpIH0sXG4gKlxuICogICAvLyB2YWwuJGluamVjdCB1c2VkIGFzIGRlcHNcbiAqICAgLy8gd2hlcmU6XG4gKiAgIC8vICAgICBjb3JnZVJlc29sdmUuJGluamVjdCA9IFtcIkRlcGVuZGVuY3lOYW1lXCJdO1xuICogICAvLyAgICAgZnVuY3Rpb24gY29yZ2VSZXNvbHZlKGRlcCkgeyBkZXAuZmV0Y2hTb21ldGluZ0FzUHJvbWlzZSgpIH1cbiAqICAgLy8gdGhlbiBcIkRlcGVuZGVuY3lOYW1lXCIgZGVwIGFzIHN0cmluZ1xuICogICBteUNvcmdlUmVzb2x2ZTogY29yZ2VSZXNvbHZlLFxuICpcbiAqICAvLyBpbmplY3Qgc2VydmljZSBieSBuYW1lXG4gKiAgLy8gV2hlbiBhIHN0cmluZyBpcyBmb3VuZCwgZGVzdWdhciBjcmVhdGluZyBhIHJlc29sdmUgdGhhdCBpbmplY3RzIHRoZSBuYW1lZCBzZXJ2aWNlXG4gKiAgIG15R3JhdWx0UmVzb2x2ZTogXCJTb21lU2VydmljZVwiXG4gKiB9XG4gKlxuICogb3I6XG4gKlxuICogW1xuICogICBuZXcgUmVzb2x2YWJsZShcIm15Rm9vUmVzb2x2ZVwiLCBmdW5jdGlvbigpIHsgcmV0dXJuIFwibXlGb29EYXRhXCIgfSksXG4gKiAgIG5ldyBSZXNvbHZhYmxlKFwibXlCYXJSZXNvbHZlXCIsIGZ1bmN0aW9uKGRlcCkgeyByZXR1cm4gZGVwLmZldGNoU29tZXRoaW5nQXNQcm9taXNlKCkgfSwgWyBcIkRlcGVuZGVuY3lOYW1lXCIgXSksXG4gKiAgIHsgcHJvdmlkZTogXCJteUJhelJlc29sdmVcIiwgdXNlRmFjdG9yeTogZnVuY3Rpb24oZGVwKSB7IGRlcC5mZXRjaFNvbWV0aGluZ0FzUHJvbWlzZSgpIH0sIGRlcHM6IFsgXCJEZXBlbmRlbmN5TmFtZVwiIF0gfVxuICogXVxuICovXG5mdW5jdGlvbiByZXNvbHZhYmxlc0J1aWxkZXIoc3RhdGUpIHtcbiAgICAvKiogY29udmVydCByZXNvbHZlOiB7fSBhbmQgcmVzb2x2ZVBvbGljeToge30gb2JqZWN0cyB0byBhbiBhcnJheSBvZiB0dXBsZXMgKi9cbiAgICB2YXIgb2JqZWN0czJUdXBsZXMgPSBmdW5jdGlvbiAocmVzb2x2ZU9iaiwgcmVzb2x2ZVBvbGljaWVzKSB7XG4gICAgICAgIHJldHVybiBPYmplY3Qua2V5cyhyZXNvbHZlT2JqIHx8IHt9KS5tYXAoZnVuY3Rpb24gKHRva2VuKSB7IHJldHVybiAoeyB0b2tlbjogdG9rZW4sIHZhbDogcmVzb2x2ZU9ialt0b2tlbl0sIGRlcHM6IHVuZGVmaW5lZCwgcG9saWN5OiByZXNvbHZlUG9saWNpZXNbdG9rZW5dIH0pOyB9KTtcbiAgICB9O1xuICAgIC8qKiBmZXRjaCBESSBhbm5vdGF0aW9ucyBmcm9tIGEgZnVuY3Rpb24gb3IgbmcxLXN0eWxlIGFycmF5ICovXG4gICAgdmFyIGFubm90YXRlID0gZnVuY3Rpb24gKGZuKSB7XG4gICAgICAgIHZhciAkaW5qZWN0b3IgPSBzZXJ2aWNlcy4kaW5qZWN0b3I7XG4gICAgICAgIC8vIG5nMSBkb2Vzbid0IGhhdmUgYW4gJGluamVjdG9yIHVudGlsIHJ1bnRpbWUuXG4gICAgICAgIC8vIElmIHRoZSAkaW5qZWN0b3IgZG9lc24ndCBleGlzdCwgdXNlIFwiZGVmZXJyZWRcIiBsaXRlcmFsIGFzIGFcbiAgICAgICAgLy8gbWFya2VyIGluZGljYXRpbmcgdGhleSBzaG91bGQgYmUgYW5ub3RhdGVkIHdoZW4gcnVudGltZSBzdGFydHNcbiAgICAgICAgcmV0dXJuIGZuWyckaW5qZWN0J10gfHwgKCRpbmplY3RvciAmJiAkaW5qZWN0b3IuYW5ub3RhdGUoZm4sICRpbmplY3Rvci5zdHJpY3REaSkpIHx8IFwiZGVmZXJyZWRcIjtcbiAgICB9O1xuICAgIC8qKiB0cnVlIGlmIHRoZSBvYmplY3QgaGFzIGJvdGggYHRva2VuYCBhbmQgYHJlc29sdmVGbmAsIGFuZCBpcyBwcm9iYWJseSBhIFtbUmVzb2x2ZUxpdGVyYWxdXSAqL1xuICAgIHZhciBpc1Jlc29sdmVMaXRlcmFsID0gZnVuY3Rpb24gKG9iaikgeyByZXR1cm4gISEob2JqLnRva2VuICYmIG9iai5yZXNvbHZlRm4pOyB9O1xuICAgIC8qKiB0cnVlIGlmIHRoZSBvYmplY3QgbG9va3MgbGlrZSBhIHByb3ZpZGUgbGl0ZXJhbCwgb3IgYSBuZzIgUHJvdmlkZXIgKi9cbiAgICB2YXIgaXNMaWtlTmcyUHJvdmlkZXIgPSBmdW5jdGlvbiAob2JqKSB7IHJldHVybiAhISgob2JqLnByb3ZpZGUgfHwgb2JqLnRva2VuKSAmJiAob2JqLnVzZVZhbHVlIHx8IG9iai51c2VGYWN0b3J5IHx8IG9iai51c2VFeGlzdGluZyB8fCBvYmoudXNlQ2xhc3MpKTsgfTtcbiAgICAvKiogdHJ1ZSBpZiB0aGUgb2JqZWN0IGxvb2tzIGxpa2UgYSB0dXBsZSBmcm9tIG9iajJUdXBsZXMgKi9cbiAgICB2YXIgaXNUdXBsZUZyb21PYmogPSBmdW5jdGlvbiAob2JqKSB7IHJldHVybiAhIShvYmogJiYgb2JqLnZhbCAmJiAoaXNTdHJpbmcob2JqLnZhbCkgfHwgaXNBcnJheShvYmoudmFsKSB8fCBpc0Z1bmN0aW9uKG9iai52YWwpKSk7IH07XG4gICAgLyoqIGV4dHJhY3RzIHRoZSB0b2tlbiBmcm9tIGEgUHJvdmlkZXIgb3IgcHJvdmlkZSBsaXRlcmFsICovXG4gICAgdmFyIHRva2VuID0gZnVuY3Rpb24gKHApIHsgcmV0dXJuIHAucHJvdmlkZSB8fCBwLnRva2VuOyB9O1xuICAgIC8qKiBHaXZlbiBhIGxpdGVyYWwgcmVzb2x2ZSBvciBwcm92aWRlciBvYmplY3QsIHJldHVybnMgYSBSZXNvbHZhYmxlICovXG4gICAgdmFyIGxpdGVyYWwyUmVzb2x2YWJsZSA9IHBhdHRlcm4oW1xuICAgICAgICBbcHJvcCgncmVzb2x2ZUZuJyksIGZ1bmN0aW9uIChwKSB7IHJldHVybiBuZXcgUmVzb2x2YWJsZSh0b2tlbihwKSwgcC5yZXNvbHZlRm4sIHAuZGVwcywgcC5wb2xpY3kpOyB9XSxcbiAgICAgICAgW3Byb3AoJ3VzZUZhY3RvcnknKSwgZnVuY3Rpb24gKHApIHsgcmV0dXJuIG5ldyBSZXNvbHZhYmxlKHRva2VuKHApLCBwLnVzZUZhY3RvcnksIChwLmRlcHMgfHwgcC5kZXBlbmRlbmNpZXMpLCBwLnBvbGljeSk7IH1dLFxuICAgICAgICBbcHJvcCgndXNlQ2xhc3MnKSwgZnVuY3Rpb24gKHApIHsgcmV0dXJuIG5ldyBSZXNvbHZhYmxlKHRva2VuKHApLCBmdW5jdGlvbiAoKSB7IHJldHVybiBuZXcgcC51c2VDbGFzcygpOyB9LCBbXSwgcC5wb2xpY3kpOyB9XSxcbiAgICAgICAgW3Byb3AoJ3VzZVZhbHVlJyksIGZ1bmN0aW9uIChwKSB7IHJldHVybiBuZXcgUmVzb2x2YWJsZSh0b2tlbihwKSwgZnVuY3Rpb24gKCkgeyByZXR1cm4gcC51c2VWYWx1ZTsgfSwgW10sIHAucG9saWN5LCBwLnVzZVZhbHVlKTsgfV0sXG4gICAgICAgIFtwcm9wKCd1c2VFeGlzdGluZycpLCBmdW5jdGlvbiAocCkgeyByZXR1cm4gbmV3IFJlc29sdmFibGUodG9rZW4ocCksIGlkZW50aXR5LCBbcC51c2VFeGlzdGluZ10sIHAucG9saWN5KTsgfV0sXG4gICAgXSk7XG4gICAgdmFyIHR1cGxlMlJlc29sdmFibGUgPSBwYXR0ZXJuKFtcbiAgICAgICAgW3BpcGUocHJvcChcInZhbFwiKSwgaXNTdHJpbmcpLCBmdW5jdGlvbiAodHVwbGUpIHsgcmV0dXJuIG5ldyBSZXNvbHZhYmxlKHR1cGxlLnRva2VuLCBpZGVudGl0eSwgW3R1cGxlLnZhbF0sIHR1cGxlLnBvbGljeSk7IH1dLFxuICAgICAgICBbcGlwZShwcm9wKFwidmFsXCIpLCBpc0FycmF5KSwgZnVuY3Rpb24gKHR1cGxlKSB7IHJldHVybiBuZXcgUmVzb2x2YWJsZSh0dXBsZS50b2tlbiwgdGFpbCh0dXBsZS52YWwpLCB0dXBsZS52YWwuc2xpY2UoMCwgLTEpLCB0dXBsZS5wb2xpY3kpOyB9XSxcbiAgICAgICAgW3BpcGUocHJvcChcInZhbFwiKSwgaXNGdW5jdGlvbiksIGZ1bmN0aW9uICh0dXBsZSkgeyByZXR1cm4gbmV3IFJlc29sdmFibGUodHVwbGUudG9rZW4sIHR1cGxlLnZhbCwgYW5ub3RhdGUodHVwbGUudmFsKSwgdHVwbGUucG9saWN5KTsgfV0sXG4gICAgXSk7XG4gICAgdmFyIGl0ZW0yUmVzb2x2YWJsZSA9IHBhdHRlcm4oW1xuICAgICAgICBbaXMoUmVzb2x2YWJsZSksIGZ1bmN0aW9uIChyKSB7IHJldHVybiByOyB9XSxcbiAgICAgICAgW2lzUmVzb2x2ZUxpdGVyYWwsIGxpdGVyYWwyUmVzb2x2YWJsZV0sXG4gICAgICAgIFtpc0xpa2VOZzJQcm92aWRlciwgbGl0ZXJhbDJSZXNvbHZhYmxlXSxcbiAgICAgICAgW2lzVHVwbGVGcm9tT2JqLCB0dXBsZTJSZXNvbHZhYmxlXSxcbiAgICAgICAgW3ZhbCh0cnVlKSwgZnVuY3Rpb24gKG9iaikgeyB0aHJvdyBuZXcgRXJyb3IoXCJJbnZhbGlkIHJlc29sdmUgdmFsdWU6IFwiICsgc3RyaW5naWZ5KG9iaikpOyB9XVxuICAgIF0pO1xuICAgIC8vIElmIHJlc29sdmVCbG9jayBpcyBhbHJlYWR5IGFuIGFycmF5LCB1c2UgaXQgYXMtaXMuXG4gICAgLy8gT3RoZXJ3aXNlLCBhc3N1bWUgaXQncyBhbiBvYmplY3QgYW5kIGNvbnZlcnQgdG8gYW4gQXJyYXkgb2YgdHVwbGVzXG4gICAgdmFyIGRlY2wgPSBzdGF0ZS5yZXNvbHZlO1xuICAgIHZhciBpdGVtcyA9IGlzQXJyYXkoZGVjbCkgPyBkZWNsIDogb2JqZWN0czJUdXBsZXMoZGVjbCwgc3RhdGUucmVzb2x2ZVBvbGljeSB8fCB7fSk7XG4gICAgcmV0dXJuIGl0ZW1zLm1hcChpdGVtMlJlc29sdmFibGUpO1xufVxuLyoqXG4gKiBAaW50ZXJuYWxhcGkgQSBpbnRlcm5hbCBnbG9iYWwgc2VydmljZVxuICpcbiAqIFN0YXRlQnVpbGRlciBpcyBhIGZhY3RvcnkgZm9yIHRoZSBpbnRlcm5hbCBbW1N0YXRlT2JqZWN0XV0gb2JqZWN0cy5cbiAqXG4gKiBXaGVuIHlvdSByZWdpc3RlciBhIHN0YXRlIHdpdGggdGhlIFtbU3RhdGVSZWdpc3RyeV1dLCB5b3UgcmVnaXN0ZXIgYSBwbGFpbiBvbGQgamF2YXNjcmlwdCBvYmplY3Qgd2hpY2hcbiAqIGNvbmZvcm1zIHRvIHRoZSBbW1N0YXRlRGVjbGFyYXRpb25dXSBpbnRlcmZhY2UuICBUaGlzIGZhY3RvcnkgdGFrZXMgdGhhdCBvYmplY3QgYW5kIGJ1aWxkcyB0aGUgY29ycmVzcG9uZGluZ1xuICogW1tTdGF0ZU9iamVjdF1dIG9iamVjdCwgd2hpY2ggaGFzIGFuIEFQSSBhbmQgaXMgdXNlZCBpbnRlcm5hbGx5LlxuICpcbiAqIEN1c3RvbSBwcm9wZXJ0aWVzIG9yIEFQSSBtYXkgYmUgYWRkZWQgdG8gdGhlIGludGVybmFsIFtbU3RhdGVPYmplY3RdXSBvYmplY3QgYnkgcmVnaXN0ZXJpbmcgYSBkZWNvcmF0b3IgZnVuY3Rpb25cbiAqIHVzaW5nIHRoZSBbW2J1aWxkZXJdXSBtZXRob2QuXG4gKi9cbnZhciBTdGF0ZUJ1aWxkZXIgPSAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIFN0YXRlQnVpbGRlcihtYXRjaGVyLCB1cmxNYXRjaGVyRmFjdG9yeSkge1xuICAgICAgICB0aGlzLm1hdGNoZXIgPSBtYXRjaGVyO1xuICAgICAgICB2YXIgc2VsZiA9IHRoaXM7XG4gICAgICAgIHZhciByb290ID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gbWF0Y2hlci5maW5kKFwiXCIpOyB9O1xuICAgICAgICB2YXIgaXNSb290ID0gZnVuY3Rpb24gKHN0YXRlKSB7IHJldHVybiBzdGF0ZS5uYW1lID09PSBcIlwiOyB9O1xuICAgICAgICBmdW5jdGlvbiBwYXJlbnRCdWlsZGVyKHN0YXRlKSB7XG4gICAgICAgICAgICBpZiAoaXNSb290KHN0YXRlKSlcbiAgICAgICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgICAgIHJldHVybiBtYXRjaGVyLmZpbmQoc2VsZi5wYXJlbnROYW1lKHN0YXRlKSkgfHwgcm9vdCgpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuYnVpbGRlcnMgPSB7XG4gICAgICAgICAgICBuYW1lOiBbbmFtZUJ1aWxkZXJdLFxuICAgICAgICAgICAgc2VsZjogW3NlbGZCdWlsZGVyXSxcbiAgICAgICAgICAgIHBhcmVudDogW3BhcmVudEJ1aWxkZXJdLFxuICAgICAgICAgICAgZGF0YTogW2RhdGFCdWlsZGVyXSxcbiAgICAgICAgICAgIC8vIEJ1aWxkIGEgVVJMTWF0Y2hlciBpZiBuZWNlc3NhcnksIGVpdGhlciB2aWEgYSByZWxhdGl2ZSBvciBhYnNvbHV0ZSBVUkxcbiAgICAgICAgICAgIHVybDogW2dldFVybEJ1aWxkZXIodXJsTWF0Y2hlckZhY3RvcnksIHJvb3QpXSxcbiAgICAgICAgICAgIC8vIEtlZXAgdHJhY2sgb2YgdGhlIGNsb3Nlc3QgYW5jZXN0b3Igc3RhdGUgdGhhdCBoYXMgYSBVUkwgKGkuZS4gaXMgbmF2aWdhYmxlKVxuICAgICAgICAgICAgbmF2aWdhYmxlOiBbZ2V0TmF2aWdhYmxlQnVpbGRlcihpc1Jvb3QpXSxcbiAgICAgICAgICAgIHBhcmFtczogW2dldFBhcmFtc0J1aWxkZXIodXJsTWF0Y2hlckZhY3RvcnkucGFyYW1GYWN0b3J5KV0sXG4gICAgICAgICAgICAvLyBFYWNoIGZyYW1ld29yay1zcGVjaWZpYyB1aS1yb3V0ZXIgaW1wbGVtZW50YXRpb24gc2hvdWxkIGRlZmluZSBpdHMgb3duIGB2aWV3c2AgYnVpbGRlclxuICAgICAgICAgICAgLy8gZS5nLiwgc3JjL25nMS9zdGF0ZWJ1aWxkZXJzL3ZpZXdzLnRzXG4gICAgICAgICAgICB2aWV3czogW10sXG4gICAgICAgICAgICAvLyBLZWVwIGEgZnVsbCBwYXRoIGZyb20gdGhlIHJvb3QgZG93biB0byB0aGlzIHN0YXRlIGFzIHRoaXMgaXMgbmVlZGVkIGZvciBzdGF0ZSBhY3RpdmF0aW9uLlxuICAgICAgICAgICAgcGF0aDogW3BhdGhCdWlsZGVyXSxcbiAgICAgICAgICAgIC8vIFNwZWVkIHVwICRzdGF0ZS5pbmNsdWRlcygpIGFzIGl0J3MgdXNlZCBhIGxvdFxuICAgICAgICAgICAgaW5jbHVkZXM6IFtpbmNsdWRlc0J1aWxkZXJdLFxuICAgICAgICAgICAgcmVzb2x2YWJsZXM6IFtyZXNvbHZhYmxlc0J1aWxkZXJdXG4gICAgICAgIH07XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJlZ2lzdGVycyBhIFtbQnVpbGRlckZ1bmN0aW9uXV0gZm9yIGEgc3BlY2lmaWMgW1tTdGF0ZU9iamVjdF1dIHByb3BlcnR5IChlLmcuLCBgcGFyZW50YCwgYHVybGAsIG9yIGBwYXRoYCkuXG4gICAgICogTW9yZSB0aGFuIG9uZSBCdWlsZGVyRnVuY3Rpb24gY2FuIGJlIHJlZ2lzdGVyZWQgZm9yIGEgZ2l2ZW4gcHJvcGVydHkuXG4gICAgICpcbiAgICAgKiBUaGUgQnVpbGRlckZ1bmN0aW9uKHMpIHdpbGwgYmUgdXNlZCB0byBkZWZpbmUgdGhlIHByb3BlcnR5IG9uIGFueSBzdWJzZXF1ZW50bHkgYnVpbHQgW1tTdGF0ZU9iamVjdF1dIG9iamVjdHMuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gbmFtZSBUaGUgbmFtZSBvZiB0aGUgU3RhdGUgcHJvcGVydHkgYmVpbmcgcmVnaXN0ZXJlZCBmb3IuXG4gICAgICogQHBhcmFtIGZuIFRoZSBCdWlsZGVyRnVuY3Rpb24gd2hpY2ggd2lsbCBiZSB1c2VkIHRvIGJ1aWxkIHRoZSBTdGF0ZSBwcm9wZXJ0eVxuICAgICAqIEByZXR1cm5zIGEgZnVuY3Rpb24gd2hpY2ggZGVyZWdpc3RlcnMgdGhlIEJ1aWxkZXJGdW5jdGlvblxuICAgICAqL1xuICAgIFN0YXRlQnVpbGRlci5wcm90b3R5cGUuYnVpbGRlciA9IGZ1bmN0aW9uIChuYW1lLCBmbikge1xuICAgICAgICB2YXIgYnVpbGRlcnMgPSB0aGlzLmJ1aWxkZXJzO1xuICAgICAgICB2YXIgYXJyYXkgPSBidWlsZGVyc1tuYW1lXSB8fCBbXTtcbiAgICAgICAgLy8gQmFja3dhcmRzIGNvbXBhdDogaWYgb25seSBvbmUgYnVpbGRlciBleGlzdHMsIHJldHVybiBpdCwgZWxzZSByZXR1cm4gd2hvbGUgYXJhcnkuXG4gICAgICAgIGlmIChpc1N0cmluZyhuYW1lKSAmJiAhaXNEZWZpbmVkKGZuKSlcbiAgICAgICAgICAgIHJldHVybiBhcnJheS5sZW5ndGggPiAxID8gYXJyYXkgOiBhcnJheVswXTtcbiAgICAgICAgaWYgKCFpc1N0cmluZyhuYW1lKSB8fCAhaXNGdW5jdGlvbihmbikpXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIGJ1aWxkZXJzW25hbWVdID0gYXJyYXk7XG4gICAgICAgIGJ1aWxkZXJzW25hbWVdLnB1c2goZm4pO1xuICAgICAgICByZXR1cm4gZnVuY3Rpb24gKCkgeyByZXR1cm4gYnVpbGRlcnNbbmFtZV0uc3BsaWNlKGJ1aWxkZXJzW25hbWVdLmluZGV4T2YoZm4sIDEpKSAmJiBudWxsOyB9O1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQnVpbGRzIGFsbCBvZiB0aGUgcHJvcGVydGllcyBvbiBhbiBlc3NlbnRpYWxseSBibGFuayBTdGF0ZSBvYmplY3QsIHJldHVybmluZyBhIFN0YXRlIG9iamVjdCB3aGljaCBoYXMgYWxsIGl0c1xuICAgICAqIHByb3BlcnRpZXMgYW5kIEFQSSBidWlsdC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBzdGF0ZSBhbiB1bmluaXRpYWxpemVkIFN0YXRlIG9iamVjdFxuICAgICAqIEByZXR1cm5zIHRoZSBidWlsdCBTdGF0ZSBvYmplY3RcbiAgICAgKi9cbiAgICBTdGF0ZUJ1aWxkZXIucHJvdG90eXBlLmJ1aWxkID0gZnVuY3Rpb24gKHN0YXRlKSB7XG4gICAgICAgIHZhciBfYSA9IHRoaXMsIG1hdGNoZXIgPSBfYS5tYXRjaGVyLCBidWlsZGVycyA9IF9hLmJ1aWxkZXJzO1xuICAgICAgICB2YXIgcGFyZW50ID0gdGhpcy5wYXJlbnROYW1lKHN0YXRlKTtcbiAgICAgICAgaWYgKHBhcmVudCAmJiAhbWF0Y2hlci5maW5kKHBhcmVudCwgdW5kZWZpbmVkLCBmYWxzZSkpIHtcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICB9XG4gICAgICAgIGZvciAodmFyIGtleSBpbiBidWlsZGVycykge1xuICAgICAgICAgICAgaWYgKCFidWlsZGVycy5oYXNPd25Qcm9wZXJ0eShrZXkpKVxuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgdmFyIGNoYWluID0gYnVpbGRlcnNba2V5XS5yZWR1Y2UoZnVuY3Rpb24gKHBhcmVudEZuLCBzdGVwKSB7IHJldHVybiBmdW5jdGlvbiAoX3N0YXRlKSB7IHJldHVybiBzdGVwKF9zdGF0ZSwgcGFyZW50Rm4pOyB9OyB9LCBub29wJDEpO1xuICAgICAgICAgICAgc3RhdGVba2V5XSA9IGNoYWluKHN0YXRlKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gc3RhdGU7XG4gICAgfTtcbiAgICBTdGF0ZUJ1aWxkZXIucHJvdG90eXBlLnBhcmVudE5hbWUgPSBmdW5jdGlvbiAoc3RhdGUpIHtcbiAgICAgICAgdmFyIG5hbWUgPSBzdGF0ZS5uYW1lIHx8IFwiXCI7XG4gICAgICAgIHZhciBzZWdtZW50cyA9IG5hbWUuc3BsaXQoJy4nKTtcbiAgICAgICAgaWYgKHNlZ21lbnRzLmxlbmd0aCA+IDEpIHtcbiAgICAgICAgICAgIGlmIChzdGF0ZS5wYXJlbnQpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJTdGF0ZXMgdGhhdCBzcGVjaWZ5IHRoZSAncGFyZW50OicgcHJvcGVydHkgc2hvdWxkIG5vdCBoYXZlIGEgJy4nIGluIHRoZWlyIG5hbWUgKFwiICsgbmFtZSArIFwiKVwiKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHZhciBsYXN0U2VnbWVudCA9IHNlZ21lbnRzLnBvcCgpO1xuICAgICAgICAgICAgaWYgKGxhc3RTZWdtZW50ID09PSAnKionKVxuICAgICAgICAgICAgICAgIHNlZ21lbnRzLnBvcCgpO1xuICAgICAgICAgICAgcmV0dXJuIHNlZ21lbnRzLmpvaW4oXCIuXCIpO1xuICAgICAgICB9XG4gICAgICAgIGlmICghc3RhdGUucGFyZW50KVxuICAgICAgICAgICAgcmV0dXJuIFwiXCI7XG4gICAgICAgIHJldHVybiBpc1N0cmluZyhzdGF0ZS5wYXJlbnQpID8gc3RhdGUucGFyZW50IDogc3RhdGUucGFyZW50Lm5hbWU7XG4gICAgfTtcbiAgICBTdGF0ZUJ1aWxkZXIucHJvdG90eXBlLm5hbWUgPSBmdW5jdGlvbiAoc3RhdGUpIHtcbiAgICAgICAgdmFyIG5hbWUgPSBzdGF0ZS5uYW1lO1xuICAgICAgICBpZiAobmFtZS5pbmRleE9mKCcuJykgIT09IC0xIHx8ICFzdGF0ZS5wYXJlbnQpXG4gICAgICAgICAgICByZXR1cm4gbmFtZTtcbiAgICAgICAgdmFyIHBhcmVudE5hbWUgPSBpc1N0cmluZyhzdGF0ZS5wYXJlbnQpID8gc3RhdGUucGFyZW50IDogc3RhdGUucGFyZW50Lm5hbWU7XG4gICAgICAgIHJldHVybiBwYXJlbnROYW1lID8gcGFyZW50TmFtZSArIFwiLlwiICsgbmFtZSA6IG5hbWU7XG4gICAgfTtcbiAgICByZXR1cm4gU3RhdGVCdWlsZGVyO1xufSgpKTtcblxuLyoqIEBtb2R1bGUgc3RhdGUgKi8gLyoqIGZvciB0eXBlZG9jICovXG52YXIgU3RhdGVNYXRjaGVyID0gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBTdGF0ZU1hdGNoZXIoX3N0YXRlcykge1xuICAgICAgICB0aGlzLl9zdGF0ZXMgPSBfc3RhdGVzO1xuICAgIH1cbiAgICBTdGF0ZU1hdGNoZXIucHJvdG90eXBlLmlzUmVsYXRpdmUgPSBmdW5jdGlvbiAoc3RhdGVOYW1lKSB7XG4gICAgICAgIHN0YXRlTmFtZSA9IHN0YXRlTmFtZSB8fCBcIlwiO1xuICAgICAgICByZXR1cm4gc3RhdGVOYW1lLmluZGV4T2YoXCIuXCIpID09PSAwIHx8IHN0YXRlTmFtZS5pbmRleE9mKFwiXlwiKSA9PT0gMDtcbiAgICB9O1xuICAgIFN0YXRlTWF0Y2hlci5wcm90b3R5cGUuZmluZCA9IGZ1bmN0aW9uIChzdGF0ZU9yTmFtZSwgYmFzZSwgbWF0Y2hHbG9iKSB7XG4gICAgICAgIGlmIChtYXRjaEdsb2IgPT09IHZvaWQgMCkgeyBtYXRjaEdsb2IgPSB0cnVlOyB9XG4gICAgICAgIGlmICghc3RhdGVPck5hbWUgJiYgc3RhdGVPck5hbWUgIT09IFwiXCIpXG4gICAgICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgICAgICB2YXIgaXNTdHIgPSBpc1N0cmluZyhzdGF0ZU9yTmFtZSk7XG4gICAgICAgIHZhciBuYW1lID0gaXNTdHIgPyBzdGF0ZU9yTmFtZSA6IHN0YXRlT3JOYW1lLm5hbWU7XG4gICAgICAgIGlmICh0aGlzLmlzUmVsYXRpdmUobmFtZSkpXG4gICAgICAgICAgICBuYW1lID0gdGhpcy5yZXNvbHZlUGF0aChuYW1lLCBiYXNlKTtcbiAgICAgICAgdmFyIHN0YXRlID0gdGhpcy5fc3RhdGVzW25hbWVdO1xuICAgICAgICBpZiAoc3RhdGUgJiYgKGlzU3RyIHx8ICghaXNTdHIgJiYgKHN0YXRlID09PSBzdGF0ZU9yTmFtZSB8fCBzdGF0ZS5zZWxmID09PSBzdGF0ZU9yTmFtZSkpKSkge1xuICAgICAgICAgICAgcmV0dXJuIHN0YXRlO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGlzU3RyICYmIG1hdGNoR2xvYikge1xuICAgICAgICAgICAgdmFyIF9zdGF0ZXMgPSB2YWx1ZXModGhpcy5fc3RhdGVzKTtcbiAgICAgICAgICAgIHZhciBtYXRjaGVzID0gX3N0YXRlcy5maWx0ZXIoZnVuY3Rpb24gKHN0YXRlKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHN0YXRlLl9fc3RhdGVPYmplY3RDYWNoZS5uYW1lR2xvYiAmJlxuICAgICAgICAgICAgICAgICAgICBzdGF0ZS5fX3N0YXRlT2JqZWN0Q2FjaGUubmFtZUdsb2IubWF0Y2hlcyhuYW1lKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgaWYgKG1hdGNoZXMubGVuZ3RoID4gMSkge1xuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwic3RhdGVNYXRjaGVyLmZpbmQ6IEZvdW5kIG11bHRpcGxlIG1hdGNoZXMgZm9yIFwiICsgbmFtZSArIFwiIHVzaW5nIGdsb2I6IFwiLCBtYXRjaGVzLm1hcChmdW5jdGlvbiAobWF0Y2gpIHsgcmV0dXJuIG1hdGNoLm5hbWU7IH0pKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBtYXRjaGVzWzBdO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgfTtcbiAgICBTdGF0ZU1hdGNoZXIucHJvdG90eXBlLnJlc29sdmVQYXRoID0gZnVuY3Rpb24gKG5hbWUsIGJhc2UpIHtcbiAgICAgICAgaWYgKCFiYXNlKVxuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiTm8gcmVmZXJlbmNlIHBvaW50IGdpdmVuIGZvciBwYXRoICdcIiArIG5hbWUgKyBcIidcIik7XG4gICAgICAgIHZhciBiYXNlU3RhdGUgPSB0aGlzLmZpbmQoYmFzZSk7XG4gICAgICAgIHZhciBzcGxpdE5hbWUgPSBuYW1lLnNwbGl0KFwiLlwiKSwgaSA9IDAsIHBhdGhMZW5ndGggPSBzcGxpdE5hbWUubGVuZ3RoLCBjdXJyZW50ID0gYmFzZVN0YXRlO1xuICAgICAgICBmb3IgKDsgaSA8IHBhdGhMZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgaWYgKHNwbGl0TmFtZVtpXSA9PT0gXCJcIiAmJiBpID09PSAwKSB7XG4gICAgICAgICAgICAgICAgY3VycmVudCA9IGJhc2VTdGF0ZTtcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChzcGxpdE5hbWVbaV0gPT09IFwiXlwiKSB7XG4gICAgICAgICAgICAgICAgaWYgKCFjdXJyZW50LnBhcmVudClcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiUGF0aCAnXCIgKyBuYW1lICsgXCInIG5vdCB2YWxpZCBmb3Igc3RhdGUgJ1wiICsgYmFzZVN0YXRlLm5hbWUgKyBcIidcIik7XG4gICAgICAgICAgICAgICAgY3VycmVudCA9IGN1cnJlbnQucGFyZW50O1xuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIHJlbE5hbWUgPSBzcGxpdE5hbWUuc2xpY2UoaSkuam9pbihcIi5cIik7XG4gICAgICAgIHJldHVybiBjdXJyZW50Lm5hbWUgKyAoY3VycmVudC5uYW1lICYmIHJlbE5hbWUgPyBcIi5cIiA6IFwiXCIpICsgcmVsTmFtZTtcbiAgICB9O1xuICAgIHJldHVybiBTdGF0ZU1hdGNoZXI7XG59KCkpO1xuXG4vKiogQG1vZHVsZSBzdGF0ZSAqLyAvKiogZm9yIHR5cGVkb2MgKi9cbi8qKiBAaW50ZXJuYWxhcGkgKi9cbnZhciBTdGF0ZVF1ZXVlTWFuYWdlciA9IChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gU3RhdGVRdWV1ZU1hbmFnZXIoJHJlZ2lzdHJ5LCAkdXJsUm91dGVyLCBzdGF0ZXMsIGJ1aWxkZXIsIGxpc3RlbmVycykge1xuICAgICAgICB0aGlzLiRyZWdpc3RyeSA9ICRyZWdpc3RyeTtcbiAgICAgICAgdGhpcy4kdXJsUm91dGVyID0gJHVybFJvdXRlcjtcbiAgICAgICAgdGhpcy5zdGF0ZXMgPSBzdGF0ZXM7XG4gICAgICAgIHRoaXMuYnVpbGRlciA9IGJ1aWxkZXI7XG4gICAgICAgIHRoaXMubGlzdGVuZXJzID0gbGlzdGVuZXJzO1xuICAgICAgICB0aGlzLnF1ZXVlID0gW107XG4gICAgICAgIHRoaXMubWF0Y2hlciA9ICRyZWdpc3RyeS5tYXRjaGVyO1xuICAgIH1cbiAgICAvKiogQGludGVybmFsYXBpICovXG4gICAgU3RhdGVRdWV1ZU1hbmFnZXIucHJvdG90eXBlLmRpc3Bvc2UgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMucXVldWUgPSBbXTtcbiAgICB9O1xuICAgIFN0YXRlUXVldWVNYW5hZ2VyLnByb3RvdHlwZS5yZWdpc3RlciA9IGZ1bmN0aW9uIChzdGF0ZURlY2wpIHtcbiAgICAgICAgdmFyIHF1ZXVlID0gdGhpcy5xdWV1ZTtcbiAgICAgICAgdmFyIHN0YXRlID0gU3RhdGVPYmplY3QuY3JlYXRlKHN0YXRlRGVjbCk7XG4gICAgICAgIHZhciBuYW1lID0gc3RhdGUubmFtZTtcbiAgICAgICAgaWYgKCFpc1N0cmluZyhuYW1lKSlcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIlN0YXRlIG11c3QgaGF2ZSBhIHZhbGlkIG5hbWVcIik7XG4gICAgICAgIGlmICh0aGlzLnN0YXRlcy5oYXNPd25Qcm9wZXJ0eShuYW1lKSB8fCBpbkFycmF5KHF1ZXVlLm1hcChwcm9wKCduYW1lJykpLCBuYW1lKSlcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIlN0YXRlICdcIiArIG5hbWUgKyBcIicgaXMgYWxyZWFkeSBkZWZpbmVkXCIpO1xuICAgICAgICBxdWV1ZS5wdXNoKHN0YXRlKTtcbiAgICAgICAgdGhpcy5mbHVzaCgpO1xuICAgICAgICByZXR1cm4gc3RhdGU7XG4gICAgfTtcbiAgICBTdGF0ZVF1ZXVlTWFuYWdlci5wcm90b3R5cGUuZmx1c2ggPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIHZhciBfYSA9IHRoaXMsIHF1ZXVlID0gX2EucXVldWUsIHN0YXRlcyA9IF9hLnN0YXRlcywgYnVpbGRlciA9IF9hLmJ1aWxkZXI7XG4gICAgICAgIHZhciByZWdpc3RlcmVkID0gW10sIC8vIHN0YXRlcyB0aGF0IGdvdCByZWdpc3RlcmVkXG4gICAgICAgIG9ycGhhbnMgPSBbXSwgLy8gc3RhdGVzIHRoYXQgZG9uJ3QgeWV0IGhhdmUgYSBwYXJlbnQgcmVnaXN0ZXJlZFxuICAgICAgICBwcmV2aW91c1F1ZXVlTGVuZ3RoID0ge307IC8vIGtlZXAgdHJhY2sgb2YgaG93IGxvbmcgdGhlIHF1ZXVlIHdoZW4gYW4gb3JwaGFuIHdhcyBmaXJzdCBlbmNvdW50ZXJlZFxuICAgICAgICB2YXIgZ2V0U3RhdGUgPSBmdW5jdGlvbiAobmFtZSkge1xuICAgICAgICAgICAgcmV0dXJuIF90aGlzLnN0YXRlcy5oYXNPd25Qcm9wZXJ0eShuYW1lKSAmJiBfdGhpcy5zdGF0ZXNbbmFtZV07XG4gICAgICAgIH07XG4gICAgICAgIHdoaWxlIChxdWV1ZS5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICB2YXIgc3RhdGUgPSBxdWV1ZS5zaGlmdCgpO1xuICAgICAgICAgICAgdmFyIG5hbWVfMSA9IHN0YXRlLm5hbWU7XG4gICAgICAgICAgICB2YXIgcmVzdWx0ID0gYnVpbGRlci5idWlsZChzdGF0ZSk7XG4gICAgICAgICAgICB2YXIgb3JwaGFuSWR4ID0gb3JwaGFucy5pbmRleE9mKHN0YXRlKTtcbiAgICAgICAgICAgIGlmIChyZXN1bHQpIHtcbiAgICAgICAgICAgICAgICB2YXIgZXhpc3RpbmdTdGF0ZSA9IGdldFN0YXRlKG5hbWVfMSk7XG4gICAgICAgICAgICAgICAgaWYgKGV4aXN0aW5nU3RhdGUgJiYgZXhpc3RpbmdTdGF0ZS5uYW1lID09PSBuYW1lXzEpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiU3RhdGUgJ1wiICsgbmFtZV8xICsgXCInIGlzIGFscmVhZHkgZGVmaW5lZFwiKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdmFyIGV4aXN0aW5nRnV0dXJlU3RhdGUgPSBnZXRTdGF0ZShuYW1lXzEgKyBcIi4qKlwiKTtcbiAgICAgICAgICAgICAgICBpZiAoZXhpc3RpbmdGdXR1cmVTdGF0ZSkge1xuICAgICAgICAgICAgICAgICAgICAvLyBSZW1vdmUgZnV0dXJlIHN0YXRlIG9mIHRoZSBzYW1lIG5hbWVcbiAgICAgICAgICAgICAgICAgICAgdGhpcy4kcmVnaXN0cnkuZGVyZWdpc3RlcihleGlzdGluZ0Z1dHVyZVN0YXRlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgc3RhdGVzW25hbWVfMV0gPSBzdGF0ZTtcbiAgICAgICAgICAgICAgICB0aGlzLmF0dGFjaFJvdXRlKHN0YXRlKTtcbiAgICAgICAgICAgICAgICBpZiAob3JwaGFuSWR4ID49IDApXG4gICAgICAgICAgICAgICAgICAgIG9ycGhhbnMuc3BsaWNlKG9ycGhhbklkeCwgMSk7XG4gICAgICAgICAgICAgICAgcmVnaXN0ZXJlZC5wdXNoKHN0YXRlKTtcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHZhciBwcmV2ID0gcHJldmlvdXNRdWV1ZUxlbmd0aFtuYW1lXzFdO1xuICAgICAgICAgICAgcHJldmlvdXNRdWV1ZUxlbmd0aFtuYW1lXzFdID0gcXVldWUubGVuZ3RoO1xuICAgICAgICAgICAgaWYgKG9ycGhhbklkeCA+PSAwICYmIHByZXYgPT09IHF1ZXVlLmxlbmd0aCkge1xuICAgICAgICAgICAgICAgIC8vIFdhaXQgdW50aWwgdHdvIGNvbnNlY3V0aXZlIGl0ZXJhdGlvbnMgd2hlcmUgbm8gYWRkaXRpb25hbCBzdGF0ZXMgd2VyZSBkZXF1ZXVlZCBzdWNjZXNzZnVsbHkuXG4gICAgICAgICAgICAgICAgLy8gdGhyb3cgbmV3IEVycm9yKGBDYW5ub3QgcmVnaXN0ZXIgb3JwaGFuZWQgc3RhdGUgJyR7bmFtZX0nYCk7XG4gICAgICAgICAgICAgICAgcXVldWUucHVzaChzdGF0ZSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHN0YXRlcztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKG9ycGhhbklkeCA8IDApIHtcbiAgICAgICAgICAgICAgICBvcnBoYW5zLnB1c2goc3RhdGUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcXVldWUucHVzaChzdGF0ZSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHJlZ2lzdGVyZWQubGVuZ3RoKSB7XG4gICAgICAgICAgICB0aGlzLmxpc3RlbmVycy5mb3JFYWNoKGZ1bmN0aW9uIChsaXN0ZW5lcikgeyByZXR1cm4gbGlzdGVuZXIoXCJyZWdpc3RlcmVkXCIsIHJlZ2lzdGVyZWQubWFwKGZ1bmN0aW9uIChzKSB7IHJldHVybiBzLnNlbGY7IH0pKTsgfSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHN0YXRlcztcbiAgICB9O1xuICAgIFN0YXRlUXVldWVNYW5hZ2VyLnByb3RvdHlwZS5hdHRhY2hSb3V0ZSA9IGZ1bmN0aW9uIChzdGF0ZSkge1xuICAgICAgICBpZiAoc3RhdGUuYWJzdHJhY3QgfHwgIXN0YXRlLnVybClcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgdGhpcy4kdXJsUm91dGVyLnJ1bGUodGhpcy4kdXJsUm91dGVyLnVybFJ1bGVGYWN0b3J5LmNyZWF0ZShzdGF0ZSkpO1xuICAgIH07XG4gICAgcmV0dXJuIFN0YXRlUXVldWVNYW5hZ2VyO1xufSgpKTtcblxuLyoqXG4gKiBAY29yZWFwaVxuICogQG1vZHVsZSBzdGF0ZVxuICovIC8qKiBmb3IgdHlwZWRvYyAqL1xudmFyIFN0YXRlUmVnaXN0cnkgPSAoZnVuY3Rpb24gKCkge1xuICAgIC8qKiBAaW50ZXJuYWxhcGkgKi9cbiAgICBmdW5jdGlvbiBTdGF0ZVJlZ2lzdHJ5KF9yb3V0ZXIpIHtcbiAgICAgICAgdGhpcy5fcm91dGVyID0gX3JvdXRlcjtcbiAgICAgICAgdGhpcy5zdGF0ZXMgPSB7fTtcbiAgICAgICAgdGhpcy5saXN0ZW5lcnMgPSBbXTtcbiAgICAgICAgdGhpcy5tYXRjaGVyID0gbmV3IFN0YXRlTWF0Y2hlcih0aGlzLnN0YXRlcyk7XG4gICAgICAgIHRoaXMuYnVpbGRlciA9IG5ldyBTdGF0ZUJ1aWxkZXIodGhpcy5tYXRjaGVyLCBfcm91dGVyLnVybE1hdGNoZXJGYWN0b3J5KTtcbiAgICAgICAgdGhpcy5zdGF0ZVF1ZXVlID0gbmV3IFN0YXRlUXVldWVNYW5hZ2VyKHRoaXMsIF9yb3V0ZXIudXJsUm91dGVyLCB0aGlzLnN0YXRlcywgdGhpcy5idWlsZGVyLCB0aGlzLmxpc3RlbmVycyk7XG4gICAgICAgIHRoaXMuX3JlZ2lzdGVyUm9vdCgpO1xuICAgIH1cbiAgICAvKiogQGludGVybmFsYXBpICovXG4gICAgU3RhdGVSZWdpc3RyeS5wcm90b3R5cGUuX3JlZ2lzdGVyUm9vdCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIHJvb3RTdGF0ZURlZiA9IHtcbiAgICAgICAgICAgIG5hbWU6ICcnLFxuICAgICAgICAgICAgdXJsOiAnXicsXG4gICAgICAgICAgICB2aWV3czogbnVsbCxcbiAgICAgICAgICAgIHBhcmFtczoge1xuICAgICAgICAgICAgICAgICcjJzogeyB2YWx1ZTogbnVsbCwgdHlwZTogJ2hhc2gnLCBkeW5hbWljOiB0cnVlIH1cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBhYnN0cmFjdDogdHJ1ZVxuICAgICAgICB9O1xuICAgICAgICB2YXIgX3Jvb3QgPSB0aGlzLl9yb290ID0gdGhpcy5zdGF0ZVF1ZXVlLnJlZ2lzdGVyKHJvb3RTdGF0ZURlZik7XG4gICAgICAgIF9yb290Lm5hdmlnYWJsZSA9IG51bGw7XG4gICAgfTtcbiAgICAvKiogQGludGVybmFsYXBpICovXG4gICAgU3RhdGVSZWdpc3RyeS5wcm90b3R5cGUuZGlzcG9zZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgdGhpcy5zdGF0ZVF1ZXVlLmRpc3Bvc2UoKTtcbiAgICAgICAgdGhpcy5saXN0ZW5lcnMgPSBbXTtcbiAgICAgICAgdGhpcy5nZXQoKS5mb3JFYWNoKGZ1bmN0aW9uIChzdGF0ZSkgeyByZXR1cm4gX3RoaXMuZ2V0KHN0YXRlKSAmJiBfdGhpcy5kZXJlZ2lzdGVyKHN0YXRlKTsgfSk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBMaXN0ZW4gZm9yIGEgU3RhdGUgUmVnaXN0cnkgZXZlbnRzXG4gICAgICpcbiAgICAgKiBBZGRzIGEgY2FsbGJhY2sgdGhhdCBpcyBpbnZva2VkIHdoZW4gc3RhdGVzIGFyZSByZWdpc3RlcmVkIG9yIGRlcmVnaXN0ZXJlZCB3aXRoIHRoZSBTdGF0ZVJlZ2lzdHJ5LlxuICAgICAqXG4gICAgICogIyMjIyBFeGFtcGxlOlxuICAgICAqIGBgYGpzXG4gICAgICogbGV0IGFsbFN0YXRlcyA9IHJlZ2lzdHJ5LmdldCgpO1xuICAgICAqXG4gICAgICogLy8gTGF0ZXIsIGludm9rZSBkZXJlZ2lzdGVyRm4oKSB0byByZW1vdmUgdGhlIGxpc3RlbmVyXG4gICAgICogbGV0IGRlcmVnaXN0ZXJGbiA9IHJlZ2lzdHJ5Lm9uU3RhdGVzQ2hhbmdlZCgoZXZlbnQsIHN0YXRlcykgPT4ge1xuICAgICAqICAgc3dpdGNoKGV2ZW50KSB7XG4gICAgICogICAgIGNhc2U6ICdyZWdpc3RlcmVkJzpcbiAgICAgKiAgICAgICBzdGF0ZXMuZm9yRWFjaChzdGF0ZSA9PiBhbGxTdGF0ZXMucHVzaChzdGF0ZSkpO1xuICAgICAqICAgICAgIGJyZWFrO1xuICAgICAqICAgICBjYXNlOiAnZGVyZWdpc3RlcmVkJzpcbiAgICAgKiAgICAgICBzdGF0ZXMuZm9yRWFjaChzdGF0ZSA9PiB7XG4gICAgICogICAgICAgICBsZXQgaWR4ID0gYWxsU3RhdGVzLmluZGV4T2Yoc3RhdGUpO1xuICAgICAqICAgICAgICAgaWYgKGlkeCAhPT0gLTEpIGFsbFN0YXRlcy5zcGxpY2UoaWR4LCAxKTtcbiAgICAgKiAgICAgICB9KTtcbiAgICAgKiAgICAgICBicmVhaztcbiAgICAgKiAgIH1cbiAgICAgKiB9KTtcbiAgICAgKiBgYGBcbiAgICAgKlxuICAgICAqIEBwYXJhbSBsaXN0ZW5lciBhIGNhbGxiYWNrIGZ1bmN0aW9uIGludm9rZWQgd2hlbiB0aGUgcmVnaXN0ZXJlZCBzdGF0ZXMgY2hhbmdlcy5cbiAgICAgKiAgICAgICAgVGhlIGZ1bmN0aW9uIHJlY2VpdmVzIHR3byBwYXJhbWV0ZXJzLCBgZXZlbnRgIGFuZCBgc3RhdGVgLlxuICAgICAqICAgICAgICBTZWUgW1tTdGF0ZVJlZ2lzdHJ5TGlzdGVuZXJdXVxuICAgICAqIEByZXR1cm4gYSBmdW5jdGlvbiB0aGF0IGRlcmVnaXN0ZXJzIHRoZSBsaXN0ZW5lclxuICAgICAqL1xuICAgIFN0YXRlUmVnaXN0cnkucHJvdG90eXBlLm9uU3RhdGVzQ2hhbmdlZCA9IGZ1bmN0aW9uIChsaXN0ZW5lcikge1xuICAgICAgICB0aGlzLmxpc3RlbmVycy5wdXNoKGxpc3RlbmVyKTtcbiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uIGRlcmVnaXN0ZXJMaXN0ZW5lcigpIHtcbiAgICAgICAgICAgIHJlbW92ZUZyb20odGhpcy5saXN0ZW5lcnMpKGxpc3RlbmVyKTtcbiAgICAgICAgfS5iaW5kKHRoaXMpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogR2V0cyB0aGUgaW1wbGljaXQgcm9vdCBzdGF0ZVxuICAgICAqXG4gICAgICogR2V0cyB0aGUgcm9vdCBvZiB0aGUgc3RhdGUgdHJlZS5cbiAgICAgKiBUaGUgcm9vdCBzdGF0ZSBpcyBpbXBsaWNpdGx5IGNyZWF0ZWQgYnkgVUktUm91dGVyLlxuICAgICAqIE5vdGU6IHRoaXMgcmV0dXJucyB0aGUgaW50ZXJuYWwgW1tTdGF0ZU9iamVjdF1dIHJlcHJlc2VudGF0aW9uLCBub3QgYSBbW1N0YXRlRGVjbGFyYXRpb25dXVxuICAgICAqXG4gICAgICogQHJldHVybiB0aGUgcm9vdCBbW1N0YXRlT2JqZWN0XV1cbiAgICAgKi9cbiAgICBTdGF0ZVJlZ2lzdHJ5LnByb3RvdHlwZS5yb290ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fcm9vdDtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEFkZHMgYSBzdGF0ZSB0byB0aGUgcmVnaXN0cnlcbiAgICAgKlxuICAgICAqIFJlZ2lzdGVycyBhIFtbU3RhdGVEZWNsYXJhdGlvbl1dIG9yIHF1ZXVlcyBpdCBmb3IgcmVnaXN0cmF0aW9uLlxuICAgICAqXG4gICAgICogTm90ZTogYSBzdGF0ZSB3aWxsIGJlIHF1ZXVlZCBpZiB0aGUgc3RhdGUncyBwYXJlbnQgaXNuJ3QgeWV0IHJlZ2lzdGVyZWQuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gc3RhdGVEZWZpbml0aW9uIHRoZSBkZWZpbml0aW9uIG9mIHRoZSBzdGF0ZSB0byByZWdpc3Rlci5cbiAgICAgKiBAcmV0dXJucyB0aGUgaW50ZXJuYWwgW1tTdGF0ZU9iamVjdF1dIG9iamVjdC5cbiAgICAgKiAgICAgICAgICBJZiB0aGUgc3RhdGUgd2FzIHN1Y2Nlc3NmdWxseSByZWdpc3RlcmVkLCB0aGVuIHRoZSBvYmplY3QgaXMgZnVsbHkgYnVpbHQgKFNlZTogW1tTdGF0ZUJ1aWxkZXJdXSkuXG4gICAgICogICAgICAgICAgSWYgdGhlIHN0YXRlIHdhcyBvbmx5IHF1ZXVlZCwgdGhlbiB0aGUgb2JqZWN0IGlzIG5vdCBmdWxseSBidWlsdC5cbiAgICAgKi9cbiAgICBTdGF0ZVJlZ2lzdHJ5LnByb3RvdHlwZS5yZWdpc3RlciA9IGZ1bmN0aW9uIChzdGF0ZURlZmluaXRpb24pIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuc3RhdGVRdWV1ZS5yZWdpc3RlcihzdGF0ZURlZmluaXRpb24pO1xuICAgIH07XG4gICAgLyoqIEBoaWRkZW4gKi9cbiAgICBTdGF0ZVJlZ2lzdHJ5LnByb3RvdHlwZS5fZGVyZWdpc3RlclRyZWUgPSBmdW5jdGlvbiAoc3RhdGUpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgdmFyIGFsbCQkMSA9IHRoaXMuZ2V0KCkubWFwKGZ1bmN0aW9uIChzKSB7IHJldHVybiBzLiQkc3RhdGUoKTsgfSk7XG4gICAgICAgIHZhciBnZXRDaGlsZHJlbiA9IGZ1bmN0aW9uIChzdGF0ZXMpIHtcbiAgICAgICAgICAgIHZhciBjaGlsZHJlbiA9IGFsbCQkMS5maWx0ZXIoZnVuY3Rpb24gKHMpIHsgcmV0dXJuIHN0YXRlcy5pbmRleE9mKHMucGFyZW50KSAhPT0gLTE7IH0pO1xuICAgICAgICAgICAgcmV0dXJuIGNoaWxkcmVuLmxlbmd0aCA9PT0gMCA/IGNoaWxkcmVuIDogY2hpbGRyZW4uY29uY2F0KGdldENoaWxkcmVuKGNoaWxkcmVuKSk7XG4gICAgICAgIH07XG4gICAgICAgIHZhciBjaGlsZHJlbiA9IGdldENoaWxkcmVuKFtzdGF0ZV0pO1xuICAgICAgICB2YXIgZGVyZWdpc3RlcmVkID0gW3N0YXRlXS5jb25jYXQoY2hpbGRyZW4pLnJldmVyc2UoKTtcbiAgICAgICAgZGVyZWdpc3RlcmVkLmZvckVhY2goZnVuY3Rpb24gKHN0YXRlKSB7XG4gICAgICAgICAgICB2YXIgJHVyID0gX3RoaXMuX3JvdXRlci51cmxSb3V0ZXI7XG4gICAgICAgICAgICAvLyBSZW1vdmUgVVJMIHJ1bGVcbiAgICAgICAgICAgICR1ci5ydWxlcygpLmZpbHRlcihwcm9wRXEoXCJzdGF0ZVwiLCBzdGF0ZSkpLmZvckVhY2goJHVyLnJlbW92ZVJ1bGUuYmluZCgkdXIpKTtcbiAgICAgICAgICAgIC8vIFJlbW92ZSBzdGF0ZSBmcm9tIHJlZ2lzdHJ5XG4gICAgICAgICAgICBkZWxldGUgX3RoaXMuc3RhdGVzW3N0YXRlLm5hbWVdO1xuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIGRlcmVnaXN0ZXJlZDtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFJlbW92ZXMgYSBzdGF0ZSBmcm9tIHRoZSByZWdpc3RyeVxuICAgICAqXG4gICAgICogVGhpcyByZW1vdmVzIGEgc3RhdGUgZnJvbSB0aGUgcmVnaXN0cnkuXG4gICAgICogSWYgdGhlIHN0YXRlIGhhcyBjaGlsZHJlbiwgdGhleSBhcmUgYXJlIGFsc28gcmVtb3ZlZCBmcm9tIHRoZSByZWdpc3RyeS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBzdGF0ZU9yTmFtZSB0aGUgc3RhdGUncyBuYW1lIG9yIG9iamVjdCByZXByZXNlbnRhdGlvblxuICAgICAqIEByZXR1cm5zIHtTdGF0ZU9iamVjdFtdfSBhIGxpc3Qgb2YgcmVtb3ZlZCBzdGF0ZXNcbiAgICAgKi9cbiAgICBTdGF0ZVJlZ2lzdHJ5LnByb3RvdHlwZS5kZXJlZ2lzdGVyID0gZnVuY3Rpb24gKHN0YXRlT3JOYW1lKSB7XG4gICAgICAgIHZhciBfc3RhdGUgPSB0aGlzLmdldChzdGF0ZU9yTmFtZSk7XG4gICAgICAgIGlmICghX3N0YXRlKVxuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiQ2FuJ3QgZGVyZWdpc3RlciBzdGF0ZTsgbm90IGZvdW5kOiBcIiArIHN0YXRlT3JOYW1lKTtcbiAgICAgICAgdmFyIGRlcmVnaXN0ZXJlZFN0YXRlcyA9IHRoaXMuX2RlcmVnaXN0ZXJUcmVlKF9zdGF0ZS4kJHN0YXRlKCkpO1xuICAgICAgICB0aGlzLmxpc3RlbmVycy5mb3JFYWNoKGZ1bmN0aW9uIChsaXN0ZW5lcikgeyByZXR1cm4gbGlzdGVuZXIoXCJkZXJlZ2lzdGVyZWRcIiwgZGVyZWdpc3RlcmVkU3RhdGVzLm1hcChmdW5jdGlvbiAocykgeyByZXR1cm4gcy5zZWxmOyB9KSk7IH0pO1xuICAgICAgICByZXR1cm4gZGVyZWdpc3RlcmVkU3RhdGVzO1xuICAgIH07XG4gICAgU3RhdGVSZWdpc3RyeS5wcm90b3R5cGUuZ2V0ID0gZnVuY3Rpb24gKHN0YXRlT3JOYW1lLCBiYXNlKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIGlmIChhcmd1bWVudHMubGVuZ3RoID09PSAwKVxuICAgICAgICAgICAgcmV0dXJuIE9iamVjdC5rZXlzKHRoaXMuc3RhdGVzKS5tYXAoZnVuY3Rpb24gKG5hbWUpIHsgcmV0dXJuIF90aGlzLnN0YXRlc1tuYW1lXS5zZWxmOyB9KTtcbiAgICAgICAgdmFyIGZvdW5kID0gdGhpcy5tYXRjaGVyLmZpbmQoc3RhdGVPck5hbWUsIGJhc2UpO1xuICAgICAgICByZXR1cm4gZm91bmQgJiYgZm91bmQuc2VsZiB8fCBudWxsO1xuICAgIH07XG4gICAgU3RhdGVSZWdpc3RyeS5wcm90b3R5cGUuZGVjb3JhdG9yID0gZnVuY3Rpb24gKG5hbWUsIGZ1bmMpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuYnVpbGRlci5idWlsZGVyKG5hbWUsIGZ1bmMpO1xuICAgIH07XG4gICAgcmV0dXJuIFN0YXRlUmVnaXN0cnk7XG59KCkpO1xuXG4vKipcbiAqIEBjb3JlYXBpXG4gKiBAbW9kdWxlIHVybFxuICovXG4vKiogZm9yIHR5cGVkb2MgKi9cbi8qKiBAaGlkZGVuICovXG5mdW5jdGlvbiBxdW90ZVJlZ0V4cChzdHJpbmcsIHBhcmFtKSB7XG4gICAgdmFyIHN1cnJvdW5kUGF0dGVybiA9IFsnJywgJyddLCByZXN1bHQgPSBzdHJpbmcucmVwbGFjZSgvW1xcXFxcXFtcXF1cXF4kKis/LigpfHt9XS9nLCBcIlxcXFwkJlwiKTtcbiAgICBpZiAoIXBhcmFtKVxuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgIHN3aXRjaCAocGFyYW0uc3F1YXNoKSB7XG4gICAgICAgIGNhc2UgZmFsc2U6XG4gICAgICAgICAgICBzdXJyb3VuZFBhdHRlcm4gPSBbJygnLCAnKScgKyAocGFyYW0uaXNPcHRpb25hbCA/ICc/JyA6ICcnKV07XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSB0cnVlOlxuICAgICAgICAgICAgcmVzdWx0ID0gcmVzdWx0LnJlcGxhY2UoL1xcLyQvLCAnJyk7XG4gICAgICAgICAgICBzdXJyb3VuZFBhdHRlcm4gPSBbJyg/OlxcLygnLCAnKXxcXC8pPyddO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICBzdXJyb3VuZFBhdHRlcm4gPSBbXCIoXCIgKyBwYXJhbS5zcXVhc2ggKyBcInxcIiwgJyk/J107XG4gICAgICAgICAgICBicmVhaztcbiAgICB9XG4gICAgcmV0dXJuIHJlc3VsdCArIHN1cnJvdW5kUGF0dGVyblswXSArIHBhcmFtLnR5cGUucGF0dGVybi5zb3VyY2UgKyBzdXJyb3VuZFBhdHRlcm5bMV07XG59XG4vKiogQGhpZGRlbiAqL1xudmFyIG1lbW9pemVUbyA9IGZ1bmN0aW9uIChvYmosIHByb3AkJDEsIGZuKSB7XG4gICAgcmV0dXJuIG9ialtwcm9wJCQxXSA9IG9ialtwcm9wJCQxXSB8fCBmbigpO1xufTtcbi8qKiBAaGlkZGVuICovXG52YXIgc3BsaXRPblNsYXNoID0gc3BsaXRPbkRlbGltKCcvJyk7XG4vKipcbiAqIE1hdGNoZXMgVVJMcyBhZ2FpbnN0IHBhdHRlcm5zLlxuICpcbiAqIE1hdGNoZXMgVVJMcyBhZ2FpbnN0IHBhdHRlcm5zIGFuZCBleHRyYWN0cyBuYW1lZCBwYXJhbWV0ZXJzIGZyb20gdGhlIHBhdGggb3IgdGhlIHNlYXJjaFxuICogcGFydCBvZiB0aGUgVVJMLlxuICpcbiAqIEEgVVJMIHBhdHRlcm4gY29uc2lzdHMgb2YgYSBwYXRoIHBhdHRlcm4sIG9wdGlvbmFsbHkgZm9sbG93ZWQgYnkgJz8nIGFuZCBhIGxpc3Qgb2Ygc2VhcmNoIChxdWVyeSlcbiAqIHBhcmFtZXRlcnMuIE11bHRpcGxlIHNlYXJjaCBwYXJhbWV0ZXIgbmFtZXMgYXJlIHNlcGFyYXRlZCBieSAnJicuIFNlYXJjaCBwYXJhbWV0ZXJzXG4gKiBkbyBub3QgaW5mbHVlbmNlIHdoZXRoZXIgb3Igbm90IGEgVVJMIGlzIG1hdGNoZWQsIGJ1dCB0aGVpciB2YWx1ZXMgYXJlIHBhc3NlZCB0aHJvdWdoIGludG9cbiAqIHRoZSBtYXRjaGVkIHBhcmFtZXRlcnMgcmV0dXJuZWQgYnkgW1tVcmxNYXRjaGVyLmV4ZWNdXS5cbiAqXG4gKiAtICpQYXRoIHBhcmFtZXRlcnMqIGFyZSBkZWZpbmVkIHVzaW5nIGN1cmx5IGJyYWNlIHBsYWNlaG9sZGVycyAoYC9zb21lcGF0aC97cGFyYW19YClcbiAqIG9yIGNvbG9uIHBsYWNlaG9sZGVycyAoYC9zb21lUGF0aC86cGFyYW1gKS5cbiAqXG4gKiAtICpBIHBhcmFtZXRlciBSZWdFeHAqIG1heSBiZSBkZWZpbmVkIGZvciBhIHBhcmFtIGFmdGVyIGEgY29sb25cbiAqIChgL3NvbWVQYXRoL3twYXJhbTpbYS16QS1aMC05XSt9YCkgaW4gYSBjdXJseSBicmFjZSBwbGFjZWhvbGRlci5cbiAqIFRoZSByZWdleHAgbXVzdCBtYXRjaCBmb3IgdGhlIHVybCB0byBiZSBtYXRjaGVkLlxuICogU2hvdWxkIHRoZSByZWdleHAgaXRzZWxmIGNvbnRhaW4gY3VybHkgYnJhY2VzLCB0aGV5IG11c3QgYmUgaW4gbWF0Y2hlZCBwYWlycyBvciBlc2NhcGVkIHdpdGggYSBiYWNrc2xhc2guXG4gKlxuICogTm90ZTogYSBSZWdFeHAgcGFyYW1ldGVyIHdpbGwgZW5jb2RlIGl0cyB2YWx1ZSB1c2luZyBlaXRoZXIgW1tQYXJhbVR5cGVzLnBhdGhdXSBvciBbW1BhcmFtVHlwZXMucXVlcnldXS5cbiAqXG4gKiAtICpDdXN0b20gcGFyYW1ldGVyIHR5cGVzKiBtYXkgYWxzbyBiZSBzcGVjaWZpZWQgYWZ0ZXIgYSBjb2xvbiAoYC9zb21lUGF0aC97cGFyYW06aW50fWApIGluIGN1cmx5IGJyYWNlIHBhcmFtZXRlcnMuXG4gKiAgIFNlZSBbW1VybE1hdGNoZXJGYWN0b3J5LnR5cGVdXSBmb3IgbW9yZSBpbmZvcm1hdGlvbi5cbiAqXG4gKiAtICpDYXRjaC1hbGwgcGFyYW1ldGVycyogYXJlIGRlZmluZWQgdXNpbmcgYW4gYXN0ZXJpc2sgcGxhY2Vob2xkZXIgKGAvc29tZXBhdGgvKmNhdGNoYWxscGFyYW1gKS5cbiAqICAgQSBjYXRjaC1hbGwgKiBwYXJhbWV0ZXIgdmFsdWUgd2lsbCBjb250YWluIHRoZSByZW1haW5kZXIgb2YgdGhlIFVSTC5cbiAqXG4gKiAtLS1cbiAqXG4gKiBQYXJhbWV0ZXIgbmFtZXMgbWF5IGNvbnRhaW4gb25seSB3b3JkIGNoYXJhY3RlcnMgKGxhdGluIGxldHRlcnMsIGRpZ2l0cywgYW5kIHVuZGVyc2NvcmUpIGFuZFxuICogbXVzdCBiZSB1bmlxdWUgd2l0aGluIHRoZSBwYXR0ZXJuIChhY3Jvc3MgYm90aCBwYXRoIGFuZCBzZWFyY2ggcGFyYW1ldGVycykuXG4gKiBBIHBhdGggcGFyYW1ldGVyIG1hdGNoZXMgYW55IG51bWJlciBvZiBjaGFyYWN0ZXJzIG90aGVyIHRoYW4gJy8nLiBGb3IgY2F0Y2gtYWxsXG4gKiBwbGFjZWhvbGRlcnMgdGhlIHBhdGggcGFyYW1ldGVyIG1hdGNoZXMgYW55IG51bWJlciBvZiBjaGFyYWN0ZXJzLlxuICpcbiAqIEV4YW1wbGVzOlxuICpcbiAqICogYCcvaGVsbG8vJ2AgLSBNYXRjaGVzIG9ubHkgaWYgdGhlIHBhdGggaXMgZXhhY3RseSAnL2hlbGxvLycuIFRoZXJlIGlzIG5vIHNwZWNpYWwgdHJlYXRtZW50IGZvclxuICogICB0cmFpbGluZyBzbGFzaGVzLCBhbmQgcGF0dGVybnMgaGF2ZSB0byBtYXRjaCB0aGUgZW50aXJlIHBhdGgsIG5vdCBqdXN0IGEgcHJlZml4LlxuICogKiBgJy91c2VyLzppZCdgIC0gTWF0Y2hlcyAnL3VzZXIvYm9iJyBvciAnL3VzZXIvMTIzNCEhIScgb3IgZXZlbiAnL3VzZXIvJyBidXQgbm90ICcvdXNlcicgb3JcbiAqICAgJy91c2VyL2JvYi9kZXRhaWxzJy4gVGhlIHNlY29uZCBwYXRoIHNlZ21lbnQgd2lsbCBiZSBjYXB0dXJlZCBhcyB0aGUgcGFyYW1ldGVyICdpZCcuXG4gKiAqIGAnL3VzZXIve2lkfSdgIC0gU2FtZSBhcyB0aGUgcHJldmlvdXMgZXhhbXBsZSwgYnV0IHVzaW5nIGN1cmx5IGJyYWNlIHN5bnRheC5cbiAqICogYCcvdXNlci97aWQ6W14vXSp9J2AgLSBTYW1lIGFzIHRoZSBwcmV2aW91cyBleGFtcGxlLlxuICogKiBgJy91c2VyL3tpZDpbMC05YS1mQS1GXXsxLDh9fSdgIC0gU2ltaWxhciB0byB0aGUgcHJldmlvdXMgZXhhbXBsZSwgYnV0IG9ubHkgbWF0Y2hlcyBpZiB0aGUgaWRcbiAqICAgcGFyYW1ldGVyIGNvbnNpc3RzIG9mIDEgdG8gOCBoZXggZGlnaXRzLlxuICogKiBgJy9maWxlcy97cGF0aDouKn0nYCAtIE1hdGNoZXMgYW55IFVSTCBzdGFydGluZyB3aXRoICcvZmlsZXMvJyBhbmQgY2FwdHVyZXMgdGhlIHJlc3Qgb2YgdGhlXG4gKiAgIHBhdGggaW50byB0aGUgcGFyYW1ldGVyICdwYXRoJy5cbiAqICogYCcvZmlsZXMvKnBhdGgnYCAtIGRpdHRvLlxuICogKiBgJy9jYWxlbmRhci97c3RhcnQ6ZGF0ZX0nYCAtIE1hdGNoZXMgXCIvY2FsZW5kYXIvMjAxNC0xMS0xMlwiIChiZWNhdXNlIHRoZSBwYXR0ZXJuIGRlZmluZWRcbiAqICAgaW4gdGhlIGJ1aWx0LWluICBgZGF0ZWAgUGFyYW1UeXBlIG1hdGNoZXMgYDIwMTQtMTEtMTJgKSBhbmQgcHJvdmlkZXMgYSBEYXRlIG9iamVjdCBpbiAkc3RhdGVQYXJhbXMuc3RhcnRcbiAqXG4gKi9cbnZhciBVcmxNYXRjaGVyID0gKGZ1bmN0aW9uICgpIHtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0gcGF0dGVybiBUaGUgcGF0dGVybiB0byBjb21waWxlIGludG8gYSBtYXRjaGVyLlxuICAgICAqIEBwYXJhbSBwYXJhbVR5cGVzIFRoZSBbW1BhcmFtVHlwZXNdXSByZWdpc3RyeVxuICAgICAqIEBwYXJhbSBjb25maWcgIEEgY29uZmlndXJhdGlvbiBvYmplY3RcbiAgICAgKiAtIGBjYXNlSW5zZW5zaXRpdmVgIC0gYHRydWVgIGlmIFVSTCBtYXRjaGluZyBzaG91bGQgYmUgY2FzZSBpbnNlbnNpdGl2ZSwgb3RoZXJ3aXNlIGBmYWxzZWAsIHRoZSBkZWZhdWx0IHZhbHVlIChmb3IgYmFja3dhcmQgY29tcGF0aWJpbGl0eSkgaXMgYGZhbHNlYC5cbiAgICAgKiAtIGBzdHJpY3RgIC0gYGZhbHNlYCBpZiBtYXRjaGluZyBhZ2FpbnN0IGEgVVJMIHdpdGggYSB0cmFpbGluZyBzbGFzaCBzaG91bGQgYmUgdHJlYXRlZCBhcyBlcXVpdmFsZW50IHRvIGEgVVJMIHdpdGhvdXQgYSB0cmFpbGluZyBzbGFzaCwgdGhlIGRlZmF1bHQgdmFsdWUgaXMgYHRydWVgLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIFVybE1hdGNoZXIocGF0dGVybiQkMSwgcGFyYW1UeXBlcywgcGFyYW1GYWN0b3J5LCBjb25maWcpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgdGhpcy5jb25maWcgPSBjb25maWc7XG4gICAgICAgIC8qKiBAaGlkZGVuICovXG4gICAgICAgIHRoaXMuX2NhY2hlID0geyBwYXRoOiBbdGhpc10gfTtcbiAgICAgICAgLyoqIEBoaWRkZW4gKi9cbiAgICAgICAgdGhpcy5fY2hpbGRyZW4gPSBbXTtcbiAgICAgICAgLyoqIEBoaWRkZW4gKi9cbiAgICAgICAgdGhpcy5fcGFyYW1zID0gW107XG4gICAgICAgIC8qKiBAaGlkZGVuICovXG4gICAgICAgIHRoaXMuX3NlZ21lbnRzID0gW107XG4gICAgICAgIC8qKiBAaGlkZGVuICovXG4gICAgICAgIHRoaXMuX2NvbXBpbGVkID0gW107XG4gICAgICAgIHRoaXMucGF0dGVybiA9IHBhdHRlcm4kJDE7XG4gICAgICAgIHRoaXMuY29uZmlnID0gZGVmYXVsdHModGhpcy5jb25maWcsIHtcbiAgICAgICAgICAgIHBhcmFtczoge30sXG4gICAgICAgICAgICBzdHJpY3Q6IHRydWUsXG4gICAgICAgICAgICBjYXNlSW5zZW5zaXRpdmU6IGZhbHNlLFxuICAgICAgICAgICAgcGFyYW1NYXA6IGlkZW50aXR5XG4gICAgICAgIH0pO1xuICAgICAgICAvLyBGaW5kIGFsbCBwbGFjZWhvbGRlcnMgYW5kIGNyZWF0ZSBhIGNvbXBpbGVkIHBhdHRlcm4sIHVzaW5nIGVpdGhlciBjbGFzc2ljIG9yIGN1cmx5IHN5bnRheDpcbiAgICAgICAgLy8gICAnKicgbmFtZVxuICAgICAgICAvLyAgICc6JyBuYW1lXG4gICAgICAgIC8vICAgJ3snIG5hbWUgJ30nXG4gICAgICAgIC8vICAgJ3snIG5hbWUgJzonIHJlZ2V4cCAnfSdcbiAgICAgICAgLy8gVGhlIHJlZ3VsYXIgZXhwcmVzc2lvbiBpcyBzb21ld2hhdCBjb21wbGljYXRlZCBkdWUgdG8gdGhlIG5lZWQgdG8gYWxsb3cgY3VybHkgYnJhY2VzXG4gICAgICAgIC8vIGluc2lkZSB0aGUgcmVndWxhciBleHByZXNzaW9uLiBUaGUgcGxhY2Vob2xkZXIgcmVnZXhwIGJyZWFrcyBkb3duIGFzIGZvbGxvd3M6XG4gICAgICAgIC8vICAgIChbOipdKShbXFx3XFxbXFxdXSspICAgICAgICAgICAgICAtIGNsYXNzaWMgcGxhY2Vob2xkZXIgKCQxIC8gJDIpIChzZWFyY2ggdmVyc2lvbiBoYXMgLSBmb3Igc25ha2UtY2FzZSlcbiAgICAgICAgLy8gICAgXFx7KFtcXHdcXFtcXF1dKykoPzpcXDpcXHMqKCAuLi4gKSk/XFx9ICAtIGN1cmx5IGJyYWNlIHBsYWNlaG9sZGVyICgkMykgd2l0aCBvcHRpb25hbCByZWdleHAvdHlwZSAuLi4gKCQ0KSAoc2VhcmNoIHZlcnNpb24gaGFzIC0gZm9yIHNuYWtlLWNhc2VcbiAgICAgICAgLy8gICAgKD86IC4uLiB8IC4uLiB8IC4uLiApKyAgICAgICAgIC0gdGhlIHJlZ2V4cCBjb25zaXN0cyBvZiBhbnkgbnVtYmVyIG9mIGF0b21zLCBhbiBhdG9tIGJlaW5nIGVpdGhlclxuICAgICAgICAvLyAgICBbXnt9XFxcXF0rICAgICAgICAgICAgICAgICAgICAgICAtIGFueXRoaW5nIG90aGVyIHRoYW4gY3VybHkgYnJhY2VzIG9yIGJhY2tzbGFzaFxuICAgICAgICAvLyAgICBcXFxcLiAgICAgICAgICAgICAgICAgICAgICAgICAgICAtIGEgYmFja3NsYXNoIGVzY2FwZVxuICAgICAgICAvLyAgICBcXHsoPzpbXnt9XFxcXF0rfFxcXFwuKSpcXH0gICAgICAgICAgLSBhIG1hdGNoZWQgc2V0IG9mIGN1cmx5IGJyYWNlcyBjb250YWluaW5nIG90aGVyIGF0b21zXG4gICAgICAgIHZhciBwbGFjZWhvbGRlciA9IC8oWzoqXSkoW1xcd1xcW1xcXV0rKXxcXHsoW1xcd1xcW1xcXV0rKSg/OlxcOlxccyooKD86W157fVxcXFxdK3xcXFxcLnxcXHsoPzpbXnt9XFxcXF0rfFxcXFwuKSpcXH0pKykpP1xcfS9nLCBzZWFyY2hQbGFjZWhvbGRlciA9IC8oWzpdPykoW1xcd1xcW1xcXS4tXSspfFxceyhbXFx3XFxbXFxdLi1dKykoPzpcXDpcXHMqKCg/Oltee31cXFxcXSt8XFxcXC58XFx7KD86W157fVxcXFxdK3xcXFxcLikqXFx9KSspKT9cXH0vZywgbGFzdCA9IDAsIG0sIHBhdHRlcm5zID0gW107XG4gICAgICAgIHZhciBjaGVja1BhcmFtRXJyb3JzID0gZnVuY3Rpb24gKGlkKSB7XG4gICAgICAgICAgICBpZiAoIVVybE1hdGNoZXIubmFtZVZhbGlkYXRvci50ZXN0KGlkKSlcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJJbnZhbGlkIHBhcmFtZXRlciBuYW1lICdcIiArIGlkICsgXCInIGluIHBhdHRlcm4gJ1wiICsgcGF0dGVybiQkMSArIFwiJ1wiKTtcbiAgICAgICAgICAgIGlmIChmaW5kKF90aGlzLl9wYXJhbXMsIHByb3BFcSgnaWQnLCBpZCkpKVxuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIkR1cGxpY2F0ZSBwYXJhbWV0ZXIgbmFtZSAnXCIgKyBpZCArIFwiJyBpbiBwYXR0ZXJuICdcIiArIHBhdHRlcm4kJDEgKyBcIidcIik7XG4gICAgICAgIH07XG4gICAgICAgIC8vIFNwbGl0IGludG8gc3RhdGljIHNlZ21lbnRzIHNlcGFyYXRlZCBieSBwYXRoIHBhcmFtZXRlciBwbGFjZWhvbGRlcnMuXG4gICAgICAgIC8vIFRoZSBudW1iZXIgb2Ygc2VnbWVudHMgaXMgYWx3YXlzIDEgbW9yZSB0aGFuIHRoZSBudW1iZXIgb2YgcGFyYW1ldGVycy5cbiAgICAgICAgdmFyIG1hdGNoRGV0YWlscyA9IGZ1bmN0aW9uIChtLCBpc1NlYXJjaCkge1xuICAgICAgICAgICAgLy8gSUVbNzhdIHJldHVybnMgJycgZm9yIHVubWF0Y2hlZCBncm91cHMgaW5zdGVhZCBvZiBudWxsXG4gICAgICAgICAgICB2YXIgaWQgPSBtWzJdIHx8IG1bM107XG4gICAgICAgICAgICB2YXIgcmVnZXhwID0gaXNTZWFyY2ggPyBtWzRdIDogbVs0XSB8fCAobVsxXSA9PT0gJyonID8gJy4qJyA6IG51bGwpO1xuICAgICAgICAgICAgdmFyIG1ha2VSZWdleHBUeXBlID0gZnVuY3Rpb24gKHJlZ2V4cCkgeyByZXR1cm4gaW5oZXJpdChwYXJhbVR5cGVzLnR5cGUoaXNTZWFyY2ggPyBcInF1ZXJ5XCIgOiBcInBhdGhcIiksIHtcbiAgICAgICAgICAgICAgICBwYXR0ZXJuOiBuZXcgUmVnRXhwKHJlZ2V4cCwgX3RoaXMuY29uZmlnLmNhc2VJbnNlbnNpdGl2ZSA/ICdpJyA6IHVuZGVmaW5lZClcbiAgICAgICAgICAgIH0pOyB9O1xuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICBpZDogaWQsXG4gICAgICAgICAgICAgICAgcmVnZXhwOiByZWdleHAsXG4gICAgICAgICAgICAgICAgY2ZnOiBfdGhpcy5jb25maWcucGFyYW1zW2lkXSxcbiAgICAgICAgICAgICAgICBzZWdtZW50OiBwYXR0ZXJuJCQxLnN1YnN0cmluZyhsYXN0LCBtLmluZGV4KSxcbiAgICAgICAgICAgICAgICB0eXBlOiAhcmVnZXhwID8gbnVsbCA6IHBhcmFtVHlwZXMudHlwZShyZWdleHApIHx8IG1ha2VSZWdleHBUeXBlKHJlZ2V4cClcbiAgICAgICAgICAgIH07XG4gICAgICAgIH07XG4gICAgICAgIHZhciBwLCBzZWdtZW50O1xuICAgICAgICB3aGlsZSAoKG0gPSBwbGFjZWhvbGRlci5leGVjKHBhdHRlcm4kJDEpKSkge1xuICAgICAgICAgICAgcCA9IG1hdGNoRGV0YWlscyhtLCBmYWxzZSk7XG4gICAgICAgICAgICBpZiAocC5zZWdtZW50LmluZGV4T2YoJz8nKSA+PSAwKVxuICAgICAgICAgICAgICAgIGJyZWFrOyAvLyB3ZSdyZSBpbnRvIHRoZSBzZWFyY2ggcGFydFxuICAgICAgICAgICAgY2hlY2tQYXJhbUVycm9ycyhwLmlkKTtcbiAgICAgICAgICAgIHRoaXMuX3BhcmFtcy5wdXNoKHBhcmFtRmFjdG9yeS5mcm9tUGF0aChwLmlkLCBwLnR5cGUsIHRoaXMuY29uZmlnLnBhcmFtTWFwKHAuY2ZnLCBmYWxzZSkpKTtcbiAgICAgICAgICAgIHRoaXMuX3NlZ21lbnRzLnB1c2gocC5zZWdtZW50KTtcbiAgICAgICAgICAgIHBhdHRlcm5zLnB1c2goW3Auc2VnbWVudCwgdGFpbCh0aGlzLl9wYXJhbXMpXSk7XG4gICAgICAgICAgICBsYXN0ID0gcGxhY2Vob2xkZXIubGFzdEluZGV4O1xuICAgICAgICB9XG4gICAgICAgIHNlZ21lbnQgPSBwYXR0ZXJuJCQxLnN1YnN0cmluZyhsYXN0KTtcbiAgICAgICAgLy8gRmluZCBhbnkgc2VhcmNoIHBhcmFtZXRlciBuYW1lcyBhbmQgcmVtb3ZlIHRoZW0gZnJvbSB0aGUgbGFzdCBzZWdtZW50XG4gICAgICAgIHZhciBpID0gc2VnbWVudC5pbmRleE9mKCc/Jyk7XG4gICAgICAgIGlmIChpID49IDApIHtcbiAgICAgICAgICAgIHZhciBzZWFyY2ggPSBzZWdtZW50LnN1YnN0cmluZyhpKTtcbiAgICAgICAgICAgIHNlZ21lbnQgPSBzZWdtZW50LnN1YnN0cmluZygwLCBpKTtcbiAgICAgICAgICAgIGlmIChzZWFyY2gubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICAgIGxhc3QgPSAwO1xuICAgICAgICAgICAgICAgIHdoaWxlICgobSA9IHNlYXJjaFBsYWNlaG9sZGVyLmV4ZWMoc2VhcmNoKSkpIHtcbiAgICAgICAgICAgICAgICAgICAgcCA9IG1hdGNoRGV0YWlscyhtLCB0cnVlKTtcbiAgICAgICAgICAgICAgICAgICAgY2hlY2tQYXJhbUVycm9ycyhwLmlkKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fcGFyYW1zLnB1c2gocGFyYW1GYWN0b3J5LmZyb21TZWFyY2gocC5pZCwgcC50eXBlLCB0aGlzLmNvbmZpZy5wYXJhbU1hcChwLmNmZywgdHJ1ZSkpKTtcbiAgICAgICAgICAgICAgICAgICAgbGFzdCA9IHBsYWNlaG9sZGVyLmxhc3RJbmRleDtcbiAgICAgICAgICAgICAgICAgICAgLy8gY2hlY2sgaWYgPyZcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fc2VnbWVudHMucHVzaChzZWdtZW50KTtcbiAgICAgICAgdGhpcy5fY29tcGlsZWQgPSBwYXR0ZXJucy5tYXAoZnVuY3Rpb24gKHBhdHRlcm4kJDEpIHsgcmV0dXJuIHF1b3RlUmVnRXhwLmFwcGx5KG51bGwsIHBhdHRlcm4kJDEpOyB9KS5jb25jYXQocXVvdGVSZWdFeHAoc2VnbWVudCkpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgbmV3IGNvbmNhdGVuYXRlZCBVcmxNYXRjaGVyXG4gICAgICpcbiAgICAgKiBCdWlsZHMgYSBuZXcgVXJsTWF0Y2hlciBieSBhcHBlbmRpbmcgYW5vdGhlciBVcmxNYXRjaGVyIHRvIHRoaXMgb25lLlxuICAgICAqXG4gICAgICogQHBhcmFtIHVybCBBIGBVcmxNYXRjaGVyYCBpbnN0YW5jZSB0byBhcHBlbmQgYXMgYSBjaGlsZCBvZiB0aGUgY3VycmVudCBgVXJsTWF0Y2hlcmAuXG4gICAgICovXG4gICAgVXJsTWF0Y2hlci5wcm90b3R5cGUuYXBwZW5kID0gZnVuY3Rpb24gKHVybCkge1xuICAgICAgICB0aGlzLl9jaGlsZHJlbi5wdXNoKHVybCk7XG4gICAgICAgIHVybC5fY2FjaGUgPSB7XG4gICAgICAgICAgICBwYXRoOiB0aGlzLl9jYWNoZS5wYXRoLmNvbmNhdCh1cmwpLFxuICAgICAgICAgICAgcGFyZW50OiB0aGlzLFxuICAgICAgICAgICAgcGF0dGVybjogbnVsbCxcbiAgICAgICAgfTtcbiAgICAgICAgcmV0dXJuIHVybDtcbiAgICB9O1xuICAgIC8qKiBAaGlkZGVuICovXG4gICAgVXJsTWF0Y2hlci5wcm90b3R5cGUuaXNSb290ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fY2FjaGUucGF0aFswXSA9PT0gdGhpcztcbiAgICB9O1xuICAgIC8qKiBSZXR1cm5zIHRoZSBpbnB1dCBwYXR0ZXJuIHN0cmluZyAqL1xuICAgIFVybE1hdGNoZXIucHJvdG90eXBlLnRvU3RyaW5nID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5wYXR0ZXJuO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogVGVzdHMgdGhlIHNwZWNpZmllZCB1cmwvcGF0aCBhZ2FpbnN0IHRoaXMgbWF0Y2hlci5cbiAgICAgKlxuICAgICAqIFRlc3RzIGlmIHRoZSBnaXZlbiB1cmwgbWF0Y2hlcyB0aGlzIG1hdGNoZXIncyBwYXR0ZXJuLCBhbmQgcmV0dXJucyBhbiBvYmplY3QgY29udGFpbmluZyB0aGUgY2FwdHVyZWRcbiAgICAgKiBwYXJhbWV0ZXIgdmFsdWVzLiAgUmV0dXJucyBudWxsIGlmIHRoZSBwYXRoIGRvZXMgbm90IG1hdGNoLlxuICAgICAqXG4gICAgICogVGhlIHJldHVybmVkIG9iamVjdCBjb250YWlucyB0aGUgdmFsdWVzXG4gICAgICogb2YgYW55IHNlYXJjaCBwYXJhbWV0ZXJzIHRoYXQgYXJlIG1lbnRpb25lZCBpbiB0aGUgcGF0dGVybiwgYnV0IHRoZWlyIHZhbHVlIG1heSBiZSBudWxsIGlmXG4gICAgICogdGhleSBhcmUgbm90IHByZXNlbnQgaW4gYHNlYXJjaGAuIFRoaXMgbWVhbnMgdGhhdCBzZWFyY2ggcGFyYW1ldGVycyBhcmUgYWx3YXlzIHRyZWF0ZWRcbiAgICAgKiBhcyBvcHRpb25hbC5cbiAgICAgKlxuICAgICAqICMjIyMgRXhhbXBsZTpcbiAgICAgKiBgYGBqc1xuICAgICAqIG5ldyBVcmxNYXRjaGVyKCcvdXNlci97aWR9P3EmcicpLmV4ZWMoJy91c2VyL2JvYicsIHtcbiAgICAgKiAgIHg6ICcxJywgcTogJ2hlbGxvJ1xuICAgICAqIH0pO1xuICAgICAqIC8vIHJldHVybnMgeyBpZDogJ2JvYicsIHE6ICdoZWxsbycsIHI6IG51bGwgfVxuICAgICAqIGBgYFxuICAgICAqXG4gICAgICogQHBhcmFtIHBhdGggICAgVGhlIFVSTCBwYXRoIHRvIG1hdGNoLCBlLmcuIGAkbG9jYXRpb24ucGF0aCgpYC5cbiAgICAgKiBAcGFyYW0gc2VhcmNoICBVUkwgc2VhcmNoIHBhcmFtZXRlcnMsIGUuZy4gYCRsb2NhdGlvbi5zZWFyY2goKWAuXG4gICAgICogQHBhcmFtIGhhc2ggICAgVVJMIGhhc2ggZS5nLiBgJGxvY2F0aW9uLmhhc2goKWAuXG4gICAgICogQHBhcmFtIG9wdGlvbnNcbiAgICAgKlxuICAgICAqIEByZXR1cm5zIFRoZSBjYXB0dXJlZCBwYXJhbWV0ZXIgdmFsdWVzLlxuICAgICAqL1xuICAgIFVybE1hdGNoZXIucHJvdG90eXBlLmV4ZWMgPSBmdW5jdGlvbiAocGF0aCwgc2VhcmNoLCBoYXNoLCBvcHRpb25zKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIGlmIChzZWFyY2ggPT09IHZvaWQgMCkgeyBzZWFyY2ggPSB7fTsgfVxuICAgICAgICBpZiAob3B0aW9ucyA9PT0gdm9pZCAwKSB7IG9wdGlvbnMgPSB7fTsgfVxuICAgICAgICB2YXIgbWF0Y2ggPSBtZW1vaXplVG8odGhpcy5fY2FjaGUsICdwYXR0ZXJuJywgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIG5ldyBSZWdFeHAoW1xuICAgICAgICAgICAgICAgICdeJyxcbiAgICAgICAgICAgICAgICB1bm5lc3QoX3RoaXMuX2NhY2hlLnBhdGgubWFwKHByb3AoJ19jb21waWxlZCcpKSkuam9pbignJyksXG4gICAgICAgICAgICAgICAgX3RoaXMuY29uZmlnLnN0cmljdCA9PT0gZmFsc2UgPyAnXFwvPycgOiAnJyxcbiAgICAgICAgICAgICAgICAnJCdcbiAgICAgICAgICAgIF0uam9pbignJyksIF90aGlzLmNvbmZpZy5jYXNlSW5zZW5zaXRpdmUgPyAnaScgOiB1bmRlZmluZWQpO1xuICAgICAgICB9KS5leGVjKHBhdGgpO1xuICAgICAgICBpZiAoIW1hdGNoKVxuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIC8vb3B0aW9ucyA9IGRlZmF1bHRzKG9wdGlvbnMsIHsgaXNvbGF0ZTogZmFsc2UgfSk7XG4gICAgICAgIHZhciBhbGxQYXJhbXMgPSB0aGlzLnBhcmFtZXRlcnMoKSwgcGF0aFBhcmFtcyA9IGFsbFBhcmFtcy5maWx0ZXIoZnVuY3Rpb24gKHBhcmFtKSB7IHJldHVybiAhcGFyYW0uaXNTZWFyY2goKTsgfSksIHNlYXJjaFBhcmFtcyA9IGFsbFBhcmFtcy5maWx0ZXIoZnVuY3Rpb24gKHBhcmFtKSB7IHJldHVybiBwYXJhbS5pc1NlYXJjaCgpOyB9KSwgblBhdGhTZWdtZW50cyA9IHRoaXMuX2NhY2hlLnBhdGgubWFwKGZ1bmN0aW9uICh1cmxtKSB7IHJldHVybiB1cmxtLl9zZWdtZW50cy5sZW5ndGggLSAxOyB9KS5yZWR1Y2UoZnVuY3Rpb24gKGEsIHgpIHsgcmV0dXJuIGEgKyB4OyB9KSwgdmFsdWVzJCQxID0ge307XG4gICAgICAgIGlmIChuUGF0aFNlZ21lbnRzICE9PSBtYXRjaC5sZW5ndGggLSAxKVxuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiVW5iYWxhbmNlZCBjYXB0dXJlIGdyb3VwIGluIHJvdXRlICdcIiArIHRoaXMucGF0dGVybiArIFwiJ1wiKTtcbiAgICAgICAgZnVuY3Rpb24gZGVjb2RlUGF0aEFycmF5KHN0cmluZykge1xuICAgICAgICAgICAgdmFyIHJldmVyc2VTdHJpbmcgPSBmdW5jdGlvbiAoc3RyKSB7IHJldHVybiBzdHIuc3BsaXQoXCJcIikucmV2ZXJzZSgpLmpvaW4oXCJcIik7IH07XG4gICAgICAgICAgICB2YXIgdW5xdW90ZURhc2hlcyA9IGZ1bmN0aW9uIChzdHIpIHsgcmV0dXJuIHN0ci5yZXBsYWNlKC9cXFxcLS9nLCBcIi1cIik7IH07XG4gICAgICAgICAgICB2YXIgc3BsaXQgPSByZXZlcnNlU3RyaW5nKHN0cmluZykuc3BsaXQoLy0oPyFcXFxcKS8pO1xuICAgICAgICAgICAgdmFyIGFsbFJldmVyc2VkID0gbWFwKHNwbGl0LCByZXZlcnNlU3RyaW5nKTtcbiAgICAgICAgICAgIHJldHVybiBtYXAoYWxsUmV2ZXJzZWQsIHVucXVvdGVEYXNoZXMpLnJldmVyc2UoKTtcbiAgICAgICAgfVxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IG5QYXRoU2VnbWVudHM7IGkrKykge1xuICAgICAgICAgICAgdmFyIHBhcmFtID0gcGF0aFBhcmFtc1tpXTtcbiAgICAgICAgICAgIHZhciB2YWx1ZSA9IG1hdGNoW2kgKyAxXTtcbiAgICAgICAgICAgIC8vIGlmIHRoZSBwYXJhbSB2YWx1ZSBtYXRjaGVzIGEgcHJlLXJlcGxhY2UgcGFpciwgcmVwbGFjZSB0aGUgdmFsdWUgYmVmb3JlIGRlY29kaW5nLlxuICAgICAgICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCBwYXJhbS5yZXBsYWNlLmxlbmd0aDsgaisrKSB7XG4gICAgICAgICAgICAgICAgaWYgKHBhcmFtLnJlcGxhY2Vbal0uZnJvbSA9PT0gdmFsdWUpXG4gICAgICAgICAgICAgICAgICAgIHZhbHVlID0gcGFyYW0ucmVwbGFjZVtqXS50bztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICh2YWx1ZSAmJiBwYXJhbS5hcnJheSA9PT0gdHJ1ZSlcbiAgICAgICAgICAgICAgICB2YWx1ZSA9IGRlY29kZVBhdGhBcnJheSh2YWx1ZSk7XG4gICAgICAgICAgICBpZiAoaXNEZWZpbmVkKHZhbHVlKSlcbiAgICAgICAgICAgICAgICB2YWx1ZSA9IHBhcmFtLnR5cGUuZGVjb2RlKHZhbHVlKTtcbiAgICAgICAgICAgIHZhbHVlcyQkMVtwYXJhbS5pZF0gPSBwYXJhbS52YWx1ZSh2YWx1ZSk7XG4gICAgICAgIH1cbiAgICAgICAgc2VhcmNoUGFyYW1zLmZvckVhY2goZnVuY3Rpb24gKHBhcmFtKSB7XG4gICAgICAgICAgICB2YXIgdmFsdWUgPSBzZWFyY2hbcGFyYW0uaWRdO1xuICAgICAgICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCBwYXJhbS5yZXBsYWNlLmxlbmd0aDsgaisrKSB7XG4gICAgICAgICAgICAgICAgaWYgKHBhcmFtLnJlcGxhY2Vbal0uZnJvbSA9PT0gdmFsdWUpXG4gICAgICAgICAgICAgICAgICAgIHZhbHVlID0gcGFyYW0ucmVwbGFjZVtqXS50bztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChpc0RlZmluZWQodmFsdWUpKVxuICAgICAgICAgICAgICAgIHZhbHVlID0gcGFyYW0udHlwZS5kZWNvZGUodmFsdWUpO1xuICAgICAgICAgICAgdmFsdWVzJCQxW3BhcmFtLmlkXSA9IHBhcmFtLnZhbHVlKHZhbHVlKTtcbiAgICAgICAgfSk7XG4gICAgICAgIGlmIChoYXNoKVxuICAgICAgICAgICAgdmFsdWVzJCQxW1wiI1wiXSA9IGhhc2g7XG4gICAgICAgIHJldHVybiB2YWx1ZXMkJDE7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBAaGlkZGVuXG4gICAgICogUmV0dXJucyBhbGwgdGhlIFtbUGFyYW1dXSBvYmplY3RzIG9mIGFsbCBwYXRoIGFuZCBzZWFyY2ggcGFyYW1ldGVycyBvZiB0aGlzIHBhdHRlcm4gaW4gb3JkZXIgb2YgYXBwZWFyYW5jZS5cbiAgICAgKlxuICAgICAqIEByZXR1cm5zIHtBcnJheS48UGFyYW0+fSAgQW4gYXJyYXkgb2YgW1tQYXJhbV1dIG9iamVjdHMuIE11c3QgYmUgdHJlYXRlZCBhcyByZWFkLW9ubHkuIElmIHRoZVxuICAgICAqICAgIHBhdHRlcm4gaGFzIG5vIHBhcmFtZXRlcnMsIGFuIGVtcHR5IGFycmF5IGlzIHJldHVybmVkLlxuICAgICAqL1xuICAgIFVybE1hdGNoZXIucHJvdG90eXBlLnBhcmFtZXRlcnMgPSBmdW5jdGlvbiAob3B0cykge1xuICAgICAgICBpZiAob3B0cyA9PT0gdm9pZCAwKSB7IG9wdHMgPSB7fTsgfVxuICAgICAgICBpZiAob3B0cy5pbmhlcml0ID09PSBmYWxzZSlcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9wYXJhbXM7XG4gICAgICAgIHJldHVybiB1bm5lc3QodGhpcy5fY2FjaGUucGF0aC5tYXAoZnVuY3Rpb24gKG1hdGNoZXIpIHsgcmV0dXJuIG1hdGNoZXIuX3BhcmFtczsgfSkpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQGhpZGRlblxuICAgICAqIFJldHVybnMgYSBzaW5nbGUgcGFyYW1ldGVyIGZyb20gdGhpcyBVcmxNYXRjaGVyIGJ5IGlkXG4gICAgICpcbiAgICAgKiBAcGFyYW0gaWRcbiAgICAgKiBAcGFyYW0gb3B0c1xuICAgICAqIEByZXR1cm5zIHtUfFBhcmFtfGFueXxib29sZWFufFVybE1hdGNoZXJ8bnVsbH1cbiAgICAgKi9cbiAgICBVcmxNYXRjaGVyLnByb3RvdHlwZS5wYXJhbWV0ZXIgPSBmdW5jdGlvbiAoaWQsIG9wdHMpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgaWYgKG9wdHMgPT09IHZvaWQgMCkgeyBvcHRzID0ge307IH1cbiAgICAgICAgdmFyIGZpbmRQYXJhbSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIGZvciAodmFyIF9pID0gMCwgX2EgPSBfdGhpcy5fcGFyYW1zOyBfaSA8IF9hLmxlbmd0aDsgX2krKykge1xuICAgICAgICAgICAgICAgIHZhciBwYXJhbSA9IF9hW19pXTtcbiAgICAgICAgICAgICAgICBpZiAocGFyYW0uaWQgPT09IGlkKVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gcGFyYW07XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICAgIHZhciBwYXJlbnQgPSB0aGlzLl9jYWNoZS5wYXJlbnQ7XG4gICAgICAgIHJldHVybiBmaW5kUGFyYW0oKSB8fCAob3B0cy5pbmhlcml0ICE9PSBmYWxzZSAmJiBwYXJlbnQgJiYgcGFyZW50LnBhcmFtZXRlcihpZCwgb3B0cykpIHx8IG51bGw7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBWYWxpZGF0ZXMgdGhlIGlucHV0IHBhcmFtZXRlciB2YWx1ZXMgYWdhaW5zdCB0aGlzIFVybE1hdGNoZXJcbiAgICAgKlxuICAgICAqIENoZWNrcyBhbiBvYmplY3QgaGFzaCBvZiBwYXJhbWV0ZXJzIHRvIHZhbGlkYXRlIHRoZWlyIGNvcnJlY3RuZXNzIGFjY29yZGluZyB0byB0aGUgcGFyYW1ldGVyXG4gICAgICogdHlwZXMgb2YgdGhpcyBgVXJsTWF0Y2hlcmAuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gcGFyYW1zIFRoZSBvYmplY3QgaGFzaCBvZiBwYXJhbWV0ZXJzIHRvIHZhbGlkYXRlLlxuICAgICAqIEByZXR1cm5zIFJldHVybnMgYHRydWVgIGlmIGBwYXJhbXNgIHZhbGlkYXRlcywgb3RoZXJ3aXNlIGBmYWxzZWAuXG4gICAgICovXG4gICAgVXJsTWF0Y2hlci5wcm90b3R5cGUudmFsaWRhdGVzID0gZnVuY3Rpb24gKHBhcmFtcykge1xuICAgICAgICB2YXIgdmFsaWRQYXJhbVZhbCA9IGZ1bmN0aW9uIChwYXJhbSwgdmFsJCQxKSB7XG4gICAgICAgICAgICByZXR1cm4gIXBhcmFtIHx8IHBhcmFtLnZhbGlkYXRlcyh2YWwkJDEpO1xuICAgICAgICB9O1xuICAgICAgICBwYXJhbXMgPSBwYXJhbXMgfHwge307XG4gICAgICAgIC8vIEknbSBub3Qgc3VyZSB3aHkgdGhpcyBjaGVja3Mgb25seSB0aGUgcGFyYW0ga2V5cyBwYXNzZWQgaW4sIGFuZCBub3QgYWxsIHRoZSBwYXJhbXMga25vd24gdG8gdGhlIG1hdGNoZXJcbiAgICAgICAgdmFyIHBhcmFtU2NoZW1hID0gdGhpcy5wYXJhbWV0ZXJzKCkuZmlsdGVyKGZ1bmN0aW9uIChwYXJhbURlZikgeyByZXR1cm4gcGFyYW1zLmhhc093blByb3BlcnR5KHBhcmFtRGVmLmlkKTsgfSk7XG4gICAgICAgIHJldHVybiBwYXJhbVNjaGVtYS5tYXAoZnVuY3Rpb24gKHBhcmFtRGVmKSB7IHJldHVybiB2YWxpZFBhcmFtVmFsKHBhcmFtRGVmLCBwYXJhbXNbcGFyYW1EZWYuaWRdKTsgfSkucmVkdWNlKGFsbFRydWVSLCB0cnVlKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEdpdmVuIGEgc2V0IG9mIHBhcmFtZXRlciB2YWx1ZXMsIGNyZWF0ZXMgYSBVUkwgZnJvbSB0aGlzIFVybE1hdGNoZXIuXG4gICAgICpcbiAgICAgKiBDcmVhdGVzIGEgVVJMIHRoYXQgbWF0Y2hlcyB0aGlzIHBhdHRlcm4gYnkgc3Vic3RpdHV0aW5nIHRoZSBzcGVjaWZpZWQgdmFsdWVzXG4gICAgICogZm9yIHRoZSBwYXRoIGFuZCBzZWFyY2ggcGFyYW1ldGVycy5cbiAgICAgKlxuICAgICAqICMjIyMgRXhhbXBsZTpcbiAgICAgKiBgYGBqc1xuICAgICAqIG5ldyBVcmxNYXRjaGVyKCcvdXNlci97aWR9P3EnKS5mb3JtYXQoeyBpZDonYm9iJywgcToneWVzJyB9KTtcbiAgICAgKiAvLyByZXR1cm5zICcvdXNlci9ib2I/cT15ZXMnXG4gICAgICogYGBgXG4gICAgICpcbiAgICAgKiBAcGFyYW0gdmFsdWVzICB0aGUgdmFsdWVzIHRvIHN1YnN0aXR1dGUgZm9yIHRoZSBwYXJhbWV0ZXJzIGluIHRoaXMgcGF0dGVybi5cbiAgICAgKiBAcmV0dXJucyB0aGUgZm9ybWF0dGVkIFVSTCAocGF0aCBhbmQgb3B0aW9uYWxseSBzZWFyY2ggcGFydCkuXG4gICAgICovXG4gICAgVXJsTWF0Y2hlci5wcm90b3R5cGUuZm9ybWF0ID0gZnVuY3Rpb24gKHZhbHVlcyQkMSkge1xuICAgICAgICBpZiAodmFsdWVzJCQxID09PSB2b2lkIDApIHsgdmFsdWVzJCQxID0ge307IH1cbiAgICAgICAgLy8gQnVpbGQgdGhlIGZ1bGwgcGF0aCBvZiBVcmxNYXRjaGVycyAoaW5jbHVkaW5nIGFsbCBwYXJlbnQgVXJsTWF0Y2hlcnMpXG4gICAgICAgIHZhciB1cmxNYXRjaGVycyA9IHRoaXMuX2NhY2hlLnBhdGg7XG4gICAgICAgIC8vIEV4dHJhY3QgYWxsIHRoZSBzdGF0aWMgc2VnbWVudHMgYW5kIFBhcmFtcyAocHJvY2Vzc2VkIGFzIFBhcmFtRGV0YWlscylcbiAgICAgICAgLy8gaW50byBhbiBvcmRlcmVkIGFycmF5XG4gICAgICAgIHZhciBwYXRoU2VnbWVudHNBbmRQYXJhbXMgPSB1cmxNYXRjaGVycy5tYXAoVXJsTWF0Y2hlci5wYXRoU2VnbWVudHNBbmRQYXJhbXMpXG4gICAgICAgICAgICAucmVkdWNlKHVubmVzdFIsIFtdKVxuICAgICAgICAgICAgLm1hcChmdW5jdGlvbiAoeCkgeyByZXR1cm4gaXNTdHJpbmcoeCkgPyB4IDogZ2V0RGV0YWlscyh4KTsgfSk7XG4gICAgICAgIC8vIEV4dHJhY3QgdGhlIHF1ZXJ5IHBhcmFtcyBpbnRvIGEgc2VwYXJhdGUgYXJyYXlcbiAgICAgICAgdmFyIHF1ZXJ5UGFyYW1zID0gdXJsTWF0Y2hlcnMubWFwKFVybE1hdGNoZXIucXVlcnlQYXJhbXMpXG4gICAgICAgICAgICAucmVkdWNlKHVubmVzdFIsIFtdKVxuICAgICAgICAgICAgLm1hcChnZXREZXRhaWxzKTtcbiAgICAgICAgdmFyIGlzSW52YWxpZCA9IGZ1bmN0aW9uIChwYXJhbSkgeyByZXR1cm4gcGFyYW0uaXNWYWxpZCA9PT0gZmFsc2U7IH07XG4gICAgICAgIGlmIChwYXRoU2VnbWVudHNBbmRQYXJhbXMuY29uY2F0KHF1ZXJ5UGFyYW1zKS5maWx0ZXIoaXNJbnZhbGlkKS5sZW5ndGgpIHtcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICB9XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBHaXZlbiBhIFBhcmFtLCBhcHBsaWVzIHRoZSBwYXJhbWV0ZXIgdmFsdWUsIHRoZW4gcmV0dXJucyBkZXRhaWxlZCBpbmZvcm1hdGlvbiBhYm91dCBpdFxuICAgICAgICAgKi9cbiAgICAgICAgZnVuY3Rpb24gZ2V0RGV0YWlscyhwYXJhbSkge1xuICAgICAgICAgICAgLy8gTm9ybWFsaXplIHRvIHR5cGVkIHZhbHVlXG4gICAgICAgICAgICB2YXIgdmFsdWUgPSBwYXJhbS52YWx1ZSh2YWx1ZXMkJDFbcGFyYW0uaWRdKTtcbiAgICAgICAgICAgIHZhciBpc1ZhbGlkID0gcGFyYW0udmFsaWRhdGVzKHZhbHVlKTtcbiAgICAgICAgICAgIHZhciBpc0RlZmF1bHRWYWx1ZSA9IHBhcmFtLmlzRGVmYXVsdFZhbHVlKHZhbHVlKTtcbiAgICAgICAgICAgIC8vIENoZWNrIGlmIHdlJ3JlIGluIHNxdWFzaCBtb2RlIGZvciB0aGUgcGFyYW1ldGVyXG4gICAgICAgICAgICB2YXIgc3F1YXNoID0gaXNEZWZhdWx0VmFsdWUgPyBwYXJhbS5zcXVhc2ggOiBmYWxzZTtcbiAgICAgICAgICAgIC8vIEFsbG93IHRoZSBQYXJhbWV0ZXIncyBUeXBlIHRvIGVuY29kZSB0aGUgdmFsdWVcbiAgICAgICAgICAgIHZhciBlbmNvZGVkID0gcGFyYW0udHlwZS5lbmNvZGUodmFsdWUpO1xuICAgICAgICAgICAgcmV0dXJuIHsgcGFyYW06IHBhcmFtLCB2YWx1ZTogdmFsdWUsIGlzVmFsaWQ6IGlzVmFsaWQsIGlzRGVmYXVsdFZhbHVlOiBpc0RlZmF1bHRWYWx1ZSwgc3F1YXNoOiBzcXVhc2gsIGVuY29kZWQ6IGVuY29kZWQgfTtcbiAgICAgICAgfVxuICAgICAgICAvLyBCdWlsZCB1cCB0aGUgcGF0aC1wb3J0aW9uIGZyb20gdGhlIGxpc3Qgb2Ygc3RhdGljIHNlZ21lbnRzIGFuZCBwYXJhbWV0ZXJzXG4gICAgICAgIHZhciBwYXRoU3RyaW5nID0gcGF0aFNlZ21lbnRzQW5kUGFyYW1zLnJlZHVjZShmdW5jdGlvbiAoYWNjLCB4KSB7XG4gICAgICAgICAgICAvLyBUaGUgZWxlbWVudCBpcyBhIHN0YXRpYyBzZWdtZW50IChhIHJhdyBzdHJpbmcpOyBqdXN0IGFwcGVuZCBpdFxuICAgICAgICAgICAgaWYgKGlzU3RyaW5nKHgpKVxuICAgICAgICAgICAgICAgIHJldHVybiBhY2MgKyB4O1xuICAgICAgICAgICAgLy8gT3RoZXJ3aXNlLCBpdCdzIGEgUGFyYW1EZXRhaWxzLlxuICAgICAgICAgICAgdmFyIHNxdWFzaCA9IHguc3F1YXNoLCBlbmNvZGVkID0geC5lbmNvZGVkLCBwYXJhbSA9IHgucGFyYW07XG4gICAgICAgICAgICAvLyBJZiBzcXVhc2ggaXMgPT09IHRydWUsIHRyeSB0byByZW1vdmUgYSBzbGFzaCBmcm9tIHRoZSBwYXRoXG4gICAgICAgICAgICBpZiAoc3F1YXNoID09PSB0cnVlKVxuICAgICAgICAgICAgICAgIHJldHVybiAoYWNjLm1hdGNoKC9cXC8kLykpID8gYWNjLnNsaWNlKDAsIC0xKSA6IGFjYztcbiAgICAgICAgICAgIC8vIElmIHNxdWFzaCBpcyBhIHN0cmluZywgdXNlIHRoZSBzdHJpbmcgZm9yIHRoZSBwYXJhbSB2YWx1ZVxuICAgICAgICAgICAgaWYgKGlzU3RyaW5nKHNxdWFzaCkpXG4gICAgICAgICAgICAgICAgcmV0dXJuIGFjYyArIHNxdWFzaDtcbiAgICAgICAgICAgIGlmIChzcXVhc2ggIT09IGZhbHNlKVxuICAgICAgICAgICAgICAgIHJldHVybiBhY2M7IC8vID9cbiAgICAgICAgICAgIGlmIChlbmNvZGVkID09IG51bGwpXG4gICAgICAgICAgICAgICAgcmV0dXJuIGFjYztcbiAgICAgICAgICAgIC8vIElmIHRoaXMgcGFyYW1ldGVyIHZhbHVlIGlzIGFuIGFycmF5LCBlbmNvZGUgdGhlIHZhbHVlIHVzaW5nIGVuY29kZURhc2hlc1xuICAgICAgICAgICAgaWYgKGlzQXJyYXkoZW5jb2RlZCkpXG4gICAgICAgICAgICAgICAgcmV0dXJuIGFjYyArIG1hcChlbmNvZGVkLCBVcmxNYXRjaGVyLmVuY29kZURhc2hlcykuam9pbihcIi1cIik7XG4gICAgICAgICAgICAvLyBJZiB0aGUgcGFyYW1ldGVyIHR5cGUgaXMgXCJyYXdcIiwgdGhlbiBkbyBub3QgZW5jb2RlVVJJQ29tcG9uZW50XG4gICAgICAgICAgICBpZiAocGFyYW0ucmF3KVxuICAgICAgICAgICAgICAgIHJldHVybiBhY2MgKyBlbmNvZGVkO1xuICAgICAgICAgICAgLy8gRW5jb2RlIHRoZSB2YWx1ZVxuICAgICAgICAgICAgcmV0dXJuIGFjYyArIGVuY29kZVVSSUNvbXBvbmVudChlbmNvZGVkKTtcbiAgICAgICAgfSwgXCJcIik7XG4gICAgICAgIC8vIEJ1aWxkIHRoZSBxdWVyeSBzdHJpbmcgYnkgYXBwbHlpbmcgcGFyYW1ldGVyIHZhbHVlcyAoYXJyYXkgb3IgcmVndWxhcilcbiAgICAgICAgLy8gdGhlbiBtYXBwaW5nIHRvIGtleT12YWx1ZSwgdGhlbiBmbGF0dGVuaW5nIGFuZCBqb2luaW5nIHVzaW5nIFwiJlwiXG4gICAgICAgIHZhciBxdWVyeVN0cmluZyA9IHF1ZXJ5UGFyYW1zLm1hcChmdW5jdGlvbiAocGFyYW1EZXRhaWxzKSB7XG4gICAgICAgICAgICB2YXIgcGFyYW0gPSBwYXJhbURldGFpbHMucGFyYW0sIHNxdWFzaCA9IHBhcmFtRGV0YWlscy5zcXVhc2gsIGVuY29kZWQgPSBwYXJhbURldGFpbHMuZW5jb2RlZCwgaXNEZWZhdWx0VmFsdWUgPSBwYXJhbURldGFpbHMuaXNEZWZhdWx0VmFsdWU7XG4gICAgICAgICAgICBpZiAoZW5jb2RlZCA9PSBudWxsIHx8IChpc0RlZmF1bHRWYWx1ZSAmJiBzcXVhc2ggIT09IGZhbHNlKSlcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICBpZiAoIWlzQXJyYXkoZW5jb2RlZCkpXG4gICAgICAgICAgICAgICAgZW5jb2RlZCA9IFtlbmNvZGVkXTtcbiAgICAgICAgICAgIGlmIChlbmNvZGVkLmxlbmd0aCA9PT0gMClcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICBpZiAoIXBhcmFtLnJhdylcbiAgICAgICAgICAgICAgICBlbmNvZGVkID0gbWFwKGVuY29kZWQsIGVuY29kZVVSSUNvbXBvbmVudCk7XG4gICAgICAgICAgICByZXR1cm4gZW5jb2RlZC5tYXAoZnVuY3Rpb24gKHZhbCQkMSkgeyByZXR1cm4gcGFyYW0uaWQgKyBcIj1cIiArIHZhbCQkMTsgfSk7XG4gICAgICAgIH0pLmZpbHRlcihpZGVudGl0eSkucmVkdWNlKHVubmVzdFIsIFtdKS5qb2luKFwiJlwiKTtcbiAgICAgICAgLy8gQ29uY2F0IHRoZSBwYXRoc3RyaW5nIHdpdGggdGhlIHF1ZXJ5U3RyaW5nIChpZiBleGlzdHMpIGFuZCB0aGUgaGFzaFN0cmluZyAoaWYgZXhpc3RzKVxuICAgICAgICByZXR1cm4gcGF0aFN0cmluZyArIChxdWVyeVN0cmluZyA/IFwiP1wiICsgcXVlcnlTdHJpbmcgOiBcIlwiKSArICh2YWx1ZXMkJDFbXCIjXCJdID8gXCIjXCIgKyB2YWx1ZXMkJDFbXCIjXCJdIDogXCJcIik7XG4gICAgfTtcbiAgICAvKiogQGhpZGRlbiAqL1xuICAgIFVybE1hdGNoZXIuZW5jb2RlRGFzaGVzID0gZnVuY3Rpb24gKHN0cikge1xuICAgICAgICByZXR1cm4gZW5jb2RlVVJJQ29tcG9uZW50KHN0cikucmVwbGFjZSgvLS9nLCBmdW5jdGlvbiAoYykgeyByZXR1cm4gXCIlNUMlXCIgKyBjLmNoYXJDb2RlQXQoMCkudG9TdHJpbmcoMTYpLnRvVXBwZXJDYXNlKCk7IH0pO1xuICAgIH07XG4gICAgLyoqIEBoaWRkZW4gR2l2ZW4gYSBtYXRjaGVyLCByZXR1cm4gYW4gYXJyYXkgd2l0aCB0aGUgbWF0Y2hlcidzIHBhdGggc2VnbWVudHMgYW5kIHBhdGggcGFyYW1zLCBpbiBvcmRlciAqL1xuICAgIFVybE1hdGNoZXIucGF0aFNlZ21lbnRzQW5kUGFyYW1zID0gZnVuY3Rpb24gKG1hdGNoZXIpIHtcbiAgICAgICAgdmFyIHN0YXRpY1NlZ21lbnRzID0gbWF0Y2hlci5fc2VnbWVudHM7XG4gICAgICAgIHZhciBwYXRoUGFyYW1zID0gbWF0Y2hlci5fcGFyYW1zLmZpbHRlcihmdW5jdGlvbiAocCkgeyByZXR1cm4gcC5sb2NhdGlvbiA9PT0gZXhwb3J0cy5EZWZUeXBlLlBBVEg7IH0pO1xuICAgICAgICByZXR1cm4gYXJyYXlUdXBsZXMoc3RhdGljU2VnbWVudHMsIHBhdGhQYXJhbXMuY29uY2F0KHVuZGVmaW5lZCkpXG4gICAgICAgICAgICAucmVkdWNlKHVubmVzdFIsIFtdKVxuICAgICAgICAgICAgLmZpbHRlcihmdW5jdGlvbiAoeCkgeyByZXR1cm4geCAhPT0gXCJcIiAmJiBpc0RlZmluZWQoeCk7IH0pO1xuICAgIH07XG4gICAgLyoqIEBoaWRkZW4gR2l2ZW4gYSBtYXRjaGVyLCByZXR1cm4gYW4gYXJyYXkgd2l0aCB0aGUgbWF0Y2hlcidzIHF1ZXJ5IHBhcmFtcyAqL1xuICAgIFVybE1hdGNoZXIucXVlcnlQYXJhbXMgPSBmdW5jdGlvbiAobWF0Y2hlcikge1xuICAgICAgICByZXR1cm4gbWF0Y2hlci5fcGFyYW1zLmZpbHRlcihmdW5jdGlvbiAocCkgeyByZXR1cm4gcC5sb2NhdGlvbiA9PT0gZXhwb3J0cy5EZWZUeXBlLlNFQVJDSDsgfSk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBDb21wYXJlIHR3byBVcmxNYXRjaGVyc1xuICAgICAqXG4gICAgICogVGhpcyBjb21wYXJpc29uIGZ1bmN0aW9uIGNvbnZlcnRzIGEgVXJsTWF0Y2hlciBpbnRvIHN0YXRpYyBhbmQgZHluYW1pYyBwYXRoIHNlZ21lbnRzLlxuICAgICAqIEVhY2ggc3RhdGljIHBhdGggc2VnbWVudCBpcyBhIHN0YXRpYyBzdHJpbmcgYmV0d2VlbiBhIHBhdGggc2VwYXJhdG9yIChzbGFzaCBjaGFyYWN0ZXIpLlxuICAgICAqIEVhY2ggZHluYW1pYyBzZWdtZW50IGlzIGEgcGF0aCBwYXJhbWV0ZXIuXG4gICAgICpcbiAgICAgKiBUaGUgY29tcGFyaXNvbiBmdW5jdGlvbiBzb3J0cyBzdGF0aWMgc2VnbWVudHMgYmVmb3JlIGR5bmFtaWMgb25lcy5cbiAgICAgKi9cbiAgICBVcmxNYXRjaGVyLmNvbXBhcmUgPSBmdW5jdGlvbiAoYSwgYikge1xuICAgICAgICAvKipcbiAgICAgICAgICogVHVybiBhIFVybE1hdGNoZXIgYW5kIGFsbCBpdHMgcGFyZW50IG1hdGNoZXJzIGludG8gYW4gYXJyYXlcbiAgICAgICAgICogb2Ygc2xhc2ggbGl0ZXJhbHMgJy8nLCBzdHJpbmcgbGl0ZXJhbHMsIGFuZCBQYXJhbSBvYmplY3RzXG4gICAgICAgICAqXG4gICAgICAgICAqIFRoaXMgZXhhbXBsZSBtYXRjaGVyIG1hdGNoZXMgc3RyaW5ncyBsaWtlIFwiL2Zvby86cGFyYW0vdGFpbFwiOlxuICAgICAgICAgKiB2YXIgbWF0Y2hlciA9ICR1bWYuY29tcGlsZShcIi9mb29cIikuYXBwZW5kKCR1bWYuY29tcGlsZShcIi86cGFyYW1cIikpLmFwcGVuZCgkdW1mLmNvbXBpbGUoXCIvXCIpKS5hcHBlbmQoJHVtZi5jb21waWxlKFwidGFpbFwiKSk7XG4gICAgICAgICAqIHZhciByZXN1bHQgPSBzZWdtZW50cyhtYXRjaGVyKTsgLy8gWyAnLycsICdmb28nLCAnLycsIFBhcmFtLCAnLycsICd0YWlsJyBdXG4gICAgICAgICAqXG4gICAgICAgICAqIENhY2hlcyB0aGUgcmVzdWx0IGFzIGBtYXRjaGVyLl9jYWNoZS5zZWdtZW50c2BcbiAgICAgICAgICovXG4gICAgICAgIHZhciBzZWdtZW50cyA9IGZ1bmN0aW9uIChtYXRjaGVyKSB7XG4gICAgICAgICAgICByZXR1cm4gbWF0Y2hlci5fY2FjaGUuc2VnbWVudHMgPSBtYXRjaGVyLl9jYWNoZS5zZWdtZW50cyB8fFxuICAgICAgICAgICAgICAgIG1hdGNoZXIuX2NhY2hlLnBhdGgubWFwKFVybE1hdGNoZXIucGF0aFNlZ21lbnRzQW5kUGFyYW1zKVxuICAgICAgICAgICAgICAgICAgICAucmVkdWNlKHVubmVzdFIsIFtdKVxuICAgICAgICAgICAgICAgICAgICAucmVkdWNlKGpvaW5OZWlnaGJvcnNSLCBbXSlcbiAgICAgICAgICAgICAgICAgICAgLm1hcChmdW5jdGlvbiAoeCkgeyByZXR1cm4gaXNTdHJpbmcoeCkgPyBzcGxpdE9uU2xhc2goeCkgOiB4OyB9KVxuICAgICAgICAgICAgICAgICAgICAucmVkdWNlKHVubmVzdFIsIFtdKTtcbiAgICAgICAgfTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEdldHMgdGhlIHNvcnQgd2VpZ2h0IGZvciBlYWNoIHNlZ21lbnQgb2YgYSBVcmxNYXRjaGVyXG4gICAgICAgICAqXG4gICAgICAgICAqIENhY2hlcyB0aGUgcmVzdWx0IGFzIGBtYXRjaGVyLl9jYWNoZS53ZWlnaHRzYFxuICAgICAgICAgKi9cbiAgICAgICAgdmFyIHdlaWdodHMgPSBmdW5jdGlvbiAobWF0Y2hlcikge1xuICAgICAgICAgICAgcmV0dXJuIG1hdGNoZXIuX2NhY2hlLndlaWdodHMgPSBtYXRjaGVyLl9jYWNoZS53ZWlnaHRzIHx8XG4gICAgICAgICAgICAgICAgc2VnbWVudHMobWF0Y2hlcikubWFwKGZ1bmN0aW9uIChzZWdtZW50KSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIFNvcnQgc2xhc2hlcyBmaXJzdCwgdGhlbiBzdGF0aWMgc3RyaW5ncywgdGhlIFBhcmFtc1xuICAgICAgICAgICAgICAgICAgICBpZiAoc2VnbWVudCA9PT0gJy8nKVxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIDE7XG4gICAgICAgICAgICAgICAgICAgIGlmIChpc1N0cmluZyhzZWdtZW50KSlcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAyO1xuICAgICAgICAgICAgICAgICAgICBpZiAoc2VnbWVudCBpbnN0YW5jZW9mIFBhcmFtKVxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIDM7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgIH07XG4gICAgICAgIHZhciBjbXAsIGksIHBhaXJzJCQxID0gYXJyYXlUdXBsZXMod2VpZ2h0cyhhKSwgd2VpZ2h0cyhiKSk7XG4gICAgICAgIGZvciAoaSA9IDA7IGkgPCBwYWlycyQkMS5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgY21wID0gcGFpcnMkJDFbaV1bMF0gLSBwYWlycyQkMVtpXVsxXTtcbiAgICAgICAgICAgIGlmIChjbXAgIT09IDApXG4gICAgICAgICAgICAgICAgcmV0dXJuIGNtcDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gMDtcbiAgICB9O1xuICAgIHJldHVybiBVcmxNYXRjaGVyO1xufSgpKTtcbi8qKiBAaGlkZGVuICovXG5VcmxNYXRjaGVyLm5hbWVWYWxpZGF0b3IgPSAvXlxcdysoWy0uXStcXHcrKSooPzpcXFtcXF0pPyQvO1xuXG4vKipcbiAqIEBpbnRlcm5hbGFwaVxuICogQG1vZHVsZSB1cmxcbiAqLyAvKiogZm9yIHR5cGVkb2MgKi9cbi8qKlxuICogRmFjdG9yeSBmb3IgW1tVcmxNYXRjaGVyXV0gaW5zdGFuY2VzLlxuICpcbiAqIFRoZSBmYWN0b3J5IGlzIGF2YWlsYWJsZSB0byBuZzEgc2VydmljZXMgYXNcbiAqIGAkdXJsTWF0Y2hlckZhY3RvcmAgb3IgbmcxIHByb3ZpZGVycyBhcyBgJHVybE1hdGNoZXJGYWN0b3J5UHJvdmlkZXJgLlxuICovXG52YXIgVXJsTWF0Y2hlckZhY3RvcnkgPSAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIFVybE1hdGNoZXJGYWN0b3J5KCkge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICAvKiogQGhpZGRlbiAqLyB0aGlzLnBhcmFtVHlwZXMgPSBuZXcgUGFyYW1UeXBlcygpO1xuICAgICAgICAvKiogQGhpZGRlbiAqLyB0aGlzLl9pc0Nhc2VJbnNlbnNpdGl2ZSA9IGZhbHNlO1xuICAgICAgICAvKiogQGhpZGRlbiAqLyB0aGlzLl9pc1N0cmljdE1vZGUgPSB0cnVlO1xuICAgICAgICAvKiogQGhpZGRlbiAqLyB0aGlzLl9kZWZhdWx0U3F1YXNoUG9saWN5ID0gZmFsc2U7XG4gICAgICAgIC8qKiBAaGlkZGVuICovXG4gICAgICAgIHRoaXMuX2dldENvbmZpZyA9IGZ1bmN0aW9uIChjb25maWcpIHtcbiAgICAgICAgICAgIHJldHVybiBleHRlbmQoeyBzdHJpY3Q6IF90aGlzLl9pc1N0cmljdE1vZGUsIGNhc2VJbnNlbnNpdGl2ZTogX3RoaXMuX2lzQ2FzZUluc2Vuc2l0aXZlIH0sIGNvbmZpZyk7XG4gICAgICAgIH07XG4gICAgICAgIC8qKiBAaW50ZXJuYWxhcGkgQ3JlYXRlcyBhIG5ldyBbW1BhcmFtXV0gZm9yIGEgZ2l2ZW4gbG9jYXRpb24gKERlZlR5cGUpICovXG4gICAgICAgIHRoaXMucGFyYW1GYWN0b3J5ID0ge1xuICAgICAgICAgICAgLyoqIENyZWF0ZXMgYSBuZXcgW1tQYXJhbV1dIGZyb20gYSBDT05GSUcgYmxvY2sgKi9cbiAgICAgICAgICAgIGZyb21Db25maWc6IGZ1bmN0aW9uIChpZCwgdHlwZSwgY29uZmlnKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG5ldyBQYXJhbShpZCwgdHlwZSwgY29uZmlnLCBleHBvcnRzLkRlZlR5cGUuQ09ORklHLCBfdGhpcyk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgLyoqIENyZWF0ZXMgYSBuZXcgW1tQYXJhbV1dIGZyb20gYSB1cmwgUEFUSCAqL1xuICAgICAgICAgICAgZnJvbVBhdGg6IGZ1bmN0aW9uIChpZCwgdHlwZSwgY29uZmlnKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG5ldyBQYXJhbShpZCwgdHlwZSwgY29uZmlnLCBleHBvcnRzLkRlZlR5cGUuUEFUSCwgX3RoaXMpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIC8qKiBDcmVhdGVzIGEgbmV3IFtbUGFyYW1dXSBmcm9tIGEgdXJsIFNFQVJDSCAqL1xuICAgICAgICAgICAgZnJvbVNlYXJjaDogZnVuY3Rpb24gKGlkLCB0eXBlLCBjb25maWcpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gbmV3IFBhcmFtKGlkLCB0eXBlLCBjb25maWcsIGV4cG9ydHMuRGVmVHlwZS5TRUFSQ0gsIF90aGlzKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgIH07XG4gICAgICAgIGV4dGVuZCh0aGlzLCB7IFVybE1hdGNoZXI6IFVybE1hdGNoZXIsIFBhcmFtOiBQYXJhbSB9KTtcbiAgICB9XG4gICAgLyoqIEBpbmhlcml0ZG9jICovXG4gICAgVXJsTWF0Y2hlckZhY3RvcnkucHJvdG90eXBlLmNhc2VJbnNlbnNpdGl2ZSA9IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICByZXR1cm4gdGhpcy5faXNDYXNlSW5zZW5zaXRpdmUgPSBpc0RlZmluZWQodmFsdWUpID8gdmFsdWUgOiB0aGlzLl9pc0Nhc2VJbnNlbnNpdGl2ZTtcbiAgICB9O1xuICAgIC8qKiBAaW5oZXJpdGRvYyAqL1xuICAgIFVybE1hdGNoZXJGYWN0b3J5LnByb3RvdHlwZS5zdHJpY3RNb2RlID0gZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9pc1N0cmljdE1vZGUgPSBpc0RlZmluZWQodmFsdWUpID8gdmFsdWUgOiB0aGlzLl9pc1N0cmljdE1vZGU7XG4gICAgfTtcbiAgICAvKiogQGluaGVyaXRkb2MgKi9cbiAgICBVcmxNYXRjaGVyRmFjdG9yeS5wcm90b3R5cGUuZGVmYXVsdFNxdWFzaFBvbGljeSA9IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICBpZiAoaXNEZWZpbmVkKHZhbHVlKSAmJiB2YWx1ZSAhPT0gdHJ1ZSAmJiB2YWx1ZSAhPT0gZmFsc2UgJiYgIWlzU3RyaW5nKHZhbHVlKSlcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIkludmFsaWQgc3F1YXNoIHBvbGljeTogXCIgKyB2YWx1ZSArIFwiLiBWYWxpZCBwb2xpY2llczogZmFsc2UsIHRydWUsIGFyYml0cmFyeS1zdHJpbmdcIik7XG4gICAgICAgIHJldHVybiB0aGlzLl9kZWZhdWx0U3F1YXNoUG9saWN5ID0gaXNEZWZpbmVkKHZhbHVlKSA/IHZhbHVlIDogdGhpcy5fZGVmYXVsdFNxdWFzaFBvbGljeTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBbW1VybE1hdGNoZXJdXSBmb3IgdGhlIHNwZWNpZmllZCBwYXR0ZXJuLlxuICAgICAqXG4gICAgICogQHBhcmFtIHBhdHRlcm4gIFRoZSBVUkwgcGF0dGVybi5cbiAgICAgKiBAcGFyYW0gY29uZmlnICBUaGUgY29uZmlnIG9iamVjdCBoYXNoLlxuICAgICAqIEByZXR1cm5zIFRoZSBVcmxNYXRjaGVyLlxuICAgICAqL1xuICAgIFVybE1hdGNoZXJGYWN0b3J5LnByb3RvdHlwZS5jb21waWxlID0gZnVuY3Rpb24gKHBhdHRlcm4sIGNvbmZpZykge1xuICAgICAgICByZXR1cm4gbmV3IFVybE1hdGNoZXIocGF0dGVybiwgdGhpcy5wYXJhbVR5cGVzLCB0aGlzLnBhcmFtRmFjdG9yeSwgdGhpcy5fZ2V0Q29uZmlnKGNvbmZpZykpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogUmV0dXJucyB0cnVlIGlmIHRoZSBzcGVjaWZpZWQgb2JqZWN0IGlzIGEgW1tVcmxNYXRjaGVyXV0sIG9yIGZhbHNlIG90aGVyd2lzZS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBvYmplY3QgIFRoZSBvYmplY3QgdG8gcGVyZm9ybSB0aGUgdHlwZSBjaGVjayBhZ2FpbnN0LlxuICAgICAqIEByZXR1cm5zIGB0cnVlYCBpZiB0aGUgb2JqZWN0IG1hdGNoZXMgdGhlIGBVcmxNYXRjaGVyYCBpbnRlcmZhY2UsIGJ5XG4gICAgICogICAgICAgICAgaW1wbGVtZW50aW5nIGFsbCB0aGUgc2FtZSBtZXRob2RzLlxuICAgICAqL1xuICAgIFVybE1hdGNoZXJGYWN0b3J5LnByb3RvdHlwZS5pc01hdGNoZXIgPSBmdW5jdGlvbiAob2JqZWN0KSB7XG4gICAgICAgIC8vIFRPRE86IHR5cGVvZj9cbiAgICAgICAgaWYgKCFpc09iamVjdChvYmplY3QpKVxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB2YXIgcmVzdWx0ID0gdHJ1ZTtcbiAgICAgICAgZm9yRWFjaChVcmxNYXRjaGVyLnByb3RvdHlwZSwgZnVuY3Rpb24gKHZhbCwgbmFtZSkge1xuICAgICAgICAgICAgaWYgKGlzRnVuY3Rpb24odmFsKSlcbiAgICAgICAgICAgICAgICByZXN1bHQgPSByZXN1bHQgJiYgKGlzRGVmaW5lZChvYmplY3RbbmFtZV0pICYmIGlzRnVuY3Rpb24ob2JqZWN0W25hbWVdKSk7XG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH07XG4gICAgXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhbmQgcmVnaXN0ZXJzIGEgY3VzdG9tIFtbUGFyYW1UeXBlXV0gb2JqZWN0XG4gICAgICpcbiAgICAgKiBBIFtbUGFyYW1UeXBlXV0gY2FuIGJlIHVzZWQgdG8gZ2VuZXJhdGUgVVJMcyB3aXRoIHR5cGVkIHBhcmFtZXRlcnMuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gbmFtZSAgVGhlIHR5cGUgbmFtZS5cbiAgICAgKiBAcGFyYW0gZGVmaW5pdGlvbiBUaGUgdHlwZSBkZWZpbml0aW9uLiBTZWUgW1tQYXJhbVR5cGVEZWZpbml0aW9uXV0gZm9yIGluZm9ybWF0aW9uIG9uIHRoZSB2YWx1ZXMgYWNjZXB0ZWQuXG4gICAgICogQHBhcmFtIGRlZmluaXRpb25GbiBBIGZ1bmN0aW9uIHRoYXQgaXMgaW5qZWN0ZWQgYmVmb3JlIHRoZSBhcHAgcnVudGltZSBzdGFydHMuXG4gICAgICogICAgICAgIFRoZSByZXN1bHQgb2YgdGhpcyBmdW5jdGlvbiBzaG91bGQgYmUgYSBbW1BhcmFtVHlwZURlZmluaXRpb25dXS5cbiAgICAgKiAgICAgICAgVGhlIHJlc3VsdCBpcyBtZXJnZWQgaW50byB0aGUgZXhpc3RpbmcgYGRlZmluaXRpb25gLlxuICAgICAqICAgICAgICBTZWUgW1tQYXJhbVR5cGVdXSBmb3IgaW5mb3JtYXRpb24gb24gdGhlIHZhbHVlcyBhY2NlcHRlZC5cbiAgICAgKlxuICAgICAqIEByZXR1cm5zIC0gaWYgYSB0eXBlIHdhcyByZWdpc3RlcmVkOiB0aGUgW1tVcmxNYXRjaGVyRmFjdG9yeV1dXG4gICAgICogICAtIGlmIG9ubHkgdGhlIGBuYW1lYCBwYXJhbWV0ZXIgd2FzIHNwZWNpZmllZDogdGhlIGN1cnJlbnRseSByZWdpc3RlcmVkIFtbUGFyYW1UeXBlXV0gb2JqZWN0LCBvciB1bmRlZmluZWRcbiAgICAgKlxuICAgICAqIE5vdGU6IFJlZ2lzdGVyIGN1c3RvbSB0eXBlcyAqYmVmb3JlIHVzaW5nIHRoZW0qIGluIGEgc3RhdGUgZGVmaW5pdGlvbi5cbiAgICAgKlxuICAgICAqIFNlZSBbW1BhcmFtVHlwZURlZmluaXRpb25dXSBmb3IgZXhhbXBsZXNcbiAgICAgKi9cbiAgICBVcmxNYXRjaGVyRmFjdG9yeS5wcm90b3R5cGUudHlwZSA9IGZ1bmN0aW9uIChuYW1lLCBkZWZpbml0aW9uLCBkZWZpbml0aW9uRm4pIHtcbiAgICAgICAgdmFyIHR5cGUgPSB0aGlzLnBhcmFtVHlwZXMudHlwZShuYW1lLCBkZWZpbml0aW9uLCBkZWZpbml0aW9uRm4pO1xuICAgICAgICByZXR1cm4gIWlzRGVmaW5lZChkZWZpbml0aW9uKSA/IHR5cGUgOiB0aGlzO1xuICAgIH07XG4gICAgXG4gICAgLyoqIEBoaWRkZW4gKi9cbiAgICBVcmxNYXRjaGVyRmFjdG9yeS5wcm90b3R5cGUuJGdldCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5wYXJhbVR5cGVzLmVucXVldWUgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5wYXJhbVR5cGVzLl9mbHVzaFR5cGVRdWV1ZSgpO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuICAgIFxuICAgIC8qKiBAaW50ZXJuYWxhcGkgKi9cbiAgICBVcmxNYXRjaGVyRmFjdG9yeS5wcm90b3R5cGUuZGlzcG9zZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5wYXJhbVR5cGVzLmRpc3Bvc2UoKTtcbiAgICB9O1xuICAgIHJldHVybiBVcmxNYXRjaGVyRmFjdG9yeTtcbn0oKSk7XG5cbi8qKlxuICogQGNvcmVhcGlcbiAqIEBtb2R1bGUgdXJsXG4gKi8gLyoqICovXG4vKipcbiAqIENyZWF0ZXMgYSBbW1VybFJ1bGVdXVxuICpcbiAqIENyZWF0ZXMgYSBbW1VybFJ1bGVdXSBmcm9tIGE6XG4gKlxuICogLSBgc3RyaW5nYFxuICogLSBbW1VybE1hdGNoZXJdXVxuICogLSBgUmVnRXhwYFxuICogLSBbW1N0YXRlT2JqZWN0XV1cbiAqIEBpbnRlcm5hbGFwaVxuICovXG52YXIgVXJsUnVsZUZhY3RvcnkgPSAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIFVybFJ1bGVGYWN0b3J5KHJvdXRlcikge1xuICAgICAgICB0aGlzLnJvdXRlciA9IHJvdXRlcjtcbiAgICB9XG4gICAgVXJsUnVsZUZhY3RvcnkucHJvdG90eXBlLmNvbXBpbGUgPSBmdW5jdGlvbiAoc3RyKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnJvdXRlci51cmxNYXRjaGVyRmFjdG9yeS5jb21waWxlKHN0cik7XG4gICAgfTtcbiAgICBVcmxSdWxlRmFjdG9yeS5wcm90b3R5cGUuY3JlYXRlID0gZnVuY3Rpb24gKHdoYXQsIGhhbmRsZXIpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgdmFyIG1ha2VSdWxlID0gcGF0dGVybihbXG4gICAgICAgICAgICBbaXNTdHJpbmcsIGZ1bmN0aW9uIChfd2hhdCkgeyByZXR1cm4gbWFrZVJ1bGUoX3RoaXMuY29tcGlsZShfd2hhdCkpOyB9XSxcbiAgICAgICAgICAgIFtpcyhVcmxNYXRjaGVyKSwgZnVuY3Rpb24gKF93aGF0KSB7IHJldHVybiBfdGhpcy5mcm9tVXJsTWF0Y2hlcihfd2hhdCwgaGFuZGxlcik7IH1dLFxuICAgICAgICAgICAgW2lzU3RhdGUsIGZ1bmN0aW9uIChfd2hhdCkgeyByZXR1cm4gX3RoaXMuZnJvbVN0YXRlKF93aGF0LCBfdGhpcy5yb3V0ZXIpOyB9XSxcbiAgICAgICAgICAgIFtpcyhSZWdFeHApLCBmdW5jdGlvbiAoX3doYXQpIHsgcmV0dXJuIF90aGlzLmZyb21SZWdFeHAoX3doYXQsIGhhbmRsZXIpOyB9XSxcbiAgICAgICAgICAgIFtpc0Z1bmN0aW9uLCBmdW5jdGlvbiAoX3doYXQpIHsgcmV0dXJuIG5ldyBCYXNlVXJsUnVsZShfd2hhdCwgaGFuZGxlcik7IH1dLFxuICAgICAgICBdKTtcbiAgICAgICAgdmFyIHJ1bGUgPSBtYWtlUnVsZSh3aGF0KTtcbiAgICAgICAgaWYgKCFydWxlKVxuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiaW52YWxpZCAnd2hhdCcgaW4gd2hlbigpXCIpO1xuICAgICAgICByZXR1cm4gcnVsZTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEEgVXJsUnVsZSB3aGljaCBtYXRjaGVzIGJhc2VkIG9uIGEgVXJsTWF0Y2hlclxuICAgICAqXG4gICAgICogVGhlIGBoYW5kbGVyYCBtYXkgYmUgZWl0aGVyIGEgYHN0cmluZ2AsIGEgW1tVcmxSdWxlSGFuZGxlckZuXV0gb3IgYW5vdGhlciBbW1VybE1hdGNoZXJdXVxuICAgICAqXG4gICAgICogIyMgSGFuZGxlciBhcyBhIGZ1bmN0aW9uXG4gICAgICpcbiAgICAgKiBJZiBgaGFuZGxlcmAgaXMgYSBmdW5jdGlvbiwgdGhlIGZ1bmN0aW9uIGlzIGludm9rZWQgd2l0aDpcbiAgICAgKlxuICAgICAqIC0gbWF0Y2hlZCBwYXJhbWV0ZXIgdmFsdWVzIChbW1Jhd1BhcmFtc11dIGZyb20gW1tVcmxNYXRjaGVyLmV4ZWNdXSlcbiAgICAgKiAtIHVybDogdGhlIGN1cnJlbnQgVXJsIChbW1VybFBhcnRzXV0pXG4gICAgICogLSByb3V0ZXI6IHRoZSByb3V0ZXIgb2JqZWN0IChbW1VJUm91dGVyXV0pXG4gICAgICpcbiAgICAgKiAjIyMjIEV4YW1wbGU6XG4gICAgICogYGBganNcbiAgICAgKiB2YXIgdXJsTWF0Y2hlciA9ICR1bWYuY29tcGlsZShcIi9mb28vOmZvb0lkLzpiYXJJZFwiKTtcbiAgICAgKiB2YXIgcnVsZSA9IGZhY3RvcnkuZnJvbVVybE1hdGNoZXIodXJsTWF0Y2hlciwgbWF0Y2ggPT4gXCIvaG9tZS9cIiArIG1hdGNoLmZvb0lkICsgXCIvXCIgKyBtYXRjaC5iYXJJZCk7XG4gICAgICogdmFyIG1hdGNoID0gcnVsZS5tYXRjaCgnL2Zvby8xMjMvNDU2Jyk7IC8vIHJlc3VsdHMgaW4geyBmb29JZDogJzEyMycsIGJhcklkOiAnNDU2JyB9XG4gICAgICogdmFyIHJlc3VsdCA9IHJ1bGUuaGFuZGxlcihtYXRjaCk7IC8vICcvaG9tZS8xMjMvNDU2J1xuICAgICAqIGBgYFxuICAgICAqXG4gICAgICogIyMgSGFuZGxlciBhcyBVcmxNYXRjaGVyXG4gICAgICpcbiAgICAgKiBJZiBgaGFuZGxlcmAgaXMgYSBVcmxNYXRjaGVyLCB0aGUgaGFuZGxlciBtYXRjaGVyIGlzIHVzZWQgdG8gY3JlYXRlIHRoZSBuZXcgdXJsLlxuICAgICAqIFRoZSBgaGFuZGxlcmAgVXJsTWF0Y2hlciBpcyBmb3JtYXR0ZWQgdXNpbmcgdGhlIG1hdGNoZWQgcGFyYW0gZnJvbSB0aGUgZmlyc3QgbWF0Y2hlci5cbiAgICAgKiBUaGUgdXJsIGlzIHJlcGxhY2VkIHdpdGggdGhlIHJlc3VsdC5cbiAgICAgKlxuICAgICAqICMjIyMgRXhhbXBsZTpcbiAgICAgKiBgYGBqc1xuICAgICAqIHZhciB1cmxNYXRjaGVyID0gJHVtZi5jb21waWxlKFwiL2Zvby86Zm9vSWQvOmJhcklkXCIpO1xuICAgICAqIHZhciBoYW5kbGVyID0gJHVtZi5jb21waWxlKFwiL2hvbWUvOmZvb0lkLzpiYXJJZFwiKTtcbiAgICAgKiB2YXIgcnVsZSA9IGZhY3RvcnkuZnJvbVVybE1hdGNoZXIodXJsTWF0Y2hlciwgaGFuZGxlcik7XG4gICAgICogdmFyIG1hdGNoID0gcnVsZS5tYXRjaCgnL2Zvby8xMjMvNDU2Jyk7IC8vIHJlc3VsdHMgaW4geyBmb29JZDogJzEyMycsIGJhcklkOiAnNDU2JyB9XG4gICAgICogdmFyIHJlc3VsdCA9IHJ1bGUuaGFuZGxlcihtYXRjaCk7IC8vICcvaG9tZS8xMjMvNDU2J1xuICAgICAqIGBgYFxuICAgICAqL1xuICAgIFVybFJ1bGVGYWN0b3J5LnByb3RvdHlwZS5mcm9tVXJsTWF0Y2hlciA9IGZ1bmN0aW9uICh1cmxNYXRjaGVyLCBoYW5kbGVyKSB7XG4gICAgICAgIHZhciBfaGFuZGxlciA9IGhhbmRsZXI7XG4gICAgICAgIGlmIChpc1N0cmluZyhoYW5kbGVyKSlcbiAgICAgICAgICAgIGhhbmRsZXIgPSB0aGlzLnJvdXRlci51cmxNYXRjaGVyRmFjdG9yeS5jb21waWxlKGhhbmRsZXIpO1xuICAgICAgICBpZiAoaXMoVXJsTWF0Y2hlcikoaGFuZGxlcikpXG4gICAgICAgICAgICBfaGFuZGxlciA9IGZ1bmN0aW9uIChtYXRjaCkgeyByZXR1cm4gaGFuZGxlci5mb3JtYXQobWF0Y2gpOyB9O1xuICAgICAgICBmdW5jdGlvbiBtYXRjaCh1cmwpIHtcbiAgICAgICAgICAgIHZhciBtYXRjaCA9IHVybE1hdGNoZXIuZXhlYyh1cmwucGF0aCwgdXJsLnNlYXJjaCwgdXJsLmhhc2gpO1xuICAgICAgICAgICAgcmV0dXJuIHVybE1hdGNoZXIudmFsaWRhdGVzKG1hdGNoKSAmJiBtYXRjaDtcbiAgICAgICAgfVxuICAgICAgICAvLyBQcmlvcml0aXplIFVSTHMsIGxvd2VzdCB0byBoaWdoZXN0OlxuICAgICAgICAvLyAtIFNvbWUgb3B0aW9uYWwgVVJMIHBhcmFtZXRlcnMsIGJ1dCBub25lIG1hdGNoZWRcbiAgICAgICAgLy8gLSBObyBvcHRpb25hbCBwYXJhbWV0ZXJzIGluIFVSTFxuICAgICAgICAvLyAtIFNvbWUgb3B0aW9uYWwgcGFyYW1ldGVycywgc29tZSBtYXRjaGVkXG4gICAgICAgIC8vIC0gU29tZSBvcHRpb25hbCBwYXJhbWV0ZXJzLCBhbGwgbWF0Y2hlZFxuICAgICAgICBmdW5jdGlvbiBtYXRjaFByaW9yaXR5KHBhcmFtcykge1xuICAgICAgICAgICAgdmFyIG9wdGlvbmFsID0gdXJsTWF0Y2hlci5wYXJhbWV0ZXJzKCkuZmlsdGVyKGZ1bmN0aW9uIChwYXJhbSkgeyByZXR1cm4gcGFyYW0uaXNPcHRpb25hbDsgfSk7XG4gICAgICAgICAgICBpZiAoIW9wdGlvbmFsLmxlbmd0aClcbiAgICAgICAgICAgICAgICByZXR1cm4gMC4wMDAwMDE7XG4gICAgICAgICAgICB2YXIgbWF0Y2hlZCA9IG9wdGlvbmFsLmZpbHRlcihmdW5jdGlvbiAocGFyYW0pIHsgcmV0dXJuIHBhcmFtc1twYXJhbS5pZF07IH0pO1xuICAgICAgICAgICAgcmV0dXJuIG1hdGNoZWQubGVuZ3RoIC8gb3B0aW9uYWwubGVuZ3RoO1xuICAgICAgICB9XG4gICAgICAgIHZhciBkZXRhaWxzID0geyB1cmxNYXRjaGVyOiB1cmxNYXRjaGVyLCBtYXRjaFByaW9yaXR5OiBtYXRjaFByaW9yaXR5LCB0eXBlOiBcIlVSTE1BVENIRVJcIiB9O1xuICAgICAgICByZXR1cm4gZXh0ZW5kKG5ldyBCYXNlVXJsUnVsZShtYXRjaCwgX2hhbmRsZXIpLCBkZXRhaWxzKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEEgVXJsUnVsZSB3aGljaCBtYXRjaGVzIGEgc3RhdGUgYnkgaXRzIHVybFxuICAgICAqXG4gICAgICogIyMjIyBFeGFtcGxlOlxuICAgICAqIGBgYGpzXG4gICAgICogdmFyIHJ1bGUgPSBmYWN0b3J5LmZyb21TdGF0ZSgkc3RhdGUuZ2V0KCdmb28nKSwgcm91dGVyKTtcbiAgICAgKiB2YXIgbWF0Y2ggPSBydWxlLm1hdGNoKCcvZm9vLzEyMy80NTYnKTsgLy8gcmVzdWx0cyBpbiB7IGZvb0lkOiAnMTIzJywgYmFySWQ6ICc0NTYnIH1cbiAgICAgKiB2YXIgcmVzdWx0ID0gcnVsZS5oYW5kbGVyKG1hdGNoKTtcbiAgICAgKiAvLyBTdGFydHMgYSB0cmFuc2l0aW9uIHRvICdmb28nIHdpdGggcGFyYW1zOiB7IGZvb0lkOiAnMTIzJywgYmFySWQ6ICc0NTYnIH1cbiAgICAgKiBgYGBcbiAgICAgKi9cbiAgICBVcmxSdWxlRmFjdG9yeS5wcm90b3R5cGUuZnJvbVN0YXRlID0gZnVuY3Rpb24gKHN0YXRlLCByb3V0ZXIpIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEhhbmRsZXMgbWF0Y2ggYnkgdHJhbnNpdGlvbmluZyB0byBtYXRjaGVkIHN0YXRlXG4gICAgICAgICAqXG4gICAgICAgICAqIEZpcnN0IGNoZWNrcyBpZiB0aGUgcm91dGVyIHNob3VsZCBzdGFydCBhIG5ldyB0cmFuc2l0aW9uLlxuICAgICAgICAgKiBBIG5ldyB0cmFuc2l0aW9uIGlzIG5vdCByZXF1aXJlZCBpZiB0aGUgY3VycmVudCBzdGF0ZSdzIFVSTFxuICAgICAgICAgKiBhbmQgdGhlIG5ldyBVUkwgYXJlIGFscmVhZHkgaWRlbnRpY2FsXG4gICAgICAgICAqL1xuICAgICAgICB2YXIgaGFuZGxlciA9IGZ1bmN0aW9uIChtYXRjaCkge1xuICAgICAgICAgICAgdmFyICRzdGF0ZSA9IHJvdXRlci5zdGF0ZVNlcnZpY2U7XG4gICAgICAgICAgICB2YXIgZ2xvYmFscyA9IHJvdXRlci5nbG9iYWxzO1xuICAgICAgICAgICAgaWYgKCRzdGF0ZS5ocmVmKHN0YXRlLCBtYXRjaCkgIT09ICRzdGF0ZS5ocmVmKGdsb2JhbHMuY3VycmVudCwgZ2xvYmFscy5wYXJhbXMpKSB7XG4gICAgICAgICAgICAgICAgJHN0YXRlLnRyYW5zaXRpb25UbyhzdGF0ZSwgbWF0Y2gsIHsgaW5oZXJpdDogdHJ1ZSwgc291cmNlOiBcInVybFwiIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgICB2YXIgZGV0YWlscyA9IHsgc3RhdGU6IHN0YXRlLCB0eXBlOiBcIlNUQVRFXCIgfTtcbiAgICAgICAgcmV0dXJuIGV4dGVuZCh0aGlzLmZyb21VcmxNYXRjaGVyKHN0YXRlLnVybCwgaGFuZGxlciksIGRldGFpbHMpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQSBVcmxSdWxlIHdoaWNoIG1hdGNoZXMgYmFzZWQgb24gYSByZWd1bGFyIGV4cHJlc3Npb25cbiAgICAgKlxuICAgICAqIFRoZSBgaGFuZGxlcmAgbWF5IGJlIGVpdGhlciBhIFtbVXJsUnVsZUhhbmRsZXJGbl1dIG9yIGEgc3RyaW5nLlxuICAgICAqXG4gICAgICogIyMgSGFuZGxlciBhcyBhIGZ1bmN0aW9uXG4gICAgICpcbiAgICAgKiBJZiBgaGFuZGxlcmAgaXMgYSBmdW5jdGlvbiwgdGhlIGZ1bmN0aW9uIGlzIGludm9rZWQgd2l0aDpcbiAgICAgKlxuICAgICAqIC0gcmVnZXhwIG1hdGNoIGFycmF5IChmcm9tIGByZWdleHBgKVxuICAgICAqIC0gdXJsOiB0aGUgY3VycmVudCBVcmwgKFtbVXJsUGFydHNdXSlcbiAgICAgKiAtIHJvdXRlcjogdGhlIHJvdXRlciBvYmplY3QgKFtbVUlSb3V0ZXJdXSlcbiAgICAgKlxuICAgICAqICMjIyMgRXhhbXBsZTpcbiAgICAgKiBgYGBqc1xuICAgICAqIHZhciBydWxlID0gZmFjdG9yeS5mcm9tUmVnRXhwKC9eXFwvZm9vXFwvKGJhcnxiYXopJC8sIG1hdGNoID0+IFwiL2hvbWUvXCIgKyBtYXRjaFsxXSlcbiAgICAgKiB2YXIgbWF0Y2ggPSBydWxlLm1hdGNoKCcvZm9vL2JhcicpOyAvLyByZXN1bHRzIGluIFsgJy9mb28vYmFyJywgJ2JhcicgXVxuICAgICAqIHZhciByZXN1bHQgPSBydWxlLmhhbmRsZXIobWF0Y2gpOyAvLyAnL2hvbWUvYmFyJ1xuICAgICAqIGBgYFxuICAgICAqXG4gICAgICogIyMgSGFuZGxlciBhcyBzdHJpbmdcbiAgICAgKlxuICAgICAqIElmIGBoYW5kbGVyYCBpcyBhIHN0cmluZywgdGhlIHVybCBpcyAqcmVwbGFjZWQgYnkgdGhlIHN0cmluZyogd2hlbiB0aGUgUnVsZSBpcyBpbnZva2VkLlxuICAgICAqIFRoZSBzdHJpbmcgaXMgZmlyc3QgaW50ZXJwb2xhdGVkIHVzaW5nIGBzdHJpbmcucmVwbGFjZSgpYCBzdHlsZSBwYXR0ZXJuLlxuICAgICAqXG4gICAgICogIyMjIyBFeGFtcGxlOlxuICAgICAqIGBgYGpzXG4gICAgICogdmFyIHJ1bGUgPSBmYWN0b3J5LmZyb21SZWdFeHAoL15cXC9mb29cXC8oYmFyfGJheikkLywgXCIvaG9tZS8kMVwiKVxuICAgICAqIHZhciBtYXRjaCA9IHJ1bGUubWF0Y2goJy9mb28vYmFyJyk7IC8vIHJlc3VsdHMgaW4gWyAnL2Zvby9iYXInLCAnYmFyJyBdXG4gICAgICogdmFyIHJlc3VsdCA9IHJ1bGUuaGFuZGxlcihtYXRjaCk7IC8vICcvaG9tZS9iYXInXG4gICAgICogYGBgXG4gICAgICovXG4gICAgVXJsUnVsZUZhY3RvcnkucHJvdG90eXBlLmZyb21SZWdFeHAgPSBmdW5jdGlvbiAocmVnZXhwLCBoYW5kbGVyKSB7XG4gICAgICAgIGlmIChyZWdleHAuZ2xvYmFsIHx8IHJlZ2V4cC5zdGlja3kpXG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJSdWxlIFJlZ0V4cCBtdXN0IG5vdCBiZSBnbG9iYWwgb3Igc3RpY2t5XCIpO1xuICAgICAgICAvKipcbiAgICAgICAgICogSWYgaGFuZGxlciBpcyBhIHN0cmluZywgdGhlIHVybCB3aWxsIGJlIHJlcGxhY2VkIGJ5IHRoZSBzdHJpbmcuXG4gICAgICAgICAqIElmIHRoZSBzdHJpbmcgaGFzIGFueSBTdHJpbmcucmVwbGFjZSgpIHN0eWxlIHZhcmlhYmxlcyBpbiBpdCAobGlrZSBgJDJgKSxcbiAgICAgICAgICogdGhleSB3aWxsIGJlIHJlcGxhY2VkIGJ5IHRoZSBjYXB0dXJlcyBmcm9tIFtbbWF0Y2hdXVxuICAgICAgICAgKi9cbiAgICAgICAgdmFyIHJlZGlyZWN0VXJsVG8gPSBmdW5jdGlvbiAobWF0Y2gpIHtcbiAgICAgICAgICAgIC8vIEludGVycG9sYXRlcyBtYXRjaGVkIHZhbHVlcyBpbnRvICQxICQyLCBldGMgdXNpbmcgYSBTdHJpbmcucmVwbGFjZSgpLXN0eWxlIHBhdHRlcm5cbiAgICAgICAgICAgIHJldHVybiBoYW5kbGVyLnJlcGxhY2UoL1xcJChcXCR8XFxkezEsMn0pLywgZnVuY3Rpb24gKG0sIHdoYXQpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gbWF0Y2hbd2hhdCA9PT0gJyQnID8gMCA6IE51bWJlcih3aGF0KV07XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfTtcbiAgICAgICAgdmFyIF9oYW5kbGVyID0gaXNTdHJpbmcoaGFuZGxlcikgPyByZWRpcmVjdFVybFRvIDogaGFuZGxlcjtcbiAgICAgICAgdmFyIG1hdGNoID0gZnVuY3Rpb24gKHVybCkge1xuICAgICAgICAgICAgcmV0dXJuIHJlZ2V4cC5leGVjKHVybC5wYXRoKTtcbiAgICAgICAgfTtcbiAgICAgICAgdmFyIGRldGFpbHMgPSB7IHJlZ2V4cDogcmVnZXhwLCB0eXBlOiBcIlJFR0VYUFwiIH07XG4gICAgICAgIHJldHVybiBleHRlbmQobmV3IEJhc2VVcmxSdWxlKG1hdGNoLCBfaGFuZGxlciksIGRldGFpbHMpO1xuICAgIH07XG4gICAgcmV0dXJuIFVybFJ1bGVGYWN0b3J5O1xufSgpKTtcblVybFJ1bGVGYWN0b3J5LmlzVXJsUnVsZSA9IGZ1bmN0aW9uIChvYmopIHtcbiAgICByZXR1cm4gb2JqICYmIFsndHlwZScsICdtYXRjaCcsICdoYW5kbGVyJ10uZXZlcnkoZnVuY3Rpb24gKGtleSkgeyByZXR1cm4gaXNEZWZpbmVkKG9ialtrZXldKTsgfSk7XG59O1xuLyoqXG4gKiBBIGJhc2UgcnVsZSB3aGljaCBjYWxscyBgbWF0Y2hgXG4gKlxuICogVGhlIHZhbHVlIGZyb20gdGhlIGBtYXRjaGAgZnVuY3Rpb24gaXMgcGFzc2VkIHRocm91Z2ggdG8gdGhlIGBoYW5kbGVyYC5cbiAqIEBpbnRlcm5hbGFwaVxuICovXG52YXIgQmFzZVVybFJ1bGUgPSAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIEJhc2VVcmxSdWxlKG1hdGNoLCBoYW5kbGVyKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIHRoaXMubWF0Y2ggPSBtYXRjaDtcbiAgICAgICAgdGhpcy50eXBlID0gXCJSQVdcIjtcbiAgICAgICAgdGhpcy5tYXRjaFByaW9yaXR5ID0gZnVuY3Rpb24gKG1hdGNoKSB7IHJldHVybiAwIC0gX3RoaXMuJGlkOyB9O1xuICAgICAgICB0aGlzLmhhbmRsZXIgPSBoYW5kbGVyIHx8IGlkZW50aXR5O1xuICAgIH1cbiAgICByZXR1cm4gQmFzZVVybFJ1bGU7XG59KCkpO1xuXG4vKipcbiAqIEBpbnRlcm5hbGFwaVxuICogQG1vZHVsZSB1cmxcbiAqL1xuLyoqIGZvciB0eXBlZG9jICovXG4vKiogQGhpZGRlbiAqL1xuZnVuY3Rpb24gYXBwZW5kQmFzZVBhdGgodXJsLCBpc0h0bWw1LCBhYnNvbHV0ZSwgYmFzZUhyZWYpIHtcbiAgICBpZiAoYmFzZUhyZWYgPT09ICcvJylcbiAgICAgICAgcmV0dXJuIHVybDtcbiAgICBpZiAoaXNIdG1sNSlcbiAgICAgICAgcmV0dXJuIGJhc2VIcmVmLnNsaWNlKDAsIC0xKSArIHVybDtcbiAgICBpZiAoYWJzb2x1dGUpXG4gICAgICAgIHJldHVybiBiYXNlSHJlZi5zbGljZSgxKSArIHVybDtcbiAgICByZXR1cm4gdXJsO1xufVxuLyoqIEBoaWRkZW4gKi9cbnZhciBnZXRNYXRjaGVyID0gcHJvcChcInVybE1hdGNoZXJcIik7XG4vKipcbiAqIERlZmF1bHQgcnVsZSBwcmlvcml0eSBzb3J0aW5nIGZ1bmN0aW9uLlxuICpcbiAqIFNvcnRzIHJ1bGVzIGJ5OlxuICpcbiAqIC0gRXhwbGljaXQgcHJpb3JpdHkgKHNldCBydWxlIHByaW9yaXR5IHVzaW5nIFtbVXJsUnVsZXNBcGkud2hlbl1dKVxuICogLSBSdWxlIHR5cGUgKFNUQVRFOiA0LCBVUkxNQVRDSEVSOiA0LCBSRUdFWFA6IDMsIFJBVzogMiwgT1RIRVI6IDEpXG4gKiAtIGBVcmxNYXRjaGVyYCBzcGVjaWZpY2l0eSAoW1tVcmxNYXRjaGVyLmNvbXBhcmVdXSk6IHdvcmtzIGZvciBTVEFURSBhbmQgVVJMTUFUQ0hFUiB0eXBlcyB0byBwaWNrIHRoZSBtb3N0IHNwZWNpZmljIHJ1bGUuXG4gKiAtIFJlZ2lzdHJhdGlvbiBvcmRlciAoZm9yIHJ1bGUgdHlwZXMgb3RoZXIgdGhhbiBTVEFURSBhbmQgVVJMTUFUQ0hFUilcbiAqXG4gKiBAY29yZWFwaVxuICovXG52YXIgZGVmYXVsdFJ1bGVTb3J0Rm47XG5kZWZhdWx0UnVsZVNvcnRGbiA9IGNvbXBvc2VTb3J0KHNvcnRCeShwaXBlKHByb3AoXCJwcmlvcml0eVwiKSwgZnVuY3Rpb24gKHgpIHsgcmV0dXJuIC14OyB9KSksIHNvcnRCeShwaXBlKHByb3AoXCJ0eXBlXCIpLCBmdW5jdGlvbiAodHlwZSkgeyByZXR1cm4gKHsgXCJTVEFURVwiOiA0LCBcIlVSTE1BVENIRVJcIjogNCwgXCJSRUdFWFBcIjogMywgXCJSQVdcIjogMiwgXCJPVEhFUlwiOiAxIH0pW3R5cGVdOyB9KSksIGZ1bmN0aW9uIChhLCBiKSB7IHJldHVybiAoZ2V0TWF0Y2hlcihhKSAmJiBnZXRNYXRjaGVyKGIpKSA/IFVybE1hdGNoZXIuY29tcGFyZShnZXRNYXRjaGVyKGEpLCBnZXRNYXRjaGVyKGIpKSA6IDA7IH0sIHNvcnRCeShwcm9wKFwiJGlkXCIpLCBpbkFycmF5KFtcIlJFR0VYUFwiLCBcIlJBV1wiLCBcIk9USEVSXCJdKSkpO1xuLyoqXG4gKiBVcGRhdGVzIFVSTCBhbmQgcmVzcG9uZHMgdG8gVVJMIGNoYW5nZXNcbiAqXG4gKiAjIyMgRGVwcmVjYXRpb24gd2FybmluZzpcbiAqIFRoaXMgY2xhc3MgaXMgbm93IGNvbnNpZGVyZWQgdG8gYmUgYW4gaW50ZXJuYWwgQVBJXG4gKiBVc2UgdGhlIFtbVXJsU2VydmljZV1dIGluc3RlYWQuXG4gKiBGb3IgY29uZmlndXJpbmcgVVJMIHJ1bGVzLCB1c2UgdGhlIFtbVXJsUnVsZXNBcGldXSB3aGljaCBjYW4gYmUgZm91bmQgYXMgW1tVcmxTZXJ2aWNlLnJ1bGVzXV0uXG4gKlxuICogVGhpcyBjbGFzcyB1cGRhdGVzIHRoZSBVUkwgd2hlbiB0aGUgc3RhdGUgY2hhbmdlcy5cbiAqIEl0IGFsc28gcmVzcG9uZHMgdG8gY2hhbmdlcyBpbiB0aGUgVVJMLlxuICovXG52YXIgVXJsUm91dGVyID0gKGZ1bmN0aW9uICgpIHtcbiAgICAvKiogQGhpZGRlbiAqL1xuICAgIGZ1bmN0aW9uIFVybFJvdXRlcihyb3V0ZXIpIHtcbiAgICAgICAgLyoqIEBoaWRkZW4gKi8gdGhpcy5fc29ydEZuID0gZGVmYXVsdFJ1bGVTb3J0Rm47XG4gICAgICAgIC8qKiBAaGlkZGVuICovIHRoaXMuX3J1bGVzID0gW107XG4gICAgICAgIC8qKiBAaGlkZGVuICovIHRoaXMuaW50ZXJjZXB0RGVmZXJyZWQgPSBmYWxzZTtcbiAgICAgICAgLyoqIEBoaWRkZW4gKi8gdGhpcy5faWQgPSAwO1xuICAgICAgICAvKiogQGhpZGRlbiAqLyB0aGlzLl9zb3J0ZWQgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5fcm91dGVyID0gcm91dGVyO1xuICAgICAgICB0aGlzLnVybFJ1bGVGYWN0b3J5ID0gbmV3IFVybFJ1bGVGYWN0b3J5KHJvdXRlcik7XG4gICAgICAgIGNyZWF0ZVByb3h5RnVuY3Rpb25zKHZhbChVcmxSb3V0ZXIucHJvdG90eXBlKSwgdGhpcywgdmFsKHRoaXMpKTtcbiAgICB9XG4gICAgLyoqIEBpbnRlcm5hbGFwaSAqL1xuICAgIFVybFJvdXRlci5wcm90b3R5cGUuZGlzcG9zZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5saXN0ZW4oZmFsc2UpO1xuICAgICAgICB0aGlzLl9ydWxlcyA9IFtdO1xuICAgICAgICBkZWxldGUgdGhpcy5fb3RoZXJ3aXNlRm47XG4gICAgfTtcbiAgICAvKiogQGluaGVyaXRkb2MgKi9cbiAgICBVcmxSb3V0ZXIucHJvdG90eXBlLnNvcnQgPSBmdW5jdGlvbiAoY29tcGFyZUZuKSB7XG4gICAgICAgIHRoaXMuX3J1bGVzLnNvcnQodGhpcy5fc29ydEZuID0gY29tcGFyZUZuIHx8IHRoaXMuX3NvcnRGbik7XG4gICAgICAgIHRoaXMuX3NvcnRlZCA9IHRydWU7XG4gICAgfTtcbiAgICBVcmxSb3V0ZXIucHJvdG90eXBlLmVuc3VyZVNvcnRlZCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5fc29ydGVkIHx8IHRoaXMuc29ydCgpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogR2l2ZW4gYSBVUkwsIGNoZWNrIGFsbCBydWxlcyBhbmQgcmV0dXJuIHRoZSBiZXN0IFtbTWF0Y2hSZXN1bHRdXVxuICAgICAqIEBwYXJhbSB1cmxcbiAgICAgKiBAcmV0dXJucyB7TWF0Y2hSZXN1bHR9XG4gICAgICovXG4gICAgVXJsUm91dGVyLnByb3RvdHlwZS5tYXRjaCA9IGZ1bmN0aW9uICh1cmwpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgdGhpcy5lbnN1cmVTb3J0ZWQoKTtcbiAgICAgICAgdXJsID0gZXh0ZW5kKHsgcGF0aDogJycsIHNlYXJjaDoge30sIGhhc2g6ICcnIH0sIHVybCk7XG4gICAgICAgIHZhciBydWxlcyA9IHRoaXMucnVsZXMoKTtcbiAgICAgICAgaWYgKHRoaXMuX290aGVyd2lzZUZuKVxuICAgICAgICAgICAgcnVsZXMucHVzaCh0aGlzLl9vdGhlcndpc2VGbik7XG4gICAgICAgIC8vIENoZWNrcyBhIHNpbmdsZSBydWxlLiBSZXR1cm5zIHsgcnVsZTogcnVsZSwgbWF0Y2g6IG1hdGNoLCB3ZWlnaHQ6IHdlaWdodCB9IGlmIGl0IG1hdGNoZWQsIG9yIHVuZGVmaW5lZFxuICAgICAgICB2YXIgY2hlY2tSdWxlID0gZnVuY3Rpb24gKHJ1bGUpIHtcbiAgICAgICAgICAgIHZhciBtYXRjaCA9IHJ1bGUubWF0Y2godXJsLCBfdGhpcy5fcm91dGVyKTtcbiAgICAgICAgICAgIHJldHVybiBtYXRjaCAmJiB7IG1hdGNoOiBtYXRjaCwgcnVsZTogcnVsZSwgd2VpZ2h0OiBydWxlLm1hdGNoUHJpb3JpdHkobWF0Y2gpIH07XG4gICAgICAgIH07XG4gICAgICAgIC8vIFRoZSBydWxlcyBhcmUgcHJlLXNvcnRlZC5cbiAgICAgICAgLy8gLSBGaW5kIHRoZSBmaXJzdCBtYXRjaGluZyBydWxlLlxuICAgICAgICAvLyAtIEZpbmQgYW55IG90aGVyIG1hdGNoaW5nIHJ1bGUgdGhhdCBzb3J0ZWQgKmV4YWN0bHkgdGhlIHNhbWUqLCBhY2NvcmRpbmcgdG8gYC5zb3J0KClgLlxuICAgICAgICAvLyAtIENob29zZSB0aGUgcnVsZSB3aXRoIHRoZSBoaWdoZXN0IG1hdGNoIHdlaWdodC5cbiAgICAgICAgdmFyIGJlc3Q7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcnVsZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIC8vIFN0b3Agd2hlbiB0aGVyZSBpcyBhICdiZXN0JyBydWxlIGFuZCB0aGUgbmV4dCBydWxlIHNvcnRzIGRpZmZlcmVudGx5IHRoYW4gaXQuXG4gICAgICAgICAgICBpZiAoYmVzdCAmJiB0aGlzLl9zb3J0Rm4ocnVsZXNbaV0sIGJlc3QucnVsZSkgIT09IDApXG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB2YXIgY3VycmVudCA9IGNoZWNrUnVsZShydWxlc1tpXSk7XG4gICAgICAgICAgICAvLyBQaWNrIHRoZSBiZXN0IE1hdGNoUmVzdWx0XG4gICAgICAgICAgICBiZXN0ID0gKCFiZXN0IHx8IGN1cnJlbnQgJiYgY3VycmVudC53ZWlnaHQgPiBiZXN0LndlaWdodCkgPyBjdXJyZW50IDogYmVzdDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gYmVzdDtcbiAgICB9O1xuICAgIC8qKiBAaW5oZXJpdGRvYyAqL1xuICAgIFVybFJvdXRlci5wcm90b3R5cGUuc3luYyA9IGZ1bmN0aW9uIChldnQpIHtcbiAgICAgICAgaWYgKGV2dCAmJiBldnQuZGVmYXVsdFByZXZlbnRlZClcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgdmFyIHJvdXRlciA9IHRoaXMuX3JvdXRlciwgJHVybCA9IHJvdXRlci51cmxTZXJ2aWNlLCAkc3RhdGUgPSByb3V0ZXIuc3RhdGVTZXJ2aWNlO1xuICAgICAgICB2YXIgdXJsID0ge1xuICAgICAgICAgICAgcGF0aDogJHVybC5wYXRoKCksIHNlYXJjaDogJHVybC5zZWFyY2goKSwgaGFzaDogJHVybC5oYXNoKCksXG4gICAgICAgIH07XG4gICAgICAgIHZhciBiZXN0ID0gdGhpcy5tYXRjaCh1cmwpO1xuICAgICAgICB2YXIgYXBwbHlSZXN1bHQgPSBwYXR0ZXJuKFtcbiAgICAgICAgICAgIFtpc1N0cmluZywgZnVuY3Rpb24gKG5ld3VybCkgeyByZXR1cm4gJHVybC51cmwobmV3dXJsLCB0cnVlKTsgfV0sXG4gICAgICAgICAgICBbVGFyZ2V0U3RhdGUuaXNEZWYsIGZ1bmN0aW9uIChkZWYpIHsgcmV0dXJuICRzdGF0ZS5nbyhkZWYuc3RhdGUsIGRlZi5wYXJhbXMsIGRlZi5vcHRpb25zKTsgfV0sXG4gICAgICAgICAgICBbaXMoVGFyZ2V0U3RhdGUpLCBmdW5jdGlvbiAodGFyZ2V0KSB7IHJldHVybiAkc3RhdGUuZ28odGFyZ2V0LnN0YXRlKCksIHRhcmdldC5wYXJhbXMoKSwgdGFyZ2V0Lm9wdGlvbnMoKSk7IH1dLFxuICAgICAgICBdKTtcbiAgICAgICAgYXBwbHlSZXN1bHQoYmVzdCAmJiBiZXN0LnJ1bGUuaGFuZGxlcihiZXN0Lm1hdGNoLCB1cmwsIHJvdXRlcikpO1xuICAgIH07XG4gICAgLyoqIEBpbmhlcml0ZG9jICovXG4gICAgVXJsUm91dGVyLnByb3RvdHlwZS5saXN0ZW4gPSBmdW5jdGlvbiAoZW5hYmxlZCkge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICBpZiAoZW5hYmxlZCA9PT0gZmFsc2UpIHtcbiAgICAgICAgICAgIHRoaXMuX3N0b3BGbiAmJiB0aGlzLl9zdG9wRm4oKTtcbiAgICAgICAgICAgIGRlbGV0ZSB0aGlzLl9zdG9wRm47XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fc3RvcEZuID0gdGhpcy5fc3RvcEZuIHx8IHRoaXMuX3JvdXRlci51cmxTZXJ2aWNlLm9uQ2hhbmdlKGZ1bmN0aW9uIChldnQpIHsgcmV0dXJuIF90aGlzLnN5bmMoZXZ0KTsgfSk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEludGVybmFsIEFQSS5cbiAgICAgKiBAaW50ZXJuYWxhcGlcbiAgICAgKi9cbiAgICBVcmxSb3V0ZXIucHJvdG90eXBlLnVwZGF0ZSA9IGZ1bmN0aW9uIChyZWFkKSB7XG4gICAgICAgIHZhciAkdXJsID0gdGhpcy5fcm91dGVyLmxvY2F0aW9uU2VydmljZTtcbiAgICAgICAgaWYgKHJlYWQpIHtcbiAgICAgICAgICAgIHRoaXMubG9jYXRpb24gPSAkdXJsLnBhdGgoKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBpZiAoJHVybC5wYXRoKCkgPT09IHRoaXMubG9jYXRpb24pXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgICR1cmwudXJsKHRoaXMubG9jYXRpb24sIHRydWUpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogSW50ZXJuYWwgQVBJLlxuICAgICAqXG4gICAgICogUHVzaGVzIGEgbmV3IGxvY2F0aW9uIHRvIHRoZSBicm93c2VyIGhpc3RvcnkuXG4gICAgICpcbiAgICAgKiBAaW50ZXJuYWxhcGlcbiAgICAgKiBAcGFyYW0gdXJsTWF0Y2hlclxuICAgICAqIEBwYXJhbSBwYXJhbXNcbiAgICAgKiBAcGFyYW0gb3B0aW9uc1xuICAgICAqL1xuICAgIFVybFJvdXRlci5wcm90b3R5cGUucHVzaCA9IGZ1bmN0aW9uICh1cmxNYXRjaGVyLCBwYXJhbXMsIG9wdGlvbnMpIHtcbiAgICAgICAgdmFyIHJlcGxhY2UgPSBvcHRpb25zICYmICEhb3B0aW9ucy5yZXBsYWNlO1xuICAgICAgICB0aGlzLl9yb3V0ZXIudXJsU2VydmljZS51cmwodXJsTWF0Y2hlci5mb3JtYXQocGFyYW1zIHx8IHt9KSwgcmVwbGFjZSk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBCdWlsZHMgYW5kIHJldHVybnMgYSBVUkwgd2l0aCBpbnRlcnBvbGF0ZWQgcGFyYW1ldGVyc1xuICAgICAqXG4gICAgICogIyMjIyBFeGFtcGxlOlxuICAgICAqIGBgYGpzXG4gICAgICogbWF0Y2hlciA9ICR1bWYuY29tcGlsZShcIi9hYm91dC86cGVyc29uXCIpO1xuICAgICAqIHBhcmFtcyA9IHsgcGVyc29uOiBcImJvYlwiIH07XG4gICAgICogJGJvYiA9ICR1cmxSb3V0ZXIuaHJlZihtYXRjaGVyLCBwYXJhbXMpO1xuICAgICAqIC8vICRib2IgPT0gXCIvYWJvdXQvYm9iXCI7XG4gICAgICogYGBgXG4gICAgICpcbiAgICAgKiBAcGFyYW0gdXJsTWF0Y2hlciBUaGUgW1tVcmxNYXRjaGVyXV0gb2JqZWN0IHdoaWNoIGlzIHVzZWQgYXMgdGhlIHRlbXBsYXRlIG9mIHRoZSBVUkwgdG8gZ2VuZXJhdGUuXG4gICAgICogQHBhcmFtIHBhcmFtcyBBbiBvYmplY3Qgb2YgcGFyYW1ldGVyIHZhbHVlcyB0byBmaWxsIHRoZSBtYXRjaGVyJ3MgcmVxdWlyZWQgcGFyYW1ldGVycy5cbiAgICAgKiBAcGFyYW0gb3B0aW9ucyBPcHRpb25zIG9iamVjdC4gVGhlIG9wdGlvbnMgYXJlOlxuICAgICAqXG4gICAgICogLSAqKmBhYnNvbHV0ZWAqKiAtIHtib29sZWFuPWZhbHNlfSwgIElmIHRydWUgd2lsbCBnZW5lcmF0ZSBhbiBhYnNvbHV0ZSB1cmwsIGUuZy4gXCJodHRwOi8vd3d3LmV4YW1wbGUuY29tL2Z1bGx1cmxcIi5cbiAgICAgKlxuICAgICAqIEByZXR1cm5zIFJldHVybnMgdGhlIGZ1bGx5IGNvbXBpbGVkIFVSTCwgb3IgYG51bGxgIGlmIGBwYXJhbXNgIGZhaWwgdmFsaWRhdGlvbiBhZ2FpbnN0IGB1cmxNYXRjaGVyYFxuICAgICAqL1xuICAgIFVybFJvdXRlci5wcm90b3R5cGUuaHJlZiA9IGZ1bmN0aW9uICh1cmxNYXRjaGVyLCBwYXJhbXMsIG9wdGlvbnMpIHtcbiAgICAgICAgdmFyIHVybCA9IHVybE1hdGNoZXIuZm9ybWF0KHBhcmFtcyk7XG4gICAgICAgIGlmICh1cmwgPT0gbnVsbClcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICBvcHRpb25zID0gb3B0aW9ucyB8fCB7IGFic29sdXRlOiBmYWxzZSB9O1xuICAgICAgICB2YXIgY2ZnID0gdGhpcy5fcm91dGVyLnVybFNlcnZpY2UuY29uZmlnO1xuICAgICAgICB2YXIgaXNIdG1sNSA9IGNmZy5odG1sNU1vZGUoKTtcbiAgICAgICAgaWYgKCFpc0h0bWw1ICYmIHVybCAhPT0gbnVsbCkge1xuICAgICAgICAgICAgdXJsID0gXCIjXCIgKyBjZmcuaGFzaFByZWZpeCgpICsgdXJsO1xuICAgICAgICB9XG4gICAgICAgIHVybCA9IGFwcGVuZEJhc2VQYXRoKHVybCwgaXNIdG1sNSwgb3B0aW9ucy5hYnNvbHV0ZSwgY2ZnLmJhc2VIcmVmKCkpO1xuICAgICAgICBpZiAoIW9wdGlvbnMuYWJzb2x1dGUgfHwgIXVybCkge1xuICAgICAgICAgICAgcmV0dXJuIHVybDtcbiAgICAgICAgfVxuICAgICAgICB2YXIgc2xhc2ggPSAoIWlzSHRtbDUgJiYgdXJsID8gJy8nIDogJycpLCBwb3J0ID0gY2ZnLnBvcnQoKTtcbiAgICAgICAgcG9ydCA9IChwb3J0ID09PSA4MCB8fCBwb3J0ID09PSA0NDMgPyAnJyA6ICc6JyArIHBvcnQpO1xuICAgICAgICByZXR1cm4gW2NmZy5wcm90b2NvbCgpLCAnOi8vJywgY2ZnLmhvc3QoKSwgcG9ydCwgc2xhc2gsIHVybF0uam9pbignJyk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBNYW51YWxseSBhZGRzIGEgVVJMIFJ1bGUuXG4gICAgICpcbiAgICAgKiBVc3VhbGx5LCBhIHVybCBydWxlIGlzIGFkZGVkIHVzaW5nIFtbU3RhdGVEZWNsYXJhdGlvbi51cmxdXSBvciBbW3doZW5dXS5cbiAgICAgKiBUaGlzIGFwaSBjYW4gYmUgdXNlZCBkaXJlY3RseSBmb3IgbW9yZSBjb250cm9sICh0byByZWdpc3RlciBhIFtbQmFzZVVybFJ1bGVdXSwgZm9yIGV4YW1wbGUpLlxuICAgICAqIFJ1bGVzIGNhbiBiZSBjcmVhdGVkIHVzaW5nIFtbVXJsUm91dGVyLnVybFJ1bGVGYWN0b3J5XV0sIG9yIGNyZWF0ZSBtYW51YWxseSBhcyBzaW1wbGUgb2JqZWN0cy5cbiAgICAgKlxuICAgICAqIEEgcnVsZSBzaG91bGQgaGF2ZSBhIGBtYXRjaGAgZnVuY3Rpb24gd2hpY2ggcmV0dXJucyB0cnV0aHkgaWYgdGhlIHJ1bGUgbWF0Y2hlZC5cbiAgICAgKiBJdCBzaG91bGQgYWxzbyBoYXZlIGEgYGhhbmRsZXJgIGZ1bmN0aW9uIHdoaWNoIGlzIGludm9rZWQgaWYgdGhlIHJ1bGUgaXMgdGhlIGJlc3QgbWF0Y2guXG4gICAgICpcbiAgICAgKiBAcmV0dXJuIGEgZnVuY3Rpb24gdGhhdCBkZXJlZ2lzdGVycyB0aGUgcnVsZVxuICAgICAqL1xuICAgIFVybFJvdXRlci5wcm90b3R5cGUucnVsZSA9IGZ1bmN0aW9uIChydWxlKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIGlmICghVXJsUnVsZUZhY3RvcnkuaXNVcmxSdWxlKHJ1bGUpKVxuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiaW52YWxpZCBydWxlXCIpO1xuICAgICAgICBydWxlLiRpZCA9IHRoaXMuX2lkKys7XG4gICAgICAgIHJ1bGUucHJpb3JpdHkgPSBydWxlLnByaW9yaXR5IHx8IDA7XG4gICAgICAgIHRoaXMuX3J1bGVzLnB1c2gocnVsZSk7XG4gICAgICAgIHRoaXMuX3NvcnRlZCA9IGZhbHNlO1xuICAgICAgICByZXR1cm4gZnVuY3Rpb24gKCkgeyByZXR1cm4gX3RoaXMucmVtb3ZlUnVsZShydWxlKTsgfTtcbiAgICB9O1xuICAgIC8qKiBAaW5oZXJpdGRvYyAqL1xuICAgIFVybFJvdXRlci5wcm90b3R5cGUucmVtb3ZlUnVsZSA9IGZ1bmN0aW9uIChydWxlKSB7XG4gICAgICAgIHJlbW92ZUZyb20odGhpcy5fcnVsZXMsIHJ1bGUpO1xuICAgIH07XG4gICAgLyoqIEBpbmhlcml0ZG9jICovXG4gICAgVXJsUm91dGVyLnByb3RvdHlwZS5ydWxlcyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5lbnN1cmVTb3J0ZWQoKTtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3J1bGVzLnNsaWNlKCk7XG4gICAgfTtcbiAgICAvKiogQGluaGVyaXRkb2MgKi9cbiAgICBVcmxSb3V0ZXIucHJvdG90eXBlLm90aGVyd2lzZSA9IGZ1bmN0aW9uIChoYW5kbGVyKSB7XG4gICAgICAgIHZhciBoYW5kbGVyRm4gPSBnZXRIYW5kbGVyRm4oaGFuZGxlcik7XG4gICAgICAgIHRoaXMuX290aGVyd2lzZUZuID0gdGhpcy51cmxSdWxlRmFjdG9yeS5jcmVhdGUodmFsKHRydWUpLCBoYW5kbGVyRm4pO1xuICAgICAgICB0aGlzLl9zb3J0ZWQgPSBmYWxzZTtcbiAgICB9O1xuICAgIFxuICAgIC8qKiBAaW5oZXJpdGRvYyAqL1xuICAgIFVybFJvdXRlci5wcm90b3R5cGUuaW5pdGlhbCA9IGZ1bmN0aW9uIChoYW5kbGVyKSB7XG4gICAgICAgIHZhciBoYW5kbGVyRm4gPSBnZXRIYW5kbGVyRm4oaGFuZGxlcik7XG4gICAgICAgIHZhciBtYXRjaEZuID0gZnVuY3Rpb24gKHVybFBhcnRzLCByb3V0ZXIpIHtcbiAgICAgICAgICAgIHJldHVybiByb3V0ZXIuZ2xvYmFscy50cmFuc2l0aW9uSGlzdG9yeS5zaXplKCkgPT09IDAgJiYgISEvXlxcLz8kLy5leGVjKHVybFBhcnRzLnBhdGgpO1xuICAgICAgICB9O1xuICAgICAgICB0aGlzLnJ1bGUodGhpcy51cmxSdWxlRmFjdG9yeS5jcmVhdGUobWF0Y2hGbiwgaGFuZGxlckZuKSk7XG4gICAgfTtcbiAgICBcbiAgICAvKiogQGluaGVyaXRkb2MgKi9cbiAgICBVcmxSb3V0ZXIucHJvdG90eXBlLndoZW4gPSBmdW5jdGlvbiAobWF0Y2hlciwgaGFuZGxlciwgb3B0aW9ucykge1xuICAgICAgICB2YXIgcnVsZSA9IHRoaXMudXJsUnVsZUZhY3RvcnkuY3JlYXRlKG1hdGNoZXIsIGhhbmRsZXIpO1xuICAgICAgICBpZiAoaXNEZWZpbmVkKG9wdGlvbnMgJiYgb3B0aW9ucy5wcmlvcml0eSkpXG4gICAgICAgICAgICBydWxlLnByaW9yaXR5ID0gb3B0aW9ucy5wcmlvcml0eTtcbiAgICAgICAgdGhpcy5ydWxlKHJ1bGUpO1xuICAgICAgICByZXR1cm4gcnVsZTtcbiAgICB9O1xuICAgIFxuICAgIC8qKiBAaW5oZXJpdGRvYyAqL1xuICAgIFVybFJvdXRlci5wcm90b3R5cGUuZGVmZXJJbnRlcmNlcHQgPSBmdW5jdGlvbiAoZGVmZXIpIHtcbiAgICAgICAgaWYgKGRlZmVyID09PSB1bmRlZmluZWQpXG4gICAgICAgICAgICBkZWZlciA9IHRydWU7XG4gICAgICAgIHRoaXMuaW50ZXJjZXB0RGVmZXJyZWQgPSBkZWZlcjtcbiAgICB9O1xuICAgIFxuICAgIHJldHVybiBVcmxSb3V0ZXI7XG59KCkpO1xuZnVuY3Rpb24gZ2V0SGFuZGxlckZuKGhhbmRsZXIpIHtcbiAgICBpZiAoIWlzRnVuY3Rpb24oaGFuZGxlcikgJiYgIWlzU3RyaW5nKGhhbmRsZXIpICYmICFpcyhUYXJnZXRTdGF0ZSkoaGFuZGxlcikgJiYgIVRhcmdldFN0YXRlLmlzRGVmKGhhbmRsZXIpKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcIidoYW5kbGVyJyBtdXN0IGJlIGEgc3RyaW5nLCBmdW5jdGlvbiwgVGFyZ2V0U3RhdGUsIG9yIGhhdmUgYSBzdGF0ZTogJ25ld3RhcmdldCcgcHJvcGVydHlcIik7XG4gICAgfVxuICAgIHJldHVybiBpc0Z1bmN0aW9uKGhhbmRsZXIpID8gaGFuZGxlciA6IHZhbChoYW5kbGVyKTtcbn1cblxuLyoqXG4gKiBAY29yZWFwaVxuICogQG1vZHVsZSB2aWV3XG4gKi8gLyoqIGZvciB0eXBlZG9jICovXG4vKipcbiAqIFRoZSBWaWV3IHNlcnZpY2VcbiAqXG4gKiBUaGlzIHNlcnZpY2UgcGFpcnMgZXhpc3RpbmcgYHVpLXZpZXdgIGNvbXBvbmVudHMgKHdoaWNoIGxpdmUgaW4gdGhlIERPTSlcbiAqIHdpdGggdmlldyBjb25maWdzIChmcm9tIHRoZSBzdGF0ZSBkZWNsYXJhdGlvbiBvYmplY3RzOiBbW1N0YXRlRGVjbGFyYXRpb24udmlld3NdXSkuXG4gKlxuICogLSBBZnRlciBhIHN1Y2Nlc3NmdWwgVHJhbnNpdGlvbiwgdGhlIHZpZXdzIGZyb20gdGhlIG5ld2x5IGVudGVyZWQgc3RhdGVzIGFyZSBhY3RpdmF0ZWQgdmlhIFtbYWN0aXZhdGVWaWV3Q29uZmlnXV0uXG4gKiAgIFRoZSB2aWV3cyBmcm9tIGV4aXRlZCBzdGF0ZXMgYXJlIGRlYWN0aXZhdGVkIHZpYSBbW2RlYWN0aXZhdGVWaWV3Q29uZmlnXV0uXG4gKiAgIChTZWU6IHRoZSBbW3JlZ2lzdGVyQWN0aXZhdGVWaWV3c11dIFRyYW5zaXRpb24gSG9vaylcbiAqXG4gKiAtIEFzIGB1aS12aWV3YCBjb21wb25lbnRzIHBvcCBpbiBhbmQgb3V0IG9mIGV4aXN0ZW5jZSwgdGhleSByZWdpc3RlciB0aGVtc2VsdmVzIHVzaW5nIFtbcmVnaXN0ZXJVSVZpZXddXS5cbiAqXG4gKiAtIFdoZW4gdGhlIFtbc3luY11dIGZ1bmN0aW9uIGlzIGNhbGxlZCwgdGhlIHJlZ2lzdGVyZWQgYHVpLXZpZXdgKHMpIChbW0FjdGl2ZVVJVmlld11dKVxuICogYXJlIGNvbmZpZ3VyZWQgd2l0aCB0aGUgbWF0Y2hpbmcgW1tWaWV3Q29uZmlnXV0ocylcbiAqXG4gKi9cbnZhciBWaWV3U2VydmljZSA9IChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gVmlld1NlcnZpY2UoKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIHRoaXMuX3VpVmlld3MgPSBbXTtcbiAgICAgICAgdGhpcy5fdmlld0NvbmZpZ3MgPSBbXTtcbiAgICAgICAgdGhpcy5fdmlld0NvbmZpZ0ZhY3RvcmllcyA9IHt9O1xuICAgICAgICB0aGlzLl9wbHVnaW5hcGkgPSB7XG4gICAgICAgICAgICBfcm9vdFZpZXdDb250ZXh0OiB0aGlzLl9yb290Vmlld0NvbnRleHQuYmluZCh0aGlzKSxcbiAgICAgICAgICAgIF92aWV3Q29uZmlnRmFjdG9yeTogdGhpcy5fdmlld0NvbmZpZ0ZhY3RvcnkuYmluZCh0aGlzKSxcbiAgICAgICAgICAgIF9yZWdpc3RlcmVkVUlWaWV3czogZnVuY3Rpb24gKCkgeyByZXR1cm4gX3RoaXMuX3VpVmlld3M7IH0sXG4gICAgICAgICAgICBfYWN0aXZlVmlld0NvbmZpZ3M6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIF90aGlzLl92aWV3Q29uZmlnczsgfSxcbiAgICAgICAgfTtcbiAgICB9XG4gICAgVmlld1NlcnZpY2UucHJvdG90eXBlLl9yb290Vmlld0NvbnRleHQgPSBmdW5jdGlvbiAoY29udGV4dCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fcm9vdENvbnRleHQgPSBjb250ZXh0IHx8IHRoaXMuX3Jvb3RDb250ZXh0O1xuICAgIH07XG4gICAgXG4gICAgVmlld1NlcnZpY2UucHJvdG90eXBlLl92aWV3Q29uZmlnRmFjdG9yeSA9IGZ1bmN0aW9uICh2aWV3VHlwZSwgZmFjdG9yeSkge1xuICAgICAgICB0aGlzLl92aWV3Q29uZmlnRmFjdG9yaWVzW3ZpZXdUeXBlXSA9IGZhY3Rvcnk7XG4gICAgfTtcbiAgICBWaWV3U2VydmljZS5wcm90b3R5cGUuY3JlYXRlVmlld0NvbmZpZyA9IGZ1bmN0aW9uIChwYXRoLCBkZWNsKSB7XG4gICAgICAgIHZhciBjZmdGYWN0b3J5ID0gdGhpcy5fdmlld0NvbmZpZ0ZhY3Rvcmllc1tkZWNsLiR0eXBlXTtcbiAgICAgICAgaWYgKCFjZmdGYWN0b3J5KVxuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiVmlld1NlcnZpY2U6IE5vIHZpZXcgY29uZmlnIGZhY3RvcnkgcmVnaXN0ZXJlZCBmb3IgdHlwZSBcIiArIGRlY2wuJHR5cGUpO1xuICAgICAgICB2YXIgY2ZncyA9IGNmZ0ZhY3RvcnkocGF0aCwgZGVjbCk7XG4gICAgICAgIHJldHVybiBpc0FycmF5KGNmZ3MpID8gY2ZncyA6IFtjZmdzXTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIERlYWN0aXZhdGVzIGEgVmlld0NvbmZpZy5cbiAgICAgKlxuICAgICAqIFRoaXMgZnVuY3Rpb24gZGVhY3RpdmF0ZXMgYSBgVmlld0NvbmZpZ2AuXG4gICAgICogQWZ0ZXIgY2FsbGluZyBbW3N5bmNdXSwgaXQgd2lsbCB1bi1wYWlyIGZyb20gYW55IGB1aS12aWV3YCB3aXRoIHdoaWNoIGl0IGlzIGN1cnJlbnRseSBwYWlyZWQuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gdmlld0NvbmZpZyBUaGUgVmlld0NvbmZpZyB2aWV3IHRvIGRlcmVnaXN0ZXIuXG4gICAgICovXG4gICAgVmlld1NlcnZpY2UucHJvdG90eXBlLmRlYWN0aXZhdGVWaWV3Q29uZmlnID0gZnVuY3Rpb24gKHZpZXdDb25maWcpIHtcbiAgICAgICAgdHJhY2UudHJhY2VWaWV3U2VydmljZUV2ZW50KFwiPC0gUmVtb3ZpbmdcIiwgdmlld0NvbmZpZyk7XG4gICAgICAgIHJlbW92ZUZyb20odGhpcy5fdmlld0NvbmZpZ3MsIHZpZXdDb25maWcpO1xuICAgIH07XG4gICAgVmlld1NlcnZpY2UucHJvdG90eXBlLmFjdGl2YXRlVmlld0NvbmZpZyA9IGZ1bmN0aW9uICh2aWV3Q29uZmlnKSB7XG4gICAgICAgIHRyYWNlLnRyYWNlVmlld1NlcnZpY2VFdmVudChcIi0+IFJlZ2lzdGVyaW5nXCIsIHZpZXdDb25maWcpO1xuICAgICAgICB0aGlzLl92aWV3Q29uZmlncy5wdXNoKHZpZXdDb25maWcpO1xuICAgIH07XG4gICAgVmlld1NlcnZpY2UucHJvdG90eXBlLnN5bmMgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIHZhciB1aVZpZXdzQnlGcW4gPSB0aGlzLl91aVZpZXdzLm1hcChmdW5jdGlvbiAodWl2KSB7IHJldHVybiBbdWl2LmZxbiwgdWl2XTsgfSkucmVkdWNlKGFwcGx5UGFpcnMsIHt9KTtcbiAgICAgICAgLy8gUmV0dXJuIGEgd2VpZ2h0ZWQgZGVwdGggdmFsdWUgZm9yIGEgdWlWaWV3LlxuICAgICAgICAvLyBUaGUgZGVwdGggaXMgdGhlIG5lc3RpbmcgZGVwdGggb2YgdWktdmlld3MgKGJhc2VkIG9uIEZRTjsgdGltZXMgMTAsMDAwKVxuICAgICAgICAvLyBwbHVzIHRoZSBkZXB0aCBvZiB0aGUgc3RhdGUgdGhhdCBpcyBwb3B1bGF0aW5nIHRoZSB1aVZpZXdcbiAgICAgICAgZnVuY3Rpb24gdWlWaWV3RGVwdGgodWlWaWV3KSB7XG4gICAgICAgICAgICB2YXIgc3RhdGVEZXB0aCA9IGZ1bmN0aW9uIChjb250ZXh0KSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGNvbnRleHQgJiYgY29udGV4dC5wYXJlbnQgPyBzdGF0ZURlcHRoKGNvbnRleHQucGFyZW50KSArIDEgOiAxO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIHJldHVybiAodWlWaWV3LmZxbi5zcGxpdChcIi5cIikubGVuZ3RoICogMTAwMDApICsgc3RhdGVEZXB0aCh1aVZpZXcuY3JlYXRpb25Db250ZXh0KTtcbiAgICAgICAgfVxuICAgICAgICAvLyBSZXR1cm4gdGhlIFZpZXdDb25maWcncyBjb250ZXh0J3MgZGVwdGggaW4gdGhlIGNvbnRleHQgdHJlZS5cbiAgICAgICAgZnVuY3Rpb24gdmlld0NvbmZpZ0RlcHRoKGNvbmZpZykge1xuICAgICAgICAgICAgdmFyIGNvbnRleHQgPSBjb25maWcudmlld0RlY2wuJGNvbnRleHQsIGNvdW50ID0gMDtcbiAgICAgICAgICAgIHdoaWxlICgrK2NvdW50ICYmIGNvbnRleHQucGFyZW50KVxuICAgICAgICAgICAgICAgIGNvbnRleHQgPSBjb250ZXh0LnBhcmVudDtcbiAgICAgICAgICAgIHJldHVybiBjb3VudDtcbiAgICAgICAgfVxuICAgICAgICAvLyBHaXZlbiBhIGRlcHRoIGZ1bmN0aW9uLCByZXR1cm5zIGEgY29tcGFyZSBmdW5jdGlvbiB3aGljaCBjYW4gcmV0dXJuIGVpdGhlciBhc2NlbmRpbmcgb3IgZGVzY2VuZGluZyBvcmRlclxuICAgICAgICB2YXIgZGVwdGhDb21wYXJlID0gY3VycnkoZnVuY3Rpb24gKGRlcHRoRm4sIHBvc05lZywgbGVmdCwgcmlnaHQpIHsgcmV0dXJuIHBvc05lZyAqIChkZXB0aEZuKGxlZnQpIC0gZGVwdGhGbihyaWdodCkpOyB9KTtcbiAgICAgICAgdmFyIG1hdGNoaW5nQ29uZmlnUGFpciA9IGZ1bmN0aW9uICh1aVZpZXcpIHtcbiAgICAgICAgICAgIHZhciBtYXRjaGluZ0NvbmZpZ3MgPSBfdGhpcy5fdmlld0NvbmZpZ3MuZmlsdGVyKFZpZXdTZXJ2aWNlLm1hdGNoZXModWlWaWV3c0J5RnFuLCB1aVZpZXcpKTtcbiAgICAgICAgICAgIGlmIChtYXRjaGluZ0NvbmZpZ3MubGVuZ3RoID4gMSkge1xuICAgICAgICAgICAgICAgIC8vIFRoaXMgaXMgT0suICBDaGlsZCBzdGF0ZXMgY2FuIHRhcmdldCBhIHVpLXZpZXcgdGhhdCB0aGUgcGFyZW50IHN0YXRlIGFsc28gdGFyZ2V0cyAodGhlIGNoaWxkIHdpbnMpXG4gICAgICAgICAgICAgICAgLy8gU29ydCBieSBkZXB0aCBhbmQgcmV0dXJuIHRoZSBtYXRjaCBmcm9tIHRoZSBkZWVwZXN0IGNoaWxkXG4gICAgICAgICAgICAgICAgLy8gY29uc29sZS5sb2coYE11bHRpcGxlIG1hdGNoaW5nIHZpZXcgY29uZmlncyBmb3IgJHt1aVZpZXcuZnFufWAsIG1hdGNoaW5nQ29uZmlncyk7XG4gICAgICAgICAgICAgICAgbWF0Y2hpbmdDb25maWdzLnNvcnQoZGVwdGhDb21wYXJlKHZpZXdDb25maWdEZXB0aCwgLTEpKTsgLy8gZGVzY2VuZGluZ1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIFt1aVZpZXcsIG1hdGNoaW5nQ29uZmlnc1swXV07XG4gICAgICAgIH07XG4gICAgICAgIHZhciBjb25maWd1cmVVSVZpZXcgPSBmdW5jdGlvbiAoX2EpIHtcbiAgICAgICAgICAgIHZhciB1aVZpZXcgPSBfYVswXSwgdmlld0NvbmZpZyA9IF9hWzFdO1xuICAgICAgICAgICAgLy8gSWYgYSBwYXJlbnQgdWktdmlldyBpcyByZWNvbmZpZ3VyZWQsIGl0IGNvdWxkIGRlc3Ryb3kgY2hpbGQgdWktdmlld3MuXG4gICAgICAgICAgICAvLyBCZWZvcmUgY29uZmlndXJpbmcgYSBjaGlsZCB1aS12aWV3LCBtYWtlIHN1cmUgaXQncyBzdGlsbCBpbiB0aGUgYWN0aXZlIHVpVmlld3MgYXJyYXkuXG4gICAgICAgICAgICBpZiAoX3RoaXMuX3VpVmlld3MuaW5kZXhPZih1aVZpZXcpICE9PSAtMSlcbiAgICAgICAgICAgICAgICB1aVZpZXcuY29uZmlnVXBkYXRlZCh2aWV3Q29uZmlnKTtcbiAgICAgICAgfTtcbiAgICAgICAgLy8gU29ydCB2aWV3cyBieSBGUU4gYW5kIHN0YXRlIGRlcHRoLiBQcm9jZXNzIHVpdmlld3MgbmVhcmVzdCB0aGUgcm9vdCBmaXJzdC5cbiAgICAgICAgdGhpcy5fdWlWaWV3cy5zb3J0KGRlcHRoQ29tcGFyZSh1aVZpZXdEZXB0aCwgMSkpLm1hcChtYXRjaGluZ0NvbmZpZ1BhaXIpLmZvckVhY2goY29uZmlndXJlVUlWaWV3KTtcbiAgICB9O1xuICAgIFxuICAgIC8qKlxuICAgICAqIFJlZ2lzdGVycyBhIGB1aS12aWV3YCBjb21wb25lbnRcbiAgICAgKlxuICAgICAqIFdoZW4gYSBgdWktdmlld2AgY29tcG9uZW50IGlzIGNyZWF0ZWQsIGl0IHVzZXMgdGhpcyBtZXRob2QgdG8gcmVnaXN0ZXIgaXRzZWxmLlxuICAgICAqIEFmdGVyIHJlZ2lzdHJhdGlvbiB0aGUgW1tzeW5jXV0gbWV0aG9kIGlzIHVzZWQgdG8gZW5zdXJlIGFsbCBgdWktdmlld2AgYXJlIGNvbmZpZ3VyZWQgd2l0aCB0aGUgcHJvcGVyIFtbVmlld0NvbmZpZ11dLlxuICAgICAqXG4gICAgICogTm90ZTogdGhlIGB1aS12aWV3YCBjb21wb25lbnQgdXNlcyB0aGUgYFZpZXdDb25maWdgIHRvIGRldGVybWluZSB3aGF0IHZpZXcgc2hvdWxkIGJlIGxvYWRlZCBpbnNpZGUgdGhlIGB1aS12aWV3YCxcbiAgICAgKiBhbmQgd2hhdCB0aGUgdmlldydzIHN0YXRlIGNvbnRleHQgaXMuXG4gICAgICpcbiAgICAgKiBOb3RlOiBUaGVyZSBpcyBubyBjb3JyZXNwb25kaW5nIGBkZXJlZ2lzdGVyVUlWaWV3YC5cbiAgICAgKiAgICAgICBBIGB1aS12aWV3YCBzaG91bGQgaGFuZyBvbiB0byB0aGUgcmV0dXJuIHZhbHVlIG9mIGByZWdpc3RlclVJVmlld2AgYW5kIGludm9rZSBpdCB0byBkZXJlZ2lzdGVyIGl0c2VsZi5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB1aVZpZXcgVGhlIG1ldGFkYXRhIGZvciBhIFVJVmlld1xuICAgICAqIEByZXR1cm4gYSBkZS1yZWdpc3RyYXRpb24gZnVuY3Rpb24gdXNlZCB3aGVuIHRoZSB2aWV3IGlzIGRlc3Ryb3llZC5cbiAgICAgKi9cbiAgICBWaWV3U2VydmljZS5wcm90b3R5cGUucmVnaXN0ZXJVSVZpZXcgPSBmdW5jdGlvbiAodWlWaWV3KSB7XG4gICAgICAgIHRyYWNlLnRyYWNlVmlld1NlcnZpY2VVSVZpZXdFdmVudChcIi0+IFJlZ2lzdGVyaW5nXCIsIHVpVmlldyk7XG4gICAgICAgIHZhciB1aVZpZXdzID0gdGhpcy5fdWlWaWV3cztcbiAgICAgICAgdmFyIGZxbk1hdGNoZXMgPSBmdW5jdGlvbiAodWl2KSB7IHJldHVybiB1aXYuZnFuID09PSB1aVZpZXcuZnFuOyB9O1xuICAgICAgICBpZiAodWlWaWV3cy5maWx0ZXIoZnFuTWF0Y2hlcykubGVuZ3RoKVxuICAgICAgICAgICAgdHJhY2UudHJhY2VWaWV3U2VydmljZVVJVmlld0V2ZW50KFwiISEhISBkdXBsaWNhdGUgdWlWaWV3IG5hbWVkOlwiLCB1aVZpZXcpO1xuICAgICAgICB1aVZpZXdzLnB1c2godWlWaWV3KTtcbiAgICAgICAgdGhpcy5zeW5jKCk7XG4gICAgICAgIHJldHVybiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB2YXIgaWR4ID0gdWlWaWV3cy5pbmRleE9mKHVpVmlldyk7XG4gICAgICAgICAgICBpZiAoaWR4ID09PSAtMSkge1xuICAgICAgICAgICAgICAgIHRyYWNlLnRyYWNlVmlld1NlcnZpY2VVSVZpZXdFdmVudChcIlRyaWVkIHJlbW92aW5nIG5vbi1yZWdpc3RlcmVkIHVpVmlld1wiLCB1aVZpZXcpO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRyYWNlLnRyYWNlVmlld1NlcnZpY2VVSVZpZXdFdmVudChcIjwtIERlcmVnaXN0ZXJpbmdcIiwgdWlWaWV3KTtcbiAgICAgICAgICAgIHJlbW92ZUZyb20odWlWaWV3cykodWlWaWV3KTtcbiAgICAgICAgfTtcbiAgICB9O1xuICAgIFxuICAgIC8qKlxuICAgICAqIFJldHVybnMgdGhlIGxpc3Qgb2Ygdmlld3MgY3VycmVudGx5IGF2YWlsYWJsZSBvbiB0aGUgcGFnZSwgYnkgZnVsbHktcXVhbGlmaWVkIG5hbWUuXG4gICAgICpcbiAgICAgKiBAcmV0dXJuIHtBcnJheX0gUmV0dXJucyBhbiBhcnJheSBvZiBmdWxseS1xdWFsaWZpZWQgdmlldyBuYW1lcy5cbiAgICAgKi9cbiAgICBWaWV3U2VydmljZS5wcm90b3R5cGUuYXZhaWxhYmxlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fdWlWaWV3cy5tYXAocHJvcChcImZxblwiKSk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIHRoZSBsaXN0IG9mIHZpZXdzIG9uIHRoZSBwYWdlIGNvbnRhaW5pbmcgbG9hZGVkIGNvbnRlbnQuXG4gICAgICpcbiAgICAgKiBAcmV0dXJuIHtBcnJheX0gUmV0dXJucyBhbiBhcnJheSBvZiBmdWxseS1xdWFsaWZpZWQgdmlldyBuYW1lcy5cbiAgICAgKi9cbiAgICBWaWV3U2VydmljZS5wcm90b3R5cGUuYWN0aXZlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fdWlWaWV3cy5maWx0ZXIocHJvcChcIiRjb25maWdcIikpLm1hcChwcm9wKFwibmFtZVwiKSk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBOb3JtYWxpemVzIGEgdmlldydzIG5hbWUgZnJvbSBhIHN0YXRlLnZpZXdzIGNvbmZpZ3VyYXRpb24gYmxvY2suXG4gICAgICpcbiAgICAgKiBUaGlzIHNob3VsZCBiZSB1c2VkIGJ5IGEgZnJhbWV3b3JrIGltcGxlbWVudGF0aW9uIHRvIGNhbGN1bGF0ZSB0aGUgdmFsdWVzIGZvclxuICAgICAqIFtbX1ZpZXdEZWNsYXJhdGlvbi4kdWlWaWV3TmFtZV1dIGFuZCBbW19WaWV3RGVjbGFyYXRpb24uJHVpVmlld0NvbnRleHRBbmNob3JdXS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBjb250ZXh0IHRoZSBjb250ZXh0IG9iamVjdCAoc3RhdGUgZGVjbGFyYXRpb24pIHRoYXQgdGhlIHZpZXcgYmVsb25ncyB0b1xuICAgICAqIEBwYXJhbSByYXdWaWV3TmFtZSB0aGUgbmFtZSBvZiB0aGUgdmlldywgYXMgZGVjbGFyZWQgaW4gdGhlIFtbU3RhdGVEZWNsYXJhdGlvbi52aWV3c11dXG4gICAgICpcbiAgICAgKiBAcmV0dXJucyB0aGUgbm9ybWFsaXplZCB1aVZpZXdOYW1lIGFuZCB1aVZpZXdDb250ZXh0QW5jaG9yIHRoYXQgdGhlIHZpZXcgdGFyZ2V0c1xuICAgICAqL1xuICAgIFZpZXdTZXJ2aWNlLm5vcm1hbGl6ZVVJVmlld1RhcmdldCA9IGZ1bmN0aW9uIChjb250ZXh0LCByYXdWaWV3TmFtZSkge1xuICAgICAgICBpZiAocmF3Vmlld05hbWUgPT09IHZvaWQgMCkgeyByYXdWaWV3TmFtZSA9IFwiXCI7IH1cbiAgICAgICAgLy8gVE9ETzogVmFsaWRhdGUgaW5jb21pbmcgdmlldyBuYW1lIHdpdGggYSByZWdleHAgdG8gYWxsb3c6XG4gICAgICAgIC8vIGV4OiBcInZpZXcubmFtZUBmb28uYmFyXCIgLCBcIl4uXi52aWV3Lm5hbWVcIiAsIFwidmlldy5uYW1lQF4uXlwiICwgXCJcIiAsXG4gICAgICAgIC8vIFwiQFwiICwgXCIkZGVmYXVsdEBeXCIgLCBcIiEkZGVmYXVsdC4kZGVmYXVsdFwiICwgXCIhZm9vLmJhclwiXG4gICAgICAgIHZhciB2aWV3QXRDb250ZXh0ID0gcmF3Vmlld05hbWUuc3BsaXQoXCJAXCIpO1xuICAgICAgICB2YXIgdWlWaWV3TmFtZSA9IHZpZXdBdENvbnRleHRbMF0gfHwgXCIkZGVmYXVsdFwiOyAvLyBkZWZhdWx0IHRvIHVubmFtZWQgdmlld1xuICAgICAgICB2YXIgdWlWaWV3Q29udGV4dEFuY2hvciA9IGlzU3RyaW5nKHZpZXdBdENvbnRleHRbMV0pID8gdmlld0F0Q29udGV4dFsxXSA6IFwiXlwiOyAvLyBkZWZhdWx0IHRvIHBhcmVudCBjb250ZXh0XG4gICAgICAgIC8vIEhhbmRsZSByZWxhdGl2ZSB2aWV3LW5hbWUgc3VnYXIgc3ludGF4LlxuICAgICAgICAvLyBNYXRjaGVzIHJhd1ZpZXdOYW1lIFwiXi5eLl4uZm9vLmJhclwiIGludG8gYXJyYXk6IFtcIl4uXi5eLmZvby5iYXJcIiwgXCJeLl4uXlwiLCBcImZvby5iYXJcIl0sXG4gICAgICAgIHZhciByZWxhdGl2ZVZpZXdOYW1lU3VnYXIgPSAvXihcXF4oPzpcXC5cXF4pKilcXC4oLiokKS8uZXhlYyh1aVZpZXdOYW1lKTtcbiAgICAgICAgaWYgKHJlbGF0aXZlVmlld05hbWVTdWdhcikge1xuICAgICAgICAgICAgLy8gQ2xvYmJlcnMgZXhpc3RpbmcgY29udGV4dEFuY2hvciAocmF3Vmlld05hbWUgdmFsaWRhdGlvbiB3aWxsIGZpeCB0aGlzKVxuICAgICAgICAgICAgdWlWaWV3Q29udGV4dEFuY2hvciA9IHJlbGF0aXZlVmlld05hbWVTdWdhclsxXTsgLy8gc2V0IGFuY2hvciB0byBcIl4uXi5eXCJcbiAgICAgICAgICAgIHVpVmlld05hbWUgPSByZWxhdGl2ZVZpZXdOYW1lU3VnYXJbMl07IC8vIHNldCB2aWV3LW5hbWUgdG8gXCJmb28uYmFyXCJcbiAgICAgICAgfVxuICAgICAgICBpZiAodWlWaWV3TmFtZS5jaGFyQXQoMCkgPT09ICchJykge1xuICAgICAgICAgICAgdWlWaWV3TmFtZSA9IHVpVmlld05hbWUuc3Vic3RyKDEpO1xuICAgICAgICAgICAgdWlWaWV3Q29udGV4dEFuY2hvciA9IFwiXCI7IC8vIHRhcmdldCBhYnNvbHV0ZWx5IGZyb20gcm9vdFxuICAgICAgICB9XG4gICAgICAgIC8vIGhhbmRsZSBwYXJlbnQgcmVsYXRpdmUgdGFyZ2V0aW5nIFwiXi5eLl5cIlxuICAgICAgICB2YXIgcmVsYXRpdmVNYXRjaCA9IC9eKFxcXig/OlxcLlxcXikqKSQvO1xuICAgICAgICBpZiAocmVsYXRpdmVNYXRjaC5leGVjKHVpVmlld0NvbnRleHRBbmNob3IpKSB7XG4gICAgICAgICAgICB2YXIgYW5jaG9yID0gdWlWaWV3Q29udGV4dEFuY2hvci5zcGxpdChcIi5cIikucmVkdWNlKChmdW5jdGlvbiAoYW5jaG9yLCB4KSB7IHJldHVybiBhbmNob3IucGFyZW50OyB9KSwgY29udGV4dCk7XG4gICAgICAgICAgICB1aVZpZXdDb250ZXh0QW5jaG9yID0gYW5jaG9yLm5hbWU7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAodWlWaWV3Q29udGV4dEFuY2hvciA9PT0gJy4nKSB7XG4gICAgICAgICAgICB1aVZpZXdDb250ZXh0QW5jaG9yID0gY29udGV4dC5uYW1lO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB7IHVpVmlld05hbWU6IHVpVmlld05hbWUsIHVpVmlld0NvbnRleHRBbmNob3I6IHVpVmlld0NvbnRleHRBbmNob3IgfTtcbiAgICB9O1xuICAgIHJldHVybiBWaWV3U2VydmljZTtcbn0oKSk7XG4vKipcbiAqIEdpdmVuIGEgdWktdmlldyBhbmQgYSBWaWV3Q29uZmlnLCBkZXRlcm1pbmVzIGlmIHRoZXkgXCJtYXRjaFwiLlxuICpcbiAqIEEgdWktdmlldyBoYXMgYSBmdWxseSBxdWFsaWZpZWQgbmFtZSAoZnFuKSBhbmQgYSBjb250ZXh0IG9iamVjdC4gIFRoZSBmcW4gaXMgYnVpbHQgZnJvbSBpdHMgb3ZlcmFsbCBsb2NhdGlvbiBpblxuICogdGhlIERPTSwgZGVzY3JpYmluZyBpdHMgbmVzdGluZyByZWxhdGlvbnNoaXAgdG8gYW55IHBhcmVudCB1aS12aWV3IHRhZ3MgaXQgaXMgbmVzdGVkIGluc2lkZSBvZi5cbiAqXG4gKiBBIFZpZXdDb25maWcgaGFzIGEgdGFyZ2V0IHVpLXZpZXcgbmFtZSBhbmQgYSBjb250ZXh0IGFuY2hvci4gIFRoZSB1aS12aWV3IG5hbWUgY2FuIGJlIGEgc2ltcGxlIG5hbWUsIG9yXG4gKiBjYW4gYmUgYSBzZWdtZW50ZWQgdWktdmlldyBwYXRoLCBkZXNjcmliaW5nIGEgcG9ydGlvbiBvZiBhIHVpLXZpZXcgZnFuLlxuICpcbiAqIEluIG9yZGVyIGZvciBhIHVpLXZpZXcgdG8gbWF0Y2ggVmlld0NvbmZpZywgdWktdmlldydzICR0eXBlIG11c3QgbWF0Y2ggdGhlIFZpZXdDb25maWcncyAkdHlwZVxuICpcbiAqIElmIHRoZSBWaWV3Q29uZmlnJ3MgdGFyZ2V0IHVpLXZpZXcgbmFtZSBpcyBhIHNpbXBsZSBuYW1lIChubyBkb3RzKSwgdGhlbiBhIHVpLXZpZXcgbWF0Y2hlcyBpZjpcbiAqIC0gdGhlIHVpLXZpZXcncyBuYW1lIG1hdGNoZXMgdGhlIFZpZXdDb25maWcncyB0YXJnZXQgbmFtZVxuICogLSB0aGUgdWktdmlldydzIGNvbnRleHQgbWF0Y2hlcyB0aGUgVmlld0NvbmZpZydzIGFuY2hvclxuICpcbiAqIElmIHRoZSBWaWV3Q29uZmlnJ3MgdGFyZ2V0IHVpLXZpZXcgbmFtZSBpcyBhIHNlZ21lbnRlZCBuYW1lICh3aXRoIGRvdHMpLCB0aGVuIGEgdWktdmlldyBtYXRjaGVzIGlmOlxuICogLSBUaGVyZSBleGlzdHMgYSBwYXJlbnQgdWktdmlldyB3aGVyZTpcbiAqICAgIC0gdGhlIHBhcmVudCB1aS12aWV3J3MgbmFtZSBtYXRjaGVzIHRoZSBmaXJzdCBzZWdtZW50IChpbmRleCAwKSBvZiB0aGUgVmlld0NvbmZpZydzIHRhcmdldCBuYW1lXG4gKiAgICAtIHRoZSBwYXJlbnQgdWktdmlldydzIGNvbnRleHQgbWF0Y2hlcyB0aGUgVmlld0NvbmZpZydzIGFuY2hvclxuICogLSBBbmQgdGhlIHJlbWFpbmluZyBzZWdtZW50cyAoaW5kZXggMS4ubikgb2YgdGhlIFZpZXdDb25maWcncyB0YXJnZXQgbmFtZSBtYXRjaCB0aGUgdGFpbCBvZiB0aGUgdWktdmlldydzIGZxblxuICpcbiAqIEV4YW1wbGU6XG4gKlxuICogRE9NOlxuICogPHVpLXZpZXc+ICAgICAgICAgICAgICAgICAgICAgICAgPCEtLSBjcmVhdGVkIGluIHRoZSByb290IGNvbnRleHQgKG5hbWU6IFwiXCIpIC0tPlxuICogICA8dWktdmlldyBuYW1lPVwiZm9vXCI+ICAgICAgICAgICAgICAgIDwhLS0gY3JlYXRlZCBpbiB0aGUgY29udGV4dCBuYW1lZDogXCJBXCIgICAgICAtLT5cbiAqICAgICA8dWktdmlldz4gICAgICAgICAgICAgICAgICAgIDwhLS0gY3JlYXRlZCBpbiB0aGUgY29udGV4dCBuYW1lZDogXCJBLkJcIiAgICAtLT5cbiAqICAgICAgIDx1aS12aWV3IG5hbWU9XCJiYXJcIj4gICAgICAgICAgICA8IS0tIGNyZWF0ZWQgaW4gdGhlIGNvbnRleHQgbmFtZWQ6IFwiQS5CLkNcIiAgLS0+XG4gKiAgICAgICA8L3VpLXZpZXc+XG4gKiAgICAgPC91aS12aWV3PlxuICogICA8L3VpLXZpZXc+XG4gKiA8L3VpLXZpZXc+XG4gKlxuICogdWlWaWV3czogW1xuICogIHsgZnFuOiBcIiRkZWZhdWx0XCIsICAgICAgICAgICAgICAgICAgY3JlYXRpb25Db250ZXh0OiB7IG5hbWU6IFwiXCIgfSB9LFxuICogIHsgZnFuOiBcIiRkZWZhdWx0LmZvb1wiLCAgICAgICAgICAgICAgY3JlYXRpb25Db250ZXh0OiB7IG5hbWU6IFwiQVwiIH0gfSxcbiAqICB7IGZxbjogXCIkZGVmYXVsdC5mb28uJGRlZmF1bHRcIiwgICAgIGNyZWF0aW9uQ29udGV4dDogeyBuYW1lOiBcIkEuQlwiIH0gfVxuICogIHsgZnFuOiBcIiRkZWZhdWx0LmZvby4kZGVmYXVsdC5iYXJcIiwgY3JlYXRpb25Db250ZXh0OiB7IG5hbWU6IFwiQS5CLkNcIiB9IH1cbiAqIF1cbiAqXG4gKiBUaGVzZSBmb3VyIHZpZXcgY29uZmlncyBhbGwgbWF0Y2ggdGhlIHVpLXZpZXcgd2l0aCB0aGUgZnFuOiBcIiRkZWZhdWx0LmZvby4kZGVmYXVsdC5iYXJcIjpcbiAqXG4gKiAtIFZpZXdDb25maWcxOiB7IHVpVmlld05hbWU6IFwiYmFyXCIsICAgICAgICAgICAgICAgICAgICAgICB1aVZpZXdDb250ZXh0QW5jaG9yOiBcIkEuQi5DXCIgfVxuICogLSBWaWV3Q29uZmlnMjogeyB1aVZpZXdOYW1lOiBcIiRkZWZhdWx0LmJhclwiLCAgICAgICAgICAgICAgdWlWaWV3Q29udGV4dEFuY2hvcjogXCJBLkJcIiB9XG4gKiAtIFZpZXdDb25maWczOiB7IHVpVmlld05hbWU6IFwiZm9vLiRkZWZhdWx0LmJhclwiLCAgICAgICAgICB1aVZpZXdDb250ZXh0QW5jaG9yOiBcIkFcIiB9XG4gKiAtIFZpZXdDb25maWc0OiB7IHVpVmlld05hbWU6IFwiJGRlZmF1bHQuZm9vLiRkZWZhdWx0LmJhclwiLCB1aVZpZXdDb250ZXh0QW5jaG9yOiBcIlwiIH1cbiAqXG4gKiBVc2luZyBWaWV3Q29uZmlnMyBhcyBhbiBleGFtcGxlLCBpdCBtYXRjaGVzIHRoZSB1aS12aWV3IHdpdGggZnFuIFwiJGRlZmF1bHQuZm9vLiRkZWZhdWx0LmJhclwiIGJlY2F1c2U6XG4gKiAtIFRoZSBWaWV3Q29uZmlnJ3Mgc2VnbWVudGVkIHRhcmdldCBuYW1lIGlzOiBbIFwiZm9vXCIsIFwiJGRlZmF1bHRcIiwgXCJiYXJcIiBdXG4gKiAtIFRoZXJlIGV4aXN0cyBhIHBhcmVudCB1aS12aWV3ICh3aGljaCBoYXMgZnFuOiBcIiRkZWZhdWx0LmZvb1wiKSB3aGVyZTpcbiAqICAgIC0gdGhlIHBhcmVudCB1aS12aWV3J3MgbmFtZSBcImZvb1wiIG1hdGNoZXMgdGhlIGZpcnN0IHNlZ21lbnQgXCJmb29cIiBvZiB0aGUgVmlld0NvbmZpZydzIHRhcmdldCBuYW1lXG4gKiAgICAtIHRoZSBwYXJlbnQgdWktdmlldydzIGNvbnRleHQgXCJBXCIgbWF0Y2hlcyB0aGUgVmlld0NvbmZpZydzIGFuY2hvciBjb250ZXh0IFwiQVwiXG4gKiAtIEFuZCB0aGUgcmVtYWluaW5nIHNlZ21lbnRzIFsgXCIkZGVmYXVsdFwiLCBcImJhclwiIF0uam9pbihcIi5cIl8gb2YgdGhlIFZpZXdDb25maWcncyB0YXJnZXQgbmFtZSBtYXRjaFxuICogICB0aGUgdGFpbCBvZiB0aGUgdWktdmlldydzIGZxbiBcImRlZmF1bHQuYmFyXCJcbiAqXG4gKiBAaW50ZXJuYWxhcGlcbiAqL1xuVmlld1NlcnZpY2UubWF0Y2hlcyA9IGZ1bmN0aW9uICh1aVZpZXdzQnlGcW4sIHVpVmlldykgeyByZXR1cm4gZnVuY3Rpb24gKHZpZXdDb25maWcpIHtcbiAgICAvLyBEb24ndCBzdXBwbHkgYW4gbmcxIHVpLXZpZXcgd2l0aCBhbiBuZzIgVmlld0NvbmZpZywgZXRjXG4gICAgaWYgKHVpVmlldy4kdHlwZSAhPT0gdmlld0NvbmZpZy52aWV3RGVjbC4kdHlwZSlcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIC8vIFNwbGl0IG5hbWVzIGFwYXJ0IGZyb20gYm90aCB2aWV3Q29uZmlnIGFuZCB1aVZpZXcgaW50byBzZWdtZW50c1xuICAgIHZhciB2YyA9IHZpZXdDb25maWcudmlld0RlY2w7XG4gICAgdmFyIHZjU2VnbWVudHMgPSB2Yy4kdWlWaWV3TmFtZS5zcGxpdChcIi5cIik7XG4gICAgdmFyIHVpdlNlZ21lbnRzID0gdWlWaWV3LmZxbi5zcGxpdChcIi5cIik7XG4gICAgLy8gQ2hlY2sgaWYgdGhlIHRhaWxzIG9mIHRoZSBzZWdtZW50IGFycmF5cyBtYXRjaC4gZXgsIHRoZXNlIGFycmF5cycgdGFpbHMgbWF0Y2g6XG4gICAgLy8gdmM6IFtcImZvb1wiLCBcImJhclwiXSwgdWl2IGZxbjogW1wiJGRlZmF1bHRcIiwgXCJmb29cIiwgXCJiYXJcIl1cbiAgICBpZiAoIWVxdWFscyh2Y1NlZ21lbnRzLCB1aXZTZWdtZW50cy5zbGljZSgwIC0gdmNTZWdtZW50cy5sZW5ndGgpKSlcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIC8vIE5vdyBjaGVjayBpZiB0aGUgZnFuIGVuZGluZyBhdCB0aGUgZmlyc3Qgc2VnbWVudCBvZiB0aGUgdmlld0NvbmZpZyBtYXRjaGVzIHRoZSBjb250ZXh0OlxuICAgIC8vIFtcIiRkZWZhdWx0XCIsIFwiZm9vXCJdLmpvaW4oXCIuXCIpID09IFwiJGRlZmF1bHQuZm9vXCIsIGRvZXMgdGhlIHVpLXZpZXcgJGRlZmF1bHQuZm9vIGNvbnRleHQgbWF0Y2g/XG4gICAgdmFyIG5lZ09mZnNldCA9ICgxIC0gdmNTZWdtZW50cy5sZW5ndGgpIHx8IHVuZGVmaW5lZDtcbiAgICB2YXIgZnFuVG9GaXJzdFNlZ21lbnQgPSB1aXZTZWdtZW50cy5zbGljZSgwLCBuZWdPZmZzZXQpLmpvaW4oXCIuXCIpO1xuICAgIHZhciB1aVZpZXdDb250ZXh0ID0gdWlWaWV3c0J5RnFuW2ZxblRvRmlyc3RTZWdtZW50XS5jcmVhdGlvbkNvbnRleHQ7XG4gICAgcmV0dXJuIHZjLiR1aVZpZXdDb250ZXh0QW5jaG9yID09PSAodWlWaWV3Q29udGV4dCAmJiB1aVZpZXdDb250ZXh0Lm5hbWUpO1xufTsgfTtcblxuLyoqXG4gKiBAY29yZWFwaVxuICogQG1vZHVsZSBjb3JlXG4gKi8gLyoqICovXG4vKipcbiAqIEdsb2JhbCByb3V0ZXIgc3RhdGVcbiAqXG4gKiBUaGlzIGlzIHdoZXJlIHdlIGhvbGQgdGhlIGdsb2JhbCBtdXRhYmxlIHN0YXRlIHN1Y2ggYXMgY3VycmVudCBzdGF0ZSwgY3VycmVudFxuICogcGFyYW1zLCBjdXJyZW50IHRyYW5zaXRpb24sIGV0Yy5cbiAqL1xudmFyIFVJUm91dGVyR2xvYmFscyA9IChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gVUlSb3V0ZXJHbG9iYWxzKCkge1xuICAgICAgICAvKipcbiAgICAgICAgICogQ3VycmVudCBwYXJhbWV0ZXIgdmFsdWVzXG4gICAgICAgICAqXG4gICAgICAgICAqIFRoZSBwYXJhbWV0ZXIgdmFsdWVzIGZyb20gdGhlIGxhdGVzdCBzdWNjZXNzZnVsIHRyYW5zaXRpb25cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMucGFyYW1zID0gbmV3IFN0YXRlUGFyYW1zKCk7XG4gICAgICAgIC8qKiBAaW50ZXJuYWxhcGkgKi9cbiAgICAgICAgdGhpcy5sYXN0U3RhcnRlZFRyYW5zaXRpb25JZCA9IC0xO1xuICAgICAgICAvKiogQGludGVybmFsYXBpICovXG4gICAgICAgIHRoaXMudHJhbnNpdGlvbkhpc3RvcnkgPSBuZXcgUXVldWUoW10sIDEpO1xuICAgICAgICAvKiogQGludGVybmFsYXBpICovXG4gICAgICAgIHRoaXMuc3VjY2Vzc2Z1bFRyYW5zaXRpb25zID0gbmV3IFF1ZXVlKFtdLCAxKTtcbiAgICB9XG4gICAgVUlSb3V0ZXJHbG9iYWxzLnByb3RvdHlwZS5kaXNwb3NlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLnRyYW5zaXRpb25IaXN0b3J5LmNsZWFyKCk7XG4gICAgICAgIHRoaXMuc3VjY2Vzc2Z1bFRyYW5zaXRpb25zLmNsZWFyKCk7XG4gICAgICAgIHRoaXMudHJhbnNpdGlvbiA9IG51bGw7XG4gICAgfTtcbiAgICByZXR1cm4gVUlSb3V0ZXJHbG9iYWxzO1xufSgpKTtcblxuLyoqXG4gKiBAY29yZWFwaVxuICogQG1vZHVsZSB1cmxcbiAqLyAvKiogKi9cbi8qKiBAaGlkZGVuICovXG52YXIgbWFrZVN0dWIgPSBmdW5jdGlvbiAoa2V5cykge1xuICAgIHJldHVybiBrZXlzLnJlZHVjZShmdW5jdGlvbiAoYWNjLCBrZXkpIHsgcmV0dXJuIChhY2Nba2V5XSA9IG5vdEltcGxlbWVudGVkKGtleSksIGFjYyk7IH0sIHsgZGlzcG9zZTogbm9vcCQxIH0pO1xufTtcbi8qKiBAaGlkZGVuICovIHZhciBsb2NhdGlvblNlcnZpY2VzRm5zID0gW1widXJsXCIsIFwicGF0aFwiLCBcInNlYXJjaFwiLCBcImhhc2hcIiwgXCJvbkNoYW5nZVwiXTtcbi8qKiBAaGlkZGVuICovIHZhciBsb2NhdGlvbkNvbmZpZ0ZucyA9IFtcInBvcnRcIiwgXCJwcm90b2NvbFwiLCBcImhvc3RcIiwgXCJiYXNlSHJlZlwiLCBcImh0bWw1TW9kZVwiLCBcImhhc2hQcmVmaXhcIl07XG4vKiogQGhpZGRlbiAqLyB2YXIgdW1mRm5zID0gW1widHlwZVwiLCBcImNhc2VJbnNlbnNpdGl2ZVwiLCBcInN0cmljdE1vZGVcIiwgXCJkZWZhdWx0U3F1YXNoUG9saWN5XCJdO1xuLyoqIEBoaWRkZW4gKi8gdmFyIHJ1bGVzRm5zID0gW1wic29ydFwiLCBcIndoZW5cIiwgXCJpbml0aWFsXCIsIFwib3RoZXJ3aXNlXCIsIFwicnVsZXNcIiwgXCJydWxlXCIsIFwicmVtb3ZlUnVsZVwiXTtcbi8qKiBAaGlkZGVuICovIHZhciBzeW5jRm5zID0gW1wiZGVmZXJJbnRlcmNlcHRcIiwgXCJsaXN0ZW5cIiwgXCJzeW5jXCIsIFwibWF0Y2hcIl07XG4vKipcbiAqIEFQSSBmb3IgVVJMIG1hbmFnZW1lbnRcbiAqL1xudmFyIFVybFNlcnZpY2UgPSAoZnVuY3Rpb24gKCkge1xuICAgIC8qKiBAaGlkZGVuICovXG4gICAgZnVuY3Rpb24gVXJsU2VydmljZShyb3V0ZXIsIGxhdGVCaW5kKSB7XG4gICAgICAgIGlmIChsYXRlQmluZCA9PT0gdm9pZCAwKSB7IGxhdGVCaW5kID0gdHJ1ZTsgfVxuICAgICAgICB0aGlzLnJvdXRlciA9IHJvdXRlcjtcbiAgICAgICAgdGhpcy5ydWxlcyA9IHt9O1xuICAgICAgICB0aGlzLmNvbmZpZyA9IHt9O1xuICAgICAgICAvLyBwcm94eSBmdW5jdGlvbiBjYWxscyBmcm9tIFVybFNlcnZpY2UgdG8gdGhlIExvY2F0aW9uU2VydmljZS9Mb2NhdGlvbkNvbmZpZ1xuICAgICAgICB2YXIgbG9jYXRpb25TZXJ2aWNlcyA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHJvdXRlci5sb2NhdGlvblNlcnZpY2U7IH07XG4gICAgICAgIGNyZWF0ZVByb3h5RnVuY3Rpb25zKGxvY2F0aW9uU2VydmljZXMsIHRoaXMsIGxvY2F0aW9uU2VydmljZXMsIGxvY2F0aW9uU2VydmljZXNGbnMsIGxhdGVCaW5kKTtcbiAgICAgICAgdmFyIGxvY2F0aW9uQ29uZmlnID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gcm91dGVyLmxvY2F0aW9uQ29uZmlnOyB9O1xuICAgICAgICBjcmVhdGVQcm94eUZ1bmN0aW9ucyhsb2NhdGlvbkNvbmZpZywgdGhpcy5jb25maWcsIGxvY2F0aW9uQ29uZmlnLCBsb2NhdGlvbkNvbmZpZ0ZucywgbGF0ZUJpbmQpO1xuICAgICAgICB2YXIgdW1mID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gcm91dGVyLnVybE1hdGNoZXJGYWN0b3J5OyB9O1xuICAgICAgICBjcmVhdGVQcm94eUZ1bmN0aW9ucyh1bWYsIHRoaXMuY29uZmlnLCB1bWYsIHVtZkZucyk7XG4gICAgICAgIHZhciB1cmxSb3V0ZXIgPSBmdW5jdGlvbiAoKSB7IHJldHVybiByb3V0ZXIudXJsUm91dGVyOyB9O1xuICAgICAgICBjcmVhdGVQcm94eUZ1bmN0aW9ucyh1cmxSb3V0ZXIsIHRoaXMucnVsZXMsIHVybFJvdXRlciwgcnVsZXNGbnMpO1xuICAgICAgICBjcmVhdGVQcm94eUZ1bmN0aW9ucyh1cmxSb3V0ZXIsIHRoaXMsIHVybFJvdXRlciwgc3luY0Zucyk7XG4gICAgfVxuICAgIFVybFNlcnZpY2UucHJvdG90eXBlLnVybCA9IGZ1bmN0aW9uIChuZXd1cmwsIHJlcGxhY2UsIHN0YXRlKSB7IHJldHVybjsgfTtcbiAgICBcbiAgICAvKiogQGluaGVyaXRkb2MgKi9cbiAgICBVcmxTZXJ2aWNlLnByb3RvdHlwZS5wYXRoID0gZnVuY3Rpb24gKCkgeyByZXR1cm47IH07XG4gICAgXG4gICAgLyoqIEBpbmhlcml0ZG9jICovXG4gICAgVXJsU2VydmljZS5wcm90b3R5cGUuc2VhcmNoID0gZnVuY3Rpb24gKCkgeyByZXR1cm47IH07XG4gICAgXG4gICAgLyoqIEBpbmhlcml0ZG9jICovXG4gICAgVXJsU2VydmljZS5wcm90b3R5cGUuaGFzaCA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuOyB9O1xuICAgIFxuICAgIC8qKiBAaW5oZXJpdGRvYyAqL1xuICAgIFVybFNlcnZpY2UucHJvdG90eXBlLm9uQ2hhbmdlID0gZnVuY3Rpb24gKGNhbGxiYWNrKSB7IHJldHVybjsgfTtcbiAgICBcbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIHRoZSBjdXJyZW50IFVSTCBwYXJ0c1xuICAgICAqXG4gICAgICogVGhpcyBtZXRob2QgcmV0dXJucyB0aGUgY3VycmVudCBVUkwgY29tcG9uZW50cyBhcyBhIFtbVXJsUGFydHNdXSBvYmplY3QuXG4gICAgICpcbiAgICAgKiBAcmV0dXJucyB0aGUgY3VycmVudCB1cmwgcGFydHNcbiAgICAgKi9cbiAgICBVcmxTZXJ2aWNlLnByb3RvdHlwZS5wYXJ0cyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHsgcGF0aDogdGhpcy5wYXRoKCksIHNlYXJjaDogdGhpcy5zZWFyY2goKSwgaGFzaDogdGhpcy5oYXNoKCkgfTtcbiAgICB9O1xuICAgIFVybFNlcnZpY2UucHJvdG90eXBlLmRpc3Bvc2UgPSBmdW5jdGlvbiAoKSB7IH07XG4gICAgLyoqIEBpbmhlcml0ZG9jICovXG4gICAgVXJsU2VydmljZS5wcm90b3R5cGUuc3luYyA9IGZ1bmN0aW9uIChldnQpIHsgcmV0dXJuOyB9O1xuICAgIC8qKiBAaW5oZXJpdGRvYyAqL1xuICAgIFVybFNlcnZpY2UucHJvdG90eXBlLmxpc3RlbiA9IGZ1bmN0aW9uIChlbmFibGVkKSB7IHJldHVybjsgfTtcbiAgICBcbiAgICAvKiogQGluaGVyaXRkb2MgKi9cbiAgICBVcmxTZXJ2aWNlLnByb3RvdHlwZS5kZWZlckludGVyY2VwdCA9IGZ1bmN0aW9uIChkZWZlcikgeyByZXR1cm47IH07XG4gICAgLyoqIEBpbmhlcml0ZG9jICovXG4gICAgVXJsU2VydmljZS5wcm90b3R5cGUubWF0Y2ggPSBmdW5jdGlvbiAodXJsUGFydHMpIHsgcmV0dXJuOyB9O1xuICAgIHJldHVybiBVcmxTZXJ2aWNlO1xufSgpKTtcbi8qKiBAaGlkZGVuICovXG5VcmxTZXJ2aWNlLmxvY2F0aW9uU2VydmljZVN0dWIgPSBtYWtlU3R1Yihsb2NhdGlvblNlcnZpY2VzRm5zKTtcbi8qKiBAaGlkZGVuICovXG5VcmxTZXJ2aWNlLmxvY2F0aW9uQ29uZmlnU3R1YiA9IG1ha2VTdHViKGxvY2F0aW9uQ29uZmlnRm5zKTtcblxuLyoqXG4gKiBAY29yZWFwaVxuICogQG1vZHVsZSBjb3JlXG4gKi8gLyoqICovXG4vKiogQGhpZGRlbiAqL1xudmFyIF9yb3V0ZXJJbnN0YW5jZSA9IDA7XG4vKipcbiAqIFRoZSBtYXN0ZXIgY2xhc3MgdXNlZCB0byBpbnN0YW50aWF0ZSBhbiBpbnN0YW5jZSBvZiBVSS1Sb3V0ZXIuXG4gKlxuICogVUktUm91dGVyIChmb3IgZWFjaCBzcGVjaWZpYyBmcmFtZXdvcmspIHdpbGwgY3JlYXRlIGFuIGluc3RhbmNlIG9mIHRoaXMgY2xhc3MgZHVyaW5nIGJvb3RzdHJhcC5cbiAqIFRoaXMgY2xhc3MgaW5zdGFudGlhdGVzIGFuZCB3aXJlcyB0aGUgVUktUm91dGVyIHNlcnZpY2VzIHRvZ2V0aGVyLlxuICpcbiAqIEFmdGVyIGEgbmV3IGluc3RhbmNlIG9mIHRoZSBVSVJvdXRlciBjbGFzcyBpcyBjcmVhdGVkLCBpdCBzaG91bGQgYmUgY29uZmlndXJlZCBmb3IgeW91ciBhcHAuXG4gKiBGb3IgaW5zdGFuY2UsIGFwcCBzdGF0ZXMgc2hvdWxkIGJlIHJlZ2lzdGVyZWQgd2l0aCB0aGUgW1tVSVJvdXRlci5zdGF0ZVJlZ2lzdHJ5XV0uXG4gKlxuICogLS0tXG4gKlxuICogTm9ybWFsbHkgdGhlIGZyYW1ld29yayBjb2RlIHdpbGwgYm9vdHN0cmFwIFVJLVJvdXRlci5cbiAqIElmIHlvdSBhcmUgYm9vdHN0cmFwcGluZyBVSVJvdXRlciBtYW51YWxseSwgdGVsbCBpdCB0byBtb25pdG9yIHRoZSBVUkwgYnkgY2FsbGluZ1xuICogW1tVcmxTZXJ2aWNlLmxpc3Rlbl1dIHRoZW4gW1tVcmxTZXJ2aWNlLnN5bmNdXS5cbiAqL1xudmFyIFVJUm91dGVyID0gKGZ1bmN0aW9uICgpIHtcbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgbmV3IGBVSVJvdXRlcmAgb2JqZWN0XG4gICAgICpcbiAgICAgKiBAcGFyYW0gbG9jYXRpb25TZXJ2aWNlIGEgW1tMb2NhdGlvblNlcnZpY2VzXV0gaW1wbGVtZW50YXRpb25cbiAgICAgKiBAcGFyYW0gbG9jYXRpb25Db25maWcgYSBbW0xvY2F0aW9uQ29uZmlnXV0gaW1wbGVtZW50YXRpb25cbiAgICAgKiBAaW50ZXJuYWxhcGlcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBVSVJvdXRlcihsb2NhdGlvblNlcnZpY2UsIGxvY2F0aW9uQ29uZmlnKSB7XG4gICAgICAgIGlmIChsb2NhdGlvblNlcnZpY2UgPT09IHZvaWQgMCkgeyBsb2NhdGlvblNlcnZpY2UgPSBVcmxTZXJ2aWNlLmxvY2F0aW9uU2VydmljZVN0dWI7IH1cbiAgICAgICAgaWYgKGxvY2F0aW9uQ29uZmlnID09PSB2b2lkIDApIHsgbG9jYXRpb25Db25maWcgPSBVcmxTZXJ2aWNlLmxvY2F0aW9uQ29uZmlnU3R1YjsgfVxuICAgICAgICB0aGlzLmxvY2F0aW9uU2VydmljZSA9IGxvY2F0aW9uU2VydmljZTtcbiAgICAgICAgdGhpcy5sb2NhdGlvbkNvbmZpZyA9IGxvY2F0aW9uQ29uZmlnO1xuICAgICAgICAvKiogQGhpZGRlbiAqLyB0aGlzLiRpZCA9IF9yb3V0ZXJJbnN0YW5jZSsrO1xuICAgICAgICAvKiogQGhpZGRlbiAqLyB0aGlzLl9kaXNwb3NlZCA9IGZhbHNlO1xuICAgICAgICAvKiogQGhpZGRlbiAqLyB0aGlzLl9kaXNwb3NhYmxlcyA9IFtdO1xuICAgICAgICAvKiogUHJvdmlkZXMgdHJhY2UgaW5mb3JtYXRpb24gdG8gdGhlIGNvbnNvbGUgKi9cbiAgICAgICAgdGhpcy50cmFjZSA9IHRyYWNlO1xuICAgICAgICAvKiogUHJvdmlkZXMgc2VydmljZXMgcmVsYXRlZCB0byB1aS12aWV3IHN5bmNocm9uaXphdGlvbiAqL1xuICAgICAgICB0aGlzLnZpZXdTZXJ2aWNlID0gbmV3IFZpZXdTZXJ2aWNlKCk7XG4gICAgICAgIC8qKiBQcm92aWRlcyBzZXJ2aWNlcyByZWxhdGVkIHRvIFRyYW5zaXRpb25zICovXG4gICAgICAgIHRoaXMudHJhbnNpdGlvblNlcnZpY2UgPSBuZXcgVHJhbnNpdGlvblNlcnZpY2UodGhpcyk7XG4gICAgICAgIC8qKiBHbG9iYWwgcm91dGVyIHN0YXRlICovXG4gICAgICAgIHRoaXMuZ2xvYmFscyA9IG5ldyBVSVJvdXRlckdsb2JhbHMoKTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIERlcHJlY2F0ZWQgZm9yIHB1YmxpYyB1c2UuIFVzZSBbW3VybFNlcnZpY2VdXSBpbnN0ZWFkLlxuICAgICAgICAgKiBAZGVwcmVjYXRlZCBVc2UgW1t1cmxTZXJ2aWNlXV0gaW5zdGVhZFxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy51cmxNYXRjaGVyRmFjdG9yeSA9IG5ldyBVcmxNYXRjaGVyRmFjdG9yeSgpO1xuICAgICAgICAvKipcbiAgICAgICAgICogRGVwcmVjYXRlZCBmb3IgcHVibGljIHVzZS4gVXNlIFtbdXJsU2VydmljZV1dIGluc3RlYWQuXG4gICAgICAgICAqIEBkZXByZWNhdGVkIFVzZSBbW3VybFNlcnZpY2VdXSBpbnN0ZWFkXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnVybFJvdXRlciA9IG5ldyBVcmxSb3V0ZXIodGhpcyk7XG4gICAgICAgIC8qKiBQcm92aWRlcyBhIHJlZ2lzdHJ5IGZvciBzdGF0ZXMsIGFuZCByZWxhdGVkIHJlZ2lzdHJhdGlvbiBzZXJ2aWNlcyAqL1xuICAgICAgICB0aGlzLnN0YXRlUmVnaXN0cnkgPSBuZXcgU3RhdGVSZWdpc3RyeSh0aGlzKTtcbiAgICAgICAgLyoqIFByb3ZpZGVzIHNlcnZpY2VzIHJlbGF0ZWQgdG8gc3RhdGVzICovXG4gICAgICAgIHRoaXMuc3RhdGVTZXJ2aWNlID0gbmV3IFN0YXRlU2VydmljZSh0aGlzKTtcbiAgICAgICAgLyoqIFByb3ZpZGVzIHNlcnZpY2VzIHJlbGF0ZWQgdG8gdGhlIFVSTCAqL1xuICAgICAgICB0aGlzLnVybFNlcnZpY2UgPSBuZXcgVXJsU2VydmljZSh0aGlzKTtcbiAgICAgICAgLyoqIEBoaWRkZW4gKi9cbiAgICAgICAgdGhpcy5fcGx1Z2lucyA9IHt9O1xuICAgICAgICB0aGlzLnZpZXdTZXJ2aWNlLl9wbHVnaW5hcGkuX3Jvb3RWaWV3Q29udGV4dCh0aGlzLnN0YXRlUmVnaXN0cnkucm9vdCgpKTtcbiAgICAgICAgdGhpcy5nbG9iYWxzLiRjdXJyZW50ID0gdGhpcy5zdGF0ZVJlZ2lzdHJ5LnJvb3QoKTtcbiAgICAgICAgdGhpcy5nbG9iYWxzLmN1cnJlbnQgPSB0aGlzLmdsb2JhbHMuJGN1cnJlbnQuc2VsZjtcbiAgICAgICAgdGhpcy5kaXNwb3NhYmxlKHRoaXMuZ2xvYmFscyk7XG4gICAgICAgIHRoaXMuZGlzcG9zYWJsZSh0aGlzLnN0YXRlU2VydmljZSk7XG4gICAgICAgIHRoaXMuZGlzcG9zYWJsZSh0aGlzLnN0YXRlUmVnaXN0cnkpO1xuICAgICAgICB0aGlzLmRpc3Bvc2FibGUodGhpcy50cmFuc2l0aW9uU2VydmljZSk7XG4gICAgICAgIHRoaXMuZGlzcG9zYWJsZSh0aGlzLnVybFJvdXRlcik7XG4gICAgICAgIHRoaXMuZGlzcG9zYWJsZShsb2NhdGlvblNlcnZpY2UpO1xuICAgICAgICB0aGlzLmRpc3Bvc2FibGUobG9jYXRpb25Db25maWcpO1xuICAgIH1cbiAgICAvKiogUmVnaXN0ZXJzIGFuIG9iamVjdCB0byBiZSBub3RpZmllZCB3aGVuIHRoZSByb3V0ZXIgaXMgZGlzcG9zZWQgKi9cbiAgICBVSVJvdXRlci5wcm90b3R5cGUuZGlzcG9zYWJsZSA9IGZ1bmN0aW9uIChkaXNwb3NhYmxlKSB7XG4gICAgICAgIHRoaXMuX2Rpc3Bvc2FibGVzLnB1c2goZGlzcG9zYWJsZSk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBEaXNwb3NlcyB0aGlzIHJvdXRlciBpbnN0YW5jZVxuICAgICAqXG4gICAgICogV2hlbiBjYWxsZWQsIGNsZWFycyByZXNvdXJjZXMgcmV0YWluZWQgYnkgdGhlIHJvdXRlciBieSBjYWxsaW5nIGBkaXNwb3NlKHRoaXMpYCBvbiBhbGxcbiAgICAgKiByZWdpc3RlcmVkIFtbZGlzcG9zYWJsZV1dIG9iamVjdHMuXG4gICAgICpcbiAgICAgKiBPciwgaWYgYSBgZGlzcG9zYWJsZWAgb2JqZWN0IGlzIHByb3ZpZGVkLCBjYWxscyBgZGlzcG9zZSh0aGlzKWAgb24gdGhhdCBvYmplY3Qgb25seS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBkaXNwb3NhYmxlIChvcHRpb25hbCkgdGhlIGRpc3Bvc2FibGUgdG8gZGlzcG9zZVxuICAgICAqL1xuICAgIFVJUm91dGVyLnByb3RvdHlwZS5kaXNwb3NlID0gZnVuY3Rpb24gKGRpc3Bvc2FibGUpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgaWYgKGRpc3Bvc2FibGUgJiYgaXNGdW5jdGlvbihkaXNwb3NhYmxlLmRpc3Bvc2UpKSB7XG4gICAgICAgICAgICBkaXNwb3NhYmxlLmRpc3Bvc2UodGhpcyk7XG4gICAgICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuX2Rpc3Bvc2VkID0gdHJ1ZTtcbiAgICAgICAgdGhpcy5fZGlzcG9zYWJsZXMuc2xpY2UoKS5mb3JFYWNoKGZ1bmN0aW9uIChkKSB7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIHR5cGVvZiBkLmRpc3Bvc2UgPT09ICdmdW5jdGlvbicgJiYgZC5kaXNwb3NlKF90aGlzKTtcbiAgICAgICAgICAgICAgICByZW1vdmVGcm9tKF90aGlzLl9kaXNwb3NhYmxlcywgZCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXRjaCAoaWdub3JlZCkgeyB9XG4gICAgICAgIH0pO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQWRkcyBhIHBsdWdpbiB0byBVSS1Sb3V0ZXJcbiAgICAgKlxuICAgICAqIFRoaXMgbWV0aG9kIGFkZHMgYSBVSS1Sb3V0ZXIgUGx1Z2luLlxuICAgICAqIEEgcGx1Z2luIGNhbiBlbmhhbmNlIG9yIGNoYW5nZSBVSS1Sb3V0ZXIgYmVoYXZpb3IgdXNpbmcgYW55IHB1YmxpYyBBUEkuXG4gICAgICpcbiAgICAgKiAjIyMjIEV4YW1wbGU6XG4gICAgICogYGBganNcbiAgICAgKiBpbXBvcnQgeyBNeUNvb2xQbHVnaW4gfSBmcm9tIFwidWktcm91dGVyLWNvb2wtcGx1Z2luXCI7XG4gICAgICpcbiAgICAgKiB2YXIgcGx1Z2luID0gcm91dGVyLmFkZFBsdWdpbihNeUNvb2xQbHVnaW4pO1xuICAgICAqIGBgYFxuICAgICAqXG4gICAgICogIyMjIFBsdWdpbiBhdXRob3JpbmdcbiAgICAgKlxuICAgICAqIEEgcGx1Z2luIGlzIHNpbXBseSBhIGNsYXNzIChvciBjb25zdHJ1Y3RvciBmdW5jdGlvbikgd2hpY2ggYWNjZXB0cyBhIFtbVUlSb3V0ZXJdXSBpbnN0YW5jZSBhbmQgKG9wdGlvbmFsbHkpIGFuIG9wdGlvbnMgb2JqZWN0LlxuICAgICAqXG4gICAgICogVGhlIHBsdWdpbiBjYW4gaW1wbGVtZW50IGl0cyBmdW5jdGlvbmFsaXR5IHVzaW5nIGFueSBvZiB0aGUgcHVibGljIEFQSXMgb2YgW1tVSVJvdXRlcl1dLlxuICAgICAqIEZvciBleGFtcGxlLCBpdCBtYXkgY29uZmlndXJlIHJvdXRlciBvcHRpb25zIG9yIGFkZCBhIFRyYW5zaXRpb24gSG9vay5cbiAgICAgKlxuICAgICAqIFRoZSBwbHVnaW4gY2FuIHRoZW4gYmUgcHVibGlzaGVkIGFzIGEgc2VwYXJhdGUgbW9kdWxlLlxuICAgICAqXG4gICAgICogIyMjIyBFeGFtcGxlOlxuICAgICAqIGBgYGpzXG4gICAgICogZXhwb3J0IGNsYXNzIE15QXV0aFBsdWdpbiBpbXBsZW1lbnRzIFVJUm91dGVyUGx1Z2luIHtcbiAgICAgKiAgIGNvbnN0cnVjdG9yKHJvdXRlcjogVUlSb3V0ZXIsIG9wdGlvbnM6IGFueSkge1xuICAgICAqICAgICB0aGlzLm5hbWUgPSBcIk15QXV0aFBsdWdpblwiO1xuICAgICAqICAgICBsZXQgJHRyYW5zaXRpb25zID0gcm91dGVyLnRyYW5zaXRpb25TZXJ2aWNlO1xuICAgICAqICAgICBsZXQgJHN0YXRlID0gcm91dGVyLnN0YXRlU2VydmljZTtcbiAgICAgKlxuICAgICAqICAgICBsZXQgYXV0aENyaXRlcmlhID0ge1xuICAgICAqICAgICAgIHRvOiAoc3RhdGUpID0+IHN0YXRlLmRhdGEgJiYgc3RhdGUuZGF0YS5yZXF1aXJlc0F1dGhcbiAgICAgKiAgICAgfTtcbiAgICAgKlxuICAgICAqICAgICBmdW5jdGlvbiBhdXRoSG9vayh0cmFuc2l0aW9uOiBUcmFuc2l0aW9uKSB7XG4gICAgICogICAgICAgbGV0IGF1dGhTZXJ2aWNlID0gdHJhbnNpdGlvbi5pbmplY3RvcigpLmdldCgnQXV0aFNlcnZpY2UnKTtcbiAgICAgKiAgICAgICBpZiAoIWF1dGhTZXJ2aWNlLmlzQXV0aGVudGljYXRlZCgpKSB7XG4gICAgICogICAgICAgICByZXR1cm4gJHN0YXRlLnRhcmdldCgnbG9naW4nKTtcbiAgICAgKiAgICAgICB9XG4gICAgICogICAgIH1cbiAgICAgKlxuICAgICAqICAgICAkdHJhbnNpdGlvbnMub25TdGFydChhdXRoQ3JpdGVyaWEsIGF1dGhIb29rKTtcbiAgICAgKiAgIH1cbiAgICAgKiB9XG4gICAgICogYGBgXG4gICAgICpcbiAgICAgKiBAcGFyYW0gcGx1Z2luIG9uZSBvZjpcbiAgICAgKiAgICAgICAgLSBhIHBsdWdpbiBjbGFzcyB3aGljaCBpbXBsZW1lbnRzIFtbVUlSb3V0ZXJQbHVnaW5dXVxuICAgICAqICAgICAgICAtIGEgY29uc3RydWN0b3IgZnVuY3Rpb24gZm9yIGEgW1tVSVJvdXRlclBsdWdpbl1dIHdoaWNoIGFjY2VwdHMgYSBbW1VJUm91dGVyXV0gaW5zdGFuY2VcbiAgICAgKiAgICAgICAgLSBhIGZhY3RvcnkgZnVuY3Rpb24gd2hpY2ggYWNjZXB0cyBhIFtbVUlSb3V0ZXJdXSBpbnN0YW5jZSBhbmQgcmV0dXJucyBhIFtbVUlSb3V0ZXJQbHVnaW5dXSBpbnN0YW5jZVxuICAgICAqIEBwYXJhbSBvcHRpb25zIG9wdGlvbnMgdG8gcGFzcyB0byB0aGUgcGx1Z2luIGNsYXNzL2ZhY3RvcnlcbiAgICAgKiBAcmV0dXJucyB0aGUgcmVnaXN0ZXJlZCBwbHVnaW4gaW5zdGFuY2VcbiAgICAgKi9cbiAgICBVSVJvdXRlci5wcm90b3R5cGUucGx1Z2luID0gZnVuY3Rpb24gKHBsdWdpbiwgb3B0aW9ucykge1xuICAgICAgICBpZiAob3B0aW9ucyA9PT0gdm9pZCAwKSB7IG9wdGlvbnMgPSB7fTsgfVxuICAgICAgICB2YXIgcGx1Z2luSW5zdGFuY2UgPSBuZXcgcGx1Z2luKHRoaXMsIG9wdGlvbnMpO1xuICAgICAgICBpZiAoIXBsdWdpbkluc3RhbmNlLm5hbWUpXG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJSZXF1aXJlZCBwcm9wZXJ0eSBgbmFtZWAgbWlzc2luZyBvbiBwbHVnaW46IFwiICsgcGx1Z2luSW5zdGFuY2UpO1xuICAgICAgICB0aGlzLl9kaXNwb3NhYmxlcy5wdXNoKHBsdWdpbkluc3RhbmNlKTtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3BsdWdpbnNbcGx1Z2luSW5zdGFuY2UubmFtZV0gPSBwbHVnaW5JbnN0YW5jZTtcbiAgICB9O1xuICAgIFVJUm91dGVyLnByb3RvdHlwZS5nZXRQbHVnaW4gPSBmdW5jdGlvbiAocGx1Z2luTmFtZSkge1xuICAgICAgICByZXR1cm4gcGx1Z2luTmFtZSA/IHRoaXMuX3BsdWdpbnNbcGx1Z2luTmFtZV0gOiB2YWx1ZXModGhpcy5fcGx1Z2lucyk7XG4gICAgfTtcbiAgICByZXR1cm4gVUlSb3V0ZXI7XG59KCkpO1xuXG4vKiogQG1vZHVsZSBob29rcyAqLyAvKiogKi9cbmZ1bmN0aW9uIGFkZENvcmVSZXNvbHZhYmxlcyh0cmFucykge1xuICAgIHRyYW5zLmFkZFJlc29sdmFibGUoeyB0b2tlbjogVUlSb3V0ZXIsIGRlcHM6IFtdLCByZXNvbHZlRm46IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHRyYW5zLnJvdXRlcjsgfSwgZGF0YTogdHJhbnMucm91dGVyIH0sIFwiXCIpO1xuICAgIHRyYW5zLmFkZFJlc29sdmFibGUoeyB0b2tlbjogVHJhbnNpdGlvbiwgZGVwczogW10sIHJlc29sdmVGbjogZnVuY3Rpb24gKCkgeyByZXR1cm4gdHJhbnM7IH0sIGRhdGE6IHRyYW5zIH0sIFwiXCIpO1xuICAgIHRyYW5zLmFkZFJlc29sdmFibGUoeyB0b2tlbjogJyR0cmFuc2l0aW9uJCcsIGRlcHM6IFtdLCByZXNvbHZlRm46IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHRyYW5zOyB9LCBkYXRhOiB0cmFucyB9LCBcIlwiKTtcbiAgICB0cmFucy5hZGRSZXNvbHZhYmxlKHsgdG9rZW46ICckc3RhdGVQYXJhbXMnLCBkZXBzOiBbXSwgcmVzb2x2ZUZuOiBmdW5jdGlvbiAoKSB7IHJldHVybiB0cmFucy5wYXJhbXMoKTsgfSwgZGF0YTogdHJhbnMucGFyYW1zKCkgfSwgXCJcIik7XG4gICAgdHJhbnMuZW50ZXJpbmcoKS5mb3JFYWNoKGZ1bmN0aW9uIChzdGF0ZSkge1xuICAgICAgICB0cmFucy5hZGRSZXNvbHZhYmxlKHsgdG9rZW46ICckc3RhdGUkJywgZGVwczogW10sIHJlc29sdmVGbjogZnVuY3Rpb24gKCkgeyByZXR1cm4gc3RhdGU7IH0sIGRhdGE6IHN0YXRlIH0sIHN0YXRlKTtcbiAgICB9KTtcbn1cbnZhciByZWdpc3RlckFkZENvcmVSZXNvbHZhYmxlcyA9IGZ1bmN0aW9uICh0cmFuc2l0aW9uU2VydmljZSkge1xuICAgIHJldHVybiB0cmFuc2l0aW9uU2VydmljZS5vbkNyZWF0ZSh7fSwgYWRkQ29yZVJlc29sdmFibGVzKTtcbn07XG5cbi8qKiBAbW9kdWxlIGhvb2tzICovIC8qKiAqL1xuLyoqXG4gKiBBIFtbVHJhbnNpdGlvbkhvb2tGbl1dIHRoYXQgcmVkaXJlY3RzIHRvIGEgZGlmZmVyZW50IHN0YXRlIG9yIHBhcmFtc1xuICpcbiAqIFJlZ2lzdGVyZWQgdXNpbmcgYHRyYW5zaXRpb25TZXJ2aWNlLm9uU3RhcnQoeyB0bzogKHN0YXRlKSA9PiAhIXN0YXRlLnJlZGlyZWN0VG8gfSwgcmVkaXJlY3RIb29rKTtgXG4gKlxuICogU2VlIFtbU3RhdGVEZWNsYXJhdGlvbi5yZWRpcmVjdFRvXV1cbiAqL1xudmFyIHJlZGlyZWN0VG9Ib29rID0gZnVuY3Rpb24gKHRyYW5zKSB7XG4gICAgdmFyIHJlZGlyZWN0ID0gdHJhbnMudG8oKS5yZWRpcmVjdFRvO1xuICAgIGlmICghcmVkaXJlY3QpXG4gICAgICAgIHJldHVybjtcbiAgICB2YXIgJHN0YXRlID0gdHJhbnMucm91dGVyLnN0YXRlU2VydmljZTtcbiAgICBmdW5jdGlvbiBoYW5kbGVSZXN1bHQocmVzdWx0KSB7XG4gICAgICAgIGlmICghcmVzdWx0KVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICBpZiAocmVzdWx0IGluc3RhbmNlb2YgVGFyZ2V0U3RhdGUpXG4gICAgICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgICBpZiAoaXNTdHJpbmcocmVzdWx0KSlcbiAgICAgICAgICAgIHJldHVybiAkc3RhdGUudGFyZ2V0KHJlc3VsdCwgdHJhbnMucGFyYW1zKCksIHRyYW5zLm9wdGlvbnMoKSk7XG4gICAgICAgIGlmIChyZXN1bHRbJ3N0YXRlJ10gfHwgcmVzdWx0WydwYXJhbXMnXSlcbiAgICAgICAgICAgIHJldHVybiAkc3RhdGUudGFyZ2V0KHJlc3VsdFsnc3RhdGUnXSB8fCB0cmFucy50bygpLCByZXN1bHRbJ3BhcmFtcyddIHx8IHRyYW5zLnBhcmFtcygpLCB0cmFucy5vcHRpb25zKCkpO1xuICAgIH1cbiAgICBpZiAoaXNGdW5jdGlvbihyZWRpcmVjdCkpIHtcbiAgICAgICAgcmV0dXJuIHNlcnZpY2VzLiRxLndoZW4ocmVkaXJlY3QodHJhbnMpKS50aGVuKGhhbmRsZVJlc3VsdCk7XG4gICAgfVxuICAgIHJldHVybiBoYW5kbGVSZXN1bHQocmVkaXJlY3QpO1xufTtcbnZhciByZWdpc3RlclJlZGlyZWN0VG9Ib29rID0gZnVuY3Rpb24gKHRyYW5zaXRpb25TZXJ2aWNlKSB7XG4gICAgcmV0dXJuIHRyYW5zaXRpb25TZXJ2aWNlLm9uU3RhcnQoeyB0bzogZnVuY3Rpb24gKHN0YXRlKSB7IHJldHVybiAhIXN0YXRlLnJlZGlyZWN0VG87IH0gfSwgcmVkaXJlY3RUb0hvb2spO1xufTtcblxuLyoqXG4gKiBBIGZhY3Rvcnkgd2hpY2ggY3JlYXRlcyBhbiBvbkVudGVyLCBvbkV4aXQgb3Igb25SZXRhaW4gdHJhbnNpdGlvbiBob29rIGZ1bmN0aW9uXG4gKlxuICogVGhlIHJldHVybmVkIGZ1bmN0aW9uIGludm9rZXMgdGhlIChmb3IgaW5zdGFuY2UpIHN0YXRlLm9uRW50ZXIgaG9vayB3aGVuIHRoZVxuICogc3RhdGUgaXMgYmVpbmcgZW50ZXJlZC5cbiAqXG4gKiBAaGlkZGVuXG4gKi9cbmZ1bmN0aW9uIG1ha2VFbnRlckV4aXRSZXRhaW5Ib29rKGhvb2tOYW1lKSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uICh0cmFuc2l0aW9uLCBzdGF0ZSkge1xuICAgICAgICB2YXIgX3N0YXRlID0gc3RhdGUuJCRzdGF0ZSgpO1xuICAgICAgICB2YXIgaG9va0ZuID0gX3N0YXRlW2hvb2tOYW1lXTtcbiAgICAgICAgcmV0dXJuIGhvb2tGbih0cmFuc2l0aW9uLCBzdGF0ZSk7XG4gICAgfTtcbn1cbi8qKlxuICogVGhlIFtbVHJhbnNpdGlvblN0YXRlSG9va0ZuXV0gZm9yIG9uRXhpdFxuICpcbiAqIFdoZW4gdGhlIHN0YXRlIGlzIGJlaW5nIGV4aXRlZCwgdGhlIHN0YXRlJ3MgLm9uRXhpdCBmdW5jdGlvbiBpcyBpbnZva2VkLlxuICpcbiAqIFJlZ2lzdGVyZWQgdXNpbmcgYHRyYW5zaXRpb25TZXJ2aWNlLm9uRXhpdCh7IGV4aXRpbmc6IChzdGF0ZSkgPT4gISFzdGF0ZS5vbkV4aXQgfSwgb25FeGl0SG9vayk7YFxuICpcbiAqIFNlZTogW1tJSG9va1JlZ2lzdHJ5Lm9uRXhpdF1dXG4gKi9cbnZhciBvbkV4aXRIb29rID0gbWFrZUVudGVyRXhpdFJldGFpbkhvb2soJ29uRXhpdCcpO1xudmFyIHJlZ2lzdGVyT25FeGl0SG9vayA9IGZ1bmN0aW9uICh0cmFuc2l0aW9uU2VydmljZSkge1xuICAgIHJldHVybiB0cmFuc2l0aW9uU2VydmljZS5vbkV4aXQoeyBleGl0aW5nOiBmdW5jdGlvbiAoc3RhdGUpIHsgcmV0dXJuICEhc3RhdGUub25FeGl0OyB9IH0sIG9uRXhpdEhvb2spO1xufTtcbi8qKlxuICogVGhlIFtbVHJhbnNpdGlvblN0YXRlSG9va0ZuXV0gZm9yIG9uUmV0YWluXG4gKlxuICogV2hlbiB0aGUgc3RhdGUgd2FzIGFscmVhZHkgZW50ZXJlZCwgYW5kIGlzIG5vdCBiZWluZyBleGl0ZWQgb3IgcmUtZW50ZXJlZCwgdGhlIHN0YXRlJ3MgLm9uUmV0YWluIGZ1bmN0aW9uIGlzIGludm9rZWQuXG4gKlxuICogUmVnaXN0ZXJlZCB1c2luZyBgdHJhbnNpdGlvblNlcnZpY2Uub25SZXRhaW4oeyByZXRhaW5lZDogKHN0YXRlKSA9PiAhIXN0YXRlLm9uUmV0YWluIH0sIG9uUmV0YWluSG9vayk7YFxuICpcbiAqIFNlZTogW1tJSG9va1JlZ2lzdHJ5Lm9uUmV0YWluXV1cbiAqL1xudmFyIG9uUmV0YWluSG9vayA9IG1ha2VFbnRlckV4aXRSZXRhaW5Ib29rKCdvblJldGFpbicpO1xudmFyIHJlZ2lzdGVyT25SZXRhaW5Ib29rID0gZnVuY3Rpb24gKHRyYW5zaXRpb25TZXJ2aWNlKSB7XG4gICAgcmV0dXJuIHRyYW5zaXRpb25TZXJ2aWNlLm9uUmV0YWluKHsgcmV0YWluZWQ6IGZ1bmN0aW9uIChzdGF0ZSkgeyByZXR1cm4gISFzdGF0ZS5vblJldGFpbjsgfSB9LCBvblJldGFpbkhvb2spO1xufTtcbi8qKlxuICogVGhlIFtbVHJhbnNpdGlvblN0YXRlSG9va0ZuXV0gZm9yIG9uRW50ZXJcbiAqXG4gKiBXaGVuIHRoZSBzdGF0ZSBpcyBiZWluZyBlbnRlcmVkLCB0aGUgc3RhdGUncyAub25FbnRlciBmdW5jdGlvbiBpcyBpbnZva2VkLlxuICpcbiAqIFJlZ2lzdGVyZWQgdXNpbmcgYHRyYW5zaXRpb25TZXJ2aWNlLm9uRW50ZXIoeyBlbnRlcmluZzogKHN0YXRlKSA9PiAhIXN0YXRlLm9uRW50ZXIgfSwgb25FbnRlckhvb2spO2BcbiAqXG4gKiBTZWU6IFtbSUhvb2tSZWdpc3RyeS5vbkVudGVyXV1cbiAqL1xudmFyIG9uRW50ZXJIb29rID0gbWFrZUVudGVyRXhpdFJldGFpbkhvb2soJ29uRW50ZXInKTtcbnZhciByZWdpc3Rlck9uRW50ZXJIb29rID0gZnVuY3Rpb24gKHRyYW5zaXRpb25TZXJ2aWNlKSB7XG4gICAgcmV0dXJuIHRyYW5zaXRpb25TZXJ2aWNlLm9uRW50ZXIoeyBlbnRlcmluZzogZnVuY3Rpb24gKHN0YXRlKSB7IHJldHVybiAhIXN0YXRlLm9uRW50ZXI7IH0gfSwgb25FbnRlckhvb2spO1xufTtcblxuLyoqIEBtb2R1bGUgaG9va3MgKi9cbi8qKiBmb3IgdHlwZWRvYyAqL1xuLyoqXG4gKiBBIFtbVHJhbnNpdGlvbkhvb2tGbl1dIHdoaWNoIHJlc29sdmVzIGFsbCBFQUdFUiBSZXNvbHZhYmxlcyBpbiB0aGUgVG8gUGF0aFxuICpcbiAqIFJlZ2lzdGVyZWQgdXNpbmcgYHRyYW5zaXRpb25TZXJ2aWNlLm9uU3RhcnQoe30sIGVhZ2VyUmVzb2x2ZVBhdGgpO2BcbiAqXG4gKiBXaGVuIGEgVHJhbnNpdGlvbiBzdGFydHMsIHRoaXMgaG9vayByZXNvbHZlcyBhbGwgdGhlIEVBR0VSIFJlc29sdmFibGVzLCB3aGljaCB0aGUgdHJhbnNpdGlvbiB0aGVuIHdhaXRzIGZvci5cbiAqXG4gKiBTZWUgW1tTdGF0ZURlY2xhcmF0aW9uLnJlc29sdmVdXVxuICovXG52YXIgZWFnZXJSZXNvbHZlUGF0aCA9IGZ1bmN0aW9uICh0cmFucykge1xuICAgIHJldHVybiBuZXcgUmVzb2x2ZUNvbnRleHQodHJhbnMudHJlZUNoYW5nZXMoKS50bylcbiAgICAgICAgLnJlc29sdmVQYXRoKFwiRUFHRVJcIiwgdHJhbnMpXG4gICAgICAgIC50aGVuKG5vb3AkMSk7XG59O1xudmFyIHJlZ2lzdGVyRWFnZXJSZXNvbHZlUGF0aCA9IGZ1bmN0aW9uICh0cmFuc2l0aW9uU2VydmljZSkge1xuICAgIHJldHVybiB0cmFuc2l0aW9uU2VydmljZS5vblN0YXJ0KHt9LCBlYWdlclJlc29sdmVQYXRoLCB7IHByaW9yaXR5OiAxMDAwIH0pO1xufTtcbi8qKlxuICogQSBbW1RyYW5zaXRpb25Ib29rRm5dXSB3aGljaCByZXNvbHZlcyBhbGwgTEFaWSBSZXNvbHZhYmxlcyBmb3IgdGhlIHN0YXRlIChhbmQgYWxsIGl0cyBhbmNlc3RvcnMpIGluIHRoZSBUbyBQYXRoXG4gKlxuICogUmVnaXN0ZXJlZCB1c2luZyBgdHJhbnNpdGlvblNlcnZpY2Uub25FbnRlcih7IGVudGVyaW5nOiAoKSA9PiB0cnVlIH0sIGxhenlSZXNvbHZlU3RhdGUpO2BcbiAqXG4gKiBXaGVuIGEgU3RhdGUgaXMgYmVpbmcgZW50ZXJlZCwgdGhpcyBob29rIHJlc29sdmVzIGFsbCB0aGUgUmVzb2x2YWJsZXMgZm9yIHRoaXMgc3RhdGUsIHdoaWNoIHRoZSB0cmFuc2l0aW9uIHRoZW4gd2FpdHMgZm9yLlxuICpcbiAqIFNlZSBbW1N0YXRlRGVjbGFyYXRpb24ucmVzb2x2ZV1dXG4gKi9cbnZhciBsYXp5UmVzb2x2ZVN0YXRlID0gZnVuY3Rpb24gKHRyYW5zLCBzdGF0ZSkge1xuICAgIHJldHVybiBuZXcgUmVzb2x2ZUNvbnRleHQodHJhbnMudHJlZUNoYW5nZXMoKS50bylcbiAgICAgICAgLnN1YkNvbnRleHQoc3RhdGUuJCRzdGF0ZSgpKVxuICAgICAgICAucmVzb2x2ZVBhdGgoXCJMQVpZXCIsIHRyYW5zKVxuICAgICAgICAudGhlbihub29wJDEpO1xufTtcbnZhciByZWdpc3RlckxhenlSZXNvbHZlU3RhdGUgPSBmdW5jdGlvbiAodHJhbnNpdGlvblNlcnZpY2UpIHtcbiAgICByZXR1cm4gdHJhbnNpdGlvblNlcnZpY2Uub25FbnRlcih7IGVudGVyaW5nOiB2YWwodHJ1ZSkgfSwgbGF6eVJlc29sdmVTdGF0ZSwgeyBwcmlvcml0eTogMTAwMCB9KTtcbn07XG5cbi8qKiBAbW9kdWxlIGhvb2tzICovIC8qKiBmb3IgdHlwZWRvYyAqL1xuLyoqXG4gKiBBIFtbVHJhbnNpdGlvbkhvb2tGbl1dIHdoaWNoIHdhaXRzIGZvciB0aGUgdmlld3MgdG8gbG9hZFxuICpcbiAqIFJlZ2lzdGVyZWQgdXNpbmcgYHRyYW5zaXRpb25TZXJ2aWNlLm9uU3RhcnQoe30sIGxvYWRFbnRlcmluZ1ZpZXdzKTtgXG4gKlxuICogQWxsb3dzIHRoZSB2aWV3cyB0byBkbyBhc3luYyB3b3JrIGluIFtbVmlld0NvbmZpZy5sb2FkXV0gYmVmb3JlIHRoZSB0cmFuc2l0aW9uIGNvbnRpbnVlcy5cbiAqIEluIGFuZ3VsYXIgMSwgdGhpcyBpbmNsdWRlcyBsb2FkaW5nIHRoZSB0ZW1wbGF0ZXMuXG4gKi9cbnZhciBsb2FkRW50ZXJpbmdWaWV3cyA9IGZ1bmN0aW9uICh0cmFuc2l0aW9uKSB7XG4gICAgdmFyICRxID0gc2VydmljZXMuJHE7XG4gICAgdmFyIGVudGVyaW5nVmlld3MgPSB0cmFuc2l0aW9uLnZpZXdzKFwiZW50ZXJpbmdcIik7XG4gICAgaWYgKCFlbnRlcmluZ1ZpZXdzLmxlbmd0aClcbiAgICAgICAgcmV0dXJuO1xuICAgIHJldHVybiAkcS5hbGwoZW50ZXJpbmdWaWV3cy5tYXAoZnVuY3Rpb24gKHZpZXcpIHsgcmV0dXJuICRxLndoZW4odmlldy5sb2FkKCkpOyB9KSkudGhlbihub29wJDEpO1xufTtcbnZhciByZWdpc3RlckxvYWRFbnRlcmluZ1ZpZXdzID0gZnVuY3Rpb24gKHRyYW5zaXRpb25TZXJ2aWNlKSB7XG4gICAgcmV0dXJuIHRyYW5zaXRpb25TZXJ2aWNlLm9uRmluaXNoKHt9LCBsb2FkRW50ZXJpbmdWaWV3cyk7XG59O1xuLyoqXG4gKiBBIFtbVHJhbnNpdGlvbkhvb2tGbl1dIHdoaWNoIGFjdGl2YXRlcyB0aGUgbmV3IHZpZXdzIHdoZW4gYSB0cmFuc2l0aW9uIGlzIHN1Y2Nlc3NmdWwuXG4gKlxuICogUmVnaXN0ZXJlZCB1c2luZyBgdHJhbnNpdGlvblNlcnZpY2Uub25TdWNjZXNzKHt9LCBhY3RpdmF0ZVZpZXdzKTtgXG4gKlxuICogQWZ0ZXIgYSB0cmFuc2l0aW9uIGlzIGNvbXBsZXRlLCB0aGlzIGhvb2sgZGVhY3RpdmF0ZXMgdGhlIG9sZCB2aWV3cyBmcm9tIHRoZSBwcmV2aW91cyBzdGF0ZSxcbiAqIGFuZCBhY3RpdmF0ZXMgdGhlIG5ldyB2aWV3cyBmcm9tIHRoZSBkZXN0aW5hdGlvbiBzdGF0ZS5cbiAqXG4gKiBTZWUgW1tWaWV3U2VydmljZV1dXG4gKi9cbnZhciBhY3RpdmF0ZVZpZXdzID0gZnVuY3Rpb24gKHRyYW5zaXRpb24pIHtcbiAgICB2YXIgZW50ZXJpbmdWaWV3cyA9IHRyYW5zaXRpb24udmlld3MoXCJlbnRlcmluZ1wiKTtcbiAgICB2YXIgZXhpdGluZ1ZpZXdzID0gdHJhbnNpdGlvbi52aWV3cyhcImV4aXRpbmdcIik7XG4gICAgaWYgKCFlbnRlcmluZ1ZpZXdzLmxlbmd0aCAmJiAhZXhpdGluZ1ZpZXdzLmxlbmd0aClcbiAgICAgICAgcmV0dXJuO1xuICAgIHZhciAkdmlldyA9IHRyYW5zaXRpb24ucm91dGVyLnZpZXdTZXJ2aWNlO1xuICAgIGV4aXRpbmdWaWV3cy5mb3JFYWNoKGZ1bmN0aW9uICh2YykgeyByZXR1cm4gJHZpZXcuZGVhY3RpdmF0ZVZpZXdDb25maWcodmMpOyB9KTtcbiAgICBlbnRlcmluZ1ZpZXdzLmZvckVhY2goZnVuY3Rpb24gKHZjKSB7IHJldHVybiAkdmlldy5hY3RpdmF0ZVZpZXdDb25maWcodmMpOyB9KTtcbiAgICAkdmlldy5zeW5jKCk7XG59O1xudmFyIHJlZ2lzdGVyQWN0aXZhdGVWaWV3cyA9IGZ1bmN0aW9uICh0cmFuc2l0aW9uU2VydmljZSkge1xuICAgIHJldHVybiB0cmFuc2l0aW9uU2VydmljZS5vblN1Y2Nlc3Moe30sIGFjdGl2YXRlVmlld3MpO1xufTtcblxuLyoqXG4gKiBBIFtbVHJhbnNpdGlvbkhvb2tGbl1dIHdoaWNoIHVwZGF0ZXMgZ2xvYmFsIFVJLVJvdXRlciBzdGF0ZVxuICpcbiAqIFJlZ2lzdGVyZWQgdXNpbmcgYHRyYW5zaXRpb25TZXJ2aWNlLm9uQmVmb3JlKHt9LCB1cGRhdGVHbG9iYWxTdGF0ZSk7YFxuICpcbiAqIEJlZm9yZSBhIFtbVHJhbnNpdGlvbl1dIHN0YXJ0cywgdXBkYXRlcyB0aGUgZ2xvYmFsIHZhbHVlIG9mIFwidGhlIGN1cnJlbnQgdHJhbnNpdGlvblwiIChbW0dsb2JhbHMudHJhbnNpdGlvbl1dKS5cbiAqIEFmdGVyIGEgc3VjY2Vzc2Z1bCBbW1RyYW5zaXRpb25dXSwgdXBkYXRlcyB0aGUgZ2xvYmFsIHZhbHVlcyBvZiBcInRoZSBjdXJyZW50IHN0YXRlXCJcbiAqIChbW0dsb2JhbHMuY3VycmVudF1dIGFuZCBbW0dsb2JhbHMuJGN1cnJlbnRdXSkgYW5kIFwidGhlIGN1cnJlbnQgcGFyYW0gdmFsdWVzXCIgKFtbR2xvYmFscy5wYXJhbXNdXSkuXG4gKlxuICogU2VlIGFsc28gdGhlIGRlcHJlY2F0ZWQgcHJvcGVydGllczpcbiAqIFtbU3RhdGVTZXJ2aWNlLnRyYW5zaXRpb25dXSwgW1tTdGF0ZVNlcnZpY2UuY3VycmVudF1dLCBbW1N0YXRlU2VydmljZS5wYXJhbXNdXVxuICovXG52YXIgdXBkYXRlR2xvYmFsU3RhdGUgPSBmdW5jdGlvbiAodHJhbnMpIHtcbiAgICB2YXIgZ2xvYmFscyA9IHRyYW5zLnJvdXRlci5nbG9iYWxzO1xuICAgIHZhciB0cmFuc2l0aW9uU3VjY2Vzc2Z1bCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgZ2xvYmFscy5zdWNjZXNzZnVsVHJhbnNpdGlvbnMuZW5xdWV1ZSh0cmFucyk7XG4gICAgICAgIGdsb2JhbHMuJGN1cnJlbnQgPSB0cmFucy4kdG8oKTtcbiAgICAgICAgZ2xvYmFscy5jdXJyZW50ID0gZ2xvYmFscy4kY3VycmVudC5zZWxmO1xuICAgICAgICBjb3B5KHRyYW5zLnBhcmFtcygpLCBnbG9iYWxzLnBhcmFtcyk7XG4gICAgfTtcbiAgICB2YXIgY2xlYXJDdXJyZW50VHJhbnNpdGlvbiA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgLy8gRG8gbm90IGNsZWFyIGdsb2JhbHMudHJhbnNpdGlvbiBpZiBhIGRpZmZlcmVudCB0cmFuc2l0aW9uIGhhcyBzdGFydGVkIGluIHRoZSBtZWFudGltZVxuICAgICAgICBpZiAoZ2xvYmFscy50cmFuc2l0aW9uID09PSB0cmFucylcbiAgICAgICAgICAgIGdsb2JhbHMudHJhbnNpdGlvbiA9IG51bGw7XG4gICAgfTtcbiAgICB0cmFucy5vblN1Y2Nlc3Moe30sIHRyYW5zaXRpb25TdWNjZXNzZnVsLCB7IHByaW9yaXR5OiAxMDAwMCB9KTtcbiAgICB0cmFucy5wcm9taXNlLnRoZW4oY2xlYXJDdXJyZW50VHJhbnNpdGlvbiwgY2xlYXJDdXJyZW50VHJhbnNpdGlvbik7XG59O1xudmFyIHJlZ2lzdGVyVXBkYXRlR2xvYmFsU3RhdGUgPSBmdW5jdGlvbiAodHJhbnNpdGlvblNlcnZpY2UpIHtcbiAgICByZXR1cm4gdHJhbnNpdGlvblNlcnZpY2Uub25DcmVhdGUoe30sIHVwZGF0ZUdsb2JhbFN0YXRlKTtcbn07XG5cbi8qKlxuICogQSBbW1RyYW5zaXRpb25Ib29rRm5dXSB3aGljaCB1cGRhdGVzIHRoZSBVUkwgYWZ0ZXIgYSBzdWNjZXNzZnVsIHRyYW5zaXRpb25cbiAqXG4gKiBSZWdpc3RlcmVkIHVzaW5nIGB0cmFuc2l0aW9uU2VydmljZS5vblN1Y2Nlc3Moe30sIHVwZGF0ZVVybCk7YFxuICovXG52YXIgdXBkYXRlVXJsID0gZnVuY3Rpb24gKHRyYW5zaXRpb24pIHtcbiAgICB2YXIgb3B0aW9ucyA9IHRyYW5zaXRpb24ub3B0aW9ucygpO1xuICAgIHZhciAkc3RhdGUgPSB0cmFuc2l0aW9uLnJvdXRlci5zdGF0ZVNlcnZpY2U7XG4gICAgdmFyICR1cmxSb3V0ZXIgPSB0cmFuc2l0aW9uLnJvdXRlci51cmxSb3V0ZXI7XG4gICAgLy8gRG9udCB1cGRhdGUgdGhlIHVybCBpbiB0aGVzZSBzaXR1YXRpb25zOlxuICAgIC8vIFRoZSB0cmFuc2l0aW9uIHdhcyB0cmlnZ2VyZWQgYnkgYSBVUkwgc3luYyAob3B0aW9ucy5zb3VyY2UgPT09ICd1cmwnKVxuICAgIC8vIFRoZSB1c2VyIGRvZXNuJ3Qgd2FudCB0aGUgdXJsIHRvIHVwZGF0ZSAob3B0aW9ucy5sb2NhdGlvbiA9PT0gZmFsc2UpXG4gICAgLy8gVGhlIGRlc3RpbmF0aW9uIHN0YXRlLCBhbmQgYWxsIHBhcmVudHMgaGF2ZSBubyBuYXZpZ2FibGUgdXJsXG4gICAgaWYgKG9wdGlvbnMuc291cmNlICE9PSAndXJsJyAmJiBvcHRpb25zLmxvY2F0aW9uICYmICRzdGF0ZS4kY3VycmVudC5uYXZpZ2FibGUpIHtcbiAgICAgICAgdmFyIHVybE9wdGlvbnMgPSB7IHJlcGxhY2U6IG9wdGlvbnMubG9jYXRpb24gPT09ICdyZXBsYWNlJyB9O1xuICAgICAgICAkdXJsUm91dGVyLnB1c2goJHN0YXRlLiRjdXJyZW50Lm5hdmlnYWJsZS51cmwsICRzdGF0ZS5wYXJhbXMsIHVybE9wdGlvbnMpO1xuICAgIH1cbiAgICAkdXJsUm91dGVyLnVwZGF0ZSh0cnVlKTtcbn07XG52YXIgcmVnaXN0ZXJVcGRhdGVVcmwgPSBmdW5jdGlvbiAodHJhbnNpdGlvblNlcnZpY2UpIHtcbiAgICByZXR1cm4gdHJhbnNpdGlvblNlcnZpY2Uub25TdWNjZXNzKHt9LCB1cGRhdGVVcmwsIHsgcHJpb3JpdHk6IDk5OTkgfSk7XG59O1xuXG4vKipcbiAqIEEgW1tUcmFuc2l0aW9uSG9va0ZuXV0gdGhhdCBwZXJmb3JtcyBsYXp5IGxvYWRpbmdcbiAqXG4gKiBXaGVuIGVudGVyaW5nIGEgc3RhdGUgXCJhYmNcIiB3aGljaCBoYXMgYSBgbGF6eUxvYWRgIGZ1bmN0aW9uIGRlZmluZWQ6XG4gKiAtIEludm9rZSB0aGUgYGxhenlMb2FkYCBmdW5jdGlvbiAodW5sZXNzIGl0IGlzIGFscmVhZHkgaW4gcHJvY2VzcylcbiAqICAgLSBGbGFnIHRoZSBob29rIGZ1bmN0aW9uIGFzIFwiaW4gcHJvY2Vzc1wiXG4gKiAgIC0gVGhlIGZ1bmN0aW9uIHNob3VsZCByZXR1cm4gYSBwcm9taXNlICh0aGF0IHJlc29sdmVzIHdoZW4gbGF6eSBsb2FkaW5nIGlzIGNvbXBsZXRlKVxuICogLSBXYWl0IGZvciB0aGUgcHJvbWlzZSB0byBzZXR0bGVcbiAqICAgLSBJZiB0aGUgcHJvbWlzZSByZXNvbHZlcyB0byBhIFtbTGF6eUxvYWRSZXN1bHRdXSwgdGhlbiByZWdpc3RlciB0aG9zZSBzdGF0ZXNcbiAqICAgLSBGbGFnIHRoZSBob29rIGZ1bmN0aW9uIGFzIFwibm90IGluIHByb2Nlc3NcIlxuICogLSBJZiB0aGUgaG9vayB3YXMgc3VjY2Vzc2Z1bFxuICogICAtIFJlbW92ZSB0aGUgYGxhenlMb2FkYCBmdW5jdGlvbiBmcm9tIHRoZSBzdGF0ZSBkZWNsYXJhdGlvblxuICogLSBJZiBhbGwgdGhlIGhvb2tzIHdlcmUgc3VjY2Vzc2Z1bFxuICogICAtIFJldHJ5IHRoZSB0cmFuc2l0aW9uIChieSByZXR1cm5pbmcgYSBUYXJnZXRTdGF0ZSlcbiAqXG4gKiBgYGBcbiAqIC5zdGF0ZSgnYWJjJywge1xuICogICBjb21wb25lbnQ6ICdmb29Db21wb25lbnQnLFxuICogICBsYXp5TG9hZDogKCkgPT4gU3lzdGVtLmltcG9ydCgnLi9mb29Db21wb25lbnQnKVxuICogICB9KTtcbiAqIGBgYFxuICpcbiAqIFNlZSBbW1N0YXRlRGVjbGFyYXRpb24ubGF6eUxvYWRdXVxuICovXG52YXIgbGF6eUxvYWRIb29rID0gZnVuY3Rpb24gKHRyYW5zaXRpb24pIHtcbiAgICB2YXIgcm91dGVyID0gdHJhbnNpdGlvbi5yb3V0ZXI7XG4gICAgZnVuY3Rpb24gcmV0cnlUcmFuc2l0aW9uKCkge1xuICAgICAgICBpZiAodHJhbnNpdGlvbi5vcmlnaW5hbFRyYW5zaXRpb24oKS5vcHRpb25zKCkuc291cmNlICE9PSAndXJsJykge1xuICAgICAgICAgICAgLy8gVGhlIG9yaWdpbmFsIHRyYW5zaXRpb24gd2FzIG5vdCB0cmlnZ2VyZWQgdmlhIHVybCBzeW5jXG4gICAgICAgICAgICAvLyBUaGUgbGF6eSBzdGF0ZSBzaG91bGQgYmUgbG9hZGVkIG5vdywgc28gcmUtdHJ5IHRoZSBvcmlnaW5hbCB0cmFuc2l0aW9uXG4gICAgICAgICAgICB2YXIgb3JpZyA9IHRyYW5zaXRpb24udGFyZ2V0U3RhdGUoKTtcbiAgICAgICAgICAgIHJldHVybiByb3V0ZXIuc3RhdGVTZXJ2aWNlLnRhcmdldChvcmlnLmlkZW50aWZpZXIoKSwgb3JpZy5wYXJhbXMoKSwgb3JpZy5vcHRpb25zKCkpO1xuICAgICAgICB9XG4gICAgICAgIC8vIFRoZSBvcmlnaW5hbCB0cmFuc2l0aW9uIHdhcyB0cmlnZ2VyZWQgdmlhIHVybCBzeW5jXG4gICAgICAgIC8vIFJ1biB0aGUgVVJMIHJ1bGVzIGFuZCBmaW5kIHRoZSBiZXN0IG1hdGNoXG4gICAgICAgIHZhciAkdXJsID0gcm91dGVyLnVybFNlcnZpY2U7XG4gICAgICAgIHZhciByZXN1bHQgPSAkdXJsLm1hdGNoKCR1cmwucGFydHMoKSk7XG4gICAgICAgIHZhciBydWxlID0gcmVzdWx0ICYmIHJlc3VsdC5ydWxlO1xuICAgICAgICAvLyBJZiB0aGUgYmVzdCBtYXRjaCBpcyBhIHN0YXRlLCByZWRpcmVjdCB0aGUgdHJhbnNpdGlvbiAoaW5zdGVhZFxuICAgICAgICAvLyBvZiBjYWxsaW5nIHN5bmMoKSB3aGljaCBzdXBlcnNlZGVzIHRoZSBjdXJyZW50IHRyYW5zaXRpb24pXG4gICAgICAgIGlmIChydWxlICYmIHJ1bGUudHlwZSA9PT0gXCJTVEFURVwiKSB7XG4gICAgICAgICAgICB2YXIgc3RhdGUgPSBydWxlLnN0YXRlO1xuICAgICAgICAgICAgdmFyIHBhcmFtcyA9IHJlc3VsdC5tYXRjaDtcbiAgICAgICAgICAgIHJldHVybiByb3V0ZXIuc3RhdGVTZXJ2aWNlLnRhcmdldChzdGF0ZSwgcGFyYW1zLCB0cmFuc2l0aW9uLm9wdGlvbnMoKSk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gTm8gbWF0Y2hpbmcgc3RhdGUgZm91bmQsIHNvIGxldCAuc3luYygpIGNob29zZSB0aGUgYmVzdCBub24tc3RhdGUgbWF0Y2gvb3RoZXJ3aXNlXG4gICAgICAgIHJvdXRlci51cmxTZXJ2aWNlLnN5bmMoKTtcbiAgICB9XG4gICAgdmFyIHByb21pc2VzID0gdHJhbnNpdGlvbi5lbnRlcmluZygpXG4gICAgICAgIC5maWx0ZXIoZnVuY3Rpb24gKHN0YXRlKSB7IHJldHVybiAhIXN0YXRlLiQkc3RhdGUoKS5sYXp5TG9hZDsgfSlcbiAgICAgICAgLm1hcChmdW5jdGlvbiAoc3RhdGUpIHsgcmV0dXJuIGxhenlMb2FkU3RhdGUodHJhbnNpdGlvbiwgc3RhdGUpOyB9KTtcbiAgICByZXR1cm4gc2VydmljZXMuJHEuYWxsKHByb21pc2VzKS50aGVuKHJldHJ5VHJhbnNpdGlvbik7XG59O1xudmFyIHJlZ2lzdGVyTGF6eUxvYWRIb29rID0gZnVuY3Rpb24gKHRyYW5zaXRpb25TZXJ2aWNlKSB7XG4gICAgcmV0dXJuIHRyYW5zaXRpb25TZXJ2aWNlLm9uQmVmb3JlKHsgZW50ZXJpbmc6IGZ1bmN0aW9uIChzdGF0ZSkgeyByZXR1cm4gISFzdGF0ZS5sYXp5TG9hZDsgfSB9LCBsYXp5TG9hZEhvb2spO1xufTtcbi8qKlxuICogSW52b2tlcyBhIHN0YXRlJ3MgbGF6eSBsb2FkIGZ1bmN0aW9uXG4gKlxuICogQHBhcmFtIHRyYW5zaXRpb24gYSBUcmFuc2l0aW9uIGNvbnRleHRcbiAqIEBwYXJhbSBzdGF0ZSB0aGUgc3RhdGUgdG8gbGF6eSBsb2FkXG4gKiBAcmV0dXJucyBBIHByb21pc2UgZm9yIHRoZSBsYXp5IGxvYWQgcmVzdWx0XG4gKi9cbmZ1bmN0aW9uIGxhenlMb2FkU3RhdGUodHJhbnNpdGlvbiwgc3RhdGUpIHtcbiAgICB2YXIgbGF6eUxvYWRGbiA9IHN0YXRlLiQkc3RhdGUoKS5sYXp5TG9hZDtcbiAgICAvLyBTdG9yZS9nZXQgdGhlIGxhenkgbG9hZCBwcm9taXNlIG9uL2Zyb20gdGhlIGhvb2tmbiBzbyBpdCBkb2Vzbid0IGdldCByZS1pbnZva2VkXG4gICAgdmFyIHByb21pc2UgPSBsYXp5TG9hZEZuWydfcHJvbWlzZSddO1xuICAgIGlmICghcHJvbWlzZSkge1xuICAgICAgICB2YXIgc3VjY2VzcyA9IGZ1bmN0aW9uIChyZXN1bHQpIHtcbiAgICAgICAgICAgIGRlbGV0ZSBzdGF0ZS5sYXp5TG9hZDtcbiAgICAgICAgICAgIGRlbGV0ZSBzdGF0ZS4kJHN0YXRlKCkubGF6eUxvYWQ7XG4gICAgICAgICAgICBkZWxldGUgbGF6eUxvYWRGblsnX3Byb21pc2UnXTtcbiAgICAgICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICAgIH07XG4gICAgICAgIHZhciBlcnJvciA9IGZ1bmN0aW9uIChlcnIpIHtcbiAgICAgICAgICAgIGRlbGV0ZSBsYXp5TG9hZEZuWydfcHJvbWlzZSddO1xuICAgICAgICAgICAgcmV0dXJuIHNlcnZpY2VzLiRxLnJlamVjdChlcnIpO1xuICAgICAgICB9O1xuICAgICAgICBwcm9taXNlID0gbGF6eUxvYWRGblsnX3Byb21pc2UnXSA9XG4gICAgICAgICAgICBzZXJ2aWNlcy4kcS53aGVuKGxhenlMb2FkRm4odHJhbnNpdGlvbiwgc3RhdGUpKVxuICAgICAgICAgICAgICAgIC50aGVuKHVwZGF0ZVN0YXRlUmVnaXN0cnkpXG4gICAgICAgICAgICAgICAgLnRoZW4oc3VjY2VzcywgZXJyb3IpO1xuICAgIH1cbiAgICAvKiogUmVnaXN0ZXIgYW55IGxhenkgbG9hZGVkIHN0YXRlIGRlZmluaXRpb25zICovXG4gICAgZnVuY3Rpb24gdXBkYXRlU3RhdGVSZWdpc3RyeShyZXN1bHQpIHtcbiAgICAgICAgaWYgKHJlc3VsdCAmJiBBcnJheS5pc0FycmF5KHJlc3VsdC5zdGF0ZXMpKSB7XG4gICAgICAgICAgICByZXN1bHQuc3RhdGVzLmZvckVhY2goZnVuY3Rpb24gKHN0YXRlKSB7IHJldHVybiB0cmFuc2l0aW9uLnJvdXRlci5zdGF0ZVJlZ2lzdHJ5LnJlZ2lzdGVyKHN0YXRlKTsgfSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG4gICAgcmV0dXJuIHByb21pc2U7XG59XG5cbi8qKlxuICogVGhpcyBjbGFzcyBkZWZpbmVzIGEgdHlwZSBvZiBob29rLCBzdWNoIGFzIGBvbkJlZm9yZWAgb3IgYG9uRW50ZXJgLlxuICogUGx1Z2lucyBjYW4gZGVmaW5lIGN1c3RvbSBob29rIHR5cGVzLCBzdWNoIGFzIHN0aWNreSBzdGF0ZXMgZG9lcyBmb3IgYG9uSW5hY3RpdmVgLlxuICpcbiAqIEBpbnRlcmFsYXBpXG4gKi9cbnZhciBUcmFuc2l0aW9uRXZlbnRUeXBlID0gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBUcmFuc2l0aW9uRXZlbnRUeXBlKG5hbWUsIGhvb2tQaGFzZSwgaG9va09yZGVyLCBjcml0ZXJpYU1hdGNoUGF0aCwgcmV2ZXJzZVNvcnQsIGdldFJlc3VsdEhhbmRsZXIsIGdldEVycm9ySGFuZGxlciwgc3luY2hyb25vdXMpIHtcbiAgICAgICAgaWYgKHJldmVyc2VTb3J0ID09PSB2b2lkIDApIHsgcmV2ZXJzZVNvcnQgPSBmYWxzZTsgfVxuICAgICAgICBpZiAoZ2V0UmVzdWx0SGFuZGxlciA9PT0gdm9pZCAwKSB7IGdldFJlc3VsdEhhbmRsZXIgPSBUcmFuc2l0aW9uSG9vay5IQU5ETEVfUkVTVUxUOyB9XG4gICAgICAgIGlmIChnZXRFcnJvckhhbmRsZXIgPT09IHZvaWQgMCkgeyBnZXRFcnJvckhhbmRsZXIgPSBUcmFuc2l0aW9uSG9vay5SRUpFQ1RfRVJST1I7IH1cbiAgICAgICAgaWYgKHN5bmNocm9ub3VzID09PSB2b2lkIDApIHsgc3luY2hyb25vdXMgPSBmYWxzZTsgfVxuICAgICAgICB0aGlzLm5hbWUgPSBuYW1lO1xuICAgICAgICB0aGlzLmhvb2tQaGFzZSA9IGhvb2tQaGFzZTtcbiAgICAgICAgdGhpcy5ob29rT3JkZXIgPSBob29rT3JkZXI7XG4gICAgICAgIHRoaXMuY3JpdGVyaWFNYXRjaFBhdGggPSBjcml0ZXJpYU1hdGNoUGF0aDtcbiAgICAgICAgdGhpcy5yZXZlcnNlU29ydCA9IHJldmVyc2VTb3J0O1xuICAgICAgICB0aGlzLmdldFJlc3VsdEhhbmRsZXIgPSBnZXRSZXN1bHRIYW5kbGVyO1xuICAgICAgICB0aGlzLmdldEVycm9ySGFuZGxlciA9IGdldEVycm9ySGFuZGxlcjtcbiAgICAgICAgdGhpcy5zeW5jaHJvbm91cyA9IHN5bmNocm9ub3VzO1xuICAgIH1cbiAgICByZXR1cm4gVHJhbnNpdGlvbkV2ZW50VHlwZTtcbn0oKSk7XG5cbi8qKiBAbW9kdWxlIGhvb2tzICovIC8qKiAqL1xuLyoqXG4gKiBBIFtbVHJhbnNpdGlvbkhvb2tGbl1dIHRoYXQgc2tpcHMgYSB0cmFuc2l0aW9uIGlmIGl0IHNob3VsZCBiZSBpZ25vcmVkXG4gKlxuICogVGhpcyBob29rIGlzIGludm9rZWQgYXQgdGhlIGVuZCBvZiB0aGUgb25CZWZvcmUgcGhhc2UuXG4gKlxuICogSWYgdGhlIHRyYW5zaXRpb24gc2hvdWxkIGJlIGlnbm9yZWQgKGJlY2F1c2Ugbm8gcGFyYW1ldGVyIG9yIHN0YXRlcyBjaGFuZ2VkKVxuICogdGhlbiB0aGUgdHJhbnNpdGlvbiBpcyBpZ25vcmVkIGFuZCBub3QgcHJvY2Vzc2VkLlxuICovXG5mdW5jdGlvbiBpZ25vcmVkSG9vayh0cmFucykge1xuICAgIHZhciBpZ25vcmVkUmVhc29uID0gdHJhbnMuX2lnbm9yZWRSZWFzb24oKTtcbiAgICBpZiAoIWlnbm9yZWRSZWFzb24pXG4gICAgICAgIHJldHVybjtcbiAgICB0cmFjZS50cmFjZVRyYW5zaXRpb25JZ25vcmVkKHRyYW5zKTtcbiAgICB2YXIgcGVuZGluZyA9IHRyYW5zLnJvdXRlci5nbG9iYWxzLnRyYW5zaXRpb247XG4gICAgLy8gVGhlIHVzZXIgY2xpY2tlZCBhIGxpbmsgZ29pbmcgYmFjayB0byB0aGUgKmN1cnJlbnQgc3RhdGUqICgnQScpXG4gICAgLy8gSG93ZXZlciwgdGhlcmUgaXMgYWxzbyBhIHBlbmRpbmcgdHJhbnNpdGlvbiBpbiBmbGlnaHQgKHRvICdCJylcbiAgICAvLyBBYm9ydCB0aGUgdHJhbnNpdGlvbiB0byAnQicgYmVjYXVzZSB0aGUgdXNlciBub3cgd2FudHMgdG8gYmUgYmFjayBhdCAnQScuXG4gICAgaWYgKGlnbm9yZWRSZWFzb24gPT09ICdTYW1lQXNDdXJyZW50JyAmJiBwZW5kaW5nKSB7XG4gICAgICAgIHBlbmRpbmcuYWJvcnQoKTtcbiAgICB9XG4gICAgcmV0dXJuIFJlamVjdGlvbi5pZ25vcmVkKCkudG9Qcm9taXNlKCk7XG59XG52YXIgcmVnaXN0ZXJJZ25vcmVkVHJhbnNpdGlvbkhvb2sgPSBmdW5jdGlvbiAodHJhbnNpdGlvblNlcnZpY2UpIHtcbiAgICByZXR1cm4gdHJhbnNpdGlvblNlcnZpY2Uub25CZWZvcmUoe30sIGlnbm9yZWRIb29rLCB7IHByaW9yaXR5OiAtOTk5OSB9KTtcbn07XG5cbi8qKiBAbW9kdWxlIGhvb2tzICovIC8qKiAqL1xuLyoqXG4gKiBBIFtbVHJhbnNpdGlvbkhvb2tGbl1dIHRoYXQgcmVqZWN0cyB0aGUgVHJhbnNpdGlvbiBpZiBpdCBpcyBpbnZhbGlkXG4gKlxuICogVGhpcyBob29rIGlzIGludm9rZWQgYXQgdGhlIGVuZCBvZiB0aGUgb25CZWZvcmUgcGhhc2UuXG4gKiBJZiB0aGUgdHJhbnNpdGlvbiBpcyBpbnZhbGlkIChmb3IgZXhhbXBsZSwgcGFyYW0gdmFsdWVzIGRvIG5vdCB2YWxpZGF0ZSlcbiAqIHRoZW4gdGhlIHRyYW5zaXRpb24gaXMgcmVqZWN0ZWQuXG4gKi9cbmZ1bmN0aW9uIGludmFsaWRUcmFuc2l0aW9uSG9vayh0cmFucykge1xuICAgIGlmICghdHJhbnMudmFsaWQoKSkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IodHJhbnMuZXJyb3IoKSk7XG4gICAgfVxufVxudmFyIHJlZ2lzdGVySW52YWxpZFRyYW5zaXRpb25Ib29rID0gZnVuY3Rpb24gKHRyYW5zaXRpb25TZXJ2aWNlKSB7XG4gICAgcmV0dXJuIHRyYW5zaXRpb25TZXJ2aWNlLm9uQmVmb3JlKHt9LCBpbnZhbGlkVHJhbnNpdGlvbkhvb2ssIHsgcHJpb3JpdHk6IC0xMDAwMCB9KTtcbn07XG5cbi8qKlxuICogQGNvcmVhcGlcbiAqIEBtb2R1bGUgdHJhbnNpdGlvblxuICovXG4vKiogZm9yIHR5cGVkb2MgKi9cbi8qKlxuICogVGhlIGRlZmF1bHQgW1tUcmFuc2l0aW9uXV0gb3B0aW9ucy5cbiAqXG4gKiBJbmNsdWRlIHRoaXMgb2JqZWN0IHdoZW4gYXBwbHlpbmcgY3VzdG9tIGRlZmF1bHRzOlxuICogbGV0IHJlbG9hZE9wdHMgPSB7IHJlbG9hZDogdHJ1ZSwgbm90aWZ5OiB0cnVlIH1cbiAqIGxldCBvcHRpb25zID0gZGVmYXVsdHModGhlaXJPcHRzLCBjdXN0b21EZWZhdWx0cywgZGVmYXVsdE9wdGlvbnMpO1xuICovXG52YXIgZGVmYXVsdFRyYW5zT3B0cyA9IHtcbiAgICBsb2NhdGlvbjogdHJ1ZSxcbiAgICByZWxhdGl2ZTogbnVsbCxcbiAgICBpbmhlcml0OiBmYWxzZSxcbiAgICBub3RpZnk6IHRydWUsXG4gICAgcmVsb2FkOiBmYWxzZSxcbiAgICBjdXN0b206IHt9LFxuICAgIGN1cnJlbnQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIG51bGw7IH0sXG4gICAgc291cmNlOiBcInVua25vd25cIlxufTtcbi8qKlxuICogVGhpcyBjbGFzcyBwcm92aWRlcyBzZXJ2aWNlcyByZWxhdGVkIHRvIFRyYW5zaXRpb25zLlxuICpcbiAqIC0gTW9zdCBpbXBvcnRhbnRseSwgaXQgYWxsb3dzIGdsb2JhbCBUcmFuc2l0aW9uIEhvb2tzIHRvIGJlIHJlZ2lzdGVyZWQuXG4gKiAtIEl0IGFsbG93cyB0aGUgZGVmYXVsdCB0cmFuc2l0aW9uIGVycm9yIGhhbmRsZXIgdG8gYmUgc2V0LlxuICogLSBJdCBhbHNvIGhhcyBhIGZhY3RvcnkgZnVuY3Rpb24gZm9yIGNyZWF0aW5nIG5ldyBbW1RyYW5zaXRpb25dXSBvYmplY3RzLCAodXNlZCBpbnRlcm5hbGx5IGJ5IHRoZSBbW1N0YXRlU2VydmljZV1dKS5cbiAqXG4gKiBBdCBib290c3RyYXAsIFtbVUlSb3V0ZXJdXSBjcmVhdGVzIGEgc2luZ2xlIGluc3RhbmNlIChzaW5nbGV0b24pIG9mIHRoaXMgY2xhc3MuXG4gKi9cbnZhciBUcmFuc2l0aW9uU2VydmljZSA9IChmdW5jdGlvbiAoKSB7XG4gICAgLyoqIEBoaWRkZW4gKi9cbiAgICBmdW5jdGlvbiBUcmFuc2l0aW9uU2VydmljZShfcm91dGVyKSB7XG4gICAgICAgIC8qKiBAaGlkZGVuICovXG4gICAgICAgIHRoaXMuX3RyYW5zaXRpb25Db3VudCA9IDA7XG4gICAgICAgIC8qKiBAaGlkZGVuIFRoZSB0cmFuc2l0aW9uIGhvb2sgdHlwZXMsIHN1Y2ggYXMgYG9uRW50ZXJgLCBgb25TdGFydGAsIGV0YyAqL1xuICAgICAgICB0aGlzLl9ldmVudFR5cGVzID0gW107XG4gICAgICAgIC8qKiBAaGlkZGVuIFRoZSByZWdpc3RlcmVkIHRyYW5zaXRpb24gaG9va3MgKi9cbiAgICAgICAgdGhpcy5fcmVnaXN0ZXJlZEhvb2tzID0ge307XG4gICAgICAgIC8qKiBAaGlkZGVuIFRoZSAgcGF0aHMgb24gYSBjcml0ZXJpYSBvYmplY3QgKi9cbiAgICAgICAgdGhpcy5fY3JpdGVyaWFQYXRocyA9IHt9O1xuICAgICAgICB0aGlzLl9yb3V0ZXIgPSBfcm91dGVyO1xuICAgICAgICB0aGlzLiR2aWV3ID0gX3JvdXRlci52aWV3U2VydmljZTtcbiAgICAgICAgdGhpcy5fZGVyZWdpc3Rlckhvb2tGbnMgPSB7fTtcbiAgICAgICAgdGhpcy5fcGx1Z2luYXBpID0gY3JlYXRlUHJveHlGdW5jdGlvbnModmFsKHRoaXMpLCB7fSwgdmFsKHRoaXMpLCBbXG4gICAgICAgICAgICAnX2RlZmluZVBhdGhUeXBlJyxcbiAgICAgICAgICAgICdfZGVmaW5lRXZlbnQnLFxuICAgICAgICAgICAgJ19nZXRQYXRoVHlwZXMnLFxuICAgICAgICAgICAgJ19nZXRFdmVudHMnLFxuICAgICAgICAgICAgJ2dldEhvb2tzJyxcbiAgICAgICAgXSk7XG4gICAgICAgIHRoaXMuX2RlZmluZUNvcmVQYXRocygpO1xuICAgICAgICB0aGlzLl9kZWZpbmVDb3JlRXZlbnRzKCk7XG4gICAgICAgIHRoaXMuX3JlZ2lzdGVyQ29yZVRyYW5zaXRpb25Ib29rcygpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBSZWdpc3RlcnMgYSBbW1RyYW5zaXRpb25Ib29rRm5dXSwgY2FsbGVkICp3aGlsZSBhIHRyYW5zaXRpb24gaXMgYmVpbmcgY29uc3RydWN0ZWQqLlxuICAgICAqXG4gICAgICogUmVnaXN0ZXJzIGEgdHJhbnNpdGlvbiBsaWZlY3ljbGUgaG9vaywgd2hpY2ggaXMgaW52b2tlZCBkdXJpbmcgdHJhbnNpdGlvbiBjb25zdHJ1Y3Rpb24uXG4gICAgICpcbiAgICAgKiBUaGlzIGxvdyBsZXZlbCBob29rIHNob3VsZCBvbmx5IGJlIHVzZWQgYnkgcGx1Z2lucy5cbiAgICAgKiBUaGlzIGNhbiBiZSBhIHVzZWZ1bCB0aW1lIGZvciBwbHVnaW5zIHRvIGFkZCByZXNvbHZlcyBvciBtdXRhdGUgdGhlIHRyYW5zaXRpb24gYXMgbmVlZGVkLlxuICAgICAqIFRoZSBTdGlja3kgU3RhdGVzIHBsdWdpbiB1c2VzIHRoaXMgaG9vayB0byBtb2RpZnkgdGhlIHRyZWVjaGFuZ2VzLlxuICAgICAqXG4gICAgICogIyMjIExpZmVjeWNsZVxuICAgICAqXG4gICAgICogYG9uQ3JlYXRlYCBob29rcyBhcmUgaW52b2tlZCAqd2hpbGUgYSB0cmFuc2l0aW9uIGlzIGJlaW5nIGNvbnN0cnVjdGVkKi5cbiAgICAgKlxuICAgICAqICMjIyBSZXR1cm4gdmFsdWVcbiAgICAgKlxuICAgICAqIFRoZSBob29rJ3MgcmV0dXJuIHZhbHVlIGlzIGlnbm9yZWRcbiAgICAgKlxuICAgICAqIEBpbnRlcm5hbGFwaVxuICAgICAqIEBwYXJhbSBjcml0ZXJpYSBkZWZpbmVzIHdoaWNoIFRyYW5zaXRpb25zIHRoZSBIb29rIHNob3VsZCBiZSBpbnZva2VkIGZvci5cbiAgICAgKiBAcGFyYW0gY2FsbGJhY2sgdGhlIGhvb2sgZnVuY3Rpb24gd2hpY2ggd2lsbCBiZSBpbnZva2VkLlxuICAgICAqIEBwYXJhbSBvcHRpb25zIHRoZSByZWdpc3RyYXRpb24gb3B0aW9uc1xuICAgICAqIEByZXR1cm5zIGEgZnVuY3Rpb24gd2hpY2ggZGVyZWdpc3RlcnMgdGhlIGhvb2suXG4gICAgICovXG4gICAgVHJhbnNpdGlvblNlcnZpY2UucHJvdG90eXBlLm9uQ3JlYXRlID0gZnVuY3Rpb24gKGNyaXRlcmlhLCBjYWxsYmFjaywgb3B0aW9ucykgeyByZXR1cm47IH07XG4gICAgLyoqIEBpbmhlcml0ZG9jICovXG4gICAgVHJhbnNpdGlvblNlcnZpY2UucHJvdG90eXBlLm9uQmVmb3JlID0gZnVuY3Rpb24gKGNyaXRlcmlhLCBjYWxsYmFjaywgb3B0aW9ucykgeyByZXR1cm47IH07XG4gICAgLyoqIEBpbmhlcml0ZG9jICovXG4gICAgVHJhbnNpdGlvblNlcnZpY2UucHJvdG90eXBlLm9uU3RhcnQgPSBmdW5jdGlvbiAoY3JpdGVyaWEsIGNhbGxiYWNrLCBvcHRpb25zKSB7IHJldHVybjsgfTtcbiAgICAvKiogQGluaGVyaXRkb2MgKi9cbiAgICBUcmFuc2l0aW9uU2VydmljZS5wcm90b3R5cGUub25FeGl0ID0gZnVuY3Rpb24gKGNyaXRlcmlhLCBjYWxsYmFjaywgb3B0aW9ucykgeyByZXR1cm47IH07XG4gICAgLyoqIEBpbmhlcml0ZG9jICovXG4gICAgVHJhbnNpdGlvblNlcnZpY2UucHJvdG90eXBlLm9uUmV0YWluID0gZnVuY3Rpb24gKGNyaXRlcmlhLCBjYWxsYmFjaywgb3B0aW9ucykgeyByZXR1cm47IH07XG4gICAgLyoqIEBpbmhlcml0ZG9jICovXG4gICAgVHJhbnNpdGlvblNlcnZpY2UucHJvdG90eXBlLm9uRW50ZXIgPSBmdW5jdGlvbiAoY3JpdGVyaWEsIGNhbGxiYWNrLCBvcHRpb25zKSB7IHJldHVybjsgfTtcbiAgICAvKiogQGluaGVyaXRkb2MgKi9cbiAgICBUcmFuc2l0aW9uU2VydmljZS5wcm90b3R5cGUub25GaW5pc2ggPSBmdW5jdGlvbiAoY3JpdGVyaWEsIGNhbGxiYWNrLCBvcHRpb25zKSB7IHJldHVybjsgfTtcbiAgICAvKiogQGluaGVyaXRkb2MgKi9cbiAgICBUcmFuc2l0aW9uU2VydmljZS5wcm90b3R5cGUub25TdWNjZXNzID0gZnVuY3Rpb24gKGNyaXRlcmlhLCBjYWxsYmFjaywgb3B0aW9ucykgeyByZXR1cm47IH07XG4gICAgLyoqIEBpbmhlcml0ZG9jICovXG4gICAgVHJhbnNpdGlvblNlcnZpY2UucHJvdG90eXBlLm9uRXJyb3IgPSBmdW5jdGlvbiAoY3JpdGVyaWEsIGNhbGxiYWNrLCBvcHRpb25zKSB7IHJldHVybjsgfTtcbiAgICAvKipcbiAgICAgKiBkaXNwb3NlXG4gICAgICogQGludGVybmFsYXBpXG4gICAgICovXG4gICAgVHJhbnNpdGlvblNlcnZpY2UucHJvdG90eXBlLmRpc3Bvc2UgPSBmdW5jdGlvbiAocm91dGVyKSB7XG4gICAgICAgIHZhbHVlcyh0aGlzLl9yZWdpc3RlcmVkSG9va3MpLmZvckVhY2goZnVuY3Rpb24gKGhvb2tzQXJyYXkpIHsgcmV0dXJuIGhvb2tzQXJyYXkuZm9yRWFjaChmdW5jdGlvbiAoaG9vaykge1xuICAgICAgICAgICAgaG9vay5fZGVyZWdpc3RlcmVkID0gdHJ1ZTtcbiAgICAgICAgICAgIHJlbW92ZUZyb20oaG9va3NBcnJheSwgaG9vayk7XG4gICAgICAgIH0pOyB9KTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBuZXcgW1tUcmFuc2l0aW9uXV0gb2JqZWN0XG4gICAgICpcbiAgICAgKiBUaGlzIGlzIGEgZmFjdG9yeSBmdW5jdGlvbiBmb3IgY3JlYXRpbmcgbmV3IFRyYW5zaXRpb24gb2JqZWN0cy5cbiAgICAgKiBJdCBpcyB1c2VkIGludGVybmFsbHkgYnkgdGhlIFtbU3RhdGVTZXJ2aWNlXV0gYW5kIHNob3VsZCBnZW5lcmFsbHkgbm90IGJlIGNhbGxlZCBieSBhcHBsaWNhdGlvbiBjb2RlLlxuICAgICAqXG4gICAgICogQHBhcmFtIGZyb21QYXRoIHRoZSBwYXRoIHRvIHRoZSBjdXJyZW50IHN0YXRlICh0aGUgZnJvbSBzdGF0ZSlcbiAgICAgKiBAcGFyYW0gdGFyZ2V0U3RhdGUgdGhlIHRhcmdldCBzdGF0ZSAoZGVzdGluYXRpb24pXG4gICAgICogQHJldHVybnMgYSBUcmFuc2l0aW9uXG4gICAgICovXG4gICAgVHJhbnNpdGlvblNlcnZpY2UucHJvdG90eXBlLmNyZWF0ZSA9IGZ1bmN0aW9uIChmcm9tUGF0aCwgdGFyZ2V0U3RhdGUpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBUcmFuc2l0aW9uKGZyb21QYXRoLCB0YXJnZXRTdGF0ZSwgdGhpcy5fcm91dGVyKTtcbiAgICB9O1xuICAgIC8qKiBAaGlkZGVuICovXG4gICAgVHJhbnNpdGlvblNlcnZpY2UucHJvdG90eXBlLl9kZWZpbmVDb3JlRXZlbnRzID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgUGhhc2UgPSBleHBvcnRzLlRyYW5zaXRpb25Ib29rUGhhc2U7XG4gICAgICAgIHZhciBUSCA9IFRyYW5zaXRpb25Ib29rO1xuICAgICAgICB2YXIgcGF0aHMgPSB0aGlzLl9jcml0ZXJpYVBhdGhzO1xuICAgICAgICB2YXIgTk9STUFMX1NPUlQgPSBmYWxzZSwgUkVWRVJTRV9TT1JUID0gdHJ1ZTtcbiAgICAgICAgdmFyIEFTWU5DSFJPTk9VUyA9IGZhbHNlLCBTWU5DSFJPTk9VUyA9IHRydWU7XG4gICAgICAgIHRoaXMuX2RlZmluZUV2ZW50KFwib25DcmVhdGVcIiwgUGhhc2UuQ1JFQVRFLCAwLCBwYXRocy50bywgTk9STUFMX1NPUlQsIFRILkxPR19SRUpFQ1RFRF9SRVNVTFQsIFRILlRIUk9XX0VSUk9SLCBTWU5DSFJPTk9VUyk7XG4gICAgICAgIHRoaXMuX2RlZmluZUV2ZW50KFwib25CZWZvcmVcIiwgUGhhc2UuQkVGT1JFLCAwLCBwYXRocy50byk7XG4gICAgICAgIHRoaXMuX2RlZmluZUV2ZW50KFwib25TdGFydFwiLCBQaGFzZS5SVU4sIDAsIHBhdGhzLnRvKTtcbiAgICAgICAgdGhpcy5fZGVmaW5lRXZlbnQoXCJvbkV4aXRcIiwgUGhhc2UuUlVOLCAxMDAsIHBhdGhzLmV4aXRpbmcsIFJFVkVSU0VfU09SVCk7XG4gICAgICAgIHRoaXMuX2RlZmluZUV2ZW50KFwib25SZXRhaW5cIiwgUGhhc2UuUlVOLCAyMDAsIHBhdGhzLnJldGFpbmVkKTtcbiAgICAgICAgdGhpcy5fZGVmaW5lRXZlbnQoXCJvbkVudGVyXCIsIFBoYXNlLlJVTiwgMzAwLCBwYXRocy5lbnRlcmluZyk7XG4gICAgICAgIHRoaXMuX2RlZmluZUV2ZW50KFwib25GaW5pc2hcIiwgUGhhc2UuUlVOLCA0MDAsIHBhdGhzLnRvKTtcbiAgICAgICAgdGhpcy5fZGVmaW5lRXZlbnQoXCJvblN1Y2Nlc3NcIiwgUGhhc2UuU1VDQ0VTUywgMCwgcGF0aHMudG8sIE5PUk1BTF9TT1JULCBUSC5MT0dfUkVKRUNURURfUkVTVUxULCBUSC5MT0dfRVJST1IsIFNZTkNIUk9OT1VTKTtcbiAgICAgICAgdGhpcy5fZGVmaW5lRXZlbnQoXCJvbkVycm9yXCIsIFBoYXNlLkVSUk9SLCAwLCBwYXRocy50bywgTk9STUFMX1NPUlQsIFRILkxPR19SRUpFQ1RFRF9SRVNVTFQsIFRILkxPR19FUlJPUiwgU1lOQ0hST05PVVMpO1xuICAgIH07XG4gICAgLyoqIEBoaWRkZW4gKi9cbiAgICBUcmFuc2l0aW9uU2VydmljZS5wcm90b3R5cGUuX2RlZmluZUNvcmVQYXRocyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIFNUQVRFID0gZXhwb3J0cy5UcmFuc2l0aW9uSG9va1Njb3BlLlNUQVRFLCBUUkFOU0lUSU9OID0gZXhwb3J0cy5UcmFuc2l0aW9uSG9va1Njb3BlLlRSQU5TSVRJT047XG4gICAgICAgIHRoaXMuX2RlZmluZVBhdGhUeXBlKFwidG9cIiwgVFJBTlNJVElPTik7XG4gICAgICAgIHRoaXMuX2RlZmluZVBhdGhUeXBlKFwiZnJvbVwiLCBUUkFOU0lUSU9OKTtcbiAgICAgICAgdGhpcy5fZGVmaW5lUGF0aFR5cGUoXCJleGl0aW5nXCIsIFNUQVRFKTtcbiAgICAgICAgdGhpcy5fZGVmaW5lUGF0aFR5cGUoXCJyZXRhaW5lZFwiLCBTVEFURSk7XG4gICAgICAgIHRoaXMuX2RlZmluZVBhdGhUeXBlKFwiZW50ZXJpbmdcIiwgU1RBVEUpO1xuICAgIH07XG4gICAgLyoqIEBoaWRkZW4gKi9cbiAgICBUcmFuc2l0aW9uU2VydmljZS5wcm90b3R5cGUuX2RlZmluZUV2ZW50ID0gZnVuY3Rpb24gKG5hbWUsIGhvb2tQaGFzZSwgaG9va09yZGVyLCBjcml0ZXJpYU1hdGNoUGF0aCwgcmV2ZXJzZVNvcnQsIGdldFJlc3VsdEhhbmRsZXIsIGdldEVycm9ySGFuZGxlciwgc3luY2hyb25vdXMpIHtcbiAgICAgICAgaWYgKHJldmVyc2VTb3J0ID09PSB2b2lkIDApIHsgcmV2ZXJzZVNvcnQgPSBmYWxzZTsgfVxuICAgICAgICBpZiAoZ2V0UmVzdWx0SGFuZGxlciA9PT0gdm9pZCAwKSB7IGdldFJlc3VsdEhhbmRsZXIgPSBUcmFuc2l0aW9uSG9vay5IQU5ETEVfUkVTVUxUOyB9XG4gICAgICAgIGlmIChnZXRFcnJvckhhbmRsZXIgPT09IHZvaWQgMCkgeyBnZXRFcnJvckhhbmRsZXIgPSBUcmFuc2l0aW9uSG9vay5SRUpFQ1RfRVJST1I7IH1cbiAgICAgICAgaWYgKHN5bmNocm9ub3VzID09PSB2b2lkIDApIHsgc3luY2hyb25vdXMgPSBmYWxzZTsgfVxuICAgICAgICB2YXIgZXZlbnRUeXBlID0gbmV3IFRyYW5zaXRpb25FdmVudFR5cGUobmFtZSwgaG9va1BoYXNlLCBob29rT3JkZXIsIGNyaXRlcmlhTWF0Y2hQYXRoLCByZXZlcnNlU29ydCwgZ2V0UmVzdWx0SGFuZGxlciwgZ2V0RXJyb3JIYW5kbGVyLCBzeW5jaHJvbm91cyk7XG4gICAgICAgIHRoaXMuX2V2ZW50VHlwZXMucHVzaChldmVudFR5cGUpO1xuICAgICAgICBtYWtlRXZlbnQodGhpcywgdGhpcywgZXZlbnRUeXBlKTtcbiAgICB9O1xuICAgIFxuICAgIC8qKiBAaGlkZGVuICovXG4gICAgVHJhbnNpdGlvblNlcnZpY2UucHJvdG90eXBlLl9nZXRFdmVudHMgPSBmdW5jdGlvbiAocGhhc2UpIHtcbiAgICAgICAgdmFyIHRyYW5zaXRpb25Ib29rVHlwZXMgPSBpc0RlZmluZWQocGhhc2UpID9cbiAgICAgICAgICAgIHRoaXMuX2V2ZW50VHlwZXMuZmlsdGVyKGZ1bmN0aW9uICh0eXBlKSB7IHJldHVybiB0eXBlLmhvb2tQaGFzZSA9PT0gcGhhc2U7IH0pIDpcbiAgICAgICAgICAgIHRoaXMuX2V2ZW50VHlwZXMuc2xpY2UoKTtcbiAgICAgICAgcmV0dXJuIHRyYW5zaXRpb25Ib29rVHlwZXMuc29ydChmdW5jdGlvbiAobCwgcikge1xuICAgICAgICAgICAgdmFyIGNtcEJ5UGhhc2UgPSBsLmhvb2tQaGFzZSAtIHIuaG9va1BoYXNlO1xuICAgICAgICAgICAgcmV0dXJuIGNtcEJ5UGhhc2UgPT09IDAgPyBsLmhvb2tPcmRlciAtIHIuaG9va09yZGVyIDogY21wQnlQaGFzZTtcbiAgICAgICAgfSk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBBZGRzIGEgUGF0aCB0byBiZSB1c2VkIGFzIGEgY3JpdGVyaW9uIGFnYWluc3QgYSBUcmVlQ2hhbmdlcyBwYXRoXG4gICAgICpcbiAgICAgKiBGb3IgZXhhbXBsZTogdGhlIGBleGl0aW5nYCBwYXRoIGluIFtbSG9va01hdGNoQ3JpdGVyaWFdXSBpcyBhIFNUQVRFIHNjb3BlZCBwYXRoLlxuICAgICAqIEl0IHdhcyBkZWZpbmVkIGJ5IGNhbGxpbmcgYGRlZmluZVRyZWVDaGFuZ2VzQ3JpdGVyaW9uKCdleGl0aW5nJywgVHJhbnNpdGlvbkhvb2tTY29wZS5TVEFURSlgXG4gICAgICogRWFjaCBzdGF0ZSBpbiB0aGUgZXhpdGluZyBwYXRoIGlzIGNoZWNrZWQgYWdhaW5zdCB0aGUgY3JpdGVyaWEgYW5kIHJldHVybmVkIGFzIHBhcnQgb2YgdGhlIG1hdGNoLlxuICAgICAqXG4gICAgICogQW5vdGhlciBleGFtcGxlOiB0aGUgYHRvYCBwYXRoIGluIFtbSG9va01hdGNoQ3JpdGVyaWFdXSBpcyBhIFRSQU5TSVRJT04gc2NvcGVkIHBhdGguXG4gICAgICogSXQgd2FzIGRlZmluZWQgYnkgY2FsbGluZyBgZGVmaW5lVHJlZUNoYW5nZXNDcml0ZXJpb24oJ3RvJywgVHJhbnNpdGlvbkhvb2tTY29wZS5UUkFOU0lUSU9OKWBcbiAgICAgKiBPbmx5IHRoZSB0YWlsIG9mIHRoZSBgdG9gIHBhdGggaXMgY2hlY2tlZCBhZ2FpbnN0IHRoZSBjcml0ZXJpYSBhbmQgcmV0dXJuZWQgYXMgcGFydCBvZiB0aGUgbWF0Y2guXG4gICAgICpcbiAgICAgKiBAaGlkZGVuXG4gICAgICovXG4gICAgVHJhbnNpdGlvblNlcnZpY2UucHJvdG90eXBlLl9kZWZpbmVQYXRoVHlwZSA9IGZ1bmN0aW9uIChuYW1lLCBob29rU2NvcGUpIHtcbiAgICAgICAgdGhpcy5fY3JpdGVyaWFQYXRoc1tuYW1lXSA9IHsgbmFtZTogbmFtZSwgc2NvcGU6IGhvb2tTY29wZSB9O1xuICAgIH07XG4gICAgLyoqICogQGhpZGRlbiAqL1xuICAgIFRyYW5zaXRpb25TZXJ2aWNlLnByb3RvdHlwZS5fZ2V0UGF0aFR5cGVzID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fY3JpdGVyaWFQYXRocztcbiAgICB9O1xuICAgIC8qKiBAaGlkZGVuICovXG4gICAgVHJhbnNpdGlvblNlcnZpY2UucHJvdG90eXBlLmdldEhvb2tzID0gZnVuY3Rpb24gKGhvb2tOYW1lKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9yZWdpc3RlcmVkSG9va3NbaG9va05hbWVdO1xuICAgIH07XG4gICAgLyoqIEBoaWRkZW4gKi9cbiAgICBUcmFuc2l0aW9uU2VydmljZS5wcm90b3R5cGUuX3JlZ2lzdGVyQ29yZVRyYW5zaXRpb25Ib29rcyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIGZucyA9IHRoaXMuX2RlcmVnaXN0ZXJIb29rRm5zO1xuICAgICAgICBmbnMuYWRkQ29yZVJlc29sdmVzID0gcmVnaXN0ZXJBZGRDb3JlUmVzb2x2YWJsZXModGhpcyk7XG4gICAgICAgIGZucy5pZ25vcmVkID0gcmVnaXN0ZXJJZ25vcmVkVHJhbnNpdGlvbkhvb2sodGhpcyk7XG4gICAgICAgIGZucy5pbnZhbGlkID0gcmVnaXN0ZXJJbnZhbGlkVHJhbnNpdGlvbkhvb2sodGhpcyk7XG4gICAgICAgIC8vIFdpcmUgdXAgcmVkaXJlY3RUbyBob29rXG4gICAgICAgIGZucy5yZWRpcmVjdFRvID0gcmVnaXN0ZXJSZWRpcmVjdFRvSG9vayh0aGlzKTtcbiAgICAgICAgLy8gV2lyZSB1cCBvbkV4aXQvUmV0YWluL0VudGVyIHN0YXRlIGhvb2tzXG4gICAgICAgIGZucy5vbkV4aXQgPSByZWdpc3Rlck9uRXhpdEhvb2sodGhpcyk7XG4gICAgICAgIGZucy5vblJldGFpbiA9IHJlZ2lzdGVyT25SZXRhaW5Ib29rKHRoaXMpO1xuICAgICAgICBmbnMub25FbnRlciA9IHJlZ2lzdGVyT25FbnRlckhvb2sodGhpcyk7XG4gICAgICAgIC8vIFdpcmUgdXAgUmVzb2x2ZSBob29rc1xuICAgICAgICBmbnMuZWFnZXJSZXNvbHZlID0gcmVnaXN0ZXJFYWdlclJlc29sdmVQYXRoKHRoaXMpO1xuICAgICAgICBmbnMubGF6eVJlc29sdmUgPSByZWdpc3RlckxhenlSZXNvbHZlU3RhdGUodGhpcyk7XG4gICAgICAgIC8vIFdpcmUgdXAgdGhlIFZpZXcgbWFuYWdlbWVudCBob29rc1xuICAgICAgICBmbnMubG9hZFZpZXdzID0gcmVnaXN0ZXJMb2FkRW50ZXJpbmdWaWV3cyh0aGlzKTtcbiAgICAgICAgZm5zLmFjdGl2YXRlVmlld3MgPSByZWdpc3RlckFjdGl2YXRlVmlld3ModGhpcyk7XG4gICAgICAgIC8vIFVwZGF0ZXMgZ2xvYmFsIHN0YXRlIGFmdGVyIGEgdHJhbnNpdGlvblxuICAgICAgICBmbnMudXBkYXRlR2xvYmFscyA9IHJlZ2lzdGVyVXBkYXRlR2xvYmFsU3RhdGUodGhpcyk7XG4gICAgICAgIC8vIEFmdGVyIGdsb2JhbHMuY3VycmVudCBpcyB1cGRhdGVkIGF0IHByaW9yaXR5OiAxMDAwMFxuICAgICAgICBmbnMudXBkYXRlVXJsID0gcmVnaXN0ZXJVcGRhdGVVcmwodGhpcyk7XG4gICAgICAgIC8vIExhenkgbG9hZCBzdGF0ZSB0cmVlc1xuICAgICAgICBmbnMubGF6eUxvYWQgPSByZWdpc3RlckxhenlMb2FkSG9vayh0aGlzKTtcbiAgICB9O1xuICAgIHJldHVybiBUcmFuc2l0aW9uU2VydmljZTtcbn0oKSk7XG5cbi8qKlxuICogQGNvcmVhcGlcbiAqIEBtb2R1bGUgc3RhdGVcbiAqL1xuLyoqICovXG4vKipcbiAqIFByb3ZpZGVzIHN0YXRlIHJlbGF0ZWQgc2VydmljZSBmdW5jdGlvbnNcbiAqXG4gKiBUaGlzIGNsYXNzIHByb3ZpZGVzIHNlcnZpY2VzIHJlbGF0ZWQgdG8gdWktcm91dGVyIHN0YXRlcy5cbiAqIEFuIGluc3RhbmNlIG9mIHRoaXMgY2xhc3MgaXMgbG9jYXRlZCBvbiB0aGUgZ2xvYmFsIFtbVUlSb3V0ZXJdXSBvYmplY3QuXG4gKi9cbnZhciBTdGF0ZVNlcnZpY2UgPSAoZnVuY3Rpb24gKCkge1xuICAgIC8qKiBAaW50ZXJuYWxhcGkgKi9cbiAgICBmdW5jdGlvbiBTdGF0ZVNlcnZpY2Uocm91dGVyKSB7XG4gICAgICAgIHRoaXMucm91dGVyID0gcm91dGVyO1xuICAgICAgICAvKiogQGludGVybmFsYXBpICovXG4gICAgICAgIHRoaXMuaW52YWxpZENhbGxiYWNrcyA9IFtdO1xuICAgICAgICAvKiogQGhpZGRlbiAqL1xuICAgICAgICB0aGlzLl9kZWZhdWx0RXJyb3JIYW5kbGVyID0gZnVuY3Rpb24gJGRlZmF1bHRFcnJvckhhbmRsZXIoJGVycm9yJCkge1xuICAgICAgICAgICAgaWYgKCRlcnJvciQgaW5zdGFuY2VvZiBFcnJvciAmJiAkZXJyb3IkLnN0YWNrKSB7XG4gICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcigkZXJyb3IkKTtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKCRlcnJvciQuc3RhY2spO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoJGVycm9yJCBpbnN0YW5jZW9mIFJlamVjdGlvbikge1xuICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJGVycm9yJC50b1N0cmluZygpKTtcbiAgICAgICAgICAgICAgICBpZiAoJGVycm9yJC5kZXRhaWwgJiYgJGVycm9yJC5kZXRhaWwuc3RhY2spXG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJGVycm9yJC5kZXRhaWwuc3RhY2spO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcigkZXJyb3IkKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgICAgdmFyIGdldHRlcnMgPSBbJ2N1cnJlbnQnLCAnJGN1cnJlbnQnLCAncGFyYW1zJywgJ3RyYW5zaXRpb24nXTtcbiAgICAgICAgdmFyIGJvdW5kRm5zID0gT2JqZWN0LmtleXMoU3RhdGVTZXJ2aWNlLnByb3RvdHlwZSkuZmlsdGVyKG5vdChpbkFycmF5KGdldHRlcnMpKSk7XG4gICAgICAgIGNyZWF0ZVByb3h5RnVuY3Rpb25zKHZhbChTdGF0ZVNlcnZpY2UucHJvdG90eXBlKSwgdGhpcywgdmFsKHRoaXMpLCBib3VuZEZucyk7XG4gICAgfVxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShTdGF0ZVNlcnZpY2UucHJvdG90eXBlLCBcInRyYW5zaXRpb25cIiwge1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIFtbVHJhbnNpdGlvbl1dIGN1cnJlbnRseSBpbiBwcm9ncmVzcyAob3IgbnVsbClcbiAgICAgICAgICpcbiAgICAgICAgICogVGhpcyBpcyBhIHBhc3N0aHJvdWdoIHRocm91Z2ggdG8gW1tVSVJvdXRlckdsb2JhbHMudHJhbnNpdGlvbl1dXG4gICAgICAgICAqL1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHRoaXMucm91dGVyLmdsb2JhbHMudHJhbnNpdGlvbjsgfSxcbiAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFN0YXRlU2VydmljZS5wcm90b3R5cGUsIFwicGFyYW1zXCIsIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBsYXRlc3Qgc3VjY2Vzc2Z1bCBzdGF0ZSBwYXJhbWV0ZXJzXG4gICAgICAgICAqXG4gICAgICAgICAqIFRoaXMgaXMgYSBwYXNzdGhyb3VnaCB0aHJvdWdoIHRvIFtbVUlSb3V0ZXJHbG9iYWxzLnBhcmFtc11dXG4gICAgICAgICAqL1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHRoaXMucm91dGVyLmdsb2JhbHMucGFyYW1zOyB9LFxuICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoU3RhdGVTZXJ2aWNlLnByb3RvdHlwZSwgXCJjdXJyZW50XCIsIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBjdXJyZW50IFtbU3RhdGVEZWNsYXJhdGlvbl1dXG4gICAgICAgICAqXG4gICAgICAgICAqIFRoaXMgaXMgYSBwYXNzdGhyb3VnaCB0aHJvdWdoIHRvIFtbVUlSb3V0ZXJHbG9iYWxzLmN1cnJlbnRdXVxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7IHJldHVybiB0aGlzLnJvdXRlci5nbG9iYWxzLmN1cnJlbnQ7IH0sXG4gICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShTdGF0ZVNlcnZpY2UucHJvdG90eXBlLCBcIiRjdXJyZW50XCIsIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBjdXJyZW50IFtbU3RhdGVPYmplY3RdXVxuICAgICAgICAgKlxuICAgICAgICAgKiBUaGlzIGlzIGEgcGFzc3Rocm91Z2ggdGhyb3VnaCB0byBbW1VJUm91dGVyR2xvYmFscy4kY3VycmVudF1dXG4gICAgICAgICAqL1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHRoaXMucm91dGVyLmdsb2JhbHMuJGN1cnJlbnQ7IH0sXG4gICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIC8qKiBAaW50ZXJuYWxhcGkgKi9cbiAgICBTdGF0ZVNlcnZpY2UucHJvdG90eXBlLmRpc3Bvc2UgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMuZGVmYXVsdEVycm9ySGFuZGxlcihub29wJDEpO1xuICAgICAgICB0aGlzLmludmFsaWRDYWxsYmFja3MgPSBbXTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEhhbmRsZXIgZm9yIHdoZW4gW1t0cmFuc2l0aW9uVG9dXSBpcyBjYWxsZWQgd2l0aCBhbiBpbnZhbGlkIHN0YXRlLlxuICAgICAqXG4gICAgICogSW52b2tlcyB0aGUgW1tvbkludmFsaWRdXSBjYWxsYmFja3MsIGluIG5hdHVyYWwgb3JkZXIuXG4gICAgICogRWFjaCBjYWxsYmFjaydzIHJldHVybiB2YWx1ZSBpcyBjaGVja2VkIGluIHNlcXVlbmNlIHVudGlsIG9uZSBvZiB0aGVtIHJldHVybnMgYW4gaW5zdGFuY2Ugb2YgVGFyZ2V0U3RhdGUuXG4gICAgICogVGhlIHJlc3VsdHMgb2YgdGhlIGNhbGxiYWNrcyBhcmUgd3JhcHBlZCBpbiAkcS53aGVuKCksIHNvIHRoZSBjYWxsYmFja3MgbWF5IHJldHVybiBwcm9taXNlcy5cbiAgICAgKlxuICAgICAqIElmIGEgY2FsbGJhY2sgcmV0dXJucyBhbiBUYXJnZXRTdGF0ZSwgdGhlbiBpdCBpcyB1c2VkIGFzIGFyZ3VtZW50cyB0byAkc3RhdGUudHJhbnNpdGlvblRvKCkgYW5kIHRoZSByZXN1bHQgcmV0dXJuZWQuXG4gICAgICpcbiAgICAgKiBAaW50ZXJuYWxhcGlcbiAgICAgKi9cbiAgICBTdGF0ZVNlcnZpY2UucHJvdG90eXBlLl9oYW5kbGVJbnZhbGlkVGFyZ2V0U3RhdGUgPSBmdW5jdGlvbiAoZnJvbVBhdGgsIHRvU3RhdGUpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgdmFyIGZyb21TdGF0ZSA9IFBhdGhVdGlscy5tYWtlVGFyZ2V0U3RhdGUoZnJvbVBhdGgpO1xuICAgICAgICB2YXIgZ2xvYmFscyA9IHRoaXMucm91dGVyLmdsb2JhbHM7XG4gICAgICAgIHZhciBsYXRlc3RUaGluZyA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuIGdsb2JhbHMudHJhbnNpdGlvbkhpc3RvcnkucGVla1RhaWwoKTsgfTtcbiAgICAgICAgdmFyIGxhdGVzdCA9IGxhdGVzdFRoaW5nKCk7XG4gICAgICAgIHZhciBjYWxsYmFja1F1ZXVlID0gbmV3IFF1ZXVlKHRoaXMuaW52YWxpZENhbGxiYWNrcy5zbGljZSgpKTtcbiAgICAgICAgdmFyIGluamVjdG9yID0gbmV3IFJlc29sdmVDb250ZXh0KGZyb21QYXRoKS5pbmplY3RvcigpO1xuICAgICAgICB2YXIgY2hlY2tGb3JSZWRpcmVjdCA9IGZ1bmN0aW9uIChyZXN1bHQpIHtcbiAgICAgICAgICAgIGlmICghKHJlc3VsdCBpbnN0YW5jZW9mIFRhcmdldFN0YXRlKSkge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHZhciB0YXJnZXQgPSByZXN1bHQ7XG4gICAgICAgICAgICAvLyBSZWNyZWF0ZSB0aGUgVGFyZ2V0U3RhdGUsIGluIGNhc2UgdGhlIHN0YXRlIGlzIG5vdyBkZWZpbmVkLlxuICAgICAgICAgICAgdGFyZ2V0ID0gX3RoaXMudGFyZ2V0KHRhcmdldC5pZGVudGlmaWVyKCksIHRhcmdldC5wYXJhbXMoKSwgdGFyZ2V0Lm9wdGlvbnMoKSk7XG4gICAgICAgICAgICBpZiAoIXRhcmdldC52YWxpZCgpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIFJlamVjdGlvbi5pbnZhbGlkKHRhcmdldC5lcnJvcigpKS50b1Byb21pc2UoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChsYXRlc3RUaGluZygpICE9PSBsYXRlc3QpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gUmVqZWN0aW9uLnN1cGVyc2VkZWQoKS50b1Byb21pc2UoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBfdGhpcy50cmFuc2l0aW9uVG8odGFyZ2V0LmlkZW50aWZpZXIoKSwgdGFyZ2V0LnBhcmFtcygpLCB0YXJnZXQub3B0aW9ucygpKTtcbiAgICAgICAgfTtcbiAgICAgICAgZnVuY3Rpb24gaW52b2tlTmV4dENhbGxiYWNrKCkge1xuICAgICAgICAgICAgdmFyIG5leHRDYWxsYmFjayA9IGNhbGxiYWNrUXVldWUuZGVxdWV1ZSgpO1xuICAgICAgICAgICAgaWYgKG5leHRDYWxsYmFjayA9PT0gdW5kZWZpbmVkKVxuICAgICAgICAgICAgICAgIHJldHVybiBSZWplY3Rpb24uaW52YWxpZCh0b1N0YXRlLmVycm9yKCkpLnRvUHJvbWlzZSgpO1xuICAgICAgICAgICAgdmFyIGNhbGxiYWNrUmVzdWx0ID0gc2VydmljZXMuJHEud2hlbihuZXh0Q2FsbGJhY2sodG9TdGF0ZSwgZnJvbVN0YXRlLCBpbmplY3RvcikpO1xuICAgICAgICAgICAgcmV0dXJuIGNhbGxiYWNrUmVzdWx0LnRoZW4oY2hlY2tGb3JSZWRpcmVjdCkudGhlbihmdW5jdGlvbiAocmVzdWx0KSB7IHJldHVybiByZXN1bHQgfHwgaW52b2tlTmV4dENhbGxiYWNrKCk7IH0pO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBpbnZva2VOZXh0Q2FsbGJhY2soKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFJlZ2lzdGVycyBhbiBJbnZhbGlkIFN0YXRlIGhhbmRsZXJcbiAgICAgKlxuICAgICAqIFJlZ2lzdGVycyBhIFtbT25JbnZhbGlkQ2FsbGJhY2tdXSBmdW5jdGlvbiB0byBiZSBpbnZva2VkIHdoZW4gW1tTdGF0ZVNlcnZpY2UudHJhbnNpdGlvblRvXV1cbiAgICAgKiBoYXMgYmVlbiBjYWxsZWQgd2l0aCBhbiBpbnZhbGlkIHN0YXRlIHJlZmVyZW5jZSBwYXJhbWV0ZXJcbiAgICAgKlxuICAgICAqIEV4YW1wbGU6XG4gICAgICogYGBganNcbiAgICAgKiBzdGF0ZVNlcnZpY2Uub25JbnZhbGlkKGZ1bmN0aW9uKHRvLCBmcm9tLCBpbmplY3Rvcikge1xuICAgICAqICAgaWYgKHRvLm5hbWUoKSA9PT0gJ2ZvbycpIHtcbiAgICAgKiAgICAgbGV0IGxhenlMb2FkZXIgPSBpbmplY3Rvci5nZXQoJ0xhenlMb2FkU2VydmljZScpO1xuICAgICAqICAgICByZXR1cm4gbGF6eUxvYWRlci5sb2FkKCdmb28nKVxuICAgICAqICAgICAgICAgLnRoZW4oKCkgPT4gc3RhdGVTZXJ2aWNlLnRhcmdldCgnZm9vJykpO1xuICAgICAqICAgfVxuICAgICAqIH0pO1xuICAgICAqIGBgYFxuICAgICAqXG4gICAgICogQHBhcmFtIHtmdW5jdGlvbn0gY2FsbGJhY2sgaW52b2tlZCB3aGVuIHRoZSB0b1N0YXRlIGlzIGludmFsaWRcbiAgICAgKiAgIFRoaXMgZnVuY3Rpb24gcmVjZWl2ZXMgdGhlIChpbnZhbGlkKSB0b1N0YXRlLCB0aGUgZnJvbVN0YXRlLCBhbmQgYW4gaW5qZWN0b3IuXG4gICAgICogICBUaGUgZnVuY3Rpb24gbWF5IG9wdGlvbmFsbHkgcmV0dXJuIGEgW1tUYXJnZXRTdGF0ZV1dIG9yIGEgUHJvbWlzZSBmb3IgYSBUYXJnZXRTdGF0ZS5cbiAgICAgKiAgIElmIG9uZSBpcyByZXR1cm5lZCwgaXQgaXMgdHJlYXRlZCBhcyBhIHJlZGlyZWN0LlxuICAgICAqXG4gICAgICogQHJldHVybnMgYSBmdW5jdGlvbiB3aGljaCBkZXJlZ2lzdGVycyB0aGUgY2FsbGJhY2tcbiAgICAgKi9cbiAgICBTdGF0ZVNlcnZpY2UucHJvdG90eXBlLm9uSW52YWxpZCA9IGZ1bmN0aW9uIChjYWxsYmFjaykge1xuICAgICAgICB0aGlzLmludmFsaWRDYWxsYmFja3MucHVzaChjYWxsYmFjayk7XG4gICAgICAgIHJldHVybiBmdW5jdGlvbiBkZXJlZ2lzdGVyTGlzdGVuZXIoKSB7XG4gICAgICAgICAgICByZW1vdmVGcm9tKHRoaXMuaW52YWxpZENhbGxiYWNrcykoY2FsbGJhY2spO1xuICAgICAgICB9LmJpbmQodGhpcyk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBSZWxvYWRzIHRoZSBjdXJyZW50IHN0YXRlXG4gICAgICpcbiAgICAgKiBBIG1ldGhvZCB0aGF0IGZvcmNlIHJlbG9hZHMgdGhlIGN1cnJlbnQgc3RhdGUsIG9yIGEgcGFydGlhbCBzdGF0ZSBoaWVyYXJjaHkuXG4gICAgICogQWxsIHJlc29sdmVzIGFyZSByZS1yZXNvbHZlZCwgYW5kIGNvbXBvbmVudHMgcmVpbnN0YW50aWF0ZWQuXG4gICAgICpcbiAgICAgKiAjIyMjIEV4YW1wbGU6XG4gICAgICogYGBganNcbiAgICAgKiBsZXQgYXBwIGFuZ3VsYXIubW9kdWxlKCdhcHAnLCBbJ3VpLnJvdXRlciddKTtcbiAgICAgKlxuICAgICAqIGFwcC5jb250cm9sbGVyKCdjdHJsJywgZnVuY3Rpb24gKCRzY29wZSwgJHN0YXRlKSB7XG4gICAgICogICAkc2NvcGUucmVsb2FkID0gZnVuY3Rpb24oKXtcbiAgICAgKiAgICAgJHN0YXRlLnJlbG9hZCgpO1xuICAgICAqICAgfVxuICAgICAqIH0pO1xuICAgICAqIGBgYFxuICAgICAqXG4gICAgICogTm90ZTogYHJlbG9hZCgpYCBpcyBqdXN0IGFuIGFsaWFzIGZvcjpcbiAgICAgKlxuICAgICAqIGBgYGpzXG4gICAgICogJHN0YXRlLnRyYW5zaXRpb25Ubygkc3RhdGUuY3VycmVudCwgJHN0YXRlLnBhcmFtcywge1xuICAgICAqICAgcmVsb2FkOiB0cnVlLCBpbmhlcml0OiBmYWxzZVxuICAgICAqIH0pO1xuICAgICAqIGBgYFxuICAgICAqXG4gICAgICogQHBhcmFtIHJlbG9hZFN0YXRlIEEgc3RhdGUgbmFtZSBvciBhIHN0YXRlIG9iamVjdC5cbiAgICAgKiAgICBJZiBwcmVzZW50LCB0aGlzIHN0YXRlIGFuZCBhbGwgaXRzIGNoaWxkcmVuIHdpbGwgYmUgcmVsb2FkZWQsIGJ1dCBhbmNlc3RvcnMgd2lsbCBub3QgcmVsb2FkLlxuICAgICAqXG4gICAgICogIyMjIyBFeGFtcGxlOlxuICAgICAqIGBgYGpzXG4gICAgICogLy9hc3N1bWluZyBhcHAgYXBwbGljYXRpb24gY29uc2lzdHMgb2YgMyBzdGF0ZXM6ICdjb250YWN0cycsICdjb250YWN0cy5kZXRhaWwnLCAnY29udGFjdHMuZGV0YWlsLml0ZW0nXG4gICAgICogLy9hbmQgY3VycmVudCBzdGF0ZSBpcyAnY29udGFjdHMuZGV0YWlsLml0ZW0nXG4gICAgICogbGV0IGFwcCBhbmd1bGFyLm1vZHVsZSgnYXBwJywgWyd1aS5yb3V0ZXInXSk7XG4gICAgICpcbiAgICAgKiBhcHAuY29udHJvbGxlcignY3RybCcsIGZ1bmN0aW9uICgkc2NvcGUsICRzdGF0ZSkge1xuICAgICAqICAgJHNjb3BlLnJlbG9hZCA9IGZ1bmN0aW9uKCl7XG4gICAgICogICAgIC8vd2lsbCByZWxvYWQgJ2NvbnRhY3QuZGV0YWlsJyBhbmQgbmVzdGVkICdjb250YWN0LmRldGFpbC5pdGVtJyBzdGF0ZXNcbiAgICAgKiAgICAgJHN0YXRlLnJlbG9hZCgnY29udGFjdC5kZXRhaWwnKTtcbiAgICAgKiAgIH1cbiAgICAgKiB9KTtcbiAgICAgKiBgYGBcbiAgICAgKlxuICAgICAqIEByZXR1cm5zIEEgcHJvbWlzZSByZXByZXNlbnRpbmcgdGhlIHN0YXRlIG9mIHRoZSBuZXcgdHJhbnNpdGlvbi4gU2VlIFtbU3RhdGVTZXJ2aWNlLmdvXV1cbiAgICAgKi9cbiAgICBTdGF0ZVNlcnZpY2UucHJvdG90eXBlLnJlbG9hZCA9IGZ1bmN0aW9uIChyZWxvYWRTdGF0ZSkge1xuICAgICAgICByZXR1cm4gdGhpcy50cmFuc2l0aW9uVG8odGhpcy5jdXJyZW50LCB0aGlzLnBhcmFtcywge1xuICAgICAgICAgICAgcmVsb2FkOiBpc0RlZmluZWQocmVsb2FkU3RhdGUpID8gcmVsb2FkU3RhdGUgOiB0cnVlLFxuICAgICAgICAgICAgaW5oZXJpdDogZmFsc2UsXG4gICAgICAgICAgICBub3RpZnk6IGZhbHNlLFxuICAgICAgICB9KTtcbiAgICB9O1xuICAgIFxuICAgIC8qKlxuICAgICAqIFRyYW5zaXRpb24gdG8gYSBkaWZmZXJlbnQgc3RhdGUgYW5kL29yIHBhcmFtZXRlcnNcbiAgICAgKlxuICAgICAqIENvbnZlbmllbmNlIG1ldGhvZCBmb3IgdHJhbnNpdGlvbmluZyB0byBhIG5ldyBzdGF0ZS5cbiAgICAgKlxuICAgICAqIGAkc3RhdGUuZ29gIGNhbGxzIGAkc3RhdGUudHJhbnNpdGlvblRvYCBpbnRlcm5hbGx5IGJ1dCBhdXRvbWF0aWNhbGx5IHNldHMgb3B0aW9ucyB0b1xuICAgICAqIGB7IGxvY2F0aW9uOiB0cnVlLCBpbmhlcml0OiB0cnVlLCByZWxhdGl2ZTogcm91dGVyLmdsb2JhbHMuJGN1cnJlbnQsIG5vdGlmeTogdHJ1ZSB9YC5cbiAgICAgKiBUaGlzIGFsbG93cyB5b3UgdG8gdXNlIGVpdGhlciBhbiBhYnNvbHV0ZSBvciByZWxhdGl2ZSBgdG9gIGFyZ3VtZW50IChiZWNhdXNlIG9mIGByZWxhdGl2ZTogcm91dGVyLmdsb2JhbHMuJGN1cnJlbnRgKS5cbiAgICAgKiBJdCBhbHNvIGFsbG93cyB5b3UgdG8gc3BlY2lmeSAqIG9ubHkgdGhlIHBhcmFtZXRlcnMgeW91J2QgbGlrZSB0byB1cGRhdGUsIHdoaWxlIGxldHRpbmcgdW5zcGVjaWZpZWQgcGFyYW1ldGVyc1xuICAgICAqIGluaGVyaXQgZnJvbSB0aGUgY3VycmVudCBwYXJhbWV0ZXIgdmFsdWVzIChiZWNhdXNlIG9mIGBpbmhlcml0OiB0cnVlYCkuXG4gICAgICpcbiAgICAgKiAjIyMjIEV4YW1wbGU6XG4gICAgICogYGBganNcbiAgICAgKiBsZXQgYXBwID0gYW5ndWxhci5tb2R1bGUoJ2FwcCcsIFsndWkucm91dGVyJ10pO1xuICAgICAqXG4gICAgICogYXBwLmNvbnRyb2xsZXIoJ2N0cmwnLCBmdW5jdGlvbiAoJHNjb3BlLCAkc3RhdGUpIHtcbiAgICAgKiAgICRzY29wZS5jaGFuZ2VTdGF0ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgKiAgICAgJHN0YXRlLmdvKCdjb250YWN0LmRldGFpbCcpO1xuICAgICAqICAgfTtcbiAgICAgKiB9KTtcbiAgICAgKiBgYGBcbiAgICAgKlxuICAgICAqIEBwYXJhbSB0byBBYnNvbHV0ZSBzdGF0ZSBuYW1lLCBzdGF0ZSBvYmplY3QsIG9yIHJlbGF0aXZlIHN0YXRlIHBhdGggKHJlbGF0aXZlIHRvIGN1cnJlbnQgc3RhdGUpLlxuICAgICAqXG4gICAgICogU29tZSBleGFtcGxlczpcbiAgICAgKlxuICAgICAqIC0gYCRzdGF0ZS5nbygnY29udGFjdC5kZXRhaWwnKWAgLSB3aWxsIGdvIHRvIHRoZSBgY29udGFjdC5kZXRhaWxgIHN0YXRlXG4gICAgICogLSBgJHN0YXRlLmdvKCdeJylgIC0gd2lsbCBnbyB0byB0aGUgcGFyZW50IHN0YXRlXG4gICAgICogLSBgJHN0YXRlLmdvKCdeLnNpYmxpbmcnKWAgLSBpZiBjdXJyZW50IHN0YXRlIGlzIGBob21lLmNoaWxkYCwgd2lsbCBnbyB0byB0aGUgYGhvbWUuc2libGluZ2Agc3RhdGVcbiAgICAgKiAtIGAkc3RhdGUuZ28oJy5jaGlsZC5ncmFuZGNoaWxkJylgIC0gaWYgY3VycmVudCBzdGF0ZSBpcyBob21lLCB3aWxsIGdvIHRvIHRoZSBgaG9tZS5jaGlsZC5ncmFuZGNoaWxkYCBzdGF0ZVxuICAgICAqXG4gICAgICogQHBhcmFtIHBhcmFtcyBBIG1hcCBvZiB0aGUgcGFyYW1ldGVycyB0aGF0IHdpbGwgYmUgc2VudCB0byB0aGUgc3RhdGUsIHdpbGwgcG9wdWxhdGUgJHN0YXRlUGFyYW1zLlxuICAgICAqXG4gICAgICogICAgQW55IHBhcmFtZXRlcnMgdGhhdCBhcmUgbm90IHNwZWNpZmllZCB3aWxsIGJlIGluaGVyaXRlZCBmcm9tIGN1cnJlbnQgcGFyYW1ldGVyIHZhbHVlcyAoYmVjYXVzZSBvZiBgaW5oZXJpdDogdHJ1ZWApLlxuICAgICAqICAgIFRoaXMgYWxsb3dzLCBmb3IgZXhhbXBsZSwgZ29pbmcgdG8gYSBzaWJsaW5nIHN0YXRlIHRoYXQgc2hhcmVzIHBhcmFtZXRlcnMgZGVmaW5lZCBieSBhIHBhcmVudCBzdGF0ZS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBvcHRpb25zIFRyYW5zaXRpb24gb3B0aW9uc1xuICAgICAqXG4gICAgICogQHJldHVybnMge3Byb21pc2V9IEEgcHJvbWlzZSByZXByZXNlbnRpbmcgdGhlIHN0YXRlIG9mIHRoZSBuZXcgdHJhbnNpdGlvbi5cbiAgICAgKi9cbiAgICBTdGF0ZVNlcnZpY2UucHJvdG90eXBlLmdvID0gZnVuY3Rpb24gKHRvLCBwYXJhbXMsIG9wdGlvbnMpIHtcbiAgICAgICAgdmFyIGRlZmF1dEdvT3B0cyA9IHsgcmVsYXRpdmU6IHRoaXMuJGN1cnJlbnQsIGluaGVyaXQ6IHRydWUgfTtcbiAgICAgICAgdmFyIHRyYW5zT3B0cyA9IGRlZmF1bHRzKG9wdGlvbnMsIGRlZmF1dEdvT3B0cywgZGVmYXVsdFRyYW5zT3B0cyk7XG4gICAgICAgIHJldHVybiB0aGlzLnRyYW5zaXRpb25Ubyh0bywgcGFyYW1zLCB0cmFuc09wdHMpO1xuICAgIH07XG4gICAgXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIFtbVGFyZ2V0U3RhdGVdXVxuICAgICAqXG4gICAgICogVGhpcyBpcyBhIGZhY3RvcnkgbWV0aG9kIGZvciBjcmVhdGluZyBhIFRhcmdldFN0YXRlXG4gICAgICpcbiAgICAgKiBUaGlzIG1heSBiZSByZXR1cm5lZCBmcm9tIGEgVHJhbnNpdGlvbiBIb29rIHRvIHJlZGlyZWN0IGEgdHJhbnNpdGlvbiwgZm9yIGV4YW1wbGUuXG4gICAgICovXG4gICAgU3RhdGVTZXJ2aWNlLnByb3RvdHlwZS50YXJnZXQgPSBmdW5jdGlvbiAoaWRlbnRpZmllciwgcGFyYW1zLCBvcHRpb25zKSB7XG4gICAgICAgIGlmIChvcHRpb25zID09PSB2b2lkIDApIHsgb3B0aW9ucyA9IHt9OyB9XG4gICAgICAgIC8vIElmIHdlJ3JlIHJlbG9hZGluZywgZmluZCB0aGUgc3RhdGUgb2JqZWN0IHRvIHJlbG9hZCBmcm9tXG4gICAgICAgIGlmIChpc09iamVjdChvcHRpb25zLnJlbG9hZCkgJiYgIW9wdGlvbnMucmVsb2FkLm5hbWUpXG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0ludmFsaWQgcmVsb2FkIHN0YXRlIG9iamVjdCcpO1xuICAgICAgICB2YXIgcmVnID0gdGhpcy5yb3V0ZXIuc3RhdGVSZWdpc3RyeTtcbiAgICAgICAgb3B0aW9ucy5yZWxvYWRTdGF0ZSA9IG9wdGlvbnMucmVsb2FkID09PSB0cnVlID8gcmVnLnJvb3QoKSA6IHJlZy5tYXRjaGVyLmZpbmQob3B0aW9ucy5yZWxvYWQsIG9wdGlvbnMucmVsYXRpdmUpO1xuICAgICAgICBpZiAob3B0aW9ucy5yZWxvYWQgJiYgIW9wdGlvbnMucmVsb2FkU3RhdGUpXG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJObyBzdWNoIHJlbG9hZCBzdGF0ZSAnXCIgKyAoaXNTdHJpbmcob3B0aW9ucy5yZWxvYWQpID8gb3B0aW9ucy5yZWxvYWQgOiBvcHRpb25zLnJlbG9hZC5uYW1lKSArIFwiJ1wiKTtcbiAgICAgICAgdmFyIHN0YXRlRGVmaW5pdGlvbiA9IHJlZy5tYXRjaGVyLmZpbmQoaWRlbnRpZmllciwgb3B0aW9ucy5yZWxhdGl2ZSk7XG4gICAgICAgIHJldHVybiBuZXcgVGFyZ2V0U3RhdGUoaWRlbnRpZmllciwgc3RhdGVEZWZpbml0aW9uLCBwYXJhbXMsIG9wdGlvbnMpO1xuICAgIH07XG4gICAgXG4gICAgU3RhdGVTZXJ2aWNlLnByb3RvdHlwZS5nZXRDdXJyZW50UGF0aCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgdmFyIGdsb2JhbHMgPSB0aGlzLnJvdXRlci5nbG9iYWxzO1xuICAgICAgICB2YXIgbGF0ZXN0U3VjY2VzcyA9IGdsb2JhbHMuc3VjY2Vzc2Z1bFRyYW5zaXRpb25zLnBlZWtUYWlsKCk7XG4gICAgICAgIHZhciByb290UGF0aCA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuIFtuZXcgUGF0aE5vZGUoX3RoaXMucm91dGVyLnN0YXRlUmVnaXN0cnkucm9vdCgpKV07IH07XG4gICAgICAgIHJldHVybiBsYXRlc3RTdWNjZXNzID8gbGF0ZXN0U3VjY2Vzcy50cmVlQ2hhbmdlcygpLnRvIDogcm9vdFBhdGgoKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIExvdy1sZXZlbCBtZXRob2QgZm9yIHRyYW5zaXRpb25pbmcgdG8gYSBuZXcgc3RhdGUuXG4gICAgICpcbiAgICAgKiBUaGUgW1tnb11dIG1ldGhvZCAod2hpY2ggdXNlcyBgdHJhbnNpdGlvblRvYCBpbnRlcm5hbGx5KSBpcyByZWNvbW1lbmRlZCBpbiBtb3N0IHNpdHVhdGlvbnMuXG4gICAgICpcbiAgICAgKiAjIyMjIEV4YW1wbGU6XG4gICAgICogYGBganNcbiAgICAgKiBsZXQgYXBwID0gYW5ndWxhci5tb2R1bGUoJ2FwcCcsIFsndWkucm91dGVyJ10pO1xuICAgICAqXG4gICAgICogYXBwLmNvbnRyb2xsZXIoJ2N0cmwnLCBmdW5jdGlvbiAoJHNjb3BlLCAkc3RhdGUpIHtcbiAgICAgKiAgICRzY29wZS5jaGFuZ2VTdGF0ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgKiAgICAgJHN0YXRlLnRyYW5zaXRpb25UbygnY29udGFjdC5kZXRhaWwnKTtcbiAgICAgKiAgIH07XG4gICAgICogfSk7XG4gICAgICogYGBgXG4gICAgICpcbiAgICAgKiBAcGFyYW0gdG8gU3RhdGUgbmFtZSBvciBzdGF0ZSBvYmplY3QuXG4gICAgICogQHBhcmFtIHRvUGFyYW1zIEEgbWFwIG9mIHRoZSBwYXJhbWV0ZXJzIHRoYXQgd2lsbCBiZSBzZW50IHRvIHRoZSBzdGF0ZSxcbiAgICAgKiAgICAgIHdpbGwgcG9wdWxhdGUgJHN0YXRlUGFyYW1zLlxuICAgICAqIEBwYXJhbSBvcHRpb25zIFRyYW5zaXRpb24gb3B0aW9uc1xuICAgICAqXG4gICAgICogQHJldHVybnMgQSBwcm9taXNlIHJlcHJlc2VudGluZyB0aGUgc3RhdGUgb2YgdGhlIG5ldyB0cmFuc2l0aW9uLiBTZWUgW1tnb11dXG4gICAgICovXG4gICAgU3RhdGVTZXJ2aWNlLnByb3RvdHlwZS50cmFuc2l0aW9uVG8gPSBmdW5jdGlvbiAodG8sIHRvUGFyYW1zLCBvcHRpb25zKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIGlmICh0b1BhcmFtcyA9PT0gdm9pZCAwKSB7IHRvUGFyYW1zID0ge307IH1cbiAgICAgICAgaWYgKG9wdGlvbnMgPT09IHZvaWQgMCkgeyBvcHRpb25zID0ge307IH1cbiAgICAgICAgdmFyIHJvdXRlciA9IHRoaXMucm91dGVyO1xuICAgICAgICB2YXIgZ2xvYmFscyA9IHJvdXRlci5nbG9iYWxzO1xuICAgICAgICBvcHRpb25zID0gZGVmYXVsdHMob3B0aW9ucywgZGVmYXVsdFRyYW5zT3B0cyk7XG4gICAgICAgIHZhciBnZXRDdXJyZW50ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIGdsb2JhbHMudHJhbnNpdGlvbjtcbiAgICAgICAgfTtcbiAgICAgICAgb3B0aW9ucyA9IGV4dGVuZChvcHRpb25zLCB7IGN1cnJlbnQ6IGdldEN1cnJlbnQgfSk7XG4gICAgICAgIHZhciByZWYgPSB0aGlzLnRhcmdldCh0bywgdG9QYXJhbXMsIG9wdGlvbnMpO1xuICAgICAgICB2YXIgY3VycmVudFBhdGggPSB0aGlzLmdldEN1cnJlbnRQYXRoKCk7XG4gICAgICAgIGlmICghcmVmLmV4aXN0cygpKVxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2hhbmRsZUludmFsaWRUYXJnZXRTdGF0ZShjdXJyZW50UGF0aCwgcmVmKTtcbiAgICAgICAgaWYgKCFyZWYudmFsaWQoKSlcbiAgICAgICAgICAgIHJldHVybiBzaWxlbnRSZWplY3Rpb24ocmVmLmVycm9yKCkpO1xuICAgICAgICAvKipcbiAgICAgICAgICogU3BlY2lhbCBoYW5kbGluZyBmb3IgSWdub3JlZCwgQWJvcnRlZCwgYW5kIFJlZGlyZWN0ZWQgdHJhbnNpdGlvbnNcbiAgICAgICAgICpcbiAgICAgICAgICogVGhlIHNlbWFudGljcyBmb3IgdGhlIHRyYW5zaXRpb24ucnVuKCkgcHJvbWlzZSBhbmQgdGhlIFN0YXRlU2VydmljZS50cmFuc2l0aW9uVG8oKVxuICAgICAgICAgKiBwcm9taXNlIGRpZmZlci4gRm9yIGluc3RhbmNlLCB0aGUgcnVuKCkgcHJvbWlzZSBtYXkgYmUgcmVqZWN0ZWQgYmVjYXVzZSBpdCB3YXNcbiAgICAgICAgICogSUdOT1JFRCwgYnV0IHRoZSB0cmFuc2l0aW9uVG8oKSBwcm9taXNlIGlzIHJlc29sdmVkIGJlY2F1c2UgZnJvbSB0aGUgdXNlciBwZXJzcGVjdGl2ZVxuICAgICAgICAgKiBubyBlcnJvciBvY2N1cnJlZC4gIExpa2V3aXNlLCB0aGUgdHJhbnNpdGlvbi5ydW4oKSBwcm9taXNlIG1heSBiZSByZWplY3RlZCBiZWNhdXNlIG9mXG4gICAgICAgICAqIGEgUmVkaXJlY3QsIGJ1dCB0aGUgdHJhbnNpdGlvblRvKCkgcHJvbWlzZSBpcyBjaGFpbmVkIHRvIHRoZSBuZXcgVHJhbnNpdGlvbidzIHByb21pc2UuXG4gICAgICAgICAqL1xuICAgICAgICB2YXIgcmVqZWN0ZWRUcmFuc2l0aW9uSGFuZGxlciA9IGZ1bmN0aW9uICh0cmFuc2l0aW9uKSB7IHJldHVybiBmdW5jdGlvbiAoZXJyb3IpIHtcbiAgICAgICAgICAgIGlmIChlcnJvciBpbnN0YW5jZW9mIFJlamVjdGlvbikge1xuICAgICAgICAgICAgICAgIHZhciBpc0xhdGVzdCA9IHJvdXRlci5nbG9iYWxzLmxhc3RTdGFydGVkVHJhbnNpdGlvbklkID09PSB0cmFuc2l0aW9uLiRpZDtcbiAgICAgICAgICAgICAgICBpZiAoZXJyb3IudHlwZSA9PT0gZXhwb3J0cy5SZWplY3RUeXBlLklHTk9SRUQpIHtcbiAgICAgICAgICAgICAgICAgICAgaXNMYXRlc3QgJiYgcm91dGVyLnVybFJvdXRlci51cGRhdGUoKTtcbiAgICAgICAgICAgICAgICAgICAgLy8gQ29uc2lkZXIgaWdub3JlZCBgVHJhbnNpdGlvbi5ydW4oKWAgYXMgYSBzdWNjZXNzZnVsIGB0cmFuc2l0aW9uVG9gXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBzZXJ2aWNlcy4kcS53aGVuKGdsb2JhbHMuY3VycmVudCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHZhciBkZXRhaWwgPSBlcnJvci5kZXRhaWw7XG4gICAgICAgICAgICAgICAgaWYgKGVycm9yLnR5cGUgPT09IGV4cG9ydHMuUmVqZWN0VHlwZS5TVVBFUlNFREVEICYmIGVycm9yLnJlZGlyZWN0ZWQgJiYgZGV0YWlsIGluc3RhbmNlb2YgVGFyZ2V0U3RhdGUpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gSWYgYFRyYW5zaXRpb24ucnVuKClgIHdhcyByZWRpcmVjdGVkLCBhbGxvdyB0aGUgYHRyYW5zaXRpb25UbygpYCBwcm9taXNlIHRvIHJlc29sdmUgc3VjY2Vzc2Z1bGx5XG4gICAgICAgICAgICAgICAgICAgIC8vIGJ5IHJldHVybmluZyB0aGUgcHJvbWlzZSBmb3IgdGhlIG5ldyAocmVkaXJlY3QpIGBUcmFuc2l0aW9uLnJ1bigpYC5cbiAgICAgICAgICAgICAgICAgICAgdmFyIHJlZGlyZWN0ID0gdHJhbnNpdGlvbi5yZWRpcmVjdChkZXRhaWwpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVkaXJlY3QucnVuKCkuY2F0Y2gocmVqZWN0ZWRUcmFuc2l0aW9uSGFuZGxlcihyZWRpcmVjdCkpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoZXJyb3IudHlwZSA9PT0gZXhwb3J0cy5SZWplY3RUeXBlLkFCT1JURUQpIHtcbiAgICAgICAgICAgICAgICAgICAgaXNMYXRlc3QgJiYgcm91dGVyLnVybFJvdXRlci51cGRhdGUoKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHNlcnZpY2VzLiRxLnJlamVjdChlcnJvcik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdmFyIGVycm9ySGFuZGxlciA9IF90aGlzLmRlZmF1bHRFcnJvckhhbmRsZXIoKTtcbiAgICAgICAgICAgIGVycm9ySGFuZGxlcihlcnJvcik7XG4gICAgICAgICAgICByZXR1cm4gc2VydmljZXMuJHEucmVqZWN0KGVycm9yKTtcbiAgICAgICAgfTsgfTtcbiAgICAgICAgdmFyIHRyYW5zaXRpb24gPSB0aGlzLnJvdXRlci50cmFuc2l0aW9uU2VydmljZS5jcmVhdGUoY3VycmVudFBhdGgsIHJlZik7XG4gICAgICAgIHZhciB0cmFuc2l0aW9uVG9Qcm9taXNlID0gdHJhbnNpdGlvbi5ydW4oKS5jYXRjaChyZWplY3RlZFRyYW5zaXRpb25IYW5kbGVyKHRyYW5zaXRpb24pKTtcbiAgICAgICAgc2lsZW5jZVVuY2F1Z2h0SW5Qcm9taXNlKHRyYW5zaXRpb25Ub1Byb21pc2UpOyAvLyBpc3N1ZSAjMjY3NlxuICAgICAgICAvLyBSZXR1cm4gYSBwcm9taXNlIGZvciB0aGUgdHJhbnNpdGlvbiwgd2hpY2ggYWxzbyBoYXMgdGhlIHRyYW5zaXRpb24gb2JqZWN0IG9uIGl0LlxuICAgICAgICByZXR1cm4gZXh0ZW5kKHRyYW5zaXRpb25Ub1Byb21pc2UsIHsgdHJhbnNpdGlvbjogdHJhbnNpdGlvbiB9KTtcbiAgICB9O1xuICAgIFxuICAgIC8qKlxuICAgICAqIENoZWNrcyBpZiB0aGUgY3VycmVudCBzdGF0ZSAqaXMqIHRoZSBwcm92aWRlZCBzdGF0ZVxuICAgICAqXG4gICAgICogU2ltaWxhciB0byBbW2luY2x1ZGVzXV0gYnV0IG9ubHkgY2hlY2tzIGZvciB0aGUgZnVsbCBzdGF0ZSBuYW1lLlxuICAgICAqIElmIHBhcmFtcyBpcyBzdXBwbGllZCB0aGVuIGl0IHdpbGwgYmUgdGVzdGVkIGZvciBzdHJpY3QgZXF1YWxpdHkgYWdhaW5zdCB0aGUgY3VycmVudFxuICAgICAqIGFjdGl2ZSBwYXJhbXMgb2JqZWN0LCBzbyBhbGwgcGFyYW1zIG11c3QgbWF0Y2ggd2l0aCBub25lIG1pc3NpbmcgYW5kIG5vIGV4dHJhcy5cbiAgICAgKlxuICAgICAqICMjIyMgRXhhbXBsZTpcbiAgICAgKiBgYGBqc1xuICAgICAqICRzdGF0ZS4kY3VycmVudC5uYW1lID0gJ2NvbnRhY3RzLmRldGFpbHMuaXRlbSc7XG4gICAgICpcbiAgICAgKiAvLyBhYnNvbHV0ZSBuYW1lXG4gICAgICogJHN0YXRlLmlzKCdjb250YWN0LmRldGFpbHMuaXRlbScpOyAvLyByZXR1cm5zIHRydWVcbiAgICAgKiAkc3RhdGUuaXMoY29udGFjdERldGFpbEl0ZW1TdGF0ZU9iamVjdCk7IC8vIHJldHVybnMgdHJ1ZVxuICAgICAqIGBgYFxuICAgICAqXG4gICAgICogLy8gcmVsYXRpdmUgbmFtZSAoLiBhbmQgXiksIHR5cGljYWxseSBmcm9tIGEgdGVtcGxhdGVcbiAgICAgKiAvLyBFLmcuIGZyb20gdGhlICdjb250YWN0cy5kZXRhaWxzJyB0ZW1wbGF0ZVxuICAgICAqIGBgYGh0bWxcbiAgICAgKiA8ZGl2IG5nLWNsYXNzPVwie2hpZ2hsaWdodGVkOiAkc3RhdGUuaXMoJy5pdGVtJyl9XCI+SXRlbTwvZGl2PlxuICAgICAqIGBgYFxuICAgICAqXG4gICAgICogQHBhcmFtIHN0YXRlT3JOYW1lIFRoZSBzdGF0ZSBuYW1lIChhYnNvbHV0ZSBvciByZWxhdGl2ZSkgb3Igc3RhdGUgb2JqZWN0IHlvdSdkIGxpa2UgdG8gY2hlY2suXG4gICAgICogQHBhcmFtIHBhcmFtcyBBIHBhcmFtIG9iamVjdCwgZS5nLiBge3NlY3Rpb25JZDogc2VjdGlvbi5pZH1gLCB0aGF0IHlvdSdkIGxpa2VcbiAgICAgKiB0byB0ZXN0IGFnYWluc3QgdGhlIGN1cnJlbnQgYWN0aXZlIHN0YXRlLlxuICAgICAqIEBwYXJhbSBvcHRpb25zIEFuIG9wdGlvbnMgb2JqZWN0LiBUaGUgb3B0aW9ucyBhcmU6XG4gICAgICogICAtIGByZWxhdGl2ZWA6IElmIGBzdGF0ZU9yTmFtZWAgaXMgYSByZWxhdGl2ZSBzdGF0ZSBuYW1lIGFuZCBgb3B0aW9ucy5yZWxhdGl2ZWAgaXMgc2V0LCAuaXMgd2lsbFxuICAgICAqICAgICB0ZXN0IHJlbGF0aXZlIHRvIGBvcHRpb25zLnJlbGF0aXZlYCBzdGF0ZSAob3IgbmFtZSkuXG4gICAgICpcbiAgICAgKiBAcmV0dXJucyBSZXR1cm5zIHRydWUgaWYgaXQgaXMgdGhlIHN0YXRlLlxuICAgICAqL1xuICAgIFN0YXRlU2VydmljZS5wcm90b3R5cGUuaXMgPSBmdW5jdGlvbiAoc3RhdGVPck5hbWUsIHBhcmFtcywgb3B0aW9ucykge1xuICAgICAgICBvcHRpb25zID0gZGVmYXVsdHMob3B0aW9ucywgeyByZWxhdGl2ZTogdGhpcy4kY3VycmVudCB9KTtcbiAgICAgICAgdmFyIHN0YXRlID0gdGhpcy5yb3V0ZXIuc3RhdGVSZWdpc3RyeS5tYXRjaGVyLmZpbmQoc3RhdGVPck5hbWUsIG9wdGlvbnMucmVsYXRpdmUpO1xuICAgICAgICBpZiAoIWlzRGVmaW5lZChzdGF0ZSkpXG4gICAgICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgICAgICBpZiAodGhpcy4kY3VycmVudCAhPT0gc3RhdGUpXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIGlmICghcGFyYW1zKVxuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIHZhciBzY2hlbWEgPSBzdGF0ZS5wYXJhbWV0ZXJzKHsgaW5oZXJpdDogdHJ1ZSwgbWF0Y2hpbmdLZXlzOiBwYXJhbXMgfSk7XG4gICAgICAgIHJldHVybiBQYXJhbS5lcXVhbHMoc2NoZW1hLCBQYXJhbS52YWx1ZXMoc2NoZW1hLCBwYXJhbXMpLCB0aGlzLnBhcmFtcyk7XG4gICAgfTtcbiAgICBcbiAgICAvKipcbiAgICAgKiBDaGVja3MgaWYgdGhlIGN1cnJlbnQgc3RhdGUgKmluY2x1ZGVzKiB0aGUgcHJvdmlkZWQgc3RhdGVcbiAgICAgKlxuICAgICAqIEEgbWV0aG9kIHRvIGRldGVybWluZSBpZiB0aGUgY3VycmVudCBhY3RpdmUgc3RhdGUgaXMgZXF1YWwgdG8gb3IgaXMgdGhlIGNoaWxkIG9mIHRoZVxuICAgICAqIHN0YXRlIHN0YXRlTmFtZS4gSWYgYW55IHBhcmFtcyBhcmUgcGFzc2VkIHRoZW4gdGhleSB3aWxsIGJlIHRlc3RlZCBmb3IgYSBtYXRjaCBhcyB3ZWxsLlxuICAgICAqIE5vdCBhbGwgdGhlIHBhcmFtZXRlcnMgbmVlZCB0byBiZSBwYXNzZWQsIGp1c3QgdGhlIG9uZXMgeW91J2QgbGlrZSB0byB0ZXN0IGZvciBlcXVhbGl0eS5cbiAgICAgKlxuICAgICAqICMjIyMgRXhhbXBsZSB3aGVuIGAkc3RhdGUuJGN1cnJlbnQubmFtZSA9PT0gJ2NvbnRhY3RzLmRldGFpbHMuaXRlbSdgXG4gICAgICogYGBganNcbiAgICAgKiAvLyBVc2luZyBwYXJ0aWFsIG5hbWVzXG4gICAgICogJHN0YXRlLmluY2x1ZGVzKFwiY29udGFjdHNcIik7IC8vIHJldHVybnMgdHJ1ZVxuICAgICAqICRzdGF0ZS5pbmNsdWRlcyhcImNvbnRhY3RzLmRldGFpbHNcIik7IC8vIHJldHVybnMgdHJ1ZVxuICAgICAqICRzdGF0ZS5pbmNsdWRlcyhcImNvbnRhY3RzLmRldGFpbHMuaXRlbVwiKTsgLy8gcmV0dXJucyB0cnVlXG4gICAgICogJHN0YXRlLmluY2x1ZGVzKFwiY29udGFjdHMubGlzdFwiKTsgLy8gcmV0dXJucyBmYWxzZVxuICAgICAqICRzdGF0ZS5pbmNsdWRlcyhcImFib3V0XCIpOyAvLyByZXR1cm5zIGZhbHNlXG4gICAgICogYGBgXG4gICAgICpcbiAgICAgKiAjIyMjIEdsb2IgRXhhbXBsZXMgd2hlbiBgKiAkc3RhdGUuJGN1cnJlbnQubmFtZSA9PT0gJ2NvbnRhY3RzLmRldGFpbHMuaXRlbS51cmwnYDpcbiAgICAgKiBgYGBqc1xuICAgICAqICRzdGF0ZS5pbmNsdWRlcyhcIiouZGV0YWlscy4qLipcIik7IC8vIHJldHVybnMgdHJ1ZVxuICAgICAqICRzdGF0ZS5pbmNsdWRlcyhcIiouZGV0YWlscy4qKlwiKTsgLy8gcmV0dXJucyB0cnVlXG4gICAgICogJHN0YXRlLmluY2x1ZGVzKFwiKiouaXRlbS4qKlwiKTsgLy8gcmV0dXJucyB0cnVlXG4gICAgICogJHN0YXRlLmluY2x1ZGVzKFwiKi5kZXRhaWxzLml0ZW0udXJsXCIpOyAvLyByZXR1cm5zIHRydWVcbiAgICAgKiAkc3RhdGUuaW5jbHVkZXMoXCIqLmRldGFpbHMuKi51cmxcIik7IC8vIHJldHVybnMgdHJ1ZVxuICAgICAqICRzdGF0ZS5pbmNsdWRlcyhcIiouZGV0YWlscy4qXCIpOyAvLyByZXR1cm5zIGZhbHNlXG4gICAgICogJHN0YXRlLmluY2x1ZGVzKFwiaXRlbS4qKlwiKTsgLy8gcmV0dXJucyBmYWxzZVxuICAgICAqIGBgYFxuICAgICAqXG4gICAgICogQHBhcmFtIHN0YXRlT3JOYW1lIEEgcGFydGlhbCBuYW1lLCByZWxhdGl2ZSBuYW1lLCBnbG9iIHBhdHRlcm4sXG4gICAgICogICBvciBzdGF0ZSBvYmplY3QgdG8gYmUgc2VhcmNoZWQgZm9yIHdpdGhpbiB0aGUgY3VycmVudCBzdGF0ZSBuYW1lLlxuICAgICAqIEBwYXJhbSBwYXJhbXMgQSBwYXJhbSBvYmplY3QsIGUuZy4gYHtzZWN0aW9uSWQ6IHNlY3Rpb24uaWR9YCxcbiAgICAgKiAgIHRoYXQgeW91J2QgbGlrZSB0byB0ZXN0IGFnYWluc3QgdGhlIGN1cnJlbnQgYWN0aXZlIHN0YXRlLlxuICAgICAqIEBwYXJhbSBvcHRpb25zIEFuIG9wdGlvbnMgb2JqZWN0LiBUaGUgb3B0aW9ucyBhcmU6XG4gICAgICogICAtIGByZWxhdGl2ZWA6IElmIGBzdGF0ZU9yTmFtZWAgaXMgYSByZWxhdGl2ZSBzdGF0ZSBuYW1lIGFuZCBgb3B0aW9ucy5yZWxhdGl2ZWAgaXMgc2V0LCAuaXMgd2lsbFxuICAgICAqICAgICB0ZXN0IHJlbGF0aXZlIHRvIGBvcHRpb25zLnJlbGF0aXZlYCBzdGF0ZSAob3IgbmFtZSkuXG4gICAgICpcbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyB0cnVlIGlmIGl0IGRvZXMgaW5jbHVkZSB0aGUgc3RhdGVcbiAgICAgKi9cbiAgICBTdGF0ZVNlcnZpY2UucHJvdG90eXBlLmluY2x1ZGVzID0gZnVuY3Rpb24gKHN0YXRlT3JOYW1lLCBwYXJhbXMsIG9wdGlvbnMpIHtcbiAgICAgICAgb3B0aW9ucyA9IGRlZmF1bHRzKG9wdGlvbnMsIHsgcmVsYXRpdmU6IHRoaXMuJGN1cnJlbnQgfSk7XG4gICAgICAgIHZhciBnbG9iID0gaXNTdHJpbmcoc3RhdGVPck5hbWUpICYmIEdsb2IuZnJvbVN0cmluZyhzdGF0ZU9yTmFtZSk7XG4gICAgICAgIGlmIChnbG9iKSB7XG4gICAgICAgICAgICBpZiAoIWdsb2IubWF0Y2hlcyh0aGlzLiRjdXJyZW50Lm5hbWUpKVxuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgIHN0YXRlT3JOYW1lID0gdGhpcy4kY3VycmVudC5uYW1lO1xuICAgICAgICB9XG4gICAgICAgIHZhciBzdGF0ZSA9IHRoaXMucm91dGVyLnN0YXRlUmVnaXN0cnkubWF0Y2hlci5maW5kKHN0YXRlT3JOYW1lLCBvcHRpb25zLnJlbGF0aXZlKSwgaW5jbHVkZSA9IHRoaXMuJGN1cnJlbnQuaW5jbHVkZXM7XG4gICAgICAgIGlmICghaXNEZWZpbmVkKHN0YXRlKSlcbiAgICAgICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgICAgIGlmICghaXNEZWZpbmVkKGluY2x1ZGVbc3RhdGUubmFtZV0pKVxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICBpZiAoIXBhcmFtcylcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB2YXIgc2NoZW1hID0gc3RhdGUucGFyYW1ldGVycyh7IGluaGVyaXQ6IHRydWUsIG1hdGNoaW5nS2V5czogcGFyYW1zIH0pO1xuICAgICAgICByZXR1cm4gUGFyYW0uZXF1YWxzKHNjaGVtYSwgUGFyYW0udmFsdWVzKHNjaGVtYSwgcGFyYW1zKSwgdGhpcy5wYXJhbXMpO1xuICAgIH07XG4gICAgXG4gICAgLyoqXG4gICAgICogR2VuZXJhdGVzIGEgVVJMIGZvciBhIHN0YXRlIGFuZCBwYXJhbWV0ZXJzXG4gICAgICpcbiAgICAgKiBSZXR1cm5zIHRoZSB1cmwgZm9yIHRoZSBnaXZlbiBzdGF0ZSBwb3B1bGF0ZWQgd2l0aCB0aGUgZ2l2ZW4gcGFyYW1zLlxuICAgICAqXG4gICAgICogIyMjIyBFeGFtcGxlOlxuICAgICAqIGBgYGpzXG4gICAgICogZXhwZWN0KCRzdGF0ZS5ocmVmKFwiYWJvdXQucGVyc29uXCIsIHsgcGVyc29uOiBcImJvYlwiIH0pKS50b0VxdWFsKFwiL2Fib3V0L2JvYlwiKTtcbiAgICAgKiBgYGBcbiAgICAgKlxuICAgICAqIEBwYXJhbSBzdGF0ZU9yTmFtZSBUaGUgc3RhdGUgbmFtZSBvciBzdGF0ZSBvYmplY3QgeW91J2QgbGlrZSB0byBnZW5lcmF0ZSBhIHVybCBmcm9tLlxuICAgICAqIEBwYXJhbSBwYXJhbXMgQW4gb2JqZWN0IG9mIHBhcmFtZXRlciB2YWx1ZXMgdG8gZmlsbCB0aGUgc3RhdGUncyByZXF1aXJlZCBwYXJhbWV0ZXJzLlxuICAgICAqIEBwYXJhbSBvcHRpb25zIE9wdGlvbnMgb2JqZWN0LiBUaGUgb3B0aW9ucyBhcmU6XG4gICAgICpcbiAgICAgKiBAcmV0dXJucyB7c3RyaW5nfSBjb21waWxlZCBzdGF0ZSB1cmxcbiAgICAgKi9cbiAgICBTdGF0ZVNlcnZpY2UucHJvdG90eXBlLmhyZWYgPSBmdW5jdGlvbiAoc3RhdGVPck5hbWUsIHBhcmFtcywgb3B0aW9ucykge1xuICAgICAgICB2YXIgZGVmYXVsdEhyZWZPcHRzID0ge1xuICAgICAgICAgICAgbG9zc3k6IHRydWUsXG4gICAgICAgICAgICBpbmhlcml0OiB0cnVlLFxuICAgICAgICAgICAgYWJzb2x1dGU6IGZhbHNlLFxuICAgICAgICAgICAgcmVsYXRpdmU6IHRoaXMuJGN1cnJlbnQsXG4gICAgICAgIH07XG4gICAgICAgIG9wdGlvbnMgPSBkZWZhdWx0cyhvcHRpb25zLCBkZWZhdWx0SHJlZk9wdHMpO1xuICAgICAgICBwYXJhbXMgPSBwYXJhbXMgfHwge307XG4gICAgICAgIHZhciBzdGF0ZSA9IHRoaXMucm91dGVyLnN0YXRlUmVnaXN0cnkubWF0Y2hlci5maW5kKHN0YXRlT3JOYW1lLCBvcHRpb25zLnJlbGF0aXZlKTtcbiAgICAgICAgaWYgKCFpc0RlZmluZWQoc3RhdGUpKVxuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIGlmIChvcHRpb25zLmluaGVyaXQpXG4gICAgICAgICAgICBwYXJhbXMgPSB0aGlzLnBhcmFtcy4kaW5oZXJpdChwYXJhbXMsIHRoaXMuJGN1cnJlbnQsIHN0YXRlKTtcbiAgICAgICAgdmFyIG5hdiA9IChzdGF0ZSAmJiBvcHRpb25zLmxvc3N5KSA/IHN0YXRlLm5hdmlnYWJsZSA6IHN0YXRlO1xuICAgICAgICBpZiAoIW5hdiB8fCBuYXYudXJsID09PSB1bmRlZmluZWQgfHwgbmF2LnVybCA9PT0gbnVsbCkge1xuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMucm91dGVyLnVybFJvdXRlci5ocmVmKG5hdi51cmwsIHBhcmFtcywge1xuICAgICAgICAgICAgYWJzb2x1dGU6IG9wdGlvbnMuYWJzb2x1dGUsXG4gICAgICAgIH0pO1xuICAgIH07XG4gICAgXG4gICAgLyoqXG4gICAgICogU2V0cyBvciBnZXRzIHRoZSBkZWZhdWx0IFtbdHJhbnNpdGlvblRvXV0gZXJyb3IgaGFuZGxlci5cbiAgICAgKlxuICAgICAqIFRoZSBlcnJvciBoYW5kbGVyIGlzIGNhbGxlZCB3aGVuIGEgW1tUcmFuc2l0aW9uXV0gaXMgcmVqZWN0ZWQgb3Igd2hlbiBhbnkgZXJyb3Igb2NjdXJyZWQgZHVyaW5nIHRoZSBUcmFuc2l0aW9uLlxuICAgICAqIFRoaXMgaW5jbHVkZXMgZXJyb3JzIGNhdXNlZCBieSByZXNvbHZlcyBhbmQgdHJhbnNpdGlvbiBob29rcy5cbiAgICAgKlxuICAgICAqIE5vdGU6XG4gICAgICogVGhpcyBoYW5kbGVyIGRvZXMgbm90IHJlY2VpdmUgY2VydGFpbiBUcmFuc2l0aW9uIHJlamVjdGlvbnMuXG4gICAgICogUmVkaXJlY3RlZCBhbmQgSWdub3JlZCBUcmFuc2l0aW9ucyBhcmUgbm90IGNvbnNpZGVyZWQgdG8gYmUgZXJyb3JzIGJ5IFtbU3RhdGVTZXJ2aWNlLnRyYW5zaXRpb25Ub11dLlxuICAgICAqXG4gICAgICogVGhlIGJ1aWx0LWluIGRlZmF1bHQgZXJyb3IgaGFuZGxlciBsb2dzIHRoZSBlcnJvciB0byB0aGUgY29uc29sZS5cbiAgICAgKlxuICAgICAqIFlvdSBjYW4gcHJvdmlkZSB5b3VyIG93biBjdXN0b20gaGFuZGxlci5cbiAgICAgKlxuICAgICAqICMjIyMgRXhhbXBsZTpcbiAgICAgKiBgYGBqc1xuICAgICAqIHN0YXRlU2VydmljZS5kZWZhdWx0RXJyb3JIYW5kbGVyKGZ1bmN0aW9uKCkge1xuICAgICAqICAgLy8gRG8gbm90IGxvZyB0cmFuc2l0aW9uVG8gZXJyb3JzXG4gICAgICogfSk7XG4gICAgICogYGBgXG4gICAgICpcbiAgICAgKiBAcGFyYW0gaGFuZGxlciBhIGdsb2JhbCBlcnJvciBoYW5kbGVyIGZ1bmN0aW9uXG4gICAgICogQHJldHVybnMgdGhlIGN1cnJlbnQgZ2xvYmFsIGVycm9yIGhhbmRsZXJcbiAgICAgKi9cbiAgICBTdGF0ZVNlcnZpY2UucHJvdG90eXBlLmRlZmF1bHRFcnJvckhhbmRsZXIgPSBmdW5jdGlvbiAoaGFuZGxlcikge1xuICAgICAgICByZXR1cm4gdGhpcy5fZGVmYXVsdEVycm9ySGFuZGxlciA9IGhhbmRsZXIgfHwgdGhpcy5fZGVmYXVsdEVycm9ySGFuZGxlcjtcbiAgICB9O1xuICAgIFN0YXRlU2VydmljZS5wcm90b3R5cGUuZ2V0ID0gZnVuY3Rpb24gKHN0YXRlT3JOYW1lLCBiYXNlKSB7XG4gICAgICAgIHZhciByZWcgPSB0aGlzLnJvdXRlci5zdGF0ZVJlZ2lzdHJ5O1xuICAgICAgICBpZiAoYXJndW1lbnRzLmxlbmd0aCA9PT0gMClcbiAgICAgICAgICAgIHJldHVybiByZWcuZ2V0KCk7XG4gICAgICAgIHJldHVybiByZWcuZ2V0KHN0YXRlT3JOYW1lLCBiYXNlIHx8IHRoaXMuJGN1cnJlbnQpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogTGF6eSBsb2FkcyBhIHN0YXRlXG4gICAgICpcbiAgICAgKiBFeHBsaWNpdGx5IHJ1bnMgYSBzdGF0ZSdzIFtbU3RhdGVEZWNsYXJhdGlvbi5sYXp5TG9hZF1dIGZ1bmN0aW9uLlxuICAgICAqXG4gICAgICogQHBhcmFtIHN0YXRlT3JOYW1lIHRoZSBzdGF0ZSB0aGF0IHNob3VsZCBiZSBsYXp5IGxvYWRlZFxuICAgICAqIEBwYXJhbSB0cmFuc2l0aW9uIHRoZSBvcHRpb25hbCBUcmFuc2l0aW9uIGNvbnRleHQgdG8gdXNlIChpZiB0aGUgbGF6eUxvYWQgZnVuY3Rpb24gcmVxdWlyZXMgYW4gaW5qZWN0b3IsIGV0YylcbiAgICAgKiBOb3RlOiBJZiBubyB0cmFuc2l0aW9uIGlzIHByb3ZpZGVkLCBhIG5vb3AgdHJhbnNpdGlvbiBpcyBjcmVhdGVkIHVzaW5nIHRoZSBmcm9tIHRoZSBjdXJyZW50IHN0YXRlIHRvIHRoZSBjdXJyZW50IHN0YXRlLlxuICAgICAqIFRoaXMgbm9vcCB0cmFuc2l0aW9uIGlzIG5vdCBhY3R1YWxseSBydW4uXG4gICAgICpcbiAgICAgKiBAcmV0dXJucyBhIHByb21pc2UgdG8gbGF6eSBsb2FkXG4gICAgICovXG4gICAgU3RhdGVTZXJ2aWNlLnByb3RvdHlwZS5sYXp5TG9hZCA9IGZ1bmN0aW9uIChzdGF0ZU9yTmFtZSwgdHJhbnNpdGlvbikge1xuICAgICAgICB2YXIgc3RhdGUgPSB0aGlzLmdldChzdGF0ZU9yTmFtZSk7XG4gICAgICAgIGlmICghc3RhdGUgfHwgIXN0YXRlLmxhenlMb2FkKVxuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiQ2FuIG5vdCBsYXp5IGxvYWQgXCIgKyBzdGF0ZU9yTmFtZSk7XG4gICAgICAgIHZhciBjdXJyZW50UGF0aCA9IHRoaXMuZ2V0Q3VycmVudFBhdGgoKTtcbiAgICAgICAgdmFyIHRhcmdldCA9IFBhdGhVdGlscy5tYWtlVGFyZ2V0U3RhdGUoY3VycmVudFBhdGgpO1xuICAgICAgICB0cmFuc2l0aW9uID0gdHJhbnNpdGlvbiB8fCB0aGlzLnJvdXRlci50cmFuc2l0aW9uU2VydmljZS5jcmVhdGUoY3VycmVudFBhdGgsIHRhcmdldCk7XG4gICAgICAgIHJldHVybiBsYXp5TG9hZFN0YXRlKHRyYW5zaXRpb24sIHN0YXRlKTtcbiAgICB9O1xuICAgIHJldHVybiBTdGF0ZVNlcnZpY2U7XG59KCkpO1xuXG4vKipcbiAqICMgVHJhbnNpdGlvbiBzdWJzeXN0ZW1cbiAqXG4gKiBUaGlzIG1vZHVsZSBjb250YWlucyBBUElzIHJlbGF0ZWQgdG8gYSBUcmFuc2l0aW9uLlxuICpcbiAqIFNlZTpcbiAqIC0gW1tUcmFuc2l0aW9uU2VydmljZV1dXG4gKiAtIFtbVHJhbnNpdGlvbl1dXG4gKiAtIFtbSG9va0ZuXV0sIFtbVHJhbnNpdGlvbkhvb2tGbl1dLCBbW1RyYW5zaXRpb25TdGF0ZUhvb2tGbl1dLCBbW0hvb2tNYXRjaENyaXRlcmlhXV0sIFtbSG9va1Jlc3VsdF1dXG4gKlxuICogQGNvcmVhcGlcbiAqIEBwcmVmZXJyZWRcbiAqIEBtb2R1bGUgdHJhbnNpdGlvblxuICovIC8qKiBmb3IgdHlwZWRvYyAqL1xuXG4vKipcbiAqIEBpbnRlcm5hbGFwaVxuICogQG1vZHVsZSB2YW5pbGxhXG4gKi9cbi8qKiAqL1xuLyoqXG4gKiBBbiBhbmd1bGFyMS1saWtlIHByb21pc2UgYXBpXG4gKlxuICogVGhpcyBvYmplY3QgaW1wbGVtZW50cyBmb3VyIG1ldGhvZHMgc2ltaWxhciB0byB0aGVcbiAqIFthbmd1bGFyIDEgcHJvbWlzZSBhcGldKGh0dHBzOi8vZG9jcy5hbmd1bGFyanMub3JnL2FwaS9uZy9zZXJ2aWNlLyRxKVxuICpcbiAqIFVJLVJvdXRlciBldm9sdmVkIGZyb20gYW4gYW5ndWxhciAxIGxpYnJhcnkgdG8gYSBmcmFtZXdvcmsgYWdub3N0aWMgbGlicmFyeS5cbiAqIEhvd2V2ZXIsIHNvbWUgb2YgdGhlIGBAdWlyb3V0ZXIvY29yZWAgY29kZSB1c2VzIHRoZXNlIG5nMSBzdHlsZSBBUElzIHRvIHN1cHBvcnQgbmcxIHN0eWxlIGRlcGVuZGVuY3kgaW5qZWN0aW9uLlxuICpcbiAqIFRoaXMgQVBJIHByb3ZpZGVzIG5hdGl2ZSBFUzYgcHJvbWlzZSBzdXBwb3J0IHdyYXBwZWQgYXMgYSAkcS1saWtlIEFQSS5cbiAqIEludGVybmFsbHksIFVJLVJvdXRlciB1c2VzIHRoaXMgJHEgb2JqZWN0IHRvIHBlcmZvcm0gcHJvbWlzZSBvcGVyYXRpb25zLlxuICogVGhlIGBhbmd1bGFyLXVpLXJvdXRlcmAgKHVpLXJvdXRlciBmb3IgYW5ndWxhciAxKSB1c2VzIHRoZSAkcSBBUEkgcHJvdmlkZWQgYnkgYW5ndWxhci5cbiAqXG4gKiAkcS1saWtlIHByb21pc2UgYXBpXG4gKi9cbnZhciAkcSA9IHtcbiAgICAvKiogTm9ybWFsaXplcyBhIHZhbHVlIGFzIGEgcHJvbWlzZSAqL1xuICAgIHdoZW46IGZ1bmN0aW9uICh2YWwkJDEpIHsgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHsgcmV0dXJuIHJlc29sdmUodmFsJCQxKTsgfSk7IH0sXG4gICAgLyoqIE5vcm1hbGl6ZXMgYSB2YWx1ZSBhcyBhIHByb21pc2UgcmVqZWN0aW9uICovXG4gICAgcmVqZWN0OiBmdW5jdGlvbiAodmFsJCQxKSB7IHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7IHJlamVjdCh2YWwkJDEpOyB9KTsgfSxcbiAgICAvKiogQHJldHVybnMgYSBkZWZlcnJlZCBvYmplY3QsIHdoaWNoIGhhcyBgcmVzb2x2ZWAgYW5kIGByZWplY3RgIGZ1bmN0aW9ucyAqL1xuICAgIGRlZmVyOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBkZWZlcnJlZCA9IHt9O1xuICAgICAgICBkZWZlcnJlZC5wcm9taXNlID0gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkge1xuICAgICAgICAgICAgZGVmZXJyZWQucmVzb2x2ZSA9IHJlc29sdmU7XG4gICAgICAgICAgICBkZWZlcnJlZC5yZWplY3QgPSByZWplY3Q7XG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gZGVmZXJyZWQ7XG4gICAgfSxcbiAgICAvKiogTGlrZSBQcm9taXNlLmFsbCgpLCBidXQgYWxzbyBzdXBwb3J0cyBvYmplY3Qga2V5L3Byb21pc2Ugbm90YXRpb24gbGlrZSAkcSAqL1xuICAgIGFsbDogZnVuY3Rpb24gKHByb21pc2VzKSB7XG4gICAgICAgIGlmIChpc0FycmF5KHByb21pc2VzKSkge1xuICAgICAgICAgICAgcmV0dXJuIFByb21pc2UuYWxsKHByb21pc2VzKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoaXNPYmplY3QocHJvbWlzZXMpKSB7XG4gICAgICAgICAgICAvLyBDb252ZXJ0IHByb21pc2VzIG1hcCB0byBwcm9taXNlcyBhcnJheS5cbiAgICAgICAgICAgIC8vIFdoZW4gZWFjaCBwcm9taXNlIHJlc29sdmVzLCBtYXAgaXQgdG8gYSB0dXBsZSB7IGtleToga2V5LCB2YWw6IHZhbCB9XG4gICAgICAgICAgICB2YXIgY2hhaW4gPSBPYmplY3Qua2V5cyhwcm9taXNlcylcbiAgICAgICAgICAgICAgICAubWFwKGZ1bmN0aW9uIChrZXkpIHsgcmV0dXJuIHByb21pc2VzW2tleV0udGhlbihmdW5jdGlvbiAodmFsJCQxKSB7IHJldHVybiAoeyBrZXk6IGtleSwgdmFsOiB2YWwkJDEgfSk7IH0pOyB9KTtcbiAgICAgICAgICAgIC8vIFRoZW4gd2FpdCBmb3IgYWxsIHByb21pc2VzIHRvIHJlc29sdmUsIGFuZCBjb252ZXJ0IHRoZW0gYmFjayB0byBhbiBvYmplY3RcbiAgICAgICAgICAgIHJldHVybiAkcS5hbGwoY2hhaW4pLnRoZW4oZnVuY3Rpb24gKHZhbHVlcyQkMSkge1xuICAgICAgICAgICAgICAgIHJldHVybiB2YWx1ZXMkJDEucmVkdWNlKGZ1bmN0aW9uIChhY2MsIHR1cGxlKSB7IGFjY1t0dXBsZS5rZXldID0gdHVwbGUudmFsOyByZXR1cm4gYWNjOyB9LCB7fSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH1cbn07XG5cbi8qKlxuICogQGludGVybmFsYXBpXG4gKiBAbW9kdWxlIHZhbmlsbGFcbiAqL1xuLyoqICovXG4vLyBnbG9iYWxseSBhdmFpbGFibGUgaW5qZWN0YWJsZXNcbnZhciBnbG9iYWxzID0ge307XG52YXIgU1RSSVBfQ09NTUVOVFMgPSAvKChcXC9cXC8uKiQpfChcXC9cXCpbXFxzXFxTXSo/XFwqXFwvKSkvbWc7XG52YXIgQVJHVU1FTlRfTkFNRVMgPSAvKFteXFxzLF0rKS9nO1xuLyoqXG4gKiBBIGJhc2ljIGFuZ3VsYXIxLWxpa2UgaW5qZWN0b3IgYXBpXG4gKlxuICogVGhpcyBvYmplY3QgaW1wbGVtZW50cyBmb3VyIG1ldGhvZHMgc2ltaWxhciB0byB0aGVcbiAqIFthbmd1bGFyIDEgZGVwZW5kZW5jeSBpbmplY3Rvcl0oaHR0cHM6Ly9kb2NzLmFuZ3VsYXJqcy5vcmcvYXBpL2F1dG8vc2VydmljZS8kaW5qZWN0b3IpXG4gKlxuICogVUktUm91dGVyIGV2b2x2ZWQgZnJvbSBhbiBhbmd1bGFyIDEgbGlicmFyeSB0byBhIGZyYW1ld29yayBhZ25vc3RpYyBsaWJyYXJ5LlxuICogSG93ZXZlciwgc29tZSBvZiB0aGUgYEB1aXJvdXRlci9jb3JlYCBjb2RlIHVzZXMgdGhlc2UgbmcxIHN0eWxlIEFQSXMgdG8gc3VwcG9ydCBuZzEgc3R5bGUgZGVwZW5kZW5jeSBpbmplY3Rpb24uXG4gKlxuICogVGhpcyBvYmplY3QgcHJvdmlkZXMgYSBuYWl2ZSBpbXBsZW1lbnRhdGlvbiBvZiBhIGdsb2JhbGx5IHNjb3BlZCBkZXBlbmRlbmN5IGluamVjdGlvbiBzeXN0ZW0uXG4gKiBJdCBzdXBwb3J0cyB0aGUgZm9sbG93aW5nIERJIGFwcHJvYWNoZXM6XG4gKlxuICogIyMjIEZ1bmN0aW9uIHBhcmFtZXRlciBuYW1lc1xuICpcbiAqIEEgZnVuY3Rpb24ncyBgLnRvU3RyaW5nKClgIGlzIGNhbGxlZCwgYW5kIHRoZSBwYXJhbWV0ZXIgbmFtZXMgYXJlIHBhcnNlZC5cbiAqIFRoaXMgb25seSB3b3JrcyB3aGVuIHRoZSBwYXJhbWV0ZXIgbmFtZXMgYXJlbid0IFwibWFuZ2xlZFwiIGJ5IGEgbWluaWZpZXIgc3VjaCBhcyBVZ2xpZnlKUy5cbiAqXG4gKiBgYGBqc1xuICogZnVuY3Rpb24gaW5qZWN0ZWRGdW5jdGlvbihGb29TZXJ2aWNlLCBCYXJTZXJ2aWNlKSB7XG4gKiAgIC8vIEZvb1NlcnZpY2UgYW5kIEJhclNlcnZpY2UgYXJlIGluamVjdGVkXG4gKiB9XG4gKiBgYGBcbiAqXG4gKiAjIyMgRnVuY3Rpb24gYW5ub3RhdGlvblxuICpcbiAqIEEgZnVuY3Rpb24gbWF5IGJlIGFubm90YXRlZCB3aXRoIGFuIGFycmF5IG9mIGRlcGVuZGVuY3kgbmFtZXMgYXMgdGhlIGAkaW5qZWN0YCBwcm9wZXJ0eS5cbiAqXG4gKiBgYGBqc1xuICogaW5qZWN0ZWRGdW5jdGlvbi4kaW5qZWN0ID0gWyAnRm9vU2VydmljZScsICdCYXJTZXJ2aWNlJyBdO1xuICogZnVuY3Rpb24gaW5qZWN0ZWRGdW5jdGlvbihmcywgYnMpIHtcbiAqICAgLy8gRm9vU2VydmljZSBhbmQgQmFyU2VydmljZSBhcmUgaW5qZWN0ZWQgYXMgZnMgYW5kIGJzIHBhcmFtZXRlcnNcbiAqIH1cbiAqIGBgYFxuICpcbiAqICMjIyBBcnJheSBub3RhdGlvblxuICpcbiAqIEFuIGFycmF5IHByb3ZpZGVzIHRoZSBuYW1lcyBvZiB0aGUgZGVwZW5kZW5jaWVzIHRvIGluamVjdCAoYXMgc3RyaW5ncykuXG4gKiBUaGUgZnVuY3Rpb24gaXMgdGhlIGxhc3QgZWxlbWVudCBvZiB0aGUgYXJyYXkuXG4gKlxuICogYGBganNcbiAqIFsgJ0Zvb1NlcnZpY2UnLCAnQmFyU2VydmljZScsIGZ1bmN0aW9uIChmcywgYnMpIHtcbiAqICAgLy8gRm9vU2VydmljZSBhbmQgQmFyU2VydmljZSBhcmUgaW5qZWN0ZWQgYXMgZnMgYW5kIGJzIHBhcmFtZXRlcnNcbiAqIH1dXG4gKiBgYGBcbiAqXG4gKiBAdHlwZSB7JEluamVjdG9yTGlrZX1cbiAqL1xudmFyICRpbmplY3RvciA9IHtcbiAgICAvKiogR2V0cyBhbiBvYmplY3QgZnJvbSBESSBiYXNlZCBvbiBhIHN0cmluZyB0b2tlbiAqL1xuICAgIGdldDogZnVuY3Rpb24gKG5hbWUpIHsgcmV0dXJuIGdsb2JhbHNbbmFtZV07IH0sXG4gICAgLyoqIFJldHVybnMgdHJ1ZSBpZiBhbiBvYmplY3QgbmFtZWQgYG5hbWVgIGV4aXN0cyBpbiBnbG9iYWwgREkgKi9cbiAgICBoYXM6IGZ1bmN0aW9uIChuYW1lKSB7IHJldHVybiAkaW5qZWN0b3IuZ2V0KG5hbWUpICE9IG51bGw7IH0sXG4gICAgLyoqXG4gICAgICogSW5qZWN0cyBhIGZ1bmN0aW9uXG4gICAgICpcbiAgICAgKiBAcGFyYW0gZm4gdGhlIGZ1bmN0aW9uIHRvIGluamVjdFxuICAgICAqIEBwYXJhbSBjb250ZXh0IHRoZSBmdW5jdGlvbidzIGB0aGlzYCBiaW5kaW5nXG4gICAgICogQHBhcmFtIGxvY2FscyBBbiBvYmplY3Qgd2l0aCBhZGRpdGlvbmFsIERJIHRva2VucyBhbmQgdmFsdWVzLCBzdWNoIGFzIGB7IHNvbWVUb2tlbjogeyBmb286IDEgfSB9YFxuICAgICAqL1xuICAgIGludm9rZTogZnVuY3Rpb24gKGZuLCBjb250ZXh0LCBsb2NhbHMpIHtcbiAgICAgICAgdmFyIGFsbCQkMSA9IGV4dGVuZCh7fSwgZ2xvYmFscywgbG9jYWxzIHx8IHt9KTtcbiAgICAgICAgdmFyIHBhcmFtcyA9ICRpbmplY3Rvci5hbm5vdGF0ZShmbik7XG4gICAgICAgIHZhciBlbnN1cmVFeGlzdCA9IGFzc2VydFByZWRpY2F0ZShmdW5jdGlvbiAoa2V5KSB7IHJldHVybiBhbGwkJDEuaGFzT3duUHJvcGVydHkoa2V5KTsgfSwgZnVuY3Rpb24gKGtleSkgeyByZXR1cm4gXCJESSBjYW4ndCBmaW5kIGluamVjdGFibGU6ICdcIiArIGtleSArIFwiJ1wiOyB9KTtcbiAgICAgICAgdmFyIGFyZ3MgPSBwYXJhbXMuZmlsdGVyKGVuc3VyZUV4aXN0KS5tYXAoZnVuY3Rpb24gKHgpIHsgcmV0dXJuIGFsbCQkMVt4XTsgfSk7XG4gICAgICAgIGlmIChpc0Z1bmN0aW9uKGZuKSlcbiAgICAgICAgICAgIHJldHVybiBmbi5hcHBseShjb250ZXh0LCBhcmdzKTtcbiAgICAgICAgZWxzZVxuICAgICAgICAgICAgcmV0dXJuIGZuLnNsaWNlKC0xKVswXS5hcHBseShjb250ZXh0LCBhcmdzKTtcbiAgICB9LFxuICAgIC8qKlxuICAgICAqIFJldHVybnMgYSBmdW5jdGlvbidzIGRlcGVuZGVuY2llc1xuICAgICAqXG4gICAgICogQW5hbHl6ZXMgYSBmdW5jdGlvbiAob3IgYXJyYXkpIGFuZCByZXR1cm5zIGFuIGFycmF5IG9mIERJIHRva2VucyB0aGF0IHRoZSBmdW5jdGlvbiByZXF1aXJlcy5cbiAgICAgKiBAcmV0dXJuIGFuIGFycmF5IG9mIGBzdHJpbmdgc1xuICAgICAqL1xuICAgIGFubm90YXRlOiBmdW5jdGlvbiAoZm4pIHtcbiAgICAgICAgaWYgKCFpc0luamVjdGFibGUoZm4pKVxuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiTm90IGFuIGluamVjdGFibGUgZnVuY3Rpb246IFwiICsgZm4pO1xuICAgICAgICBpZiAoZm4gJiYgZm4uJGluamVjdClcbiAgICAgICAgICAgIHJldHVybiBmbi4kaW5qZWN0O1xuICAgICAgICBpZiAoaXNBcnJheShmbikpXG4gICAgICAgICAgICByZXR1cm4gZm4uc2xpY2UoMCwgLTEpO1xuICAgICAgICB2YXIgZm5TdHIgPSBmbi50b1N0cmluZygpLnJlcGxhY2UoU1RSSVBfQ09NTUVOVFMsICcnKTtcbiAgICAgICAgdmFyIHJlc3VsdCA9IGZuU3RyLnNsaWNlKGZuU3RyLmluZGV4T2YoJygnKSArIDEsIGZuU3RyLmluZGV4T2YoJyknKSkubWF0Y2goQVJHVU1FTlRfTkFNRVMpO1xuICAgICAgICByZXR1cm4gcmVzdWx0IHx8IFtdO1xuICAgIH1cbn07XG5cbi8qKlxuICogQGludGVybmFsYXBpXG4gKiBAbW9kdWxlIHZhbmlsbGFcbiAqL1xuLyoqICovXG52YXIgYmVmb3JlQWZ0ZXJTdWJzdHIkMSA9IGZ1bmN0aW9uIChjaGFyKSB7IHJldHVybiBmdW5jdGlvbiAoc3RyKSB7XG4gICAgaWYgKCFzdHIpXG4gICAgICAgIHJldHVybiBbXCJcIiwgXCJcIl07XG4gICAgdmFyIGlkeCA9IHN0ci5pbmRleE9mKGNoYXIpO1xuICAgIGlmIChpZHggPT09IC0xKVxuICAgICAgICByZXR1cm4gW3N0ciwgXCJcIl07XG4gICAgcmV0dXJuIFtzdHIuc3Vic3RyKDAsIGlkeCksIHN0ci5zdWJzdHIoaWR4ICsgMSldO1xufTsgfTtcbnZhciBzcGxpdEhhc2ggPSBiZWZvcmVBZnRlclN1YnN0ciQxKFwiI1wiKTtcbnZhciBzcGxpdFF1ZXJ5ID0gYmVmb3JlQWZ0ZXJTdWJzdHIkMShcIj9cIik7XG52YXIgc3BsaXRFcXVhbCA9IGJlZm9yZUFmdGVyU3Vic3RyJDEoXCI9XCIpO1xudmFyIHRyaW1IYXNoVmFsID0gZnVuY3Rpb24gKHN0cikgeyByZXR1cm4gc3RyID8gc3RyLnJlcGxhY2UoL14jLywgXCJcIikgOiBcIlwiOyB9O1xudmFyIGtleVZhbHNUb09iamVjdFIgPSBmdW5jdGlvbiAoYWNjdW0sIF9hKSB7XG4gICAgdmFyIGtleSA9IF9hWzBdLCB2YWwkJDEgPSBfYVsxXTtcbiAgICBpZiAoIWFjY3VtLmhhc093blByb3BlcnR5KGtleSkpIHtcbiAgICAgICAgYWNjdW1ba2V5XSA9IHZhbCQkMTtcbiAgICB9XG4gICAgZWxzZSBpZiAoaXNBcnJheShhY2N1bVtrZXldKSkge1xuICAgICAgICBhY2N1bVtrZXldLnB1c2godmFsJCQxKTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIGFjY3VtW2tleV0gPSBbYWNjdW1ba2V5XSwgdmFsJCQxXTtcbiAgICB9XG4gICAgcmV0dXJuIGFjY3VtO1xufTtcbnZhciBnZXRQYXJhbXMgPSBmdW5jdGlvbiAocXVlcnlTdHJpbmcpIHtcbiAgICByZXR1cm4gcXVlcnlTdHJpbmcuc3BsaXQoXCImXCIpLmZpbHRlcihpZGVudGl0eSkubWFwKHNwbGl0RXF1YWwpLnJlZHVjZShrZXlWYWxzVG9PYmplY3RSLCB7fSk7XG59O1xuZnVuY3Rpb24gcGFyc2VVcmwkMSh1cmwpIHtcbiAgICB2YXIgb3JFbXB0eVN0cmluZyA9IGZ1bmN0aW9uICh4KSB7IHJldHVybiB4IHx8IFwiXCI7IH07XG4gICAgdmFyIF9hID0gc3BsaXRIYXNoKHVybCkubWFwKG9yRW1wdHlTdHJpbmcpLCBiZWZvcmVoYXNoID0gX2FbMF0sIGhhc2ggPSBfYVsxXTtcbiAgICB2YXIgX2IgPSBzcGxpdFF1ZXJ5KGJlZm9yZWhhc2gpLm1hcChvckVtcHR5U3RyaW5nKSwgcGF0aCA9IF9iWzBdLCBzZWFyY2ggPSBfYlsxXTtcbiAgICByZXR1cm4geyBwYXRoOiBwYXRoLCBzZWFyY2g6IHNlYXJjaCwgaGFzaDogaGFzaCwgdXJsOiB1cmwgfTtcbn1cbnZhciBidWlsZFVybCA9IGZ1bmN0aW9uIChsb2MpIHtcbiAgICB2YXIgcGF0aCA9IGxvYy5wYXRoKCk7XG4gICAgdmFyIHNlYXJjaE9iamVjdCA9IGxvYy5zZWFyY2goKTtcbiAgICB2YXIgaGFzaCA9IGxvYy5oYXNoKCk7XG4gICAgdmFyIHNlYXJjaCA9IE9iamVjdC5rZXlzKHNlYXJjaE9iamVjdCkubWFwKGZ1bmN0aW9uIChrZXkpIHtcbiAgICAgICAgdmFyIHBhcmFtID0gc2VhcmNoT2JqZWN0W2tleV07XG4gICAgICAgIHZhciB2YWxzID0gaXNBcnJheShwYXJhbSkgPyBwYXJhbSA6IFtwYXJhbV07XG4gICAgICAgIHJldHVybiB2YWxzLm1hcChmdW5jdGlvbiAodmFsJCQxKSB7IHJldHVybiBrZXkgKyBcIj1cIiArIHZhbCQkMTsgfSk7XG4gICAgfSkucmVkdWNlKHVubmVzdFIsIFtdKS5qb2luKFwiJlwiKTtcbiAgICByZXR1cm4gcGF0aCArIChzZWFyY2ggPyBcIj9cIiArIHNlYXJjaCA6IFwiXCIpICsgKGhhc2ggPyBcIiNcIiArIGhhc2ggOiBcIlwiKTtcbn07XG5mdW5jdGlvbiBsb2NhdGlvblBsdWdpbkZhY3RvcnkobmFtZSwgaXNIdG1sNSwgc2VydmljZUNsYXNzLCBjb25maWd1cmF0aW9uQ2xhc3MpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24gKHJvdXRlcikge1xuICAgICAgICB2YXIgc2VydmljZSA9IHJvdXRlci5sb2NhdGlvblNlcnZpY2UgPSBuZXcgc2VydmljZUNsYXNzKHJvdXRlcik7XG4gICAgICAgIHZhciBjb25maWd1cmF0aW9uID0gcm91dGVyLmxvY2F0aW9uQ29uZmlnID0gbmV3IGNvbmZpZ3VyYXRpb25DbGFzcyhyb3V0ZXIsIGlzSHRtbDUpO1xuICAgICAgICBmdW5jdGlvbiBkaXNwb3NlKHJvdXRlcikge1xuICAgICAgICAgICAgcm91dGVyLmRpc3Bvc2Uoc2VydmljZSk7XG4gICAgICAgICAgICByb3V0ZXIuZGlzcG9zZShjb25maWd1cmF0aW9uKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4geyBuYW1lOiBuYW1lLCBzZXJ2aWNlOiBzZXJ2aWNlLCBjb25maWd1cmF0aW9uOiBjb25maWd1cmF0aW9uLCBkaXNwb3NlOiBkaXNwb3NlIH07XG4gICAgfTtcbn1cblxuLyoqXG4gKiBAaW50ZXJuYWxhcGlcbiAqIEBtb2R1bGUgdmFuaWxsYVxuICovIC8qKiAqL1xuLyoqIEEgYmFzZSBgTG9jYXRpb25TZXJ2aWNlc2AgKi9cbnZhciBCYXNlTG9jYXRpb25TZXJ2aWNlcyA9IChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gQmFzZUxvY2F0aW9uU2VydmljZXMocm91dGVyLCBmaXJlQWZ0ZXJVcGRhdGUpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgdGhpcy5maXJlQWZ0ZXJVcGRhdGUgPSBmaXJlQWZ0ZXJVcGRhdGU7XG4gICAgICAgIHRoaXMuX2xpc3RlbmVyID0gZnVuY3Rpb24gKGV2dCkgeyByZXR1cm4gX3RoaXMuX2xpc3RlbmVycy5mb3JFYWNoKGZ1bmN0aW9uIChjYikgeyByZXR1cm4gY2IoZXZ0KTsgfSk7IH07XG4gICAgICAgIHRoaXMuX2xpc3RlbmVycyA9IFtdO1xuICAgICAgICB0aGlzLmhhc2ggPSBmdW5jdGlvbiAoKSB7IHJldHVybiBwYXJzZVVybCQxKF90aGlzLl9nZXQoKSkuaGFzaDsgfTtcbiAgICAgICAgdGhpcy5wYXRoID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gcGFyc2VVcmwkMShfdGhpcy5fZ2V0KCkpLnBhdGg7IH07XG4gICAgICAgIHRoaXMuc2VhcmNoID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gZ2V0UGFyYW1zKHBhcnNlVXJsJDEoX3RoaXMuX2dldCgpKS5zZWFyY2gpOyB9O1xuICAgICAgICB0aGlzLl9sb2NhdGlvbiA9IHdpbmRvdyAmJiB3aW5kb3cubG9jYXRpb247XG4gICAgICAgIHRoaXMuX2hpc3RvcnkgPSB3aW5kb3cgJiYgd2luZG93Lmhpc3Rvcnk7XG4gICAgfVxuICAgIEJhc2VMb2NhdGlvblNlcnZpY2VzLnByb3RvdHlwZS51cmwgPSBmdW5jdGlvbiAodXJsLCByZXBsYWNlKSB7XG4gICAgICAgIGlmIChyZXBsYWNlID09PSB2b2lkIDApIHsgcmVwbGFjZSA9IHRydWU7IH1cbiAgICAgICAgaWYgKGlzRGVmaW5lZCh1cmwpICYmIHVybCAhPT0gdGhpcy5fZ2V0KCkpIHtcbiAgICAgICAgICAgIHRoaXMuX3NldChudWxsLCBudWxsLCB1cmwsIHJlcGxhY2UpO1xuICAgICAgICAgICAgaWYgKHRoaXMuZmlyZUFmdGVyVXBkYXRlKSB7XG4gICAgICAgICAgICAgICAgdmFyIGV2dF8xID0gZXh0ZW5kKG5ldyBFdmVudChcImxvY2F0aW9uY2hhbmdlXCIpLCB7IHVybDogdXJsIH0pO1xuICAgICAgICAgICAgICAgIHRoaXMuX2xpc3RlbmVycy5mb3JFYWNoKGZ1bmN0aW9uIChjYikgeyByZXR1cm4gY2IoZXZ0XzEpOyB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gYnVpbGRVcmwodGhpcyk7XG4gICAgfTtcbiAgICBCYXNlTG9jYXRpb25TZXJ2aWNlcy5wcm90b3R5cGUub25DaGFuZ2UgPSBmdW5jdGlvbiAoY2IpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgdGhpcy5fbGlzdGVuZXJzLnB1c2goY2IpO1xuICAgICAgICByZXR1cm4gZnVuY3Rpb24gKCkgeyByZXR1cm4gcmVtb3ZlRnJvbShfdGhpcy5fbGlzdGVuZXJzLCBjYik7IH07XG4gICAgfTtcbiAgICBCYXNlTG9jYXRpb25TZXJ2aWNlcy5wcm90b3R5cGUuZGlzcG9zZSA9IGZ1bmN0aW9uIChyb3V0ZXIpIHtcbiAgICAgICAgZGVyZWdBbGwodGhpcy5fbGlzdGVuZXJzKTtcbiAgICB9O1xuICAgIHJldHVybiBCYXNlTG9jYXRpb25TZXJ2aWNlcztcbn0oKSk7XG5cbnZhciBfX2V4dGVuZHMgPSAodW5kZWZpbmVkICYmIHVuZGVmaW5lZC5fX2V4dGVuZHMpIHx8IChmdW5jdGlvbiAoKSB7XG4gICAgdmFyIGV4dGVuZFN0YXRpY3MgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHxcbiAgICAgICAgKHsgX19wcm90b19fOiBbXSB9IGluc3RhbmNlb2YgQXJyYXkgJiYgZnVuY3Rpb24gKGQsIGIpIHsgZC5fX3Byb3RvX18gPSBiOyB9KSB8fFxuICAgICAgICBmdW5jdGlvbiAoZCwgYikgeyBmb3IgKHZhciBwIGluIGIpIGlmIChiLmhhc093blByb3BlcnR5KHApKSBkW3BdID0gYltwXTsgfTtcbiAgICByZXR1cm4gZnVuY3Rpb24gKGQsIGIpIHtcbiAgICAgICAgZXh0ZW5kU3RhdGljcyhkLCBiKTtcbiAgICAgICAgZnVuY3Rpb24gX18oKSB7IHRoaXMuY29uc3RydWN0b3IgPSBkOyB9XG4gICAgICAgIGQucHJvdG90eXBlID0gYiA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUoYikgOiAoX18ucHJvdG90eXBlID0gYi5wcm90b3R5cGUsIG5ldyBfXygpKTtcbiAgICB9O1xufSkoKTtcbi8qKlxuICogQGludGVybmFsYXBpXG4gKiBAbW9kdWxlIHZhbmlsbGFcbiAqL1xuLyoqICovXG4vKiogQSBgTG9jYXRpb25TZXJ2aWNlc2AgdGhhdCB1c2VzIHRoZSBicm93c2VyIGhhc2ggXCIjXCIgdG8gZ2V0L3NldCB0aGUgY3VycmVudCBsb2NhdGlvbiAqL1xudmFyIEhhc2hMb2NhdGlvblNlcnZpY2UgPSAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIF9fZXh0ZW5kcyhIYXNoTG9jYXRpb25TZXJ2aWNlLCBfc3VwZXIpO1xuICAgIGZ1bmN0aW9uIEhhc2hMb2NhdGlvblNlcnZpY2Uocm91dGVyKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMsIHJvdXRlciwgZmFsc2UpIHx8IHRoaXM7XG4gICAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdoYXNoY2hhbmdlJywgX3RoaXMuX2xpc3RlbmVyLCBmYWxzZSk7XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG4gICAgSGFzaExvY2F0aW9uU2VydmljZS5wcm90b3R5cGUuX2dldCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRyaW1IYXNoVmFsKHRoaXMuX2xvY2F0aW9uLmhhc2gpO1xuICAgIH07XG4gICAgSGFzaExvY2F0aW9uU2VydmljZS5wcm90b3R5cGUuX3NldCA9IGZ1bmN0aW9uIChzdGF0ZSwgdGl0bGUsIHVybCwgcmVwbGFjZSkge1xuICAgICAgICB0aGlzLl9sb2NhdGlvbi5oYXNoID0gdXJsO1xuICAgIH07XG4gICAgSGFzaExvY2F0aW9uU2VydmljZS5wcm90b3R5cGUuZGlzcG9zZSA9IGZ1bmN0aW9uIChyb3V0ZXIpIHtcbiAgICAgICAgX3N1cGVyLnByb3RvdHlwZS5kaXNwb3NlLmNhbGwodGhpcywgcm91dGVyKTtcbiAgICAgICAgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2hhc2hjaGFuZ2UnLCB0aGlzLl9saXN0ZW5lcik7XG4gICAgfTtcbiAgICByZXR1cm4gSGFzaExvY2F0aW9uU2VydmljZTtcbn0oQmFzZUxvY2F0aW9uU2VydmljZXMpKTtcblxudmFyIF9fZXh0ZW5kcyQxID0gKHVuZGVmaW5lZCAmJiB1bmRlZmluZWQuX19leHRlbmRzKSB8fCAoZnVuY3Rpb24gKCkge1xuICAgIHZhciBleHRlbmRTdGF0aWNzID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8XG4gICAgICAgICh7IF9fcHJvdG9fXzogW10gfSBpbnN0YW5jZW9mIEFycmF5ICYmIGZ1bmN0aW9uIChkLCBiKSB7IGQuX19wcm90b19fID0gYjsgfSkgfHxcbiAgICAgICAgZnVuY3Rpb24gKGQsIGIpIHsgZm9yICh2YXIgcCBpbiBiKSBpZiAoYi5oYXNPd25Qcm9wZXJ0eShwKSkgZFtwXSA9IGJbcF07IH07XG4gICAgcmV0dXJuIGZ1bmN0aW9uIChkLCBiKSB7XG4gICAgICAgIGV4dGVuZFN0YXRpY3MoZCwgYik7XG4gICAgICAgIGZ1bmN0aW9uIF9fKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gZDsgfVxuICAgICAgICBkLnByb3RvdHlwZSA9IGIgPT09IG51bGwgPyBPYmplY3QuY3JlYXRlKGIpIDogKF9fLnByb3RvdHlwZSA9IGIucHJvdG90eXBlLCBuZXcgX18oKSk7XG4gICAgfTtcbn0pKCk7XG4vKipcbiAqIEBpbnRlcm5hbGFwaVxuICogQG1vZHVsZSB2YW5pbGxhXG4gKi9cbi8qKiAqL1xuLyoqIEEgYExvY2F0aW9uU2VydmljZXNgIHRoYXQgZ2V0cy9zZXRzIHRoZSBjdXJyZW50IGxvY2F0aW9uIGZyb20gYW4gaW4tbWVtb3J5IG9iamVjdCAqL1xudmFyIE1lbW9yeUxvY2F0aW9uU2VydmljZSA9IChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgX19leHRlbmRzJDEoTWVtb3J5TG9jYXRpb25TZXJ2aWNlLCBfc3VwZXIpO1xuICAgIGZ1bmN0aW9uIE1lbW9yeUxvY2F0aW9uU2VydmljZShyb3V0ZXIpIHtcbiAgICAgICAgcmV0dXJuIF9zdXBlci5jYWxsKHRoaXMsIHJvdXRlciwgdHJ1ZSkgfHwgdGhpcztcbiAgICB9XG4gICAgTWVtb3J5TG9jYXRpb25TZXJ2aWNlLnByb3RvdHlwZS5fZ2V0ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fdXJsO1xuICAgIH07XG4gICAgTWVtb3J5TG9jYXRpb25TZXJ2aWNlLnByb3RvdHlwZS5fc2V0ID0gZnVuY3Rpb24gKHN0YXRlLCB0aXRsZSwgdXJsLCByZXBsYWNlKSB7XG4gICAgICAgIHRoaXMuX3VybCA9IHVybDtcbiAgICB9O1xuICAgIHJldHVybiBNZW1vcnlMb2NhdGlvblNlcnZpY2U7XG59KEJhc2VMb2NhdGlvblNlcnZpY2VzKSk7XG5cbnZhciBfX2V4dGVuZHMkMiA9ICh1bmRlZmluZWQgJiYgdW5kZWZpbmVkLl9fZXh0ZW5kcykgfHwgKGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgZXh0ZW5kU3RhdGljcyA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fFxuICAgICAgICAoeyBfX3Byb3RvX186IFtdIH0gaW5zdGFuY2VvZiBBcnJheSAmJiBmdW5jdGlvbiAoZCwgYikgeyBkLl9fcHJvdG9fXyA9IGI7IH0pIHx8XG4gICAgICAgIGZ1bmN0aW9uIChkLCBiKSB7IGZvciAodmFyIHAgaW4gYikgaWYgKGIuaGFzT3duUHJvcGVydHkocCkpIGRbcF0gPSBiW3BdOyB9O1xuICAgIHJldHVybiBmdW5jdGlvbiAoZCwgYikge1xuICAgICAgICBleHRlbmRTdGF0aWNzKGQsIGIpO1xuICAgICAgICBmdW5jdGlvbiBfXygpIHsgdGhpcy5jb25zdHJ1Y3RvciA9IGQ7IH1cbiAgICAgICAgZC5wcm90b3R5cGUgPSBiID09PSBudWxsID8gT2JqZWN0LmNyZWF0ZShiKSA6IChfXy5wcm90b3R5cGUgPSBiLnByb3RvdHlwZSwgbmV3IF9fKCkpO1xuICAgIH07XG59KSgpO1xuLyoqXG4gKiBBIGBMb2NhdGlvblNlcnZpY2VzYCB0aGF0IGdldHMvc2V0cyB0aGUgY3VycmVudCBsb2NhdGlvbiB1c2luZyB0aGUgYnJvd3NlcidzIGBsb2NhdGlvbmAgYW5kIGBoaXN0b3J5YCBhcGlzXG4gKlxuICogVXNlcyBgaGlzdG9yeS5wdXNoU3RhdGVgIGFuZCBgaGlzdG9yeS5yZXBsYWNlU3RhdGVgXG4gKi9cbnZhciBQdXNoU3RhdGVMb2NhdGlvblNlcnZpY2UgPSAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIF9fZXh0ZW5kcyQyKFB1c2hTdGF0ZUxvY2F0aW9uU2VydmljZSwgX3N1cGVyKTtcbiAgICBmdW5jdGlvbiBQdXNoU3RhdGVMb2NhdGlvblNlcnZpY2Uocm91dGVyKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMsIHJvdXRlciwgdHJ1ZSkgfHwgdGhpcztcbiAgICAgICAgX3RoaXMuX2NvbmZpZyA9IHJvdXRlci51cmxTZXJ2aWNlLmNvbmZpZztcbiAgICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJwb3BzdGF0ZVwiLCBfdGhpcy5fbGlzdGVuZXIsIGZhbHNlKTtcbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cbiAgICBcbiAgICBQdXNoU3RhdGVMb2NhdGlvblNlcnZpY2UucHJvdG90eXBlLl9nZXQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBfYSA9IHRoaXMuX2xvY2F0aW9uLCBwYXRobmFtZSA9IF9hLnBhdGhuYW1lLCBoYXNoID0gX2EuaGFzaCwgc2VhcmNoID0gX2Euc2VhcmNoO1xuICAgICAgICBzZWFyY2ggPSBzcGxpdFF1ZXJ5KHNlYXJjaClbMV07IC8vIHN0cmlwID8gaWYgZm91bmRcbiAgICAgICAgaGFzaCA9IHNwbGl0SGFzaChoYXNoKVsxXTsgLy8gc3RyaXAgIyBpZiBmb3VuZFxuICAgICAgICByZXR1cm4gcGF0aG5hbWUgKyAoc2VhcmNoID8gXCI/XCIgKyBzZWFyY2ggOiBcIlwiKSArIChoYXNoID8gXCIkXCIgKyBzZWFyY2ggOiBcIlwiKTtcbiAgICB9O1xuICAgIFB1c2hTdGF0ZUxvY2F0aW9uU2VydmljZS5wcm90b3R5cGUuX3NldCA9IGZ1bmN0aW9uIChzdGF0ZSwgdGl0bGUsIHVybCwgcmVwbGFjZSkge1xuICAgICAgICB2YXIgX2EgPSB0aGlzLCBfY29uZmlnID0gX2EuX2NvbmZpZywgX2hpc3RvcnkgPSBfYS5faGlzdG9yeTtcbiAgICAgICAgdmFyIGZ1bGxVcmwgPSBfY29uZmlnLmJhc2VIcmVmKCkgKyB1cmw7XG4gICAgICAgIGlmIChyZXBsYWNlKSB7XG4gICAgICAgICAgICBfaGlzdG9yeS5yZXBsYWNlU3RhdGUoc3RhdGUsIHRpdGxlLCBmdWxsVXJsKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIF9oaXN0b3J5LnB1c2hTdGF0ZShzdGF0ZSwgdGl0bGUsIGZ1bGxVcmwpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBQdXNoU3RhdGVMb2NhdGlvblNlcnZpY2UucHJvdG90eXBlLmRpc3Bvc2UgPSBmdW5jdGlvbiAocm91dGVyKSB7XG4gICAgICAgIF9zdXBlci5wcm90b3R5cGUuZGlzcG9zZS5jYWxsKHRoaXMsIHJvdXRlcik7XG4gICAgICAgIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKFwicG9wc3RhdGVcIiwgdGhpcy5fbGlzdGVuZXIpO1xuICAgIH07XG4gICAgcmV0dXJuIFB1c2hTdGF0ZUxvY2F0aW9uU2VydmljZTtcbn0oQmFzZUxvY2F0aW9uU2VydmljZXMpKTtcblxuLyoqIEEgYExvY2F0aW9uQ29uZmlnYCBtb2NrIHRoYXQgZ2V0cy9zZXRzIGFsbCBjb25maWcgZnJvbSBhbiBpbi1tZW1vcnkgb2JqZWN0ICovXG52YXIgTWVtb3J5TG9jYXRpb25Db25maWcgPSAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIE1lbW9yeUxvY2F0aW9uQ29uZmlnKCkge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICB0aGlzLl9iYXNlSHJlZiA9ICcnO1xuICAgICAgICB0aGlzLl9wb3J0ID0gODA7XG4gICAgICAgIHRoaXMuX3Byb3RvY29sID0gXCJodHRwXCI7XG4gICAgICAgIHRoaXMuX2hvc3QgPSBcImxvY2FsaG9zdFwiO1xuICAgICAgICB0aGlzLl9oYXNoUHJlZml4ID0gXCJcIjtcbiAgICAgICAgdGhpcy5wb3J0ID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gX3RoaXMuX3BvcnQ7IH07XG4gICAgICAgIHRoaXMucHJvdG9jb2wgPSBmdW5jdGlvbiAoKSB7IHJldHVybiBfdGhpcy5fcHJvdG9jb2w7IH07XG4gICAgICAgIHRoaXMuaG9zdCA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuIF90aGlzLl9ob3N0OyB9O1xuICAgICAgICB0aGlzLmJhc2VIcmVmID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gX3RoaXMuX2Jhc2VIcmVmOyB9O1xuICAgICAgICB0aGlzLmh0bWw1TW9kZSA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuIGZhbHNlOyB9O1xuICAgICAgICB0aGlzLmhhc2hQcmVmaXggPSBmdW5jdGlvbiAobmV3dmFsKSB7IHJldHVybiBpc0RlZmluZWQobmV3dmFsKSA/IF90aGlzLl9oYXNoUHJlZml4ID0gbmV3dmFsIDogX3RoaXMuX2hhc2hQcmVmaXg7IH07XG4gICAgICAgIHRoaXMuZGlzcG9zZSA9IG5vb3AkMTtcbiAgICB9XG4gICAgcmV0dXJuIE1lbW9yeUxvY2F0aW9uQ29uZmlnO1xufSgpKTtcblxuLyoqXG4gKiBAaW50ZXJuYWxhcGlcbiAqIEBtb2R1bGUgdmFuaWxsYVxuICovXG4vKiogKi9cbi8qKiBBIGBMb2NhdGlvbkNvbmZpZ2AgdGhhdCBkZWxlZ2F0ZXMgdG8gdGhlIGJyb3dzZXIncyBgbG9jYXRpb25gIG9iamVjdCAqL1xudmFyIEJyb3dzZXJMb2NhdGlvbkNvbmZpZyA9IChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gQnJvd3NlckxvY2F0aW9uQ29uZmlnKHJvdXRlciwgX2lzSHRtbDUpIHtcbiAgICAgICAgaWYgKF9pc0h0bWw1ID09PSB2b2lkIDApIHsgX2lzSHRtbDUgPSBmYWxzZTsgfVxuICAgICAgICB0aGlzLl9pc0h0bWw1ID0gX2lzSHRtbDU7XG4gICAgICAgIHRoaXMuX2Jhc2VIcmVmID0gdW5kZWZpbmVkO1xuICAgICAgICB0aGlzLl9oYXNoUHJlZml4ID0gXCJcIjtcbiAgICB9XG4gICAgQnJvd3NlckxvY2F0aW9uQ29uZmlnLnByb3RvdHlwZS5wb3J0ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAobG9jYXRpb24ucG9ydCkge1xuICAgICAgICAgICAgcmV0dXJuIE51bWJlcihsb2NhdGlvbi5wb3J0KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcy5wcm90b2NvbCgpID09PSAnaHR0cHMnID8gNDQzIDogODA7XG4gICAgfTtcbiAgICBCcm93c2VyTG9jYXRpb25Db25maWcucHJvdG90eXBlLnByb3RvY29sID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gbG9jYXRpb24ucHJvdG9jb2wucmVwbGFjZSgvOi9nLCAnJyk7XG4gICAgfTtcbiAgICBCcm93c2VyTG9jYXRpb25Db25maWcucHJvdG90eXBlLmhvc3QgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiBsb2NhdGlvbi5ob3N0O1xuICAgIH07XG4gICAgQnJvd3NlckxvY2F0aW9uQ29uZmlnLnByb3RvdHlwZS5odG1sNU1vZGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9pc0h0bWw1O1xuICAgIH07XG4gICAgQnJvd3NlckxvY2F0aW9uQ29uZmlnLnByb3RvdHlwZS5oYXNoUHJlZml4ID0gZnVuY3Rpb24gKG5ld3ByZWZpeCkge1xuICAgICAgICByZXR1cm4gaXNEZWZpbmVkKG5ld3ByZWZpeCkgPyB0aGlzLl9oYXNoUHJlZml4ID0gbmV3cHJlZml4IDogdGhpcy5faGFzaFByZWZpeDtcbiAgICB9O1xuICAgIFxuICAgIEJyb3dzZXJMb2NhdGlvbkNvbmZpZy5wcm90b3R5cGUuYmFzZUhyZWYgPSBmdW5jdGlvbiAoaHJlZikge1xuICAgICAgICByZXR1cm4gaXNEZWZpbmVkKGhyZWYpID8gdGhpcy5fYmFzZUhyZWYgPSBocmVmIDogdGhpcy5fYmFzZUhyZWYgfHwgdGhpcy5hcHBseURvY3VtZW50QmFzZUhyZWYoKTtcbiAgICB9O1xuICAgIEJyb3dzZXJMb2NhdGlvbkNvbmZpZy5wcm90b3R5cGUuYXBwbHlEb2N1bWVudEJhc2VIcmVmID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgYmFzZVRhZ3MgPSBkb2N1bWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZShcImJhc2VcIik7XG4gICAgICAgIHJldHVybiB0aGlzLl9iYXNlSHJlZiA9IGJhc2VUYWdzLmxlbmd0aCA/IGJhc2VUYWdzWzBdLmhyZWYuc3Vic3RyKGxvY2F0aW9uLm9yaWdpbi5sZW5ndGgpIDogXCJcIjtcbiAgICB9O1xuICAgIEJyb3dzZXJMb2NhdGlvbkNvbmZpZy5wcm90b3R5cGUuZGlzcG9zZSA9IGZ1bmN0aW9uICgpIHsgfTtcbiAgICByZXR1cm4gQnJvd3NlckxvY2F0aW9uQ29uZmlnO1xufSgpKTtcblxuLyoqXG4gKiBAaW50ZXJuYWxhcGlcbiAqIEBtb2R1bGUgdmFuaWxsYVxuICovXG4vKiogKi9cbmZ1bmN0aW9uIHNlcnZpY2VzUGx1Z2luKHJvdXRlcikge1xuICAgIHNlcnZpY2VzLiRpbmplY3RvciA9ICRpbmplY3RvcjtcbiAgICBzZXJ2aWNlcy4kcSA9ICRxO1xuICAgIHJldHVybiB7IG5hbWU6IFwidmFuaWxsYS5zZXJ2aWNlc1wiLCAkcTogJHEsICRpbmplY3RvcjogJGluamVjdG9yLCBkaXNwb3NlOiBmdW5jdGlvbiAoKSB7IHJldHVybiBudWxsOyB9IH07XG59XG4vKiogQSBgVUlSb3V0ZXJQbHVnaW5gIHVzZXMgdGhlIGJyb3dzZXIgaGFzaCB0byBnZXQvc2V0IHRoZSBjdXJyZW50IGxvY2F0aW9uICovXG52YXIgaGFzaExvY2F0aW9uUGx1Z2luID0gbG9jYXRpb25QbHVnaW5GYWN0b3J5KCd2YW5pbGxhLmhhc2hCYW5nTG9jYXRpb24nLCBmYWxzZSwgSGFzaExvY2F0aW9uU2VydmljZSwgQnJvd3NlckxvY2F0aW9uQ29uZmlnKTtcbi8qKiBBIGBVSVJvdXRlclBsdWdpbmAgdGhhdCBnZXRzL3NldHMgdGhlIGN1cnJlbnQgbG9jYXRpb24gdXNpbmcgdGhlIGJyb3dzZXIncyBgbG9jYXRpb25gIGFuZCBgaGlzdG9yeWAgYXBpcyAqL1xudmFyIHB1c2hTdGF0ZUxvY2F0aW9uUGx1Z2luID0gbG9jYXRpb25QbHVnaW5GYWN0b3J5KFwidmFuaWxsYS5wdXNoU3RhdGVMb2NhdGlvblwiLCB0cnVlLCBQdXNoU3RhdGVMb2NhdGlvblNlcnZpY2UsIEJyb3dzZXJMb2NhdGlvbkNvbmZpZyk7XG4vKiogQSBgVUlSb3V0ZXJQbHVnaW5gIHRoYXQgZ2V0cy9zZXRzIHRoZSBjdXJyZW50IGxvY2F0aW9uIGZyb20gYW4gaW4tbWVtb3J5IG9iamVjdCAqL1xudmFyIG1lbW9yeUxvY2F0aW9uUGx1Z2luID0gbG9jYXRpb25QbHVnaW5GYWN0b3J5KFwidmFuaWxsYS5tZW1vcnlMb2NhdGlvblwiLCBmYWxzZSwgTWVtb3J5TG9jYXRpb25TZXJ2aWNlLCBNZW1vcnlMb2NhdGlvbkNvbmZpZyk7XG5cbi8qKlxuICogQGludGVybmFsYXBpXG4gKiBAbW9kdWxlIHZhbmlsbGFcbiAqL1xuLyoqICovXG5cbi8qKlxuICogIyBDb3JlIGNsYXNzZXMgYW5kIGludGVyZmFjZXNcbiAqXG4gKiBUaGUgY2xhc3NlcyBhbmQgaW50ZXJmYWNlcyB0aGF0IGFyZSBjb3JlIHRvIHVpLXJvdXRlciBhbmQgZG8gbm90IGJlbG9uZ1xuICogdG8gYSBtb3JlIHNwZWNpZmljIHN1YnN5c3RlbSAoc3VjaCBhcyByZXNvbHZlKS5cbiAqXG4gKiBAY29yZWFwaVxuICogQHByZWZlcnJlZFxuICogQG1vZHVsZSBjb3JlXG4gKi8gLyoqIGZvciB0eXBlZG9jICovXG4vKiogQGludGVybmFsYXBpICovXG52YXIgVUlSb3V0ZXJQbHVnaW5CYXNlID0gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBVSVJvdXRlclBsdWdpbkJhc2UoKSB7XG4gICAgfVxuICAgIFVJUm91dGVyUGx1Z2luQmFzZS5wcm90b3R5cGUuZGlzcG9zZSA9IGZ1bmN0aW9uIChyb3V0ZXIpIHsgfTtcbiAgICByZXR1cm4gVUlSb3V0ZXJQbHVnaW5CYXNlO1xufSgpKTtcblxuLyoqXG4gKiBAY29yZWFwaVxuICogQG1vZHVsZSBjb21tb25cbiAqLyAvKiogKi9cblxuXG5cbnZhciBpbmRleCQxID0gT2JqZWN0LmZyZWV6ZSh7XG5cdGZyb21Kc29uOiBmcm9tSnNvbixcblx0dG9Kc29uOiB0b0pzb24sXG5cdGNvcHk6IGNvcHksXG5cdGZvckVhY2g6IGZvckVhY2gsXG5cdGV4dGVuZDogZXh0ZW5kLFxuXHRlcXVhbHM6IGVxdWFscyxcblx0aWRlbnRpdHk6IGlkZW50aXR5LFxuXHRub29wOiBub29wJDEsXG5cdGNyZWF0ZVByb3h5RnVuY3Rpb25zOiBjcmVhdGVQcm94eUZ1bmN0aW9ucyxcblx0aW5oZXJpdDogaW5oZXJpdCxcblx0aW5BcnJheTogaW5BcnJheSxcblx0X2luQXJyYXk6IF9pbkFycmF5LFxuXHRyZW1vdmVGcm9tOiByZW1vdmVGcm9tLFxuXHRfcmVtb3ZlRnJvbTogX3JlbW92ZUZyb20sXG5cdHB1c2hUbzogcHVzaFRvLFxuXHRfcHVzaFRvOiBfcHVzaFRvLFxuXHRkZXJlZ0FsbDogZGVyZWdBbGwsXG5cdGRlZmF1bHRzOiBkZWZhdWx0cyxcblx0bWVyZ2VSOiBtZXJnZVIsXG5cdGFuY2VzdG9yczogYW5jZXN0b3JzLFxuXHRwaWNrOiBwaWNrLFxuXHRvbWl0OiBvbWl0LFxuXHRwbHVjazogcGx1Y2ssXG5cdGZpbHRlcjogZmlsdGVyLFxuXHRmaW5kOiBmaW5kLFxuXHRtYXBPYmo6IG1hcE9iaixcblx0bWFwOiBtYXAsXG5cdHZhbHVlczogdmFsdWVzLFxuXHRhbGxUcnVlUjogYWxsVHJ1ZVIsXG5cdGFueVRydWVSOiBhbnlUcnVlUixcblx0dW5uZXN0UjogdW5uZXN0Uixcblx0ZmxhdHRlblI6IGZsYXR0ZW5SLFxuXHRwdXNoUjogcHVzaFIsXG5cdHVuaXFSOiB1bmlxUixcblx0dW5uZXN0OiB1bm5lc3QsXG5cdGZsYXR0ZW46IGZsYXR0ZW4sXG5cdGFzc2VydFByZWRpY2F0ZTogYXNzZXJ0UHJlZGljYXRlLFxuXHRhc3NlcnRNYXA6IGFzc2VydE1hcCxcblx0YXNzZXJ0Rm46IGFzc2VydEZuLFxuXHRwYWlyczogcGFpcnMsXG5cdGFycmF5VHVwbGVzOiBhcnJheVR1cGxlcyxcblx0YXBwbHlQYWlyczogYXBwbHlQYWlycyxcblx0dGFpbDogdGFpbCxcblx0X2V4dGVuZDogX2V4dGVuZCxcblx0c29ydEJ5OiBzb3J0QnksXG5cdGNvbXBvc2VTb3J0OiBjb21wb3NlU29ydCxcblx0c2lsZW5jZVVuY2F1Z2h0SW5Qcm9taXNlOiBzaWxlbmNlVW5jYXVnaHRJblByb21pc2UsXG5cdHNpbGVudFJlamVjdGlvbjogc2lsZW50UmVqZWN0aW9uLFxuXHRub3RJbXBsZW1lbnRlZDogbm90SW1wbGVtZW50ZWQsXG5cdHNlcnZpY2VzOiBzZXJ2aWNlcyxcblx0R2xvYjogR2xvYixcblx0Y3Vycnk6IGN1cnJ5LFxuXHRjb21wb3NlOiBjb21wb3NlLFxuXHRwaXBlOiBwaXBlLFxuXHRwcm9wOiBwcm9wLFxuXHRwcm9wRXE6IHByb3BFcSxcblx0cGFyc2U6IHBhcnNlLFxuXHRub3Q6IG5vdCxcblx0YW5kOiBhbmQsXG5cdG9yOiBvcixcblx0YWxsOiBhbGwsXG5cdGFueTogYW55LFxuXHRpczogaXMsXG5cdGVxOiBlcSxcblx0dmFsOiB2YWwsXG5cdGludm9rZTogaW52b2tlLFxuXHRwYXR0ZXJuOiBwYXR0ZXJuLFxuXHRpc1VuZGVmaW5lZDogaXNVbmRlZmluZWQsXG5cdGlzRGVmaW5lZDogaXNEZWZpbmVkLFxuXHRpc051bGw6IGlzTnVsbCxcblx0aXNOdWxsT3JVbmRlZmluZWQ6IGlzTnVsbE9yVW5kZWZpbmVkLFxuXHRpc0Z1bmN0aW9uOiBpc0Z1bmN0aW9uLFxuXHRpc051bWJlcjogaXNOdW1iZXIsXG5cdGlzU3RyaW5nOiBpc1N0cmluZyxcblx0aXNPYmplY3Q6IGlzT2JqZWN0LFxuXHRpc0FycmF5OiBpc0FycmF5LFxuXHRpc0RhdGU6IGlzRGF0ZSxcblx0aXNSZWdFeHA6IGlzUmVnRXhwLFxuXHRpc1N0YXRlOiBpc1N0YXRlLFxuXHRpc0luamVjdGFibGU6IGlzSW5qZWN0YWJsZSxcblx0aXNQcm9taXNlOiBpc1Byb21pc2UsXG5cdFF1ZXVlOiBRdWV1ZSxcblx0bWF4TGVuZ3RoOiBtYXhMZW5ndGgsXG5cdHBhZFN0cmluZzogcGFkU3RyaW5nLFxuXHRrZWJvYlN0cmluZzoga2Vib2JTdHJpbmcsXG5cdGZ1bmN0aW9uVG9TdHJpbmc6IGZ1bmN0aW9uVG9TdHJpbmcsXG5cdGZuVG9TdHJpbmc6IGZuVG9TdHJpbmcsXG5cdHN0cmluZ2lmeTogc3RyaW5naWZ5LFxuXHRiZWZvcmVBZnRlclN1YnN0cjogYmVmb3JlQWZ0ZXJTdWJzdHIsXG5cdHNwbGl0T25EZWxpbTogc3BsaXRPbkRlbGltLFxuXHRqb2luTmVpZ2hib3JzUjogam9pbk5laWdoYm9yc1IsXG5cdGdldCBDYXRlZ29yeSAoKSB7IHJldHVybiBleHBvcnRzLkNhdGVnb3J5OyB9LFxuXHRUcmFjZTogVHJhY2UsXG5cdHRyYWNlOiB0cmFjZSxcblx0Z2V0IERlZlR5cGUgKCkgeyByZXR1cm4gZXhwb3J0cy5EZWZUeXBlOyB9LFxuXHRQYXJhbTogUGFyYW0sXG5cdFBhcmFtVHlwZXM6IFBhcmFtVHlwZXMsXG5cdFN0YXRlUGFyYW1zOiBTdGF0ZVBhcmFtcyxcblx0UGFyYW1UeXBlOiBQYXJhbVR5cGUsXG5cdFBhdGhOb2RlOiBQYXRoTm9kZSxcblx0UGF0aFV0aWxzOiBQYXRoVXRpbHMsXG5cdHJlc29sdmVQb2xpY2llczogcmVzb2x2ZVBvbGljaWVzLFxuXHRkZWZhdWx0UmVzb2x2ZVBvbGljeTogZGVmYXVsdFJlc29sdmVQb2xpY3ksXG5cdFJlc29sdmFibGU6IFJlc29sdmFibGUsXG5cdE5BVElWRV9JTkpFQ1RPUl9UT0tFTjogTkFUSVZFX0lOSkVDVE9SX1RPS0VOLFxuXHRSZXNvbHZlQ29udGV4dDogUmVzb2x2ZUNvbnRleHQsXG5cdHJlc29sdmFibGVzQnVpbGRlcjogcmVzb2x2YWJsZXNCdWlsZGVyLFxuXHRTdGF0ZUJ1aWxkZXI6IFN0YXRlQnVpbGRlcixcblx0U3RhdGVPYmplY3Q6IFN0YXRlT2JqZWN0LFxuXHRTdGF0ZU1hdGNoZXI6IFN0YXRlTWF0Y2hlcixcblx0U3RhdGVRdWV1ZU1hbmFnZXI6IFN0YXRlUXVldWVNYW5hZ2VyLFxuXHRTdGF0ZVJlZ2lzdHJ5OiBTdGF0ZVJlZ2lzdHJ5LFxuXHRTdGF0ZVNlcnZpY2U6IFN0YXRlU2VydmljZSxcblx0VGFyZ2V0U3RhdGU6IFRhcmdldFN0YXRlLFxuXHRnZXQgVHJhbnNpdGlvbkhvb2tQaGFzZSAoKSB7IHJldHVybiBleHBvcnRzLlRyYW5zaXRpb25Ib29rUGhhc2U7IH0sXG5cdGdldCBUcmFuc2l0aW9uSG9va1Njb3BlICgpIHsgcmV0dXJuIGV4cG9ydHMuVHJhbnNpdGlvbkhvb2tTY29wZTsgfSxcblx0SG9va0J1aWxkZXI6IEhvb2tCdWlsZGVyLFxuXHRtYXRjaFN0YXRlOiBtYXRjaFN0YXRlLFxuXHRSZWdpc3RlcmVkSG9vazogUmVnaXN0ZXJlZEhvb2ssXG5cdG1ha2VFdmVudDogbWFrZUV2ZW50LFxuXHRnZXQgUmVqZWN0VHlwZSAoKSB7IHJldHVybiBleHBvcnRzLlJlamVjdFR5cGU7IH0sXG5cdFJlamVjdGlvbjogUmVqZWN0aW9uLFxuXHRUcmFuc2l0aW9uOiBUcmFuc2l0aW9uLFxuXHRUcmFuc2l0aW9uSG9vazogVHJhbnNpdGlvbkhvb2ssXG5cdFRyYW5zaXRpb25FdmVudFR5cGU6IFRyYW5zaXRpb25FdmVudFR5cGUsXG5cdGRlZmF1bHRUcmFuc09wdHM6IGRlZmF1bHRUcmFuc09wdHMsXG5cdFRyYW5zaXRpb25TZXJ2aWNlOiBUcmFuc2l0aW9uU2VydmljZSxcblx0VXJsTWF0Y2hlcjogVXJsTWF0Y2hlcixcblx0VXJsTWF0Y2hlckZhY3Rvcnk6IFVybE1hdGNoZXJGYWN0b3J5LFxuXHRVcmxSb3V0ZXI6IFVybFJvdXRlcixcblx0VXJsUnVsZUZhY3Rvcnk6IFVybFJ1bGVGYWN0b3J5LFxuXHRCYXNlVXJsUnVsZTogQmFzZVVybFJ1bGUsXG5cdFVybFNlcnZpY2U6IFVybFNlcnZpY2UsXG5cdFZpZXdTZXJ2aWNlOiBWaWV3U2VydmljZSxcblx0VUlSb3V0ZXJHbG9iYWxzOiBVSVJvdXRlckdsb2JhbHMsXG5cdFVJUm91dGVyOiBVSVJvdXRlcixcblx0JHE6ICRxLFxuXHQkaW5qZWN0b3I6ICRpbmplY3Rvcixcblx0QmFzZUxvY2F0aW9uU2VydmljZXM6IEJhc2VMb2NhdGlvblNlcnZpY2VzLFxuXHRIYXNoTG9jYXRpb25TZXJ2aWNlOiBIYXNoTG9jYXRpb25TZXJ2aWNlLFxuXHRNZW1vcnlMb2NhdGlvblNlcnZpY2U6IE1lbW9yeUxvY2F0aW9uU2VydmljZSxcblx0UHVzaFN0YXRlTG9jYXRpb25TZXJ2aWNlOiBQdXNoU3RhdGVMb2NhdGlvblNlcnZpY2UsXG5cdE1lbW9yeUxvY2F0aW9uQ29uZmlnOiBNZW1vcnlMb2NhdGlvbkNvbmZpZyxcblx0QnJvd3NlckxvY2F0aW9uQ29uZmlnOiBCcm93c2VyTG9jYXRpb25Db25maWcsXG5cdHNwbGl0SGFzaDogc3BsaXRIYXNoLFxuXHRzcGxpdFF1ZXJ5OiBzcGxpdFF1ZXJ5LFxuXHRzcGxpdEVxdWFsOiBzcGxpdEVxdWFsLFxuXHR0cmltSGFzaFZhbDogdHJpbUhhc2hWYWwsXG5cdGtleVZhbHNUb09iamVjdFI6IGtleVZhbHNUb09iamVjdFIsXG5cdGdldFBhcmFtczogZ2V0UGFyYW1zLFxuXHRwYXJzZVVybDogcGFyc2VVcmwkMSxcblx0YnVpbGRVcmw6IGJ1aWxkVXJsLFxuXHRsb2NhdGlvblBsdWdpbkZhY3Rvcnk6IGxvY2F0aW9uUGx1Z2luRmFjdG9yeSxcblx0c2VydmljZXNQbHVnaW46IHNlcnZpY2VzUGx1Z2luLFxuXHRoYXNoTG9jYXRpb25QbHVnaW46IGhhc2hMb2NhdGlvblBsdWdpbixcblx0cHVzaFN0YXRlTG9jYXRpb25QbHVnaW46IHB1c2hTdGF0ZUxvY2F0aW9uUGx1Z2luLFxuXHRtZW1vcnlMb2NhdGlvblBsdWdpbjogbWVtb3J5TG9jYXRpb25QbHVnaW4sXG5cdFVJUm91dGVyUGx1Z2luQmFzZTogVUlSb3V0ZXJQbHVnaW5CYXNlXG59KTtcblxudmFyIG5nX2Zyb21fZ2xvYmFsID0gYW5ndWxhcjtcbnZhciBuZyA9IChuZ19mcm9tX2ltcG9ydCAmJiBuZ19mcm9tX2ltcG9ydC5tb2R1bGUpID8gbmdfZnJvbV9pbXBvcnQgOiBuZ19mcm9tX2dsb2JhbDtcblxuZnVuY3Rpb24gZ2V0TmcxVmlld0NvbmZpZ0ZhY3RvcnkoKSB7XG4gICAgdmFyIHRlbXBsYXRlRmFjdG9yeSA9IG51bGw7XG4gICAgcmV0dXJuIGZ1bmN0aW9uIChwYXRoLCB2aWV3KSB7XG4gICAgICAgIHRlbXBsYXRlRmFjdG9yeSA9IHRlbXBsYXRlRmFjdG9yeSB8fCBzZXJ2aWNlcy4kaW5qZWN0b3IuZ2V0KFwiJHRlbXBsYXRlRmFjdG9yeVwiKTtcbiAgICAgICAgcmV0dXJuIFtuZXcgTmcxVmlld0NvbmZpZyhwYXRoLCB2aWV3LCB0ZW1wbGF0ZUZhY3RvcnkpXTtcbiAgICB9O1xufVxudmFyIGhhc0FueUtleSA9IGZ1bmN0aW9uIChrZXlzLCBvYmopIHtcbiAgICByZXR1cm4ga2V5cy5yZWR1Y2UoZnVuY3Rpb24gKGFjYywga2V5KSB7IHJldHVybiBhY2MgfHwgaXNEZWZpbmVkKG9ialtrZXldKTsgfSwgZmFsc2UpO1xufTtcbi8qKlxuICogVGhpcyBpcyBhIFtbU3RhdGVCdWlsZGVyLmJ1aWxkZXJdXSBmdW5jdGlvbiBmb3IgYW5ndWxhcjEgYHZpZXdzYC5cbiAqXG4gKiBXaGVuIHRoZSBbW1N0YXRlQnVpbGRlcl1dIGJ1aWxkcyBhIFtbU3RhdGVPYmplY3RdXSBvYmplY3QgZnJvbSBhIHJhdyBbW1N0YXRlRGVjbGFyYXRpb25dXSwgdGhpcyBidWlsZGVyXG4gKiBoYW5kbGVzIHRoZSBgdmlld3NgIHByb3BlcnR5IHdpdGggbG9naWMgc3BlY2lmaWMgdG8gQHVpcm91dGVyL2FuZ3VsYXJqcyAobmcxKS5cbiAqXG4gKiBJZiBubyBgdmlld3M6IHt9YCBwcm9wZXJ0eSBleGlzdHMgb24gdGhlIFtbU3RhdGVEZWNsYXJhdGlvbl1dLCB0aGVuIGl0IGNyZWF0ZXMgdGhlIGB2aWV3c2Agb2JqZWN0XG4gKiBhbmQgYXBwbGllcyB0aGUgc3RhdGUtbGV2ZWwgY29uZmlndXJhdGlvbiB0byBhIHZpZXcgbmFtZWQgYCRkZWZhdWx0YC5cbiAqL1xuZnVuY3Rpb24gbmcxVmlld3NCdWlsZGVyKHN0YXRlKSB7XG4gICAgLy8gRG8gbm90IHByb2Nlc3Mgcm9vdCBzdGF0ZVxuICAgIGlmICghc3RhdGUucGFyZW50KVxuICAgICAgICByZXR1cm4ge307XG4gICAgdmFyIHRwbEtleXMgPSBbJ3RlbXBsYXRlUHJvdmlkZXInLCAndGVtcGxhdGVVcmwnLCAndGVtcGxhdGUnLCAnbm90aWZ5JywgJ2FzeW5jJ10sIGN0cmxLZXlzID0gWydjb250cm9sbGVyJywgJ2NvbnRyb2xsZXJQcm92aWRlcicsICdjb250cm9sbGVyQXMnLCAncmVzb2x2ZUFzJ10sIGNvbXBLZXlzID0gWydjb21wb25lbnQnLCAnYmluZGluZ3MnLCAnY29tcG9uZW50UHJvdmlkZXInXSwgbm9uQ29tcEtleXMgPSB0cGxLZXlzLmNvbmNhdChjdHJsS2V5cyksIGFsbFZpZXdLZXlzID0gY29tcEtleXMuY29uY2F0KG5vbkNvbXBLZXlzKTtcbiAgICAvLyBEbyBub3QgYWxsb3cgYSBzdGF0ZSB0byBoYXZlIGJvdGggc3RhdGUtbGV2ZWwgcHJvcHMgYW5kIGFsc28gYSBgdmlld3M6IHt9YCBwcm9wZXJ0eS5cbiAgICAvLyBBIHN0YXRlIHdpdGhvdXQgYSBgdmlld3M6IHt9YCBwcm9wZXJ0eSBjYW4gZGVjbGFyZSBwcm9wZXJ0aWVzIGZvciB0aGUgYCRkZWZhdWx0YCB2aWV3IGFzIHByb3BlcnRpZXMgb2YgdGhlIHN0YXRlLlxuICAgIC8vIEhvd2V2ZXIsIHRoZSBgJGRlZmF1bHRgIGFwcHJvYWNoIHNob3VsZCBub3QgYmUgbWl4ZWQgd2l0aCBhIHNlcGFyYXRlIGB2aWV3czogYCBibG9jay5cbiAgICBpZiAoaXNEZWZpbmVkKHN0YXRlLnZpZXdzKSAmJiBoYXNBbnlLZXkoYWxsVmlld0tleXMsIHN0YXRlKSkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJTdGF0ZSAnXCIgKyBzdGF0ZS5uYW1lICsgXCInIGhhcyBhICd2aWV3cycgb2JqZWN0LiBcIiArXG4gICAgICAgICAgICBcIkl0IGNhbm5vdCBhbHNvIGhhdmUgXFxcInZpZXcgcHJvcGVydGllc1xcXCIgYXQgdGhlIHN0YXRlIGxldmVsLiAgXCIgK1xuICAgICAgICAgICAgXCJNb3ZlIHRoZSBmb2xsb3dpbmcgcHJvcGVydGllcyBpbnRvIGEgdmlldyAoaW4gdGhlICd2aWV3cycgb2JqZWN0KTogXCIgK1xuICAgICAgICAgICAgKFwiIFwiICsgYWxsVmlld0tleXMuZmlsdGVyKGZ1bmN0aW9uIChrZXkpIHsgcmV0dXJuIGlzRGVmaW5lZChzdGF0ZVtrZXldKTsgfSkuam9pbihcIiwgXCIpKSk7XG4gICAgfVxuICAgIHZhciB2aWV3cyA9IHt9LCB2aWV3c09iamVjdCA9IHN0YXRlLnZpZXdzIHx8IHsgXCIkZGVmYXVsdFwiOiBwaWNrKHN0YXRlLCBhbGxWaWV3S2V5cykgfTtcbiAgICBmb3JFYWNoKHZpZXdzT2JqZWN0LCBmdW5jdGlvbiAoY29uZmlnLCBuYW1lKSB7XG4gICAgICAgIC8vIEFjY291bnQgZm9yIHZpZXdzOiB7IFwiXCI6IHsgdGVtcGxhdGUuLi4gfSB9XG4gICAgICAgIG5hbWUgPSBuYW1lIHx8IFwiJGRlZmF1bHRcIjtcbiAgICAgICAgLy8gQWNjb3VudCBmb3Igdmlld3M6IHsgaGVhZGVyOiBcImhlYWRlckNvbXBvbmVudFwiIH1cbiAgICAgICAgaWYgKGlzU3RyaW5nKGNvbmZpZykpXG4gICAgICAgICAgICBjb25maWcgPSB7IGNvbXBvbmVudDogY29uZmlnIH07XG4gICAgICAgIC8vIE1ha2UgYSBzaGFsbG93IGNvcHkgb2YgdGhlIGNvbmZpZyBvYmplY3RcbiAgICAgICAgY29uZmlnID0gZXh0ZW5kKHt9LCBjb25maWcpO1xuICAgICAgICAvLyBEbyBub3QgYWxsb3cgYSB2aWV3IHRvIG1peCBwcm9wcyBmb3IgY29tcG9uZW50LXN0eWxlIHZpZXcgd2l0aCBwcm9wcyBmb3IgdGVtcGxhdGUvY29udHJvbGxlci1zdHlsZSB2aWV3XG4gICAgICAgIGlmIChoYXNBbnlLZXkoY29tcEtleXMsIGNvbmZpZykgJiYgaGFzQW55S2V5KG5vbkNvbXBLZXlzLCBjb25maWcpKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJDYW5ub3QgY29tYmluZTogXCIgKyBjb21wS2V5cy5qb2luKFwifFwiKSArIFwiIHdpdGg6IFwiICsgbm9uQ29tcEtleXMuam9pbihcInxcIikgKyBcIiBpbiBzdGF0ZXZpZXc6ICdcIiArIG5hbWUgKyBcIkBcIiArIHN0YXRlLm5hbWUgKyBcIidcIik7XG4gICAgICAgIH1cbiAgICAgICAgY29uZmlnLnJlc29sdmVBcyA9IGNvbmZpZy5yZXNvbHZlQXMgfHwgJyRyZXNvbHZlJztcbiAgICAgICAgY29uZmlnLiR0eXBlID0gXCJuZzFcIjtcbiAgICAgICAgY29uZmlnLiRjb250ZXh0ID0gc3RhdGU7XG4gICAgICAgIGNvbmZpZy4kbmFtZSA9IG5hbWU7XG4gICAgICAgIHZhciBub3JtYWxpemVkID0gVmlld1NlcnZpY2Uubm9ybWFsaXplVUlWaWV3VGFyZ2V0KGNvbmZpZy4kY29udGV4dCwgY29uZmlnLiRuYW1lKTtcbiAgICAgICAgY29uZmlnLiR1aVZpZXdOYW1lID0gbm9ybWFsaXplZC51aVZpZXdOYW1lO1xuICAgICAgICBjb25maWcuJHVpVmlld0NvbnRleHRBbmNob3IgPSBub3JtYWxpemVkLnVpVmlld0NvbnRleHRBbmNob3I7XG4gICAgICAgIHZpZXdzW25hbWVdID0gY29uZmlnO1xuICAgIH0pO1xuICAgIHJldHVybiB2aWV3cztcbn1cbnZhciBpZCQxID0gMDtcbnZhciBOZzFWaWV3Q29uZmlnID0gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBOZzFWaWV3Q29uZmlnKHBhdGgsIHZpZXdEZWNsLCBmYWN0b3J5KSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIHRoaXMucGF0aCA9IHBhdGg7XG4gICAgICAgIHRoaXMudmlld0RlY2wgPSB2aWV3RGVjbDtcbiAgICAgICAgdGhpcy5mYWN0b3J5ID0gZmFjdG9yeTtcbiAgICAgICAgdGhpcy4kaWQgPSBpZCQxKys7XG4gICAgICAgIHRoaXMubG9hZGVkID0gZmFsc2U7XG4gICAgICAgIHRoaXMuZ2V0VGVtcGxhdGUgPSBmdW5jdGlvbiAodWlWaWV3LCBjb250ZXh0KSB7XG4gICAgICAgICAgICByZXR1cm4gX3RoaXMuY29tcG9uZW50ID8gX3RoaXMuZmFjdG9yeS5tYWtlQ29tcG9uZW50VGVtcGxhdGUodWlWaWV3LCBjb250ZXh0LCBfdGhpcy5jb21wb25lbnQsIF90aGlzLnZpZXdEZWNsLmJpbmRpbmdzKSA6IF90aGlzLnRlbXBsYXRlO1xuICAgICAgICB9O1xuICAgIH1cbiAgICBOZzFWaWV3Q29uZmlnLnByb3RvdHlwZS5sb2FkID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICB2YXIgJHEkJDEgPSBzZXJ2aWNlcy4kcTtcbiAgICAgICAgdmFyIGNvbnRleHQgPSBuZXcgUmVzb2x2ZUNvbnRleHQodGhpcy5wYXRoKTtcbiAgICAgICAgdmFyIHBhcmFtcyA9IHRoaXMucGF0aC5yZWR1Y2UoZnVuY3Rpb24gKGFjYywgbm9kZSkgeyByZXR1cm4gZXh0ZW5kKGFjYywgbm9kZS5wYXJhbVZhbHVlcyk7IH0sIHt9KTtcbiAgICAgICAgdmFyIHByb21pc2VzID0ge1xuICAgICAgICAgICAgdGVtcGxhdGU6ICRxJCQxLndoZW4odGhpcy5mYWN0b3J5LmZyb21Db25maWcodGhpcy52aWV3RGVjbCwgcGFyYW1zLCBjb250ZXh0KSksXG4gICAgICAgICAgICBjb250cm9sbGVyOiAkcSQkMS53aGVuKHRoaXMuZ2V0Q29udHJvbGxlcihjb250ZXh0KSlcbiAgICAgICAgfTtcbiAgICAgICAgcmV0dXJuICRxJCQxLmFsbChwcm9taXNlcykudGhlbihmdW5jdGlvbiAocmVzdWx0cykge1xuICAgICAgICAgICAgdHJhY2UudHJhY2VWaWV3U2VydmljZUV2ZW50KFwiTG9hZGVkXCIsIF90aGlzKTtcbiAgICAgICAgICAgIF90aGlzLmNvbnRyb2xsZXIgPSByZXN1bHRzLmNvbnRyb2xsZXI7XG4gICAgICAgICAgICBleHRlbmQoX3RoaXMsIHJlc3VsdHMudGVtcGxhdGUpOyAvLyBFaXRoZXIgeyB0ZW1wbGF0ZTogXCJ0cGxcIiB9IG9yIHsgY29tcG9uZW50OiBcImNtcE5hbWVcIiB9XG4gICAgICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgICAgIH0pO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogR2V0cyB0aGUgY29udHJvbGxlciBmb3IgYSB2aWV3IGNvbmZpZ3VyYXRpb24uXG4gICAgICpcbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb258UHJvbWlzZS48RnVuY3Rpb24+fSBSZXR1cm5zIGEgY29udHJvbGxlciwgb3IgYSBwcm9taXNlIHRoYXQgcmVzb2x2ZXMgdG8gYSBjb250cm9sbGVyLlxuICAgICAqL1xuICAgIE5nMVZpZXdDb25maWcucHJvdG90eXBlLmdldENvbnRyb2xsZXIgPSBmdW5jdGlvbiAoY29udGV4dCkge1xuICAgICAgICB2YXIgcHJvdmlkZXIgPSB0aGlzLnZpZXdEZWNsLmNvbnRyb2xsZXJQcm92aWRlcjtcbiAgICAgICAgaWYgKCFpc0luamVjdGFibGUocHJvdmlkZXIpKVxuICAgICAgICAgICAgcmV0dXJuIHRoaXMudmlld0RlY2wuY29udHJvbGxlcjtcbiAgICAgICAgdmFyIGRlcHMgPSBzZXJ2aWNlcy4kaW5qZWN0b3IuYW5ub3RhdGUocHJvdmlkZXIpO1xuICAgICAgICB2YXIgcHJvdmlkZXJGbiA9IGlzQXJyYXkocHJvdmlkZXIpID8gdGFpbChwcm92aWRlcikgOiBwcm92aWRlcjtcbiAgICAgICAgdmFyIHJlc29sdmFibGUgPSBuZXcgUmVzb2x2YWJsZShcIlwiLCBwcm92aWRlckZuLCBkZXBzKTtcbiAgICAgICAgcmV0dXJuIHJlc29sdmFibGUuZ2V0KGNvbnRleHQpO1xuICAgIH07XG4gICAgcmV0dXJuIE5nMVZpZXdDb25maWc7XG59KCkpO1xuXG4vKiogQG1vZHVsZSB2aWV3ICovXG4vKiogZm9yIHR5cGVkb2MgKi9cbi8qKlxuICogU2VydmljZSB3aGljaCBtYW5hZ2VzIGxvYWRpbmcgb2YgdGVtcGxhdGVzIGZyb20gYSBWaWV3Q29uZmlnLlxuICovXG52YXIgVGVtcGxhdGVGYWN0b3J5ID0gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBUZW1wbGF0ZUZhY3RvcnkoKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIC8qKiBAaGlkZGVuICovIHRoaXMuX3VzZUh0dHAgPSBuZy52ZXJzaW9uLm1pbm9yIDwgMztcbiAgICAgICAgLyoqIEBoaWRkZW4gKi8gdGhpcy4kZ2V0ID0gWyckaHR0cCcsICckdGVtcGxhdGVDYWNoZScsICckaW5qZWN0b3InLCBmdW5jdGlvbiAoJGh0dHAsICR0ZW1wbGF0ZUNhY2hlLCAkaW5qZWN0b3IkJDEpIHtcbiAgICAgICAgICAgICAgICBfdGhpcy4kdGVtcGxhdGVSZXF1ZXN0ID0gJGluamVjdG9yJCQxLmhhcyAmJiAkaW5qZWN0b3IkJDEuaGFzKCckdGVtcGxhdGVSZXF1ZXN0JykgJiYgJGluamVjdG9yJCQxLmdldCgnJHRlbXBsYXRlUmVxdWVzdCcpO1xuICAgICAgICAgICAgICAgIF90aGlzLiRodHRwID0gJGh0dHA7XG4gICAgICAgICAgICAgICAgX3RoaXMuJHRlbXBsYXRlQ2FjaGUgPSAkdGVtcGxhdGVDYWNoZTtcbiAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgICAgICAgICB9XTtcbiAgICB9XG4gICAgLyoqIEBoaWRkZW4gKi9cbiAgICBUZW1wbGF0ZUZhY3RvcnkucHJvdG90eXBlLnVzZUh0dHBTZXJ2aWNlID0gZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgIHRoaXMuX3VzZUh0dHAgPSB2YWx1ZTtcbiAgICB9O1xuICAgIFxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSB0ZW1wbGF0ZSBmcm9tIGEgY29uZmlndXJhdGlvbiBvYmplY3QuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gY29uZmlnIENvbmZpZ3VyYXRpb24gb2JqZWN0IGZvciB3aGljaCB0byBsb2FkIGEgdGVtcGxhdGUuXG4gICAgICogVGhlIGZvbGxvd2luZyBwcm9wZXJ0aWVzIGFyZSBzZWFyY2ggaW4gdGhlIHNwZWNpZmllZCBvcmRlciwgYW5kIHRoZSBmaXJzdCBvbmVcbiAgICAgKiB0aGF0IGlzIGRlZmluZWQgaXMgdXNlZCB0byBjcmVhdGUgdGhlIHRlbXBsYXRlOlxuICAgICAqXG4gICAgICogQHBhcmFtIHBhcmFtcyAgUGFyYW1ldGVycyB0byBwYXNzIHRvIHRoZSB0ZW1wbGF0ZSBmdW5jdGlvbi5cbiAgICAgKiBAcGFyYW0gY29udGV4dCBUaGUgcmVzb2x2ZSBjb250ZXh0IGFzc29jaWF0ZWQgd2l0aCB0aGUgdGVtcGxhdGUncyB2aWV3XG4gICAgICpcbiAgICAgKiBAcmV0dXJuIHtzdHJpbmd8b2JqZWN0fSAgVGhlIHRlbXBsYXRlIGh0bWwgYXMgYSBzdHJpbmcsIG9yIGEgcHJvbWlzZSBmb3JcbiAgICAgKiB0aGF0IHN0cmluZyxvciBgbnVsbGAgaWYgbm8gdGVtcGxhdGUgaXMgY29uZmlndXJlZC5cbiAgICAgKi9cbiAgICBUZW1wbGF0ZUZhY3RvcnkucHJvdG90eXBlLmZyb21Db25maWcgPSBmdW5jdGlvbiAoY29uZmlnLCBwYXJhbXMsIGNvbnRleHQpIHtcbiAgICAgICAgdmFyIGRlZmF1bHRUZW1wbGF0ZSA9IFwiPHVpLXZpZXc+PC91aS12aWV3PlwiO1xuICAgICAgICB2YXIgYXNUZW1wbGF0ZSA9IGZ1bmN0aW9uIChyZXN1bHQpIHsgcmV0dXJuIHNlcnZpY2VzLiRxLndoZW4ocmVzdWx0KS50aGVuKGZ1bmN0aW9uIChzdHIpIHsgcmV0dXJuICh7IHRlbXBsYXRlOiBzdHIgfSk7IH0pOyB9O1xuICAgICAgICB2YXIgYXNDb21wb25lbnQgPSBmdW5jdGlvbiAocmVzdWx0KSB7IHJldHVybiBzZXJ2aWNlcy4kcS53aGVuKHJlc3VsdCkudGhlbihmdW5jdGlvbiAoc3RyKSB7IHJldHVybiAoeyBjb21wb25lbnQ6IHN0ciB9KTsgfSk7IH07XG4gICAgICAgIHJldHVybiAoaXNEZWZpbmVkKGNvbmZpZy50ZW1wbGF0ZSkgPyBhc1RlbXBsYXRlKHRoaXMuZnJvbVN0cmluZyhjb25maWcudGVtcGxhdGUsIHBhcmFtcykpIDpcbiAgICAgICAgICAgIGlzRGVmaW5lZChjb25maWcudGVtcGxhdGVVcmwpID8gYXNUZW1wbGF0ZSh0aGlzLmZyb21VcmwoY29uZmlnLnRlbXBsYXRlVXJsLCBwYXJhbXMpKSA6XG4gICAgICAgICAgICAgICAgaXNEZWZpbmVkKGNvbmZpZy50ZW1wbGF0ZVByb3ZpZGVyKSA/IGFzVGVtcGxhdGUodGhpcy5mcm9tUHJvdmlkZXIoY29uZmlnLnRlbXBsYXRlUHJvdmlkZXIsIHBhcmFtcywgY29udGV4dCkpIDpcbiAgICAgICAgICAgICAgICAgICAgaXNEZWZpbmVkKGNvbmZpZy5jb21wb25lbnQpID8gYXNDb21wb25lbnQoY29uZmlnLmNvbXBvbmVudCkgOlxuICAgICAgICAgICAgICAgICAgICAgICAgaXNEZWZpbmVkKGNvbmZpZy5jb21wb25lbnRQcm92aWRlcikgPyBhc0NvbXBvbmVudCh0aGlzLmZyb21Db21wb25lbnRQcm92aWRlcihjb25maWcuY29tcG9uZW50UHJvdmlkZXIsIHBhcmFtcywgY29udGV4dCkpIDpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhc1RlbXBsYXRlKGRlZmF1bHRUZW1wbGF0ZSkpO1xuICAgIH07XG4gICAgXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIHRlbXBsYXRlIGZyb20gYSBzdHJpbmcgb3IgYSBmdW5jdGlvbiByZXR1cm5pbmcgYSBzdHJpbmcuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gdGVtcGxhdGUgaHRtbCB0ZW1wbGF0ZSBhcyBhIHN0cmluZyBvciBmdW5jdGlvbiB0aGF0IHJldHVybnMgYW4gaHRtbCB0ZW1wbGF0ZSBhcyBhIHN0cmluZy5cbiAgICAgKiBAcGFyYW0gcGFyYW1zIFBhcmFtZXRlcnMgdG8gcGFzcyB0byB0aGUgdGVtcGxhdGUgZnVuY3Rpb24uXG4gICAgICpcbiAgICAgKiBAcmV0dXJuIHtzdHJpbmd8b2JqZWN0fSBUaGUgdGVtcGxhdGUgaHRtbCBhcyBhIHN0cmluZywgb3IgYSBwcm9taXNlIGZvciB0aGF0XG4gICAgICogc3RyaW5nLlxuICAgICAqL1xuICAgIFRlbXBsYXRlRmFjdG9yeS5wcm90b3R5cGUuZnJvbVN0cmluZyA9IGZ1bmN0aW9uICh0ZW1wbGF0ZSwgcGFyYW1zKSB7XG4gICAgICAgIHJldHVybiBpc0Z1bmN0aW9uKHRlbXBsYXRlKSA/IHRlbXBsYXRlKHBhcmFtcykgOiB0ZW1wbGF0ZTtcbiAgICB9O1xuICAgIFxuICAgIC8qKlxuICAgICAqIExvYWRzIGEgdGVtcGxhdGUgZnJvbSB0aGUgYSBVUkwgdmlhIGAkaHR0cGAgYW5kIGAkdGVtcGxhdGVDYWNoZWAuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge3N0cmluZ3xGdW5jdGlvbn0gdXJsIHVybCBvZiB0aGUgdGVtcGxhdGUgdG8gbG9hZCwgb3IgYSBmdW5jdGlvblxuICAgICAqIHRoYXQgcmV0dXJucyBhIHVybC5cbiAgICAgKiBAcGFyYW0ge09iamVjdH0gcGFyYW1zIFBhcmFtZXRlcnMgdG8gcGFzcyB0byB0aGUgdXJsIGZ1bmN0aW9uLlxuICAgICAqIEByZXR1cm4ge3N0cmluZ3xQcm9taXNlLjxzdHJpbmc+fSBUaGUgdGVtcGxhdGUgaHRtbCBhcyBhIHN0cmluZywgb3IgYSBwcm9taXNlXG4gICAgICogZm9yIHRoYXQgc3RyaW5nLlxuICAgICAqL1xuICAgIFRlbXBsYXRlRmFjdG9yeS5wcm90b3R5cGUuZnJvbVVybCA9IGZ1bmN0aW9uICh1cmwsIHBhcmFtcykge1xuICAgICAgICBpZiAoaXNGdW5jdGlvbih1cmwpKVxuICAgICAgICAgICAgdXJsID0gdXJsKHBhcmFtcyk7XG4gICAgICAgIGlmICh1cmwgPT0gbnVsbClcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICBpZiAodGhpcy5fdXNlSHR0cCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuJGh0dHAuZ2V0KHVybCwgeyBjYWNoZTogdGhpcy4kdGVtcGxhdGVDYWNoZSwgaGVhZGVyczogeyBBY2NlcHQ6ICd0ZXh0L2h0bWwnIH0gfSlcbiAgICAgICAgICAgICAgICAudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gcmVzcG9uc2UuZGF0YTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLiR0ZW1wbGF0ZVJlcXVlc3QodXJsKTtcbiAgICB9O1xuICAgIFxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSB0ZW1wbGF0ZSBieSBpbnZva2luZyBhbiBpbmplY3RhYmxlIHByb3ZpZGVyIGZ1bmN0aW9uLlxuICAgICAqXG4gICAgICogQHBhcmFtIHByb3ZpZGVyIEZ1bmN0aW9uIHRvIGludm9rZSB2aWEgYGxvY2Fsc2BcbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBpbmplY3RGbiBhIGZ1bmN0aW9uIHVzZWQgdG8gaW52b2tlIHRoZSB0ZW1wbGF0ZSBwcm92aWRlclxuICAgICAqIEByZXR1cm4ge3N0cmluZ3xQcm9taXNlLjxzdHJpbmc+fSBUaGUgdGVtcGxhdGUgaHRtbCBhcyBhIHN0cmluZywgb3IgYSBwcm9taXNlXG4gICAgICogZm9yIHRoYXQgc3RyaW5nLlxuICAgICAqL1xuICAgIFRlbXBsYXRlRmFjdG9yeS5wcm90b3R5cGUuZnJvbVByb3ZpZGVyID0gZnVuY3Rpb24gKHByb3ZpZGVyLCBwYXJhbXMsIGNvbnRleHQpIHtcbiAgICAgICAgdmFyIGRlcHMgPSBzZXJ2aWNlcy4kaW5qZWN0b3IuYW5ub3RhdGUocHJvdmlkZXIpO1xuICAgICAgICB2YXIgcHJvdmlkZXJGbiA9IGlzQXJyYXkocHJvdmlkZXIpID8gdGFpbChwcm92aWRlcikgOiBwcm92aWRlcjtcbiAgICAgICAgdmFyIHJlc29sdmFibGUgPSBuZXcgUmVzb2x2YWJsZShcIlwiLCBwcm92aWRlckZuLCBkZXBzKTtcbiAgICAgICAgcmV0dXJuIHJlc29sdmFibGUuZ2V0KGNvbnRleHQpO1xuICAgIH07XG4gICAgXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGNvbXBvbmVudCdzIHRlbXBsYXRlIGJ5IGludm9raW5nIGFuIGluamVjdGFibGUgcHJvdmlkZXIgZnVuY3Rpb24uXG4gICAgICpcbiAgICAgKiBAcGFyYW0gcHJvdmlkZXIgRnVuY3Rpb24gdG8gaW52b2tlIHZpYSBgbG9jYWxzYFxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGluamVjdEZuIGEgZnVuY3Rpb24gdXNlZCB0byBpbnZva2UgdGhlIHRlbXBsYXRlIHByb3ZpZGVyXG4gICAgICogQHJldHVybiB7c3RyaW5nfSBUaGUgdGVtcGxhdGUgaHRtbCBhcyBhIHN0cmluZzogXCI8Y29tcG9uZW50LW5hbWUgaW5wdXQxPSc6OiRyZXNvbHZlLmZvbyc+PC9jb21wb25lbnQtbmFtZT5cIi5cbiAgICAgKi9cbiAgICBUZW1wbGF0ZUZhY3RvcnkucHJvdG90eXBlLmZyb21Db21wb25lbnRQcm92aWRlciA9IGZ1bmN0aW9uIChwcm92aWRlciwgcGFyYW1zLCBjb250ZXh0KSB7XG4gICAgICAgIHZhciBkZXBzID0gc2VydmljZXMuJGluamVjdG9yLmFubm90YXRlKHByb3ZpZGVyKTtcbiAgICAgICAgdmFyIHByb3ZpZGVyRm4gPSBpc0FycmF5KHByb3ZpZGVyKSA/IHRhaWwocHJvdmlkZXIpIDogcHJvdmlkZXI7XG4gICAgICAgIHZhciByZXNvbHZhYmxlID0gbmV3IFJlc29sdmFibGUoXCJcIiwgcHJvdmlkZXJGbiwgZGVwcyk7XG4gICAgICAgIHJldHVybiByZXNvbHZhYmxlLmdldChjb250ZXh0KTtcbiAgICB9O1xuICAgIFxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSB0ZW1wbGF0ZSBmcm9tIGEgY29tcG9uZW50J3MgbmFtZVxuICAgICAqXG4gICAgICogVGhpcyBpbXBsZW1lbnRzIHJvdXRlLXRvLWNvbXBvbmVudC5cbiAgICAgKiBJdCB3b3JrcyBieSByZXRyaWV2aW5nIHRoZSBjb21wb25lbnQgKGRpcmVjdGl2ZSkgbWV0YWRhdGEgZnJvbSB0aGUgaW5qZWN0b3IuXG4gICAgICogSXQgYW5hbHlzZXMgdGhlIGNvbXBvbmVudCdzIGJpbmRpbmdzLCB0aGVuIGNvbnN0cnVjdHMgYSB0ZW1wbGF0ZSB0aGF0IGluc3RhbnRpYXRlcyB0aGUgY29tcG9uZW50LlxuICAgICAqIFRoZSB0ZW1wbGF0ZSB3aXJlcyBpbnB1dCBhbmQgb3V0cHV0IGJpbmRpbmdzIHRvIHJlc29sdmVzIG9yIGZyb20gdGhlIHBhcmVudCBjb21wb25lbnQuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gdWlWaWV3IHtvYmplY3R9IFRoZSBwYXJlbnQgdWktdmlldyAoZm9yIGJpbmRpbmcgb3V0cHV0cyB0byBjYWxsYmFja3MpXG4gICAgICogQHBhcmFtIGNvbnRleHQgVGhlIFJlc29sdmVDb250ZXh0IChmb3IgYmluZGluZyBvdXRwdXRzIHRvIGNhbGxiYWNrcyByZXR1cm5lZCBmcm9tIHJlc29sdmVzKVxuICAgICAqIEBwYXJhbSBjb21wb25lbnQge3N0cmluZ30gQ29tcG9uZW50J3MgbmFtZSBpbiBjYW1lbCBjYXNlLlxuICAgICAqIEBwYXJhbSBiaW5kaW5ncyBBbiBvYmplY3QgZGVmaW5pbmcgdGhlIGNvbXBvbmVudCdzIGJpbmRpbmdzOiB7Zm9vOiAnPCd9XG4gICAgICogQHJldHVybiB7c3RyaW5nfSBUaGUgdGVtcGxhdGUgYXMgYSBzdHJpbmc6IFwiPGNvbXBvbmVudC1uYW1lIGlucHV0MT0nOjokcmVzb2x2ZS5mb28nPjwvY29tcG9uZW50LW5hbWU+XCIuXG4gICAgICovXG4gICAgVGVtcGxhdGVGYWN0b3J5LnByb3RvdHlwZS5tYWtlQ29tcG9uZW50VGVtcGxhdGUgPSBmdW5jdGlvbiAodWlWaWV3LCBjb250ZXh0LCBjb21wb25lbnQsIGJpbmRpbmdzKSB7XG4gICAgICAgIGJpbmRpbmdzID0gYmluZGluZ3MgfHwge307XG4gICAgICAgIC8vIEJpbmQgb25jZSBwcmVmaXhcbiAgICAgICAgdmFyIHByZWZpeCA9IG5nLnZlcnNpb24ubWlub3IgPj0gMyA/IFwiOjpcIiA6IFwiXCI7XG4gICAgICAgIC8vIENvbnZlcnQgdG8ga2Vib2IgbmFtZS4gQWRkIHgtIHByZWZpeCBpZiB0aGUgc3RyaW5nIHN0YXJ0cyB3aXRoIGB4LWAgb3IgYGRhdGEtYFxuICAgICAgICB2YXIga2Vib2IgPSBmdW5jdGlvbiAoY2FtZWxDYXNlKSB7XG4gICAgICAgICAgICB2YXIga2Vib2JlZCA9IGtlYm9iU3RyaW5nKGNhbWVsQ2FzZSk7XG4gICAgICAgICAgICByZXR1cm4gL14oeHxkYXRhKS0vLmV4ZWMoa2Vib2JlZCkgPyBcIngtXCIgKyBrZWJvYmVkIDoga2Vib2JlZDtcbiAgICAgICAgfTtcbiAgICAgICAgdmFyIGF0dHJpYnV0ZVRwbCA9IGZ1bmN0aW9uIChpbnB1dCkge1xuICAgICAgICAgICAgdmFyIG5hbWUgPSBpbnB1dC5uYW1lLCB0eXBlID0gaW5wdXQudHlwZTtcbiAgICAgICAgICAgIHZhciBhdHRyTmFtZSA9IGtlYm9iKG5hbWUpO1xuICAgICAgICAgICAgLy8gSWYgdGhlIHVpLXZpZXcgaGFzIGFuIGF0dHJpYnV0ZSB3aGljaCBtYXRjaGVzIGEgYmluZGluZyBvbiB0aGUgcm91dGVkIGNvbXBvbmVudFxuICAgICAgICAgICAgLy8gdGhlbiBwYXNzIHRoYXQgYXR0cmlidXRlIHRocm91Z2ggdG8gdGhlIHJvdXRlZCBjb21wb25lbnQgdGVtcGxhdGUuXG4gICAgICAgICAgICAvLyBQcmVmZXIgdWktdmlldyB3aXJlZCBtYXBwaW5ncyB0byByZXNvbHZlIGRhdGEsIHVubGVzcyB0aGUgcmVzb2x2ZSB3YXMgZXhwbGljaXRseSBib3VuZCB1c2luZyBgYmluZGluZ3M6YFxuICAgICAgICAgICAgaWYgKHVpVmlldy5hdHRyKGF0dHJOYW1lKSAmJiAhYmluZGluZ3NbbmFtZV0pXG4gICAgICAgICAgICAgICAgcmV0dXJuIGF0dHJOYW1lICsgXCI9J1wiICsgdWlWaWV3LmF0dHIoYXR0ck5hbWUpICsgXCInXCI7XG4gICAgICAgICAgICB2YXIgcmVzb2x2ZU5hbWUgPSBiaW5kaW5nc1tuYW1lXSB8fCBuYW1lO1xuICAgICAgICAgICAgLy8gUHJlLWV2YWx1YXRlIHRoZSBleHByZXNzaW9uIGZvciBcIkBcIiBiaW5kaW5ncyBieSBlbmNsb3NpbmcgaW4ge3sgfX1cbiAgICAgICAgICAgIC8vIHNvbWUtYXR0cj1cInt7IDo6JHJlc29sdmUuc29tZVJlc29sdmVOYW1lIH19XCJcbiAgICAgICAgICAgIGlmICh0eXBlID09PSAnQCcpXG4gICAgICAgICAgICAgICAgcmV0dXJuIGF0dHJOYW1lICsgXCI9J3t7XCIgKyBwcmVmaXggKyBcIiRyZXNvbHZlLlwiICsgcmVzb2x2ZU5hbWUgKyBcIn19J1wiO1xuICAgICAgICAgICAgLy8gV2lyZSBcIiZcIiBjYWxsYmFja3MgdG8gcmVzb2x2ZXMgdGhhdCByZXR1cm4gYSBjYWxsYmFjayBmdW5jdGlvblxuICAgICAgICAgICAgLy8gR2V0IHRoZSByZXN1bHQgb2YgdGhlIHJlc29sdmUgKHNob3VsZCBiZSBhIGZ1bmN0aW9uKSBhbmQgYW5ub3RhdGUgaXQgdG8gZ2V0IGl0cyBhcmd1bWVudHMuXG4gICAgICAgICAgICAvLyBzb21lLWF0dHI9XCIkcmVzb2x2ZS5zb21lUmVzb2x2ZVJlc3VsdE5hbWUoZm9vLCBiYXIpXCJcbiAgICAgICAgICAgIGlmICh0eXBlID09PSAnJicpIHtcbiAgICAgICAgICAgICAgICB2YXIgcmVzID0gY29udGV4dC5nZXRSZXNvbHZhYmxlKHJlc29sdmVOYW1lKTtcbiAgICAgICAgICAgICAgICB2YXIgZm4gPSByZXMgJiYgcmVzLmRhdGE7XG4gICAgICAgICAgICAgICAgdmFyIGFyZ3MgPSBmbiAmJiBzZXJ2aWNlcy4kaW5qZWN0b3IuYW5ub3RhdGUoZm4pIHx8IFtdO1xuICAgICAgICAgICAgICAgIC8vIGFjY291bnQgZm9yIGFycmF5IHN0eWxlIGluamVjdGlvbiwgaS5lLiwgWydmb28nLCBmdW5jdGlvbihmb28pIHt9XVxuICAgICAgICAgICAgICAgIHZhciBhcnJheUlkeFN0ciA9IGlzQXJyYXkoZm4pID8gXCJbXCIgKyAoZm4ubGVuZ3RoIC0gMSkgKyBcIl1cIiA6ICcnO1xuICAgICAgICAgICAgICAgIHJldHVybiBhdHRyTmFtZSArIFwiPSckcmVzb2x2ZS5cIiArIHJlc29sdmVOYW1lICsgYXJyYXlJZHhTdHIgKyBcIihcIiArIGFyZ3Muam9pbihcIixcIikgKyBcIiknXCI7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBzb21lLWF0dHI9XCI6OiRyZXNvbHZlLnNvbWVSZXNvbHZlTmFtZVwiXG4gICAgICAgICAgICByZXR1cm4gYXR0ck5hbWUgKyBcIj0nXCIgKyBwcmVmaXggKyBcIiRyZXNvbHZlLlwiICsgcmVzb2x2ZU5hbWUgKyBcIidcIjtcbiAgICAgICAgfTtcbiAgICAgICAgdmFyIGF0dHJzID0gZ2V0Q29tcG9uZW50QmluZGluZ3MoY29tcG9uZW50KS5tYXAoYXR0cmlidXRlVHBsKS5qb2luKFwiIFwiKTtcbiAgICAgICAgdmFyIGtlYm9iTmFtZSA9IGtlYm9iKGNvbXBvbmVudCk7XG4gICAgICAgIHJldHVybiBcIjxcIiArIGtlYm9iTmFtZSArIFwiIFwiICsgYXR0cnMgKyBcIj48L1wiICsga2Vib2JOYW1lICsgXCI+XCI7XG4gICAgfTtcbiAgICBcbiAgICByZXR1cm4gVGVtcGxhdGVGYWN0b3J5O1xufSgpKTtcbi8vIEdldHMgYWxsIHRoZSBkaXJlY3RpdmUocyknIGlucHV0cyAoJ0AnLCAnPScsIGFuZCAnPCcpIGFuZCBvdXRwdXRzICgnJicpXG5mdW5jdGlvbiBnZXRDb21wb25lbnRCaW5kaW5ncyhuYW1lKSB7XG4gICAgdmFyIGNtcERlZnMgPSBzZXJ2aWNlcy4kaW5qZWN0b3IuZ2V0KG5hbWUgKyBcIkRpcmVjdGl2ZVwiKTsgLy8gY291bGQgYmUgbXVsdGlwbGVcbiAgICBpZiAoIWNtcERlZnMgfHwgIWNtcERlZnMubGVuZ3RoKVxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJVbmFibGUgdG8gZmluZCBjb21wb25lbnQgbmFtZWQgJ1wiICsgbmFtZSArIFwiJ1wiKTtcbiAgICByZXR1cm4gY21wRGVmcy5tYXAoZ2V0QmluZGluZ3MpLnJlZHVjZSh1bm5lc3RSLCBbXSk7XG59XG4vLyBHaXZlbiBhIGRpcmVjdGl2ZSBkZWZpbml0aW9uLCBmaW5kIGl0cyBvYmplY3QgaW5wdXQgYXR0cmlidXRlc1xuLy8gVXNlIGRpZmZlcmVudCBwcm9wZXJ0aWVzLCBkZXBlbmRpbmcgb24gdGhlIHR5cGUgb2YgZGlyZWN0aXZlIChjb21wb25lbnQsIGJpbmRUb0NvbnRyb2xsZXIsIG5vcm1hbClcbnZhciBnZXRCaW5kaW5ncyA9IGZ1bmN0aW9uIChkZWYpIHtcbiAgICBpZiAoaXNPYmplY3QoZGVmLmJpbmRUb0NvbnRyb2xsZXIpKVxuICAgICAgICByZXR1cm4gc2NvcGVCaW5kaW5ncyhkZWYuYmluZFRvQ29udHJvbGxlcik7XG4gICAgcmV0dXJuIHNjb3BlQmluZGluZ3MoZGVmLnNjb3BlKTtcbn07XG4vLyBmb3IgbmcgMS4yIHN0eWxlLCBwcm9jZXNzIHRoZSBzY29wZTogeyBpbnB1dDogXCI9Zm9vXCIgfVxuLy8gZm9yIG5nIDEuMyB0aHJvdWdoIG5nIDEuNSwgcHJvY2VzcyB0aGUgY29tcG9uZW50J3MgYmluZFRvQ29udHJvbGxlcjogeyBpbnB1dDogXCI9Zm9vXCIgfSBvYmplY3RcbnZhciBzY29wZUJpbmRpbmdzID0gZnVuY3Rpb24gKGJpbmRpbmdzT2JqKSB7IHJldHVybiBPYmplY3Qua2V5cyhiaW5kaW5nc09iaiB8fCB7fSlcbiAgICAubWFwKGZ1bmN0aW9uIChrZXkpIHsgcmV0dXJuIFtrZXksIC9eKFs9PEAmXSlbP10/KC4qKS8uZXhlYyhiaW5kaW5nc09ialtrZXldKV07IH0pXG4gICAgLmZpbHRlcihmdW5jdGlvbiAodHVwbGUpIHsgcmV0dXJuIGlzRGVmaW5lZCh0dXBsZSkgJiYgaXNBcnJheSh0dXBsZVsxXSk7IH0pXG4gICAgLm1hcChmdW5jdGlvbiAodHVwbGUpIHsgcmV0dXJuICh7IG5hbWU6IHR1cGxlWzFdWzJdIHx8IHR1cGxlWzBdLCB0eXBlOiB0dXBsZVsxXVsxXSB9KTsgfSk7IH07XG5cbi8qKiBAbW9kdWxlIG5nMSAqLyAvKiogZm9yIHR5cGVkb2MgKi9cbi8qKlxuICogVGhlIEFuZ3VsYXIgMSBgU3RhdGVQcm92aWRlcmBcbiAqXG4gKiBUaGUgYCRzdGF0ZVByb3ZpZGVyYCB3b3JrcyBzaW1pbGFyIHRvIEFuZ3VsYXIncyB2MSByb3V0ZXIsIGJ1dCBpdCBmb2N1c2VzIHB1cmVseVxuICogb24gc3RhdGUuXG4gKlxuICogQSBzdGF0ZSBjb3JyZXNwb25kcyB0byBhIFwicGxhY2VcIiBpbiB0aGUgYXBwbGljYXRpb24gaW4gdGVybXMgb2YgdGhlIG92ZXJhbGwgVUkgYW5kXG4gKiBuYXZpZ2F0aW9uLiBBIHN0YXRlIGRlc2NyaWJlcyAodmlhIHRoZSBjb250cm9sbGVyIC8gdGVtcGxhdGUgLyB2aWV3IHByb3BlcnRpZXMpIHdoYXRcbiAqIHRoZSBVSSBsb29rcyBsaWtlIGFuZCBkb2VzIGF0IHRoYXQgcGxhY2UuXG4gKlxuICogU3RhdGVzIG9mdGVuIGhhdmUgdGhpbmdzIGluIGNvbW1vbiwgYW5kIHRoZSBwcmltYXJ5IHdheSBvZiBmYWN0b3Jpbmcgb3V0IHRoZXNlXG4gKiBjb21tb25hbGl0aWVzIGluIHRoaXMgbW9kZWwgaXMgdmlhIHRoZSBzdGF0ZSBoaWVyYXJjaHksIGkuZS4gcGFyZW50L2NoaWxkIHN0YXRlcyBha2FcbiAqIG5lc3RlZCBzdGF0ZXMuXG4gKlxuICogVGhlIGAkc3RhdGVQcm92aWRlcmAgcHJvdmlkZXMgaW50ZXJmYWNlcyB0byBkZWNsYXJlIHRoZXNlIHN0YXRlcyBmb3IgeW91ciBhcHAuXG4gKi9cbnZhciBTdGF0ZVByb3ZpZGVyID0gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBTdGF0ZVByb3ZpZGVyKHN0YXRlUmVnaXN0cnksIHN0YXRlU2VydmljZSkge1xuICAgICAgICB0aGlzLnN0YXRlUmVnaXN0cnkgPSBzdGF0ZVJlZ2lzdHJ5O1xuICAgICAgICB0aGlzLnN0YXRlU2VydmljZSA9IHN0YXRlU2VydmljZTtcbiAgICAgICAgY3JlYXRlUHJveHlGdW5jdGlvbnModmFsKFN0YXRlUHJvdmlkZXIucHJvdG90eXBlKSwgdGhpcywgdmFsKHRoaXMpKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogRGVjb3JhdGVzIHN0YXRlcyB3aGVuIHRoZXkgYXJlIHJlZ2lzdGVyZWRcbiAgICAgKlxuICAgICAqIEFsbG93cyB5b3UgdG8gZXh0ZW5kIChjYXJlZnVsbHkpIG9yIG92ZXJyaWRlIChhdCB5b3VyIG93biBwZXJpbCkgdGhlXG4gICAgICogYHN0YXRlQnVpbGRlcmAgb2JqZWN0IHVzZWQgaW50ZXJuYWxseSBieSBbW1N0YXRlUmVnaXN0cnldXS5cbiAgICAgKiBUaGlzIGNhbiBiZSB1c2VkIHRvIGFkZCBjdXN0b20gZnVuY3Rpb25hbGl0eSB0byB1aS1yb3V0ZXIsXG4gICAgICogZm9yIGV4YW1wbGUgaW5mZXJyaW5nIHRlbXBsYXRlVXJsIGJhc2VkIG9uIHRoZSBzdGF0ZSBuYW1lLlxuICAgICAqXG4gICAgICogV2hlbiBwYXNzaW5nIG9ubHkgYSBuYW1lLCBpdCByZXR1cm5zIHRoZSBjdXJyZW50IChvcmlnaW5hbCBvciBkZWNvcmF0ZWQpIGJ1aWxkZXJcbiAgICAgKiBmdW5jdGlvbiB0aGF0IG1hdGNoZXMgYG5hbWVgLlxuICAgICAqXG4gICAgICogVGhlIGJ1aWxkZXIgZnVuY3Rpb25zIHRoYXQgY2FuIGJlIGRlY29yYXRlZCBhcmUgbGlzdGVkIGJlbG93LiBUaG91Z2ggbm90IGFsbFxuICAgICAqIG5lY2Vzc2FyaWx5IGhhdmUgYSBnb29kIHVzZSBjYXNlIGZvciBkZWNvcmF0aW9uLCB0aGF0IGlzIHVwIHRvIHlvdSB0byBkZWNpZGUuXG4gICAgICpcbiAgICAgKiBJbiBhZGRpdGlvbiwgdXNlcnMgY2FuIGF0dGFjaCBjdXN0b20gZGVjb3JhdG9ycywgd2hpY2ggd2lsbCBnZW5lcmF0ZSBuZXdcbiAgICAgKiBwcm9wZXJ0aWVzIHdpdGhpbiB0aGUgc3RhdGUncyBpbnRlcm5hbCBkZWZpbml0aW9uLiBUaGVyZSBpcyBjdXJyZW50bHkgbm8gY2xlYXJcbiAgICAgKiB1c2UtY2FzZSBmb3IgdGhpcyBiZXlvbmQgYWNjZXNzaW5nIGludGVybmFsIHN0YXRlcyAoaS5lLiAkc3RhdGUuJGN1cnJlbnQpLFxuICAgICAqIGhvd2V2ZXIsIGV4cGVjdCB0aGlzIHRvIGJlY29tZSBpbmNyZWFzaW5nbHkgcmVsZXZhbnQgYXMgd2UgaW50cm9kdWNlIGFkZGl0aW9uYWxcbiAgICAgKiBtZXRhLXByb2dyYW1taW5nIGZlYXR1cmVzLlxuICAgICAqXG4gICAgICogKipXYXJuaW5nKio6IERlY29yYXRvcnMgc2hvdWxkIG5vdCBiZSBpbnRlcmRlcGVuZGVudCBiZWNhdXNlIHRoZSBvcmRlciBvZlxuICAgICAqIGV4ZWN1dGlvbiBvZiB0aGUgYnVpbGRlciBmdW5jdGlvbnMgaW4gbm9uLWRldGVybWluaXN0aWMuIEJ1aWxkZXIgZnVuY3Rpb25zXG4gICAgICogc2hvdWxkIG9ubHkgYmUgZGVwZW5kZW50IG9uIHRoZSBzdGF0ZSBkZWZpbml0aW9uIG9iamVjdCBhbmQgc3VwZXIgZnVuY3Rpb24uXG4gICAgICpcbiAgICAgKlxuICAgICAqIEV4aXN0aW5nIGJ1aWxkZXIgZnVuY3Rpb25zIGFuZCBjdXJyZW50IHJldHVybiB2YWx1ZXM6XG4gICAgICpcbiAgICAgKiAtICoqcGFyZW50KiogYHtvYmplY3R9YCAtIHJldHVybnMgdGhlIHBhcmVudCBzdGF0ZSBvYmplY3QuXG4gICAgICogLSAqKmRhdGEqKiBge29iamVjdH1gIC0gcmV0dXJucyBzdGF0ZSBkYXRhLCBpbmNsdWRpbmcgYW55IGluaGVyaXRlZCBkYXRhIHRoYXQgaXMgbm90XG4gICAgICogICBvdmVycmlkZGVuIGJ5IG93biB2YWx1ZXMgKGlmIGFueSkuXG4gICAgICogLSAqKnVybCoqIGB7b2JqZWN0fWAgLSByZXR1cm5zIGEge0BsaW5rIHVpLnJvdXRlci51dGlsLnR5cGU6VXJsTWF0Y2hlciBVcmxNYXRjaGVyfVxuICAgICAqICAgb3IgYG51bGxgLlxuICAgICAqIC0gKipuYXZpZ2FibGUqKiBge29iamVjdH1gIC0gcmV0dXJucyBjbG9zZXN0IGFuY2VzdG9yIHN0YXRlIHRoYXQgaGFzIGEgVVJMIChha2EgaXNcbiAgICAgKiAgIG5hdmlnYWJsZSkuXG4gICAgICogLSAqKnBhcmFtcyoqIGB7b2JqZWN0fWAgLSByZXR1cm5zIGFuIGFycmF5IG9mIHN0YXRlIHBhcmFtcyB0aGF0IGFyZSBlbnN1cmVkIHRvXG4gICAgICogICBiZSBhIHN1cGVyLXNldCBvZiBwYXJlbnQncyBwYXJhbXMuXG4gICAgICogLSAqKnZpZXdzKiogYHtvYmplY3R9YCAtIHJldHVybnMgYSB2aWV3cyBvYmplY3Qgd2hlcmUgZWFjaCBrZXkgaXMgYW4gYWJzb2x1dGUgdmlld1xuICAgICAqICAgbmFtZSAoaS5lLiBcInZpZXdOYW1lQHN0YXRlTmFtZVwiKSBhbmQgZWFjaCB2YWx1ZSBpcyB0aGUgY29uZmlnIG9iamVjdFxuICAgICAqICAgKHRlbXBsYXRlLCBjb250cm9sbGVyKSBmb3IgdGhlIHZpZXcuIEV2ZW4gd2hlbiB5b3UgZG9uJ3QgdXNlIHRoZSB2aWV3cyBvYmplY3RcbiAgICAgKiAgIGV4cGxpY2l0bHkgb24gYSBzdGF0ZSBjb25maWcsIG9uZSBpcyBzdGlsbCBjcmVhdGVkIGZvciB5b3UgaW50ZXJuYWxseS5cbiAgICAgKiAgIFNvIGJ5IGRlY29yYXRpbmcgdGhpcyBidWlsZGVyIGZ1bmN0aW9uIHlvdSBoYXZlIGFjY2VzcyB0byBkZWNvcmF0aW5nIHRlbXBsYXRlXG4gICAgICogICBhbmQgY29udHJvbGxlciBwcm9wZXJ0aWVzLlxuICAgICAqIC0gKipvd25QYXJhbXMqKiBge29iamVjdH1gIC0gcmV0dXJucyBhbiBhcnJheSBvZiBwYXJhbXMgdGhhdCBiZWxvbmcgdG8gdGhlIHN0YXRlLFxuICAgICAqICAgbm90IGluY2x1ZGluZyBhbnkgcGFyYW1zIGRlZmluZWQgYnkgYW5jZXN0b3Igc3RhdGVzLlxuICAgICAqIC0gKipwYXRoKiogYHtzdHJpbmd9YCAtIHJldHVybnMgdGhlIGZ1bGwgcGF0aCBmcm9tIHRoZSByb290IGRvd24gdG8gdGhpcyBzdGF0ZS5cbiAgICAgKiAgIE5lZWRlZCBmb3Igc3RhdGUgYWN0aXZhdGlvbi5cbiAgICAgKiAtICoqaW5jbHVkZXMqKiBge29iamVjdH1gIC0gcmV0dXJucyBhbiBvYmplY3QgdGhhdCBpbmNsdWRlcyBldmVyeSBzdGF0ZSB0aGF0XG4gICAgICogICB3b3VsZCBwYXNzIGEgYCRzdGF0ZS5pbmNsdWRlcygpYCB0ZXN0LlxuICAgICAqXG4gICAgICogIyMjIyBFeGFtcGxlOlxuICAgICAqIE92ZXJyaWRlIHRoZSBpbnRlcm5hbCAndmlld3MnIGJ1aWxkZXIgd2l0aCBhIGZ1bmN0aW9uIHRoYXQgdGFrZXMgdGhlIHN0YXRlXG4gICAgICogZGVmaW5pdGlvbiwgYW5kIGEgcmVmZXJlbmNlIHRvIHRoZSBpbnRlcm5hbCBmdW5jdGlvbiBiZWluZyBvdmVycmlkZGVuOlxuICAgICAqIGBgYGpzXG4gICAgICogJHN0YXRlUHJvdmlkZXIuZGVjb3JhdG9yKCd2aWV3cycsIGZ1bmN0aW9uIChzdGF0ZSwgcGFyZW50KSB7XG4gICAgICogICBsZXQgcmVzdWx0ID0ge30sXG4gICAgICogICAgICAgdmlld3MgPSBwYXJlbnQoc3RhdGUpO1xuICAgICAqXG4gICAgICogICBhbmd1bGFyLmZvckVhY2godmlld3MsIGZ1bmN0aW9uIChjb25maWcsIG5hbWUpIHtcbiAgICAgKiAgICAgbGV0IGF1dG9OYW1lID0gKHN0YXRlLm5hbWUgKyAnLicgKyBuYW1lKS5yZXBsYWNlKCcuJywgJy8nKTtcbiAgICAgKiAgICAgY29uZmlnLnRlbXBsYXRlVXJsID0gY29uZmlnLnRlbXBsYXRlVXJsIHx8ICcvcGFydGlhbHMvJyArIGF1dG9OYW1lICsgJy5odG1sJztcbiAgICAgKiAgICAgcmVzdWx0W25hbWVdID0gY29uZmlnO1xuICAgICAqICAgfSk7XG4gICAgICogICByZXR1cm4gcmVzdWx0O1xuICAgICAqIH0pO1xuICAgICAqXG4gICAgICogJHN0YXRlUHJvdmlkZXIuc3RhdGUoJ2hvbWUnLCB7XG4gICAgICogICB2aWV3czoge1xuICAgICAqICAgICAnY29udGFjdC5saXN0JzogeyBjb250cm9sbGVyOiAnTGlzdENvbnRyb2xsZXInIH0sXG4gICAgICogICAgICdjb250YWN0Lml0ZW0nOiB7IGNvbnRyb2xsZXI6ICdJdGVtQ29udHJvbGxlcicgfVxuICAgICAqICAgfVxuICAgICAqIH0pO1xuICAgICAqIGBgYFxuICAgICAqXG4gICAgICpcbiAgICAgKiBgYGBqc1xuICAgICAqIC8vIEF1dG8tcG9wdWxhdGVzIGxpc3QgYW5kIGl0ZW0gdmlld3Mgd2l0aCAvcGFydGlhbHMvaG9tZS9jb250YWN0L2xpc3QuaHRtbCxcbiAgICAgKiAvLyBhbmQgL3BhcnRpYWxzL2hvbWUvY29udGFjdC9pdGVtLmh0bWwsIHJlc3BlY3RpdmVseS5cbiAgICAgKiAkc3RhdGUuZ28oJ2hvbWUnKTtcbiAgICAgKiBgYGBcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBuYW1lIFRoZSBuYW1lIG9mIHRoZSBidWlsZGVyIGZ1bmN0aW9uIHRvIGRlY29yYXRlLlxuICAgICAqIEBwYXJhbSB7b2JqZWN0fSBmdW5jIEEgZnVuY3Rpb24gdGhhdCBpcyByZXNwb25zaWJsZSBmb3IgZGVjb3JhdGluZyB0aGUgb3JpZ2luYWxcbiAgICAgKiBidWlsZGVyIGZ1bmN0aW9uLiBUaGUgZnVuY3Rpb24gcmVjZWl2ZXMgdHdvIHBhcmFtZXRlcnM6XG4gICAgICpcbiAgICAgKiAgIC0gYHtvYmplY3R9YCAtIHN0YXRlIC0gVGhlIHN0YXRlIGNvbmZpZyBvYmplY3QuXG4gICAgICogICAtIGB7b2JqZWN0fWAgLSBzdXBlciAtIFRoZSBvcmlnaW5hbCBidWlsZGVyIGZ1bmN0aW9uLlxuICAgICAqXG4gICAgICogQHJldHVybiB7b2JqZWN0fSAkc3RhdGVQcm92aWRlciAtICRzdGF0ZVByb3ZpZGVyIGluc3RhbmNlXG4gICAgICovXG4gICAgU3RhdGVQcm92aWRlci5wcm90b3R5cGUuZGVjb3JhdG9yID0gZnVuY3Rpb24gKG5hbWUsIGZ1bmMpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuc3RhdGVSZWdpc3RyeS5kZWNvcmF0b3IobmFtZSwgZnVuYykgfHwgdGhpcztcbiAgICB9O1xuICAgIFN0YXRlUHJvdmlkZXIucHJvdG90eXBlLnN0YXRlID0gZnVuY3Rpb24gKG5hbWUsIGRlZmluaXRpb24pIHtcbiAgICAgICAgaWYgKGlzT2JqZWN0KG5hbWUpKSB7XG4gICAgICAgICAgICBkZWZpbml0aW9uID0gbmFtZTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGRlZmluaXRpb24ubmFtZSA9IG5hbWU7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5zdGF0ZVJlZ2lzdHJ5LnJlZ2lzdGVyKGRlZmluaXRpb24pO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFJlZ2lzdGVycyBhbiBpbnZhbGlkIHN0YXRlIGhhbmRsZXJcbiAgICAgKlxuICAgICAqIFRoaXMgaXMgYSBwYXNzdGhyb3VnaCB0byBbW1N0YXRlU2VydmljZS5vbkludmFsaWRdXSBmb3IgbmcxLlxuICAgICAqL1xuICAgIFN0YXRlUHJvdmlkZXIucHJvdG90eXBlLm9uSW52YWxpZCA9IGZ1bmN0aW9uIChjYWxsYmFjaykge1xuICAgICAgICByZXR1cm4gdGhpcy5zdGF0ZVNlcnZpY2Uub25JbnZhbGlkKGNhbGxiYWNrKTtcbiAgICB9O1xuICAgIHJldHVybiBTdGF0ZVByb3ZpZGVyO1xufSgpKTtcblxuLyoqIEBtb2R1bGUgbmcxICovIC8qKiAqL1xuLyoqXG4gKiBUaGlzIGlzIGEgW1tTdGF0ZUJ1aWxkZXIuYnVpbGRlcl1dIGZ1bmN0aW9uIGZvciBhbmd1bGFyMSBgb25FbnRlcmAsIGBvbkV4aXRgLFxuICogYG9uUmV0YWluYCBjYWxsYmFjayBob29rcyBvbiBhIFtbTmcxU3RhdGVEZWNsYXJhdGlvbl1dLlxuICpcbiAqIFdoZW4gdGhlIFtbU3RhdGVCdWlsZGVyXV0gYnVpbGRzIGEgW1tTdGF0ZU9iamVjdF1dIG9iamVjdCBmcm9tIGEgcmF3IFtbU3RhdGVEZWNsYXJhdGlvbl1dLCB0aGlzIGJ1aWxkZXJcbiAqIGVuc3VyZXMgdGhhdCB0aG9zZSBob29rcyBhcmUgaW5qZWN0YWJsZSBmb3IgQHVpcm91dGVyL2FuZ3VsYXJqcyAobmcxKS5cbiAqL1xudmFyIGdldFN0YXRlSG9va0J1aWxkZXIgPSBmdW5jdGlvbiAoaG9va05hbWUpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24gc3RhdGVIb29rQnVpbGRlcihzdGF0ZSwgcGFyZW50Rm4pIHtcbiAgICAgICAgdmFyIGhvb2sgPSBzdGF0ZVtob29rTmFtZV07XG4gICAgICAgIHZhciBwYXRobmFtZSA9IGhvb2tOYW1lID09PSAnb25FeGl0JyA/ICdmcm9tJyA6ICd0byc7XG4gICAgICAgIGZ1bmN0aW9uIGRlY29yYXRlZE5nMUhvb2sodHJhbnMsIHN0YXRlKSB7XG4gICAgICAgICAgICB2YXIgcmVzb2x2ZUNvbnRleHQgPSBuZXcgUmVzb2x2ZUNvbnRleHQodHJhbnMudHJlZUNoYW5nZXMocGF0aG5hbWUpKTtcbiAgICAgICAgICAgIHZhciBsb2NhbHMgPSBleHRlbmQoZ2V0TG9jYWxzKHJlc29sdmVDb250ZXh0KSwgeyAkc3RhdGUkOiBzdGF0ZSwgJHRyYW5zaXRpb24kOiB0cmFucyB9KTtcbiAgICAgICAgICAgIHJldHVybiBzZXJ2aWNlcy4kaW5qZWN0b3IuaW52b2tlKGhvb2ssIHRoaXMsIGxvY2Fscyk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGhvb2sgPyBkZWNvcmF0ZWROZzFIb29rIDogdW5kZWZpbmVkO1xuICAgIH07XG59O1xuXG4vKipcbiAqIEltcGxlbWVudHMgVUktUm91dGVyIExvY2F0aW9uU2VydmljZXMgYW5kIExvY2F0aW9uQ29uZmlnIHVzaW5nIEFuZ3VsYXIgMSdzICRsb2NhdGlvbiBzZXJ2aWNlXG4gKi9cbnZhciBOZzFMb2NhdGlvblNlcnZpY2VzID0gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBOZzFMb2NhdGlvblNlcnZpY2VzKCRsb2NhdGlvblByb3ZpZGVyKSB7XG4gICAgICAgIC8vIC5vbkNoYW5nZSgpIHJlZ2lzdHJ5XG4gICAgICAgIHRoaXMuX3VybExpc3RlbmVycyA9IFtdO1xuICAgICAgICB0aGlzLiRsb2NhdGlvblByb3ZpZGVyID0gJGxvY2F0aW9uUHJvdmlkZXI7XG4gICAgICAgIHZhciBfbHAgPSB2YWwoJGxvY2F0aW9uUHJvdmlkZXIpO1xuICAgICAgICBjcmVhdGVQcm94eUZ1bmN0aW9ucyhfbHAsIHRoaXMsIF9scCwgWydoYXNoUHJlZml4J10pO1xuICAgIH1cbiAgICBOZzFMb2NhdGlvblNlcnZpY2VzLnByb3RvdHlwZS5kaXNwb3NlID0gZnVuY3Rpb24gKCkgeyB9O1xuICAgIE5nMUxvY2F0aW9uU2VydmljZXMucHJvdG90eXBlLm9uQ2hhbmdlID0gZnVuY3Rpb24gKGNhbGxiYWNrKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIHRoaXMuX3VybExpc3RlbmVycy5wdXNoKGNhbGxiYWNrKTtcbiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uICgpIHsgcmV0dXJuIHJlbW92ZUZyb20oX3RoaXMuX3VybExpc3RlbmVycykoY2FsbGJhY2spOyB9O1xuICAgIH07XG4gICAgTmcxTG9jYXRpb25TZXJ2aWNlcy5wcm90b3R5cGUuaHRtbDVNb2RlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgaHRtbDVNb2RlID0gdGhpcy4kbG9jYXRpb25Qcm92aWRlci5odG1sNU1vZGUoKTtcbiAgICAgICAgaHRtbDVNb2RlID0gaXNPYmplY3QoaHRtbDVNb2RlKSA/IGh0bWw1TW9kZS5lbmFibGVkIDogaHRtbDVNb2RlO1xuICAgICAgICByZXR1cm4gaHRtbDVNb2RlICYmIHRoaXMuJHNuaWZmZXIuaGlzdG9yeTtcbiAgICB9O1xuICAgIE5nMUxvY2F0aW9uU2VydmljZXMucHJvdG90eXBlLnVybCA9IGZ1bmN0aW9uIChuZXdVcmwsIHJlcGxhY2UsIHN0YXRlKSB7XG4gICAgICAgIGlmIChyZXBsYWNlID09PSB2b2lkIDApIHsgcmVwbGFjZSA9IGZhbHNlOyB9XG4gICAgICAgIGlmIChuZXdVcmwpXG4gICAgICAgICAgICB0aGlzLiRsb2NhdGlvbi51cmwobmV3VXJsKTtcbiAgICAgICAgaWYgKHJlcGxhY2UpXG4gICAgICAgICAgICB0aGlzLiRsb2NhdGlvbi5yZXBsYWNlKCk7XG4gICAgICAgIGlmIChzdGF0ZSlcbiAgICAgICAgICAgIHRoaXMuJGxvY2F0aW9uLnN0YXRlKHN0YXRlKTtcbiAgICAgICAgcmV0dXJuIHRoaXMuJGxvY2F0aW9uLnVybCgpO1xuICAgIH07XG4gICAgTmcxTG9jYXRpb25TZXJ2aWNlcy5wcm90b3R5cGUuX3J1bnRpbWVTZXJ2aWNlcyA9IGZ1bmN0aW9uICgkcm9vdFNjb3BlLCAkbG9jYXRpb24sICRzbmlmZmVyLCAkYnJvd3Nlcikge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICB0aGlzLiRsb2NhdGlvbiA9ICRsb2NhdGlvbjtcbiAgICAgICAgdGhpcy4kc25pZmZlciA9ICRzbmlmZmVyO1xuICAgICAgICAvLyBCaW5kICRsb2NhdGlvbkNoYW5nZVN1Y2Nlc3MgdG8gdGhlIGxpc3RlbmVycyByZWdpc3RlcmVkIGluIExvY2F0aW9uU2VydmljZS5vbkNoYW5nZVxuICAgICAgICAkcm9vdFNjb3BlLiRvbihcIiRsb2NhdGlvbkNoYW5nZVN1Y2Nlc3NcIiwgZnVuY3Rpb24gKGV2dCkgeyByZXR1cm4gX3RoaXMuX3VybExpc3RlbmVycy5mb3JFYWNoKGZ1bmN0aW9uIChmbikgeyByZXR1cm4gZm4oZXZ0KTsgfSk7IH0pO1xuICAgICAgICB2YXIgX2xvYyA9IHZhbCgkbG9jYXRpb24pO1xuICAgICAgICB2YXIgX2Jyb3dzZXIgPSB2YWwoJGJyb3dzZXIpO1xuICAgICAgICAvLyBCaW5kIHRoZXNlIExvY2F0aW9uU2VydmljZSBmdW5jdGlvbnMgdG8gJGxvY2F0aW9uXG4gICAgICAgIGNyZWF0ZVByb3h5RnVuY3Rpb25zKF9sb2MsIHRoaXMsIF9sb2MsIFtcInJlcGxhY2VcIiwgXCJwYXRoXCIsIFwic2VhcmNoXCIsIFwiaGFzaFwiXSk7XG4gICAgICAgIC8vIEJpbmQgdGhlc2UgTG9jYXRpb25Db25maWcgZnVuY3Rpb25zIHRvICRsb2NhdGlvblxuICAgICAgICBjcmVhdGVQcm94eUZ1bmN0aW9ucyhfbG9jLCB0aGlzLCBfbG9jLCBbJ3BvcnQnLCAncHJvdG9jb2wnLCAnaG9zdCddKTtcbiAgICAgICAgLy8gQmluZCB0aGVzZSBMb2NhdGlvbkNvbmZpZyBmdW5jdGlvbnMgdG8gJGJyb3dzZXJcbiAgICAgICAgY3JlYXRlUHJveHlGdW5jdGlvbnMoX2Jyb3dzZXIsIHRoaXMsIF9icm93c2VyLCBbJ2Jhc2VIcmVmJ10pO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQXBwbHlzIG5nMS1zcGVjaWZpYyBwYXRoIHBhcmFtZXRlciBlbmNvZGluZ1xuICAgICAqXG4gICAgICogVGhlIEFuZ3VsYXIgMSBgJGxvY2F0aW9uYCBzZXJ2aWNlIGlzIGEgYml0IHdlaXJkLlxuICAgICAqIEl0IGRvZXNuJ3QgYWxsb3cgc2xhc2hlcyB0byBiZSBlbmNvZGVkL2RlY29kZWQgYmktZGlyZWN0aW9uYWxseS5cbiAgICAgKlxuICAgICAqIFNlZSB0aGUgd3JpdGV1cCBhdCBodHRwczovL2dpdGh1Yi5jb20vYW5ndWxhci11aS91aS1yb3V0ZXIvaXNzdWVzLzI1OThcbiAgICAgKlxuICAgICAqIFRoaXMgY29kZSBwYXRjaGVzIHRoZSBgcGF0aGAgcGFyYW1ldGVyIHR5cGUgc28gaXQgZW5jb2RlZC9kZWNvZGVzIHNsYXNoZXMgYXMgfjJGXG4gICAgICpcbiAgICAgKiBAcGFyYW0gcm91dGVyXG4gICAgICovXG4gICAgTmcxTG9jYXRpb25TZXJ2aWNlcy5tb25rZXlQYXRjaFBhdGhQYXJhbWV0ZXJUeXBlID0gZnVuY3Rpb24gKHJvdXRlcikge1xuICAgICAgICB2YXIgcGF0aFR5cGUgPSByb3V0ZXIudXJsTWF0Y2hlckZhY3RvcnkudHlwZSgncGF0aCcpO1xuICAgICAgICBwYXRoVHlwZS5lbmNvZGUgPSBmdW5jdGlvbiAodmFsJCQxKSB7XG4gICAgICAgICAgICByZXR1cm4gdmFsJCQxICE9IG51bGwgPyB2YWwkJDEudG9TdHJpbmcoKS5yZXBsYWNlKC8ofnxcXC8pL2csIGZ1bmN0aW9uIChtKSB7IHJldHVybiAoeyAnfic6ICd+ficsICcvJzogJ34yRicgfVttXSk7IH0pIDogdmFsJCQxO1xuICAgICAgICB9O1xuICAgICAgICBwYXRoVHlwZS5kZWNvZGUgPSBmdW5jdGlvbiAodmFsJCQxKSB7XG4gICAgICAgICAgICByZXR1cm4gdmFsJCQxICE9IG51bGwgPyB2YWwkJDEudG9TdHJpbmcoKS5yZXBsYWNlKC8ofn58fjJGKS9nLCBmdW5jdGlvbiAobSkgeyByZXR1cm4gKHsgJ35+JzogJ34nLCAnfjJGJzogJy8nIH1bbV0pOyB9KSA6IHZhbCQkMTtcbiAgICAgICAgfTtcbiAgICB9O1xuICAgIHJldHVybiBOZzFMb2NhdGlvblNlcnZpY2VzO1xufSgpKTtcblxuLyoqIEBtb2R1bGUgdXJsICovIC8qKiAqL1xuLyoqXG4gKiBNYW5hZ2VzIHJ1bGVzIGZvciBjbGllbnQtc2lkZSBVUkxcbiAqXG4gKiAjIyMgRGVwcmVjYXRpb24gd2FybmluZzpcbiAqIFRoaXMgY2xhc3MgaXMgbm93IGNvbnNpZGVyZWQgdG8gYmUgYW4gaW50ZXJuYWwgQVBJXG4gKiBVc2UgdGhlIFtbVXJsU2VydmljZV1dIGluc3RlYWQuXG4gKiBGb3IgY29uZmlndXJpbmcgVVJMIHJ1bGVzLCB1c2UgdGhlIFtbVXJsUnVsZXNBcGldXSB3aGljaCBjYW4gYmUgZm91bmQgYXMgW1tVcmxTZXJ2aWNlLnJ1bGVzXV0uXG4gKlxuICogVGhpcyBjbGFzcyBtYW5hZ2VzIHRoZSByb3V0ZXIgcnVsZXMgZm9yIHdoYXQgdG8gZG8gd2hlbiB0aGUgVVJMIGNoYW5nZXMuXG4gKlxuICogVGhpcyBwcm92aWRlciByZW1haW5zIGZvciBiYWNrd2FyZHMgY29tcGF0aWJpbGl0eS5cbiAqXG4gKiBAZGVwcmVjYXRlZFxuICovXG52YXIgVXJsUm91dGVyUHJvdmlkZXIgPSAoZnVuY3Rpb24gKCkge1xuICAgIC8qKiBAaGlkZGVuICovXG4gICAgZnVuY3Rpb24gVXJsUm91dGVyUHJvdmlkZXIocm91dGVyKSB7XG4gICAgICAgIHRoaXMuX3JvdXRlciA9IHJvdXRlcjtcbiAgICAgICAgdGhpcy5fdXJsUm91dGVyID0gcm91dGVyLnVybFJvdXRlcjtcbiAgICB9XG4gICAgLyoqIEBoaWRkZW4gKi9cbiAgICBVcmxSb3V0ZXJQcm92aWRlci5wcm90b3R5cGUuJGdldCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIHVybFJvdXRlciA9IHRoaXMuX3VybFJvdXRlcjtcbiAgICAgICAgdXJsUm91dGVyLnVwZGF0ZSh0cnVlKTtcbiAgICAgICAgaWYgKCF1cmxSb3V0ZXIuaW50ZXJjZXB0RGVmZXJyZWQpXG4gICAgICAgICAgICB1cmxSb3V0ZXIubGlzdGVuKCk7XG4gICAgICAgIHJldHVybiB1cmxSb3V0ZXI7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBSZWdpc3RlcnMgYSB1cmwgaGFuZGxlciBmdW5jdGlvbi5cbiAgICAgKlxuICAgICAqIFJlZ2lzdGVycyBhIGxvdyBsZXZlbCB1cmwgaGFuZGxlciAoYSBgcnVsZWApLlxuICAgICAqIEEgcnVsZSBkZXRlY3RzIHNwZWNpZmljIFVSTCBwYXR0ZXJucyBhbmQgcmV0dXJucyBhIHJlZGlyZWN0LCBvciBwZXJmb3JtcyBzb21lIGFjdGlvbi5cbiAgICAgKlxuICAgICAqIElmIGEgcnVsZSByZXR1cm5zIGEgc3RyaW5nLCB0aGUgVVJMIGlzIHJlcGxhY2VkIHdpdGggdGhlIHN0cmluZywgYW5kIGFsbCBydWxlcyBhcmUgZmlyZWQgYWdhaW4uXG4gICAgICpcbiAgICAgKiAjIyMjIEV4YW1wbGU6XG4gICAgICogYGBganNcbiAgICAgKiB2YXIgYXBwID0gYW5ndWxhci5tb2R1bGUoJ2FwcCcsIFsndWkucm91dGVyLnJvdXRlciddKTtcbiAgICAgKlxuICAgICAqIGFwcC5jb25maWcoZnVuY3Rpb24gKCR1cmxSb3V0ZXJQcm92aWRlcikge1xuICAgICAqICAgLy8gSGVyZSdzIGFuIGV4YW1wbGUgb2YgaG93IHlvdSBtaWdodCBhbGxvdyBjYXNlIGluc2Vuc2l0aXZlIHVybHNcbiAgICAgKiAgICR1cmxSb3V0ZXJQcm92aWRlci5ydWxlKGZ1bmN0aW9uICgkaW5qZWN0b3IsICRsb2NhdGlvbikge1xuICAgICAqICAgICB2YXIgcGF0aCA9ICRsb2NhdGlvbi5wYXRoKCksXG4gICAgICogICAgICAgICBub3JtYWxpemVkID0gcGF0aC50b0xvd2VyQ2FzZSgpO1xuICAgICAqXG4gICAgICogICAgIGlmIChwYXRoICE9PSBub3JtYWxpemVkKSB7XG4gICAgICogICAgICAgcmV0dXJuIG5vcm1hbGl6ZWQ7XG4gICAgICogICAgIH1cbiAgICAgKiAgIH0pO1xuICAgICAqIH0pO1xuICAgICAqIGBgYFxuICAgICAqXG4gICAgICogQHBhcmFtIHJ1bGVGblxuICAgICAqIEhhbmRsZXIgZnVuY3Rpb24gdGhhdCB0YWtlcyBgJGluamVjdG9yYCBhbmQgYCRsb2NhdGlvbmAgc2VydmljZXMgYXMgYXJndW1lbnRzLlxuICAgICAqIFlvdSBjYW4gdXNlIHRoZW0gdG8gZGV0ZWN0IGEgdXJsIGFuZCByZXR1cm4gYSBkaWZmZXJlbnQgdXJsIGFzIGEgc3RyaW5nLlxuICAgICAqXG4gICAgICogQHJldHVybiBbW1VybFJvdXRlclByb3ZpZGVyXV0gKGB0aGlzYClcbiAgICAgKi9cbiAgICBVcmxSb3V0ZXJQcm92aWRlci5wcm90b3R5cGUucnVsZSA9IGZ1bmN0aW9uIChydWxlRm4pIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgaWYgKCFpc0Z1bmN0aW9uKHJ1bGVGbikpXG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCIncnVsZScgbXVzdCBiZSBhIGZ1bmN0aW9uXCIpO1xuICAgICAgICB2YXIgbWF0Y2ggPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gcnVsZUZuKHNlcnZpY2VzLiRpbmplY3RvciwgX3RoaXMuX3JvdXRlci5sb2NhdGlvblNlcnZpY2UpO1xuICAgICAgICB9O1xuICAgICAgICB2YXIgcnVsZSA9IG5ldyBCYXNlVXJsUnVsZShtYXRjaCwgaWRlbnRpdHkpO1xuICAgICAgICB0aGlzLl91cmxSb3V0ZXIucnVsZShydWxlKTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcbiAgICBcbiAgICAvKipcbiAgICAgKiBEZWZpbmVzIHRoZSBwYXRoIG9yIGJlaGF2aW9yIHRvIHVzZSB3aGVuIG5vIHVybCBjYW4gYmUgbWF0Y2hlZC5cbiAgICAgKlxuICAgICAqICMjIyMgRXhhbXBsZTpcbiAgICAgKiBgYGBqc1xuICAgICAqIHZhciBhcHAgPSBhbmd1bGFyLm1vZHVsZSgnYXBwJywgWyd1aS5yb3V0ZXIucm91dGVyJ10pO1xuICAgICAqXG4gICAgICogYXBwLmNvbmZpZyhmdW5jdGlvbiAoJHVybFJvdXRlclByb3ZpZGVyKSB7XG4gICAgICogICAvLyBpZiB0aGUgcGF0aCBkb2Vzbid0IG1hdGNoIGFueSBvZiB0aGUgdXJscyB5b3UgY29uZmlndXJlZFxuICAgICAqICAgLy8gb3RoZXJ3aXNlIHdpbGwgdGFrZSBjYXJlIG9mIHJvdXRpbmcgdGhlIHVzZXIgdG8gdGhlXG4gICAgICogICAvLyBzcGVjaWZpZWQgdXJsXG4gICAgICogICAkdXJsUm91dGVyUHJvdmlkZXIub3RoZXJ3aXNlKCcvaW5kZXgnKTtcbiAgICAgKlxuICAgICAqICAgLy8gRXhhbXBsZSBvZiB1c2luZyBmdW5jdGlvbiBydWxlIGFzIHBhcmFtXG4gICAgICogICAkdXJsUm91dGVyUHJvdmlkZXIub3RoZXJ3aXNlKGZ1bmN0aW9uICgkaW5qZWN0b3IsICRsb2NhdGlvbikge1xuICAgICAqICAgICByZXR1cm4gJy9hL3ZhbGlkL3VybCc7XG4gICAgICogICB9KTtcbiAgICAgKiB9KTtcbiAgICAgKiBgYGBcbiAgICAgKlxuICAgICAqIEBwYXJhbSBydWxlXG4gICAgICogVGhlIHVybCBwYXRoIHlvdSB3YW50IHRvIHJlZGlyZWN0IHRvIG9yIGEgZnVuY3Rpb24gcnVsZSB0aGF0IHJldHVybnMgdGhlIHVybCBwYXRoIG9yIHBlcmZvcm1zIGEgYCRzdGF0ZS5nbygpYC5cbiAgICAgKiBUaGUgZnVuY3Rpb24gdmVyc2lvbiBpcyBwYXNzZWQgdHdvIHBhcmFtczogYCRpbmplY3RvcmAgYW5kIGAkbG9jYXRpb25gIHNlcnZpY2VzLCBhbmQgc2hvdWxkIHJldHVybiBhIHVybCBzdHJpbmcuXG4gICAgICpcbiAgICAgKiBAcmV0dXJuIHtvYmplY3R9IGAkdXJsUm91dGVyUHJvdmlkZXJgIC0gYCR1cmxSb3V0ZXJQcm92aWRlcmAgaW5zdGFuY2VcbiAgICAgKi9cbiAgICBVcmxSb3V0ZXJQcm92aWRlci5wcm90b3R5cGUub3RoZXJ3aXNlID0gZnVuY3Rpb24gKHJ1bGUpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgdmFyIHVybFJvdXRlciA9IHRoaXMuX3VybFJvdXRlcjtcbiAgICAgICAgaWYgKGlzU3RyaW5nKHJ1bGUpKSB7XG4gICAgICAgICAgICB1cmxSb3V0ZXIub3RoZXJ3aXNlKHJ1bGUpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGlzRnVuY3Rpb24ocnVsZSkpIHtcbiAgICAgICAgICAgIHVybFJvdXRlci5vdGhlcndpc2UoZnVuY3Rpb24gKCkgeyByZXR1cm4gcnVsZShzZXJ2aWNlcy4kaW5qZWN0b3IsIF90aGlzLl9yb3V0ZXIubG9jYXRpb25TZXJ2aWNlKTsgfSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCIncnVsZScgbXVzdCBiZSBhIHN0cmluZyBvciBmdW5jdGlvblwiKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuICAgIFxuICAgIC8qKlxuICAgICAqIFJlZ2lzdGVycyBhIGhhbmRsZXIgZm9yIGEgZ2l2ZW4gdXJsIG1hdGNoaW5nLlxuICAgICAqXG4gICAgICogSWYgdGhlIGhhbmRsZXIgaXMgYSBzdHJpbmcsIGl0IGlzXG4gICAgICogdHJlYXRlZCBhcyBhIHJlZGlyZWN0LCBhbmQgaXMgaW50ZXJwb2xhdGVkIGFjY29yZGluZyB0byB0aGUgc3ludGF4IG9mIG1hdGNoXG4gICAgICogKGkuZS4gbGlrZSBgU3RyaW5nLnJlcGxhY2UoKWAgZm9yIGBSZWdFeHBgLCBvciBsaWtlIGEgYFVybE1hdGNoZXJgIHBhdHRlcm4gb3RoZXJ3aXNlKS5cbiAgICAgKlxuICAgICAqIElmIHRoZSBoYW5kbGVyIGlzIGEgZnVuY3Rpb24sIGl0IGlzIGluamVjdGFibGUuXG4gICAgICogSXQgZ2V0cyBpbnZva2VkIGlmIGAkbG9jYXRpb25gIG1hdGNoZXMuXG4gICAgICogWW91IGhhdmUgdGhlIG9wdGlvbiBvZiBpbmplY3QgdGhlIG1hdGNoIG9iamVjdCBhcyBgJG1hdGNoYC5cbiAgICAgKlxuICAgICAqIFRoZSBoYW5kbGVyIGNhbiByZXR1cm5cbiAgICAgKlxuICAgICAqIC0gKipmYWxzeSoqIHRvIGluZGljYXRlIHRoYXQgdGhlIHJ1bGUgZGlkbid0IG1hdGNoIGFmdGVyIGFsbCwgdGhlbiBgJHVybFJvdXRlcmBcbiAgICAgKiAgIHdpbGwgY29udGludWUgdHJ5aW5nIHRvIGZpbmQgYW5vdGhlciBvbmUgdGhhdCBtYXRjaGVzLlxuICAgICAqIC0gKipzdHJpbmcqKiB3aGljaCBpcyB0cmVhdGVkIGFzIGEgcmVkaXJlY3QgYW5kIHBhc3NlZCB0byBgJGxvY2F0aW9uLnVybCgpYFxuICAgICAqIC0gKip2b2lkKiogb3IgYW55ICoqdHJ1dGh5KiogdmFsdWUgdGVsbHMgYCR1cmxSb3V0ZXJgIHRoYXQgdGhlIHVybCB3YXMgaGFuZGxlZC5cbiAgICAgKlxuICAgICAqICMjIyMgRXhhbXBsZTpcbiAgICAgKiBgYGBqc1xuICAgICAqIHZhciBhcHAgPSBhbmd1bGFyLm1vZHVsZSgnYXBwJywgWyd1aS5yb3V0ZXIucm91dGVyJ10pO1xuICAgICAqXG4gICAgICogYXBwLmNvbmZpZyhmdW5jdGlvbiAoJHVybFJvdXRlclByb3ZpZGVyKSB7XG4gICAgICogICAkdXJsUm91dGVyUHJvdmlkZXIud2hlbigkc3RhdGUudXJsLCBmdW5jdGlvbiAoJG1hdGNoLCAkc3RhdGVQYXJhbXMpIHtcbiAgICAgKiAgICAgaWYgKCRzdGF0ZS4kY3VycmVudC5uYXZpZ2FibGUgIT09IHN0YXRlIHx8XG4gICAgICogICAgICAgICAhZXF1YWxGb3JLZXlzKCRtYXRjaCwgJHN0YXRlUGFyYW1zKSB7XG4gICAgICogICAgICAkc3RhdGUudHJhbnNpdGlvblRvKHN0YXRlLCAkbWF0Y2gsIGZhbHNlKTtcbiAgICAgKiAgICAgfVxuICAgICAqICAgfSk7XG4gICAgICogfSk7XG4gICAgICogYGBgXG4gICAgICpcbiAgICAgKiBAcGFyYW0gd2hhdCBBIHBhdHRlcm4gc3RyaW5nIHRvIG1hdGNoLCBjb21waWxlZCBhcyBhIFtbVXJsTWF0Y2hlcl1dLlxuICAgICAqIEBwYXJhbSBoYW5kbGVyIFRoZSBwYXRoIChvciBmdW5jdGlvbiB0aGF0IHJldHVybnMgYSBwYXRoKSB0aGF0IHlvdSB3YW50IHRvIHJlZGlyZWN0IHlvdXIgdXNlciB0by5cbiAgICAgKiBAcGFyYW0gcnVsZUNhbGxiYWNrIFtvcHRpb25hbF0gQSBjYWxsYmFjayB0aGF0IHJlY2VpdmVzIHRoZSBgcnVsZWAgcmVnaXN0ZXJlZCB3aXRoIFtbVXJsTWF0Y2hlci5ydWxlXV1cbiAgICAgKlxuICAgICAqIE5vdGU6IHRoZSBoYW5kbGVyIG1heSBhbHNvIGludm9rZSBhcmJpdHJhcnkgY29kZSwgc3VjaCBhcyBgJHN0YXRlLmdvKClgXG4gICAgICovXG4gICAgVXJsUm91dGVyUHJvdmlkZXIucHJvdG90eXBlLndoZW4gPSBmdW5jdGlvbiAod2hhdCwgaGFuZGxlcikge1xuICAgICAgICBpZiAoaXNBcnJheShoYW5kbGVyKSB8fCBpc0Z1bmN0aW9uKGhhbmRsZXIpKSB7XG4gICAgICAgICAgICBoYW5kbGVyID0gVXJsUm91dGVyUHJvdmlkZXIuaW5qZWN0YWJsZUhhbmRsZXIodGhpcy5fcm91dGVyLCBoYW5kbGVyKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLl91cmxSb3V0ZXIud2hlbih3aGF0LCBoYW5kbGVyKTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcbiAgICBcbiAgICBVcmxSb3V0ZXJQcm92aWRlci5pbmplY3RhYmxlSGFuZGxlciA9IGZ1bmN0aW9uIChyb3V0ZXIsIGhhbmRsZXIpIHtcbiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uIChtYXRjaCkge1xuICAgICAgICAgICAgcmV0dXJuIHNlcnZpY2VzLiRpbmplY3Rvci5pbnZva2UoaGFuZGxlciwgbnVsbCwgeyAkbWF0Y2g6IG1hdGNoLCAkc3RhdGVQYXJhbXM6IHJvdXRlci5nbG9iYWxzLnBhcmFtcyB9KTtcbiAgICAgICAgfTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIERpc2FibGVzIG1vbml0b3Jpbmcgb2YgdGhlIFVSTC5cbiAgICAgKlxuICAgICAqIENhbGwgdGhpcyBtZXRob2QgYmVmb3JlIFVJLVJvdXRlciBoYXMgYm9vdHN0cmFwcGVkLlxuICAgICAqIEl0IHdpbGwgc3RvcCBVSS1Sb3V0ZXIgZnJvbSBwZXJmb3JtaW5nIHRoZSBpbml0aWFsIHVybCBzeW5jLlxuICAgICAqXG4gICAgICogVGhpcyBjYW4gYmUgdXNlZnVsIHRvIHBlcmZvcm0gc29tZSBhc3luY2hyb25vdXMgaW5pdGlhbGl6YXRpb24gYmVmb3JlIHRoZSByb3V0ZXIgc3RhcnRzLlxuICAgICAqIE9uY2UgdGhlIGluaXRpYWxpemF0aW9uIGlzIGNvbXBsZXRlLCBjYWxsIFtbbGlzdGVuXV0gdG8gdGVsbCBVSS1Sb3V0ZXIgdG8gc3RhcnQgd2F0Y2hpbmcgYW5kIHN5bmNocm9uaXppbmcgdGhlIFVSTC5cbiAgICAgKlxuICAgICAqICMjIyMgRXhhbXBsZTpcbiAgICAgKiBgYGBqc1xuICAgICAqIHZhciBhcHAgPSBhbmd1bGFyLm1vZHVsZSgnYXBwJywgWyd1aS5yb3V0ZXInXSk7XG4gICAgICpcbiAgICAgKiBhcHAuY29uZmlnKGZ1bmN0aW9uICgkdXJsUm91dGVyUHJvdmlkZXIpIHtcbiAgICAgKiAgIC8vIFByZXZlbnQgJHVybFJvdXRlciBmcm9tIGF1dG9tYXRpY2FsbHkgaW50ZXJjZXB0aW5nIFVSTCBjaGFuZ2VzO1xuICAgICAqICAgJHVybFJvdXRlclByb3ZpZGVyLmRlZmVySW50ZXJjZXB0KCk7XG4gICAgICogfSlcbiAgICAgKlxuICAgICAqIGFwcC5ydW4oZnVuY3Rpb24gKE15U2VydmljZSwgJHVybFJvdXRlciwgJGh0dHApIHtcbiAgICAgKiAgICRodHRwLmdldChcIi9zdHVmZlwiKS50aGVuKGZ1bmN0aW9uKHJlc3ApIHtcbiAgICAgKiAgICAgTXlTZXJ2aWNlLmRvU3R1ZmYocmVzcC5kYXRhKTtcbiAgICAgKiAgICAgJHVybFJvdXRlci5saXN0ZW4oKTtcbiAgICAgKiAgICAgJHVybFJvdXRlci5zeW5jKCk7XG4gICAgICogICB9KTtcbiAgICAgKiB9KTtcbiAgICAgKiBgYGBcbiAgICAgKlxuICAgICAqIEBwYXJhbSBkZWZlciBJbmRpY2F0ZXMgd2hldGhlciB0byBkZWZlciBsb2NhdGlvbiBjaGFuZ2UgaW50ZXJjZXB0aW9uLlxuICAgICAqICAgICAgICBQYXNzaW5nIG5vIHBhcmFtZXRlciBpcyBlcXVpdmFsZW50IHRvIGB0cnVlYC5cbiAgICAgKi9cbiAgICBVcmxSb3V0ZXJQcm92aWRlci5wcm90b3R5cGUuZGVmZXJJbnRlcmNlcHQgPSBmdW5jdGlvbiAoZGVmZXIpIHtcbiAgICAgICAgdGhpcy5fdXJsUm91dGVyLmRlZmVySW50ZXJjZXB0KGRlZmVyKTtcbiAgICB9O1xuICAgIFxuICAgIHJldHVybiBVcmxSb3V0ZXJQcm92aWRlcjtcbn0oKSk7XG5cbi8qKlxuICogIyBBbmd1bGFyIDEgdHlwZXNcbiAqXG4gKiBVSS1Sb3V0ZXIgY29yZSBwcm92aWRlcyB2YXJpb3VzIFR5cGVzY3JpcHQgdHlwZXMgd2hpY2ggeW91IGNhbiB1c2UgZm9yIGNvZGUgY29tcGxldGlvbiBhbmQgdmFsaWRhdGluZyBwYXJhbWV0ZXIgdmFsdWVzLCBldGMuXG4gKiBUaGUgY3VzdG9taXphdGlvbnMgdG8gdGhlIGNvcmUgdHlwZXMgZm9yIEFuZ3VsYXIgVUktUm91dGVyIGFyZSBkb2N1bWVudGVkIGhlcmUuXG4gKlxuICogVGhlIG9wdGlvbmFsIFtbJHJlc29sdmVdXSBzZXJ2aWNlIGlzIGFsc28gZG9jdW1lbnRlZCBoZXJlLlxuICpcbiAqIEBtb2R1bGUgbmcxXG4gKiBAcHJlZmVycmVkXG4gKi9cbi8qKiBmb3IgdHlwZWRvYyAqL1xubmcubW9kdWxlKFwidWkucm91dGVyLmFuZ3VsYXIxXCIsIFtdKTtcbnZhciBtb2RfaW5pdCA9IG5nLm1vZHVsZSgndWkucm91dGVyLmluaXQnLCBbXSk7XG52YXIgbW9kX3V0aWwgPSBuZy5tb2R1bGUoJ3VpLnJvdXRlci51dGlsJywgWyduZycsICd1aS5yb3V0ZXIuaW5pdCddKTtcbnZhciBtb2RfcnRyID0gbmcubW9kdWxlKCd1aS5yb3V0ZXIucm91dGVyJywgWyd1aS5yb3V0ZXIudXRpbCddKTtcbnZhciBtb2Rfc3RhdGUgPSBuZy5tb2R1bGUoJ3VpLnJvdXRlci5zdGF0ZScsIFsndWkucm91dGVyLnJvdXRlcicsICd1aS5yb3V0ZXIudXRpbCcsICd1aS5yb3V0ZXIuYW5ndWxhcjEnXSk7XG52YXIgbW9kX21haW4gPSBuZy5tb2R1bGUoJ3VpLnJvdXRlcicsIFsndWkucm91dGVyLmluaXQnLCAndWkucm91dGVyLnN0YXRlJywgJ3VpLnJvdXRlci5hbmd1bGFyMSddKTtcbnZhciBtb2RfY21wdCA9IG5nLm1vZHVsZSgndWkucm91dGVyLmNvbXBhdCcsIFsndWkucm91dGVyJ10pOyAvLyB0c2xpbnQ6ZGlzYWJsZS1saW5lXG52YXIgcm91dGVyID0gbnVsbDtcbiR1aVJvdXRlci4kaW5qZWN0ID0gWyckbG9jYXRpb25Qcm92aWRlciddO1xuLyoqIFRoaXMgYW5ndWxhciAxIHByb3ZpZGVyIGluc3RhbnRpYXRlcyBhIFJvdXRlciBhbmQgZXhwb3NlcyBpdHMgc2VydmljZXMgdmlhIHRoZSBhbmd1bGFyIGluamVjdG9yICovXG5mdW5jdGlvbiAkdWlSb3V0ZXIoJGxvY2F0aW9uUHJvdmlkZXIpIHtcbiAgICAvLyBDcmVhdGUgYSBuZXcgaW5zdGFuY2Ugb2YgdGhlIFJvdXRlciB3aGVuIHRoZSAkdWlSb3V0ZXJQcm92aWRlciBpcyBpbml0aWFsaXplZFxuICAgIHJvdXRlciA9IHRoaXMucm91dGVyID0gbmV3IFVJUm91dGVyKCk7XG4gICAgcm91dGVyLnN0YXRlUHJvdmlkZXIgPSBuZXcgU3RhdGVQcm92aWRlcihyb3V0ZXIuc3RhdGVSZWdpc3RyeSwgcm91dGVyLnN0YXRlU2VydmljZSk7XG4gICAgLy8gQXBwbHkgbmcxIHNwZWNpZmljIFN0YXRlQnVpbGRlciBjb2RlIGZvciBgdmlld3NgLCBgcmVzb2x2ZWAsIGFuZCBgb25FeGl0L1JldGFpbi9FbnRlcmAgcHJvcGVydGllc1xuICAgIHJvdXRlci5zdGF0ZVJlZ2lzdHJ5LmRlY29yYXRvcihcInZpZXdzXCIsIG5nMVZpZXdzQnVpbGRlcik7XG4gICAgcm91dGVyLnN0YXRlUmVnaXN0cnkuZGVjb3JhdG9yKFwib25FeGl0XCIsIGdldFN0YXRlSG9va0J1aWxkZXIoXCJvbkV4aXRcIikpO1xuICAgIHJvdXRlci5zdGF0ZVJlZ2lzdHJ5LmRlY29yYXRvcihcIm9uUmV0YWluXCIsIGdldFN0YXRlSG9va0J1aWxkZXIoXCJvblJldGFpblwiKSk7XG4gICAgcm91dGVyLnN0YXRlUmVnaXN0cnkuZGVjb3JhdG9yKFwib25FbnRlclwiLCBnZXRTdGF0ZUhvb2tCdWlsZGVyKFwib25FbnRlclwiKSk7XG4gICAgcm91dGVyLnZpZXdTZXJ2aWNlLl9wbHVnaW5hcGkuX3ZpZXdDb25maWdGYWN0b3J5KCduZzEnLCBnZXROZzFWaWV3Q29uZmlnRmFjdG9yeSgpKTtcbiAgICB2YXIgbmcxTG9jYXRpb25TZXJ2aWNlID0gcm91dGVyLmxvY2F0aW9uU2VydmljZSA9IHJvdXRlci5sb2NhdGlvbkNvbmZpZyA9IG5ldyBOZzFMb2NhdGlvblNlcnZpY2VzKCRsb2NhdGlvblByb3ZpZGVyKTtcbiAgICBOZzFMb2NhdGlvblNlcnZpY2VzLm1vbmtleVBhdGNoUGF0aFBhcmFtZXRlclR5cGUocm91dGVyKTtcbiAgICAvLyBiYWNrd2FyZHMgY29tcGF0OiBhbHNvIGV4cG9zZSByb3V0ZXIgaW5zdGFuY2UgYXMgJHVpUm91dGVyUHJvdmlkZXIucm91dGVyXG4gICAgcm91dGVyWydyb3V0ZXInXSA9IHJvdXRlcjtcbiAgICByb3V0ZXJbJyRnZXQnXSA9ICRnZXQ7XG4gICAgJGdldC4kaW5qZWN0ID0gWyckbG9jYXRpb24nLCAnJGJyb3dzZXInLCAnJHNuaWZmZXInLCAnJHJvb3RTY29wZScsICckaHR0cCcsICckdGVtcGxhdGVDYWNoZSddO1xuICAgIGZ1bmN0aW9uICRnZXQoJGxvY2F0aW9uLCAkYnJvd3NlciwgJHNuaWZmZXIsICRyb290U2NvcGUsICRodHRwLCAkdGVtcGxhdGVDYWNoZSkge1xuICAgICAgICBuZzFMb2NhdGlvblNlcnZpY2UuX3J1bnRpbWVTZXJ2aWNlcygkcm9vdFNjb3BlLCAkbG9jYXRpb24sICRzbmlmZmVyLCAkYnJvd3Nlcik7XG4gICAgICAgIGRlbGV0ZSByb3V0ZXJbJ3JvdXRlciddO1xuICAgICAgICBkZWxldGUgcm91dGVyWyckZ2V0J107XG4gICAgICAgIHJldHVybiByb3V0ZXI7XG4gICAgfVxuICAgIHJldHVybiByb3V0ZXI7XG59XG52YXIgZ2V0UHJvdmlkZXJGb3IgPSBmdW5jdGlvbiAoc2VydmljZU5hbWUpIHsgcmV0dXJuIFsnJHVpUm91dGVyUHJvdmlkZXInLCBmdW5jdGlvbiAoJHVycCkge1xuICAgICAgICB2YXIgc2VydmljZSA9ICR1cnAucm91dGVyW3NlcnZpY2VOYW1lXTtcbiAgICAgICAgc2VydmljZVtcIiRnZXRcIl0gPSBmdW5jdGlvbiAoKSB7IHJldHVybiBzZXJ2aWNlOyB9O1xuICAgICAgICByZXR1cm4gc2VydmljZTtcbiAgICB9XTsgfTtcbi8vIFRoaXMgZWZmZWN0aXZlbHkgY2FsbHMgJGdldCgpIG9uIGAkdWlSb3V0ZXJQcm92aWRlcmAgdG8gdHJpZ2dlciBpbml0ICh3aGVuIG5nIGVudGVycyBydW50aW1lKVxucnVuQmxvY2suJGluamVjdCA9IFsnJGluamVjdG9yJywgJyRxJywgJyR1aVJvdXRlciddO1xuZnVuY3Rpb24gcnVuQmxvY2soJGluamVjdG9yJCQxLCAkcSQkMSwgJHVpUm91dGVyKSB7XG4gICAgc2VydmljZXMuJGluamVjdG9yID0gJGluamVjdG9yJCQxO1xuICAgIHNlcnZpY2VzLiRxID0gJHEkJDE7XG4gICAgLy8gVGhlICRpbmplY3RvciBpcyBub3cgYXZhaWxhYmxlLlxuICAgIC8vIEZpbmQgYW55IHJlc29sdmFibGVzIHRoYXQgaGFkIGRlcGVuZGVuY3kgYW5ub3RhdGlvbiBkZWZlcnJlZFxuICAgICR1aVJvdXRlci5zdGF0ZVJlZ2lzdHJ5LmdldCgpXG4gICAgICAgIC5tYXAoZnVuY3Rpb24gKHgpIHsgcmV0dXJuIHguJCRzdGF0ZSgpLnJlc29sdmFibGVzOyB9KVxuICAgICAgICAucmVkdWNlKHVubmVzdFIsIFtdKVxuICAgICAgICAuZmlsdGVyKGZ1bmN0aW9uICh4KSB7IHJldHVybiB4LmRlcHMgPT09IFwiZGVmZXJyZWRcIjsgfSlcbiAgICAgICAgLmZvckVhY2goZnVuY3Rpb24gKHJlc29sdmFibGUpIHsgcmV0dXJuIHJlc29sdmFibGUuZGVwcyA9ICRpbmplY3RvciQkMS5hbm5vdGF0ZShyZXNvbHZhYmxlLnJlc29sdmVGbik7IH0pO1xufVxuLy8gJHVybFJvdXRlciBzZXJ2aWNlIGFuZCAkdXJsUm91dGVyUHJvdmlkZXJcbnZhciBnZXRVcmxSb3V0ZXJQcm92aWRlciA9IGZ1bmN0aW9uICh1aVJvdXRlcikge1xuICAgIHJldHVybiB1aVJvdXRlci51cmxSb3V0ZXJQcm92aWRlciA9IG5ldyBVcmxSb3V0ZXJQcm92aWRlcih1aVJvdXRlcik7XG59O1xuLy8gJHN0YXRlIHNlcnZpY2UgYW5kICRzdGF0ZVByb3ZpZGVyXG4vLyAkdXJsUm91dGVyIHNlcnZpY2UgYW5kICR1cmxSb3V0ZXJQcm92aWRlclxudmFyIGdldFN0YXRlUHJvdmlkZXIgPSBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIGV4dGVuZChyb3V0ZXIuc3RhdGVQcm92aWRlciwgeyAkZ2V0OiBmdW5jdGlvbiAoKSB7IHJldHVybiByb3V0ZXIuc3RhdGVTZXJ2aWNlOyB9IH0pO1xufTtcbndhdGNoRGlnZXN0cy4kaW5qZWN0ID0gWyckcm9vdFNjb3BlJ107XG5mdW5jdGlvbiB3YXRjaERpZ2VzdHMoJHJvb3RTY29wZSkge1xuICAgICRyb290U2NvcGUuJHdhdGNoKGZ1bmN0aW9uICgpIHsgdHJhY2UuYXBwcm94aW1hdGVEaWdlc3RzKys7IH0pO1xufVxubW9kX2luaXQucHJvdmlkZXIoXCIkdWlSb3V0ZXJcIiwgJHVpUm91dGVyKTtcbm1vZF9ydHIucHJvdmlkZXIoJyR1cmxSb3V0ZXInLCBbJyR1aVJvdXRlclByb3ZpZGVyJywgZ2V0VXJsUm91dGVyUHJvdmlkZXJdKTtcbm1vZF91dGlsLnByb3ZpZGVyKCckdXJsU2VydmljZScsIGdldFByb3ZpZGVyRm9yKCd1cmxTZXJ2aWNlJykpO1xubW9kX3V0aWwucHJvdmlkZXIoJyR1cmxNYXRjaGVyRmFjdG9yeScsIFsnJHVpUm91dGVyUHJvdmlkZXInLCBmdW5jdGlvbiAoKSB7IHJldHVybiByb3V0ZXIudXJsTWF0Y2hlckZhY3Rvcnk7IH1dKTtcbm1vZF91dGlsLnByb3ZpZGVyKCckdGVtcGxhdGVGYWN0b3J5JywgZnVuY3Rpb24gKCkgeyByZXR1cm4gbmV3IFRlbXBsYXRlRmFjdG9yeSgpOyB9KTtcbm1vZF9zdGF0ZS5wcm92aWRlcignJHN0YXRlUmVnaXN0cnknLCBnZXRQcm92aWRlckZvcignc3RhdGVSZWdpc3RyeScpKTtcbm1vZF9zdGF0ZS5wcm92aWRlcignJHVpUm91dGVyR2xvYmFscycsIGdldFByb3ZpZGVyRm9yKCdnbG9iYWxzJykpO1xubW9kX3N0YXRlLnByb3ZpZGVyKCckdHJhbnNpdGlvbnMnLCBnZXRQcm92aWRlckZvcigndHJhbnNpdGlvblNlcnZpY2UnKSk7XG5tb2Rfc3RhdGUucHJvdmlkZXIoJyRzdGF0ZScsIFsnJHVpUm91dGVyUHJvdmlkZXInLCBnZXRTdGF0ZVByb3ZpZGVyXSk7XG5tb2Rfc3RhdGUuZmFjdG9yeSgnJHN0YXRlUGFyYW1zJywgWyckdWlSb3V0ZXInLCBmdW5jdGlvbiAoJHVpUm91dGVyKSB7IHJldHVybiAkdWlSb3V0ZXIuZ2xvYmFscy5wYXJhbXM7IH1dKTtcbm1vZF9tYWluLmZhY3RvcnkoJyR2aWV3JywgZnVuY3Rpb24gKCkgeyByZXR1cm4gcm91dGVyLnZpZXdTZXJ2aWNlOyB9KTtcbm1vZF9tYWluLnNlcnZpY2UoXCIkdHJhY2VcIiwgZnVuY3Rpb24gKCkgeyByZXR1cm4gdHJhY2U7IH0pO1xubW9kX21haW4ucnVuKHdhdGNoRGlnZXN0cyk7XG5tb2RfdXRpbC5ydW4oWyckdXJsTWF0Y2hlckZhY3RvcnknLCBmdW5jdGlvbiAoJHVybE1hdGNoZXJGYWN0b3J5KSB7IH1dKTtcbm1vZF9zdGF0ZS5ydW4oWyckc3RhdGUnLCBmdW5jdGlvbiAoJHN0YXRlKSB7IH1dKTtcbm1vZF9ydHIucnVuKFsnJHVybFJvdXRlcicsIGZ1bmN0aW9uICgkdXJsUm91dGVyKSB7IH1dKTtcbm1vZF9pbml0LnJ1bihydW5CbG9jayk7XG4vKiogQGhpZGRlbiBUT0RPOiBmaW5kIGEgcGxhY2UgdG8gbW92ZSB0aGlzICovXG52YXIgZ2V0TG9jYWxzID0gZnVuY3Rpb24gKGN0eCkge1xuICAgIHZhciB0b2tlbnMgPSBjdHguZ2V0VG9rZW5zKCkuZmlsdGVyKGlzU3RyaW5nKTtcbiAgICB2YXIgdHVwbGVzID0gdG9rZW5zLm1hcChmdW5jdGlvbiAoa2V5KSB7XG4gICAgICAgIHZhciByZXNvbHZhYmxlID0gY3R4LmdldFJlc29sdmFibGUoa2V5KTtcbiAgICAgICAgdmFyIHdhaXRQb2xpY3kgPSBjdHguZ2V0UG9saWN5KHJlc29sdmFibGUpLmFzeW5jO1xuICAgICAgICByZXR1cm4gW2tleSwgd2FpdFBvbGljeSA9PT0gJ05PV0FJVCcgPyByZXNvbHZhYmxlLnByb21pc2UgOiByZXNvbHZhYmxlLmRhdGFdO1xuICAgIH0pO1xuICAgIHJldHVybiB0dXBsZXMucmVkdWNlKGFwcGx5UGFpcnMsIHt9KTtcbn07XG5cbi8qKlxuICogIyBBbmd1bGFyIDEgaW5qZWN0YWJsZSBzZXJ2aWNlc1xuICpcbiAqIFRoaXMgaXMgYSBsaXN0IG9mIHRoZSBvYmplY3RzIHdoaWNoIGNhbiBiZSBpbmplY3RlZCB1c2luZyBhbmd1bGFyJ3MgaW5qZWN0b3IuXG4gKlxuICogVGhlcmUgYXJlIHRocmVlIGRpZmZlcmVudCBraW5kIG9mIGluamVjdGFibGUgb2JqZWN0czpcbiAqXG4gKiAjIyAqKlByb3ZpZGVyKiogb2JqZWN0c1xuICogIyMjIyBpbmplY3RhYmxlIGludG8gYSBgLmNvbmZpZygpYCBibG9jayBkdXJpbmcgY29uZmlndGltZVxuICpcbiAqIC0gW1skdWlSb3V0ZXJQcm92aWRlcl1dOiBUaGUgVUktUm91dGVyIGluc3RhbmNlXG4gKiAtIFtbJHN0YXRlUHJvdmlkZXJdXTogU3RhdGUgcmVnaXN0cmF0aW9uXG4gKiAtIFtbJHRyYW5zaXRpb25zUHJvdmlkZXJdXTogVHJhbnNpdGlvbiBob29rc1xuICogLSBbWyR1cmxTZXJ2aWNlUHJvdmlkZXJdXTogQWxsIFVSTCByZWxhdGVkIHB1YmxpYyBBUElzXG4gKlxuICogLSBbWyR1aVZpZXdTY3JvbGxQcm92aWRlcl1dOiBEaXNhYmxlIHVpLXJvdXRlciB2aWV3IHNjcm9sbGluZ1xuICogLSBbWyR1cmxSb3V0ZXJQcm92aWRlcl1dOiAoZGVwcmVjYXRlZCkgVXJsIG1hdGNoaW5nIHJ1bGVzXG4gKiAtIFtbJHVybE1hdGNoZXJGYWN0b3J5UHJvdmlkZXJdXTogKGRlcHJlY2F0ZWQpIFVybCBwYXJzaW5nIGNvbmZpZ1xuICpcbiAqICMjICoqU2VydmljZSoqIG9iamVjdHNcbiAqICMjIyMgaW5qZWN0YWJsZSBnbG9iYWxseSBkdXJpbmcgcnVudGltZVxuICpcbiAqIC0gW1skdWlSb3V0ZXJdXTogVGhlIFVJLVJvdXRlciBpbnN0YW5jZVxuICogLSBbWyR0cmFjZV1dOiBFbmFibGUgdHJhbnNpdGlvbiB0cmFjZS9kZWJ1Z1xuICogLSBbWyR0cmFuc2l0aW9uc11dOiBUcmFuc2l0aW9uIGhvb2tzXG4gKiAtIFtbJHN0YXRlXV06IEltcGVyYXRpdmUgc3RhdGUgcmVsYXRlZCBBUElzXG4gKiAtIFtbJHN0YXRlUmVnaXN0cnldXTogU3RhdGUgcmVnaXN0cmF0aW9uXG4gKiAtIFtbJHVybFNlcnZpY2VdXTogQWxsIFVSTCByZWxhdGVkIHB1YmxpYyBBUElzXG4gKiAtIFtbJHVpUm91dGVyR2xvYmFsc11dOiBHbG9iYWwgdmFyaWFibGVzXG4gKiAtIFtbJHVpVmlld1Njcm9sbF1dOiBTY3JvbGwgYW4gZWxlbWVudCBpbnRvIHZpZXdcbiAqXG4gKiAtIFtbJHN0YXRlUGFyYW1zXV06IChkZXByZWNhdGVkKSBHbG9iYWwgc3RhdGUgcGFyYW0gdmFsdWVzXG4gKiAtIFtbJHVybFJvdXRlcl1dOiAoZGVwcmVjYXRlZCkgVVJMIHN5bmNocm9uaXphdGlvblxuICogLSBbWyR1cmxNYXRjaGVyRmFjdG9yeV1dOiAoZGVwcmVjYXRlZCkgVVJMIHBhcnNpbmcgY29uZmlnXG4gKlxuICogIyMgKipQZXItVHJhbnNpdGlvbioqIG9iamVjdHNcbiAqXG4gKiAtIFRoZXNlIGtpbmQgb2Ygb2JqZWN0cyBhcmUgaW5qZWN0YWJsZSBpbnRvOlxuICogICAtIFJlc29sdmVzIChbW05nMVN0YXRlRGVjbGFyYXRpb24ucmVzb2x2ZV1dKSxcbiAqICAgLSBUcmFuc2l0aW9uIEhvb2tzIChbW1RyYW5zaXRpb25TZXJ2aWNlLm9uU3RhcnRdXSwgZXRjKSxcbiAqICAgLSBSb3V0ZWQgQ29udHJvbGxlcnMgKFtbTmcxVmlld0RlY2xhcmF0aW9uLmNvbnRyb2xsZXJdXSlcbiAqXG4gKiAjIyMjIERpZmZlcmVudCBpbnN0YW5jZXMgYXJlIGluamVjdGVkIGJhc2VkIG9uIHRoZSBbW1RyYW5zaXRpb25dXVxuICpcbiAqIC0gW1skdHJhbnNpdGlvbiRdXTogVGhlIGN1cnJlbnQgVHJhbnNpdGlvbiBvYmplY3RcbiAqIC0gW1skc3RhdGVQYXJhbXNdXTogU3RhdGUgcGFyYW0gdmFsdWVzIGZvciBwZW5kaW5nIFRyYW5zaXRpb24gKGRlcHJlY2F0ZWQpXG4gKiAtIEFueSByZXNvbHZlIGRhdGEgZGVmaW5lZCB1c2luZyBbW05nMVN0YXRlRGVjbGFyYXRpb24ucmVzb2x2ZV1dXG4gKlxuICogQG5nMWFwaVxuICogQHByZWZlcnJlZFxuICogQG1vZHVsZSBpbmplY3RhYmxlc1xuICovIC8qKiAqL1xuLyoqXG4gKiBUaGUgY3VycmVudCAob3IgcGVuZGluZykgU3RhdGUgUGFyYW1ldGVyc1xuICpcbiAqIEFuIGluamVjdGFibGUgZ2xvYmFsICoqU2VydmljZSBPYmplY3QqKiB3aGljaCBob2xkcyB0aGUgc3RhdGUgcGFyYW1ldGVycyBmb3IgdGhlIGxhdGVzdCAqKlNVQ0NFU1NGVUwqKiB0cmFuc2l0aW9uLlxuICpcbiAqIFRoZSB2YWx1ZXMgYXJlIG5vdCB1cGRhdGVkIHVudGlsICphZnRlciogYSBgVHJhbnNpdGlvbmAgc3VjY2Vzc2Z1bGx5IGNvbXBsZXRlcy5cbiAqXG4gKiAqKkFsc286KiogYW4gaW5qZWN0YWJsZSAqKlBlci1UcmFuc2l0aW9uIE9iamVjdCoqIG9iamVjdCB3aGljaCBob2xkcyB0aGUgcGVuZGluZyBzdGF0ZSBwYXJhbWV0ZXJzIGZvciB0aGUgcGVuZGluZyBgVHJhbnNpdGlvbmAgY3VycmVudGx5IHJ1bm5pbmcuXG4gKlxuICogIyMjIERlcHJlY2F0aW9uIHdhcm5pbmc6XG4gKlxuICogVGhlIHZhbHVlIGluamVjdGVkIGZvciBgJHN0YXRlUGFyYW1zYCBpcyBkaWZmZXJlbnQgZGVwZW5kaW5nIG9uIHdoZXJlIGl0IGlzIGluamVjdGVkLlxuICpcbiAqIC0gV2hlbiBpbmplY3RlZCBpbnRvIGFuIGFuZ3VsYXIgc2VydmljZSwgdGhlIG9iamVjdCBpbmplY3RlZCBpcyB0aGUgZ2xvYmFsICoqU2VydmljZSBPYmplY3QqKiB3aXRoIHRoZSBwYXJhbWV0ZXIgdmFsdWVzIGZvciB0aGUgbGF0ZXN0IHN1Y2Nlc3NmdWwgYFRyYW5zaXRpb25gLlxuICogLSBXaGVuIGluamVjdGVkIGludG8gdHJhbnNpdGlvbiBob29rcywgcmVzb2x2ZXMsIG9yIHZpZXcgY29udHJvbGxlcnMsIHRoZSBvYmplY3QgaXMgdGhlICoqUGVyLVRyYW5zaXRpb24gT2JqZWN0Kiogd2l0aCB0aGUgcGFyYW1ldGVyIHZhbHVlcyBmb3IgdGhlIHJ1bm5pbmcgYFRyYW5zaXRpb25gLlxuICpcbiAqIEJlY2F1c2Ugb2YgdGhlc2UgY29uZnVzaW5nIGRldGFpbHMsIHRoaXMgc2VydmljZSBpcyBkZXByZWNhdGVkLlxuICpcbiAqICMjIyBJbnN0ZWFkIG9mIHVzaW5nIHRoZSBnbG9iYWwgYCRzdGF0ZVBhcmFtc2Agc2VydmljZSBvYmplY3QsXG4gKiBpbmplY3QgW1skdWlSb3V0ZXJHbG9iYWxzXV0gYW5kIHVzZSBbW1VJUm91dGVyR2xvYmFscy5wYXJhbXNdXVxuICpcbiAqIGBgYGpzXG4gKiBNeVNlcnZpY2UuJGluamVjdCA9IFsnJHVpUm91dGVyR2xvYmFscyddO1xuICogZnVuY3Rpb24gTXlTZXJ2aWNlKCR1aVJvdXRlckdsb2JhbHMpIHtcbiAqICAgcmV0dXJuIHtcbiAqICAgICBwYXJhbVZhbHVlczogZnVuY3Rpb24gKCkge1xuICogICAgICAgcmV0dXJuICR1aVJvdXRlckdsb2JhbHMucGFyYW1zO1xuICogICAgIH1cbiAqICAgfVxuICogfVxuICogYGBgXG4gKlxuICogIyMjIEluc3RlYWQgb2YgdXNpbmcgdGhlIHBlci10cmFuc2l0aW9uIGAkc3RhdGVQYXJhbXNgIG9iamVjdCxcbiAqIGluamVjdCB0aGUgY3VycmVudCBgVHJhbnNpdGlvbmAgKGFzIFtbJHRyYW5zaXRpb24kXV0pIGFuZCB1c2UgW1tUcmFuc2l0aW9uLnBhcmFtc11dXG4gKlxuICogYGBganNcbiAqIE15Q29udHJvbGxlci4kaW5qZWN0ID0gWyckdHJhbnNpdGlvbiQnXTtcbiAqIGZ1bmN0aW9uIE15Q29udHJvbGxlcigkdHJhbnNpdGlvbiQpIHtcbiAqICAgdmFyIHVzZXJuYW1lID0gJHRyYW5zaXRpb24kLnBhcmFtcygpLnVzZXJuYW1lO1xuICogICAvLyAuLiBkbyBzb21ldGhpbmcgd2l0aCB1c2VybmFtZVxuICogfVxuICogYGBgXG4gKlxuICogLS0tXG4gKlxuICogVGhpcyBvYmplY3QgY2FuIGJlIGluamVjdGVkIGludG8gb3RoZXIgc2VydmljZXMuXG4gKlxuICogIyMjIyBEZXByZWNhdGVkIEV4YW1wbGU6XG4gKiBgYGBqc1xuICogU29tZVNlcnZpY2UuJGluamVjdCA9IFsnJGh0dHAnLCAnJHN0YXRlUGFyYW1zJ107XG4gKiBmdW5jdGlvbiBTb21lU2VydmljZSgkaHR0cCwgJHN0YXRlUGFyYW1zKSB7XG4gKiAgIHJldHVybiB7XG4gKiAgICAgZ2V0VXNlcjogZnVuY3Rpb24oKSB7XG4gKiAgICAgICByZXR1cm4gJGh0dHAuZ2V0KCcvYXBpL3VzZXJzLycgKyAkc3RhdGVQYXJhbXMudXNlcm5hbWUpO1xuICogICAgIH1cbiAqICAgfVxuICogfTtcbiAqIGFuZ3VsYXIuc2VydmljZSgnU29tZVNlcnZpY2UnLCBTb21lU2VydmljZSk7XG4gKiBgYGBcbiAqIEBkZXByZWNhdGVkXG4gKi9cblxuLyoqXG4gKiAjIEFuZ3VsYXIgMSBEaXJlY3RpdmVzXG4gKlxuICogVGhlc2UgYXJlIHRoZSBkaXJlY3RpdmVzIGluY2x1ZGVkIGluIFVJLVJvdXRlciBmb3IgQW5ndWxhciAxLlxuICogVGhlc2UgZGlyZWN0aXZlcyBhcmUgdXNlZCBpbiB0ZW1wbGF0ZXMgdG8gY3JlYXRlIHZpZXdwb3J0cyBhbmQgbGluay9uYXZpZ2F0ZSB0byBzdGF0ZXMuXG4gKlxuICogQG5nMWFwaVxuICogQHByZWZlcnJlZFxuICogQG1vZHVsZSBkaXJlY3RpdmVzXG4gKi8gLyoqIGZvciB0eXBlZG9jICovXG4vKiogQGhpZGRlbiAqL1xuZnVuY3Rpb24gcGFyc2VTdGF0ZVJlZihyZWYpIHtcbiAgICB2YXIgcGFyYW1zT25seSA9IHJlZi5tYXRjaCgvXlxccyooe1tefV0qfSlcXHMqJC8pLCBwYXJzZWQ7XG4gICAgaWYgKHBhcmFtc09ubHkpXG4gICAgICAgIHJlZiA9ICcoJyArIHBhcmFtc09ubHlbMV0gKyAnKSc7XG4gICAgcGFyc2VkID0gcmVmLnJlcGxhY2UoL1xcbi9nLCBcIiBcIikubWF0Y2goL15cXHMqKFteKF0qPylcXHMqKFxcKCguKilcXCkpP1xccyokLyk7XG4gICAgaWYgKCFwYXJzZWQgfHwgcGFyc2VkLmxlbmd0aCAhPT0gNClcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiSW52YWxpZCBzdGF0ZSByZWYgJ1wiICsgcmVmICsgXCInXCIpO1xuICAgIHJldHVybiB7IHN0YXRlOiBwYXJzZWRbMV0gfHwgbnVsbCwgcGFyYW1FeHByOiBwYXJzZWRbM10gfHwgbnVsbCB9O1xufVxuLyoqIEBoaWRkZW4gKi9cbmZ1bmN0aW9uIHN0YXRlQ29udGV4dChlbCkge1xuICAgIHZhciAkdWlWaWV3ID0gZWwucGFyZW50KCkuaW5oZXJpdGVkRGF0YSgnJHVpVmlldycpO1xuICAgIHZhciBwYXRoID0gcGFyc2UoJyRjZmcucGF0aCcpKCR1aVZpZXcpO1xuICAgIHJldHVybiBwYXRoID8gdGFpbChwYXRoKS5zdGF0ZS5uYW1lIDogdW5kZWZpbmVkO1xufVxuLyoqIEBoaWRkZW4gKi9cbmZ1bmN0aW9uIHByb2Nlc3NlZERlZigkc3RhdGUsICRlbGVtZW50LCBkZWYpIHtcbiAgICB2YXIgdWlTdGF0ZSA9IGRlZi51aVN0YXRlIHx8ICRzdGF0ZS5jdXJyZW50Lm5hbWU7XG4gICAgdmFyIHVpU3RhdGVPcHRzID0gZXh0ZW5kKGRlZmF1bHRPcHRzKCRlbGVtZW50LCAkc3RhdGUpLCBkZWYudWlTdGF0ZU9wdHMgfHwge30pO1xuICAgIHZhciBocmVmID0gJHN0YXRlLmhyZWYodWlTdGF0ZSwgZGVmLnVpU3RhdGVQYXJhbXMsIHVpU3RhdGVPcHRzKTtcbiAgICByZXR1cm4geyB1aVN0YXRlOiB1aVN0YXRlLCB1aVN0YXRlUGFyYW1zOiBkZWYudWlTdGF0ZVBhcmFtcywgdWlTdGF0ZU9wdHM6IHVpU3RhdGVPcHRzLCBocmVmOiBocmVmIH07XG59XG4vKiogQGhpZGRlbiAqL1xuZnVuY3Rpb24gZ2V0VHlwZUluZm8oZWwpIHtcbiAgICAvLyBTVkdBRWxlbWVudCBkb2VzIG5vdCB1c2UgdGhlIGhyZWYgYXR0cmlidXRlLCBidXQgcmF0aGVyIHRoZSAneGxpbmtIcmVmJyBhdHRyaWJ1dGUuXG4gICAgdmFyIGlzU3ZnID0gT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKGVsLnByb3AoJ2hyZWYnKSkgPT09ICdbb2JqZWN0IFNWR0FuaW1hdGVkU3RyaW5nXSc7XG4gICAgdmFyIGlzRm9ybSA9IGVsWzBdLm5vZGVOYW1lID09PSBcIkZPUk1cIjtcbiAgICByZXR1cm4ge1xuICAgICAgICBhdHRyOiBpc0Zvcm0gPyBcImFjdGlvblwiIDogKGlzU3ZnID8gJ3hsaW5rOmhyZWYnIDogJ2hyZWYnKSxcbiAgICAgICAgaXNBbmNob3I6IGVsLnByb3AoXCJ0YWdOYW1lXCIpLnRvVXBwZXJDYXNlKCkgPT09IFwiQVwiLFxuICAgICAgICBjbGlja2FibGU6ICFpc0Zvcm1cbiAgICB9O1xufVxuLyoqIEBoaWRkZW4gKi9cbmZ1bmN0aW9uIGNsaWNrSG9vayhlbCwgJHN0YXRlLCAkdGltZW91dCwgdHlwZSwgZ2V0RGVmKSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uIChlKSB7XG4gICAgICAgIHZhciBidXR0b24gPSBlLndoaWNoIHx8IGUuYnV0dG9uLCB0YXJnZXQgPSBnZXREZWYoKTtcbiAgICAgICAgaWYgKCEoYnV0dG9uID4gMSB8fCBlLmN0cmxLZXkgfHwgZS5tZXRhS2V5IHx8IGUuc2hpZnRLZXkgfHwgZWwuYXR0cigndGFyZ2V0JykpKSB7XG4gICAgICAgICAgICAvLyBIQUNLOiBUaGlzIGlzIHRvIGFsbG93IG5nLWNsaWNrcyB0byBiZSBwcm9jZXNzZWQgYmVmb3JlIHRoZSB0cmFuc2l0aW9uIGlzIGluaXRpYXRlZDpcbiAgICAgICAgICAgIHZhciB0cmFuc2l0aW9uID0gJHRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICRzdGF0ZS5nbyh0YXJnZXQudWlTdGF0ZSwgdGFyZ2V0LnVpU3RhdGVQYXJhbXMsIHRhcmdldC51aVN0YXRlT3B0cyk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgIC8vIGlmIHRoZSBzdGF0ZSBoYXMgbm8gVVJMLCBpZ25vcmUgb25lIHByZXZlbnREZWZhdWx0IGZyb20gdGhlIDxhPiBkaXJlY3RpdmUuXG4gICAgICAgICAgICB2YXIgaWdub3JlUHJldmVudERlZmF1bHRDb3VudCA9IHR5cGUuaXNBbmNob3IgJiYgIXRhcmdldC5ocmVmID8gMSA6IDA7XG4gICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIGlmIChpZ25vcmVQcmV2ZW50RGVmYXVsdENvdW50LS0gPD0gMClcbiAgICAgICAgICAgICAgICAgICAgJHRpbWVvdXQuY2FuY2VsKHRyYW5zaXRpb24pO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgIH07XG59XG4vKiogQGhpZGRlbiAqL1xuZnVuY3Rpb24gZGVmYXVsdE9wdHMoZWwsICRzdGF0ZSkge1xuICAgIHJldHVybiB7XG4gICAgICAgIHJlbGF0aXZlOiBzdGF0ZUNvbnRleHQoZWwpIHx8ICRzdGF0ZS4kY3VycmVudCxcbiAgICAgICAgaW5oZXJpdDogdHJ1ZSxcbiAgICAgICAgc291cmNlOiBcInNyZWZcIlxuICAgIH07XG59XG4vKiogQGhpZGRlbiAqL1xuZnVuY3Rpb24gYmluZEV2ZW50cyhlbGVtZW50LCBzY29wZSwgaG9va0ZuLCB1aVN0YXRlT3B0cykge1xuICAgIHZhciBldmVudHM7XG4gICAgaWYgKHVpU3RhdGVPcHRzKSB7XG4gICAgICAgIGV2ZW50cyA9IHVpU3RhdGVPcHRzLmV2ZW50cztcbiAgICB9XG4gICAgaWYgKCFpc0FycmF5KGV2ZW50cykpIHtcbiAgICAgICAgZXZlbnRzID0gWydjbGljayddO1xuICAgIH1cbiAgICB2YXIgb24gPSBlbGVtZW50Lm9uID8gJ29uJyA6ICdiaW5kJztcbiAgICBmb3IgKHZhciBfaSA9IDAsIGV2ZW50c18xID0gZXZlbnRzOyBfaSA8IGV2ZW50c18xLmxlbmd0aDsgX2krKykge1xuICAgICAgICB2YXIgZXZlbnRfMSA9IGV2ZW50c18xW19pXTtcbiAgICAgICAgZWxlbWVudFtvbl0oZXZlbnRfMSwgaG9va0ZuKTtcbiAgICB9XG4gICAgc2NvcGUuJG9uKCckZGVzdHJveScsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIG9mZiA9IGVsZW1lbnQub2ZmID8gJ29mZicgOiAndW5iaW5kJztcbiAgICAgICAgZm9yICh2YXIgX2kgPSAwLCBldmVudHNfMiA9IGV2ZW50czsgX2kgPCBldmVudHNfMi5sZW5ndGg7IF9pKyspIHtcbiAgICAgICAgICAgIHZhciBldmVudF8yID0gZXZlbnRzXzJbX2ldO1xuICAgICAgICAgICAgZWxlbWVudFtvZmZdKGV2ZW50XzIsIGhvb2tGbik7XG4gICAgICAgIH1cbiAgICB9KTtcbn1cbi8qKlxuICogYHVpLXNyZWZgOiBBIGRpcmVjdGl2ZSBmb3IgbGlua2luZyB0byBhIHN0YXRlXG4gKlxuICogQSBkaXJlY3RpdmUgd2hpY2ggbGlua3MgdG8gYSBzdGF0ZSAoYW5kIG9wdGlvbmFsbHksIHBhcmFtZXRlcnMpLlxuICogV2hlbiBjbGlja2VkLCB0aGlzIGRpcmVjdGl2ZSBhY3RpdmF0ZXMgdGhlIGxpbmtlZCBzdGF0ZSB3aXRoIHRoZSBzdXBwbGllZCBwYXJhbWV0ZXIgdmFsdWVzLlxuICpcbiAqICMjIyBMaW5rZWQgU3RhdGVcbiAqIFRoZSBhdHRyaWJ1dGUgdmFsdWUgb2YgdGhlIGB1aS1zcmVmYCBpcyB0aGUgbmFtZSBvZiB0aGUgc3RhdGUgdG8gbGluayB0by5cbiAqXG4gKiAjIyMjIEV4YW1wbGU6XG4gKiBUaGlzIHdpbGwgYWN0aXZhdGUgdGhlIGBob21lYCBzdGF0ZSB3aGVuIHRoZSBsaW5rIGlzIGNsaWNrZWQuXG4gKiBgYGBodG1sXG4gKiA8YSB1aS1zcmVmPVwiaG9tZVwiPkhvbWU8L2E+XG4gKiBgYGBcbiAqXG4gKiAjIyMgUmVsYXRpdmUgTGlua3NcbiAqIFlvdSBjYW4gYWxzbyB1c2UgcmVsYXRpdmUgc3RhdGUgcGF0aHMgd2l0aGluIGB1aS1zcmVmYCwganVzdCBsaWtlIGEgcmVsYXRpdmUgcGF0aCBwYXNzZWQgdG8gYCRzdGF0ZS5nbygpYCAoW1tTdGF0ZVNlcnZpY2UuZ29dXSkuXG4gKiBZb3UganVzdCBuZWVkIHRvIGJlIGF3YXJlIHRoYXQgdGhlIHBhdGggaXMgcmVsYXRpdmUgdG8gdGhlIHN0YXRlIHRoYXQgKmNyZWF0ZWQqIHRoZSBsaW5rLlxuICogVGhpcyBhbGxvd3MgYSBzdGF0ZSB0byBjcmVhdGUgYSByZWxhdGl2ZSBgdWktc3JlZmAgd2hpY2ggYWx3YXlzIHRhcmdldHMgdGhlIHNhbWUgZGVzdGluYXRpb24uXG4gKlxuICogIyMjIyBFeGFtcGxlOlxuICogQm90aCB0aGVzZSBsaW5rcyBhcmUgcmVsYXRpdmUgdG8gdGhlIHBhcmVudCBzdGF0ZSwgZXZlbiB3aGVuIGEgY2hpbGQgc3RhdGUgaXMgY3VycmVudGx5IGFjdGl2ZS5cbiAqIGBgYGh0bWxcbiAqIDxhIHVpLXNyZWY9XCIuY2hpbGQxXCI+Y2hpbGQgMSBzdGF0ZTwvYT5cbiAqIDxhIHVpLXNyZWY9XCIuY2hpbGQyXCI+Y2hpbGQgMiBzdGF0ZTwvYT5cbiAqIGBgYFxuICpcbiAqIFRoaXMgbGluayBhY3RpdmF0ZXMgdGhlIHBhcmVudCBzdGF0ZS5cbiAqIGBgYGh0bWxcbiAqIDxhIHVpLXNyZWY9XCJeXCI+UmV0dXJuPC9hPlxuICogYGBgXG4gKlxuICogIyMjIGhyZWZzXG4gKiBJZiB0aGUgbGlua2VkIHN0YXRlIGhhcyBhIFVSTCwgdGhlIGRpcmVjdGl2ZSB3aWxsIGF1dG9tYXRpY2FsbHkgZ2VuZXJhdGUgYW5kXG4gKiB1cGRhdGUgdGhlIGBocmVmYCBhdHRyaWJ1dGUgKHVzaW5nIHRoZSBbW1N0YXRlU2VydmljZS5ocmVmXV0gIG1ldGhvZCkuXG4gKlxuICogIyMjIyBFeGFtcGxlOlxuICogQXNzdW1pbmcgdGhlIGB1c2Vyc2Agc3RhdGUgaGFzIGEgdXJsIG9mIGAvdXNlcnMvYFxuICogYGBgaHRtbFxuICogPGEgdWktc3JlZj1cInVzZXJzXCIgaHJlZj1cIi91c2Vycy9cIj5Vc2VyczwvYT5cbiAqIGBgYFxuICpcbiAqICMjIyBQYXJhbWV0ZXIgVmFsdWVzXG4gKiBJbiBhZGRpdGlvbiB0byB0aGUgc3RhdGUgbmFtZSwgYSBgdWktc3JlZmAgY2FuIGluY2x1ZGUgcGFyYW1ldGVyIHZhbHVlcyB3aGljaCBhcmUgYXBwbGllZCB3aGVuIGFjdGl2YXRpbmcgdGhlIHN0YXRlLlxuICogUGFyYW0gdmFsdWVzIGNhbiBiZSBwcm92aWRlZCBpbiB0aGUgYHVpLXNyZWZgIHZhbHVlIGFmdGVyIHRoZSBzdGF0ZSBuYW1lLCBlbmNsb3NlZCBieSBwYXJlbnRoZXNlcy5cbiAqIFRoZSBjb250ZW50IGluc2lkZSB0aGUgcGFyZW50aGVzZXMgaXMgYW4gZXhwcmVzc2lvbiwgZXZhbHVhdGVkIHRvIHRoZSBwYXJhbWV0ZXIgdmFsdWVzLlxuICpcbiAqICMjIyMgRXhhbXBsZTpcbiAqIFRoaXMgZXhhbXBsZSByZW5kZXJzIGEgbGlzdCBvZiBsaW5rcyB0byB1c2Vycy5cbiAqIFRoZSBzdGF0ZSdzIGB1c2VySWRgIHBhcmFtZXRlciB2YWx1ZSBjb21lcyBmcm9tIGVhY2ggdXNlcidzIGB1c2VyLmlkYCBwcm9wZXJ0eS5cbiAqIGBgYGh0bWxcbiAqIDxsaSBuZy1yZXBlYXQ9XCJ1c2VyIGluIHVzZXJzXCI+XG4gKiAgIDxhIHVpLXNyZWY9XCJ1c2Vycy5kZXRhaWwoeyB1c2VySWQ6IHVzZXIuaWQgfSlcIj57eyB1c2VyLmRpc3BsYXlOYW1lIH19PC9hPlxuICogPC9saT5cbiAqIGBgYFxuICpcbiAqIE5vdGU6XG4gKiBUaGUgcGFyYW1ldGVyIHZhbHVlcyBleHByZXNzaW9uIGlzIGAkd2F0Y2hgZWQgZm9yIHVwZGF0ZXMuXG4gKlxuICogIyMjIFRyYW5zaXRpb24gT3B0aW9uc1xuICogWW91IGNhbiBzcGVjaWZ5IFtbVHJhbnNpdGlvbk9wdGlvbnNdXSB0byBwYXNzIHRvIFtbU3RhdGVTZXJ2aWNlLmdvXV0gYnkgdXNpbmcgdGhlIGB1aS1zcmVmLW9wdHNgIGF0dHJpYnV0ZS5cbiAqIE9wdGlvbnMgYXJlIHJlc3RyaWN0ZWQgdG8gYGxvY2F0aW9uYCwgYGluaGVyaXRgLCBhbmQgYHJlbG9hZGAuXG4gKlxuICogIyMjIyBFeGFtcGxlOlxuICogYGBgaHRtbFxuICogPGEgdWktc3JlZj1cImhvbWVcIiB1aS1zcmVmLW9wdHM9XCJ7IHJlbG9hZDogdHJ1ZSB9XCI+SG9tZTwvYT5cbiAqIGBgYFxuICpcbiAqICMjIyBPdGhlciBET00gRXZlbnRzXG4gKlxuICogWW91IGNhbiBhbHNvIGN1c3RvbWl6ZSB3aGljaCBET00gZXZlbnRzIHRvIHJlc3BvbmQgdG8gKGluc3RlYWQgb2YgYGNsaWNrYCkgYnlcbiAqIHByb3ZpZGluZyBhbiBgZXZlbnRzYCBhcnJheSBpbiB0aGUgYHVpLXNyZWYtb3B0c2AgYXR0cmlidXRlLlxuICpcbiAqICMjIyMgRXhhbXBsZTpcbiAqIGBgYGh0bWxcbiAqIDxpbnB1dCB0eXBlPVwidGV4dFwiIHVpLXNyZWY9XCJjb250YWN0c1wiIHVpLXNyZWYtb3B0cz1cInsgZXZlbnRzOiBbJ2NoYW5nZScsICdibHVyJ10gfVwiPlxuICogYGBgXG4gKlxuICogIyMjIEhpZ2hsaWdodGluZyB0aGUgYWN0aXZlIGxpbmtcbiAqIFRoaXMgZGlyZWN0aXZlIGNhbiBiZSB1c2VkIGluIGNvbmp1bmN0aW9uIHdpdGggW1t1aVNyZWZBY3RpdmVdXSB0byBoaWdobGlnaHQgdGhlIGFjdGl2ZSBsaW5rLlxuICpcbiAqICMjIyBFeGFtcGxlc1xuICogSWYgeW91IGhhdmUgdGhlIGZvbGxvd2luZyB0ZW1wbGF0ZTpcbiAqXG4gKiBgYGBodG1sXG4gKiA8YSB1aS1zcmVmPVwiaG9tZVwiPkhvbWU8L2E+XG4gKiA8YSB1aS1zcmVmPVwiYWJvdXRcIj5BYm91dDwvYT5cbiAqIDxhIHVpLXNyZWY9XCJ7cGFnZTogMn1cIj5OZXh0IHBhZ2U8L2E+XG4gKlxuICogPHVsPlxuICogICAgIDxsaSBuZy1yZXBlYXQ9XCJjb250YWN0IGluIGNvbnRhY3RzXCI+XG4gKiAgICAgICAgIDxhIHVpLXNyZWY9XCJjb250YWN0cy5kZXRhaWwoeyBpZDogY29udGFjdC5pZCB9KVwiPnt7IGNvbnRhY3QubmFtZSB9fTwvYT5cbiAqICAgICA8L2xpPlxuICogPC91bD5cbiAqIGBgYFxuICpcbiAqIFRoZW4gKGFzc3VtaW5nIHRoZSBjdXJyZW50IHN0YXRlIGlzIGBjb250YWN0c2ApIHRoZSByZW5kZXJlZCBodG1sIGluY2x1ZGluZyBocmVmcyB3b3VsZCBiZTpcbiAqXG4gKiBgYGBodG1sXG4gKiA8YSBocmVmPVwiIy9ob21lXCIgdWktc3JlZj1cImhvbWVcIj5Ib21lPC9hPlxuICogPGEgaHJlZj1cIiMvYWJvdXRcIiB1aS1zcmVmPVwiYWJvdXRcIj5BYm91dDwvYT5cbiAqIDxhIGhyZWY9XCIjL2NvbnRhY3RzP3BhZ2U9MlwiIHVpLXNyZWY9XCJ7cGFnZTogMn1cIj5OZXh0IHBhZ2U8L2E+XG4gKlxuICogPHVsPlxuICogICAgIDxsaSBuZy1yZXBlYXQ9XCJjb250YWN0IGluIGNvbnRhY3RzXCI+XG4gKiAgICAgICAgIDxhIGhyZWY9XCIjL2NvbnRhY3RzLzFcIiB1aS1zcmVmPVwiY29udGFjdHMuZGV0YWlsKHsgaWQ6IGNvbnRhY3QuaWQgfSlcIj5Kb2U8L2E+XG4gKiAgICAgPC9saT5cbiAqICAgICA8bGkgbmctcmVwZWF0PVwiY29udGFjdCBpbiBjb250YWN0c1wiPlxuICogICAgICAgICA8YSBocmVmPVwiIy9jb250YWN0cy8yXCIgdWktc3JlZj1cImNvbnRhY3RzLmRldGFpbCh7IGlkOiBjb250YWN0LmlkIH0pXCI+QWxpY2U8L2E+XG4gKiAgICAgPC9saT5cbiAqICAgICA8bGkgbmctcmVwZWF0PVwiY29udGFjdCBpbiBjb250YWN0c1wiPlxuICogICAgICAgICA8YSBocmVmPVwiIy9jb250YWN0cy8zXCIgdWktc3JlZj1cImNvbnRhY3RzLmRldGFpbCh7IGlkOiBjb250YWN0LmlkIH0pXCI+Qm9iPC9hPlxuICogICAgIDwvbGk+XG4gKiA8L3VsPlxuICpcbiAqIDxhIGhyZWY9XCIjL2hvbWVcIiB1aS1zcmVmPVwiaG9tZVwiIHVpLXNyZWYtb3B0cz1cIntyZWxvYWQ6IHRydWV9XCI+SG9tZTwvYT5cbiAqIGBgYFxuICpcbiAqICMjIyBOb3Rlc1xuICpcbiAqIC0gWW91IGNhbiB1c2UgYHVpLXNyZWZgIHRvIGNoYW5nZSAqKm9ubHkgdGhlIHBhcmFtZXRlciB2YWx1ZXMqKiBieSBvbWl0dGluZyB0aGUgc3RhdGUgbmFtZSBhbmQgcGFyZW50aGVzZXMuXG4gKiAjIyMjIEV4YW1wbGU6XG4gKiBTZXRzIHRoZSBgbGFuZ2AgcGFyYW1ldGVyIHRvIGBlbmAgYW5kIHJlbWFpbnMgb24gdGhlIHNhbWUgc3RhdGUuXG4gKlxuICogYGBgaHRtbFxuICogPGEgdWktc3JlZj1cInsgbGFuZzogJ2VuJyB9XCI+RW5nbGlzaDwvYT5cbiAqIGBgYFxuICpcbiAqIC0gQSBtaWRkbGUtY2xpY2ssIHJpZ2h0LWNsaWNrLCBvciBjdHJsLWNsaWNrIGlzIGhhbmRsZWQgKG5hdGl2ZWx5KSBieSB0aGUgYnJvd3NlciB0byBvcGVuIHRoZSBocmVmIGluIGEgbmV3IHdpbmRvdywgZm9yIGV4YW1wbGUuXG4gKlxuICogLSBVbmxpa2UgdGhlIHBhcmFtZXRlciB2YWx1ZXMgZXhwcmVzc2lvbiwgdGhlIHN0YXRlIG5hbWUgaXMgbm90IGAkd2F0Y2hgZWQgKGZvciBwZXJmb3JtYW5jZSByZWFzb25zKS5cbiAqIElmIHlvdSBuZWVkIHRvIGR5bmFtaWNhbGx5IHVwZGF0ZSB0aGUgc3RhdGUgYmVpbmcgbGlua2VkIHRvLCB1c2UgdGhlIGZ1bGx5IGR5bmFtaWMgW1t1aVN0YXRlXV0gZGlyZWN0aXZlLlxuICovXG52YXIgdWlTcmVmO1xudWlTcmVmID0gWyckdWlSb3V0ZXInLCAnJHRpbWVvdXQnLFxuICAgIGZ1bmN0aW9uICRTdGF0ZVJlZkRpcmVjdGl2ZSgkdWlSb3V0ZXIsICR0aW1lb3V0KSB7XG4gICAgICAgIHZhciAkc3RhdGUgPSAkdWlSb3V0ZXIuc3RhdGVTZXJ2aWNlO1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgcmVzdHJpY3Q6ICdBJyxcbiAgICAgICAgICAgIHJlcXVpcmU6IFsnP151aVNyZWZBY3RpdmUnLCAnP151aVNyZWZBY3RpdmVFcSddLFxuICAgICAgICAgICAgbGluazogZnVuY3Rpb24gKHNjb3BlLCBlbGVtZW50LCBhdHRycywgdWlTcmVmQWN0aXZlKSB7XG4gICAgICAgICAgICAgICAgdmFyIHR5cGUgPSBnZXRUeXBlSW5mbyhlbGVtZW50KTtcbiAgICAgICAgICAgICAgICB2YXIgYWN0aXZlID0gdWlTcmVmQWN0aXZlWzFdIHx8IHVpU3JlZkFjdGl2ZVswXTtcbiAgICAgICAgICAgICAgICB2YXIgdW5saW5rSW5mb0ZuID0gbnVsbDtcbiAgICAgICAgICAgICAgICB2YXIgaG9va0ZuO1xuICAgICAgICAgICAgICAgIHZhciByYXdEZWYgPSB7fTtcbiAgICAgICAgICAgICAgICB2YXIgZ2V0RGVmID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gcHJvY2Vzc2VkRGVmKCRzdGF0ZSwgZWxlbWVudCwgcmF3RGVmKTsgfTtcbiAgICAgICAgICAgICAgICB2YXIgcmVmID0gcGFyc2VTdGF0ZVJlZihhdHRycy51aVNyZWYpO1xuICAgICAgICAgICAgICAgIHJhd0RlZi51aVN0YXRlID0gcmVmLnN0YXRlO1xuICAgICAgICAgICAgICAgIHJhd0RlZi51aVN0YXRlT3B0cyA9IGF0dHJzLnVpU3JlZk9wdHMgPyBzY29wZS4kZXZhbChhdHRycy51aVNyZWZPcHRzKSA6IHt9O1xuICAgICAgICAgICAgICAgIGZ1bmN0aW9uIHVwZGF0ZSgpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGRlZiA9IGdldERlZigpO1xuICAgICAgICAgICAgICAgICAgICBpZiAodW5saW5rSW5mb0ZuKVxuICAgICAgICAgICAgICAgICAgICAgICAgdW5saW5rSW5mb0ZuKCk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChhY3RpdmUpXG4gICAgICAgICAgICAgICAgICAgICAgICB1bmxpbmtJbmZvRm4gPSBhY3RpdmUuJCRhZGRTdGF0ZUluZm8oZGVmLnVpU3RhdGUsIGRlZi51aVN0YXRlUGFyYW1zKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGRlZi5ocmVmICE9IG51bGwpXG4gICAgICAgICAgICAgICAgICAgICAgICBhdHRycy4kc2V0KHR5cGUuYXR0ciwgZGVmLmhyZWYpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAocmVmLnBhcmFtRXhwcikge1xuICAgICAgICAgICAgICAgICAgICBzY29wZS4kd2F0Y2gocmVmLnBhcmFtRXhwciwgZnVuY3Rpb24gKHZhbCQkMSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmF3RGVmLnVpU3RhdGVQYXJhbXMgPSBleHRlbmQoe30sIHZhbCQkMSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB1cGRhdGUoKTtcbiAgICAgICAgICAgICAgICAgICAgfSwgdHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgIHJhd0RlZi51aVN0YXRlUGFyYW1zID0gZXh0ZW5kKHt9LCBzY29wZS4kZXZhbChyZWYucGFyYW1FeHByKSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHVwZGF0ZSgpO1xuICAgICAgICAgICAgICAgIHNjb3BlLiRvbignJGRlc3Ryb3knLCAkdWlSb3V0ZXIuc3RhdGVSZWdpc3RyeS5vblN0YXRlc0NoYW5nZWQodXBkYXRlKSk7XG4gICAgICAgICAgICAgICAgc2NvcGUuJG9uKCckZGVzdHJveScsICR1aVJvdXRlci50cmFuc2l0aW9uU2VydmljZS5vblN1Y2Nlc3Moe30sIHVwZGF0ZSkpO1xuICAgICAgICAgICAgICAgIGlmICghdHlwZS5jbGlja2FibGUpXG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICBob29rRm4gPSBjbGlja0hvb2soZWxlbWVudCwgJHN0YXRlLCAkdGltZW91dCwgdHlwZSwgZ2V0RGVmKTtcbiAgICAgICAgICAgICAgICBiaW5kRXZlbnRzKGVsZW1lbnQsIHNjb3BlLCBob29rRm4sIHJhd0RlZi51aVN0YXRlT3B0cyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgfV07XG4vKipcbiAqIGB1aS1zdGF0ZWA6IEEgZnVsbHkgZHluYW1pYyBkaXJlY3RpdmUgZm9yIGxpbmtpbmcgdG8gYSBzdGF0ZVxuICpcbiAqIEEgZGlyZWN0aXZlIHdoaWNoIGxpbmtzIHRvIGEgc3RhdGUgKGFuZCBvcHRpb25hbGx5LCBwYXJhbWV0ZXJzKS5cbiAqIFdoZW4gY2xpY2tlZCwgdGhpcyBkaXJlY3RpdmUgYWN0aXZhdGVzIHRoZSBsaW5rZWQgc3RhdGUgd2l0aCB0aGUgc3VwcGxpZWQgcGFyYW1ldGVyIHZhbHVlcy5cbiAqXG4gKiAqKlRoaXMgZGlyZWN0aXZlIGlzIHZlcnkgc2ltaWxhciB0byBbW3VpU3JlZl1dLCBidXQgaXQgYCRvYnNlcnZlYHMgYW5kIGAkd2F0Y2hgZXMvZXZhbHVhdGVzIGFsbCBpdHMgaW5wdXRzLioqXG4gKlxuICogQSBkaXJlY3RpdmUgd2hpY2ggbGlua3MgdG8gYSBzdGF0ZSAoYW5kIG9wdGlvbmFsbHksIHBhcmFtZXRlcnMpLlxuICogV2hlbiBjbGlja2VkLCB0aGlzIGRpcmVjdGl2ZSBhY3RpdmF0ZXMgdGhlIGxpbmtlZCBzdGF0ZSB3aXRoIHRoZSBzdXBwbGllZCBwYXJhbWV0ZXIgdmFsdWVzLlxuICpcbiAqICMjIyBMaW5rZWQgU3RhdGVcbiAqIFRoZSBhdHRyaWJ1dGUgdmFsdWUgb2YgYHVpLXN0YXRlYCBpcyBhbiBleHByZXNzaW9uIHdoaWNoIGlzIGAkd2F0Y2hgZWQgYW5kIGV2YWx1YXRlZCBhcyB0aGUgc3RhdGUgdG8gbGluayB0by5cbiAqICoqVGhpcyBpcyBpbiBjb250cmFzdCB3aXRoIGB1aS1zcmVmYCwgd2hpY2ggdGFrZXMgYSBzdGF0ZSBuYW1lIGFzIGEgc3RyaW5nIGxpdGVyYWwuKipcbiAqXG4gKiAjIyMjIEV4YW1wbGU6XG4gKiBDcmVhdGUgYSBsaXN0IG9mIGxpbmtzLlxuICogYGBgaHRtbFxuICogPGxpIG5nLXJlcGVhdD1cImxpbmsgaW4gbmF2bGlua3NcIj5cbiAqICAgPGEgdWktc3RhdGU9XCJsaW5rLnN0YXRlXCI+e3sgbGluay5kaXNwbGF5TmFtZSB9fTwvYT5cbiAqIDwvbGk+XG4gKiBgYGBcbiAqXG4gKiAjIyMgUmVsYXRpdmUgTGlua3NcbiAqIElmIHRoZSBleHByZXNzaW9uIGV2YWx1YXRlcyB0byBhIHJlbGF0aXZlIHBhdGgsIGl0IGlzIHByb2Nlc3NlZCBsaWtlIFtbdWlTcmVmXV0uXG4gKiBZb3UganVzdCBuZWVkIHRvIGJlIGF3YXJlIHRoYXQgdGhlIHBhdGggaXMgcmVsYXRpdmUgdG8gdGhlIHN0YXRlIHRoYXQgKmNyZWF0ZWQqIHRoZSBsaW5rLlxuICogVGhpcyBhbGxvd3MgYSBzdGF0ZSB0byBjcmVhdGUgcmVsYXRpdmUgYHVpLXN0YXRlYCB3aGljaCBhbHdheXMgdGFyZ2V0cyB0aGUgc2FtZSBkZXN0aW5hdGlvbi5cbiAqXG4gKiAjIyMgaHJlZnNcbiAqIElmIHRoZSBsaW5rZWQgc3RhdGUgaGFzIGEgVVJMLCB0aGUgZGlyZWN0aXZlIHdpbGwgYXV0b21hdGljYWxseSBnZW5lcmF0ZSBhbmRcbiAqIHVwZGF0ZSB0aGUgYGhyZWZgIGF0dHJpYnV0ZSAodXNpbmcgdGhlIFtbU3RhdGVTZXJ2aWNlLmhyZWZdXSAgbWV0aG9kKS5cbiAqXG4gKiAjIyMgUGFyYW1ldGVyIFZhbHVlc1xuICogSW4gYWRkaXRpb24gdG8gdGhlIHN0YXRlIG5hbWUgZXhwcmVzc2lvbiwgYSBgdWktc3RhdGVgIGNhbiBpbmNsdWRlIHBhcmFtZXRlciB2YWx1ZXMgd2hpY2ggYXJlIGFwcGxpZWQgd2hlbiBhY3RpdmF0aW5nIHRoZSBzdGF0ZS5cbiAqIFBhcmFtIHZhbHVlcyBzaG91bGQgYmUgcHJvdmlkZWQgdXNpbmcgdGhlIGB1aS1zdGF0ZS1wYXJhbXNgIGF0dHJpYnV0ZS5cbiAqIFRoZSBgdWktc3RhdGUtcGFyYW1zYCBhdHRyaWJ1dGUgdmFsdWUgaXMgYCR3YXRjaGBlZCBhbmQgZXZhbHVhdGVkIGFzIGFuIGV4cHJlc3Npb24uXG4gKlxuICogIyMjIyBFeGFtcGxlOlxuICogVGhpcyBleGFtcGxlIHJlbmRlcnMgYSBsaXN0IG9mIGxpbmtzIHdpdGggcGFyYW0gdmFsdWVzLlxuICogVGhlIHN0YXRlJ3MgYHVzZXJJZGAgcGFyYW1ldGVyIHZhbHVlIGNvbWVzIGZyb20gZWFjaCB1c2VyJ3MgYHVzZXIuaWRgIHByb3BlcnR5LlxuICogYGBgaHRtbFxuICogPGxpIG5nLXJlcGVhdD1cImxpbmsgaW4gbmF2bGlua3NcIj5cbiAqICAgPGEgdWktc3RhdGU9XCJsaW5rLnN0YXRlXCIgdWktc3RhdGUtcGFyYW1zPVwibGluay5wYXJhbXNcIj57eyBsaW5rLmRpc3BsYXlOYW1lIH19PC9hPlxuICogPC9saT5cbiAqIGBgYFxuICpcbiAqICMjIyBUcmFuc2l0aW9uIE9wdGlvbnNcbiAqIFlvdSBjYW4gc3BlY2lmeSBbW1RyYW5zaXRpb25PcHRpb25zXV0gdG8gcGFzcyB0byBbW1N0YXRlU2VydmljZS5nb11dIGJ5IHVzaW5nIHRoZSBgdWktc3RhdGUtb3B0c2AgYXR0cmlidXRlLlxuICogT3B0aW9ucyBhcmUgcmVzdHJpY3RlZCB0byBgbG9jYXRpb25gLCBgaW5oZXJpdGAsIGFuZCBgcmVsb2FkYC5cbiAqIFRoZSB2YWx1ZSBvZiB0aGUgYHVpLXN0YXRlLW9wdHNgIGlzIGAkd2F0Y2hgZWQgYW5kIGV2YWx1YXRlZCBhcyBhbiBleHByZXNzaW9uLlxuICpcbiAqICMjIyMgRXhhbXBsZTpcbiAqIGBgYGh0bWxcbiAqIDxhIHVpLXN0YXRlPVwicmV0dXJudG8uc3RhdGVcIiB1aS1zdGF0ZS1vcHRzPVwieyByZWxvYWQ6IHRydWUgfVwiPkhvbWU8L2E+XG4gKiBgYGBcbiAqXG4gKiAjIyMgT3RoZXIgRE9NIEV2ZW50c1xuICpcbiAqIFlvdSBjYW4gYWxzbyBjdXN0b21pemUgd2hpY2ggRE9NIGV2ZW50cyB0byByZXNwb25kIHRvIChpbnN0ZWFkIG9mIGBjbGlja2ApIGJ5XG4gKiBwcm92aWRpbmcgYW4gYGV2ZW50c2AgYXJyYXkgaW4gdGhlIGB1aS1zdGF0ZS1vcHRzYCBhdHRyaWJ1dGUuXG4gKlxuICogIyMjIyBFeGFtcGxlOlxuICogYGBgaHRtbFxuICogPGlucHV0IHR5cGU9XCJ0ZXh0XCIgdWktc3RhdGU9XCJjb250YWN0c1wiIHVpLXN0YXRlLW9wdHM9XCJ7IGV2ZW50czogWydjaGFuZ2UnLCAnYmx1ciddIH1cIj5cbiAqIGBgYFxuICpcbiAqICMjIyBIaWdobGlnaHRpbmcgdGhlIGFjdGl2ZSBsaW5rXG4gKiBUaGlzIGRpcmVjdGl2ZSBjYW4gYmUgdXNlZCBpbiBjb25qdW5jdGlvbiB3aXRoIFtbdWlTcmVmQWN0aXZlXV0gdG8gaGlnaGxpZ2h0IHRoZSBhY3RpdmUgbGluay5cbiAqXG4gKiAjIyMgTm90ZXNcbiAqXG4gKiAtIFlvdSBjYW4gdXNlIGB1aS1wYXJhbXNgIHRvIGNoYW5nZSAqKm9ubHkgdGhlIHBhcmFtZXRlciB2YWx1ZXMqKiBieSBvbWl0dGluZyB0aGUgc3RhdGUgbmFtZSBhbmQgc3VwcGx5aW5nIG9ubHkgYHVpLXN0YXRlLXBhcmFtc2AuXG4gKiAgIEhvd2V2ZXIsIGl0IG1pZ2h0IGJlIHNpbXBsZXIgdG8gdXNlIFtbdWlTcmVmXV0gcGFyYW1ldGVyLW9ubHkgbGlua3MuXG4gKlxuICogIyMjIyBFeGFtcGxlOlxuICogU2V0cyB0aGUgYGxhbmdgIHBhcmFtZXRlciB0byBgZW5gIGFuZCByZW1haW5zIG9uIHRoZSBzYW1lIHN0YXRlLlxuICpcbiAqIGBgYGh0bWxcbiAqIDxhIHVpLXN0YXRlPVwiXCIgdWktc3RhdGUtcGFyYW1zPVwieyBsYW5nOiAnZW4nIH1cIj5FbmdsaXNoPC9hPlxuICogYGBgXG4gKlxuICogLSBBIG1pZGRsZS1jbGljaywgcmlnaHQtY2xpY2ssIG9yIGN0cmwtY2xpY2sgaXMgaGFuZGxlZCAobmF0aXZlbHkpIGJ5IHRoZSBicm93c2VyIHRvIG9wZW4gdGhlIGhyZWYgaW4gYSBuZXcgd2luZG93LCBmb3IgZXhhbXBsZS5cbiAqIGBgYFxuICovXG52YXIgdWlTdGF0ZTtcbnVpU3RhdGUgPSBbJyR1aVJvdXRlcicsICckdGltZW91dCcsXG4gICAgZnVuY3Rpb24gJFN0YXRlUmVmRHluYW1pY0RpcmVjdGl2ZSgkdWlSb3V0ZXIsICR0aW1lb3V0KSB7XG4gICAgICAgIHZhciAkc3RhdGUgPSAkdWlSb3V0ZXIuc3RhdGVTZXJ2aWNlO1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgcmVzdHJpY3Q6ICdBJyxcbiAgICAgICAgICAgIHJlcXVpcmU6IFsnP151aVNyZWZBY3RpdmUnLCAnP151aVNyZWZBY3RpdmVFcSddLFxuICAgICAgICAgICAgbGluazogZnVuY3Rpb24gKHNjb3BlLCBlbGVtZW50LCBhdHRycywgdWlTcmVmQWN0aXZlKSB7XG4gICAgICAgICAgICAgICAgdmFyIHR5cGUgPSBnZXRUeXBlSW5mbyhlbGVtZW50KTtcbiAgICAgICAgICAgICAgICB2YXIgYWN0aXZlID0gdWlTcmVmQWN0aXZlWzFdIHx8IHVpU3JlZkFjdGl2ZVswXTtcbiAgICAgICAgICAgICAgICB2YXIgdW5saW5rSW5mb0ZuID0gbnVsbDtcbiAgICAgICAgICAgICAgICB2YXIgaG9va0ZuO1xuICAgICAgICAgICAgICAgIHZhciByYXdEZWYgPSB7fTtcbiAgICAgICAgICAgICAgICB2YXIgZ2V0RGVmID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gcHJvY2Vzc2VkRGVmKCRzdGF0ZSwgZWxlbWVudCwgcmF3RGVmKTsgfTtcbiAgICAgICAgICAgICAgICB2YXIgaW5wdXRBdHRycyA9IFsndWlTdGF0ZScsICd1aVN0YXRlUGFyYW1zJywgJ3VpU3RhdGVPcHRzJ107XG4gICAgICAgICAgICAgICAgdmFyIHdhdGNoRGVyZWdGbnMgPSBpbnB1dEF0dHJzLnJlZHVjZShmdW5jdGlvbiAoYWNjLCBhdHRyKSB7IHJldHVybiAoYWNjW2F0dHJdID0gbm9vcCQxLCBhY2MpOyB9LCB7fSk7XG4gICAgICAgICAgICAgICAgZnVuY3Rpb24gdXBkYXRlKCkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgZGVmID0gZ2V0RGVmKCk7XG4gICAgICAgICAgICAgICAgICAgIGlmICh1bmxpbmtJbmZvRm4pXG4gICAgICAgICAgICAgICAgICAgICAgICB1bmxpbmtJbmZvRm4oKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGFjdGl2ZSlcbiAgICAgICAgICAgICAgICAgICAgICAgIHVubGlua0luZm9GbiA9IGFjdGl2ZS4kJGFkZFN0YXRlSW5mbyhkZWYudWlTdGF0ZSwgZGVmLnVpU3RhdGVQYXJhbXMpO1xuICAgICAgICAgICAgICAgICAgICBpZiAoZGVmLmhyZWYgIT0gbnVsbClcbiAgICAgICAgICAgICAgICAgICAgICAgIGF0dHJzLiRzZXQodHlwZS5hdHRyLCBkZWYuaHJlZik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlucHV0QXR0cnMuZm9yRWFjaChmdW5jdGlvbiAoZmllbGQpIHtcbiAgICAgICAgICAgICAgICAgICAgcmF3RGVmW2ZpZWxkXSA9IGF0dHJzW2ZpZWxkXSA/IHNjb3BlLiRldmFsKGF0dHJzW2ZpZWxkXSkgOiBudWxsO1xuICAgICAgICAgICAgICAgICAgICBhdHRycy4kb2JzZXJ2ZShmaWVsZCwgZnVuY3Rpb24gKGV4cHIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHdhdGNoRGVyZWdGbnNbZmllbGRdKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB3YXRjaERlcmVnRm5zW2ZpZWxkXSA9IHNjb3BlLiR3YXRjaChleHByLCBmdW5jdGlvbiAobmV3dmFsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmF3RGVmW2ZpZWxkXSA9IG5ld3ZhbDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB1cGRhdGUoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sIHRydWUpO1xuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB1cGRhdGUoKTtcbiAgICAgICAgICAgICAgICBzY29wZS4kb24oJyRkZXN0cm95JywgJHVpUm91dGVyLnN0YXRlUmVnaXN0cnkub25TdGF0ZXNDaGFuZ2VkKHVwZGF0ZSkpO1xuICAgICAgICAgICAgICAgIHNjb3BlLiRvbignJGRlc3Ryb3knLCAkdWlSb3V0ZXIudHJhbnNpdGlvblNlcnZpY2Uub25TdWNjZXNzKHt9LCB1cGRhdGUpKTtcbiAgICAgICAgICAgICAgICBpZiAoIXR5cGUuY2xpY2thYmxlKVxuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgaG9va0ZuID0gY2xpY2tIb29rKGVsZW1lbnQsICRzdGF0ZSwgJHRpbWVvdXQsIHR5cGUsIGdldERlZik7XG4gICAgICAgICAgICAgICAgYmluZEV2ZW50cyhlbGVtZW50LCBzY29wZSwgaG9va0ZuLCByYXdEZWYudWlTdGF0ZU9wdHMpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgIH1dO1xuLyoqXG4gKiBgdWktc3JlZi1hY3RpdmVgIGFuZCBgdWktc3JlZi1hY3RpdmUtZXFgOiBBIGRpcmVjdGl2ZSB0aGF0IGFkZHMgYSBDU1MgY2xhc3Mgd2hlbiBhIGB1aS1zcmVmYCBpcyBhY3RpdmVcbiAqXG4gKiBBIGRpcmVjdGl2ZSB3b3JraW5nIGFsb25nc2lkZSBbW3VpU3JlZl1dIGFuZCBbW3VpU3RhdGVdXSB0byBhZGQgY2xhc3NlcyB0byBhbiBlbGVtZW50IHdoZW4gdGhlXG4gKiByZWxhdGVkIGRpcmVjdGl2ZSdzIHN0YXRlIGlzIGFjdGl2ZSAoYW5kIHJlbW92ZSB0aGVtIHdoZW4gaXQgaXMgaW5hY3RpdmUpLlxuICpcbiAqIFRoZSBwcmltYXJ5IHVzZS1jYXNlIGlzIHRvIGhpZ2hsaWdodCB0aGUgYWN0aXZlIGxpbmsgaW4gbmF2aWdhdGlvbiBtZW51cyxcbiAqIGRpc3Rpbmd1aXNoaW5nIGl0IGZyb20gdGhlIGluYWN0aXZlIG1lbnUgaXRlbXMuXG4gKlxuICogIyMjIExpbmtpbmcgdG8gYSBgdWktc3JlZmAgb3IgYHVpLXN0YXRlYFxuICogYHVpLXNyZWYtYWN0aXZlYCBjYW4gbGl2ZSBvbiB0aGUgc2FtZSBlbGVtZW50IGFzIGB1aS1zcmVmYC9gdWktc3RhdGVgLCBvciBpdCBjYW4gYmUgb24gYSBwYXJlbnQgZWxlbWVudC5cbiAqIElmIGEgYHVpLXNyZWYtYWN0aXZlYCBpcyBhIHBhcmVudCB0byBtb3JlIHRoYW4gb25lIGB1aS1zcmVmYC9gdWktc3RhdGVgLCBpdCB3aWxsIGFwcGx5IHRoZSBDU1MgY2xhc3Mgd2hlbiAqKmFueSBvZiB0aGUgbGlua3MgYXJlIGFjdGl2ZSoqLlxuICpcbiAqICMjIyBNYXRjaGluZ1xuICpcbiAqIFRoZSBgdWktc3JlZi1hY3RpdmVgIGRpcmVjdGl2ZSBhcHBsaWVzIHRoZSBDU1MgY2xhc3Mgd2hlbiB0aGUgYHVpLXNyZWZgL2B1aS1zdGF0ZWAncyB0YXJnZXQgc3RhdGUgKipvciBhbnkgY2hpbGQgc3RhdGUgaXMgYWN0aXZlKiouXG4gKiBUaGlzIGlzIGEgXCJmdXp6eSBtYXRjaFwiIHdoaWNoIHVzZXMgW1tTdGF0ZVNlcnZpY2UuaW5jbHVkZXNdXS5cbiAqXG4gKiBUaGUgYHVpLXNyZWYtYWN0aXZlLWVxYCBkaXJlY3RpdmUgYXBwbGllcyB0aGUgQ1NTIGNsYXNzIHdoZW4gdGhlIGB1aS1zcmVmYC9gdWktc3RhdGVgJ3MgdGFyZ2V0IHN0YXRlIGlzIGRpcmVjdGx5IGFjdGl2ZSAobm90IHdoZW4gY2hpbGQgc3RhdGVzIGFyZSBhY3RpdmUpLlxuICogVGhpcyBpcyBhbiBcImV4YWN0IG1hdGNoXCIgd2hpY2ggdXNlcyBbW1N0YXRlU2VydmljZS5pc11dLlxuICpcbiAqICMjIyBQYXJhbWV0ZXIgdmFsdWVzXG4gKiBJZiB0aGUgYHVpLXNyZWZgL2B1aS1zdGF0ZWAgaW5jbHVkZXMgcGFyYW1ldGVyIHZhbHVlcywgdGhlIGN1cnJlbnQgcGFyYW1ldGVyIHZhbHVlcyBtdXN0IG1hdGNoIHRoZSBsaW5rJ3MgdmFsdWVzIGZvciB0aGUgbGluayB0byBiZSBoaWdobGlnaHRlZC5cbiAqIFRoaXMgYWxsb3dzIGEgbGlzdCBvZiBsaW5rcyB0byB0aGUgc2FtZSBzdGF0ZSB3aXRoIGRpZmZlcmVudCBwYXJhbWV0ZXJzIHRvIGJlIHJlbmRlcmVkLCBhbmQgdGhlIGNvcnJlY3Qgb25lIGhpZ2hsaWdodGVkLlxuICpcbiAqICMjIyMgRXhhbXBsZTpcbiAqIGBgYGh0bWxcbiAqIDxsaSBuZy1yZXBlYXQ9XCJ1c2VyIGluIHVzZXJzXCIgdWktc3JlZi1hY3RpdmU9XCJhY3RpdmVcIj5cbiAqICAgPGEgdWktc3JlZj1cInVzZXIuZGV0YWlscyh7IHVzZXJJZDogdXNlci5pZCB9KVwiPnt7IHVzZXIubGFzdE5hbWUgfX08L2E+XG4gKiA8L2xpPlxuICogYGBgXG4gKlxuICogIyMjIEV4YW1wbGVzXG4gKlxuICogR2l2ZW4gdGhlIGZvbGxvd2luZyB0ZW1wbGF0ZTpcbiAqICMjIyMgRXhhbXBsZTpcbiAqIGBgYGh0bWxcbiAqIDx1bD5cbiAqICAgPGxpIHVpLXNyZWYtYWN0aXZlPVwiYWN0aXZlXCIgY2xhc3M9XCJpdGVtXCI+XG4gKiAgICAgPGEgaHJlZiB1aS1zcmVmPVwiYXBwLnVzZXIoe3VzZXI6ICdiaWxib2JhZ2dpbnMnfSlcIj5AYmlsYm9iYWdnaW5zPC9hPlxuICogICA8L2xpPlxuICogPC91bD5cbiAqIGBgYFxuICpcbiAqIFdoZW4gdGhlIGFwcCBzdGF0ZSBpcyBgYXBwLnVzZXJgIChvciBhbnkgY2hpbGQgc3RhdGUpLFxuICogYW5kIGNvbnRhaW5zIHRoZSBzdGF0ZSBwYXJhbWV0ZXIgXCJ1c2VyXCIgd2l0aCB2YWx1ZSBcImJpbGJvYmFnZ2luc1wiLFxuICogdGhlIHJlc3VsdGluZyBIVE1MIHdpbGwgYXBwZWFyIGFzIChub3RlIHRoZSAnYWN0aXZlJyBjbGFzcyk6XG4gKlxuICogYGBgaHRtbFxuICogPHVsPlxuICogICA8bGkgdWktc3JlZi1hY3RpdmU9XCJhY3RpdmVcIiBjbGFzcz1cIml0ZW0gYWN0aXZlXCI+XG4gKiAgICAgPGEgdWktc3JlZj1cImFwcC51c2VyKHt1c2VyOiAnYmlsYm9iYWdnaW5zJ30pXCIgaHJlZj1cIi91c2Vycy9iaWxib2JhZ2dpbnNcIj5AYmlsYm9iYWdnaW5zPC9hPlxuICogICA8L2xpPlxuICogPC91bD5cbiAqIGBgYFxuICpcbiAqICMjIyBHbG9iIG1vZGVcbiAqXG4gKiBJdCBpcyBwb3NzaWJsZSB0byBwYXNzIGB1aS1zcmVmLWFjdGl2ZWAgYW4gZXhwcmVzc2lvbiB0aGF0IGV2YWx1YXRlcyB0byBhbiBvYmplY3QuXG4gKiBUaGUgb2JqZWN0cyBrZXlzIHJlcHJlc2VudCBhY3RpdmUgY2xhc3MgbmFtZXMgYW5kIHZhbHVlcyByZXByZXNlbnQgdGhlIHJlc3BlY3RpdmUgc3RhdGUgbmFtZXMvZ2xvYnMuXG4gKiBgdWktc3JlZi1hY3RpdmVgIHdpbGwgbWF0Y2ggaWYgdGhlIGN1cnJlbnQgYWN0aXZlIHN0YXRlICoqaW5jbHVkZXMqKiBhbnkgb2ZcbiAqIHRoZSBzcGVjaWZpZWQgc3RhdGUgbmFtZXMvZ2xvYnMsIGV2ZW4gdGhlIGFic3RyYWN0IG9uZXMuXG4gKlxuICogIyMjIyBFeGFtcGxlOlxuICogR2l2ZW4gdGhlIGZvbGxvd2luZyB0ZW1wbGF0ZSwgd2l0aCBcImFkbWluXCIgYmVpbmcgYW4gYWJzdHJhY3Qgc3RhdGU6XG4gKiBgYGBodG1sXG4gKiA8ZGl2IHVpLXNyZWYtYWN0aXZlPVwieydhY3RpdmUnOiAnYWRtaW4uKionfVwiPlxuICogICA8YSB1aS1zcmVmLWFjdGl2ZT1cImFjdGl2ZVwiIHVpLXNyZWY9XCJhZG1pbi5yb2xlc1wiPlJvbGVzPC9hPlxuICogPC9kaXY+XG4gKiBgYGBcbiAqXG4gKiBXaGVuIHRoZSBjdXJyZW50IHN0YXRlIGlzIFwiYWRtaW4ucm9sZXNcIiB0aGUgXCJhY3RpdmVcIiBjbGFzcyB3aWxsIGJlIGFwcGxpZWQgdG8gYm90aCB0aGUgPGRpdj4gYW5kIDxhPiBlbGVtZW50cy5cbiAqIEl0IGlzIGltcG9ydGFudCB0byBub3RlIHRoYXQgdGhlIHN0YXRlIG5hbWVzL2dsb2JzIHBhc3NlZCB0byBgdWktc3JlZi1hY3RpdmVgIG92ZXJyaWRlIGFueSBzdGF0ZSBwcm92aWRlZCBieSBhIGxpbmtlZCBgdWktc3JlZmAuXG4gKlxuICogIyMjIE5vdGVzOlxuICpcbiAqIC0gVGhlIGNsYXNzIG5hbWUgaXMgaW50ZXJwb2xhdGVkICoqb25jZSoqIGR1cmluZyB0aGUgZGlyZWN0aXZlcyBsaW5rIHRpbWUgKGFueSBmdXJ0aGVyIGNoYW5nZXMgdG8gdGhlXG4gKiBpbnRlcnBvbGF0ZWQgdmFsdWUgYXJlIGlnbm9yZWQpLlxuICpcbiAqIC0gTXVsdGlwbGUgY2xhc3NlcyBtYXkgYmUgc3BlY2lmaWVkIGluIGEgc3BhY2Utc2VwYXJhdGVkIGZvcm1hdDogYHVpLXNyZWYtYWN0aXZlPSdjbGFzczEgY2xhc3MyIGNsYXNzMydgXG4gKi9cbnZhciB1aVNyZWZBY3RpdmU7XG51aVNyZWZBY3RpdmUgPSBbJyRzdGF0ZScsICckc3RhdGVQYXJhbXMnLCAnJGludGVycG9sYXRlJywgJyR1aVJvdXRlcicsXG4gICAgZnVuY3Rpb24gJFN0YXRlUmVmQWN0aXZlRGlyZWN0aXZlKCRzdGF0ZSwgJHN0YXRlUGFyYW1zLCAkaW50ZXJwb2xhdGUsICR1aVJvdXRlcikge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgcmVzdHJpY3Q6IFwiQVwiLFxuICAgICAgICAgICAgY29udHJvbGxlcjogWyckc2NvcGUnLCAnJGVsZW1lbnQnLCAnJGF0dHJzJyxcbiAgICAgICAgICAgICAgICBmdW5jdGlvbiAoJHNjb3BlLCAkZWxlbWVudCwgJGF0dHJzKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBzdGF0ZXMgPSBbXSwgYWN0aXZlRXFDbGFzcywgdWlTcmVmQWN0aXZlO1xuICAgICAgICAgICAgICAgICAgICAvLyBUaGVyZSBwcm9iYWJseSBpc24ndCBtdWNoIHBvaW50IGluICRvYnNlcnZpbmcgdGhpc1xuICAgICAgICAgICAgICAgICAgICAvLyB1aVNyZWZBY3RpdmUgYW5kIHVpU3JlZkFjdGl2ZUVxIHNoYXJlIHRoZSBzYW1lIGRpcmVjdGl2ZSBvYmplY3Qgd2l0aCBzb21lXG4gICAgICAgICAgICAgICAgICAgIC8vIHNsaWdodCBkaWZmZXJlbmNlIGluIGxvZ2ljIHJvdXRpbmdcbiAgICAgICAgICAgICAgICAgICAgYWN0aXZlRXFDbGFzcyA9ICRpbnRlcnBvbGF0ZSgkYXR0cnMudWlTcmVmQWN0aXZlRXEgfHwgJycsIGZhbHNlKSgkc2NvcGUpO1xuICAgICAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdWlTcmVmQWN0aXZlID0gJHNjb3BlLiRldmFsKCRhdHRycy51aVNyZWZBY3RpdmUpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGNhdGNoIChlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBEbyBub3RoaW5nLiB1aVNyZWZBY3RpdmUgaXMgbm90IGEgdmFsaWQgZXhwcmVzc2lvbi5cbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIEZhbGwgYmFjayB0byB1c2luZyAkaW50ZXJwb2xhdGUgYmVsb3dcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB1aVNyZWZBY3RpdmUgPSB1aVNyZWZBY3RpdmUgfHwgJGludGVycG9sYXRlKCRhdHRycy51aVNyZWZBY3RpdmUgfHwgJycsIGZhbHNlKSgkc2NvcGUpO1xuICAgICAgICAgICAgICAgICAgICBpZiAoaXNPYmplY3QodWlTcmVmQWN0aXZlKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgZm9yRWFjaCh1aVNyZWZBY3RpdmUsIGZ1bmN0aW9uIChzdGF0ZU9yTmFtZSwgYWN0aXZlQ2xhc3MpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoaXNTdHJpbmcoc3RhdGVPck5hbWUpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciByZWYgPSBwYXJzZVN0YXRlUmVmKHN0YXRlT3JOYW1lKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYWRkU3RhdGUocmVmLnN0YXRlLCAkc2NvcGUuJGV2YWwocmVmLnBhcmFtRXhwciksIGFjdGl2ZUNsYXNzKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAvLyBBbGxvdyB1aVNyZWYgdG8gY29tbXVuaWNhdGUgd2l0aCB1aVNyZWZBY3RpdmVbRXF1YWxzXVxuICAgICAgICAgICAgICAgICAgICB0aGlzLiQkYWRkU3RhdGVJbmZvID0gZnVuY3Rpb24gKG5ld1N0YXRlLCBuZXdQYXJhbXMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIHdlIGFscmVhZHkgZ290IGFuIGV4cGxpY2l0IHN0YXRlIHByb3ZpZGVkIGJ5IHVpLXNyZWYtYWN0aXZlLCBzbyB3ZVxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gc2hhZG93IHRoZSBvbmUgdGhhdCBjb21lcyBmcm9tIHVpLXNyZWZcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpc09iamVjdCh1aVNyZWZBY3RpdmUpICYmIHN0YXRlcy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGRlcmVnaXN0ZXIgPSBhZGRTdGF0ZShuZXdTdGF0ZSwgbmV3UGFyYW1zLCB1aVNyZWZBY3RpdmUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgdXBkYXRlKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZGVyZWdpc3RlcjtcbiAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAgICAgZnVuY3Rpb24gdXBkYXRlQWZ0ZXJUcmFuc2l0aW9uKHRyYW5zKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0cmFucy5wcm9taXNlLnRoZW4odXBkYXRlKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAkc2NvcGUuJG9uKCckc3RhdGVDaGFuZ2VTdWNjZXNzJywgdXBkYXRlKTtcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLiRvbignJGRlc3Ryb3knLCAkdWlSb3V0ZXIudHJhbnNpdGlvblNlcnZpY2Uub25TdGFydCh7fSwgdXBkYXRlQWZ0ZXJUcmFuc2l0aW9uKSk7XG4gICAgICAgICAgICAgICAgICAgIGlmICgkdWlSb3V0ZXIuZ2xvYmFscy50cmFuc2l0aW9uKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB1cGRhdGVBZnRlclRyYW5zaXRpb24oJHVpUm91dGVyLmdsb2JhbHMudHJhbnNpdGlvbik7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZnVuY3Rpb24gYWRkU3RhdGUoc3RhdGVOYW1lLCBzdGF0ZVBhcmFtcywgYWN0aXZlQ2xhc3MpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBzdGF0ZSA9ICRzdGF0ZS5nZXQoc3RhdGVOYW1lLCBzdGF0ZUNvbnRleHQoJGVsZW1lbnQpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBzdGF0ZUluZm8gPSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RhdGU6IHN0YXRlIHx8IHsgbmFtZTogc3RhdGVOYW1lIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcGFyYW1zOiBzdGF0ZVBhcmFtcyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhY3RpdmVDbGFzczogYWN0aXZlQ2xhc3NcbiAgICAgICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgICAgICAgICBzdGF0ZXMucHVzaChzdGF0ZUluZm8pO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZ1bmN0aW9uIHJlbW92ZVN0YXRlKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlbW92ZUZyb20oc3RhdGVzKShzdGF0ZUluZm8pO1xuICAgICAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAvLyBVcGRhdGUgcm91dGUgc3RhdGVcbiAgICAgICAgICAgICAgICAgICAgZnVuY3Rpb24gdXBkYXRlKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHNwbGl0Q2xhc3NlcyA9IGZ1bmN0aW9uIChzdHIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gc3RyLnNwbGl0KC9cXHMvKS5maWx0ZXIoaWRlbnRpdHkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBnZXRDbGFzc2VzID0gZnVuY3Rpb24gKHN0YXRlTGlzdCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBzdGF0ZUxpc3QubWFwKGZ1bmN0aW9uICh4KSB7IHJldHVybiB4LmFjdGl2ZUNsYXNzOyB9KS5tYXAoc3BsaXRDbGFzc2VzKS5yZWR1Y2UodW5uZXN0UiwgW10pO1xuICAgICAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBhbGxDbGFzc2VzID0gZ2V0Q2xhc3NlcyhzdGF0ZXMpLmNvbmNhdChzcGxpdENsYXNzZXMoYWN0aXZlRXFDbGFzcykpLnJlZHVjZSh1bmlxUiwgW10pO1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGZ1enp5Q2xhc3NlcyA9IGdldENsYXNzZXMoc3RhdGVzLmZpbHRlcihmdW5jdGlvbiAoeCkgeyByZXR1cm4gJHN0YXRlLmluY2x1ZGVzKHguc3RhdGUubmFtZSwgeC5wYXJhbXMpOyB9KSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgZXhhY3RseU1hdGNoZXNBbnkgPSAhIXN0YXRlcy5maWx0ZXIoZnVuY3Rpb24gKHgpIHsgcmV0dXJuICRzdGF0ZS5pcyh4LnN0YXRlLm5hbWUsIHgucGFyYW1zKTsgfSkubGVuZ3RoO1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGV4YWN0Q2xhc3NlcyA9IGV4YWN0bHlNYXRjaGVzQW55ID8gc3BsaXRDbGFzc2VzKGFjdGl2ZUVxQ2xhc3MpIDogW107XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgYWRkQ2xhc3NlcyA9IGZ1enp5Q2xhc3Nlcy5jb25jYXQoZXhhY3RDbGFzc2VzKS5yZWR1Y2UodW5pcVIsIFtdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciByZW1vdmVDbGFzc2VzID0gYWxsQ2xhc3Nlcy5maWx0ZXIoZnVuY3Rpb24gKGNscykgeyByZXR1cm4gIWluQXJyYXkoYWRkQ2xhc3NlcywgY2xzKTsgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuJGV2YWxBc3luYyhmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYWRkQ2xhc3Nlcy5mb3JFYWNoKGZ1bmN0aW9uIChjbGFzc05hbWUpIHsgcmV0dXJuICRlbGVtZW50LmFkZENsYXNzKGNsYXNzTmFtZSk7IH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlbW92ZUNsYXNzZXMuZm9yRWFjaChmdW5jdGlvbiAoY2xhc3NOYW1lKSB7IHJldHVybiAkZWxlbWVudC5yZW1vdmVDbGFzcyhjbGFzc05hbWUpOyB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHVwZGF0ZSgpO1xuICAgICAgICAgICAgICAgIH1dXG4gICAgICAgIH07XG4gICAgfV07XG5uZy5tb2R1bGUoJ3VpLnJvdXRlci5zdGF0ZScpXG4gICAgLmRpcmVjdGl2ZSgndWlTcmVmJywgdWlTcmVmKVxuICAgIC5kaXJlY3RpdmUoJ3VpU3JlZkFjdGl2ZScsIHVpU3JlZkFjdGl2ZSlcbiAgICAuZGlyZWN0aXZlKCd1aVNyZWZBY3RpdmVFcScsIHVpU3JlZkFjdGl2ZSlcbiAgICAuZGlyZWN0aXZlKCd1aVN0YXRlJywgdWlTdGF0ZSk7XG5cbi8qKiBAbW9kdWxlIG5nMSAqLyAvKiogZm9yIHR5cGVkb2MgKi9cbi8qKlxuICogYGlzU3RhdGVgIEZpbHRlcjogdHJ1dGh5IGlmIHRoZSBjdXJyZW50IHN0YXRlIGlzIHRoZSBwYXJhbWV0ZXJcbiAqXG4gKiBUcmFuc2xhdGVzIHRvIFtbU3RhdGVTZXJ2aWNlLmlzXV0gYCRzdGF0ZS5pcyhcInN0YXRlTmFtZVwiKWAuXG4gKlxuICogIyMjIyBFeGFtcGxlOlxuICogYGBgaHRtbFxuICogPGRpdiBuZy1pZj1cIidzdGF0ZU5hbWUnIHwgaXNTdGF0ZVwiPnNob3cgaWYgc3RhdGUgaXMgJ3N0YXRlTmFtZSc8L2Rpdj5cbiAqIGBgYFxuICovXG4kSXNTdGF0ZUZpbHRlci4kaW5qZWN0ID0gWyckc3RhdGUnXTtcbmZ1bmN0aW9uICRJc1N0YXRlRmlsdGVyKCRzdGF0ZSkge1xuICAgIHZhciBpc0ZpbHRlciA9IGZ1bmN0aW9uIChzdGF0ZSwgcGFyYW1zLCBvcHRpb25zKSB7XG4gICAgICAgIHJldHVybiAkc3RhdGUuaXMoc3RhdGUsIHBhcmFtcywgb3B0aW9ucyk7XG4gICAgfTtcbiAgICBpc0ZpbHRlci4kc3RhdGVmdWwgPSB0cnVlO1xuICAgIHJldHVybiBpc0ZpbHRlcjtcbn1cbi8qKlxuICogYGluY2x1ZGVkQnlTdGF0ZWAgRmlsdGVyOiB0cnV0aHkgaWYgdGhlIGN1cnJlbnQgc3RhdGUgaW5jbHVkZXMgdGhlIHBhcmFtZXRlclxuICpcbiAqIFRyYW5zbGF0ZXMgdG8gW1tTdGF0ZVNlcnZpY2UuaW5jbHVkZXNdXWAgJHN0YXRlLmlzKFwiZnVsbE9yUGFydGlhbFN0YXRlTmFtZVwiKWAuXG4gKlxuICogIyMjIyBFeGFtcGxlOlxuICogYGBgaHRtbFxuICogPGRpdiBuZy1pZj1cIidmdWxsT3JQYXJ0aWFsU3RhdGVOYW1lJyB8IGluY2x1ZGVkQnlTdGF0ZVwiPnNob3cgaWYgc3RhdGUgaW5jbHVkZXMgJ2Z1bGxPclBhcnRpYWxTdGF0ZU5hbWUnPC9kaXY+XG4gKiBgYGBcbiAqL1xuJEluY2x1ZGVkQnlTdGF0ZUZpbHRlci4kaW5qZWN0ID0gWyckc3RhdGUnXTtcbmZ1bmN0aW9uICRJbmNsdWRlZEJ5U3RhdGVGaWx0ZXIoJHN0YXRlKSB7XG4gICAgdmFyIGluY2x1ZGVzRmlsdGVyID0gZnVuY3Rpb24gKHN0YXRlLCBwYXJhbXMsIG9wdGlvbnMpIHtcbiAgICAgICAgcmV0dXJuICRzdGF0ZS5pbmNsdWRlcyhzdGF0ZSwgcGFyYW1zLCBvcHRpb25zKTtcbiAgICB9O1xuICAgIGluY2x1ZGVzRmlsdGVyLiRzdGF0ZWZ1bCA9IHRydWU7XG4gICAgcmV0dXJuIGluY2x1ZGVzRmlsdGVyO1xufVxubmcubW9kdWxlKCd1aS5yb3V0ZXIuc3RhdGUnKVxuICAgIC5maWx0ZXIoJ2lzU3RhdGUnLCAkSXNTdGF0ZUZpbHRlcilcbiAgICAuZmlsdGVyKCdpbmNsdWRlZEJ5U3RhdGUnLCAkSW5jbHVkZWRCeVN0YXRlRmlsdGVyKTtcblxuLyoqXG4gKiBAbmcxYXBpXG4gKiBAbW9kdWxlIGRpcmVjdGl2ZXNcbiAqLyAvKiogZm9yIHR5cGVkb2MgKi9cbi8qKlxuICogYHVpLXZpZXdgOiBBIHZpZXdwb3J0IGRpcmVjdGl2ZSB3aGljaCBpcyBmaWxsZWQgaW4gYnkgYSB2aWV3IGZyb20gdGhlIGFjdGl2ZSBzdGF0ZS5cbiAqXG4gKiAjIyMgQXR0cmlidXRlc1xuICpcbiAqIC0gYG5hbWVgOiAoT3B0aW9uYWwpIEEgdmlldyBuYW1lLlxuICogICBUaGUgbmFtZSBzaG91bGQgYmUgdW5pcXVlIGFtb25nc3QgdGhlIG90aGVyIHZpZXdzIGluIHRoZSBzYW1lIHN0YXRlLlxuICogICBZb3UgY2FuIGhhdmUgdmlld3Mgb2YgdGhlIHNhbWUgbmFtZSB0aGF0IGxpdmUgaW4gZGlmZmVyZW50IHN0YXRlcy5cbiAqICAgVGhlIHVpLXZpZXcgY2FuIGJlIHRhcmdldGVkIGluIGEgVmlldyB1c2luZyB0aGUgbmFtZSAoW1tOZzFTdGF0ZURlY2xhcmF0aW9uLnZpZXdzXV0pLlxuICpcbiAqIC0gYGF1dG9zY3JvbGxgOiBhbiBleHByZXNzaW9uLiBXaGVuIGl0IGV2YWx1YXRlcyB0byB0cnVlLCB0aGUgYHVpLXZpZXdgIHdpbGwgYmUgc2Nyb2xsZWQgaW50byB2aWV3IHdoZW4gaXQgaXMgYWN0aXZhdGVkLlxuICogICBVc2VzIFtbJHVpVmlld1Njcm9sbF1dIHRvIGRvIHRoZSBzY3JvbGxpbmcuXG4gKlxuICogLSBgb25sb2FkYDogRXhwcmVzc2lvbiB0byBldmFsdWF0ZSB3aGVuZXZlciB0aGUgdmlldyB1cGRhdGVzLlxuICpcbiAqICMjIyMgRXhhbXBsZTpcbiAqIEEgdmlldyBjYW4gYmUgdW5uYW1lZCBvciBuYW1lZC5cbiAqIGBgYGh0bWxcbiAqIDwhLS0gVW5uYW1lZCAtLT5cbiAqIDxkaXYgdWktdmlldz48L2Rpdj5cbiAqXG4gKiA8IS0tIE5hbWVkIC0tPlxuICogPGRpdiB1aS12aWV3PVwidmlld05hbWVcIj48L2Rpdj5cbiAqXG4gKiA8IS0tIE5hbWVkIChkaWZmZXJlbnQgc3R5bGUpIC0tPlxuICogPHVpLXZpZXcgbmFtZT1cInZpZXdOYW1lXCI+PC91aS12aWV3PlxuICogYGBgXG4gKlxuICogWW91IGNhbiBvbmx5IGhhdmUgb25lIHVubmFtZWQgdmlldyB3aXRoaW4gYW55IHRlbXBsYXRlIChvciByb290IGh0bWwpLiBJZiB5b3UgYXJlIG9ubHkgdXNpbmcgYVxuICogc2luZ2xlIHZpZXcgYW5kIGl0IGlzIHVubmFtZWQgdGhlbiB5b3UgY2FuIHBvcHVsYXRlIGl0IGxpa2Ugc286XG4gKlxuICogYGBgaHRtbFxuICogPGRpdiB1aS12aWV3PjwvZGl2PlxuICogJHN0YXRlUHJvdmlkZXIuc3RhdGUoXCJob21lXCIsIHtcbiAqICAgdGVtcGxhdGU6IFwiPGgxPkhFTExPITwvaDE+XCJcbiAqIH0pXG4gKiBgYGBcbiAqXG4gKiBUaGUgYWJvdmUgaXMgYSBjb252ZW5pZW50IHNob3J0Y3V0IGVxdWl2YWxlbnQgdG8gc3BlY2lmeWluZyB5b3VyIHZpZXcgZXhwbGljaXRseSB3aXRoIHRoZVxuICogW1tOZzFTdGF0ZURlY2xhcmF0aW9uLnZpZXdzXV0gY29uZmlnIHByb3BlcnR5LCBieSBuYW1lLCBpbiB0aGlzIGNhc2UgYW4gZW1wdHkgbmFtZTpcbiAqXG4gKiBgYGBqc1xuICogJHN0YXRlUHJvdmlkZXIuc3RhdGUoXCJob21lXCIsIHtcbiAqICAgdmlld3M6IHtcbiAqICAgICBcIlwiOiB7XG4gKiAgICAgICB0ZW1wbGF0ZTogXCI8aDE+SEVMTE8hPC9oMT5cIlxuICogICAgIH1cbiAqICAgfVxuICogfSlcbiAqIGBgYFxuICpcbiAqIEJ1dCB0eXBpY2FsbHkgeW91J2xsIG9ubHkgdXNlIHRoZSB2aWV3cyBwcm9wZXJ0eSBpZiB5b3UgbmFtZSB5b3VyIHZpZXcgb3IgaGF2ZSBtb3JlIHRoYW4gb25lIHZpZXdcbiAqIGluIHRoZSBzYW1lIHRlbXBsYXRlLiBUaGVyZSdzIG5vdCByZWFsbHkgYSBjb21wZWxsaW5nIHJlYXNvbiB0byBuYW1lIGEgdmlldyBpZiBpdHMgdGhlIG9ubHkgb25lLFxuICogYnV0IHlvdSBjb3VsZCBpZiB5b3Ugd2FudGVkLCBsaWtlIHNvOlxuICpcbiAqIGBgYGh0bWxcbiAqIDxkaXYgdWktdmlldz1cIm1haW5cIj48L2Rpdj5cbiAqIGBgYFxuICpcbiAqIGBgYGpzXG4gKiAkc3RhdGVQcm92aWRlci5zdGF0ZShcImhvbWVcIiwge1xuICogICB2aWV3czoge1xuICogICAgIFwibWFpblwiOiB7XG4gKiAgICAgICB0ZW1wbGF0ZTogXCI8aDE+SEVMTE8hPC9oMT5cIlxuICogICAgIH1cbiAqICAgfVxuICogfSlcbiAqIGBgYFxuICpcbiAqIFJlYWxseSB0aG91Z2gsIHlvdSdsbCB1c2Ugdmlld3MgdG8gc2V0IHVwIG11bHRpcGxlIHZpZXdzOlxuICpcbiAqIGBgYGh0bWxcbiAqIDxkaXYgdWktdmlldz48L2Rpdj5cbiAqIDxkaXYgdWktdmlldz1cImNoYXJ0XCI+PC9kaXY+XG4gKiA8ZGl2IHVpLXZpZXc9XCJkYXRhXCI+PC9kaXY+XG4gKiBgYGBcbiAqXG4gKiBgYGBqc1xuICogJHN0YXRlUHJvdmlkZXIuc3RhdGUoXCJob21lXCIsIHtcbiAqICAgdmlld3M6IHtcbiAqICAgICBcIlwiOiB7XG4gKiAgICAgICB0ZW1wbGF0ZTogXCI8aDE+SEVMTE8hPC9oMT5cIlxuICogICAgIH0sXG4gKiAgICAgXCJjaGFydFwiOiB7XG4gKiAgICAgICB0ZW1wbGF0ZTogXCI8Y2hhcnRfdGhpbmcvPlwiXG4gKiAgICAgfSxcbiAqICAgICBcImRhdGFcIjoge1xuICogICAgICAgdGVtcGxhdGU6IFwiPGRhdGFfdGhpbmcvPlwiXG4gKiAgICAgfVxuICogICB9XG4gKiB9KVxuICogYGBgXG4gKlxuICogIyMjIyBFeGFtcGxlcyBmb3IgYGF1dG9zY3JvbGxgOlxuICogYGBgaHRtbFxuICogPCEtLSBJZiBhdXRvc2Nyb2xsIHByZXNlbnQgd2l0aCBubyBleHByZXNzaW9uLFxuICogICAgICB0aGVuIHNjcm9sbCB1aS12aWV3IGludG8gdmlldyAtLT5cbiAqIDx1aS12aWV3IGF1dG9zY3JvbGwvPlxuICpcbiAqIDwhLS0gSWYgYXV0b3Njcm9sbCBwcmVzZW50IHdpdGggdmFsaWQgZXhwcmVzc2lvbixcbiAqICAgICAgdGhlbiBzY3JvbGwgdWktdmlldyBpbnRvIHZpZXcgaWYgZXhwcmVzc2lvbiBldmFsdWF0ZXMgdG8gdHJ1ZSAtLT5cbiAqIDx1aS12aWV3IGF1dG9zY3JvbGw9J3RydWUnLz5cbiAqIDx1aS12aWV3IGF1dG9zY3JvbGw9J2ZhbHNlJy8+XG4gKiA8dWktdmlldyBhdXRvc2Nyb2xsPSdzY29wZVZhcmlhYmxlJy8+XG4gKiBgYGBcbiAqXG4gKiBSZXNvbHZlIGRhdGE6XG4gKlxuICogVGhlIHJlc29sdmVkIGRhdGEgZnJvbSB0aGUgc3RhdGUncyBgcmVzb2x2ZWAgYmxvY2sgaXMgcGxhY2VkIG9uIHRoZSBzY29wZSBhcyBgJHJlc29sdmVgICh0aGlzXG4gKiBjYW4gYmUgY3VzdG9taXplZCB1c2luZyBbW05nMVZpZXdEZWNsYXJhdGlvbi5yZXNvbHZlQXNdXSkuICBUaGlzIGNhbiBiZSB0aGVuIGFjY2Vzc2VkIGZyb20gdGhlIHRlbXBsYXRlLlxuICpcbiAqIE5vdGUgdGhhdCB3aGVuIGBjb250cm9sbGVyQXNgIGlzIGJlaW5nIHVzZWQsIGAkcmVzb2x2ZWAgaXMgc2V0IG9uIHRoZSBjb250cm9sbGVyIGluc3RhbmNlICphZnRlciogdGhlXG4gKiBjb250cm9sbGVyIGlzIGluc3RhbnRpYXRlZC4gIFRoZSBgJG9uSW5pdCgpYCBob29rIGNhbiBiZSB1c2VkIHRvIHBlcmZvcm0gaW5pdGlhbGl6YXRpb24gY29kZSB3aGljaFxuICogZGVwZW5kcyBvbiBgJHJlc29sdmVgIGRhdGEuXG4gKlxuICogIyMjIyBFeGFtcGxlOlxuICogYGBganNcbiAqICRzdGF0ZVByb3ZpZGVyLnN0YXRlKCdob21lJywge1xuICogICB0ZW1wbGF0ZTogJzxteS1jb21wb25lbnQgdXNlcj1cIiRyZXNvbHZlLnVzZXJcIj48L215LWNvbXBvbmVudD4nLFxuICogICByZXNvbHZlOiB7XG4gKiAgICAgdXNlcjogZnVuY3Rpb24oVXNlclNlcnZpY2UpIHsgcmV0dXJuIFVzZXJTZXJ2aWNlLmZldGNoVXNlcigpOyB9XG4gKiAgIH1cbiAqIH0pO1xuICogYGBgXG4gKi9cbnZhciB1aVZpZXc7XG51aVZpZXcgPSBbJyR2aWV3JywgJyRhbmltYXRlJywgJyR1aVZpZXdTY3JvbGwnLCAnJGludGVycG9sYXRlJywgJyRxJyxcbiAgICBmdW5jdGlvbiAkVmlld0RpcmVjdGl2ZSgkdmlldywgJGFuaW1hdGUsICR1aVZpZXdTY3JvbGwsICRpbnRlcnBvbGF0ZSwgJHEkJDEpIHtcbiAgICAgICAgZnVuY3Rpb24gZ2V0UmVuZGVyZXIoYXR0cnMsIHNjb3BlKSB7XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIGVudGVyOiBmdW5jdGlvbiAoZWxlbWVudCwgdGFyZ2V0LCBjYikge1xuICAgICAgICAgICAgICAgICAgICBpZiAobmcudmVyc2lvbi5taW5vciA+IDIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICRhbmltYXRlLmVudGVyKGVsZW1lbnQsIG51bGwsIHRhcmdldCkudGhlbihjYik7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAkYW5pbWF0ZS5lbnRlcihlbGVtZW50LCBudWxsLCB0YXJnZXQsIGNiKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgbGVhdmU6IGZ1bmN0aW9uIChlbGVtZW50LCBjYikge1xuICAgICAgICAgICAgICAgICAgICBpZiAobmcudmVyc2lvbi5taW5vciA+IDIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICRhbmltYXRlLmxlYXZlKGVsZW1lbnQpLnRoZW4oY2IpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgJGFuaW1hdGUubGVhdmUoZWxlbWVudCwgY2IpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgICAgICBmdW5jdGlvbiBjb25maWdzRXF1YWwoY29uZmlnMSwgY29uZmlnMikge1xuICAgICAgICAgICAgcmV0dXJuIGNvbmZpZzEgPT09IGNvbmZpZzI7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIHJvb3REYXRhID0ge1xuICAgICAgICAgICAgJGNmZzogeyB2aWV3RGVjbDogeyAkY29udGV4dDogJHZpZXcuX3BsdWdpbmFwaS5fcm9vdFZpZXdDb250ZXh0KCkgfSB9LFxuICAgICAgICAgICAgJHVpVmlldzoge31cbiAgICAgICAgfTtcbiAgICAgICAgdmFyIGRpcmVjdGl2ZSA9IHtcbiAgICAgICAgICAgIGNvdW50OiAwLFxuICAgICAgICAgICAgcmVzdHJpY3Q6ICdFQ0EnLFxuICAgICAgICAgICAgdGVybWluYWw6IHRydWUsXG4gICAgICAgICAgICBwcmlvcml0eTogNDAwLFxuICAgICAgICAgICAgdHJhbnNjbHVkZTogJ2VsZW1lbnQnLFxuICAgICAgICAgICAgY29tcGlsZTogZnVuY3Rpb24gKHRFbGVtZW50LCB0QXR0cnMsICR0cmFuc2NsdWRlKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZ1bmN0aW9uIChzY29wZSwgJGVsZW1lbnQsIGF0dHJzKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBwcmV2aW91c0VsLCBjdXJyZW50RWwsIGN1cnJlbnRTY29wZSwgdW5yZWdpc3Rlciwgb25sb2FkRXhwID0gYXR0cnNbJ29ubG9hZCddIHx8ICcnLCBhdXRvU2Nyb2xsRXhwID0gYXR0cnNbJ2F1dG9zY3JvbGwnXSwgcmVuZGVyZXIgPSBnZXRSZW5kZXJlcihhdHRycywgc2NvcGUpLCB2aWV3Q29uZmlnID0gdW5kZWZpbmVkLCBpbmhlcml0ZWQgPSAkZWxlbWVudC5pbmhlcml0ZWREYXRhKCckdWlWaWV3JykgfHwgcm9vdERhdGEsIG5hbWUgPSAkaW50ZXJwb2xhdGUoYXR0cnNbJ3VpVmlldyddIHx8IGF0dHJzWyduYW1lJ10gfHwgJycpKHNjb3BlKSB8fCAnJGRlZmF1bHQnO1xuICAgICAgICAgICAgICAgICAgICB2YXIgYWN0aXZlVUlWaWV3ID0ge1xuICAgICAgICAgICAgICAgICAgICAgICAgJHR5cGU6ICduZzEnLFxuICAgICAgICAgICAgICAgICAgICAgICAgaWQ6IGRpcmVjdGl2ZS5jb3VudCsrLFxuICAgICAgICAgICAgICAgICAgICAgICAgbmFtZTogbmFtZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGZxbjogaW5oZXJpdGVkLiR1aVZpZXcuZnFuID8gaW5oZXJpdGVkLiR1aVZpZXcuZnFuICsgXCIuXCIgKyBuYW1lIDogbmFtZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbmZpZzogbnVsbCxcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbmZpZ1VwZGF0ZWQ6IGNvbmZpZ1VwZGF0ZWRDYWxsYmFjayxcbiAgICAgICAgICAgICAgICAgICAgICAgIGdldCBjcmVhdGlvbkNvbnRleHQoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGZyb21QYXJlbnRUYWdDb25maWcgPSBwYXJzZSgnJGNmZy52aWV3RGVjbC4kY29udGV4dCcpKGluaGVyaXRlZCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gQWxsb3cgPHVpLXZpZXcgbmFtZT1cImZvb1wiPjx1aS12aWV3IG5hbWU9XCJiYXJcIj48L3VpLXZpZXc+PC91aS12aWV3PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIFNlZSBodHRwczovL2dpdGh1Yi5jb20vYW5ndWxhci11aS91aS1yb3V0ZXIvaXNzdWVzLzMzNTVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgZnJvbVBhcmVudFRhZyA9IHBhcnNlKCckdWlWaWV3LmNyZWF0aW9uQ29udGV4dCcpKGluaGVyaXRlZCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZyb21QYXJlbnRUYWdDb25maWcgfHwgZnJvbVBhcmVudFRhZztcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAgICAgdHJhY2UudHJhY2VVSVZpZXdFdmVudChcIkxpbmtpbmdcIiwgYWN0aXZlVUlWaWV3KTtcbiAgICAgICAgICAgICAgICAgICAgZnVuY3Rpb24gY29uZmlnVXBkYXRlZENhbGxiYWNrKGNvbmZpZykge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGNvbmZpZyAmJiAhKGNvbmZpZyBpbnN0YW5jZW9mIE5nMVZpZXdDb25maWcpKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjb25maWdzRXF1YWwodmlld0NvbmZpZywgY29uZmlnKSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgICAgICAgICB0cmFjZS50cmFjZVVJVmlld0NvbmZpZ1VwZGF0ZWQoYWN0aXZlVUlWaWV3LCBjb25maWcgJiYgY29uZmlnLnZpZXdEZWNsICYmIGNvbmZpZy52aWV3RGVjbC4kY29udGV4dCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB2aWV3Q29uZmlnID0gY29uZmlnO1xuICAgICAgICAgICAgICAgICAgICAgICAgdXBkYXRlVmlldyhjb25maWcpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICRlbGVtZW50LmRhdGEoJyR1aVZpZXcnLCB7ICR1aVZpZXc6IGFjdGl2ZVVJVmlldyB9KTtcbiAgICAgICAgICAgICAgICAgICAgdXBkYXRlVmlldygpO1xuICAgICAgICAgICAgICAgICAgICB1bnJlZ2lzdGVyID0gJHZpZXcucmVnaXN0ZXJVSVZpZXcoYWN0aXZlVUlWaWV3KTtcbiAgICAgICAgICAgICAgICAgICAgc2NvcGUuJG9uKFwiJGRlc3Ryb3lcIiwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdHJhY2UudHJhY2VVSVZpZXdFdmVudChcIkRlc3Ryb3lpbmcvVW5yZWdpc3RlcmluZ1wiLCBhY3RpdmVVSVZpZXcpO1xuICAgICAgICAgICAgICAgICAgICAgICAgdW5yZWdpc3RlcigpO1xuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgZnVuY3Rpb24gY2xlYW51cExhc3RWaWV3KCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHByZXZpb3VzRWwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0cmFjZS50cmFjZVVJVmlld0V2ZW50KFwiUmVtb3ZpbmcgKHByZXZpb3VzKSBlbFwiLCBwcmV2aW91c0VsLmRhdGEoJyR1aVZpZXcnKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJldmlvdXNFbC5yZW1vdmUoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcmV2aW91c0VsID0gbnVsbDtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjdXJyZW50U2NvcGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0cmFjZS50cmFjZVVJVmlld0V2ZW50KFwiRGVzdHJveWluZyBzY29wZVwiLCBhY3RpdmVVSVZpZXcpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRTY29wZS4kZGVzdHJveSgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRTY29wZSA9IG51bGw7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoY3VycmVudEVsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIF92aWV3RGF0YV8xID0gY3VycmVudEVsLmRhdGEoJyR1aVZpZXdBbmltJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdHJhY2UudHJhY2VVSVZpZXdFdmVudChcIkFuaW1hdGUgb3V0XCIsIF92aWV3RGF0YV8xKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZW5kZXJlci5sZWF2ZShjdXJyZW50RWwsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX3ZpZXdEYXRhXzEuJCRhbmltTGVhdmUucmVzb2x2ZSgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcmV2aW91c0VsID0gbnVsbDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcmV2aW91c0VsID0gY3VycmVudEVsO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRFbCA9IG51bGw7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZnVuY3Rpb24gdXBkYXRlVmlldyhjb25maWcpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBuZXdTY29wZSA9IHNjb3BlLiRuZXcoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBhbmltRW50ZXIgPSAkcSQkMS5kZWZlcigpLCBhbmltTGVhdmUgPSAkcSQkMS5kZWZlcigpO1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyICR1aVZpZXdEYXRhID0ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRjZmc6IGNvbmZpZyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkdWlWaWV3OiBhY3RpdmVVSVZpZXcsXG4gICAgICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyICR1aVZpZXdBbmltID0ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRhbmltRW50ZXI6IGFuaW1FbnRlci5wcm9taXNlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRhbmltTGVhdmU6IGFuaW1MZWF2ZS5wcm9taXNlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICQkYW5pbUxlYXZlOiBhbmltTGVhdmVcbiAgICAgICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAgICAgICAgICAgICAqIEBuZ2RvYyBldmVudFxuICAgICAgICAgICAgICAgICAgICAgICAgICogQG5hbWUgdWkucm91dGVyLnN0YXRlLmRpcmVjdGl2ZTp1aS12aWV3IyR2aWV3Q29udGVudExvYWRpbmdcbiAgICAgICAgICAgICAgICAgICAgICAgICAqIEBldmVudE9mIHVpLnJvdXRlci5zdGF0ZS5kaXJlY3RpdmU6dWktdmlld1xuICAgICAgICAgICAgICAgICAgICAgICAgICogQGV2ZW50VHlwZSBlbWl0cyBvbiB1aS12aWV3IGRpcmVjdGl2ZSBzY29wZVxuICAgICAgICAgICAgICAgICAgICAgICAgICogQGRlc2NyaXB0aW9uXG4gICAgICAgICAgICAgICAgICAgICAgICAgKlxuICAgICAgICAgICAgICAgICAgICAgICAgICogRmlyZWQgb25jZSB0aGUgdmlldyAqKmJlZ2lucyBsb2FkaW5nKiosICpiZWZvcmUqIHRoZSBET00gaXMgcmVuZGVyZWQuXG4gICAgICAgICAgICAgICAgICAgICAgICAgKlxuICAgICAgICAgICAgICAgICAgICAgICAgICogQHBhcmFtIHtPYmplY3R9IGV2ZW50IEV2ZW50IG9iamVjdC5cbiAgICAgICAgICAgICAgICAgICAgICAgICAqIEBwYXJhbSB7c3RyaW5nfSB2aWV3TmFtZSBOYW1lIG9mIHRoZSB2aWV3LlxuICAgICAgICAgICAgICAgICAgICAgICAgICovXG4gICAgICAgICAgICAgICAgICAgICAgICBuZXdTY29wZS4kZW1pdCgnJHZpZXdDb250ZW50TG9hZGluZycsIG5hbWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGNsb25lZCA9ICR0cmFuc2NsdWRlKG5ld1Njb3BlLCBmdW5jdGlvbiAoY2xvbmUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbG9uZS5kYXRhKCckdWlWaWV3QW5pbScsICR1aVZpZXdBbmltKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbG9uZS5kYXRhKCckdWlWaWV3JywgJHVpVmlld0RhdGEpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlbmRlcmVyLmVudGVyKGNsb25lLCAkZWxlbWVudCwgZnVuY3Rpb24gb25VSVZpZXdFbnRlcigpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYW5pbUVudGVyLnJlc29sdmUoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGN1cnJlbnRTY29wZSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRTY29wZS4kZW1pdCgnJHZpZXdDb250ZW50QW5pbWF0aW9uRW5kZWQnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGlzRGVmaW5lZChhdXRvU2Nyb2xsRXhwKSAmJiAhYXV0b1Njcm9sbEV4cCB8fCBzY29wZS4kZXZhbChhdXRvU2Nyb2xsRXhwKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHVpVmlld1Njcm9sbChjbG9uZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGVhbnVwTGFzdFZpZXcoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudEVsID0gY2xvbmVkO1xuICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudFNjb3BlID0gbmV3U2NvcGU7XG4gICAgICAgICAgICAgICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAgICAgICAgICAgICAqIEBuZ2RvYyBldmVudFxuICAgICAgICAgICAgICAgICAgICAgICAgICogQG5hbWUgdWkucm91dGVyLnN0YXRlLmRpcmVjdGl2ZTp1aS12aWV3IyR2aWV3Q29udGVudExvYWRlZFxuICAgICAgICAgICAgICAgICAgICAgICAgICogQGV2ZW50T2YgdWkucm91dGVyLnN0YXRlLmRpcmVjdGl2ZTp1aS12aWV3XG4gICAgICAgICAgICAgICAgICAgICAgICAgKiBAZXZlbnRUeXBlIGVtaXRzIG9uIHVpLXZpZXcgZGlyZWN0aXZlIHNjb3BlXG4gICAgICAgICAgICAgICAgICAgICAgICAgKiBAZGVzY3JpcHRpb24gICAgICAgICAgICpcbiAgICAgICAgICAgICAgICAgICAgICAgICAqIEZpcmVkIG9uY2UgdGhlIHZpZXcgaXMgKipsb2FkZWQqKiwgKmFmdGVyKiB0aGUgRE9NIGlzIHJlbmRlcmVkLlxuICAgICAgICAgICAgICAgICAgICAgICAgICpcbiAgICAgICAgICAgICAgICAgICAgICAgICAqIEBwYXJhbSB7T2JqZWN0fSBldmVudCBFdmVudCBvYmplY3QuXG4gICAgICAgICAgICAgICAgICAgICAgICAgKi9cbiAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRTY29wZS4kZW1pdCgnJHZpZXdDb250ZW50TG9hZGVkJywgY29uZmlnIHx8IHZpZXdDb25maWcpO1xuICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudFNjb3BlLiRldmFsKG9ubG9hZEV4cCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgICByZXR1cm4gZGlyZWN0aXZlO1xuICAgIH1dO1xuJFZpZXdEaXJlY3RpdmVGaWxsLiRpbmplY3QgPSBbJyRjb21waWxlJywgJyRjb250cm9sbGVyJywgJyR0cmFuc2l0aW9ucycsICckdmlldycsICckcScsICckdGltZW91dCddO1xuLyoqIEBoaWRkZW4gKi9cbmZ1bmN0aW9uICRWaWV3RGlyZWN0aXZlRmlsbCgkY29tcGlsZSwgJGNvbnRyb2xsZXIsICR0cmFuc2l0aW9ucywgJHZpZXcsICRxJCQxLCAkdGltZW91dCkge1xuICAgIHZhciBnZXRDb250cm9sbGVyQXMgPSBwYXJzZSgndmlld0RlY2wuY29udHJvbGxlckFzJyk7XG4gICAgdmFyIGdldFJlc29sdmVBcyA9IHBhcnNlKCd2aWV3RGVjbC5yZXNvbHZlQXMnKTtcbiAgICByZXR1cm4ge1xuICAgICAgICByZXN0cmljdDogJ0VDQScsXG4gICAgICAgIHByaW9yaXR5OiAtNDAwLFxuICAgICAgICBjb21waWxlOiBmdW5jdGlvbiAodEVsZW1lbnQpIHtcbiAgICAgICAgICAgIHZhciBpbml0aWFsID0gdEVsZW1lbnQuaHRtbCgpO1xuICAgICAgICAgICAgdEVsZW1lbnQuZW1wdHkoKTtcbiAgICAgICAgICAgIHJldHVybiBmdW5jdGlvbiAoc2NvcGUsICRlbGVtZW50KSB7XG4gICAgICAgICAgICAgICAgdmFyIGRhdGEgPSAkZWxlbWVudC5kYXRhKCckdWlWaWV3Jyk7XG4gICAgICAgICAgICAgICAgaWYgKCFkYXRhKSB7XG4gICAgICAgICAgICAgICAgICAgICRlbGVtZW50Lmh0bWwoaW5pdGlhbCk7XG4gICAgICAgICAgICAgICAgICAgICRjb21waWxlKCRlbGVtZW50LmNvbnRlbnRzKCkpKHNjb3BlKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB2YXIgY2ZnID0gZGF0YS4kY2ZnIHx8IHsgdmlld0RlY2w6IHt9LCBnZXRUZW1wbGF0ZTogbmdfZnJvbV9pbXBvcnQubm9vcCB9O1xuICAgICAgICAgICAgICAgIHZhciByZXNvbHZlQ3R4ID0gY2ZnLnBhdGggJiYgbmV3IFJlc29sdmVDb250ZXh0KGNmZy5wYXRoKTtcbiAgICAgICAgICAgICAgICAkZWxlbWVudC5odG1sKGNmZy5nZXRUZW1wbGF0ZSgkZWxlbWVudCwgcmVzb2x2ZUN0eCkgfHwgaW5pdGlhbCk7XG4gICAgICAgICAgICAgICAgdHJhY2UudHJhY2VVSVZpZXdGaWxsKGRhdGEuJHVpVmlldywgJGVsZW1lbnQuaHRtbCgpKTtcbiAgICAgICAgICAgICAgICB2YXIgbGluayA9ICRjb21waWxlKCRlbGVtZW50LmNvbnRlbnRzKCkpO1xuICAgICAgICAgICAgICAgIHZhciBjb250cm9sbGVyID0gY2ZnLmNvbnRyb2xsZXI7XG4gICAgICAgICAgICAgICAgdmFyIGNvbnRyb2xsZXJBcyA9IGdldENvbnRyb2xsZXJBcyhjZmcpO1xuICAgICAgICAgICAgICAgIHZhciByZXNvbHZlQXMgPSBnZXRSZXNvbHZlQXMoY2ZnKTtcbiAgICAgICAgICAgICAgICB2YXIgbG9jYWxzID0gcmVzb2x2ZUN0eCAmJiBnZXRMb2NhbHMocmVzb2x2ZUN0eCk7XG4gICAgICAgICAgICAgICAgc2NvcGVbcmVzb2x2ZUFzXSA9IGxvY2FscztcbiAgICAgICAgICAgICAgICBpZiAoY29udHJvbGxlcikge1xuICAgICAgICAgICAgICAgICAgICB2YXIgY29udHJvbGxlckluc3RhbmNlID0gJGNvbnRyb2xsZXIoY29udHJvbGxlciwgZXh0ZW5kKHt9LCBsb2NhbHMsIHsgJHNjb3BlOiBzY29wZSwgJGVsZW1lbnQ6ICRlbGVtZW50IH0pKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGNvbnRyb2xsZXJBcykge1xuICAgICAgICAgICAgICAgICAgICAgICAgc2NvcGVbY29udHJvbGxlckFzXSA9IGNvbnRyb2xsZXJJbnN0YW5jZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNjb3BlW2NvbnRyb2xsZXJBc11bcmVzb2x2ZUFzXSA9IGxvY2FscztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAvLyBUT0RPOiBVc2UgJHZpZXcgc2VydmljZSBhcyBhIGNlbnRyYWwgcG9pbnQgZm9yIHJlZ2lzdGVyaW5nIGNvbXBvbmVudC1sZXZlbCBob29rc1xuICAgICAgICAgICAgICAgICAgICAvLyBUaGVuLCB3aGVuIGEgY29tcG9uZW50IGlzIGNyZWF0ZWQsIHRlbGwgdGhlICR2aWV3IHNlcnZpY2UsIHNvIGl0IGNhbiBpbnZva2UgaG9va3NcbiAgICAgICAgICAgICAgICAgICAgLy8gJHZpZXcuY29tcG9uZW50TG9hZGVkKGNvbnRyb2xsZXJJbnN0YW5jZSwgeyAkc2NvcGU6IHNjb3BlLCAkZWxlbWVudDogJGVsZW1lbnQgfSk7XG4gICAgICAgICAgICAgICAgICAgIC8vIHNjb3BlLiRvbignJGRlc3Ryb3knLCAoKSA9PiAkdmlldy5jb21wb25lbnRVbmxvYWRlZChjb250cm9sbGVySW5zdGFuY2UsIHsgJHNjb3BlOiBzY29wZSwgJGVsZW1lbnQ6ICRlbGVtZW50IH0pKTtcbiAgICAgICAgICAgICAgICAgICAgJGVsZW1lbnQuZGF0YSgnJG5nQ29udHJvbGxlckNvbnRyb2xsZXInLCBjb250cm9sbGVySW5zdGFuY2UpO1xuICAgICAgICAgICAgICAgICAgICAkZWxlbWVudC5jaGlsZHJlbigpLmRhdGEoJyRuZ0NvbnRyb2xsZXJDb250cm9sbGVyJywgY29udHJvbGxlckluc3RhbmNlKTtcbiAgICAgICAgICAgICAgICAgICAgcmVnaXN0ZXJDb250cm9sbGVyQ2FsbGJhY2tzKCRxJCQxLCAkdHJhbnNpdGlvbnMsIGNvbnRyb2xsZXJJbnN0YW5jZSwgc2NvcGUsIGNmZyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIC8vIFdhaXQgZm9yIHRoZSBjb21wb25lbnQgdG8gYXBwZWFyIGluIHRoZSBET01cbiAgICAgICAgICAgICAgICBpZiAoaXNTdHJpbmcoY2ZnLnZpZXdEZWNsLmNvbXBvbmVudCkpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGNtcF8xID0gY2ZnLnZpZXdEZWNsLmNvbXBvbmVudDtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGtlYm9iTmFtZSA9IGtlYm9iU3RyaW5nKGNtcF8xKTtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHRhZ1JlZ2V4cF8xID0gbmV3IFJlZ0V4cChcIl4oeC18ZGF0YS0pP1wiICsga2Vib2JOYW1lICsgXCIkXCIsIFwiaVwiKTtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGdldENvbXBvbmVudENvbnRyb2xsZXIgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgZGlyZWN0aXZlRWwgPSBbXS5zbGljZS5jYWxsKCRlbGVtZW50WzBdLmNoaWxkcmVuKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5maWx0ZXIoZnVuY3Rpb24gKGVsKSB7IHJldHVybiBlbCAmJiBlbC50YWdOYW1lICYmIHRhZ1JlZ2V4cF8xLmV4ZWMoZWwudGFnTmFtZSk7IH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGRpcmVjdGl2ZUVsICYmIG5nLmVsZW1lbnQoZGlyZWN0aXZlRWwpLmRhdGEoXCIkXCIgKyBjbXBfMSArIFwiQ29udHJvbGxlclwiKTtcbiAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGRlcmVnaXN0ZXJXYXRjaF8xID0gc2NvcGUuJHdhdGNoKGdldENvbXBvbmVudENvbnRyb2xsZXIsIGZ1bmN0aW9uIChjdHJsSW5zdGFuY2UpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghY3RybEluc3RhbmNlKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlZ2lzdGVyQ29udHJvbGxlckNhbGxiYWNrcygkcSQkMSwgJHRyYW5zaXRpb25zLCBjdHJsSW5zdGFuY2UsIHNjb3BlLCBjZmcpO1xuICAgICAgICAgICAgICAgICAgICAgICAgZGVyZWdpc3RlcldhdGNoXzEoKTtcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGxpbmsoc2NvcGUpO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgIH07XG59XG4vKiogQGhpZGRlbiAqL1xudmFyIGhhc0NvbXBvbmVudEltcGwgPSB0eXBlb2YgbmcubW9kdWxlKCd1aS5yb3V0ZXInKVsnY29tcG9uZW50J10gPT09ICdmdW5jdGlvbic7XG4vKiogQGhpZGRlbiBpbmNyZW1lbnRpbmcgaWQgKi9cbnZhciBfdWlDYW5FeGl0SWQgPSAwO1xuLyoqIEBoaWRkZW4gVE9ETzogbW92ZSB0aGVzZSBjYWxsYmFja3MgdG8gJHZpZXcgYW5kL29yIGAvaG9va3MvY29tcG9uZW50cy50c2Agb3Igc29tZXRoaW5nICovXG5mdW5jdGlvbiByZWdpc3RlckNvbnRyb2xsZXJDYWxsYmFja3MoJHEkJDEsICR0cmFuc2l0aW9ucywgY29udHJvbGxlckluc3RhbmNlLCAkc2NvcGUsIGNmZykge1xuICAgIC8vIENhbGwgJG9uSW5pdCgpIEFTQVBcbiAgICBpZiAoaXNGdW5jdGlvbihjb250cm9sbGVySW5zdGFuY2UuJG9uSW5pdCkgJiYgIShjZmcudmlld0RlY2wuY29tcG9uZW50ICYmIGhhc0NvbXBvbmVudEltcGwpKSB7XG4gICAgICAgIGNvbnRyb2xsZXJJbnN0YW5jZS4kb25Jbml0KCk7XG4gICAgfVxuICAgIHZhciB2aWV3U3RhdGUgPSB0YWlsKGNmZy5wYXRoKS5zdGF0ZS5zZWxmO1xuICAgIHZhciBob29rT3B0aW9ucyA9IHsgYmluZDogY29udHJvbGxlckluc3RhbmNlIH07XG4gICAgLy8gQWRkIGNvbXBvbmVudC1sZXZlbCBob29rIGZvciBvblBhcmFtc0NoYW5nZVxuICAgIGlmIChpc0Z1bmN0aW9uKGNvbnRyb2xsZXJJbnN0YW5jZS51aU9uUGFyYW1zQ2hhbmdlZCkpIHtcbiAgICAgICAgdmFyIHJlc29sdmVDb250ZXh0ID0gbmV3IFJlc29sdmVDb250ZXh0KGNmZy5wYXRoKTtcbiAgICAgICAgdmFyIHZpZXdDcmVhdGlvblRyYW5zXzEgPSByZXNvbHZlQ29udGV4dC5nZXRSZXNvbHZhYmxlKCckdHJhbnNpdGlvbiQnKS5kYXRhO1xuICAgICAgICAvLyBGaXJlIGNhbGxiYWNrIG9uIGFueSBzdWNjZXNzZnVsIHRyYW5zaXRpb25cbiAgICAgICAgdmFyIHBhcmFtc1VwZGF0ZWQgPSBmdW5jdGlvbiAoJHRyYW5zaXRpb24kKSB7XG4gICAgICAgICAgICAvLyBFeGl0IGVhcmx5IGlmIHRoZSAkdHJhbnNpdGlvbiQgaXMgdGhlIHNhbWUgYXMgdGhlIHZpZXcgd2FzIGNyZWF0ZWQgd2l0aGluLlxuICAgICAgICAgICAgLy8gRXhpdCBlYXJseSBpZiB0aGUgJHRyYW5zaXRpb24kIHdpbGwgZXhpdCB0aGUgc3RhdGUgdGhlIHZpZXcgaXMgZm9yLlxuICAgICAgICAgICAgaWYgKCR0cmFuc2l0aW9uJCA9PT0gdmlld0NyZWF0aW9uVHJhbnNfMSB8fCAkdHJhbnNpdGlvbiQuZXhpdGluZygpLmluZGV4T2Yodmlld1N0YXRlKSAhPT0gLTEpXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgdmFyIHRvUGFyYW1zID0gJHRyYW5zaXRpb24kLnBhcmFtcyhcInRvXCIpO1xuICAgICAgICAgICAgdmFyIGZyb21QYXJhbXMgPSAkdHJhbnNpdGlvbiQucGFyYW1zKFwiZnJvbVwiKTtcbiAgICAgICAgICAgIHZhciB0b1NjaGVtYSA9ICR0cmFuc2l0aW9uJC50cmVlQ2hhbmdlcygpLnRvLm1hcChmdW5jdGlvbiAobm9kZSkgeyByZXR1cm4gbm9kZS5wYXJhbVNjaGVtYTsgfSkucmVkdWNlKHVubmVzdFIsIFtdKTtcbiAgICAgICAgICAgIHZhciBmcm9tU2NoZW1hID0gJHRyYW5zaXRpb24kLnRyZWVDaGFuZ2VzKCkuZnJvbS5tYXAoZnVuY3Rpb24gKG5vZGUpIHsgcmV0dXJuIG5vZGUucGFyYW1TY2hlbWE7IH0pLnJlZHVjZSh1bm5lc3RSLCBbXSk7XG4gICAgICAgICAgICAvLyBGaW5kIHRoZSB0byBwYXJhbXMgdGhhdCBoYXZlIGRpZmZlcmVudCB2YWx1ZXMgdGhhbiB0aGUgZnJvbSBwYXJhbXNcbiAgICAgICAgICAgIHZhciBjaGFuZ2VkVG9QYXJhbXMgPSB0b1NjaGVtYS5maWx0ZXIoZnVuY3Rpb24gKHBhcmFtKSB7XG4gICAgICAgICAgICAgICAgdmFyIGlkeCA9IGZyb21TY2hlbWEuaW5kZXhPZihwYXJhbSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGlkeCA9PT0gLTEgfHwgIWZyb21TY2hlbWFbaWR4XS50eXBlLmVxdWFscyh0b1BhcmFtc1twYXJhbS5pZF0sIGZyb21QYXJhbXNbcGFyYW0uaWRdKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgLy8gT25seSB0cmlnZ2VyIGNhbGxiYWNrIGlmIGEgdG8gcGFyYW0gaGFzIGNoYW5nZWQgb3IgaXMgbmV3XG4gICAgICAgICAgICBpZiAoY2hhbmdlZFRvUGFyYW1zLmxlbmd0aCkge1xuICAgICAgICAgICAgICAgIHZhciBjaGFuZ2VkS2V5c18xID0gY2hhbmdlZFRvUGFyYW1zLm1hcChmdW5jdGlvbiAoeCkgeyByZXR1cm4geC5pZDsgfSk7XG4gICAgICAgICAgICAgICAgLy8gRmlsdGVyIHRoZSBwYXJhbXMgdG8gb25seSBjaGFuZ2VkL25ldyB0byBwYXJhbXMuICBgJHRyYW5zaXRpb24kLnBhcmFtcygpYCBtYXkgYmUgdXNlZCB0byBnZXQgYWxsIHBhcmFtcy5cbiAgICAgICAgICAgICAgICB2YXIgbmV3VmFsdWVzID0gZmlsdGVyKHRvUGFyYW1zLCBmdW5jdGlvbiAodmFsJCQxLCBrZXkpIHsgcmV0dXJuIGNoYW5nZWRLZXlzXzEuaW5kZXhPZihrZXkpICE9PSAtMTsgfSk7XG4gICAgICAgICAgICAgICAgY29udHJvbGxlckluc3RhbmNlLnVpT25QYXJhbXNDaGFuZ2VkKG5ld1ZhbHVlcywgJHRyYW5zaXRpb24kKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgICAgJHNjb3BlLiRvbignJGRlc3Ryb3knLCAkdHJhbnNpdGlvbnMub25TdWNjZXNzKHt9LCBwYXJhbXNVcGRhdGVkLCBob29rT3B0aW9ucykpO1xuICAgIH1cbiAgICAvLyBBZGQgY29tcG9uZW50LWxldmVsIGhvb2sgZm9yIHVpQ2FuRXhpdFxuICAgIGlmIChpc0Z1bmN0aW9uKGNvbnRyb2xsZXJJbnN0YW5jZS51aUNhbkV4aXQpKSB7XG4gICAgICAgIHZhciBpZF8xID0gX3VpQ2FuRXhpdElkKys7XG4gICAgICAgIHZhciBjYWNoZVByb3BfMSA9ICdfdWlDYW5FeGl0SWRzJztcbiAgICAgICAgLy8gUmV0dXJucyB0cnVlIGlmIGEgcmVkaXJlY3QgdHJhbnNpdGlvbiBhbHJlYWR5IGFuc3dlcmVkIHRydXRoeVxuICAgICAgICB2YXIgcHJldlRydXRoeUFuc3dlcl8xID0gZnVuY3Rpb24gKHRyYW5zKSB7XG4gICAgICAgICAgICByZXR1cm4gISF0cmFucyAmJiAodHJhbnNbY2FjaGVQcm9wXzFdICYmIHRyYW5zW2NhY2hlUHJvcF8xXVtpZF8xXSA9PT0gdHJ1ZSB8fCBwcmV2VHJ1dGh5QW5zd2VyXzEodHJhbnMucmVkaXJlY3RlZEZyb20oKSkpO1xuICAgICAgICB9O1xuICAgICAgICAvLyBJZiBhIHVzZXIgYW5zd2VyZWQgeWVzLCBidXQgdGhlIHRyYW5zaXRpb24gd2FzIGxhdGVyIHJlZGlyZWN0ZWQsIGRvbid0IGFsc28gYXNrIGZvciB0aGUgbmV3IHJlZGlyZWN0IHRyYW5zaXRpb25cbiAgICAgICAgdmFyIHdyYXBwZWRIb29rID0gZnVuY3Rpb24gKHRyYW5zKSB7XG4gICAgICAgICAgICB2YXIgcHJvbWlzZSwgaWRzID0gdHJhbnNbY2FjaGVQcm9wXzFdID0gdHJhbnNbY2FjaGVQcm9wXzFdIHx8IHt9O1xuICAgICAgICAgICAgaWYgKCFwcmV2VHJ1dGh5QW5zd2VyXzEodHJhbnMpKSB7XG4gICAgICAgICAgICAgICAgcHJvbWlzZSA9ICRxJCQxLndoZW4oY29udHJvbGxlckluc3RhbmNlLnVpQ2FuRXhpdCh0cmFucykpO1xuICAgICAgICAgICAgICAgIHByb21pc2UudGhlbihmdW5jdGlvbiAodmFsJCQxKSB7IHJldHVybiBpZHNbaWRfMV0gPSAodmFsJCQxICE9PSBmYWxzZSk7IH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHByb21pc2U7XG4gICAgICAgIH07XG4gICAgICAgIHZhciBjcml0ZXJpYSA9IHsgZXhpdGluZzogdmlld1N0YXRlLm5hbWUgfTtcbiAgICAgICAgJHNjb3BlLiRvbignJGRlc3Ryb3knLCAkdHJhbnNpdGlvbnMub25CZWZvcmUoY3JpdGVyaWEsIHdyYXBwZWRIb29rLCBob29rT3B0aW9ucykpO1xuICAgIH1cbn1cbm5nLm1vZHVsZSgndWkucm91dGVyLnN0YXRlJykuZGlyZWN0aXZlKCd1aVZpZXcnLCB1aVZpZXcpO1xubmcubW9kdWxlKCd1aS5yb3V0ZXIuc3RhdGUnKS5kaXJlY3RpdmUoJ3VpVmlldycsICRWaWV3RGlyZWN0aXZlRmlsbCk7XG5cbi8qKiBAbW9kdWxlIG5nMSAqLyAvKiogKi9cbi8qKiBAaGlkZGVuICovXG5mdW5jdGlvbiAkVmlld1Njcm9sbFByb3ZpZGVyKCkge1xuICAgIHZhciB1c2VBbmNob3JTY3JvbGwgPSBmYWxzZTtcbiAgICB0aGlzLnVzZUFuY2hvclNjcm9sbCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdXNlQW5jaG9yU2Nyb2xsID0gdHJ1ZTtcbiAgICB9O1xuICAgIHRoaXMuJGdldCA9IFsnJGFuY2hvclNjcm9sbCcsICckdGltZW91dCcsIGZ1bmN0aW9uICgkYW5jaG9yU2Nyb2xsLCAkdGltZW91dCkge1xuICAgICAgICAgICAgaWYgKHVzZUFuY2hvclNjcm9sbCkge1xuICAgICAgICAgICAgICAgIHJldHVybiAkYW5jaG9yU2Nyb2xsO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIGZ1bmN0aW9uICgkZWxlbWVudCkge1xuICAgICAgICAgICAgICAgIHJldHVybiAkdGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgICRlbGVtZW50WzBdLnNjcm9sbEludG9WaWV3KCk7XG4gICAgICAgICAgICAgICAgfSwgMCwgZmFsc2UpO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgfV07XG59XG5uZy5tb2R1bGUoJ3VpLnJvdXRlci5zdGF0ZScpLnByb3ZpZGVyKCckdWlWaWV3U2Nyb2xsJywgJFZpZXdTY3JvbGxQcm92aWRlcik7XG5cbi8qKlxuICogTWFpbiBlbnRyeSBwb2ludCBmb3IgYW5ndWxhciAxLnggYnVpbGRcbiAqIEBtb2R1bGUgbmcxXG4gKi8gLyoqICovXG52YXIgaW5kZXggPSBcInVpLnJvdXRlclwiO1xuXG5leHBvcnRzLmNvcmUgPSBpbmRleCQxO1xuZXhwb3J0c1snZGVmYXVsdCddID0gaW5kZXg7XG5leHBvcnRzLmZyb21Kc29uID0gZnJvbUpzb247XG5leHBvcnRzLnRvSnNvbiA9IHRvSnNvbjtcbmV4cG9ydHMuY29weSA9IGNvcHk7XG5leHBvcnRzLmZvckVhY2ggPSBmb3JFYWNoO1xuZXhwb3J0cy5leHRlbmQgPSBleHRlbmQ7XG5leHBvcnRzLmVxdWFscyA9IGVxdWFscztcbmV4cG9ydHMuaWRlbnRpdHkgPSBpZGVudGl0eTtcbmV4cG9ydHMubm9vcCA9IG5vb3AkMTtcbmV4cG9ydHMuY3JlYXRlUHJveHlGdW5jdGlvbnMgPSBjcmVhdGVQcm94eUZ1bmN0aW9ucztcbmV4cG9ydHMuaW5oZXJpdCA9IGluaGVyaXQ7XG5leHBvcnRzLmluQXJyYXkgPSBpbkFycmF5O1xuZXhwb3J0cy5faW5BcnJheSA9IF9pbkFycmF5O1xuZXhwb3J0cy5yZW1vdmVGcm9tID0gcmVtb3ZlRnJvbTtcbmV4cG9ydHMuX3JlbW92ZUZyb20gPSBfcmVtb3ZlRnJvbTtcbmV4cG9ydHMucHVzaFRvID0gcHVzaFRvO1xuZXhwb3J0cy5fcHVzaFRvID0gX3B1c2hUbztcbmV4cG9ydHMuZGVyZWdBbGwgPSBkZXJlZ0FsbDtcbmV4cG9ydHMuZGVmYXVsdHMgPSBkZWZhdWx0cztcbmV4cG9ydHMubWVyZ2VSID0gbWVyZ2VSO1xuZXhwb3J0cy5hbmNlc3RvcnMgPSBhbmNlc3RvcnM7XG5leHBvcnRzLnBpY2sgPSBwaWNrO1xuZXhwb3J0cy5vbWl0ID0gb21pdDtcbmV4cG9ydHMucGx1Y2sgPSBwbHVjaztcbmV4cG9ydHMuZmlsdGVyID0gZmlsdGVyO1xuZXhwb3J0cy5maW5kID0gZmluZDtcbmV4cG9ydHMubWFwT2JqID0gbWFwT2JqO1xuZXhwb3J0cy5tYXAgPSBtYXA7XG5leHBvcnRzLnZhbHVlcyA9IHZhbHVlcztcbmV4cG9ydHMuYWxsVHJ1ZVIgPSBhbGxUcnVlUjtcbmV4cG9ydHMuYW55VHJ1ZVIgPSBhbnlUcnVlUjtcbmV4cG9ydHMudW5uZXN0UiA9IHVubmVzdFI7XG5leHBvcnRzLmZsYXR0ZW5SID0gZmxhdHRlblI7XG5leHBvcnRzLnB1c2hSID0gcHVzaFI7XG5leHBvcnRzLnVuaXFSID0gdW5pcVI7XG5leHBvcnRzLnVubmVzdCA9IHVubmVzdDtcbmV4cG9ydHMuZmxhdHRlbiA9IGZsYXR0ZW47XG5leHBvcnRzLmFzc2VydFByZWRpY2F0ZSA9IGFzc2VydFByZWRpY2F0ZTtcbmV4cG9ydHMuYXNzZXJ0TWFwID0gYXNzZXJ0TWFwO1xuZXhwb3J0cy5hc3NlcnRGbiA9IGFzc2VydEZuO1xuZXhwb3J0cy5wYWlycyA9IHBhaXJzO1xuZXhwb3J0cy5hcnJheVR1cGxlcyA9IGFycmF5VHVwbGVzO1xuZXhwb3J0cy5hcHBseVBhaXJzID0gYXBwbHlQYWlycztcbmV4cG9ydHMudGFpbCA9IHRhaWw7XG5leHBvcnRzLl9leHRlbmQgPSBfZXh0ZW5kO1xuZXhwb3J0cy5zb3J0QnkgPSBzb3J0Qnk7XG5leHBvcnRzLmNvbXBvc2VTb3J0ID0gY29tcG9zZVNvcnQ7XG5leHBvcnRzLnNpbGVuY2VVbmNhdWdodEluUHJvbWlzZSA9IHNpbGVuY2VVbmNhdWdodEluUHJvbWlzZTtcbmV4cG9ydHMuc2lsZW50UmVqZWN0aW9uID0gc2lsZW50UmVqZWN0aW9uO1xuZXhwb3J0cy5ub3RJbXBsZW1lbnRlZCA9IG5vdEltcGxlbWVudGVkO1xuZXhwb3J0cy5zZXJ2aWNlcyA9IHNlcnZpY2VzO1xuZXhwb3J0cy5HbG9iID0gR2xvYjtcbmV4cG9ydHMuY3VycnkgPSBjdXJyeTtcbmV4cG9ydHMuY29tcG9zZSA9IGNvbXBvc2U7XG5leHBvcnRzLnBpcGUgPSBwaXBlO1xuZXhwb3J0cy5wcm9wID0gcHJvcDtcbmV4cG9ydHMucHJvcEVxID0gcHJvcEVxO1xuZXhwb3J0cy5wYXJzZSA9IHBhcnNlO1xuZXhwb3J0cy5ub3QgPSBub3Q7XG5leHBvcnRzLmFuZCA9IGFuZDtcbmV4cG9ydHMub3IgPSBvcjtcbmV4cG9ydHMuYWxsID0gYWxsO1xuZXhwb3J0cy5hbnkgPSBhbnk7XG5leHBvcnRzLmlzID0gaXM7XG5leHBvcnRzLmVxID0gZXE7XG5leHBvcnRzLnZhbCA9IHZhbDtcbmV4cG9ydHMuaW52b2tlID0gaW52b2tlO1xuZXhwb3J0cy5wYXR0ZXJuID0gcGF0dGVybjtcbmV4cG9ydHMuaXNVbmRlZmluZWQgPSBpc1VuZGVmaW5lZDtcbmV4cG9ydHMuaXNEZWZpbmVkID0gaXNEZWZpbmVkO1xuZXhwb3J0cy5pc051bGwgPSBpc051bGw7XG5leHBvcnRzLmlzTnVsbE9yVW5kZWZpbmVkID0gaXNOdWxsT3JVbmRlZmluZWQ7XG5leHBvcnRzLmlzRnVuY3Rpb24gPSBpc0Z1bmN0aW9uO1xuZXhwb3J0cy5pc051bWJlciA9IGlzTnVtYmVyO1xuZXhwb3J0cy5pc1N0cmluZyA9IGlzU3RyaW5nO1xuZXhwb3J0cy5pc09iamVjdCA9IGlzT2JqZWN0O1xuZXhwb3J0cy5pc0FycmF5ID0gaXNBcnJheTtcbmV4cG9ydHMuaXNEYXRlID0gaXNEYXRlO1xuZXhwb3J0cy5pc1JlZ0V4cCA9IGlzUmVnRXhwO1xuZXhwb3J0cy5pc1N0YXRlID0gaXNTdGF0ZTtcbmV4cG9ydHMuaXNJbmplY3RhYmxlID0gaXNJbmplY3RhYmxlO1xuZXhwb3J0cy5pc1Byb21pc2UgPSBpc1Byb21pc2U7XG5leHBvcnRzLlF1ZXVlID0gUXVldWU7XG5leHBvcnRzLm1heExlbmd0aCA9IG1heExlbmd0aDtcbmV4cG9ydHMucGFkU3RyaW5nID0gcGFkU3RyaW5nO1xuZXhwb3J0cy5rZWJvYlN0cmluZyA9IGtlYm9iU3RyaW5nO1xuZXhwb3J0cy5mdW5jdGlvblRvU3RyaW5nID0gZnVuY3Rpb25Ub1N0cmluZztcbmV4cG9ydHMuZm5Ub1N0cmluZyA9IGZuVG9TdHJpbmc7XG5leHBvcnRzLnN0cmluZ2lmeSA9IHN0cmluZ2lmeTtcbmV4cG9ydHMuYmVmb3JlQWZ0ZXJTdWJzdHIgPSBiZWZvcmVBZnRlclN1YnN0cjtcbmV4cG9ydHMuc3BsaXRPbkRlbGltID0gc3BsaXRPbkRlbGltO1xuZXhwb3J0cy5qb2luTmVpZ2hib3JzUiA9IGpvaW5OZWlnaGJvcnNSO1xuZXhwb3J0cy5UcmFjZSA9IFRyYWNlO1xuZXhwb3J0cy50cmFjZSA9IHRyYWNlO1xuZXhwb3J0cy5QYXJhbSA9IFBhcmFtO1xuZXhwb3J0cy5QYXJhbVR5cGVzID0gUGFyYW1UeXBlcztcbmV4cG9ydHMuU3RhdGVQYXJhbXMgPSBTdGF0ZVBhcmFtcztcbmV4cG9ydHMuUGFyYW1UeXBlID0gUGFyYW1UeXBlO1xuZXhwb3J0cy5QYXRoTm9kZSA9IFBhdGhOb2RlO1xuZXhwb3J0cy5QYXRoVXRpbHMgPSBQYXRoVXRpbHM7XG5leHBvcnRzLnJlc29sdmVQb2xpY2llcyA9IHJlc29sdmVQb2xpY2llcztcbmV4cG9ydHMuZGVmYXVsdFJlc29sdmVQb2xpY3kgPSBkZWZhdWx0UmVzb2x2ZVBvbGljeTtcbmV4cG9ydHMuUmVzb2x2YWJsZSA9IFJlc29sdmFibGU7XG5leHBvcnRzLk5BVElWRV9JTkpFQ1RPUl9UT0tFTiA9IE5BVElWRV9JTkpFQ1RPUl9UT0tFTjtcbmV4cG9ydHMuUmVzb2x2ZUNvbnRleHQgPSBSZXNvbHZlQ29udGV4dDtcbmV4cG9ydHMucmVzb2x2YWJsZXNCdWlsZGVyID0gcmVzb2x2YWJsZXNCdWlsZGVyO1xuZXhwb3J0cy5TdGF0ZUJ1aWxkZXIgPSBTdGF0ZUJ1aWxkZXI7XG5leHBvcnRzLlN0YXRlT2JqZWN0ID0gU3RhdGVPYmplY3Q7XG5leHBvcnRzLlN0YXRlTWF0Y2hlciA9IFN0YXRlTWF0Y2hlcjtcbmV4cG9ydHMuU3RhdGVRdWV1ZU1hbmFnZXIgPSBTdGF0ZVF1ZXVlTWFuYWdlcjtcbmV4cG9ydHMuU3RhdGVSZWdpc3RyeSA9IFN0YXRlUmVnaXN0cnk7XG5leHBvcnRzLlN0YXRlU2VydmljZSA9IFN0YXRlU2VydmljZTtcbmV4cG9ydHMuVGFyZ2V0U3RhdGUgPSBUYXJnZXRTdGF0ZTtcbmV4cG9ydHMuSG9va0J1aWxkZXIgPSBIb29rQnVpbGRlcjtcbmV4cG9ydHMubWF0Y2hTdGF0ZSA9IG1hdGNoU3RhdGU7XG5leHBvcnRzLlJlZ2lzdGVyZWRIb29rID0gUmVnaXN0ZXJlZEhvb2s7XG5leHBvcnRzLm1ha2VFdmVudCA9IG1ha2VFdmVudDtcbmV4cG9ydHMuUmVqZWN0aW9uID0gUmVqZWN0aW9uO1xuZXhwb3J0cy5UcmFuc2l0aW9uID0gVHJhbnNpdGlvbjtcbmV4cG9ydHMuVHJhbnNpdGlvbkhvb2sgPSBUcmFuc2l0aW9uSG9vaztcbmV4cG9ydHMuVHJhbnNpdGlvbkV2ZW50VHlwZSA9IFRyYW5zaXRpb25FdmVudFR5cGU7XG5leHBvcnRzLmRlZmF1bHRUcmFuc09wdHMgPSBkZWZhdWx0VHJhbnNPcHRzO1xuZXhwb3J0cy5UcmFuc2l0aW9uU2VydmljZSA9IFRyYW5zaXRpb25TZXJ2aWNlO1xuZXhwb3J0cy5VcmxNYXRjaGVyID0gVXJsTWF0Y2hlcjtcbmV4cG9ydHMuVXJsTWF0Y2hlckZhY3RvcnkgPSBVcmxNYXRjaGVyRmFjdG9yeTtcbmV4cG9ydHMuVXJsUm91dGVyID0gVXJsUm91dGVyO1xuZXhwb3J0cy5VcmxSdWxlRmFjdG9yeSA9IFVybFJ1bGVGYWN0b3J5O1xuZXhwb3J0cy5CYXNlVXJsUnVsZSA9IEJhc2VVcmxSdWxlO1xuZXhwb3J0cy5VcmxTZXJ2aWNlID0gVXJsU2VydmljZTtcbmV4cG9ydHMuVmlld1NlcnZpY2UgPSBWaWV3U2VydmljZTtcbmV4cG9ydHMuVUlSb3V0ZXJHbG9iYWxzID0gVUlSb3V0ZXJHbG9iYWxzO1xuZXhwb3J0cy5VSVJvdXRlciA9IFVJUm91dGVyO1xuZXhwb3J0cy4kcSA9ICRxO1xuZXhwb3J0cy4kaW5qZWN0b3IgPSAkaW5qZWN0b3I7XG5leHBvcnRzLkJhc2VMb2NhdGlvblNlcnZpY2VzID0gQmFzZUxvY2F0aW9uU2VydmljZXM7XG5leHBvcnRzLkhhc2hMb2NhdGlvblNlcnZpY2UgPSBIYXNoTG9jYXRpb25TZXJ2aWNlO1xuZXhwb3J0cy5NZW1vcnlMb2NhdGlvblNlcnZpY2UgPSBNZW1vcnlMb2NhdGlvblNlcnZpY2U7XG5leHBvcnRzLlB1c2hTdGF0ZUxvY2F0aW9uU2VydmljZSA9IFB1c2hTdGF0ZUxvY2F0aW9uU2VydmljZTtcbmV4cG9ydHMuTWVtb3J5TG9jYXRpb25Db25maWcgPSBNZW1vcnlMb2NhdGlvbkNvbmZpZztcbmV4cG9ydHMuQnJvd3NlckxvY2F0aW9uQ29uZmlnID0gQnJvd3NlckxvY2F0aW9uQ29uZmlnO1xuZXhwb3J0cy5zcGxpdEhhc2ggPSBzcGxpdEhhc2g7XG5leHBvcnRzLnNwbGl0UXVlcnkgPSBzcGxpdFF1ZXJ5O1xuZXhwb3J0cy5zcGxpdEVxdWFsID0gc3BsaXRFcXVhbDtcbmV4cG9ydHMudHJpbUhhc2hWYWwgPSB0cmltSGFzaFZhbDtcbmV4cG9ydHMua2V5VmFsc1RvT2JqZWN0UiA9IGtleVZhbHNUb09iamVjdFI7XG5leHBvcnRzLmdldFBhcmFtcyA9IGdldFBhcmFtcztcbmV4cG9ydHMucGFyc2VVcmwgPSBwYXJzZVVybCQxO1xuZXhwb3J0cy5idWlsZFVybCA9IGJ1aWxkVXJsO1xuZXhwb3J0cy5sb2NhdGlvblBsdWdpbkZhY3RvcnkgPSBsb2NhdGlvblBsdWdpbkZhY3Rvcnk7XG5leHBvcnRzLnNlcnZpY2VzUGx1Z2luID0gc2VydmljZXNQbHVnaW47XG5leHBvcnRzLmhhc2hMb2NhdGlvblBsdWdpbiA9IGhhc2hMb2NhdGlvblBsdWdpbjtcbmV4cG9ydHMucHVzaFN0YXRlTG9jYXRpb25QbHVnaW4gPSBwdXNoU3RhdGVMb2NhdGlvblBsdWdpbjtcbmV4cG9ydHMubWVtb3J5TG9jYXRpb25QbHVnaW4gPSBtZW1vcnlMb2NhdGlvblBsdWdpbjtcbmV4cG9ydHMuVUlSb3V0ZXJQbHVnaW5CYXNlID0gVUlSb3V0ZXJQbHVnaW5CYXNlO1xuZXhwb3J0cy53YXRjaERpZ2VzdHMgPSB3YXRjaERpZ2VzdHM7XG5leHBvcnRzLmdldExvY2FscyA9IGdldExvY2FscztcbmV4cG9ydHMuZ2V0TmcxVmlld0NvbmZpZ0ZhY3RvcnkgPSBnZXROZzFWaWV3Q29uZmlnRmFjdG9yeTtcbmV4cG9ydHMubmcxVmlld3NCdWlsZGVyID0gbmcxVmlld3NCdWlsZGVyO1xuZXhwb3J0cy5OZzFWaWV3Q29uZmlnID0gTmcxVmlld0NvbmZpZztcbmV4cG9ydHMuU3RhdGVQcm92aWRlciA9IFN0YXRlUHJvdmlkZXI7XG5leHBvcnRzLlVybFJvdXRlclByb3ZpZGVyID0gVXJsUm91dGVyUHJvdmlkZXI7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnX19lc01vZHVsZScsIHsgdmFsdWU6IHRydWUgfSk7XG5cbn0pKSk7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1hbmd1bGFyLXVpLXJvdXRlci5qcy5tYXBcblxuLyohXG4gKiBqUXVlcnkgSmF2YVNjcmlwdCBMaWJyYXJ5IHYzLjIuMVxuICogaHR0cHM6Ly9qcXVlcnkuY29tL1xuICpcbiAqIEluY2x1ZGVzIFNpenpsZS5qc1xuICogaHR0cHM6Ly9zaXp6bGVqcy5jb20vXG4gKlxuICogQ29weXJpZ2h0IEpTIEZvdW5kYXRpb24gYW5kIG90aGVyIGNvbnRyaWJ1dG9yc1xuICogUmVsZWFzZWQgdW5kZXIgdGhlIE1JVCBsaWNlbnNlXG4gKiBodHRwczovL2pxdWVyeS5vcmcvbGljZW5zZVxuICpcbiAqIERhdGU6IDIwMTctMDMtMjBUMTg6NTlaXG4gKi9cbiggZnVuY3Rpb24oIGdsb2JhbCwgZmFjdG9yeSApIHtcblxuXHRcInVzZSBzdHJpY3RcIjtcblxuXHRpZiAoIHR5cGVvZiBtb2R1bGUgPT09IFwib2JqZWN0XCIgJiYgdHlwZW9mIG1vZHVsZS5leHBvcnRzID09PSBcIm9iamVjdFwiICkge1xuXG5cdFx0Ly8gRm9yIENvbW1vbkpTIGFuZCBDb21tb25KUy1saWtlIGVudmlyb25tZW50cyB3aGVyZSBhIHByb3BlciBgd2luZG93YFxuXHRcdC8vIGlzIHByZXNlbnQsIGV4ZWN1dGUgdGhlIGZhY3RvcnkgYW5kIGdldCBqUXVlcnkuXG5cdFx0Ly8gRm9yIGVudmlyb25tZW50cyB0aGF0IGRvIG5vdCBoYXZlIGEgYHdpbmRvd2Agd2l0aCBhIGBkb2N1bWVudGBcblx0XHQvLyAoc3VjaCBhcyBOb2RlLmpzKSwgZXhwb3NlIGEgZmFjdG9yeSBhcyBtb2R1bGUuZXhwb3J0cy5cblx0XHQvLyBUaGlzIGFjY2VudHVhdGVzIHRoZSBuZWVkIGZvciB0aGUgY3JlYXRpb24gb2YgYSByZWFsIGB3aW5kb3dgLlxuXHRcdC8vIGUuZy4gdmFyIGpRdWVyeSA9IHJlcXVpcmUoXCJqcXVlcnlcIikod2luZG93KTtcblx0XHQvLyBTZWUgdGlja2V0ICMxNDU0OSBmb3IgbW9yZSBpbmZvLlxuXHRcdG1vZHVsZS5leHBvcnRzID0gZ2xvYmFsLmRvY3VtZW50ID9cblx0XHRcdGZhY3RvcnkoIGdsb2JhbCwgdHJ1ZSApIDpcblx0XHRcdGZ1bmN0aW9uKCB3ICkge1xuXHRcdFx0XHRpZiAoICF3LmRvY3VtZW50ICkge1xuXHRcdFx0XHRcdHRocm93IG5ldyBFcnJvciggXCJqUXVlcnkgcmVxdWlyZXMgYSB3aW5kb3cgd2l0aCBhIGRvY3VtZW50XCIgKTtcblx0XHRcdFx0fVxuXHRcdFx0XHRyZXR1cm4gZmFjdG9yeSggdyApO1xuXHRcdFx0fTtcblx0fSBlbHNlIHtcblx0XHRmYWN0b3J5KCBnbG9iYWwgKTtcblx0fVxuXG4vLyBQYXNzIHRoaXMgaWYgd2luZG93IGlzIG5vdCBkZWZpbmVkIHlldFxufSApKCB0eXBlb2Ygd2luZG93ICE9PSBcInVuZGVmaW5lZFwiID8gd2luZG93IDogdGhpcywgZnVuY3Rpb24oIHdpbmRvdywgbm9HbG9iYWwgKSB7XG5cbi8vIEVkZ2UgPD0gMTIgLSAxMyssIEZpcmVmb3ggPD0xOCAtIDQ1KywgSUUgMTAgLSAxMSwgU2FmYXJpIDUuMSAtIDkrLCBpT1MgNiAtIDkuMVxuLy8gdGhyb3cgZXhjZXB0aW9ucyB3aGVuIG5vbi1zdHJpY3QgY29kZSAoZS5nLiwgQVNQLk5FVCA0LjUpIGFjY2Vzc2VzIHN0cmljdCBtb2RlXG4vLyBhcmd1bWVudHMuY2FsbGVlLmNhbGxlciAodHJhYy0xMzMzNSkuIEJ1dCBhcyBvZiBqUXVlcnkgMy4wICgyMDE2KSwgc3RyaWN0IG1vZGUgc2hvdWxkIGJlIGNvbW1vblxuLy8gZW5vdWdoIHRoYXQgYWxsIHN1Y2ggYXR0ZW1wdHMgYXJlIGd1YXJkZWQgaW4gYSB0cnkgYmxvY2suXG5cInVzZSBzdHJpY3RcIjtcblxudmFyIGFyciA9IFtdO1xuXG52YXIgZG9jdW1lbnQgPSB3aW5kb3cuZG9jdW1lbnQ7XG5cbnZhciBnZXRQcm90byA9IE9iamVjdC5nZXRQcm90b3R5cGVPZjtcblxudmFyIHNsaWNlID0gYXJyLnNsaWNlO1xuXG52YXIgY29uY2F0ID0gYXJyLmNvbmNhdDtcblxudmFyIHB1c2ggPSBhcnIucHVzaDtcblxudmFyIGluZGV4T2YgPSBhcnIuaW5kZXhPZjtcblxudmFyIGNsYXNzMnR5cGUgPSB7fTtcblxudmFyIHRvU3RyaW5nID0gY2xhc3MydHlwZS50b1N0cmluZztcblxudmFyIGhhc093biA9IGNsYXNzMnR5cGUuaGFzT3duUHJvcGVydHk7XG5cbnZhciBmblRvU3RyaW5nID0gaGFzT3duLnRvU3RyaW5nO1xuXG52YXIgT2JqZWN0RnVuY3Rpb25TdHJpbmcgPSBmblRvU3RyaW5nLmNhbGwoIE9iamVjdCApO1xuXG52YXIgc3VwcG9ydCA9IHt9O1xuXG5cblxuXHRmdW5jdGlvbiBET01FdmFsKCBjb2RlLCBkb2MgKSB7XG5cdFx0ZG9jID0gZG9jIHx8IGRvY3VtZW50O1xuXG5cdFx0dmFyIHNjcmlwdCA9IGRvYy5jcmVhdGVFbGVtZW50KCBcInNjcmlwdFwiICk7XG5cblx0XHRzY3JpcHQudGV4dCA9IGNvZGU7XG5cdFx0ZG9jLmhlYWQuYXBwZW5kQ2hpbGQoIHNjcmlwdCApLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoIHNjcmlwdCApO1xuXHR9XG4vKiBnbG9iYWwgU3ltYm9sICovXG4vLyBEZWZpbmluZyB0aGlzIGdsb2JhbCBpbiAuZXNsaW50cmMuanNvbiB3b3VsZCBjcmVhdGUgYSBkYW5nZXIgb2YgdXNpbmcgdGhlIGdsb2JhbFxuLy8gdW5ndWFyZGVkIGluIGFub3RoZXIgcGxhY2UsIGl0IHNlZW1zIHNhZmVyIHRvIGRlZmluZSBnbG9iYWwgb25seSBmb3IgdGhpcyBtb2R1bGVcblxuXG5cbnZhclxuXHR2ZXJzaW9uID0gXCIzLjIuMVwiLFxuXG5cdC8vIERlZmluZSBhIGxvY2FsIGNvcHkgb2YgalF1ZXJ5XG5cdGpRdWVyeSA9IGZ1bmN0aW9uKCBzZWxlY3RvciwgY29udGV4dCApIHtcblxuXHRcdC8vIFRoZSBqUXVlcnkgb2JqZWN0IGlzIGFjdHVhbGx5IGp1c3QgdGhlIGluaXQgY29uc3RydWN0b3IgJ2VuaGFuY2VkJ1xuXHRcdC8vIE5lZWQgaW5pdCBpZiBqUXVlcnkgaXMgY2FsbGVkIChqdXN0IGFsbG93IGVycm9yIHRvIGJlIHRocm93biBpZiBub3QgaW5jbHVkZWQpXG5cdFx0cmV0dXJuIG5ldyBqUXVlcnkuZm4uaW5pdCggc2VsZWN0b3IsIGNvbnRleHQgKTtcblx0fSxcblxuXHQvLyBTdXBwb3J0OiBBbmRyb2lkIDw9NC4wIG9ubHlcblx0Ly8gTWFrZSBzdXJlIHdlIHRyaW0gQk9NIGFuZCBOQlNQXG5cdHJ0cmltID0gL15bXFxzXFx1RkVGRlxceEEwXSt8W1xcc1xcdUZFRkZcXHhBMF0rJC9nLFxuXG5cdC8vIE1hdGNoZXMgZGFzaGVkIHN0cmluZyBmb3IgY2FtZWxpemluZ1xuXHRybXNQcmVmaXggPSAvXi1tcy0vLFxuXHRyZGFzaEFscGhhID0gLy0oW2Etel0pL2csXG5cblx0Ly8gVXNlZCBieSBqUXVlcnkuY2FtZWxDYXNlIGFzIGNhbGxiYWNrIHRvIHJlcGxhY2UoKVxuXHRmY2FtZWxDYXNlID0gZnVuY3Rpb24oIGFsbCwgbGV0dGVyICkge1xuXHRcdHJldHVybiBsZXR0ZXIudG9VcHBlckNhc2UoKTtcblx0fTtcblxualF1ZXJ5LmZuID0galF1ZXJ5LnByb3RvdHlwZSA9IHtcblxuXHQvLyBUaGUgY3VycmVudCB2ZXJzaW9uIG9mIGpRdWVyeSBiZWluZyB1c2VkXG5cdGpxdWVyeTogdmVyc2lvbixcblxuXHRjb25zdHJ1Y3RvcjogalF1ZXJ5LFxuXG5cdC8vIFRoZSBkZWZhdWx0IGxlbmd0aCBvZiBhIGpRdWVyeSBvYmplY3QgaXMgMFxuXHRsZW5ndGg6IDAsXG5cblx0dG9BcnJheTogZnVuY3Rpb24oKSB7XG5cdFx0cmV0dXJuIHNsaWNlLmNhbGwoIHRoaXMgKTtcblx0fSxcblxuXHQvLyBHZXQgdGhlIE50aCBlbGVtZW50IGluIHRoZSBtYXRjaGVkIGVsZW1lbnQgc2V0IE9SXG5cdC8vIEdldCB0aGUgd2hvbGUgbWF0Y2hlZCBlbGVtZW50IHNldCBhcyBhIGNsZWFuIGFycmF5XG5cdGdldDogZnVuY3Rpb24oIG51bSApIHtcblxuXHRcdC8vIFJldHVybiBhbGwgdGhlIGVsZW1lbnRzIGluIGEgY2xlYW4gYXJyYXlcblx0XHRpZiAoIG51bSA9PSBudWxsICkge1xuXHRcdFx0cmV0dXJuIHNsaWNlLmNhbGwoIHRoaXMgKTtcblx0XHR9XG5cblx0XHQvLyBSZXR1cm4ganVzdCB0aGUgb25lIGVsZW1lbnQgZnJvbSB0aGUgc2V0XG5cdFx0cmV0dXJuIG51bSA8IDAgPyB0aGlzWyBudW0gKyB0aGlzLmxlbmd0aCBdIDogdGhpc1sgbnVtIF07XG5cdH0sXG5cblx0Ly8gVGFrZSBhbiBhcnJheSBvZiBlbGVtZW50cyBhbmQgcHVzaCBpdCBvbnRvIHRoZSBzdGFja1xuXHQvLyAocmV0dXJuaW5nIHRoZSBuZXcgbWF0Y2hlZCBlbGVtZW50IHNldClcblx0cHVzaFN0YWNrOiBmdW5jdGlvbiggZWxlbXMgKSB7XG5cblx0XHQvLyBCdWlsZCBhIG5ldyBqUXVlcnkgbWF0Y2hlZCBlbGVtZW50IHNldFxuXHRcdHZhciByZXQgPSBqUXVlcnkubWVyZ2UoIHRoaXMuY29uc3RydWN0b3IoKSwgZWxlbXMgKTtcblxuXHRcdC8vIEFkZCB0aGUgb2xkIG9iamVjdCBvbnRvIHRoZSBzdGFjayAoYXMgYSByZWZlcmVuY2UpXG5cdFx0cmV0LnByZXZPYmplY3QgPSB0aGlzO1xuXG5cdFx0Ly8gUmV0dXJuIHRoZSBuZXdseS1mb3JtZWQgZWxlbWVudCBzZXRcblx0XHRyZXR1cm4gcmV0O1xuXHR9LFxuXG5cdC8vIEV4ZWN1dGUgYSBjYWxsYmFjayBmb3IgZXZlcnkgZWxlbWVudCBpbiB0aGUgbWF0Y2hlZCBzZXQuXG5cdGVhY2g6IGZ1bmN0aW9uKCBjYWxsYmFjayApIHtcblx0XHRyZXR1cm4galF1ZXJ5LmVhY2goIHRoaXMsIGNhbGxiYWNrICk7XG5cdH0sXG5cblx0bWFwOiBmdW5jdGlvbiggY2FsbGJhY2sgKSB7XG5cdFx0cmV0dXJuIHRoaXMucHVzaFN0YWNrKCBqUXVlcnkubWFwKCB0aGlzLCBmdW5jdGlvbiggZWxlbSwgaSApIHtcblx0XHRcdHJldHVybiBjYWxsYmFjay5jYWxsKCBlbGVtLCBpLCBlbGVtICk7XG5cdFx0fSApICk7XG5cdH0sXG5cblx0c2xpY2U6IGZ1bmN0aW9uKCkge1xuXHRcdHJldHVybiB0aGlzLnB1c2hTdGFjayggc2xpY2UuYXBwbHkoIHRoaXMsIGFyZ3VtZW50cyApICk7XG5cdH0sXG5cblx0Zmlyc3Q6IGZ1bmN0aW9uKCkge1xuXHRcdHJldHVybiB0aGlzLmVxKCAwICk7XG5cdH0sXG5cblx0bGFzdDogZnVuY3Rpb24oKSB7XG5cdFx0cmV0dXJuIHRoaXMuZXEoIC0xICk7XG5cdH0sXG5cblx0ZXE6IGZ1bmN0aW9uKCBpICkge1xuXHRcdHZhciBsZW4gPSB0aGlzLmxlbmd0aCxcblx0XHRcdGogPSAraSArICggaSA8IDAgPyBsZW4gOiAwICk7XG5cdFx0cmV0dXJuIHRoaXMucHVzaFN0YWNrKCBqID49IDAgJiYgaiA8IGxlbiA/IFsgdGhpc1sgaiBdIF0gOiBbXSApO1xuXHR9LFxuXG5cdGVuZDogZnVuY3Rpb24oKSB7XG5cdFx0cmV0dXJuIHRoaXMucHJldk9iamVjdCB8fCB0aGlzLmNvbnN0cnVjdG9yKCk7XG5cdH0sXG5cblx0Ly8gRm9yIGludGVybmFsIHVzZSBvbmx5LlxuXHQvLyBCZWhhdmVzIGxpa2UgYW4gQXJyYXkncyBtZXRob2QsIG5vdCBsaWtlIGEgalF1ZXJ5IG1ldGhvZC5cblx0cHVzaDogcHVzaCxcblx0c29ydDogYXJyLnNvcnQsXG5cdHNwbGljZTogYXJyLnNwbGljZVxufTtcblxualF1ZXJ5LmV4dGVuZCA9IGpRdWVyeS5mbi5leHRlbmQgPSBmdW5jdGlvbigpIHtcblx0dmFyIG9wdGlvbnMsIG5hbWUsIHNyYywgY29weSwgY29weUlzQXJyYXksIGNsb25lLFxuXHRcdHRhcmdldCA9IGFyZ3VtZW50c1sgMCBdIHx8IHt9LFxuXHRcdGkgPSAxLFxuXHRcdGxlbmd0aCA9IGFyZ3VtZW50cy5sZW5ndGgsXG5cdFx0ZGVlcCA9IGZhbHNlO1xuXG5cdC8vIEhhbmRsZSBhIGRlZXAgY29weSBzaXR1YXRpb25cblx0aWYgKCB0eXBlb2YgdGFyZ2V0ID09PSBcImJvb2xlYW5cIiApIHtcblx0XHRkZWVwID0gdGFyZ2V0O1xuXG5cdFx0Ly8gU2tpcCB0aGUgYm9vbGVhbiBhbmQgdGhlIHRhcmdldFxuXHRcdHRhcmdldCA9IGFyZ3VtZW50c1sgaSBdIHx8IHt9O1xuXHRcdGkrKztcblx0fVxuXG5cdC8vIEhhbmRsZSBjYXNlIHdoZW4gdGFyZ2V0IGlzIGEgc3RyaW5nIG9yIHNvbWV0aGluZyAocG9zc2libGUgaW4gZGVlcCBjb3B5KVxuXHRpZiAoIHR5cGVvZiB0YXJnZXQgIT09IFwib2JqZWN0XCIgJiYgIWpRdWVyeS5pc0Z1bmN0aW9uKCB0YXJnZXQgKSApIHtcblx0XHR0YXJnZXQgPSB7fTtcblx0fVxuXG5cdC8vIEV4dGVuZCBqUXVlcnkgaXRzZWxmIGlmIG9ubHkgb25lIGFyZ3VtZW50IGlzIHBhc3NlZFxuXHRpZiAoIGkgPT09IGxlbmd0aCApIHtcblx0XHR0YXJnZXQgPSB0aGlzO1xuXHRcdGktLTtcblx0fVxuXG5cdGZvciAoIDsgaSA8IGxlbmd0aDsgaSsrICkge1xuXG5cdFx0Ly8gT25seSBkZWFsIHdpdGggbm9uLW51bGwvdW5kZWZpbmVkIHZhbHVlc1xuXHRcdGlmICggKCBvcHRpb25zID0gYXJndW1lbnRzWyBpIF0gKSAhPSBudWxsICkge1xuXG5cdFx0XHQvLyBFeHRlbmQgdGhlIGJhc2Ugb2JqZWN0XG5cdFx0XHRmb3IgKCBuYW1lIGluIG9wdGlvbnMgKSB7XG5cdFx0XHRcdHNyYyA9IHRhcmdldFsgbmFtZSBdO1xuXHRcdFx0XHRjb3B5ID0gb3B0aW9uc1sgbmFtZSBdO1xuXG5cdFx0XHRcdC8vIFByZXZlbnQgbmV2ZXItZW5kaW5nIGxvb3Bcblx0XHRcdFx0aWYgKCB0YXJnZXQgPT09IGNvcHkgKSB7XG5cdFx0XHRcdFx0Y29udGludWU7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHQvLyBSZWN1cnNlIGlmIHdlJ3JlIG1lcmdpbmcgcGxhaW4gb2JqZWN0cyBvciBhcnJheXNcblx0XHRcdFx0aWYgKCBkZWVwICYmIGNvcHkgJiYgKCBqUXVlcnkuaXNQbGFpbk9iamVjdCggY29weSApIHx8XG5cdFx0XHRcdFx0KCBjb3B5SXNBcnJheSA9IEFycmF5LmlzQXJyYXkoIGNvcHkgKSApICkgKSB7XG5cblx0XHRcdFx0XHRpZiAoIGNvcHlJc0FycmF5ICkge1xuXHRcdFx0XHRcdFx0Y29weUlzQXJyYXkgPSBmYWxzZTtcblx0XHRcdFx0XHRcdGNsb25lID0gc3JjICYmIEFycmF5LmlzQXJyYXkoIHNyYyApID8gc3JjIDogW107XG5cblx0XHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdFx0Y2xvbmUgPSBzcmMgJiYgalF1ZXJ5LmlzUGxhaW5PYmplY3QoIHNyYyApID8gc3JjIDoge307XG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0Ly8gTmV2ZXIgbW92ZSBvcmlnaW5hbCBvYmplY3RzLCBjbG9uZSB0aGVtXG5cdFx0XHRcdFx0dGFyZ2V0WyBuYW1lIF0gPSBqUXVlcnkuZXh0ZW5kKCBkZWVwLCBjbG9uZSwgY29weSApO1xuXG5cdFx0XHRcdC8vIERvbid0IGJyaW5nIGluIHVuZGVmaW5lZCB2YWx1ZXNcblx0XHRcdFx0fSBlbHNlIGlmICggY29weSAhPT0gdW5kZWZpbmVkICkge1xuXHRcdFx0XHRcdHRhcmdldFsgbmFtZSBdID0gY29weTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH1cblx0fVxuXG5cdC8vIFJldHVybiB0aGUgbW9kaWZpZWQgb2JqZWN0XG5cdHJldHVybiB0YXJnZXQ7XG59O1xuXG5qUXVlcnkuZXh0ZW5kKCB7XG5cblx0Ly8gVW5pcXVlIGZvciBlYWNoIGNvcHkgb2YgalF1ZXJ5IG9uIHRoZSBwYWdlXG5cdGV4cGFuZG86IFwialF1ZXJ5XCIgKyAoIHZlcnNpb24gKyBNYXRoLnJhbmRvbSgpICkucmVwbGFjZSggL1xcRC9nLCBcIlwiICksXG5cblx0Ly8gQXNzdW1lIGpRdWVyeSBpcyByZWFkeSB3aXRob3V0IHRoZSByZWFkeSBtb2R1bGVcblx0aXNSZWFkeTogdHJ1ZSxcblxuXHRlcnJvcjogZnVuY3Rpb24oIG1zZyApIHtcblx0XHR0aHJvdyBuZXcgRXJyb3IoIG1zZyApO1xuXHR9LFxuXG5cdG5vb3A6IGZ1bmN0aW9uKCkge30sXG5cblx0aXNGdW5jdGlvbjogZnVuY3Rpb24oIG9iaiApIHtcblx0XHRyZXR1cm4galF1ZXJ5LnR5cGUoIG9iaiApID09PSBcImZ1bmN0aW9uXCI7XG5cdH0sXG5cblx0aXNXaW5kb3c6IGZ1bmN0aW9uKCBvYmogKSB7XG5cdFx0cmV0dXJuIG9iaiAhPSBudWxsICYmIG9iaiA9PT0gb2JqLndpbmRvdztcblx0fSxcblxuXHRpc051bWVyaWM6IGZ1bmN0aW9uKCBvYmogKSB7XG5cblx0XHQvLyBBcyBvZiBqUXVlcnkgMy4wLCBpc051bWVyaWMgaXMgbGltaXRlZCB0b1xuXHRcdC8vIHN0cmluZ3MgYW5kIG51bWJlcnMgKHByaW1pdGl2ZXMgb3Igb2JqZWN0cylcblx0XHQvLyB0aGF0IGNhbiBiZSBjb2VyY2VkIHRvIGZpbml0ZSBudW1iZXJzIChnaC0yNjYyKVxuXHRcdHZhciB0eXBlID0galF1ZXJ5LnR5cGUoIG9iaiApO1xuXHRcdHJldHVybiAoIHR5cGUgPT09IFwibnVtYmVyXCIgfHwgdHlwZSA9PT0gXCJzdHJpbmdcIiApICYmXG5cblx0XHRcdC8vIHBhcnNlRmxvYXQgTmFOcyBudW1lcmljLWNhc3QgZmFsc2UgcG9zaXRpdmVzIChcIlwiKVxuXHRcdFx0Ly8gLi4uYnV0IG1pc2ludGVycHJldHMgbGVhZGluZy1udW1iZXIgc3RyaW5ncywgcGFydGljdWxhcmx5IGhleCBsaXRlcmFscyAoXCIweC4uLlwiKVxuXHRcdFx0Ly8gc3VidHJhY3Rpb24gZm9yY2VzIGluZmluaXRpZXMgdG8gTmFOXG5cdFx0XHQhaXNOYU4oIG9iaiAtIHBhcnNlRmxvYXQoIG9iaiApICk7XG5cdH0sXG5cblx0aXNQbGFpbk9iamVjdDogZnVuY3Rpb24oIG9iaiApIHtcblx0XHR2YXIgcHJvdG8sIEN0b3I7XG5cblx0XHQvLyBEZXRlY3Qgb2J2aW91cyBuZWdhdGl2ZXNcblx0XHQvLyBVc2UgdG9TdHJpbmcgaW5zdGVhZCBvZiBqUXVlcnkudHlwZSB0byBjYXRjaCBob3N0IG9iamVjdHNcblx0XHRpZiAoICFvYmogfHwgdG9TdHJpbmcuY2FsbCggb2JqICkgIT09IFwiW29iamVjdCBPYmplY3RdXCIgKSB7XG5cdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0fVxuXG5cdFx0cHJvdG8gPSBnZXRQcm90byggb2JqICk7XG5cblx0XHQvLyBPYmplY3RzIHdpdGggbm8gcHJvdG90eXBlIChlLmcuLCBgT2JqZWN0LmNyZWF0ZSggbnVsbCApYCkgYXJlIHBsYWluXG5cdFx0aWYgKCAhcHJvdG8gKSB7XG5cdFx0XHRyZXR1cm4gdHJ1ZTtcblx0XHR9XG5cblx0XHQvLyBPYmplY3RzIHdpdGggcHJvdG90eXBlIGFyZSBwbGFpbiBpZmYgdGhleSB3ZXJlIGNvbnN0cnVjdGVkIGJ5IGEgZ2xvYmFsIE9iamVjdCBmdW5jdGlvblxuXHRcdEN0b3IgPSBoYXNPd24uY2FsbCggcHJvdG8sIFwiY29uc3RydWN0b3JcIiApICYmIHByb3RvLmNvbnN0cnVjdG9yO1xuXHRcdHJldHVybiB0eXBlb2YgQ3RvciA9PT0gXCJmdW5jdGlvblwiICYmIGZuVG9TdHJpbmcuY2FsbCggQ3RvciApID09PSBPYmplY3RGdW5jdGlvblN0cmluZztcblx0fSxcblxuXHRpc0VtcHR5T2JqZWN0OiBmdW5jdGlvbiggb2JqICkge1xuXG5cdFx0LyogZXNsaW50LWRpc2FibGUgbm8tdW51c2VkLXZhcnMgKi9cblx0XHQvLyBTZWUgaHR0cHM6Ly9naXRodWIuY29tL2VzbGludC9lc2xpbnQvaXNzdWVzLzYxMjVcblx0XHR2YXIgbmFtZTtcblxuXHRcdGZvciAoIG5hbWUgaW4gb2JqICkge1xuXHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdH1cblx0XHRyZXR1cm4gdHJ1ZTtcblx0fSxcblxuXHR0eXBlOiBmdW5jdGlvbiggb2JqICkge1xuXHRcdGlmICggb2JqID09IG51bGwgKSB7XG5cdFx0XHRyZXR1cm4gb2JqICsgXCJcIjtcblx0XHR9XG5cblx0XHQvLyBTdXBwb3J0OiBBbmRyb2lkIDw9Mi4zIG9ubHkgKGZ1bmN0aW9uaXNoIFJlZ0V4cClcblx0XHRyZXR1cm4gdHlwZW9mIG9iaiA9PT0gXCJvYmplY3RcIiB8fCB0eXBlb2Ygb2JqID09PSBcImZ1bmN0aW9uXCIgP1xuXHRcdFx0Y2xhc3MydHlwZVsgdG9TdHJpbmcuY2FsbCggb2JqICkgXSB8fCBcIm9iamVjdFwiIDpcblx0XHRcdHR5cGVvZiBvYmo7XG5cdH0sXG5cblx0Ly8gRXZhbHVhdGVzIGEgc2NyaXB0IGluIGEgZ2xvYmFsIGNvbnRleHRcblx0Z2xvYmFsRXZhbDogZnVuY3Rpb24oIGNvZGUgKSB7XG5cdFx0RE9NRXZhbCggY29kZSApO1xuXHR9LFxuXG5cdC8vIENvbnZlcnQgZGFzaGVkIHRvIGNhbWVsQ2FzZTsgdXNlZCBieSB0aGUgY3NzIGFuZCBkYXRhIG1vZHVsZXNcblx0Ly8gU3VwcG9ydDogSUUgPD05IC0gMTEsIEVkZ2UgMTIgLSAxM1xuXHQvLyBNaWNyb3NvZnQgZm9yZ290IHRvIGh1bXAgdGhlaXIgdmVuZG9yIHByZWZpeCAoIzk1NzIpXG5cdGNhbWVsQ2FzZTogZnVuY3Rpb24oIHN0cmluZyApIHtcblx0XHRyZXR1cm4gc3RyaW5nLnJlcGxhY2UoIHJtc1ByZWZpeCwgXCJtcy1cIiApLnJlcGxhY2UoIHJkYXNoQWxwaGEsIGZjYW1lbENhc2UgKTtcblx0fSxcblxuXHRlYWNoOiBmdW5jdGlvbiggb2JqLCBjYWxsYmFjayApIHtcblx0XHR2YXIgbGVuZ3RoLCBpID0gMDtcblxuXHRcdGlmICggaXNBcnJheUxpa2UoIG9iaiApICkge1xuXHRcdFx0bGVuZ3RoID0gb2JqLmxlbmd0aDtcblx0XHRcdGZvciAoIDsgaSA8IGxlbmd0aDsgaSsrICkge1xuXHRcdFx0XHRpZiAoIGNhbGxiYWNrLmNhbGwoIG9ialsgaSBdLCBpLCBvYmpbIGkgXSApID09PSBmYWxzZSApIHtcblx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH0gZWxzZSB7XG5cdFx0XHRmb3IgKCBpIGluIG9iaiApIHtcblx0XHRcdFx0aWYgKCBjYWxsYmFjay5jYWxsKCBvYmpbIGkgXSwgaSwgb2JqWyBpIF0gKSA9PT0gZmFsc2UgKSB7XG5cdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9XG5cblx0XHRyZXR1cm4gb2JqO1xuXHR9LFxuXG5cdC8vIFN1cHBvcnQ6IEFuZHJvaWQgPD00LjAgb25seVxuXHR0cmltOiBmdW5jdGlvbiggdGV4dCApIHtcblx0XHRyZXR1cm4gdGV4dCA9PSBudWxsID9cblx0XHRcdFwiXCIgOlxuXHRcdFx0KCB0ZXh0ICsgXCJcIiApLnJlcGxhY2UoIHJ0cmltLCBcIlwiICk7XG5cdH0sXG5cblx0Ly8gcmVzdWx0cyBpcyBmb3IgaW50ZXJuYWwgdXNhZ2Ugb25seVxuXHRtYWtlQXJyYXk6IGZ1bmN0aW9uKCBhcnIsIHJlc3VsdHMgKSB7XG5cdFx0dmFyIHJldCA9IHJlc3VsdHMgfHwgW107XG5cblx0XHRpZiAoIGFyciAhPSBudWxsICkge1xuXHRcdFx0aWYgKCBpc0FycmF5TGlrZSggT2JqZWN0KCBhcnIgKSApICkge1xuXHRcdFx0XHRqUXVlcnkubWVyZ2UoIHJldCxcblx0XHRcdFx0XHR0eXBlb2YgYXJyID09PSBcInN0cmluZ1wiID9cblx0XHRcdFx0XHRbIGFyciBdIDogYXJyXG5cdFx0XHRcdCk7XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRwdXNoLmNhbGwoIHJldCwgYXJyICk7XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0cmV0dXJuIHJldDtcblx0fSxcblxuXHRpbkFycmF5OiBmdW5jdGlvbiggZWxlbSwgYXJyLCBpICkge1xuXHRcdHJldHVybiBhcnIgPT0gbnVsbCA/IC0xIDogaW5kZXhPZi5jYWxsKCBhcnIsIGVsZW0sIGkgKTtcblx0fSxcblxuXHQvLyBTdXBwb3J0OiBBbmRyb2lkIDw9NC4wIG9ubHksIFBoYW50b21KUyAxIG9ubHlcblx0Ly8gcHVzaC5hcHBseShfLCBhcnJheWxpa2UpIHRocm93cyBvbiBhbmNpZW50IFdlYktpdFxuXHRtZXJnZTogZnVuY3Rpb24oIGZpcnN0LCBzZWNvbmQgKSB7XG5cdFx0dmFyIGxlbiA9ICtzZWNvbmQubGVuZ3RoLFxuXHRcdFx0aiA9IDAsXG5cdFx0XHRpID0gZmlyc3QubGVuZ3RoO1xuXG5cdFx0Zm9yICggOyBqIDwgbGVuOyBqKysgKSB7XG5cdFx0XHRmaXJzdFsgaSsrIF0gPSBzZWNvbmRbIGogXTtcblx0XHR9XG5cblx0XHRmaXJzdC5sZW5ndGggPSBpO1xuXG5cdFx0cmV0dXJuIGZpcnN0O1xuXHR9LFxuXG5cdGdyZXA6IGZ1bmN0aW9uKCBlbGVtcywgY2FsbGJhY2ssIGludmVydCApIHtcblx0XHR2YXIgY2FsbGJhY2tJbnZlcnNlLFxuXHRcdFx0bWF0Y2hlcyA9IFtdLFxuXHRcdFx0aSA9IDAsXG5cdFx0XHRsZW5ndGggPSBlbGVtcy5sZW5ndGgsXG5cdFx0XHRjYWxsYmFja0V4cGVjdCA9ICFpbnZlcnQ7XG5cblx0XHQvLyBHbyB0aHJvdWdoIHRoZSBhcnJheSwgb25seSBzYXZpbmcgdGhlIGl0ZW1zXG5cdFx0Ly8gdGhhdCBwYXNzIHRoZSB2YWxpZGF0b3IgZnVuY3Rpb25cblx0XHRmb3IgKCA7IGkgPCBsZW5ndGg7IGkrKyApIHtcblx0XHRcdGNhbGxiYWNrSW52ZXJzZSA9ICFjYWxsYmFjayggZWxlbXNbIGkgXSwgaSApO1xuXHRcdFx0aWYgKCBjYWxsYmFja0ludmVyc2UgIT09IGNhbGxiYWNrRXhwZWN0ICkge1xuXHRcdFx0XHRtYXRjaGVzLnB1c2goIGVsZW1zWyBpIF0gKTtcblx0XHRcdH1cblx0XHR9XG5cblx0XHRyZXR1cm4gbWF0Y2hlcztcblx0fSxcblxuXHQvLyBhcmcgaXMgZm9yIGludGVybmFsIHVzYWdlIG9ubHlcblx0bWFwOiBmdW5jdGlvbiggZWxlbXMsIGNhbGxiYWNrLCBhcmcgKSB7XG5cdFx0dmFyIGxlbmd0aCwgdmFsdWUsXG5cdFx0XHRpID0gMCxcblx0XHRcdHJldCA9IFtdO1xuXG5cdFx0Ly8gR28gdGhyb3VnaCB0aGUgYXJyYXksIHRyYW5zbGF0aW5nIGVhY2ggb2YgdGhlIGl0ZW1zIHRvIHRoZWlyIG5ldyB2YWx1ZXNcblx0XHRpZiAoIGlzQXJyYXlMaWtlKCBlbGVtcyApICkge1xuXHRcdFx0bGVuZ3RoID0gZWxlbXMubGVuZ3RoO1xuXHRcdFx0Zm9yICggOyBpIDwgbGVuZ3RoOyBpKysgKSB7XG5cdFx0XHRcdHZhbHVlID0gY2FsbGJhY2soIGVsZW1zWyBpIF0sIGksIGFyZyApO1xuXG5cdFx0XHRcdGlmICggdmFsdWUgIT0gbnVsbCApIHtcblx0XHRcdFx0XHRyZXQucHVzaCggdmFsdWUgKTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXG5cdFx0Ly8gR28gdGhyb3VnaCBldmVyeSBrZXkgb24gdGhlIG9iamVjdCxcblx0XHR9IGVsc2Uge1xuXHRcdFx0Zm9yICggaSBpbiBlbGVtcyApIHtcblx0XHRcdFx0dmFsdWUgPSBjYWxsYmFjayggZWxlbXNbIGkgXSwgaSwgYXJnICk7XG5cblx0XHRcdFx0aWYgKCB2YWx1ZSAhPSBudWxsICkge1xuXHRcdFx0XHRcdHJldC5wdXNoKCB2YWx1ZSApO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0Ly8gRmxhdHRlbiBhbnkgbmVzdGVkIGFycmF5c1xuXHRcdHJldHVybiBjb25jYXQuYXBwbHkoIFtdLCByZXQgKTtcblx0fSxcblxuXHQvLyBBIGdsb2JhbCBHVUlEIGNvdW50ZXIgZm9yIG9iamVjdHNcblx0Z3VpZDogMSxcblxuXHQvLyBCaW5kIGEgZnVuY3Rpb24gdG8gYSBjb250ZXh0LCBvcHRpb25hbGx5IHBhcnRpYWxseSBhcHBseWluZyBhbnlcblx0Ly8gYXJndW1lbnRzLlxuXHRwcm94eTogZnVuY3Rpb24oIGZuLCBjb250ZXh0ICkge1xuXHRcdHZhciB0bXAsIGFyZ3MsIHByb3h5O1xuXG5cdFx0aWYgKCB0eXBlb2YgY29udGV4dCA9PT0gXCJzdHJpbmdcIiApIHtcblx0XHRcdHRtcCA9IGZuWyBjb250ZXh0IF07XG5cdFx0XHRjb250ZXh0ID0gZm47XG5cdFx0XHRmbiA9IHRtcDtcblx0XHR9XG5cblx0XHQvLyBRdWljayBjaGVjayB0byBkZXRlcm1pbmUgaWYgdGFyZ2V0IGlzIGNhbGxhYmxlLCBpbiB0aGUgc3BlY1xuXHRcdC8vIHRoaXMgdGhyb3dzIGEgVHlwZUVycm9yLCBidXQgd2Ugd2lsbCBqdXN0IHJldHVybiB1bmRlZmluZWQuXG5cdFx0aWYgKCAhalF1ZXJ5LmlzRnVuY3Rpb24oIGZuICkgKSB7XG5cdFx0XHRyZXR1cm4gdW5kZWZpbmVkO1xuXHRcdH1cblxuXHRcdC8vIFNpbXVsYXRlZCBiaW5kXG5cdFx0YXJncyA9IHNsaWNlLmNhbGwoIGFyZ3VtZW50cywgMiApO1xuXHRcdHByb3h5ID0gZnVuY3Rpb24oKSB7XG5cdFx0XHRyZXR1cm4gZm4uYXBwbHkoIGNvbnRleHQgfHwgdGhpcywgYXJncy5jb25jYXQoIHNsaWNlLmNhbGwoIGFyZ3VtZW50cyApICkgKTtcblx0XHR9O1xuXG5cdFx0Ly8gU2V0IHRoZSBndWlkIG9mIHVuaXF1ZSBoYW5kbGVyIHRvIHRoZSBzYW1lIG9mIG9yaWdpbmFsIGhhbmRsZXIsIHNvIGl0IGNhbiBiZSByZW1vdmVkXG5cdFx0cHJveHkuZ3VpZCA9IGZuLmd1aWQgPSBmbi5ndWlkIHx8IGpRdWVyeS5ndWlkKys7XG5cblx0XHRyZXR1cm4gcHJveHk7XG5cdH0sXG5cblx0bm93OiBEYXRlLm5vdyxcblxuXHQvLyBqUXVlcnkuc3VwcG9ydCBpcyBub3QgdXNlZCBpbiBDb3JlIGJ1dCBvdGhlciBwcm9qZWN0cyBhdHRhY2ggdGhlaXJcblx0Ly8gcHJvcGVydGllcyB0byBpdCBzbyBpdCBuZWVkcyB0byBleGlzdC5cblx0c3VwcG9ydDogc3VwcG9ydFxufSApO1xuXG5pZiAoIHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiApIHtcblx0alF1ZXJ5LmZuWyBTeW1ib2wuaXRlcmF0b3IgXSA9IGFyclsgU3ltYm9sLml0ZXJhdG9yIF07XG59XG5cbi8vIFBvcHVsYXRlIHRoZSBjbGFzczJ0eXBlIG1hcFxualF1ZXJ5LmVhY2goIFwiQm9vbGVhbiBOdW1iZXIgU3RyaW5nIEZ1bmN0aW9uIEFycmF5IERhdGUgUmVnRXhwIE9iamVjdCBFcnJvciBTeW1ib2xcIi5zcGxpdCggXCIgXCIgKSxcbmZ1bmN0aW9uKCBpLCBuYW1lICkge1xuXHRjbGFzczJ0eXBlWyBcIltvYmplY3QgXCIgKyBuYW1lICsgXCJdXCIgXSA9IG5hbWUudG9Mb3dlckNhc2UoKTtcbn0gKTtcblxuZnVuY3Rpb24gaXNBcnJheUxpa2UoIG9iaiApIHtcblxuXHQvLyBTdXBwb3J0OiByZWFsIGlPUyA4LjIgb25seSAobm90IHJlcHJvZHVjaWJsZSBpbiBzaW11bGF0b3IpXG5cdC8vIGBpbmAgY2hlY2sgdXNlZCB0byBwcmV2ZW50IEpJVCBlcnJvciAoZ2gtMjE0NSlcblx0Ly8gaGFzT3duIGlzbid0IHVzZWQgaGVyZSBkdWUgdG8gZmFsc2UgbmVnYXRpdmVzXG5cdC8vIHJlZ2FyZGluZyBOb2RlbGlzdCBsZW5ndGggaW4gSUVcblx0dmFyIGxlbmd0aCA9ICEhb2JqICYmIFwibGVuZ3RoXCIgaW4gb2JqICYmIG9iai5sZW5ndGgsXG5cdFx0dHlwZSA9IGpRdWVyeS50eXBlKCBvYmogKTtcblxuXHRpZiAoIHR5cGUgPT09IFwiZnVuY3Rpb25cIiB8fCBqUXVlcnkuaXNXaW5kb3coIG9iaiApICkge1xuXHRcdHJldHVybiBmYWxzZTtcblx0fVxuXG5cdHJldHVybiB0eXBlID09PSBcImFycmF5XCIgfHwgbGVuZ3RoID09PSAwIHx8XG5cdFx0dHlwZW9mIGxlbmd0aCA9PT0gXCJudW1iZXJcIiAmJiBsZW5ndGggPiAwICYmICggbGVuZ3RoIC0gMSApIGluIG9iajtcbn1cbnZhciBTaXp6bGUgPVxuLyohXG4gKiBTaXp6bGUgQ1NTIFNlbGVjdG9yIEVuZ2luZSB2Mi4zLjNcbiAqIGh0dHBzOi8vc2l6emxlanMuY29tL1xuICpcbiAqIENvcHlyaWdodCBqUXVlcnkgRm91bmRhdGlvbiBhbmQgb3RoZXIgY29udHJpYnV0b3JzXG4gKiBSZWxlYXNlZCB1bmRlciB0aGUgTUlUIGxpY2Vuc2VcbiAqIGh0dHA6Ly9qcXVlcnkub3JnL2xpY2Vuc2VcbiAqXG4gKiBEYXRlOiAyMDE2LTA4LTA4XG4gKi9cbihmdW5jdGlvbiggd2luZG93ICkge1xuXG52YXIgaSxcblx0c3VwcG9ydCxcblx0RXhwcixcblx0Z2V0VGV4dCxcblx0aXNYTUwsXG5cdHRva2VuaXplLFxuXHRjb21waWxlLFxuXHRzZWxlY3QsXG5cdG91dGVybW9zdENvbnRleHQsXG5cdHNvcnRJbnB1dCxcblx0aGFzRHVwbGljYXRlLFxuXG5cdC8vIExvY2FsIGRvY3VtZW50IHZhcnNcblx0c2V0RG9jdW1lbnQsXG5cdGRvY3VtZW50LFxuXHRkb2NFbGVtLFxuXHRkb2N1bWVudElzSFRNTCxcblx0cmJ1Z2d5UVNBLFxuXHRyYnVnZ3lNYXRjaGVzLFxuXHRtYXRjaGVzLFxuXHRjb250YWlucyxcblxuXHQvLyBJbnN0YW5jZS1zcGVjaWZpYyBkYXRhXG5cdGV4cGFuZG8gPSBcInNpenpsZVwiICsgMSAqIG5ldyBEYXRlKCksXG5cdHByZWZlcnJlZERvYyA9IHdpbmRvdy5kb2N1bWVudCxcblx0ZGlycnVucyA9IDAsXG5cdGRvbmUgPSAwLFxuXHRjbGFzc0NhY2hlID0gY3JlYXRlQ2FjaGUoKSxcblx0dG9rZW5DYWNoZSA9IGNyZWF0ZUNhY2hlKCksXG5cdGNvbXBpbGVyQ2FjaGUgPSBjcmVhdGVDYWNoZSgpLFxuXHRzb3J0T3JkZXIgPSBmdW5jdGlvbiggYSwgYiApIHtcblx0XHRpZiAoIGEgPT09IGIgKSB7XG5cdFx0XHRoYXNEdXBsaWNhdGUgPSB0cnVlO1xuXHRcdH1cblx0XHRyZXR1cm4gMDtcblx0fSxcblxuXHQvLyBJbnN0YW5jZSBtZXRob2RzXG5cdGhhc093biA9ICh7fSkuaGFzT3duUHJvcGVydHksXG5cdGFyciA9IFtdLFxuXHRwb3AgPSBhcnIucG9wLFxuXHRwdXNoX25hdGl2ZSA9IGFyci5wdXNoLFxuXHRwdXNoID0gYXJyLnB1c2gsXG5cdHNsaWNlID0gYXJyLnNsaWNlLFxuXHQvLyBVc2UgYSBzdHJpcHBlZC1kb3duIGluZGV4T2YgYXMgaXQncyBmYXN0ZXIgdGhhbiBuYXRpdmVcblx0Ly8gaHR0cHM6Ly9qc3BlcmYuY29tL3Rob3ItaW5kZXhvZi12cy1mb3IvNVxuXHRpbmRleE9mID0gZnVuY3Rpb24oIGxpc3QsIGVsZW0gKSB7XG5cdFx0dmFyIGkgPSAwLFxuXHRcdFx0bGVuID0gbGlzdC5sZW5ndGg7XG5cdFx0Zm9yICggOyBpIDwgbGVuOyBpKysgKSB7XG5cdFx0XHRpZiAoIGxpc3RbaV0gPT09IGVsZW0gKSB7XG5cdFx0XHRcdHJldHVybiBpO1xuXHRcdFx0fVxuXHRcdH1cblx0XHRyZXR1cm4gLTE7XG5cdH0sXG5cblx0Ym9vbGVhbnMgPSBcImNoZWNrZWR8c2VsZWN0ZWR8YXN5bmN8YXV0b2ZvY3VzfGF1dG9wbGF5fGNvbnRyb2xzfGRlZmVyfGRpc2FibGVkfGhpZGRlbnxpc21hcHxsb29wfG11bHRpcGxlfG9wZW58cmVhZG9ubHl8cmVxdWlyZWR8c2NvcGVkXCIsXG5cblx0Ly8gUmVndWxhciBleHByZXNzaW9uc1xuXG5cdC8vIGh0dHA6Ly93d3cudzMub3JnL1RSL2NzczMtc2VsZWN0b3JzLyN3aGl0ZXNwYWNlXG5cdHdoaXRlc3BhY2UgPSBcIltcXFxceDIwXFxcXHRcXFxcclxcXFxuXFxcXGZdXCIsXG5cblx0Ly8gaHR0cDovL3d3dy53My5vcmcvVFIvQ1NTMjEvc3luZGF0YS5odG1sI3ZhbHVlLWRlZi1pZGVudGlmaWVyXG5cdGlkZW50aWZpZXIgPSBcIig/OlxcXFxcXFxcLnxbXFxcXHctXXxbXlxcMC1cXFxceGEwXSkrXCIsXG5cblx0Ly8gQXR0cmlidXRlIHNlbGVjdG9yczogaHR0cDovL3d3dy53My5vcmcvVFIvc2VsZWN0b3JzLyNhdHRyaWJ1dGUtc2VsZWN0b3JzXG5cdGF0dHJpYnV0ZXMgPSBcIlxcXFxbXCIgKyB3aGl0ZXNwYWNlICsgXCIqKFwiICsgaWRlbnRpZmllciArIFwiKSg/OlwiICsgd2hpdGVzcGFjZSArXG5cdFx0Ly8gT3BlcmF0b3IgKGNhcHR1cmUgMilcblx0XHRcIiooWypeJHwhfl0/PSlcIiArIHdoaXRlc3BhY2UgK1xuXHRcdC8vIFwiQXR0cmlidXRlIHZhbHVlcyBtdXN0IGJlIENTUyBpZGVudGlmaWVycyBbY2FwdHVyZSA1XSBvciBzdHJpbmdzIFtjYXB0dXJlIDMgb3IgY2FwdHVyZSA0XVwiXG5cdFx0XCIqKD86JygoPzpcXFxcXFxcXC58W15cXFxcXFxcXCddKSopJ3xcXFwiKCg/OlxcXFxcXFxcLnxbXlxcXFxcXFxcXFxcIl0pKilcXFwifChcIiArIGlkZW50aWZpZXIgKyBcIikpfClcIiArIHdoaXRlc3BhY2UgK1xuXHRcdFwiKlxcXFxdXCIsXG5cblx0cHNldWRvcyA9IFwiOihcIiArIGlkZW50aWZpZXIgKyBcIikoPzpcXFxcKChcIiArXG5cdFx0Ly8gVG8gcmVkdWNlIHRoZSBudW1iZXIgb2Ygc2VsZWN0b3JzIG5lZWRpbmcgdG9rZW5pemUgaW4gdGhlIHByZUZpbHRlciwgcHJlZmVyIGFyZ3VtZW50czpcblx0XHQvLyAxLiBxdW90ZWQgKGNhcHR1cmUgMzsgY2FwdHVyZSA0IG9yIGNhcHR1cmUgNSlcblx0XHRcIignKCg/OlxcXFxcXFxcLnxbXlxcXFxcXFxcJ10pKiknfFxcXCIoKD86XFxcXFxcXFwufFteXFxcXFxcXFxcXFwiXSkqKVxcXCIpfFwiICtcblx0XHQvLyAyLiBzaW1wbGUgKGNhcHR1cmUgNilcblx0XHRcIigoPzpcXFxcXFxcXC58W15cXFxcXFxcXCgpW1xcXFxdXXxcIiArIGF0dHJpYnV0ZXMgKyBcIikqKXxcIiArXG5cdFx0Ly8gMy4gYW55dGhpbmcgZWxzZSAoY2FwdHVyZSAyKVxuXHRcdFwiLipcIiArXG5cdFx0XCIpXFxcXCl8KVwiLFxuXG5cdC8vIExlYWRpbmcgYW5kIG5vbi1lc2NhcGVkIHRyYWlsaW5nIHdoaXRlc3BhY2UsIGNhcHR1cmluZyBzb21lIG5vbi13aGl0ZXNwYWNlIGNoYXJhY3RlcnMgcHJlY2VkaW5nIHRoZSBsYXR0ZXJcblx0cndoaXRlc3BhY2UgPSBuZXcgUmVnRXhwKCB3aGl0ZXNwYWNlICsgXCIrXCIsIFwiZ1wiICksXG5cdHJ0cmltID0gbmV3IFJlZ0V4cCggXCJeXCIgKyB3aGl0ZXNwYWNlICsgXCIrfCgoPzpefFteXFxcXFxcXFxdKSg/OlxcXFxcXFxcLikqKVwiICsgd2hpdGVzcGFjZSArIFwiKyRcIiwgXCJnXCIgKSxcblxuXHRyY29tbWEgPSBuZXcgUmVnRXhwKCBcIl5cIiArIHdoaXRlc3BhY2UgKyBcIiosXCIgKyB3aGl0ZXNwYWNlICsgXCIqXCIgKSxcblx0cmNvbWJpbmF0b3JzID0gbmV3IFJlZ0V4cCggXCJeXCIgKyB3aGl0ZXNwYWNlICsgXCIqKFs+K35dfFwiICsgd2hpdGVzcGFjZSArIFwiKVwiICsgd2hpdGVzcGFjZSArIFwiKlwiICksXG5cblx0cmF0dHJpYnV0ZVF1b3RlcyA9IG5ldyBSZWdFeHAoIFwiPVwiICsgd2hpdGVzcGFjZSArIFwiKihbXlxcXFxdJ1xcXCJdKj8pXCIgKyB3aGl0ZXNwYWNlICsgXCIqXFxcXF1cIiwgXCJnXCIgKSxcblxuXHRycHNldWRvID0gbmV3IFJlZ0V4cCggcHNldWRvcyApLFxuXHRyaWRlbnRpZmllciA9IG5ldyBSZWdFeHAoIFwiXlwiICsgaWRlbnRpZmllciArIFwiJFwiICksXG5cblx0bWF0Y2hFeHByID0ge1xuXHRcdFwiSURcIjogbmV3IFJlZ0V4cCggXCJeIyhcIiArIGlkZW50aWZpZXIgKyBcIilcIiApLFxuXHRcdFwiQ0xBU1NcIjogbmV3IFJlZ0V4cCggXCJeXFxcXC4oXCIgKyBpZGVudGlmaWVyICsgXCIpXCIgKSxcblx0XHRcIlRBR1wiOiBuZXcgUmVnRXhwKCBcIl4oXCIgKyBpZGVudGlmaWVyICsgXCJ8WypdKVwiICksXG5cdFx0XCJBVFRSXCI6IG5ldyBSZWdFeHAoIFwiXlwiICsgYXR0cmlidXRlcyApLFxuXHRcdFwiUFNFVURPXCI6IG5ldyBSZWdFeHAoIFwiXlwiICsgcHNldWRvcyApLFxuXHRcdFwiQ0hJTERcIjogbmV3IFJlZ0V4cCggXCJeOihvbmx5fGZpcnN0fGxhc3R8bnRofG50aC1sYXN0KS0oY2hpbGR8b2YtdHlwZSkoPzpcXFxcKFwiICsgd2hpdGVzcGFjZSArXG5cdFx0XHRcIiooZXZlbnxvZGR8KChbKy1dfCkoXFxcXGQqKW58KVwiICsgd2hpdGVzcGFjZSArIFwiKig/OihbKy1dfClcIiArIHdoaXRlc3BhY2UgK1xuXHRcdFx0XCIqKFxcXFxkKyl8KSlcIiArIHdoaXRlc3BhY2UgKyBcIipcXFxcKXwpXCIsIFwiaVwiICksXG5cdFx0XCJib29sXCI6IG5ldyBSZWdFeHAoIFwiXig/OlwiICsgYm9vbGVhbnMgKyBcIikkXCIsIFwiaVwiICksXG5cdFx0Ly8gRm9yIHVzZSBpbiBsaWJyYXJpZXMgaW1wbGVtZW50aW5nIC5pcygpXG5cdFx0Ly8gV2UgdXNlIHRoaXMgZm9yIFBPUyBtYXRjaGluZyBpbiBgc2VsZWN0YFxuXHRcdFwibmVlZHNDb250ZXh0XCI6IG5ldyBSZWdFeHAoIFwiXlwiICsgd2hpdGVzcGFjZSArIFwiKls+K35dfDooZXZlbnxvZGR8ZXF8Z3R8bHR8bnRofGZpcnN0fGxhc3QpKD86XFxcXChcIiArXG5cdFx0XHR3aGl0ZXNwYWNlICsgXCIqKCg/Oi1cXFxcZCk/XFxcXGQqKVwiICsgd2hpdGVzcGFjZSArIFwiKlxcXFwpfCkoPz1bXi1dfCQpXCIsIFwiaVwiIClcblx0fSxcblxuXHRyaW5wdXRzID0gL14oPzppbnB1dHxzZWxlY3R8dGV4dGFyZWF8YnV0dG9uKSQvaSxcblx0cmhlYWRlciA9IC9eaFxcZCQvaSxcblxuXHRybmF0aXZlID0gL15bXntdK1xce1xccypcXFtuYXRpdmUgXFx3LyxcblxuXHQvLyBFYXNpbHktcGFyc2VhYmxlL3JldHJpZXZhYmxlIElEIG9yIFRBRyBvciBDTEFTUyBzZWxlY3RvcnNcblx0cnF1aWNrRXhwciA9IC9eKD86IyhbXFx3LV0rKXwoXFx3Kyl8XFwuKFtcXHctXSspKSQvLFxuXG5cdHJzaWJsaW5nID0gL1srfl0vLFxuXG5cdC8vIENTUyBlc2NhcGVzXG5cdC8vIGh0dHA6Ly93d3cudzMub3JnL1RSL0NTUzIxL3N5bmRhdGEuaHRtbCNlc2NhcGVkLWNoYXJhY3RlcnNcblx0cnVuZXNjYXBlID0gbmV3IFJlZ0V4cCggXCJcXFxcXFxcXChbXFxcXGRhLWZdezEsNn1cIiArIHdoaXRlc3BhY2UgKyBcIj98KFwiICsgd2hpdGVzcGFjZSArIFwiKXwuKVwiLCBcImlnXCIgKSxcblx0ZnVuZXNjYXBlID0gZnVuY3Rpb24oIF8sIGVzY2FwZWQsIGVzY2FwZWRXaGl0ZXNwYWNlICkge1xuXHRcdHZhciBoaWdoID0gXCIweFwiICsgZXNjYXBlZCAtIDB4MTAwMDA7XG5cdFx0Ly8gTmFOIG1lYW5zIG5vbi1jb2RlcG9pbnRcblx0XHQvLyBTdXBwb3J0OiBGaXJlZm94PDI0XG5cdFx0Ly8gV29ya2Fyb3VuZCBlcnJvbmVvdXMgbnVtZXJpYyBpbnRlcnByZXRhdGlvbiBvZiArXCIweFwiXG5cdFx0cmV0dXJuIGhpZ2ggIT09IGhpZ2ggfHwgZXNjYXBlZFdoaXRlc3BhY2UgP1xuXHRcdFx0ZXNjYXBlZCA6XG5cdFx0XHRoaWdoIDwgMCA/XG5cdFx0XHRcdC8vIEJNUCBjb2RlcG9pbnRcblx0XHRcdFx0U3RyaW5nLmZyb21DaGFyQ29kZSggaGlnaCArIDB4MTAwMDAgKSA6XG5cdFx0XHRcdC8vIFN1cHBsZW1lbnRhbCBQbGFuZSBjb2RlcG9pbnQgKHN1cnJvZ2F0ZSBwYWlyKVxuXHRcdFx0XHRTdHJpbmcuZnJvbUNoYXJDb2RlKCBoaWdoID4+IDEwIHwgMHhEODAwLCBoaWdoICYgMHgzRkYgfCAweERDMDAgKTtcblx0fSxcblxuXHQvLyBDU1Mgc3RyaW5nL2lkZW50aWZpZXIgc2VyaWFsaXphdGlvblxuXHQvLyBodHRwczovL2RyYWZ0cy5jc3N3Zy5vcmcvY3Nzb20vI2NvbW1vbi1zZXJpYWxpemluZy1pZGlvbXNcblx0cmNzc2VzY2FwZSA9IC8oW1xcMC1cXHgxZlxceDdmXXxeLT9cXGQpfF4tJHxbXlxcMC1cXHgxZlxceDdmLVxcdUZGRkZcXHctXS9nLFxuXHRmY3NzZXNjYXBlID0gZnVuY3Rpb24oIGNoLCBhc0NvZGVQb2ludCApIHtcblx0XHRpZiAoIGFzQ29kZVBvaW50ICkge1xuXG5cdFx0XHQvLyBVKzAwMDAgTlVMTCBiZWNvbWVzIFUrRkZGRCBSRVBMQUNFTUVOVCBDSEFSQUNURVJcblx0XHRcdGlmICggY2ggPT09IFwiXFwwXCIgKSB7XG5cdFx0XHRcdHJldHVybiBcIlxcdUZGRkRcIjtcblx0XHRcdH1cblxuXHRcdFx0Ly8gQ29udHJvbCBjaGFyYWN0ZXJzIGFuZCAoZGVwZW5kZW50IHVwb24gcG9zaXRpb24pIG51bWJlcnMgZ2V0IGVzY2FwZWQgYXMgY29kZSBwb2ludHNcblx0XHRcdHJldHVybiBjaC5zbGljZSggMCwgLTEgKSArIFwiXFxcXFwiICsgY2guY2hhckNvZGVBdCggY2gubGVuZ3RoIC0gMSApLnRvU3RyaW5nKCAxNiApICsgXCIgXCI7XG5cdFx0fVxuXG5cdFx0Ly8gT3RoZXIgcG90ZW50aWFsbHktc3BlY2lhbCBBU0NJSSBjaGFyYWN0ZXJzIGdldCBiYWNrc2xhc2gtZXNjYXBlZFxuXHRcdHJldHVybiBcIlxcXFxcIiArIGNoO1xuXHR9LFxuXG5cdC8vIFVzZWQgZm9yIGlmcmFtZXNcblx0Ly8gU2VlIHNldERvY3VtZW50KClcblx0Ly8gUmVtb3ZpbmcgdGhlIGZ1bmN0aW9uIHdyYXBwZXIgY2F1c2VzIGEgXCJQZXJtaXNzaW9uIERlbmllZFwiXG5cdC8vIGVycm9yIGluIElFXG5cdHVubG9hZEhhbmRsZXIgPSBmdW5jdGlvbigpIHtcblx0XHRzZXREb2N1bWVudCgpO1xuXHR9LFxuXG5cdGRpc2FibGVkQW5jZXN0b3IgPSBhZGRDb21iaW5hdG9yKFxuXHRcdGZ1bmN0aW9uKCBlbGVtICkge1xuXHRcdFx0cmV0dXJuIGVsZW0uZGlzYWJsZWQgPT09IHRydWUgJiYgKFwiZm9ybVwiIGluIGVsZW0gfHwgXCJsYWJlbFwiIGluIGVsZW0pO1xuXHRcdH0sXG5cdFx0eyBkaXI6IFwicGFyZW50Tm9kZVwiLCBuZXh0OiBcImxlZ2VuZFwiIH1cblx0KTtcblxuLy8gT3B0aW1pemUgZm9yIHB1c2guYXBwbHkoIF8sIE5vZGVMaXN0IClcbnRyeSB7XG5cdHB1c2guYXBwbHkoXG5cdFx0KGFyciA9IHNsaWNlLmNhbGwoIHByZWZlcnJlZERvYy5jaGlsZE5vZGVzICkpLFxuXHRcdHByZWZlcnJlZERvYy5jaGlsZE5vZGVzXG5cdCk7XG5cdC8vIFN1cHBvcnQ6IEFuZHJvaWQ8NC4wXG5cdC8vIERldGVjdCBzaWxlbnRseSBmYWlsaW5nIHB1c2guYXBwbHlcblx0YXJyWyBwcmVmZXJyZWREb2MuY2hpbGROb2Rlcy5sZW5ndGggXS5ub2RlVHlwZTtcbn0gY2F0Y2ggKCBlICkge1xuXHRwdXNoID0geyBhcHBseTogYXJyLmxlbmd0aCA/XG5cblx0XHQvLyBMZXZlcmFnZSBzbGljZSBpZiBwb3NzaWJsZVxuXHRcdGZ1bmN0aW9uKCB0YXJnZXQsIGVscyApIHtcblx0XHRcdHB1c2hfbmF0aXZlLmFwcGx5KCB0YXJnZXQsIHNsaWNlLmNhbGwoZWxzKSApO1xuXHRcdH0gOlxuXG5cdFx0Ly8gU3VwcG9ydDogSUU8OVxuXHRcdC8vIE90aGVyd2lzZSBhcHBlbmQgZGlyZWN0bHlcblx0XHRmdW5jdGlvbiggdGFyZ2V0LCBlbHMgKSB7XG5cdFx0XHR2YXIgaiA9IHRhcmdldC5sZW5ndGgsXG5cdFx0XHRcdGkgPSAwO1xuXHRcdFx0Ly8gQ2FuJ3QgdHJ1c3QgTm9kZUxpc3QubGVuZ3RoXG5cdFx0XHR3aGlsZSAoICh0YXJnZXRbaisrXSA9IGVsc1tpKytdKSApIHt9XG5cdFx0XHR0YXJnZXQubGVuZ3RoID0gaiAtIDE7XG5cdFx0fVxuXHR9O1xufVxuXG5mdW5jdGlvbiBTaXp6bGUoIHNlbGVjdG9yLCBjb250ZXh0LCByZXN1bHRzLCBzZWVkICkge1xuXHR2YXIgbSwgaSwgZWxlbSwgbmlkLCBtYXRjaCwgZ3JvdXBzLCBuZXdTZWxlY3Rvcixcblx0XHRuZXdDb250ZXh0ID0gY29udGV4dCAmJiBjb250ZXh0Lm93bmVyRG9jdW1lbnQsXG5cblx0XHQvLyBub2RlVHlwZSBkZWZhdWx0cyB0byA5LCBzaW5jZSBjb250ZXh0IGRlZmF1bHRzIHRvIGRvY3VtZW50XG5cdFx0bm9kZVR5cGUgPSBjb250ZXh0ID8gY29udGV4dC5ub2RlVHlwZSA6IDk7XG5cblx0cmVzdWx0cyA9IHJlc3VsdHMgfHwgW107XG5cblx0Ly8gUmV0dXJuIGVhcmx5IGZyb20gY2FsbHMgd2l0aCBpbnZhbGlkIHNlbGVjdG9yIG9yIGNvbnRleHRcblx0aWYgKCB0eXBlb2Ygc2VsZWN0b3IgIT09IFwic3RyaW5nXCIgfHwgIXNlbGVjdG9yIHx8XG5cdFx0bm9kZVR5cGUgIT09IDEgJiYgbm9kZVR5cGUgIT09IDkgJiYgbm9kZVR5cGUgIT09IDExICkge1xuXG5cdFx0cmV0dXJuIHJlc3VsdHM7XG5cdH1cblxuXHQvLyBUcnkgdG8gc2hvcnRjdXQgZmluZCBvcGVyYXRpb25zIChhcyBvcHBvc2VkIHRvIGZpbHRlcnMpIGluIEhUTUwgZG9jdW1lbnRzXG5cdGlmICggIXNlZWQgKSB7XG5cblx0XHRpZiAoICggY29udGV4dCA/IGNvbnRleHQub3duZXJEb2N1bWVudCB8fCBjb250ZXh0IDogcHJlZmVycmVkRG9jICkgIT09IGRvY3VtZW50ICkge1xuXHRcdFx0c2V0RG9jdW1lbnQoIGNvbnRleHQgKTtcblx0XHR9XG5cdFx0Y29udGV4dCA9IGNvbnRleHQgfHwgZG9jdW1lbnQ7XG5cblx0XHRpZiAoIGRvY3VtZW50SXNIVE1MICkge1xuXG5cdFx0XHQvLyBJZiB0aGUgc2VsZWN0b3IgaXMgc3VmZmljaWVudGx5IHNpbXBsZSwgdHJ5IHVzaW5nIGEgXCJnZXQqQnkqXCIgRE9NIG1ldGhvZFxuXHRcdFx0Ly8gKGV4Y2VwdGluZyBEb2N1bWVudEZyYWdtZW50IGNvbnRleHQsIHdoZXJlIHRoZSBtZXRob2RzIGRvbid0IGV4aXN0KVxuXHRcdFx0aWYgKCBub2RlVHlwZSAhPT0gMTEgJiYgKG1hdGNoID0gcnF1aWNrRXhwci5leGVjKCBzZWxlY3RvciApKSApIHtcblxuXHRcdFx0XHQvLyBJRCBzZWxlY3RvclxuXHRcdFx0XHRpZiAoIChtID0gbWF0Y2hbMV0pICkge1xuXG5cdFx0XHRcdFx0Ly8gRG9jdW1lbnQgY29udGV4dFxuXHRcdFx0XHRcdGlmICggbm9kZVR5cGUgPT09IDkgKSB7XG5cdFx0XHRcdFx0XHRpZiAoIChlbGVtID0gY29udGV4dC5nZXRFbGVtZW50QnlJZCggbSApKSApIHtcblxuXHRcdFx0XHRcdFx0XHQvLyBTdXBwb3J0OiBJRSwgT3BlcmEsIFdlYmtpdFxuXHRcdFx0XHRcdFx0XHQvLyBUT0RPOiBpZGVudGlmeSB2ZXJzaW9uc1xuXHRcdFx0XHRcdFx0XHQvLyBnZXRFbGVtZW50QnlJZCBjYW4gbWF0Y2ggZWxlbWVudHMgYnkgbmFtZSBpbnN0ZWFkIG9mIElEXG5cdFx0XHRcdFx0XHRcdGlmICggZWxlbS5pZCA9PT0gbSApIHtcblx0XHRcdFx0XHRcdFx0XHRyZXN1bHRzLnB1c2goIGVsZW0gKTtcblx0XHRcdFx0XHRcdFx0XHRyZXR1cm4gcmVzdWx0cztcblx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRcdFx0cmV0dXJuIHJlc3VsdHM7XG5cdFx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHQvLyBFbGVtZW50IGNvbnRleHRcblx0XHRcdFx0XHR9IGVsc2Uge1xuXG5cdFx0XHRcdFx0XHQvLyBTdXBwb3J0OiBJRSwgT3BlcmEsIFdlYmtpdFxuXHRcdFx0XHRcdFx0Ly8gVE9ETzogaWRlbnRpZnkgdmVyc2lvbnNcblx0XHRcdFx0XHRcdC8vIGdldEVsZW1lbnRCeUlkIGNhbiBtYXRjaCBlbGVtZW50cyBieSBuYW1lIGluc3RlYWQgb2YgSURcblx0XHRcdFx0XHRcdGlmICggbmV3Q29udGV4dCAmJiAoZWxlbSA9IG5ld0NvbnRleHQuZ2V0RWxlbWVudEJ5SWQoIG0gKSkgJiZcblx0XHRcdFx0XHRcdFx0Y29udGFpbnMoIGNvbnRleHQsIGVsZW0gKSAmJlxuXHRcdFx0XHRcdFx0XHRlbGVtLmlkID09PSBtICkge1xuXG5cdFx0XHRcdFx0XHRcdHJlc3VsdHMucHVzaCggZWxlbSApO1xuXHRcdFx0XHRcdFx0XHRyZXR1cm4gcmVzdWx0cztcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0Ly8gVHlwZSBzZWxlY3RvclxuXHRcdFx0XHR9IGVsc2UgaWYgKCBtYXRjaFsyXSApIHtcblx0XHRcdFx0XHRwdXNoLmFwcGx5KCByZXN1bHRzLCBjb250ZXh0LmdldEVsZW1lbnRzQnlUYWdOYW1lKCBzZWxlY3RvciApICk7XG5cdFx0XHRcdFx0cmV0dXJuIHJlc3VsdHM7XG5cblx0XHRcdFx0Ly8gQ2xhc3Mgc2VsZWN0b3Jcblx0XHRcdFx0fSBlbHNlIGlmICggKG0gPSBtYXRjaFszXSkgJiYgc3VwcG9ydC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lICYmXG5cdFx0XHRcdFx0Y29udGV4dC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lICkge1xuXG5cdFx0XHRcdFx0cHVzaC5hcHBseSggcmVzdWx0cywgY29udGV4dC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKCBtICkgKTtcblx0XHRcdFx0XHRyZXR1cm4gcmVzdWx0cztcblx0XHRcdFx0fVxuXHRcdFx0fVxuXG5cdFx0XHQvLyBUYWtlIGFkdmFudGFnZSBvZiBxdWVyeVNlbGVjdG9yQWxsXG5cdFx0XHRpZiAoIHN1cHBvcnQucXNhICYmXG5cdFx0XHRcdCFjb21waWxlckNhY2hlWyBzZWxlY3RvciArIFwiIFwiIF0gJiZcblx0XHRcdFx0KCFyYnVnZ3lRU0EgfHwgIXJidWdneVFTQS50ZXN0KCBzZWxlY3RvciApKSApIHtcblxuXHRcdFx0XHRpZiAoIG5vZGVUeXBlICE9PSAxICkge1xuXHRcdFx0XHRcdG5ld0NvbnRleHQgPSBjb250ZXh0O1xuXHRcdFx0XHRcdG5ld1NlbGVjdG9yID0gc2VsZWN0b3I7XG5cblx0XHRcdFx0Ly8gcVNBIGxvb2tzIG91dHNpZGUgRWxlbWVudCBjb250ZXh0LCB3aGljaCBpcyBub3Qgd2hhdCB3ZSB3YW50XG5cdFx0XHRcdC8vIFRoYW5rcyB0byBBbmRyZXcgRHVwb250IGZvciB0aGlzIHdvcmthcm91bmQgdGVjaG5pcXVlXG5cdFx0XHRcdC8vIFN1cHBvcnQ6IElFIDw9OFxuXHRcdFx0XHQvLyBFeGNsdWRlIG9iamVjdCBlbGVtZW50c1xuXHRcdFx0XHR9IGVsc2UgaWYgKCBjb250ZXh0Lm5vZGVOYW1lLnRvTG93ZXJDYXNlKCkgIT09IFwib2JqZWN0XCIgKSB7XG5cblx0XHRcdFx0XHQvLyBDYXB0dXJlIHRoZSBjb250ZXh0IElELCBzZXR0aW5nIGl0IGZpcnN0IGlmIG5lY2Vzc2FyeVxuXHRcdFx0XHRcdGlmICggKG5pZCA9IGNvbnRleHQuZ2V0QXR0cmlidXRlKCBcImlkXCIgKSkgKSB7XG5cdFx0XHRcdFx0XHRuaWQgPSBuaWQucmVwbGFjZSggcmNzc2VzY2FwZSwgZmNzc2VzY2FwZSApO1xuXHRcdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0XHRjb250ZXh0LnNldEF0dHJpYnV0ZSggXCJpZFwiLCAobmlkID0gZXhwYW5kbykgKTtcblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHQvLyBQcmVmaXggZXZlcnkgc2VsZWN0b3IgaW4gdGhlIGxpc3Rcblx0XHRcdFx0XHRncm91cHMgPSB0b2tlbml6ZSggc2VsZWN0b3IgKTtcblx0XHRcdFx0XHRpID0gZ3JvdXBzLmxlbmd0aDtcblx0XHRcdFx0XHR3aGlsZSAoIGktLSApIHtcblx0XHRcdFx0XHRcdGdyb3Vwc1tpXSA9IFwiI1wiICsgbmlkICsgXCIgXCIgKyB0b1NlbGVjdG9yKCBncm91cHNbaV0gKTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0bmV3U2VsZWN0b3IgPSBncm91cHMuam9pbiggXCIsXCIgKTtcblxuXHRcdFx0XHRcdC8vIEV4cGFuZCBjb250ZXh0IGZvciBzaWJsaW5nIHNlbGVjdG9yc1xuXHRcdFx0XHRcdG5ld0NvbnRleHQgPSByc2libGluZy50ZXN0KCBzZWxlY3RvciApICYmIHRlc3RDb250ZXh0KCBjb250ZXh0LnBhcmVudE5vZGUgKSB8fFxuXHRcdFx0XHRcdFx0Y29udGV4dDtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdGlmICggbmV3U2VsZWN0b3IgKSB7XG5cdFx0XHRcdFx0dHJ5IHtcblx0XHRcdFx0XHRcdHB1c2guYXBwbHkoIHJlc3VsdHMsXG5cdFx0XHRcdFx0XHRcdG5ld0NvbnRleHQucXVlcnlTZWxlY3RvckFsbCggbmV3U2VsZWN0b3IgKVxuXHRcdFx0XHRcdFx0KTtcblx0XHRcdFx0XHRcdHJldHVybiByZXN1bHRzO1xuXHRcdFx0XHRcdH0gY2F0Y2ggKCBxc2FFcnJvciApIHtcblx0XHRcdFx0XHR9IGZpbmFsbHkge1xuXHRcdFx0XHRcdFx0aWYgKCBuaWQgPT09IGV4cGFuZG8gKSB7XG5cdFx0XHRcdFx0XHRcdGNvbnRleHQucmVtb3ZlQXR0cmlidXRlKCBcImlkXCIgKTtcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9XG5cdH1cblxuXHQvLyBBbGwgb3RoZXJzXG5cdHJldHVybiBzZWxlY3QoIHNlbGVjdG9yLnJlcGxhY2UoIHJ0cmltLCBcIiQxXCIgKSwgY29udGV4dCwgcmVzdWx0cywgc2VlZCApO1xufVxuXG4vKipcbiAqIENyZWF0ZSBrZXktdmFsdWUgY2FjaGVzIG9mIGxpbWl0ZWQgc2l6ZVxuICogQHJldHVybnMge2Z1bmN0aW9uKHN0cmluZywgb2JqZWN0KX0gUmV0dXJucyB0aGUgT2JqZWN0IGRhdGEgYWZ0ZXIgc3RvcmluZyBpdCBvbiBpdHNlbGYgd2l0aFxuICpcdHByb3BlcnR5IG5hbWUgdGhlIChzcGFjZS1zdWZmaXhlZCkgc3RyaW5nIGFuZCAoaWYgdGhlIGNhY2hlIGlzIGxhcmdlciB0aGFuIEV4cHIuY2FjaGVMZW5ndGgpXG4gKlx0ZGVsZXRpbmcgdGhlIG9sZGVzdCBlbnRyeVxuICovXG5mdW5jdGlvbiBjcmVhdGVDYWNoZSgpIHtcblx0dmFyIGtleXMgPSBbXTtcblxuXHRmdW5jdGlvbiBjYWNoZSgga2V5LCB2YWx1ZSApIHtcblx0XHQvLyBVc2UgKGtleSArIFwiIFwiKSB0byBhdm9pZCBjb2xsaXNpb24gd2l0aCBuYXRpdmUgcHJvdG90eXBlIHByb3BlcnRpZXMgKHNlZSBJc3N1ZSAjMTU3KVxuXHRcdGlmICgga2V5cy5wdXNoKCBrZXkgKyBcIiBcIiApID4gRXhwci5jYWNoZUxlbmd0aCApIHtcblx0XHRcdC8vIE9ubHkga2VlcCB0aGUgbW9zdCByZWNlbnQgZW50cmllc1xuXHRcdFx0ZGVsZXRlIGNhY2hlWyBrZXlzLnNoaWZ0KCkgXTtcblx0XHR9XG5cdFx0cmV0dXJuIChjYWNoZVsga2V5ICsgXCIgXCIgXSA9IHZhbHVlKTtcblx0fVxuXHRyZXR1cm4gY2FjaGU7XG59XG5cbi8qKlxuICogTWFyayBhIGZ1bmN0aW9uIGZvciBzcGVjaWFsIHVzZSBieSBTaXp6bGVcbiAqIEBwYXJhbSB7RnVuY3Rpb259IGZuIFRoZSBmdW5jdGlvbiB0byBtYXJrXG4gKi9cbmZ1bmN0aW9uIG1hcmtGdW5jdGlvbiggZm4gKSB7XG5cdGZuWyBleHBhbmRvIF0gPSB0cnVlO1xuXHRyZXR1cm4gZm47XG59XG5cbi8qKlxuICogU3VwcG9ydCB0ZXN0aW5nIHVzaW5nIGFuIGVsZW1lbnRcbiAqIEBwYXJhbSB7RnVuY3Rpb259IGZuIFBhc3NlZCB0aGUgY3JlYXRlZCBlbGVtZW50IGFuZCByZXR1cm5zIGEgYm9vbGVhbiByZXN1bHRcbiAqL1xuZnVuY3Rpb24gYXNzZXJ0KCBmbiApIHtcblx0dmFyIGVsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImZpZWxkc2V0XCIpO1xuXG5cdHRyeSB7XG5cdFx0cmV0dXJuICEhZm4oIGVsICk7XG5cdH0gY2F0Y2ggKGUpIHtcblx0XHRyZXR1cm4gZmFsc2U7XG5cdH0gZmluYWxseSB7XG5cdFx0Ly8gUmVtb3ZlIGZyb20gaXRzIHBhcmVudCBieSBkZWZhdWx0XG5cdFx0aWYgKCBlbC5wYXJlbnROb2RlICkge1xuXHRcdFx0ZWwucGFyZW50Tm9kZS5yZW1vdmVDaGlsZCggZWwgKTtcblx0XHR9XG5cdFx0Ly8gcmVsZWFzZSBtZW1vcnkgaW4gSUVcblx0XHRlbCA9IG51bGw7XG5cdH1cbn1cblxuLyoqXG4gKiBBZGRzIHRoZSBzYW1lIGhhbmRsZXIgZm9yIGFsbCBvZiB0aGUgc3BlY2lmaWVkIGF0dHJzXG4gKiBAcGFyYW0ge1N0cmluZ30gYXR0cnMgUGlwZS1zZXBhcmF0ZWQgbGlzdCBvZiBhdHRyaWJ1dGVzXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBoYW5kbGVyIFRoZSBtZXRob2QgdGhhdCB3aWxsIGJlIGFwcGxpZWRcbiAqL1xuZnVuY3Rpb24gYWRkSGFuZGxlKCBhdHRycywgaGFuZGxlciApIHtcblx0dmFyIGFyciA9IGF0dHJzLnNwbGl0KFwifFwiKSxcblx0XHRpID0gYXJyLmxlbmd0aDtcblxuXHR3aGlsZSAoIGktLSApIHtcblx0XHRFeHByLmF0dHJIYW5kbGVbIGFycltpXSBdID0gaGFuZGxlcjtcblx0fVxufVxuXG4vKipcbiAqIENoZWNrcyBkb2N1bWVudCBvcmRlciBvZiB0d28gc2libGluZ3NcbiAqIEBwYXJhbSB7RWxlbWVudH0gYVxuICogQHBhcmFtIHtFbGVtZW50fSBiXG4gKiBAcmV0dXJucyB7TnVtYmVyfSBSZXR1cm5zIGxlc3MgdGhhbiAwIGlmIGEgcHJlY2VkZXMgYiwgZ3JlYXRlciB0aGFuIDAgaWYgYSBmb2xsb3dzIGJcbiAqL1xuZnVuY3Rpb24gc2libGluZ0NoZWNrKCBhLCBiICkge1xuXHR2YXIgY3VyID0gYiAmJiBhLFxuXHRcdGRpZmYgPSBjdXIgJiYgYS5ub2RlVHlwZSA9PT0gMSAmJiBiLm5vZGVUeXBlID09PSAxICYmXG5cdFx0XHRhLnNvdXJjZUluZGV4IC0gYi5zb3VyY2VJbmRleDtcblxuXHQvLyBVc2UgSUUgc291cmNlSW5kZXggaWYgYXZhaWxhYmxlIG9uIGJvdGggbm9kZXNcblx0aWYgKCBkaWZmICkge1xuXHRcdHJldHVybiBkaWZmO1xuXHR9XG5cblx0Ly8gQ2hlY2sgaWYgYiBmb2xsb3dzIGFcblx0aWYgKCBjdXIgKSB7XG5cdFx0d2hpbGUgKCAoY3VyID0gY3VyLm5leHRTaWJsaW5nKSApIHtcblx0XHRcdGlmICggY3VyID09PSBiICkge1xuXHRcdFx0XHRyZXR1cm4gLTE7XG5cdFx0XHR9XG5cdFx0fVxuXHR9XG5cblx0cmV0dXJuIGEgPyAxIDogLTE7XG59XG5cbi8qKlxuICogUmV0dXJucyBhIGZ1bmN0aW9uIHRvIHVzZSBpbiBwc2V1ZG9zIGZvciBpbnB1dCB0eXBlc1xuICogQHBhcmFtIHtTdHJpbmd9IHR5cGVcbiAqL1xuZnVuY3Rpb24gY3JlYXRlSW5wdXRQc2V1ZG8oIHR5cGUgKSB7XG5cdHJldHVybiBmdW5jdGlvbiggZWxlbSApIHtcblx0XHR2YXIgbmFtZSA9IGVsZW0ubm9kZU5hbWUudG9Mb3dlckNhc2UoKTtcblx0XHRyZXR1cm4gbmFtZSA9PT0gXCJpbnB1dFwiICYmIGVsZW0udHlwZSA9PT0gdHlwZTtcblx0fTtcbn1cblxuLyoqXG4gKiBSZXR1cm5zIGEgZnVuY3Rpb24gdG8gdXNlIGluIHBzZXVkb3MgZm9yIGJ1dHRvbnNcbiAqIEBwYXJhbSB7U3RyaW5nfSB0eXBlXG4gKi9cbmZ1bmN0aW9uIGNyZWF0ZUJ1dHRvblBzZXVkbyggdHlwZSApIHtcblx0cmV0dXJuIGZ1bmN0aW9uKCBlbGVtICkge1xuXHRcdHZhciBuYW1lID0gZWxlbS5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpO1xuXHRcdHJldHVybiAobmFtZSA9PT0gXCJpbnB1dFwiIHx8IG5hbWUgPT09IFwiYnV0dG9uXCIpICYmIGVsZW0udHlwZSA9PT0gdHlwZTtcblx0fTtcbn1cblxuLyoqXG4gKiBSZXR1cm5zIGEgZnVuY3Rpb24gdG8gdXNlIGluIHBzZXVkb3MgZm9yIDplbmFibGVkLzpkaXNhYmxlZFxuICogQHBhcmFtIHtCb29sZWFufSBkaXNhYmxlZCB0cnVlIGZvciA6ZGlzYWJsZWQ7IGZhbHNlIGZvciA6ZW5hYmxlZFxuICovXG5mdW5jdGlvbiBjcmVhdGVEaXNhYmxlZFBzZXVkbyggZGlzYWJsZWQgKSB7XG5cblx0Ly8gS25vd24gOmRpc2FibGVkIGZhbHNlIHBvc2l0aXZlczogZmllbGRzZXRbZGlzYWJsZWRdID4gbGVnZW5kOm50aC1vZi10eXBlKG4rMikgOmNhbi1kaXNhYmxlXG5cdHJldHVybiBmdW5jdGlvbiggZWxlbSApIHtcblxuXHRcdC8vIE9ubHkgY2VydGFpbiBlbGVtZW50cyBjYW4gbWF0Y2ggOmVuYWJsZWQgb3IgOmRpc2FibGVkXG5cdFx0Ly8gaHR0cHM6Ly9odG1sLnNwZWMud2hhdHdnLm9yZy9tdWx0aXBhZ2Uvc2NyaXB0aW5nLmh0bWwjc2VsZWN0b3ItZW5hYmxlZFxuXHRcdC8vIGh0dHBzOi8vaHRtbC5zcGVjLndoYXR3Zy5vcmcvbXVsdGlwYWdlL3NjcmlwdGluZy5odG1sI3NlbGVjdG9yLWRpc2FibGVkXG5cdFx0aWYgKCBcImZvcm1cIiBpbiBlbGVtICkge1xuXG5cdFx0XHQvLyBDaGVjayBmb3IgaW5oZXJpdGVkIGRpc2FibGVkbmVzcyBvbiByZWxldmFudCBub24tZGlzYWJsZWQgZWxlbWVudHM6XG5cdFx0XHQvLyAqIGxpc3RlZCBmb3JtLWFzc29jaWF0ZWQgZWxlbWVudHMgaW4gYSBkaXNhYmxlZCBmaWVsZHNldFxuXHRcdFx0Ly8gICBodHRwczovL2h0bWwuc3BlYy53aGF0d2cub3JnL211bHRpcGFnZS9mb3Jtcy5odG1sI2NhdGVnb3J5LWxpc3RlZFxuXHRcdFx0Ly8gICBodHRwczovL2h0bWwuc3BlYy53aGF0d2cub3JnL211bHRpcGFnZS9mb3Jtcy5odG1sI2NvbmNlcHQtZmUtZGlzYWJsZWRcblx0XHRcdC8vICogb3B0aW9uIGVsZW1lbnRzIGluIGEgZGlzYWJsZWQgb3B0Z3JvdXBcblx0XHRcdC8vICAgaHR0cHM6Ly9odG1sLnNwZWMud2hhdHdnLm9yZy9tdWx0aXBhZ2UvZm9ybXMuaHRtbCNjb25jZXB0LW9wdGlvbi1kaXNhYmxlZFxuXHRcdFx0Ly8gQWxsIHN1Y2ggZWxlbWVudHMgaGF2ZSBhIFwiZm9ybVwiIHByb3BlcnR5LlxuXHRcdFx0aWYgKCBlbGVtLnBhcmVudE5vZGUgJiYgZWxlbS5kaXNhYmxlZCA9PT0gZmFsc2UgKSB7XG5cblx0XHRcdFx0Ly8gT3B0aW9uIGVsZW1lbnRzIGRlZmVyIHRvIGEgcGFyZW50IG9wdGdyb3VwIGlmIHByZXNlbnRcblx0XHRcdFx0aWYgKCBcImxhYmVsXCIgaW4gZWxlbSApIHtcblx0XHRcdFx0XHRpZiAoIFwibGFiZWxcIiBpbiBlbGVtLnBhcmVudE5vZGUgKSB7XG5cdFx0XHRcdFx0XHRyZXR1cm4gZWxlbS5wYXJlbnROb2RlLmRpc2FibGVkID09PSBkaXNhYmxlZDtcblx0XHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdFx0cmV0dXJuIGVsZW0uZGlzYWJsZWQgPT09IGRpc2FibGVkO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXG5cdFx0XHRcdC8vIFN1cHBvcnQ6IElFIDYgLSAxMVxuXHRcdFx0XHQvLyBVc2UgdGhlIGlzRGlzYWJsZWQgc2hvcnRjdXQgcHJvcGVydHkgdG8gY2hlY2sgZm9yIGRpc2FibGVkIGZpZWxkc2V0IGFuY2VzdG9yc1xuXHRcdFx0XHRyZXR1cm4gZWxlbS5pc0Rpc2FibGVkID09PSBkaXNhYmxlZCB8fFxuXG5cdFx0XHRcdFx0Ly8gV2hlcmUgdGhlcmUgaXMgbm8gaXNEaXNhYmxlZCwgY2hlY2sgbWFudWFsbHlcblx0XHRcdFx0XHQvKiBqc2hpbnQgLVcwMTggKi9cblx0XHRcdFx0XHRlbGVtLmlzRGlzYWJsZWQgIT09ICFkaXNhYmxlZCAmJlxuXHRcdFx0XHRcdFx0ZGlzYWJsZWRBbmNlc3RvciggZWxlbSApID09PSBkaXNhYmxlZDtcblx0XHRcdH1cblxuXHRcdFx0cmV0dXJuIGVsZW0uZGlzYWJsZWQgPT09IGRpc2FibGVkO1xuXG5cdFx0Ly8gVHJ5IHRvIHdpbm5vdyBvdXQgZWxlbWVudHMgdGhhdCBjYW4ndCBiZSBkaXNhYmxlZCBiZWZvcmUgdHJ1c3RpbmcgdGhlIGRpc2FibGVkIHByb3BlcnR5LlxuXHRcdC8vIFNvbWUgdmljdGltcyBnZXQgY2F1Z2h0IGluIG91ciBuZXQgKGxhYmVsLCBsZWdlbmQsIG1lbnUsIHRyYWNrKSwgYnV0IGl0IHNob3VsZG4ndFxuXHRcdC8vIGV2ZW4gZXhpc3Qgb24gdGhlbSwgbGV0IGFsb25lIGhhdmUgYSBib29sZWFuIHZhbHVlLlxuXHRcdH0gZWxzZSBpZiAoIFwibGFiZWxcIiBpbiBlbGVtICkge1xuXHRcdFx0cmV0dXJuIGVsZW0uZGlzYWJsZWQgPT09IGRpc2FibGVkO1xuXHRcdH1cblxuXHRcdC8vIFJlbWFpbmluZyBlbGVtZW50cyBhcmUgbmVpdGhlciA6ZW5hYmxlZCBub3IgOmRpc2FibGVkXG5cdFx0cmV0dXJuIGZhbHNlO1xuXHR9O1xufVxuXG4vKipcbiAqIFJldHVybnMgYSBmdW5jdGlvbiB0byB1c2UgaW4gcHNldWRvcyBmb3IgcG9zaXRpb25hbHNcbiAqIEBwYXJhbSB7RnVuY3Rpb259IGZuXG4gKi9cbmZ1bmN0aW9uIGNyZWF0ZVBvc2l0aW9uYWxQc2V1ZG8oIGZuICkge1xuXHRyZXR1cm4gbWFya0Z1bmN0aW9uKGZ1bmN0aW9uKCBhcmd1bWVudCApIHtcblx0XHRhcmd1bWVudCA9ICthcmd1bWVudDtcblx0XHRyZXR1cm4gbWFya0Z1bmN0aW9uKGZ1bmN0aW9uKCBzZWVkLCBtYXRjaGVzICkge1xuXHRcdFx0dmFyIGosXG5cdFx0XHRcdG1hdGNoSW5kZXhlcyA9IGZuKCBbXSwgc2VlZC5sZW5ndGgsIGFyZ3VtZW50ICksXG5cdFx0XHRcdGkgPSBtYXRjaEluZGV4ZXMubGVuZ3RoO1xuXG5cdFx0XHQvLyBNYXRjaCBlbGVtZW50cyBmb3VuZCBhdCB0aGUgc3BlY2lmaWVkIGluZGV4ZXNcblx0XHRcdHdoaWxlICggaS0tICkge1xuXHRcdFx0XHRpZiAoIHNlZWRbIChqID0gbWF0Y2hJbmRleGVzW2ldKSBdICkge1xuXHRcdFx0XHRcdHNlZWRbal0gPSAhKG1hdGNoZXNbal0gPSBzZWVkW2pdKTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH0pO1xuXHR9KTtcbn1cblxuLyoqXG4gKiBDaGVja3MgYSBub2RlIGZvciB2YWxpZGl0eSBhcyBhIFNpenpsZSBjb250ZXh0XG4gKiBAcGFyYW0ge0VsZW1lbnR8T2JqZWN0PX0gY29udGV4dFxuICogQHJldHVybnMge0VsZW1lbnR8T2JqZWN0fEJvb2xlYW59IFRoZSBpbnB1dCBub2RlIGlmIGFjY2VwdGFibGUsIG90aGVyd2lzZSBhIGZhbHN5IHZhbHVlXG4gKi9cbmZ1bmN0aW9uIHRlc3RDb250ZXh0KCBjb250ZXh0ICkge1xuXHRyZXR1cm4gY29udGV4dCAmJiB0eXBlb2YgY29udGV4dC5nZXRFbGVtZW50c0J5VGFnTmFtZSAhPT0gXCJ1bmRlZmluZWRcIiAmJiBjb250ZXh0O1xufVxuXG4vLyBFeHBvc2Ugc3VwcG9ydCB2YXJzIGZvciBjb252ZW5pZW5jZVxuc3VwcG9ydCA9IFNpenpsZS5zdXBwb3J0ID0ge307XG5cbi8qKlxuICogRGV0ZWN0cyBYTUwgbm9kZXNcbiAqIEBwYXJhbSB7RWxlbWVudHxPYmplY3R9IGVsZW0gQW4gZWxlbWVudCBvciBhIGRvY3VtZW50XG4gKiBAcmV0dXJucyB7Qm9vbGVhbn0gVHJ1ZSBpZmYgZWxlbSBpcyBhIG5vbi1IVE1MIFhNTCBub2RlXG4gKi9cbmlzWE1MID0gU2l6emxlLmlzWE1MID0gZnVuY3Rpb24oIGVsZW0gKSB7XG5cdC8vIGRvY3VtZW50RWxlbWVudCBpcyB2ZXJpZmllZCBmb3IgY2FzZXMgd2hlcmUgaXQgZG9lc24ndCB5ZXQgZXhpc3Rcblx0Ly8gKHN1Y2ggYXMgbG9hZGluZyBpZnJhbWVzIGluIElFIC0gIzQ4MzMpXG5cdHZhciBkb2N1bWVudEVsZW1lbnQgPSBlbGVtICYmIChlbGVtLm93bmVyRG9jdW1lbnQgfHwgZWxlbSkuZG9jdW1lbnRFbGVtZW50O1xuXHRyZXR1cm4gZG9jdW1lbnRFbGVtZW50ID8gZG9jdW1lbnRFbGVtZW50Lm5vZGVOYW1lICE9PSBcIkhUTUxcIiA6IGZhbHNlO1xufTtcblxuLyoqXG4gKiBTZXRzIGRvY3VtZW50LXJlbGF0ZWQgdmFyaWFibGVzIG9uY2UgYmFzZWQgb24gdGhlIGN1cnJlbnQgZG9jdW1lbnRcbiAqIEBwYXJhbSB7RWxlbWVudHxPYmplY3R9IFtkb2NdIEFuIGVsZW1lbnQgb3IgZG9jdW1lbnQgb2JqZWN0IHRvIHVzZSB0byBzZXQgdGhlIGRvY3VtZW50XG4gKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIHRoZSBjdXJyZW50IGRvY3VtZW50XG4gKi9cbnNldERvY3VtZW50ID0gU2l6emxlLnNldERvY3VtZW50ID0gZnVuY3Rpb24oIG5vZGUgKSB7XG5cdHZhciBoYXNDb21wYXJlLCBzdWJXaW5kb3csXG5cdFx0ZG9jID0gbm9kZSA/IG5vZGUub3duZXJEb2N1bWVudCB8fCBub2RlIDogcHJlZmVycmVkRG9jO1xuXG5cdC8vIFJldHVybiBlYXJseSBpZiBkb2MgaXMgaW52YWxpZCBvciBhbHJlYWR5IHNlbGVjdGVkXG5cdGlmICggZG9jID09PSBkb2N1bWVudCB8fCBkb2Mubm9kZVR5cGUgIT09IDkgfHwgIWRvYy5kb2N1bWVudEVsZW1lbnQgKSB7XG5cdFx0cmV0dXJuIGRvY3VtZW50O1xuXHR9XG5cblx0Ly8gVXBkYXRlIGdsb2JhbCB2YXJpYWJsZXNcblx0ZG9jdW1lbnQgPSBkb2M7XG5cdGRvY0VsZW0gPSBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQ7XG5cdGRvY3VtZW50SXNIVE1MID0gIWlzWE1MKCBkb2N1bWVudCApO1xuXG5cdC8vIFN1cHBvcnQ6IElFIDktMTEsIEVkZ2Vcblx0Ly8gQWNjZXNzaW5nIGlmcmFtZSBkb2N1bWVudHMgYWZ0ZXIgdW5sb2FkIHRocm93cyBcInBlcm1pc3Npb24gZGVuaWVkXCIgZXJyb3JzIChqUXVlcnkgIzEzOTM2KVxuXHRpZiAoIHByZWZlcnJlZERvYyAhPT0gZG9jdW1lbnQgJiZcblx0XHQoc3ViV2luZG93ID0gZG9jdW1lbnQuZGVmYXVsdFZpZXcpICYmIHN1YldpbmRvdy50b3AgIT09IHN1YldpbmRvdyApIHtcblxuXHRcdC8vIFN1cHBvcnQ6IElFIDExLCBFZGdlXG5cdFx0aWYgKCBzdWJXaW5kb3cuYWRkRXZlbnRMaXN0ZW5lciApIHtcblx0XHRcdHN1YldpbmRvdy5hZGRFdmVudExpc3RlbmVyKCBcInVubG9hZFwiLCB1bmxvYWRIYW5kbGVyLCBmYWxzZSApO1xuXG5cdFx0Ly8gU3VwcG9ydDogSUUgOSAtIDEwIG9ubHlcblx0XHR9IGVsc2UgaWYgKCBzdWJXaW5kb3cuYXR0YWNoRXZlbnQgKSB7XG5cdFx0XHRzdWJXaW5kb3cuYXR0YWNoRXZlbnQoIFwib251bmxvYWRcIiwgdW5sb2FkSGFuZGxlciApO1xuXHRcdH1cblx0fVxuXG5cdC8qIEF0dHJpYnV0ZXNcblx0LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSAqL1xuXG5cdC8vIFN1cHBvcnQ6IElFPDhcblx0Ly8gVmVyaWZ5IHRoYXQgZ2V0QXR0cmlidXRlIHJlYWxseSByZXR1cm5zIGF0dHJpYnV0ZXMgYW5kIG5vdCBwcm9wZXJ0aWVzXG5cdC8vIChleGNlcHRpbmcgSUU4IGJvb2xlYW5zKVxuXHRzdXBwb3J0LmF0dHJpYnV0ZXMgPSBhc3NlcnQoZnVuY3Rpb24oIGVsICkge1xuXHRcdGVsLmNsYXNzTmFtZSA9IFwiaVwiO1xuXHRcdHJldHVybiAhZWwuZ2V0QXR0cmlidXRlKFwiY2xhc3NOYW1lXCIpO1xuXHR9KTtcblxuXHQvKiBnZXRFbGVtZW50KHMpQnkqXG5cdC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gKi9cblxuXHQvLyBDaGVjayBpZiBnZXRFbGVtZW50c0J5VGFnTmFtZShcIipcIikgcmV0dXJucyBvbmx5IGVsZW1lbnRzXG5cdHN1cHBvcnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUgPSBhc3NlcnQoZnVuY3Rpb24oIGVsICkge1xuXHRcdGVsLmFwcGVuZENoaWxkKCBkb2N1bWVudC5jcmVhdGVDb21tZW50KFwiXCIpICk7XG5cdFx0cmV0dXJuICFlbC5nZXRFbGVtZW50c0J5VGFnTmFtZShcIipcIikubGVuZ3RoO1xuXHR9KTtcblxuXHQvLyBTdXBwb3J0OiBJRTw5XG5cdHN1cHBvcnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSA9IHJuYXRpdmUudGVzdCggZG9jdW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSApO1xuXG5cdC8vIFN1cHBvcnQ6IElFPDEwXG5cdC8vIENoZWNrIGlmIGdldEVsZW1lbnRCeUlkIHJldHVybnMgZWxlbWVudHMgYnkgbmFtZVxuXHQvLyBUaGUgYnJva2VuIGdldEVsZW1lbnRCeUlkIG1ldGhvZHMgZG9uJ3QgcGljayB1cCBwcm9ncmFtbWF0aWNhbGx5LXNldCBuYW1lcyxcblx0Ly8gc28gdXNlIGEgcm91bmRhYm91dCBnZXRFbGVtZW50c0J5TmFtZSB0ZXN0XG5cdHN1cHBvcnQuZ2V0QnlJZCA9IGFzc2VydChmdW5jdGlvbiggZWwgKSB7XG5cdFx0ZG9jRWxlbS5hcHBlbmRDaGlsZCggZWwgKS5pZCA9IGV4cGFuZG87XG5cdFx0cmV0dXJuICFkb2N1bWVudC5nZXRFbGVtZW50c0J5TmFtZSB8fCAhZG9jdW1lbnQuZ2V0RWxlbWVudHNCeU5hbWUoIGV4cGFuZG8gKS5sZW5ndGg7XG5cdH0pO1xuXG5cdC8vIElEIGZpbHRlciBhbmQgZmluZFxuXHRpZiAoIHN1cHBvcnQuZ2V0QnlJZCApIHtcblx0XHRFeHByLmZpbHRlcltcIklEXCJdID0gZnVuY3Rpb24oIGlkICkge1xuXHRcdFx0dmFyIGF0dHJJZCA9IGlkLnJlcGxhY2UoIHJ1bmVzY2FwZSwgZnVuZXNjYXBlICk7XG5cdFx0XHRyZXR1cm4gZnVuY3Rpb24oIGVsZW0gKSB7XG5cdFx0XHRcdHJldHVybiBlbGVtLmdldEF0dHJpYnV0ZShcImlkXCIpID09PSBhdHRySWQ7XG5cdFx0XHR9O1xuXHRcdH07XG5cdFx0RXhwci5maW5kW1wiSURcIl0gPSBmdW5jdGlvbiggaWQsIGNvbnRleHQgKSB7XG5cdFx0XHRpZiAoIHR5cGVvZiBjb250ZXh0LmdldEVsZW1lbnRCeUlkICE9PSBcInVuZGVmaW5lZFwiICYmIGRvY3VtZW50SXNIVE1MICkge1xuXHRcdFx0XHR2YXIgZWxlbSA9IGNvbnRleHQuZ2V0RWxlbWVudEJ5SWQoIGlkICk7XG5cdFx0XHRcdHJldHVybiBlbGVtID8gWyBlbGVtIF0gOiBbXTtcblx0XHRcdH1cblx0XHR9O1xuXHR9IGVsc2Uge1xuXHRcdEV4cHIuZmlsdGVyW1wiSURcIl0gPSAgZnVuY3Rpb24oIGlkICkge1xuXHRcdFx0dmFyIGF0dHJJZCA9IGlkLnJlcGxhY2UoIHJ1bmVzY2FwZSwgZnVuZXNjYXBlICk7XG5cdFx0XHRyZXR1cm4gZnVuY3Rpb24oIGVsZW0gKSB7XG5cdFx0XHRcdHZhciBub2RlID0gdHlwZW9mIGVsZW0uZ2V0QXR0cmlidXRlTm9kZSAhPT0gXCJ1bmRlZmluZWRcIiAmJlxuXHRcdFx0XHRcdGVsZW0uZ2V0QXR0cmlidXRlTm9kZShcImlkXCIpO1xuXHRcdFx0XHRyZXR1cm4gbm9kZSAmJiBub2RlLnZhbHVlID09PSBhdHRySWQ7XG5cdFx0XHR9O1xuXHRcdH07XG5cblx0XHQvLyBTdXBwb3J0OiBJRSA2IC0gNyBvbmx5XG5cdFx0Ly8gZ2V0RWxlbWVudEJ5SWQgaXMgbm90IHJlbGlhYmxlIGFzIGEgZmluZCBzaG9ydGN1dFxuXHRcdEV4cHIuZmluZFtcIklEXCJdID0gZnVuY3Rpb24oIGlkLCBjb250ZXh0ICkge1xuXHRcdFx0aWYgKCB0eXBlb2YgY29udGV4dC5nZXRFbGVtZW50QnlJZCAhPT0gXCJ1bmRlZmluZWRcIiAmJiBkb2N1bWVudElzSFRNTCApIHtcblx0XHRcdFx0dmFyIG5vZGUsIGksIGVsZW1zLFxuXHRcdFx0XHRcdGVsZW0gPSBjb250ZXh0LmdldEVsZW1lbnRCeUlkKCBpZCApO1xuXG5cdFx0XHRcdGlmICggZWxlbSApIHtcblxuXHRcdFx0XHRcdC8vIFZlcmlmeSB0aGUgaWQgYXR0cmlidXRlXG5cdFx0XHRcdFx0bm9kZSA9IGVsZW0uZ2V0QXR0cmlidXRlTm9kZShcImlkXCIpO1xuXHRcdFx0XHRcdGlmICggbm9kZSAmJiBub2RlLnZhbHVlID09PSBpZCApIHtcblx0XHRcdFx0XHRcdHJldHVybiBbIGVsZW0gXTtcblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHQvLyBGYWxsIGJhY2sgb24gZ2V0RWxlbWVudHNCeU5hbWVcblx0XHRcdFx0XHRlbGVtcyA9IGNvbnRleHQuZ2V0RWxlbWVudHNCeU5hbWUoIGlkICk7XG5cdFx0XHRcdFx0aSA9IDA7XG5cdFx0XHRcdFx0d2hpbGUgKCAoZWxlbSA9IGVsZW1zW2krK10pICkge1xuXHRcdFx0XHRcdFx0bm9kZSA9IGVsZW0uZ2V0QXR0cmlidXRlTm9kZShcImlkXCIpO1xuXHRcdFx0XHRcdFx0aWYgKCBub2RlICYmIG5vZGUudmFsdWUgPT09IGlkICkge1xuXHRcdFx0XHRcdFx0XHRyZXR1cm4gWyBlbGVtIF07XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cblx0XHRcdFx0cmV0dXJuIFtdO1xuXHRcdFx0fVxuXHRcdH07XG5cdH1cblxuXHQvLyBUYWdcblx0RXhwci5maW5kW1wiVEFHXCJdID0gc3VwcG9ydC5nZXRFbGVtZW50c0J5VGFnTmFtZSA/XG5cdFx0ZnVuY3Rpb24oIHRhZywgY29udGV4dCApIHtcblx0XHRcdGlmICggdHlwZW9mIGNvbnRleHQuZ2V0RWxlbWVudHNCeVRhZ05hbWUgIT09IFwidW5kZWZpbmVkXCIgKSB7XG5cdFx0XHRcdHJldHVybiBjb250ZXh0LmdldEVsZW1lbnRzQnlUYWdOYW1lKCB0YWcgKTtcblxuXHRcdFx0Ly8gRG9jdW1lbnRGcmFnbWVudCBub2RlcyBkb24ndCBoYXZlIGdFQlROXG5cdFx0XHR9IGVsc2UgaWYgKCBzdXBwb3J0LnFzYSApIHtcblx0XHRcdFx0cmV0dXJuIGNvbnRleHQucXVlcnlTZWxlY3RvckFsbCggdGFnICk7XG5cdFx0XHR9XG5cdFx0fSA6XG5cblx0XHRmdW5jdGlvbiggdGFnLCBjb250ZXh0ICkge1xuXHRcdFx0dmFyIGVsZW0sXG5cdFx0XHRcdHRtcCA9IFtdLFxuXHRcdFx0XHRpID0gMCxcblx0XHRcdFx0Ly8gQnkgaGFwcHkgY29pbmNpZGVuY2UsIGEgKGJyb2tlbikgZ0VCVE4gYXBwZWFycyBvbiBEb2N1bWVudEZyYWdtZW50IG5vZGVzIHRvb1xuXHRcdFx0XHRyZXN1bHRzID0gY29udGV4dC5nZXRFbGVtZW50c0J5VGFnTmFtZSggdGFnICk7XG5cblx0XHRcdC8vIEZpbHRlciBvdXQgcG9zc2libGUgY29tbWVudHNcblx0XHRcdGlmICggdGFnID09PSBcIipcIiApIHtcblx0XHRcdFx0d2hpbGUgKCAoZWxlbSA9IHJlc3VsdHNbaSsrXSkgKSB7XG5cdFx0XHRcdFx0aWYgKCBlbGVtLm5vZGVUeXBlID09PSAxICkge1xuXHRcdFx0XHRcdFx0dG1wLnB1c2goIGVsZW0gKTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRyZXR1cm4gdG1wO1xuXHRcdFx0fVxuXHRcdFx0cmV0dXJuIHJlc3VsdHM7XG5cdFx0fTtcblxuXHQvLyBDbGFzc1xuXHRFeHByLmZpbmRbXCJDTEFTU1wiXSA9IHN1cHBvcnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSAmJiBmdW5jdGlvbiggY2xhc3NOYW1lLCBjb250ZXh0ICkge1xuXHRcdGlmICggdHlwZW9mIGNvbnRleHQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSAhPT0gXCJ1bmRlZmluZWRcIiAmJiBkb2N1bWVudElzSFRNTCApIHtcblx0XHRcdHJldHVybiBjb250ZXh0LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoIGNsYXNzTmFtZSApO1xuXHRcdH1cblx0fTtcblxuXHQvKiBRU0EvbWF0Y2hlc1NlbGVjdG9yXG5cdC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gKi9cblxuXHQvLyBRU0EgYW5kIG1hdGNoZXNTZWxlY3RvciBzdXBwb3J0XG5cblx0Ly8gbWF0Y2hlc1NlbGVjdG9yKDphY3RpdmUpIHJlcG9ydHMgZmFsc2Ugd2hlbiB0cnVlIChJRTkvT3BlcmEgMTEuNSlcblx0cmJ1Z2d5TWF0Y2hlcyA9IFtdO1xuXG5cdC8vIHFTYSg6Zm9jdXMpIHJlcG9ydHMgZmFsc2Ugd2hlbiB0cnVlIChDaHJvbWUgMjEpXG5cdC8vIFdlIGFsbG93IHRoaXMgYmVjYXVzZSBvZiBhIGJ1ZyBpbiBJRTgvOSB0aGF0IHRocm93cyBhbiBlcnJvclxuXHQvLyB3aGVuZXZlciBgZG9jdW1lbnQuYWN0aXZlRWxlbWVudGAgaXMgYWNjZXNzZWQgb24gYW4gaWZyYW1lXG5cdC8vIFNvLCB3ZSBhbGxvdyA6Zm9jdXMgdG8gcGFzcyB0aHJvdWdoIFFTQSBhbGwgdGhlIHRpbWUgdG8gYXZvaWQgdGhlIElFIGVycm9yXG5cdC8vIFNlZSBodHRwczovL2J1Z3MuanF1ZXJ5LmNvbS90aWNrZXQvMTMzNzhcblx0cmJ1Z2d5UVNBID0gW107XG5cblx0aWYgKCAoc3VwcG9ydC5xc2EgPSBybmF0aXZlLnRlc3QoIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwgKSkgKSB7XG5cdFx0Ly8gQnVpbGQgUVNBIHJlZ2V4XG5cdFx0Ly8gUmVnZXggc3RyYXRlZ3kgYWRvcHRlZCBmcm9tIERpZWdvIFBlcmluaVxuXHRcdGFzc2VydChmdW5jdGlvbiggZWwgKSB7XG5cdFx0XHQvLyBTZWxlY3QgaXMgc2V0IHRvIGVtcHR5IHN0cmluZyBvbiBwdXJwb3NlXG5cdFx0XHQvLyBUaGlzIGlzIHRvIHRlc3QgSUUncyB0cmVhdG1lbnQgb2Ygbm90IGV4cGxpY2l0bHlcblx0XHRcdC8vIHNldHRpbmcgYSBib29sZWFuIGNvbnRlbnQgYXR0cmlidXRlLFxuXHRcdFx0Ly8gc2luY2UgaXRzIHByZXNlbmNlIHNob3VsZCBiZSBlbm91Z2hcblx0XHRcdC8vIGh0dHBzOi8vYnVncy5qcXVlcnkuY29tL3RpY2tldC8xMjM1OVxuXHRcdFx0ZG9jRWxlbS5hcHBlbmRDaGlsZCggZWwgKS5pbm5lckhUTUwgPSBcIjxhIGlkPSdcIiArIGV4cGFuZG8gKyBcIic+PC9hPlwiICtcblx0XHRcdFx0XCI8c2VsZWN0IGlkPSdcIiArIGV4cGFuZG8gKyBcIi1cXHJcXFxcJyBtc2FsbG93Y2FwdHVyZT0nJz5cIiArXG5cdFx0XHRcdFwiPG9wdGlvbiBzZWxlY3RlZD0nJz48L29wdGlvbj48L3NlbGVjdD5cIjtcblxuXHRcdFx0Ly8gU3VwcG9ydDogSUU4LCBPcGVyYSAxMS0xMi4xNlxuXHRcdFx0Ly8gTm90aGluZyBzaG91bGQgYmUgc2VsZWN0ZWQgd2hlbiBlbXB0eSBzdHJpbmdzIGZvbGxvdyBePSBvciAkPSBvciAqPVxuXHRcdFx0Ly8gVGhlIHRlc3QgYXR0cmlidXRlIG11c3QgYmUgdW5rbm93biBpbiBPcGVyYSBidXQgXCJzYWZlXCIgZm9yIFdpblJUXG5cdFx0XHQvLyBodHRwczovL21zZG4ubWljcm9zb2Z0LmNvbS9lbi11cy9saWJyYXJ5L2llL2hoNDY1Mzg4LmFzcHgjYXR0cmlidXRlX3NlY3Rpb25cblx0XHRcdGlmICggZWwucXVlcnlTZWxlY3RvckFsbChcIlttc2FsbG93Y2FwdHVyZV49JyddXCIpLmxlbmd0aCApIHtcblx0XHRcdFx0cmJ1Z2d5UVNBLnB1c2goIFwiWypeJF09XCIgKyB3aGl0ZXNwYWNlICsgXCIqKD86Jyd8XFxcIlxcXCIpXCIgKTtcblx0XHRcdH1cblxuXHRcdFx0Ly8gU3VwcG9ydDogSUU4XG5cdFx0XHQvLyBCb29sZWFuIGF0dHJpYnV0ZXMgYW5kIFwidmFsdWVcIiBhcmUgbm90IHRyZWF0ZWQgY29ycmVjdGx5XG5cdFx0XHRpZiAoICFlbC5xdWVyeVNlbGVjdG9yQWxsKFwiW3NlbGVjdGVkXVwiKS5sZW5ndGggKSB7XG5cdFx0XHRcdHJidWdneVFTQS5wdXNoKCBcIlxcXFxbXCIgKyB3aGl0ZXNwYWNlICsgXCIqKD86dmFsdWV8XCIgKyBib29sZWFucyArIFwiKVwiICk7XG5cdFx0XHR9XG5cblx0XHRcdC8vIFN1cHBvcnQ6IENocm9tZTwyOSwgQW5kcm9pZDw0LjQsIFNhZmFyaTw3LjArLCBpT1M8Ny4wKywgUGhhbnRvbUpTPDEuOS44K1xuXHRcdFx0aWYgKCAhZWwucXVlcnlTZWxlY3RvckFsbCggXCJbaWR+PVwiICsgZXhwYW5kbyArIFwiLV1cIiApLmxlbmd0aCApIHtcblx0XHRcdFx0cmJ1Z2d5UVNBLnB1c2goXCJ+PVwiKTtcblx0XHRcdH1cblxuXHRcdFx0Ly8gV2Via2l0L09wZXJhIC0gOmNoZWNrZWQgc2hvdWxkIHJldHVybiBzZWxlY3RlZCBvcHRpb24gZWxlbWVudHNcblx0XHRcdC8vIGh0dHA6Ly93d3cudzMub3JnL1RSLzIwMTEvUkVDLWNzczMtc2VsZWN0b3JzLTIwMTEwOTI5LyNjaGVja2VkXG5cdFx0XHQvLyBJRTggdGhyb3dzIGVycm9yIGhlcmUgYW5kIHdpbGwgbm90IHNlZSBsYXRlciB0ZXN0c1xuXHRcdFx0aWYgKCAhZWwucXVlcnlTZWxlY3RvckFsbChcIjpjaGVja2VkXCIpLmxlbmd0aCApIHtcblx0XHRcdFx0cmJ1Z2d5UVNBLnB1c2goXCI6Y2hlY2tlZFwiKTtcblx0XHRcdH1cblxuXHRcdFx0Ly8gU3VwcG9ydDogU2FmYXJpIDgrLCBpT1MgOCtcblx0XHRcdC8vIGh0dHBzOi8vYnVncy53ZWJraXQub3JnL3Nob3dfYnVnLmNnaT9pZD0xMzY4NTFcblx0XHRcdC8vIEluLXBhZ2UgYHNlbGVjdG9yI2lkIHNpYmxpbmctY29tYmluYXRvciBzZWxlY3RvcmAgZmFpbHNcblx0XHRcdGlmICggIWVsLnF1ZXJ5U2VsZWN0b3JBbGwoIFwiYSNcIiArIGV4cGFuZG8gKyBcIisqXCIgKS5sZW5ndGggKSB7XG5cdFx0XHRcdHJidWdneVFTQS5wdXNoKFwiLiMuK1srfl1cIik7XG5cdFx0XHR9XG5cdFx0fSk7XG5cblx0XHRhc3NlcnQoZnVuY3Rpb24oIGVsICkge1xuXHRcdFx0ZWwuaW5uZXJIVE1MID0gXCI8YSBocmVmPScnIGRpc2FibGVkPSdkaXNhYmxlZCc+PC9hPlwiICtcblx0XHRcdFx0XCI8c2VsZWN0IGRpc2FibGVkPSdkaXNhYmxlZCc+PG9wdGlvbi8+PC9zZWxlY3Q+XCI7XG5cblx0XHRcdC8vIFN1cHBvcnQ6IFdpbmRvd3MgOCBOYXRpdmUgQXBwc1xuXHRcdFx0Ly8gVGhlIHR5cGUgYW5kIG5hbWUgYXR0cmlidXRlcyBhcmUgcmVzdHJpY3RlZCBkdXJpbmcgLmlubmVySFRNTCBhc3NpZ25tZW50XG5cdFx0XHR2YXIgaW5wdXQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiaW5wdXRcIik7XG5cdFx0XHRpbnB1dC5zZXRBdHRyaWJ1dGUoIFwidHlwZVwiLCBcImhpZGRlblwiICk7XG5cdFx0XHRlbC5hcHBlbmRDaGlsZCggaW5wdXQgKS5zZXRBdHRyaWJ1dGUoIFwibmFtZVwiLCBcIkRcIiApO1xuXG5cdFx0XHQvLyBTdXBwb3J0OiBJRThcblx0XHRcdC8vIEVuZm9yY2UgY2FzZS1zZW5zaXRpdml0eSBvZiBuYW1lIGF0dHJpYnV0ZVxuXHRcdFx0aWYgKCBlbC5xdWVyeVNlbGVjdG9yQWxsKFwiW25hbWU9ZF1cIikubGVuZ3RoICkge1xuXHRcdFx0XHRyYnVnZ3lRU0EucHVzaCggXCJuYW1lXCIgKyB3aGl0ZXNwYWNlICsgXCIqWypeJHwhfl0/PVwiICk7XG5cdFx0XHR9XG5cblx0XHRcdC8vIEZGIDMuNSAtIDplbmFibGVkLzpkaXNhYmxlZCBhbmQgaGlkZGVuIGVsZW1lbnRzIChoaWRkZW4gZWxlbWVudHMgYXJlIHN0aWxsIGVuYWJsZWQpXG5cdFx0XHQvLyBJRTggdGhyb3dzIGVycm9yIGhlcmUgYW5kIHdpbGwgbm90IHNlZSBsYXRlciB0ZXN0c1xuXHRcdFx0aWYgKCBlbC5xdWVyeVNlbGVjdG9yQWxsKFwiOmVuYWJsZWRcIikubGVuZ3RoICE9PSAyICkge1xuXHRcdFx0XHRyYnVnZ3lRU0EucHVzaCggXCI6ZW5hYmxlZFwiLCBcIjpkaXNhYmxlZFwiICk7XG5cdFx0XHR9XG5cblx0XHRcdC8vIFN1cHBvcnQ6IElFOS0xMStcblx0XHRcdC8vIElFJ3MgOmRpc2FibGVkIHNlbGVjdG9yIGRvZXMgbm90IHBpY2sgdXAgdGhlIGNoaWxkcmVuIG9mIGRpc2FibGVkIGZpZWxkc2V0c1xuXHRcdFx0ZG9jRWxlbS5hcHBlbmRDaGlsZCggZWwgKS5kaXNhYmxlZCA9IHRydWU7XG5cdFx0XHRpZiAoIGVsLnF1ZXJ5U2VsZWN0b3JBbGwoXCI6ZGlzYWJsZWRcIikubGVuZ3RoICE9PSAyICkge1xuXHRcdFx0XHRyYnVnZ3lRU0EucHVzaCggXCI6ZW5hYmxlZFwiLCBcIjpkaXNhYmxlZFwiICk7XG5cdFx0XHR9XG5cblx0XHRcdC8vIE9wZXJhIDEwLTExIGRvZXMgbm90IHRocm93IG9uIHBvc3QtY29tbWEgaW52YWxpZCBwc2V1ZG9zXG5cdFx0XHRlbC5xdWVyeVNlbGVjdG9yQWxsKFwiKiw6eFwiKTtcblx0XHRcdHJidWdneVFTQS5wdXNoKFwiLC4qOlwiKTtcblx0XHR9KTtcblx0fVxuXG5cdGlmICggKHN1cHBvcnQubWF0Y2hlc1NlbGVjdG9yID0gcm5hdGl2ZS50ZXN0KCAobWF0Y2hlcyA9IGRvY0VsZW0ubWF0Y2hlcyB8fFxuXHRcdGRvY0VsZW0ud2Via2l0TWF0Y2hlc1NlbGVjdG9yIHx8XG5cdFx0ZG9jRWxlbS5tb3pNYXRjaGVzU2VsZWN0b3IgfHxcblx0XHRkb2NFbGVtLm9NYXRjaGVzU2VsZWN0b3IgfHxcblx0XHRkb2NFbGVtLm1zTWF0Y2hlc1NlbGVjdG9yKSApKSApIHtcblxuXHRcdGFzc2VydChmdW5jdGlvbiggZWwgKSB7XG5cdFx0XHQvLyBDaGVjayB0byBzZWUgaWYgaXQncyBwb3NzaWJsZSB0byBkbyBtYXRjaGVzU2VsZWN0b3Jcblx0XHRcdC8vIG9uIGEgZGlzY29ubmVjdGVkIG5vZGUgKElFIDkpXG5cdFx0XHRzdXBwb3J0LmRpc2Nvbm5lY3RlZE1hdGNoID0gbWF0Y2hlcy5jYWxsKCBlbCwgXCIqXCIgKTtcblxuXHRcdFx0Ly8gVGhpcyBzaG91bGQgZmFpbCB3aXRoIGFuIGV4Y2VwdGlvblxuXHRcdFx0Ly8gR2Vja28gZG9lcyBub3QgZXJyb3IsIHJldHVybnMgZmFsc2UgaW5zdGVhZFxuXHRcdFx0bWF0Y2hlcy5jYWxsKCBlbCwgXCJbcyE9JyddOnhcIiApO1xuXHRcdFx0cmJ1Z2d5TWF0Y2hlcy5wdXNoKCBcIiE9XCIsIHBzZXVkb3MgKTtcblx0XHR9KTtcblx0fVxuXG5cdHJidWdneVFTQSA9IHJidWdneVFTQS5sZW5ndGggJiYgbmV3IFJlZ0V4cCggcmJ1Z2d5UVNBLmpvaW4oXCJ8XCIpICk7XG5cdHJidWdneU1hdGNoZXMgPSByYnVnZ3lNYXRjaGVzLmxlbmd0aCAmJiBuZXcgUmVnRXhwKCByYnVnZ3lNYXRjaGVzLmpvaW4oXCJ8XCIpICk7XG5cblx0LyogQ29udGFpbnNcblx0LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSAqL1xuXHRoYXNDb21wYXJlID0gcm5hdGl2ZS50ZXN0KCBkb2NFbGVtLmNvbXBhcmVEb2N1bWVudFBvc2l0aW9uICk7XG5cblx0Ly8gRWxlbWVudCBjb250YWlucyBhbm90aGVyXG5cdC8vIFB1cnBvc2VmdWxseSBzZWxmLWV4Y2x1c2l2ZVxuXHQvLyBBcyBpbiwgYW4gZWxlbWVudCBkb2VzIG5vdCBjb250YWluIGl0c2VsZlxuXHRjb250YWlucyA9IGhhc0NvbXBhcmUgfHwgcm5hdGl2ZS50ZXN0KCBkb2NFbGVtLmNvbnRhaW5zICkgP1xuXHRcdGZ1bmN0aW9uKCBhLCBiICkge1xuXHRcdFx0dmFyIGFkb3duID0gYS5ub2RlVHlwZSA9PT0gOSA/IGEuZG9jdW1lbnRFbGVtZW50IDogYSxcblx0XHRcdFx0YnVwID0gYiAmJiBiLnBhcmVudE5vZGU7XG5cdFx0XHRyZXR1cm4gYSA9PT0gYnVwIHx8ICEhKCBidXAgJiYgYnVwLm5vZGVUeXBlID09PSAxICYmIChcblx0XHRcdFx0YWRvd24uY29udGFpbnMgP1xuXHRcdFx0XHRcdGFkb3duLmNvbnRhaW5zKCBidXAgKSA6XG5cdFx0XHRcdFx0YS5jb21wYXJlRG9jdW1lbnRQb3NpdGlvbiAmJiBhLmNvbXBhcmVEb2N1bWVudFBvc2l0aW9uKCBidXAgKSAmIDE2XG5cdFx0XHQpKTtcblx0XHR9IDpcblx0XHRmdW5jdGlvbiggYSwgYiApIHtcblx0XHRcdGlmICggYiApIHtcblx0XHRcdFx0d2hpbGUgKCAoYiA9IGIucGFyZW50Tm9kZSkgKSB7XG5cdFx0XHRcdFx0aWYgKCBiID09PSBhICkge1xuXHRcdFx0XHRcdFx0cmV0dXJuIHRydWU7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0fTtcblxuXHQvKiBTb3J0aW5nXG5cdC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gKi9cblxuXHQvLyBEb2N1bWVudCBvcmRlciBzb3J0aW5nXG5cdHNvcnRPcmRlciA9IGhhc0NvbXBhcmUgP1xuXHRmdW5jdGlvbiggYSwgYiApIHtcblxuXHRcdC8vIEZsYWcgZm9yIGR1cGxpY2F0ZSByZW1vdmFsXG5cdFx0aWYgKCBhID09PSBiICkge1xuXHRcdFx0aGFzRHVwbGljYXRlID0gdHJ1ZTtcblx0XHRcdHJldHVybiAwO1xuXHRcdH1cblxuXHRcdC8vIFNvcnQgb24gbWV0aG9kIGV4aXN0ZW5jZSBpZiBvbmx5IG9uZSBpbnB1dCBoYXMgY29tcGFyZURvY3VtZW50UG9zaXRpb25cblx0XHR2YXIgY29tcGFyZSA9ICFhLmNvbXBhcmVEb2N1bWVudFBvc2l0aW9uIC0gIWIuY29tcGFyZURvY3VtZW50UG9zaXRpb247XG5cdFx0aWYgKCBjb21wYXJlICkge1xuXHRcdFx0cmV0dXJuIGNvbXBhcmU7XG5cdFx0fVxuXG5cdFx0Ly8gQ2FsY3VsYXRlIHBvc2l0aW9uIGlmIGJvdGggaW5wdXRzIGJlbG9uZyB0byB0aGUgc2FtZSBkb2N1bWVudFxuXHRcdGNvbXBhcmUgPSAoIGEub3duZXJEb2N1bWVudCB8fCBhICkgPT09ICggYi5vd25lckRvY3VtZW50IHx8IGIgKSA/XG5cdFx0XHRhLmNvbXBhcmVEb2N1bWVudFBvc2l0aW9uKCBiICkgOlxuXG5cdFx0XHQvLyBPdGhlcndpc2Ugd2Uga25vdyB0aGV5IGFyZSBkaXNjb25uZWN0ZWRcblx0XHRcdDE7XG5cblx0XHQvLyBEaXNjb25uZWN0ZWQgbm9kZXNcblx0XHRpZiAoIGNvbXBhcmUgJiAxIHx8XG5cdFx0XHQoIXN1cHBvcnQuc29ydERldGFjaGVkICYmIGIuY29tcGFyZURvY3VtZW50UG9zaXRpb24oIGEgKSA9PT0gY29tcGFyZSkgKSB7XG5cblx0XHRcdC8vIENob29zZSB0aGUgZmlyc3QgZWxlbWVudCB0aGF0IGlzIHJlbGF0ZWQgdG8gb3VyIHByZWZlcnJlZCBkb2N1bWVudFxuXHRcdFx0aWYgKCBhID09PSBkb2N1bWVudCB8fCBhLm93bmVyRG9jdW1lbnQgPT09IHByZWZlcnJlZERvYyAmJiBjb250YWlucyhwcmVmZXJyZWREb2MsIGEpICkge1xuXHRcdFx0XHRyZXR1cm4gLTE7XG5cdFx0XHR9XG5cdFx0XHRpZiAoIGIgPT09IGRvY3VtZW50IHx8IGIub3duZXJEb2N1bWVudCA9PT0gcHJlZmVycmVkRG9jICYmIGNvbnRhaW5zKHByZWZlcnJlZERvYywgYikgKSB7XG5cdFx0XHRcdHJldHVybiAxO1xuXHRcdFx0fVxuXG5cdFx0XHQvLyBNYWludGFpbiBvcmlnaW5hbCBvcmRlclxuXHRcdFx0cmV0dXJuIHNvcnRJbnB1dCA/XG5cdFx0XHRcdCggaW5kZXhPZiggc29ydElucHV0LCBhICkgLSBpbmRleE9mKCBzb3J0SW5wdXQsIGIgKSApIDpcblx0XHRcdFx0MDtcblx0XHR9XG5cblx0XHRyZXR1cm4gY29tcGFyZSAmIDQgPyAtMSA6IDE7XG5cdH0gOlxuXHRmdW5jdGlvbiggYSwgYiApIHtcblx0XHQvLyBFeGl0IGVhcmx5IGlmIHRoZSBub2RlcyBhcmUgaWRlbnRpY2FsXG5cdFx0aWYgKCBhID09PSBiICkge1xuXHRcdFx0aGFzRHVwbGljYXRlID0gdHJ1ZTtcblx0XHRcdHJldHVybiAwO1xuXHRcdH1cblxuXHRcdHZhciBjdXIsXG5cdFx0XHRpID0gMCxcblx0XHRcdGF1cCA9IGEucGFyZW50Tm9kZSxcblx0XHRcdGJ1cCA9IGIucGFyZW50Tm9kZSxcblx0XHRcdGFwID0gWyBhIF0sXG5cdFx0XHRicCA9IFsgYiBdO1xuXG5cdFx0Ly8gUGFyZW50bGVzcyBub2RlcyBhcmUgZWl0aGVyIGRvY3VtZW50cyBvciBkaXNjb25uZWN0ZWRcblx0XHRpZiAoICFhdXAgfHwgIWJ1cCApIHtcblx0XHRcdHJldHVybiBhID09PSBkb2N1bWVudCA/IC0xIDpcblx0XHRcdFx0YiA9PT0gZG9jdW1lbnQgPyAxIDpcblx0XHRcdFx0YXVwID8gLTEgOlxuXHRcdFx0XHRidXAgPyAxIDpcblx0XHRcdFx0c29ydElucHV0ID9cblx0XHRcdFx0KCBpbmRleE9mKCBzb3J0SW5wdXQsIGEgKSAtIGluZGV4T2YoIHNvcnRJbnB1dCwgYiApICkgOlxuXHRcdFx0XHQwO1xuXG5cdFx0Ly8gSWYgdGhlIG5vZGVzIGFyZSBzaWJsaW5ncywgd2UgY2FuIGRvIGEgcXVpY2sgY2hlY2tcblx0XHR9IGVsc2UgaWYgKCBhdXAgPT09IGJ1cCApIHtcblx0XHRcdHJldHVybiBzaWJsaW5nQ2hlY2soIGEsIGIgKTtcblx0XHR9XG5cblx0XHQvLyBPdGhlcndpc2Ugd2UgbmVlZCBmdWxsIGxpc3RzIG9mIHRoZWlyIGFuY2VzdG9ycyBmb3IgY29tcGFyaXNvblxuXHRcdGN1ciA9IGE7XG5cdFx0d2hpbGUgKCAoY3VyID0gY3VyLnBhcmVudE5vZGUpICkge1xuXHRcdFx0YXAudW5zaGlmdCggY3VyICk7XG5cdFx0fVxuXHRcdGN1ciA9IGI7XG5cdFx0d2hpbGUgKCAoY3VyID0gY3VyLnBhcmVudE5vZGUpICkge1xuXHRcdFx0YnAudW5zaGlmdCggY3VyICk7XG5cdFx0fVxuXG5cdFx0Ly8gV2FsayBkb3duIHRoZSB0cmVlIGxvb2tpbmcgZm9yIGEgZGlzY3JlcGFuY3lcblx0XHR3aGlsZSAoIGFwW2ldID09PSBicFtpXSApIHtcblx0XHRcdGkrKztcblx0XHR9XG5cblx0XHRyZXR1cm4gaSA/XG5cdFx0XHQvLyBEbyBhIHNpYmxpbmcgY2hlY2sgaWYgdGhlIG5vZGVzIGhhdmUgYSBjb21tb24gYW5jZXN0b3Jcblx0XHRcdHNpYmxpbmdDaGVjayggYXBbaV0sIGJwW2ldICkgOlxuXG5cdFx0XHQvLyBPdGhlcndpc2Ugbm9kZXMgaW4gb3VyIGRvY3VtZW50IHNvcnQgZmlyc3Rcblx0XHRcdGFwW2ldID09PSBwcmVmZXJyZWREb2MgPyAtMSA6XG5cdFx0XHRicFtpXSA9PT0gcHJlZmVycmVkRG9jID8gMSA6XG5cdFx0XHQwO1xuXHR9O1xuXG5cdHJldHVybiBkb2N1bWVudDtcbn07XG5cblNpenpsZS5tYXRjaGVzID0gZnVuY3Rpb24oIGV4cHIsIGVsZW1lbnRzICkge1xuXHRyZXR1cm4gU2l6emxlKCBleHByLCBudWxsLCBudWxsLCBlbGVtZW50cyApO1xufTtcblxuU2l6emxlLm1hdGNoZXNTZWxlY3RvciA9IGZ1bmN0aW9uKCBlbGVtLCBleHByICkge1xuXHQvLyBTZXQgZG9jdW1lbnQgdmFycyBpZiBuZWVkZWRcblx0aWYgKCAoIGVsZW0ub3duZXJEb2N1bWVudCB8fCBlbGVtICkgIT09IGRvY3VtZW50ICkge1xuXHRcdHNldERvY3VtZW50KCBlbGVtICk7XG5cdH1cblxuXHQvLyBNYWtlIHN1cmUgdGhhdCBhdHRyaWJ1dGUgc2VsZWN0b3JzIGFyZSBxdW90ZWRcblx0ZXhwciA9IGV4cHIucmVwbGFjZSggcmF0dHJpYnV0ZVF1b3RlcywgXCI9JyQxJ11cIiApO1xuXG5cdGlmICggc3VwcG9ydC5tYXRjaGVzU2VsZWN0b3IgJiYgZG9jdW1lbnRJc0hUTUwgJiZcblx0XHQhY29tcGlsZXJDYWNoZVsgZXhwciArIFwiIFwiIF0gJiZcblx0XHQoICFyYnVnZ3lNYXRjaGVzIHx8ICFyYnVnZ3lNYXRjaGVzLnRlc3QoIGV4cHIgKSApICYmXG5cdFx0KCAhcmJ1Z2d5UVNBICAgICB8fCAhcmJ1Z2d5UVNBLnRlc3QoIGV4cHIgKSApICkge1xuXG5cdFx0dHJ5IHtcblx0XHRcdHZhciByZXQgPSBtYXRjaGVzLmNhbGwoIGVsZW0sIGV4cHIgKTtcblxuXHRcdFx0Ly8gSUUgOSdzIG1hdGNoZXNTZWxlY3RvciByZXR1cm5zIGZhbHNlIG9uIGRpc2Nvbm5lY3RlZCBub2Rlc1xuXHRcdFx0aWYgKCByZXQgfHwgc3VwcG9ydC5kaXNjb25uZWN0ZWRNYXRjaCB8fFxuXHRcdFx0XHRcdC8vIEFzIHdlbGwsIGRpc2Nvbm5lY3RlZCBub2RlcyBhcmUgc2FpZCB0byBiZSBpbiBhIGRvY3VtZW50XG5cdFx0XHRcdFx0Ly8gZnJhZ21lbnQgaW4gSUUgOVxuXHRcdFx0XHRcdGVsZW0uZG9jdW1lbnQgJiYgZWxlbS5kb2N1bWVudC5ub2RlVHlwZSAhPT0gMTEgKSB7XG5cdFx0XHRcdHJldHVybiByZXQ7XG5cdFx0XHR9XG5cdFx0fSBjYXRjaCAoZSkge31cblx0fVxuXG5cdHJldHVybiBTaXp6bGUoIGV4cHIsIGRvY3VtZW50LCBudWxsLCBbIGVsZW0gXSApLmxlbmd0aCA+IDA7XG59O1xuXG5TaXp6bGUuY29udGFpbnMgPSBmdW5jdGlvbiggY29udGV4dCwgZWxlbSApIHtcblx0Ly8gU2V0IGRvY3VtZW50IHZhcnMgaWYgbmVlZGVkXG5cdGlmICggKCBjb250ZXh0Lm93bmVyRG9jdW1lbnQgfHwgY29udGV4dCApICE9PSBkb2N1bWVudCApIHtcblx0XHRzZXREb2N1bWVudCggY29udGV4dCApO1xuXHR9XG5cdHJldHVybiBjb250YWlucyggY29udGV4dCwgZWxlbSApO1xufTtcblxuU2l6emxlLmF0dHIgPSBmdW5jdGlvbiggZWxlbSwgbmFtZSApIHtcblx0Ly8gU2V0IGRvY3VtZW50IHZhcnMgaWYgbmVlZGVkXG5cdGlmICggKCBlbGVtLm93bmVyRG9jdW1lbnQgfHwgZWxlbSApICE9PSBkb2N1bWVudCApIHtcblx0XHRzZXREb2N1bWVudCggZWxlbSApO1xuXHR9XG5cblx0dmFyIGZuID0gRXhwci5hdHRySGFuZGxlWyBuYW1lLnRvTG93ZXJDYXNlKCkgXSxcblx0XHQvLyBEb24ndCBnZXQgZm9vbGVkIGJ5IE9iamVjdC5wcm90b3R5cGUgcHJvcGVydGllcyAoalF1ZXJ5ICMxMzgwNylcblx0XHR2YWwgPSBmbiAmJiBoYXNPd24uY2FsbCggRXhwci5hdHRySGFuZGxlLCBuYW1lLnRvTG93ZXJDYXNlKCkgKSA/XG5cdFx0XHRmbiggZWxlbSwgbmFtZSwgIWRvY3VtZW50SXNIVE1MICkgOlxuXHRcdFx0dW5kZWZpbmVkO1xuXG5cdHJldHVybiB2YWwgIT09IHVuZGVmaW5lZCA/XG5cdFx0dmFsIDpcblx0XHRzdXBwb3J0LmF0dHJpYnV0ZXMgfHwgIWRvY3VtZW50SXNIVE1MID9cblx0XHRcdGVsZW0uZ2V0QXR0cmlidXRlKCBuYW1lICkgOlxuXHRcdFx0KHZhbCA9IGVsZW0uZ2V0QXR0cmlidXRlTm9kZShuYW1lKSkgJiYgdmFsLnNwZWNpZmllZCA/XG5cdFx0XHRcdHZhbC52YWx1ZSA6XG5cdFx0XHRcdG51bGw7XG59O1xuXG5TaXp6bGUuZXNjYXBlID0gZnVuY3Rpb24oIHNlbCApIHtcblx0cmV0dXJuIChzZWwgKyBcIlwiKS5yZXBsYWNlKCByY3NzZXNjYXBlLCBmY3NzZXNjYXBlICk7XG59O1xuXG5TaXp6bGUuZXJyb3IgPSBmdW5jdGlvbiggbXNnICkge1xuXHR0aHJvdyBuZXcgRXJyb3IoIFwiU3ludGF4IGVycm9yLCB1bnJlY29nbml6ZWQgZXhwcmVzc2lvbjogXCIgKyBtc2cgKTtcbn07XG5cbi8qKlxuICogRG9jdW1lbnQgc29ydGluZyBhbmQgcmVtb3ZpbmcgZHVwbGljYXRlc1xuICogQHBhcmFtIHtBcnJheUxpa2V9IHJlc3VsdHNcbiAqL1xuU2l6emxlLnVuaXF1ZVNvcnQgPSBmdW5jdGlvbiggcmVzdWx0cyApIHtcblx0dmFyIGVsZW0sXG5cdFx0ZHVwbGljYXRlcyA9IFtdLFxuXHRcdGogPSAwLFxuXHRcdGkgPSAwO1xuXG5cdC8vIFVubGVzcyB3ZSAqa25vdyogd2UgY2FuIGRldGVjdCBkdXBsaWNhdGVzLCBhc3N1bWUgdGhlaXIgcHJlc2VuY2Vcblx0aGFzRHVwbGljYXRlID0gIXN1cHBvcnQuZGV0ZWN0RHVwbGljYXRlcztcblx0c29ydElucHV0ID0gIXN1cHBvcnQuc29ydFN0YWJsZSAmJiByZXN1bHRzLnNsaWNlKCAwICk7XG5cdHJlc3VsdHMuc29ydCggc29ydE9yZGVyICk7XG5cblx0aWYgKCBoYXNEdXBsaWNhdGUgKSB7XG5cdFx0d2hpbGUgKCAoZWxlbSA9IHJlc3VsdHNbaSsrXSkgKSB7XG5cdFx0XHRpZiAoIGVsZW0gPT09IHJlc3VsdHNbIGkgXSApIHtcblx0XHRcdFx0aiA9IGR1cGxpY2F0ZXMucHVzaCggaSApO1xuXHRcdFx0fVxuXHRcdH1cblx0XHR3aGlsZSAoIGotLSApIHtcblx0XHRcdHJlc3VsdHMuc3BsaWNlKCBkdXBsaWNhdGVzWyBqIF0sIDEgKTtcblx0XHR9XG5cdH1cblxuXHQvLyBDbGVhciBpbnB1dCBhZnRlciBzb3J0aW5nIHRvIHJlbGVhc2Ugb2JqZWN0c1xuXHQvLyBTZWUgaHR0cHM6Ly9naXRodWIuY29tL2pxdWVyeS9zaXp6bGUvcHVsbC8yMjVcblx0c29ydElucHV0ID0gbnVsbDtcblxuXHRyZXR1cm4gcmVzdWx0cztcbn07XG5cbi8qKlxuICogVXRpbGl0eSBmdW5jdGlvbiBmb3IgcmV0cmlldmluZyB0aGUgdGV4dCB2YWx1ZSBvZiBhbiBhcnJheSBvZiBET00gbm9kZXNcbiAqIEBwYXJhbSB7QXJyYXl8RWxlbWVudH0gZWxlbVxuICovXG5nZXRUZXh0ID0gU2l6emxlLmdldFRleHQgPSBmdW5jdGlvbiggZWxlbSApIHtcblx0dmFyIG5vZGUsXG5cdFx0cmV0ID0gXCJcIixcblx0XHRpID0gMCxcblx0XHRub2RlVHlwZSA9IGVsZW0ubm9kZVR5cGU7XG5cblx0aWYgKCAhbm9kZVR5cGUgKSB7XG5cdFx0Ly8gSWYgbm8gbm9kZVR5cGUsIHRoaXMgaXMgZXhwZWN0ZWQgdG8gYmUgYW4gYXJyYXlcblx0XHR3aGlsZSAoIChub2RlID0gZWxlbVtpKytdKSApIHtcblx0XHRcdC8vIERvIG5vdCB0cmF2ZXJzZSBjb21tZW50IG5vZGVzXG5cdFx0XHRyZXQgKz0gZ2V0VGV4dCggbm9kZSApO1xuXHRcdH1cblx0fSBlbHNlIGlmICggbm9kZVR5cGUgPT09IDEgfHwgbm9kZVR5cGUgPT09IDkgfHwgbm9kZVR5cGUgPT09IDExICkge1xuXHRcdC8vIFVzZSB0ZXh0Q29udGVudCBmb3IgZWxlbWVudHNcblx0XHQvLyBpbm5lclRleHQgdXNhZ2UgcmVtb3ZlZCBmb3IgY29uc2lzdGVuY3kgb2YgbmV3IGxpbmVzIChqUXVlcnkgIzExMTUzKVxuXHRcdGlmICggdHlwZW9mIGVsZW0udGV4dENvbnRlbnQgPT09IFwic3RyaW5nXCIgKSB7XG5cdFx0XHRyZXR1cm4gZWxlbS50ZXh0Q29udGVudDtcblx0XHR9IGVsc2Uge1xuXHRcdFx0Ly8gVHJhdmVyc2UgaXRzIGNoaWxkcmVuXG5cdFx0XHRmb3IgKCBlbGVtID0gZWxlbS5maXJzdENoaWxkOyBlbGVtOyBlbGVtID0gZWxlbS5uZXh0U2libGluZyApIHtcblx0XHRcdFx0cmV0ICs9IGdldFRleHQoIGVsZW0gKTtcblx0XHRcdH1cblx0XHR9XG5cdH0gZWxzZSBpZiAoIG5vZGVUeXBlID09PSAzIHx8IG5vZGVUeXBlID09PSA0ICkge1xuXHRcdHJldHVybiBlbGVtLm5vZGVWYWx1ZTtcblx0fVxuXHQvLyBEbyBub3QgaW5jbHVkZSBjb21tZW50IG9yIHByb2Nlc3NpbmcgaW5zdHJ1Y3Rpb24gbm9kZXNcblxuXHRyZXR1cm4gcmV0O1xufTtcblxuRXhwciA9IFNpenpsZS5zZWxlY3RvcnMgPSB7XG5cblx0Ly8gQ2FuIGJlIGFkanVzdGVkIGJ5IHRoZSB1c2VyXG5cdGNhY2hlTGVuZ3RoOiA1MCxcblxuXHRjcmVhdGVQc2V1ZG86IG1hcmtGdW5jdGlvbixcblxuXHRtYXRjaDogbWF0Y2hFeHByLFxuXG5cdGF0dHJIYW5kbGU6IHt9LFxuXG5cdGZpbmQ6IHt9LFxuXG5cdHJlbGF0aXZlOiB7XG5cdFx0XCI+XCI6IHsgZGlyOiBcInBhcmVudE5vZGVcIiwgZmlyc3Q6IHRydWUgfSxcblx0XHRcIiBcIjogeyBkaXI6IFwicGFyZW50Tm9kZVwiIH0sXG5cdFx0XCIrXCI6IHsgZGlyOiBcInByZXZpb3VzU2libGluZ1wiLCBmaXJzdDogdHJ1ZSB9LFxuXHRcdFwiflwiOiB7IGRpcjogXCJwcmV2aW91c1NpYmxpbmdcIiB9XG5cdH0sXG5cblx0cHJlRmlsdGVyOiB7XG5cdFx0XCJBVFRSXCI6IGZ1bmN0aW9uKCBtYXRjaCApIHtcblx0XHRcdG1hdGNoWzFdID0gbWF0Y2hbMV0ucmVwbGFjZSggcnVuZXNjYXBlLCBmdW5lc2NhcGUgKTtcblxuXHRcdFx0Ly8gTW92ZSB0aGUgZ2l2ZW4gdmFsdWUgdG8gbWF0Y2hbM10gd2hldGhlciBxdW90ZWQgb3IgdW5xdW90ZWRcblx0XHRcdG1hdGNoWzNdID0gKCBtYXRjaFszXSB8fCBtYXRjaFs0XSB8fCBtYXRjaFs1XSB8fCBcIlwiICkucmVwbGFjZSggcnVuZXNjYXBlLCBmdW5lc2NhcGUgKTtcblxuXHRcdFx0aWYgKCBtYXRjaFsyXSA9PT0gXCJ+PVwiICkge1xuXHRcdFx0XHRtYXRjaFszXSA9IFwiIFwiICsgbWF0Y2hbM10gKyBcIiBcIjtcblx0XHRcdH1cblxuXHRcdFx0cmV0dXJuIG1hdGNoLnNsaWNlKCAwLCA0ICk7XG5cdFx0fSxcblxuXHRcdFwiQ0hJTERcIjogZnVuY3Rpb24oIG1hdGNoICkge1xuXHRcdFx0LyogbWF0Y2hlcyBmcm9tIG1hdGNoRXhwcltcIkNISUxEXCJdXG5cdFx0XHRcdDEgdHlwZSAob25seXxudGh8Li4uKVxuXHRcdFx0XHQyIHdoYXQgKGNoaWxkfG9mLXR5cGUpXG5cdFx0XHRcdDMgYXJndW1lbnQgKGV2ZW58b2RkfFxcZCp8XFxkKm4oWystXVxcZCspP3wuLi4pXG5cdFx0XHRcdDQgeG4tY29tcG9uZW50IG9mIHhuK3kgYXJndW1lbnQgKFsrLV0/XFxkKm58KVxuXHRcdFx0XHQ1IHNpZ24gb2YgeG4tY29tcG9uZW50XG5cdFx0XHRcdDYgeCBvZiB4bi1jb21wb25lbnRcblx0XHRcdFx0NyBzaWduIG9mIHktY29tcG9uZW50XG5cdFx0XHRcdDggeSBvZiB5LWNvbXBvbmVudFxuXHRcdFx0Ki9cblx0XHRcdG1hdGNoWzFdID0gbWF0Y2hbMV0udG9Mb3dlckNhc2UoKTtcblxuXHRcdFx0aWYgKCBtYXRjaFsxXS5zbGljZSggMCwgMyApID09PSBcIm50aFwiICkge1xuXHRcdFx0XHQvLyBudGgtKiByZXF1aXJlcyBhcmd1bWVudFxuXHRcdFx0XHRpZiAoICFtYXRjaFszXSApIHtcblx0XHRcdFx0XHRTaXp6bGUuZXJyb3IoIG1hdGNoWzBdICk7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHQvLyBudW1lcmljIHggYW5kIHkgcGFyYW1ldGVycyBmb3IgRXhwci5maWx0ZXIuQ0hJTERcblx0XHRcdFx0Ly8gcmVtZW1iZXIgdGhhdCBmYWxzZS90cnVlIGNhc3QgcmVzcGVjdGl2ZWx5IHRvIDAvMVxuXHRcdFx0XHRtYXRjaFs0XSA9ICsoIG1hdGNoWzRdID8gbWF0Y2hbNV0gKyAobWF0Y2hbNl0gfHwgMSkgOiAyICogKCBtYXRjaFszXSA9PT0gXCJldmVuXCIgfHwgbWF0Y2hbM10gPT09IFwib2RkXCIgKSApO1xuXHRcdFx0XHRtYXRjaFs1XSA9ICsoICggbWF0Y2hbN10gKyBtYXRjaFs4XSApIHx8IG1hdGNoWzNdID09PSBcIm9kZFwiICk7XG5cblx0XHRcdC8vIG90aGVyIHR5cGVzIHByb2hpYml0IGFyZ3VtZW50c1xuXHRcdFx0fSBlbHNlIGlmICggbWF0Y2hbM10gKSB7XG5cdFx0XHRcdFNpenpsZS5lcnJvciggbWF0Y2hbMF0gKTtcblx0XHRcdH1cblxuXHRcdFx0cmV0dXJuIG1hdGNoO1xuXHRcdH0sXG5cblx0XHRcIlBTRVVET1wiOiBmdW5jdGlvbiggbWF0Y2ggKSB7XG5cdFx0XHR2YXIgZXhjZXNzLFxuXHRcdFx0XHR1bnF1b3RlZCA9ICFtYXRjaFs2XSAmJiBtYXRjaFsyXTtcblxuXHRcdFx0aWYgKCBtYXRjaEV4cHJbXCJDSElMRFwiXS50ZXN0KCBtYXRjaFswXSApICkge1xuXHRcdFx0XHRyZXR1cm4gbnVsbDtcblx0XHRcdH1cblxuXHRcdFx0Ly8gQWNjZXB0IHF1b3RlZCBhcmd1bWVudHMgYXMtaXNcblx0XHRcdGlmICggbWF0Y2hbM10gKSB7XG5cdFx0XHRcdG1hdGNoWzJdID0gbWF0Y2hbNF0gfHwgbWF0Y2hbNV0gfHwgXCJcIjtcblxuXHRcdFx0Ly8gU3RyaXAgZXhjZXNzIGNoYXJhY3RlcnMgZnJvbSB1bnF1b3RlZCBhcmd1bWVudHNcblx0XHRcdH0gZWxzZSBpZiAoIHVucXVvdGVkICYmIHJwc2V1ZG8udGVzdCggdW5xdW90ZWQgKSAmJlxuXHRcdFx0XHQvLyBHZXQgZXhjZXNzIGZyb20gdG9rZW5pemUgKHJlY3Vyc2l2ZWx5KVxuXHRcdFx0XHQoZXhjZXNzID0gdG9rZW5pemUoIHVucXVvdGVkLCB0cnVlICkpICYmXG5cdFx0XHRcdC8vIGFkdmFuY2UgdG8gdGhlIG5leHQgY2xvc2luZyBwYXJlbnRoZXNpc1xuXHRcdFx0XHQoZXhjZXNzID0gdW5xdW90ZWQuaW5kZXhPZiggXCIpXCIsIHVucXVvdGVkLmxlbmd0aCAtIGV4Y2VzcyApIC0gdW5xdW90ZWQubGVuZ3RoKSApIHtcblxuXHRcdFx0XHQvLyBleGNlc3MgaXMgYSBuZWdhdGl2ZSBpbmRleFxuXHRcdFx0XHRtYXRjaFswXSA9IG1hdGNoWzBdLnNsaWNlKCAwLCBleGNlc3MgKTtcblx0XHRcdFx0bWF0Y2hbMl0gPSB1bnF1b3RlZC5zbGljZSggMCwgZXhjZXNzICk7XG5cdFx0XHR9XG5cblx0XHRcdC8vIFJldHVybiBvbmx5IGNhcHR1cmVzIG5lZWRlZCBieSB0aGUgcHNldWRvIGZpbHRlciBtZXRob2QgKHR5cGUgYW5kIGFyZ3VtZW50KVxuXHRcdFx0cmV0dXJuIG1hdGNoLnNsaWNlKCAwLCAzICk7XG5cdFx0fVxuXHR9LFxuXG5cdGZpbHRlcjoge1xuXG5cdFx0XCJUQUdcIjogZnVuY3Rpb24oIG5vZGVOYW1lU2VsZWN0b3IgKSB7XG5cdFx0XHR2YXIgbm9kZU5hbWUgPSBub2RlTmFtZVNlbGVjdG9yLnJlcGxhY2UoIHJ1bmVzY2FwZSwgZnVuZXNjYXBlICkudG9Mb3dlckNhc2UoKTtcblx0XHRcdHJldHVybiBub2RlTmFtZVNlbGVjdG9yID09PSBcIipcIiA/XG5cdFx0XHRcdGZ1bmN0aW9uKCkgeyByZXR1cm4gdHJ1ZTsgfSA6XG5cdFx0XHRcdGZ1bmN0aW9uKCBlbGVtICkge1xuXHRcdFx0XHRcdHJldHVybiBlbGVtLm5vZGVOYW1lICYmIGVsZW0ubm9kZU5hbWUudG9Mb3dlckNhc2UoKSA9PT0gbm9kZU5hbWU7XG5cdFx0XHRcdH07XG5cdFx0fSxcblxuXHRcdFwiQ0xBU1NcIjogZnVuY3Rpb24oIGNsYXNzTmFtZSApIHtcblx0XHRcdHZhciBwYXR0ZXJuID0gY2xhc3NDYWNoZVsgY2xhc3NOYW1lICsgXCIgXCIgXTtcblxuXHRcdFx0cmV0dXJuIHBhdHRlcm4gfHxcblx0XHRcdFx0KHBhdHRlcm4gPSBuZXcgUmVnRXhwKCBcIihefFwiICsgd2hpdGVzcGFjZSArIFwiKVwiICsgY2xhc3NOYW1lICsgXCIoXCIgKyB3aGl0ZXNwYWNlICsgXCJ8JClcIiApKSAmJlxuXHRcdFx0XHRjbGFzc0NhY2hlKCBjbGFzc05hbWUsIGZ1bmN0aW9uKCBlbGVtICkge1xuXHRcdFx0XHRcdHJldHVybiBwYXR0ZXJuLnRlc3QoIHR5cGVvZiBlbGVtLmNsYXNzTmFtZSA9PT0gXCJzdHJpbmdcIiAmJiBlbGVtLmNsYXNzTmFtZSB8fCB0eXBlb2YgZWxlbS5nZXRBdHRyaWJ1dGUgIT09IFwidW5kZWZpbmVkXCIgJiYgZWxlbS5nZXRBdHRyaWJ1dGUoXCJjbGFzc1wiKSB8fCBcIlwiICk7XG5cdFx0XHRcdH0pO1xuXHRcdH0sXG5cblx0XHRcIkFUVFJcIjogZnVuY3Rpb24oIG5hbWUsIG9wZXJhdG9yLCBjaGVjayApIHtcblx0XHRcdHJldHVybiBmdW5jdGlvbiggZWxlbSApIHtcblx0XHRcdFx0dmFyIHJlc3VsdCA9IFNpenpsZS5hdHRyKCBlbGVtLCBuYW1lICk7XG5cblx0XHRcdFx0aWYgKCByZXN1bHQgPT0gbnVsbCApIHtcblx0XHRcdFx0XHRyZXR1cm4gb3BlcmF0b3IgPT09IFwiIT1cIjtcblx0XHRcdFx0fVxuXHRcdFx0XHRpZiAoICFvcGVyYXRvciApIHtcblx0XHRcdFx0XHRyZXR1cm4gdHJ1ZTtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdHJlc3VsdCArPSBcIlwiO1xuXG5cdFx0XHRcdHJldHVybiBvcGVyYXRvciA9PT0gXCI9XCIgPyByZXN1bHQgPT09IGNoZWNrIDpcblx0XHRcdFx0XHRvcGVyYXRvciA9PT0gXCIhPVwiID8gcmVzdWx0ICE9PSBjaGVjayA6XG5cdFx0XHRcdFx0b3BlcmF0b3IgPT09IFwiXj1cIiA/IGNoZWNrICYmIHJlc3VsdC5pbmRleE9mKCBjaGVjayApID09PSAwIDpcblx0XHRcdFx0XHRvcGVyYXRvciA9PT0gXCIqPVwiID8gY2hlY2sgJiYgcmVzdWx0LmluZGV4T2YoIGNoZWNrICkgPiAtMSA6XG5cdFx0XHRcdFx0b3BlcmF0b3IgPT09IFwiJD1cIiA/IGNoZWNrICYmIHJlc3VsdC5zbGljZSggLWNoZWNrLmxlbmd0aCApID09PSBjaGVjayA6XG5cdFx0XHRcdFx0b3BlcmF0b3IgPT09IFwifj1cIiA/ICggXCIgXCIgKyByZXN1bHQucmVwbGFjZSggcndoaXRlc3BhY2UsIFwiIFwiICkgKyBcIiBcIiApLmluZGV4T2YoIGNoZWNrICkgPiAtMSA6XG5cdFx0XHRcdFx0b3BlcmF0b3IgPT09IFwifD1cIiA/IHJlc3VsdCA9PT0gY2hlY2sgfHwgcmVzdWx0LnNsaWNlKCAwLCBjaGVjay5sZW5ndGggKyAxICkgPT09IGNoZWNrICsgXCItXCIgOlxuXHRcdFx0XHRcdGZhbHNlO1xuXHRcdFx0fTtcblx0XHR9LFxuXG5cdFx0XCJDSElMRFwiOiBmdW5jdGlvbiggdHlwZSwgd2hhdCwgYXJndW1lbnQsIGZpcnN0LCBsYXN0ICkge1xuXHRcdFx0dmFyIHNpbXBsZSA9IHR5cGUuc2xpY2UoIDAsIDMgKSAhPT0gXCJudGhcIixcblx0XHRcdFx0Zm9yd2FyZCA9IHR5cGUuc2xpY2UoIC00ICkgIT09IFwibGFzdFwiLFxuXHRcdFx0XHRvZlR5cGUgPSB3aGF0ID09PSBcIm9mLXR5cGVcIjtcblxuXHRcdFx0cmV0dXJuIGZpcnN0ID09PSAxICYmIGxhc3QgPT09IDAgP1xuXG5cdFx0XHRcdC8vIFNob3J0Y3V0IGZvciA6bnRoLSoobilcblx0XHRcdFx0ZnVuY3Rpb24oIGVsZW0gKSB7XG5cdFx0XHRcdFx0cmV0dXJuICEhZWxlbS5wYXJlbnROb2RlO1xuXHRcdFx0XHR9IDpcblxuXHRcdFx0XHRmdW5jdGlvbiggZWxlbSwgY29udGV4dCwgeG1sICkge1xuXHRcdFx0XHRcdHZhciBjYWNoZSwgdW5pcXVlQ2FjaGUsIG91dGVyQ2FjaGUsIG5vZGUsIG5vZGVJbmRleCwgc3RhcnQsXG5cdFx0XHRcdFx0XHRkaXIgPSBzaW1wbGUgIT09IGZvcndhcmQgPyBcIm5leHRTaWJsaW5nXCIgOiBcInByZXZpb3VzU2libGluZ1wiLFxuXHRcdFx0XHRcdFx0cGFyZW50ID0gZWxlbS5wYXJlbnROb2RlLFxuXHRcdFx0XHRcdFx0bmFtZSA9IG9mVHlwZSAmJiBlbGVtLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCksXG5cdFx0XHRcdFx0XHR1c2VDYWNoZSA9ICF4bWwgJiYgIW9mVHlwZSxcblx0XHRcdFx0XHRcdGRpZmYgPSBmYWxzZTtcblxuXHRcdFx0XHRcdGlmICggcGFyZW50ICkge1xuXG5cdFx0XHRcdFx0XHQvLyA6KGZpcnN0fGxhc3R8b25seSktKGNoaWxkfG9mLXR5cGUpXG5cdFx0XHRcdFx0XHRpZiAoIHNpbXBsZSApIHtcblx0XHRcdFx0XHRcdFx0d2hpbGUgKCBkaXIgKSB7XG5cdFx0XHRcdFx0XHRcdFx0bm9kZSA9IGVsZW07XG5cdFx0XHRcdFx0XHRcdFx0d2hpbGUgKCAobm9kZSA9IG5vZGVbIGRpciBdKSApIHtcblx0XHRcdFx0XHRcdFx0XHRcdGlmICggb2ZUeXBlID9cblx0XHRcdFx0XHRcdFx0XHRcdFx0bm9kZS5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpID09PSBuYW1lIDpcblx0XHRcdFx0XHRcdFx0XHRcdFx0bm9kZS5ub2RlVHlwZSA9PT0gMSApIHtcblxuXHRcdFx0XHRcdFx0XHRcdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0XHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0XHRcdC8vIFJldmVyc2UgZGlyZWN0aW9uIGZvciA6b25seS0qIChpZiB3ZSBoYXZlbid0IHlldCBkb25lIHNvKVxuXHRcdFx0XHRcdFx0XHRcdHN0YXJ0ID0gZGlyID0gdHlwZSA9PT0gXCJvbmx5XCIgJiYgIXN0YXJ0ICYmIFwibmV4dFNpYmxpbmdcIjtcblx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0XHRyZXR1cm4gdHJ1ZTtcblx0XHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdFx0c3RhcnQgPSBbIGZvcndhcmQgPyBwYXJlbnQuZmlyc3RDaGlsZCA6IHBhcmVudC5sYXN0Q2hpbGQgXTtcblxuXHRcdFx0XHRcdFx0Ly8gbm9uLXhtbCA6bnRoLWNoaWxkKC4uLikgc3RvcmVzIGNhY2hlIGRhdGEgb24gYHBhcmVudGBcblx0XHRcdFx0XHRcdGlmICggZm9yd2FyZCAmJiB1c2VDYWNoZSApIHtcblxuXHRcdFx0XHRcdFx0XHQvLyBTZWVrIGBlbGVtYCBmcm9tIGEgcHJldmlvdXNseS1jYWNoZWQgaW5kZXhcblxuXHRcdFx0XHRcdFx0XHQvLyAuLi5pbiBhIGd6aXAtZnJpZW5kbHkgd2F5XG5cdFx0XHRcdFx0XHRcdG5vZGUgPSBwYXJlbnQ7XG5cdFx0XHRcdFx0XHRcdG91dGVyQ2FjaGUgPSBub2RlWyBleHBhbmRvIF0gfHwgKG5vZGVbIGV4cGFuZG8gXSA9IHt9KTtcblxuXHRcdFx0XHRcdFx0XHQvLyBTdXBwb3J0OiBJRSA8OSBvbmx5XG5cdFx0XHRcdFx0XHRcdC8vIERlZmVuZCBhZ2FpbnN0IGNsb25lZCBhdHRyb3BlcnRpZXMgKGpRdWVyeSBnaC0xNzA5KVxuXHRcdFx0XHRcdFx0XHR1bmlxdWVDYWNoZSA9IG91dGVyQ2FjaGVbIG5vZGUudW5pcXVlSUQgXSB8fFxuXHRcdFx0XHRcdFx0XHRcdChvdXRlckNhY2hlWyBub2RlLnVuaXF1ZUlEIF0gPSB7fSk7XG5cblx0XHRcdFx0XHRcdFx0Y2FjaGUgPSB1bmlxdWVDYWNoZVsgdHlwZSBdIHx8IFtdO1xuXHRcdFx0XHRcdFx0XHRub2RlSW5kZXggPSBjYWNoZVsgMCBdID09PSBkaXJydW5zICYmIGNhY2hlWyAxIF07XG5cdFx0XHRcdFx0XHRcdGRpZmYgPSBub2RlSW5kZXggJiYgY2FjaGVbIDIgXTtcblx0XHRcdFx0XHRcdFx0bm9kZSA9IG5vZGVJbmRleCAmJiBwYXJlbnQuY2hpbGROb2Rlc1sgbm9kZUluZGV4IF07XG5cblx0XHRcdFx0XHRcdFx0d2hpbGUgKCAobm9kZSA9ICsrbm9kZUluZGV4ICYmIG5vZGUgJiYgbm9kZVsgZGlyIF0gfHxcblxuXHRcdFx0XHRcdFx0XHRcdC8vIEZhbGxiYWNrIHRvIHNlZWtpbmcgYGVsZW1gIGZyb20gdGhlIHN0YXJ0XG5cdFx0XHRcdFx0XHRcdFx0KGRpZmYgPSBub2RlSW5kZXggPSAwKSB8fCBzdGFydC5wb3AoKSkgKSB7XG5cblx0XHRcdFx0XHRcdFx0XHQvLyBXaGVuIGZvdW5kLCBjYWNoZSBpbmRleGVzIG9uIGBwYXJlbnRgIGFuZCBicmVha1xuXHRcdFx0XHRcdFx0XHRcdGlmICggbm9kZS5ub2RlVHlwZSA9PT0gMSAmJiArK2RpZmYgJiYgbm9kZSA9PT0gZWxlbSApIHtcblx0XHRcdFx0XHRcdFx0XHRcdHVuaXF1ZUNhY2hlWyB0eXBlIF0gPSBbIGRpcnJ1bnMsIG5vZGVJbmRleCwgZGlmZiBdO1xuXHRcdFx0XHRcdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0XHRcdC8vIFVzZSBwcmV2aW91c2x5LWNhY2hlZCBlbGVtZW50IGluZGV4IGlmIGF2YWlsYWJsZVxuXHRcdFx0XHRcdFx0XHRpZiAoIHVzZUNhY2hlICkge1xuXHRcdFx0XHRcdFx0XHRcdC8vIC4uLmluIGEgZ3ppcC1mcmllbmRseSB3YXlcblx0XHRcdFx0XHRcdFx0XHRub2RlID0gZWxlbTtcblx0XHRcdFx0XHRcdFx0XHRvdXRlckNhY2hlID0gbm9kZVsgZXhwYW5kbyBdIHx8IChub2RlWyBleHBhbmRvIF0gPSB7fSk7XG5cblx0XHRcdFx0XHRcdFx0XHQvLyBTdXBwb3J0OiBJRSA8OSBvbmx5XG5cdFx0XHRcdFx0XHRcdFx0Ly8gRGVmZW5kIGFnYWluc3QgY2xvbmVkIGF0dHJvcGVydGllcyAoalF1ZXJ5IGdoLTE3MDkpXG5cdFx0XHRcdFx0XHRcdFx0dW5pcXVlQ2FjaGUgPSBvdXRlckNhY2hlWyBub2RlLnVuaXF1ZUlEIF0gfHxcblx0XHRcdFx0XHRcdFx0XHRcdChvdXRlckNhY2hlWyBub2RlLnVuaXF1ZUlEIF0gPSB7fSk7XG5cblx0XHRcdFx0XHRcdFx0XHRjYWNoZSA9IHVuaXF1ZUNhY2hlWyB0eXBlIF0gfHwgW107XG5cdFx0XHRcdFx0XHRcdFx0bm9kZUluZGV4ID0gY2FjaGVbIDAgXSA9PT0gZGlycnVucyAmJiBjYWNoZVsgMSBdO1xuXHRcdFx0XHRcdFx0XHRcdGRpZmYgPSBub2RlSW5kZXg7XG5cdFx0XHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdFx0XHQvLyB4bWwgOm50aC1jaGlsZCguLi4pXG5cdFx0XHRcdFx0XHRcdC8vIG9yIDpudGgtbGFzdC1jaGlsZCguLi4pIG9yIDpudGgoLWxhc3QpPy1vZi10eXBlKC4uLilcblx0XHRcdFx0XHRcdFx0aWYgKCBkaWZmID09PSBmYWxzZSApIHtcblx0XHRcdFx0XHRcdFx0XHQvLyBVc2UgdGhlIHNhbWUgbG9vcCBhcyBhYm92ZSB0byBzZWVrIGBlbGVtYCBmcm9tIHRoZSBzdGFydFxuXHRcdFx0XHRcdFx0XHRcdHdoaWxlICggKG5vZGUgPSArK25vZGVJbmRleCAmJiBub2RlICYmIG5vZGVbIGRpciBdIHx8XG5cdFx0XHRcdFx0XHRcdFx0XHQoZGlmZiA9IG5vZGVJbmRleCA9IDApIHx8IHN0YXJ0LnBvcCgpKSApIHtcblxuXHRcdFx0XHRcdFx0XHRcdFx0aWYgKCAoIG9mVHlwZSA/XG5cdFx0XHRcdFx0XHRcdFx0XHRcdG5vZGUubm9kZU5hbWUudG9Mb3dlckNhc2UoKSA9PT0gbmFtZSA6XG5cdFx0XHRcdFx0XHRcdFx0XHRcdG5vZGUubm9kZVR5cGUgPT09IDEgKSAmJlxuXHRcdFx0XHRcdFx0XHRcdFx0XHQrK2RpZmYgKSB7XG5cblx0XHRcdFx0XHRcdFx0XHRcdFx0Ly8gQ2FjaGUgdGhlIGluZGV4IG9mIGVhY2ggZW5jb3VudGVyZWQgZWxlbWVudFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRpZiAoIHVzZUNhY2hlICkge1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdG91dGVyQ2FjaGUgPSBub2RlWyBleHBhbmRvIF0gfHwgKG5vZGVbIGV4cGFuZG8gXSA9IHt9KTtcblxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdC8vIFN1cHBvcnQ6IElFIDw5IG9ubHlcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHQvLyBEZWZlbmQgYWdhaW5zdCBjbG9uZWQgYXR0cm9wZXJ0aWVzIChqUXVlcnkgZ2gtMTcwOSlcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHR1bmlxdWVDYWNoZSA9IG91dGVyQ2FjaGVbIG5vZGUudW5pcXVlSUQgXSB8fFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0KG91dGVyQ2FjaGVbIG5vZGUudW5pcXVlSUQgXSA9IHt9KTtcblxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdHVuaXF1ZUNhY2hlWyB0eXBlIF0gPSBbIGRpcnJ1bnMsIGRpZmYgXTtcblx0XHRcdFx0XHRcdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0XHRcdFx0XHRcdGlmICggbm9kZSA9PT0gZWxlbSApIHtcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0XHQvLyBJbmNvcnBvcmF0ZSB0aGUgb2Zmc2V0LCB0aGVuIGNoZWNrIGFnYWluc3QgY3ljbGUgc2l6ZVxuXHRcdFx0XHRcdFx0ZGlmZiAtPSBsYXN0O1xuXHRcdFx0XHRcdFx0cmV0dXJuIGRpZmYgPT09IGZpcnN0IHx8ICggZGlmZiAlIGZpcnN0ID09PSAwICYmIGRpZmYgLyBmaXJzdCA+PSAwICk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9O1xuXHRcdH0sXG5cblx0XHRcIlBTRVVET1wiOiBmdW5jdGlvbiggcHNldWRvLCBhcmd1bWVudCApIHtcblx0XHRcdC8vIHBzZXVkby1jbGFzcyBuYW1lcyBhcmUgY2FzZS1pbnNlbnNpdGl2ZVxuXHRcdFx0Ly8gaHR0cDovL3d3dy53My5vcmcvVFIvc2VsZWN0b3JzLyNwc2V1ZG8tY2xhc3Nlc1xuXHRcdFx0Ly8gUHJpb3JpdGl6ZSBieSBjYXNlIHNlbnNpdGl2aXR5IGluIGNhc2UgY3VzdG9tIHBzZXVkb3MgYXJlIGFkZGVkIHdpdGggdXBwZXJjYXNlIGxldHRlcnNcblx0XHRcdC8vIFJlbWVtYmVyIHRoYXQgc2V0RmlsdGVycyBpbmhlcml0cyBmcm9tIHBzZXVkb3Ncblx0XHRcdHZhciBhcmdzLFxuXHRcdFx0XHRmbiA9IEV4cHIucHNldWRvc1sgcHNldWRvIF0gfHwgRXhwci5zZXRGaWx0ZXJzWyBwc2V1ZG8udG9Mb3dlckNhc2UoKSBdIHx8XG5cdFx0XHRcdFx0U2l6emxlLmVycm9yKCBcInVuc3VwcG9ydGVkIHBzZXVkbzogXCIgKyBwc2V1ZG8gKTtcblxuXHRcdFx0Ly8gVGhlIHVzZXIgbWF5IHVzZSBjcmVhdGVQc2V1ZG8gdG8gaW5kaWNhdGUgdGhhdFxuXHRcdFx0Ly8gYXJndW1lbnRzIGFyZSBuZWVkZWQgdG8gY3JlYXRlIHRoZSBmaWx0ZXIgZnVuY3Rpb25cblx0XHRcdC8vIGp1c3QgYXMgU2l6emxlIGRvZXNcblx0XHRcdGlmICggZm5bIGV4cGFuZG8gXSApIHtcblx0XHRcdFx0cmV0dXJuIGZuKCBhcmd1bWVudCApO1xuXHRcdFx0fVxuXG5cdFx0XHQvLyBCdXQgbWFpbnRhaW4gc3VwcG9ydCBmb3Igb2xkIHNpZ25hdHVyZXNcblx0XHRcdGlmICggZm4ubGVuZ3RoID4gMSApIHtcblx0XHRcdFx0YXJncyA9IFsgcHNldWRvLCBwc2V1ZG8sIFwiXCIsIGFyZ3VtZW50IF07XG5cdFx0XHRcdHJldHVybiBFeHByLnNldEZpbHRlcnMuaGFzT3duUHJvcGVydHkoIHBzZXVkby50b0xvd2VyQ2FzZSgpICkgP1xuXHRcdFx0XHRcdG1hcmtGdW5jdGlvbihmdW5jdGlvbiggc2VlZCwgbWF0Y2hlcyApIHtcblx0XHRcdFx0XHRcdHZhciBpZHgsXG5cdFx0XHRcdFx0XHRcdG1hdGNoZWQgPSBmbiggc2VlZCwgYXJndW1lbnQgKSxcblx0XHRcdFx0XHRcdFx0aSA9IG1hdGNoZWQubGVuZ3RoO1xuXHRcdFx0XHRcdFx0d2hpbGUgKCBpLS0gKSB7XG5cdFx0XHRcdFx0XHRcdGlkeCA9IGluZGV4T2YoIHNlZWQsIG1hdGNoZWRbaV0gKTtcblx0XHRcdFx0XHRcdFx0c2VlZFsgaWR4IF0gPSAhKCBtYXRjaGVzWyBpZHggXSA9IG1hdGNoZWRbaV0gKTtcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHR9KSA6XG5cdFx0XHRcdFx0ZnVuY3Rpb24oIGVsZW0gKSB7XG5cdFx0XHRcdFx0XHRyZXR1cm4gZm4oIGVsZW0sIDAsIGFyZ3MgKTtcblx0XHRcdFx0XHR9O1xuXHRcdFx0fVxuXG5cdFx0XHRyZXR1cm4gZm47XG5cdFx0fVxuXHR9LFxuXG5cdHBzZXVkb3M6IHtcblx0XHQvLyBQb3RlbnRpYWxseSBjb21wbGV4IHBzZXVkb3Ncblx0XHRcIm5vdFwiOiBtYXJrRnVuY3Rpb24oZnVuY3Rpb24oIHNlbGVjdG9yICkge1xuXHRcdFx0Ly8gVHJpbSB0aGUgc2VsZWN0b3IgcGFzc2VkIHRvIGNvbXBpbGVcblx0XHRcdC8vIHRvIGF2b2lkIHRyZWF0aW5nIGxlYWRpbmcgYW5kIHRyYWlsaW5nXG5cdFx0XHQvLyBzcGFjZXMgYXMgY29tYmluYXRvcnNcblx0XHRcdHZhciBpbnB1dCA9IFtdLFxuXHRcdFx0XHRyZXN1bHRzID0gW10sXG5cdFx0XHRcdG1hdGNoZXIgPSBjb21waWxlKCBzZWxlY3Rvci5yZXBsYWNlKCBydHJpbSwgXCIkMVwiICkgKTtcblxuXHRcdFx0cmV0dXJuIG1hdGNoZXJbIGV4cGFuZG8gXSA/XG5cdFx0XHRcdG1hcmtGdW5jdGlvbihmdW5jdGlvbiggc2VlZCwgbWF0Y2hlcywgY29udGV4dCwgeG1sICkge1xuXHRcdFx0XHRcdHZhciBlbGVtLFxuXHRcdFx0XHRcdFx0dW5tYXRjaGVkID0gbWF0Y2hlciggc2VlZCwgbnVsbCwgeG1sLCBbXSApLFxuXHRcdFx0XHRcdFx0aSA9IHNlZWQubGVuZ3RoO1xuXG5cdFx0XHRcdFx0Ly8gTWF0Y2ggZWxlbWVudHMgdW5tYXRjaGVkIGJ5IGBtYXRjaGVyYFxuXHRcdFx0XHRcdHdoaWxlICggaS0tICkge1xuXHRcdFx0XHRcdFx0aWYgKCAoZWxlbSA9IHVubWF0Y2hlZFtpXSkgKSB7XG5cdFx0XHRcdFx0XHRcdHNlZWRbaV0gPSAhKG1hdGNoZXNbaV0gPSBlbGVtKTtcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHR9XG5cdFx0XHRcdH0pIDpcblx0XHRcdFx0ZnVuY3Rpb24oIGVsZW0sIGNvbnRleHQsIHhtbCApIHtcblx0XHRcdFx0XHRpbnB1dFswXSA9IGVsZW07XG5cdFx0XHRcdFx0bWF0Y2hlciggaW5wdXQsIG51bGwsIHhtbCwgcmVzdWx0cyApO1xuXHRcdFx0XHRcdC8vIERvbid0IGtlZXAgdGhlIGVsZW1lbnQgKGlzc3VlICMyOTkpXG5cdFx0XHRcdFx0aW5wdXRbMF0gPSBudWxsO1xuXHRcdFx0XHRcdHJldHVybiAhcmVzdWx0cy5wb3AoKTtcblx0XHRcdFx0fTtcblx0XHR9KSxcblxuXHRcdFwiaGFzXCI6IG1hcmtGdW5jdGlvbihmdW5jdGlvbiggc2VsZWN0b3IgKSB7XG5cdFx0XHRyZXR1cm4gZnVuY3Rpb24oIGVsZW0gKSB7XG5cdFx0XHRcdHJldHVybiBTaXp6bGUoIHNlbGVjdG9yLCBlbGVtICkubGVuZ3RoID4gMDtcblx0XHRcdH07XG5cdFx0fSksXG5cblx0XHRcImNvbnRhaW5zXCI6IG1hcmtGdW5jdGlvbihmdW5jdGlvbiggdGV4dCApIHtcblx0XHRcdHRleHQgPSB0ZXh0LnJlcGxhY2UoIHJ1bmVzY2FwZSwgZnVuZXNjYXBlICk7XG5cdFx0XHRyZXR1cm4gZnVuY3Rpb24oIGVsZW0gKSB7XG5cdFx0XHRcdHJldHVybiAoIGVsZW0udGV4dENvbnRlbnQgfHwgZWxlbS5pbm5lclRleHQgfHwgZ2V0VGV4dCggZWxlbSApICkuaW5kZXhPZiggdGV4dCApID4gLTE7XG5cdFx0XHR9O1xuXHRcdH0pLFxuXG5cdFx0Ly8gXCJXaGV0aGVyIGFuIGVsZW1lbnQgaXMgcmVwcmVzZW50ZWQgYnkgYSA6bGFuZygpIHNlbGVjdG9yXG5cdFx0Ly8gaXMgYmFzZWQgc29sZWx5IG9uIHRoZSBlbGVtZW50J3MgbGFuZ3VhZ2UgdmFsdWVcblx0XHQvLyBiZWluZyBlcXVhbCB0byB0aGUgaWRlbnRpZmllciBDLFxuXHRcdC8vIG9yIGJlZ2lubmluZyB3aXRoIHRoZSBpZGVudGlmaWVyIEMgaW1tZWRpYXRlbHkgZm9sbG93ZWQgYnkgXCItXCIuXG5cdFx0Ly8gVGhlIG1hdGNoaW5nIG9mIEMgYWdhaW5zdCB0aGUgZWxlbWVudCdzIGxhbmd1YWdlIHZhbHVlIGlzIHBlcmZvcm1lZCBjYXNlLWluc2Vuc2l0aXZlbHkuXG5cdFx0Ly8gVGhlIGlkZW50aWZpZXIgQyBkb2VzIG5vdCBoYXZlIHRvIGJlIGEgdmFsaWQgbGFuZ3VhZ2UgbmFtZS5cIlxuXHRcdC8vIGh0dHA6Ly93d3cudzMub3JnL1RSL3NlbGVjdG9ycy8jbGFuZy1wc2V1ZG9cblx0XHRcImxhbmdcIjogbWFya0Z1bmN0aW9uKCBmdW5jdGlvbiggbGFuZyApIHtcblx0XHRcdC8vIGxhbmcgdmFsdWUgbXVzdCBiZSBhIHZhbGlkIGlkZW50aWZpZXJcblx0XHRcdGlmICggIXJpZGVudGlmaWVyLnRlc3QobGFuZyB8fCBcIlwiKSApIHtcblx0XHRcdFx0U2l6emxlLmVycm9yKCBcInVuc3VwcG9ydGVkIGxhbmc6IFwiICsgbGFuZyApO1xuXHRcdFx0fVxuXHRcdFx0bGFuZyA9IGxhbmcucmVwbGFjZSggcnVuZXNjYXBlLCBmdW5lc2NhcGUgKS50b0xvd2VyQ2FzZSgpO1xuXHRcdFx0cmV0dXJuIGZ1bmN0aW9uKCBlbGVtICkge1xuXHRcdFx0XHR2YXIgZWxlbUxhbmc7XG5cdFx0XHRcdGRvIHtcblx0XHRcdFx0XHRpZiAoIChlbGVtTGFuZyA9IGRvY3VtZW50SXNIVE1MID9cblx0XHRcdFx0XHRcdGVsZW0ubGFuZyA6XG5cdFx0XHRcdFx0XHRlbGVtLmdldEF0dHJpYnV0ZShcInhtbDpsYW5nXCIpIHx8IGVsZW0uZ2V0QXR0cmlidXRlKFwibGFuZ1wiKSkgKSB7XG5cblx0XHRcdFx0XHRcdGVsZW1MYW5nID0gZWxlbUxhbmcudG9Mb3dlckNhc2UoKTtcblx0XHRcdFx0XHRcdHJldHVybiBlbGVtTGFuZyA9PT0gbGFuZyB8fCBlbGVtTGFuZy5pbmRleE9mKCBsYW5nICsgXCItXCIgKSA9PT0gMDtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH0gd2hpbGUgKCAoZWxlbSA9IGVsZW0ucGFyZW50Tm9kZSkgJiYgZWxlbS5ub2RlVHlwZSA9PT0gMSApO1xuXHRcdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0XHR9O1xuXHRcdH0pLFxuXG5cdFx0Ly8gTWlzY2VsbGFuZW91c1xuXHRcdFwidGFyZ2V0XCI6IGZ1bmN0aW9uKCBlbGVtICkge1xuXHRcdFx0dmFyIGhhc2ggPSB3aW5kb3cubG9jYXRpb24gJiYgd2luZG93LmxvY2F0aW9uLmhhc2g7XG5cdFx0XHRyZXR1cm4gaGFzaCAmJiBoYXNoLnNsaWNlKCAxICkgPT09IGVsZW0uaWQ7XG5cdFx0fSxcblxuXHRcdFwicm9vdFwiOiBmdW5jdGlvbiggZWxlbSApIHtcblx0XHRcdHJldHVybiBlbGVtID09PSBkb2NFbGVtO1xuXHRcdH0sXG5cblx0XHRcImZvY3VzXCI6IGZ1bmN0aW9uKCBlbGVtICkge1xuXHRcdFx0cmV0dXJuIGVsZW0gPT09IGRvY3VtZW50LmFjdGl2ZUVsZW1lbnQgJiYgKCFkb2N1bWVudC5oYXNGb2N1cyB8fCBkb2N1bWVudC5oYXNGb2N1cygpKSAmJiAhIShlbGVtLnR5cGUgfHwgZWxlbS5ocmVmIHx8IH5lbGVtLnRhYkluZGV4KTtcblx0XHR9LFxuXG5cdFx0Ly8gQm9vbGVhbiBwcm9wZXJ0aWVzXG5cdFx0XCJlbmFibGVkXCI6IGNyZWF0ZURpc2FibGVkUHNldWRvKCBmYWxzZSApLFxuXHRcdFwiZGlzYWJsZWRcIjogY3JlYXRlRGlzYWJsZWRQc2V1ZG8oIHRydWUgKSxcblxuXHRcdFwiY2hlY2tlZFwiOiBmdW5jdGlvbiggZWxlbSApIHtcblx0XHRcdC8vIEluIENTUzMsIDpjaGVja2VkIHNob3VsZCByZXR1cm4gYm90aCBjaGVja2VkIGFuZCBzZWxlY3RlZCBlbGVtZW50c1xuXHRcdFx0Ly8gaHR0cDovL3d3dy53My5vcmcvVFIvMjAxMS9SRUMtY3NzMy1zZWxlY3RvcnMtMjAxMTA5MjkvI2NoZWNrZWRcblx0XHRcdHZhciBub2RlTmFtZSA9IGVsZW0ubm9kZU5hbWUudG9Mb3dlckNhc2UoKTtcblx0XHRcdHJldHVybiAobm9kZU5hbWUgPT09IFwiaW5wdXRcIiAmJiAhIWVsZW0uY2hlY2tlZCkgfHwgKG5vZGVOYW1lID09PSBcIm9wdGlvblwiICYmICEhZWxlbS5zZWxlY3RlZCk7XG5cdFx0fSxcblxuXHRcdFwic2VsZWN0ZWRcIjogZnVuY3Rpb24oIGVsZW0gKSB7XG5cdFx0XHQvLyBBY2Nlc3NpbmcgdGhpcyBwcm9wZXJ0eSBtYWtlcyBzZWxlY3RlZC1ieS1kZWZhdWx0XG5cdFx0XHQvLyBvcHRpb25zIGluIFNhZmFyaSB3b3JrIHByb3Blcmx5XG5cdFx0XHRpZiAoIGVsZW0ucGFyZW50Tm9kZSApIHtcblx0XHRcdFx0ZWxlbS5wYXJlbnROb2RlLnNlbGVjdGVkSW5kZXg7XG5cdFx0XHR9XG5cblx0XHRcdHJldHVybiBlbGVtLnNlbGVjdGVkID09PSB0cnVlO1xuXHRcdH0sXG5cblx0XHQvLyBDb250ZW50c1xuXHRcdFwiZW1wdHlcIjogZnVuY3Rpb24oIGVsZW0gKSB7XG5cdFx0XHQvLyBodHRwOi8vd3d3LnczLm9yZy9UUi9zZWxlY3RvcnMvI2VtcHR5LXBzZXVkb1xuXHRcdFx0Ly8gOmVtcHR5IGlzIG5lZ2F0ZWQgYnkgZWxlbWVudCAoMSkgb3IgY29udGVudCBub2RlcyAodGV4dDogMzsgY2RhdGE6IDQ7IGVudGl0eSByZWY6IDUpLFxuXHRcdFx0Ly8gICBidXQgbm90IGJ5IG90aGVycyAoY29tbWVudDogODsgcHJvY2Vzc2luZyBpbnN0cnVjdGlvbjogNzsgZXRjLilcblx0XHRcdC8vIG5vZGVUeXBlIDwgNiB3b3JrcyBiZWNhdXNlIGF0dHJpYnV0ZXMgKDIpIGRvIG5vdCBhcHBlYXIgYXMgY2hpbGRyZW5cblx0XHRcdGZvciAoIGVsZW0gPSBlbGVtLmZpcnN0Q2hpbGQ7IGVsZW07IGVsZW0gPSBlbGVtLm5leHRTaWJsaW5nICkge1xuXHRcdFx0XHRpZiAoIGVsZW0ubm9kZVR5cGUgPCA2ICkge1xuXHRcdFx0XHRcdHJldHVybiBmYWxzZTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdFx0cmV0dXJuIHRydWU7XG5cdFx0fSxcblxuXHRcdFwicGFyZW50XCI6IGZ1bmN0aW9uKCBlbGVtICkge1xuXHRcdFx0cmV0dXJuICFFeHByLnBzZXVkb3NbXCJlbXB0eVwiXSggZWxlbSApO1xuXHRcdH0sXG5cblx0XHQvLyBFbGVtZW50L2lucHV0IHR5cGVzXG5cdFx0XCJoZWFkZXJcIjogZnVuY3Rpb24oIGVsZW0gKSB7XG5cdFx0XHRyZXR1cm4gcmhlYWRlci50ZXN0KCBlbGVtLm5vZGVOYW1lICk7XG5cdFx0fSxcblxuXHRcdFwiaW5wdXRcIjogZnVuY3Rpb24oIGVsZW0gKSB7XG5cdFx0XHRyZXR1cm4gcmlucHV0cy50ZXN0KCBlbGVtLm5vZGVOYW1lICk7XG5cdFx0fSxcblxuXHRcdFwiYnV0dG9uXCI6IGZ1bmN0aW9uKCBlbGVtICkge1xuXHRcdFx0dmFyIG5hbWUgPSBlbGVtLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCk7XG5cdFx0XHRyZXR1cm4gbmFtZSA9PT0gXCJpbnB1dFwiICYmIGVsZW0udHlwZSA9PT0gXCJidXR0b25cIiB8fCBuYW1lID09PSBcImJ1dHRvblwiO1xuXHRcdH0sXG5cblx0XHRcInRleHRcIjogZnVuY3Rpb24oIGVsZW0gKSB7XG5cdFx0XHR2YXIgYXR0cjtcblx0XHRcdHJldHVybiBlbGVtLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCkgPT09IFwiaW5wdXRcIiAmJlxuXHRcdFx0XHRlbGVtLnR5cGUgPT09IFwidGV4dFwiICYmXG5cblx0XHRcdFx0Ly8gU3VwcG9ydDogSUU8OFxuXHRcdFx0XHQvLyBOZXcgSFRNTDUgYXR0cmlidXRlIHZhbHVlcyAoZS5nLiwgXCJzZWFyY2hcIikgYXBwZWFyIHdpdGggZWxlbS50eXBlID09PSBcInRleHRcIlxuXHRcdFx0XHQoIChhdHRyID0gZWxlbS5nZXRBdHRyaWJ1dGUoXCJ0eXBlXCIpKSA9PSBudWxsIHx8IGF0dHIudG9Mb3dlckNhc2UoKSA9PT0gXCJ0ZXh0XCIgKTtcblx0XHR9LFxuXG5cdFx0Ly8gUG9zaXRpb24taW4tY29sbGVjdGlvblxuXHRcdFwiZmlyc3RcIjogY3JlYXRlUG9zaXRpb25hbFBzZXVkbyhmdW5jdGlvbigpIHtcblx0XHRcdHJldHVybiBbIDAgXTtcblx0XHR9KSxcblxuXHRcdFwibGFzdFwiOiBjcmVhdGVQb3NpdGlvbmFsUHNldWRvKGZ1bmN0aW9uKCBtYXRjaEluZGV4ZXMsIGxlbmd0aCApIHtcblx0XHRcdHJldHVybiBbIGxlbmd0aCAtIDEgXTtcblx0XHR9KSxcblxuXHRcdFwiZXFcIjogY3JlYXRlUG9zaXRpb25hbFBzZXVkbyhmdW5jdGlvbiggbWF0Y2hJbmRleGVzLCBsZW5ndGgsIGFyZ3VtZW50ICkge1xuXHRcdFx0cmV0dXJuIFsgYXJndW1lbnQgPCAwID8gYXJndW1lbnQgKyBsZW5ndGggOiBhcmd1bWVudCBdO1xuXHRcdH0pLFxuXG5cdFx0XCJldmVuXCI6IGNyZWF0ZVBvc2l0aW9uYWxQc2V1ZG8oZnVuY3Rpb24oIG1hdGNoSW5kZXhlcywgbGVuZ3RoICkge1xuXHRcdFx0dmFyIGkgPSAwO1xuXHRcdFx0Zm9yICggOyBpIDwgbGVuZ3RoOyBpICs9IDIgKSB7XG5cdFx0XHRcdG1hdGNoSW5kZXhlcy5wdXNoKCBpICk7XG5cdFx0XHR9XG5cdFx0XHRyZXR1cm4gbWF0Y2hJbmRleGVzO1xuXHRcdH0pLFxuXG5cdFx0XCJvZGRcIjogY3JlYXRlUG9zaXRpb25hbFBzZXVkbyhmdW5jdGlvbiggbWF0Y2hJbmRleGVzLCBsZW5ndGggKSB7XG5cdFx0XHR2YXIgaSA9IDE7XG5cdFx0XHRmb3IgKCA7IGkgPCBsZW5ndGg7IGkgKz0gMiApIHtcblx0XHRcdFx0bWF0Y2hJbmRleGVzLnB1c2goIGkgKTtcblx0XHRcdH1cblx0XHRcdHJldHVybiBtYXRjaEluZGV4ZXM7XG5cdFx0fSksXG5cblx0XHRcImx0XCI6IGNyZWF0ZVBvc2l0aW9uYWxQc2V1ZG8oZnVuY3Rpb24oIG1hdGNoSW5kZXhlcywgbGVuZ3RoLCBhcmd1bWVudCApIHtcblx0XHRcdHZhciBpID0gYXJndW1lbnQgPCAwID8gYXJndW1lbnQgKyBsZW5ndGggOiBhcmd1bWVudDtcblx0XHRcdGZvciAoIDsgLS1pID49IDA7ICkge1xuXHRcdFx0XHRtYXRjaEluZGV4ZXMucHVzaCggaSApO1xuXHRcdFx0fVxuXHRcdFx0cmV0dXJuIG1hdGNoSW5kZXhlcztcblx0XHR9KSxcblxuXHRcdFwiZ3RcIjogY3JlYXRlUG9zaXRpb25hbFBzZXVkbyhmdW5jdGlvbiggbWF0Y2hJbmRleGVzLCBsZW5ndGgsIGFyZ3VtZW50ICkge1xuXHRcdFx0dmFyIGkgPSBhcmd1bWVudCA8IDAgPyBhcmd1bWVudCArIGxlbmd0aCA6IGFyZ3VtZW50O1xuXHRcdFx0Zm9yICggOyArK2kgPCBsZW5ndGg7ICkge1xuXHRcdFx0XHRtYXRjaEluZGV4ZXMucHVzaCggaSApO1xuXHRcdFx0fVxuXHRcdFx0cmV0dXJuIG1hdGNoSW5kZXhlcztcblx0XHR9KVxuXHR9XG59O1xuXG5FeHByLnBzZXVkb3NbXCJudGhcIl0gPSBFeHByLnBzZXVkb3NbXCJlcVwiXTtcblxuLy8gQWRkIGJ1dHRvbi9pbnB1dCB0eXBlIHBzZXVkb3NcbmZvciAoIGkgaW4geyByYWRpbzogdHJ1ZSwgY2hlY2tib3g6IHRydWUsIGZpbGU6IHRydWUsIHBhc3N3b3JkOiB0cnVlLCBpbWFnZTogdHJ1ZSB9ICkge1xuXHRFeHByLnBzZXVkb3NbIGkgXSA9IGNyZWF0ZUlucHV0UHNldWRvKCBpICk7XG59XG5mb3IgKCBpIGluIHsgc3VibWl0OiB0cnVlLCByZXNldDogdHJ1ZSB9ICkge1xuXHRFeHByLnBzZXVkb3NbIGkgXSA9IGNyZWF0ZUJ1dHRvblBzZXVkbyggaSApO1xufVxuXG4vLyBFYXN5IEFQSSBmb3IgY3JlYXRpbmcgbmV3IHNldEZpbHRlcnNcbmZ1bmN0aW9uIHNldEZpbHRlcnMoKSB7fVxuc2V0RmlsdGVycy5wcm90b3R5cGUgPSBFeHByLmZpbHRlcnMgPSBFeHByLnBzZXVkb3M7XG5FeHByLnNldEZpbHRlcnMgPSBuZXcgc2V0RmlsdGVycygpO1xuXG50b2tlbml6ZSA9IFNpenpsZS50b2tlbml6ZSA9IGZ1bmN0aW9uKCBzZWxlY3RvciwgcGFyc2VPbmx5ICkge1xuXHR2YXIgbWF0Y2hlZCwgbWF0Y2gsIHRva2VucywgdHlwZSxcblx0XHRzb0ZhciwgZ3JvdXBzLCBwcmVGaWx0ZXJzLFxuXHRcdGNhY2hlZCA9IHRva2VuQ2FjaGVbIHNlbGVjdG9yICsgXCIgXCIgXTtcblxuXHRpZiAoIGNhY2hlZCApIHtcblx0XHRyZXR1cm4gcGFyc2VPbmx5ID8gMCA6IGNhY2hlZC5zbGljZSggMCApO1xuXHR9XG5cblx0c29GYXIgPSBzZWxlY3Rvcjtcblx0Z3JvdXBzID0gW107XG5cdHByZUZpbHRlcnMgPSBFeHByLnByZUZpbHRlcjtcblxuXHR3aGlsZSAoIHNvRmFyICkge1xuXG5cdFx0Ly8gQ29tbWEgYW5kIGZpcnN0IHJ1blxuXHRcdGlmICggIW1hdGNoZWQgfHwgKG1hdGNoID0gcmNvbW1hLmV4ZWMoIHNvRmFyICkpICkge1xuXHRcdFx0aWYgKCBtYXRjaCApIHtcblx0XHRcdFx0Ly8gRG9uJ3QgY29uc3VtZSB0cmFpbGluZyBjb21tYXMgYXMgdmFsaWRcblx0XHRcdFx0c29GYXIgPSBzb0Zhci5zbGljZSggbWF0Y2hbMF0ubGVuZ3RoICkgfHwgc29GYXI7XG5cdFx0XHR9XG5cdFx0XHRncm91cHMucHVzaCggKHRva2VucyA9IFtdKSApO1xuXHRcdH1cblxuXHRcdG1hdGNoZWQgPSBmYWxzZTtcblxuXHRcdC8vIENvbWJpbmF0b3JzXG5cdFx0aWYgKCAobWF0Y2ggPSByY29tYmluYXRvcnMuZXhlYyggc29GYXIgKSkgKSB7XG5cdFx0XHRtYXRjaGVkID0gbWF0Y2guc2hpZnQoKTtcblx0XHRcdHRva2Vucy5wdXNoKHtcblx0XHRcdFx0dmFsdWU6IG1hdGNoZWQsXG5cdFx0XHRcdC8vIENhc3QgZGVzY2VuZGFudCBjb21iaW5hdG9ycyB0byBzcGFjZVxuXHRcdFx0XHR0eXBlOiBtYXRjaFswXS5yZXBsYWNlKCBydHJpbSwgXCIgXCIgKVxuXHRcdFx0fSk7XG5cdFx0XHRzb0ZhciA9IHNvRmFyLnNsaWNlKCBtYXRjaGVkLmxlbmd0aCApO1xuXHRcdH1cblxuXHRcdC8vIEZpbHRlcnNcblx0XHRmb3IgKCB0eXBlIGluIEV4cHIuZmlsdGVyICkge1xuXHRcdFx0aWYgKCAobWF0Y2ggPSBtYXRjaEV4cHJbIHR5cGUgXS5leGVjKCBzb0ZhciApKSAmJiAoIXByZUZpbHRlcnNbIHR5cGUgXSB8fFxuXHRcdFx0XHQobWF0Y2ggPSBwcmVGaWx0ZXJzWyB0eXBlIF0oIG1hdGNoICkpKSApIHtcblx0XHRcdFx0bWF0Y2hlZCA9IG1hdGNoLnNoaWZ0KCk7XG5cdFx0XHRcdHRva2Vucy5wdXNoKHtcblx0XHRcdFx0XHR2YWx1ZTogbWF0Y2hlZCxcblx0XHRcdFx0XHR0eXBlOiB0eXBlLFxuXHRcdFx0XHRcdG1hdGNoZXM6IG1hdGNoXG5cdFx0XHRcdH0pO1xuXHRcdFx0XHRzb0ZhciA9IHNvRmFyLnNsaWNlKCBtYXRjaGVkLmxlbmd0aCApO1xuXHRcdFx0fVxuXHRcdH1cblxuXHRcdGlmICggIW1hdGNoZWQgKSB7XG5cdFx0XHRicmVhaztcblx0XHR9XG5cdH1cblxuXHQvLyBSZXR1cm4gdGhlIGxlbmd0aCBvZiB0aGUgaW52YWxpZCBleGNlc3Ncblx0Ly8gaWYgd2UncmUganVzdCBwYXJzaW5nXG5cdC8vIE90aGVyd2lzZSwgdGhyb3cgYW4gZXJyb3Igb3IgcmV0dXJuIHRva2Vuc1xuXHRyZXR1cm4gcGFyc2VPbmx5ID9cblx0XHRzb0Zhci5sZW5ndGggOlxuXHRcdHNvRmFyID9cblx0XHRcdFNpenpsZS5lcnJvciggc2VsZWN0b3IgKSA6XG5cdFx0XHQvLyBDYWNoZSB0aGUgdG9rZW5zXG5cdFx0XHR0b2tlbkNhY2hlKCBzZWxlY3RvciwgZ3JvdXBzICkuc2xpY2UoIDAgKTtcbn07XG5cbmZ1bmN0aW9uIHRvU2VsZWN0b3IoIHRva2VucyApIHtcblx0dmFyIGkgPSAwLFxuXHRcdGxlbiA9IHRva2Vucy5sZW5ndGgsXG5cdFx0c2VsZWN0b3IgPSBcIlwiO1xuXHRmb3IgKCA7IGkgPCBsZW47IGkrKyApIHtcblx0XHRzZWxlY3RvciArPSB0b2tlbnNbaV0udmFsdWU7XG5cdH1cblx0cmV0dXJuIHNlbGVjdG9yO1xufVxuXG5mdW5jdGlvbiBhZGRDb21iaW5hdG9yKCBtYXRjaGVyLCBjb21iaW5hdG9yLCBiYXNlICkge1xuXHR2YXIgZGlyID0gY29tYmluYXRvci5kaXIsXG5cdFx0c2tpcCA9IGNvbWJpbmF0b3IubmV4dCxcblx0XHRrZXkgPSBza2lwIHx8IGRpcixcblx0XHRjaGVja05vbkVsZW1lbnRzID0gYmFzZSAmJiBrZXkgPT09IFwicGFyZW50Tm9kZVwiLFxuXHRcdGRvbmVOYW1lID0gZG9uZSsrO1xuXG5cdHJldHVybiBjb21iaW5hdG9yLmZpcnN0ID9cblx0XHQvLyBDaGVjayBhZ2FpbnN0IGNsb3Nlc3QgYW5jZXN0b3IvcHJlY2VkaW5nIGVsZW1lbnRcblx0XHRmdW5jdGlvbiggZWxlbSwgY29udGV4dCwgeG1sICkge1xuXHRcdFx0d2hpbGUgKCAoZWxlbSA9IGVsZW1bIGRpciBdKSApIHtcblx0XHRcdFx0aWYgKCBlbGVtLm5vZGVUeXBlID09PSAxIHx8IGNoZWNrTm9uRWxlbWVudHMgKSB7XG5cdFx0XHRcdFx0cmV0dXJuIG1hdGNoZXIoIGVsZW0sIGNvbnRleHQsIHhtbCApO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0fSA6XG5cblx0XHQvLyBDaGVjayBhZ2FpbnN0IGFsbCBhbmNlc3Rvci9wcmVjZWRpbmcgZWxlbWVudHNcblx0XHRmdW5jdGlvbiggZWxlbSwgY29udGV4dCwgeG1sICkge1xuXHRcdFx0dmFyIG9sZENhY2hlLCB1bmlxdWVDYWNoZSwgb3V0ZXJDYWNoZSxcblx0XHRcdFx0bmV3Q2FjaGUgPSBbIGRpcnJ1bnMsIGRvbmVOYW1lIF07XG5cblx0XHRcdC8vIFdlIGNhbid0IHNldCBhcmJpdHJhcnkgZGF0YSBvbiBYTUwgbm9kZXMsIHNvIHRoZXkgZG9uJ3QgYmVuZWZpdCBmcm9tIGNvbWJpbmF0b3IgY2FjaGluZ1xuXHRcdFx0aWYgKCB4bWwgKSB7XG5cdFx0XHRcdHdoaWxlICggKGVsZW0gPSBlbGVtWyBkaXIgXSkgKSB7XG5cdFx0XHRcdFx0aWYgKCBlbGVtLm5vZGVUeXBlID09PSAxIHx8IGNoZWNrTm9uRWxlbWVudHMgKSB7XG5cdFx0XHRcdFx0XHRpZiAoIG1hdGNoZXIoIGVsZW0sIGNvbnRleHQsIHhtbCApICkge1xuXHRcdFx0XHRcdFx0XHRyZXR1cm4gdHJ1ZTtcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdHdoaWxlICggKGVsZW0gPSBlbGVtWyBkaXIgXSkgKSB7XG5cdFx0XHRcdFx0aWYgKCBlbGVtLm5vZGVUeXBlID09PSAxIHx8IGNoZWNrTm9uRWxlbWVudHMgKSB7XG5cdFx0XHRcdFx0XHRvdXRlckNhY2hlID0gZWxlbVsgZXhwYW5kbyBdIHx8IChlbGVtWyBleHBhbmRvIF0gPSB7fSk7XG5cblx0XHRcdFx0XHRcdC8vIFN1cHBvcnQ6IElFIDw5IG9ubHlcblx0XHRcdFx0XHRcdC8vIERlZmVuZCBhZ2FpbnN0IGNsb25lZCBhdHRyb3BlcnRpZXMgKGpRdWVyeSBnaC0xNzA5KVxuXHRcdFx0XHRcdFx0dW5pcXVlQ2FjaGUgPSBvdXRlckNhY2hlWyBlbGVtLnVuaXF1ZUlEIF0gfHwgKG91dGVyQ2FjaGVbIGVsZW0udW5pcXVlSUQgXSA9IHt9KTtcblxuXHRcdFx0XHRcdFx0aWYgKCBza2lwICYmIHNraXAgPT09IGVsZW0ubm9kZU5hbWUudG9Mb3dlckNhc2UoKSApIHtcblx0XHRcdFx0XHRcdFx0ZWxlbSA9IGVsZW1bIGRpciBdIHx8IGVsZW07XG5cdFx0XHRcdFx0XHR9IGVsc2UgaWYgKCAob2xkQ2FjaGUgPSB1bmlxdWVDYWNoZVsga2V5IF0pICYmXG5cdFx0XHRcdFx0XHRcdG9sZENhY2hlWyAwIF0gPT09IGRpcnJ1bnMgJiYgb2xkQ2FjaGVbIDEgXSA9PT0gZG9uZU5hbWUgKSB7XG5cblx0XHRcdFx0XHRcdFx0Ly8gQXNzaWduIHRvIG5ld0NhY2hlIHNvIHJlc3VsdHMgYmFjay1wcm9wYWdhdGUgdG8gcHJldmlvdXMgZWxlbWVudHNcblx0XHRcdFx0XHRcdFx0cmV0dXJuIChuZXdDYWNoZVsgMiBdID0gb2xkQ2FjaGVbIDIgXSk7XG5cdFx0XHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdFx0XHQvLyBSZXVzZSBuZXdjYWNoZSBzbyByZXN1bHRzIGJhY2stcHJvcGFnYXRlIHRvIHByZXZpb3VzIGVsZW1lbnRzXG5cdFx0XHRcdFx0XHRcdHVuaXF1ZUNhY2hlWyBrZXkgXSA9IG5ld0NhY2hlO1xuXG5cdFx0XHRcdFx0XHRcdC8vIEEgbWF0Y2ggbWVhbnMgd2UncmUgZG9uZTsgYSBmYWlsIG1lYW5zIHdlIGhhdmUgdG8ga2VlcCBjaGVja2luZ1xuXHRcdFx0XHRcdFx0XHRpZiAoIChuZXdDYWNoZVsgMiBdID0gbWF0Y2hlciggZWxlbSwgY29udGV4dCwgeG1sICkpICkge1xuXHRcdFx0XHRcdFx0XHRcdHJldHVybiB0cnVlO1xuXHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0fTtcbn1cblxuZnVuY3Rpb24gZWxlbWVudE1hdGNoZXIoIG1hdGNoZXJzICkge1xuXHRyZXR1cm4gbWF0Y2hlcnMubGVuZ3RoID4gMSA/XG5cdFx0ZnVuY3Rpb24oIGVsZW0sIGNvbnRleHQsIHhtbCApIHtcblx0XHRcdHZhciBpID0gbWF0Y2hlcnMubGVuZ3RoO1xuXHRcdFx0d2hpbGUgKCBpLS0gKSB7XG5cdFx0XHRcdGlmICggIW1hdGNoZXJzW2ldKCBlbGVtLCBjb250ZXh0LCB4bWwgKSApIHtcblx0XHRcdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHRcdHJldHVybiB0cnVlO1xuXHRcdH0gOlxuXHRcdG1hdGNoZXJzWzBdO1xufVxuXG5mdW5jdGlvbiBtdWx0aXBsZUNvbnRleHRzKCBzZWxlY3RvciwgY29udGV4dHMsIHJlc3VsdHMgKSB7XG5cdHZhciBpID0gMCxcblx0XHRsZW4gPSBjb250ZXh0cy5sZW5ndGg7XG5cdGZvciAoIDsgaSA8IGxlbjsgaSsrICkge1xuXHRcdFNpenpsZSggc2VsZWN0b3IsIGNvbnRleHRzW2ldLCByZXN1bHRzICk7XG5cdH1cblx0cmV0dXJuIHJlc3VsdHM7XG59XG5cbmZ1bmN0aW9uIGNvbmRlbnNlKCB1bm1hdGNoZWQsIG1hcCwgZmlsdGVyLCBjb250ZXh0LCB4bWwgKSB7XG5cdHZhciBlbGVtLFxuXHRcdG5ld1VubWF0Y2hlZCA9IFtdLFxuXHRcdGkgPSAwLFxuXHRcdGxlbiA9IHVubWF0Y2hlZC5sZW5ndGgsXG5cdFx0bWFwcGVkID0gbWFwICE9IG51bGw7XG5cblx0Zm9yICggOyBpIDwgbGVuOyBpKysgKSB7XG5cdFx0aWYgKCAoZWxlbSA9IHVubWF0Y2hlZFtpXSkgKSB7XG5cdFx0XHRpZiAoICFmaWx0ZXIgfHwgZmlsdGVyKCBlbGVtLCBjb250ZXh0LCB4bWwgKSApIHtcblx0XHRcdFx0bmV3VW5tYXRjaGVkLnB1c2goIGVsZW0gKTtcblx0XHRcdFx0aWYgKCBtYXBwZWQgKSB7XG5cdFx0XHRcdFx0bWFwLnB1c2goIGkgKTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH1cblx0fVxuXG5cdHJldHVybiBuZXdVbm1hdGNoZWQ7XG59XG5cbmZ1bmN0aW9uIHNldE1hdGNoZXIoIHByZUZpbHRlciwgc2VsZWN0b3IsIG1hdGNoZXIsIHBvc3RGaWx0ZXIsIHBvc3RGaW5kZXIsIHBvc3RTZWxlY3RvciApIHtcblx0aWYgKCBwb3N0RmlsdGVyICYmICFwb3N0RmlsdGVyWyBleHBhbmRvIF0gKSB7XG5cdFx0cG9zdEZpbHRlciA9IHNldE1hdGNoZXIoIHBvc3RGaWx0ZXIgKTtcblx0fVxuXHRpZiAoIHBvc3RGaW5kZXIgJiYgIXBvc3RGaW5kZXJbIGV4cGFuZG8gXSApIHtcblx0XHRwb3N0RmluZGVyID0gc2V0TWF0Y2hlciggcG9zdEZpbmRlciwgcG9zdFNlbGVjdG9yICk7XG5cdH1cblx0cmV0dXJuIG1hcmtGdW5jdGlvbihmdW5jdGlvbiggc2VlZCwgcmVzdWx0cywgY29udGV4dCwgeG1sICkge1xuXHRcdHZhciB0ZW1wLCBpLCBlbGVtLFxuXHRcdFx0cHJlTWFwID0gW10sXG5cdFx0XHRwb3N0TWFwID0gW10sXG5cdFx0XHRwcmVleGlzdGluZyA9IHJlc3VsdHMubGVuZ3RoLFxuXG5cdFx0XHQvLyBHZXQgaW5pdGlhbCBlbGVtZW50cyBmcm9tIHNlZWQgb3IgY29udGV4dFxuXHRcdFx0ZWxlbXMgPSBzZWVkIHx8IG11bHRpcGxlQ29udGV4dHMoIHNlbGVjdG9yIHx8IFwiKlwiLCBjb250ZXh0Lm5vZGVUeXBlID8gWyBjb250ZXh0IF0gOiBjb250ZXh0LCBbXSApLFxuXG5cdFx0XHQvLyBQcmVmaWx0ZXIgdG8gZ2V0IG1hdGNoZXIgaW5wdXQsIHByZXNlcnZpbmcgYSBtYXAgZm9yIHNlZWQtcmVzdWx0cyBzeW5jaHJvbml6YXRpb25cblx0XHRcdG1hdGNoZXJJbiA9IHByZUZpbHRlciAmJiAoIHNlZWQgfHwgIXNlbGVjdG9yICkgP1xuXHRcdFx0XHRjb25kZW5zZSggZWxlbXMsIHByZU1hcCwgcHJlRmlsdGVyLCBjb250ZXh0LCB4bWwgKSA6XG5cdFx0XHRcdGVsZW1zLFxuXG5cdFx0XHRtYXRjaGVyT3V0ID0gbWF0Y2hlciA/XG5cdFx0XHRcdC8vIElmIHdlIGhhdmUgYSBwb3N0RmluZGVyLCBvciBmaWx0ZXJlZCBzZWVkLCBvciBub24tc2VlZCBwb3N0RmlsdGVyIG9yIHByZWV4aXN0aW5nIHJlc3VsdHMsXG5cdFx0XHRcdHBvc3RGaW5kZXIgfHwgKCBzZWVkID8gcHJlRmlsdGVyIDogcHJlZXhpc3RpbmcgfHwgcG9zdEZpbHRlciApID9cblxuXHRcdFx0XHRcdC8vIC4uLmludGVybWVkaWF0ZSBwcm9jZXNzaW5nIGlzIG5lY2Vzc2FyeVxuXHRcdFx0XHRcdFtdIDpcblxuXHRcdFx0XHRcdC8vIC4uLm90aGVyd2lzZSB1c2UgcmVzdWx0cyBkaXJlY3RseVxuXHRcdFx0XHRcdHJlc3VsdHMgOlxuXHRcdFx0XHRtYXRjaGVySW47XG5cblx0XHQvLyBGaW5kIHByaW1hcnkgbWF0Y2hlc1xuXHRcdGlmICggbWF0Y2hlciApIHtcblx0XHRcdG1hdGNoZXIoIG1hdGNoZXJJbiwgbWF0Y2hlck91dCwgY29udGV4dCwgeG1sICk7XG5cdFx0fVxuXG5cdFx0Ly8gQXBwbHkgcG9zdEZpbHRlclxuXHRcdGlmICggcG9zdEZpbHRlciApIHtcblx0XHRcdHRlbXAgPSBjb25kZW5zZSggbWF0Y2hlck91dCwgcG9zdE1hcCApO1xuXHRcdFx0cG9zdEZpbHRlciggdGVtcCwgW10sIGNvbnRleHQsIHhtbCApO1xuXG5cdFx0XHQvLyBVbi1tYXRjaCBmYWlsaW5nIGVsZW1lbnRzIGJ5IG1vdmluZyB0aGVtIGJhY2sgdG8gbWF0Y2hlckluXG5cdFx0XHRpID0gdGVtcC5sZW5ndGg7XG5cdFx0XHR3aGlsZSAoIGktLSApIHtcblx0XHRcdFx0aWYgKCAoZWxlbSA9IHRlbXBbaV0pICkge1xuXHRcdFx0XHRcdG1hdGNoZXJPdXRbIHBvc3RNYXBbaV0gXSA9ICEobWF0Y2hlckluWyBwb3N0TWFwW2ldIF0gPSBlbGVtKTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH1cblxuXHRcdGlmICggc2VlZCApIHtcblx0XHRcdGlmICggcG9zdEZpbmRlciB8fCBwcmVGaWx0ZXIgKSB7XG5cdFx0XHRcdGlmICggcG9zdEZpbmRlciApIHtcblx0XHRcdFx0XHQvLyBHZXQgdGhlIGZpbmFsIG1hdGNoZXJPdXQgYnkgY29uZGVuc2luZyB0aGlzIGludGVybWVkaWF0ZSBpbnRvIHBvc3RGaW5kZXIgY29udGV4dHNcblx0XHRcdFx0XHR0ZW1wID0gW107XG5cdFx0XHRcdFx0aSA9IG1hdGNoZXJPdXQubGVuZ3RoO1xuXHRcdFx0XHRcdHdoaWxlICggaS0tICkge1xuXHRcdFx0XHRcdFx0aWYgKCAoZWxlbSA9IG1hdGNoZXJPdXRbaV0pICkge1xuXHRcdFx0XHRcdFx0XHQvLyBSZXN0b3JlIG1hdGNoZXJJbiBzaW5jZSBlbGVtIGlzIG5vdCB5ZXQgYSBmaW5hbCBtYXRjaFxuXHRcdFx0XHRcdFx0XHR0ZW1wLnB1c2goIChtYXRjaGVySW5baV0gPSBlbGVtKSApO1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdH1cblx0XHRcdFx0XHRwb3N0RmluZGVyKCBudWxsLCAobWF0Y2hlck91dCA9IFtdKSwgdGVtcCwgeG1sICk7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHQvLyBNb3ZlIG1hdGNoZWQgZWxlbWVudHMgZnJvbSBzZWVkIHRvIHJlc3VsdHMgdG8ga2VlcCB0aGVtIHN5bmNocm9uaXplZFxuXHRcdFx0XHRpID0gbWF0Y2hlck91dC5sZW5ndGg7XG5cdFx0XHRcdHdoaWxlICggaS0tICkge1xuXHRcdFx0XHRcdGlmICggKGVsZW0gPSBtYXRjaGVyT3V0W2ldKSAmJlxuXHRcdFx0XHRcdFx0KHRlbXAgPSBwb3N0RmluZGVyID8gaW5kZXhPZiggc2VlZCwgZWxlbSApIDogcHJlTWFwW2ldKSA+IC0xICkge1xuXG5cdFx0XHRcdFx0XHRzZWVkW3RlbXBdID0gIShyZXN1bHRzW3RlbXBdID0gZWxlbSk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cdFx0XHR9XG5cblx0XHQvLyBBZGQgZWxlbWVudHMgdG8gcmVzdWx0cywgdGhyb3VnaCBwb3N0RmluZGVyIGlmIGRlZmluZWRcblx0XHR9IGVsc2Uge1xuXHRcdFx0bWF0Y2hlck91dCA9IGNvbmRlbnNlKFxuXHRcdFx0XHRtYXRjaGVyT3V0ID09PSByZXN1bHRzID9cblx0XHRcdFx0XHRtYXRjaGVyT3V0LnNwbGljZSggcHJlZXhpc3RpbmcsIG1hdGNoZXJPdXQubGVuZ3RoICkgOlxuXHRcdFx0XHRcdG1hdGNoZXJPdXRcblx0XHRcdCk7XG5cdFx0XHRpZiAoIHBvc3RGaW5kZXIgKSB7XG5cdFx0XHRcdHBvc3RGaW5kZXIoIG51bGwsIHJlc3VsdHMsIG1hdGNoZXJPdXQsIHhtbCApO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0cHVzaC5hcHBseSggcmVzdWx0cywgbWF0Y2hlck91dCApO1xuXHRcdFx0fVxuXHRcdH1cblx0fSk7XG59XG5cbmZ1bmN0aW9uIG1hdGNoZXJGcm9tVG9rZW5zKCB0b2tlbnMgKSB7XG5cdHZhciBjaGVja0NvbnRleHQsIG1hdGNoZXIsIGosXG5cdFx0bGVuID0gdG9rZW5zLmxlbmd0aCxcblx0XHRsZWFkaW5nUmVsYXRpdmUgPSBFeHByLnJlbGF0aXZlWyB0b2tlbnNbMF0udHlwZSBdLFxuXHRcdGltcGxpY2l0UmVsYXRpdmUgPSBsZWFkaW5nUmVsYXRpdmUgfHwgRXhwci5yZWxhdGl2ZVtcIiBcIl0sXG5cdFx0aSA9IGxlYWRpbmdSZWxhdGl2ZSA/IDEgOiAwLFxuXG5cdFx0Ly8gVGhlIGZvdW5kYXRpb25hbCBtYXRjaGVyIGVuc3VyZXMgdGhhdCBlbGVtZW50cyBhcmUgcmVhY2hhYmxlIGZyb20gdG9wLWxldmVsIGNvbnRleHQocylcblx0XHRtYXRjaENvbnRleHQgPSBhZGRDb21iaW5hdG9yKCBmdW5jdGlvbiggZWxlbSApIHtcblx0XHRcdHJldHVybiBlbGVtID09PSBjaGVja0NvbnRleHQ7XG5cdFx0fSwgaW1wbGljaXRSZWxhdGl2ZSwgdHJ1ZSApLFxuXHRcdG1hdGNoQW55Q29udGV4dCA9IGFkZENvbWJpbmF0b3IoIGZ1bmN0aW9uKCBlbGVtICkge1xuXHRcdFx0cmV0dXJuIGluZGV4T2YoIGNoZWNrQ29udGV4dCwgZWxlbSApID4gLTE7XG5cdFx0fSwgaW1wbGljaXRSZWxhdGl2ZSwgdHJ1ZSApLFxuXHRcdG1hdGNoZXJzID0gWyBmdW5jdGlvbiggZWxlbSwgY29udGV4dCwgeG1sICkge1xuXHRcdFx0dmFyIHJldCA9ICggIWxlYWRpbmdSZWxhdGl2ZSAmJiAoIHhtbCB8fCBjb250ZXh0ICE9PSBvdXRlcm1vc3RDb250ZXh0ICkgKSB8fCAoXG5cdFx0XHRcdChjaGVja0NvbnRleHQgPSBjb250ZXh0KS5ub2RlVHlwZSA/XG5cdFx0XHRcdFx0bWF0Y2hDb250ZXh0KCBlbGVtLCBjb250ZXh0LCB4bWwgKSA6XG5cdFx0XHRcdFx0bWF0Y2hBbnlDb250ZXh0KCBlbGVtLCBjb250ZXh0LCB4bWwgKSApO1xuXHRcdFx0Ly8gQXZvaWQgaGFuZ2luZyBvbnRvIGVsZW1lbnQgKGlzc3VlICMyOTkpXG5cdFx0XHRjaGVja0NvbnRleHQgPSBudWxsO1xuXHRcdFx0cmV0dXJuIHJldDtcblx0XHR9IF07XG5cblx0Zm9yICggOyBpIDwgbGVuOyBpKysgKSB7XG5cdFx0aWYgKCAobWF0Y2hlciA9IEV4cHIucmVsYXRpdmVbIHRva2Vuc1tpXS50eXBlIF0pICkge1xuXHRcdFx0bWF0Y2hlcnMgPSBbIGFkZENvbWJpbmF0b3IoZWxlbWVudE1hdGNoZXIoIG1hdGNoZXJzICksIG1hdGNoZXIpIF07XG5cdFx0fSBlbHNlIHtcblx0XHRcdG1hdGNoZXIgPSBFeHByLmZpbHRlclsgdG9rZW5zW2ldLnR5cGUgXS5hcHBseSggbnVsbCwgdG9rZW5zW2ldLm1hdGNoZXMgKTtcblxuXHRcdFx0Ly8gUmV0dXJuIHNwZWNpYWwgdXBvbiBzZWVpbmcgYSBwb3NpdGlvbmFsIG1hdGNoZXJcblx0XHRcdGlmICggbWF0Y2hlclsgZXhwYW5kbyBdICkge1xuXHRcdFx0XHQvLyBGaW5kIHRoZSBuZXh0IHJlbGF0aXZlIG9wZXJhdG9yIChpZiBhbnkpIGZvciBwcm9wZXIgaGFuZGxpbmdcblx0XHRcdFx0aiA9ICsraTtcblx0XHRcdFx0Zm9yICggOyBqIDwgbGVuOyBqKysgKSB7XG5cdFx0XHRcdFx0aWYgKCBFeHByLnJlbGF0aXZlWyB0b2tlbnNbal0udHlwZSBdICkge1xuXHRcdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cdFx0XHRcdHJldHVybiBzZXRNYXRjaGVyKFxuXHRcdFx0XHRcdGkgPiAxICYmIGVsZW1lbnRNYXRjaGVyKCBtYXRjaGVycyApLFxuXHRcdFx0XHRcdGkgPiAxICYmIHRvU2VsZWN0b3IoXG5cdFx0XHRcdFx0XHQvLyBJZiB0aGUgcHJlY2VkaW5nIHRva2VuIHdhcyBhIGRlc2NlbmRhbnQgY29tYmluYXRvciwgaW5zZXJ0IGFuIGltcGxpY2l0IGFueS1lbGVtZW50IGAqYFxuXHRcdFx0XHRcdFx0dG9rZW5zLnNsaWNlKCAwLCBpIC0gMSApLmNvbmNhdCh7IHZhbHVlOiB0b2tlbnNbIGkgLSAyIF0udHlwZSA9PT0gXCIgXCIgPyBcIipcIiA6IFwiXCIgfSlcblx0XHRcdFx0XHQpLnJlcGxhY2UoIHJ0cmltLCBcIiQxXCIgKSxcblx0XHRcdFx0XHRtYXRjaGVyLFxuXHRcdFx0XHRcdGkgPCBqICYmIG1hdGNoZXJGcm9tVG9rZW5zKCB0b2tlbnMuc2xpY2UoIGksIGogKSApLFxuXHRcdFx0XHRcdGogPCBsZW4gJiYgbWF0Y2hlckZyb21Ub2tlbnMoICh0b2tlbnMgPSB0b2tlbnMuc2xpY2UoIGogKSkgKSxcblx0XHRcdFx0XHRqIDwgbGVuICYmIHRvU2VsZWN0b3IoIHRva2VucyApXG5cdFx0XHRcdCk7XG5cdFx0XHR9XG5cdFx0XHRtYXRjaGVycy5wdXNoKCBtYXRjaGVyICk7XG5cdFx0fVxuXHR9XG5cblx0cmV0dXJuIGVsZW1lbnRNYXRjaGVyKCBtYXRjaGVycyApO1xufVxuXG5mdW5jdGlvbiBtYXRjaGVyRnJvbUdyb3VwTWF0Y2hlcnMoIGVsZW1lbnRNYXRjaGVycywgc2V0TWF0Y2hlcnMgKSB7XG5cdHZhciBieVNldCA9IHNldE1hdGNoZXJzLmxlbmd0aCA+IDAsXG5cdFx0YnlFbGVtZW50ID0gZWxlbWVudE1hdGNoZXJzLmxlbmd0aCA+IDAsXG5cdFx0c3VwZXJNYXRjaGVyID0gZnVuY3Rpb24oIHNlZWQsIGNvbnRleHQsIHhtbCwgcmVzdWx0cywgb3V0ZXJtb3N0ICkge1xuXHRcdFx0dmFyIGVsZW0sIGosIG1hdGNoZXIsXG5cdFx0XHRcdG1hdGNoZWRDb3VudCA9IDAsXG5cdFx0XHRcdGkgPSBcIjBcIixcblx0XHRcdFx0dW5tYXRjaGVkID0gc2VlZCAmJiBbXSxcblx0XHRcdFx0c2V0TWF0Y2hlZCA9IFtdLFxuXHRcdFx0XHRjb250ZXh0QmFja3VwID0gb3V0ZXJtb3N0Q29udGV4dCxcblx0XHRcdFx0Ly8gV2UgbXVzdCBhbHdheXMgaGF2ZSBlaXRoZXIgc2VlZCBlbGVtZW50cyBvciBvdXRlcm1vc3QgY29udGV4dFxuXHRcdFx0XHRlbGVtcyA9IHNlZWQgfHwgYnlFbGVtZW50ICYmIEV4cHIuZmluZFtcIlRBR1wiXSggXCIqXCIsIG91dGVybW9zdCApLFxuXHRcdFx0XHQvLyBVc2UgaW50ZWdlciBkaXJydW5zIGlmZiB0aGlzIGlzIHRoZSBvdXRlcm1vc3QgbWF0Y2hlclxuXHRcdFx0XHRkaXJydW5zVW5pcXVlID0gKGRpcnJ1bnMgKz0gY29udGV4dEJhY2t1cCA9PSBudWxsID8gMSA6IE1hdGgucmFuZG9tKCkgfHwgMC4xKSxcblx0XHRcdFx0bGVuID0gZWxlbXMubGVuZ3RoO1xuXG5cdFx0XHRpZiAoIG91dGVybW9zdCApIHtcblx0XHRcdFx0b3V0ZXJtb3N0Q29udGV4dCA9IGNvbnRleHQgPT09IGRvY3VtZW50IHx8IGNvbnRleHQgfHwgb3V0ZXJtb3N0O1xuXHRcdFx0fVxuXG5cdFx0XHQvLyBBZGQgZWxlbWVudHMgcGFzc2luZyBlbGVtZW50TWF0Y2hlcnMgZGlyZWN0bHkgdG8gcmVzdWx0c1xuXHRcdFx0Ly8gU3VwcG9ydDogSUU8OSwgU2FmYXJpXG5cdFx0XHQvLyBUb2xlcmF0ZSBOb2RlTGlzdCBwcm9wZXJ0aWVzIChJRTogXCJsZW5ndGhcIjsgU2FmYXJpOiA8bnVtYmVyPikgbWF0Y2hpbmcgZWxlbWVudHMgYnkgaWRcblx0XHRcdGZvciAoIDsgaSAhPT0gbGVuICYmIChlbGVtID0gZWxlbXNbaV0pICE9IG51bGw7IGkrKyApIHtcblx0XHRcdFx0aWYgKCBieUVsZW1lbnQgJiYgZWxlbSApIHtcblx0XHRcdFx0XHRqID0gMDtcblx0XHRcdFx0XHRpZiAoICFjb250ZXh0ICYmIGVsZW0ub3duZXJEb2N1bWVudCAhPT0gZG9jdW1lbnQgKSB7XG5cdFx0XHRcdFx0XHRzZXREb2N1bWVudCggZWxlbSApO1xuXHRcdFx0XHRcdFx0eG1sID0gIWRvY3VtZW50SXNIVE1MO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0XHR3aGlsZSAoIChtYXRjaGVyID0gZWxlbWVudE1hdGNoZXJzW2orK10pICkge1xuXHRcdFx0XHRcdFx0aWYgKCBtYXRjaGVyKCBlbGVtLCBjb250ZXh0IHx8IGRvY3VtZW50LCB4bWwpICkge1xuXHRcdFx0XHRcdFx0XHRyZXN1bHRzLnB1c2goIGVsZW0gKTtcblx0XHRcdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHRcdGlmICggb3V0ZXJtb3N0ICkge1xuXHRcdFx0XHRcdFx0ZGlycnVucyA9IGRpcnJ1bnNVbmlxdWU7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cblx0XHRcdFx0Ly8gVHJhY2sgdW5tYXRjaGVkIGVsZW1lbnRzIGZvciBzZXQgZmlsdGVyc1xuXHRcdFx0XHRpZiAoIGJ5U2V0ICkge1xuXHRcdFx0XHRcdC8vIFRoZXkgd2lsbCBoYXZlIGdvbmUgdGhyb3VnaCBhbGwgcG9zc2libGUgbWF0Y2hlcnNcblx0XHRcdFx0XHRpZiAoIChlbGVtID0gIW1hdGNoZXIgJiYgZWxlbSkgKSB7XG5cdFx0XHRcdFx0XHRtYXRjaGVkQ291bnQtLTtcblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHQvLyBMZW5ndGhlbiB0aGUgYXJyYXkgZm9yIGV2ZXJ5IGVsZW1lbnQsIG1hdGNoZWQgb3Igbm90XG5cdFx0XHRcdFx0aWYgKCBzZWVkICkge1xuXHRcdFx0XHRcdFx0dW5tYXRjaGVkLnB1c2goIGVsZW0gKTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblx0XHRcdH1cblxuXHRcdFx0Ly8gYGlgIGlzIG5vdyB0aGUgY291bnQgb2YgZWxlbWVudHMgdmlzaXRlZCBhYm92ZSwgYW5kIGFkZGluZyBpdCB0byBgbWF0Y2hlZENvdW50YFxuXHRcdFx0Ly8gbWFrZXMgdGhlIGxhdHRlciBub25uZWdhdGl2ZS5cblx0XHRcdG1hdGNoZWRDb3VudCArPSBpO1xuXG5cdFx0XHQvLyBBcHBseSBzZXQgZmlsdGVycyB0byB1bm1hdGNoZWQgZWxlbWVudHNcblx0XHRcdC8vIE5PVEU6IFRoaXMgY2FuIGJlIHNraXBwZWQgaWYgdGhlcmUgYXJlIG5vIHVubWF0Y2hlZCBlbGVtZW50cyAoaS5lLiwgYG1hdGNoZWRDb3VudGBcblx0XHRcdC8vIGVxdWFscyBgaWApLCB1bmxlc3Mgd2UgZGlkbid0IHZpc2l0IF9hbnlfIGVsZW1lbnRzIGluIHRoZSBhYm92ZSBsb29wIGJlY2F1c2Ugd2UgaGF2ZVxuXHRcdFx0Ly8gbm8gZWxlbWVudCBtYXRjaGVycyBhbmQgbm8gc2VlZC5cblx0XHRcdC8vIEluY3JlbWVudGluZyBhbiBpbml0aWFsbHktc3RyaW5nIFwiMFwiIGBpYCBhbGxvd3MgYGlgIHRvIHJlbWFpbiBhIHN0cmluZyBvbmx5IGluIHRoYXRcblx0XHRcdC8vIGNhc2UsIHdoaWNoIHdpbGwgcmVzdWx0IGluIGEgXCIwMFwiIGBtYXRjaGVkQ291bnRgIHRoYXQgZGlmZmVycyBmcm9tIGBpYCBidXQgaXMgYWxzb1xuXHRcdFx0Ly8gbnVtZXJpY2FsbHkgemVyby5cblx0XHRcdGlmICggYnlTZXQgJiYgaSAhPT0gbWF0Y2hlZENvdW50ICkge1xuXHRcdFx0XHRqID0gMDtcblx0XHRcdFx0d2hpbGUgKCAobWF0Y2hlciA9IHNldE1hdGNoZXJzW2orK10pICkge1xuXHRcdFx0XHRcdG1hdGNoZXIoIHVubWF0Y2hlZCwgc2V0TWF0Y2hlZCwgY29udGV4dCwgeG1sICk7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRpZiAoIHNlZWQgKSB7XG5cdFx0XHRcdFx0Ly8gUmVpbnRlZ3JhdGUgZWxlbWVudCBtYXRjaGVzIHRvIGVsaW1pbmF0ZSB0aGUgbmVlZCBmb3Igc29ydGluZ1xuXHRcdFx0XHRcdGlmICggbWF0Y2hlZENvdW50ID4gMCApIHtcblx0XHRcdFx0XHRcdHdoaWxlICggaS0tICkge1xuXHRcdFx0XHRcdFx0XHRpZiAoICEodW5tYXRjaGVkW2ldIHx8IHNldE1hdGNoZWRbaV0pICkge1xuXHRcdFx0XHRcdFx0XHRcdHNldE1hdGNoZWRbaV0gPSBwb3AuY2FsbCggcmVzdWx0cyApO1xuXHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0Ly8gRGlzY2FyZCBpbmRleCBwbGFjZWhvbGRlciB2YWx1ZXMgdG8gZ2V0IG9ubHkgYWN0dWFsIG1hdGNoZXNcblx0XHRcdFx0XHRzZXRNYXRjaGVkID0gY29uZGVuc2UoIHNldE1hdGNoZWQgKTtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdC8vIEFkZCBtYXRjaGVzIHRvIHJlc3VsdHNcblx0XHRcdFx0cHVzaC5hcHBseSggcmVzdWx0cywgc2V0TWF0Y2hlZCApO1xuXG5cdFx0XHRcdC8vIFNlZWRsZXNzIHNldCBtYXRjaGVzIHN1Y2NlZWRpbmcgbXVsdGlwbGUgc3VjY2Vzc2Z1bCBtYXRjaGVycyBzdGlwdWxhdGUgc29ydGluZ1xuXHRcdFx0XHRpZiAoIG91dGVybW9zdCAmJiAhc2VlZCAmJiBzZXRNYXRjaGVkLmxlbmd0aCA+IDAgJiZcblx0XHRcdFx0XHQoIG1hdGNoZWRDb3VudCArIHNldE1hdGNoZXJzLmxlbmd0aCApID4gMSApIHtcblxuXHRcdFx0XHRcdFNpenpsZS51bmlxdWVTb3J0KCByZXN1bHRzICk7XG5cdFx0XHRcdH1cblx0XHRcdH1cblxuXHRcdFx0Ly8gT3ZlcnJpZGUgbWFuaXB1bGF0aW9uIG9mIGdsb2JhbHMgYnkgbmVzdGVkIG1hdGNoZXJzXG5cdFx0XHRpZiAoIG91dGVybW9zdCApIHtcblx0XHRcdFx0ZGlycnVucyA9IGRpcnJ1bnNVbmlxdWU7XG5cdFx0XHRcdG91dGVybW9zdENvbnRleHQgPSBjb250ZXh0QmFja3VwO1xuXHRcdFx0fVxuXG5cdFx0XHRyZXR1cm4gdW5tYXRjaGVkO1xuXHRcdH07XG5cblx0cmV0dXJuIGJ5U2V0ID9cblx0XHRtYXJrRnVuY3Rpb24oIHN1cGVyTWF0Y2hlciApIDpcblx0XHRzdXBlck1hdGNoZXI7XG59XG5cbmNvbXBpbGUgPSBTaXp6bGUuY29tcGlsZSA9IGZ1bmN0aW9uKCBzZWxlY3RvciwgbWF0Y2ggLyogSW50ZXJuYWwgVXNlIE9ubHkgKi8gKSB7XG5cdHZhciBpLFxuXHRcdHNldE1hdGNoZXJzID0gW10sXG5cdFx0ZWxlbWVudE1hdGNoZXJzID0gW10sXG5cdFx0Y2FjaGVkID0gY29tcGlsZXJDYWNoZVsgc2VsZWN0b3IgKyBcIiBcIiBdO1xuXG5cdGlmICggIWNhY2hlZCApIHtcblx0XHQvLyBHZW5lcmF0ZSBhIGZ1bmN0aW9uIG9mIHJlY3Vyc2l2ZSBmdW5jdGlvbnMgdGhhdCBjYW4gYmUgdXNlZCB0byBjaGVjayBlYWNoIGVsZW1lbnRcblx0XHRpZiAoICFtYXRjaCApIHtcblx0XHRcdG1hdGNoID0gdG9rZW5pemUoIHNlbGVjdG9yICk7XG5cdFx0fVxuXHRcdGkgPSBtYXRjaC5sZW5ndGg7XG5cdFx0d2hpbGUgKCBpLS0gKSB7XG5cdFx0XHRjYWNoZWQgPSBtYXRjaGVyRnJvbVRva2VucyggbWF0Y2hbaV0gKTtcblx0XHRcdGlmICggY2FjaGVkWyBleHBhbmRvIF0gKSB7XG5cdFx0XHRcdHNldE1hdGNoZXJzLnB1c2goIGNhY2hlZCApO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0ZWxlbWVudE1hdGNoZXJzLnB1c2goIGNhY2hlZCApO1xuXHRcdFx0fVxuXHRcdH1cblxuXHRcdC8vIENhY2hlIHRoZSBjb21waWxlZCBmdW5jdGlvblxuXHRcdGNhY2hlZCA9IGNvbXBpbGVyQ2FjaGUoIHNlbGVjdG9yLCBtYXRjaGVyRnJvbUdyb3VwTWF0Y2hlcnMoIGVsZW1lbnRNYXRjaGVycywgc2V0TWF0Y2hlcnMgKSApO1xuXG5cdFx0Ly8gU2F2ZSBzZWxlY3RvciBhbmQgdG9rZW5pemF0aW9uXG5cdFx0Y2FjaGVkLnNlbGVjdG9yID0gc2VsZWN0b3I7XG5cdH1cblx0cmV0dXJuIGNhY2hlZDtcbn07XG5cbi8qKlxuICogQSBsb3ctbGV2ZWwgc2VsZWN0aW9uIGZ1bmN0aW9uIHRoYXQgd29ya3Mgd2l0aCBTaXp6bGUncyBjb21waWxlZFxuICogIHNlbGVjdG9yIGZ1bmN0aW9uc1xuICogQHBhcmFtIHtTdHJpbmd8RnVuY3Rpb259IHNlbGVjdG9yIEEgc2VsZWN0b3Igb3IgYSBwcmUtY29tcGlsZWRcbiAqICBzZWxlY3RvciBmdW5jdGlvbiBidWlsdCB3aXRoIFNpenpsZS5jb21waWxlXG4gKiBAcGFyYW0ge0VsZW1lbnR9IGNvbnRleHRcbiAqIEBwYXJhbSB7QXJyYXl9IFtyZXN1bHRzXVxuICogQHBhcmFtIHtBcnJheX0gW3NlZWRdIEEgc2V0IG9mIGVsZW1lbnRzIHRvIG1hdGNoIGFnYWluc3RcbiAqL1xuc2VsZWN0ID0gU2l6emxlLnNlbGVjdCA9IGZ1bmN0aW9uKCBzZWxlY3RvciwgY29udGV4dCwgcmVzdWx0cywgc2VlZCApIHtcblx0dmFyIGksIHRva2VucywgdG9rZW4sIHR5cGUsIGZpbmQsXG5cdFx0Y29tcGlsZWQgPSB0eXBlb2Ygc2VsZWN0b3IgPT09IFwiZnVuY3Rpb25cIiAmJiBzZWxlY3Rvcixcblx0XHRtYXRjaCA9ICFzZWVkICYmIHRva2VuaXplKCAoc2VsZWN0b3IgPSBjb21waWxlZC5zZWxlY3RvciB8fCBzZWxlY3RvcikgKTtcblxuXHRyZXN1bHRzID0gcmVzdWx0cyB8fCBbXTtcblxuXHQvLyBUcnkgdG8gbWluaW1pemUgb3BlcmF0aW9ucyBpZiB0aGVyZSBpcyBvbmx5IG9uZSBzZWxlY3RvciBpbiB0aGUgbGlzdCBhbmQgbm8gc2VlZFxuXHQvLyAodGhlIGxhdHRlciBvZiB3aGljaCBndWFyYW50ZWVzIHVzIGNvbnRleHQpXG5cdGlmICggbWF0Y2gubGVuZ3RoID09PSAxICkge1xuXG5cdFx0Ly8gUmVkdWNlIGNvbnRleHQgaWYgdGhlIGxlYWRpbmcgY29tcG91bmQgc2VsZWN0b3IgaXMgYW4gSURcblx0XHR0b2tlbnMgPSBtYXRjaFswXSA9IG1hdGNoWzBdLnNsaWNlKCAwICk7XG5cdFx0aWYgKCB0b2tlbnMubGVuZ3RoID4gMiAmJiAodG9rZW4gPSB0b2tlbnNbMF0pLnR5cGUgPT09IFwiSURcIiAmJlxuXHRcdFx0XHRjb250ZXh0Lm5vZGVUeXBlID09PSA5ICYmIGRvY3VtZW50SXNIVE1MICYmIEV4cHIucmVsYXRpdmVbIHRva2Vuc1sxXS50eXBlIF0gKSB7XG5cblx0XHRcdGNvbnRleHQgPSAoIEV4cHIuZmluZFtcIklEXCJdKCB0b2tlbi5tYXRjaGVzWzBdLnJlcGxhY2UocnVuZXNjYXBlLCBmdW5lc2NhcGUpLCBjb250ZXh0ICkgfHwgW10gKVswXTtcblx0XHRcdGlmICggIWNvbnRleHQgKSB7XG5cdFx0XHRcdHJldHVybiByZXN1bHRzO1xuXG5cdFx0XHQvLyBQcmVjb21waWxlZCBtYXRjaGVycyB3aWxsIHN0aWxsIHZlcmlmeSBhbmNlc3RyeSwgc28gc3RlcCB1cCBhIGxldmVsXG5cdFx0XHR9IGVsc2UgaWYgKCBjb21waWxlZCApIHtcblx0XHRcdFx0Y29udGV4dCA9IGNvbnRleHQucGFyZW50Tm9kZTtcblx0XHRcdH1cblxuXHRcdFx0c2VsZWN0b3IgPSBzZWxlY3Rvci5zbGljZSggdG9rZW5zLnNoaWZ0KCkudmFsdWUubGVuZ3RoICk7XG5cdFx0fVxuXG5cdFx0Ly8gRmV0Y2ggYSBzZWVkIHNldCBmb3IgcmlnaHQtdG8tbGVmdCBtYXRjaGluZ1xuXHRcdGkgPSBtYXRjaEV4cHJbXCJuZWVkc0NvbnRleHRcIl0udGVzdCggc2VsZWN0b3IgKSA/IDAgOiB0b2tlbnMubGVuZ3RoO1xuXHRcdHdoaWxlICggaS0tICkge1xuXHRcdFx0dG9rZW4gPSB0b2tlbnNbaV07XG5cblx0XHRcdC8vIEFib3J0IGlmIHdlIGhpdCBhIGNvbWJpbmF0b3Jcblx0XHRcdGlmICggRXhwci5yZWxhdGl2ZVsgKHR5cGUgPSB0b2tlbi50eXBlKSBdICkge1xuXHRcdFx0XHRicmVhaztcblx0XHRcdH1cblx0XHRcdGlmICggKGZpbmQgPSBFeHByLmZpbmRbIHR5cGUgXSkgKSB7XG5cdFx0XHRcdC8vIFNlYXJjaCwgZXhwYW5kaW5nIGNvbnRleHQgZm9yIGxlYWRpbmcgc2libGluZyBjb21iaW5hdG9yc1xuXHRcdFx0XHRpZiAoIChzZWVkID0gZmluZChcblx0XHRcdFx0XHR0b2tlbi5tYXRjaGVzWzBdLnJlcGxhY2UoIHJ1bmVzY2FwZSwgZnVuZXNjYXBlICksXG5cdFx0XHRcdFx0cnNpYmxpbmcudGVzdCggdG9rZW5zWzBdLnR5cGUgKSAmJiB0ZXN0Q29udGV4dCggY29udGV4dC5wYXJlbnROb2RlICkgfHwgY29udGV4dFxuXHRcdFx0XHQpKSApIHtcblxuXHRcdFx0XHRcdC8vIElmIHNlZWQgaXMgZW1wdHkgb3Igbm8gdG9rZW5zIHJlbWFpbiwgd2UgY2FuIHJldHVybiBlYXJseVxuXHRcdFx0XHRcdHRva2Vucy5zcGxpY2UoIGksIDEgKTtcblx0XHRcdFx0XHRzZWxlY3RvciA9IHNlZWQubGVuZ3RoICYmIHRvU2VsZWN0b3IoIHRva2VucyApO1xuXHRcdFx0XHRcdGlmICggIXNlbGVjdG9yICkge1xuXHRcdFx0XHRcdFx0cHVzaC5hcHBseSggcmVzdWx0cywgc2VlZCApO1xuXHRcdFx0XHRcdFx0cmV0dXJuIHJlc3VsdHM7XG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9XG5cdH1cblxuXHQvLyBDb21waWxlIGFuZCBleGVjdXRlIGEgZmlsdGVyaW5nIGZ1bmN0aW9uIGlmIG9uZSBpcyBub3QgcHJvdmlkZWRcblx0Ly8gUHJvdmlkZSBgbWF0Y2hgIHRvIGF2b2lkIHJldG9rZW5pemF0aW9uIGlmIHdlIG1vZGlmaWVkIHRoZSBzZWxlY3RvciBhYm92ZVxuXHQoIGNvbXBpbGVkIHx8IGNvbXBpbGUoIHNlbGVjdG9yLCBtYXRjaCApICkoXG5cdFx0c2VlZCxcblx0XHRjb250ZXh0LFxuXHRcdCFkb2N1bWVudElzSFRNTCxcblx0XHRyZXN1bHRzLFxuXHRcdCFjb250ZXh0IHx8IHJzaWJsaW5nLnRlc3QoIHNlbGVjdG9yICkgJiYgdGVzdENvbnRleHQoIGNvbnRleHQucGFyZW50Tm9kZSApIHx8IGNvbnRleHRcblx0KTtcblx0cmV0dXJuIHJlc3VsdHM7XG59O1xuXG4vLyBPbmUtdGltZSBhc3NpZ25tZW50c1xuXG4vLyBTb3J0IHN0YWJpbGl0eVxuc3VwcG9ydC5zb3J0U3RhYmxlID0gZXhwYW5kby5zcGxpdChcIlwiKS5zb3J0KCBzb3J0T3JkZXIgKS5qb2luKFwiXCIpID09PSBleHBhbmRvO1xuXG4vLyBTdXBwb3J0OiBDaHJvbWUgMTQtMzUrXG4vLyBBbHdheXMgYXNzdW1lIGR1cGxpY2F0ZXMgaWYgdGhleSBhcmVuJ3QgcGFzc2VkIHRvIHRoZSBjb21wYXJpc29uIGZ1bmN0aW9uXG5zdXBwb3J0LmRldGVjdER1cGxpY2F0ZXMgPSAhIWhhc0R1cGxpY2F0ZTtcblxuLy8gSW5pdGlhbGl6ZSBhZ2FpbnN0IHRoZSBkZWZhdWx0IGRvY3VtZW50XG5zZXREb2N1bWVudCgpO1xuXG4vLyBTdXBwb3J0OiBXZWJraXQ8NTM3LjMyIC0gU2FmYXJpIDYuMC4zL0Nocm9tZSAyNSAoZml4ZWQgaW4gQ2hyb21lIDI3KVxuLy8gRGV0YWNoZWQgbm9kZXMgY29uZm91bmRpbmdseSBmb2xsb3cgKmVhY2ggb3RoZXIqXG5zdXBwb3J0LnNvcnREZXRhY2hlZCA9IGFzc2VydChmdW5jdGlvbiggZWwgKSB7XG5cdC8vIFNob3VsZCByZXR1cm4gMSwgYnV0IHJldHVybnMgNCAoZm9sbG93aW5nKVxuXHRyZXR1cm4gZWwuY29tcGFyZURvY3VtZW50UG9zaXRpb24oIGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJmaWVsZHNldFwiKSApICYgMTtcbn0pO1xuXG4vLyBTdXBwb3J0OiBJRTw4XG4vLyBQcmV2ZW50IGF0dHJpYnV0ZS9wcm9wZXJ0eSBcImludGVycG9sYXRpb25cIlxuLy8gaHR0cHM6Ly9tc2RuLm1pY3Jvc29mdC5jb20vZW4tdXMvbGlicmFyeS9tczUzNjQyOSUyOFZTLjg1JTI5LmFzcHhcbmlmICggIWFzc2VydChmdW5jdGlvbiggZWwgKSB7XG5cdGVsLmlubmVySFRNTCA9IFwiPGEgaHJlZj0nIyc+PC9hPlwiO1xuXHRyZXR1cm4gZWwuZmlyc3RDaGlsZC5nZXRBdHRyaWJ1dGUoXCJocmVmXCIpID09PSBcIiNcIiA7XG59KSApIHtcblx0YWRkSGFuZGxlKCBcInR5cGV8aHJlZnxoZWlnaHR8d2lkdGhcIiwgZnVuY3Rpb24oIGVsZW0sIG5hbWUsIGlzWE1MICkge1xuXHRcdGlmICggIWlzWE1MICkge1xuXHRcdFx0cmV0dXJuIGVsZW0uZ2V0QXR0cmlidXRlKCBuYW1lLCBuYW1lLnRvTG93ZXJDYXNlKCkgPT09IFwidHlwZVwiID8gMSA6IDIgKTtcblx0XHR9XG5cdH0pO1xufVxuXG4vLyBTdXBwb3J0OiBJRTw5XG4vLyBVc2UgZGVmYXVsdFZhbHVlIGluIHBsYWNlIG9mIGdldEF0dHJpYnV0ZShcInZhbHVlXCIpXG5pZiAoICFzdXBwb3J0LmF0dHJpYnV0ZXMgfHwgIWFzc2VydChmdW5jdGlvbiggZWwgKSB7XG5cdGVsLmlubmVySFRNTCA9IFwiPGlucHV0Lz5cIjtcblx0ZWwuZmlyc3RDaGlsZC5zZXRBdHRyaWJ1dGUoIFwidmFsdWVcIiwgXCJcIiApO1xuXHRyZXR1cm4gZWwuZmlyc3RDaGlsZC5nZXRBdHRyaWJ1dGUoIFwidmFsdWVcIiApID09PSBcIlwiO1xufSkgKSB7XG5cdGFkZEhhbmRsZSggXCJ2YWx1ZVwiLCBmdW5jdGlvbiggZWxlbSwgbmFtZSwgaXNYTUwgKSB7XG5cdFx0aWYgKCAhaXNYTUwgJiYgZWxlbS5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpID09PSBcImlucHV0XCIgKSB7XG5cdFx0XHRyZXR1cm4gZWxlbS5kZWZhdWx0VmFsdWU7XG5cdFx0fVxuXHR9KTtcbn1cblxuLy8gU3VwcG9ydDogSUU8OVxuLy8gVXNlIGdldEF0dHJpYnV0ZU5vZGUgdG8gZmV0Y2ggYm9vbGVhbnMgd2hlbiBnZXRBdHRyaWJ1dGUgbGllc1xuaWYgKCAhYXNzZXJ0KGZ1bmN0aW9uKCBlbCApIHtcblx0cmV0dXJuIGVsLmdldEF0dHJpYnV0ZShcImRpc2FibGVkXCIpID09IG51bGw7XG59KSApIHtcblx0YWRkSGFuZGxlKCBib29sZWFucywgZnVuY3Rpb24oIGVsZW0sIG5hbWUsIGlzWE1MICkge1xuXHRcdHZhciB2YWw7XG5cdFx0aWYgKCAhaXNYTUwgKSB7XG5cdFx0XHRyZXR1cm4gZWxlbVsgbmFtZSBdID09PSB0cnVlID8gbmFtZS50b0xvd2VyQ2FzZSgpIDpcblx0XHRcdFx0XHQodmFsID0gZWxlbS5nZXRBdHRyaWJ1dGVOb2RlKCBuYW1lICkpICYmIHZhbC5zcGVjaWZpZWQgP1xuXHRcdFx0XHRcdHZhbC52YWx1ZSA6XG5cdFx0XHRcdG51bGw7XG5cdFx0fVxuXHR9KTtcbn1cblxucmV0dXJuIFNpenpsZTtcblxufSkoIHdpbmRvdyApO1xuXG5cblxualF1ZXJ5LmZpbmQgPSBTaXp6bGU7XG5qUXVlcnkuZXhwciA9IFNpenpsZS5zZWxlY3RvcnM7XG5cbi8vIERlcHJlY2F0ZWRcbmpRdWVyeS5leHByWyBcIjpcIiBdID0galF1ZXJ5LmV4cHIucHNldWRvcztcbmpRdWVyeS51bmlxdWVTb3J0ID0galF1ZXJ5LnVuaXF1ZSA9IFNpenpsZS51bmlxdWVTb3J0O1xualF1ZXJ5LnRleHQgPSBTaXp6bGUuZ2V0VGV4dDtcbmpRdWVyeS5pc1hNTERvYyA9IFNpenpsZS5pc1hNTDtcbmpRdWVyeS5jb250YWlucyA9IFNpenpsZS5jb250YWlucztcbmpRdWVyeS5lc2NhcGVTZWxlY3RvciA9IFNpenpsZS5lc2NhcGU7XG5cblxuXG5cbnZhciBkaXIgPSBmdW5jdGlvbiggZWxlbSwgZGlyLCB1bnRpbCApIHtcblx0dmFyIG1hdGNoZWQgPSBbXSxcblx0XHR0cnVuY2F0ZSA9IHVudGlsICE9PSB1bmRlZmluZWQ7XG5cblx0d2hpbGUgKCAoIGVsZW0gPSBlbGVtWyBkaXIgXSApICYmIGVsZW0ubm9kZVR5cGUgIT09IDkgKSB7XG5cdFx0aWYgKCBlbGVtLm5vZGVUeXBlID09PSAxICkge1xuXHRcdFx0aWYgKCB0cnVuY2F0ZSAmJiBqUXVlcnkoIGVsZW0gKS5pcyggdW50aWwgKSApIHtcblx0XHRcdFx0YnJlYWs7XG5cdFx0XHR9XG5cdFx0XHRtYXRjaGVkLnB1c2goIGVsZW0gKTtcblx0XHR9XG5cdH1cblx0cmV0dXJuIG1hdGNoZWQ7XG59O1xuXG5cbnZhciBzaWJsaW5ncyA9IGZ1bmN0aW9uKCBuLCBlbGVtICkge1xuXHR2YXIgbWF0Y2hlZCA9IFtdO1xuXG5cdGZvciAoIDsgbjsgbiA9IG4ubmV4dFNpYmxpbmcgKSB7XG5cdFx0aWYgKCBuLm5vZGVUeXBlID09PSAxICYmIG4gIT09IGVsZW0gKSB7XG5cdFx0XHRtYXRjaGVkLnB1c2goIG4gKTtcblx0XHR9XG5cdH1cblxuXHRyZXR1cm4gbWF0Y2hlZDtcbn07XG5cblxudmFyIHJuZWVkc0NvbnRleHQgPSBqUXVlcnkuZXhwci5tYXRjaC5uZWVkc0NvbnRleHQ7XG5cblxuXG5mdW5jdGlvbiBub2RlTmFtZSggZWxlbSwgbmFtZSApIHtcblxuICByZXR1cm4gZWxlbS5ub2RlTmFtZSAmJiBlbGVtLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCkgPT09IG5hbWUudG9Mb3dlckNhc2UoKTtcblxufTtcbnZhciByc2luZ2xlVGFnID0gKCAvXjwoW2Etel1bXlxcL1xcMD46XFx4MjBcXHRcXHJcXG5cXGZdKilbXFx4MjBcXHRcXHJcXG5cXGZdKlxcLz8+KD86PFxcL1xcMT58KSQvaSApO1xuXG5cblxudmFyIHJpc1NpbXBsZSA9IC9eLlteOiNcXFtcXC4sXSokLztcblxuLy8gSW1wbGVtZW50IHRoZSBpZGVudGljYWwgZnVuY3Rpb25hbGl0eSBmb3IgZmlsdGVyIGFuZCBub3RcbmZ1bmN0aW9uIHdpbm5vdyggZWxlbWVudHMsIHF1YWxpZmllciwgbm90ICkge1xuXHRpZiAoIGpRdWVyeS5pc0Z1bmN0aW9uKCBxdWFsaWZpZXIgKSApIHtcblx0XHRyZXR1cm4galF1ZXJ5LmdyZXAoIGVsZW1lbnRzLCBmdW5jdGlvbiggZWxlbSwgaSApIHtcblx0XHRcdHJldHVybiAhIXF1YWxpZmllci5jYWxsKCBlbGVtLCBpLCBlbGVtICkgIT09IG5vdDtcblx0XHR9ICk7XG5cdH1cblxuXHQvLyBTaW5nbGUgZWxlbWVudFxuXHRpZiAoIHF1YWxpZmllci5ub2RlVHlwZSApIHtcblx0XHRyZXR1cm4galF1ZXJ5LmdyZXAoIGVsZW1lbnRzLCBmdW5jdGlvbiggZWxlbSApIHtcblx0XHRcdHJldHVybiAoIGVsZW0gPT09IHF1YWxpZmllciApICE9PSBub3Q7XG5cdFx0fSApO1xuXHR9XG5cblx0Ly8gQXJyYXlsaWtlIG9mIGVsZW1lbnRzIChqUXVlcnksIGFyZ3VtZW50cywgQXJyYXkpXG5cdGlmICggdHlwZW9mIHF1YWxpZmllciAhPT0gXCJzdHJpbmdcIiApIHtcblx0XHRyZXR1cm4galF1ZXJ5LmdyZXAoIGVsZW1lbnRzLCBmdW5jdGlvbiggZWxlbSApIHtcblx0XHRcdHJldHVybiAoIGluZGV4T2YuY2FsbCggcXVhbGlmaWVyLCBlbGVtICkgPiAtMSApICE9PSBub3Q7XG5cdFx0fSApO1xuXHR9XG5cblx0Ly8gU2ltcGxlIHNlbGVjdG9yIHRoYXQgY2FuIGJlIGZpbHRlcmVkIGRpcmVjdGx5LCByZW1vdmluZyBub24tRWxlbWVudHNcblx0aWYgKCByaXNTaW1wbGUudGVzdCggcXVhbGlmaWVyICkgKSB7XG5cdFx0cmV0dXJuIGpRdWVyeS5maWx0ZXIoIHF1YWxpZmllciwgZWxlbWVudHMsIG5vdCApO1xuXHR9XG5cblx0Ly8gQ29tcGxleCBzZWxlY3RvciwgY29tcGFyZSB0aGUgdHdvIHNldHMsIHJlbW92aW5nIG5vbi1FbGVtZW50c1xuXHRxdWFsaWZpZXIgPSBqUXVlcnkuZmlsdGVyKCBxdWFsaWZpZXIsIGVsZW1lbnRzICk7XG5cdHJldHVybiBqUXVlcnkuZ3JlcCggZWxlbWVudHMsIGZ1bmN0aW9uKCBlbGVtICkge1xuXHRcdHJldHVybiAoIGluZGV4T2YuY2FsbCggcXVhbGlmaWVyLCBlbGVtICkgPiAtMSApICE9PSBub3QgJiYgZWxlbS5ub2RlVHlwZSA9PT0gMTtcblx0fSApO1xufVxuXG5qUXVlcnkuZmlsdGVyID0gZnVuY3Rpb24oIGV4cHIsIGVsZW1zLCBub3QgKSB7XG5cdHZhciBlbGVtID0gZWxlbXNbIDAgXTtcblxuXHRpZiAoIG5vdCApIHtcblx0XHRleHByID0gXCI6bm90KFwiICsgZXhwciArIFwiKVwiO1xuXHR9XG5cblx0aWYgKCBlbGVtcy5sZW5ndGggPT09IDEgJiYgZWxlbS5ub2RlVHlwZSA9PT0gMSApIHtcblx0XHRyZXR1cm4galF1ZXJ5LmZpbmQubWF0Y2hlc1NlbGVjdG9yKCBlbGVtLCBleHByICkgPyBbIGVsZW0gXSA6IFtdO1xuXHR9XG5cblx0cmV0dXJuIGpRdWVyeS5maW5kLm1hdGNoZXMoIGV4cHIsIGpRdWVyeS5ncmVwKCBlbGVtcywgZnVuY3Rpb24oIGVsZW0gKSB7XG5cdFx0cmV0dXJuIGVsZW0ubm9kZVR5cGUgPT09IDE7XG5cdH0gKSApO1xufTtcblxualF1ZXJ5LmZuLmV4dGVuZCgge1xuXHRmaW5kOiBmdW5jdGlvbiggc2VsZWN0b3IgKSB7XG5cdFx0dmFyIGksIHJldCxcblx0XHRcdGxlbiA9IHRoaXMubGVuZ3RoLFxuXHRcdFx0c2VsZiA9IHRoaXM7XG5cblx0XHRpZiAoIHR5cGVvZiBzZWxlY3RvciAhPT0gXCJzdHJpbmdcIiApIHtcblx0XHRcdHJldHVybiB0aGlzLnB1c2hTdGFjayggalF1ZXJ5KCBzZWxlY3RvciApLmZpbHRlciggZnVuY3Rpb24oKSB7XG5cdFx0XHRcdGZvciAoIGkgPSAwOyBpIDwgbGVuOyBpKysgKSB7XG5cdFx0XHRcdFx0aWYgKCBqUXVlcnkuY29udGFpbnMoIHNlbGZbIGkgXSwgdGhpcyApICkge1xuXHRcdFx0XHRcdFx0cmV0dXJuIHRydWU7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cdFx0XHR9ICkgKTtcblx0XHR9XG5cblx0XHRyZXQgPSB0aGlzLnB1c2hTdGFjayggW10gKTtcblxuXHRcdGZvciAoIGkgPSAwOyBpIDwgbGVuOyBpKysgKSB7XG5cdFx0XHRqUXVlcnkuZmluZCggc2VsZWN0b3IsIHNlbGZbIGkgXSwgcmV0ICk7XG5cdFx0fVxuXG5cdFx0cmV0dXJuIGxlbiA+IDEgPyBqUXVlcnkudW5pcXVlU29ydCggcmV0ICkgOiByZXQ7XG5cdH0sXG5cdGZpbHRlcjogZnVuY3Rpb24oIHNlbGVjdG9yICkge1xuXHRcdHJldHVybiB0aGlzLnB1c2hTdGFjayggd2lubm93KCB0aGlzLCBzZWxlY3RvciB8fCBbXSwgZmFsc2UgKSApO1xuXHR9LFxuXHRub3Q6IGZ1bmN0aW9uKCBzZWxlY3RvciApIHtcblx0XHRyZXR1cm4gdGhpcy5wdXNoU3RhY2soIHdpbm5vdyggdGhpcywgc2VsZWN0b3IgfHwgW10sIHRydWUgKSApO1xuXHR9LFxuXHRpczogZnVuY3Rpb24oIHNlbGVjdG9yICkge1xuXHRcdHJldHVybiAhIXdpbm5vdyhcblx0XHRcdHRoaXMsXG5cblx0XHRcdC8vIElmIHRoaXMgaXMgYSBwb3NpdGlvbmFsL3JlbGF0aXZlIHNlbGVjdG9yLCBjaGVjayBtZW1iZXJzaGlwIGluIHRoZSByZXR1cm5lZCBzZXRcblx0XHRcdC8vIHNvICQoXCJwOmZpcnN0XCIpLmlzKFwicDpsYXN0XCIpIHdvbid0IHJldHVybiB0cnVlIGZvciBhIGRvYyB3aXRoIHR3byBcInBcIi5cblx0XHRcdHR5cGVvZiBzZWxlY3RvciA9PT0gXCJzdHJpbmdcIiAmJiBybmVlZHNDb250ZXh0LnRlc3QoIHNlbGVjdG9yICkgP1xuXHRcdFx0XHRqUXVlcnkoIHNlbGVjdG9yICkgOlxuXHRcdFx0XHRzZWxlY3RvciB8fCBbXSxcblx0XHRcdGZhbHNlXG5cdFx0KS5sZW5ndGg7XG5cdH1cbn0gKTtcblxuXG4vLyBJbml0aWFsaXplIGEgalF1ZXJ5IG9iamVjdFxuXG5cbi8vIEEgY2VudHJhbCByZWZlcmVuY2UgdG8gdGhlIHJvb3QgalF1ZXJ5KGRvY3VtZW50KVxudmFyIHJvb3RqUXVlcnksXG5cblx0Ly8gQSBzaW1wbGUgd2F5IHRvIGNoZWNrIGZvciBIVE1MIHN0cmluZ3Ncblx0Ly8gUHJpb3JpdGl6ZSAjaWQgb3ZlciA8dGFnPiB0byBhdm9pZCBYU1MgdmlhIGxvY2F0aW9uLmhhc2ggKCM5NTIxKVxuXHQvLyBTdHJpY3QgSFRNTCByZWNvZ25pdGlvbiAoIzExMjkwOiBtdXN0IHN0YXJ0IHdpdGggPClcblx0Ly8gU2hvcnRjdXQgc2ltcGxlICNpZCBjYXNlIGZvciBzcGVlZFxuXHRycXVpY2tFeHByID0gL14oPzpcXHMqKDxbXFx3XFxXXSs+KVtePl0qfCMoW1xcdy1dKykpJC8sXG5cblx0aW5pdCA9IGpRdWVyeS5mbi5pbml0ID0gZnVuY3Rpb24oIHNlbGVjdG9yLCBjb250ZXh0LCByb290ICkge1xuXHRcdHZhciBtYXRjaCwgZWxlbTtcblxuXHRcdC8vIEhBTkRMRTogJChcIlwiKSwgJChudWxsKSwgJCh1bmRlZmluZWQpLCAkKGZhbHNlKVxuXHRcdGlmICggIXNlbGVjdG9yICkge1xuXHRcdFx0cmV0dXJuIHRoaXM7XG5cdFx0fVxuXG5cdFx0Ly8gTWV0aG9kIGluaXQoKSBhY2NlcHRzIGFuIGFsdGVybmF0ZSByb290alF1ZXJ5XG5cdFx0Ly8gc28gbWlncmF0ZSBjYW4gc3VwcG9ydCBqUXVlcnkuc3ViIChnaC0yMTAxKVxuXHRcdHJvb3QgPSByb290IHx8IHJvb3RqUXVlcnk7XG5cblx0XHQvLyBIYW5kbGUgSFRNTCBzdHJpbmdzXG5cdFx0aWYgKCB0eXBlb2Ygc2VsZWN0b3IgPT09IFwic3RyaW5nXCIgKSB7XG5cdFx0XHRpZiAoIHNlbGVjdG9yWyAwIF0gPT09IFwiPFwiICYmXG5cdFx0XHRcdHNlbGVjdG9yWyBzZWxlY3Rvci5sZW5ndGggLSAxIF0gPT09IFwiPlwiICYmXG5cdFx0XHRcdHNlbGVjdG9yLmxlbmd0aCA+PSAzICkge1xuXG5cdFx0XHRcdC8vIEFzc3VtZSB0aGF0IHN0cmluZ3MgdGhhdCBzdGFydCBhbmQgZW5kIHdpdGggPD4gYXJlIEhUTUwgYW5kIHNraXAgdGhlIHJlZ2V4IGNoZWNrXG5cdFx0XHRcdG1hdGNoID0gWyBudWxsLCBzZWxlY3RvciwgbnVsbCBdO1xuXG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRtYXRjaCA9IHJxdWlja0V4cHIuZXhlYyggc2VsZWN0b3IgKTtcblx0XHRcdH1cblxuXHRcdFx0Ly8gTWF0Y2ggaHRtbCBvciBtYWtlIHN1cmUgbm8gY29udGV4dCBpcyBzcGVjaWZpZWQgZm9yICNpZFxuXHRcdFx0aWYgKCBtYXRjaCAmJiAoIG1hdGNoWyAxIF0gfHwgIWNvbnRleHQgKSApIHtcblxuXHRcdFx0XHQvLyBIQU5ETEU6ICQoaHRtbCkgLT4gJChhcnJheSlcblx0XHRcdFx0aWYgKCBtYXRjaFsgMSBdICkge1xuXHRcdFx0XHRcdGNvbnRleHQgPSBjb250ZXh0IGluc3RhbmNlb2YgalF1ZXJ5ID8gY29udGV4dFsgMCBdIDogY29udGV4dDtcblxuXHRcdFx0XHRcdC8vIE9wdGlvbiB0byBydW4gc2NyaXB0cyBpcyB0cnVlIGZvciBiYWNrLWNvbXBhdFxuXHRcdFx0XHRcdC8vIEludGVudGlvbmFsbHkgbGV0IHRoZSBlcnJvciBiZSB0aHJvd24gaWYgcGFyc2VIVE1MIGlzIG5vdCBwcmVzZW50XG5cdFx0XHRcdFx0alF1ZXJ5Lm1lcmdlKCB0aGlzLCBqUXVlcnkucGFyc2VIVE1MKFxuXHRcdFx0XHRcdFx0bWF0Y2hbIDEgXSxcblx0XHRcdFx0XHRcdGNvbnRleHQgJiYgY29udGV4dC5ub2RlVHlwZSA/IGNvbnRleHQub3duZXJEb2N1bWVudCB8fCBjb250ZXh0IDogZG9jdW1lbnQsXG5cdFx0XHRcdFx0XHR0cnVlXG5cdFx0XHRcdFx0KSApO1xuXG5cdFx0XHRcdFx0Ly8gSEFORExFOiAkKGh0bWwsIHByb3BzKVxuXHRcdFx0XHRcdGlmICggcnNpbmdsZVRhZy50ZXN0KCBtYXRjaFsgMSBdICkgJiYgalF1ZXJ5LmlzUGxhaW5PYmplY3QoIGNvbnRleHQgKSApIHtcblx0XHRcdFx0XHRcdGZvciAoIG1hdGNoIGluIGNvbnRleHQgKSB7XG5cblx0XHRcdFx0XHRcdFx0Ly8gUHJvcGVydGllcyBvZiBjb250ZXh0IGFyZSBjYWxsZWQgYXMgbWV0aG9kcyBpZiBwb3NzaWJsZVxuXHRcdFx0XHRcdFx0XHRpZiAoIGpRdWVyeS5pc0Z1bmN0aW9uKCB0aGlzWyBtYXRjaCBdICkgKSB7XG5cdFx0XHRcdFx0XHRcdFx0dGhpc1sgbWF0Y2ggXSggY29udGV4dFsgbWF0Y2ggXSApO1xuXG5cdFx0XHRcdFx0XHRcdC8vIC4uLmFuZCBvdGhlcndpc2Ugc2V0IGFzIGF0dHJpYnV0ZXNcblx0XHRcdFx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRcdFx0XHR0aGlzLmF0dHIoIG1hdGNoLCBjb250ZXh0WyBtYXRjaCBdICk7XG5cdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRyZXR1cm4gdGhpcztcblxuXHRcdFx0XHQvLyBIQU5ETEU6ICQoI2lkKVxuXHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdGVsZW0gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCggbWF0Y2hbIDIgXSApO1xuXG5cdFx0XHRcdFx0aWYgKCBlbGVtICkge1xuXG5cdFx0XHRcdFx0XHQvLyBJbmplY3QgdGhlIGVsZW1lbnQgZGlyZWN0bHkgaW50byB0aGUgalF1ZXJ5IG9iamVjdFxuXHRcdFx0XHRcdFx0dGhpc1sgMCBdID0gZWxlbTtcblx0XHRcdFx0XHRcdHRoaXMubGVuZ3RoID0gMTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0cmV0dXJuIHRoaXM7XG5cdFx0XHRcdH1cblxuXHRcdFx0Ly8gSEFORExFOiAkKGV4cHIsICQoLi4uKSlcblx0XHRcdH0gZWxzZSBpZiAoICFjb250ZXh0IHx8IGNvbnRleHQuanF1ZXJ5ICkge1xuXHRcdFx0XHRyZXR1cm4gKCBjb250ZXh0IHx8IHJvb3QgKS5maW5kKCBzZWxlY3RvciApO1xuXG5cdFx0XHQvLyBIQU5ETEU6ICQoZXhwciwgY29udGV4dClcblx0XHRcdC8vICh3aGljaCBpcyBqdXN0IGVxdWl2YWxlbnQgdG86ICQoY29udGV4dCkuZmluZChleHByKVxuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0cmV0dXJuIHRoaXMuY29uc3RydWN0b3IoIGNvbnRleHQgKS5maW5kKCBzZWxlY3RvciApO1xuXHRcdFx0fVxuXG5cdFx0Ly8gSEFORExFOiAkKERPTUVsZW1lbnQpXG5cdFx0fSBlbHNlIGlmICggc2VsZWN0b3Iubm9kZVR5cGUgKSB7XG5cdFx0XHR0aGlzWyAwIF0gPSBzZWxlY3Rvcjtcblx0XHRcdHRoaXMubGVuZ3RoID0gMTtcblx0XHRcdHJldHVybiB0aGlzO1xuXG5cdFx0Ly8gSEFORExFOiAkKGZ1bmN0aW9uKVxuXHRcdC8vIFNob3J0Y3V0IGZvciBkb2N1bWVudCByZWFkeVxuXHRcdH0gZWxzZSBpZiAoIGpRdWVyeS5pc0Z1bmN0aW9uKCBzZWxlY3RvciApICkge1xuXHRcdFx0cmV0dXJuIHJvb3QucmVhZHkgIT09IHVuZGVmaW5lZCA/XG5cdFx0XHRcdHJvb3QucmVhZHkoIHNlbGVjdG9yICkgOlxuXG5cdFx0XHRcdC8vIEV4ZWN1dGUgaW1tZWRpYXRlbHkgaWYgcmVhZHkgaXMgbm90IHByZXNlbnRcblx0XHRcdFx0c2VsZWN0b3IoIGpRdWVyeSApO1xuXHRcdH1cblxuXHRcdHJldHVybiBqUXVlcnkubWFrZUFycmF5KCBzZWxlY3RvciwgdGhpcyApO1xuXHR9O1xuXG4vLyBHaXZlIHRoZSBpbml0IGZ1bmN0aW9uIHRoZSBqUXVlcnkgcHJvdG90eXBlIGZvciBsYXRlciBpbnN0YW50aWF0aW9uXG5pbml0LnByb3RvdHlwZSA9IGpRdWVyeS5mbjtcblxuLy8gSW5pdGlhbGl6ZSBjZW50cmFsIHJlZmVyZW5jZVxucm9vdGpRdWVyeSA9IGpRdWVyeSggZG9jdW1lbnQgKTtcblxuXG52YXIgcnBhcmVudHNwcmV2ID0gL14oPzpwYXJlbnRzfHByZXYoPzpVbnRpbHxBbGwpKS8sXG5cblx0Ly8gTWV0aG9kcyBndWFyYW50ZWVkIHRvIHByb2R1Y2UgYSB1bmlxdWUgc2V0IHdoZW4gc3RhcnRpbmcgZnJvbSBhIHVuaXF1ZSBzZXRcblx0Z3VhcmFudGVlZFVuaXF1ZSA9IHtcblx0XHRjaGlsZHJlbjogdHJ1ZSxcblx0XHRjb250ZW50czogdHJ1ZSxcblx0XHRuZXh0OiB0cnVlLFxuXHRcdHByZXY6IHRydWVcblx0fTtcblxualF1ZXJ5LmZuLmV4dGVuZCgge1xuXHRoYXM6IGZ1bmN0aW9uKCB0YXJnZXQgKSB7XG5cdFx0dmFyIHRhcmdldHMgPSBqUXVlcnkoIHRhcmdldCwgdGhpcyApLFxuXHRcdFx0bCA9IHRhcmdldHMubGVuZ3RoO1xuXG5cdFx0cmV0dXJuIHRoaXMuZmlsdGVyKCBmdW5jdGlvbigpIHtcblx0XHRcdHZhciBpID0gMDtcblx0XHRcdGZvciAoIDsgaSA8IGw7IGkrKyApIHtcblx0XHRcdFx0aWYgKCBqUXVlcnkuY29udGFpbnMoIHRoaXMsIHRhcmdldHNbIGkgXSApICkge1xuXHRcdFx0XHRcdHJldHVybiB0cnVlO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fSApO1xuXHR9LFxuXG5cdGNsb3Nlc3Q6IGZ1bmN0aW9uKCBzZWxlY3RvcnMsIGNvbnRleHQgKSB7XG5cdFx0dmFyIGN1cixcblx0XHRcdGkgPSAwLFxuXHRcdFx0bCA9IHRoaXMubGVuZ3RoLFxuXHRcdFx0bWF0Y2hlZCA9IFtdLFxuXHRcdFx0dGFyZ2V0cyA9IHR5cGVvZiBzZWxlY3RvcnMgIT09IFwic3RyaW5nXCIgJiYgalF1ZXJ5KCBzZWxlY3RvcnMgKTtcblxuXHRcdC8vIFBvc2l0aW9uYWwgc2VsZWN0b3JzIG5ldmVyIG1hdGNoLCBzaW5jZSB0aGVyZSdzIG5vIF9zZWxlY3Rpb25fIGNvbnRleHRcblx0XHRpZiAoICFybmVlZHNDb250ZXh0LnRlc3QoIHNlbGVjdG9ycyApICkge1xuXHRcdFx0Zm9yICggOyBpIDwgbDsgaSsrICkge1xuXHRcdFx0XHRmb3IgKCBjdXIgPSB0aGlzWyBpIF07IGN1ciAmJiBjdXIgIT09IGNvbnRleHQ7IGN1ciA9IGN1ci5wYXJlbnROb2RlICkge1xuXG5cdFx0XHRcdFx0Ly8gQWx3YXlzIHNraXAgZG9jdW1lbnQgZnJhZ21lbnRzXG5cdFx0XHRcdFx0aWYgKCBjdXIubm9kZVR5cGUgPCAxMSAmJiAoIHRhcmdldHMgP1xuXHRcdFx0XHRcdFx0dGFyZ2V0cy5pbmRleCggY3VyICkgPiAtMSA6XG5cblx0XHRcdFx0XHRcdC8vIERvbid0IHBhc3Mgbm9uLWVsZW1lbnRzIHRvIFNpenpsZVxuXHRcdFx0XHRcdFx0Y3VyLm5vZGVUeXBlID09PSAxICYmXG5cdFx0XHRcdFx0XHRcdGpRdWVyeS5maW5kLm1hdGNoZXNTZWxlY3RvciggY3VyLCBzZWxlY3RvcnMgKSApICkge1xuXG5cdFx0XHRcdFx0XHRtYXRjaGVkLnB1c2goIGN1ciApO1xuXHRcdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0cmV0dXJuIHRoaXMucHVzaFN0YWNrKCBtYXRjaGVkLmxlbmd0aCA+IDEgPyBqUXVlcnkudW5pcXVlU29ydCggbWF0Y2hlZCApIDogbWF0Y2hlZCApO1xuXHR9LFxuXG5cdC8vIERldGVybWluZSB0aGUgcG9zaXRpb24gb2YgYW4gZWxlbWVudCB3aXRoaW4gdGhlIHNldFxuXHRpbmRleDogZnVuY3Rpb24oIGVsZW0gKSB7XG5cblx0XHQvLyBObyBhcmd1bWVudCwgcmV0dXJuIGluZGV4IGluIHBhcmVudFxuXHRcdGlmICggIWVsZW0gKSB7XG5cdFx0XHRyZXR1cm4gKCB0aGlzWyAwIF0gJiYgdGhpc1sgMCBdLnBhcmVudE5vZGUgKSA/IHRoaXMuZmlyc3QoKS5wcmV2QWxsKCkubGVuZ3RoIDogLTE7XG5cdFx0fVxuXG5cdFx0Ly8gSW5kZXggaW4gc2VsZWN0b3Jcblx0XHRpZiAoIHR5cGVvZiBlbGVtID09PSBcInN0cmluZ1wiICkge1xuXHRcdFx0cmV0dXJuIGluZGV4T2YuY2FsbCggalF1ZXJ5KCBlbGVtICksIHRoaXNbIDAgXSApO1xuXHRcdH1cblxuXHRcdC8vIExvY2F0ZSB0aGUgcG9zaXRpb24gb2YgdGhlIGRlc2lyZWQgZWxlbWVudFxuXHRcdHJldHVybiBpbmRleE9mLmNhbGwoIHRoaXMsXG5cblx0XHRcdC8vIElmIGl0IHJlY2VpdmVzIGEgalF1ZXJ5IG9iamVjdCwgdGhlIGZpcnN0IGVsZW1lbnQgaXMgdXNlZFxuXHRcdFx0ZWxlbS5qcXVlcnkgPyBlbGVtWyAwIF0gOiBlbGVtXG5cdFx0KTtcblx0fSxcblxuXHRhZGQ6IGZ1bmN0aW9uKCBzZWxlY3RvciwgY29udGV4dCApIHtcblx0XHRyZXR1cm4gdGhpcy5wdXNoU3RhY2soXG5cdFx0XHRqUXVlcnkudW5pcXVlU29ydChcblx0XHRcdFx0alF1ZXJ5Lm1lcmdlKCB0aGlzLmdldCgpLCBqUXVlcnkoIHNlbGVjdG9yLCBjb250ZXh0ICkgKVxuXHRcdFx0KVxuXHRcdCk7XG5cdH0sXG5cblx0YWRkQmFjazogZnVuY3Rpb24oIHNlbGVjdG9yICkge1xuXHRcdHJldHVybiB0aGlzLmFkZCggc2VsZWN0b3IgPT0gbnVsbCA/XG5cdFx0XHR0aGlzLnByZXZPYmplY3QgOiB0aGlzLnByZXZPYmplY3QuZmlsdGVyKCBzZWxlY3RvciApXG5cdFx0KTtcblx0fVxufSApO1xuXG5mdW5jdGlvbiBzaWJsaW5nKCBjdXIsIGRpciApIHtcblx0d2hpbGUgKCAoIGN1ciA9IGN1clsgZGlyIF0gKSAmJiBjdXIubm9kZVR5cGUgIT09IDEgKSB7fVxuXHRyZXR1cm4gY3VyO1xufVxuXG5qUXVlcnkuZWFjaCgge1xuXHRwYXJlbnQ6IGZ1bmN0aW9uKCBlbGVtICkge1xuXHRcdHZhciBwYXJlbnQgPSBlbGVtLnBhcmVudE5vZGU7XG5cdFx0cmV0dXJuIHBhcmVudCAmJiBwYXJlbnQubm9kZVR5cGUgIT09IDExID8gcGFyZW50IDogbnVsbDtcblx0fSxcblx0cGFyZW50czogZnVuY3Rpb24oIGVsZW0gKSB7XG5cdFx0cmV0dXJuIGRpciggZWxlbSwgXCJwYXJlbnROb2RlXCIgKTtcblx0fSxcblx0cGFyZW50c1VudGlsOiBmdW5jdGlvbiggZWxlbSwgaSwgdW50aWwgKSB7XG5cdFx0cmV0dXJuIGRpciggZWxlbSwgXCJwYXJlbnROb2RlXCIsIHVudGlsICk7XG5cdH0sXG5cdG5leHQ6IGZ1bmN0aW9uKCBlbGVtICkge1xuXHRcdHJldHVybiBzaWJsaW5nKCBlbGVtLCBcIm5leHRTaWJsaW5nXCIgKTtcblx0fSxcblx0cHJldjogZnVuY3Rpb24oIGVsZW0gKSB7XG5cdFx0cmV0dXJuIHNpYmxpbmcoIGVsZW0sIFwicHJldmlvdXNTaWJsaW5nXCIgKTtcblx0fSxcblx0bmV4dEFsbDogZnVuY3Rpb24oIGVsZW0gKSB7XG5cdFx0cmV0dXJuIGRpciggZWxlbSwgXCJuZXh0U2libGluZ1wiICk7XG5cdH0sXG5cdHByZXZBbGw6IGZ1bmN0aW9uKCBlbGVtICkge1xuXHRcdHJldHVybiBkaXIoIGVsZW0sIFwicHJldmlvdXNTaWJsaW5nXCIgKTtcblx0fSxcblx0bmV4dFVudGlsOiBmdW5jdGlvbiggZWxlbSwgaSwgdW50aWwgKSB7XG5cdFx0cmV0dXJuIGRpciggZWxlbSwgXCJuZXh0U2libGluZ1wiLCB1bnRpbCApO1xuXHR9LFxuXHRwcmV2VW50aWw6IGZ1bmN0aW9uKCBlbGVtLCBpLCB1bnRpbCApIHtcblx0XHRyZXR1cm4gZGlyKCBlbGVtLCBcInByZXZpb3VzU2libGluZ1wiLCB1bnRpbCApO1xuXHR9LFxuXHRzaWJsaW5nczogZnVuY3Rpb24oIGVsZW0gKSB7XG5cdFx0cmV0dXJuIHNpYmxpbmdzKCAoIGVsZW0ucGFyZW50Tm9kZSB8fCB7fSApLmZpcnN0Q2hpbGQsIGVsZW0gKTtcblx0fSxcblx0Y2hpbGRyZW46IGZ1bmN0aW9uKCBlbGVtICkge1xuXHRcdHJldHVybiBzaWJsaW5ncyggZWxlbS5maXJzdENoaWxkICk7XG5cdH0sXG5cdGNvbnRlbnRzOiBmdW5jdGlvbiggZWxlbSApIHtcbiAgICAgICAgaWYgKCBub2RlTmFtZSggZWxlbSwgXCJpZnJhbWVcIiApICkge1xuICAgICAgICAgICAgcmV0dXJuIGVsZW0uY29udGVudERvY3VtZW50O1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gU3VwcG9ydDogSUUgOSAtIDExIG9ubHksIGlPUyA3IG9ubHksIEFuZHJvaWQgQnJvd3NlciA8PTQuMyBvbmx5XG4gICAgICAgIC8vIFRyZWF0IHRoZSB0ZW1wbGF0ZSBlbGVtZW50IGFzIGEgcmVndWxhciBvbmUgaW4gYnJvd3NlcnMgdGhhdFxuICAgICAgICAvLyBkb24ndCBzdXBwb3J0IGl0LlxuICAgICAgICBpZiAoIG5vZGVOYW1lKCBlbGVtLCBcInRlbXBsYXRlXCIgKSApIHtcbiAgICAgICAgICAgIGVsZW0gPSBlbGVtLmNvbnRlbnQgfHwgZWxlbTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBqUXVlcnkubWVyZ2UoIFtdLCBlbGVtLmNoaWxkTm9kZXMgKTtcblx0fVxufSwgZnVuY3Rpb24oIG5hbWUsIGZuICkge1xuXHRqUXVlcnkuZm5bIG5hbWUgXSA9IGZ1bmN0aW9uKCB1bnRpbCwgc2VsZWN0b3IgKSB7XG5cdFx0dmFyIG1hdGNoZWQgPSBqUXVlcnkubWFwKCB0aGlzLCBmbiwgdW50aWwgKTtcblxuXHRcdGlmICggbmFtZS5zbGljZSggLTUgKSAhPT0gXCJVbnRpbFwiICkge1xuXHRcdFx0c2VsZWN0b3IgPSB1bnRpbDtcblx0XHR9XG5cblx0XHRpZiAoIHNlbGVjdG9yICYmIHR5cGVvZiBzZWxlY3RvciA9PT0gXCJzdHJpbmdcIiApIHtcblx0XHRcdG1hdGNoZWQgPSBqUXVlcnkuZmlsdGVyKCBzZWxlY3RvciwgbWF0Y2hlZCApO1xuXHRcdH1cblxuXHRcdGlmICggdGhpcy5sZW5ndGggPiAxICkge1xuXG5cdFx0XHQvLyBSZW1vdmUgZHVwbGljYXRlc1xuXHRcdFx0aWYgKCAhZ3VhcmFudGVlZFVuaXF1ZVsgbmFtZSBdICkge1xuXHRcdFx0XHRqUXVlcnkudW5pcXVlU29ydCggbWF0Y2hlZCApO1xuXHRcdFx0fVxuXG5cdFx0XHQvLyBSZXZlcnNlIG9yZGVyIGZvciBwYXJlbnRzKiBhbmQgcHJldi1kZXJpdmF0aXZlc1xuXHRcdFx0aWYgKCBycGFyZW50c3ByZXYudGVzdCggbmFtZSApICkge1xuXHRcdFx0XHRtYXRjaGVkLnJldmVyc2UoKTtcblx0XHRcdH1cblx0XHR9XG5cblx0XHRyZXR1cm4gdGhpcy5wdXNoU3RhY2soIG1hdGNoZWQgKTtcblx0fTtcbn0gKTtcbnZhciBybm90aHRtbHdoaXRlID0gKCAvW15cXHgyMFxcdFxcclxcblxcZl0rL2cgKTtcblxuXG5cbi8vIENvbnZlcnQgU3RyaW5nLWZvcm1hdHRlZCBvcHRpb25zIGludG8gT2JqZWN0LWZvcm1hdHRlZCBvbmVzXG5mdW5jdGlvbiBjcmVhdGVPcHRpb25zKCBvcHRpb25zICkge1xuXHR2YXIgb2JqZWN0ID0ge307XG5cdGpRdWVyeS5lYWNoKCBvcHRpb25zLm1hdGNoKCBybm90aHRtbHdoaXRlICkgfHwgW10sIGZ1bmN0aW9uKCBfLCBmbGFnICkge1xuXHRcdG9iamVjdFsgZmxhZyBdID0gdHJ1ZTtcblx0fSApO1xuXHRyZXR1cm4gb2JqZWN0O1xufVxuXG4vKlxuICogQ3JlYXRlIGEgY2FsbGJhY2sgbGlzdCB1c2luZyB0aGUgZm9sbG93aW5nIHBhcmFtZXRlcnM6XG4gKlxuICpcdG9wdGlvbnM6IGFuIG9wdGlvbmFsIGxpc3Qgb2Ygc3BhY2Utc2VwYXJhdGVkIG9wdGlvbnMgdGhhdCB3aWxsIGNoYW5nZSBob3dcbiAqXHRcdFx0dGhlIGNhbGxiYWNrIGxpc3QgYmVoYXZlcyBvciBhIG1vcmUgdHJhZGl0aW9uYWwgb3B0aW9uIG9iamVjdFxuICpcbiAqIEJ5IGRlZmF1bHQgYSBjYWxsYmFjayBsaXN0IHdpbGwgYWN0IGxpa2UgYW4gZXZlbnQgY2FsbGJhY2sgbGlzdCBhbmQgY2FuIGJlXG4gKiBcImZpcmVkXCIgbXVsdGlwbGUgdGltZXMuXG4gKlxuICogUG9zc2libGUgb3B0aW9uczpcbiAqXG4gKlx0b25jZTpcdFx0XHR3aWxsIGVuc3VyZSB0aGUgY2FsbGJhY2sgbGlzdCBjYW4gb25seSBiZSBmaXJlZCBvbmNlIChsaWtlIGEgRGVmZXJyZWQpXG4gKlxuICpcdG1lbW9yeTpcdFx0XHR3aWxsIGtlZXAgdHJhY2sgb2YgcHJldmlvdXMgdmFsdWVzIGFuZCB3aWxsIGNhbGwgYW55IGNhbGxiYWNrIGFkZGVkXG4gKlx0XHRcdFx0XHRhZnRlciB0aGUgbGlzdCBoYXMgYmVlbiBmaXJlZCByaWdodCBhd2F5IHdpdGggdGhlIGxhdGVzdCBcIm1lbW9yaXplZFwiXG4gKlx0XHRcdFx0XHR2YWx1ZXMgKGxpa2UgYSBEZWZlcnJlZClcbiAqXG4gKlx0dW5pcXVlOlx0XHRcdHdpbGwgZW5zdXJlIGEgY2FsbGJhY2sgY2FuIG9ubHkgYmUgYWRkZWQgb25jZSAobm8gZHVwbGljYXRlIGluIHRoZSBsaXN0KVxuICpcbiAqXHRzdG9wT25GYWxzZTpcdGludGVycnVwdCBjYWxsaW5ncyB3aGVuIGEgY2FsbGJhY2sgcmV0dXJucyBmYWxzZVxuICpcbiAqL1xualF1ZXJ5LkNhbGxiYWNrcyA9IGZ1bmN0aW9uKCBvcHRpb25zICkge1xuXG5cdC8vIENvbnZlcnQgb3B0aW9ucyBmcm9tIFN0cmluZy1mb3JtYXR0ZWQgdG8gT2JqZWN0LWZvcm1hdHRlZCBpZiBuZWVkZWRcblx0Ly8gKHdlIGNoZWNrIGluIGNhY2hlIGZpcnN0KVxuXHRvcHRpb25zID0gdHlwZW9mIG9wdGlvbnMgPT09IFwic3RyaW5nXCIgP1xuXHRcdGNyZWF0ZU9wdGlvbnMoIG9wdGlvbnMgKSA6XG5cdFx0alF1ZXJ5LmV4dGVuZCgge30sIG9wdGlvbnMgKTtcblxuXHR2YXIgLy8gRmxhZyB0byBrbm93IGlmIGxpc3QgaXMgY3VycmVudGx5IGZpcmluZ1xuXHRcdGZpcmluZyxcblxuXHRcdC8vIExhc3QgZmlyZSB2YWx1ZSBmb3Igbm9uLWZvcmdldHRhYmxlIGxpc3RzXG5cdFx0bWVtb3J5LFxuXG5cdFx0Ly8gRmxhZyB0byBrbm93IGlmIGxpc3Qgd2FzIGFscmVhZHkgZmlyZWRcblx0XHRmaXJlZCxcblxuXHRcdC8vIEZsYWcgdG8gcHJldmVudCBmaXJpbmdcblx0XHRsb2NrZWQsXG5cblx0XHQvLyBBY3R1YWwgY2FsbGJhY2sgbGlzdFxuXHRcdGxpc3QgPSBbXSxcblxuXHRcdC8vIFF1ZXVlIG9mIGV4ZWN1dGlvbiBkYXRhIGZvciByZXBlYXRhYmxlIGxpc3RzXG5cdFx0cXVldWUgPSBbXSxcblxuXHRcdC8vIEluZGV4IG9mIGN1cnJlbnRseSBmaXJpbmcgY2FsbGJhY2sgKG1vZGlmaWVkIGJ5IGFkZC9yZW1vdmUgYXMgbmVlZGVkKVxuXHRcdGZpcmluZ0luZGV4ID0gLTEsXG5cblx0XHQvLyBGaXJlIGNhbGxiYWNrc1xuXHRcdGZpcmUgPSBmdW5jdGlvbigpIHtcblxuXHRcdFx0Ly8gRW5mb3JjZSBzaW5nbGUtZmlyaW5nXG5cdFx0XHRsb2NrZWQgPSBsb2NrZWQgfHwgb3B0aW9ucy5vbmNlO1xuXG5cdFx0XHQvLyBFeGVjdXRlIGNhbGxiYWNrcyBmb3IgYWxsIHBlbmRpbmcgZXhlY3V0aW9ucyxcblx0XHRcdC8vIHJlc3BlY3RpbmcgZmlyaW5nSW5kZXggb3ZlcnJpZGVzIGFuZCBydW50aW1lIGNoYW5nZXNcblx0XHRcdGZpcmVkID0gZmlyaW5nID0gdHJ1ZTtcblx0XHRcdGZvciAoIDsgcXVldWUubGVuZ3RoOyBmaXJpbmdJbmRleCA9IC0xICkge1xuXHRcdFx0XHRtZW1vcnkgPSBxdWV1ZS5zaGlmdCgpO1xuXHRcdFx0XHR3aGlsZSAoICsrZmlyaW5nSW5kZXggPCBsaXN0Lmxlbmd0aCApIHtcblxuXHRcdFx0XHRcdC8vIFJ1biBjYWxsYmFjayBhbmQgY2hlY2sgZm9yIGVhcmx5IHRlcm1pbmF0aW9uXG5cdFx0XHRcdFx0aWYgKCBsaXN0WyBmaXJpbmdJbmRleCBdLmFwcGx5KCBtZW1vcnlbIDAgXSwgbWVtb3J5WyAxIF0gKSA9PT0gZmFsc2UgJiZcblx0XHRcdFx0XHRcdG9wdGlvbnMuc3RvcE9uRmFsc2UgKSB7XG5cblx0XHRcdFx0XHRcdC8vIEp1bXAgdG8gZW5kIGFuZCBmb3JnZXQgdGhlIGRhdGEgc28gLmFkZCBkb2Vzbid0IHJlLWZpcmVcblx0XHRcdFx0XHRcdGZpcmluZ0luZGV4ID0gbGlzdC5sZW5ndGg7XG5cdFx0XHRcdFx0XHRtZW1vcnkgPSBmYWxzZTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblx0XHRcdH1cblxuXHRcdFx0Ly8gRm9yZ2V0IHRoZSBkYXRhIGlmIHdlJ3JlIGRvbmUgd2l0aCBpdFxuXHRcdFx0aWYgKCAhb3B0aW9ucy5tZW1vcnkgKSB7XG5cdFx0XHRcdG1lbW9yeSA9IGZhbHNlO1xuXHRcdFx0fVxuXG5cdFx0XHRmaXJpbmcgPSBmYWxzZTtcblxuXHRcdFx0Ly8gQ2xlYW4gdXAgaWYgd2UncmUgZG9uZSBmaXJpbmcgZm9yIGdvb2Rcblx0XHRcdGlmICggbG9ja2VkICkge1xuXG5cdFx0XHRcdC8vIEtlZXAgYW4gZW1wdHkgbGlzdCBpZiB3ZSBoYXZlIGRhdGEgZm9yIGZ1dHVyZSBhZGQgY2FsbHNcblx0XHRcdFx0aWYgKCBtZW1vcnkgKSB7XG5cdFx0XHRcdFx0bGlzdCA9IFtdO1xuXG5cdFx0XHRcdC8vIE90aGVyd2lzZSwgdGhpcyBvYmplY3QgaXMgc3BlbnRcblx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRsaXN0ID0gXCJcIjtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH0sXG5cblx0XHQvLyBBY3R1YWwgQ2FsbGJhY2tzIG9iamVjdFxuXHRcdHNlbGYgPSB7XG5cblx0XHRcdC8vIEFkZCBhIGNhbGxiYWNrIG9yIGEgY29sbGVjdGlvbiBvZiBjYWxsYmFja3MgdG8gdGhlIGxpc3Rcblx0XHRcdGFkZDogZnVuY3Rpb24oKSB7XG5cdFx0XHRcdGlmICggbGlzdCApIHtcblxuXHRcdFx0XHRcdC8vIElmIHdlIGhhdmUgbWVtb3J5IGZyb20gYSBwYXN0IHJ1biwgd2Ugc2hvdWxkIGZpcmUgYWZ0ZXIgYWRkaW5nXG5cdFx0XHRcdFx0aWYgKCBtZW1vcnkgJiYgIWZpcmluZyApIHtcblx0XHRcdFx0XHRcdGZpcmluZ0luZGV4ID0gbGlzdC5sZW5ndGggLSAxO1xuXHRcdFx0XHRcdFx0cXVldWUucHVzaCggbWVtb3J5ICk7XG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0KCBmdW5jdGlvbiBhZGQoIGFyZ3MgKSB7XG5cdFx0XHRcdFx0XHRqUXVlcnkuZWFjaCggYXJncywgZnVuY3Rpb24oIF8sIGFyZyApIHtcblx0XHRcdFx0XHRcdFx0aWYgKCBqUXVlcnkuaXNGdW5jdGlvbiggYXJnICkgKSB7XG5cdFx0XHRcdFx0XHRcdFx0aWYgKCAhb3B0aW9ucy51bmlxdWUgfHwgIXNlbGYuaGFzKCBhcmcgKSApIHtcblx0XHRcdFx0XHRcdFx0XHRcdGxpc3QucHVzaCggYXJnICk7XG5cdFx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0XHR9IGVsc2UgaWYgKCBhcmcgJiYgYXJnLmxlbmd0aCAmJiBqUXVlcnkudHlwZSggYXJnICkgIT09IFwic3RyaW5nXCIgKSB7XG5cblx0XHRcdFx0XHRcdFx0XHQvLyBJbnNwZWN0IHJlY3Vyc2l2ZWx5XG5cdFx0XHRcdFx0XHRcdFx0YWRkKCBhcmcgKTtcblx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0fSApO1xuXHRcdFx0XHRcdH0gKSggYXJndW1lbnRzICk7XG5cblx0XHRcdFx0XHRpZiAoIG1lbW9yeSAmJiAhZmlyaW5nICkge1xuXHRcdFx0XHRcdFx0ZmlyZSgpO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXHRcdFx0XHRyZXR1cm4gdGhpcztcblx0XHRcdH0sXG5cblx0XHRcdC8vIFJlbW92ZSBhIGNhbGxiYWNrIGZyb20gdGhlIGxpc3Rcblx0XHRcdHJlbW92ZTogZnVuY3Rpb24oKSB7XG5cdFx0XHRcdGpRdWVyeS5lYWNoKCBhcmd1bWVudHMsIGZ1bmN0aW9uKCBfLCBhcmcgKSB7XG5cdFx0XHRcdFx0dmFyIGluZGV4O1xuXHRcdFx0XHRcdHdoaWxlICggKCBpbmRleCA9IGpRdWVyeS5pbkFycmF5KCBhcmcsIGxpc3QsIGluZGV4ICkgKSA+IC0xICkge1xuXHRcdFx0XHRcdFx0bGlzdC5zcGxpY2UoIGluZGV4LCAxICk7XG5cblx0XHRcdFx0XHRcdC8vIEhhbmRsZSBmaXJpbmcgaW5kZXhlc1xuXHRcdFx0XHRcdFx0aWYgKCBpbmRleCA8PSBmaXJpbmdJbmRleCApIHtcblx0XHRcdFx0XHRcdFx0ZmlyaW5nSW5kZXgtLTtcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHR9XG5cdFx0XHRcdH0gKTtcblx0XHRcdFx0cmV0dXJuIHRoaXM7XG5cdFx0XHR9LFxuXG5cdFx0XHQvLyBDaGVjayBpZiBhIGdpdmVuIGNhbGxiYWNrIGlzIGluIHRoZSBsaXN0LlxuXHRcdFx0Ly8gSWYgbm8gYXJndW1lbnQgaXMgZ2l2ZW4sIHJldHVybiB3aGV0aGVyIG9yIG5vdCBsaXN0IGhhcyBjYWxsYmFja3MgYXR0YWNoZWQuXG5cdFx0XHRoYXM6IGZ1bmN0aW9uKCBmbiApIHtcblx0XHRcdFx0cmV0dXJuIGZuID9cblx0XHRcdFx0XHRqUXVlcnkuaW5BcnJheSggZm4sIGxpc3QgKSA+IC0xIDpcblx0XHRcdFx0XHRsaXN0Lmxlbmd0aCA+IDA7XG5cdFx0XHR9LFxuXG5cdFx0XHQvLyBSZW1vdmUgYWxsIGNhbGxiYWNrcyBmcm9tIHRoZSBsaXN0XG5cdFx0XHRlbXB0eTogZnVuY3Rpb24oKSB7XG5cdFx0XHRcdGlmICggbGlzdCApIHtcblx0XHRcdFx0XHRsaXN0ID0gW107XG5cdFx0XHRcdH1cblx0XHRcdFx0cmV0dXJuIHRoaXM7XG5cdFx0XHR9LFxuXG5cdFx0XHQvLyBEaXNhYmxlIC5maXJlIGFuZCAuYWRkXG5cdFx0XHQvLyBBYm9ydCBhbnkgY3VycmVudC9wZW5kaW5nIGV4ZWN1dGlvbnNcblx0XHRcdC8vIENsZWFyIGFsbCBjYWxsYmFja3MgYW5kIHZhbHVlc1xuXHRcdFx0ZGlzYWJsZTogZnVuY3Rpb24oKSB7XG5cdFx0XHRcdGxvY2tlZCA9IHF1ZXVlID0gW107XG5cdFx0XHRcdGxpc3QgPSBtZW1vcnkgPSBcIlwiO1xuXHRcdFx0XHRyZXR1cm4gdGhpcztcblx0XHRcdH0sXG5cdFx0XHRkaXNhYmxlZDogZnVuY3Rpb24oKSB7XG5cdFx0XHRcdHJldHVybiAhbGlzdDtcblx0XHRcdH0sXG5cblx0XHRcdC8vIERpc2FibGUgLmZpcmVcblx0XHRcdC8vIEFsc28gZGlzYWJsZSAuYWRkIHVubGVzcyB3ZSBoYXZlIG1lbW9yeSAoc2luY2UgaXQgd291bGQgaGF2ZSBubyBlZmZlY3QpXG5cdFx0XHQvLyBBYm9ydCBhbnkgcGVuZGluZyBleGVjdXRpb25zXG5cdFx0XHRsb2NrOiBmdW5jdGlvbigpIHtcblx0XHRcdFx0bG9ja2VkID0gcXVldWUgPSBbXTtcblx0XHRcdFx0aWYgKCAhbWVtb3J5ICYmICFmaXJpbmcgKSB7XG5cdFx0XHRcdFx0bGlzdCA9IG1lbW9yeSA9IFwiXCI7XG5cdFx0XHRcdH1cblx0XHRcdFx0cmV0dXJuIHRoaXM7XG5cdFx0XHR9LFxuXHRcdFx0bG9ja2VkOiBmdW5jdGlvbigpIHtcblx0XHRcdFx0cmV0dXJuICEhbG9ja2VkO1xuXHRcdFx0fSxcblxuXHRcdFx0Ly8gQ2FsbCBhbGwgY2FsbGJhY2tzIHdpdGggdGhlIGdpdmVuIGNvbnRleHQgYW5kIGFyZ3VtZW50c1xuXHRcdFx0ZmlyZVdpdGg6IGZ1bmN0aW9uKCBjb250ZXh0LCBhcmdzICkge1xuXHRcdFx0XHRpZiAoICFsb2NrZWQgKSB7XG5cdFx0XHRcdFx0YXJncyA9IGFyZ3MgfHwgW107XG5cdFx0XHRcdFx0YXJncyA9IFsgY29udGV4dCwgYXJncy5zbGljZSA/IGFyZ3Muc2xpY2UoKSA6IGFyZ3MgXTtcblx0XHRcdFx0XHRxdWV1ZS5wdXNoKCBhcmdzICk7XG5cdFx0XHRcdFx0aWYgKCAhZmlyaW5nICkge1xuXHRcdFx0XHRcdFx0ZmlyZSgpO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXHRcdFx0XHRyZXR1cm4gdGhpcztcblx0XHRcdH0sXG5cblx0XHRcdC8vIENhbGwgYWxsIHRoZSBjYWxsYmFja3Mgd2l0aCB0aGUgZ2l2ZW4gYXJndW1lbnRzXG5cdFx0XHRmaXJlOiBmdW5jdGlvbigpIHtcblx0XHRcdFx0c2VsZi5maXJlV2l0aCggdGhpcywgYXJndW1lbnRzICk7XG5cdFx0XHRcdHJldHVybiB0aGlzO1xuXHRcdFx0fSxcblxuXHRcdFx0Ly8gVG8ga25vdyBpZiB0aGUgY2FsbGJhY2tzIGhhdmUgYWxyZWFkeSBiZWVuIGNhbGxlZCBhdCBsZWFzdCBvbmNlXG5cdFx0XHRmaXJlZDogZnVuY3Rpb24oKSB7XG5cdFx0XHRcdHJldHVybiAhIWZpcmVkO1xuXHRcdFx0fVxuXHRcdH07XG5cblx0cmV0dXJuIHNlbGY7XG59O1xuXG5cbmZ1bmN0aW9uIElkZW50aXR5KCB2ICkge1xuXHRyZXR1cm4gdjtcbn1cbmZ1bmN0aW9uIFRocm93ZXIoIGV4ICkge1xuXHR0aHJvdyBleDtcbn1cblxuZnVuY3Rpb24gYWRvcHRWYWx1ZSggdmFsdWUsIHJlc29sdmUsIHJlamVjdCwgbm9WYWx1ZSApIHtcblx0dmFyIG1ldGhvZDtcblxuXHR0cnkge1xuXG5cdFx0Ly8gQ2hlY2sgZm9yIHByb21pc2UgYXNwZWN0IGZpcnN0IHRvIHByaXZpbGVnZSBzeW5jaHJvbm91cyBiZWhhdmlvclxuXHRcdGlmICggdmFsdWUgJiYgalF1ZXJ5LmlzRnVuY3Rpb24oICggbWV0aG9kID0gdmFsdWUucHJvbWlzZSApICkgKSB7XG5cdFx0XHRtZXRob2QuY2FsbCggdmFsdWUgKS5kb25lKCByZXNvbHZlICkuZmFpbCggcmVqZWN0ICk7XG5cblx0XHQvLyBPdGhlciB0aGVuYWJsZXNcblx0XHR9IGVsc2UgaWYgKCB2YWx1ZSAmJiBqUXVlcnkuaXNGdW5jdGlvbiggKCBtZXRob2QgPSB2YWx1ZS50aGVuICkgKSApIHtcblx0XHRcdG1ldGhvZC5jYWxsKCB2YWx1ZSwgcmVzb2x2ZSwgcmVqZWN0ICk7XG5cblx0XHQvLyBPdGhlciBub24tdGhlbmFibGVzXG5cdFx0fSBlbHNlIHtcblxuXHRcdFx0Ly8gQ29udHJvbCBgcmVzb2x2ZWAgYXJndW1lbnRzIGJ5IGxldHRpbmcgQXJyYXkjc2xpY2UgY2FzdCBib29sZWFuIGBub1ZhbHVlYCB0byBpbnRlZ2VyOlxuXHRcdFx0Ly8gKiBmYWxzZTogWyB2YWx1ZSBdLnNsaWNlKCAwICkgPT4gcmVzb2x2ZSggdmFsdWUgKVxuXHRcdFx0Ly8gKiB0cnVlOiBbIHZhbHVlIF0uc2xpY2UoIDEgKSA9PiByZXNvbHZlKClcblx0XHRcdHJlc29sdmUuYXBwbHkoIHVuZGVmaW5lZCwgWyB2YWx1ZSBdLnNsaWNlKCBub1ZhbHVlICkgKTtcblx0XHR9XG5cblx0Ly8gRm9yIFByb21pc2VzL0ErLCBjb252ZXJ0IGV4Y2VwdGlvbnMgaW50byByZWplY3Rpb25zXG5cdC8vIFNpbmNlIGpRdWVyeS53aGVuIGRvZXNuJ3QgdW53cmFwIHRoZW5hYmxlcywgd2UgY2FuIHNraXAgdGhlIGV4dHJhIGNoZWNrcyBhcHBlYXJpbmcgaW5cblx0Ly8gRGVmZXJyZWQjdGhlbiB0byBjb25kaXRpb25hbGx5IHN1cHByZXNzIHJlamVjdGlvbi5cblx0fSBjYXRjaCAoIHZhbHVlICkge1xuXG5cdFx0Ly8gU3VwcG9ydDogQW5kcm9pZCA0LjAgb25seVxuXHRcdC8vIFN0cmljdCBtb2RlIGZ1bmN0aW9ucyBpbnZva2VkIHdpdGhvdXQgLmNhbGwvLmFwcGx5IGdldCBnbG9iYWwtb2JqZWN0IGNvbnRleHRcblx0XHRyZWplY3QuYXBwbHkoIHVuZGVmaW5lZCwgWyB2YWx1ZSBdICk7XG5cdH1cbn1cblxualF1ZXJ5LmV4dGVuZCgge1xuXG5cdERlZmVycmVkOiBmdW5jdGlvbiggZnVuYyApIHtcblx0XHR2YXIgdHVwbGVzID0gW1xuXG5cdFx0XHRcdC8vIGFjdGlvbiwgYWRkIGxpc3RlbmVyLCBjYWxsYmFja3MsXG5cdFx0XHRcdC8vIC4uLiAudGhlbiBoYW5kbGVycywgYXJndW1lbnQgaW5kZXgsIFtmaW5hbCBzdGF0ZV1cblx0XHRcdFx0WyBcIm5vdGlmeVwiLCBcInByb2dyZXNzXCIsIGpRdWVyeS5DYWxsYmFja3MoIFwibWVtb3J5XCIgKSxcblx0XHRcdFx0XHRqUXVlcnkuQ2FsbGJhY2tzKCBcIm1lbW9yeVwiICksIDIgXSxcblx0XHRcdFx0WyBcInJlc29sdmVcIiwgXCJkb25lXCIsIGpRdWVyeS5DYWxsYmFja3MoIFwib25jZSBtZW1vcnlcIiApLFxuXHRcdFx0XHRcdGpRdWVyeS5DYWxsYmFja3MoIFwib25jZSBtZW1vcnlcIiApLCAwLCBcInJlc29sdmVkXCIgXSxcblx0XHRcdFx0WyBcInJlamVjdFwiLCBcImZhaWxcIiwgalF1ZXJ5LkNhbGxiYWNrcyggXCJvbmNlIG1lbW9yeVwiICksXG5cdFx0XHRcdFx0alF1ZXJ5LkNhbGxiYWNrcyggXCJvbmNlIG1lbW9yeVwiICksIDEsIFwicmVqZWN0ZWRcIiBdXG5cdFx0XHRdLFxuXHRcdFx0c3RhdGUgPSBcInBlbmRpbmdcIixcblx0XHRcdHByb21pc2UgPSB7XG5cdFx0XHRcdHN0YXRlOiBmdW5jdGlvbigpIHtcblx0XHRcdFx0XHRyZXR1cm4gc3RhdGU7XG5cdFx0XHRcdH0sXG5cdFx0XHRcdGFsd2F5czogZnVuY3Rpb24oKSB7XG5cdFx0XHRcdFx0ZGVmZXJyZWQuZG9uZSggYXJndW1lbnRzICkuZmFpbCggYXJndW1lbnRzICk7XG5cdFx0XHRcdFx0cmV0dXJuIHRoaXM7XG5cdFx0XHRcdH0sXG5cdFx0XHRcdFwiY2F0Y2hcIjogZnVuY3Rpb24oIGZuICkge1xuXHRcdFx0XHRcdHJldHVybiBwcm9taXNlLnRoZW4oIG51bGwsIGZuICk7XG5cdFx0XHRcdH0sXG5cblx0XHRcdFx0Ly8gS2VlcCBwaXBlIGZvciBiYWNrLWNvbXBhdFxuXHRcdFx0XHRwaXBlOiBmdW5jdGlvbiggLyogZm5Eb25lLCBmbkZhaWwsIGZuUHJvZ3Jlc3MgKi8gKSB7XG5cdFx0XHRcdFx0dmFyIGZucyA9IGFyZ3VtZW50cztcblxuXHRcdFx0XHRcdHJldHVybiBqUXVlcnkuRGVmZXJyZWQoIGZ1bmN0aW9uKCBuZXdEZWZlciApIHtcblx0XHRcdFx0XHRcdGpRdWVyeS5lYWNoKCB0dXBsZXMsIGZ1bmN0aW9uKCBpLCB0dXBsZSApIHtcblxuXHRcdFx0XHRcdFx0XHQvLyBNYXAgdHVwbGVzIChwcm9ncmVzcywgZG9uZSwgZmFpbCkgdG8gYXJndW1lbnRzIChkb25lLCBmYWlsLCBwcm9ncmVzcylcblx0XHRcdFx0XHRcdFx0dmFyIGZuID0galF1ZXJ5LmlzRnVuY3Rpb24oIGZuc1sgdHVwbGVbIDQgXSBdICkgJiYgZm5zWyB0dXBsZVsgNCBdIF07XG5cblx0XHRcdFx0XHRcdFx0Ly8gZGVmZXJyZWQucHJvZ3Jlc3MoZnVuY3Rpb24oKSB7IGJpbmQgdG8gbmV3RGVmZXIgb3IgbmV3RGVmZXIubm90aWZ5IH0pXG5cdFx0XHRcdFx0XHRcdC8vIGRlZmVycmVkLmRvbmUoZnVuY3Rpb24oKSB7IGJpbmQgdG8gbmV3RGVmZXIgb3IgbmV3RGVmZXIucmVzb2x2ZSB9KVxuXHRcdFx0XHRcdFx0XHQvLyBkZWZlcnJlZC5mYWlsKGZ1bmN0aW9uKCkgeyBiaW5kIHRvIG5ld0RlZmVyIG9yIG5ld0RlZmVyLnJlamVjdCB9KVxuXHRcdFx0XHRcdFx0XHRkZWZlcnJlZFsgdHVwbGVbIDEgXSBdKCBmdW5jdGlvbigpIHtcblx0XHRcdFx0XHRcdFx0XHR2YXIgcmV0dXJuZWQgPSBmbiAmJiBmbi5hcHBseSggdGhpcywgYXJndW1lbnRzICk7XG5cdFx0XHRcdFx0XHRcdFx0aWYgKCByZXR1cm5lZCAmJiBqUXVlcnkuaXNGdW5jdGlvbiggcmV0dXJuZWQucHJvbWlzZSApICkge1xuXHRcdFx0XHRcdFx0XHRcdFx0cmV0dXJuZWQucHJvbWlzZSgpXG5cdFx0XHRcdFx0XHRcdFx0XHRcdC5wcm9ncmVzcyggbmV3RGVmZXIubm90aWZ5IClcblx0XHRcdFx0XHRcdFx0XHRcdFx0LmRvbmUoIG5ld0RlZmVyLnJlc29sdmUgKVxuXHRcdFx0XHRcdFx0XHRcdFx0XHQuZmFpbCggbmV3RGVmZXIucmVqZWN0ICk7XG5cdFx0XHRcdFx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRcdFx0XHRcdG5ld0RlZmVyWyB0dXBsZVsgMCBdICsgXCJXaXRoXCIgXShcblx0XHRcdFx0XHRcdFx0XHRcdFx0dGhpcyxcblx0XHRcdFx0XHRcdFx0XHRcdFx0Zm4gPyBbIHJldHVybmVkIF0gOiBhcmd1bWVudHNcblx0XHRcdFx0XHRcdFx0XHRcdCk7XG5cdFx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0XHR9ICk7XG5cdFx0XHRcdFx0XHR9ICk7XG5cdFx0XHRcdFx0XHRmbnMgPSBudWxsO1xuXHRcdFx0XHRcdH0gKS5wcm9taXNlKCk7XG5cdFx0XHRcdH0sXG5cdFx0XHRcdHRoZW46IGZ1bmN0aW9uKCBvbkZ1bGZpbGxlZCwgb25SZWplY3RlZCwgb25Qcm9ncmVzcyApIHtcblx0XHRcdFx0XHR2YXIgbWF4RGVwdGggPSAwO1xuXHRcdFx0XHRcdGZ1bmN0aW9uIHJlc29sdmUoIGRlcHRoLCBkZWZlcnJlZCwgaGFuZGxlciwgc3BlY2lhbCApIHtcblx0XHRcdFx0XHRcdHJldHVybiBmdW5jdGlvbigpIHtcblx0XHRcdFx0XHRcdFx0dmFyIHRoYXQgPSB0aGlzLFxuXHRcdFx0XHRcdFx0XHRcdGFyZ3MgPSBhcmd1bWVudHMsXG5cdFx0XHRcdFx0XHRcdFx0bWlnaHRUaHJvdyA9IGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRcdFx0XHRcdFx0dmFyIHJldHVybmVkLCB0aGVuO1xuXG5cdFx0XHRcdFx0XHRcdFx0XHQvLyBTdXBwb3J0OiBQcm9taXNlcy9BKyBzZWN0aW9uIDIuMy4zLjMuM1xuXHRcdFx0XHRcdFx0XHRcdFx0Ly8gaHR0cHM6Ly9wcm9taXNlc2FwbHVzLmNvbS8jcG9pbnQtNTlcblx0XHRcdFx0XHRcdFx0XHRcdC8vIElnbm9yZSBkb3VibGUtcmVzb2x1dGlvbiBhdHRlbXB0c1xuXHRcdFx0XHRcdFx0XHRcdFx0aWYgKCBkZXB0aCA8IG1heERlcHRoICkge1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRyZXR1cm47XG5cdFx0XHRcdFx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRcdFx0XHRcdHJldHVybmVkID0gaGFuZGxlci5hcHBseSggdGhhdCwgYXJncyApO1xuXG5cdFx0XHRcdFx0XHRcdFx0XHQvLyBTdXBwb3J0OiBQcm9taXNlcy9BKyBzZWN0aW9uIDIuMy4xXG5cdFx0XHRcdFx0XHRcdFx0XHQvLyBodHRwczovL3Byb21pc2VzYXBsdXMuY29tLyNwb2ludC00OFxuXHRcdFx0XHRcdFx0XHRcdFx0aWYgKCByZXR1cm5lZCA9PT0gZGVmZXJyZWQucHJvbWlzZSgpICkge1xuXHRcdFx0XHRcdFx0XHRcdFx0XHR0aHJvdyBuZXcgVHlwZUVycm9yKCBcIlRoZW5hYmxlIHNlbGYtcmVzb2x1dGlvblwiICk7XG5cdFx0XHRcdFx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRcdFx0XHRcdC8vIFN1cHBvcnQ6IFByb21pc2VzL0ErIHNlY3Rpb25zIDIuMy4zLjEsIDMuNVxuXHRcdFx0XHRcdFx0XHRcdFx0Ly8gaHR0cHM6Ly9wcm9taXNlc2FwbHVzLmNvbS8jcG9pbnQtNTRcblx0XHRcdFx0XHRcdFx0XHRcdC8vIGh0dHBzOi8vcHJvbWlzZXNhcGx1cy5jb20vI3BvaW50LTc1XG5cdFx0XHRcdFx0XHRcdFx0XHQvLyBSZXRyaWV2ZSBgdGhlbmAgb25seSBvbmNlXG5cdFx0XHRcdFx0XHRcdFx0XHR0aGVuID0gcmV0dXJuZWQgJiZcblxuXHRcdFx0XHRcdFx0XHRcdFx0XHQvLyBTdXBwb3J0OiBQcm9taXNlcy9BKyBzZWN0aW9uIDIuMy40XG5cdFx0XHRcdFx0XHRcdFx0XHRcdC8vIGh0dHBzOi8vcHJvbWlzZXNhcGx1cy5jb20vI3BvaW50LTY0XG5cdFx0XHRcdFx0XHRcdFx0XHRcdC8vIE9ubHkgY2hlY2sgb2JqZWN0cyBhbmQgZnVuY3Rpb25zIGZvciB0aGVuYWJpbGl0eVxuXHRcdFx0XHRcdFx0XHRcdFx0XHQoIHR5cGVvZiByZXR1cm5lZCA9PT0gXCJvYmplY3RcIiB8fFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdHR5cGVvZiByZXR1cm5lZCA9PT0gXCJmdW5jdGlvblwiICkgJiZcblx0XHRcdFx0XHRcdFx0XHRcdFx0cmV0dXJuZWQudGhlbjtcblxuXHRcdFx0XHRcdFx0XHRcdFx0Ly8gSGFuZGxlIGEgcmV0dXJuZWQgdGhlbmFibGVcblx0XHRcdFx0XHRcdFx0XHRcdGlmICggalF1ZXJ5LmlzRnVuY3Rpb24oIHRoZW4gKSApIHtcblxuXHRcdFx0XHRcdFx0XHRcdFx0XHQvLyBTcGVjaWFsIHByb2Nlc3NvcnMgKG5vdGlmeSkganVzdCB3YWl0IGZvciByZXNvbHV0aW9uXG5cdFx0XHRcdFx0XHRcdFx0XHRcdGlmICggc3BlY2lhbCApIHtcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHR0aGVuLmNhbGwoXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRyZXR1cm5lZCxcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdHJlc29sdmUoIG1heERlcHRoLCBkZWZlcnJlZCwgSWRlbnRpdHksIHNwZWNpYWwgKSxcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdHJlc29sdmUoIG1heERlcHRoLCBkZWZlcnJlZCwgVGhyb3dlciwgc3BlY2lhbCApXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0KTtcblxuXHRcdFx0XHRcdFx0XHRcdFx0XHQvLyBOb3JtYWwgcHJvY2Vzc29ycyAocmVzb2x2ZSkgYWxzbyBob29rIGludG8gcHJvZ3Jlc3Ncblx0XHRcdFx0XHRcdFx0XHRcdFx0fSBlbHNlIHtcblxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdC8vIC4uLmFuZCBkaXNyZWdhcmQgb2xkZXIgcmVzb2x1dGlvbiB2YWx1ZXNcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRtYXhEZXB0aCsrO1xuXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0dGhlbi5jYWxsKFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0cmV0dXJuZWQsXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRyZXNvbHZlKCBtYXhEZXB0aCwgZGVmZXJyZWQsIElkZW50aXR5LCBzcGVjaWFsICksXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRyZXNvbHZlKCBtYXhEZXB0aCwgZGVmZXJyZWQsIFRocm93ZXIsIHNwZWNpYWwgKSxcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdHJlc29sdmUoIG1heERlcHRoLCBkZWZlcnJlZCwgSWRlbnRpdHksXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdGRlZmVycmVkLm5vdGlmeVdpdGggKVxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdCk7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdFx0XHRcdFx0Ly8gSGFuZGxlIGFsbCBvdGhlciByZXR1cm5lZCB2YWx1ZXNcblx0XHRcdFx0XHRcdFx0XHRcdH0gZWxzZSB7XG5cblx0XHRcdFx0XHRcdFx0XHRcdFx0Ly8gT25seSBzdWJzdGl0dXRlIGhhbmRsZXJzIHBhc3Mgb24gY29udGV4dFxuXHRcdFx0XHRcdFx0XHRcdFx0XHQvLyBhbmQgbXVsdGlwbGUgdmFsdWVzIChub24tc3BlYyBiZWhhdmlvcilcblx0XHRcdFx0XHRcdFx0XHRcdFx0aWYgKCBoYW5kbGVyICE9PSBJZGVudGl0eSApIHtcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHR0aGF0ID0gdW5kZWZpbmVkO1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdGFyZ3MgPSBbIHJldHVybmVkIF07XG5cdFx0XHRcdFx0XHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdFx0XHRcdFx0XHQvLyBQcm9jZXNzIHRoZSB2YWx1ZShzKVxuXHRcdFx0XHRcdFx0XHRcdFx0XHQvLyBEZWZhdWx0IHByb2Nlc3MgaXMgcmVzb2x2ZVxuXHRcdFx0XHRcdFx0XHRcdFx0XHQoIHNwZWNpYWwgfHwgZGVmZXJyZWQucmVzb2x2ZVdpdGggKSggdGhhdCwgYXJncyApO1xuXHRcdFx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0XHRcdH0sXG5cblx0XHRcdFx0XHRcdFx0XHQvLyBPbmx5IG5vcm1hbCBwcm9jZXNzb3JzIChyZXNvbHZlKSBjYXRjaCBhbmQgcmVqZWN0IGV4Y2VwdGlvbnNcblx0XHRcdFx0XHRcdFx0XHRwcm9jZXNzID0gc3BlY2lhbCA/XG5cdFx0XHRcdFx0XHRcdFx0XHRtaWdodFRocm93IDpcblx0XHRcdFx0XHRcdFx0XHRcdGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRcdFx0XHRcdFx0XHR0cnkge1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdG1pZ2h0VGhyb3coKTtcblx0XHRcdFx0XHRcdFx0XHRcdFx0fSBjYXRjaCAoIGUgKSB7XG5cblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRpZiAoIGpRdWVyeS5EZWZlcnJlZC5leGNlcHRpb25Ib29rICkge1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0alF1ZXJ5LkRlZmVycmVkLmV4Y2VwdGlvbkhvb2soIGUsXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdHByb2Nlc3Muc3RhY2tUcmFjZSApO1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdC8vIFN1cHBvcnQ6IFByb21pc2VzL0ErIHNlY3Rpb24gMi4zLjMuMy40LjFcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHQvLyBodHRwczovL3Byb21pc2VzYXBsdXMuY29tLyNwb2ludC02MVxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdC8vIElnbm9yZSBwb3N0LXJlc29sdXRpb24gZXhjZXB0aW9uc1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdGlmICggZGVwdGggKyAxID49IG1heERlcHRoICkge1xuXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHQvLyBPbmx5IHN1YnN0aXR1dGUgaGFuZGxlcnMgcGFzcyBvbiBjb250ZXh0XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHQvLyBhbmQgbXVsdGlwbGUgdmFsdWVzIChub24tc3BlYyBiZWhhdmlvcilcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdGlmICggaGFuZGxlciAhPT0gVGhyb3dlciApIHtcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0dGhhdCA9IHVuZGVmaW5lZDtcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0YXJncyA9IFsgZSBdO1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRkZWZlcnJlZC5yZWplY3RXaXRoKCB0aGF0LCBhcmdzICk7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRcdFx0XHR9O1xuXG5cdFx0XHRcdFx0XHRcdC8vIFN1cHBvcnQ6IFByb21pc2VzL0ErIHNlY3Rpb24gMi4zLjMuMy4xXG5cdFx0XHRcdFx0XHRcdC8vIGh0dHBzOi8vcHJvbWlzZXNhcGx1cy5jb20vI3BvaW50LTU3XG5cdFx0XHRcdFx0XHRcdC8vIFJlLXJlc29sdmUgcHJvbWlzZXMgaW1tZWRpYXRlbHkgdG8gZG9kZ2UgZmFsc2UgcmVqZWN0aW9uIGZyb21cblx0XHRcdFx0XHRcdFx0Ly8gc3Vic2VxdWVudCBlcnJvcnNcblx0XHRcdFx0XHRcdFx0aWYgKCBkZXB0aCApIHtcblx0XHRcdFx0XHRcdFx0XHRwcm9jZXNzKCk7XG5cdFx0XHRcdFx0XHRcdH0gZWxzZSB7XG5cblx0XHRcdFx0XHRcdFx0XHQvLyBDYWxsIGFuIG9wdGlvbmFsIGhvb2sgdG8gcmVjb3JkIHRoZSBzdGFjaywgaW4gY2FzZSBvZiBleGNlcHRpb25cblx0XHRcdFx0XHRcdFx0XHQvLyBzaW5jZSBpdCdzIG90aGVyd2lzZSBsb3N0IHdoZW4gZXhlY3V0aW9uIGdvZXMgYXN5bmNcblx0XHRcdFx0XHRcdFx0XHRpZiAoIGpRdWVyeS5EZWZlcnJlZC5nZXRTdGFja0hvb2sgKSB7XG5cdFx0XHRcdFx0XHRcdFx0XHRwcm9jZXNzLnN0YWNrVHJhY2UgPSBqUXVlcnkuRGVmZXJyZWQuZ2V0U3RhY2tIb29rKCk7XG5cdFx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0XHRcdHdpbmRvdy5zZXRUaW1lb3V0KCBwcm9jZXNzICk7XG5cdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdH07XG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0cmV0dXJuIGpRdWVyeS5EZWZlcnJlZCggZnVuY3Rpb24oIG5ld0RlZmVyICkge1xuXG5cdFx0XHRcdFx0XHQvLyBwcm9ncmVzc19oYW5kbGVycy5hZGQoIC4uLiApXG5cdFx0XHRcdFx0XHR0dXBsZXNbIDAgXVsgMyBdLmFkZChcblx0XHRcdFx0XHRcdFx0cmVzb2x2ZShcblx0XHRcdFx0XHRcdFx0XHQwLFxuXHRcdFx0XHRcdFx0XHRcdG5ld0RlZmVyLFxuXHRcdFx0XHRcdFx0XHRcdGpRdWVyeS5pc0Z1bmN0aW9uKCBvblByb2dyZXNzICkgP1xuXHRcdFx0XHRcdFx0XHRcdFx0b25Qcm9ncmVzcyA6XG5cdFx0XHRcdFx0XHRcdFx0XHRJZGVudGl0eSxcblx0XHRcdFx0XHRcdFx0XHRuZXdEZWZlci5ub3RpZnlXaXRoXG5cdFx0XHRcdFx0XHRcdClcblx0XHRcdFx0XHRcdCk7XG5cblx0XHRcdFx0XHRcdC8vIGZ1bGZpbGxlZF9oYW5kbGVycy5hZGQoIC4uLiApXG5cdFx0XHRcdFx0XHR0dXBsZXNbIDEgXVsgMyBdLmFkZChcblx0XHRcdFx0XHRcdFx0cmVzb2x2ZShcblx0XHRcdFx0XHRcdFx0XHQwLFxuXHRcdFx0XHRcdFx0XHRcdG5ld0RlZmVyLFxuXHRcdFx0XHRcdFx0XHRcdGpRdWVyeS5pc0Z1bmN0aW9uKCBvbkZ1bGZpbGxlZCApID9cblx0XHRcdFx0XHRcdFx0XHRcdG9uRnVsZmlsbGVkIDpcblx0XHRcdFx0XHRcdFx0XHRcdElkZW50aXR5XG5cdFx0XHRcdFx0XHRcdClcblx0XHRcdFx0XHRcdCk7XG5cblx0XHRcdFx0XHRcdC8vIHJlamVjdGVkX2hhbmRsZXJzLmFkZCggLi4uIClcblx0XHRcdFx0XHRcdHR1cGxlc1sgMiBdWyAzIF0uYWRkKFxuXHRcdFx0XHRcdFx0XHRyZXNvbHZlKFxuXHRcdFx0XHRcdFx0XHRcdDAsXG5cdFx0XHRcdFx0XHRcdFx0bmV3RGVmZXIsXG5cdFx0XHRcdFx0XHRcdFx0alF1ZXJ5LmlzRnVuY3Rpb24oIG9uUmVqZWN0ZWQgKSA/XG5cdFx0XHRcdFx0XHRcdFx0XHRvblJlamVjdGVkIDpcblx0XHRcdFx0XHRcdFx0XHRcdFRocm93ZXJcblx0XHRcdFx0XHRcdFx0KVxuXHRcdFx0XHRcdFx0KTtcblx0XHRcdFx0XHR9ICkucHJvbWlzZSgpO1xuXHRcdFx0XHR9LFxuXG5cdFx0XHRcdC8vIEdldCBhIHByb21pc2UgZm9yIHRoaXMgZGVmZXJyZWRcblx0XHRcdFx0Ly8gSWYgb2JqIGlzIHByb3ZpZGVkLCB0aGUgcHJvbWlzZSBhc3BlY3QgaXMgYWRkZWQgdG8gdGhlIG9iamVjdFxuXHRcdFx0XHRwcm9taXNlOiBmdW5jdGlvbiggb2JqICkge1xuXHRcdFx0XHRcdHJldHVybiBvYmogIT0gbnVsbCA/IGpRdWVyeS5leHRlbmQoIG9iaiwgcHJvbWlzZSApIDogcHJvbWlzZTtcblx0XHRcdFx0fVxuXHRcdFx0fSxcblx0XHRcdGRlZmVycmVkID0ge307XG5cblx0XHQvLyBBZGQgbGlzdC1zcGVjaWZpYyBtZXRob2RzXG5cdFx0alF1ZXJ5LmVhY2goIHR1cGxlcywgZnVuY3Rpb24oIGksIHR1cGxlICkge1xuXHRcdFx0dmFyIGxpc3QgPSB0dXBsZVsgMiBdLFxuXHRcdFx0XHRzdGF0ZVN0cmluZyA9IHR1cGxlWyA1IF07XG5cblx0XHRcdC8vIHByb21pc2UucHJvZ3Jlc3MgPSBsaXN0LmFkZFxuXHRcdFx0Ly8gcHJvbWlzZS5kb25lID0gbGlzdC5hZGRcblx0XHRcdC8vIHByb21pc2UuZmFpbCA9IGxpc3QuYWRkXG5cdFx0XHRwcm9taXNlWyB0dXBsZVsgMSBdIF0gPSBsaXN0LmFkZDtcblxuXHRcdFx0Ly8gSGFuZGxlIHN0YXRlXG5cdFx0XHRpZiAoIHN0YXRlU3RyaW5nICkge1xuXHRcdFx0XHRsaXN0LmFkZChcblx0XHRcdFx0XHRmdW5jdGlvbigpIHtcblxuXHRcdFx0XHRcdFx0Ly8gc3RhdGUgPSBcInJlc29sdmVkXCIgKGkuZS4sIGZ1bGZpbGxlZClcblx0XHRcdFx0XHRcdC8vIHN0YXRlID0gXCJyZWplY3RlZFwiXG5cdFx0XHRcdFx0XHRzdGF0ZSA9IHN0YXRlU3RyaW5nO1xuXHRcdFx0XHRcdH0sXG5cblx0XHRcdFx0XHQvLyByZWplY3RlZF9jYWxsYmFja3MuZGlzYWJsZVxuXHRcdFx0XHRcdC8vIGZ1bGZpbGxlZF9jYWxsYmFja3MuZGlzYWJsZVxuXHRcdFx0XHRcdHR1cGxlc1sgMyAtIGkgXVsgMiBdLmRpc2FibGUsXG5cblx0XHRcdFx0XHQvLyBwcm9ncmVzc19jYWxsYmFja3MubG9ja1xuXHRcdFx0XHRcdHR1cGxlc1sgMCBdWyAyIF0ubG9ja1xuXHRcdFx0XHQpO1xuXHRcdFx0fVxuXG5cdFx0XHQvLyBwcm9ncmVzc19oYW5kbGVycy5maXJlXG5cdFx0XHQvLyBmdWxmaWxsZWRfaGFuZGxlcnMuZmlyZVxuXHRcdFx0Ly8gcmVqZWN0ZWRfaGFuZGxlcnMuZmlyZVxuXHRcdFx0bGlzdC5hZGQoIHR1cGxlWyAzIF0uZmlyZSApO1xuXG5cdFx0XHQvLyBkZWZlcnJlZC5ub3RpZnkgPSBmdW5jdGlvbigpIHsgZGVmZXJyZWQubm90aWZ5V2l0aCguLi4pIH1cblx0XHRcdC8vIGRlZmVycmVkLnJlc29sdmUgPSBmdW5jdGlvbigpIHsgZGVmZXJyZWQucmVzb2x2ZVdpdGgoLi4uKSB9XG5cdFx0XHQvLyBkZWZlcnJlZC5yZWplY3QgPSBmdW5jdGlvbigpIHsgZGVmZXJyZWQucmVqZWN0V2l0aCguLi4pIH1cblx0XHRcdGRlZmVycmVkWyB0dXBsZVsgMCBdIF0gPSBmdW5jdGlvbigpIHtcblx0XHRcdFx0ZGVmZXJyZWRbIHR1cGxlWyAwIF0gKyBcIldpdGhcIiBdKCB0aGlzID09PSBkZWZlcnJlZCA/IHVuZGVmaW5lZCA6IHRoaXMsIGFyZ3VtZW50cyApO1xuXHRcdFx0XHRyZXR1cm4gdGhpcztcblx0XHRcdH07XG5cblx0XHRcdC8vIGRlZmVycmVkLm5vdGlmeVdpdGggPSBsaXN0LmZpcmVXaXRoXG5cdFx0XHQvLyBkZWZlcnJlZC5yZXNvbHZlV2l0aCA9IGxpc3QuZmlyZVdpdGhcblx0XHRcdC8vIGRlZmVycmVkLnJlamVjdFdpdGggPSBsaXN0LmZpcmVXaXRoXG5cdFx0XHRkZWZlcnJlZFsgdHVwbGVbIDAgXSArIFwiV2l0aFwiIF0gPSBsaXN0LmZpcmVXaXRoO1xuXHRcdH0gKTtcblxuXHRcdC8vIE1ha2UgdGhlIGRlZmVycmVkIGEgcHJvbWlzZVxuXHRcdHByb21pc2UucHJvbWlzZSggZGVmZXJyZWQgKTtcblxuXHRcdC8vIENhbGwgZ2l2ZW4gZnVuYyBpZiBhbnlcblx0XHRpZiAoIGZ1bmMgKSB7XG5cdFx0XHRmdW5jLmNhbGwoIGRlZmVycmVkLCBkZWZlcnJlZCApO1xuXHRcdH1cblxuXHRcdC8vIEFsbCBkb25lIVxuXHRcdHJldHVybiBkZWZlcnJlZDtcblx0fSxcblxuXHQvLyBEZWZlcnJlZCBoZWxwZXJcblx0d2hlbjogZnVuY3Rpb24oIHNpbmdsZVZhbHVlICkge1xuXHRcdHZhclxuXG5cdFx0XHQvLyBjb3VudCBvZiB1bmNvbXBsZXRlZCBzdWJvcmRpbmF0ZXNcblx0XHRcdHJlbWFpbmluZyA9IGFyZ3VtZW50cy5sZW5ndGgsXG5cblx0XHRcdC8vIGNvdW50IG9mIHVucHJvY2Vzc2VkIGFyZ3VtZW50c1xuXHRcdFx0aSA9IHJlbWFpbmluZyxcblxuXHRcdFx0Ly8gc3Vib3JkaW5hdGUgZnVsZmlsbG1lbnQgZGF0YVxuXHRcdFx0cmVzb2x2ZUNvbnRleHRzID0gQXJyYXkoIGkgKSxcblx0XHRcdHJlc29sdmVWYWx1ZXMgPSBzbGljZS5jYWxsKCBhcmd1bWVudHMgKSxcblxuXHRcdFx0Ly8gdGhlIG1hc3RlciBEZWZlcnJlZFxuXHRcdFx0bWFzdGVyID0galF1ZXJ5LkRlZmVycmVkKCksXG5cblx0XHRcdC8vIHN1Ym9yZGluYXRlIGNhbGxiYWNrIGZhY3Rvcnlcblx0XHRcdHVwZGF0ZUZ1bmMgPSBmdW5jdGlvbiggaSApIHtcblx0XHRcdFx0cmV0dXJuIGZ1bmN0aW9uKCB2YWx1ZSApIHtcblx0XHRcdFx0XHRyZXNvbHZlQ29udGV4dHNbIGkgXSA9IHRoaXM7XG5cdFx0XHRcdFx0cmVzb2x2ZVZhbHVlc1sgaSBdID0gYXJndW1lbnRzLmxlbmd0aCA+IDEgPyBzbGljZS5jYWxsKCBhcmd1bWVudHMgKSA6IHZhbHVlO1xuXHRcdFx0XHRcdGlmICggISggLS1yZW1haW5pbmcgKSApIHtcblx0XHRcdFx0XHRcdG1hc3Rlci5yZXNvbHZlV2l0aCggcmVzb2x2ZUNvbnRleHRzLCByZXNvbHZlVmFsdWVzICk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9O1xuXHRcdFx0fTtcblxuXHRcdC8vIFNpbmdsZS0gYW5kIGVtcHR5IGFyZ3VtZW50cyBhcmUgYWRvcHRlZCBsaWtlIFByb21pc2UucmVzb2x2ZVxuXHRcdGlmICggcmVtYWluaW5nIDw9IDEgKSB7XG5cdFx0XHRhZG9wdFZhbHVlKCBzaW5nbGVWYWx1ZSwgbWFzdGVyLmRvbmUoIHVwZGF0ZUZ1bmMoIGkgKSApLnJlc29sdmUsIG1hc3Rlci5yZWplY3QsXG5cdFx0XHRcdCFyZW1haW5pbmcgKTtcblxuXHRcdFx0Ly8gVXNlIC50aGVuKCkgdG8gdW53cmFwIHNlY29uZGFyeSB0aGVuYWJsZXMgKGNmLiBnaC0zMDAwKVxuXHRcdFx0aWYgKCBtYXN0ZXIuc3RhdGUoKSA9PT0gXCJwZW5kaW5nXCIgfHxcblx0XHRcdFx0alF1ZXJ5LmlzRnVuY3Rpb24oIHJlc29sdmVWYWx1ZXNbIGkgXSAmJiByZXNvbHZlVmFsdWVzWyBpIF0udGhlbiApICkge1xuXG5cdFx0XHRcdHJldHVybiBtYXN0ZXIudGhlbigpO1xuXHRcdFx0fVxuXHRcdH1cblxuXHRcdC8vIE11bHRpcGxlIGFyZ3VtZW50cyBhcmUgYWdncmVnYXRlZCBsaWtlIFByb21pc2UuYWxsIGFycmF5IGVsZW1lbnRzXG5cdFx0d2hpbGUgKCBpLS0gKSB7XG5cdFx0XHRhZG9wdFZhbHVlKCByZXNvbHZlVmFsdWVzWyBpIF0sIHVwZGF0ZUZ1bmMoIGkgKSwgbWFzdGVyLnJlamVjdCApO1xuXHRcdH1cblxuXHRcdHJldHVybiBtYXN0ZXIucHJvbWlzZSgpO1xuXHR9XG59ICk7XG5cblxuLy8gVGhlc2UgdXN1YWxseSBpbmRpY2F0ZSBhIHByb2dyYW1tZXIgbWlzdGFrZSBkdXJpbmcgZGV2ZWxvcG1lbnQsXG4vLyB3YXJuIGFib3V0IHRoZW0gQVNBUCByYXRoZXIgdGhhbiBzd2FsbG93aW5nIHRoZW0gYnkgZGVmYXVsdC5cbnZhciByZXJyb3JOYW1lcyA9IC9eKEV2YWx8SW50ZXJuYWx8UmFuZ2V8UmVmZXJlbmNlfFN5bnRheHxUeXBlfFVSSSlFcnJvciQvO1xuXG5qUXVlcnkuRGVmZXJyZWQuZXhjZXB0aW9uSG9vayA9IGZ1bmN0aW9uKCBlcnJvciwgc3RhY2sgKSB7XG5cblx0Ly8gU3VwcG9ydDogSUUgOCAtIDkgb25seVxuXHQvLyBDb25zb2xlIGV4aXN0cyB3aGVuIGRldiB0b29scyBhcmUgb3Blbiwgd2hpY2ggY2FuIGhhcHBlbiBhdCBhbnkgdGltZVxuXHRpZiAoIHdpbmRvdy5jb25zb2xlICYmIHdpbmRvdy5jb25zb2xlLndhcm4gJiYgZXJyb3IgJiYgcmVycm9yTmFtZXMudGVzdCggZXJyb3IubmFtZSApICkge1xuXHRcdHdpbmRvdy5jb25zb2xlLndhcm4oIFwialF1ZXJ5LkRlZmVycmVkIGV4Y2VwdGlvbjogXCIgKyBlcnJvci5tZXNzYWdlLCBlcnJvci5zdGFjaywgc3RhY2sgKTtcblx0fVxufTtcblxuXG5cblxualF1ZXJ5LnJlYWR5RXhjZXB0aW9uID0gZnVuY3Rpb24oIGVycm9yICkge1xuXHR3aW5kb3cuc2V0VGltZW91dCggZnVuY3Rpb24oKSB7XG5cdFx0dGhyb3cgZXJyb3I7XG5cdH0gKTtcbn07XG5cblxuXG5cbi8vIFRoZSBkZWZlcnJlZCB1c2VkIG9uIERPTSByZWFkeVxudmFyIHJlYWR5TGlzdCA9IGpRdWVyeS5EZWZlcnJlZCgpO1xuXG5qUXVlcnkuZm4ucmVhZHkgPSBmdW5jdGlvbiggZm4gKSB7XG5cblx0cmVhZHlMaXN0XG5cdFx0LnRoZW4oIGZuIClcblxuXHRcdC8vIFdyYXAgalF1ZXJ5LnJlYWR5RXhjZXB0aW9uIGluIGEgZnVuY3Rpb24gc28gdGhhdCB0aGUgbG9va3VwXG5cdFx0Ly8gaGFwcGVucyBhdCB0aGUgdGltZSBvZiBlcnJvciBoYW5kbGluZyBpbnN0ZWFkIG9mIGNhbGxiYWNrXG5cdFx0Ly8gcmVnaXN0cmF0aW9uLlxuXHRcdC5jYXRjaCggZnVuY3Rpb24oIGVycm9yICkge1xuXHRcdFx0alF1ZXJ5LnJlYWR5RXhjZXB0aW9uKCBlcnJvciApO1xuXHRcdH0gKTtcblxuXHRyZXR1cm4gdGhpcztcbn07XG5cbmpRdWVyeS5leHRlbmQoIHtcblxuXHQvLyBJcyB0aGUgRE9NIHJlYWR5IHRvIGJlIHVzZWQ/IFNldCB0byB0cnVlIG9uY2UgaXQgb2NjdXJzLlxuXHRpc1JlYWR5OiBmYWxzZSxcblxuXHQvLyBBIGNvdW50ZXIgdG8gdHJhY2sgaG93IG1hbnkgaXRlbXMgdG8gd2FpdCBmb3IgYmVmb3JlXG5cdC8vIHRoZSByZWFkeSBldmVudCBmaXJlcy4gU2VlICM2NzgxXG5cdHJlYWR5V2FpdDogMSxcblxuXHQvLyBIYW5kbGUgd2hlbiB0aGUgRE9NIGlzIHJlYWR5XG5cdHJlYWR5OiBmdW5jdGlvbiggd2FpdCApIHtcblxuXHRcdC8vIEFib3J0IGlmIHRoZXJlIGFyZSBwZW5kaW5nIGhvbGRzIG9yIHdlJ3JlIGFscmVhZHkgcmVhZHlcblx0XHRpZiAoIHdhaXQgPT09IHRydWUgPyAtLWpRdWVyeS5yZWFkeVdhaXQgOiBqUXVlcnkuaXNSZWFkeSApIHtcblx0XHRcdHJldHVybjtcblx0XHR9XG5cblx0XHQvLyBSZW1lbWJlciB0aGF0IHRoZSBET00gaXMgcmVhZHlcblx0XHRqUXVlcnkuaXNSZWFkeSA9IHRydWU7XG5cblx0XHQvLyBJZiBhIG5vcm1hbCBET00gUmVhZHkgZXZlbnQgZmlyZWQsIGRlY3JlbWVudCwgYW5kIHdhaXQgaWYgbmVlZCBiZVxuXHRcdGlmICggd2FpdCAhPT0gdHJ1ZSAmJiAtLWpRdWVyeS5yZWFkeVdhaXQgPiAwICkge1xuXHRcdFx0cmV0dXJuO1xuXHRcdH1cblxuXHRcdC8vIElmIHRoZXJlIGFyZSBmdW5jdGlvbnMgYm91bmQsIHRvIGV4ZWN1dGVcblx0XHRyZWFkeUxpc3QucmVzb2x2ZVdpdGgoIGRvY3VtZW50LCBbIGpRdWVyeSBdICk7XG5cdH1cbn0gKTtcblxualF1ZXJ5LnJlYWR5LnRoZW4gPSByZWFkeUxpc3QudGhlbjtcblxuLy8gVGhlIHJlYWR5IGV2ZW50IGhhbmRsZXIgYW5kIHNlbGYgY2xlYW51cCBtZXRob2RcbmZ1bmN0aW9uIGNvbXBsZXRlZCgpIHtcblx0ZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lciggXCJET01Db250ZW50TG9hZGVkXCIsIGNvbXBsZXRlZCApO1xuXHR3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lciggXCJsb2FkXCIsIGNvbXBsZXRlZCApO1xuXHRqUXVlcnkucmVhZHkoKTtcbn1cblxuLy8gQ2F0Y2ggY2FzZXMgd2hlcmUgJChkb2N1bWVudCkucmVhZHkoKSBpcyBjYWxsZWRcbi8vIGFmdGVyIHRoZSBicm93c2VyIGV2ZW50IGhhcyBhbHJlYWR5IG9jY3VycmVkLlxuLy8gU3VwcG9ydDogSUUgPD05IC0gMTAgb25seVxuLy8gT2xkZXIgSUUgc29tZXRpbWVzIHNpZ25hbHMgXCJpbnRlcmFjdGl2ZVwiIHRvbyBzb29uXG5pZiAoIGRvY3VtZW50LnJlYWR5U3RhdGUgPT09IFwiY29tcGxldGVcIiB8fFxuXHQoIGRvY3VtZW50LnJlYWR5U3RhdGUgIT09IFwibG9hZGluZ1wiICYmICFkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuZG9TY3JvbGwgKSApIHtcblxuXHQvLyBIYW5kbGUgaXQgYXN5bmNocm9ub3VzbHkgdG8gYWxsb3cgc2NyaXB0cyB0aGUgb3Bwb3J0dW5pdHkgdG8gZGVsYXkgcmVhZHlcblx0d2luZG93LnNldFRpbWVvdXQoIGpRdWVyeS5yZWFkeSApO1xuXG59IGVsc2Uge1xuXG5cdC8vIFVzZSB0aGUgaGFuZHkgZXZlbnQgY2FsbGJhY2tcblx0ZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lciggXCJET01Db250ZW50TG9hZGVkXCIsIGNvbXBsZXRlZCApO1xuXG5cdC8vIEEgZmFsbGJhY2sgdG8gd2luZG93Lm9ubG9hZCwgdGhhdCB3aWxsIGFsd2F5cyB3b3JrXG5cdHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCBcImxvYWRcIiwgY29tcGxldGVkICk7XG59XG5cblxuXG5cbi8vIE11bHRpZnVuY3Rpb25hbCBtZXRob2QgdG8gZ2V0IGFuZCBzZXQgdmFsdWVzIG9mIGEgY29sbGVjdGlvblxuLy8gVGhlIHZhbHVlL3MgY2FuIG9wdGlvbmFsbHkgYmUgZXhlY3V0ZWQgaWYgaXQncyBhIGZ1bmN0aW9uXG52YXIgYWNjZXNzID0gZnVuY3Rpb24oIGVsZW1zLCBmbiwga2V5LCB2YWx1ZSwgY2hhaW5hYmxlLCBlbXB0eUdldCwgcmF3ICkge1xuXHR2YXIgaSA9IDAsXG5cdFx0bGVuID0gZWxlbXMubGVuZ3RoLFxuXHRcdGJ1bGsgPSBrZXkgPT0gbnVsbDtcblxuXHQvLyBTZXRzIG1hbnkgdmFsdWVzXG5cdGlmICggalF1ZXJ5LnR5cGUoIGtleSApID09PSBcIm9iamVjdFwiICkge1xuXHRcdGNoYWluYWJsZSA9IHRydWU7XG5cdFx0Zm9yICggaSBpbiBrZXkgKSB7XG5cdFx0XHRhY2Nlc3MoIGVsZW1zLCBmbiwgaSwga2V5WyBpIF0sIHRydWUsIGVtcHR5R2V0LCByYXcgKTtcblx0XHR9XG5cblx0Ly8gU2V0cyBvbmUgdmFsdWVcblx0fSBlbHNlIGlmICggdmFsdWUgIT09IHVuZGVmaW5lZCApIHtcblx0XHRjaGFpbmFibGUgPSB0cnVlO1xuXG5cdFx0aWYgKCAhalF1ZXJ5LmlzRnVuY3Rpb24oIHZhbHVlICkgKSB7XG5cdFx0XHRyYXcgPSB0cnVlO1xuXHRcdH1cblxuXHRcdGlmICggYnVsayApIHtcblxuXHRcdFx0Ly8gQnVsayBvcGVyYXRpb25zIHJ1biBhZ2FpbnN0IHRoZSBlbnRpcmUgc2V0XG5cdFx0XHRpZiAoIHJhdyApIHtcblx0XHRcdFx0Zm4uY2FsbCggZWxlbXMsIHZhbHVlICk7XG5cdFx0XHRcdGZuID0gbnVsbDtcblxuXHRcdFx0Ly8gLi4uZXhjZXB0IHdoZW4gZXhlY3V0aW5nIGZ1bmN0aW9uIHZhbHVlc1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0YnVsayA9IGZuO1xuXHRcdFx0XHRmbiA9IGZ1bmN0aW9uKCBlbGVtLCBrZXksIHZhbHVlICkge1xuXHRcdFx0XHRcdHJldHVybiBidWxrLmNhbGwoIGpRdWVyeSggZWxlbSApLCB2YWx1ZSApO1xuXHRcdFx0XHR9O1xuXHRcdFx0fVxuXHRcdH1cblxuXHRcdGlmICggZm4gKSB7XG5cdFx0XHRmb3IgKCA7IGkgPCBsZW47IGkrKyApIHtcblx0XHRcdFx0Zm4oXG5cdFx0XHRcdFx0ZWxlbXNbIGkgXSwga2V5LCByYXcgP1xuXHRcdFx0XHRcdHZhbHVlIDpcblx0XHRcdFx0XHR2YWx1ZS5jYWxsKCBlbGVtc1sgaSBdLCBpLCBmbiggZWxlbXNbIGkgXSwga2V5ICkgKVxuXHRcdFx0XHQpO1xuXHRcdFx0fVxuXHRcdH1cblx0fVxuXG5cdGlmICggY2hhaW5hYmxlICkge1xuXHRcdHJldHVybiBlbGVtcztcblx0fVxuXG5cdC8vIEdldHNcblx0aWYgKCBidWxrICkge1xuXHRcdHJldHVybiBmbi5jYWxsKCBlbGVtcyApO1xuXHR9XG5cblx0cmV0dXJuIGxlbiA/IGZuKCBlbGVtc1sgMCBdLCBrZXkgKSA6IGVtcHR5R2V0O1xufTtcbnZhciBhY2NlcHREYXRhID0gZnVuY3Rpb24oIG93bmVyICkge1xuXG5cdC8vIEFjY2VwdHMgb25seTpcblx0Ly8gIC0gTm9kZVxuXHQvLyAgICAtIE5vZGUuRUxFTUVOVF9OT0RFXG5cdC8vICAgIC0gTm9kZS5ET0NVTUVOVF9OT0RFXG5cdC8vICAtIE9iamVjdFxuXHQvLyAgICAtIEFueVxuXHRyZXR1cm4gb3duZXIubm9kZVR5cGUgPT09IDEgfHwgb3duZXIubm9kZVR5cGUgPT09IDkgfHwgISggK293bmVyLm5vZGVUeXBlICk7XG59O1xuXG5cblxuXG5mdW5jdGlvbiBEYXRhKCkge1xuXHR0aGlzLmV4cGFuZG8gPSBqUXVlcnkuZXhwYW5kbyArIERhdGEudWlkKys7XG59XG5cbkRhdGEudWlkID0gMTtcblxuRGF0YS5wcm90b3R5cGUgPSB7XG5cblx0Y2FjaGU6IGZ1bmN0aW9uKCBvd25lciApIHtcblxuXHRcdC8vIENoZWNrIGlmIHRoZSBvd25lciBvYmplY3QgYWxyZWFkeSBoYXMgYSBjYWNoZVxuXHRcdHZhciB2YWx1ZSA9IG93bmVyWyB0aGlzLmV4cGFuZG8gXTtcblxuXHRcdC8vIElmIG5vdCwgY3JlYXRlIG9uZVxuXHRcdGlmICggIXZhbHVlICkge1xuXHRcdFx0dmFsdWUgPSB7fTtcblxuXHRcdFx0Ly8gV2UgY2FuIGFjY2VwdCBkYXRhIGZvciBub24tZWxlbWVudCBub2RlcyBpbiBtb2Rlcm4gYnJvd3NlcnMsXG5cdFx0XHQvLyBidXQgd2Ugc2hvdWxkIG5vdCwgc2VlICM4MzM1LlxuXHRcdFx0Ly8gQWx3YXlzIHJldHVybiBhbiBlbXB0eSBvYmplY3QuXG5cdFx0XHRpZiAoIGFjY2VwdERhdGEoIG93bmVyICkgKSB7XG5cblx0XHRcdFx0Ly8gSWYgaXQgaXMgYSBub2RlIHVubGlrZWx5IHRvIGJlIHN0cmluZ2lmeS1lZCBvciBsb29wZWQgb3ZlclxuXHRcdFx0XHQvLyB1c2UgcGxhaW4gYXNzaWdubWVudFxuXHRcdFx0XHRpZiAoIG93bmVyLm5vZGVUeXBlICkge1xuXHRcdFx0XHRcdG93bmVyWyB0aGlzLmV4cGFuZG8gXSA9IHZhbHVlO1xuXG5cdFx0XHRcdC8vIE90aGVyd2lzZSBzZWN1cmUgaXQgaW4gYSBub24tZW51bWVyYWJsZSBwcm9wZXJ0eVxuXHRcdFx0XHQvLyBjb25maWd1cmFibGUgbXVzdCBiZSB0cnVlIHRvIGFsbG93IHRoZSBwcm9wZXJ0eSB0byBiZVxuXHRcdFx0XHQvLyBkZWxldGVkIHdoZW4gZGF0YSBpcyByZW1vdmVkXG5cdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KCBvd25lciwgdGhpcy5leHBhbmRvLCB7XG5cdFx0XHRcdFx0XHR2YWx1ZTogdmFsdWUsXG5cdFx0XHRcdFx0XHRjb25maWd1cmFibGU6IHRydWVcblx0XHRcdFx0XHR9ICk7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9XG5cblx0XHRyZXR1cm4gdmFsdWU7XG5cdH0sXG5cdHNldDogZnVuY3Rpb24oIG93bmVyLCBkYXRhLCB2YWx1ZSApIHtcblx0XHR2YXIgcHJvcCxcblx0XHRcdGNhY2hlID0gdGhpcy5jYWNoZSggb3duZXIgKTtcblxuXHRcdC8vIEhhbmRsZTogWyBvd25lciwga2V5LCB2YWx1ZSBdIGFyZ3Ncblx0XHQvLyBBbHdheXMgdXNlIGNhbWVsQ2FzZSBrZXkgKGdoLTIyNTcpXG5cdFx0aWYgKCB0eXBlb2YgZGF0YSA9PT0gXCJzdHJpbmdcIiApIHtcblx0XHRcdGNhY2hlWyBqUXVlcnkuY2FtZWxDYXNlKCBkYXRhICkgXSA9IHZhbHVlO1xuXG5cdFx0Ly8gSGFuZGxlOiBbIG93bmVyLCB7IHByb3BlcnRpZXMgfSBdIGFyZ3Ncblx0XHR9IGVsc2Uge1xuXG5cdFx0XHQvLyBDb3B5IHRoZSBwcm9wZXJ0aWVzIG9uZS1ieS1vbmUgdG8gdGhlIGNhY2hlIG9iamVjdFxuXHRcdFx0Zm9yICggcHJvcCBpbiBkYXRhICkge1xuXHRcdFx0XHRjYWNoZVsgalF1ZXJ5LmNhbWVsQ2FzZSggcHJvcCApIF0gPSBkYXRhWyBwcm9wIF07XG5cdFx0XHR9XG5cdFx0fVxuXHRcdHJldHVybiBjYWNoZTtcblx0fSxcblx0Z2V0OiBmdW5jdGlvbiggb3duZXIsIGtleSApIHtcblx0XHRyZXR1cm4ga2V5ID09PSB1bmRlZmluZWQgP1xuXHRcdFx0dGhpcy5jYWNoZSggb3duZXIgKSA6XG5cblx0XHRcdC8vIEFsd2F5cyB1c2UgY2FtZWxDYXNlIGtleSAoZ2gtMjI1Nylcblx0XHRcdG93bmVyWyB0aGlzLmV4cGFuZG8gXSAmJiBvd25lclsgdGhpcy5leHBhbmRvIF1bIGpRdWVyeS5jYW1lbENhc2UoIGtleSApIF07XG5cdH0sXG5cdGFjY2VzczogZnVuY3Rpb24oIG93bmVyLCBrZXksIHZhbHVlICkge1xuXG5cdFx0Ly8gSW4gY2FzZXMgd2hlcmUgZWl0aGVyOlxuXHRcdC8vXG5cdFx0Ly8gICAxLiBObyBrZXkgd2FzIHNwZWNpZmllZFxuXHRcdC8vICAgMi4gQSBzdHJpbmcga2V5IHdhcyBzcGVjaWZpZWQsIGJ1dCBubyB2YWx1ZSBwcm92aWRlZFxuXHRcdC8vXG5cdFx0Ly8gVGFrZSB0aGUgXCJyZWFkXCIgcGF0aCBhbmQgYWxsb3cgdGhlIGdldCBtZXRob2QgdG8gZGV0ZXJtaW5lXG5cdFx0Ly8gd2hpY2ggdmFsdWUgdG8gcmV0dXJuLCByZXNwZWN0aXZlbHkgZWl0aGVyOlxuXHRcdC8vXG5cdFx0Ly8gICAxLiBUaGUgZW50aXJlIGNhY2hlIG9iamVjdFxuXHRcdC8vICAgMi4gVGhlIGRhdGEgc3RvcmVkIGF0IHRoZSBrZXlcblx0XHQvL1xuXHRcdGlmICgga2V5ID09PSB1bmRlZmluZWQgfHxcblx0XHRcdFx0KCAoIGtleSAmJiB0eXBlb2Yga2V5ID09PSBcInN0cmluZ1wiICkgJiYgdmFsdWUgPT09IHVuZGVmaW5lZCApICkge1xuXG5cdFx0XHRyZXR1cm4gdGhpcy5nZXQoIG93bmVyLCBrZXkgKTtcblx0XHR9XG5cblx0XHQvLyBXaGVuIHRoZSBrZXkgaXMgbm90IGEgc3RyaW5nLCBvciBib3RoIGEga2V5IGFuZCB2YWx1ZVxuXHRcdC8vIGFyZSBzcGVjaWZpZWQsIHNldCBvciBleHRlbmQgKGV4aXN0aW5nIG9iamVjdHMpIHdpdGggZWl0aGVyOlxuXHRcdC8vXG5cdFx0Ly8gICAxLiBBbiBvYmplY3Qgb2YgcHJvcGVydGllc1xuXHRcdC8vICAgMi4gQSBrZXkgYW5kIHZhbHVlXG5cdFx0Ly9cblx0XHR0aGlzLnNldCggb3duZXIsIGtleSwgdmFsdWUgKTtcblxuXHRcdC8vIFNpbmNlIHRoZSBcInNldFwiIHBhdGggY2FuIGhhdmUgdHdvIHBvc3NpYmxlIGVudHJ5IHBvaW50c1xuXHRcdC8vIHJldHVybiB0aGUgZXhwZWN0ZWQgZGF0YSBiYXNlZCBvbiB3aGljaCBwYXRoIHdhcyB0YWtlblsqXVxuXHRcdHJldHVybiB2YWx1ZSAhPT0gdW5kZWZpbmVkID8gdmFsdWUgOiBrZXk7XG5cdH0sXG5cdHJlbW92ZTogZnVuY3Rpb24oIG93bmVyLCBrZXkgKSB7XG5cdFx0dmFyIGksXG5cdFx0XHRjYWNoZSA9IG93bmVyWyB0aGlzLmV4cGFuZG8gXTtcblxuXHRcdGlmICggY2FjaGUgPT09IHVuZGVmaW5lZCApIHtcblx0XHRcdHJldHVybjtcblx0XHR9XG5cblx0XHRpZiAoIGtleSAhPT0gdW5kZWZpbmVkICkge1xuXG5cdFx0XHQvLyBTdXBwb3J0IGFycmF5IG9yIHNwYWNlIHNlcGFyYXRlZCBzdHJpbmcgb2Yga2V5c1xuXHRcdFx0aWYgKCBBcnJheS5pc0FycmF5KCBrZXkgKSApIHtcblxuXHRcdFx0XHQvLyBJZiBrZXkgaXMgYW4gYXJyYXkgb2Yga2V5cy4uLlxuXHRcdFx0XHQvLyBXZSBhbHdheXMgc2V0IGNhbWVsQ2FzZSBrZXlzLCBzbyByZW1vdmUgdGhhdC5cblx0XHRcdFx0a2V5ID0ga2V5Lm1hcCggalF1ZXJ5LmNhbWVsQ2FzZSApO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0a2V5ID0galF1ZXJ5LmNhbWVsQ2FzZSgga2V5ICk7XG5cblx0XHRcdFx0Ly8gSWYgYSBrZXkgd2l0aCB0aGUgc3BhY2VzIGV4aXN0cywgdXNlIGl0LlxuXHRcdFx0XHQvLyBPdGhlcndpc2UsIGNyZWF0ZSBhbiBhcnJheSBieSBtYXRjaGluZyBub24td2hpdGVzcGFjZVxuXHRcdFx0XHRrZXkgPSBrZXkgaW4gY2FjaGUgP1xuXHRcdFx0XHRcdFsga2V5IF0gOlxuXHRcdFx0XHRcdCgga2V5Lm1hdGNoKCBybm90aHRtbHdoaXRlICkgfHwgW10gKTtcblx0XHRcdH1cblxuXHRcdFx0aSA9IGtleS5sZW5ndGg7XG5cblx0XHRcdHdoaWxlICggaS0tICkge1xuXHRcdFx0XHRkZWxldGUgY2FjaGVbIGtleVsgaSBdIF07XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0Ly8gUmVtb3ZlIHRoZSBleHBhbmRvIGlmIHRoZXJlJ3Mgbm8gbW9yZSBkYXRhXG5cdFx0aWYgKCBrZXkgPT09IHVuZGVmaW5lZCB8fCBqUXVlcnkuaXNFbXB0eU9iamVjdCggY2FjaGUgKSApIHtcblxuXHRcdFx0Ly8gU3VwcG9ydDogQ2hyb21lIDw9MzUgLSA0NVxuXHRcdFx0Ly8gV2Via2l0ICYgQmxpbmsgcGVyZm9ybWFuY2Ugc3VmZmVycyB3aGVuIGRlbGV0aW5nIHByb3BlcnRpZXNcblx0XHRcdC8vIGZyb20gRE9NIG5vZGVzLCBzbyBzZXQgdG8gdW5kZWZpbmVkIGluc3RlYWRcblx0XHRcdC8vIGh0dHBzOi8vYnVncy5jaHJvbWl1bS5vcmcvcC9jaHJvbWl1bS9pc3N1ZXMvZGV0YWlsP2lkPTM3ODYwNyAoYnVnIHJlc3RyaWN0ZWQpXG5cdFx0XHRpZiAoIG93bmVyLm5vZGVUeXBlICkge1xuXHRcdFx0XHRvd25lclsgdGhpcy5leHBhbmRvIF0gPSB1bmRlZmluZWQ7XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRkZWxldGUgb3duZXJbIHRoaXMuZXhwYW5kbyBdO1xuXHRcdFx0fVxuXHRcdH1cblx0fSxcblx0aGFzRGF0YTogZnVuY3Rpb24oIG93bmVyICkge1xuXHRcdHZhciBjYWNoZSA9IG93bmVyWyB0aGlzLmV4cGFuZG8gXTtcblx0XHRyZXR1cm4gY2FjaGUgIT09IHVuZGVmaW5lZCAmJiAhalF1ZXJ5LmlzRW1wdHlPYmplY3QoIGNhY2hlICk7XG5cdH1cbn07XG52YXIgZGF0YVByaXYgPSBuZXcgRGF0YSgpO1xuXG52YXIgZGF0YVVzZXIgPSBuZXcgRGF0YSgpO1xuXG5cblxuLy9cdEltcGxlbWVudGF0aW9uIFN1bW1hcnlcbi8vXG4vL1x0MS4gRW5mb3JjZSBBUEkgc3VyZmFjZSBhbmQgc2VtYW50aWMgY29tcGF0aWJpbGl0eSB3aXRoIDEuOS54IGJyYW5jaFxuLy9cdDIuIEltcHJvdmUgdGhlIG1vZHVsZSdzIG1haW50YWluYWJpbGl0eSBieSByZWR1Y2luZyB0aGUgc3RvcmFnZVxuLy9cdFx0cGF0aHMgdG8gYSBzaW5nbGUgbWVjaGFuaXNtLlxuLy9cdDMuIFVzZSB0aGUgc2FtZSBzaW5nbGUgbWVjaGFuaXNtIHRvIHN1cHBvcnQgXCJwcml2YXRlXCIgYW5kIFwidXNlclwiIGRhdGEuXG4vL1x0NC4gX05ldmVyXyBleHBvc2UgXCJwcml2YXRlXCIgZGF0YSB0byB1c2VyIGNvZGUgKFRPRE86IERyb3AgX2RhdGEsIF9yZW1vdmVEYXRhKVxuLy9cdDUuIEF2b2lkIGV4cG9zaW5nIGltcGxlbWVudGF0aW9uIGRldGFpbHMgb24gdXNlciBvYmplY3RzIChlZy4gZXhwYW5kbyBwcm9wZXJ0aWVzKVxuLy9cdDYuIFByb3ZpZGUgYSBjbGVhciBwYXRoIGZvciBpbXBsZW1lbnRhdGlvbiB1cGdyYWRlIHRvIFdlYWtNYXAgaW4gMjAxNFxuXG52YXIgcmJyYWNlID0gL14oPzpcXHtbXFx3XFxXXSpcXH18XFxbW1xcd1xcV10qXFxdKSQvLFxuXHRybXVsdGlEYXNoID0gL1tBLVpdL2c7XG5cbmZ1bmN0aW9uIGdldERhdGEoIGRhdGEgKSB7XG5cdGlmICggZGF0YSA9PT0gXCJ0cnVlXCIgKSB7XG5cdFx0cmV0dXJuIHRydWU7XG5cdH1cblxuXHRpZiAoIGRhdGEgPT09IFwiZmFsc2VcIiApIHtcblx0XHRyZXR1cm4gZmFsc2U7XG5cdH1cblxuXHRpZiAoIGRhdGEgPT09IFwibnVsbFwiICkge1xuXHRcdHJldHVybiBudWxsO1xuXHR9XG5cblx0Ly8gT25seSBjb252ZXJ0IHRvIGEgbnVtYmVyIGlmIGl0IGRvZXNuJ3QgY2hhbmdlIHRoZSBzdHJpbmdcblx0aWYgKCBkYXRhID09PSArZGF0YSArIFwiXCIgKSB7XG5cdFx0cmV0dXJuICtkYXRhO1xuXHR9XG5cblx0aWYgKCByYnJhY2UudGVzdCggZGF0YSApICkge1xuXHRcdHJldHVybiBKU09OLnBhcnNlKCBkYXRhICk7XG5cdH1cblxuXHRyZXR1cm4gZGF0YTtcbn1cblxuZnVuY3Rpb24gZGF0YUF0dHIoIGVsZW0sIGtleSwgZGF0YSApIHtcblx0dmFyIG5hbWU7XG5cblx0Ly8gSWYgbm90aGluZyB3YXMgZm91bmQgaW50ZXJuYWxseSwgdHJ5IHRvIGZldGNoIGFueVxuXHQvLyBkYXRhIGZyb20gdGhlIEhUTUw1IGRhdGEtKiBhdHRyaWJ1dGVcblx0aWYgKCBkYXRhID09PSB1bmRlZmluZWQgJiYgZWxlbS5ub2RlVHlwZSA9PT0gMSApIHtcblx0XHRuYW1lID0gXCJkYXRhLVwiICsga2V5LnJlcGxhY2UoIHJtdWx0aURhc2gsIFwiLSQmXCIgKS50b0xvd2VyQ2FzZSgpO1xuXHRcdGRhdGEgPSBlbGVtLmdldEF0dHJpYnV0ZSggbmFtZSApO1xuXG5cdFx0aWYgKCB0eXBlb2YgZGF0YSA9PT0gXCJzdHJpbmdcIiApIHtcblx0XHRcdHRyeSB7XG5cdFx0XHRcdGRhdGEgPSBnZXREYXRhKCBkYXRhICk7XG5cdFx0XHR9IGNhdGNoICggZSApIHt9XG5cblx0XHRcdC8vIE1ha2Ugc3VyZSB3ZSBzZXQgdGhlIGRhdGEgc28gaXQgaXNuJ3QgY2hhbmdlZCBsYXRlclxuXHRcdFx0ZGF0YVVzZXIuc2V0KCBlbGVtLCBrZXksIGRhdGEgKTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0ZGF0YSA9IHVuZGVmaW5lZDtcblx0XHR9XG5cdH1cblx0cmV0dXJuIGRhdGE7XG59XG5cbmpRdWVyeS5leHRlbmQoIHtcblx0aGFzRGF0YTogZnVuY3Rpb24oIGVsZW0gKSB7XG5cdFx0cmV0dXJuIGRhdGFVc2VyLmhhc0RhdGEoIGVsZW0gKSB8fCBkYXRhUHJpdi5oYXNEYXRhKCBlbGVtICk7XG5cdH0sXG5cblx0ZGF0YTogZnVuY3Rpb24oIGVsZW0sIG5hbWUsIGRhdGEgKSB7XG5cdFx0cmV0dXJuIGRhdGFVc2VyLmFjY2VzcyggZWxlbSwgbmFtZSwgZGF0YSApO1xuXHR9LFxuXG5cdHJlbW92ZURhdGE6IGZ1bmN0aW9uKCBlbGVtLCBuYW1lICkge1xuXHRcdGRhdGFVc2VyLnJlbW92ZSggZWxlbSwgbmFtZSApO1xuXHR9LFxuXG5cdC8vIFRPRE86IE5vdyB0aGF0IGFsbCBjYWxscyB0byBfZGF0YSBhbmQgX3JlbW92ZURhdGEgaGF2ZSBiZWVuIHJlcGxhY2VkXG5cdC8vIHdpdGggZGlyZWN0IGNhbGxzIHRvIGRhdGFQcml2IG1ldGhvZHMsIHRoZXNlIGNhbiBiZSBkZXByZWNhdGVkLlxuXHRfZGF0YTogZnVuY3Rpb24oIGVsZW0sIG5hbWUsIGRhdGEgKSB7XG5cdFx0cmV0dXJuIGRhdGFQcml2LmFjY2VzcyggZWxlbSwgbmFtZSwgZGF0YSApO1xuXHR9LFxuXG5cdF9yZW1vdmVEYXRhOiBmdW5jdGlvbiggZWxlbSwgbmFtZSApIHtcblx0XHRkYXRhUHJpdi5yZW1vdmUoIGVsZW0sIG5hbWUgKTtcblx0fVxufSApO1xuXG5qUXVlcnkuZm4uZXh0ZW5kKCB7XG5cdGRhdGE6IGZ1bmN0aW9uKCBrZXksIHZhbHVlICkge1xuXHRcdHZhciBpLCBuYW1lLCBkYXRhLFxuXHRcdFx0ZWxlbSA9IHRoaXNbIDAgXSxcblx0XHRcdGF0dHJzID0gZWxlbSAmJiBlbGVtLmF0dHJpYnV0ZXM7XG5cblx0XHQvLyBHZXRzIGFsbCB2YWx1ZXNcblx0XHRpZiAoIGtleSA9PT0gdW5kZWZpbmVkICkge1xuXHRcdFx0aWYgKCB0aGlzLmxlbmd0aCApIHtcblx0XHRcdFx0ZGF0YSA9IGRhdGFVc2VyLmdldCggZWxlbSApO1xuXG5cdFx0XHRcdGlmICggZWxlbS5ub2RlVHlwZSA9PT0gMSAmJiAhZGF0YVByaXYuZ2V0KCBlbGVtLCBcImhhc0RhdGFBdHRyc1wiICkgKSB7XG5cdFx0XHRcdFx0aSA9IGF0dHJzLmxlbmd0aDtcblx0XHRcdFx0XHR3aGlsZSAoIGktLSApIHtcblxuXHRcdFx0XHRcdFx0Ly8gU3VwcG9ydDogSUUgMTEgb25seVxuXHRcdFx0XHRcdFx0Ly8gVGhlIGF0dHJzIGVsZW1lbnRzIGNhbiBiZSBudWxsICgjMTQ4OTQpXG5cdFx0XHRcdFx0XHRpZiAoIGF0dHJzWyBpIF0gKSB7XG5cdFx0XHRcdFx0XHRcdG5hbWUgPSBhdHRyc1sgaSBdLm5hbWU7XG5cdFx0XHRcdFx0XHRcdGlmICggbmFtZS5pbmRleE9mKCBcImRhdGEtXCIgKSA9PT0gMCApIHtcblx0XHRcdFx0XHRcdFx0XHRuYW1lID0galF1ZXJ5LmNhbWVsQ2FzZSggbmFtZS5zbGljZSggNSApICk7XG5cdFx0XHRcdFx0XHRcdFx0ZGF0YUF0dHIoIGVsZW0sIG5hbWUsIGRhdGFbIG5hbWUgXSApO1xuXHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHRcdGRhdGFQcml2LnNldCggZWxlbSwgXCJoYXNEYXRhQXR0cnNcIiwgdHJ1ZSApO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cblx0XHRcdHJldHVybiBkYXRhO1xuXHRcdH1cblxuXHRcdC8vIFNldHMgbXVsdGlwbGUgdmFsdWVzXG5cdFx0aWYgKCB0eXBlb2Yga2V5ID09PSBcIm9iamVjdFwiICkge1xuXHRcdFx0cmV0dXJuIHRoaXMuZWFjaCggZnVuY3Rpb24oKSB7XG5cdFx0XHRcdGRhdGFVc2VyLnNldCggdGhpcywga2V5ICk7XG5cdFx0XHR9ICk7XG5cdFx0fVxuXG5cdFx0cmV0dXJuIGFjY2VzcyggdGhpcywgZnVuY3Rpb24oIHZhbHVlICkge1xuXHRcdFx0dmFyIGRhdGE7XG5cblx0XHRcdC8vIFRoZSBjYWxsaW5nIGpRdWVyeSBvYmplY3QgKGVsZW1lbnQgbWF0Y2hlcykgaXMgbm90IGVtcHR5XG5cdFx0XHQvLyAoYW5kIHRoZXJlZm9yZSBoYXMgYW4gZWxlbWVudCBhcHBlYXJzIGF0IHRoaXNbIDAgXSkgYW5kIHRoZVxuXHRcdFx0Ly8gYHZhbHVlYCBwYXJhbWV0ZXIgd2FzIG5vdCB1bmRlZmluZWQuIEFuIGVtcHR5IGpRdWVyeSBvYmplY3Rcblx0XHRcdC8vIHdpbGwgcmVzdWx0IGluIGB1bmRlZmluZWRgIGZvciBlbGVtID0gdGhpc1sgMCBdIHdoaWNoIHdpbGxcblx0XHRcdC8vIHRocm93IGFuIGV4Y2VwdGlvbiBpZiBhbiBhdHRlbXB0IHRvIHJlYWQgYSBkYXRhIGNhY2hlIGlzIG1hZGUuXG5cdFx0XHRpZiAoIGVsZW0gJiYgdmFsdWUgPT09IHVuZGVmaW5lZCApIHtcblxuXHRcdFx0XHQvLyBBdHRlbXB0IHRvIGdldCBkYXRhIGZyb20gdGhlIGNhY2hlXG5cdFx0XHRcdC8vIFRoZSBrZXkgd2lsbCBhbHdheXMgYmUgY2FtZWxDYXNlZCBpbiBEYXRhXG5cdFx0XHRcdGRhdGEgPSBkYXRhVXNlci5nZXQoIGVsZW0sIGtleSApO1xuXHRcdFx0XHRpZiAoIGRhdGEgIT09IHVuZGVmaW5lZCApIHtcblx0XHRcdFx0XHRyZXR1cm4gZGF0YTtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdC8vIEF0dGVtcHQgdG8gXCJkaXNjb3ZlclwiIHRoZSBkYXRhIGluXG5cdFx0XHRcdC8vIEhUTUw1IGN1c3RvbSBkYXRhLSogYXR0cnNcblx0XHRcdFx0ZGF0YSA9IGRhdGFBdHRyKCBlbGVtLCBrZXkgKTtcblx0XHRcdFx0aWYgKCBkYXRhICE9PSB1bmRlZmluZWQgKSB7XG5cdFx0XHRcdFx0cmV0dXJuIGRhdGE7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHQvLyBXZSB0cmllZCByZWFsbHkgaGFyZCwgYnV0IHRoZSBkYXRhIGRvZXNuJ3QgZXhpc3QuXG5cdFx0XHRcdHJldHVybjtcblx0XHRcdH1cblxuXHRcdFx0Ly8gU2V0IHRoZSBkYXRhLi4uXG5cdFx0XHR0aGlzLmVhY2goIGZ1bmN0aW9uKCkge1xuXG5cdFx0XHRcdC8vIFdlIGFsd2F5cyBzdG9yZSB0aGUgY2FtZWxDYXNlZCBrZXlcblx0XHRcdFx0ZGF0YVVzZXIuc2V0KCB0aGlzLCBrZXksIHZhbHVlICk7XG5cdFx0XHR9ICk7XG5cdFx0fSwgbnVsbCwgdmFsdWUsIGFyZ3VtZW50cy5sZW5ndGggPiAxLCBudWxsLCB0cnVlICk7XG5cdH0sXG5cblx0cmVtb3ZlRGF0YTogZnVuY3Rpb24oIGtleSApIHtcblx0XHRyZXR1cm4gdGhpcy5lYWNoKCBmdW5jdGlvbigpIHtcblx0XHRcdGRhdGFVc2VyLnJlbW92ZSggdGhpcywga2V5ICk7XG5cdFx0fSApO1xuXHR9XG59ICk7XG5cblxualF1ZXJ5LmV4dGVuZCgge1xuXHRxdWV1ZTogZnVuY3Rpb24oIGVsZW0sIHR5cGUsIGRhdGEgKSB7XG5cdFx0dmFyIHF1ZXVlO1xuXG5cdFx0aWYgKCBlbGVtICkge1xuXHRcdFx0dHlwZSA9ICggdHlwZSB8fCBcImZ4XCIgKSArIFwicXVldWVcIjtcblx0XHRcdHF1ZXVlID0gZGF0YVByaXYuZ2V0KCBlbGVtLCB0eXBlICk7XG5cblx0XHRcdC8vIFNwZWVkIHVwIGRlcXVldWUgYnkgZ2V0dGluZyBvdXQgcXVpY2tseSBpZiB0aGlzIGlzIGp1c3QgYSBsb29rdXBcblx0XHRcdGlmICggZGF0YSApIHtcblx0XHRcdFx0aWYgKCAhcXVldWUgfHwgQXJyYXkuaXNBcnJheSggZGF0YSApICkge1xuXHRcdFx0XHRcdHF1ZXVlID0gZGF0YVByaXYuYWNjZXNzKCBlbGVtLCB0eXBlLCBqUXVlcnkubWFrZUFycmF5KCBkYXRhICkgKTtcblx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRxdWV1ZS5wdXNoKCBkYXRhICk7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHRcdHJldHVybiBxdWV1ZSB8fCBbXTtcblx0XHR9XG5cdH0sXG5cblx0ZGVxdWV1ZTogZnVuY3Rpb24oIGVsZW0sIHR5cGUgKSB7XG5cdFx0dHlwZSA9IHR5cGUgfHwgXCJmeFwiO1xuXG5cdFx0dmFyIHF1ZXVlID0galF1ZXJ5LnF1ZXVlKCBlbGVtLCB0eXBlICksXG5cdFx0XHRzdGFydExlbmd0aCA9IHF1ZXVlLmxlbmd0aCxcblx0XHRcdGZuID0gcXVldWUuc2hpZnQoKSxcblx0XHRcdGhvb2tzID0galF1ZXJ5Ll9xdWV1ZUhvb2tzKCBlbGVtLCB0eXBlICksXG5cdFx0XHRuZXh0ID0gZnVuY3Rpb24oKSB7XG5cdFx0XHRcdGpRdWVyeS5kZXF1ZXVlKCBlbGVtLCB0eXBlICk7XG5cdFx0XHR9O1xuXG5cdFx0Ly8gSWYgdGhlIGZ4IHF1ZXVlIGlzIGRlcXVldWVkLCBhbHdheXMgcmVtb3ZlIHRoZSBwcm9ncmVzcyBzZW50aW5lbFxuXHRcdGlmICggZm4gPT09IFwiaW5wcm9ncmVzc1wiICkge1xuXHRcdFx0Zm4gPSBxdWV1ZS5zaGlmdCgpO1xuXHRcdFx0c3RhcnRMZW5ndGgtLTtcblx0XHR9XG5cblx0XHRpZiAoIGZuICkge1xuXG5cdFx0XHQvLyBBZGQgYSBwcm9ncmVzcyBzZW50aW5lbCB0byBwcmV2ZW50IHRoZSBmeCBxdWV1ZSBmcm9tIGJlaW5nXG5cdFx0XHQvLyBhdXRvbWF0aWNhbGx5IGRlcXVldWVkXG5cdFx0XHRpZiAoIHR5cGUgPT09IFwiZnhcIiApIHtcblx0XHRcdFx0cXVldWUudW5zaGlmdCggXCJpbnByb2dyZXNzXCIgKTtcblx0XHRcdH1cblxuXHRcdFx0Ly8gQ2xlYXIgdXAgdGhlIGxhc3QgcXVldWUgc3RvcCBmdW5jdGlvblxuXHRcdFx0ZGVsZXRlIGhvb2tzLnN0b3A7XG5cdFx0XHRmbi5jYWxsKCBlbGVtLCBuZXh0LCBob29rcyApO1xuXHRcdH1cblxuXHRcdGlmICggIXN0YXJ0TGVuZ3RoICYmIGhvb2tzICkge1xuXHRcdFx0aG9va3MuZW1wdHkuZmlyZSgpO1xuXHRcdH1cblx0fSxcblxuXHQvLyBOb3QgcHVibGljIC0gZ2VuZXJhdGUgYSBxdWV1ZUhvb2tzIG9iamVjdCwgb3IgcmV0dXJuIHRoZSBjdXJyZW50IG9uZVxuXHRfcXVldWVIb29rczogZnVuY3Rpb24oIGVsZW0sIHR5cGUgKSB7XG5cdFx0dmFyIGtleSA9IHR5cGUgKyBcInF1ZXVlSG9va3NcIjtcblx0XHRyZXR1cm4gZGF0YVByaXYuZ2V0KCBlbGVtLCBrZXkgKSB8fCBkYXRhUHJpdi5hY2Nlc3MoIGVsZW0sIGtleSwge1xuXHRcdFx0ZW1wdHk6IGpRdWVyeS5DYWxsYmFja3MoIFwib25jZSBtZW1vcnlcIiApLmFkZCggZnVuY3Rpb24oKSB7XG5cdFx0XHRcdGRhdGFQcml2LnJlbW92ZSggZWxlbSwgWyB0eXBlICsgXCJxdWV1ZVwiLCBrZXkgXSApO1xuXHRcdFx0fSApXG5cdFx0fSApO1xuXHR9XG59ICk7XG5cbmpRdWVyeS5mbi5leHRlbmQoIHtcblx0cXVldWU6IGZ1bmN0aW9uKCB0eXBlLCBkYXRhICkge1xuXHRcdHZhciBzZXR0ZXIgPSAyO1xuXG5cdFx0aWYgKCB0eXBlb2YgdHlwZSAhPT0gXCJzdHJpbmdcIiApIHtcblx0XHRcdGRhdGEgPSB0eXBlO1xuXHRcdFx0dHlwZSA9IFwiZnhcIjtcblx0XHRcdHNldHRlci0tO1xuXHRcdH1cblxuXHRcdGlmICggYXJndW1lbnRzLmxlbmd0aCA8IHNldHRlciApIHtcblx0XHRcdHJldHVybiBqUXVlcnkucXVldWUoIHRoaXNbIDAgXSwgdHlwZSApO1xuXHRcdH1cblxuXHRcdHJldHVybiBkYXRhID09PSB1bmRlZmluZWQgP1xuXHRcdFx0dGhpcyA6XG5cdFx0XHR0aGlzLmVhY2goIGZ1bmN0aW9uKCkge1xuXHRcdFx0XHR2YXIgcXVldWUgPSBqUXVlcnkucXVldWUoIHRoaXMsIHR5cGUsIGRhdGEgKTtcblxuXHRcdFx0XHQvLyBFbnN1cmUgYSBob29rcyBmb3IgdGhpcyBxdWV1ZVxuXHRcdFx0XHRqUXVlcnkuX3F1ZXVlSG9va3MoIHRoaXMsIHR5cGUgKTtcblxuXHRcdFx0XHRpZiAoIHR5cGUgPT09IFwiZnhcIiAmJiBxdWV1ZVsgMCBdICE9PSBcImlucHJvZ3Jlc3NcIiApIHtcblx0XHRcdFx0XHRqUXVlcnkuZGVxdWV1ZSggdGhpcywgdHlwZSApO1xuXHRcdFx0XHR9XG5cdFx0XHR9ICk7XG5cdH0sXG5cdGRlcXVldWU6IGZ1bmN0aW9uKCB0eXBlICkge1xuXHRcdHJldHVybiB0aGlzLmVhY2goIGZ1bmN0aW9uKCkge1xuXHRcdFx0alF1ZXJ5LmRlcXVldWUoIHRoaXMsIHR5cGUgKTtcblx0XHR9ICk7XG5cdH0sXG5cdGNsZWFyUXVldWU6IGZ1bmN0aW9uKCB0eXBlICkge1xuXHRcdHJldHVybiB0aGlzLnF1ZXVlKCB0eXBlIHx8IFwiZnhcIiwgW10gKTtcblx0fSxcblxuXHQvLyBHZXQgYSBwcm9taXNlIHJlc29sdmVkIHdoZW4gcXVldWVzIG9mIGEgY2VydGFpbiB0eXBlXG5cdC8vIGFyZSBlbXB0aWVkIChmeCBpcyB0aGUgdHlwZSBieSBkZWZhdWx0KVxuXHRwcm9taXNlOiBmdW5jdGlvbiggdHlwZSwgb2JqICkge1xuXHRcdHZhciB0bXAsXG5cdFx0XHRjb3VudCA9IDEsXG5cdFx0XHRkZWZlciA9IGpRdWVyeS5EZWZlcnJlZCgpLFxuXHRcdFx0ZWxlbWVudHMgPSB0aGlzLFxuXHRcdFx0aSA9IHRoaXMubGVuZ3RoLFxuXHRcdFx0cmVzb2x2ZSA9IGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRpZiAoICEoIC0tY291bnQgKSApIHtcblx0XHRcdFx0XHRkZWZlci5yZXNvbHZlV2l0aCggZWxlbWVudHMsIFsgZWxlbWVudHMgXSApO1xuXHRcdFx0XHR9XG5cdFx0XHR9O1xuXG5cdFx0aWYgKCB0eXBlb2YgdHlwZSAhPT0gXCJzdHJpbmdcIiApIHtcblx0XHRcdG9iaiA9IHR5cGU7XG5cdFx0XHR0eXBlID0gdW5kZWZpbmVkO1xuXHRcdH1cblx0XHR0eXBlID0gdHlwZSB8fCBcImZ4XCI7XG5cblx0XHR3aGlsZSAoIGktLSApIHtcblx0XHRcdHRtcCA9IGRhdGFQcml2LmdldCggZWxlbWVudHNbIGkgXSwgdHlwZSArIFwicXVldWVIb29rc1wiICk7XG5cdFx0XHRpZiAoIHRtcCAmJiB0bXAuZW1wdHkgKSB7XG5cdFx0XHRcdGNvdW50Kys7XG5cdFx0XHRcdHRtcC5lbXB0eS5hZGQoIHJlc29sdmUgKTtcblx0XHRcdH1cblx0XHR9XG5cdFx0cmVzb2x2ZSgpO1xuXHRcdHJldHVybiBkZWZlci5wcm9taXNlKCBvYmogKTtcblx0fVxufSApO1xudmFyIHBudW0gPSAoIC9bKy1dPyg/OlxcZCpcXC58KVxcZCsoPzpbZUVdWystXT9cXGQrfCkvICkuc291cmNlO1xuXG52YXIgcmNzc051bSA9IG5ldyBSZWdFeHAoIFwiXig/OihbKy1dKT18KShcIiArIHBudW0gKyBcIikoW2EteiVdKikkXCIsIFwiaVwiICk7XG5cblxudmFyIGNzc0V4cGFuZCA9IFsgXCJUb3BcIiwgXCJSaWdodFwiLCBcIkJvdHRvbVwiLCBcIkxlZnRcIiBdO1xuXG52YXIgaXNIaWRkZW5XaXRoaW5UcmVlID0gZnVuY3Rpb24oIGVsZW0sIGVsICkge1xuXG5cdFx0Ly8gaXNIaWRkZW5XaXRoaW5UcmVlIG1pZ2h0IGJlIGNhbGxlZCBmcm9tIGpRdWVyeSNmaWx0ZXIgZnVuY3Rpb247XG5cdFx0Ly8gaW4gdGhhdCBjYXNlLCBlbGVtZW50IHdpbGwgYmUgc2Vjb25kIGFyZ3VtZW50XG5cdFx0ZWxlbSA9IGVsIHx8IGVsZW07XG5cblx0XHQvLyBJbmxpbmUgc3R5bGUgdHJ1bXBzIGFsbFxuXHRcdHJldHVybiBlbGVtLnN0eWxlLmRpc3BsYXkgPT09IFwibm9uZVwiIHx8XG5cdFx0XHRlbGVtLnN0eWxlLmRpc3BsYXkgPT09IFwiXCIgJiZcblxuXHRcdFx0Ly8gT3RoZXJ3aXNlLCBjaGVjayBjb21wdXRlZCBzdHlsZVxuXHRcdFx0Ly8gU3VwcG9ydDogRmlyZWZveCA8PTQzIC0gNDVcblx0XHRcdC8vIERpc2Nvbm5lY3RlZCBlbGVtZW50cyBjYW4gaGF2ZSBjb21wdXRlZCBkaXNwbGF5OiBub25lLCBzbyBmaXJzdCBjb25maXJtIHRoYXQgZWxlbSBpc1xuXHRcdFx0Ly8gaW4gdGhlIGRvY3VtZW50LlxuXHRcdFx0alF1ZXJ5LmNvbnRhaW5zKCBlbGVtLm93bmVyRG9jdW1lbnQsIGVsZW0gKSAmJlxuXG5cdFx0XHRqUXVlcnkuY3NzKCBlbGVtLCBcImRpc3BsYXlcIiApID09PSBcIm5vbmVcIjtcblx0fTtcblxudmFyIHN3YXAgPSBmdW5jdGlvbiggZWxlbSwgb3B0aW9ucywgY2FsbGJhY2ssIGFyZ3MgKSB7XG5cdHZhciByZXQsIG5hbWUsXG5cdFx0b2xkID0ge307XG5cblx0Ly8gUmVtZW1iZXIgdGhlIG9sZCB2YWx1ZXMsIGFuZCBpbnNlcnQgdGhlIG5ldyBvbmVzXG5cdGZvciAoIG5hbWUgaW4gb3B0aW9ucyApIHtcblx0XHRvbGRbIG5hbWUgXSA9IGVsZW0uc3R5bGVbIG5hbWUgXTtcblx0XHRlbGVtLnN0eWxlWyBuYW1lIF0gPSBvcHRpb25zWyBuYW1lIF07XG5cdH1cblxuXHRyZXQgPSBjYWxsYmFjay5hcHBseSggZWxlbSwgYXJncyB8fCBbXSApO1xuXG5cdC8vIFJldmVydCB0aGUgb2xkIHZhbHVlc1xuXHRmb3IgKCBuYW1lIGluIG9wdGlvbnMgKSB7XG5cdFx0ZWxlbS5zdHlsZVsgbmFtZSBdID0gb2xkWyBuYW1lIF07XG5cdH1cblxuXHRyZXR1cm4gcmV0O1xufTtcblxuXG5cblxuZnVuY3Rpb24gYWRqdXN0Q1NTKCBlbGVtLCBwcm9wLCB2YWx1ZVBhcnRzLCB0d2VlbiApIHtcblx0dmFyIGFkanVzdGVkLFxuXHRcdHNjYWxlID0gMSxcblx0XHRtYXhJdGVyYXRpb25zID0gMjAsXG5cdFx0Y3VycmVudFZhbHVlID0gdHdlZW4gP1xuXHRcdFx0ZnVuY3Rpb24oKSB7XG5cdFx0XHRcdHJldHVybiB0d2Vlbi5jdXIoKTtcblx0XHRcdH0gOlxuXHRcdFx0ZnVuY3Rpb24oKSB7XG5cdFx0XHRcdHJldHVybiBqUXVlcnkuY3NzKCBlbGVtLCBwcm9wLCBcIlwiICk7XG5cdFx0XHR9LFxuXHRcdGluaXRpYWwgPSBjdXJyZW50VmFsdWUoKSxcblx0XHR1bml0ID0gdmFsdWVQYXJ0cyAmJiB2YWx1ZVBhcnRzWyAzIF0gfHwgKCBqUXVlcnkuY3NzTnVtYmVyWyBwcm9wIF0gPyBcIlwiIDogXCJweFwiICksXG5cblx0XHQvLyBTdGFydGluZyB2YWx1ZSBjb21wdXRhdGlvbiBpcyByZXF1aXJlZCBmb3IgcG90ZW50aWFsIHVuaXQgbWlzbWF0Y2hlc1xuXHRcdGluaXRpYWxJblVuaXQgPSAoIGpRdWVyeS5jc3NOdW1iZXJbIHByb3AgXSB8fCB1bml0ICE9PSBcInB4XCIgJiYgK2luaXRpYWwgKSAmJlxuXHRcdFx0cmNzc051bS5leGVjKCBqUXVlcnkuY3NzKCBlbGVtLCBwcm9wICkgKTtcblxuXHRpZiAoIGluaXRpYWxJblVuaXQgJiYgaW5pdGlhbEluVW5pdFsgMyBdICE9PSB1bml0ICkge1xuXG5cdFx0Ly8gVHJ1c3QgdW5pdHMgcmVwb3J0ZWQgYnkgalF1ZXJ5LmNzc1xuXHRcdHVuaXQgPSB1bml0IHx8IGluaXRpYWxJblVuaXRbIDMgXTtcblxuXHRcdC8vIE1ha2Ugc3VyZSB3ZSB1cGRhdGUgdGhlIHR3ZWVuIHByb3BlcnRpZXMgbGF0ZXIgb25cblx0XHR2YWx1ZVBhcnRzID0gdmFsdWVQYXJ0cyB8fCBbXTtcblxuXHRcdC8vIEl0ZXJhdGl2ZWx5IGFwcHJveGltYXRlIGZyb20gYSBub256ZXJvIHN0YXJ0aW5nIHBvaW50XG5cdFx0aW5pdGlhbEluVW5pdCA9ICtpbml0aWFsIHx8IDE7XG5cblx0XHRkbyB7XG5cblx0XHRcdC8vIElmIHByZXZpb3VzIGl0ZXJhdGlvbiB6ZXJvZWQgb3V0LCBkb3VibGUgdW50aWwgd2UgZ2V0ICpzb21ldGhpbmcqLlxuXHRcdFx0Ly8gVXNlIHN0cmluZyBmb3IgZG91Ymxpbmcgc28gd2UgZG9uJ3QgYWNjaWRlbnRhbGx5IHNlZSBzY2FsZSBhcyB1bmNoYW5nZWQgYmVsb3dcblx0XHRcdHNjYWxlID0gc2NhbGUgfHwgXCIuNVwiO1xuXG5cdFx0XHQvLyBBZGp1c3QgYW5kIGFwcGx5XG5cdFx0XHRpbml0aWFsSW5Vbml0ID0gaW5pdGlhbEluVW5pdCAvIHNjYWxlO1xuXHRcdFx0alF1ZXJ5LnN0eWxlKCBlbGVtLCBwcm9wLCBpbml0aWFsSW5Vbml0ICsgdW5pdCApO1xuXG5cdFx0Ly8gVXBkYXRlIHNjYWxlLCB0b2xlcmF0aW5nIHplcm8gb3IgTmFOIGZyb20gdHdlZW4uY3VyKClcblx0XHQvLyBCcmVhayB0aGUgbG9vcCBpZiBzY2FsZSBpcyB1bmNoYW5nZWQgb3IgcGVyZmVjdCwgb3IgaWYgd2UndmUganVzdCBoYWQgZW5vdWdoLlxuXHRcdH0gd2hpbGUgKFxuXHRcdFx0c2NhbGUgIT09ICggc2NhbGUgPSBjdXJyZW50VmFsdWUoKSAvIGluaXRpYWwgKSAmJiBzY2FsZSAhPT0gMSAmJiAtLW1heEl0ZXJhdGlvbnNcblx0XHQpO1xuXHR9XG5cblx0aWYgKCB2YWx1ZVBhcnRzICkge1xuXHRcdGluaXRpYWxJblVuaXQgPSAraW5pdGlhbEluVW5pdCB8fCAraW5pdGlhbCB8fCAwO1xuXG5cdFx0Ly8gQXBwbHkgcmVsYXRpdmUgb2Zmc2V0ICgrPS8tPSkgaWYgc3BlY2lmaWVkXG5cdFx0YWRqdXN0ZWQgPSB2YWx1ZVBhcnRzWyAxIF0gP1xuXHRcdFx0aW5pdGlhbEluVW5pdCArICggdmFsdWVQYXJ0c1sgMSBdICsgMSApICogdmFsdWVQYXJ0c1sgMiBdIDpcblx0XHRcdCt2YWx1ZVBhcnRzWyAyIF07XG5cdFx0aWYgKCB0d2VlbiApIHtcblx0XHRcdHR3ZWVuLnVuaXQgPSB1bml0O1xuXHRcdFx0dHdlZW4uc3RhcnQgPSBpbml0aWFsSW5Vbml0O1xuXHRcdFx0dHdlZW4uZW5kID0gYWRqdXN0ZWQ7XG5cdFx0fVxuXHR9XG5cdHJldHVybiBhZGp1c3RlZDtcbn1cblxuXG52YXIgZGVmYXVsdERpc3BsYXlNYXAgPSB7fTtcblxuZnVuY3Rpb24gZ2V0RGVmYXVsdERpc3BsYXkoIGVsZW0gKSB7XG5cdHZhciB0ZW1wLFxuXHRcdGRvYyA9IGVsZW0ub3duZXJEb2N1bWVudCxcblx0XHRub2RlTmFtZSA9IGVsZW0ubm9kZU5hbWUsXG5cdFx0ZGlzcGxheSA9IGRlZmF1bHREaXNwbGF5TWFwWyBub2RlTmFtZSBdO1xuXG5cdGlmICggZGlzcGxheSApIHtcblx0XHRyZXR1cm4gZGlzcGxheTtcblx0fVxuXG5cdHRlbXAgPSBkb2MuYm9keS5hcHBlbmRDaGlsZCggZG9jLmNyZWF0ZUVsZW1lbnQoIG5vZGVOYW1lICkgKTtcblx0ZGlzcGxheSA9IGpRdWVyeS5jc3MoIHRlbXAsIFwiZGlzcGxheVwiICk7XG5cblx0dGVtcC5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKCB0ZW1wICk7XG5cblx0aWYgKCBkaXNwbGF5ID09PSBcIm5vbmVcIiApIHtcblx0XHRkaXNwbGF5ID0gXCJibG9ja1wiO1xuXHR9XG5cdGRlZmF1bHREaXNwbGF5TWFwWyBub2RlTmFtZSBdID0gZGlzcGxheTtcblxuXHRyZXR1cm4gZGlzcGxheTtcbn1cblxuZnVuY3Rpb24gc2hvd0hpZGUoIGVsZW1lbnRzLCBzaG93ICkge1xuXHR2YXIgZGlzcGxheSwgZWxlbSxcblx0XHR2YWx1ZXMgPSBbXSxcblx0XHRpbmRleCA9IDAsXG5cdFx0bGVuZ3RoID0gZWxlbWVudHMubGVuZ3RoO1xuXG5cdC8vIERldGVybWluZSBuZXcgZGlzcGxheSB2YWx1ZSBmb3IgZWxlbWVudHMgdGhhdCBuZWVkIHRvIGNoYW5nZVxuXHRmb3IgKCA7IGluZGV4IDwgbGVuZ3RoOyBpbmRleCsrICkge1xuXHRcdGVsZW0gPSBlbGVtZW50c1sgaW5kZXggXTtcblx0XHRpZiAoICFlbGVtLnN0eWxlICkge1xuXHRcdFx0Y29udGludWU7XG5cdFx0fVxuXG5cdFx0ZGlzcGxheSA9IGVsZW0uc3R5bGUuZGlzcGxheTtcblx0XHRpZiAoIHNob3cgKSB7XG5cblx0XHRcdC8vIFNpbmNlIHdlIGZvcmNlIHZpc2liaWxpdHkgdXBvbiBjYXNjYWRlLWhpZGRlbiBlbGVtZW50cywgYW4gaW1tZWRpYXRlIChhbmQgc2xvdylcblx0XHRcdC8vIGNoZWNrIGlzIHJlcXVpcmVkIGluIHRoaXMgZmlyc3QgbG9vcCB1bmxlc3Mgd2UgaGF2ZSBhIG5vbmVtcHR5IGRpc3BsYXkgdmFsdWUgKGVpdGhlclxuXHRcdFx0Ly8gaW5saW5lIG9yIGFib3V0LXRvLWJlLXJlc3RvcmVkKVxuXHRcdFx0aWYgKCBkaXNwbGF5ID09PSBcIm5vbmVcIiApIHtcblx0XHRcdFx0dmFsdWVzWyBpbmRleCBdID0gZGF0YVByaXYuZ2V0KCBlbGVtLCBcImRpc3BsYXlcIiApIHx8IG51bGw7XG5cdFx0XHRcdGlmICggIXZhbHVlc1sgaW5kZXggXSApIHtcblx0XHRcdFx0XHRlbGVtLnN0eWxlLmRpc3BsYXkgPSBcIlwiO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0XHRpZiAoIGVsZW0uc3R5bGUuZGlzcGxheSA9PT0gXCJcIiAmJiBpc0hpZGRlbldpdGhpblRyZWUoIGVsZW0gKSApIHtcblx0XHRcdFx0dmFsdWVzWyBpbmRleCBdID0gZ2V0RGVmYXVsdERpc3BsYXkoIGVsZW0gKTtcblx0XHRcdH1cblx0XHR9IGVsc2Uge1xuXHRcdFx0aWYgKCBkaXNwbGF5ICE9PSBcIm5vbmVcIiApIHtcblx0XHRcdFx0dmFsdWVzWyBpbmRleCBdID0gXCJub25lXCI7XG5cblx0XHRcdFx0Ly8gUmVtZW1iZXIgd2hhdCB3ZSdyZSBvdmVyd3JpdGluZ1xuXHRcdFx0XHRkYXRhUHJpdi5zZXQoIGVsZW0sIFwiZGlzcGxheVwiLCBkaXNwbGF5ICk7XG5cdFx0XHR9XG5cdFx0fVxuXHR9XG5cblx0Ly8gU2V0IHRoZSBkaXNwbGF5IG9mIHRoZSBlbGVtZW50cyBpbiBhIHNlY29uZCBsb29wIHRvIGF2b2lkIGNvbnN0YW50IHJlZmxvd1xuXHRmb3IgKCBpbmRleCA9IDA7IGluZGV4IDwgbGVuZ3RoOyBpbmRleCsrICkge1xuXHRcdGlmICggdmFsdWVzWyBpbmRleCBdICE9IG51bGwgKSB7XG5cdFx0XHRlbGVtZW50c1sgaW5kZXggXS5zdHlsZS5kaXNwbGF5ID0gdmFsdWVzWyBpbmRleCBdO1xuXHRcdH1cblx0fVxuXG5cdHJldHVybiBlbGVtZW50cztcbn1cblxualF1ZXJ5LmZuLmV4dGVuZCgge1xuXHRzaG93OiBmdW5jdGlvbigpIHtcblx0XHRyZXR1cm4gc2hvd0hpZGUoIHRoaXMsIHRydWUgKTtcblx0fSxcblx0aGlkZTogZnVuY3Rpb24oKSB7XG5cdFx0cmV0dXJuIHNob3dIaWRlKCB0aGlzICk7XG5cdH0sXG5cdHRvZ2dsZTogZnVuY3Rpb24oIHN0YXRlICkge1xuXHRcdGlmICggdHlwZW9mIHN0YXRlID09PSBcImJvb2xlYW5cIiApIHtcblx0XHRcdHJldHVybiBzdGF0ZSA/IHRoaXMuc2hvdygpIDogdGhpcy5oaWRlKCk7XG5cdFx0fVxuXG5cdFx0cmV0dXJuIHRoaXMuZWFjaCggZnVuY3Rpb24oKSB7XG5cdFx0XHRpZiAoIGlzSGlkZGVuV2l0aGluVHJlZSggdGhpcyApICkge1xuXHRcdFx0XHRqUXVlcnkoIHRoaXMgKS5zaG93KCk7XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRqUXVlcnkoIHRoaXMgKS5oaWRlKCk7XG5cdFx0XHR9XG5cdFx0fSApO1xuXHR9XG59ICk7XG52YXIgcmNoZWNrYWJsZVR5cGUgPSAoIC9eKD86Y2hlY2tib3h8cmFkaW8pJC9pICk7XG5cbnZhciBydGFnTmFtZSA9ICggLzwoW2Etel1bXlxcL1xcMD5cXHgyMFxcdFxcclxcblxcZl0rKS9pICk7XG5cbnZhciByc2NyaXB0VHlwZSA9ICggL14kfFxcLyg/OmphdmF8ZWNtYSlzY3JpcHQvaSApO1xuXG5cblxuLy8gV2UgaGF2ZSB0byBjbG9zZSB0aGVzZSB0YWdzIHRvIHN1cHBvcnQgWEhUTUwgKCMxMzIwMClcbnZhciB3cmFwTWFwID0ge1xuXG5cdC8vIFN1cHBvcnQ6IElFIDw9OSBvbmx5XG5cdG9wdGlvbjogWyAxLCBcIjxzZWxlY3QgbXVsdGlwbGU9J211bHRpcGxlJz5cIiwgXCI8L3NlbGVjdD5cIiBdLFxuXG5cdC8vIFhIVE1MIHBhcnNlcnMgZG8gbm90IG1hZ2ljYWxseSBpbnNlcnQgZWxlbWVudHMgaW4gdGhlXG5cdC8vIHNhbWUgd2F5IHRoYXQgdGFnIHNvdXAgcGFyc2VycyBkby4gU28gd2UgY2Fubm90IHNob3J0ZW5cblx0Ly8gdGhpcyBieSBvbWl0dGluZyA8dGJvZHk+IG9yIG90aGVyIHJlcXVpcmVkIGVsZW1lbnRzLlxuXHR0aGVhZDogWyAxLCBcIjx0YWJsZT5cIiwgXCI8L3RhYmxlPlwiIF0sXG5cdGNvbDogWyAyLCBcIjx0YWJsZT48Y29sZ3JvdXA+XCIsIFwiPC9jb2xncm91cD48L3RhYmxlPlwiIF0sXG5cdHRyOiBbIDIsIFwiPHRhYmxlPjx0Ym9keT5cIiwgXCI8L3Rib2R5PjwvdGFibGU+XCIgXSxcblx0dGQ6IFsgMywgXCI8dGFibGU+PHRib2R5Pjx0cj5cIiwgXCI8L3RyPjwvdGJvZHk+PC90YWJsZT5cIiBdLFxuXG5cdF9kZWZhdWx0OiBbIDAsIFwiXCIsIFwiXCIgXVxufTtcblxuLy8gU3VwcG9ydDogSUUgPD05IG9ubHlcbndyYXBNYXAub3B0Z3JvdXAgPSB3cmFwTWFwLm9wdGlvbjtcblxud3JhcE1hcC50Ym9keSA9IHdyYXBNYXAudGZvb3QgPSB3cmFwTWFwLmNvbGdyb3VwID0gd3JhcE1hcC5jYXB0aW9uID0gd3JhcE1hcC50aGVhZDtcbndyYXBNYXAudGggPSB3cmFwTWFwLnRkO1xuXG5cbmZ1bmN0aW9uIGdldEFsbCggY29udGV4dCwgdGFnICkge1xuXG5cdC8vIFN1cHBvcnQ6IElFIDw9OSAtIDExIG9ubHlcblx0Ly8gVXNlIHR5cGVvZiB0byBhdm9pZCB6ZXJvLWFyZ3VtZW50IG1ldGhvZCBpbnZvY2F0aW9uIG9uIGhvc3Qgb2JqZWN0cyAoIzE1MTUxKVxuXHR2YXIgcmV0O1xuXG5cdGlmICggdHlwZW9mIGNvbnRleHQuZ2V0RWxlbWVudHNCeVRhZ05hbWUgIT09IFwidW5kZWZpbmVkXCIgKSB7XG5cdFx0cmV0ID0gY29udGV4dC5nZXRFbGVtZW50c0J5VGFnTmFtZSggdGFnIHx8IFwiKlwiICk7XG5cblx0fSBlbHNlIGlmICggdHlwZW9mIGNvbnRleHQucXVlcnlTZWxlY3RvckFsbCAhPT0gXCJ1bmRlZmluZWRcIiApIHtcblx0XHRyZXQgPSBjb250ZXh0LnF1ZXJ5U2VsZWN0b3JBbGwoIHRhZyB8fCBcIipcIiApO1xuXG5cdH0gZWxzZSB7XG5cdFx0cmV0ID0gW107XG5cdH1cblxuXHRpZiAoIHRhZyA9PT0gdW5kZWZpbmVkIHx8IHRhZyAmJiBub2RlTmFtZSggY29udGV4dCwgdGFnICkgKSB7XG5cdFx0cmV0dXJuIGpRdWVyeS5tZXJnZSggWyBjb250ZXh0IF0sIHJldCApO1xuXHR9XG5cblx0cmV0dXJuIHJldDtcbn1cblxuXG4vLyBNYXJrIHNjcmlwdHMgYXMgaGF2aW5nIGFscmVhZHkgYmVlbiBldmFsdWF0ZWRcbmZ1bmN0aW9uIHNldEdsb2JhbEV2YWwoIGVsZW1zLCByZWZFbGVtZW50cyApIHtcblx0dmFyIGkgPSAwLFxuXHRcdGwgPSBlbGVtcy5sZW5ndGg7XG5cblx0Zm9yICggOyBpIDwgbDsgaSsrICkge1xuXHRcdGRhdGFQcml2LnNldChcblx0XHRcdGVsZW1zWyBpIF0sXG5cdFx0XHRcImdsb2JhbEV2YWxcIixcblx0XHRcdCFyZWZFbGVtZW50cyB8fCBkYXRhUHJpdi5nZXQoIHJlZkVsZW1lbnRzWyBpIF0sIFwiZ2xvYmFsRXZhbFwiIClcblx0XHQpO1xuXHR9XG59XG5cblxudmFyIHJodG1sID0gLzx8JiM/XFx3KzsvO1xuXG5mdW5jdGlvbiBidWlsZEZyYWdtZW50KCBlbGVtcywgY29udGV4dCwgc2NyaXB0cywgc2VsZWN0aW9uLCBpZ25vcmVkICkge1xuXHR2YXIgZWxlbSwgdG1wLCB0YWcsIHdyYXAsIGNvbnRhaW5zLCBqLFxuXHRcdGZyYWdtZW50ID0gY29udGV4dC5jcmVhdGVEb2N1bWVudEZyYWdtZW50KCksXG5cdFx0bm9kZXMgPSBbXSxcblx0XHRpID0gMCxcblx0XHRsID0gZWxlbXMubGVuZ3RoO1xuXG5cdGZvciAoIDsgaSA8IGw7IGkrKyApIHtcblx0XHRlbGVtID0gZWxlbXNbIGkgXTtcblxuXHRcdGlmICggZWxlbSB8fCBlbGVtID09PSAwICkge1xuXG5cdFx0XHQvLyBBZGQgbm9kZXMgZGlyZWN0bHlcblx0XHRcdGlmICggalF1ZXJ5LnR5cGUoIGVsZW0gKSA9PT0gXCJvYmplY3RcIiApIHtcblxuXHRcdFx0XHQvLyBTdXBwb3J0OiBBbmRyb2lkIDw9NC4wIG9ubHksIFBoYW50b21KUyAxIG9ubHlcblx0XHRcdFx0Ly8gcHVzaC5hcHBseShfLCBhcnJheWxpa2UpIHRocm93cyBvbiBhbmNpZW50IFdlYktpdFxuXHRcdFx0XHRqUXVlcnkubWVyZ2UoIG5vZGVzLCBlbGVtLm5vZGVUeXBlID8gWyBlbGVtIF0gOiBlbGVtICk7XG5cblx0XHRcdC8vIENvbnZlcnQgbm9uLWh0bWwgaW50byBhIHRleHQgbm9kZVxuXHRcdFx0fSBlbHNlIGlmICggIXJodG1sLnRlc3QoIGVsZW0gKSApIHtcblx0XHRcdFx0bm9kZXMucHVzaCggY29udGV4dC5jcmVhdGVUZXh0Tm9kZSggZWxlbSApICk7XG5cblx0XHRcdC8vIENvbnZlcnQgaHRtbCBpbnRvIERPTSBub2Rlc1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0dG1wID0gdG1wIHx8IGZyYWdtZW50LmFwcGVuZENoaWxkKCBjb250ZXh0LmNyZWF0ZUVsZW1lbnQoIFwiZGl2XCIgKSApO1xuXG5cdFx0XHRcdC8vIERlc2VyaWFsaXplIGEgc3RhbmRhcmQgcmVwcmVzZW50YXRpb25cblx0XHRcdFx0dGFnID0gKCBydGFnTmFtZS5leGVjKCBlbGVtICkgfHwgWyBcIlwiLCBcIlwiIF0gKVsgMSBdLnRvTG93ZXJDYXNlKCk7XG5cdFx0XHRcdHdyYXAgPSB3cmFwTWFwWyB0YWcgXSB8fCB3cmFwTWFwLl9kZWZhdWx0O1xuXHRcdFx0XHR0bXAuaW5uZXJIVE1MID0gd3JhcFsgMSBdICsgalF1ZXJ5Lmh0bWxQcmVmaWx0ZXIoIGVsZW0gKSArIHdyYXBbIDIgXTtcblxuXHRcdFx0XHQvLyBEZXNjZW5kIHRocm91Z2ggd3JhcHBlcnMgdG8gdGhlIHJpZ2h0IGNvbnRlbnRcblx0XHRcdFx0aiA9IHdyYXBbIDAgXTtcblx0XHRcdFx0d2hpbGUgKCBqLS0gKSB7XG5cdFx0XHRcdFx0dG1wID0gdG1wLmxhc3RDaGlsZDtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdC8vIFN1cHBvcnQ6IEFuZHJvaWQgPD00LjAgb25seSwgUGhhbnRvbUpTIDEgb25seVxuXHRcdFx0XHQvLyBwdXNoLmFwcGx5KF8sIGFycmF5bGlrZSkgdGhyb3dzIG9uIGFuY2llbnQgV2ViS2l0XG5cdFx0XHRcdGpRdWVyeS5tZXJnZSggbm9kZXMsIHRtcC5jaGlsZE5vZGVzICk7XG5cblx0XHRcdFx0Ly8gUmVtZW1iZXIgdGhlIHRvcC1sZXZlbCBjb250YWluZXJcblx0XHRcdFx0dG1wID0gZnJhZ21lbnQuZmlyc3RDaGlsZDtcblxuXHRcdFx0XHQvLyBFbnN1cmUgdGhlIGNyZWF0ZWQgbm9kZXMgYXJlIG9ycGhhbmVkICgjMTIzOTIpXG5cdFx0XHRcdHRtcC50ZXh0Q29udGVudCA9IFwiXCI7XG5cdFx0XHR9XG5cdFx0fVxuXHR9XG5cblx0Ly8gUmVtb3ZlIHdyYXBwZXIgZnJvbSBmcmFnbWVudFxuXHRmcmFnbWVudC50ZXh0Q29udGVudCA9IFwiXCI7XG5cblx0aSA9IDA7XG5cdHdoaWxlICggKCBlbGVtID0gbm9kZXNbIGkrKyBdICkgKSB7XG5cblx0XHQvLyBTa2lwIGVsZW1lbnRzIGFscmVhZHkgaW4gdGhlIGNvbnRleHQgY29sbGVjdGlvbiAodHJhYy00MDg3KVxuXHRcdGlmICggc2VsZWN0aW9uICYmIGpRdWVyeS5pbkFycmF5KCBlbGVtLCBzZWxlY3Rpb24gKSA+IC0xICkge1xuXHRcdFx0aWYgKCBpZ25vcmVkICkge1xuXHRcdFx0XHRpZ25vcmVkLnB1c2goIGVsZW0gKTtcblx0XHRcdH1cblx0XHRcdGNvbnRpbnVlO1xuXHRcdH1cblxuXHRcdGNvbnRhaW5zID0galF1ZXJ5LmNvbnRhaW5zKCBlbGVtLm93bmVyRG9jdW1lbnQsIGVsZW0gKTtcblxuXHRcdC8vIEFwcGVuZCB0byBmcmFnbWVudFxuXHRcdHRtcCA9IGdldEFsbCggZnJhZ21lbnQuYXBwZW5kQ2hpbGQoIGVsZW0gKSwgXCJzY3JpcHRcIiApO1xuXG5cdFx0Ly8gUHJlc2VydmUgc2NyaXB0IGV2YWx1YXRpb24gaGlzdG9yeVxuXHRcdGlmICggY29udGFpbnMgKSB7XG5cdFx0XHRzZXRHbG9iYWxFdmFsKCB0bXAgKTtcblx0XHR9XG5cblx0XHQvLyBDYXB0dXJlIGV4ZWN1dGFibGVzXG5cdFx0aWYgKCBzY3JpcHRzICkge1xuXHRcdFx0aiA9IDA7XG5cdFx0XHR3aGlsZSAoICggZWxlbSA9IHRtcFsgaisrIF0gKSApIHtcblx0XHRcdFx0aWYgKCByc2NyaXB0VHlwZS50ZXN0KCBlbGVtLnR5cGUgfHwgXCJcIiApICkge1xuXHRcdFx0XHRcdHNjcmlwdHMucHVzaCggZWxlbSApO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fVxuXHR9XG5cblx0cmV0dXJuIGZyYWdtZW50O1xufVxuXG5cbiggZnVuY3Rpb24oKSB7XG5cdHZhciBmcmFnbWVudCA9IGRvY3VtZW50LmNyZWF0ZURvY3VtZW50RnJhZ21lbnQoKSxcblx0XHRkaXYgPSBmcmFnbWVudC5hcHBlbmRDaGlsZCggZG9jdW1lbnQuY3JlYXRlRWxlbWVudCggXCJkaXZcIiApICksXG5cdFx0aW5wdXQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCBcImlucHV0XCIgKTtcblxuXHQvLyBTdXBwb3J0OiBBbmRyb2lkIDQuMCAtIDQuMyBvbmx5XG5cdC8vIENoZWNrIHN0YXRlIGxvc3QgaWYgdGhlIG5hbWUgaXMgc2V0ICgjMTEyMTcpXG5cdC8vIFN1cHBvcnQ6IFdpbmRvd3MgV2ViIEFwcHMgKFdXQSlcblx0Ly8gYG5hbWVgIGFuZCBgdHlwZWAgbXVzdCB1c2UgLnNldEF0dHJpYnV0ZSBmb3IgV1dBICgjMTQ5MDEpXG5cdGlucHV0LnNldEF0dHJpYnV0ZSggXCJ0eXBlXCIsIFwicmFkaW9cIiApO1xuXHRpbnB1dC5zZXRBdHRyaWJ1dGUoIFwiY2hlY2tlZFwiLCBcImNoZWNrZWRcIiApO1xuXHRpbnB1dC5zZXRBdHRyaWJ1dGUoIFwibmFtZVwiLCBcInRcIiApO1xuXG5cdGRpdi5hcHBlbmRDaGlsZCggaW5wdXQgKTtcblxuXHQvLyBTdXBwb3J0OiBBbmRyb2lkIDw9NC4xIG9ubHlcblx0Ly8gT2xkZXIgV2ViS2l0IGRvZXNuJ3QgY2xvbmUgY2hlY2tlZCBzdGF0ZSBjb3JyZWN0bHkgaW4gZnJhZ21lbnRzXG5cdHN1cHBvcnQuY2hlY2tDbG9uZSA9IGRpdi5jbG9uZU5vZGUoIHRydWUgKS5jbG9uZU5vZGUoIHRydWUgKS5sYXN0Q2hpbGQuY2hlY2tlZDtcblxuXHQvLyBTdXBwb3J0OiBJRSA8PTExIG9ubHlcblx0Ly8gTWFrZSBzdXJlIHRleHRhcmVhIChhbmQgY2hlY2tib3gpIGRlZmF1bHRWYWx1ZSBpcyBwcm9wZXJseSBjbG9uZWRcblx0ZGl2LmlubmVySFRNTCA9IFwiPHRleHRhcmVhPng8L3RleHRhcmVhPlwiO1xuXHRzdXBwb3J0Lm5vQ2xvbmVDaGVja2VkID0gISFkaXYuY2xvbmVOb2RlKCB0cnVlICkubGFzdENoaWxkLmRlZmF1bHRWYWx1ZTtcbn0gKSgpO1xudmFyIGRvY3VtZW50RWxlbWVudCA9IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudDtcblxuXG5cbnZhclxuXHRya2V5RXZlbnQgPSAvXmtleS8sXG5cdHJtb3VzZUV2ZW50ID0gL14oPzptb3VzZXxwb2ludGVyfGNvbnRleHRtZW51fGRyYWd8ZHJvcCl8Y2xpY2svLFxuXHRydHlwZW5hbWVzcGFjZSA9IC9eKFteLl0qKSg/OlxcLiguKyl8KS87XG5cbmZ1bmN0aW9uIHJldHVyblRydWUoKSB7XG5cdHJldHVybiB0cnVlO1xufVxuXG5mdW5jdGlvbiByZXR1cm5GYWxzZSgpIHtcblx0cmV0dXJuIGZhbHNlO1xufVxuXG4vLyBTdXBwb3J0OiBJRSA8PTkgb25seVxuLy8gU2VlICMxMzM5MyBmb3IgbW9yZSBpbmZvXG5mdW5jdGlvbiBzYWZlQWN0aXZlRWxlbWVudCgpIHtcblx0dHJ5IHtcblx0XHRyZXR1cm4gZG9jdW1lbnQuYWN0aXZlRWxlbWVudDtcblx0fSBjYXRjaCAoIGVyciApIHsgfVxufVxuXG5mdW5jdGlvbiBvbiggZWxlbSwgdHlwZXMsIHNlbGVjdG9yLCBkYXRhLCBmbiwgb25lICkge1xuXHR2YXIgb3JpZ0ZuLCB0eXBlO1xuXG5cdC8vIFR5cGVzIGNhbiBiZSBhIG1hcCBvZiB0eXBlcy9oYW5kbGVyc1xuXHRpZiAoIHR5cGVvZiB0eXBlcyA9PT0gXCJvYmplY3RcIiApIHtcblxuXHRcdC8vICggdHlwZXMtT2JqZWN0LCBzZWxlY3RvciwgZGF0YSApXG5cdFx0aWYgKCB0eXBlb2Ygc2VsZWN0b3IgIT09IFwic3RyaW5nXCIgKSB7XG5cblx0XHRcdC8vICggdHlwZXMtT2JqZWN0LCBkYXRhIClcblx0XHRcdGRhdGEgPSBkYXRhIHx8IHNlbGVjdG9yO1xuXHRcdFx0c2VsZWN0b3IgPSB1bmRlZmluZWQ7XG5cdFx0fVxuXHRcdGZvciAoIHR5cGUgaW4gdHlwZXMgKSB7XG5cdFx0XHRvbiggZWxlbSwgdHlwZSwgc2VsZWN0b3IsIGRhdGEsIHR5cGVzWyB0eXBlIF0sIG9uZSApO1xuXHRcdH1cblx0XHRyZXR1cm4gZWxlbTtcblx0fVxuXG5cdGlmICggZGF0YSA9PSBudWxsICYmIGZuID09IG51bGwgKSB7XG5cblx0XHQvLyAoIHR5cGVzLCBmbiApXG5cdFx0Zm4gPSBzZWxlY3Rvcjtcblx0XHRkYXRhID0gc2VsZWN0b3IgPSB1bmRlZmluZWQ7XG5cdH0gZWxzZSBpZiAoIGZuID09IG51bGwgKSB7XG5cdFx0aWYgKCB0eXBlb2Ygc2VsZWN0b3IgPT09IFwic3RyaW5nXCIgKSB7XG5cblx0XHRcdC8vICggdHlwZXMsIHNlbGVjdG9yLCBmbiApXG5cdFx0XHRmbiA9IGRhdGE7XG5cdFx0XHRkYXRhID0gdW5kZWZpbmVkO1xuXHRcdH0gZWxzZSB7XG5cblx0XHRcdC8vICggdHlwZXMsIGRhdGEsIGZuIClcblx0XHRcdGZuID0gZGF0YTtcblx0XHRcdGRhdGEgPSBzZWxlY3Rvcjtcblx0XHRcdHNlbGVjdG9yID0gdW5kZWZpbmVkO1xuXHRcdH1cblx0fVxuXHRpZiAoIGZuID09PSBmYWxzZSApIHtcblx0XHRmbiA9IHJldHVybkZhbHNlO1xuXHR9IGVsc2UgaWYgKCAhZm4gKSB7XG5cdFx0cmV0dXJuIGVsZW07XG5cdH1cblxuXHRpZiAoIG9uZSA9PT0gMSApIHtcblx0XHRvcmlnRm4gPSBmbjtcblx0XHRmbiA9IGZ1bmN0aW9uKCBldmVudCApIHtcblxuXHRcdFx0Ly8gQ2FuIHVzZSBhbiBlbXB0eSBzZXQsIHNpbmNlIGV2ZW50IGNvbnRhaW5zIHRoZSBpbmZvXG5cdFx0XHRqUXVlcnkoKS5vZmYoIGV2ZW50ICk7XG5cdFx0XHRyZXR1cm4gb3JpZ0ZuLmFwcGx5KCB0aGlzLCBhcmd1bWVudHMgKTtcblx0XHR9O1xuXG5cdFx0Ly8gVXNlIHNhbWUgZ3VpZCBzbyBjYWxsZXIgY2FuIHJlbW92ZSB1c2luZyBvcmlnRm5cblx0XHRmbi5ndWlkID0gb3JpZ0ZuLmd1aWQgfHwgKCBvcmlnRm4uZ3VpZCA9IGpRdWVyeS5ndWlkKysgKTtcblx0fVxuXHRyZXR1cm4gZWxlbS5lYWNoKCBmdW5jdGlvbigpIHtcblx0XHRqUXVlcnkuZXZlbnQuYWRkKCB0aGlzLCB0eXBlcywgZm4sIGRhdGEsIHNlbGVjdG9yICk7XG5cdH0gKTtcbn1cblxuLypcbiAqIEhlbHBlciBmdW5jdGlvbnMgZm9yIG1hbmFnaW5nIGV2ZW50cyAtLSBub3QgcGFydCBvZiB0aGUgcHVibGljIGludGVyZmFjZS5cbiAqIFByb3BzIHRvIERlYW4gRWR3YXJkcycgYWRkRXZlbnQgbGlicmFyeSBmb3IgbWFueSBvZiB0aGUgaWRlYXMuXG4gKi9cbmpRdWVyeS5ldmVudCA9IHtcblxuXHRnbG9iYWw6IHt9LFxuXG5cdGFkZDogZnVuY3Rpb24oIGVsZW0sIHR5cGVzLCBoYW5kbGVyLCBkYXRhLCBzZWxlY3RvciApIHtcblxuXHRcdHZhciBoYW5kbGVPYmpJbiwgZXZlbnRIYW5kbGUsIHRtcCxcblx0XHRcdGV2ZW50cywgdCwgaGFuZGxlT2JqLFxuXHRcdFx0c3BlY2lhbCwgaGFuZGxlcnMsIHR5cGUsIG5hbWVzcGFjZXMsIG9yaWdUeXBlLFxuXHRcdFx0ZWxlbURhdGEgPSBkYXRhUHJpdi5nZXQoIGVsZW0gKTtcblxuXHRcdC8vIERvbid0IGF0dGFjaCBldmVudHMgdG8gbm9EYXRhIG9yIHRleHQvY29tbWVudCBub2RlcyAoYnV0IGFsbG93IHBsYWluIG9iamVjdHMpXG5cdFx0aWYgKCAhZWxlbURhdGEgKSB7XG5cdFx0XHRyZXR1cm47XG5cdFx0fVxuXG5cdFx0Ly8gQ2FsbGVyIGNhbiBwYXNzIGluIGFuIG9iamVjdCBvZiBjdXN0b20gZGF0YSBpbiBsaWV1IG9mIHRoZSBoYW5kbGVyXG5cdFx0aWYgKCBoYW5kbGVyLmhhbmRsZXIgKSB7XG5cdFx0XHRoYW5kbGVPYmpJbiA9IGhhbmRsZXI7XG5cdFx0XHRoYW5kbGVyID0gaGFuZGxlT2JqSW4uaGFuZGxlcjtcblx0XHRcdHNlbGVjdG9yID0gaGFuZGxlT2JqSW4uc2VsZWN0b3I7XG5cdFx0fVxuXG5cdFx0Ly8gRW5zdXJlIHRoYXQgaW52YWxpZCBzZWxlY3RvcnMgdGhyb3cgZXhjZXB0aW9ucyBhdCBhdHRhY2ggdGltZVxuXHRcdC8vIEV2YWx1YXRlIGFnYWluc3QgZG9jdW1lbnRFbGVtZW50IGluIGNhc2UgZWxlbSBpcyBhIG5vbi1lbGVtZW50IG5vZGUgKGUuZy4sIGRvY3VtZW50KVxuXHRcdGlmICggc2VsZWN0b3IgKSB7XG5cdFx0XHRqUXVlcnkuZmluZC5tYXRjaGVzU2VsZWN0b3IoIGRvY3VtZW50RWxlbWVudCwgc2VsZWN0b3IgKTtcblx0XHR9XG5cblx0XHQvLyBNYWtlIHN1cmUgdGhhdCB0aGUgaGFuZGxlciBoYXMgYSB1bmlxdWUgSUQsIHVzZWQgdG8gZmluZC9yZW1vdmUgaXQgbGF0ZXJcblx0XHRpZiAoICFoYW5kbGVyLmd1aWQgKSB7XG5cdFx0XHRoYW5kbGVyLmd1aWQgPSBqUXVlcnkuZ3VpZCsrO1xuXHRcdH1cblxuXHRcdC8vIEluaXQgdGhlIGVsZW1lbnQncyBldmVudCBzdHJ1Y3R1cmUgYW5kIG1haW4gaGFuZGxlciwgaWYgdGhpcyBpcyB0aGUgZmlyc3Rcblx0XHRpZiAoICEoIGV2ZW50cyA9IGVsZW1EYXRhLmV2ZW50cyApICkge1xuXHRcdFx0ZXZlbnRzID0gZWxlbURhdGEuZXZlbnRzID0ge307XG5cdFx0fVxuXHRcdGlmICggISggZXZlbnRIYW5kbGUgPSBlbGVtRGF0YS5oYW5kbGUgKSApIHtcblx0XHRcdGV2ZW50SGFuZGxlID0gZWxlbURhdGEuaGFuZGxlID0gZnVuY3Rpb24oIGUgKSB7XG5cblx0XHRcdFx0Ly8gRGlzY2FyZCB0aGUgc2Vjb25kIGV2ZW50IG9mIGEgalF1ZXJ5LmV2ZW50LnRyaWdnZXIoKSBhbmRcblx0XHRcdFx0Ly8gd2hlbiBhbiBldmVudCBpcyBjYWxsZWQgYWZ0ZXIgYSBwYWdlIGhhcyB1bmxvYWRlZFxuXHRcdFx0XHRyZXR1cm4gdHlwZW9mIGpRdWVyeSAhPT0gXCJ1bmRlZmluZWRcIiAmJiBqUXVlcnkuZXZlbnQudHJpZ2dlcmVkICE9PSBlLnR5cGUgP1xuXHRcdFx0XHRcdGpRdWVyeS5ldmVudC5kaXNwYXRjaC5hcHBseSggZWxlbSwgYXJndW1lbnRzICkgOiB1bmRlZmluZWQ7XG5cdFx0XHR9O1xuXHRcdH1cblxuXHRcdC8vIEhhbmRsZSBtdWx0aXBsZSBldmVudHMgc2VwYXJhdGVkIGJ5IGEgc3BhY2Vcblx0XHR0eXBlcyA9ICggdHlwZXMgfHwgXCJcIiApLm1hdGNoKCBybm90aHRtbHdoaXRlICkgfHwgWyBcIlwiIF07XG5cdFx0dCA9IHR5cGVzLmxlbmd0aDtcblx0XHR3aGlsZSAoIHQtLSApIHtcblx0XHRcdHRtcCA9IHJ0eXBlbmFtZXNwYWNlLmV4ZWMoIHR5cGVzWyB0IF0gKSB8fCBbXTtcblx0XHRcdHR5cGUgPSBvcmlnVHlwZSA9IHRtcFsgMSBdO1xuXHRcdFx0bmFtZXNwYWNlcyA9ICggdG1wWyAyIF0gfHwgXCJcIiApLnNwbGl0KCBcIi5cIiApLnNvcnQoKTtcblxuXHRcdFx0Ly8gVGhlcmUgKm11c3QqIGJlIGEgdHlwZSwgbm8gYXR0YWNoaW5nIG5hbWVzcGFjZS1vbmx5IGhhbmRsZXJzXG5cdFx0XHRpZiAoICF0eXBlICkge1xuXHRcdFx0XHRjb250aW51ZTtcblx0XHRcdH1cblxuXHRcdFx0Ly8gSWYgZXZlbnQgY2hhbmdlcyBpdHMgdHlwZSwgdXNlIHRoZSBzcGVjaWFsIGV2ZW50IGhhbmRsZXJzIGZvciB0aGUgY2hhbmdlZCB0eXBlXG5cdFx0XHRzcGVjaWFsID0galF1ZXJ5LmV2ZW50LnNwZWNpYWxbIHR5cGUgXSB8fCB7fTtcblxuXHRcdFx0Ly8gSWYgc2VsZWN0b3IgZGVmaW5lZCwgZGV0ZXJtaW5lIHNwZWNpYWwgZXZlbnQgYXBpIHR5cGUsIG90aGVyd2lzZSBnaXZlbiB0eXBlXG5cdFx0XHR0eXBlID0gKCBzZWxlY3RvciA/IHNwZWNpYWwuZGVsZWdhdGVUeXBlIDogc3BlY2lhbC5iaW5kVHlwZSApIHx8IHR5cGU7XG5cblx0XHRcdC8vIFVwZGF0ZSBzcGVjaWFsIGJhc2VkIG9uIG5ld2x5IHJlc2V0IHR5cGVcblx0XHRcdHNwZWNpYWwgPSBqUXVlcnkuZXZlbnQuc3BlY2lhbFsgdHlwZSBdIHx8IHt9O1xuXG5cdFx0XHQvLyBoYW5kbGVPYmogaXMgcGFzc2VkIHRvIGFsbCBldmVudCBoYW5kbGVyc1xuXHRcdFx0aGFuZGxlT2JqID0galF1ZXJ5LmV4dGVuZCgge1xuXHRcdFx0XHR0eXBlOiB0eXBlLFxuXHRcdFx0XHRvcmlnVHlwZTogb3JpZ1R5cGUsXG5cdFx0XHRcdGRhdGE6IGRhdGEsXG5cdFx0XHRcdGhhbmRsZXI6IGhhbmRsZXIsXG5cdFx0XHRcdGd1aWQ6IGhhbmRsZXIuZ3VpZCxcblx0XHRcdFx0c2VsZWN0b3I6IHNlbGVjdG9yLFxuXHRcdFx0XHRuZWVkc0NvbnRleHQ6IHNlbGVjdG9yICYmIGpRdWVyeS5leHByLm1hdGNoLm5lZWRzQ29udGV4dC50ZXN0KCBzZWxlY3RvciApLFxuXHRcdFx0XHRuYW1lc3BhY2U6IG5hbWVzcGFjZXMuam9pbiggXCIuXCIgKVxuXHRcdFx0fSwgaGFuZGxlT2JqSW4gKTtcblxuXHRcdFx0Ly8gSW5pdCB0aGUgZXZlbnQgaGFuZGxlciBxdWV1ZSBpZiB3ZSdyZSB0aGUgZmlyc3Rcblx0XHRcdGlmICggISggaGFuZGxlcnMgPSBldmVudHNbIHR5cGUgXSApICkge1xuXHRcdFx0XHRoYW5kbGVycyA9IGV2ZW50c1sgdHlwZSBdID0gW107XG5cdFx0XHRcdGhhbmRsZXJzLmRlbGVnYXRlQ291bnQgPSAwO1xuXG5cdFx0XHRcdC8vIE9ubHkgdXNlIGFkZEV2ZW50TGlzdGVuZXIgaWYgdGhlIHNwZWNpYWwgZXZlbnRzIGhhbmRsZXIgcmV0dXJucyBmYWxzZVxuXHRcdFx0XHRpZiAoICFzcGVjaWFsLnNldHVwIHx8XG5cdFx0XHRcdFx0c3BlY2lhbC5zZXR1cC5jYWxsKCBlbGVtLCBkYXRhLCBuYW1lc3BhY2VzLCBldmVudEhhbmRsZSApID09PSBmYWxzZSApIHtcblxuXHRcdFx0XHRcdGlmICggZWxlbS5hZGRFdmVudExpc3RlbmVyICkge1xuXHRcdFx0XHRcdFx0ZWxlbS5hZGRFdmVudExpc3RlbmVyKCB0eXBlLCBldmVudEhhbmRsZSApO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXHRcdFx0fVxuXG5cdFx0XHRpZiAoIHNwZWNpYWwuYWRkICkge1xuXHRcdFx0XHRzcGVjaWFsLmFkZC5jYWxsKCBlbGVtLCBoYW5kbGVPYmogKTtcblxuXHRcdFx0XHRpZiAoICFoYW5kbGVPYmouaGFuZGxlci5ndWlkICkge1xuXHRcdFx0XHRcdGhhbmRsZU9iai5oYW5kbGVyLmd1aWQgPSBoYW5kbGVyLmd1aWQ7XG5cdFx0XHRcdH1cblx0XHRcdH1cblxuXHRcdFx0Ly8gQWRkIHRvIHRoZSBlbGVtZW50J3MgaGFuZGxlciBsaXN0LCBkZWxlZ2F0ZXMgaW4gZnJvbnRcblx0XHRcdGlmICggc2VsZWN0b3IgKSB7XG5cdFx0XHRcdGhhbmRsZXJzLnNwbGljZSggaGFuZGxlcnMuZGVsZWdhdGVDb3VudCsrLCAwLCBoYW5kbGVPYmogKTtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdGhhbmRsZXJzLnB1c2goIGhhbmRsZU9iaiApO1xuXHRcdFx0fVxuXG5cdFx0XHQvLyBLZWVwIHRyYWNrIG9mIHdoaWNoIGV2ZW50cyBoYXZlIGV2ZXIgYmVlbiB1c2VkLCBmb3IgZXZlbnQgb3B0aW1pemF0aW9uXG5cdFx0XHRqUXVlcnkuZXZlbnQuZ2xvYmFsWyB0eXBlIF0gPSB0cnVlO1xuXHRcdH1cblxuXHR9LFxuXG5cdC8vIERldGFjaCBhbiBldmVudCBvciBzZXQgb2YgZXZlbnRzIGZyb20gYW4gZWxlbWVudFxuXHRyZW1vdmU6IGZ1bmN0aW9uKCBlbGVtLCB0eXBlcywgaGFuZGxlciwgc2VsZWN0b3IsIG1hcHBlZFR5cGVzICkge1xuXG5cdFx0dmFyIGosIG9yaWdDb3VudCwgdG1wLFxuXHRcdFx0ZXZlbnRzLCB0LCBoYW5kbGVPYmosXG5cdFx0XHRzcGVjaWFsLCBoYW5kbGVycywgdHlwZSwgbmFtZXNwYWNlcywgb3JpZ1R5cGUsXG5cdFx0XHRlbGVtRGF0YSA9IGRhdGFQcml2Lmhhc0RhdGEoIGVsZW0gKSAmJiBkYXRhUHJpdi5nZXQoIGVsZW0gKTtcblxuXHRcdGlmICggIWVsZW1EYXRhIHx8ICEoIGV2ZW50cyA9IGVsZW1EYXRhLmV2ZW50cyApICkge1xuXHRcdFx0cmV0dXJuO1xuXHRcdH1cblxuXHRcdC8vIE9uY2UgZm9yIGVhY2ggdHlwZS5uYW1lc3BhY2UgaW4gdHlwZXM7IHR5cGUgbWF5IGJlIG9taXR0ZWRcblx0XHR0eXBlcyA9ICggdHlwZXMgfHwgXCJcIiApLm1hdGNoKCBybm90aHRtbHdoaXRlICkgfHwgWyBcIlwiIF07XG5cdFx0dCA9IHR5cGVzLmxlbmd0aDtcblx0XHR3aGlsZSAoIHQtLSApIHtcblx0XHRcdHRtcCA9IHJ0eXBlbmFtZXNwYWNlLmV4ZWMoIHR5cGVzWyB0IF0gKSB8fCBbXTtcblx0XHRcdHR5cGUgPSBvcmlnVHlwZSA9IHRtcFsgMSBdO1xuXHRcdFx0bmFtZXNwYWNlcyA9ICggdG1wWyAyIF0gfHwgXCJcIiApLnNwbGl0KCBcIi5cIiApLnNvcnQoKTtcblxuXHRcdFx0Ly8gVW5iaW5kIGFsbCBldmVudHMgKG9uIHRoaXMgbmFtZXNwYWNlLCBpZiBwcm92aWRlZCkgZm9yIHRoZSBlbGVtZW50XG5cdFx0XHRpZiAoICF0eXBlICkge1xuXHRcdFx0XHRmb3IgKCB0eXBlIGluIGV2ZW50cyApIHtcblx0XHRcdFx0XHRqUXVlcnkuZXZlbnQucmVtb3ZlKCBlbGVtLCB0eXBlICsgdHlwZXNbIHQgXSwgaGFuZGxlciwgc2VsZWN0b3IsIHRydWUgKTtcblx0XHRcdFx0fVxuXHRcdFx0XHRjb250aW51ZTtcblx0XHRcdH1cblxuXHRcdFx0c3BlY2lhbCA9IGpRdWVyeS5ldmVudC5zcGVjaWFsWyB0eXBlIF0gfHwge307XG5cdFx0XHR0eXBlID0gKCBzZWxlY3RvciA/IHNwZWNpYWwuZGVsZWdhdGVUeXBlIDogc3BlY2lhbC5iaW5kVHlwZSApIHx8IHR5cGU7XG5cdFx0XHRoYW5kbGVycyA9IGV2ZW50c1sgdHlwZSBdIHx8IFtdO1xuXHRcdFx0dG1wID0gdG1wWyAyIF0gJiZcblx0XHRcdFx0bmV3IFJlZ0V4cCggXCIoXnxcXFxcLilcIiArIG5hbWVzcGFjZXMuam9pbiggXCJcXFxcLig/Oi4qXFxcXC58KVwiICkgKyBcIihcXFxcLnwkKVwiICk7XG5cblx0XHRcdC8vIFJlbW92ZSBtYXRjaGluZyBldmVudHNcblx0XHRcdG9yaWdDb3VudCA9IGogPSBoYW5kbGVycy5sZW5ndGg7XG5cdFx0XHR3aGlsZSAoIGotLSApIHtcblx0XHRcdFx0aGFuZGxlT2JqID0gaGFuZGxlcnNbIGogXTtcblxuXHRcdFx0XHRpZiAoICggbWFwcGVkVHlwZXMgfHwgb3JpZ1R5cGUgPT09IGhhbmRsZU9iai5vcmlnVHlwZSApICYmXG5cdFx0XHRcdFx0KCAhaGFuZGxlciB8fCBoYW5kbGVyLmd1aWQgPT09IGhhbmRsZU9iai5ndWlkICkgJiZcblx0XHRcdFx0XHQoICF0bXAgfHwgdG1wLnRlc3QoIGhhbmRsZU9iai5uYW1lc3BhY2UgKSApICYmXG5cdFx0XHRcdFx0KCAhc2VsZWN0b3IgfHwgc2VsZWN0b3IgPT09IGhhbmRsZU9iai5zZWxlY3RvciB8fFxuXHRcdFx0XHRcdFx0c2VsZWN0b3IgPT09IFwiKipcIiAmJiBoYW5kbGVPYmouc2VsZWN0b3IgKSApIHtcblx0XHRcdFx0XHRoYW5kbGVycy5zcGxpY2UoIGosIDEgKTtcblxuXHRcdFx0XHRcdGlmICggaGFuZGxlT2JqLnNlbGVjdG9yICkge1xuXHRcdFx0XHRcdFx0aGFuZGxlcnMuZGVsZWdhdGVDb3VudC0tO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0XHRpZiAoIHNwZWNpYWwucmVtb3ZlICkge1xuXHRcdFx0XHRcdFx0c3BlY2lhbC5yZW1vdmUuY2FsbCggZWxlbSwgaGFuZGxlT2JqICk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cdFx0XHR9XG5cblx0XHRcdC8vIFJlbW92ZSBnZW5lcmljIGV2ZW50IGhhbmRsZXIgaWYgd2UgcmVtb3ZlZCBzb21ldGhpbmcgYW5kIG5vIG1vcmUgaGFuZGxlcnMgZXhpc3Rcblx0XHRcdC8vIChhdm9pZHMgcG90ZW50aWFsIGZvciBlbmRsZXNzIHJlY3Vyc2lvbiBkdXJpbmcgcmVtb3ZhbCBvZiBzcGVjaWFsIGV2ZW50IGhhbmRsZXJzKVxuXHRcdFx0aWYgKCBvcmlnQ291bnQgJiYgIWhhbmRsZXJzLmxlbmd0aCApIHtcblx0XHRcdFx0aWYgKCAhc3BlY2lhbC50ZWFyZG93biB8fFxuXHRcdFx0XHRcdHNwZWNpYWwudGVhcmRvd24uY2FsbCggZWxlbSwgbmFtZXNwYWNlcywgZWxlbURhdGEuaGFuZGxlICkgPT09IGZhbHNlICkge1xuXG5cdFx0XHRcdFx0alF1ZXJ5LnJlbW92ZUV2ZW50KCBlbGVtLCB0eXBlLCBlbGVtRGF0YS5oYW5kbGUgKTtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdGRlbGV0ZSBldmVudHNbIHR5cGUgXTtcblx0XHRcdH1cblx0XHR9XG5cblx0XHQvLyBSZW1vdmUgZGF0YSBhbmQgdGhlIGV4cGFuZG8gaWYgaXQncyBubyBsb25nZXIgdXNlZFxuXHRcdGlmICggalF1ZXJ5LmlzRW1wdHlPYmplY3QoIGV2ZW50cyApICkge1xuXHRcdFx0ZGF0YVByaXYucmVtb3ZlKCBlbGVtLCBcImhhbmRsZSBldmVudHNcIiApO1xuXHRcdH1cblx0fSxcblxuXHRkaXNwYXRjaDogZnVuY3Rpb24oIG5hdGl2ZUV2ZW50ICkge1xuXG5cdFx0Ly8gTWFrZSBhIHdyaXRhYmxlIGpRdWVyeS5FdmVudCBmcm9tIHRoZSBuYXRpdmUgZXZlbnQgb2JqZWN0XG5cdFx0dmFyIGV2ZW50ID0galF1ZXJ5LmV2ZW50LmZpeCggbmF0aXZlRXZlbnQgKTtcblxuXHRcdHZhciBpLCBqLCByZXQsIG1hdGNoZWQsIGhhbmRsZU9iaiwgaGFuZGxlclF1ZXVlLFxuXHRcdFx0YXJncyA9IG5ldyBBcnJheSggYXJndW1lbnRzLmxlbmd0aCApLFxuXHRcdFx0aGFuZGxlcnMgPSAoIGRhdGFQcml2LmdldCggdGhpcywgXCJldmVudHNcIiApIHx8IHt9IClbIGV2ZW50LnR5cGUgXSB8fCBbXSxcblx0XHRcdHNwZWNpYWwgPSBqUXVlcnkuZXZlbnQuc3BlY2lhbFsgZXZlbnQudHlwZSBdIHx8IHt9O1xuXG5cdFx0Ly8gVXNlIHRoZSBmaXgtZWQgalF1ZXJ5LkV2ZW50IHJhdGhlciB0aGFuIHRoZSAocmVhZC1vbmx5KSBuYXRpdmUgZXZlbnRcblx0XHRhcmdzWyAwIF0gPSBldmVudDtcblxuXHRcdGZvciAoIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrICkge1xuXHRcdFx0YXJnc1sgaSBdID0gYXJndW1lbnRzWyBpIF07XG5cdFx0fVxuXG5cdFx0ZXZlbnQuZGVsZWdhdGVUYXJnZXQgPSB0aGlzO1xuXG5cdFx0Ly8gQ2FsbCB0aGUgcHJlRGlzcGF0Y2ggaG9vayBmb3IgdGhlIG1hcHBlZCB0eXBlLCBhbmQgbGV0IGl0IGJhaWwgaWYgZGVzaXJlZFxuXHRcdGlmICggc3BlY2lhbC5wcmVEaXNwYXRjaCAmJiBzcGVjaWFsLnByZURpc3BhdGNoLmNhbGwoIHRoaXMsIGV2ZW50ICkgPT09IGZhbHNlICkge1xuXHRcdFx0cmV0dXJuO1xuXHRcdH1cblxuXHRcdC8vIERldGVybWluZSBoYW5kbGVyc1xuXHRcdGhhbmRsZXJRdWV1ZSA9IGpRdWVyeS5ldmVudC5oYW5kbGVycy5jYWxsKCB0aGlzLCBldmVudCwgaGFuZGxlcnMgKTtcblxuXHRcdC8vIFJ1biBkZWxlZ2F0ZXMgZmlyc3Q7IHRoZXkgbWF5IHdhbnQgdG8gc3RvcCBwcm9wYWdhdGlvbiBiZW5lYXRoIHVzXG5cdFx0aSA9IDA7XG5cdFx0d2hpbGUgKCAoIG1hdGNoZWQgPSBoYW5kbGVyUXVldWVbIGkrKyBdICkgJiYgIWV2ZW50LmlzUHJvcGFnYXRpb25TdG9wcGVkKCkgKSB7XG5cdFx0XHRldmVudC5jdXJyZW50VGFyZ2V0ID0gbWF0Y2hlZC5lbGVtO1xuXG5cdFx0XHRqID0gMDtcblx0XHRcdHdoaWxlICggKCBoYW5kbGVPYmogPSBtYXRjaGVkLmhhbmRsZXJzWyBqKysgXSApICYmXG5cdFx0XHRcdCFldmVudC5pc0ltbWVkaWF0ZVByb3BhZ2F0aW9uU3RvcHBlZCgpICkge1xuXG5cdFx0XHRcdC8vIFRyaWdnZXJlZCBldmVudCBtdXN0IGVpdGhlciAxKSBoYXZlIG5vIG5hbWVzcGFjZSwgb3IgMikgaGF2ZSBuYW1lc3BhY2Uocylcblx0XHRcdFx0Ly8gYSBzdWJzZXQgb3IgZXF1YWwgdG8gdGhvc2UgaW4gdGhlIGJvdW5kIGV2ZW50IChib3RoIGNhbiBoYXZlIG5vIG5hbWVzcGFjZSkuXG5cdFx0XHRcdGlmICggIWV2ZW50LnJuYW1lc3BhY2UgfHwgZXZlbnQucm5hbWVzcGFjZS50ZXN0KCBoYW5kbGVPYmoubmFtZXNwYWNlICkgKSB7XG5cblx0XHRcdFx0XHRldmVudC5oYW5kbGVPYmogPSBoYW5kbGVPYmo7XG5cdFx0XHRcdFx0ZXZlbnQuZGF0YSA9IGhhbmRsZU9iai5kYXRhO1xuXG5cdFx0XHRcdFx0cmV0ID0gKCAoIGpRdWVyeS5ldmVudC5zcGVjaWFsWyBoYW5kbGVPYmoub3JpZ1R5cGUgXSB8fCB7fSApLmhhbmRsZSB8fFxuXHRcdFx0XHRcdFx0aGFuZGxlT2JqLmhhbmRsZXIgKS5hcHBseSggbWF0Y2hlZC5lbGVtLCBhcmdzICk7XG5cblx0XHRcdFx0XHRpZiAoIHJldCAhPT0gdW5kZWZpbmVkICkge1xuXHRcdFx0XHRcdFx0aWYgKCAoIGV2ZW50LnJlc3VsdCA9IHJldCApID09PSBmYWxzZSApIHtcblx0XHRcdFx0XHRcdFx0ZXZlbnQucHJldmVudERlZmF1bHQoKTtcblx0XHRcdFx0XHRcdFx0ZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0Ly8gQ2FsbCB0aGUgcG9zdERpc3BhdGNoIGhvb2sgZm9yIHRoZSBtYXBwZWQgdHlwZVxuXHRcdGlmICggc3BlY2lhbC5wb3N0RGlzcGF0Y2ggKSB7XG5cdFx0XHRzcGVjaWFsLnBvc3REaXNwYXRjaC5jYWxsKCB0aGlzLCBldmVudCApO1xuXHRcdH1cblxuXHRcdHJldHVybiBldmVudC5yZXN1bHQ7XG5cdH0sXG5cblx0aGFuZGxlcnM6IGZ1bmN0aW9uKCBldmVudCwgaGFuZGxlcnMgKSB7XG5cdFx0dmFyIGksIGhhbmRsZU9iaiwgc2VsLCBtYXRjaGVkSGFuZGxlcnMsIG1hdGNoZWRTZWxlY3RvcnMsXG5cdFx0XHRoYW5kbGVyUXVldWUgPSBbXSxcblx0XHRcdGRlbGVnYXRlQ291bnQgPSBoYW5kbGVycy5kZWxlZ2F0ZUNvdW50LFxuXHRcdFx0Y3VyID0gZXZlbnQudGFyZ2V0O1xuXG5cdFx0Ly8gRmluZCBkZWxlZ2F0ZSBoYW5kbGVyc1xuXHRcdGlmICggZGVsZWdhdGVDb3VudCAmJlxuXG5cdFx0XHQvLyBTdXBwb3J0OiBJRSA8PTlcblx0XHRcdC8vIEJsYWNrLWhvbGUgU1ZHIDx1c2U+IGluc3RhbmNlIHRyZWVzICh0cmFjLTEzMTgwKVxuXHRcdFx0Y3VyLm5vZGVUeXBlICYmXG5cblx0XHRcdC8vIFN1cHBvcnQ6IEZpcmVmb3ggPD00MlxuXHRcdFx0Ly8gU3VwcHJlc3Mgc3BlYy12aW9sYXRpbmcgY2xpY2tzIGluZGljYXRpbmcgYSBub24tcHJpbWFyeSBwb2ludGVyIGJ1dHRvbiAodHJhYy0zODYxKVxuXHRcdFx0Ly8gaHR0cHM6Ly93d3cudzMub3JnL1RSL0RPTS1MZXZlbC0zLUV2ZW50cy8jZXZlbnQtdHlwZS1jbGlja1xuXHRcdFx0Ly8gU3VwcG9ydDogSUUgMTEgb25seVxuXHRcdFx0Ly8gLi4uYnV0IG5vdCBhcnJvdyBrZXkgXCJjbGlja3NcIiBvZiByYWRpbyBpbnB1dHMsIHdoaWNoIGNhbiBoYXZlIGBidXR0b25gIC0xIChnaC0yMzQzKVxuXHRcdFx0ISggZXZlbnQudHlwZSA9PT0gXCJjbGlja1wiICYmIGV2ZW50LmJ1dHRvbiA+PSAxICkgKSB7XG5cblx0XHRcdGZvciAoIDsgY3VyICE9PSB0aGlzOyBjdXIgPSBjdXIucGFyZW50Tm9kZSB8fCB0aGlzICkge1xuXG5cdFx0XHRcdC8vIERvbid0IGNoZWNrIG5vbi1lbGVtZW50cyAoIzEzMjA4KVxuXHRcdFx0XHQvLyBEb24ndCBwcm9jZXNzIGNsaWNrcyBvbiBkaXNhYmxlZCBlbGVtZW50cyAoIzY5MTEsICM4MTY1LCAjMTEzODIsICMxMTc2NClcblx0XHRcdFx0aWYgKCBjdXIubm9kZVR5cGUgPT09IDEgJiYgISggZXZlbnQudHlwZSA9PT0gXCJjbGlja1wiICYmIGN1ci5kaXNhYmxlZCA9PT0gdHJ1ZSApICkge1xuXHRcdFx0XHRcdG1hdGNoZWRIYW5kbGVycyA9IFtdO1xuXHRcdFx0XHRcdG1hdGNoZWRTZWxlY3RvcnMgPSB7fTtcblx0XHRcdFx0XHRmb3IgKCBpID0gMDsgaSA8IGRlbGVnYXRlQ291bnQ7IGkrKyApIHtcblx0XHRcdFx0XHRcdGhhbmRsZU9iaiA9IGhhbmRsZXJzWyBpIF07XG5cblx0XHRcdFx0XHRcdC8vIERvbid0IGNvbmZsaWN0IHdpdGggT2JqZWN0LnByb3RvdHlwZSBwcm9wZXJ0aWVzICgjMTMyMDMpXG5cdFx0XHRcdFx0XHRzZWwgPSBoYW5kbGVPYmouc2VsZWN0b3IgKyBcIiBcIjtcblxuXHRcdFx0XHRcdFx0aWYgKCBtYXRjaGVkU2VsZWN0b3JzWyBzZWwgXSA9PT0gdW5kZWZpbmVkICkge1xuXHRcdFx0XHRcdFx0XHRtYXRjaGVkU2VsZWN0b3JzWyBzZWwgXSA9IGhhbmRsZU9iai5uZWVkc0NvbnRleHQgP1xuXHRcdFx0XHRcdFx0XHRcdGpRdWVyeSggc2VsLCB0aGlzICkuaW5kZXgoIGN1ciApID4gLTEgOlxuXHRcdFx0XHRcdFx0XHRcdGpRdWVyeS5maW5kKCBzZWwsIHRoaXMsIG51bGwsIFsgY3VyIF0gKS5sZW5ndGg7XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRpZiAoIG1hdGNoZWRTZWxlY3RvcnNbIHNlbCBdICkge1xuXHRcdFx0XHRcdFx0XHRtYXRjaGVkSGFuZGxlcnMucHVzaCggaGFuZGxlT2JqICk7XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHRcdGlmICggbWF0Y2hlZEhhbmRsZXJzLmxlbmd0aCApIHtcblx0XHRcdFx0XHRcdGhhbmRsZXJRdWV1ZS5wdXNoKCB7IGVsZW06IGN1ciwgaGFuZGxlcnM6IG1hdGNoZWRIYW5kbGVycyB9ICk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0Ly8gQWRkIHRoZSByZW1haW5pbmcgKGRpcmVjdGx5LWJvdW5kKSBoYW5kbGVyc1xuXHRcdGN1ciA9IHRoaXM7XG5cdFx0aWYgKCBkZWxlZ2F0ZUNvdW50IDwgaGFuZGxlcnMubGVuZ3RoICkge1xuXHRcdFx0aGFuZGxlclF1ZXVlLnB1c2goIHsgZWxlbTogY3VyLCBoYW5kbGVyczogaGFuZGxlcnMuc2xpY2UoIGRlbGVnYXRlQ291bnQgKSB9ICk7XG5cdFx0fVxuXG5cdFx0cmV0dXJuIGhhbmRsZXJRdWV1ZTtcblx0fSxcblxuXHRhZGRQcm9wOiBmdW5jdGlvbiggbmFtZSwgaG9vayApIHtcblx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoIGpRdWVyeS5FdmVudC5wcm90b3R5cGUsIG5hbWUsIHtcblx0XHRcdGVudW1lcmFibGU6IHRydWUsXG5cdFx0XHRjb25maWd1cmFibGU6IHRydWUsXG5cblx0XHRcdGdldDogalF1ZXJ5LmlzRnVuY3Rpb24oIGhvb2sgKSA/XG5cdFx0XHRcdGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRcdGlmICggdGhpcy5vcmlnaW5hbEV2ZW50ICkge1xuXHRcdFx0XHRcdFx0XHRyZXR1cm4gaG9vayggdGhpcy5vcmlnaW5hbEV2ZW50ICk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9IDpcblx0XHRcdFx0ZnVuY3Rpb24oKSB7XG5cdFx0XHRcdFx0aWYgKCB0aGlzLm9yaWdpbmFsRXZlbnQgKSB7XG5cdFx0XHRcdFx0XHRcdHJldHVybiB0aGlzLm9yaWdpbmFsRXZlbnRbIG5hbWUgXTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH0sXG5cblx0XHRcdHNldDogZnVuY3Rpb24oIHZhbHVlICkge1xuXHRcdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoIHRoaXMsIG5hbWUsIHtcblx0XHRcdFx0XHRlbnVtZXJhYmxlOiB0cnVlLFxuXHRcdFx0XHRcdGNvbmZpZ3VyYWJsZTogdHJ1ZSxcblx0XHRcdFx0XHR3cml0YWJsZTogdHJ1ZSxcblx0XHRcdFx0XHR2YWx1ZTogdmFsdWVcblx0XHRcdFx0fSApO1xuXHRcdFx0fVxuXHRcdH0gKTtcblx0fSxcblxuXHRmaXg6IGZ1bmN0aW9uKCBvcmlnaW5hbEV2ZW50ICkge1xuXHRcdHJldHVybiBvcmlnaW5hbEV2ZW50WyBqUXVlcnkuZXhwYW5kbyBdID9cblx0XHRcdG9yaWdpbmFsRXZlbnQgOlxuXHRcdFx0bmV3IGpRdWVyeS5FdmVudCggb3JpZ2luYWxFdmVudCApO1xuXHR9LFxuXG5cdHNwZWNpYWw6IHtcblx0XHRsb2FkOiB7XG5cblx0XHRcdC8vIFByZXZlbnQgdHJpZ2dlcmVkIGltYWdlLmxvYWQgZXZlbnRzIGZyb20gYnViYmxpbmcgdG8gd2luZG93LmxvYWRcblx0XHRcdG5vQnViYmxlOiB0cnVlXG5cdFx0fSxcblx0XHRmb2N1czoge1xuXG5cdFx0XHQvLyBGaXJlIG5hdGl2ZSBldmVudCBpZiBwb3NzaWJsZSBzbyBibHVyL2ZvY3VzIHNlcXVlbmNlIGlzIGNvcnJlY3Rcblx0XHRcdHRyaWdnZXI6IGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRpZiAoIHRoaXMgIT09IHNhZmVBY3RpdmVFbGVtZW50KCkgJiYgdGhpcy5mb2N1cyApIHtcblx0XHRcdFx0XHR0aGlzLmZvY3VzKCk7XG5cdFx0XHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdFx0XHR9XG5cdFx0XHR9LFxuXHRcdFx0ZGVsZWdhdGVUeXBlOiBcImZvY3VzaW5cIlxuXHRcdH0sXG5cdFx0Ymx1cjoge1xuXHRcdFx0dHJpZ2dlcjogZnVuY3Rpb24oKSB7XG5cdFx0XHRcdGlmICggdGhpcyA9PT0gc2FmZUFjdGl2ZUVsZW1lbnQoKSAmJiB0aGlzLmJsdXIgKSB7XG5cdFx0XHRcdFx0dGhpcy5ibHVyKCk7XG5cdFx0XHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdFx0XHR9XG5cdFx0XHR9LFxuXHRcdFx0ZGVsZWdhdGVUeXBlOiBcImZvY3Vzb3V0XCJcblx0XHR9LFxuXHRcdGNsaWNrOiB7XG5cblx0XHRcdC8vIEZvciBjaGVja2JveCwgZmlyZSBuYXRpdmUgZXZlbnQgc28gY2hlY2tlZCBzdGF0ZSB3aWxsIGJlIHJpZ2h0XG5cdFx0XHR0cmlnZ2VyOiBmdW5jdGlvbigpIHtcblx0XHRcdFx0aWYgKCB0aGlzLnR5cGUgPT09IFwiY2hlY2tib3hcIiAmJiB0aGlzLmNsaWNrICYmIG5vZGVOYW1lKCB0aGlzLCBcImlucHV0XCIgKSApIHtcblx0XHRcdFx0XHR0aGlzLmNsaWNrKCk7XG5cdFx0XHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdFx0XHR9XG5cdFx0XHR9LFxuXG5cdFx0XHQvLyBGb3IgY3Jvc3MtYnJvd3NlciBjb25zaXN0ZW5jeSwgZG9uJ3QgZmlyZSBuYXRpdmUgLmNsaWNrKCkgb24gbGlua3Ncblx0XHRcdF9kZWZhdWx0OiBmdW5jdGlvbiggZXZlbnQgKSB7XG5cdFx0XHRcdHJldHVybiBub2RlTmFtZSggZXZlbnQudGFyZ2V0LCBcImFcIiApO1xuXHRcdFx0fVxuXHRcdH0sXG5cblx0XHRiZWZvcmV1bmxvYWQ6IHtcblx0XHRcdHBvc3REaXNwYXRjaDogZnVuY3Rpb24oIGV2ZW50ICkge1xuXG5cdFx0XHRcdC8vIFN1cHBvcnQ6IEZpcmVmb3ggMjArXG5cdFx0XHRcdC8vIEZpcmVmb3ggZG9lc24ndCBhbGVydCBpZiB0aGUgcmV0dXJuVmFsdWUgZmllbGQgaXMgbm90IHNldC5cblx0XHRcdFx0aWYgKCBldmVudC5yZXN1bHQgIT09IHVuZGVmaW5lZCAmJiBldmVudC5vcmlnaW5hbEV2ZW50ICkge1xuXHRcdFx0XHRcdGV2ZW50Lm9yaWdpbmFsRXZlbnQucmV0dXJuVmFsdWUgPSBldmVudC5yZXN1bHQ7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9XG5cdH1cbn07XG5cbmpRdWVyeS5yZW1vdmVFdmVudCA9IGZ1bmN0aW9uKCBlbGVtLCB0eXBlLCBoYW5kbGUgKSB7XG5cblx0Ly8gVGhpcyBcImlmXCIgaXMgbmVlZGVkIGZvciBwbGFpbiBvYmplY3RzXG5cdGlmICggZWxlbS5yZW1vdmVFdmVudExpc3RlbmVyICkge1xuXHRcdGVsZW0ucmVtb3ZlRXZlbnRMaXN0ZW5lciggdHlwZSwgaGFuZGxlICk7XG5cdH1cbn07XG5cbmpRdWVyeS5FdmVudCA9IGZ1bmN0aW9uKCBzcmMsIHByb3BzICkge1xuXG5cdC8vIEFsbG93IGluc3RhbnRpYXRpb24gd2l0aG91dCB0aGUgJ25ldycga2V5d29yZFxuXHRpZiAoICEoIHRoaXMgaW5zdGFuY2VvZiBqUXVlcnkuRXZlbnQgKSApIHtcblx0XHRyZXR1cm4gbmV3IGpRdWVyeS5FdmVudCggc3JjLCBwcm9wcyApO1xuXHR9XG5cblx0Ly8gRXZlbnQgb2JqZWN0XG5cdGlmICggc3JjICYmIHNyYy50eXBlICkge1xuXHRcdHRoaXMub3JpZ2luYWxFdmVudCA9IHNyYztcblx0XHR0aGlzLnR5cGUgPSBzcmMudHlwZTtcblxuXHRcdC8vIEV2ZW50cyBidWJibGluZyB1cCB0aGUgZG9jdW1lbnQgbWF5IGhhdmUgYmVlbiBtYXJrZWQgYXMgcHJldmVudGVkXG5cdFx0Ly8gYnkgYSBoYW5kbGVyIGxvd2VyIGRvd24gdGhlIHRyZWU7IHJlZmxlY3QgdGhlIGNvcnJlY3QgdmFsdWUuXG5cdFx0dGhpcy5pc0RlZmF1bHRQcmV2ZW50ZWQgPSBzcmMuZGVmYXVsdFByZXZlbnRlZCB8fFxuXHRcdFx0XHRzcmMuZGVmYXVsdFByZXZlbnRlZCA9PT0gdW5kZWZpbmVkICYmXG5cblx0XHRcdFx0Ly8gU3VwcG9ydDogQW5kcm9pZCA8PTIuMyBvbmx5XG5cdFx0XHRcdHNyYy5yZXR1cm5WYWx1ZSA9PT0gZmFsc2UgP1xuXHRcdFx0cmV0dXJuVHJ1ZSA6XG5cdFx0XHRyZXR1cm5GYWxzZTtcblxuXHRcdC8vIENyZWF0ZSB0YXJnZXQgcHJvcGVydGllc1xuXHRcdC8vIFN1cHBvcnQ6IFNhZmFyaSA8PTYgLSA3IG9ubHlcblx0XHQvLyBUYXJnZXQgc2hvdWxkIG5vdCBiZSBhIHRleHQgbm9kZSAoIzUwNCwgIzEzMTQzKVxuXHRcdHRoaXMudGFyZ2V0ID0gKCBzcmMudGFyZ2V0ICYmIHNyYy50YXJnZXQubm9kZVR5cGUgPT09IDMgKSA/XG5cdFx0XHRzcmMudGFyZ2V0LnBhcmVudE5vZGUgOlxuXHRcdFx0c3JjLnRhcmdldDtcblxuXHRcdHRoaXMuY3VycmVudFRhcmdldCA9IHNyYy5jdXJyZW50VGFyZ2V0O1xuXHRcdHRoaXMucmVsYXRlZFRhcmdldCA9IHNyYy5yZWxhdGVkVGFyZ2V0O1xuXG5cdC8vIEV2ZW50IHR5cGVcblx0fSBlbHNlIHtcblx0XHR0aGlzLnR5cGUgPSBzcmM7XG5cdH1cblxuXHQvLyBQdXQgZXhwbGljaXRseSBwcm92aWRlZCBwcm9wZXJ0aWVzIG9udG8gdGhlIGV2ZW50IG9iamVjdFxuXHRpZiAoIHByb3BzICkge1xuXHRcdGpRdWVyeS5leHRlbmQoIHRoaXMsIHByb3BzICk7XG5cdH1cblxuXHQvLyBDcmVhdGUgYSB0aW1lc3RhbXAgaWYgaW5jb21pbmcgZXZlbnQgZG9lc24ndCBoYXZlIG9uZVxuXHR0aGlzLnRpbWVTdGFtcCA9IHNyYyAmJiBzcmMudGltZVN0YW1wIHx8IGpRdWVyeS5ub3coKTtcblxuXHQvLyBNYXJrIGl0IGFzIGZpeGVkXG5cdHRoaXNbIGpRdWVyeS5leHBhbmRvIF0gPSB0cnVlO1xufTtcblxuLy8galF1ZXJ5LkV2ZW50IGlzIGJhc2VkIG9uIERPTTMgRXZlbnRzIGFzIHNwZWNpZmllZCBieSB0aGUgRUNNQVNjcmlwdCBMYW5ndWFnZSBCaW5kaW5nXG4vLyBodHRwczovL3d3dy53My5vcmcvVFIvMjAwMy9XRC1ET00tTGV2ZWwtMy1FdmVudHMtMjAwMzAzMzEvZWNtYS1zY3JpcHQtYmluZGluZy5odG1sXG5qUXVlcnkuRXZlbnQucHJvdG90eXBlID0ge1xuXHRjb25zdHJ1Y3RvcjogalF1ZXJ5LkV2ZW50LFxuXHRpc0RlZmF1bHRQcmV2ZW50ZWQ6IHJldHVybkZhbHNlLFxuXHRpc1Byb3BhZ2F0aW9uU3RvcHBlZDogcmV0dXJuRmFsc2UsXG5cdGlzSW1tZWRpYXRlUHJvcGFnYXRpb25TdG9wcGVkOiByZXR1cm5GYWxzZSxcblx0aXNTaW11bGF0ZWQ6IGZhbHNlLFxuXG5cdHByZXZlbnREZWZhdWx0OiBmdW5jdGlvbigpIHtcblx0XHR2YXIgZSA9IHRoaXMub3JpZ2luYWxFdmVudDtcblxuXHRcdHRoaXMuaXNEZWZhdWx0UHJldmVudGVkID0gcmV0dXJuVHJ1ZTtcblxuXHRcdGlmICggZSAmJiAhdGhpcy5pc1NpbXVsYXRlZCApIHtcblx0XHRcdGUucHJldmVudERlZmF1bHQoKTtcblx0XHR9XG5cdH0sXG5cdHN0b3BQcm9wYWdhdGlvbjogZnVuY3Rpb24oKSB7XG5cdFx0dmFyIGUgPSB0aGlzLm9yaWdpbmFsRXZlbnQ7XG5cblx0XHR0aGlzLmlzUHJvcGFnYXRpb25TdG9wcGVkID0gcmV0dXJuVHJ1ZTtcblxuXHRcdGlmICggZSAmJiAhdGhpcy5pc1NpbXVsYXRlZCApIHtcblx0XHRcdGUuc3RvcFByb3BhZ2F0aW9uKCk7XG5cdFx0fVxuXHR9LFxuXHRzdG9wSW1tZWRpYXRlUHJvcGFnYXRpb246IGZ1bmN0aW9uKCkge1xuXHRcdHZhciBlID0gdGhpcy5vcmlnaW5hbEV2ZW50O1xuXG5cdFx0dGhpcy5pc0ltbWVkaWF0ZVByb3BhZ2F0aW9uU3RvcHBlZCA9IHJldHVyblRydWU7XG5cblx0XHRpZiAoIGUgJiYgIXRoaXMuaXNTaW11bGF0ZWQgKSB7XG5cdFx0XHRlLnN0b3BJbW1lZGlhdGVQcm9wYWdhdGlvbigpO1xuXHRcdH1cblxuXHRcdHRoaXMuc3RvcFByb3BhZ2F0aW9uKCk7XG5cdH1cbn07XG5cbi8vIEluY2x1ZGVzIGFsbCBjb21tb24gZXZlbnQgcHJvcHMgaW5jbHVkaW5nIEtleUV2ZW50IGFuZCBNb3VzZUV2ZW50IHNwZWNpZmljIHByb3BzXG5qUXVlcnkuZWFjaCgge1xuXHRhbHRLZXk6IHRydWUsXG5cdGJ1YmJsZXM6IHRydWUsXG5cdGNhbmNlbGFibGU6IHRydWUsXG5cdGNoYW5nZWRUb3VjaGVzOiB0cnVlLFxuXHRjdHJsS2V5OiB0cnVlLFxuXHRkZXRhaWw6IHRydWUsXG5cdGV2ZW50UGhhc2U6IHRydWUsXG5cdG1ldGFLZXk6IHRydWUsXG5cdHBhZ2VYOiB0cnVlLFxuXHRwYWdlWTogdHJ1ZSxcblx0c2hpZnRLZXk6IHRydWUsXG5cdHZpZXc6IHRydWUsXG5cdFwiY2hhclwiOiB0cnVlLFxuXHRjaGFyQ29kZTogdHJ1ZSxcblx0a2V5OiB0cnVlLFxuXHRrZXlDb2RlOiB0cnVlLFxuXHRidXR0b246IHRydWUsXG5cdGJ1dHRvbnM6IHRydWUsXG5cdGNsaWVudFg6IHRydWUsXG5cdGNsaWVudFk6IHRydWUsXG5cdG9mZnNldFg6IHRydWUsXG5cdG9mZnNldFk6IHRydWUsXG5cdHBvaW50ZXJJZDogdHJ1ZSxcblx0cG9pbnRlclR5cGU6IHRydWUsXG5cdHNjcmVlblg6IHRydWUsXG5cdHNjcmVlblk6IHRydWUsXG5cdHRhcmdldFRvdWNoZXM6IHRydWUsXG5cdHRvRWxlbWVudDogdHJ1ZSxcblx0dG91Y2hlczogdHJ1ZSxcblxuXHR3aGljaDogZnVuY3Rpb24oIGV2ZW50ICkge1xuXHRcdHZhciBidXR0b24gPSBldmVudC5idXR0b247XG5cblx0XHQvLyBBZGQgd2hpY2ggZm9yIGtleSBldmVudHNcblx0XHRpZiAoIGV2ZW50LndoaWNoID09IG51bGwgJiYgcmtleUV2ZW50LnRlc3QoIGV2ZW50LnR5cGUgKSApIHtcblx0XHRcdHJldHVybiBldmVudC5jaGFyQ29kZSAhPSBudWxsID8gZXZlbnQuY2hhckNvZGUgOiBldmVudC5rZXlDb2RlO1xuXHRcdH1cblxuXHRcdC8vIEFkZCB3aGljaCBmb3IgY2xpY2s6IDEgPT09IGxlZnQ7IDIgPT09IG1pZGRsZTsgMyA9PT0gcmlnaHRcblx0XHRpZiAoICFldmVudC53aGljaCAmJiBidXR0b24gIT09IHVuZGVmaW5lZCAmJiBybW91c2VFdmVudC50ZXN0KCBldmVudC50eXBlICkgKSB7XG5cdFx0XHRpZiAoIGJ1dHRvbiAmIDEgKSB7XG5cdFx0XHRcdHJldHVybiAxO1xuXHRcdFx0fVxuXG5cdFx0XHRpZiAoIGJ1dHRvbiAmIDIgKSB7XG5cdFx0XHRcdHJldHVybiAzO1xuXHRcdFx0fVxuXG5cdFx0XHRpZiAoIGJ1dHRvbiAmIDQgKSB7XG5cdFx0XHRcdHJldHVybiAyO1xuXHRcdFx0fVxuXG5cdFx0XHRyZXR1cm4gMDtcblx0XHR9XG5cblx0XHRyZXR1cm4gZXZlbnQud2hpY2g7XG5cdH1cbn0sIGpRdWVyeS5ldmVudC5hZGRQcm9wICk7XG5cbi8vIENyZWF0ZSBtb3VzZWVudGVyL2xlYXZlIGV2ZW50cyB1c2luZyBtb3VzZW92ZXIvb3V0IGFuZCBldmVudC10aW1lIGNoZWNrc1xuLy8gc28gdGhhdCBldmVudCBkZWxlZ2F0aW9uIHdvcmtzIGluIGpRdWVyeS5cbi8vIERvIHRoZSBzYW1lIGZvciBwb2ludGVyZW50ZXIvcG9pbnRlcmxlYXZlIGFuZCBwb2ludGVyb3Zlci9wb2ludGVyb3V0XG4vL1xuLy8gU3VwcG9ydDogU2FmYXJpIDcgb25seVxuLy8gU2FmYXJpIHNlbmRzIG1vdXNlZW50ZXIgdG9vIG9mdGVuOyBzZWU6XG4vLyBodHRwczovL2J1Z3MuY2hyb21pdW0ub3JnL3AvY2hyb21pdW0vaXNzdWVzL2RldGFpbD9pZD00NzAyNThcbi8vIGZvciB0aGUgZGVzY3JpcHRpb24gb2YgdGhlIGJ1ZyAoaXQgZXhpc3RlZCBpbiBvbGRlciBDaHJvbWUgdmVyc2lvbnMgYXMgd2VsbCkuXG5qUXVlcnkuZWFjaCgge1xuXHRtb3VzZWVudGVyOiBcIm1vdXNlb3ZlclwiLFxuXHRtb3VzZWxlYXZlOiBcIm1vdXNlb3V0XCIsXG5cdHBvaW50ZXJlbnRlcjogXCJwb2ludGVyb3ZlclwiLFxuXHRwb2ludGVybGVhdmU6IFwicG9pbnRlcm91dFwiXG59LCBmdW5jdGlvbiggb3JpZywgZml4ICkge1xuXHRqUXVlcnkuZXZlbnQuc3BlY2lhbFsgb3JpZyBdID0ge1xuXHRcdGRlbGVnYXRlVHlwZTogZml4LFxuXHRcdGJpbmRUeXBlOiBmaXgsXG5cblx0XHRoYW5kbGU6IGZ1bmN0aW9uKCBldmVudCApIHtcblx0XHRcdHZhciByZXQsXG5cdFx0XHRcdHRhcmdldCA9IHRoaXMsXG5cdFx0XHRcdHJlbGF0ZWQgPSBldmVudC5yZWxhdGVkVGFyZ2V0LFxuXHRcdFx0XHRoYW5kbGVPYmogPSBldmVudC5oYW5kbGVPYmo7XG5cblx0XHRcdC8vIEZvciBtb3VzZWVudGVyL2xlYXZlIGNhbGwgdGhlIGhhbmRsZXIgaWYgcmVsYXRlZCBpcyBvdXRzaWRlIHRoZSB0YXJnZXQuXG5cdFx0XHQvLyBOQjogTm8gcmVsYXRlZFRhcmdldCBpZiB0aGUgbW91c2UgbGVmdC9lbnRlcmVkIHRoZSBicm93c2VyIHdpbmRvd1xuXHRcdFx0aWYgKCAhcmVsYXRlZCB8fCAoIHJlbGF0ZWQgIT09IHRhcmdldCAmJiAhalF1ZXJ5LmNvbnRhaW5zKCB0YXJnZXQsIHJlbGF0ZWQgKSApICkge1xuXHRcdFx0XHRldmVudC50eXBlID0gaGFuZGxlT2JqLm9yaWdUeXBlO1xuXHRcdFx0XHRyZXQgPSBoYW5kbGVPYmouaGFuZGxlci5hcHBseSggdGhpcywgYXJndW1lbnRzICk7XG5cdFx0XHRcdGV2ZW50LnR5cGUgPSBmaXg7XG5cdFx0XHR9XG5cdFx0XHRyZXR1cm4gcmV0O1xuXHRcdH1cblx0fTtcbn0gKTtcblxualF1ZXJ5LmZuLmV4dGVuZCgge1xuXG5cdG9uOiBmdW5jdGlvbiggdHlwZXMsIHNlbGVjdG9yLCBkYXRhLCBmbiApIHtcblx0XHRyZXR1cm4gb24oIHRoaXMsIHR5cGVzLCBzZWxlY3RvciwgZGF0YSwgZm4gKTtcblx0fSxcblx0b25lOiBmdW5jdGlvbiggdHlwZXMsIHNlbGVjdG9yLCBkYXRhLCBmbiApIHtcblx0XHRyZXR1cm4gb24oIHRoaXMsIHR5cGVzLCBzZWxlY3RvciwgZGF0YSwgZm4sIDEgKTtcblx0fSxcblx0b2ZmOiBmdW5jdGlvbiggdHlwZXMsIHNlbGVjdG9yLCBmbiApIHtcblx0XHR2YXIgaGFuZGxlT2JqLCB0eXBlO1xuXHRcdGlmICggdHlwZXMgJiYgdHlwZXMucHJldmVudERlZmF1bHQgJiYgdHlwZXMuaGFuZGxlT2JqICkge1xuXG5cdFx0XHQvLyAoIGV2ZW50ICkgIGRpc3BhdGNoZWQgalF1ZXJ5LkV2ZW50XG5cdFx0XHRoYW5kbGVPYmogPSB0eXBlcy5oYW5kbGVPYmo7XG5cdFx0XHRqUXVlcnkoIHR5cGVzLmRlbGVnYXRlVGFyZ2V0ICkub2ZmKFxuXHRcdFx0XHRoYW5kbGVPYmoubmFtZXNwYWNlID9cblx0XHRcdFx0XHRoYW5kbGVPYmoub3JpZ1R5cGUgKyBcIi5cIiArIGhhbmRsZU9iai5uYW1lc3BhY2UgOlxuXHRcdFx0XHRcdGhhbmRsZU9iai5vcmlnVHlwZSxcblx0XHRcdFx0aGFuZGxlT2JqLnNlbGVjdG9yLFxuXHRcdFx0XHRoYW5kbGVPYmouaGFuZGxlclxuXHRcdFx0KTtcblx0XHRcdHJldHVybiB0aGlzO1xuXHRcdH1cblx0XHRpZiAoIHR5cGVvZiB0eXBlcyA9PT0gXCJvYmplY3RcIiApIHtcblxuXHRcdFx0Ly8gKCB0eXBlcy1vYmplY3QgWywgc2VsZWN0b3JdIClcblx0XHRcdGZvciAoIHR5cGUgaW4gdHlwZXMgKSB7XG5cdFx0XHRcdHRoaXMub2ZmKCB0eXBlLCBzZWxlY3RvciwgdHlwZXNbIHR5cGUgXSApO1xuXHRcdFx0fVxuXHRcdFx0cmV0dXJuIHRoaXM7XG5cdFx0fVxuXHRcdGlmICggc2VsZWN0b3IgPT09IGZhbHNlIHx8IHR5cGVvZiBzZWxlY3RvciA9PT0gXCJmdW5jdGlvblwiICkge1xuXG5cdFx0XHQvLyAoIHR5cGVzIFssIGZuXSApXG5cdFx0XHRmbiA9IHNlbGVjdG9yO1xuXHRcdFx0c2VsZWN0b3IgPSB1bmRlZmluZWQ7XG5cdFx0fVxuXHRcdGlmICggZm4gPT09IGZhbHNlICkge1xuXHRcdFx0Zm4gPSByZXR1cm5GYWxzZTtcblx0XHR9XG5cdFx0cmV0dXJuIHRoaXMuZWFjaCggZnVuY3Rpb24oKSB7XG5cdFx0XHRqUXVlcnkuZXZlbnQucmVtb3ZlKCB0aGlzLCB0eXBlcywgZm4sIHNlbGVjdG9yICk7XG5cdFx0fSApO1xuXHR9XG59ICk7XG5cblxudmFyXG5cblx0LyogZXNsaW50LWRpc2FibGUgbWF4LWxlbiAqL1xuXG5cdC8vIFNlZSBodHRwczovL2dpdGh1Yi5jb20vZXNsaW50L2VzbGludC9pc3N1ZXMvMzIyOVxuXHRyeGh0bWxUYWcgPSAvPCg/IWFyZWF8YnJ8Y29sfGVtYmVkfGhyfGltZ3xpbnB1dHxsaW5rfG1ldGF8cGFyYW0pKChbYS16XVteXFwvXFwwPlxceDIwXFx0XFxyXFxuXFxmXSopW14+XSopXFwvPi9naSxcblxuXHQvKiBlc2xpbnQtZW5hYmxlICovXG5cblx0Ly8gU3VwcG9ydDogSUUgPD0xMCAtIDExLCBFZGdlIDEyIC0gMTNcblx0Ly8gSW4gSUUvRWRnZSB1c2luZyByZWdleCBncm91cHMgaGVyZSBjYXVzZXMgc2V2ZXJlIHNsb3dkb3ducy5cblx0Ly8gU2VlIGh0dHBzOi8vY29ubmVjdC5taWNyb3NvZnQuY29tL0lFL2ZlZWRiYWNrL2RldGFpbHMvMTczNjUxMi9cblx0cm5vSW5uZXJodG1sID0gLzxzY3JpcHR8PHN0eWxlfDxsaW5rL2ksXG5cblx0Ly8gY2hlY2tlZD1cImNoZWNrZWRcIiBvciBjaGVja2VkXG5cdHJjaGVja2VkID0gL2NoZWNrZWRcXHMqKD86W149XXw9XFxzKi5jaGVja2VkLikvaSxcblx0cnNjcmlwdFR5cGVNYXNrZWQgPSAvXnRydWVcXC8oLiopLyxcblx0cmNsZWFuU2NyaXB0ID0gL15cXHMqPCEoPzpcXFtDREFUQVxcW3wtLSl8KD86XFxdXFxdfC0tKT5cXHMqJC9nO1xuXG4vLyBQcmVmZXIgYSB0Ym9keSBvdmVyIGl0cyBwYXJlbnQgdGFibGUgZm9yIGNvbnRhaW5pbmcgbmV3IHJvd3NcbmZ1bmN0aW9uIG1hbmlwdWxhdGlvblRhcmdldCggZWxlbSwgY29udGVudCApIHtcblx0aWYgKCBub2RlTmFtZSggZWxlbSwgXCJ0YWJsZVwiICkgJiZcblx0XHRub2RlTmFtZSggY29udGVudC5ub2RlVHlwZSAhPT0gMTEgPyBjb250ZW50IDogY29udGVudC5maXJzdENoaWxkLCBcInRyXCIgKSApIHtcblxuXHRcdHJldHVybiBqUXVlcnkoIFwiPnRib2R5XCIsIGVsZW0gKVsgMCBdIHx8IGVsZW07XG5cdH1cblxuXHRyZXR1cm4gZWxlbTtcbn1cblxuLy8gUmVwbGFjZS9yZXN0b3JlIHRoZSB0eXBlIGF0dHJpYnV0ZSBvZiBzY3JpcHQgZWxlbWVudHMgZm9yIHNhZmUgRE9NIG1hbmlwdWxhdGlvblxuZnVuY3Rpb24gZGlzYWJsZVNjcmlwdCggZWxlbSApIHtcblx0ZWxlbS50eXBlID0gKCBlbGVtLmdldEF0dHJpYnV0ZSggXCJ0eXBlXCIgKSAhPT0gbnVsbCApICsgXCIvXCIgKyBlbGVtLnR5cGU7XG5cdHJldHVybiBlbGVtO1xufVxuZnVuY3Rpb24gcmVzdG9yZVNjcmlwdCggZWxlbSApIHtcblx0dmFyIG1hdGNoID0gcnNjcmlwdFR5cGVNYXNrZWQuZXhlYyggZWxlbS50eXBlICk7XG5cblx0aWYgKCBtYXRjaCApIHtcblx0XHRlbGVtLnR5cGUgPSBtYXRjaFsgMSBdO1xuXHR9IGVsc2Uge1xuXHRcdGVsZW0ucmVtb3ZlQXR0cmlidXRlKCBcInR5cGVcIiApO1xuXHR9XG5cblx0cmV0dXJuIGVsZW07XG59XG5cbmZ1bmN0aW9uIGNsb25lQ29weUV2ZW50KCBzcmMsIGRlc3QgKSB7XG5cdHZhciBpLCBsLCB0eXBlLCBwZGF0YU9sZCwgcGRhdGFDdXIsIHVkYXRhT2xkLCB1ZGF0YUN1ciwgZXZlbnRzO1xuXG5cdGlmICggZGVzdC5ub2RlVHlwZSAhPT0gMSApIHtcblx0XHRyZXR1cm47XG5cdH1cblxuXHQvLyAxLiBDb3B5IHByaXZhdGUgZGF0YTogZXZlbnRzLCBoYW5kbGVycywgZXRjLlxuXHRpZiAoIGRhdGFQcml2Lmhhc0RhdGEoIHNyYyApICkge1xuXHRcdHBkYXRhT2xkID0gZGF0YVByaXYuYWNjZXNzKCBzcmMgKTtcblx0XHRwZGF0YUN1ciA9IGRhdGFQcml2LnNldCggZGVzdCwgcGRhdGFPbGQgKTtcblx0XHRldmVudHMgPSBwZGF0YU9sZC5ldmVudHM7XG5cblx0XHRpZiAoIGV2ZW50cyApIHtcblx0XHRcdGRlbGV0ZSBwZGF0YUN1ci5oYW5kbGU7XG5cdFx0XHRwZGF0YUN1ci5ldmVudHMgPSB7fTtcblxuXHRcdFx0Zm9yICggdHlwZSBpbiBldmVudHMgKSB7XG5cdFx0XHRcdGZvciAoIGkgPSAwLCBsID0gZXZlbnRzWyB0eXBlIF0ubGVuZ3RoOyBpIDwgbDsgaSsrICkge1xuXHRcdFx0XHRcdGpRdWVyeS5ldmVudC5hZGQoIGRlc3QsIHR5cGUsIGV2ZW50c1sgdHlwZSBdWyBpIF0gKTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH1cblx0fVxuXG5cdC8vIDIuIENvcHkgdXNlciBkYXRhXG5cdGlmICggZGF0YVVzZXIuaGFzRGF0YSggc3JjICkgKSB7XG5cdFx0dWRhdGFPbGQgPSBkYXRhVXNlci5hY2Nlc3MoIHNyYyApO1xuXHRcdHVkYXRhQ3VyID0galF1ZXJ5LmV4dGVuZCgge30sIHVkYXRhT2xkICk7XG5cblx0XHRkYXRhVXNlci5zZXQoIGRlc3QsIHVkYXRhQ3VyICk7XG5cdH1cbn1cblxuLy8gRml4IElFIGJ1Z3MsIHNlZSBzdXBwb3J0IHRlc3RzXG5mdW5jdGlvbiBmaXhJbnB1dCggc3JjLCBkZXN0ICkge1xuXHR2YXIgbm9kZU5hbWUgPSBkZXN0Lm5vZGVOYW1lLnRvTG93ZXJDYXNlKCk7XG5cblx0Ly8gRmFpbHMgdG8gcGVyc2lzdCB0aGUgY2hlY2tlZCBzdGF0ZSBvZiBhIGNsb25lZCBjaGVja2JveCBvciByYWRpbyBidXR0b24uXG5cdGlmICggbm9kZU5hbWUgPT09IFwiaW5wdXRcIiAmJiByY2hlY2thYmxlVHlwZS50ZXN0KCBzcmMudHlwZSApICkge1xuXHRcdGRlc3QuY2hlY2tlZCA9IHNyYy5jaGVja2VkO1xuXG5cdC8vIEZhaWxzIHRvIHJldHVybiB0aGUgc2VsZWN0ZWQgb3B0aW9uIHRvIHRoZSBkZWZhdWx0IHNlbGVjdGVkIHN0YXRlIHdoZW4gY2xvbmluZyBvcHRpb25zXG5cdH0gZWxzZSBpZiAoIG5vZGVOYW1lID09PSBcImlucHV0XCIgfHwgbm9kZU5hbWUgPT09IFwidGV4dGFyZWFcIiApIHtcblx0XHRkZXN0LmRlZmF1bHRWYWx1ZSA9IHNyYy5kZWZhdWx0VmFsdWU7XG5cdH1cbn1cblxuZnVuY3Rpb24gZG9tTWFuaXAoIGNvbGxlY3Rpb24sIGFyZ3MsIGNhbGxiYWNrLCBpZ25vcmVkICkge1xuXG5cdC8vIEZsYXR0ZW4gYW55IG5lc3RlZCBhcnJheXNcblx0YXJncyA9IGNvbmNhdC5hcHBseSggW10sIGFyZ3MgKTtcblxuXHR2YXIgZnJhZ21lbnQsIGZpcnN0LCBzY3JpcHRzLCBoYXNTY3JpcHRzLCBub2RlLCBkb2MsXG5cdFx0aSA9IDAsXG5cdFx0bCA9IGNvbGxlY3Rpb24ubGVuZ3RoLFxuXHRcdGlOb0Nsb25lID0gbCAtIDEsXG5cdFx0dmFsdWUgPSBhcmdzWyAwIF0sXG5cdFx0aXNGdW5jdGlvbiA9IGpRdWVyeS5pc0Z1bmN0aW9uKCB2YWx1ZSApO1xuXG5cdC8vIFdlIGNhbid0IGNsb25lTm9kZSBmcmFnbWVudHMgdGhhdCBjb250YWluIGNoZWNrZWQsIGluIFdlYktpdFxuXHRpZiAoIGlzRnVuY3Rpb24gfHxcblx0XHRcdCggbCA+IDEgJiYgdHlwZW9mIHZhbHVlID09PSBcInN0cmluZ1wiICYmXG5cdFx0XHRcdCFzdXBwb3J0LmNoZWNrQ2xvbmUgJiYgcmNoZWNrZWQudGVzdCggdmFsdWUgKSApICkge1xuXHRcdHJldHVybiBjb2xsZWN0aW9uLmVhY2goIGZ1bmN0aW9uKCBpbmRleCApIHtcblx0XHRcdHZhciBzZWxmID0gY29sbGVjdGlvbi5lcSggaW5kZXggKTtcblx0XHRcdGlmICggaXNGdW5jdGlvbiApIHtcblx0XHRcdFx0YXJnc1sgMCBdID0gdmFsdWUuY2FsbCggdGhpcywgaW5kZXgsIHNlbGYuaHRtbCgpICk7XG5cdFx0XHR9XG5cdFx0XHRkb21NYW5pcCggc2VsZiwgYXJncywgY2FsbGJhY2ssIGlnbm9yZWQgKTtcblx0XHR9ICk7XG5cdH1cblxuXHRpZiAoIGwgKSB7XG5cdFx0ZnJhZ21lbnQgPSBidWlsZEZyYWdtZW50KCBhcmdzLCBjb2xsZWN0aW9uWyAwIF0ub3duZXJEb2N1bWVudCwgZmFsc2UsIGNvbGxlY3Rpb24sIGlnbm9yZWQgKTtcblx0XHRmaXJzdCA9IGZyYWdtZW50LmZpcnN0Q2hpbGQ7XG5cblx0XHRpZiAoIGZyYWdtZW50LmNoaWxkTm9kZXMubGVuZ3RoID09PSAxICkge1xuXHRcdFx0ZnJhZ21lbnQgPSBmaXJzdDtcblx0XHR9XG5cblx0XHQvLyBSZXF1aXJlIGVpdGhlciBuZXcgY29udGVudCBvciBhbiBpbnRlcmVzdCBpbiBpZ25vcmVkIGVsZW1lbnRzIHRvIGludm9rZSB0aGUgY2FsbGJhY2tcblx0XHRpZiAoIGZpcnN0IHx8IGlnbm9yZWQgKSB7XG5cdFx0XHRzY3JpcHRzID0galF1ZXJ5Lm1hcCggZ2V0QWxsKCBmcmFnbWVudCwgXCJzY3JpcHRcIiApLCBkaXNhYmxlU2NyaXB0ICk7XG5cdFx0XHRoYXNTY3JpcHRzID0gc2NyaXB0cy5sZW5ndGg7XG5cblx0XHRcdC8vIFVzZSB0aGUgb3JpZ2luYWwgZnJhZ21lbnQgZm9yIHRoZSBsYXN0IGl0ZW1cblx0XHRcdC8vIGluc3RlYWQgb2YgdGhlIGZpcnN0IGJlY2F1c2UgaXQgY2FuIGVuZCB1cFxuXHRcdFx0Ly8gYmVpbmcgZW1wdGllZCBpbmNvcnJlY3RseSBpbiBjZXJ0YWluIHNpdHVhdGlvbnMgKCM4MDcwKS5cblx0XHRcdGZvciAoIDsgaSA8IGw7IGkrKyApIHtcblx0XHRcdFx0bm9kZSA9IGZyYWdtZW50O1xuXG5cdFx0XHRcdGlmICggaSAhPT0gaU5vQ2xvbmUgKSB7XG5cdFx0XHRcdFx0bm9kZSA9IGpRdWVyeS5jbG9uZSggbm9kZSwgdHJ1ZSwgdHJ1ZSApO1xuXG5cdFx0XHRcdFx0Ly8gS2VlcCByZWZlcmVuY2VzIHRvIGNsb25lZCBzY3JpcHRzIGZvciBsYXRlciByZXN0b3JhdGlvblxuXHRcdFx0XHRcdGlmICggaGFzU2NyaXB0cyApIHtcblxuXHRcdFx0XHRcdFx0Ly8gU3VwcG9ydDogQW5kcm9pZCA8PTQuMCBvbmx5LCBQaGFudG9tSlMgMSBvbmx5XG5cdFx0XHRcdFx0XHQvLyBwdXNoLmFwcGx5KF8sIGFycmF5bGlrZSkgdGhyb3dzIG9uIGFuY2llbnQgV2ViS2l0XG5cdFx0XHRcdFx0XHRqUXVlcnkubWVyZ2UoIHNjcmlwdHMsIGdldEFsbCggbm9kZSwgXCJzY3JpcHRcIiApICk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cblx0XHRcdFx0Y2FsbGJhY2suY2FsbCggY29sbGVjdGlvblsgaSBdLCBub2RlLCBpICk7XG5cdFx0XHR9XG5cblx0XHRcdGlmICggaGFzU2NyaXB0cyApIHtcblx0XHRcdFx0ZG9jID0gc2NyaXB0c1sgc2NyaXB0cy5sZW5ndGggLSAxIF0ub3duZXJEb2N1bWVudDtcblxuXHRcdFx0XHQvLyBSZWVuYWJsZSBzY3JpcHRzXG5cdFx0XHRcdGpRdWVyeS5tYXAoIHNjcmlwdHMsIHJlc3RvcmVTY3JpcHQgKTtcblxuXHRcdFx0XHQvLyBFdmFsdWF0ZSBleGVjdXRhYmxlIHNjcmlwdHMgb24gZmlyc3QgZG9jdW1lbnQgaW5zZXJ0aW9uXG5cdFx0XHRcdGZvciAoIGkgPSAwOyBpIDwgaGFzU2NyaXB0czsgaSsrICkge1xuXHRcdFx0XHRcdG5vZGUgPSBzY3JpcHRzWyBpIF07XG5cdFx0XHRcdFx0aWYgKCByc2NyaXB0VHlwZS50ZXN0KCBub2RlLnR5cGUgfHwgXCJcIiApICYmXG5cdFx0XHRcdFx0XHQhZGF0YVByaXYuYWNjZXNzKCBub2RlLCBcImdsb2JhbEV2YWxcIiApICYmXG5cdFx0XHRcdFx0XHRqUXVlcnkuY29udGFpbnMoIGRvYywgbm9kZSApICkge1xuXG5cdFx0XHRcdFx0XHRpZiAoIG5vZGUuc3JjICkge1xuXG5cdFx0XHRcdFx0XHRcdC8vIE9wdGlvbmFsIEFKQVggZGVwZW5kZW5jeSwgYnV0IHdvbid0IHJ1biBzY3JpcHRzIGlmIG5vdCBwcmVzZW50XG5cdFx0XHRcdFx0XHRcdGlmICggalF1ZXJ5Ll9ldmFsVXJsICkge1xuXHRcdFx0XHRcdFx0XHRcdGpRdWVyeS5fZXZhbFVybCggbm9kZS5zcmMgKTtcblx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRcdFx0RE9NRXZhbCggbm9kZS50ZXh0Q29udGVudC5yZXBsYWNlKCByY2xlYW5TY3JpcHQsIFwiXCIgKSwgZG9jICk7XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fVxuXHR9XG5cblx0cmV0dXJuIGNvbGxlY3Rpb247XG59XG5cbmZ1bmN0aW9uIHJlbW92ZSggZWxlbSwgc2VsZWN0b3IsIGtlZXBEYXRhICkge1xuXHR2YXIgbm9kZSxcblx0XHRub2RlcyA9IHNlbGVjdG9yID8galF1ZXJ5LmZpbHRlciggc2VsZWN0b3IsIGVsZW0gKSA6IGVsZW0sXG5cdFx0aSA9IDA7XG5cblx0Zm9yICggOyAoIG5vZGUgPSBub2Rlc1sgaSBdICkgIT0gbnVsbDsgaSsrICkge1xuXHRcdGlmICggIWtlZXBEYXRhICYmIG5vZGUubm9kZVR5cGUgPT09IDEgKSB7XG5cdFx0XHRqUXVlcnkuY2xlYW5EYXRhKCBnZXRBbGwoIG5vZGUgKSApO1xuXHRcdH1cblxuXHRcdGlmICggbm9kZS5wYXJlbnROb2RlICkge1xuXHRcdFx0aWYgKCBrZWVwRGF0YSAmJiBqUXVlcnkuY29udGFpbnMoIG5vZGUub3duZXJEb2N1bWVudCwgbm9kZSApICkge1xuXHRcdFx0XHRzZXRHbG9iYWxFdmFsKCBnZXRBbGwoIG5vZGUsIFwic2NyaXB0XCIgKSApO1xuXHRcdFx0fVxuXHRcdFx0bm9kZS5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKCBub2RlICk7XG5cdFx0fVxuXHR9XG5cblx0cmV0dXJuIGVsZW07XG59XG5cbmpRdWVyeS5leHRlbmQoIHtcblx0aHRtbFByZWZpbHRlcjogZnVuY3Rpb24oIGh0bWwgKSB7XG5cdFx0cmV0dXJuIGh0bWwucmVwbGFjZSggcnhodG1sVGFnLCBcIjwkMT48LyQyPlwiICk7XG5cdH0sXG5cblx0Y2xvbmU6IGZ1bmN0aW9uKCBlbGVtLCBkYXRhQW5kRXZlbnRzLCBkZWVwRGF0YUFuZEV2ZW50cyApIHtcblx0XHR2YXIgaSwgbCwgc3JjRWxlbWVudHMsIGRlc3RFbGVtZW50cyxcblx0XHRcdGNsb25lID0gZWxlbS5jbG9uZU5vZGUoIHRydWUgKSxcblx0XHRcdGluUGFnZSA9IGpRdWVyeS5jb250YWlucyggZWxlbS5vd25lckRvY3VtZW50LCBlbGVtICk7XG5cblx0XHQvLyBGaXggSUUgY2xvbmluZyBpc3N1ZXNcblx0XHRpZiAoICFzdXBwb3J0Lm5vQ2xvbmVDaGVja2VkICYmICggZWxlbS5ub2RlVHlwZSA9PT0gMSB8fCBlbGVtLm5vZGVUeXBlID09PSAxMSApICYmXG5cdFx0XHRcdCFqUXVlcnkuaXNYTUxEb2MoIGVsZW0gKSApIHtcblxuXHRcdFx0Ly8gV2UgZXNjaGV3IFNpenpsZSBoZXJlIGZvciBwZXJmb3JtYW5jZSByZWFzb25zOiBodHRwczovL2pzcGVyZi5jb20vZ2V0YWxsLXZzLXNpenpsZS8yXG5cdFx0XHRkZXN0RWxlbWVudHMgPSBnZXRBbGwoIGNsb25lICk7XG5cdFx0XHRzcmNFbGVtZW50cyA9IGdldEFsbCggZWxlbSApO1xuXG5cdFx0XHRmb3IgKCBpID0gMCwgbCA9IHNyY0VsZW1lbnRzLmxlbmd0aDsgaSA8IGw7IGkrKyApIHtcblx0XHRcdFx0Zml4SW5wdXQoIHNyY0VsZW1lbnRzWyBpIF0sIGRlc3RFbGVtZW50c1sgaSBdICk7XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0Ly8gQ29weSB0aGUgZXZlbnRzIGZyb20gdGhlIG9yaWdpbmFsIHRvIHRoZSBjbG9uZVxuXHRcdGlmICggZGF0YUFuZEV2ZW50cyApIHtcblx0XHRcdGlmICggZGVlcERhdGFBbmRFdmVudHMgKSB7XG5cdFx0XHRcdHNyY0VsZW1lbnRzID0gc3JjRWxlbWVudHMgfHwgZ2V0QWxsKCBlbGVtICk7XG5cdFx0XHRcdGRlc3RFbGVtZW50cyA9IGRlc3RFbGVtZW50cyB8fCBnZXRBbGwoIGNsb25lICk7XG5cblx0XHRcdFx0Zm9yICggaSA9IDAsIGwgPSBzcmNFbGVtZW50cy5sZW5ndGg7IGkgPCBsOyBpKysgKSB7XG5cdFx0XHRcdFx0Y2xvbmVDb3B5RXZlbnQoIHNyY0VsZW1lbnRzWyBpIF0sIGRlc3RFbGVtZW50c1sgaSBdICk7XG5cdFx0XHRcdH1cblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdGNsb25lQ29weUV2ZW50KCBlbGVtLCBjbG9uZSApO1xuXHRcdFx0fVxuXHRcdH1cblxuXHRcdC8vIFByZXNlcnZlIHNjcmlwdCBldmFsdWF0aW9uIGhpc3Rvcnlcblx0XHRkZXN0RWxlbWVudHMgPSBnZXRBbGwoIGNsb25lLCBcInNjcmlwdFwiICk7XG5cdFx0aWYgKCBkZXN0RWxlbWVudHMubGVuZ3RoID4gMCApIHtcblx0XHRcdHNldEdsb2JhbEV2YWwoIGRlc3RFbGVtZW50cywgIWluUGFnZSAmJiBnZXRBbGwoIGVsZW0sIFwic2NyaXB0XCIgKSApO1xuXHRcdH1cblxuXHRcdC8vIFJldHVybiB0aGUgY2xvbmVkIHNldFxuXHRcdHJldHVybiBjbG9uZTtcblx0fSxcblxuXHRjbGVhbkRhdGE6IGZ1bmN0aW9uKCBlbGVtcyApIHtcblx0XHR2YXIgZGF0YSwgZWxlbSwgdHlwZSxcblx0XHRcdHNwZWNpYWwgPSBqUXVlcnkuZXZlbnQuc3BlY2lhbCxcblx0XHRcdGkgPSAwO1xuXG5cdFx0Zm9yICggOyAoIGVsZW0gPSBlbGVtc1sgaSBdICkgIT09IHVuZGVmaW5lZDsgaSsrICkge1xuXHRcdFx0aWYgKCBhY2NlcHREYXRhKCBlbGVtICkgKSB7XG5cdFx0XHRcdGlmICggKCBkYXRhID0gZWxlbVsgZGF0YVByaXYuZXhwYW5kbyBdICkgKSB7XG5cdFx0XHRcdFx0aWYgKCBkYXRhLmV2ZW50cyApIHtcblx0XHRcdFx0XHRcdGZvciAoIHR5cGUgaW4gZGF0YS5ldmVudHMgKSB7XG5cdFx0XHRcdFx0XHRcdGlmICggc3BlY2lhbFsgdHlwZSBdICkge1xuXHRcdFx0XHRcdFx0XHRcdGpRdWVyeS5ldmVudC5yZW1vdmUoIGVsZW0sIHR5cGUgKTtcblxuXHRcdFx0XHRcdFx0XHQvLyBUaGlzIGlzIGEgc2hvcnRjdXQgdG8gYXZvaWQgalF1ZXJ5LmV2ZW50LnJlbW92ZSdzIG92ZXJoZWFkXG5cdFx0XHRcdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0XHRcdFx0alF1ZXJ5LnJlbW92ZUV2ZW50KCBlbGVtLCB0eXBlLCBkYXRhLmhhbmRsZSApO1xuXHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0Ly8gU3VwcG9ydDogQ2hyb21lIDw9MzUgLSA0NStcblx0XHRcdFx0XHQvLyBBc3NpZ24gdW5kZWZpbmVkIGluc3RlYWQgb2YgdXNpbmcgZGVsZXRlLCBzZWUgRGF0YSNyZW1vdmVcblx0XHRcdFx0XHRlbGVtWyBkYXRhUHJpdi5leHBhbmRvIF0gPSB1bmRlZmluZWQ7XG5cdFx0XHRcdH1cblx0XHRcdFx0aWYgKCBlbGVtWyBkYXRhVXNlci5leHBhbmRvIF0gKSB7XG5cblx0XHRcdFx0XHQvLyBTdXBwb3J0OiBDaHJvbWUgPD0zNSAtIDQ1K1xuXHRcdFx0XHRcdC8vIEFzc2lnbiB1bmRlZmluZWQgaW5zdGVhZCBvZiB1c2luZyBkZWxldGUsIHNlZSBEYXRhI3JlbW92ZVxuXHRcdFx0XHRcdGVsZW1bIGRhdGFVc2VyLmV4cGFuZG8gXSA9IHVuZGVmaW5lZDtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH1cblx0fVxufSApO1xuXG5qUXVlcnkuZm4uZXh0ZW5kKCB7XG5cdGRldGFjaDogZnVuY3Rpb24oIHNlbGVjdG9yICkge1xuXHRcdHJldHVybiByZW1vdmUoIHRoaXMsIHNlbGVjdG9yLCB0cnVlICk7XG5cdH0sXG5cblx0cmVtb3ZlOiBmdW5jdGlvbiggc2VsZWN0b3IgKSB7XG5cdFx0cmV0dXJuIHJlbW92ZSggdGhpcywgc2VsZWN0b3IgKTtcblx0fSxcblxuXHR0ZXh0OiBmdW5jdGlvbiggdmFsdWUgKSB7XG5cdFx0cmV0dXJuIGFjY2VzcyggdGhpcywgZnVuY3Rpb24oIHZhbHVlICkge1xuXHRcdFx0cmV0dXJuIHZhbHVlID09PSB1bmRlZmluZWQgP1xuXHRcdFx0XHRqUXVlcnkudGV4dCggdGhpcyApIDpcblx0XHRcdFx0dGhpcy5lbXB0eSgpLmVhY2goIGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRcdGlmICggdGhpcy5ub2RlVHlwZSA9PT0gMSB8fCB0aGlzLm5vZGVUeXBlID09PSAxMSB8fCB0aGlzLm5vZGVUeXBlID09PSA5ICkge1xuXHRcdFx0XHRcdFx0dGhpcy50ZXh0Q29udGVudCA9IHZhbHVlO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fSApO1xuXHRcdH0sIG51bGwsIHZhbHVlLCBhcmd1bWVudHMubGVuZ3RoICk7XG5cdH0sXG5cblx0YXBwZW5kOiBmdW5jdGlvbigpIHtcblx0XHRyZXR1cm4gZG9tTWFuaXAoIHRoaXMsIGFyZ3VtZW50cywgZnVuY3Rpb24oIGVsZW0gKSB7XG5cdFx0XHRpZiAoIHRoaXMubm9kZVR5cGUgPT09IDEgfHwgdGhpcy5ub2RlVHlwZSA9PT0gMTEgfHwgdGhpcy5ub2RlVHlwZSA9PT0gOSApIHtcblx0XHRcdFx0dmFyIHRhcmdldCA9IG1hbmlwdWxhdGlvblRhcmdldCggdGhpcywgZWxlbSApO1xuXHRcdFx0XHR0YXJnZXQuYXBwZW5kQ2hpbGQoIGVsZW0gKTtcblx0XHRcdH1cblx0XHR9ICk7XG5cdH0sXG5cblx0cHJlcGVuZDogZnVuY3Rpb24oKSB7XG5cdFx0cmV0dXJuIGRvbU1hbmlwKCB0aGlzLCBhcmd1bWVudHMsIGZ1bmN0aW9uKCBlbGVtICkge1xuXHRcdFx0aWYgKCB0aGlzLm5vZGVUeXBlID09PSAxIHx8IHRoaXMubm9kZVR5cGUgPT09IDExIHx8IHRoaXMubm9kZVR5cGUgPT09IDkgKSB7XG5cdFx0XHRcdHZhciB0YXJnZXQgPSBtYW5pcHVsYXRpb25UYXJnZXQoIHRoaXMsIGVsZW0gKTtcblx0XHRcdFx0dGFyZ2V0Lmluc2VydEJlZm9yZSggZWxlbSwgdGFyZ2V0LmZpcnN0Q2hpbGQgKTtcblx0XHRcdH1cblx0XHR9ICk7XG5cdH0sXG5cblx0YmVmb3JlOiBmdW5jdGlvbigpIHtcblx0XHRyZXR1cm4gZG9tTWFuaXAoIHRoaXMsIGFyZ3VtZW50cywgZnVuY3Rpb24oIGVsZW0gKSB7XG5cdFx0XHRpZiAoIHRoaXMucGFyZW50Tm9kZSApIHtcblx0XHRcdFx0dGhpcy5wYXJlbnROb2RlLmluc2VydEJlZm9yZSggZWxlbSwgdGhpcyApO1xuXHRcdFx0fVxuXHRcdH0gKTtcblx0fSxcblxuXHRhZnRlcjogZnVuY3Rpb24oKSB7XG5cdFx0cmV0dXJuIGRvbU1hbmlwKCB0aGlzLCBhcmd1bWVudHMsIGZ1bmN0aW9uKCBlbGVtICkge1xuXHRcdFx0aWYgKCB0aGlzLnBhcmVudE5vZGUgKSB7XG5cdFx0XHRcdHRoaXMucGFyZW50Tm9kZS5pbnNlcnRCZWZvcmUoIGVsZW0sIHRoaXMubmV4dFNpYmxpbmcgKTtcblx0XHRcdH1cblx0XHR9ICk7XG5cdH0sXG5cblx0ZW1wdHk6IGZ1bmN0aW9uKCkge1xuXHRcdHZhciBlbGVtLFxuXHRcdFx0aSA9IDA7XG5cblx0XHRmb3IgKCA7ICggZWxlbSA9IHRoaXNbIGkgXSApICE9IG51bGw7IGkrKyApIHtcblx0XHRcdGlmICggZWxlbS5ub2RlVHlwZSA9PT0gMSApIHtcblxuXHRcdFx0XHQvLyBQcmV2ZW50IG1lbW9yeSBsZWFrc1xuXHRcdFx0XHRqUXVlcnkuY2xlYW5EYXRhKCBnZXRBbGwoIGVsZW0sIGZhbHNlICkgKTtcblxuXHRcdFx0XHQvLyBSZW1vdmUgYW55IHJlbWFpbmluZyBub2Rlc1xuXHRcdFx0XHRlbGVtLnRleHRDb250ZW50ID0gXCJcIjtcblx0XHRcdH1cblx0XHR9XG5cblx0XHRyZXR1cm4gdGhpcztcblx0fSxcblxuXHRjbG9uZTogZnVuY3Rpb24oIGRhdGFBbmRFdmVudHMsIGRlZXBEYXRhQW5kRXZlbnRzICkge1xuXHRcdGRhdGFBbmRFdmVudHMgPSBkYXRhQW5kRXZlbnRzID09IG51bGwgPyBmYWxzZSA6IGRhdGFBbmRFdmVudHM7XG5cdFx0ZGVlcERhdGFBbmRFdmVudHMgPSBkZWVwRGF0YUFuZEV2ZW50cyA9PSBudWxsID8gZGF0YUFuZEV2ZW50cyA6IGRlZXBEYXRhQW5kRXZlbnRzO1xuXG5cdFx0cmV0dXJuIHRoaXMubWFwKCBmdW5jdGlvbigpIHtcblx0XHRcdHJldHVybiBqUXVlcnkuY2xvbmUoIHRoaXMsIGRhdGFBbmRFdmVudHMsIGRlZXBEYXRhQW5kRXZlbnRzICk7XG5cdFx0fSApO1xuXHR9LFxuXG5cdGh0bWw6IGZ1bmN0aW9uKCB2YWx1ZSApIHtcblx0XHRyZXR1cm4gYWNjZXNzKCB0aGlzLCBmdW5jdGlvbiggdmFsdWUgKSB7XG5cdFx0XHR2YXIgZWxlbSA9IHRoaXNbIDAgXSB8fCB7fSxcblx0XHRcdFx0aSA9IDAsXG5cdFx0XHRcdGwgPSB0aGlzLmxlbmd0aDtcblxuXHRcdFx0aWYgKCB2YWx1ZSA9PT0gdW5kZWZpbmVkICYmIGVsZW0ubm9kZVR5cGUgPT09IDEgKSB7XG5cdFx0XHRcdHJldHVybiBlbGVtLmlubmVySFRNTDtcblx0XHRcdH1cblxuXHRcdFx0Ly8gU2VlIGlmIHdlIGNhbiB0YWtlIGEgc2hvcnRjdXQgYW5kIGp1c3QgdXNlIGlubmVySFRNTFxuXHRcdFx0aWYgKCB0eXBlb2YgdmFsdWUgPT09IFwic3RyaW5nXCIgJiYgIXJub0lubmVyaHRtbC50ZXN0KCB2YWx1ZSApICYmXG5cdFx0XHRcdCF3cmFwTWFwWyAoIHJ0YWdOYW1lLmV4ZWMoIHZhbHVlICkgfHwgWyBcIlwiLCBcIlwiIF0gKVsgMSBdLnRvTG93ZXJDYXNlKCkgXSApIHtcblxuXHRcdFx0XHR2YWx1ZSA9IGpRdWVyeS5odG1sUHJlZmlsdGVyKCB2YWx1ZSApO1xuXG5cdFx0XHRcdHRyeSB7XG5cdFx0XHRcdFx0Zm9yICggOyBpIDwgbDsgaSsrICkge1xuXHRcdFx0XHRcdFx0ZWxlbSA9IHRoaXNbIGkgXSB8fCB7fTtcblxuXHRcdFx0XHRcdFx0Ly8gUmVtb3ZlIGVsZW1lbnQgbm9kZXMgYW5kIHByZXZlbnQgbWVtb3J5IGxlYWtzXG5cdFx0XHRcdFx0XHRpZiAoIGVsZW0ubm9kZVR5cGUgPT09IDEgKSB7XG5cdFx0XHRcdFx0XHRcdGpRdWVyeS5jbGVhbkRhdGEoIGdldEFsbCggZWxlbSwgZmFsc2UgKSApO1xuXHRcdFx0XHRcdFx0XHRlbGVtLmlubmVySFRNTCA9IHZhbHVlO1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdGVsZW0gPSAwO1xuXG5cdFx0XHRcdC8vIElmIHVzaW5nIGlubmVySFRNTCB0aHJvd3MgYW4gZXhjZXB0aW9uLCB1c2UgdGhlIGZhbGxiYWNrIG1ldGhvZFxuXHRcdFx0XHR9IGNhdGNoICggZSApIHt9XG5cdFx0XHR9XG5cblx0XHRcdGlmICggZWxlbSApIHtcblx0XHRcdFx0dGhpcy5lbXB0eSgpLmFwcGVuZCggdmFsdWUgKTtcblx0XHRcdH1cblx0XHR9LCBudWxsLCB2YWx1ZSwgYXJndW1lbnRzLmxlbmd0aCApO1xuXHR9LFxuXG5cdHJlcGxhY2VXaXRoOiBmdW5jdGlvbigpIHtcblx0XHR2YXIgaWdub3JlZCA9IFtdO1xuXG5cdFx0Ly8gTWFrZSB0aGUgY2hhbmdlcywgcmVwbGFjaW5nIGVhY2ggbm9uLWlnbm9yZWQgY29udGV4dCBlbGVtZW50IHdpdGggdGhlIG5ldyBjb250ZW50XG5cdFx0cmV0dXJuIGRvbU1hbmlwKCB0aGlzLCBhcmd1bWVudHMsIGZ1bmN0aW9uKCBlbGVtICkge1xuXHRcdFx0dmFyIHBhcmVudCA9IHRoaXMucGFyZW50Tm9kZTtcblxuXHRcdFx0aWYgKCBqUXVlcnkuaW5BcnJheSggdGhpcywgaWdub3JlZCApIDwgMCApIHtcblx0XHRcdFx0alF1ZXJ5LmNsZWFuRGF0YSggZ2V0QWxsKCB0aGlzICkgKTtcblx0XHRcdFx0aWYgKCBwYXJlbnQgKSB7XG5cdFx0XHRcdFx0cGFyZW50LnJlcGxhY2VDaGlsZCggZWxlbSwgdGhpcyApO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cblx0XHQvLyBGb3JjZSBjYWxsYmFjayBpbnZvY2F0aW9uXG5cdFx0fSwgaWdub3JlZCApO1xuXHR9XG59ICk7XG5cbmpRdWVyeS5lYWNoKCB7XG5cdGFwcGVuZFRvOiBcImFwcGVuZFwiLFxuXHRwcmVwZW5kVG86IFwicHJlcGVuZFwiLFxuXHRpbnNlcnRCZWZvcmU6IFwiYmVmb3JlXCIsXG5cdGluc2VydEFmdGVyOiBcImFmdGVyXCIsXG5cdHJlcGxhY2VBbGw6IFwicmVwbGFjZVdpdGhcIlxufSwgZnVuY3Rpb24oIG5hbWUsIG9yaWdpbmFsICkge1xuXHRqUXVlcnkuZm5bIG5hbWUgXSA9IGZ1bmN0aW9uKCBzZWxlY3RvciApIHtcblx0XHR2YXIgZWxlbXMsXG5cdFx0XHRyZXQgPSBbXSxcblx0XHRcdGluc2VydCA9IGpRdWVyeSggc2VsZWN0b3IgKSxcblx0XHRcdGxhc3QgPSBpbnNlcnQubGVuZ3RoIC0gMSxcblx0XHRcdGkgPSAwO1xuXG5cdFx0Zm9yICggOyBpIDw9IGxhc3Q7IGkrKyApIHtcblx0XHRcdGVsZW1zID0gaSA9PT0gbGFzdCA/IHRoaXMgOiB0aGlzLmNsb25lKCB0cnVlICk7XG5cdFx0XHRqUXVlcnkoIGluc2VydFsgaSBdIClbIG9yaWdpbmFsIF0oIGVsZW1zICk7XG5cblx0XHRcdC8vIFN1cHBvcnQ6IEFuZHJvaWQgPD00LjAgb25seSwgUGhhbnRvbUpTIDEgb25seVxuXHRcdFx0Ly8gLmdldCgpIGJlY2F1c2UgcHVzaC5hcHBseShfLCBhcnJheWxpa2UpIHRocm93cyBvbiBhbmNpZW50IFdlYktpdFxuXHRcdFx0cHVzaC5hcHBseSggcmV0LCBlbGVtcy5nZXQoKSApO1xuXHRcdH1cblxuXHRcdHJldHVybiB0aGlzLnB1c2hTdGFjayggcmV0ICk7XG5cdH07XG59ICk7XG52YXIgcm1hcmdpbiA9ICggL15tYXJnaW4vICk7XG5cbnZhciBybnVtbm9ucHggPSBuZXcgUmVnRXhwKCBcIl4oXCIgKyBwbnVtICsgXCIpKD8hcHgpW2EteiVdKyRcIiwgXCJpXCIgKTtcblxudmFyIGdldFN0eWxlcyA9IGZ1bmN0aW9uKCBlbGVtICkge1xuXG5cdFx0Ly8gU3VwcG9ydDogSUUgPD0xMSBvbmx5LCBGaXJlZm94IDw9MzAgKCMxNTA5OCwgIzE0MTUwKVxuXHRcdC8vIElFIHRocm93cyBvbiBlbGVtZW50cyBjcmVhdGVkIGluIHBvcHVwc1xuXHRcdC8vIEZGIG1lYW53aGlsZSB0aHJvd3Mgb24gZnJhbWUgZWxlbWVudHMgdGhyb3VnaCBcImRlZmF1bHRWaWV3LmdldENvbXB1dGVkU3R5bGVcIlxuXHRcdHZhciB2aWV3ID0gZWxlbS5vd25lckRvY3VtZW50LmRlZmF1bHRWaWV3O1xuXG5cdFx0aWYgKCAhdmlldyB8fCAhdmlldy5vcGVuZXIgKSB7XG5cdFx0XHR2aWV3ID0gd2luZG93O1xuXHRcdH1cblxuXHRcdHJldHVybiB2aWV3LmdldENvbXB1dGVkU3R5bGUoIGVsZW0gKTtcblx0fTtcblxuXG5cbiggZnVuY3Rpb24oKSB7XG5cblx0Ly8gRXhlY3V0aW5nIGJvdGggcGl4ZWxQb3NpdGlvbiAmIGJveFNpemluZ1JlbGlhYmxlIHRlc3RzIHJlcXVpcmUgb25seSBvbmUgbGF5b3V0XG5cdC8vIHNvIHRoZXkncmUgZXhlY3V0ZWQgYXQgdGhlIHNhbWUgdGltZSB0byBzYXZlIHRoZSBzZWNvbmQgY29tcHV0YXRpb24uXG5cdGZ1bmN0aW9uIGNvbXB1dGVTdHlsZVRlc3RzKCkge1xuXG5cdFx0Ly8gVGhpcyBpcyBhIHNpbmdsZXRvbiwgd2UgbmVlZCB0byBleGVjdXRlIGl0IG9ubHkgb25jZVxuXHRcdGlmICggIWRpdiApIHtcblx0XHRcdHJldHVybjtcblx0XHR9XG5cblx0XHRkaXYuc3R5bGUuY3NzVGV4dCA9XG5cdFx0XHRcImJveC1zaXppbmc6Ym9yZGVyLWJveDtcIiArXG5cdFx0XHRcInBvc2l0aW9uOnJlbGF0aXZlO2Rpc3BsYXk6YmxvY2s7XCIgK1xuXHRcdFx0XCJtYXJnaW46YXV0bztib3JkZXI6MXB4O3BhZGRpbmc6MXB4O1wiICtcblx0XHRcdFwidG9wOjElO3dpZHRoOjUwJVwiO1xuXHRcdGRpdi5pbm5lckhUTUwgPSBcIlwiO1xuXHRcdGRvY3VtZW50RWxlbWVudC5hcHBlbmRDaGlsZCggY29udGFpbmVyICk7XG5cblx0XHR2YXIgZGl2U3R5bGUgPSB3aW5kb3cuZ2V0Q29tcHV0ZWRTdHlsZSggZGl2ICk7XG5cdFx0cGl4ZWxQb3NpdGlvblZhbCA9IGRpdlN0eWxlLnRvcCAhPT0gXCIxJVwiO1xuXG5cdFx0Ly8gU3VwcG9ydDogQW5kcm9pZCA0LjAgLSA0LjMgb25seSwgRmlyZWZveCA8PTMgLSA0NFxuXHRcdHJlbGlhYmxlTWFyZ2luTGVmdFZhbCA9IGRpdlN0eWxlLm1hcmdpbkxlZnQgPT09IFwiMnB4XCI7XG5cdFx0Ym94U2l6aW5nUmVsaWFibGVWYWwgPSBkaXZTdHlsZS53aWR0aCA9PT0gXCI0cHhcIjtcblxuXHRcdC8vIFN1cHBvcnQ6IEFuZHJvaWQgNC4wIC0gNC4zIG9ubHlcblx0XHQvLyBTb21lIHN0eWxlcyBjb21lIGJhY2sgd2l0aCBwZXJjZW50YWdlIHZhbHVlcywgZXZlbiB0aG91Z2ggdGhleSBzaG91bGRuJ3Rcblx0XHRkaXYuc3R5bGUubWFyZ2luUmlnaHQgPSBcIjUwJVwiO1xuXHRcdHBpeGVsTWFyZ2luUmlnaHRWYWwgPSBkaXZTdHlsZS5tYXJnaW5SaWdodCA9PT0gXCI0cHhcIjtcblxuXHRcdGRvY3VtZW50RWxlbWVudC5yZW1vdmVDaGlsZCggY29udGFpbmVyICk7XG5cblx0XHQvLyBOdWxsaWZ5IHRoZSBkaXYgc28gaXQgd291bGRuJ3QgYmUgc3RvcmVkIGluIHRoZSBtZW1vcnkgYW5kXG5cdFx0Ly8gaXQgd2lsbCBhbHNvIGJlIGEgc2lnbiB0aGF0IGNoZWNrcyBhbHJlYWR5IHBlcmZvcm1lZFxuXHRcdGRpdiA9IG51bGw7XG5cdH1cblxuXHR2YXIgcGl4ZWxQb3NpdGlvblZhbCwgYm94U2l6aW5nUmVsaWFibGVWYWwsIHBpeGVsTWFyZ2luUmlnaHRWYWwsIHJlbGlhYmxlTWFyZ2luTGVmdFZhbCxcblx0XHRjb250YWluZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCBcImRpdlwiICksXG5cdFx0ZGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCggXCJkaXZcIiApO1xuXG5cdC8vIEZpbmlzaCBlYXJseSBpbiBsaW1pdGVkIChub24tYnJvd3NlcikgZW52aXJvbm1lbnRzXG5cdGlmICggIWRpdi5zdHlsZSApIHtcblx0XHRyZXR1cm47XG5cdH1cblxuXHQvLyBTdXBwb3J0OiBJRSA8PTkgLSAxMSBvbmx5XG5cdC8vIFN0eWxlIG9mIGNsb25lZCBlbGVtZW50IGFmZmVjdHMgc291cmNlIGVsZW1lbnQgY2xvbmVkICgjODkwOClcblx0ZGl2LnN0eWxlLmJhY2tncm91bmRDbGlwID0gXCJjb250ZW50LWJveFwiO1xuXHRkaXYuY2xvbmVOb2RlKCB0cnVlICkuc3R5bGUuYmFja2dyb3VuZENsaXAgPSBcIlwiO1xuXHRzdXBwb3J0LmNsZWFyQ2xvbmVTdHlsZSA9IGRpdi5zdHlsZS5iYWNrZ3JvdW5kQ2xpcCA9PT0gXCJjb250ZW50LWJveFwiO1xuXG5cdGNvbnRhaW5lci5zdHlsZS5jc3NUZXh0ID0gXCJib3JkZXI6MDt3aWR0aDo4cHg7aGVpZ2h0OjA7dG9wOjA7bGVmdDotOTk5OXB4O1wiICtcblx0XHRcInBhZGRpbmc6MDttYXJnaW4tdG9wOjFweDtwb3NpdGlvbjphYnNvbHV0ZVwiO1xuXHRjb250YWluZXIuYXBwZW5kQ2hpbGQoIGRpdiApO1xuXG5cdGpRdWVyeS5leHRlbmQoIHN1cHBvcnQsIHtcblx0XHRwaXhlbFBvc2l0aW9uOiBmdW5jdGlvbigpIHtcblx0XHRcdGNvbXB1dGVTdHlsZVRlc3RzKCk7XG5cdFx0XHRyZXR1cm4gcGl4ZWxQb3NpdGlvblZhbDtcblx0XHR9LFxuXHRcdGJveFNpemluZ1JlbGlhYmxlOiBmdW5jdGlvbigpIHtcblx0XHRcdGNvbXB1dGVTdHlsZVRlc3RzKCk7XG5cdFx0XHRyZXR1cm4gYm94U2l6aW5nUmVsaWFibGVWYWw7XG5cdFx0fSxcblx0XHRwaXhlbE1hcmdpblJpZ2h0OiBmdW5jdGlvbigpIHtcblx0XHRcdGNvbXB1dGVTdHlsZVRlc3RzKCk7XG5cdFx0XHRyZXR1cm4gcGl4ZWxNYXJnaW5SaWdodFZhbDtcblx0XHR9LFxuXHRcdHJlbGlhYmxlTWFyZ2luTGVmdDogZnVuY3Rpb24oKSB7XG5cdFx0XHRjb21wdXRlU3R5bGVUZXN0cygpO1xuXHRcdFx0cmV0dXJuIHJlbGlhYmxlTWFyZ2luTGVmdFZhbDtcblx0XHR9XG5cdH0gKTtcbn0gKSgpO1xuXG5cbmZ1bmN0aW9uIGN1ckNTUyggZWxlbSwgbmFtZSwgY29tcHV0ZWQgKSB7XG5cdHZhciB3aWR0aCwgbWluV2lkdGgsIG1heFdpZHRoLCByZXQsXG5cblx0XHQvLyBTdXBwb3J0OiBGaXJlZm94IDUxK1xuXHRcdC8vIFJldHJpZXZpbmcgc3R5bGUgYmVmb3JlIGNvbXB1dGVkIHNvbWVob3dcblx0XHQvLyBmaXhlcyBhbiBpc3N1ZSB3aXRoIGdldHRpbmcgd3JvbmcgdmFsdWVzXG5cdFx0Ly8gb24gZGV0YWNoZWQgZWxlbWVudHNcblx0XHRzdHlsZSA9IGVsZW0uc3R5bGU7XG5cblx0Y29tcHV0ZWQgPSBjb21wdXRlZCB8fCBnZXRTdHlsZXMoIGVsZW0gKTtcblxuXHQvLyBnZXRQcm9wZXJ0eVZhbHVlIGlzIG5lZWRlZCBmb3I6XG5cdC8vICAgLmNzcygnZmlsdGVyJykgKElFIDkgb25seSwgIzEyNTM3KVxuXHQvLyAgIC5jc3MoJy0tY3VzdG9tUHJvcGVydHkpICgjMzE0NClcblx0aWYgKCBjb21wdXRlZCApIHtcblx0XHRyZXQgPSBjb21wdXRlZC5nZXRQcm9wZXJ0eVZhbHVlKCBuYW1lICkgfHwgY29tcHV0ZWRbIG5hbWUgXTtcblxuXHRcdGlmICggcmV0ID09PSBcIlwiICYmICFqUXVlcnkuY29udGFpbnMoIGVsZW0ub3duZXJEb2N1bWVudCwgZWxlbSApICkge1xuXHRcdFx0cmV0ID0galF1ZXJ5LnN0eWxlKCBlbGVtLCBuYW1lICk7XG5cdFx0fVxuXG5cdFx0Ly8gQSB0cmlidXRlIHRvIHRoZSBcImF3ZXNvbWUgaGFjayBieSBEZWFuIEVkd2FyZHNcIlxuXHRcdC8vIEFuZHJvaWQgQnJvd3NlciByZXR1cm5zIHBlcmNlbnRhZ2UgZm9yIHNvbWUgdmFsdWVzLFxuXHRcdC8vIGJ1dCB3aWR0aCBzZWVtcyB0byBiZSByZWxpYWJseSBwaXhlbHMuXG5cdFx0Ly8gVGhpcyBpcyBhZ2FpbnN0IHRoZSBDU1NPTSBkcmFmdCBzcGVjOlxuXHRcdC8vIGh0dHBzOi8vZHJhZnRzLmNzc3dnLm9yZy9jc3NvbS8jcmVzb2x2ZWQtdmFsdWVzXG5cdFx0aWYgKCAhc3VwcG9ydC5waXhlbE1hcmdpblJpZ2h0KCkgJiYgcm51bW5vbnB4LnRlc3QoIHJldCApICYmIHJtYXJnaW4udGVzdCggbmFtZSApICkge1xuXG5cdFx0XHQvLyBSZW1lbWJlciB0aGUgb3JpZ2luYWwgdmFsdWVzXG5cdFx0XHR3aWR0aCA9IHN0eWxlLndpZHRoO1xuXHRcdFx0bWluV2lkdGggPSBzdHlsZS5taW5XaWR0aDtcblx0XHRcdG1heFdpZHRoID0gc3R5bGUubWF4V2lkdGg7XG5cblx0XHRcdC8vIFB1dCBpbiB0aGUgbmV3IHZhbHVlcyB0byBnZXQgYSBjb21wdXRlZCB2YWx1ZSBvdXRcblx0XHRcdHN0eWxlLm1pbldpZHRoID0gc3R5bGUubWF4V2lkdGggPSBzdHlsZS53aWR0aCA9IHJldDtcblx0XHRcdHJldCA9IGNvbXB1dGVkLndpZHRoO1xuXG5cdFx0XHQvLyBSZXZlcnQgdGhlIGNoYW5nZWQgdmFsdWVzXG5cdFx0XHRzdHlsZS53aWR0aCA9IHdpZHRoO1xuXHRcdFx0c3R5bGUubWluV2lkdGggPSBtaW5XaWR0aDtcblx0XHRcdHN0eWxlLm1heFdpZHRoID0gbWF4V2lkdGg7XG5cdFx0fVxuXHR9XG5cblx0cmV0dXJuIHJldCAhPT0gdW5kZWZpbmVkID9cblxuXHRcdC8vIFN1cHBvcnQ6IElFIDw9OSAtIDExIG9ubHlcblx0XHQvLyBJRSByZXR1cm5zIHpJbmRleCB2YWx1ZSBhcyBhbiBpbnRlZ2VyLlxuXHRcdHJldCArIFwiXCIgOlxuXHRcdHJldDtcbn1cblxuXG5mdW5jdGlvbiBhZGRHZXRIb29rSWYoIGNvbmRpdGlvbkZuLCBob29rRm4gKSB7XG5cblx0Ly8gRGVmaW5lIHRoZSBob29rLCB3ZSdsbCBjaGVjayBvbiB0aGUgZmlyc3QgcnVuIGlmIGl0J3MgcmVhbGx5IG5lZWRlZC5cblx0cmV0dXJuIHtcblx0XHRnZXQ6IGZ1bmN0aW9uKCkge1xuXHRcdFx0aWYgKCBjb25kaXRpb25GbigpICkge1xuXG5cdFx0XHRcdC8vIEhvb2sgbm90IG5lZWRlZCAob3IgaXQncyBub3QgcG9zc2libGUgdG8gdXNlIGl0IGR1ZVxuXHRcdFx0XHQvLyB0byBtaXNzaW5nIGRlcGVuZGVuY3kpLCByZW1vdmUgaXQuXG5cdFx0XHRcdGRlbGV0ZSB0aGlzLmdldDtcblx0XHRcdFx0cmV0dXJuO1xuXHRcdFx0fVxuXG5cdFx0XHQvLyBIb29rIG5lZWRlZDsgcmVkZWZpbmUgaXQgc28gdGhhdCB0aGUgc3VwcG9ydCB0ZXN0IGlzIG5vdCBleGVjdXRlZCBhZ2Fpbi5cblx0XHRcdHJldHVybiAoIHRoaXMuZ2V0ID0gaG9va0ZuICkuYXBwbHkoIHRoaXMsIGFyZ3VtZW50cyApO1xuXHRcdH1cblx0fTtcbn1cblxuXG52YXJcblxuXHQvLyBTd2FwcGFibGUgaWYgZGlzcGxheSBpcyBub25lIG9yIHN0YXJ0cyB3aXRoIHRhYmxlXG5cdC8vIGV4Y2VwdCBcInRhYmxlXCIsIFwidGFibGUtY2VsbFwiLCBvciBcInRhYmxlLWNhcHRpb25cIlxuXHQvLyBTZWUgaGVyZSBmb3IgZGlzcGxheSB2YWx1ZXM6IGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvQ1NTL2Rpc3BsYXlcblx0cmRpc3BsYXlzd2FwID0gL14obm9uZXx0YWJsZSg/IS1jW2VhXSkuKykvLFxuXHRyY3VzdG9tUHJvcCA9IC9eLS0vLFxuXHRjc3NTaG93ID0geyBwb3NpdGlvbjogXCJhYnNvbHV0ZVwiLCB2aXNpYmlsaXR5OiBcImhpZGRlblwiLCBkaXNwbGF5OiBcImJsb2NrXCIgfSxcblx0Y3NzTm9ybWFsVHJhbnNmb3JtID0ge1xuXHRcdGxldHRlclNwYWNpbmc6IFwiMFwiLFxuXHRcdGZvbnRXZWlnaHQ6IFwiNDAwXCJcblx0fSxcblxuXHRjc3NQcmVmaXhlcyA9IFsgXCJXZWJraXRcIiwgXCJNb3pcIiwgXCJtc1wiIF0sXG5cdGVtcHR5U3R5bGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCBcImRpdlwiICkuc3R5bGU7XG5cbi8vIFJldHVybiBhIGNzcyBwcm9wZXJ0eSBtYXBwZWQgdG8gYSBwb3RlbnRpYWxseSB2ZW5kb3IgcHJlZml4ZWQgcHJvcGVydHlcbmZ1bmN0aW9uIHZlbmRvclByb3BOYW1lKCBuYW1lICkge1xuXG5cdC8vIFNob3J0Y3V0IGZvciBuYW1lcyB0aGF0IGFyZSBub3QgdmVuZG9yIHByZWZpeGVkXG5cdGlmICggbmFtZSBpbiBlbXB0eVN0eWxlICkge1xuXHRcdHJldHVybiBuYW1lO1xuXHR9XG5cblx0Ly8gQ2hlY2sgZm9yIHZlbmRvciBwcmVmaXhlZCBuYW1lc1xuXHR2YXIgY2FwTmFtZSA9IG5hbWVbIDAgXS50b1VwcGVyQ2FzZSgpICsgbmFtZS5zbGljZSggMSApLFxuXHRcdGkgPSBjc3NQcmVmaXhlcy5sZW5ndGg7XG5cblx0d2hpbGUgKCBpLS0gKSB7XG5cdFx0bmFtZSA9IGNzc1ByZWZpeGVzWyBpIF0gKyBjYXBOYW1lO1xuXHRcdGlmICggbmFtZSBpbiBlbXB0eVN0eWxlICkge1xuXHRcdFx0cmV0dXJuIG5hbWU7XG5cdFx0fVxuXHR9XG59XG5cbi8vIFJldHVybiBhIHByb3BlcnR5IG1hcHBlZCBhbG9uZyB3aGF0IGpRdWVyeS5jc3NQcm9wcyBzdWdnZXN0cyBvciB0b1xuLy8gYSB2ZW5kb3IgcHJlZml4ZWQgcHJvcGVydHkuXG5mdW5jdGlvbiBmaW5hbFByb3BOYW1lKCBuYW1lICkge1xuXHR2YXIgcmV0ID0galF1ZXJ5LmNzc1Byb3BzWyBuYW1lIF07XG5cdGlmICggIXJldCApIHtcblx0XHRyZXQgPSBqUXVlcnkuY3NzUHJvcHNbIG5hbWUgXSA9IHZlbmRvclByb3BOYW1lKCBuYW1lICkgfHwgbmFtZTtcblx0fVxuXHRyZXR1cm4gcmV0O1xufVxuXG5mdW5jdGlvbiBzZXRQb3NpdGl2ZU51bWJlciggZWxlbSwgdmFsdWUsIHN1YnRyYWN0ICkge1xuXG5cdC8vIEFueSByZWxhdGl2ZSAoKy8tKSB2YWx1ZXMgaGF2ZSBhbHJlYWR5IGJlZW5cblx0Ly8gbm9ybWFsaXplZCBhdCB0aGlzIHBvaW50XG5cdHZhciBtYXRjaGVzID0gcmNzc051bS5leGVjKCB2YWx1ZSApO1xuXHRyZXR1cm4gbWF0Y2hlcyA/XG5cblx0XHQvLyBHdWFyZCBhZ2FpbnN0IHVuZGVmaW5lZCBcInN1YnRyYWN0XCIsIGUuZy4sIHdoZW4gdXNlZCBhcyBpbiBjc3NIb29rc1xuXHRcdE1hdGgubWF4KCAwLCBtYXRjaGVzWyAyIF0gLSAoIHN1YnRyYWN0IHx8IDAgKSApICsgKCBtYXRjaGVzWyAzIF0gfHwgXCJweFwiICkgOlxuXHRcdHZhbHVlO1xufVxuXG5mdW5jdGlvbiBhdWdtZW50V2lkdGhPckhlaWdodCggZWxlbSwgbmFtZSwgZXh0cmEsIGlzQm9yZGVyQm94LCBzdHlsZXMgKSB7XG5cdHZhciBpLFxuXHRcdHZhbCA9IDA7XG5cblx0Ly8gSWYgd2UgYWxyZWFkeSBoYXZlIHRoZSByaWdodCBtZWFzdXJlbWVudCwgYXZvaWQgYXVnbWVudGF0aW9uXG5cdGlmICggZXh0cmEgPT09ICggaXNCb3JkZXJCb3ggPyBcImJvcmRlclwiIDogXCJjb250ZW50XCIgKSApIHtcblx0XHRpID0gNDtcblxuXHQvLyBPdGhlcndpc2UgaW5pdGlhbGl6ZSBmb3IgaG9yaXpvbnRhbCBvciB2ZXJ0aWNhbCBwcm9wZXJ0aWVzXG5cdH0gZWxzZSB7XG5cdFx0aSA9IG5hbWUgPT09IFwid2lkdGhcIiA/IDEgOiAwO1xuXHR9XG5cblx0Zm9yICggOyBpIDwgNDsgaSArPSAyICkge1xuXG5cdFx0Ly8gQm90aCBib3ggbW9kZWxzIGV4Y2x1ZGUgbWFyZ2luLCBzbyBhZGQgaXQgaWYgd2Ugd2FudCBpdFxuXHRcdGlmICggZXh0cmEgPT09IFwibWFyZ2luXCIgKSB7XG5cdFx0XHR2YWwgKz0galF1ZXJ5LmNzcyggZWxlbSwgZXh0cmEgKyBjc3NFeHBhbmRbIGkgXSwgdHJ1ZSwgc3R5bGVzICk7XG5cdFx0fVxuXG5cdFx0aWYgKCBpc0JvcmRlckJveCApIHtcblxuXHRcdFx0Ly8gYm9yZGVyLWJveCBpbmNsdWRlcyBwYWRkaW5nLCBzbyByZW1vdmUgaXQgaWYgd2Ugd2FudCBjb250ZW50XG5cdFx0XHRpZiAoIGV4dHJhID09PSBcImNvbnRlbnRcIiApIHtcblx0XHRcdFx0dmFsIC09IGpRdWVyeS5jc3MoIGVsZW0sIFwicGFkZGluZ1wiICsgY3NzRXhwYW5kWyBpIF0sIHRydWUsIHN0eWxlcyApO1xuXHRcdFx0fVxuXG5cdFx0XHQvLyBBdCB0aGlzIHBvaW50LCBleHRyYSBpc24ndCBib3JkZXIgbm9yIG1hcmdpbiwgc28gcmVtb3ZlIGJvcmRlclxuXHRcdFx0aWYgKCBleHRyYSAhPT0gXCJtYXJnaW5cIiApIHtcblx0XHRcdFx0dmFsIC09IGpRdWVyeS5jc3MoIGVsZW0sIFwiYm9yZGVyXCIgKyBjc3NFeHBhbmRbIGkgXSArIFwiV2lkdGhcIiwgdHJ1ZSwgc3R5bGVzICk7XG5cdFx0XHR9XG5cdFx0fSBlbHNlIHtcblxuXHRcdFx0Ly8gQXQgdGhpcyBwb2ludCwgZXh0cmEgaXNuJ3QgY29udGVudCwgc28gYWRkIHBhZGRpbmdcblx0XHRcdHZhbCArPSBqUXVlcnkuY3NzKCBlbGVtLCBcInBhZGRpbmdcIiArIGNzc0V4cGFuZFsgaSBdLCB0cnVlLCBzdHlsZXMgKTtcblxuXHRcdFx0Ly8gQXQgdGhpcyBwb2ludCwgZXh0cmEgaXNuJ3QgY29udGVudCBub3IgcGFkZGluZywgc28gYWRkIGJvcmRlclxuXHRcdFx0aWYgKCBleHRyYSAhPT0gXCJwYWRkaW5nXCIgKSB7XG5cdFx0XHRcdHZhbCArPSBqUXVlcnkuY3NzKCBlbGVtLCBcImJvcmRlclwiICsgY3NzRXhwYW5kWyBpIF0gKyBcIldpZHRoXCIsIHRydWUsIHN0eWxlcyApO1xuXHRcdFx0fVxuXHRcdH1cblx0fVxuXG5cdHJldHVybiB2YWw7XG59XG5cbmZ1bmN0aW9uIGdldFdpZHRoT3JIZWlnaHQoIGVsZW0sIG5hbWUsIGV4dHJhICkge1xuXG5cdC8vIFN0YXJ0IHdpdGggY29tcHV0ZWQgc3R5bGVcblx0dmFyIHZhbHVlSXNCb3JkZXJCb3gsXG5cdFx0c3R5bGVzID0gZ2V0U3R5bGVzKCBlbGVtICksXG5cdFx0dmFsID0gY3VyQ1NTKCBlbGVtLCBuYW1lLCBzdHlsZXMgKSxcblx0XHRpc0JvcmRlckJveCA9IGpRdWVyeS5jc3MoIGVsZW0sIFwiYm94U2l6aW5nXCIsIGZhbHNlLCBzdHlsZXMgKSA9PT0gXCJib3JkZXItYm94XCI7XG5cblx0Ly8gQ29tcHV0ZWQgdW5pdCBpcyBub3QgcGl4ZWxzLiBTdG9wIGhlcmUgYW5kIHJldHVybi5cblx0aWYgKCBybnVtbm9ucHgudGVzdCggdmFsICkgKSB7XG5cdFx0cmV0dXJuIHZhbDtcblx0fVxuXG5cdC8vIENoZWNrIGZvciBzdHlsZSBpbiBjYXNlIGEgYnJvd3NlciB3aGljaCByZXR1cm5zIHVucmVsaWFibGUgdmFsdWVzXG5cdC8vIGZvciBnZXRDb21wdXRlZFN0eWxlIHNpbGVudGx5IGZhbGxzIGJhY2sgdG8gdGhlIHJlbGlhYmxlIGVsZW0uc3R5bGVcblx0dmFsdWVJc0JvcmRlckJveCA9IGlzQm9yZGVyQm94ICYmXG5cdFx0KCBzdXBwb3J0LmJveFNpemluZ1JlbGlhYmxlKCkgfHwgdmFsID09PSBlbGVtLnN0eWxlWyBuYW1lIF0gKTtcblxuXHQvLyBGYWxsIGJhY2sgdG8gb2Zmc2V0V2lkdGgvSGVpZ2h0IHdoZW4gdmFsdWUgaXMgXCJhdXRvXCJcblx0Ly8gVGhpcyBoYXBwZW5zIGZvciBpbmxpbmUgZWxlbWVudHMgd2l0aCBubyBleHBsaWNpdCBzZXR0aW5nIChnaC0zNTcxKVxuXHRpZiAoIHZhbCA9PT0gXCJhdXRvXCIgKSB7XG5cdFx0dmFsID0gZWxlbVsgXCJvZmZzZXRcIiArIG5hbWVbIDAgXS50b1VwcGVyQ2FzZSgpICsgbmFtZS5zbGljZSggMSApIF07XG5cdH1cblxuXHQvLyBOb3JtYWxpemUgXCJcIiwgYXV0bywgYW5kIHByZXBhcmUgZm9yIGV4dHJhXG5cdHZhbCA9IHBhcnNlRmxvYXQoIHZhbCApIHx8IDA7XG5cblx0Ly8gVXNlIHRoZSBhY3RpdmUgYm94LXNpemluZyBtb2RlbCB0byBhZGQvc3VidHJhY3QgaXJyZWxldmFudCBzdHlsZXNcblx0cmV0dXJuICggdmFsICtcblx0XHRhdWdtZW50V2lkdGhPckhlaWdodChcblx0XHRcdGVsZW0sXG5cdFx0XHRuYW1lLFxuXHRcdFx0ZXh0cmEgfHwgKCBpc0JvcmRlckJveCA/IFwiYm9yZGVyXCIgOiBcImNvbnRlbnRcIiApLFxuXHRcdFx0dmFsdWVJc0JvcmRlckJveCxcblx0XHRcdHN0eWxlc1xuXHRcdClcblx0KSArIFwicHhcIjtcbn1cblxualF1ZXJ5LmV4dGVuZCgge1xuXG5cdC8vIEFkZCBpbiBzdHlsZSBwcm9wZXJ0eSBob29rcyBmb3Igb3ZlcnJpZGluZyB0aGUgZGVmYXVsdFxuXHQvLyBiZWhhdmlvciBvZiBnZXR0aW5nIGFuZCBzZXR0aW5nIGEgc3R5bGUgcHJvcGVydHlcblx0Y3NzSG9va3M6IHtcblx0XHRvcGFjaXR5OiB7XG5cdFx0XHRnZXQ6IGZ1bmN0aW9uKCBlbGVtLCBjb21wdXRlZCApIHtcblx0XHRcdFx0aWYgKCBjb21wdXRlZCApIHtcblxuXHRcdFx0XHRcdC8vIFdlIHNob3VsZCBhbHdheXMgZ2V0IGEgbnVtYmVyIGJhY2sgZnJvbSBvcGFjaXR5XG5cdFx0XHRcdFx0dmFyIHJldCA9IGN1ckNTUyggZWxlbSwgXCJvcGFjaXR5XCIgKTtcblx0XHRcdFx0XHRyZXR1cm4gcmV0ID09PSBcIlwiID8gXCIxXCIgOiByZXQ7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9XG5cdH0sXG5cblx0Ly8gRG9uJ3QgYXV0b21hdGljYWxseSBhZGQgXCJweFwiIHRvIHRoZXNlIHBvc3NpYmx5LXVuaXRsZXNzIHByb3BlcnRpZXNcblx0Y3NzTnVtYmVyOiB7XG5cdFx0XCJhbmltYXRpb25JdGVyYXRpb25Db3VudFwiOiB0cnVlLFxuXHRcdFwiY29sdW1uQ291bnRcIjogdHJ1ZSxcblx0XHRcImZpbGxPcGFjaXR5XCI6IHRydWUsXG5cdFx0XCJmbGV4R3Jvd1wiOiB0cnVlLFxuXHRcdFwiZmxleFNocmlua1wiOiB0cnVlLFxuXHRcdFwiZm9udFdlaWdodFwiOiB0cnVlLFxuXHRcdFwibGluZUhlaWdodFwiOiB0cnVlLFxuXHRcdFwib3BhY2l0eVwiOiB0cnVlLFxuXHRcdFwib3JkZXJcIjogdHJ1ZSxcblx0XHRcIm9ycGhhbnNcIjogdHJ1ZSxcblx0XHRcIndpZG93c1wiOiB0cnVlLFxuXHRcdFwiekluZGV4XCI6IHRydWUsXG5cdFx0XCJ6b29tXCI6IHRydWVcblx0fSxcblxuXHQvLyBBZGQgaW4gcHJvcGVydGllcyB3aG9zZSBuYW1lcyB5b3Ugd2lzaCB0byBmaXggYmVmb3JlXG5cdC8vIHNldHRpbmcgb3IgZ2V0dGluZyB0aGUgdmFsdWVcblx0Y3NzUHJvcHM6IHtcblx0XHRcImZsb2F0XCI6IFwiY3NzRmxvYXRcIlxuXHR9LFxuXG5cdC8vIEdldCBhbmQgc2V0IHRoZSBzdHlsZSBwcm9wZXJ0eSBvbiBhIERPTSBOb2RlXG5cdHN0eWxlOiBmdW5jdGlvbiggZWxlbSwgbmFtZSwgdmFsdWUsIGV4dHJhICkge1xuXG5cdFx0Ly8gRG9uJ3Qgc2V0IHN0eWxlcyBvbiB0ZXh0IGFuZCBjb21tZW50IG5vZGVzXG5cdFx0aWYgKCAhZWxlbSB8fCBlbGVtLm5vZGVUeXBlID09PSAzIHx8IGVsZW0ubm9kZVR5cGUgPT09IDggfHwgIWVsZW0uc3R5bGUgKSB7XG5cdFx0XHRyZXR1cm47XG5cdFx0fVxuXG5cdFx0Ly8gTWFrZSBzdXJlIHRoYXQgd2UncmUgd29ya2luZyB3aXRoIHRoZSByaWdodCBuYW1lXG5cdFx0dmFyIHJldCwgdHlwZSwgaG9va3MsXG5cdFx0XHRvcmlnTmFtZSA9IGpRdWVyeS5jYW1lbENhc2UoIG5hbWUgKSxcblx0XHRcdGlzQ3VzdG9tUHJvcCA9IHJjdXN0b21Qcm9wLnRlc3QoIG5hbWUgKSxcblx0XHRcdHN0eWxlID0gZWxlbS5zdHlsZTtcblxuXHRcdC8vIE1ha2Ugc3VyZSB0aGF0IHdlJ3JlIHdvcmtpbmcgd2l0aCB0aGUgcmlnaHQgbmFtZS4gV2UgZG9uJ3Rcblx0XHQvLyB3YW50IHRvIHF1ZXJ5IHRoZSB2YWx1ZSBpZiBpdCBpcyBhIENTUyBjdXN0b20gcHJvcGVydHlcblx0XHQvLyBzaW5jZSB0aGV5IGFyZSB1c2VyLWRlZmluZWQuXG5cdFx0aWYgKCAhaXNDdXN0b21Qcm9wICkge1xuXHRcdFx0bmFtZSA9IGZpbmFsUHJvcE5hbWUoIG9yaWdOYW1lICk7XG5cdFx0fVxuXG5cdFx0Ly8gR2V0cyBob29rIGZvciB0aGUgcHJlZml4ZWQgdmVyc2lvbiwgdGhlbiB1bnByZWZpeGVkIHZlcnNpb25cblx0XHRob29rcyA9IGpRdWVyeS5jc3NIb29rc1sgbmFtZSBdIHx8IGpRdWVyeS5jc3NIb29rc1sgb3JpZ05hbWUgXTtcblxuXHRcdC8vIENoZWNrIGlmIHdlJ3JlIHNldHRpbmcgYSB2YWx1ZVxuXHRcdGlmICggdmFsdWUgIT09IHVuZGVmaW5lZCApIHtcblx0XHRcdHR5cGUgPSB0eXBlb2YgdmFsdWU7XG5cblx0XHRcdC8vIENvbnZlcnQgXCIrPVwiIG9yIFwiLT1cIiB0byByZWxhdGl2ZSBudW1iZXJzICgjNzM0NSlcblx0XHRcdGlmICggdHlwZSA9PT0gXCJzdHJpbmdcIiAmJiAoIHJldCA9IHJjc3NOdW0uZXhlYyggdmFsdWUgKSApICYmIHJldFsgMSBdICkge1xuXHRcdFx0XHR2YWx1ZSA9IGFkanVzdENTUyggZWxlbSwgbmFtZSwgcmV0ICk7XG5cblx0XHRcdFx0Ly8gRml4ZXMgYnVnICM5MjM3XG5cdFx0XHRcdHR5cGUgPSBcIm51bWJlclwiO1xuXHRcdFx0fVxuXG5cdFx0XHQvLyBNYWtlIHN1cmUgdGhhdCBudWxsIGFuZCBOYU4gdmFsdWVzIGFyZW4ndCBzZXQgKCM3MTE2KVxuXHRcdFx0aWYgKCB2YWx1ZSA9PSBudWxsIHx8IHZhbHVlICE9PSB2YWx1ZSApIHtcblx0XHRcdFx0cmV0dXJuO1xuXHRcdFx0fVxuXG5cdFx0XHQvLyBJZiBhIG51bWJlciB3YXMgcGFzc2VkIGluLCBhZGQgdGhlIHVuaXQgKGV4Y2VwdCBmb3IgY2VydGFpbiBDU1MgcHJvcGVydGllcylcblx0XHRcdGlmICggdHlwZSA9PT0gXCJudW1iZXJcIiApIHtcblx0XHRcdFx0dmFsdWUgKz0gcmV0ICYmIHJldFsgMyBdIHx8ICggalF1ZXJ5LmNzc051bWJlclsgb3JpZ05hbWUgXSA/IFwiXCIgOiBcInB4XCIgKTtcblx0XHRcdH1cblxuXHRcdFx0Ly8gYmFja2dyb3VuZC0qIHByb3BzIGFmZmVjdCBvcmlnaW5hbCBjbG9uZSdzIHZhbHVlc1xuXHRcdFx0aWYgKCAhc3VwcG9ydC5jbGVhckNsb25lU3R5bGUgJiYgdmFsdWUgPT09IFwiXCIgJiYgbmFtZS5pbmRleE9mKCBcImJhY2tncm91bmRcIiApID09PSAwICkge1xuXHRcdFx0XHRzdHlsZVsgbmFtZSBdID0gXCJpbmhlcml0XCI7XG5cdFx0XHR9XG5cblx0XHRcdC8vIElmIGEgaG9vayB3YXMgcHJvdmlkZWQsIHVzZSB0aGF0IHZhbHVlLCBvdGhlcndpc2UganVzdCBzZXQgdGhlIHNwZWNpZmllZCB2YWx1ZVxuXHRcdFx0aWYgKCAhaG9va3MgfHwgISggXCJzZXRcIiBpbiBob29rcyApIHx8XG5cdFx0XHRcdCggdmFsdWUgPSBob29rcy5zZXQoIGVsZW0sIHZhbHVlLCBleHRyYSApICkgIT09IHVuZGVmaW5lZCApIHtcblxuXHRcdFx0XHRpZiAoIGlzQ3VzdG9tUHJvcCApIHtcblx0XHRcdFx0XHRzdHlsZS5zZXRQcm9wZXJ0eSggbmFtZSwgdmFsdWUgKTtcblx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRzdHlsZVsgbmFtZSBdID0gdmFsdWU7XG5cdFx0XHRcdH1cblx0XHRcdH1cblxuXHRcdH0gZWxzZSB7XG5cblx0XHRcdC8vIElmIGEgaG9vayB3YXMgcHJvdmlkZWQgZ2V0IHRoZSBub24tY29tcHV0ZWQgdmFsdWUgZnJvbSB0aGVyZVxuXHRcdFx0aWYgKCBob29rcyAmJiBcImdldFwiIGluIGhvb2tzICYmXG5cdFx0XHRcdCggcmV0ID0gaG9va3MuZ2V0KCBlbGVtLCBmYWxzZSwgZXh0cmEgKSApICE9PSB1bmRlZmluZWQgKSB7XG5cblx0XHRcdFx0cmV0dXJuIHJldDtcblx0XHRcdH1cblxuXHRcdFx0Ly8gT3RoZXJ3aXNlIGp1c3QgZ2V0IHRoZSB2YWx1ZSBmcm9tIHRoZSBzdHlsZSBvYmplY3Rcblx0XHRcdHJldHVybiBzdHlsZVsgbmFtZSBdO1xuXHRcdH1cblx0fSxcblxuXHRjc3M6IGZ1bmN0aW9uKCBlbGVtLCBuYW1lLCBleHRyYSwgc3R5bGVzICkge1xuXHRcdHZhciB2YWwsIG51bSwgaG9va3MsXG5cdFx0XHRvcmlnTmFtZSA9IGpRdWVyeS5jYW1lbENhc2UoIG5hbWUgKSxcblx0XHRcdGlzQ3VzdG9tUHJvcCA9IHJjdXN0b21Qcm9wLnRlc3QoIG5hbWUgKTtcblxuXHRcdC8vIE1ha2Ugc3VyZSB0aGF0IHdlJ3JlIHdvcmtpbmcgd2l0aCB0aGUgcmlnaHQgbmFtZS4gV2UgZG9uJ3Rcblx0XHQvLyB3YW50IHRvIG1vZGlmeSB0aGUgdmFsdWUgaWYgaXQgaXMgYSBDU1MgY3VzdG9tIHByb3BlcnR5XG5cdFx0Ly8gc2luY2UgdGhleSBhcmUgdXNlci1kZWZpbmVkLlxuXHRcdGlmICggIWlzQ3VzdG9tUHJvcCApIHtcblx0XHRcdG5hbWUgPSBmaW5hbFByb3BOYW1lKCBvcmlnTmFtZSApO1xuXHRcdH1cblxuXHRcdC8vIFRyeSBwcmVmaXhlZCBuYW1lIGZvbGxvd2VkIGJ5IHRoZSB1bnByZWZpeGVkIG5hbWVcblx0XHRob29rcyA9IGpRdWVyeS5jc3NIb29rc1sgbmFtZSBdIHx8IGpRdWVyeS5jc3NIb29rc1sgb3JpZ05hbWUgXTtcblxuXHRcdC8vIElmIGEgaG9vayB3YXMgcHJvdmlkZWQgZ2V0IHRoZSBjb21wdXRlZCB2YWx1ZSBmcm9tIHRoZXJlXG5cdFx0aWYgKCBob29rcyAmJiBcImdldFwiIGluIGhvb2tzICkge1xuXHRcdFx0dmFsID0gaG9va3MuZ2V0KCBlbGVtLCB0cnVlLCBleHRyYSApO1xuXHRcdH1cblxuXHRcdC8vIE90aGVyd2lzZSwgaWYgYSB3YXkgdG8gZ2V0IHRoZSBjb21wdXRlZCB2YWx1ZSBleGlzdHMsIHVzZSB0aGF0XG5cdFx0aWYgKCB2YWwgPT09IHVuZGVmaW5lZCApIHtcblx0XHRcdHZhbCA9IGN1ckNTUyggZWxlbSwgbmFtZSwgc3R5bGVzICk7XG5cdFx0fVxuXG5cdFx0Ly8gQ29udmVydCBcIm5vcm1hbFwiIHRvIGNvbXB1dGVkIHZhbHVlXG5cdFx0aWYgKCB2YWwgPT09IFwibm9ybWFsXCIgJiYgbmFtZSBpbiBjc3NOb3JtYWxUcmFuc2Zvcm0gKSB7XG5cdFx0XHR2YWwgPSBjc3NOb3JtYWxUcmFuc2Zvcm1bIG5hbWUgXTtcblx0XHR9XG5cblx0XHQvLyBNYWtlIG51bWVyaWMgaWYgZm9yY2VkIG9yIGEgcXVhbGlmaWVyIHdhcyBwcm92aWRlZCBhbmQgdmFsIGxvb2tzIG51bWVyaWNcblx0XHRpZiAoIGV4dHJhID09PSBcIlwiIHx8IGV4dHJhICkge1xuXHRcdFx0bnVtID0gcGFyc2VGbG9hdCggdmFsICk7XG5cdFx0XHRyZXR1cm4gZXh0cmEgPT09IHRydWUgfHwgaXNGaW5pdGUoIG51bSApID8gbnVtIHx8IDAgOiB2YWw7XG5cdFx0fVxuXG5cdFx0cmV0dXJuIHZhbDtcblx0fVxufSApO1xuXG5qUXVlcnkuZWFjaCggWyBcImhlaWdodFwiLCBcIndpZHRoXCIgXSwgZnVuY3Rpb24oIGksIG5hbWUgKSB7XG5cdGpRdWVyeS5jc3NIb29rc1sgbmFtZSBdID0ge1xuXHRcdGdldDogZnVuY3Rpb24oIGVsZW0sIGNvbXB1dGVkLCBleHRyYSApIHtcblx0XHRcdGlmICggY29tcHV0ZWQgKSB7XG5cblx0XHRcdFx0Ly8gQ2VydGFpbiBlbGVtZW50cyBjYW4gaGF2ZSBkaW1lbnNpb24gaW5mbyBpZiB3ZSBpbnZpc2libHkgc2hvdyB0aGVtXG5cdFx0XHRcdC8vIGJ1dCBpdCBtdXN0IGhhdmUgYSBjdXJyZW50IGRpc3BsYXkgc3R5bGUgdGhhdCB3b3VsZCBiZW5lZml0XG5cdFx0XHRcdHJldHVybiByZGlzcGxheXN3YXAudGVzdCggalF1ZXJ5LmNzcyggZWxlbSwgXCJkaXNwbGF5XCIgKSApICYmXG5cblx0XHRcdFx0XHQvLyBTdXBwb3J0OiBTYWZhcmkgOCtcblx0XHRcdFx0XHQvLyBUYWJsZSBjb2x1bW5zIGluIFNhZmFyaSBoYXZlIG5vbi16ZXJvIG9mZnNldFdpZHRoICYgemVyb1xuXHRcdFx0XHRcdC8vIGdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLndpZHRoIHVubGVzcyBkaXNwbGF5IGlzIGNoYW5nZWQuXG5cdFx0XHRcdFx0Ly8gU3VwcG9ydDogSUUgPD0xMSBvbmx5XG5cdFx0XHRcdFx0Ly8gUnVubmluZyBnZXRCb3VuZGluZ0NsaWVudFJlY3Qgb24gYSBkaXNjb25uZWN0ZWQgbm9kZVxuXHRcdFx0XHRcdC8vIGluIElFIHRocm93cyBhbiBlcnJvci5cblx0XHRcdFx0XHQoICFlbGVtLmdldENsaWVudFJlY3RzKCkubGVuZ3RoIHx8ICFlbGVtLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLndpZHRoICkgP1xuXHRcdFx0XHRcdFx0c3dhcCggZWxlbSwgY3NzU2hvdywgZnVuY3Rpb24oKSB7XG5cdFx0XHRcdFx0XHRcdHJldHVybiBnZXRXaWR0aE9ySGVpZ2h0KCBlbGVtLCBuYW1lLCBleHRyYSApO1xuXHRcdFx0XHRcdFx0fSApIDpcblx0XHRcdFx0XHRcdGdldFdpZHRoT3JIZWlnaHQoIGVsZW0sIG5hbWUsIGV4dHJhICk7XG5cdFx0XHR9XG5cdFx0fSxcblxuXHRcdHNldDogZnVuY3Rpb24oIGVsZW0sIHZhbHVlLCBleHRyYSApIHtcblx0XHRcdHZhciBtYXRjaGVzLFxuXHRcdFx0XHRzdHlsZXMgPSBleHRyYSAmJiBnZXRTdHlsZXMoIGVsZW0gKSxcblx0XHRcdFx0c3VidHJhY3QgPSBleHRyYSAmJiBhdWdtZW50V2lkdGhPckhlaWdodChcblx0XHRcdFx0XHRlbGVtLFxuXHRcdFx0XHRcdG5hbWUsXG5cdFx0XHRcdFx0ZXh0cmEsXG5cdFx0XHRcdFx0alF1ZXJ5LmNzcyggZWxlbSwgXCJib3hTaXppbmdcIiwgZmFsc2UsIHN0eWxlcyApID09PSBcImJvcmRlci1ib3hcIixcblx0XHRcdFx0XHRzdHlsZXNcblx0XHRcdFx0KTtcblxuXHRcdFx0Ly8gQ29udmVydCB0byBwaXhlbHMgaWYgdmFsdWUgYWRqdXN0bWVudCBpcyBuZWVkZWRcblx0XHRcdGlmICggc3VidHJhY3QgJiYgKCBtYXRjaGVzID0gcmNzc051bS5leGVjKCB2YWx1ZSApICkgJiZcblx0XHRcdFx0KCBtYXRjaGVzWyAzIF0gfHwgXCJweFwiICkgIT09IFwicHhcIiApIHtcblxuXHRcdFx0XHRlbGVtLnN0eWxlWyBuYW1lIF0gPSB2YWx1ZTtcblx0XHRcdFx0dmFsdWUgPSBqUXVlcnkuY3NzKCBlbGVtLCBuYW1lICk7XG5cdFx0XHR9XG5cblx0XHRcdHJldHVybiBzZXRQb3NpdGl2ZU51bWJlciggZWxlbSwgdmFsdWUsIHN1YnRyYWN0ICk7XG5cdFx0fVxuXHR9O1xufSApO1xuXG5qUXVlcnkuY3NzSG9va3MubWFyZ2luTGVmdCA9IGFkZEdldEhvb2tJZiggc3VwcG9ydC5yZWxpYWJsZU1hcmdpbkxlZnQsXG5cdGZ1bmN0aW9uKCBlbGVtLCBjb21wdXRlZCApIHtcblx0XHRpZiAoIGNvbXB1dGVkICkge1xuXHRcdFx0cmV0dXJuICggcGFyc2VGbG9hdCggY3VyQ1NTKCBlbGVtLCBcIm1hcmdpbkxlZnRcIiApICkgfHxcblx0XHRcdFx0ZWxlbS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS5sZWZ0IC1cblx0XHRcdFx0XHRzd2FwKCBlbGVtLCB7IG1hcmdpbkxlZnQ6IDAgfSwgZnVuY3Rpb24oKSB7XG5cdFx0XHRcdFx0XHRyZXR1cm4gZWxlbS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS5sZWZ0O1xuXHRcdFx0XHRcdH0gKVxuXHRcdFx0XHQpICsgXCJweFwiO1xuXHRcdH1cblx0fVxuKTtcblxuLy8gVGhlc2UgaG9va3MgYXJlIHVzZWQgYnkgYW5pbWF0ZSB0byBleHBhbmQgcHJvcGVydGllc1xualF1ZXJ5LmVhY2goIHtcblx0bWFyZ2luOiBcIlwiLFxuXHRwYWRkaW5nOiBcIlwiLFxuXHRib3JkZXI6IFwiV2lkdGhcIlxufSwgZnVuY3Rpb24oIHByZWZpeCwgc3VmZml4ICkge1xuXHRqUXVlcnkuY3NzSG9va3NbIHByZWZpeCArIHN1ZmZpeCBdID0ge1xuXHRcdGV4cGFuZDogZnVuY3Rpb24oIHZhbHVlICkge1xuXHRcdFx0dmFyIGkgPSAwLFxuXHRcdFx0XHRleHBhbmRlZCA9IHt9LFxuXG5cdFx0XHRcdC8vIEFzc3VtZXMgYSBzaW5nbGUgbnVtYmVyIGlmIG5vdCBhIHN0cmluZ1xuXHRcdFx0XHRwYXJ0cyA9IHR5cGVvZiB2YWx1ZSA9PT0gXCJzdHJpbmdcIiA/IHZhbHVlLnNwbGl0KCBcIiBcIiApIDogWyB2YWx1ZSBdO1xuXG5cdFx0XHRmb3IgKCA7IGkgPCA0OyBpKysgKSB7XG5cdFx0XHRcdGV4cGFuZGVkWyBwcmVmaXggKyBjc3NFeHBhbmRbIGkgXSArIHN1ZmZpeCBdID1cblx0XHRcdFx0XHRwYXJ0c1sgaSBdIHx8IHBhcnRzWyBpIC0gMiBdIHx8IHBhcnRzWyAwIF07XG5cdFx0XHR9XG5cblx0XHRcdHJldHVybiBleHBhbmRlZDtcblx0XHR9XG5cdH07XG5cblx0aWYgKCAhcm1hcmdpbi50ZXN0KCBwcmVmaXggKSApIHtcblx0XHRqUXVlcnkuY3NzSG9va3NbIHByZWZpeCArIHN1ZmZpeCBdLnNldCA9IHNldFBvc2l0aXZlTnVtYmVyO1xuXHR9XG59ICk7XG5cbmpRdWVyeS5mbi5leHRlbmQoIHtcblx0Y3NzOiBmdW5jdGlvbiggbmFtZSwgdmFsdWUgKSB7XG5cdFx0cmV0dXJuIGFjY2VzcyggdGhpcywgZnVuY3Rpb24oIGVsZW0sIG5hbWUsIHZhbHVlICkge1xuXHRcdFx0dmFyIHN0eWxlcywgbGVuLFxuXHRcdFx0XHRtYXAgPSB7fSxcblx0XHRcdFx0aSA9IDA7XG5cblx0XHRcdGlmICggQXJyYXkuaXNBcnJheSggbmFtZSApICkge1xuXHRcdFx0XHRzdHlsZXMgPSBnZXRTdHlsZXMoIGVsZW0gKTtcblx0XHRcdFx0bGVuID0gbmFtZS5sZW5ndGg7XG5cblx0XHRcdFx0Zm9yICggOyBpIDwgbGVuOyBpKysgKSB7XG5cdFx0XHRcdFx0bWFwWyBuYW1lWyBpIF0gXSA9IGpRdWVyeS5jc3MoIGVsZW0sIG5hbWVbIGkgXSwgZmFsc2UsIHN0eWxlcyApO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0cmV0dXJuIG1hcDtcblx0XHRcdH1cblxuXHRcdFx0cmV0dXJuIHZhbHVlICE9PSB1bmRlZmluZWQgP1xuXHRcdFx0XHRqUXVlcnkuc3R5bGUoIGVsZW0sIG5hbWUsIHZhbHVlICkgOlxuXHRcdFx0XHRqUXVlcnkuY3NzKCBlbGVtLCBuYW1lICk7XG5cdFx0fSwgbmFtZSwgdmFsdWUsIGFyZ3VtZW50cy5sZW5ndGggPiAxICk7XG5cdH1cbn0gKTtcblxuXG5mdW5jdGlvbiBUd2VlbiggZWxlbSwgb3B0aW9ucywgcHJvcCwgZW5kLCBlYXNpbmcgKSB7XG5cdHJldHVybiBuZXcgVHdlZW4ucHJvdG90eXBlLmluaXQoIGVsZW0sIG9wdGlvbnMsIHByb3AsIGVuZCwgZWFzaW5nICk7XG59XG5qUXVlcnkuVHdlZW4gPSBUd2VlbjtcblxuVHdlZW4ucHJvdG90eXBlID0ge1xuXHRjb25zdHJ1Y3RvcjogVHdlZW4sXG5cdGluaXQ6IGZ1bmN0aW9uKCBlbGVtLCBvcHRpb25zLCBwcm9wLCBlbmQsIGVhc2luZywgdW5pdCApIHtcblx0XHR0aGlzLmVsZW0gPSBlbGVtO1xuXHRcdHRoaXMucHJvcCA9IHByb3A7XG5cdFx0dGhpcy5lYXNpbmcgPSBlYXNpbmcgfHwgalF1ZXJ5LmVhc2luZy5fZGVmYXVsdDtcblx0XHR0aGlzLm9wdGlvbnMgPSBvcHRpb25zO1xuXHRcdHRoaXMuc3RhcnQgPSB0aGlzLm5vdyA9IHRoaXMuY3VyKCk7XG5cdFx0dGhpcy5lbmQgPSBlbmQ7XG5cdFx0dGhpcy51bml0ID0gdW5pdCB8fCAoIGpRdWVyeS5jc3NOdW1iZXJbIHByb3AgXSA/IFwiXCIgOiBcInB4XCIgKTtcblx0fSxcblx0Y3VyOiBmdW5jdGlvbigpIHtcblx0XHR2YXIgaG9va3MgPSBUd2Vlbi5wcm9wSG9va3NbIHRoaXMucHJvcCBdO1xuXG5cdFx0cmV0dXJuIGhvb2tzICYmIGhvb2tzLmdldCA/XG5cdFx0XHRob29rcy5nZXQoIHRoaXMgKSA6XG5cdFx0XHRUd2Vlbi5wcm9wSG9va3MuX2RlZmF1bHQuZ2V0KCB0aGlzICk7XG5cdH0sXG5cdHJ1bjogZnVuY3Rpb24oIHBlcmNlbnQgKSB7XG5cdFx0dmFyIGVhc2VkLFxuXHRcdFx0aG9va3MgPSBUd2Vlbi5wcm9wSG9va3NbIHRoaXMucHJvcCBdO1xuXG5cdFx0aWYgKCB0aGlzLm9wdGlvbnMuZHVyYXRpb24gKSB7XG5cdFx0XHR0aGlzLnBvcyA9IGVhc2VkID0galF1ZXJ5LmVhc2luZ1sgdGhpcy5lYXNpbmcgXShcblx0XHRcdFx0cGVyY2VudCwgdGhpcy5vcHRpb25zLmR1cmF0aW9uICogcGVyY2VudCwgMCwgMSwgdGhpcy5vcHRpb25zLmR1cmF0aW9uXG5cdFx0XHQpO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHR0aGlzLnBvcyA9IGVhc2VkID0gcGVyY2VudDtcblx0XHR9XG5cdFx0dGhpcy5ub3cgPSAoIHRoaXMuZW5kIC0gdGhpcy5zdGFydCApICogZWFzZWQgKyB0aGlzLnN0YXJ0O1xuXG5cdFx0aWYgKCB0aGlzLm9wdGlvbnMuc3RlcCApIHtcblx0XHRcdHRoaXMub3B0aW9ucy5zdGVwLmNhbGwoIHRoaXMuZWxlbSwgdGhpcy5ub3csIHRoaXMgKTtcblx0XHR9XG5cblx0XHRpZiAoIGhvb2tzICYmIGhvb2tzLnNldCApIHtcblx0XHRcdGhvb2tzLnNldCggdGhpcyApO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHRUd2Vlbi5wcm9wSG9va3MuX2RlZmF1bHQuc2V0KCB0aGlzICk7XG5cdFx0fVxuXHRcdHJldHVybiB0aGlzO1xuXHR9XG59O1xuXG5Ud2Vlbi5wcm90b3R5cGUuaW5pdC5wcm90b3R5cGUgPSBUd2Vlbi5wcm90b3R5cGU7XG5cblR3ZWVuLnByb3BIb29rcyA9IHtcblx0X2RlZmF1bHQ6IHtcblx0XHRnZXQ6IGZ1bmN0aW9uKCB0d2VlbiApIHtcblx0XHRcdHZhciByZXN1bHQ7XG5cblx0XHRcdC8vIFVzZSBhIHByb3BlcnR5IG9uIHRoZSBlbGVtZW50IGRpcmVjdGx5IHdoZW4gaXQgaXMgbm90IGEgRE9NIGVsZW1lbnQsXG5cdFx0XHQvLyBvciB3aGVuIHRoZXJlIGlzIG5vIG1hdGNoaW5nIHN0eWxlIHByb3BlcnR5IHRoYXQgZXhpc3RzLlxuXHRcdFx0aWYgKCB0d2Vlbi5lbGVtLm5vZGVUeXBlICE9PSAxIHx8XG5cdFx0XHRcdHR3ZWVuLmVsZW1bIHR3ZWVuLnByb3AgXSAhPSBudWxsICYmIHR3ZWVuLmVsZW0uc3R5bGVbIHR3ZWVuLnByb3AgXSA9PSBudWxsICkge1xuXHRcdFx0XHRyZXR1cm4gdHdlZW4uZWxlbVsgdHdlZW4ucHJvcCBdO1xuXHRcdFx0fVxuXG5cdFx0XHQvLyBQYXNzaW5nIGFuIGVtcHR5IHN0cmluZyBhcyBhIDNyZCBwYXJhbWV0ZXIgdG8gLmNzcyB3aWxsIGF1dG9tYXRpY2FsbHlcblx0XHRcdC8vIGF0dGVtcHQgYSBwYXJzZUZsb2F0IGFuZCBmYWxsYmFjayB0byBhIHN0cmluZyBpZiB0aGUgcGFyc2UgZmFpbHMuXG5cdFx0XHQvLyBTaW1wbGUgdmFsdWVzIHN1Y2ggYXMgXCIxMHB4XCIgYXJlIHBhcnNlZCB0byBGbG9hdDtcblx0XHRcdC8vIGNvbXBsZXggdmFsdWVzIHN1Y2ggYXMgXCJyb3RhdGUoMXJhZClcIiBhcmUgcmV0dXJuZWQgYXMtaXMuXG5cdFx0XHRyZXN1bHQgPSBqUXVlcnkuY3NzKCB0d2Vlbi5lbGVtLCB0d2Vlbi5wcm9wLCBcIlwiICk7XG5cblx0XHRcdC8vIEVtcHR5IHN0cmluZ3MsIG51bGwsIHVuZGVmaW5lZCBhbmQgXCJhdXRvXCIgYXJlIGNvbnZlcnRlZCB0byAwLlxuXHRcdFx0cmV0dXJuICFyZXN1bHQgfHwgcmVzdWx0ID09PSBcImF1dG9cIiA/IDAgOiByZXN1bHQ7XG5cdFx0fSxcblx0XHRzZXQ6IGZ1bmN0aW9uKCB0d2VlbiApIHtcblxuXHRcdFx0Ly8gVXNlIHN0ZXAgaG9vayBmb3IgYmFjayBjb21wYXQuXG5cdFx0XHQvLyBVc2UgY3NzSG9vayBpZiBpdHMgdGhlcmUuXG5cdFx0XHQvLyBVc2UgLnN0eWxlIGlmIGF2YWlsYWJsZSBhbmQgdXNlIHBsYWluIHByb3BlcnRpZXMgd2hlcmUgYXZhaWxhYmxlLlxuXHRcdFx0aWYgKCBqUXVlcnkuZnguc3RlcFsgdHdlZW4ucHJvcCBdICkge1xuXHRcdFx0XHRqUXVlcnkuZnguc3RlcFsgdHdlZW4ucHJvcCBdKCB0d2VlbiApO1xuXHRcdFx0fSBlbHNlIGlmICggdHdlZW4uZWxlbS5ub2RlVHlwZSA9PT0gMSAmJlxuXHRcdFx0XHQoIHR3ZWVuLmVsZW0uc3R5bGVbIGpRdWVyeS5jc3NQcm9wc1sgdHdlZW4ucHJvcCBdIF0gIT0gbnVsbCB8fFxuXHRcdFx0XHRcdGpRdWVyeS5jc3NIb29rc1sgdHdlZW4ucHJvcCBdICkgKSB7XG5cdFx0XHRcdGpRdWVyeS5zdHlsZSggdHdlZW4uZWxlbSwgdHdlZW4ucHJvcCwgdHdlZW4ubm93ICsgdHdlZW4udW5pdCApO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0dHdlZW4uZWxlbVsgdHdlZW4ucHJvcCBdID0gdHdlZW4ubm93O1xuXHRcdFx0fVxuXHRcdH1cblx0fVxufTtcblxuLy8gU3VwcG9ydDogSUUgPD05IG9ubHlcbi8vIFBhbmljIGJhc2VkIGFwcHJvYWNoIHRvIHNldHRpbmcgdGhpbmdzIG9uIGRpc2Nvbm5lY3RlZCBub2Rlc1xuVHdlZW4ucHJvcEhvb2tzLnNjcm9sbFRvcCA9IFR3ZWVuLnByb3BIb29rcy5zY3JvbGxMZWZ0ID0ge1xuXHRzZXQ6IGZ1bmN0aW9uKCB0d2VlbiApIHtcblx0XHRpZiAoIHR3ZWVuLmVsZW0ubm9kZVR5cGUgJiYgdHdlZW4uZWxlbS5wYXJlbnROb2RlICkge1xuXHRcdFx0dHdlZW4uZWxlbVsgdHdlZW4ucHJvcCBdID0gdHdlZW4ubm93O1xuXHRcdH1cblx0fVxufTtcblxualF1ZXJ5LmVhc2luZyA9IHtcblx0bGluZWFyOiBmdW5jdGlvbiggcCApIHtcblx0XHRyZXR1cm4gcDtcblx0fSxcblx0c3dpbmc6IGZ1bmN0aW9uKCBwICkge1xuXHRcdHJldHVybiAwLjUgLSBNYXRoLmNvcyggcCAqIE1hdGguUEkgKSAvIDI7XG5cdH0sXG5cdF9kZWZhdWx0OiBcInN3aW5nXCJcbn07XG5cbmpRdWVyeS5meCA9IFR3ZWVuLnByb3RvdHlwZS5pbml0O1xuXG4vLyBCYWNrIGNvbXBhdCA8MS44IGV4dGVuc2lvbiBwb2ludFxualF1ZXJ5LmZ4LnN0ZXAgPSB7fTtcblxuXG5cblxudmFyXG5cdGZ4Tm93LCBpblByb2dyZXNzLFxuXHRyZnh0eXBlcyA9IC9eKD86dG9nZ2xlfHNob3d8aGlkZSkkLyxcblx0cnJ1biA9IC9xdWV1ZUhvb2tzJC87XG5cbmZ1bmN0aW9uIHNjaGVkdWxlKCkge1xuXHRpZiAoIGluUHJvZ3Jlc3MgKSB7XG5cdFx0aWYgKCBkb2N1bWVudC5oaWRkZW4gPT09IGZhbHNlICYmIHdpbmRvdy5yZXF1ZXN0QW5pbWF0aW9uRnJhbWUgKSB7XG5cdFx0XHR3aW5kb3cucmVxdWVzdEFuaW1hdGlvbkZyYW1lKCBzY2hlZHVsZSApO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHR3aW5kb3cuc2V0VGltZW91dCggc2NoZWR1bGUsIGpRdWVyeS5meC5pbnRlcnZhbCApO1xuXHRcdH1cblxuXHRcdGpRdWVyeS5meC50aWNrKCk7XG5cdH1cbn1cblxuLy8gQW5pbWF0aW9ucyBjcmVhdGVkIHN5bmNocm9ub3VzbHkgd2lsbCBydW4gc3luY2hyb25vdXNseVxuZnVuY3Rpb24gY3JlYXRlRnhOb3coKSB7XG5cdHdpbmRvdy5zZXRUaW1lb3V0KCBmdW5jdGlvbigpIHtcblx0XHRmeE5vdyA9IHVuZGVmaW5lZDtcblx0fSApO1xuXHRyZXR1cm4gKCBmeE5vdyA9IGpRdWVyeS5ub3coKSApO1xufVxuXG4vLyBHZW5lcmF0ZSBwYXJhbWV0ZXJzIHRvIGNyZWF0ZSBhIHN0YW5kYXJkIGFuaW1hdGlvblxuZnVuY3Rpb24gZ2VuRngoIHR5cGUsIGluY2x1ZGVXaWR0aCApIHtcblx0dmFyIHdoaWNoLFxuXHRcdGkgPSAwLFxuXHRcdGF0dHJzID0geyBoZWlnaHQ6IHR5cGUgfTtcblxuXHQvLyBJZiB3ZSBpbmNsdWRlIHdpZHRoLCBzdGVwIHZhbHVlIGlzIDEgdG8gZG8gYWxsIGNzc0V4cGFuZCB2YWx1ZXMsXG5cdC8vIG90aGVyd2lzZSBzdGVwIHZhbHVlIGlzIDIgdG8gc2tpcCBvdmVyIExlZnQgYW5kIFJpZ2h0XG5cdGluY2x1ZGVXaWR0aCA9IGluY2x1ZGVXaWR0aCA/IDEgOiAwO1xuXHRmb3IgKCA7IGkgPCA0OyBpICs9IDIgLSBpbmNsdWRlV2lkdGggKSB7XG5cdFx0d2hpY2ggPSBjc3NFeHBhbmRbIGkgXTtcblx0XHRhdHRyc1sgXCJtYXJnaW5cIiArIHdoaWNoIF0gPSBhdHRyc1sgXCJwYWRkaW5nXCIgKyB3aGljaCBdID0gdHlwZTtcblx0fVxuXG5cdGlmICggaW5jbHVkZVdpZHRoICkge1xuXHRcdGF0dHJzLm9wYWNpdHkgPSBhdHRycy53aWR0aCA9IHR5cGU7XG5cdH1cblxuXHRyZXR1cm4gYXR0cnM7XG59XG5cbmZ1bmN0aW9uIGNyZWF0ZVR3ZWVuKCB2YWx1ZSwgcHJvcCwgYW5pbWF0aW9uICkge1xuXHR2YXIgdHdlZW4sXG5cdFx0Y29sbGVjdGlvbiA9ICggQW5pbWF0aW9uLnR3ZWVuZXJzWyBwcm9wIF0gfHwgW10gKS5jb25jYXQoIEFuaW1hdGlvbi50d2VlbmVyc1sgXCIqXCIgXSApLFxuXHRcdGluZGV4ID0gMCxcblx0XHRsZW5ndGggPSBjb2xsZWN0aW9uLmxlbmd0aDtcblx0Zm9yICggOyBpbmRleCA8IGxlbmd0aDsgaW5kZXgrKyApIHtcblx0XHRpZiAoICggdHdlZW4gPSBjb2xsZWN0aW9uWyBpbmRleCBdLmNhbGwoIGFuaW1hdGlvbiwgcHJvcCwgdmFsdWUgKSApICkge1xuXG5cdFx0XHQvLyBXZSdyZSBkb25lIHdpdGggdGhpcyBwcm9wZXJ0eVxuXHRcdFx0cmV0dXJuIHR3ZWVuO1xuXHRcdH1cblx0fVxufVxuXG5mdW5jdGlvbiBkZWZhdWx0UHJlZmlsdGVyKCBlbGVtLCBwcm9wcywgb3B0cyApIHtcblx0dmFyIHByb3AsIHZhbHVlLCB0b2dnbGUsIGhvb2tzLCBvbGRmaXJlLCBwcm9wVHdlZW4sIHJlc3RvcmVEaXNwbGF5LCBkaXNwbGF5LFxuXHRcdGlzQm94ID0gXCJ3aWR0aFwiIGluIHByb3BzIHx8IFwiaGVpZ2h0XCIgaW4gcHJvcHMsXG5cdFx0YW5pbSA9IHRoaXMsXG5cdFx0b3JpZyA9IHt9LFxuXHRcdHN0eWxlID0gZWxlbS5zdHlsZSxcblx0XHRoaWRkZW4gPSBlbGVtLm5vZGVUeXBlICYmIGlzSGlkZGVuV2l0aGluVHJlZSggZWxlbSApLFxuXHRcdGRhdGFTaG93ID0gZGF0YVByaXYuZ2V0KCBlbGVtLCBcImZ4c2hvd1wiICk7XG5cblx0Ly8gUXVldWUtc2tpcHBpbmcgYW5pbWF0aW9ucyBoaWphY2sgdGhlIGZ4IGhvb2tzXG5cdGlmICggIW9wdHMucXVldWUgKSB7XG5cdFx0aG9va3MgPSBqUXVlcnkuX3F1ZXVlSG9va3MoIGVsZW0sIFwiZnhcIiApO1xuXHRcdGlmICggaG9va3MudW5xdWV1ZWQgPT0gbnVsbCApIHtcblx0XHRcdGhvb2tzLnVucXVldWVkID0gMDtcblx0XHRcdG9sZGZpcmUgPSBob29rcy5lbXB0eS5maXJlO1xuXHRcdFx0aG9va3MuZW1wdHkuZmlyZSA9IGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRpZiAoICFob29rcy51bnF1ZXVlZCApIHtcblx0XHRcdFx0XHRvbGRmaXJlKCk7XG5cdFx0XHRcdH1cblx0XHRcdH07XG5cdFx0fVxuXHRcdGhvb2tzLnVucXVldWVkKys7XG5cblx0XHRhbmltLmFsd2F5cyggZnVuY3Rpb24oKSB7XG5cblx0XHRcdC8vIEVuc3VyZSB0aGUgY29tcGxldGUgaGFuZGxlciBpcyBjYWxsZWQgYmVmb3JlIHRoaXMgY29tcGxldGVzXG5cdFx0XHRhbmltLmFsd2F5cyggZnVuY3Rpb24oKSB7XG5cdFx0XHRcdGhvb2tzLnVucXVldWVkLS07XG5cdFx0XHRcdGlmICggIWpRdWVyeS5xdWV1ZSggZWxlbSwgXCJmeFwiICkubGVuZ3RoICkge1xuXHRcdFx0XHRcdGhvb2tzLmVtcHR5LmZpcmUoKTtcblx0XHRcdFx0fVxuXHRcdFx0fSApO1xuXHRcdH0gKTtcblx0fVxuXG5cdC8vIERldGVjdCBzaG93L2hpZGUgYW5pbWF0aW9uc1xuXHRmb3IgKCBwcm9wIGluIHByb3BzICkge1xuXHRcdHZhbHVlID0gcHJvcHNbIHByb3AgXTtcblx0XHRpZiAoIHJmeHR5cGVzLnRlc3QoIHZhbHVlICkgKSB7XG5cdFx0XHRkZWxldGUgcHJvcHNbIHByb3AgXTtcblx0XHRcdHRvZ2dsZSA9IHRvZ2dsZSB8fCB2YWx1ZSA9PT0gXCJ0b2dnbGVcIjtcblx0XHRcdGlmICggdmFsdWUgPT09ICggaGlkZGVuID8gXCJoaWRlXCIgOiBcInNob3dcIiApICkge1xuXG5cdFx0XHRcdC8vIFByZXRlbmQgdG8gYmUgaGlkZGVuIGlmIHRoaXMgaXMgYSBcInNob3dcIiBhbmRcblx0XHRcdFx0Ly8gdGhlcmUgaXMgc3RpbGwgZGF0YSBmcm9tIGEgc3RvcHBlZCBzaG93L2hpZGVcblx0XHRcdFx0aWYgKCB2YWx1ZSA9PT0gXCJzaG93XCIgJiYgZGF0YVNob3cgJiYgZGF0YVNob3dbIHByb3AgXSAhPT0gdW5kZWZpbmVkICkge1xuXHRcdFx0XHRcdGhpZGRlbiA9IHRydWU7XG5cblx0XHRcdFx0Ly8gSWdub3JlIGFsbCBvdGhlciBuby1vcCBzaG93L2hpZGUgZGF0YVxuXHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdGNvbnRpbnVlO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0XHRvcmlnWyBwcm9wIF0gPSBkYXRhU2hvdyAmJiBkYXRhU2hvd1sgcHJvcCBdIHx8IGpRdWVyeS5zdHlsZSggZWxlbSwgcHJvcCApO1xuXHRcdH1cblx0fVxuXG5cdC8vIEJhaWwgb3V0IGlmIHRoaXMgaXMgYSBuby1vcCBsaWtlIC5oaWRlKCkuaGlkZSgpXG5cdHByb3BUd2VlbiA9ICFqUXVlcnkuaXNFbXB0eU9iamVjdCggcHJvcHMgKTtcblx0aWYgKCAhcHJvcFR3ZWVuICYmIGpRdWVyeS5pc0VtcHR5T2JqZWN0KCBvcmlnICkgKSB7XG5cdFx0cmV0dXJuO1xuXHR9XG5cblx0Ly8gUmVzdHJpY3QgXCJvdmVyZmxvd1wiIGFuZCBcImRpc3BsYXlcIiBzdHlsZXMgZHVyaW5nIGJveCBhbmltYXRpb25zXG5cdGlmICggaXNCb3ggJiYgZWxlbS5ub2RlVHlwZSA9PT0gMSApIHtcblxuXHRcdC8vIFN1cHBvcnQ6IElFIDw9OSAtIDExLCBFZGdlIDEyIC0gMTNcblx0XHQvLyBSZWNvcmQgYWxsIDMgb3ZlcmZsb3cgYXR0cmlidXRlcyBiZWNhdXNlIElFIGRvZXMgbm90IGluZmVyIHRoZSBzaG9ydGhhbmRcblx0XHQvLyBmcm9tIGlkZW50aWNhbGx5LXZhbHVlZCBvdmVyZmxvd1ggYW5kIG92ZXJmbG93WVxuXHRcdG9wdHMub3ZlcmZsb3cgPSBbIHN0eWxlLm92ZXJmbG93LCBzdHlsZS5vdmVyZmxvd1gsIHN0eWxlLm92ZXJmbG93WSBdO1xuXG5cdFx0Ly8gSWRlbnRpZnkgYSBkaXNwbGF5IHR5cGUsIHByZWZlcnJpbmcgb2xkIHNob3cvaGlkZSBkYXRhIG92ZXIgdGhlIENTUyBjYXNjYWRlXG5cdFx0cmVzdG9yZURpc3BsYXkgPSBkYXRhU2hvdyAmJiBkYXRhU2hvdy5kaXNwbGF5O1xuXHRcdGlmICggcmVzdG9yZURpc3BsYXkgPT0gbnVsbCApIHtcblx0XHRcdHJlc3RvcmVEaXNwbGF5ID0gZGF0YVByaXYuZ2V0KCBlbGVtLCBcImRpc3BsYXlcIiApO1xuXHRcdH1cblx0XHRkaXNwbGF5ID0galF1ZXJ5LmNzcyggZWxlbSwgXCJkaXNwbGF5XCIgKTtcblx0XHRpZiAoIGRpc3BsYXkgPT09IFwibm9uZVwiICkge1xuXHRcdFx0aWYgKCByZXN0b3JlRGlzcGxheSApIHtcblx0XHRcdFx0ZGlzcGxheSA9IHJlc3RvcmVEaXNwbGF5O1xuXHRcdFx0fSBlbHNlIHtcblxuXHRcdFx0XHQvLyBHZXQgbm9uZW1wdHkgdmFsdWUocykgYnkgdGVtcG9yYXJpbHkgZm9yY2luZyB2aXNpYmlsaXR5XG5cdFx0XHRcdHNob3dIaWRlKCBbIGVsZW0gXSwgdHJ1ZSApO1xuXHRcdFx0XHRyZXN0b3JlRGlzcGxheSA9IGVsZW0uc3R5bGUuZGlzcGxheSB8fCByZXN0b3JlRGlzcGxheTtcblx0XHRcdFx0ZGlzcGxheSA9IGpRdWVyeS5jc3MoIGVsZW0sIFwiZGlzcGxheVwiICk7XG5cdFx0XHRcdHNob3dIaWRlKCBbIGVsZW0gXSApO1xuXHRcdFx0fVxuXHRcdH1cblxuXHRcdC8vIEFuaW1hdGUgaW5saW5lIGVsZW1lbnRzIGFzIGlubGluZS1ibG9ja1xuXHRcdGlmICggZGlzcGxheSA9PT0gXCJpbmxpbmVcIiB8fCBkaXNwbGF5ID09PSBcImlubGluZS1ibG9ja1wiICYmIHJlc3RvcmVEaXNwbGF5ICE9IG51bGwgKSB7XG5cdFx0XHRpZiAoIGpRdWVyeS5jc3MoIGVsZW0sIFwiZmxvYXRcIiApID09PSBcIm5vbmVcIiApIHtcblxuXHRcdFx0XHQvLyBSZXN0b3JlIHRoZSBvcmlnaW5hbCBkaXNwbGF5IHZhbHVlIGF0IHRoZSBlbmQgb2YgcHVyZSBzaG93L2hpZGUgYW5pbWF0aW9uc1xuXHRcdFx0XHRpZiAoICFwcm9wVHdlZW4gKSB7XG5cdFx0XHRcdFx0YW5pbS5kb25lKCBmdW5jdGlvbigpIHtcblx0XHRcdFx0XHRcdHN0eWxlLmRpc3BsYXkgPSByZXN0b3JlRGlzcGxheTtcblx0XHRcdFx0XHR9ICk7XG5cdFx0XHRcdFx0aWYgKCByZXN0b3JlRGlzcGxheSA9PSBudWxsICkge1xuXHRcdFx0XHRcdFx0ZGlzcGxheSA9IHN0eWxlLmRpc3BsYXk7XG5cdFx0XHRcdFx0XHRyZXN0b3JlRGlzcGxheSA9IGRpc3BsYXkgPT09IFwibm9uZVwiID8gXCJcIiA6IGRpc3BsYXk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cdFx0XHRcdHN0eWxlLmRpc3BsYXkgPSBcImlubGluZS1ibG9ja1wiO1xuXHRcdFx0fVxuXHRcdH1cblx0fVxuXG5cdGlmICggb3B0cy5vdmVyZmxvdyApIHtcblx0XHRzdHlsZS5vdmVyZmxvdyA9IFwiaGlkZGVuXCI7XG5cdFx0YW5pbS5hbHdheXMoIGZ1bmN0aW9uKCkge1xuXHRcdFx0c3R5bGUub3ZlcmZsb3cgPSBvcHRzLm92ZXJmbG93WyAwIF07XG5cdFx0XHRzdHlsZS5vdmVyZmxvd1ggPSBvcHRzLm92ZXJmbG93WyAxIF07XG5cdFx0XHRzdHlsZS5vdmVyZmxvd1kgPSBvcHRzLm92ZXJmbG93WyAyIF07XG5cdFx0fSApO1xuXHR9XG5cblx0Ly8gSW1wbGVtZW50IHNob3cvaGlkZSBhbmltYXRpb25zXG5cdHByb3BUd2VlbiA9IGZhbHNlO1xuXHRmb3IgKCBwcm9wIGluIG9yaWcgKSB7XG5cblx0XHQvLyBHZW5lcmFsIHNob3cvaGlkZSBzZXR1cCBmb3IgdGhpcyBlbGVtZW50IGFuaW1hdGlvblxuXHRcdGlmICggIXByb3BUd2VlbiApIHtcblx0XHRcdGlmICggZGF0YVNob3cgKSB7XG5cdFx0XHRcdGlmICggXCJoaWRkZW5cIiBpbiBkYXRhU2hvdyApIHtcblx0XHRcdFx0XHRoaWRkZW4gPSBkYXRhU2hvdy5oaWRkZW47XG5cdFx0XHRcdH1cblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdGRhdGFTaG93ID0gZGF0YVByaXYuYWNjZXNzKCBlbGVtLCBcImZ4c2hvd1wiLCB7IGRpc3BsYXk6IHJlc3RvcmVEaXNwbGF5IH0gKTtcblx0XHRcdH1cblxuXHRcdFx0Ly8gU3RvcmUgaGlkZGVuL3Zpc2libGUgZm9yIHRvZ2dsZSBzbyBgLnN0b3AoKS50b2dnbGUoKWAgXCJyZXZlcnNlc1wiXG5cdFx0XHRpZiAoIHRvZ2dsZSApIHtcblx0XHRcdFx0ZGF0YVNob3cuaGlkZGVuID0gIWhpZGRlbjtcblx0XHRcdH1cblxuXHRcdFx0Ly8gU2hvdyBlbGVtZW50cyBiZWZvcmUgYW5pbWF0aW5nIHRoZW1cblx0XHRcdGlmICggaGlkZGVuICkge1xuXHRcdFx0XHRzaG93SGlkZSggWyBlbGVtIF0sIHRydWUgKTtcblx0XHRcdH1cblxuXHRcdFx0LyogZXNsaW50LWRpc2FibGUgbm8tbG9vcC1mdW5jICovXG5cblx0XHRcdGFuaW0uZG9uZSggZnVuY3Rpb24oKSB7XG5cblx0XHRcdC8qIGVzbGludC1lbmFibGUgbm8tbG9vcC1mdW5jICovXG5cblx0XHRcdFx0Ly8gVGhlIGZpbmFsIHN0ZXAgb2YgYSBcImhpZGVcIiBhbmltYXRpb24gaXMgYWN0dWFsbHkgaGlkaW5nIHRoZSBlbGVtZW50XG5cdFx0XHRcdGlmICggIWhpZGRlbiApIHtcblx0XHRcdFx0XHRzaG93SGlkZSggWyBlbGVtIF0gKTtcblx0XHRcdFx0fVxuXHRcdFx0XHRkYXRhUHJpdi5yZW1vdmUoIGVsZW0sIFwiZnhzaG93XCIgKTtcblx0XHRcdFx0Zm9yICggcHJvcCBpbiBvcmlnICkge1xuXHRcdFx0XHRcdGpRdWVyeS5zdHlsZSggZWxlbSwgcHJvcCwgb3JpZ1sgcHJvcCBdICk7XG5cdFx0XHRcdH1cblx0XHRcdH0gKTtcblx0XHR9XG5cblx0XHQvLyBQZXItcHJvcGVydHkgc2V0dXBcblx0XHRwcm9wVHdlZW4gPSBjcmVhdGVUd2VlbiggaGlkZGVuID8gZGF0YVNob3dbIHByb3AgXSA6IDAsIHByb3AsIGFuaW0gKTtcblx0XHRpZiAoICEoIHByb3AgaW4gZGF0YVNob3cgKSApIHtcblx0XHRcdGRhdGFTaG93WyBwcm9wIF0gPSBwcm9wVHdlZW4uc3RhcnQ7XG5cdFx0XHRpZiAoIGhpZGRlbiApIHtcblx0XHRcdFx0cHJvcFR3ZWVuLmVuZCA9IHByb3BUd2Vlbi5zdGFydDtcblx0XHRcdFx0cHJvcFR3ZWVuLnN0YXJ0ID0gMDtcblx0XHRcdH1cblx0XHR9XG5cdH1cbn1cblxuZnVuY3Rpb24gcHJvcEZpbHRlciggcHJvcHMsIHNwZWNpYWxFYXNpbmcgKSB7XG5cdHZhciBpbmRleCwgbmFtZSwgZWFzaW5nLCB2YWx1ZSwgaG9va3M7XG5cblx0Ly8gY2FtZWxDYXNlLCBzcGVjaWFsRWFzaW5nIGFuZCBleHBhbmQgY3NzSG9vayBwYXNzXG5cdGZvciAoIGluZGV4IGluIHByb3BzICkge1xuXHRcdG5hbWUgPSBqUXVlcnkuY2FtZWxDYXNlKCBpbmRleCApO1xuXHRcdGVhc2luZyA9IHNwZWNpYWxFYXNpbmdbIG5hbWUgXTtcblx0XHR2YWx1ZSA9IHByb3BzWyBpbmRleCBdO1xuXHRcdGlmICggQXJyYXkuaXNBcnJheSggdmFsdWUgKSApIHtcblx0XHRcdGVhc2luZyA9IHZhbHVlWyAxIF07XG5cdFx0XHR2YWx1ZSA9IHByb3BzWyBpbmRleCBdID0gdmFsdWVbIDAgXTtcblx0XHR9XG5cblx0XHRpZiAoIGluZGV4ICE9PSBuYW1lICkge1xuXHRcdFx0cHJvcHNbIG5hbWUgXSA9IHZhbHVlO1xuXHRcdFx0ZGVsZXRlIHByb3BzWyBpbmRleCBdO1xuXHRcdH1cblxuXHRcdGhvb2tzID0galF1ZXJ5LmNzc0hvb2tzWyBuYW1lIF07XG5cdFx0aWYgKCBob29rcyAmJiBcImV4cGFuZFwiIGluIGhvb2tzICkge1xuXHRcdFx0dmFsdWUgPSBob29rcy5leHBhbmQoIHZhbHVlICk7XG5cdFx0XHRkZWxldGUgcHJvcHNbIG5hbWUgXTtcblxuXHRcdFx0Ly8gTm90IHF1aXRlICQuZXh0ZW5kLCB0aGlzIHdvbid0IG92ZXJ3cml0ZSBleGlzdGluZyBrZXlzLlxuXHRcdFx0Ly8gUmV1c2luZyAnaW5kZXgnIGJlY2F1c2Ugd2UgaGF2ZSB0aGUgY29ycmVjdCBcIm5hbWVcIlxuXHRcdFx0Zm9yICggaW5kZXggaW4gdmFsdWUgKSB7XG5cdFx0XHRcdGlmICggISggaW5kZXggaW4gcHJvcHMgKSApIHtcblx0XHRcdFx0XHRwcm9wc1sgaW5kZXggXSA9IHZhbHVlWyBpbmRleCBdO1xuXHRcdFx0XHRcdHNwZWNpYWxFYXNpbmdbIGluZGV4IF0gPSBlYXNpbmc7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9IGVsc2Uge1xuXHRcdFx0c3BlY2lhbEVhc2luZ1sgbmFtZSBdID0gZWFzaW5nO1xuXHRcdH1cblx0fVxufVxuXG5mdW5jdGlvbiBBbmltYXRpb24oIGVsZW0sIHByb3BlcnRpZXMsIG9wdGlvbnMgKSB7XG5cdHZhciByZXN1bHQsXG5cdFx0c3RvcHBlZCxcblx0XHRpbmRleCA9IDAsXG5cdFx0bGVuZ3RoID0gQW5pbWF0aW9uLnByZWZpbHRlcnMubGVuZ3RoLFxuXHRcdGRlZmVycmVkID0galF1ZXJ5LkRlZmVycmVkKCkuYWx3YXlzKCBmdW5jdGlvbigpIHtcblxuXHRcdFx0Ly8gRG9uJ3QgbWF0Y2ggZWxlbSBpbiB0aGUgOmFuaW1hdGVkIHNlbGVjdG9yXG5cdFx0XHRkZWxldGUgdGljay5lbGVtO1xuXHRcdH0gKSxcblx0XHR0aWNrID0gZnVuY3Rpb24oKSB7XG5cdFx0XHRpZiAoIHN0b3BwZWQgKSB7XG5cdFx0XHRcdHJldHVybiBmYWxzZTtcblx0XHRcdH1cblx0XHRcdHZhciBjdXJyZW50VGltZSA9IGZ4Tm93IHx8IGNyZWF0ZUZ4Tm93KCksXG5cdFx0XHRcdHJlbWFpbmluZyA9IE1hdGgubWF4KCAwLCBhbmltYXRpb24uc3RhcnRUaW1lICsgYW5pbWF0aW9uLmR1cmF0aW9uIC0gY3VycmVudFRpbWUgKSxcblxuXHRcdFx0XHQvLyBTdXBwb3J0OiBBbmRyb2lkIDIuMyBvbmx5XG5cdFx0XHRcdC8vIEFyY2hhaWMgY3Jhc2ggYnVnIHdvbid0IGFsbG93IHVzIHRvIHVzZSBgMSAtICggMC41IHx8IDAgKWAgKCMxMjQ5Nylcblx0XHRcdFx0dGVtcCA9IHJlbWFpbmluZyAvIGFuaW1hdGlvbi5kdXJhdGlvbiB8fCAwLFxuXHRcdFx0XHRwZXJjZW50ID0gMSAtIHRlbXAsXG5cdFx0XHRcdGluZGV4ID0gMCxcblx0XHRcdFx0bGVuZ3RoID0gYW5pbWF0aW9uLnR3ZWVucy5sZW5ndGg7XG5cblx0XHRcdGZvciAoIDsgaW5kZXggPCBsZW5ndGg7IGluZGV4KysgKSB7XG5cdFx0XHRcdGFuaW1hdGlvbi50d2VlbnNbIGluZGV4IF0ucnVuKCBwZXJjZW50ICk7XG5cdFx0XHR9XG5cblx0XHRcdGRlZmVycmVkLm5vdGlmeVdpdGgoIGVsZW0sIFsgYW5pbWF0aW9uLCBwZXJjZW50LCByZW1haW5pbmcgXSApO1xuXG5cdFx0XHQvLyBJZiB0aGVyZSdzIG1vcmUgdG8gZG8sIHlpZWxkXG5cdFx0XHRpZiAoIHBlcmNlbnQgPCAxICYmIGxlbmd0aCApIHtcblx0XHRcdFx0cmV0dXJuIHJlbWFpbmluZztcblx0XHRcdH1cblxuXHRcdFx0Ly8gSWYgdGhpcyB3YXMgYW4gZW1wdHkgYW5pbWF0aW9uLCBzeW50aGVzaXplIGEgZmluYWwgcHJvZ3Jlc3Mgbm90aWZpY2F0aW9uXG5cdFx0XHRpZiAoICFsZW5ndGggKSB7XG5cdFx0XHRcdGRlZmVycmVkLm5vdGlmeVdpdGgoIGVsZW0sIFsgYW5pbWF0aW9uLCAxLCAwIF0gKTtcblx0XHRcdH1cblxuXHRcdFx0Ly8gUmVzb2x2ZSB0aGUgYW5pbWF0aW9uIGFuZCByZXBvcnQgaXRzIGNvbmNsdXNpb25cblx0XHRcdGRlZmVycmVkLnJlc29sdmVXaXRoKCBlbGVtLCBbIGFuaW1hdGlvbiBdICk7XG5cdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0fSxcblx0XHRhbmltYXRpb24gPSBkZWZlcnJlZC5wcm9taXNlKCB7XG5cdFx0XHRlbGVtOiBlbGVtLFxuXHRcdFx0cHJvcHM6IGpRdWVyeS5leHRlbmQoIHt9LCBwcm9wZXJ0aWVzICksXG5cdFx0XHRvcHRzOiBqUXVlcnkuZXh0ZW5kKCB0cnVlLCB7XG5cdFx0XHRcdHNwZWNpYWxFYXNpbmc6IHt9LFxuXHRcdFx0XHRlYXNpbmc6IGpRdWVyeS5lYXNpbmcuX2RlZmF1bHRcblx0XHRcdH0sIG9wdGlvbnMgKSxcblx0XHRcdG9yaWdpbmFsUHJvcGVydGllczogcHJvcGVydGllcyxcblx0XHRcdG9yaWdpbmFsT3B0aW9uczogb3B0aW9ucyxcblx0XHRcdHN0YXJ0VGltZTogZnhOb3cgfHwgY3JlYXRlRnhOb3coKSxcblx0XHRcdGR1cmF0aW9uOiBvcHRpb25zLmR1cmF0aW9uLFxuXHRcdFx0dHdlZW5zOiBbXSxcblx0XHRcdGNyZWF0ZVR3ZWVuOiBmdW5jdGlvbiggcHJvcCwgZW5kICkge1xuXHRcdFx0XHR2YXIgdHdlZW4gPSBqUXVlcnkuVHdlZW4oIGVsZW0sIGFuaW1hdGlvbi5vcHRzLCBwcm9wLCBlbmQsXG5cdFx0XHRcdFx0XHRhbmltYXRpb24ub3B0cy5zcGVjaWFsRWFzaW5nWyBwcm9wIF0gfHwgYW5pbWF0aW9uLm9wdHMuZWFzaW5nICk7XG5cdFx0XHRcdGFuaW1hdGlvbi50d2VlbnMucHVzaCggdHdlZW4gKTtcblx0XHRcdFx0cmV0dXJuIHR3ZWVuO1xuXHRcdFx0fSxcblx0XHRcdHN0b3A6IGZ1bmN0aW9uKCBnb3RvRW5kICkge1xuXHRcdFx0XHR2YXIgaW5kZXggPSAwLFxuXG5cdFx0XHRcdFx0Ly8gSWYgd2UgYXJlIGdvaW5nIHRvIHRoZSBlbmQsIHdlIHdhbnQgdG8gcnVuIGFsbCB0aGUgdHdlZW5zXG5cdFx0XHRcdFx0Ly8gb3RoZXJ3aXNlIHdlIHNraXAgdGhpcyBwYXJ0XG5cdFx0XHRcdFx0bGVuZ3RoID0gZ290b0VuZCA/IGFuaW1hdGlvbi50d2VlbnMubGVuZ3RoIDogMDtcblx0XHRcdFx0aWYgKCBzdG9wcGVkICkge1xuXHRcdFx0XHRcdHJldHVybiB0aGlzO1xuXHRcdFx0XHR9XG5cdFx0XHRcdHN0b3BwZWQgPSB0cnVlO1xuXHRcdFx0XHRmb3IgKCA7IGluZGV4IDwgbGVuZ3RoOyBpbmRleCsrICkge1xuXHRcdFx0XHRcdGFuaW1hdGlvbi50d2VlbnNbIGluZGV4IF0ucnVuKCAxICk7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHQvLyBSZXNvbHZlIHdoZW4gd2UgcGxheWVkIHRoZSBsYXN0IGZyYW1lOyBvdGhlcndpc2UsIHJlamVjdFxuXHRcdFx0XHRpZiAoIGdvdG9FbmQgKSB7XG5cdFx0XHRcdFx0ZGVmZXJyZWQubm90aWZ5V2l0aCggZWxlbSwgWyBhbmltYXRpb24sIDEsIDAgXSApO1xuXHRcdFx0XHRcdGRlZmVycmVkLnJlc29sdmVXaXRoKCBlbGVtLCBbIGFuaW1hdGlvbiwgZ290b0VuZCBdICk7XG5cdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0ZGVmZXJyZWQucmVqZWN0V2l0aCggZWxlbSwgWyBhbmltYXRpb24sIGdvdG9FbmQgXSApO1xuXHRcdFx0XHR9XG5cdFx0XHRcdHJldHVybiB0aGlzO1xuXHRcdFx0fVxuXHRcdH0gKSxcblx0XHRwcm9wcyA9IGFuaW1hdGlvbi5wcm9wcztcblxuXHRwcm9wRmlsdGVyKCBwcm9wcywgYW5pbWF0aW9uLm9wdHMuc3BlY2lhbEVhc2luZyApO1xuXG5cdGZvciAoIDsgaW5kZXggPCBsZW5ndGg7IGluZGV4KysgKSB7XG5cdFx0cmVzdWx0ID0gQW5pbWF0aW9uLnByZWZpbHRlcnNbIGluZGV4IF0uY2FsbCggYW5pbWF0aW9uLCBlbGVtLCBwcm9wcywgYW5pbWF0aW9uLm9wdHMgKTtcblx0XHRpZiAoIHJlc3VsdCApIHtcblx0XHRcdGlmICggalF1ZXJ5LmlzRnVuY3Rpb24oIHJlc3VsdC5zdG9wICkgKSB7XG5cdFx0XHRcdGpRdWVyeS5fcXVldWVIb29rcyggYW5pbWF0aW9uLmVsZW0sIGFuaW1hdGlvbi5vcHRzLnF1ZXVlICkuc3RvcCA9XG5cdFx0XHRcdFx0alF1ZXJ5LnByb3h5KCByZXN1bHQuc3RvcCwgcmVzdWx0ICk7XG5cdFx0XHR9XG5cdFx0XHRyZXR1cm4gcmVzdWx0O1xuXHRcdH1cblx0fVxuXG5cdGpRdWVyeS5tYXAoIHByb3BzLCBjcmVhdGVUd2VlbiwgYW5pbWF0aW9uICk7XG5cblx0aWYgKCBqUXVlcnkuaXNGdW5jdGlvbiggYW5pbWF0aW9uLm9wdHMuc3RhcnQgKSApIHtcblx0XHRhbmltYXRpb24ub3B0cy5zdGFydC5jYWxsKCBlbGVtLCBhbmltYXRpb24gKTtcblx0fVxuXG5cdC8vIEF0dGFjaCBjYWxsYmFja3MgZnJvbSBvcHRpb25zXG5cdGFuaW1hdGlvblxuXHRcdC5wcm9ncmVzcyggYW5pbWF0aW9uLm9wdHMucHJvZ3Jlc3MgKVxuXHRcdC5kb25lKCBhbmltYXRpb24ub3B0cy5kb25lLCBhbmltYXRpb24ub3B0cy5jb21wbGV0ZSApXG5cdFx0LmZhaWwoIGFuaW1hdGlvbi5vcHRzLmZhaWwgKVxuXHRcdC5hbHdheXMoIGFuaW1hdGlvbi5vcHRzLmFsd2F5cyApO1xuXG5cdGpRdWVyeS5meC50aW1lcihcblx0XHRqUXVlcnkuZXh0ZW5kKCB0aWNrLCB7XG5cdFx0XHRlbGVtOiBlbGVtLFxuXHRcdFx0YW5pbTogYW5pbWF0aW9uLFxuXHRcdFx0cXVldWU6IGFuaW1hdGlvbi5vcHRzLnF1ZXVlXG5cdFx0fSApXG5cdCk7XG5cblx0cmV0dXJuIGFuaW1hdGlvbjtcbn1cblxualF1ZXJ5LkFuaW1hdGlvbiA9IGpRdWVyeS5leHRlbmQoIEFuaW1hdGlvbiwge1xuXG5cdHR3ZWVuZXJzOiB7XG5cdFx0XCIqXCI6IFsgZnVuY3Rpb24oIHByb3AsIHZhbHVlICkge1xuXHRcdFx0dmFyIHR3ZWVuID0gdGhpcy5jcmVhdGVUd2VlbiggcHJvcCwgdmFsdWUgKTtcblx0XHRcdGFkanVzdENTUyggdHdlZW4uZWxlbSwgcHJvcCwgcmNzc051bS5leGVjKCB2YWx1ZSApLCB0d2VlbiApO1xuXHRcdFx0cmV0dXJuIHR3ZWVuO1xuXHRcdH0gXVxuXHR9LFxuXG5cdHR3ZWVuZXI6IGZ1bmN0aW9uKCBwcm9wcywgY2FsbGJhY2sgKSB7XG5cdFx0aWYgKCBqUXVlcnkuaXNGdW5jdGlvbiggcHJvcHMgKSApIHtcblx0XHRcdGNhbGxiYWNrID0gcHJvcHM7XG5cdFx0XHRwcm9wcyA9IFsgXCIqXCIgXTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0cHJvcHMgPSBwcm9wcy5tYXRjaCggcm5vdGh0bWx3aGl0ZSApO1xuXHRcdH1cblxuXHRcdHZhciBwcm9wLFxuXHRcdFx0aW5kZXggPSAwLFxuXHRcdFx0bGVuZ3RoID0gcHJvcHMubGVuZ3RoO1xuXG5cdFx0Zm9yICggOyBpbmRleCA8IGxlbmd0aDsgaW5kZXgrKyApIHtcblx0XHRcdHByb3AgPSBwcm9wc1sgaW5kZXggXTtcblx0XHRcdEFuaW1hdGlvbi50d2VlbmVyc1sgcHJvcCBdID0gQW5pbWF0aW9uLnR3ZWVuZXJzWyBwcm9wIF0gfHwgW107XG5cdFx0XHRBbmltYXRpb24udHdlZW5lcnNbIHByb3AgXS51bnNoaWZ0KCBjYWxsYmFjayApO1xuXHRcdH1cblx0fSxcblxuXHRwcmVmaWx0ZXJzOiBbIGRlZmF1bHRQcmVmaWx0ZXIgXSxcblxuXHRwcmVmaWx0ZXI6IGZ1bmN0aW9uKCBjYWxsYmFjaywgcHJlcGVuZCApIHtcblx0XHRpZiAoIHByZXBlbmQgKSB7XG5cdFx0XHRBbmltYXRpb24ucHJlZmlsdGVycy51bnNoaWZ0KCBjYWxsYmFjayApO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHRBbmltYXRpb24ucHJlZmlsdGVycy5wdXNoKCBjYWxsYmFjayApO1xuXHRcdH1cblx0fVxufSApO1xuXG5qUXVlcnkuc3BlZWQgPSBmdW5jdGlvbiggc3BlZWQsIGVhc2luZywgZm4gKSB7XG5cdHZhciBvcHQgPSBzcGVlZCAmJiB0eXBlb2Ygc3BlZWQgPT09IFwib2JqZWN0XCIgPyBqUXVlcnkuZXh0ZW5kKCB7fSwgc3BlZWQgKSA6IHtcblx0XHRjb21wbGV0ZTogZm4gfHwgIWZuICYmIGVhc2luZyB8fFxuXHRcdFx0alF1ZXJ5LmlzRnVuY3Rpb24oIHNwZWVkICkgJiYgc3BlZWQsXG5cdFx0ZHVyYXRpb246IHNwZWVkLFxuXHRcdGVhc2luZzogZm4gJiYgZWFzaW5nIHx8IGVhc2luZyAmJiAhalF1ZXJ5LmlzRnVuY3Rpb24oIGVhc2luZyApICYmIGVhc2luZ1xuXHR9O1xuXG5cdC8vIEdvIHRvIHRoZSBlbmQgc3RhdGUgaWYgZnggYXJlIG9mZlxuXHRpZiAoIGpRdWVyeS5meC5vZmYgKSB7XG5cdFx0b3B0LmR1cmF0aW9uID0gMDtcblxuXHR9IGVsc2Uge1xuXHRcdGlmICggdHlwZW9mIG9wdC5kdXJhdGlvbiAhPT0gXCJudW1iZXJcIiApIHtcblx0XHRcdGlmICggb3B0LmR1cmF0aW9uIGluIGpRdWVyeS5meC5zcGVlZHMgKSB7XG5cdFx0XHRcdG9wdC5kdXJhdGlvbiA9IGpRdWVyeS5meC5zcGVlZHNbIG9wdC5kdXJhdGlvbiBdO1xuXG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRvcHQuZHVyYXRpb24gPSBqUXVlcnkuZnguc3BlZWRzLl9kZWZhdWx0O1xuXHRcdFx0fVxuXHRcdH1cblx0fVxuXG5cdC8vIE5vcm1hbGl6ZSBvcHQucXVldWUgLSB0cnVlL3VuZGVmaW5lZC9udWxsIC0+IFwiZnhcIlxuXHRpZiAoIG9wdC5xdWV1ZSA9PSBudWxsIHx8IG9wdC5xdWV1ZSA9PT0gdHJ1ZSApIHtcblx0XHRvcHQucXVldWUgPSBcImZ4XCI7XG5cdH1cblxuXHQvLyBRdWV1ZWluZ1xuXHRvcHQub2xkID0gb3B0LmNvbXBsZXRlO1xuXG5cdG9wdC5jb21wbGV0ZSA9IGZ1bmN0aW9uKCkge1xuXHRcdGlmICggalF1ZXJ5LmlzRnVuY3Rpb24oIG9wdC5vbGQgKSApIHtcblx0XHRcdG9wdC5vbGQuY2FsbCggdGhpcyApO1xuXHRcdH1cblxuXHRcdGlmICggb3B0LnF1ZXVlICkge1xuXHRcdFx0alF1ZXJ5LmRlcXVldWUoIHRoaXMsIG9wdC5xdWV1ZSApO1xuXHRcdH1cblx0fTtcblxuXHRyZXR1cm4gb3B0O1xufTtcblxualF1ZXJ5LmZuLmV4dGVuZCgge1xuXHRmYWRlVG86IGZ1bmN0aW9uKCBzcGVlZCwgdG8sIGVhc2luZywgY2FsbGJhY2sgKSB7XG5cblx0XHQvLyBTaG93IGFueSBoaWRkZW4gZWxlbWVudHMgYWZ0ZXIgc2V0dGluZyBvcGFjaXR5IHRvIDBcblx0XHRyZXR1cm4gdGhpcy5maWx0ZXIoIGlzSGlkZGVuV2l0aGluVHJlZSApLmNzcyggXCJvcGFjaXR5XCIsIDAgKS5zaG93KClcblxuXHRcdFx0Ly8gQW5pbWF0ZSB0byB0aGUgdmFsdWUgc3BlY2lmaWVkXG5cdFx0XHQuZW5kKCkuYW5pbWF0ZSggeyBvcGFjaXR5OiB0byB9LCBzcGVlZCwgZWFzaW5nLCBjYWxsYmFjayApO1xuXHR9LFxuXHRhbmltYXRlOiBmdW5jdGlvbiggcHJvcCwgc3BlZWQsIGVhc2luZywgY2FsbGJhY2sgKSB7XG5cdFx0dmFyIGVtcHR5ID0galF1ZXJ5LmlzRW1wdHlPYmplY3QoIHByb3AgKSxcblx0XHRcdG9wdGFsbCA9IGpRdWVyeS5zcGVlZCggc3BlZWQsIGVhc2luZywgY2FsbGJhY2sgKSxcblx0XHRcdGRvQW5pbWF0aW9uID0gZnVuY3Rpb24oKSB7XG5cblx0XHRcdFx0Ly8gT3BlcmF0ZSBvbiBhIGNvcHkgb2YgcHJvcCBzbyBwZXItcHJvcGVydHkgZWFzaW5nIHdvbid0IGJlIGxvc3Rcblx0XHRcdFx0dmFyIGFuaW0gPSBBbmltYXRpb24oIHRoaXMsIGpRdWVyeS5leHRlbmQoIHt9LCBwcm9wICksIG9wdGFsbCApO1xuXG5cdFx0XHRcdC8vIEVtcHR5IGFuaW1hdGlvbnMsIG9yIGZpbmlzaGluZyByZXNvbHZlcyBpbW1lZGlhdGVseVxuXHRcdFx0XHRpZiAoIGVtcHR5IHx8IGRhdGFQcml2LmdldCggdGhpcywgXCJmaW5pc2hcIiApICkge1xuXHRcdFx0XHRcdGFuaW0uc3RvcCggdHJ1ZSApO1xuXHRcdFx0XHR9XG5cdFx0XHR9O1xuXHRcdFx0ZG9BbmltYXRpb24uZmluaXNoID0gZG9BbmltYXRpb247XG5cblx0XHRyZXR1cm4gZW1wdHkgfHwgb3B0YWxsLnF1ZXVlID09PSBmYWxzZSA/XG5cdFx0XHR0aGlzLmVhY2goIGRvQW5pbWF0aW9uICkgOlxuXHRcdFx0dGhpcy5xdWV1ZSggb3B0YWxsLnF1ZXVlLCBkb0FuaW1hdGlvbiApO1xuXHR9LFxuXHRzdG9wOiBmdW5jdGlvbiggdHlwZSwgY2xlYXJRdWV1ZSwgZ290b0VuZCApIHtcblx0XHR2YXIgc3RvcFF1ZXVlID0gZnVuY3Rpb24oIGhvb2tzICkge1xuXHRcdFx0dmFyIHN0b3AgPSBob29rcy5zdG9wO1xuXHRcdFx0ZGVsZXRlIGhvb2tzLnN0b3A7XG5cdFx0XHRzdG9wKCBnb3RvRW5kICk7XG5cdFx0fTtcblxuXHRcdGlmICggdHlwZW9mIHR5cGUgIT09IFwic3RyaW5nXCIgKSB7XG5cdFx0XHRnb3RvRW5kID0gY2xlYXJRdWV1ZTtcblx0XHRcdGNsZWFyUXVldWUgPSB0eXBlO1xuXHRcdFx0dHlwZSA9IHVuZGVmaW5lZDtcblx0XHR9XG5cdFx0aWYgKCBjbGVhclF1ZXVlICYmIHR5cGUgIT09IGZhbHNlICkge1xuXHRcdFx0dGhpcy5xdWV1ZSggdHlwZSB8fCBcImZ4XCIsIFtdICk7XG5cdFx0fVxuXG5cdFx0cmV0dXJuIHRoaXMuZWFjaCggZnVuY3Rpb24oKSB7XG5cdFx0XHR2YXIgZGVxdWV1ZSA9IHRydWUsXG5cdFx0XHRcdGluZGV4ID0gdHlwZSAhPSBudWxsICYmIHR5cGUgKyBcInF1ZXVlSG9va3NcIixcblx0XHRcdFx0dGltZXJzID0galF1ZXJ5LnRpbWVycyxcblx0XHRcdFx0ZGF0YSA9IGRhdGFQcml2LmdldCggdGhpcyApO1xuXG5cdFx0XHRpZiAoIGluZGV4ICkge1xuXHRcdFx0XHRpZiAoIGRhdGFbIGluZGV4IF0gJiYgZGF0YVsgaW5kZXggXS5zdG9wICkge1xuXHRcdFx0XHRcdHN0b3BRdWV1ZSggZGF0YVsgaW5kZXggXSApO1xuXHRcdFx0XHR9XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRmb3IgKCBpbmRleCBpbiBkYXRhICkge1xuXHRcdFx0XHRcdGlmICggZGF0YVsgaW5kZXggXSAmJiBkYXRhWyBpbmRleCBdLnN0b3AgJiYgcnJ1bi50ZXN0KCBpbmRleCApICkge1xuXHRcdFx0XHRcdFx0c3RvcFF1ZXVlKCBkYXRhWyBpbmRleCBdICk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cdFx0XHR9XG5cblx0XHRcdGZvciAoIGluZGV4ID0gdGltZXJzLmxlbmd0aDsgaW5kZXgtLTsgKSB7XG5cdFx0XHRcdGlmICggdGltZXJzWyBpbmRleCBdLmVsZW0gPT09IHRoaXMgJiZcblx0XHRcdFx0XHQoIHR5cGUgPT0gbnVsbCB8fCB0aW1lcnNbIGluZGV4IF0ucXVldWUgPT09IHR5cGUgKSApIHtcblxuXHRcdFx0XHRcdHRpbWVyc1sgaW5kZXggXS5hbmltLnN0b3AoIGdvdG9FbmQgKTtcblx0XHRcdFx0XHRkZXF1ZXVlID0gZmFsc2U7XG5cdFx0XHRcdFx0dGltZXJzLnNwbGljZSggaW5kZXgsIDEgKTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXG5cdFx0XHQvLyBTdGFydCB0aGUgbmV4dCBpbiB0aGUgcXVldWUgaWYgdGhlIGxhc3Qgc3RlcCB3YXNuJ3QgZm9yY2VkLlxuXHRcdFx0Ly8gVGltZXJzIGN1cnJlbnRseSB3aWxsIGNhbGwgdGhlaXIgY29tcGxldGUgY2FsbGJhY2tzLCB3aGljaFxuXHRcdFx0Ly8gd2lsbCBkZXF1ZXVlIGJ1dCBvbmx5IGlmIHRoZXkgd2VyZSBnb3RvRW5kLlxuXHRcdFx0aWYgKCBkZXF1ZXVlIHx8ICFnb3RvRW5kICkge1xuXHRcdFx0XHRqUXVlcnkuZGVxdWV1ZSggdGhpcywgdHlwZSApO1xuXHRcdFx0fVxuXHRcdH0gKTtcblx0fSxcblx0ZmluaXNoOiBmdW5jdGlvbiggdHlwZSApIHtcblx0XHRpZiAoIHR5cGUgIT09IGZhbHNlICkge1xuXHRcdFx0dHlwZSA9IHR5cGUgfHwgXCJmeFwiO1xuXHRcdH1cblx0XHRyZXR1cm4gdGhpcy5lYWNoKCBmdW5jdGlvbigpIHtcblx0XHRcdHZhciBpbmRleCxcblx0XHRcdFx0ZGF0YSA9IGRhdGFQcml2LmdldCggdGhpcyApLFxuXHRcdFx0XHRxdWV1ZSA9IGRhdGFbIHR5cGUgKyBcInF1ZXVlXCIgXSxcblx0XHRcdFx0aG9va3MgPSBkYXRhWyB0eXBlICsgXCJxdWV1ZUhvb2tzXCIgXSxcblx0XHRcdFx0dGltZXJzID0galF1ZXJ5LnRpbWVycyxcblx0XHRcdFx0bGVuZ3RoID0gcXVldWUgPyBxdWV1ZS5sZW5ndGggOiAwO1xuXG5cdFx0XHQvLyBFbmFibGUgZmluaXNoaW5nIGZsYWcgb24gcHJpdmF0ZSBkYXRhXG5cdFx0XHRkYXRhLmZpbmlzaCA9IHRydWU7XG5cblx0XHRcdC8vIEVtcHR5IHRoZSBxdWV1ZSBmaXJzdFxuXHRcdFx0alF1ZXJ5LnF1ZXVlKCB0aGlzLCB0eXBlLCBbXSApO1xuXG5cdFx0XHRpZiAoIGhvb2tzICYmIGhvb2tzLnN0b3AgKSB7XG5cdFx0XHRcdGhvb2tzLnN0b3AuY2FsbCggdGhpcywgdHJ1ZSApO1xuXHRcdFx0fVxuXG5cdFx0XHQvLyBMb29rIGZvciBhbnkgYWN0aXZlIGFuaW1hdGlvbnMsIGFuZCBmaW5pc2ggdGhlbVxuXHRcdFx0Zm9yICggaW5kZXggPSB0aW1lcnMubGVuZ3RoOyBpbmRleC0tOyApIHtcblx0XHRcdFx0aWYgKCB0aW1lcnNbIGluZGV4IF0uZWxlbSA9PT0gdGhpcyAmJiB0aW1lcnNbIGluZGV4IF0ucXVldWUgPT09IHR5cGUgKSB7XG5cdFx0XHRcdFx0dGltZXJzWyBpbmRleCBdLmFuaW0uc3RvcCggdHJ1ZSApO1xuXHRcdFx0XHRcdHRpbWVycy5zcGxpY2UoIGluZGV4LCAxICk7XG5cdFx0XHRcdH1cblx0XHRcdH1cblxuXHRcdFx0Ly8gTG9vayBmb3IgYW55IGFuaW1hdGlvbnMgaW4gdGhlIG9sZCBxdWV1ZSBhbmQgZmluaXNoIHRoZW1cblx0XHRcdGZvciAoIGluZGV4ID0gMDsgaW5kZXggPCBsZW5ndGg7IGluZGV4KysgKSB7XG5cdFx0XHRcdGlmICggcXVldWVbIGluZGV4IF0gJiYgcXVldWVbIGluZGV4IF0uZmluaXNoICkge1xuXHRcdFx0XHRcdHF1ZXVlWyBpbmRleCBdLmZpbmlzaC5jYWxsKCB0aGlzICk7XG5cdFx0XHRcdH1cblx0XHRcdH1cblxuXHRcdFx0Ly8gVHVybiBvZmYgZmluaXNoaW5nIGZsYWdcblx0XHRcdGRlbGV0ZSBkYXRhLmZpbmlzaDtcblx0XHR9ICk7XG5cdH1cbn0gKTtcblxualF1ZXJ5LmVhY2goIFsgXCJ0b2dnbGVcIiwgXCJzaG93XCIsIFwiaGlkZVwiIF0sIGZ1bmN0aW9uKCBpLCBuYW1lICkge1xuXHR2YXIgY3NzRm4gPSBqUXVlcnkuZm5bIG5hbWUgXTtcblx0alF1ZXJ5LmZuWyBuYW1lIF0gPSBmdW5jdGlvbiggc3BlZWQsIGVhc2luZywgY2FsbGJhY2sgKSB7XG5cdFx0cmV0dXJuIHNwZWVkID09IG51bGwgfHwgdHlwZW9mIHNwZWVkID09PSBcImJvb2xlYW5cIiA/XG5cdFx0XHRjc3NGbi5hcHBseSggdGhpcywgYXJndW1lbnRzICkgOlxuXHRcdFx0dGhpcy5hbmltYXRlKCBnZW5GeCggbmFtZSwgdHJ1ZSApLCBzcGVlZCwgZWFzaW5nLCBjYWxsYmFjayApO1xuXHR9O1xufSApO1xuXG4vLyBHZW5lcmF0ZSBzaG9ydGN1dHMgZm9yIGN1c3RvbSBhbmltYXRpb25zXG5qUXVlcnkuZWFjaCgge1xuXHRzbGlkZURvd246IGdlbkZ4KCBcInNob3dcIiApLFxuXHRzbGlkZVVwOiBnZW5GeCggXCJoaWRlXCIgKSxcblx0c2xpZGVUb2dnbGU6IGdlbkZ4KCBcInRvZ2dsZVwiICksXG5cdGZhZGVJbjogeyBvcGFjaXR5OiBcInNob3dcIiB9LFxuXHRmYWRlT3V0OiB7IG9wYWNpdHk6IFwiaGlkZVwiIH0sXG5cdGZhZGVUb2dnbGU6IHsgb3BhY2l0eTogXCJ0b2dnbGVcIiB9XG59LCBmdW5jdGlvbiggbmFtZSwgcHJvcHMgKSB7XG5cdGpRdWVyeS5mblsgbmFtZSBdID0gZnVuY3Rpb24oIHNwZWVkLCBlYXNpbmcsIGNhbGxiYWNrICkge1xuXHRcdHJldHVybiB0aGlzLmFuaW1hdGUoIHByb3BzLCBzcGVlZCwgZWFzaW5nLCBjYWxsYmFjayApO1xuXHR9O1xufSApO1xuXG5qUXVlcnkudGltZXJzID0gW107XG5qUXVlcnkuZngudGljayA9IGZ1bmN0aW9uKCkge1xuXHR2YXIgdGltZXIsXG5cdFx0aSA9IDAsXG5cdFx0dGltZXJzID0galF1ZXJ5LnRpbWVycztcblxuXHRmeE5vdyA9IGpRdWVyeS5ub3coKTtcblxuXHRmb3IgKCA7IGkgPCB0aW1lcnMubGVuZ3RoOyBpKysgKSB7XG5cdFx0dGltZXIgPSB0aW1lcnNbIGkgXTtcblxuXHRcdC8vIFJ1biB0aGUgdGltZXIgYW5kIHNhZmVseSByZW1vdmUgaXQgd2hlbiBkb25lIChhbGxvd2luZyBmb3IgZXh0ZXJuYWwgcmVtb3ZhbClcblx0XHRpZiAoICF0aW1lcigpICYmIHRpbWVyc1sgaSBdID09PSB0aW1lciApIHtcblx0XHRcdHRpbWVycy5zcGxpY2UoIGktLSwgMSApO1xuXHRcdH1cblx0fVxuXG5cdGlmICggIXRpbWVycy5sZW5ndGggKSB7XG5cdFx0alF1ZXJ5LmZ4LnN0b3AoKTtcblx0fVxuXHRmeE5vdyA9IHVuZGVmaW5lZDtcbn07XG5cbmpRdWVyeS5meC50aW1lciA9IGZ1bmN0aW9uKCB0aW1lciApIHtcblx0alF1ZXJ5LnRpbWVycy5wdXNoKCB0aW1lciApO1xuXHRqUXVlcnkuZnguc3RhcnQoKTtcbn07XG5cbmpRdWVyeS5meC5pbnRlcnZhbCA9IDEzO1xualF1ZXJ5LmZ4LnN0YXJ0ID0gZnVuY3Rpb24oKSB7XG5cdGlmICggaW5Qcm9ncmVzcyApIHtcblx0XHRyZXR1cm47XG5cdH1cblxuXHRpblByb2dyZXNzID0gdHJ1ZTtcblx0c2NoZWR1bGUoKTtcbn07XG5cbmpRdWVyeS5meC5zdG9wID0gZnVuY3Rpb24oKSB7XG5cdGluUHJvZ3Jlc3MgPSBudWxsO1xufTtcblxualF1ZXJ5LmZ4LnNwZWVkcyA9IHtcblx0c2xvdzogNjAwLFxuXHRmYXN0OiAyMDAsXG5cblx0Ly8gRGVmYXVsdCBzcGVlZFxuXHRfZGVmYXVsdDogNDAwXG59O1xuXG5cbi8vIEJhc2VkIG9mZiBvZiB0aGUgcGx1Z2luIGJ5IENsaW50IEhlbGZlcnMsIHdpdGggcGVybWlzc2lvbi5cbi8vIGh0dHBzOi8vd2ViLmFyY2hpdmUub3JnL3dlYi8yMDEwMDMyNDAxNDc0Ny9odHRwOi8vYmxpbmRzaWduYWxzLmNvbS9pbmRleC5waHAvMjAwOS8wNy9qcXVlcnktZGVsYXkvXG5qUXVlcnkuZm4uZGVsYXkgPSBmdW5jdGlvbiggdGltZSwgdHlwZSApIHtcblx0dGltZSA9IGpRdWVyeS5meCA/IGpRdWVyeS5meC5zcGVlZHNbIHRpbWUgXSB8fCB0aW1lIDogdGltZTtcblx0dHlwZSA9IHR5cGUgfHwgXCJmeFwiO1xuXG5cdHJldHVybiB0aGlzLnF1ZXVlKCB0eXBlLCBmdW5jdGlvbiggbmV4dCwgaG9va3MgKSB7XG5cdFx0dmFyIHRpbWVvdXQgPSB3aW5kb3cuc2V0VGltZW91dCggbmV4dCwgdGltZSApO1xuXHRcdGhvb2tzLnN0b3AgPSBmdW5jdGlvbigpIHtcblx0XHRcdHdpbmRvdy5jbGVhclRpbWVvdXQoIHRpbWVvdXQgKTtcblx0XHR9O1xuXHR9ICk7XG59O1xuXG5cbiggZnVuY3Rpb24oKSB7XG5cdHZhciBpbnB1dCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoIFwiaW5wdXRcIiApLFxuXHRcdHNlbGVjdCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoIFwic2VsZWN0XCIgKSxcblx0XHRvcHQgPSBzZWxlY3QuYXBwZW5kQ2hpbGQoIGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoIFwib3B0aW9uXCIgKSApO1xuXG5cdGlucHV0LnR5cGUgPSBcImNoZWNrYm94XCI7XG5cblx0Ly8gU3VwcG9ydDogQW5kcm9pZCA8PTQuMyBvbmx5XG5cdC8vIERlZmF1bHQgdmFsdWUgZm9yIGEgY2hlY2tib3ggc2hvdWxkIGJlIFwib25cIlxuXHRzdXBwb3J0LmNoZWNrT24gPSBpbnB1dC52YWx1ZSAhPT0gXCJcIjtcblxuXHQvLyBTdXBwb3J0OiBJRSA8PTExIG9ubHlcblx0Ly8gTXVzdCBhY2Nlc3Mgc2VsZWN0ZWRJbmRleCB0byBtYWtlIGRlZmF1bHQgb3B0aW9ucyBzZWxlY3Rcblx0c3VwcG9ydC5vcHRTZWxlY3RlZCA9IG9wdC5zZWxlY3RlZDtcblxuXHQvLyBTdXBwb3J0OiBJRSA8PTExIG9ubHlcblx0Ly8gQW4gaW5wdXQgbG9zZXMgaXRzIHZhbHVlIGFmdGVyIGJlY29taW5nIGEgcmFkaW9cblx0aW5wdXQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCBcImlucHV0XCIgKTtcblx0aW5wdXQudmFsdWUgPSBcInRcIjtcblx0aW5wdXQudHlwZSA9IFwicmFkaW9cIjtcblx0c3VwcG9ydC5yYWRpb1ZhbHVlID0gaW5wdXQudmFsdWUgPT09IFwidFwiO1xufSApKCk7XG5cblxudmFyIGJvb2xIb29rLFxuXHRhdHRySGFuZGxlID0galF1ZXJ5LmV4cHIuYXR0ckhhbmRsZTtcblxualF1ZXJ5LmZuLmV4dGVuZCgge1xuXHRhdHRyOiBmdW5jdGlvbiggbmFtZSwgdmFsdWUgKSB7XG5cdFx0cmV0dXJuIGFjY2VzcyggdGhpcywgalF1ZXJ5LmF0dHIsIG5hbWUsIHZhbHVlLCBhcmd1bWVudHMubGVuZ3RoID4gMSApO1xuXHR9LFxuXG5cdHJlbW92ZUF0dHI6IGZ1bmN0aW9uKCBuYW1lICkge1xuXHRcdHJldHVybiB0aGlzLmVhY2goIGZ1bmN0aW9uKCkge1xuXHRcdFx0alF1ZXJ5LnJlbW92ZUF0dHIoIHRoaXMsIG5hbWUgKTtcblx0XHR9ICk7XG5cdH1cbn0gKTtcblxualF1ZXJ5LmV4dGVuZCgge1xuXHRhdHRyOiBmdW5jdGlvbiggZWxlbSwgbmFtZSwgdmFsdWUgKSB7XG5cdFx0dmFyIHJldCwgaG9va3MsXG5cdFx0XHRuVHlwZSA9IGVsZW0ubm9kZVR5cGU7XG5cblx0XHQvLyBEb24ndCBnZXQvc2V0IGF0dHJpYnV0ZXMgb24gdGV4dCwgY29tbWVudCBhbmQgYXR0cmlidXRlIG5vZGVzXG5cdFx0aWYgKCBuVHlwZSA9PT0gMyB8fCBuVHlwZSA9PT0gOCB8fCBuVHlwZSA9PT0gMiApIHtcblx0XHRcdHJldHVybjtcblx0XHR9XG5cblx0XHQvLyBGYWxsYmFjayB0byBwcm9wIHdoZW4gYXR0cmlidXRlcyBhcmUgbm90IHN1cHBvcnRlZFxuXHRcdGlmICggdHlwZW9mIGVsZW0uZ2V0QXR0cmlidXRlID09PSBcInVuZGVmaW5lZFwiICkge1xuXHRcdFx0cmV0dXJuIGpRdWVyeS5wcm9wKCBlbGVtLCBuYW1lLCB2YWx1ZSApO1xuXHRcdH1cblxuXHRcdC8vIEF0dHJpYnV0ZSBob29rcyBhcmUgZGV0ZXJtaW5lZCBieSB0aGUgbG93ZXJjYXNlIHZlcnNpb25cblx0XHQvLyBHcmFiIG5lY2Vzc2FyeSBob29rIGlmIG9uZSBpcyBkZWZpbmVkXG5cdFx0aWYgKCBuVHlwZSAhPT0gMSB8fCAhalF1ZXJ5LmlzWE1MRG9jKCBlbGVtICkgKSB7XG5cdFx0XHRob29rcyA9IGpRdWVyeS5hdHRySG9va3NbIG5hbWUudG9Mb3dlckNhc2UoKSBdIHx8XG5cdFx0XHRcdCggalF1ZXJ5LmV4cHIubWF0Y2guYm9vbC50ZXN0KCBuYW1lICkgPyBib29sSG9vayA6IHVuZGVmaW5lZCApO1xuXHRcdH1cblxuXHRcdGlmICggdmFsdWUgIT09IHVuZGVmaW5lZCApIHtcblx0XHRcdGlmICggdmFsdWUgPT09IG51bGwgKSB7XG5cdFx0XHRcdGpRdWVyeS5yZW1vdmVBdHRyKCBlbGVtLCBuYW1lICk7XG5cdFx0XHRcdHJldHVybjtcblx0XHRcdH1cblxuXHRcdFx0aWYgKCBob29rcyAmJiBcInNldFwiIGluIGhvb2tzICYmXG5cdFx0XHRcdCggcmV0ID0gaG9va3Muc2V0KCBlbGVtLCB2YWx1ZSwgbmFtZSApICkgIT09IHVuZGVmaW5lZCApIHtcblx0XHRcdFx0cmV0dXJuIHJldDtcblx0XHRcdH1cblxuXHRcdFx0ZWxlbS5zZXRBdHRyaWJ1dGUoIG5hbWUsIHZhbHVlICsgXCJcIiApO1xuXHRcdFx0cmV0dXJuIHZhbHVlO1xuXHRcdH1cblxuXHRcdGlmICggaG9va3MgJiYgXCJnZXRcIiBpbiBob29rcyAmJiAoIHJldCA9IGhvb2tzLmdldCggZWxlbSwgbmFtZSApICkgIT09IG51bGwgKSB7XG5cdFx0XHRyZXR1cm4gcmV0O1xuXHRcdH1cblxuXHRcdHJldCA9IGpRdWVyeS5maW5kLmF0dHIoIGVsZW0sIG5hbWUgKTtcblxuXHRcdC8vIE5vbi1leGlzdGVudCBhdHRyaWJ1dGVzIHJldHVybiBudWxsLCB3ZSBub3JtYWxpemUgdG8gdW5kZWZpbmVkXG5cdFx0cmV0dXJuIHJldCA9PSBudWxsID8gdW5kZWZpbmVkIDogcmV0O1xuXHR9LFxuXG5cdGF0dHJIb29rczoge1xuXHRcdHR5cGU6IHtcblx0XHRcdHNldDogZnVuY3Rpb24oIGVsZW0sIHZhbHVlICkge1xuXHRcdFx0XHRpZiAoICFzdXBwb3J0LnJhZGlvVmFsdWUgJiYgdmFsdWUgPT09IFwicmFkaW9cIiAmJlxuXHRcdFx0XHRcdG5vZGVOYW1lKCBlbGVtLCBcImlucHV0XCIgKSApIHtcblx0XHRcdFx0XHR2YXIgdmFsID0gZWxlbS52YWx1ZTtcblx0XHRcdFx0XHRlbGVtLnNldEF0dHJpYnV0ZSggXCJ0eXBlXCIsIHZhbHVlICk7XG5cdFx0XHRcdFx0aWYgKCB2YWwgKSB7XG5cdFx0XHRcdFx0XHRlbGVtLnZhbHVlID0gdmFsO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0XHRyZXR1cm4gdmFsdWU7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9XG5cdH0sXG5cblx0cmVtb3ZlQXR0cjogZnVuY3Rpb24oIGVsZW0sIHZhbHVlICkge1xuXHRcdHZhciBuYW1lLFxuXHRcdFx0aSA9IDAsXG5cblx0XHRcdC8vIEF0dHJpYnV0ZSBuYW1lcyBjYW4gY29udGFpbiBub24tSFRNTCB3aGl0ZXNwYWNlIGNoYXJhY3RlcnNcblx0XHRcdC8vIGh0dHBzOi8vaHRtbC5zcGVjLndoYXR3Zy5vcmcvbXVsdGlwYWdlL3N5bnRheC5odG1sI2F0dHJpYnV0ZXMtMlxuXHRcdFx0YXR0ck5hbWVzID0gdmFsdWUgJiYgdmFsdWUubWF0Y2goIHJub3RodG1sd2hpdGUgKTtcblxuXHRcdGlmICggYXR0ck5hbWVzICYmIGVsZW0ubm9kZVR5cGUgPT09IDEgKSB7XG5cdFx0XHR3aGlsZSAoICggbmFtZSA9IGF0dHJOYW1lc1sgaSsrIF0gKSApIHtcblx0XHRcdFx0ZWxlbS5yZW1vdmVBdHRyaWJ1dGUoIG5hbWUgKTtcblx0XHRcdH1cblx0XHR9XG5cdH1cbn0gKTtcblxuLy8gSG9va3MgZm9yIGJvb2xlYW4gYXR0cmlidXRlc1xuYm9vbEhvb2sgPSB7XG5cdHNldDogZnVuY3Rpb24oIGVsZW0sIHZhbHVlLCBuYW1lICkge1xuXHRcdGlmICggdmFsdWUgPT09IGZhbHNlICkge1xuXG5cdFx0XHQvLyBSZW1vdmUgYm9vbGVhbiBhdHRyaWJ1dGVzIHdoZW4gc2V0IHRvIGZhbHNlXG5cdFx0XHRqUXVlcnkucmVtb3ZlQXR0ciggZWxlbSwgbmFtZSApO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHRlbGVtLnNldEF0dHJpYnV0ZSggbmFtZSwgbmFtZSApO1xuXHRcdH1cblx0XHRyZXR1cm4gbmFtZTtcblx0fVxufTtcblxualF1ZXJ5LmVhY2goIGpRdWVyeS5leHByLm1hdGNoLmJvb2wuc291cmNlLm1hdGNoKCAvXFx3Ky9nICksIGZ1bmN0aW9uKCBpLCBuYW1lICkge1xuXHR2YXIgZ2V0dGVyID0gYXR0ckhhbmRsZVsgbmFtZSBdIHx8IGpRdWVyeS5maW5kLmF0dHI7XG5cblx0YXR0ckhhbmRsZVsgbmFtZSBdID0gZnVuY3Rpb24oIGVsZW0sIG5hbWUsIGlzWE1MICkge1xuXHRcdHZhciByZXQsIGhhbmRsZSxcblx0XHRcdGxvd2VyY2FzZU5hbWUgPSBuYW1lLnRvTG93ZXJDYXNlKCk7XG5cblx0XHRpZiAoICFpc1hNTCApIHtcblxuXHRcdFx0Ly8gQXZvaWQgYW4gaW5maW5pdGUgbG9vcCBieSB0ZW1wb3JhcmlseSByZW1vdmluZyB0aGlzIGZ1bmN0aW9uIGZyb20gdGhlIGdldHRlclxuXHRcdFx0aGFuZGxlID0gYXR0ckhhbmRsZVsgbG93ZXJjYXNlTmFtZSBdO1xuXHRcdFx0YXR0ckhhbmRsZVsgbG93ZXJjYXNlTmFtZSBdID0gcmV0O1xuXHRcdFx0cmV0ID0gZ2V0dGVyKCBlbGVtLCBuYW1lLCBpc1hNTCApICE9IG51bGwgP1xuXHRcdFx0XHRsb3dlcmNhc2VOYW1lIDpcblx0XHRcdFx0bnVsbDtcblx0XHRcdGF0dHJIYW5kbGVbIGxvd2VyY2FzZU5hbWUgXSA9IGhhbmRsZTtcblx0XHR9XG5cdFx0cmV0dXJuIHJldDtcblx0fTtcbn0gKTtcblxuXG5cblxudmFyIHJmb2N1c2FibGUgPSAvXig/OmlucHV0fHNlbGVjdHx0ZXh0YXJlYXxidXR0b24pJC9pLFxuXHRyY2xpY2thYmxlID0gL14oPzphfGFyZWEpJC9pO1xuXG5qUXVlcnkuZm4uZXh0ZW5kKCB7XG5cdHByb3A6IGZ1bmN0aW9uKCBuYW1lLCB2YWx1ZSApIHtcblx0XHRyZXR1cm4gYWNjZXNzKCB0aGlzLCBqUXVlcnkucHJvcCwgbmFtZSwgdmFsdWUsIGFyZ3VtZW50cy5sZW5ndGggPiAxICk7XG5cdH0sXG5cblx0cmVtb3ZlUHJvcDogZnVuY3Rpb24oIG5hbWUgKSB7XG5cdFx0cmV0dXJuIHRoaXMuZWFjaCggZnVuY3Rpb24oKSB7XG5cdFx0XHRkZWxldGUgdGhpc1sgalF1ZXJ5LnByb3BGaXhbIG5hbWUgXSB8fCBuYW1lIF07XG5cdFx0fSApO1xuXHR9XG59ICk7XG5cbmpRdWVyeS5leHRlbmQoIHtcblx0cHJvcDogZnVuY3Rpb24oIGVsZW0sIG5hbWUsIHZhbHVlICkge1xuXHRcdHZhciByZXQsIGhvb2tzLFxuXHRcdFx0blR5cGUgPSBlbGVtLm5vZGVUeXBlO1xuXG5cdFx0Ly8gRG9uJ3QgZ2V0L3NldCBwcm9wZXJ0aWVzIG9uIHRleHQsIGNvbW1lbnQgYW5kIGF0dHJpYnV0ZSBub2Rlc1xuXHRcdGlmICggblR5cGUgPT09IDMgfHwgblR5cGUgPT09IDggfHwgblR5cGUgPT09IDIgKSB7XG5cdFx0XHRyZXR1cm47XG5cdFx0fVxuXG5cdFx0aWYgKCBuVHlwZSAhPT0gMSB8fCAhalF1ZXJ5LmlzWE1MRG9jKCBlbGVtICkgKSB7XG5cblx0XHRcdC8vIEZpeCBuYW1lIGFuZCBhdHRhY2ggaG9va3Ncblx0XHRcdG5hbWUgPSBqUXVlcnkucHJvcEZpeFsgbmFtZSBdIHx8IG5hbWU7XG5cdFx0XHRob29rcyA9IGpRdWVyeS5wcm9wSG9va3NbIG5hbWUgXTtcblx0XHR9XG5cblx0XHRpZiAoIHZhbHVlICE9PSB1bmRlZmluZWQgKSB7XG5cdFx0XHRpZiAoIGhvb2tzICYmIFwic2V0XCIgaW4gaG9va3MgJiZcblx0XHRcdFx0KCByZXQgPSBob29rcy5zZXQoIGVsZW0sIHZhbHVlLCBuYW1lICkgKSAhPT0gdW5kZWZpbmVkICkge1xuXHRcdFx0XHRyZXR1cm4gcmV0O1xuXHRcdFx0fVxuXG5cdFx0XHRyZXR1cm4gKCBlbGVtWyBuYW1lIF0gPSB2YWx1ZSApO1xuXHRcdH1cblxuXHRcdGlmICggaG9va3MgJiYgXCJnZXRcIiBpbiBob29rcyAmJiAoIHJldCA9IGhvb2tzLmdldCggZWxlbSwgbmFtZSApICkgIT09IG51bGwgKSB7XG5cdFx0XHRyZXR1cm4gcmV0O1xuXHRcdH1cblxuXHRcdHJldHVybiBlbGVtWyBuYW1lIF07XG5cdH0sXG5cblx0cHJvcEhvb2tzOiB7XG5cdFx0dGFiSW5kZXg6IHtcblx0XHRcdGdldDogZnVuY3Rpb24oIGVsZW0gKSB7XG5cblx0XHRcdFx0Ly8gU3VwcG9ydDogSUUgPD05IC0gMTEgb25seVxuXHRcdFx0XHQvLyBlbGVtLnRhYkluZGV4IGRvZXNuJ3QgYWx3YXlzIHJldHVybiB0aGVcblx0XHRcdFx0Ly8gY29ycmVjdCB2YWx1ZSB3aGVuIGl0IGhhc24ndCBiZWVuIGV4cGxpY2l0bHkgc2V0XG5cdFx0XHRcdC8vIGh0dHBzOi8vd2ViLmFyY2hpdmUub3JnL3dlYi8yMDE0MTExNjIzMzM0Ny9odHRwOi8vZmx1aWRwcm9qZWN0Lm9yZy9ibG9nLzIwMDgvMDEvMDkvZ2V0dGluZy1zZXR0aW5nLWFuZC1yZW1vdmluZy10YWJpbmRleC12YWx1ZXMtd2l0aC1qYXZhc2NyaXB0L1xuXHRcdFx0XHQvLyBVc2UgcHJvcGVyIGF0dHJpYnV0ZSByZXRyaWV2YWwoIzEyMDcyKVxuXHRcdFx0XHR2YXIgdGFiaW5kZXggPSBqUXVlcnkuZmluZC5hdHRyKCBlbGVtLCBcInRhYmluZGV4XCIgKTtcblxuXHRcdFx0XHRpZiAoIHRhYmluZGV4ICkge1xuXHRcdFx0XHRcdHJldHVybiBwYXJzZUludCggdGFiaW5kZXgsIDEwICk7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRpZiAoXG5cdFx0XHRcdFx0cmZvY3VzYWJsZS50ZXN0KCBlbGVtLm5vZGVOYW1lICkgfHxcblx0XHRcdFx0XHRyY2xpY2thYmxlLnRlc3QoIGVsZW0ubm9kZU5hbWUgKSAmJlxuXHRcdFx0XHRcdGVsZW0uaHJlZlxuXHRcdFx0XHQpIHtcblx0XHRcdFx0XHRyZXR1cm4gMDtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdHJldHVybiAtMTtcblx0XHRcdH1cblx0XHR9XG5cdH0sXG5cblx0cHJvcEZpeDoge1xuXHRcdFwiZm9yXCI6IFwiaHRtbEZvclwiLFxuXHRcdFwiY2xhc3NcIjogXCJjbGFzc05hbWVcIlxuXHR9XG59ICk7XG5cbi8vIFN1cHBvcnQ6IElFIDw9MTEgb25seVxuLy8gQWNjZXNzaW5nIHRoZSBzZWxlY3RlZEluZGV4IHByb3BlcnR5XG4vLyBmb3JjZXMgdGhlIGJyb3dzZXIgdG8gcmVzcGVjdCBzZXR0aW5nIHNlbGVjdGVkXG4vLyBvbiB0aGUgb3B0aW9uXG4vLyBUaGUgZ2V0dGVyIGVuc3VyZXMgYSBkZWZhdWx0IG9wdGlvbiBpcyBzZWxlY3RlZFxuLy8gd2hlbiBpbiBhbiBvcHRncm91cFxuLy8gZXNsaW50IHJ1bGUgXCJuby11bnVzZWQtZXhwcmVzc2lvbnNcIiBpcyBkaXNhYmxlZCBmb3IgdGhpcyBjb2RlXG4vLyBzaW5jZSBpdCBjb25zaWRlcnMgc3VjaCBhY2Nlc3Npb25zIG5vb3BcbmlmICggIXN1cHBvcnQub3B0U2VsZWN0ZWQgKSB7XG5cdGpRdWVyeS5wcm9wSG9va3Muc2VsZWN0ZWQgPSB7XG5cdFx0Z2V0OiBmdW5jdGlvbiggZWxlbSApIHtcblxuXHRcdFx0LyogZXNsaW50IG5vLXVudXNlZC1leHByZXNzaW9uczogXCJvZmZcIiAqL1xuXG5cdFx0XHR2YXIgcGFyZW50ID0gZWxlbS5wYXJlbnROb2RlO1xuXHRcdFx0aWYgKCBwYXJlbnQgJiYgcGFyZW50LnBhcmVudE5vZGUgKSB7XG5cdFx0XHRcdHBhcmVudC5wYXJlbnROb2RlLnNlbGVjdGVkSW5kZXg7XG5cdFx0XHR9XG5cdFx0XHRyZXR1cm4gbnVsbDtcblx0XHR9LFxuXHRcdHNldDogZnVuY3Rpb24oIGVsZW0gKSB7XG5cblx0XHRcdC8qIGVzbGludCBuby11bnVzZWQtZXhwcmVzc2lvbnM6IFwib2ZmXCIgKi9cblxuXHRcdFx0dmFyIHBhcmVudCA9IGVsZW0ucGFyZW50Tm9kZTtcblx0XHRcdGlmICggcGFyZW50ICkge1xuXHRcdFx0XHRwYXJlbnQuc2VsZWN0ZWRJbmRleDtcblxuXHRcdFx0XHRpZiAoIHBhcmVudC5wYXJlbnROb2RlICkge1xuXHRcdFx0XHRcdHBhcmVudC5wYXJlbnROb2RlLnNlbGVjdGVkSW5kZXg7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9XG5cdH07XG59XG5cbmpRdWVyeS5lYWNoKCBbXG5cdFwidGFiSW5kZXhcIixcblx0XCJyZWFkT25seVwiLFxuXHRcIm1heExlbmd0aFwiLFxuXHRcImNlbGxTcGFjaW5nXCIsXG5cdFwiY2VsbFBhZGRpbmdcIixcblx0XCJyb3dTcGFuXCIsXG5cdFwiY29sU3BhblwiLFxuXHRcInVzZU1hcFwiLFxuXHRcImZyYW1lQm9yZGVyXCIsXG5cdFwiY29udGVudEVkaXRhYmxlXCJcbl0sIGZ1bmN0aW9uKCkge1xuXHRqUXVlcnkucHJvcEZpeFsgdGhpcy50b0xvd2VyQ2FzZSgpIF0gPSB0aGlzO1xufSApO1xuXG5cblxuXG5cdC8vIFN0cmlwIGFuZCBjb2xsYXBzZSB3aGl0ZXNwYWNlIGFjY29yZGluZyB0byBIVE1MIHNwZWNcblx0Ly8gaHR0cHM6Ly9odG1sLnNwZWMud2hhdHdnLm9yZy9tdWx0aXBhZ2UvaW5mcmFzdHJ1Y3R1cmUuaHRtbCNzdHJpcC1hbmQtY29sbGFwc2Utd2hpdGVzcGFjZVxuXHRmdW5jdGlvbiBzdHJpcEFuZENvbGxhcHNlKCB2YWx1ZSApIHtcblx0XHR2YXIgdG9rZW5zID0gdmFsdWUubWF0Y2goIHJub3RodG1sd2hpdGUgKSB8fCBbXTtcblx0XHRyZXR1cm4gdG9rZW5zLmpvaW4oIFwiIFwiICk7XG5cdH1cblxuXG5mdW5jdGlvbiBnZXRDbGFzcyggZWxlbSApIHtcblx0cmV0dXJuIGVsZW0uZ2V0QXR0cmlidXRlICYmIGVsZW0uZ2V0QXR0cmlidXRlKCBcImNsYXNzXCIgKSB8fCBcIlwiO1xufVxuXG5qUXVlcnkuZm4uZXh0ZW5kKCB7XG5cdGFkZENsYXNzOiBmdW5jdGlvbiggdmFsdWUgKSB7XG5cdFx0dmFyIGNsYXNzZXMsIGVsZW0sIGN1ciwgY3VyVmFsdWUsIGNsYXp6LCBqLCBmaW5hbFZhbHVlLFxuXHRcdFx0aSA9IDA7XG5cblx0XHRpZiAoIGpRdWVyeS5pc0Z1bmN0aW9uKCB2YWx1ZSApICkge1xuXHRcdFx0cmV0dXJuIHRoaXMuZWFjaCggZnVuY3Rpb24oIGogKSB7XG5cdFx0XHRcdGpRdWVyeSggdGhpcyApLmFkZENsYXNzKCB2YWx1ZS5jYWxsKCB0aGlzLCBqLCBnZXRDbGFzcyggdGhpcyApICkgKTtcblx0XHRcdH0gKTtcblx0XHR9XG5cblx0XHRpZiAoIHR5cGVvZiB2YWx1ZSA9PT0gXCJzdHJpbmdcIiAmJiB2YWx1ZSApIHtcblx0XHRcdGNsYXNzZXMgPSB2YWx1ZS5tYXRjaCggcm5vdGh0bWx3aGl0ZSApIHx8IFtdO1xuXG5cdFx0XHR3aGlsZSAoICggZWxlbSA9IHRoaXNbIGkrKyBdICkgKSB7XG5cdFx0XHRcdGN1clZhbHVlID0gZ2V0Q2xhc3MoIGVsZW0gKTtcblx0XHRcdFx0Y3VyID0gZWxlbS5ub2RlVHlwZSA9PT0gMSAmJiAoIFwiIFwiICsgc3RyaXBBbmRDb2xsYXBzZSggY3VyVmFsdWUgKSArIFwiIFwiICk7XG5cblx0XHRcdFx0aWYgKCBjdXIgKSB7XG5cdFx0XHRcdFx0aiA9IDA7XG5cdFx0XHRcdFx0d2hpbGUgKCAoIGNsYXp6ID0gY2xhc3Nlc1sgaisrIF0gKSApIHtcblx0XHRcdFx0XHRcdGlmICggY3VyLmluZGV4T2YoIFwiIFwiICsgY2xhenogKyBcIiBcIiApIDwgMCApIHtcblx0XHRcdFx0XHRcdFx0Y3VyICs9IGNsYXp6ICsgXCIgXCI7XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0Ly8gT25seSBhc3NpZ24gaWYgZGlmZmVyZW50IHRvIGF2b2lkIHVubmVlZGVkIHJlbmRlcmluZy5cblx0XHRcdFx0XHRmaW5hbFZhbHVlID0gc3RyaXBBbmRDb2xsYXBzZSggY3VyICk7XG5cdFx0XHRcdFx0aWYgKCBjdXJWYWx1ZSAhPT0gZmluYWxWYWx1ZSApIHtcblx0XHRcdFx0XHRcdGVsZW0uc2V0QXR0cmlidXRlKCBcImNsYXNzXCIsIGZpbmFsVmFsdWUgKTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9XG5cblx0XHRyZXR1cm4gdGhpcztcblx0fSxcblxuXHRyZW1vdmVDbGFzczogZnVuY3Rpb24oIHZhbHVlICkge1xuXHRcdHZhciBjbGFzc2VzLCBlbGVtLCBjdXIsIGN1clZhbHVlLCBjbGF6eiwgaiwgZmluYWxWYWx1ZSxcblx0XHRcdGkgPSAwO1xuXG5cdFx0aWYgKCBqUXVlcnkuaXNGdW5jdGlvbiggdmFsdWUgKSApIHtcblx0XHRcdHJldHVybiB0aGlzLmVhY2goIGZ1bmN0aW9uKCBqICkge1xuXHRcdFx0XHRqUXVlcnkoIHRoaXMgKS5yZW1vdmVDbGFzcyggdmFsdWUuY2FsbCggdGhpcywgaiwgZ2V0Q2xhc3MoIHRoaXMgKSApICk7XG5cdFx0XHR9ICk7XG5cdFx0fVxuXG5cdFx0aWYgKCAhYXJndW1lbnRzLmxlbmd0aCApIHtcblx0XHRcdHJldHVybiB0aGlzLmF0dHIoIFwiY2xhc3NcIiwgXCJcIiApO1xuXHRcdH1cblxuXHRcdGlmICggdHlwZW9mIHZhbHVlID09PSBcInN0cmluZ1wiICYmIHZhbHVlICkge1xuXHRcdFx0Y2xhc3NlcyA9IHZhbHVlLm1hdGNoKCBybm90aHRtbHdoaXRlICkgfHwgW107XG5cblx0XHRcdHdoaWxlICggKCBlbGVtID0gdGhpc1sgaSsrIF0gKSApIHtcblx0XHRcdFx0Y3VyVmFsdWUgPSBnZXRDbGFzcyggZWxlbSApO1xuXG5cdFx0XHRcdC8vIFRoaXMgZXhwcmVzc2lvbiBpcyBoZXJlIGZvciBiZXR0ZXIgY29tcHJlc3NpYmlsaXR5IChzZWUgYWRkQ2xhc3MpXG5cdFx0XHRcdGN1ciA9IGVsZW0ubm9kZVR5cGUgPT09IDEgJiYgKCBcIiBcIiArIHN0cmlwQW5kQ29sbGFwc2UoIGN1clZhbHVlICkgKyBcIiBcIiApO1xuXG5cdFx0XHRcdGlmICggY3VyICkge1xuXHRcdFx0XHRcdGogPSAwO1xuXHRcdFx0XHRcdHdoaWxlICggKCBjbGF6eiA9IGNsYXNzZXNbIGorKyBdICkgKSB7XG5cblx0XHRcdFx0XHRcdC8vIFJlbW92ZSAqYWxsKiBpbnN0YW5jZXNcblx0XHRcdFx0XHRcdHdoaWxlICggY3VyLmluZGV4T2YoIFwiIFwiICsgY2xhenogKyBcIiBcIiApID4gLTEgKSB7XG5cdFx0XHRcdFx0XHRcdGN1ciA9IGN1ci5yZXBsYWNlKCBcIiBcIiArIGNsYXp6ICsgXCIgXCIsIFwiIFwiICk7XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0Ly8gT25seSBhc3NpZ24gaWYgZGlmZmVyZW50IHRvIGF2b2lkIHVubmVlZGVkIHJlbmRlcmluZy5cblx0XHRcdFx0XHRmaW5hbFZhbHVlID0gc3RyaXBBbmRDb2xsYXBzZSggY3VyICk7XG5cdFx0XHRcdFx0aWYgKCBjdXJWYWx1ZSAhPT0gZmluYWxWYWx1ZSApIHtcblx0XHRcdFx0XHRcdGVsZW0uc2V0QXR0cmlidXRlKCBcImNsYXNzXCIsIGZpbmFsVmFsdWUgKTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9XG5cblx0XHRyZXR1cm4gdGhpcztcblx0fSxcblxuXHR0b2dnbGVDbGFzczogZnVuY3Rpb24oIHZhbHVlLCBzdGF0ZVZhbCApIHtcblx0XHR2YXIgdHlwZSA9IHR5cGVvZiB2YWx1ZTtcblxuXHRcdGlmICggdHlwZW9mIHN0YXRlVmFsID09PSBcImJvb2xlYW5cIiAmJiB0eXBlID09PSBcInN0cmluZ1wiICkge1xuXHRcdFx0cmV0dXJuIHN0YXRlVmFsID8gdGhpcy5hZGRDbGFzcyggdmFsdWUgKSA6IHRoaXMucmVtb3ZlQ2xhc3MoIHZhbHVlICk7XG5cdFx0fVxuXG5cdFx0aWYgKCBqUXVlcnkuaXNGdW5jdGlvbiggdmFsdWUgKSApIHtcblx0XHRcdHJldHVybiB0aGlzLmVhY2goIGZ1bmN0aW9uKCBpICkge1xuXHRcdFx0XHRqUXVlcnkoIHRoaXMgKS50b2dnbGVDbGFzcyhcblx0XHRcdFx0XHR2YWx1ZS5jYWxsKCB0aGlzLCBpLCBnZXRDbGFzcyggdGhpcyApLCBzdGF0ZVZhbCApLFxuXHRcdFx0XHRcdHN0YXRlVmFsXG5cdFx0XHRcdCk7XG5cdFx0XHR9ICk7XG5cdFx0fVxuXG5cdFx0cmV0dXJuIHRoaXMuZWFjaCggZnVuY3Rpb24oKSB7XG5cdFx0XHR2YXIgY2xhc3NOYW1lLCBpLCBzZWxmLCBjbGFzc05hbWVzO1xuXG5cdFx0XHRpZiAoIHR5cGUgPT09IFwic3RyaW5nXCIgKSB7XG5cblx0XHRcdFx0Ly8gVG9nZ2xlIGluZGl2aWR1YWwgY2xhc3MgbmFtZXNcblx0XHRcdFx0aSA9IDA7XG5cdFx0XHRcdHNlbGYgPSBqUXVlcnkoIHRoaXMgKTtcblx0XHRcdFx0Y2xhc3NOYW1lcyA9IHZhbHVlLm1hdGNoKCBybm90aHRtbHdoaXRlICkgfHwgW107XG5cblx0XHRcdFx0d2hpbGUgKCAoIGNsYXNzTmFtZSA9IGNsYXNzTmFtZXNbIGkrKyBdICkgKSB7XG5cblx0XHRcdFx0XHQvLyBDaGVjayBlYWNoIGNsYXNzTmFtZSBnaXZlbiwgc3BhY2Ugc2VwYXJhdGVkIGxpc3Rcblx0XHRcdFx0XHRpZiAoIHNlbGYuaGFzQ2xhc3MoIGNsYXNzTmFtZSApICkge1xuXHRcdFx0XHRcdFx0c2VsZi5yZW1vdmVDbGFzcyggY2xhc3NOYW1lICk7XG5cdFx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRcdHNlbGYuYWRkQ2xhc3MoIGNsYXNzTmFtZSApO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXG5cdFx0XHQvLyBUb2dnbGUgd2hvbGUgY2xhc3MgbmFtZVxuXHRcdFx0fSBlbHNlIGlmICggdmFsdWUgPT09IHVuZGVmaW5lZCB8fCB0eXBlID09PSBcImJvb2xlYW5cIiApIHtcblx0XHRcdFx0Y2xhc3NOYW1lID0gZ2V0Q2xhc3MoIHRoaXMgKTtcblx0XHRcdFx0aWYgKCBjbGFzc05hbWUgKSB7XG5cblx0XHRcdFx0XHQvLyBTdG9yZSBjbGFzc05hbWUgaWYgc2V0XG5cdFx0XHRcdFx0ZGF0YVByaXYuc2V0KCB0aGlzLCBcIl9fY2xhc3NOYW1lX19cIiwgY2xhc3NOYW1lICk7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHQvLyBJZiB0aGUgZWxlbWVudCBoYXMgYSBjbGFzcyBuYW1lIG9yIGlmIHdlJ3JlIHBhc3NlZCBgZmFsc2VgLFxuXHRcdFx0XHQvLyB0aGVuIHJlbW92ZSB0aGUgd2hvbGUgY2xhc3NuYW1lIChpZiB0aGVyZSB3YXMgb25lLCB0aGUgYWJvdmUgc2F2ZWQgaXQpLlxuXHRcdFx0XHQvLyBPdGhlcndpc2UgYnJpbmcgYmFjayB3aGF0ZXZlciB3YXMgcHJldmlvdXNseSBzYXZlZCAoaWYgYW55dGhpbmcpLFxuXHRcdFx0XHQvLyBmYWxsaW5nIGJhY2sgdG8gdGhlIGVtcHR5IHN0cmluZyBpZiBub3RoaW5nIHdhcyBzdG9yZWQuXG5cdFx0XHRcdGlmICggdGhpcy5zZXRBdHRyaWJ1dGUgKSB7XG5cdFx0XHRcdFx0dGhpcy5zZXRBdHRyaWJ1dGUoIFwiY2xhc3NcIixcblx0XHRcdFx0XHRcdGNsYXNzTmFtZSB8fCB2YWx1ZSA9PT0gZmFsc2UgP1xuXHRcdFx0XHRcdFx0XCJcIiA6XG5cdFx0XHRcdFx0XHRkYXRhUHJpdi5nZXQoIHRoaXMsIFwiX19jbGFzc05hbWVfX1wiICkgfHwgXCJcIlxuXHRcdFx0XHRcdCk7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9ICk7XG5cdH0sXG5cblx0aGFzQ2xhc3M6IGZ1bmN0aW9uKCBzZWxlY3RvciApIHtcblx0XHR2YXIgY2xhc3NOYW1lLCBlbGVtLFxuXHRcdFx0aSA9IDA7XG5cblx0XHRjbGFzc05hbWUgPSBcIiBcIiArIHNlbGVjdG9yICsgXCIgXCI7XG5cdFx0d2hpbGUgKCAoIGVsZW0gPSB0aGlzWyBpKysgXSApICkge1xuXHRcdFx0aWYgKCBlbGVtLm5vZGVUeXBlID09PSAxICYmXG5cdFx0XHRcdCggXCIgXCIgKyBzdHJpcEFuZENvbGxhcHNlKCBnZXRDbGFzcyggZWxlbSApICkgKyBcIiBcIiApLmluZGV4T2YoIGNsYXNzTmFtZSApID4gLTEgKSB7XG5cdFx0XHRcdFx0cmV0dXJuIHRydWU7XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0cmV0dXJuIGZhbHNlO1xuXHR9XG59ICk7XG5cblxuXG5cbnZhciBycmV0dXJuID0gL1xcci9nO1xuXG5qUXVlcnkuZm4uZXh0ZW5kKCB7XG5cdHZhbDogZnVuY3Rpb24oIHZhbHVlICkge1xuXHRcdHZhciBob29rcywgcmV0LCBpc0Z1bmN0aW9uLFxuXHRcdFx0ZWxlbSA9IHRoaXNbIDAgXTtcblxuXHRcdGlmICggIWFyZ3VtZW50cy5sZW5ndGggKSB7XG5cdFx0XHRpZiAoIGVsZW0gKSB7XG5cdFx0XHRcdGhvb2tzID0galF1ZXJ5LnZhbEhvb2tzWyBlbGVtLnR5cGUgXSB8fFxuXHRcdFx0XHRcdGpRdWVyeS52YWxIb29rc1sgZWxlbS5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpIF07XG5cblx0XHRcdFx0aWYgKCBob29rcyAmJlxuXHRcdFx0XHRcdFwiZ2V0XCIgaW4gaG9va3MgJiZcblx0XHRcdFx0XHQoIHJldCA9IGhvb2tzLmdldCggZWxlbSwgXCJ2YWx1ZVwiICkgKSAhPT0gdW5kZWZpbmVkXG5cdFx0XHRcdCkge1xuXHRcdFx0XHRcdHJldHVybiByZXQ7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRyZXQgPSBlbGVtLnZhbHVlO1xuXG5cdFx0XHRcdC8vIEhhbmRsZSBtb3N0IGNvbW1vbiBzdHJpbmcgY2FzZXNcblx0XHRcdFx0aWYgKCB0eXBlb2YgcmV0ID09PSBcInN0cmluZ1wiICkge1xuXHRcdFx0XHRcdHJldHVybiByZXQucmVwbGFjZSggcnJldHVybiwgXCJcIiApO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0Ly8gSGFuZGxlIGNhc2VzIHdoZXJlIHZhbHVlIGlzIG51bGwvdW5kZWYgb3IgbnVtYmVyXG5cdFx0XHRcdHJldHVybiByZXQgPT0gbnVsbCA/IFwiXCIgOiByZXQ7XG5cdFx0XHR9XG5cblx0XHRcdHJldHVybjtcblx0XHR9XG5cblx0XHRpc0Z1bmN0aW9uID0galF1ZXJ5LmlzRnVuY3Rpb24oIHZhbHVlICk7XG5cblx0XHRyZXR1cm4gdGhpcy5lYWNoKCBmdW5jdGlvbiggaSApIHtcblx0XHRcdHZhciB2YWw7XG5cblx0XHRcdGlmICggdGhpcy5ub2RlVHlwZSAhPT0gMSApIHtcblx0XHRcdFx0cmV0dXJuO1xuXHRcdFx0fVxuXG5cdFx0XHRpZiAoIGlzRnVuY3Rpb24gKSB7XG5cdFx0XHRcdHZhbCA9IHZhbHVlLmNhbGwoIHRoaXMsIGksIGpRdWVyeSggdGhpcyApLnZhbCgpICk7XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHR2YWwgPSB2YWx1ZTtcblx0XHRcdH1cblxuXHRcdFx0Ly8gVHJlYXQgbnVsbC91bmRlZmluZWQgYXMgXCJcIjsgY29udmVydCBudW1iZXJzIHRvIHN0cmluZ1xuXHRcdFx0aWYgKCB2YWwgPT0gbnVsbCApIHtcblx0XHRcdFx0dmFsID0gXCJcIjtcblxuXHRcdFx0fSBlbHNlIGlmICggdHlwZW9mIHZhbCA9PT0gXCJudW1iZXJcIiApIHtcblx0XHRcdFx0dmFsICs9IFwiXCI7XG5cblx0XHRcdH0gZWxzZSBpZiAoIEFycmF5LmlzQXJyYXkoIHZhbCApICkge1xuXHRcdFx0XHR2YWwgPSBqUXVlcnkubWFwKCB2YWwsIGZ1bmN0aW9uKCB2YWx1ZSApIHtcblx0XHRcdFx0XHRyZXR1cm4gdmFsdWUgPT0gbnVsbCA/IFwiXCIgOiB2YWx1ZSArIFwiXCI7XG5cdFx0XHRcdH0gKTtcblx0XHRcdH1cblxuXHRcdFx0aG9va3MgPSBqUXVlcnkudmFsSG9va3NbIHRoaXMudHlwZSBdIHx8IGpRdWVyeS52YWxIb29rc1sgdGhpcy5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpIF07XG5cblx0XHRcdC8vIElmIHNldCByZXR1cm5zIHVuZGVmaW5lZCwgZmFsbCBiYWNrIHRvIG5vcm1hbCBzZXR0aW5nXG5cdFx0XHRpZiAoICFob29rcyB8fCAhKCBcInNldFwiIGluIGhvb2tzICkgfHwgaG9va3Muc2V0KCB0aGlzLCB2YWwsIFwidmFsdWVcIiApID09PSB1bmRlZmluZWQgKSB7XG5cdFx0XHRcdHRoaXMudmFsdWUgPSB2YWw7XG5cdFx0XHR9XG5cdFx0fSApO1xuXHR9XG59ICk7XG5cbmpRdWVyeS5leHRlbmQoIHtcblx0dmFsSG9va3M6IHtcblx0XHRvcHRpb246IHtcblx0XHRcdGdldDogZnVuY3Rpb24oIGVsZW0gKSB7XG5cblx0XHRcdFx0dmFyIHZhbCA9IGpRdWVyeS5maW5kLmF0dHIoIGVsZW0sIFwidmFsdWVcIiApO1xuXHRcdFx0XHRyZXR1cm4gdmFsICE9IG51bGwgP1xuXHRcdFx0XHRcdHZhbCA6XG5cblx0XHRcdFx0XHQvLyBTdXBwb3J0OiBJRSA8PTEwIC0gMTEgb25seVxuXHRcdFx0XHRcdC8vIG9wdGlvbi50ZXh0IHRocm93cyBleGNlcHRpb25zICgjMTQ2ODYsICMxNDg1OClcblx0XHRcdFx0XHQvLyBTdHJpcCBhbmQgY29sbGFwc2Ugd2hpdGVzcGFjZVxuXHRcdFx0XHRcdC8vIGh0dHBzOi8vaHRtbC5zcGVjLndoYXR3Zy5vcmcvI3N0cmlwLWFuZC1jb2xsYXBzZS13aGl0ZXNwYWNlXG5cdFx0XHRcdFx0c3RyaXBBbmRDb2xsYXBzZSggalF1ZXJ5LnRleHQoIGVsZW0gKSApO1xuXHRcdFx0fVxuXHRcdH0sXG5cdFx0c2VsZWN0OiB7XG5cdFx0XHRnZXQ6IGZ1bmN0aW9uKCBlbGVtICkge1xuXHRcdFx0XHR2YXIgdmFsdWUsIG9wdGlvbiwgaSxcblx0XHRcdFx0XHRvcHRpb25zID0gZWxlbS5vcHRpb25zLFxuXHRcdFx0XHRcdGluZGV4ID0gZWxlbS5zZWxlY3RlZEluZGV4LFxuXHRcdFx0XHRcdG9uZSA9IGVsZW0udHlwZSA9PT0gXCJzZWxlY3Qtb25lXCIsXG5cdFx0XHRcdFx0dmFsdWVzID0gb25lID8gbnVsbCA6IFtdLFxuXHRcdFx0XHRcdG1heCA9IG9uZSA/IGluZGV4ICsgMSA6IG9wdGlvbnMubGVuZ3RoO1xuXG5cdFx0XHRcdGlmICggaW5kZXggPCAwICkge1xuXHRcdFx0XHRcdGkgPSBtYXg7XG5cblx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRpID0gb25lID8gaW5kZXggOiAwO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0Ly8gTG9vcCB0aHJvdWdoIGFsbCB0aGUgc2VsZWN0ZWQgb3B0aW9uc1xuXHRcdFx0XHRmb3IgKCA7IGkgPCBtYXg7IGkrKyApIHtcblx0XHRcdFx0XHRvcHRpb24gPSBvcHRpb25zWyBpIF07XG5cblx0XHRcdFx0XHQvLyBTdXBwb3J0OiBJRSA8PTkgb25seVxuXHRcdFx0XHRcdC8vIElFOC05IGRvZXNuJ3QgdXBkYXRlIHNlbGVjdGVkIGFmdGVyIGZvcm0gcmVzZXQgKCMyNTUxKVxuXHRcdFx0XHRcdGlmICggKCBvcHRpb24uc2VsZWN0ZWQgfHwgaSA9PT0gaW5kZXggKSAmJlxuXG5cdFx0XHRcdFx0XHRcdC8vIERvbid0IHJldHVybiBvcHRpb25zIHRoYXQgYXJlIGRpc2FibGVkIG9yIGluIGEgZGlzYWJsZWQgb3B0Z3JvdXBcblx0XHRcdFx0XHRcdFx0IW9wdGlvbi5kaXNhYmxlZCAmJlxuXHRcdFx0XHRcdFx0XHQoICFvcHRpb24ucGFyZW50Tm9kZS5kaXNhYmxlZCB8fFxuXHRcdFx0XHRcdFx0XHRcdCFub2RlTmFtZSggb3B0aW9uLnBhcmVudE5vZGUsIFwib3B0Z3JvdXBcIiApICkgKSB7XG5cblx0XHRcdFx0XHRcdC8vIEdldCB0aGUgc3BlY2lmaWMgdmFsdWUgZm9yIHRoZSBvcHRpb25cblx0XHRcdFx0XHRcdHZhbHVlID0galF1ZXJ5KCBvcHRpb24gKS52YWwoKTtcblxuXHRcdFx0XHRcdFx0Ly8gV2UgZG9uJ3QgbmVlZCBhbiBhcnJheSBmb3Igb25lIHNlbGVjdHNcblx0XHRcdFx0XHRcdGlmICggb25lICkge1xuXHRcdFx0XHRcdFx0XHRyZXR1cm4gdmFsdWU7XG5cdFx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRcdC8vIE11bHRpLVNlbGVjdHMgcmV0dXJuIGFuIGFycmF5XG5cdFx0XHRcdFx0XHR2YWx1ZXMucHVzaCggdmFsdWUgKTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRyZXR1cm4gdmFsdWVzO1xuXHRcdFx0fSxcblxuXHRcdFx0c2V0OiBmdW5jdGlvbiggZWxlbSwgdmFsdWUgKSB7XG5cdFx0XHRcdHZhciBvcHRpb25TZXQsIG9wdGlvbixcblx0XHRcdFx0XHRvcHRpb25zID0gZWxlbS5vcHRpb25zLFxuXHRcdFx0XHRcdHZhbHVlcyA9IGpRdWVyeS5tYWtlQXJyYXkoIHZhbHVlICksXG5cdFx0XHRcdFx0aSA9IG9wdGlvbnMubGVuZ3RoO1xuXG5cdFx0XHRcdHdoaWxlICggaS0tICkge1xuXHRcdFx0XHRcdG9wdGlvbiA9IG9wdGlvbnNbIGkgXTtcblxuXHRcdFx0XHRcdC8qIGVzbGludC1kaXNhYmxlIG5vLWNvbmQtYXNzaWduICovXG5cblx0XHRcdFx0XHRpZiAoIG9wdGlvbi5zZWxlY3RlZCA9XG5cdFx0XHRcdFx0XHRqUXVlcnkuaW5BcnJheSggalF1ZXJ5LnZhbEhvb2tzLm9wdGlvbi5nZXQoIG9wdGlvbiApLCB2YWx1ZXMgKSA+IC0xXG5cdFx0XHRcdFx0KSB7XG5cdFx0XHRcdFx0XHRvcHRpb25TZXQgPSB0cnVlO1xuXHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdC8qIGVzbGludC1lbmFibGUgbm8tY29uZC1hc3NpZ24gKi9cblx0XHRcdFx0fVxuXG5cdFx0XHRcdC8vIEZvcmNlIGJyb3dzZXJzIHRvIGJlaGF2ZSBjb25zaXN0ZW50bHkgd2hlbiBub24tbWF0Y2hpbmcgdmFsdWUgaXMgc2V0XG5cdFx0XHRcdGlmICggIW9wdGlvblNldCApIHtcblx0XHRcdFx0XHRlbGVtLnNlbGVjdGVkSW5kZXggPSAtMTtcblx0XHRcdFx0fVxuXHRcdFx0XHRyZXR1cm4gdmFsdWVzO1xuXHRcdFx0fVxuXHRcdH1cblx0fVxufSApO1xuXG4vLyBSYWRpb3MgYW5kIGNoZWNrYm94ZXMgZ2V0dGVyL3NldHRlclxualF1ZXJ5LmVhY2goIFsgXCJyYWRpb1wiLCBcImNoZWNrYm94XCIgXSwgZnVuY3Rpb24oKSB7XG5cdGpRdWVyeS52YWxIb29rc1sgdGhpcyBdID0ge1xuXHRcdHNldDogZnVuY3Rpb24oIGVsZW0sIHZhbHVlICkge1xuXHRcdFx0aWYgKCBBcnJheS5pc0FycmF5KCB2YWx1ZSApICkge1xuXHRcdFx0XHRyZXR1cm4gKCBlbGVtLmNoZWNrZWQgPSBqUXVlcnkuaW5BcnJheSggalF1ZXJ5KCBlbGVtICkudmFsKCksIHZhbHVlICkgPiAtMSApO1xuXHRcdFx0fVxuXHRcdH1cblx0fTtcblx0aWYgKCAhc3VwcG9ydC5jaGVja09uICkge1xuXHRcdGpRdWVyeS52YWxIb29rc1sgdGhpcyBdLmdldCA9IGZ1bmN0aW9uKCBlbGVtICkge1xuXHRcdFx0cmV0dXJuIGVsZW0uZ2V0QXR0cmlidXRlKCBcInZhbHVlXCIgKSA9PT0gbnVsbCA/IFwib25cIiA6IGVsZW0udmFsdWU7XG5cdFx0fTtcblx0fVxufSApO1xuXG5cblxuXG4vLyBSZXR1cm4galF1ZXJ5IGZvciBhdHRyaWJ1dGVzLW9ubHkgaW5jbHVzaW9uXG5cblxudmFyIHJmb2N1c01vcnBoID0gL14oPzpmb2N1c2luZm9jdXN8Zm9jdXNvdXRibHVyKSQvO1xuXG5qUXVlcnkuZXh0ZW5kKCBqUXVlcnkuZXZlbnQsIHtcblxuXHR0cmlnZ2VyOiBmdW5jdGlvbiggZXZlbnQsIGRhdGEsIGVsZW0sIG9ubHlIYW5kbGVycyApIHtcblxuXHRcdHZhciBpLCBjdXIsIHRtcCwgYnViYmxlVHlwZSwgb250eXBlLCBoYW5kbGUsIHNwZWNpYWwsXG5cdFx0XHRldmVudFBhdGggPSBbIGVsZW0gfHwgZG9jdW1lbnQgXSxcblx0XHRcdHR5cGUgPSBoYXNPd24uY2FsbCggZXZlbnQsIFwidHlwZVwiICkgPyBldmVudC50eXBlIDogZXZlbnQsXG5cdFx0XHRuYW1lc3BhY2VzID0gaGFzT3duLmNhbGwoIGV2ZW50LCBcIm5hbWVzcGFjZVwiICkgPyBldmVudC5uYW1lc3BhY2Uuc3BsaXQoIFwiLlwiICkgOiBbXTtcblxuXHRcdGN1ciA9IHRtcCA9IGVsZW0gPSBlbGVtIHx8IGRvY3VtZW50O1xuXG5cdFx0Ly8gRG9uJ3QgZG8gZXZlbnRzIG9uIHRleHQgYW5kIGNvbW1lbnQgbm9kZXNcblx0XHRpZiAoIGVsZW0ubm9kZVR5cGUgPT09IDMgfHwgZWxlbS5ub2RlVHlwZSA9PT0gOCApIHtcblx0XHRcdHJldHVybjtcblx0XHR9XG5cblx0XHQvLyBmb2N1cy9ibHVyIG1vcnBocyB0byBmb2N1c2luL291dDsgZW5zdXJlIHdlJ3JlIG5vdCBmaXJpbmcgdGhlbSByaWdodCBub3dcblx0XHRpZiAoIHJmb2N1c01vcnBoLnRlc3QoIHR5cGUgKyBqUXVlcnkuZXZlbnQudHJpZ2dlcmVkICkgKSB7XG5cdFx0XHRyZXR1cm47XG5cdFx0fVxuXG5cdFx0aWYgKCB0eXBlLmluZGV4T2YoIFwiLlwiICkgPiAtMSApIHtcblxuXHRcdFx0Ly8gTmFtZXNwYWNlZCB0cmlnZ2VyOyBjcmVhdGUgYSByZWdleHAgdG8gbWF0Y2ggZXZlbnQgdHlwZSBpbiBoYW5kbGUoKVxuXHRcdFx0bmFtZXNwYWNlcyA9IHR5cGUuc3BsaXQoIFwiLlwiICk7XG5cdFx0XHR0eXBlID0gbmFtZXNwYWNlcy5zaGlmdCgpO1xuXHRcdFx0bmFtZXNwYWNlcy5zb3J0KCk7XG5cdFx0fVxuXHRcdG9udHlwZSA9IHR5cGUuaW5kZXhPZiggXCI6XCIgKSA8IDAgJiYgXCJvblwiICsgdHlwZTtcblxuXHRcdC8vIENhbGxlciBjYW4gcGFzcyBpbiBhIGpRdWVyeS5FdmVudCBvYmplY3QsIE9iamVjdCwgb3IganVzdCBhbiBldmVudCB0eXBlIHN0cmluZ1xuXHRcdGV2ZW50ID0gZXZlbnRbIGpRdWVyeS5leHBhbmRvIF0gP1xuXHRcdFx0ZXZlbnQgOlxuXHRcdFx0bmV3IGpRdWVyeS5FdmVudCggdHlwZSwgdHlwZW9mIGV2ZW50ID09PSBcIm9iamVjdFwiICYmIGV2ZW50ICk7XG5cblx0XHQvLyBUcmlnZ2VyIGJpdG1hc2s6ICYgMSBmb3IgbmF0aXZlIGhhbmRsZXJzOyAmIDIgZm9yIGpRdWVyeSAoYWx3YXlzIHRydWUpXG5cdFx0ZXZlbnQuaXNUcmlnZ2VyID0gb25seUhhbmRsZXJzID8gMiA6IDM7XG5cdFx0ZXZlbnQubmFtZXNwYWNlID0gbmFtZXNwYWNlcy5qb2luKCBcIi5cIiApO1xuXHRcdGV2ZW50LnJuYW1lc3BhY2UgPSBldmVudC5uYW1lc3BhY2UgP1xuXHRcdFx0bmV3IFJlZ0V4cCggXCIoXnxcXFxcLilcIiArIG5hbWVzcGFjZXMuam9pbiggXCJcXFxcLig/Oi4qXFxcXC58KVwiICkgKyBcIihcXFxcLnwkKVwiICkgOlxuXHRcdFx0bnVsbDtcblxuXHRcdC8vIENsZWFuIHVwIHRoZSBldmVudCBpbiBjYXNlIGl0IGlzIGJlaW5nIHJldXNlZFxuXHRcdGV2ZW50LnJlc3VsdCA9IHVuZGVmaW5lZDtcblx0XHRpZiAoICFldmVudC50YXJnZXQgKSB7XG5cdFx0XHRldmVudC50YXJnZXQgPSBlbGVtO1xuXHRcdH1cblxuXHRcdC8vIENsb25lIGFueSBpbmNvbWluZyBkYXRhIGFuZCBwcmVwZW5kIHRoZSBldmVudCwgY3JlYXRpbmcgdGhlIGhhbmRsZXIgYXJnIGxpc3Rcblx0XHRkYXRhID0gZGF0YSA9PSBudWxsID9cblx0XHRcdFsgZXZlbnQgXSA6XG5cdFx0XHRqUXVlcnkubWFrZUFycmF5KCBkYXRhLCBbIGV2ZW50IF0gKTtcblxuXHRcdC8vIEFsbG93IHNwZWNpYWwgZXZlbnRzIHRvIGRyYXcgb3V0c2lkZSB0aGUgbGluZXNcblx0XHRzcGVjaWFsID0galF1ZXJ5LmV2ZW50LnNwZWNpYWxbIHR5cGUgXSB8fCB7fTtcblx0XHRpZiAoICFvbmx5SGFuZGxlcnMgJiYgc3BlY2lhbC50cmlnZ2VyICYmIHNwZWNpYWwudHJpZ2dlci5hcHBseSggZWxlbSwgZGF0YSApID09PSBmYWxzZSApIHtcblx0XHRcdHJldHVybjtcblx0XHR9XG5cblx0XHQvLyBEZXRlcm1pbmUgZXZlbnQgcHJvcGFnYXRpb24gcGF0aCBpbiBhZHZhbmNlLCBwZXIgVzNDIGV2ZW50cyBzcGVjICgjOTk1MSlcblx0XHQvLyBCdWJibGUgdXAgdG8gZG9jdW1lbnQsIHRoZW4gdG8gd2luZG93OyB3YXRjaCBmb3IgYSBnbG9iYWwgb3duZXJEb2N1bWVudCB2YXIgKCM5NzI0KVxuXHRcdGlmICggIW9ubHlIYW5kbGVycyAmJiAhc3BlY2lhbC5ub0J1YmJsZSAmJiAhalF1ZXJ5LmlzV2luZG93KCBlbGVtICkgKSB7XG5cblx0XHRcdGJ1YmJsZVR5cGUgPSBzcGVjaWFsLmRlbGVnYXRlVHlwZSB8fCB0eXBlO1xuXHRcdFx0aWYgKCAhcmZvY3VzTW9ycGgudGVzdCggYnViYmxlVHlwZSArIHR5cGUgKSApIHtcblx0XHRcdFx0Y3VyID0gY3VyLnBhcmVudE5vZGU7XG5cdFx0XHR9XG5cdFx0XHRmb3IgKCA7IGN1cjsgY3VyID0gY3VyLnBhcmVudE5vZGUgKSB7XG5cdFx0XHRcdGV2ZW50UGF0aC5wdXNoKCBjdXIgKTtcblx0XHRcdFx0dG1wID0gY3VyO1xuXHRcdFx0fVxuXG5cdFx0XHQvLyBPbmx5IGFkZCB3aW5kb3cgaWYgd2UgZ290IHRvIGRvY3VtZW50IChlLmcuLCBub3QgcGxhaW4gb2JqIG9yIGRldGFjaGVkIERPTSlcblx0XHRcdGlmICggdG1wID09PSAoIGVsZW0ub3duZXJEb2N1bWVudCB8fCBkb2N1bWVudCApICkge1xuXHRcdFx0XHRldmVudFBhdGgucHVzaCggdG1wLmRlZmF1bHRWaWV3IHx8IHRtcC5wYXJlbnRXaW5kb3cgfHwgd2luZG93ICk7XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0Ly8gRmlyZSBoYW5kbGVycyBvbiB0aGUgZXZlbnQgcGF0aFxuXHRcdGkgPSAwO1xuXHRcdHdoaWxlICggKCBjdXIgPSBldmVudFBhdGhbIGkrKyBdICkgJiYgIWV2ZW50LmlzUHJvcGFnYXRpb25TdG9wcGVkKCkgKSB7XG5cblx0XHRcdGV2ZW50LnR5cGUgPSBpID4gMSA/XG5cdFx0XHRcdGJ1YmJsZVR5cGUgOlxuXHRcdFx0XHRzcGVjaWFsLmJpbmRUeXBlIHx8IHR5cGU7XG5cblx0XHRcdC8vIGpRdWVyeSBoYW5kbGVyXG5cdFx0XHRoYW5kbGUgPSAoIGRhdGFQcml2LmdldCggY3VyLCBcImV2ZW50c1wiICkgfHwge30gKVsgZXZlbnQudHlwZSBdICYmXG5cdFx0XHRcdGRhdGFQcml2LmdldCggY3VyLCBcImhhbmRsZVwiICk7XG5cdFx0XHRpZiAoIGhhbmRsZSApIHtcblx0XHRcdFx0aGFuZGxlLmFwcGx5KCBjdXIsIGRhdGEgKTtcblx0XHRcdH1cblxuXHRcdFx0Ly8gTmF0aXZlIGhhbmRsZXJcblx0XHRcdGhhbmRsZSA9IG9udHlwZSAmJiBjdXJbIG9udHlwZSBdO1xuXHRcdFx0aWYgKCBoYW5kbGUgJiYgaGFuZGxlLmFwcGx5ICYmIGFjY2VwdERhdGEoIGN1ciApICkge1xuXHRcdFx0XHRldmVudC5yZXN1bHQgPSBoYW5kbGUuYXBwbHkoIGN1ciwgZGF0YSApO1xuXHRcdFx0XHRpZiAoIGV2ZW50LnJlc3VsdCA9PT0gZmFsc2UgKSB7XG5cdFx0XHRcdFx0ZXZlbnQucHJldmVudERlZmF1bHQoKTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH1cblx0XHRldmVudC50eXBlID0gdHlwZTtcblxuXHRcdC8vIElmIG5vYm9keSBwcmV2ZW50ZWQgdGhlIGRlZmF1bHQgYWN0aW9uLCBkbyBpdCBub3dcblx0XHRpZiAoICFvbmx5SGFuZGxlcnMgJiYgIWV2ZW50LmlzRGVmYXVsdFByZXZlbnRlZCgpICkge1xuXG5cdFx0XHRpZiAoICggIXNwZWNpYWwuX2RlZmF1bHQgfHxcblx0XHRcdFx0c3BlY2lhbC5fZGVmYXVsdC5hcHBseSggZXZlbnRQYXRoLnBvcCgpLCBkYXRhICkgPT09IGZhbHNlICkgJiZcblx0XHRcdFx0YWNjZXB0RGF0YSggZWxlbSApICkge1xuXG5cdFx0XHRcdC8vIENhbGwgYSBuYXRpdmUgRE9NIG1ldGhvZCBvbiB0aGUgdGFyZ2V0IHdpdGggdGhlIHNhbWUgbmFtZSBhcyB0aGUgZXZlbnQuXG5cdFx0XHRcdC8vIERvbid0IGRvIGRlZmF1bHQgYWN0aW9ucyBvbiB3aW5kb3csIHRoYXQncyB3aGVyZSBnbG9iYWwgdmFyaWFibGVzIGJlICgjNjE3MClcblx0XHRcdFx0aWYgKCBvbnR5cGUgJiYgalF1ZXJ5LmlzRnVuY3Rpb24oIGVsZW1bIHR5cGUgXSApICYmICFqUXVlcnkuaXNXaW5kb3coIGVsZW0gKSApIHtcblxuXHRcdFx0XHRcdC8vIERvbid0IHJlLXRyaWdnZXIgYW4gb25GT08gZXZlbnQgd2hlbiB3ZSBjYWxsIGl0cyBGT08oKSBtZXRob2Rcblx0XHRcdFx0XHR0bXAgPSBlbGVtWyBvbnR5cGUgXTtcblxuXHRcdFx0XHRcdGlmICggdG1wICkge1xuXHRcdFx0XHRcdFx0ZWxlbVsgb250eXBlIF0gPSBudWxsO1xuXHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdC8vIFByZXZlbnQgcmUtdHJpZ2dlcmluZyBvZiB0aGUgc2FtZSBldmVudCwgc2luY2Ugd2UgYWxyZWFkeSBidWJibGVkIGl0IGFib3ZlXG5cdFx0XHRcdFx0alF1ZXJ5LmV2ZW50LnRyaWdnZXJlZCA9IHR5cGU7XG5cdFx0XHRcdFx0ZWxlbVsgdHlwZSBdKCk7XG5cdFx0XHRcdFx0alF1ZXJ5LmV2ZW50LnRyaWdnZXJlZCA9IHVuZGVmaW5lZDtcblxuXHRcdFx0XHRcdGlmICggdG1wICkge1xuXHRcdFx0XHRcdFx0ZWxlbVsgb250eXBlIF0gPSB0bXA7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0cmV0dXJuIGV2ZW50LnJlc3VsdDtcblx0fSxcblxuXHQvLyBQaWdneWJhY2sgb24gYSBkb25vciBldmVudCB0byBzaW11bGF0ZSBhIGRpZmZlcmVudCBvbmVcblx0Ly8gVXNlZCBvbmx5IGZvciBgZm9jdXMoaW4gfCBvdXQpYCBldmVudHNcblx0c2ltdWxhdGU6IGZ1bmN0aW9uKCB0eXBlLCBlbGVtLCBldmVudCApIHtcblx0XHR2YXIgZSA9IGpRdWVyeS5leHRlbmQoXG5cdFx0XHRuZXcgalF1ZXJ5LkV2ZW50KCksXG5cdFx0XHRldmVudCxcblx0XHRcdHtcblx0XHRcdFx0dHlwZTogdHlwZSxcblx0XHRcdFx0aXNTaW11bGF0ZWQ6IHRydWVcblx0XHRcdH1cblx0XHQpO1xuXG5cdFx0alF1ZXJ5LmV2ZW50LnRyaWdnZXIoIGUsIG51bGwsIGVsZW0gKTtcblx0fVxuXG59ICk7XG5cbmpRdWVyeS5mbi5leHRlbmQoIHtcblxuXHR0cmlnZ2VyOiBmdW5jdGlvbiggdHlwZSwgZGF0YSApIHtcblx0XHRyZXR1cm4gdGhpcy5lYWNoKCBmdW5jdGlvbigpIHtcblx0XHRcdGpRdWVyeS5ldmVudC50cmlnZ2VyKCB0eXBlLCBkYXRhLCB0aGlzICk7XG5cdFx0fSApO1xuXHR9LFxuXHR0cmlnZ2VySGFuZGxlcjogZnVuY3Rpb24oIHR5cGUsIGRhdGEgKSB7XG5cdFx0dmFyIGVsZW0gPSB0aGlzWyAwIF07XG5cdFx0aWYgKCBlbGVtICkge1xuXHRcdFx0cmV0dXJuIGpRdWVyeS5ldmVudC50cmlnZ2VyKCB0eXBlLCBkYXRhLCBlbGVtLCB0cnVlICk7XG5cdFx0fVxuXHR9XG59ICk7XG5cblxualF1ZXJ5LmVhY2goICggXCJibHVyIGZvY3VzIGZvY3VzaW4gZm9jdXNvdXQgcmVzaXplIHNjcm9sbCBjbGljayBkYmxjbGljayBcIiArXG5cdFwibW91c2Vkb3duIG1vdXNldXAgbW91c2Vtb3ZlIG1vdXNlb3ZlciBtb3VzZW91dCBtb3VzZWVudGVyIG1vdXNlbGVhdmUgXCIgK1xuXHRcImNoYW5nZSBzZWxlY3Qgc3VibWl0IGtleWRvd24ga2V5cHJlc3Mga2V5dXAgY29udGV4dG1lbnVcIiApLnNwbGl0KCBcIiBcIiApLFxuXHRmdW5jdGlvbiggaSwgbmFtZSApIHtcblxuXHQvLyBIYW5kbGUgZXZlbnQgYmluZGluZ1xuXHRqUXVlcnkuZm5bIG5hbWUgXSA9IGZ1bmN0aW9uKCBkYXRhLCBmbiApIHtcblx0XHRyZXR1cm4gYXJndW1lbnRzLmxlbmd0aCA+IDAgP1xuXHRcdFx0dGhpcy5vbiggbmFtZSwgbnVsbCwgZGF0YSwgZm4gKSA6XG5cdFx0XHR0aGlzLnRyaWdnZXIoIG5hbWUgKTtcblx0fTtcbn0gKTtcblxualF1ZXJ5LmZuLmV4dGVuZCgge1xuXHRob3ZlcjogZnVuY3Rpb24oIGZuT3ZlciwgZm5PdXQgKSB7XG5cdFx0cmV0dXJuIHRoaXMubW91c2VlbnRlciggZm5PdmVyICkubW91c2VsZWF2ZSggZm5PdXQgfHwgZm5PdmVyICk7XG5cdH1cbn0gKTtcblxuXG5cblxuc3VwcG9ydC5mb2N1c2luID0gXCJvbmZvY3VzaW5cIiBpbiB3aW5kb3c7XG5cblxuLy8gU3VwcG9ydDogRmlyZWZveCA8PTQ0XG4vLyBGaXJlZm94IGRvZXNuJ3QgaGF2ZSBmb2N1cyhpbiB8IG91dCkgZXZlbnRzXG4vLyBSZWxhdGVkIHRpY2tldCAtIGh0dHBzOi8vYnVnemlsbGEubW96aWxsYS5vcmcvc2hvd19idWcuY2dpP2lkPTY4Nzc4N1xuLy9cbi8vIFN1cHBvcnQ6IENocm9tZSA8PTQ4IC0gNDksIFNhZmFyaSA8PTkuMCAtIDkuMVxuLy8gZm9jdXMoaW4gfCBvdXQpIGV2ZW50cyBmaXJlIGFmdGVyIGZvY3VzICYgYmx1ciBldmVudHMsXG4vLyB3aGljaCBpcyBzcGVjIHZpb2xhdGlvbiAtIGh0dHA6Ly93d3cudzMub3JnL1RSL0RPTS1MZXZlbC0zLUV2ZW50cy8jZXZlbnRzLWZvY3VzZXZlbnQtZXZlbnQtb3JkZXJcbi8vIFJlbGF0ZWQgdGlja2V0IC0gaHR0cHM6Ly9idWdzLmNocm9taXVtLm9yZy9wL2Nocm9taXVtL2lzc3Vlcy9kZXRhaWw/aWQ9NDQ5ODU3XG5pZiAoICFzdXBwb3J0LmZvY3VzaW4gKSB7XG5cdGpRdWVyeS5lYWNoKCB7IGZvY3VzOiBcImZvY3VzaW5cIiwgYmx1cjogXCJmb2N1c291dFwiIH0sIGZ1bmN0aW9uKCBvcmlnLCBmaXggKSB7XG5cblx0XHQvLyBBdHRhY2ggYSBzaW5nbGUgY2FwdHVyaW5nIGhhbmRsZXIgb24gdGhlIGRvY3VtZW50IHdoaWxlIHNvbWVvbmUgd2FudHMgZm9jdXNpbi9mb2N1c291dFxuXHRcdHZhciBoYW5kbGVyID0gZnVuY3Rpb24oIGV2ZW50ICkge1xuXHRcdFx0alF1ZXJ5LmV2ZW50LnNpbXVsYXRlKCBmaXgsIGV2ZW50LnRhcmdldCwgalF1ZXJ5LmV2ZW50LmZpeCggZXZlbnQgKSApO1xuXHRcdH07XG5cblx0XHRqUXVlcnkuZXZlbnQuc3BlY2lhbFsgZml4IF0gPSB7XG5cdFx0XHRzZXR1cDogZnVuY3Rpb24oKSB7XG5cdFx0XHRcdHZhciBkb2MgPSB0aGlzLm93bmVyRG9jdW1lbnQgfHwgdGhpcyxcblx0XHRcdFx0XHRhdHRhY2hlcyA9IGRhdGFQcml2LmFjY2VzcyggZG9jLCBmaXggKTtcblxuXHRcdFx0XHRpZiAoICFhdHRhY2hlcyApIHtcblx0XHRcdFx0XHRkb2MuYWRkRXZlbnRMaXN0ZW5lciggb3JpZywgaGFuZGxlciwgdHJ1ZSApO1xuXHRcdFx0XHR9XG5cdFx0XHRcdGRhdGFQcml2LmFjY2VzcyggZG9jLCBmaXgsICggYXR0YWNoZXMgfHwgMCApICsgMSApO1xuXHRcdFx0fSxcblx0XHRcdHRlYXJkb3duOiBmdW5jdGlvbigpIHtcblx0XHRcdFx0dmFyIGRvYyA9IHRoaXMub3duZXJEb2N1bWVudCB8fCB0aGlzLFxuXHRcdFx0XHRcdGF0dGFjaGVzID0gZGF0YVByaXYuYWNjZXNzKCBkb2MsIGZpeCApIC0gMTtcblxuXHRcdFx0XHRpZiAoICFhdHRhY2hlcyApIHtcblx0XHRcdFx0XHRkb2MucmVtb3ZlRXZlbnRMaXN0ZW5lciggb3JpZywgaGFuZGxlciwgdHJ1ZSApO1xuXHRcdFx0XHRcdGRhdGFQcml2LnJlbW92ZSggZG9jLCBmaXggKTtcblxuXHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdGRhdGFQcml2LmFjY2VzcyggZG9jLCBmaXgsIGF0dGFjaGVzICk7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9O1xuXHR9ICk7XG59XG52YXIgbG9jYXRpb24gPSB3aW5kb3cubG9jYXRpb247XG5cbnZhciBub25jZSA9IGpRdWVyeS5ub3coKTtcblxudmFyIHJxdWVyeSA9ICggL1xcPy8gKTtcblxuXG5cbi8vIENyb3NzLWJyb3dzZXIgeG1sIHBhcnNpbmdcbmpRdWVyeS5wYXJzZVhNTCA9IGZ1bmN0aW9uKCBkYXRhICkge1xuXHR2YXIgeG1sO1xuXHRpZiAoICFkYXRhIHx8IHR5cGVvZiBkYXRhICE9PSBcInN0cmluZ1wiICkge1xuXHRcdHJldHVybiBudWxsO1xuXHR9XG5cblx0Ly8gU3VwcG9ydDogSUUgOSAtIDExIG9ubHlcblx0Ly8gSUUgdGhyb3dzIG9uIHBhcnNlRnJvbVN0cmluZyB3aXRoIGludmFsaWQgaW5wdXQuXG5cdHRyeSB7XG5cdFx0eG1sID0gKCBuZXcgd2luZG93LkRPTVBhcnNlcigpICkucGFyc2VGcm9tU3RyaW5nKCBkYXRhLCBcInRleHQveG1sXCIgKTtcblx0fSBjYXRjaCAoIGUgKSB7XG5cdFx0eG1sID0gdW5kZWZpbmVkO1xuXHR9XG5cblx0aWYgKCAheG1sIHx8IHhtbC5nZXRFbGVtZW50c0J5VGFnTmFtZSggXCJwYXJzZXJlcnJvclwiICkubGVuZ3RoICkge1xuXHRcdGpRdWVyeS5lcnJvciggXCJJbnZhbGlkIFhNTDogXCIgKyBkYXRhICk7XG5cdH1cblx0cmV0dXJuIHhtbDtcbn07XG5cblxudmFyXG5cdHJicmFja2V0ID0gL1xcW1xcXSQvLFxuXHRyQ1JMRiA9IC9cXHI/XFxuL2csXG5cdHJzdWJtaXR0ZXJUeXBlcyA9IC9eKD86c3VibWl0fGJ1dHRvbnxpbWFnZXxyZXNldHxmaWxlKSQvaSxcblx0cnN1Ym1pdHRhYmxlID0gL14oPzppbnB1dHxzZWxlY3R8dGV4dGFyZWF8a2V5Z2VuKS9pO1xuXG5mdW5jdGlvbiBidWlsZFBhcmFtcyggcHJlZml4LCBvYmosIHRyYWRpdGlvbmFsLCBhZGQgKSB7XG5cdHZhciBuYW1lO1xuXG5cdGlmICggQXJyYXkuaXNBcnJheSggb2JqICkgKSB7XG5cblx0XHQvLyBTZXJpYWxpemUgYXJyYXkgaXRlbS5cblx0XHRqUXVlcnkuZWFjaCggb2JqLCBmdW5jdGlvbiggaSwgdiApIHtcblx0XHRcdGlmICggdHJhZGl0aW9uYWwgfHwgcmJyYWNrZXQudGVzdCggcHJlZml4ICkgKSB7XG5cblx0XHRcdFx0Ly8gVHJlYXQgZWFjaCBhcnJheSBpdGVtIGFzIGEgc2NhbGFyLlxuXHRcdFx0XHRhZGQoIHByZWZpeCwgdiApO1xuXG5cdFx0XHR9IGVsc2Uge1xuXG5cdFx0XHRcdC8vIEl0ZW0gaXMgbm9uLXNjYWxhciAoYXJyYXkgb3Igb2JqZWN0KSwgZW5jb2RlIGl0cyBudW1lcmljIGluZGV4LlxuXHRcdFx0XHRidWlsZFBhcmFtcyhcblx0XHRcdFx0XHRwcmVmaXggKyBcIltcIiArICggdHlwZW9mIHYgPT09IFwib2JqZWN0XCIgJiYgdiAhPSBudWxsID8gaSA6IFwiXCIgKSArIFwiXVwiLFxuXHRcdFx0XHRcdHYsXG5cdFx0XHRcdFx0dHJhZGl0aW9uYWwsXG5cdFx0XHRcdFx0YWRkXG5cdFx0XHRcdCk7XG5cdFx0XHR9XG5cdFx0fSApO1xuXG5cdH0gZWxzZSBpZiAoICF0cmFkaXRpb25hbCAmJiBqUXVlcnkudHlwZSggb2JqICkgPT09IFwib2JqZWN0XCIgKSB7XG5cblx0XHQvLyBTZXJpYWxpemUgb2JqZWN0IGl0ZW0uXG5cdFx0Zm9yICggbmFtZSBpbiBvYmogKSB7XG5cdFx0XHRidWlsZFBhcmFtcyggcHJlZml4ICsgXCJbXCIgKyBuYW1lICsgXCJdXCIsIG9ialsgbmFtZSBdLCB0cmFkaXRpb25hbCwgYWRkICk7XG5cdFx0fVxuXG5cdH0gZWxzZSB7XG5cblx0XHQvLyBTZXJpYWxpemUgc2NhbGFyIGl0ZW0uXG5cdFx0YWRkKCBwcmVmaXgsIG9iaiApO1xuXHR9XG59XG5cbi8vIFNlcmlhbGl6ZSBhbiBhcnJheSBvZiBmb3JtIGVsZW1lbnRzIG9yIGEgc2V0IG9mXG4vLyBrZXkvdmFsdWVzIGludG8gYSBxdWVyeSBzdHJpbmdcbmpRdWVyeS5wYXJhbSA9IGZ1bmN0aW9uKCBhLCB0cmFkaXRpb25hbCApIHtcblx0dmFyIHByZWZpeCxcblx0XHRzID0gW10sXG5cdFx0YWRkID0gZnVuY3Rpb24oIGtleSwgdmFsdWVPckZ1bmN0aW9uICkge1xuXG5cdFx0XHQvLyBJZiB2YWx1ZSBpcyBhIGZ1bmN0aW9uLCBpbnZva2UgaXQgYW5kIHVzZSBpdHMgcmV0dXJuIHZhbHVlXG5cdFx0XHR2YXIgdmFsdWUgPSBqUXVlcnkuaXNGdW5jdGlvbiggdmFsdWVPckZ1bmN0aW9uICkgP1xuXHRcdFx0XHR2YWx1ZU9yRnVuY3Rpb24oKSA6XG5cdFx0XHRcdHZhbHVlT3JGdW5jdGlvbjtcblxuXHRcdFx0c1sgcy5sZW5ndGggXSA9IGVuY29kZVVSSUNvbXBvbmVudCgga2V5ICkgKyBcIj1cIiArXG5cdFx0XHRcdGVuY29kZVVSSUNvbXBvbmVudCggdmFsdWUgPT0gbnVsbCA/IFwiXCIgOiB2YWx1ZSApO1xuXHRcdH07XG5cblx0Ly8gSWYgYW4gYXJyYXkgd2FzIHBhc3NlZCBpbiwgYXNzdW1lIHRoYXQgaXQgaXMgYW4gYXJyYXkgb2YgZm9ybSBlbGVtZW50cy5cblx0aWYgKCBBcnJheS5pc0FycmF5KCBhICkgfHwgKCBhLmpxdWVyeSAmJiAhalF1ZXJ5LmlzUGxhaW5PYmplY3QoIGEgKSApICkge1xuXG5cdFx0Ly8gU2VyaWFsaXplIHRoZSBmb3JtIGVsZW1lbnRzXG5cdFx0alF1ZXJ5LmVhY2goIGEsIGZ1bmN0aW9uKCkge1xuXHRcdFx0YWRkKCB0aGlzLm5hbWUsIHRoaXMudmFsdWUgKTtcblx0XHR9ICk7XG5cblx0fSBlbHNlIHtcblxuXHRcdC8vIElmIHRyYWRpdGlvbmFsLCBlbmNvZGUgdGhlIFwib2xkXCIgd2F5ICh0aGUgd2F5IDEuMy4yIG9yIG9sZGVyXG5cdFx0Ly8gZGlkIGl0KSwgb3RoZXJ3aXNlIGVuY29kZSBwYXJhbXMgcmVjdXJzaXZlbHkuXG5cdFx0Zm9yICggcHJlZml4IGluIGEgKSB7XG5cdFx0XHRidWlsZFBhcmFtcyggcHJlZml4LCBhWyBwcmVmaXggXSwgdHJhZGl0aW9uYWwsIGFkZCApO1xuXHRcdH1cblx0fVxuXG5cdC8vIFJldHVybiB0aGUgcmVzdWx0aW5nIHNlcmlhbGl6YXRpb25cblx0cmV0dXJuIHMuam9pbiggXCImXCIgKTtcbn07XG5cbmpRdWVyeS5mbi5leHRlbmQoIHtcblx0c2VyaWFsaXplOiBmdW5jdGlvbigpIHtcblx0XHRyZXR1cm4galF1ZXJ5LnBhcmFtKCB0aGlzLnNlcmlhbGl6ZUFycmF5KCkgKTtcblx0fSxcblx0c2VyaWFsaXplQXJyYXk6IGZ1bmN0aW9uKCkge1xuXHRcdHJldHVybiB0aGlzLm1hcCggZnVuY3Rpb24oKSB7XG5cblx0XHRcdC8vIENhbiBhZGQgcHJvcEhvb2sgZm9yIFwiZWxlbWVudHNcIiB0byBmaWx0ZXIgb3IgYWRkIGZvcm0gZWxlbWVudHNcblx0XHRcdHZhciBlbGVtZW50cyA9IGpRdWVyeS5wcm9wKCB0aGlzLCBcImVsZW1lbnRzXCIgKTtcblx0XHRcdHJldHVybiBlbGVtZW50cyA/IGpRdWVyeS5tYWtlQXJyYXkoIGVsZW1lbnRzICkgOiB0aGlzO1xuXHRcdH0gKVxuXHRcdC5maWx0ZXIoIGZ1bmN0aW9uKCkge1xuXHRcdFx0dmFyIHR5cGUgPSB0aGlzLnR5cGU7XG5cblx0XHRcdC8vIFVzZSAuaXMoIFwiOmRpc2FibGVkXCIgKSBzbyB0aGF0IGZpZWxkc2V0W2Rpc2FibGVkXSB3b3Jrc1xuXHRcdFx0cmV0dXJuIHRoaXMubmFtZSAmJiAhalF1ZXJ5KCB0aGlzICkuaXMoIFwiOmRpc2FibGVkXCIgKSAmJlxuXHRcdFx0XHRyc3VibWl0dGFibGUudGVzdCggdGhpcy5ub2RlTmFtZSApICYmICFyc3VibWl0dGVyVHlwZXMudGVzdCggdHlwZSApICYmXG5cdFx0XHRcdCggdGhpcy5jaGVja2VkIHx8ICFyY2hlY2thYmxlVHlwZS50ZXN0KCB0eXBlICkgKTtcblx0XHR9IClcblx0XHQubWFwKCBmdW5jdGlvbiggaSwgZWxlbSApIHtcblx0XHRcdHZhciB2YWwgPSBqUXVlcnkoIHRoaXMgKS52YWwoKTtcblxuXHRcdFx0aWYgKCB2YWwgPT0gbnVsbCApIHtcblx0XHRcdFx0cmV0dXJuIG51bGw7XG5cdFx0XHR9XG5cblx0XHRcdGlmICggQXJyYXkuaXNBcnJheSggdmFsICkgKSB7XG5cdFx0XHRcdHJldHVybiBqUXVlcnkubWFwKCB2YWwsIGZ1bmN0aW9uKCB2YWwgKSB7XG5cdFx0XHRcdFx0cmV0dXJuIHsgbmFtZTogZWxlbS5uYW1lLCB2YWx1ZTogdmFsLnJlcGxhY2UoIHJDUkxGLCBcIlxcclxcblwiICkgfTtcblx0XHRcdFx0fSApO1xuXHRcdFx0fVxuXG5cdFx0XHRyZXR1cm4geyBuYW1lOiBlbGVtLm5hbWUsIHZhbHVlOiB2YWwucmVwbGFjZSggckNSTEYsIFwiXFxyXFxuXCIgKSB9O1xuXHRcdH0gKS5nZXQoKTtcblx0fVxufSApO1xuXG5cbnZhclxuXHRyMjAgPSAvJTIwL2csXG5cdHJoYXNoID0gLyMuKiQvLFxuXHRyYW50aUNhY2hlID0gLyhbPyZdKV89W14mXSovLFxuXHRyaGVhZGVycyA9IC9eKC4qPyk6WyBcXHRdKihbXlxcclxcbl0qKSQvbWcsXG5cblx0Ly8gIzc2NTMsICM4MTI1LCAjODE1MjogbG9jYWwgcHJvdG9jb2wgZGV0ZWN0aW9uXG5cdHJsb2NhbFByb3RvY29sID0gL14oPzphYm91dHxhcHB8YXBwLXN0b3JhZ2V8ListZXh0ZW5zaW9ufGZpbGV8cmVzfHdpZGdldCk6JC8sXG5cdHJub0NvbnRlbnQgPSAvXig/OkdFVHxIRUFEKSQvLFxuXHRycHJvdG9jb2wgPSAvXlxcL1xcLy8sXG5cblx0LyogUHJlZmlsdGVyc1xuXHQgKiAxKSBUaGV5IGFyZSB1c2VmdWwgdG8gaW50cm9kdWNlIGN1c3RvbSBkYXRhVHlwZXMgKHNlZSBhamF4L2pzb25wLmpzIGZvciBhbiBleGFtcGxlKVxuXHQgKiAyKSBUaGVzZSBhcmUgY2FsbGVkOlxuXHQgKiAgICAtIEJFRk9SRSBhc2tpbmcgZm9yIGEgdHJhbnNwb3J0XG5cdCAqICAgIC0gQUZURVIgcGFyYW0gc2VyaWFsaXphdGlvbiAocy5kYXRhIGlzIGEgc3RyaW5nIGlmIHMucHJvY2Vzc0RhdGEgaXMgdHJ1ZSlcblx0ICogMykga2V5IGlzIHRoZSBkYXRhVHlwZVxuXHQgKiA0KSB0aGUgY2F0Y2hhbGwgc3ltYm9sIFwiKlwiIGNhbiBiZSB1c2VkXG5cdCAqIDUpIGV4ZWN1dGlvbiB3aWxsIHN0YXJ0IHdpdGggdHJhbnNwb3J0IGRhdGFUeXBlIGFuZCBUSEVOIGNvbnRpbnVlIGRvd24gdG8gXCIqXCIgaWYgbmVlZGVkXG5cdCAqL1xuXHRwcmVmaWx0ZXJzID0ge30sXG5cblx0LyogVHJhbnNwb3J0cyBiaW5kaW5nc1xuXHQgKiAxKSBrZXkgaXMgdGhlIGRhdGFUeXBlXG5cdCAqIDIpIHRoZSBjYXRjaGFsbCBzeW1ib2wgXCIqXCIgY2FuIGJlIHVzZWRcblx0ICogMykgc2VsZWN0aW9uIHdpbGwgc3RhcnQgd2l0aCB0cmFuc3BvcnQgZGF0YVR5cGUgYW5kIFRIRU4gZ28gdG8gXCIqXCIgaWYgbmVlZGVkXG5cdCAqL1xuXHR0cmFuc3BvcnRzID0ge30sXG5cblx0Ly8gQXZvaWQgY29tbWVudC1wcm9sb2cgY2hhciBzZXF1ZW5jZSAoIzEwMDk4KTsgbXVzdCBhcHBlYXNlIGxpbnQgYW5kIGV2YWRlIGNvbXByZXNzaW9uXG5cdGFsbFR5cGVzID0gXCIqL1wiLmNvbmNhdCggXCIqXCIgKSxcblxuXHQvLyBBbmNob3IgdGFnIGZvciBwYXJzaW5nIHRoZSBkb2N1bWVudCBvcmlnaW5cblx0b3JpZ2luQW5jaG9yID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCggXCJhXCIgKTtcblx0b3JpZ2luQW5jaG9yLmhyZWYgPSBsb2NhdGlvbi5ocmVmO1xuXG4vLyBCYXNlIFwiY29uc3RydWN0b3JcIiBmb3IgalF1ZXJ5LmFqYXhQcmVmaWx0ZXIgYW5kIGpRdWVyeS5hamF4VHJhbnNwb3J0XG5mdW5jdGlvbiBhZGRUb1ByZWZpbHRlcnNPclRyYW5zcG9ydHMoIHN0cnVjdHVyZSApIHtcblxuXHQvLyBkYXRhVHlwZUV4cHJlc3Npb24gaXMgb3B0aW9uYWwgYW5kIGRlZmF1bHRzIHRvIFwiKlwiXG5cdHJldHVybiBmdW5jdGlvbiggZGF0YVR5cGVFeHByZXNzaW9uLCBmdW5jICkge1xuXG5cdFx0aWYgKCB0eXBlb2YgZGF0YVR5cGVFeHByZXNzaW9uICE9PSBcInN0cmluZ1wiICkge1xuXHRcdFx0ZnVuYyA9IGRhdGFUeXBlRXhwcmVzc2lvbjtcblx0XHRcdGRhdGFUeXBlRXhwcmVzc2lvbiA9IFwiKlwiO1xuXHRcdH1cblxuXHRcdHZhciBkYXRhVHlwZSxcblx0XHRcdGkgPSAwLFxuXHRcdFx0ZGF0YVR5cGVzID0gZGF0YVR5cGVFeHByZXNzaW9uLnRvTG93ZXJDYXNlKCkubWF0Y2goIHJub3RodG1sd2hpdGUgKSB8fCBbXTtcblxuXHRcdGlmICggalF1ZXJ5LmlzRnVuY3Rpb24oIGZ1bmMgKSApIHtcblxuXHRcdFx0Ly8gRm9yIGVhY2ggZGF0YVR5cGUgaW4gdGhlIGRhdGFUeXBlRXhwcmVzc2lvblxuXHRcdFx0d2hpbGUgKCAoIGRhdGFUeXBlID0gZGF0YVR5cGVzWyBpKysgXSApICkge1xuXG5cdFx0XHRcdC8vIFByZXBlbmQgaWYgcmVxdWVzdGVkXG5cdFx0XHRcdGlmICggZGF0YVR5cGVbIDAgXSA9PT0gXCIrXCIgKSB7XG5cdFx0XHRcdFx0ZGF0YVR5cGUgPSBkYXRhVHlwZS5zbGljZSggMSApIHx8IFwiKlwiO1xuXHRcdFx0XHRcdCggc3RydWN0dXJlWyBkYXRhVHlwZSBdID0gc3RydWN0dXJlWyBkYXRhVHlwZSBdIHx8IFtdICkudW5zaGlmdCggZnVuYyApO1xuXG5cdFx0XHRcdC8vIE90aGVyd2lzZSBhcHBlbmRcblx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHQoIHN0cnVjdHVyZVsgZGF0YVR5cGUgXSA9IHN0cnVjdHVyZVsgZGF0YVR5cGUgXSB8fCBbXSApLnB1c2goIGZ1bmMgKTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH1cblx0fTtcbn1cblxuLy8gQmFzZSBpbnNwZWN0aW9uIGZ1bmN0aW9uIGZvciBwcmVmaWx0ZXJzIGFuZCB0cmFuc3BvcnRzXG5mdW5jdGlvbiBpbnNwZWN0UHJlZmlsdGVyc09yVHJhbnNwb3J0cyggc3RydWN0dXJlLCBvcHRpb25zLCBvcmlnaW5hbE9wdGlvbnMsIGpxWEhSICkge1xuXG5cdHZhciBpbnNwZWN0ZWQgPSB7fSxcblx0XHRzZWVraW5nVHJhbnNwb3J0ID0gKCBzdHJ1Y3R1cmUgPT09IHRyYW5zcG9ydHMgKTtcblxuXHRmdW5jdGlvbiBpbnNwZWN0KCBkYXRhVHlwZSApIHtcblx0XHR2YXIgc2VsZWN0ZWQ7XG5cdFx0aW5zcGVjdGVkWyBkYXRhVHlwZSBdID0gdHJ1ZTtcblx0XHRqUXVlcnkuZWFjaCggc3RydWN0dXJlWyBkYXRhVHlwZSBdIHx8IFtdLCBmdW5jdGlvbiggXywgcHJlZmlsdGVyT3JGYWN0b3J5ICkge1xuXHRcdFx0dmFyIGRhdGFUeXBlT3JUcmFuc3BvcnQgPSBwcmVmaWx0ZXJPckZhY3RvcnkoIG9wdGlvbnMsIG9yaWdpbmFsT3B0aW9ucywganFYSFIgKTtcblx0XHRcdGlmICggdHlwZW9mIGRhdGFUeXBlT3JUcmFuc3BvcnQgPT09IFwic3RyaW5nXCIgJiZcblx0XHRcdFx0IXNlZWtpbmdUcmFuc3BvcnQgJiYgIWluc3BlY3RlZFsgZGF0YVR5cGVPclRyYW5zcG9ydCBdICkge1xuXG5cdFx0XHRcdG9wdGlvbnMuZGF0YVR5cGVzLnVuc2hpZnQoIGRhdGFUeXBlT3JUcmFuc3BvcnQgKTtcblx0XHRcdFx0aW5zcGVjdCggZGF0YVR5cGVPclRyYW5zcG9ydCApO1xuXHRcdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0XHR9IGVsc2UgaWYgKCBzZWVraW5nVHJhbnNwb3J0ICkge1xuXHRcdFx0XHRyZXR1cm4gISggc2VsZWN0ZWQgPSBkYXRhVHlwZU9yVHJhbnNwb3J0ICk7XG5cdFx0XHR9XG5cdFx0fSApO1xuXHRcdHJldHVybiBzZWxlY3RlZDtcblx0fVxuXG5cdHJldHVybiBpbnNwZWN0KCBvcHRpb25zLmRhdGFUeXBlc1sgMCBdICkgfHwgIWluc3BlY3RlZFsgXCIqXCIgXSAmJiBpbnNwZWN0KCBcIipcIiApO1xufVxuXG4vLyBBIHNwZWNpYWwgZXh0ZW5kIGZvciBhamF4IG9wdGlvbnNcbi8vIHRoYXQgdGFrZXMgXCJmbGF0XCIgb3B0aW9ucyAobm90IHRvIGJlIGRlZXAgZXh0ZW5kZWQpXG4vLyBGaXhlcyAjOTg4N1xuZnVuY3Rpb24gYWpheEV4dGVuZCggdGFyZ2V0LCBzcmMgKSB7XG5cdHZhciBrZXksIGRlZXAsXG5cdFx0ZmxhdE9wdGlvbnMgPSBqUXVlcnkuYWpheFNldHRpbmdzLmZsYXRPcHRpb25zIHx8IHt9O1xuXG5cdGZvciAoIGtleSBpbiBzcmMgKSB7XG5cdFx0aWYgKCBzcmNbIGtleSBdICE9PSB1bmRlZmluZWQgKSB7XG5cdFx0XHQoIGZsYXRPcHRpb25zWyBrZXkgXSA/IHRhcmdldCA6ICggZGVlcCB8fCAoIGRlZXAgPSB7fSApICkgKVsga2V5IF0gPSBzcmNbIGtleSBdO1xuXHRcdH1cblx0fVxuXHRpZiAoIGRlZXAgKSB7XG5cdFx0alF1ZXJ5LmV4dGVuZCggdHJ1ZSwgdGFyZ2V0LCBkZWVwICk7XG5cdH1cblxuXHRyZXR1cm4gdGFyZ2V0O1xufVxuXG4vKiBIYW5kbGVzIHJlc3BvbnNlcyB0byBhbiBhamF4IHJlcXVlc3Q6XG4gKiAtIGZpbmRzIHRoZSByaWdodCBkYXRhVHlwZSAobWVkaWF0ZXMgYmV0d2VlbiBjb250ZW50LXR5cGUgYW5kIGV4cGVjdGVkIGRhdGFUeXBlKVxuICogLSByZXR1cm5zIHRoZSBjb3JyZXNwb25kaW5nIHJlc3BvbnNlXG4gKi9cbmZ1bmN0aW9uIGFqYXhIYW5kbGVSZXNwb25zZXMoIHMsIGpxWEhSLCByZXNwb25zZXMgKSB7XG5cblx0dmFyIGN0LCB0eXBlLCBmaW5hbERhdGFUeXBlLCBmaXJzdERhdGFUeXBlLFxuXHRcdGNvbnRlbnRzID0gcy5jb250ZW50cyxcblx0XHRkYXRhVHlwZXMgPSBzLmRhdGFUeXBlcztcblxuXHQvLyBSZW1vdmUgYXV0byBkYXRhVHlwZSBhbmQgZ2V0IGNvbnRlbnQtdHlwZSBpbiB0aGUgcHJvY2Vzc1xuXHR3aGlsZSAoIGRhdGFUeXBlc1sgMCBdID09PSBcIipcIiApIHtcblx0XHRkYXRhVHlwZXMuc2hpZnQoKTtcblx0XHRpZiAoIGN0ID09PSB1bmRlZmluZWQgKSB7XG5cdFx0XHRjdCA9IHMubWltZVR5cGUgfHwganFYSFIuZ2V0UmVzcG9uc2VIZWFkZXIoIFwiQ29udGVudC1UeXBlXCIgKTtcblx0XHR9XG5cdH1cblxuXHQvLyBDaGVjayBpZiB3ZSdyZSBkZWFsaW5nIHdpdGggYSBrbm93biBjb250ZW50LXR5cGVcblx0aWYgKCBjdCApIHtcblx0XHRmb3IgKCB0eXBlIGluIGNvbnRlbnRzICkge1xuXHRcdFx0aWYgKCBjb250ZW50c1sgdHlwZSBdICYmIGNvbnRlbnRzWyB0eXBlIF0udGVzdCggY3QgKSApIHtcblx0XHRcdFx0ZGF0YVR5cGVzLnVuc2hpZnQoIHR5cGUgKTtcblx0XHRcdFx0YnJlYWs7XG5cdFx0XHR9XG5cdFx0fVxuXHR9XG5cblx0Ly8gQ2hlY2sgdG8gc2VlIGlmIHdlIGhhdmUgYSByZXNwb25zZSBmb3IgdGhlIGV4cGVjdGVkIGRhdGFUeXBlXG5cdGlmICggZGF0YVR5cGVzWyAwIF0gaW4gcmVzcG9uc2VzICkge1xuXHRcdGZpbmFsRGF0YVR5cGUgPSBkYXRhVHlwZXNbIDAgXTtcblx0fSBlbHNlIHtcblxuXHRcdC8vIFRyeSBjb252ZXJ0aWJsZSBkYXRhVHlwZXNcblx0XHRmb3IgKCB0eXBlIGluIHJlc3BvbnNlcyApIHtcblx0XHRcdGlmICggIWRhdGFUeXBlc1sgMCBdIHx8IHMuY29udmVydGVyc1sgdHlwZSArIFwiIFwiICsgZGF0YVR5cGVzWyAwIF0gXSApIHtcblx0XHRcdFx0ZmluYWxEYXRhVHlwZSA9IHR5cGU7XG5cdFx0XHRcdGJyZWFrO1xuXHRcdFx0fVxuXHRcdFx0aWYgKCAhZmlyc3REYXRhVHlwZSApIHtcblx0XHRcdFx0Zmlyc3REYXRhVHlwZSA9IHR5cGU7XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0Ly8gT3IganVzdCB1c2UgZmlyc3Qgb25lXG5cdFx0ZmluYWxEYXRhVHlwZSA9IGZpbmFsRGF0YVR5cGUgfHwgZmlyc3REYXRhVHlwZTtcblx0fVxuXG5cdC8vIElmIHdlIGZvdW5kIGEgZGF0YVR5cGVcblx0Ly8gV2UgYWRkIHRoZSBkYXRhVHlwZSB0byB0aGUgbGlzdCBpZiBuZWVkZWRcblx0Ly8gYW5kIHJldHVybiB0aGUgY29ycmVzcG9uZGluZyByZXNwb25zZVxuXHRpZiAoIGZpbmFsRGF0YVR5cGUgKSB7XG5cdFx0aWYgKCBmaW5hbERhdGFUeXBlICE9PSBkYXRhVHlwZXNbIDAgXSApIHtcblx0XHRcdGRhdGFUeXBlcy51bnNoaWZ0KCBmaW5hbERhdGFUeXBlICk7XG5cdFx0fVxuXHRcdHJldHVybiByZXNwb25zZXNbIGZpbmFsRGF0YVR5cGUgXTtcblx0fVxufVxuXG4vKiBDaGFpbiBjb252ZXJzaW9ucyBnaXZlbiB0aGUgcmVxdWVzdCBhbmQgdGhlIG9yaWdpbmFsIHJlc3BvbnNlXG4gKiBBbHNvIHNldHMgdGhlIHJlc3BvbnNlWFhYIGZpZWxkcyBvbiB0aGUganFYSFIgaW5zdGFuY2VcbiAqL1xuZnVuY3Rpb24gYWpheENvbnZlcnQoIHMsIHJlc3BvbnNlLCBqcVhIUiwgaXNTdWNjZXNzICkge1xuXHR2YXIgY29udjIsIGN1cnJlbnQsIGNvbnYsIHRtcCwgcHJldixcblx0XHRjb252ZXJ0ZXJzID0ge30sXG5cblx0XHQvLyBXb3JrIHdpdGggYSBjb3B5IG9mIGRhdGFUeXBlcyBpbiBjYXNlIHdlIG5lZWQgdG8gbW9kaWZ5IGl0IGZvciBjb252ZXJzaW9uXG5cdFx0ZGF0YVR5cGVzID0gcy5kYXRhVHlwZXMuc2xpY2UoKTtcblxuXHQvLyBDcmVhdGUgY29udmVydGVycyBtYXAgd2l0aCBsb3dlcmNhc2VkIGtleXNcblx0aWYgKCBkYXRhVHlwZXNbIDEgXSApIHtcblx0XHRmb3IgKCBjb252IGluIHMuY29udmVydGVycyApIHtcblx0XHRcdGNvbnZlcnRlcnNbIGNvbnYudG9Mb3dlckNhc2UoKSBdID0gcy5jb252ZXJ0ZXJzWyBjb252IF07XG5cdFx0fVxuXHR9XG5cblx0Y3VycmVudCA9IGRhdGFUeXBlcy5zaGlmdCgpO1xuXG5cdC8vIENvbnZlcnQgdG8gZWFjaCBzZXF1ZW50aWFsIGRhdGFUeXBlXG5cdHdoaWxlICggY3VycmVudCApIHtcblxuXHRcdGlmICggcy5yZXNwb25zZUZpZWxkc1sgY3VycmVudCBdICkge1xuXHRcdFx0anFYSFJbIHMucmVzcG9uc2VGaWVsZHNbIGN1cnJlbnQgXSBdID0gcmVzcG9uc2U7XG5cdFx0fVxuXG5cdFx0Ly8gQXBwbHkgdGhlIGRhdGFGaWx0ZXIgaWYgcHJvdmlkZWRcblx0XHRpZiAoICFwcmV2ICYmIGlzU3VjY2VzcyAmJiBzLmRhdGFGaWx0ZXIgKSB7XG5cdFx0XHRyZXNwb25zZSA9IHMuZGF0YUZpbHRlciggcmVzcG9uc2UsIHMuZGF0YVR5cGUgKTtcblx0XHR9XG5cblx0XHRwcmV2ID0gY3VycmVudDtcblx0XHRjdXJyZW50ID0gZGF0YVR5cGVzLnNoaWZ0KCk7XG5cblx0XHRpZiAoIGN1cnJlbnQgKSB7XG5cblx0XHRcdC8vIFRoZXJlJ3Mgb25seSB3b3JrIHRvIGRvIGlmIGN1cnJlbnQgZGF0YVR5cGUgaXMgbm9uLWF1dG9cblx0XHRcdGlmICggY3VycmVudCA9PT0gXCIqXCIgKSB7XG5cblx0XHRcdFx0Y3VycmVudCA9IHByZXY7XG5cblx0XHRcdC8vIENvbnZlcnQgcmVzcG9uc2UgaWYgcHJldiBkYXRhVHlwZSBpcyBub24tYXV0byBhbmQgZGlmZmVycyBmcm9tIGN1cnJlbnRcblx0XHRcdH0gZWxzZSBpZiAoIHByZXYgIT09IFwiKlwiICYmIHByZXYgIT09IGN1cnJlbnQgKSB7XG5cblx0XHRcdFx0Ly8gU2VlayBhIGRpcmVjdCBjb252ZXJ0ZXJcblx0XHRcdFx0Y29udiA9IGNvbnZlcnRlcnNbIHByZXYgKyBcIiBcIiArIGN1cnJlbnQgXSB8fCBjb252ZXJ0ZXJzWyBcIiogXCIgKyBjdXJyZW50IF07XG5cblx0XHRcdFx0Ly8gSWYgbm9uZSBmb3VuZCwgc2VlayBhIHBhaXJcblx0XHRcdFx0aWYgKCAhY29udiApIHtcblx0XHRcdFx0XHRmb3IgKCBjb252MiBpbiBjb252ZXJ0ZXJzICkge1xuXG5cdFx0XHRcdFx0XHQvLyBJZiBjb252MiBvdXRwdXRzIGN1cnJlbnRcblx0XHRcdFx0XHRcdHRtcCA9IGNvbnYyLnNwbGl0KCBcIiBcIiApO1xuXHRcdFx0XHRcdFx0aWYgKCB0bXBbIDEgXSA9PT0gY3VycmVudCApIHtcblxuXHRcdFx0XHRcdFx0XHQvLyBJZiBwcmV2IGNhbiBiZSBjb252ZXJ0ZWQgdG8gYWNjZXB0ZWQgaW5wdXRcblx0XHRcdFx0XHRcdFx0Y29udiA9IGNvbnZlcnRlcnNbIHByZXYgKyBcIiBcIiArIHRtcFsgMCBdIF0gfHxcblx0XHRcdFx0XHRcdFx0XHRjb252ZXJ0ZXJzWyBcIiogXCIgKyB0bXBbIDAgXSBdO1xuXHRcdFx0XHRcdFx0XHRpZiAoIGNvbnYgKSB7XG5cblx0XHRcdFx0XHRcdFx0XHQvLyBDb25kZW5zZSBlcXVpdmFsZW5jZSBjb252ZXJ0ZXJzXG5cdFx0XHRcdFx0XHRcdFx0aWYgKCBjb252ID09PSB0cnVlICkge1xuXHRcdFx0XHRcdFx0XHRcdFx0Y29udiA9IGNvbnZlcnRlcnNbIGNvbnYyIF07XG5cblx0XHRcdFx0XHRcdFx0XHQvLyBPdGhlcndpc2UsIGluc2VydCB0aGUgaW50ZXJtZWRpYXRlIGRhdGFUeXBlXG5cdFx0XHRcdFx0XHRcdFx0fSBlbHNlIGlmICggY29udmVydGVyc1sgY29udjIgXSAhPT0gdHJ1ZSApIHtcblx0XHRcdFx0XHRcdFx0XHRcdGN1cnJlbnQgPSB0bXBbIDAgXTtcblx0XHRcdFx0XHRcdFx0XHRcdGRhdGFUeXBlcy51bnNoaWZ0KCB0bXBbIDEgXSApO1xuXHRcdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXG5cdFx0XHRcdC8vIEFwcGx5IGNvbnZlcnRlciAoaWYgbm90IGFuIGVxdWl2YWxlbmNlKVxuXHRcdFx0XHRpZiAoIGNvbnYgIT09IHRydWUgKSB7XG5cblx0XHRcdFx0XHQvLyBVbmxlc3MgZXJyb3JzIGFyZSBhbGxvd2VkIHRvIGJ1YmJsZSwgY2F0Y2ggYW5kIHJldHVybiB0aGVtXG5cdFx0XHRcdFx0aWYgKCBjb252ICYmIHMudGhyb3dzICkge1xuXHRcdFx0XHRcdFx0cmVzcG9uc2UgPSBjb252KCByZXNwb25zZSApO1xuXHRcdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0XHR0cnkge1xuXHRcdFx0XHRcdFx0XHRyZXNwb25zZSA9IGNvbnYoIHJlc3BvbnNlICk7XG5cdFx0XHRcdFx0XHR9IGNhdGNoICggZSApIHtcblx0XHRcdFx0XHRcdFx0cmV0dXJuIHtcblx0XHRcdFx0XHRcdFx0XHRzdGF0ZTogXCJwYXJzZXJlcnJvclwiLFxuXHRcdFx0XHRcdFx0XHRcdGVycm9yOiBjb252ID8gZSA6IFwiTm8gY29udmVyc2lvbiBmcm9tIFwiICsgcHJldiArIFwiIHRvIFwiICsgY3VycmVudFxuXHRcdFx0XHRcdFx0XHR9O1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH1cblx0fVxuXG5cdHJldHVybiB7IHN0YXRlOiBcInN1Y2Nlc3NcIiwgZGF0YTogcmVzcG9uc2UgfTtcbn1cblxualF1ZXJ5LmV4dGVuZCgge1xuXG5cdC8vIENvdW50ZXIgZm9yIGhvbGRpbmcgdGhlIG51bWJlciBvZiBhY3RpdmUgcXVlcmllc1xuXHRhY3RpdmU6IDAsXG5cblx0Ly8gTGFzdC1Nb2RpZmllZCBoZWFkZXIgY2FjaGUgZm9yIG5leHQgcmVxdWVzdFxuXHRsYXN0TW9kaWZpZWQ6IHt9LFxuXHRldGFnOiB7fSxcblxuXHRhamF4U2V0dGluZ3M6IHtcblx0XHR1cmw6IGxvY2F0aW9uLmhyZWYsXG5cdFx0dHlwZTogXCJHRVRcIixcblx0XHRpc0xvY2FsOiBybG9jYWxQcm90b2NvbC50ZXN0KCBsb2NhdGlvbi5wcm90b2NvbCApLFxuXHRcdGdsb2JhbDogdHJ1ZSxcblx0XHRwcm9jZXNzRGF0YTogdHJ1ZSxcblx0XHRhc3luYzogdHJ1ZSxcblx0XHRjb250ZW50VHlwZTogXCJhcHBsaWNhdGlvbi94LXd3dy1mb3JtLXVybGVuY29kZWQ7IGNoYXJzZXQ9VVRGLThcIixcblxuXHRcdC8qXG5cdFx0dGltZW91dDogMCxcblx0XHRkYXRhOiBudWxsLFxuXHRcdGRhdGFUeXBlOiBudWxsLFxuXHRcdHVzZXJuYW1lOiBudWxsLFxuXHRcdHBhc3N3b3JkOiBudWxsLFxuXHRcdGNhY2hlOiBudWxsLFxuXHRcdHRocm93czogZmFsc2UsXG5cdFx0dHJhZGl0aW9uYWw6IGZhbHNlLFxuXHRcdGhlYWRlcnM6IHt9LFxuXHRcdCovXG5cblx0XHRhY2NlcHRzOiB7XG5cdFx0XHRcIipcIjogYWxsVHlwZXMsXG5cdFx0XHR0ZXh0OiBcInRleHQvcGxhaW5cIixcblx0XHRcdGh0bWw6IFwidGV4dC9odG1sXCIsXG5cdFx0XHR4bWw6IFwiYXBwbGljYXRpb24veG1sLCB0ZXh0L3htbFwiLFxuXHRcdFx0anNvbjogXCJhcHBsaWNhdGlvbi9qc29uLCB0ZXh0L2phdmFzY3JpcHRcIlxuXHRcdH0sXG5cblx0XHRjb250ZW50czoge1xuXHRcdFx0eG1sOiAvXFxieG1sXFxiLyxcblx0XHRcdGh0bWw6IC9cXGJodG1sLyxcblx0XHRcdGpzb246IC9cXGJqc29uXFxiL1xuXHRcdH0sXG5cblx0XHRyZXNwb25zZUZpZWxkczoge1xuXHRcdFx0eG1sOiBcInJlc3BvbnNlWE1MXCIsXG5cdFx0XHR0ZXh0OiBcInJlc3BvbnNlVGV4dFwiLFxuXHRcdFx0anNvbjogXCJyZXNwb25zZUpTT05cIlxuXHRcdH0sXG5cblx0XHQvLyBEYXRhIGNvbnZlcnRlcnNcblx0XHQvLyBLZXlzIHNlcGFyYXRlIHNvdXJjZSAob3IgY2F0Y2hhbGwgXCIqXCIpIGFuZCBkZXN0aW5hdGlvbiB0eXBlcyB3aXRoIGEgc2luZ2xlIHNwYWNlXG5cdFx0Y29udmVydGVyczoge1xuXG5cdFx0XHQvLyBDb252ZXJ0IGFueXRoaW5nIHRvIHRleHRcblx0XHRcdFwiKiB0ZXh0XCI6IFN0cmluZyxcblxuXHRcdFx0Ly8gVGV4dCB0byBodG1sICh0cnVlID0gbm8gdHJhbnNmb3JtYXRpb24pXG5cdFx0XHRcInRleHQgaHRtbFwiOiB0cnVlLFxuXG5cdFx0XHQvLyBFdmFsdWF0ZSB0ZXh0IGFzIGEganNvbiBleHByZXNzaW9uXG5cdFx0XHRcInRleHQganNvblwiOiBKU09OLnBhcnNlLFxuXG5cdFx0XHQvLyBQYXJzZSB0ZXh0IGFzIHhtbFxuXHRcdFx0XCJ0ZXh0IHhtbFwiOiBqUXVlcnkucGFyc2VYTUxcblx0XHR9LFxuXG5cdFx0Ly8gRm9yIG9wdGlvbnMgdGhhdCBzaG91bGRuJ3QgYmUgZGVlcCBleHRlbmRlZDpcblx0XHQvLyB5b3UgY2FuIGFkZCB5b3VyIG93biBjdXN0b20gb3B0aW9ucyBoZXJlIGlmXG5cdFx0Ly8gYW5kIHdoZW4geW91IGNyZWF0ZSBvbmUgdGhhdCBzaG91bGRuJ3QgYmVcblx0XHQvLyBkZWVwIGV4dGVuZGVkIChzZWUgYWpheEV4dGVuZClcblx0XHRmbGF0T3B0aW9uczoge1xuXHRcdFx0dXJsOiB0cnVlLFxuXHRcdFx0Y29udGV4dDogdHJ1ZVxuXHRcdH1cblx0fSxcblxuXHQvLyBDcmVhdGVzIGEgZnVsbCBmbGVkZ2VkIHNldHRpbmdzIG9iamVjdCBpbnRvIHRhcmdldFxuXHQvLyB3aXRoIGJvdGggYWpheFNldHRpbmdzIGFuZCBzZXR0aW5ncyBmaWVsZHMuXG5cdC8vIElmIHRhcmdldCBpcyBvbWl0dGVkLCB3cml0ZXMgaW50byBhamF4U2V0dGluZ3MuXG5cdGFqYXhTZXR1cDogZnVuY3Rpb24oIHRhcmdldCwgc2V0dGluZ3MgKSB7XG5cdFx0cmV0dXJuIHNldHRpbmdzID9cblxuXHRcdFx0Ly8gQnVpbGRpbmcgYSBzZXR0aW5ncyBvYmplY3Rcblx0XHRcdGFqYXhFeHRlbmQoIGFqYXhFeHRlbmQoIHRhcmdldCwgalF1ZXJ5LmFqYXhTZXR0aW5ncyApLCBzZXR0aW5ncyApIDpcblxuXHRcdFx0Ly8gRXh0ZW5kaW5nIGFqYXhTZXR0aW5nc1xuXHRcdFx0YWpheEV4dGVuZCggalF1ZXJ5LmFqYXhTZXR0aW5ncywgdGFyZ2V0ICk7XG5cdH0sXG5cblx0YWpheFByZWZpbHRlcjogYWRkVG9QcmVmaWx0ZXJzT3JUcmFuc3BvcnRzKCBwcmVmaWx0ZXJzICksXG5cdGFqYXhUcmFuc3BvcnQ6IGFkZFRvUHJlZmlsdGVyc09yVHJhbnNwb3J0cyggdHJhbnNwb3J0cyApLFxuXG5cdC8vIE1haW4gbWV0aG9kXG5cdGFqYXg6IGZ1bmN0aW9uKCB1cmwsIG9wdGlvbnMgKSB7XG5cblx0XHQvLyBJZiB1cmwgaXMgYW4gb2JqZWN0LCBzaW11bGF0ZSBwcmUtMS41IHNpZ25hdHVyZVxuXHRcdGlmICggdHlwZW9mIHVybCA9PT0gXCJvYmplY3RcIiApIHtcblx0XHRcdG9wdGlvbnMgPSB1cmw7XG5cdFx0XHR1cmwgPSB1bmRlZmluZWQ7XG5cdFx0fVxuXG5cdFx0Ly8gRm9yY2Ugb3B0aW9ucyB0byBiZSBhbiBvYmplY3Rcblx0XHRvcHRpb25zID0gb3B0aW9ucyB8fCB7fTtcblxuXHRcdHZhciB0cmFuc3BvcnQsXG5cblx0XHRcdC8vIFVSTCB3aXRob3V0IGFudGktY2FjaGUgcGFyYW1cblx0XHRcdGNhY2hlVVJMLFxuXG5cdFx0XHQvLyBSZXNwb25zZSBoZWFkZXJzXG5cdFx0XHRyZXNwb25zZUhlYWRlcnNTdHJpbmcsXG5cdFx0XHRyZXNwb25zZUhlYWRlcnMsXG5cblx0XHRcdC8vIHRpbWVvdXQgaGFuZGxlXG5cdFx0XHR0aW1lb3V0VGltZXIsXG5cblx0XHRcdC8vIFVybCBjbGVhbnVwIHZhclxuXHRcdFx0dXJsQW5jaG9yLFxuXG5cdFx0XHQvLyBSZXF1ZXN0IHN0YXRlIChiZWNvbWVzIGZhbHNlIHVwb24gc2VuZCBhbmQgdHJ1ZSB1cG9uIGNvbXBsZXRpb24pXG5cdFx0XHRjb21wbGV0ZWQsXG5cblx0XHRcdC8vIFRvIGtub3cgaWYgZ2xvYmFsIGV2ZW50cyBhcmUgdG8gYmUgZGlzcGF0Y2hlZFxuXHRcdFx0ZmlyZUdsb2JhbHMsXG5cblx0XHRcdC8vIExvb3AgdmFyaWFibGVcblx0XHRcdGksXG5cblx0XHRcdC8vIHVuY2FjaGVkIHBhcnQgb2YgdGhlIHVybFxuXHRcdFx0dW5jYWNoZWQsXG5cblx0XHRcdC8vIENyZWF0ZSB0aGUgZmluYWwgb3B0aW9ucyBvYmplY3Rcblx0XHRcdHMgPSBqUXVlcnkuYWpheFNldHVwKCB7fSwgb3B0aW9ucyApLFxuXG5cdFx0XHQvLyBDYWxsYmFja3MgY29udGV4dFxuXHRcdFx0Y2FsbGJhY2tDb250ZXh0ID0gcy5jb250ZXh0IHx8IHMsXG5cblx0XHRcdC8vIENvbnRleHQgZm9yIGdsb2JhbCBldmVudHMgaXMgY2FsbGJhY2tDb250ZXh0IGlmIGl0IGlzIGEgRE9NIG5vZGUgb3IgalF1ZXJ5IGNvbGxlY3Rpb25cblx0XHRcdGdsb2JhbEV2ZW50Q29udGV4dCA9IHMuY29udGV4dCAmJlxuXHRcdFx0XHQoIGNhbGxiYWNrQ29udGV4dC5ub2RlVHlwZSB8fCBjYWxsYmFja0NvbnRleHQuanF1ZXJ5ICkgP1xuXHRcdFx0XHRcdGpRdWVyeSggY2FsbGJhY2tDb250ZXh0ICkgOlxuXHRcdFx0XHRcdGpRdWVyeS5ldmVudCxcblxuXHRcdFx0Ly8gRGVmZXJyZWRzXG5cdFx0XHRkZWZlcnJlZCA9IGpRdWVyeS5EZWZlcnJlZCgpLFxuXHRcdFx0Y29tcGxldGVEZWZlcnJlZCA9IGpRdWVyeS5DYWxsYmFja3MoIFwib25jZSBtZW1vcnlcIiApLFxuXG5cdFx0XHQvLyBTdGF0dXMtZGVwZW5kZW50IGNhbGxiYWNrc1xuXHRcdFx0c3RhdHVzQ29kZSA9IHMuc3RhdHVzQ29kZSB8fCB7fSxcblxuXHRcdFx0Ly8gSGVhZGVycyAodGhleSBhcmUgc2VudCBhbGwgYXQgb25jZSlcblx0XHRcdHJlcXVlc3RIZWFkZXJzID0ge30sXG5cdFx0XHRyZXF1ZXN0SGVhZGVyc05hbWVzID0ge30sXG5cblx0XHRcdC8vIERlZmF1bHQgYWJvcnQgbWVzc2FnZVxuXHRcdFx0c3RyQWJvcnQgPSBcImNhbmNlbGVkXCIsXG5cblx0XHRcdC8vIEZha2UgeGhyXG5cdFx0XHRqcVhIUiA9IHtcblx0XHRcdFx0cmVhZHlTdGF0ZTogMCxcblxuXHRcdFx0XHQvLyBCdWlsZHMgaGVhZGVycyBoYXNodGFibGUgaWYgbmVlZGVkXG5cdFx0XHRcdGdldFJlc3BvbnNlSGVhZGVyOiBmdW5jdGlvbigga2V5ICkge1xuXHRcdFx0XHRcdHZhciBtYXRjaDtcblx0XHRcdFx0XHRpZiAoIGNvbXBsZXRlZCApIHtcblx0XHRcdFx0XHRcdGlmICggIXJlc3BvbnNlSGVhZGVycyApIHtcblx0XHRcdFx0XHRcdFx0cmVzcG9uc2VIZWFkZXJzID0ge307XG5cdFx0XHRcdFx0XHRcdHdoaWxlICggKCBtYXRjaCA9IHJoZWFkZXJzLmV4ZWMoIHJlc3BvbnNlSGVhZGVyc1N0cmluZyApICkgKSB7XG5cdFx0XHRcdFx0XHRcdFx0cmVzcG9uc2VIZWFkZXJzWyBtYXRjaFsgMSBdLnRvTG93ZXJDYXNlKCkgXSA9IG1hdGNoWyAyIF07XG5cdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdG1hdGNoID0gcmVzcG9uc2VIZWFkZXJzWyBrZXkudG9Mb3dlckNhc2UoKSBdO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0XHRyZXR1cm4gbWF0Y2ggPT0gbnVsbCA/IG51bGwgOiBtYXRjaDtcblx0XHRcdFx0fSxcblxuXHRcdFx0XHQvLyBSYXcgc3RyaW5nXG5cdFx0XHRcdGdldEFsbFJlc3BvbnNlSGVhZGVyczogZnVuY3Rpb24oKSB7XG5cdFx0XHRcdFx0cmV0dXJuIGNvbXBsZXRlZCA/IHJlc3BvbnNlSGVhZGVyc1N0cmluZyA6IG51bGw7XG5cdFx0XHRcdH0sXG5cblx0XHRcdFx0Ly8gQ2FjaGVzIHRoZSBoZWFkZXJcblx0XHRcdFx0c2V0UmVxdWVzdEhlYWRlcjogZnVuY3Rpb24oIG5hbWUsIHZhbHVlICkge1xuXHRcdFx0XHRcdGlmICggY29tcGxldGVkID09IG51bGwgKSB7XG5cdFx0XHRcdFx0XHRuYW1lID0gcmVxdWVzdEhlYWRlcnNOYW1lc1sgbmFtZS50b0xvd2VyQ2FzZSgpIF0gPVxuXHRcdFx0XHRcdFx0XHRyZXF1ZXN0SGVhZGVyc05hbWVzWyBuYW1lLnRvTG93ZXJDYXNlKCkgXSB8fCBuYW1lO1xuXHRcdFx0XHRcdFx0cmVxdWVzdEhlYWRlcnNbIG5hbWUgXSA9IHZhbHVlO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0XHRyZXR1cm4gdGhpcztcblx0XHRcdFx0fSxcblxuXHRcdFx0XHQvLyBPdmVycmlkZXMgcmVzcG9uc2UgY29udGVudC10eXBlIGhlYWRlclxuXHRcdFx0XHRvdmVycmlkZU1pbWVUeXBlOiBmdW5jdGlvbiggdHlwZSApIHtcblx0XHRcdFx0XHRpZiAoIGNvbXBsZXRlZCA9PSBudWxsICkge1xuXHRcdFx0XHRcdFx0cy5taW1lVHlwZSA9IHR5cGU7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHRcdHJldHVybiB0aGlzO1xuXHRcdFx0XHR9LFxuXG5cdFx0XHRcdC8vIFN0YXR1cy1kZXBlbmRlbnQgY2FsbGJhY2tzXG5cdFx0XHRcdHN0YXR1c0NvZGU6IGZ1bmN0aW9uKCBtYXAgKSB7XG5cdFx0XHRcdFx0dmFyIGNvZGU7XG5cdFx0XHRcdFx0aWYgKCBtYXAgKSB7XG5cdFx0XHRcdFx0XHRpZiAoIGNvbXBsZXRlZCApIHtcblxuXHRcdFx0XHRcdFx0XHQvLyBFeGVjdXRlIHRoZSBhcHByb3ByaWF0ZSBjYWxsYmFja3Ncblx0XHRcdFx0XHRcdFx0anFYSFIuYWx3YXlzKCBtYXBbIGpxWEhSLnN0YXR1cyBdICk7XG5cdFx0XHRcdFx0XHR9IGVsc2Uge1xuXG5cdFx0XHRcdFx0XHRcdC8vIExhenktYWRkIHRoZSBuZXcgY2FsbGJhY2tzIGluIGEgd2F5IHRoYXQgcHJlc2VydmVzIG9sZCBvbmVzXG5cdFx0XHRcdFx0XHRcdGZvciAoIGNvZGUgaW4gbWFwICkge1xuXHRcdFx0XHRcdFx0XHRcdHN0YXR1c0NvZGVbIGNvZGUgXSA9IFsgc3RhdHVzQ29kZVsgY29kZSBdLCBtYXBbIGNvZGUgXSBdO1xuXHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHRcdHJldHVybiB0aGlzO1xuXHRcdFx0XHR9LFxuXG5cdFx0XHRcdC8vIENhbmNlbCB0aGUgcmVxdWVzdFxuXHRcdFx0XHRhYm9ydDogZnVuY3Rpb24oIHN0YXR1c1RleHQgKSB7XG5cdFx0XHRcdFx0dmFyIGZpbmFsVGV4dCA9IHN0YXR1c1RleHQgfHwgc3RyQWJvcnQ7XG5cdFx0XHRcdFx0aWYgKCB0cmFuc3BvcnQgKSB7XG5cdFx0XHRcdFx0XHR0cmFuc3BvcnQuYWJvcnQoIGZpbmFsVGV4dCApO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0XHRkb25lKCAwLCBmaW5hbFRleHQgKTtcblx0XHRcdFx0XHRyZXR1cm4gdGhpcztcblx0XHRcdFx0fVxuXHRcdFx0fTtcblxuXHRcdC8vIEF0dGFjaCBkZWZlcnJlZHNcblx0XHRkZWZlcnJlZC5wcm9taXNlKCBqcVhIUiApO1xuXG5cdFx0Ly8gQWRkIHByb3RvY29sIGlmIG5vdCBwcm92aWRlZCAocHJlZmlsdGVycyBtaWdodCBleHBlY3QgaXQpXG5cdFx0Ly8gSGFuZGxlIGZhbHN5IHVybCBpbiB0aGUgc2V0dGluZ3Mgb2JqZWN0ICgjMTAwOTM6IGNvbnNpc3RlbmN5IHdpdGggb2xkIHNpZ25hdHVyZSlcblx0XHQvLyBXZSBhbHNvIHVzZSB0aGUgdXJsIHBhcmFtZXRlciBpZiBhdmFpbGFibGVcblx0XHRzLnVybCA9ICggKCB1cmwgfHwgcy51cmwgfHwgbG9jYXRpb24uaHJlZiApICsgXCJcIiApXG5cdFx0XHQucmVwbGFjZSggcnByb3RvY29sLCBsb2NhdGlvbi5wcm90b2NvbCArIFwiLy9cIiApO1xuXG5cdFx0Ly8gQWxpYXMgbWV0aG9kIG9wdGlvbiB0byB0eXBlIGFzIHBlciB0aWNrZXQgIzEyMDA0XG5cdFx0cy50eXBlID0gb3B0aW9ucy5tZXRob2QgfHwgb3B0aW9ucy50eXBlIHx8IHMubWV0aG9kIHx8IHMudHlwZTtcblxuXHRcdC8vIEV4dHJhY3QgZGF0YVR5cGVzIGxpc3Rcblx0XHRzLmRhdGFUeXBlcyA9ICggcy5kYXRhVHlwZSB8fCBcIipcIiApLnRvTG93ZXJDYXNlKCkubWF0Y2goIHJub3RodG1sd2hpdGUgKSB8fCBbIFwiXCIgXTtcblxuXHRcdC8vIEEgY3Jvc3MtZG9tYWluIHJlcXVlc3QgaXMgaW4gb3JkZXIgd2hlbiB0aGUgb3JpZ2luIGRvZXNuJ3QgbWF0Y2ggdGhlIGN1cnJlbnQgb3JpZ2luLlxuXHRcdGlmICggcy5jcm9zc0RvbWFpbiA9PSBudWxsICkge1xuXHRcdFx0dXJsQW5jaG9yID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCggXCJhXCIgKTtcblxuXHRcdFx0Ly8gU3VwcG9ydDogSUUgPD04IC0gMTEsIEVkZ2UgMTIgLSAxM1xuXHRcdFx0Ly8gSUUgdGhyb3dzIGV4Y2VwdGlvbiBvbiBhY2Nlc3NpbmcgdGhlIGhyZWYgcHJvcGVydHkgaWYgdXJsIGlzIG1hbGZvcm1lZCxcblx0XHRcdC8vIGUuZy4gaHR0cDovL2V4YW1wbGUuY29tOjgweC9cblx0XHRcdHRyeSB7XG5cdFx0XHRcdHVybEFuY2hvci5ocmVmID0gcy51cmw7XG5cblx0XHRcdFx0Ly8gU3VwcG9ydDogSUUgPD04IC0gMTEgb25seVxuXHRcdFx0XHQvLyBBbmNob3IncyBob3N0IHByb3BlcnR5IGlzbid0IGNvcnJlY3RseSBzZXQgd2hlbiBzLnVybCBpcyByZWxhdGl2ZVxuXHRcdFx0XHR1cmxBbmNob3IuaHJlZiA9IHVybEFuY2hvci5ocmVmO1xuXHRcdFx0XHRzLmNyb3NzRG9tYWluID0gb3JpZ2luQW5jaG9yLnByb3RvY29sICsgXCIvL1wiICsgb3JpZ2luQW5jaG9yLmhvc3QgIT09XG5cdFx0XHRcdFx0dXJsQW5jaG9yLnByb3RvY29sICsgXCIvL1wiICsgdXJsQW5jaG9yLmhvc3Q7XG5cdFx0XHR9IGNhdGNoICggZSApIHtcblxuXHRcdFx0XHQvLyBJZiB0aGVyZSBpcyBhbiBlcnJvciBwYXJzaW5nIHRoZSBVUkwsIGFzc3VtZSBpdCBpcyBjcm9zc0RvbWFpbixcblx0XHRcdFx0Ly8gaXQgY2FuIGJlIHJlamVjdGVkIGJ5IHRoZSB0cmFuc3BvcnQgaWYgaXQgaXMgaW52YWxpZFxuXHRcdFx0XHRzLmNyb3NzRG9tYWluID0gdHJ1ZTtcblx0XHRcdH1cblx0XHR9XG5cblx0XHQvLyBDb252ZXJ0IGRhdGEgaWYgbm90IGFscmVhZHkgYSBzdHJpbmdcblx0XHRpZiAoIHMuZGF0YSAmJiBzLnByb2Nlc3NEYXRhICYmIHR5cGVvZiBzLmRhdGEgIT09IFwic3RyaW5nXCIgKSB7XG5cdFx0XHRzLmRhdGEgPSBqUXVlcnkucGFyYW0oIHMuZGF0YSwgcy50cmFkaXRpb25hbCApO1xuXHRcdH1cblxuXHRcdC8vIEFwcGx5IHByZWZpbHRlcnNcblx0XHRpbnNwZWN0UHJlZmlsdGVyc09yVHJhbnNwb3J0cyggcHJlZmlsdGVycywgcywgb3B0aW9ucywganFYSFIgKTtcblxuXHRcdC8vIElmIHJlcXVlc3Qgd2FzIGFib3J0ZWQgaW5zaWRlIGEgcHJlZmlsdGVyLCBzdG9wIHRoZXJlXG5cdFx0aWYgKCBjb21wbGV0ZWQgKSB7XG5cdFx0XHRyZXR1cm4ganFYSFI7XG5cdFx0fVxuXG5cdFx0Ly8gV2UgY2FuIGZpcmUgZ2xvYmFsIGV2ZW50cyBhcyBvZiBub3cgaWYgYXNrZWQgdG9cblx0XHQvLyBEb24ndCBmaXJlIGV2ZW50cyBpZiBqUXVlcnkuZXZlbnQgaXMgdW5kZWZpbmVkIGluIGFuIEFNRC11c2FnZSBzY2VuYXJpbyAoIzE1MTE4KVxuXHRcdGZpcmVHbG9iYWxzID0galF1ZXJ5LmV2ZW50ICYmIHMuZ2xvYmFsO1xuXG5cdFx0Ly8gV2F0Y2ggZm9yIGEgbmV3IHNldCBvZiByZXF1ZXN0c1xuXHRcdGlmICggZmlyZUdsb2JhbHMgJiYgalF1ZXJ5LmFjdGl2ZSsrID09PSAwICkge1xuXHRcdFx0alF1ZXJ5LmV2ZW50LnRyaWdnZXIoIFwiYWpheFN0YXJ0XCIgKTtcblx0XHR9XG5cblx0XHQvLyBVcHBlcmNhc2UgdGhlIHR5cGVcblx0XHRzLnR5cGUgPSBzLnR5cGUudG9VcHBlckNhc2UoKTtcblxuXHRcdC8vIERldGVybWluZSBpZiByZXF1ZXN0IGhhcyBjb250ZW50XG5cdFx0cy5oYXNDb250ZW50ID0gIXJub0NvbnRlbnQudGVzdCggcy50eXBlICk7XG5cblx0XHQvLyBTYXZlIHRoZSBVUkwgaW4gY2FzZSB3ZSdyZSB0b3lpbmcgd2l0aCB0aGUgSWYtTW9kaWZpZWQtU2luY2Vcblx0XHQvLyBhbmQvb3IgSWYtTm9uZS1NYXRjaCBoZWFkZXIgbGF0ZXIgb25cblx0XHQvLyBSZW1vdmUgaGFzaCB0byBzaW1wbGlmeSB1cmwgbWFuaXB1bGF0aW9uXG5cdFx0Y2FjaGVVUkwgPSBzLnVybC5yZXBsYWNlKCByaGFzaCwgXCJcIiApO1xuXG5cdFx0Ly8gTW9yZSBvcHRpb25zIGhhbmRsaW5nIGZvciByZXF1ZXN0cyB3aXRoIG5vIGNvbnRlbnRcblx0XHRpZiAoICFzLmhhc0NvbnRlbnQgKSB7XG5cblx0XHRcdC8vIFJlbWVtYmVyIHRoZSBoYXNoIHNvIHdlIGNhbiBwdXQgaXQgYmFja1xuXHRcdFx0dW5jYWNoZWQgPSBzLnVybC5zbGljZSggY2FjaGVVUkwubGVuZ3RoICk7XG5cblx0XHRcdC8vIElmIGRhdGEgaXMgYXZhaWxhYmxlLCBhcHBlbmQgZGF0YSB0byB1cmxcblx0XHRcdGlmICggcy5kYXRhICkge1xuXHRcdFx0XHRjYWNoZVVSTCArPSAoIHJxdWVyeS50ZXN0KCBjYWNoZVVSTCApID8gXCImXCIgOiBcIj9cIiApICsgcy5kYXRhO1xuXG5cdFx0XHRcdC8vICM5NjgyOiByZW1vdmUgZGF0YSBzbyB0aGF0IGl0J3Mgbm90IHVzZWQgaW4gYW4gZXZlbnR1YWwgcmV0cnlcblx0XHRcdFx0ZGVsZXRlIHMuZGF0YTtcblx0XHRcdH1cblxuXHRcdFx0Ly8gQWRkIG9yIHVwZGF0ZSBhbnRpLWNhY2hlIHBhcmFtIGlmIG5lZWRlZFxuXHRcdFx0aWYgKCBzLmNhY2hlID09PSBmYWxzZSApIHtcblx0XHRcdFx0Y2FjaGVVUkwgPSBjYWNoZVVSTC5yZXBsYWNlKCByYW50aUNhY2hlLCBcIiQxXCIgKTtcblx0XHRcdFx0dW5jYWNoZWQgPSAoIHJxdWVyeS50ZXN0KCBjYWNoZVVSTCApID8gXCImXCIgOiBcIj9cIiApICsgXCJfPVwiICsgKCBub25jZSsrICkgKyB1bmNhY2hlZDtcblx0XHRcdH1cblxuXHRcdFx0Ly8gUHV0IGhhc2ggYW5kIGFudGktY2FjaGUgb24gdGhlIFVSTCB0aGF0IHdpbGwgYmUgcmVxdWVzdGVkIChnaC0xNzMyKVxuXHRcdFx0cy51cmwgPSBjYWNoZVVSTCArIHVuY2FjaGVkO1xuXG5cdFx0Ly8gQ2hhbmdlICclMjAnIHRvICcrJyBpZiB0aGlzIGlzIGVuY29kZWQgZm9ybSBib2R5IGNvbnRlbnQgKGdoLTI2NTgpXG5cdFx0fSBlbHNlIGlmICggcy5kYXRhICYmIHMucHJvY2Vzc0RhdGEgJiZcblx0XHRcdCggcy5jb250ZW50VHlwZSB8fCBcIlwiICkuaW5kZXhPZiggXCJhcHBsaWNhdGlvbi94LXd3dy1mb3JtLXVybGVuY29kZWRcIiApID09PSAwICkge1xuXHRcdFx0cy5kYXRhID0gcy5kYXRhLnJlcGxhY2UoIHIyMCwgXCIrXCIgKTtcblx0XHR9XG5cblx0XHQvLyBTZXQgdGhlIElmLU1vZGlmaWVkLVNpbmNlIGFuZC9vciBJZi1Ob25lLU1hdGNoIGhlYWRlciwgaWYgaW4gaWZNb2RpZmllZCBtb2RlLlxuXHRcdGlmICggcy5pZk1vZGlmaWVkICkge1xuXHRcdFx0aWYgKCBqUXVlcnkubGFzdE1vZGlmaWVkWyBjYWNoZVVSTCBdICkge1xuXHRcdFx0XHRqcVhIUi5zZXRSZXF1ZXN0SGVhZGVyKCBcIklmLU1vZGlmaWVkLVNpbmNlXCIsIGpRdWVyeS5sYXN0TW9kaWZpZWRbIGNhY2hlVVJMIF0gKTtcblx0XHRcdH1cblx0XHRcdGlmICggalF1ZXJ5LmV0YWdbIGNhY2hlVVJMIF0gKSB7XG5cdFx0XHRcdGpxWEhSLnNldFJlcXVlc3RIZWFkZXIoIFwiSWYtTm9uZS1NYXRjaFwiLCBqUXVlcnkuZXRhZ1sgY2FjaGVVUkwgXSApO1xuXHRcdFx0fVxuXHRcdH1cblxuXHRcdC8vIFNldCB0aGUgY29ycmVjdCBoZWFkZXIsIGlmIGRhdGEgaXMgYmVpbmcgc2VudFxuXHRcdGlmICggcy5kYXRhICYmIHMuaGFzQ29udGVudCAmJiBzLmNvbnRlbnRUeXBlICE9PSBmYWxzZSB8fCBvcHRpb25zLmNvbnRlbnRUeXBlICkge1xuXHRcdFx0anFYSFIuc2V0UmVxdWVzdEhlYWRlciggXCJDb250ZW50LVR5cGVcIiwgcy5jb250ZW50VHlwZSApO1xuXHRcdH1cblxuXHRcdC8vIFNldCB0aGUgQWNjZXB0cyBoZWFkZXIgZm9yIHRoZSBzZXJ2ZXIsIGRlcGVuZGluZyBvbiB0aGUgZGF0YVR5cGVcblx0XHRqcVhIUi5zZXRSZXF1ZXN0SGVhZGVyKFxuXHRcdFx0XCJBY2NlcHRcIixcblx0XHRcdHMuZGF0YVR5cGVzWyAwIF0gJiYgcy5hY2NlcHRzWyBzLmRhdGFUeXBlc1sgMCBdIF0gP1xuXHRcdFx0XHRzLmFjY2VwdHNbIHMuZGF0YVR5cGVzWyAwIF0gXSArXG5cdFx0XHRcdFx0KCBzLmRhdGFUeXBlc1sgMCBdICE9PSBcIipcIiA/IFwiLCBcIiArIGFsbFR5cGVzICsgXCI7IHE9MC4wMVwiIDogXCJcIiApIDpcblx0XHRcdFx0cy5hY2NlcHRzWyBcIipcIiBdXG5cdFx0KTtcblxuXHRcdC8vIENoZWNrIGZvciBoZWFkZXJzIG9wdGlvblxuXHRcdGZvciAoIGkgaW4gcy5oZWFkZXJzICkge1xuXHRcdFx0anFYSFIuc2V0UmVxdWVzdEhlYWRlciggaSwgcy5oZWFkZXJzWyBpIF0gKTtcblx0XHR9XG5cblx0XHQvLyBBbGxvdyBjdXN0b20gaGVhZGVycy9taW1ldHlwZXMgYW5kIGVhcmx5IGFib3J0XG5cdFx0aWYgKCBzLmJlZm9yZVNlbmQgJiZcblx0XHRcdCggcy5iZWZvcmVTZW5kLmNhbGwoIGNhbGxiYWNrQ29udGV4dCwganFYSFIsIHMgKSA9PT0gZmFsc2UgfHwgY29tcGxldGVkICkgKSB7XG5cblx0XHRcdC8vIEFib3J0IGlmIG5vdCBkb25lIGFscmVhZHkgYW5kIHJldHVyblxuXHRcdFx0cmV0dXJuIGpxWEhSLmFib3J0KCk7XG5cdFx0fVxuXG5cdFx0Ly8gQWJvcnRpbmcgaXMgbm8gbG9uZ2VyIGEgY2FuY2VsbGF0aW9uXG5cdFx0c3RyQWJvcnQgPSBcImFib3J0XCI7XG5cblx0XHQvLyBJbnN0YWxsIGNhbGxiYWNrcyBvbiBkZWZlcnJlZHNcblx0XHRjb21wbGV0ZURlZmVycmVkLmFkZCggcy5jb21wbGV0ZSApO1xuXHRcdGpxWEhSLmRvbmUoIHMuc3VjY2VzcyApO1xuXHRcdGpxWEhSLmZhaWwoIHMuZXJyb3IgKTtcblxuXHRcdC8vIEdldCB0cmFuc3BvcnRcblx0XHR0cmFuc3BvcnQgPSBpbnNwZWN0UHJlZmlsdGVyc09yVHJhbnNwb3J0cyggdHJhbnNwb3J0cywgcywgb3B0aW9ucywganFYSFIgKTtcblxuXHRcdC8vIElmIG5vIHRyYW5zcG9ydCwgd2UgYXV0by1hYm9ydFxuXHRcdGlmICggIXRyYW5zcG9ydCApIHtcblx0XHRcdGRvbmUoIC0xLCBcIk5vIFRyYW5zcG9ydFwiICk7XG5cdFx0fSBlbHNlIHtcblx0XHRcdGpxWEhSLnJlYWR5U3RhdGUgPSAxO1xuXG5cdFx0XHQvLyBTZW5kIGdsb2JhbCBldmVudFxuXHRcdFx0aWYgKCBmaXJlR2xvYmFscyApIHtcblx0XHRcdFx0Z2xvYmFsRXZlbnRDb250ZXh0LnRyaWdnZXIoIFwiYWpheFNlbmRcIiwgWyBqcVhIUiwgcyBdICk7XG5cdFx0XHR9XG5cblx0XHRcdC8vIElmIHJlcXVlc3Qgd2FzIGFib3J0ZWQgaW5zaWRlIGFqYXhTZW5kLCBzdG9wIHRoZXJlXG5cdFx0XHRpZiAoIGNvbXBsZXRlZCApIHtcblx0XHRcdFx0cmV0dXJuIGpxWEhSO1xuXHRcdFx0fVxuXG5cdFx0XHQvLyBUaW1lb3V0XG5cdFx0XHRpZiAoIHMuYXN5bmMgJiYgcy50aW1lb3V0ID4gMCApIHtcblx0XHRcdFx0dGltZW91dFRpbWVyID0gd2luZG93LnNldFRpbWVvdXQoIGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRcdGpxWEhSLmFib3J0KCBcInRpbWVvdXRcIiApO1xuXHRcdFx0XHR9LCBzLnRpbWVvdXQgKTtcblx0XHRcdH1cblxuXHRcdFx0dHJ5IHtcblx0XHRcdFx0Y29tcGxldGVkID0gZmFsc2U7XG5cdFx0XHRcdHRyYW5zcG9ydC5zZW5kKCByZXF1ZXN0SGVhZGVycywgZG9uZSApO1xuXHRcdFx0fSBjYXRjaCAoIGUgKSB7XG5cblx0XHRcdFx0Ly8gUmV0aHJvdyBwb3N0LWNvbXBsZXRpb24gZXhjZXB0aW9uc1xuXHRcdFx0XHRpZiAoIGNvbXBsZXRlZCApIHtcblx0XHRcdFx0XHR0aHJvdyBlO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0Ly8gUHJvcGFnYXRlIG90aGVycyBhcyByZXN1bHRzXG5cdFx0XHRcdGRvbmUoIC0xLCBlICk7XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0Ly8gQ2FsbGJhY2sgZm9yIHdoZW4gZXZlcnl0aGluZyBpcyBkb25lXG5cdFx0ZnVuY3Rpb24gZG9uZSggc3RhdHVzLCBuYXRpdmVTdGF0dXNUZXh0LCByZXNwb25zZXMsIGhlYWRlcnMgKSB7XG5cdFx0XHR2YXIgaXNTdWNjZXNzLCBzdWNjZXNzLCBlcnJvciwgcmVzcG9uc2UsIG1vZGlmaWVkLFxuXHRcdFx0XHRzdGF0dXNUZXh0ID0gbmF0aXZlU3RhdHVzVGV4dDtcblxuXHRcdFx0Ly8gSWdub3JlIHJlcGVhdCBpbnZvY2F0aW9uc1xuXHRcdFx0aWYgKCBjb21wbGV0ZWQgKSB7XG5cdFx0XHRcdHJldHVybjtcblx0XHRcdH1cblxuXHRcdFx0Y29tcGxldGVkID0gdHJ1ZTtcblxuXHRcdFx0Ly8gQ2xlYXIgdGltZW91dCBpZiBpdCBleGlzdHNcblx0XHRcdGlmICggdGltZW91dFRpbWVyICkge1xuXHRcdFx0XHR3aW5kb3cuY2xlYXJUaW1lb3V0KCB0aW1lb3V0VGltZXIgKTtcblx0XHRcdH1cblxuXHRcdFx0Ly8gRGVyZWZlcmVuY2UgdHJhbnNwb3J0IGZvciBlYXJseSBnYXJiYWdlIGNvbGxlY3Rpb25cblx0XHRcdC8vIChubyBtYXR0ZXIgaG93IGxvbmcgdGhlIGpxWEhSIG9iamVjdCB3aWxsIGJlIHVzZWQpXG5cdFx0XHR0cmFuc3BvcnQgPSB1bmRlZmluZWQ7XG5cblx0XHRcdC8vIENhY2hlIHJlc3BvbnNlIGhlYWRlcnNcblx0XHRcdHJlc3BvbnNlSGVhZGVyc1N0cmluZyA9IGhlYWRlcnMgfHwgXCJcIjtcblxuXHRcdFx0Ly8gU2V0IHJlYWR5U3RhdGVcblx0XHRcdGpxWEhSLnJlYWR5U3RhdGUgPSBzdGF0dXMgPiAwID8gNCA6IDA7XG5cblx0XHRcdC8vIERldGVybWluZSBpZiBzdWNjZXNzZnVsXG5cdFx0XHRpc1N1Y2Nlc3MgPSBzdGF0dXMgPj0gMjAwICYmIHN0YXR1cyA8IDMwMCB8fCBzdGF0dXMgPT09IDMwNDtcblxuXHRcdFx0Ly8gR2V0IHJlc3BvbnNlIGRhdGFcblx0XHRcdGlmICggcmVzcG9uc2VzICkge1xuXHRcdFx0XHRyZXNwb25zZSA9IGFqYXhIYW5kbGVSZXNwb25zZXMoIHMsIGpxWEhSLCByZXNwb25zZXMgKTtcblx0XHRcdH1cblxuXHRcdFx0Ly8gQ29udmVydCBubyBtYXR0ZXIgd2hhdCAodGhhdCB3YXkgcmVzcG9uc2VYWFggZmllbGRzIGFyZSBhbHdheXMgc2V0KVxuXHRcdFx0cmVzcG9uc2UgPSBhamF4Q29udmVydCggcywgcmVzcG9uc2UsIGpxWEhSLCBpc1N1Y2Nlc3MgKTtcblxuXHRcdFx0Ly8gSWYgc3VjY2Vzc2Z1bCwgaGFuZGxlIHR5cGUgY2hhaW5pbmdcblx0XHRcdGlmICggaXNTdWNjZXNzICkge1xuXG5cdFx0XHRcdC8vIFNldCB0aGUgSWYtTW9kaWZpZWQtU2luY2UgYW5kL29yIElmLU5vbmUtTWF0Y2ggaGVhZGVyLCBpZiBpbiBpZk1vZGlmaWVkIG1vZGUuXG5cdFx0XHRcdGlmICggcy5pZk1vZGlmaWVkICkge1xuXHRcdFx0XHRcdG1vZGlmaWVkID0ganFYSFIuZ2V0UmVzcG9uc2VIZWFkZXIoIFwiTGFzdC1Nb2RpZmllZFwiICk7XG5cdFx0XHRcdFx0aWYgKCBtb2RpZmllZCApIHtcblx0XHRcdFx0XHRcdGpRdWVyeS5sYXN0TW9kaWZpZWRbIGNhY2hlVVJMIF0gPSBtb2RpZmllZDtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0bW9kaWZpZWQgPSBqcVhIUi5nZXRSZXNwb25zZUhlYWRlciggXCJldGFnXCIgKTtcblx0XHRcdFx0XHRpZiAoIG1vZGlmaWVkICkge1xuXHRcdFx0XHRcdFx0alF1ZXJ5LmV0YWdbIGNhY2hlVVJMIF0gPSBtb2RpZmllZDtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblxuXHRcdFx0XHQvLyBpZiBubyBjb250ZW50XG5cdFx0XHRcdGlmICggc3RhdHVzID09PSAyMDQgfHwgcy50eXBlID09PSBcIkhFQURcIiApIHtcblx0XHRcdFx0XHRzdGF0dXNUZXh0ID0gXCJub2NvbnRlbnRcIjtcblxuXHRcdFx0XHQvLyBpZiBub3QgbW9kaWZpZWRcblx0XHRcdFx0fSBlbHNlIGlmICggc3RhdHVzID09PSAzMDQgKSB7XG5cdFx0XHRcdFx0c3RhdHVzVGV4dCA9IFwibm90bW9kaWZpZWRcIjtcblxuXHRcdFx0XHQvLyBJZiB3ZSBoYXZlIGRhdGEsIGxldCdzIGNvbnZlcnQgaXRcblx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRzdGF0dXNUZXh0ID0gcmVzcG9uc2Uuc3RhdGU7XG5cdFx0XHRcdFx0c3VjY2VzcyA9IHJlc3BvbnNlLmRhdGE7XG5cdFx0XHRcdFx0ZXJyb3IgPSByZXNwb25zZS5lcnJvcjtcblx0XHRcdFx0XHRpc1N1Y2Nlc3MgPSAhZXJyb3I7XG5cdFx0XHRcdH1cblx0XHRcdH0gZWxzZSB7XG5cblx0XHRcdFx0Ly8gRXh0cmFjdCBlcnJvciBmcm9tIHN0YXR1c1RleHQgYW5kIG5vcm1hbGl6ZSBmb3Igbm9uLWFib3J0c1xuXHRcdFx0XHRlcnJvciA9IHN0YXR1c1RleHQ7XG5cdFx0XHRcdGlmICggc3RhdHVzIHx8ICFzdGF0dXNUZXh0ICkge1xuXHRcdFx0XHRcdHN0YXR1c1RleHQgPSBcImVycm9yXCI7XG5cdFx0XHRcdFx0aWYgKCBzdGF0dXMgPCAwICkge1xuXHRcdFx0XHRcdFx0c3RhdHVzID0gMDtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblx0XHRcdH1cblxuXHRcdFx0Ly8gU2V0IGRhdGEgZm9yIHRoZSBmYWtlIHhociBvYmplY3Rcblx0XHRcdGpxWEhSLnN0YXR1cyA9IHN0YXR1cztcblx0XHRcdGpxWEhSLnN0YXR1c1RleHQgPSAoIG5hdGl2ZVN0YXR1c1RleHQgfHwgc3RhdHVzVGV4dCApICsgXCJcIjtcblxuXHRcdFx0Ly8gU3VjY2Vzcy9FcnJvclxuXHRcdFx0aWYgKCBpc1N1Y2Nlc3MgKSB7XG5cdFx0XHRcdGRlZmVycmVkLnJlc29sdmVXaXRoKCBjYWxsYmFja0NvbnRleHQsIFsgc3VjY2Vzcywgc3RhdHVzVGV4dCwganFYSFIgXSApO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0ZGVmZXJyZWQucmVqZWN0V2l0aCggY2FsbGJhY2tDb250ZXh0LCBbIGpxWEhSLCBzdGF0dXNUZXh0LCBlcnJvciBdICk7XG5cdFx0XHR9XG5cblx0XHRcdC8vIFN0YXR1cy1kZXBlbmRlbnQgY2FsbGJhY2tzXG5cdFx0XHRqcVhIUi5zdGF0dXNDb2RlKCBzdGF0dXNDb2RlICk7XG5cdFx0XHRzdGF0dXNDb2RlID0gdW5kZWZpbmVkO1xuXG5cdFx0XHRpZiAoIGZpcmVHbG9iYWxzICkge1xuXHRcdFx0XHRnbG9iYWxFdmVudENvbnRleHQudHJpZ2dlciggaXNTdWNjZXNzID8gXCJhamF4U3VjY2Vzc1wiIDogXCJhamF4RXJyb3JcIixcblx0XHRcdFx0XHRbIGpxWEhSLCBzLCBpc1N1Y2Nlc3MgPyBzdWNjZXNzIDogZXJyb3IgXSApO1xuXHRcdFx0fVxuXG5cdFx0XHQvLyBDb21wbGV0ZVxuXHRcdFx0Y29tcGxldGVEZWZlcnJlZC5maXJlV2l0aCggY2FsbGJhY2tDb250ZXh0LCBbIGpxWEhSLCBzdGF0dXNUZXh0IF0gKTtcblxuXHRcdFx0aWYgKCBmaXJlR2xvYmFscyApIHtcblx0XHRcdFx0Z2xvYmFsRXZlbnRDb250ZXh0LnRyaWdnZXIoIFwiYWpheENvbXBsZXRlXCIsIFsganFYSFIsIHMgXSApO1xuXG5cdFx0XHRcdC8vIEhhbmRsZSB0aGUgZ2xvYmFsIEFKQVggY291bnRlclxuXHRcdFx0XHRpZiAoICEoIC0talF1ZXJ5LmFjdGl2ZSApICkge1xuXHRcdFx0XHRcdGpRdWVyeS5ldmVudC50cmlnZ2VyKCBcImFqYXhTdG9wXCIgKTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH1cblxuXHRcdHJldHVybiBqcVhIUjtcblx0fSxcblxuXHRnZXRKU09OOiBmdW5jdGlvbiggdXJsLCBkYXRhLCBjYWxsYmFjayApIHtcblx0XHRyZXR1cm4galF1ZXJ5LmdldCggdXJsLCBkYXRhLCBjYWxsYmFjaywgXCJqc29uXCIgKTtcblx0fSxcblxuXHRnZXRTY3JpcHQ6IGZ1bmN0aW9uKCB1cmwsIGNhbGxiYWNrICkge1xuXHRcdHJldHVybiBqUXVlcnkuZ2V0KCB1cmwsIHVuZGVmaW5lZCwgY2FsbGJhY2ssIFwic2NyaXB0XCIgKTtcblx0fVxufSApO1xuXG5qUXVlcnkuZWFjaCggWyBcImdldFwiLCBcInBvc3RcIiBdLCBmdW5jdGlvbiggaSwgbWV0aG9kICkge1xuXHRqUXVlcnlbIG1ldGhvZCBdID0gZnVuY3Rpb24oIHVybCwgZGF0YSwgY2FsbGJhY2ssIHR5cGUgKSB7XG5cblx0XHQvLyBTaGlmdCBhcmd1bWVudHMgaWYgZGF0YSBhcmd1bWVudCB3YXMgb21pdHRlZFxuXHRcdGlmICggalF1ZXJ5LmlzRnVuY3Rpb24oIGRhdGEgKSApIHtcblx0XHRcdHR5cGUgPSB0eXBlIHx8IGNhbGxiYWNrO1xuXHRcdFx0Y2FsbGJhY2sgPSBkYXRhO1xuXHRcdFx0ZGF0YSA9IHVuZGVmaW5lZDtcblx0XHR9XG5cblx0XHQvLyBUaGUgdXJsIGNhbiBiZSBhbiBvcHRpb25zIG9iamVjdCAod2hpY2ggdGhlbiBtdXN0IGhhdmUgLnVybClcblx0XHRyZXR1cm4galF1ZXJ5LmFqYXgoIGpRdWVyeS5leHRlbmQoIHtcblx0XHRcdHVybDogdXJsLFxuXHRcdFx0dHlwZTogbWV0aG9kLFxuXHRcdFx0ZGF0YVR5cGU6IHR5cGUsXG5cdFx0XHRkYXRhOiBkYXRhLFxuXHRcdFx0c3VjY2VzczogY2FsbGJhY2tcblx0XHR9LCBqUXVlcnkuaXNQbGFpbk9iamVjdCggdXJsICkgJiYgdXJsICkgKTtcblx0fTtcbn0gKTtcblxuXG5qUXVlcnkuX2V2YWxVcmwgPSBmdW5jdGlvbiggdXJsICkge1xuXHRyZXR1cm4galF1ZXJ5LmFqYXgoIHtcblx0XHR1cmw6IHVybCxcblxuXHRcdC8vIE1ha2UgdGhpcyBleHBsaWNpdCwgc2luY2UgdXNlciBjYW4gb3ZlcnJpZGUgdGhpcyB0aHJvdWdoIGFqYXhTZXR1cCAoIzExMjY0KVxuXHRcdHR5cGU6IFwiR0VUXCIsXG5cdFx0ZGF0YVR5cGU6IFwic2NyaXB0XCIsXG5cdFx0Y2FjaGU6IHRydWUsXG5cdFx0YXN5bmM6IGZhbHNlLFxuXHRcdGdsb2JhbDogZmFsc2UsXG5cdFx0XCJ0aHJvd3NcIjogdHJ1ZVxuXHR9ICk7XG59O1xuXG5cbmpRdWVyeS5mbi5leHRlbmQoIHtcblx0d3JhcEFsbDogZnVuY3Rpb24oIGh0bWwgKSB7XG5cdFx0dmFyIHdyYXA7XG5cblx0XHRpZiAoIHRoaXNbIDAgXSApIHtcblx0XHRcdGlmICggalF1ZXJ5LmlzRnVuY3Rpb24oIGh0bWwgKSApIHtcblx0XHRcdFx0aHRtbCA9IGh0bWwuY2FsbCggdGhpc1sgMCBdICk7XG5cdFx0XHR9XG5cblx0XHRcdC8vIFRoZSBlbGVtZW50cyB0byB3cmFwIHRoZSB0YXJnZXQgYXJvdW5kXG5cdFx0XHR3cmFwID0galF1ZXJ5KCBodG1sLCB0aGlzWyAwIF0ub3duZXJEb2N1bWVudCApLmVxKCAwICkuY2xvbmUoIHRydWUgKTtcblxuXHRcdFx0aWYgKCB0aGlzWyAwIF0ucGFyZW50Tm9kZSApIHtcblx0XHRcdFx0d3JhcC5pbnNlcnRCZWZvcmUoIHRoaXNbIDAgXSApO1xuXHRcdFx0fVxuXG5cdFx0XHR3cmFwLm1hcCggZnVuY3Rpb24oKSB7XG5cdFx0XHRcdHZhciBlbGVtID0gdGhpcztcblxuXHRcdFx0XHR3aGlsZSAoIGVsZW0uZmlyc3RFbGVtZW50Q2hpbGQgKSB7XG5cdFx0XHRcdFx0ZWxlbSA9IGVsZW0uZmlyc3RFbGVtZW50Q2hpbGQ7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRyZXR1cm4gZWxlbTtcblx0XHRcdH0gKS5hcHBlbmQoIHRoaXMgKTtcblx0XHR9XG5cblx0XHRyZXR1cm4gdGhpcztcblx0fSxcblxuXHR3cmFwSW5uZXI6IGZ1bmN0aW9uKCBodG1sICkge1xuXHRcdGlmICggalF1ZXJ5LmlzRnVuY3Rpb24oIGh0bWwgKSApIHtcblx0XHRcdHJldHVybiB0aGlzLmVhY2goIGZ1bmN0aW9uKCBpICkge1xuXHRcdFx0XHRqUXVlcnkoIHRoaXMgKS53cmFwSW5uZXIoIGh0bWwuY2FsbCggdGhpcywgaSApICk7XG5cdFx0XHR9ICk7XG5cdFx0fVxuXG5cdFx0cmV0dXJuIHRoaXMuZWFjaCggZnVuY3Rpb24oKSB7XG5cdFx0XHR2YXIgc2VsZiA9IGpRdWVyeSggdGhpcyApLFxuXHRcdFx0XHRjb250ZW50cyA9IHNlbGYuY29udGVudHMoKTtcblxuXHRcdFx0aWYgKCBjb250ZW50cy5sZW5ndGggKSB7XG5cdFx0XHRcdGNvbnRlbnRzLndyYXBBbGwoIGh0bWwgKTtcblxuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0c2VsZi5hcHBlbmQoIGh0bWwgKTtcblx0XHRcdH1cblx0XHR9ICk7XG5cdH0sXG5cblx0d3JhcDogZnVuY3Rpb24oIGh0bWwgKSB7XG5cdFx0dmFyIGlzRnVuY3Rpb24gPSBqUXVlcnkuaXNGdW5jdGlvbiggaHRtbCApO1xuXG5cdFx0cmV0dXJuIHRoaXMuZWFjaCggZnVuY3Rpb24oIGkgKSB7XG5cdFx0XHRqUXVlcnkoIHRoaXMgKS53cmFwQWxsKCBpc0Z1bmN0aW9uID8gaHRtbC5jYWxsKCB0aGlzLCBpICkgOiBodG1sICk7XG5cdFx0fSApO1xuXHR9LFxuXG5cdHVud3JhcDogZnVuY3Rpb24oIHNlbGVjdG9yICkge1xuXHRcdHRoaXMucGFyZW50KCBzZWxlY3RvciApLm5vdCggXCJib2R5XCIgKS5lYWNoKCBmdW5jdGlvbigpIHtcblx0XHRcdGpRdWVyeSggdGhpcyApLnJlcGxhY2VXaXRoKCB0aGlzLmNoaWxkTm9kZXMgKTtcblx0XHR9ICk7XG5cdFx0cmV0dXJuIHRoaXM7XG5cdH1cbn0gKTtcblxuXG5qUXVlcnkuZXhwci5wc2V1ZG9zLmhpZGRlbiA9IGZ1bmN0aW9uKCBlbGVtICkge1xuXHRyZXR1cm4gIWpRdWVyeS5leHByLnBzZXVkb3MudmlzaWJsZSggZWxlbSApO1xufTtcbmpRdWVyeS5leHByLnBzZXVkb3MudmlzaWJsZSA9IGZ1bmN0aW9uKCBlbGVtICkge1xuXHRyZXR1cm4gISEoIGVsZW0ub2Zmc2V0V2lkdGggfHwgZWxlbS5vZmZzZXRIZWlnaHQgfHwgZWxlbS5nZXRDbGllbnRSZWN0cygpLmxlbmd0aCApO1xufTtcblxuXG5cblxualF1ZXJ5LmFqYXhTZXR0aW5ncy54aHIgPSBmdW5jdGlvbigpIHtcblx0dHJ5IHtcblx0XHRyZXR1cm4gbmV3IHdpbmRvdy5YTUxIdHRwUmVxdWVzdCgpO1xuXHR9IGNhdGNoICggZSApIHt9XG59O1xuXG52YXIgeGhyU3VjY2Vzc1N0YXR1cyA9IHtcblxuXHRcdC8vIEZpbGUgcHJvdG9jb2wgYWx3YXlzIHlpZWxkcyBzdGF0dXMgY29kZSAwLCBhc3N1bWUgMjAwXG5cdFx0MDogMjAwLFxuXG5cdFx0Ly8gU3VwcG9ydDogSUUgPD05IG9ubHlcblx0XHQvLyAjMTQ1MDogc29tZXRpbWVzIElFIHJldHVybnMgMTIyMyB3aGVuIGl0IHNob3VsZCBiZSAyMDRcblx0XHQxMjIzOiAyMDRcblx0fSxcblx0eGhyU3VwcG9ydGVkID0galF1ZXJ5LmFqYXhTZXR0aW5ncy54aHIoKTtcblxuc3VwcG9ydC5jb3JzID0gISF4aHJTdXBwb3J0ZWQgJiYgKCBcIndpdGhDcmVkZW50aWFsc1wiIGluIHhoclN1cHBvcnRlZCApO1xuc3VwcG9ydC5hamF4ID0geGhyU3VwcG9ydGVkID0gISF4aHJTdXBwb3J0ZWQ7XG5cbmpRdWVyeS5hamF4VHJhbnNwb3J0KCBmdW5jdGlvbiggb3B0aW9ucyApIHtcblx0dmFyIGNhbGxiYWNrLCBlcnJvckNhbGxiYWNrO1xuXG5cdC8vIENyb3NzIGRvbWFpbiBvbmx5IGFsbG93ZWQgaWYgc3VwcG9ydGVkIHRocm91Z2ggWE1MSHR0cFJlcXVlc3Rcblx0aWYgKCBzdXBwb3J0LmNvcnMgfHwgeGhyU3VwcG9ydGVkICYmICFvcHRpb25zLmNyb3NzRG9tYWluICkge1xuXHRcdHJldHVybiB7XG5cdFx0XHRzZW5kOiBmdW5jdGlvbiggaGVhZGVycywgY29tcGxldGUgKSB7XG5cdFx0XHRcdHZhciBpLFxuXHRcdFx0XHRcdHhociA9IG9wdGlvbnMueGhyKCk7XG5cblx0XHRcdFx0eGhyLm9wZW4oXG5cdFx0XHRcdFx0b3B0aW9ucy50eXBlLFxuXHRcdFx0XHRcdG9wdGlvbnMudXJsLFxuXHRcdFx0XHRcdG9wdGlvbnMuYXN5bmMsXG5cdFx0XHRcdFx0b3B0aW9ucy51c2VybmFtZSxcblx0XHRcdFx0XHRvcHRpb25zLnBhc3N3b3JkXG5cdFx0XHRcdCk7XG5cblx0XHRcdFx0Ly8gQXBwbHkgY3VzdG9tIGZpZWxkcyBpZiBwcm92aWRlZFxuXHRcdFx0XHRpZiAoIG9wdGlvbnMueGhyRmllbGRzICkge1xuXHRcdFx0XHRcdGZvciAoIGkgaW4gb3B0aW9ucy54aHJGaWVsZHMgKSB7XG5cdFx0XHRcdFx0XHR4aHJbIGkgXSA9IG9wdGlvbnMueGhyRmllbGRzWyBpIF07XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cblx0XHRcdFx0Ly8gT3ZlcnJpZGUgbWltZSB0eXBlIGlmIG5lZWRlZFxuXHRcdFx0XHRpZiAoIG9wdGlvbnMubWltZVR5cGUgJiYgeGhyLm92ZXJyaWRlTWltZVR5cGUgKSB7XG5cdFx0XHRcdFx0eGhyLm92ZXJyaWRlTWltZVR5cGUoIG9wdGlvbnMubWltZVR5cGUgKTtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdC8vIFgtUmVxdWVzdGVkLVdpdGggaGVhZGVyXG5cdFx0XHRcdC8vIEZvciBjcm9zcy1kb21haW4gcmVxdWVzdHMsIHNlZWluZyBhcyBjb25kaXRpb25zIGZvciBhIHByZWZsaWdodCBhcmVcblx0XHRcdFx0Ly8gYWtpbiB0byBhIGppZ3NhdyBwdXp6bGUsIHdlIHNpbXBseSBuZXZlciBzZXQgaXQgdG8gYmUgc3VyZS5cblx0XHRcdFx0Ly8gKGl0IGNhbiBhbHdheXMgYmUgc2V0IG9uIGEgcGVyLXJlcXVlc3QgYmFzaXMgb3IgZXZlbiB1c2luZyBhamF4U2V0dXApXG5cdFx0XHRcdC8vIEZvciBzYW1lLWRvbWFpbiByZXF1ZXN0cywgd29uJ3QgY2hhbmdlIGhlYWRlciBpZiBhbHJlYWR5IHByb3ZpZGVkLlxuXHRcdFx0XHRpZiAoICFvcHRpb25zLmNyb3NzRG9tYWluICYmICFoZWFkZXJzWyBcIlgtUmVxdWVzdGVkLVdpdGhcIiBdICkge1xuXHRcdFx0XHRcdGhlYWRlcnNbIFwiWC1SZXF1ZXN0ZWQtV2l0aFwiIF0gPSBcIlhNTEh0dHBSZXF1ZXN0XCI7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHQvLyBTZXQgaGVhZGVyc1xuXHRcdFx0XHRmb3IgKCBpIGluIGhlYWRlcnMgKSB7XG5cdFx0XHRcdFx0eGhyLnNldFJlcXVlc3RIZWFkZXIoIGksIGhlYWRlcnNbIGkgXSApO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0Ly8gQ2FsbGJhY2tcblx0XHRcdFx0Y2FsbGJhY2sgPSBmdW5jdGlvbiggdHlwZSApIHtcblx0XHRcdFx0XHRyZXR1cm4gZnVuY3Rpb24oKSB7XG5cdFx0XHRcdFx0XHRpZiAoIGNhbGxiYWNrICkge1xuXHRcdFx0XHRcdFx0XHRjYWxsYmFjayA9IGVycm9yQ2FsbGJhY2sgPSB4aHIub25sb2FkID1cblx0XHRcdFx0XHRcdFx0XHR4aHIub25lcnJvciA9IHhoci5vbmFib3J0ID0geGhyLm9ucmVhZHlzdGF0ZWNoYW5nZSA9IG51bGw7XG5cblx0XHRcdFx0XHRcdFx0aWYgKCB0eXBlID09PSBcImFib3J0XCIgKSB7XG5cdFx0XHRcdFx0XHRcdFx0eGhyLmFib3J0KCk7XG5cdFx0XHRcdFx0XHRcdH0gZWxzZSBpZiAoIHR5cGUgPT09IFwiZXJyb3JcIiApIHtcblxuXHRcdFx0XHRcdFx0XHRcdC8vIFN1cHBvcnQ6IElFIDw9OSBvbmx5XG5cdFx0XHRcdFx0XHRcdFx0Ly8gT24gYSBtYW51YWwgbmF0aXZlIGFib3J0LCBJRTkgdGhyb3dzXG5cdFx0XHRcdFx0XHRcdFx0Ly8gZXJyb3JzIG9uIGFueSBwcm9wZXJ0eSBhY2Nlc3MgdGhhdCBpcyBub3QgcmVhZHlTdGF0ZVxuXHRcdFx0XHRcdFx0XHRcdGlmICggdHlwZW9mIHhoci5zdGF0dXMgIT09IFwibnVtYmVyXCIgKSB7XG5cdFx0XHRcdFx0XHRcdFx0XHRjb21wbGV0ZSggMCwgXCJlcnJvclwiICk7XG5cdFx0XHRcdFx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRcdFx0XHRcdGNvbXBsZXRlKFxuXG5cdFx0XHRcdFx0XHRcdFx0XHRcdC8vIEZpbGU6IHByb3RvY29sIGFsd2F5cyB5aWVsZHMgc3RhdHVzIDA7IHNlZSAjODYwNSwgIzE0MjA3XG5cdFx0XHRcdFx0XHRcdFx0XHRcdHhoci5zdGF0dXMsXG5cdFx0XHRcdFx0XHRcdFx0XHRcdHhoci5zdGF0dXNUZXh0XG5cdFx0XHRcdFx0XHRcdFx0XHQpO1xuXHRcdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRcdFx0XHRjb21wbGV0ZShcblx0XHRcdFx0XHRcdFx0XHRcdHhoclN1Y2Nlc3NTdGF0dXNbIHhoci5zdGF0dXMgXSB8fCB4aHIuc3RhdHVzLFxuXHRcdFx0XHRcdFx0XHRcdFx0eGhyLnN0YXR1c1RleHQsXG5cblx0XHRcdFx0XHRcdFx0XHRcdC8vIFN1cHBvcnQ6IElFIDw9OSBvbmx5XG5cdFx0XHRcdFx0XHRcdFx0XHQvLyBJRTkgaGFzIG5vIFhIUjIgYnV0IHRocm93cyBvbiBiaW5hcnkgKHRyYWMtMTE0MjYpXG5cdFx0XHRcdFx0XHRcdFx0XHQvLyBGb3IgWEhSMiBub24tdGV4dCwgbGV0IHRoZSBjYWxsZXIgaGFuZGxlIGl0IChnaC0yNDk4KVxuXHRcdFx0XHRcdFx0XHRcdFx0KCB4aHIucmVzcG9uc2VUeXBlIHx8IFwidGV4dFwiICkgIT09IFwidGV4dFwiICB8fFxuXHRcdFx0XHRcdFx0XHRcdFx0dHlwZW9mIHhoci5yZXNwb25zZVRleHQgIT09IFwic3RyaW5nXCIgP1xuXHRcdFx0XHRcdFx0XHRcdFx0XHR7IGJpbmFyeTogeGhyLnJlc3BvbnNlIH0gOlxuXHRcdFx0XHRcdFx0XHRcdFx0XHR7IHRleHQ6IHhoci5yZXNwb25zZVRleHQgfSxcblx0XHRcdFx0XHRcdFx0XHRcdHhoci5nZXRBbGxSZXNwb25zZUhlYWRlcnMoKVxuXHRcdFx0XHRcdFx0XHRcdCk7XG5cdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHR9O1xuXHRcdFx0XHR9O1xuXG5cdFx0XHRcdC8vIExpc3RlbiB0byBldmVudHNcblx0XHRcdFx0eGhyLm9ubG9hZCA9IGNhbGxiYWNrKCk7XG5cdFx0XHRcdGVycm9yQ2FsbGJhY2sgPSB4aHIub25lcnJvciA9IGNhbGxiYWNrKCBcImVycm9yXCIgKTtcblxuXHRcdFx0XHQvLyBTdXBwb3J0OiBJRSA5IG9ubHlcblx0XHRcdFx0Ly8gVXNlIG9ucmVhZHlzdGF0ZWNoYW5nZSB0byByZXBsYWNlIG9uYWJvcnRcblx0XHRcdFx0Ly8gdG8gaGFuZGxlIHVuY2F1Z2h0IGFib3J0c1xuXHRcdFx0XHRpZiAoIHhoci5vbmFib3J0ICE9PSB1bmRlZmluZWQgKSB7XG5cdFx0XHRcdFx0eGhyLm9uYWJvcnQgPSBlcnJvckNhbGxiYWNrO1xuXHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdHhoci5vbnJlYWR5c3RhdGVjaGFuZ2UgPSBmdW5jdGlvbigpIHtcblxuXHRcdFx0XHRcdFx0Ly8gQ2hlY2sgcmVhZHlTdGF0ZSBiZWZvcmUgdGltZW91dCBhcyBpdCBjaGFuZ2VzXG5cdFx0XHRcdFx0XHRpZiAoIHhoci5yZWFkeVN0YXRlID09PSA0ICkge1xuXG5cdFx0XHRcdFx0XHRcdC8vIEFsbG93IG9uZXJyb3IgdG8gYmUgY2FsbGVkIGZpcnN0LFxuXHRcdFx0XHRcdFx0XHQvLyBidXQgdGhhdCB3aWxsIG5vdCBoYW5kbGUgYSBuYXRpdmUgYWJvcnRcblx0XHRcdFx0XHRcdFx0Ly8gQWxzbywgc2F2ZSBlcnJvckNhbGxiYWNrIHRvIGEgdmFyaWFibGVcblx0XHRcdFx0XHRcdFx0Ly8gYXMgeGhyLm9uZXJyb3IgY2Fubm90IGJlIGFjY2Vzc2VkXG5cdFx0XHRcdFx0XHRcdHdpbmRvdy5zZXRUaW1lb3V0KCBmdW5jdGlvbigpIHtcblx0XHRcdFx0XHRcdFx0XHRpZiAoIGNhbGxiYWNrICkge1xuXHRcdFx0XHRcdFx0XHRcdFx0ZXJyb3JDYWxsYmFjaygpO1xuXHRcdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdFx0fSApO1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdH07XG5cdFx0XHRcdH1cblxuXHRcdFx0XHQvLyBDcmVhdGUgdGhlIGFib3J0IGNhbGxiYWNrXG5cdFx0XHRcdGNhbGxiYWNrID0gY2FsbGJhY2soIFwiYWJvcnRcIiApO1xuXG5cdFx0XHRcdHRyeSB7XG5cblx0XHRcdFx0XHQvLyBEbyBzZW5kIHRoZSByZXF1ZXN0ICh0aGlzIG1heSByYWlzZSBhbiBleGNlcHRpb24pXG5cdFx0XHRcdFx0eGhyLnNlbmQoIG9wdGlvbnMuaGFzQ29udGVudCAmJiBvcHRpb25zLmRhdGEgfHwgbnVsbCApO1xuXHRcdFx0XHR9IGNhdGNoICggZSApIHtcblxuXHRcdFx0XHRcdC8vICMxNDY4MzogT25seSByZXRocm93IGlmIHRoaXMgaGFzbid0IGJlZW4gbm90aWZpZWQgYXMgYW4gZXJyb3IgeWV0XG5cdFx0XHRcdFx0aWYgKCBjYWxsYmFjayApIHtcblx0XHRcdFx0XHRcdHRocm93IGU7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cdFx0XHR9LFxuXG5cdFx0XHRhYm9ydDogZnVuY3Rpb24oKSB7XG5cdFx0XHRcdGlmICggY2FsbGJhY2sgKSB7XG5cdFx0XHRcdFx0Y2FsbGJhY2soKTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH07XG5cdH1cbn0gKTtcblxuXG5cblxuLy8gUHJldmVudCBhdXRvLWV4ZWN1dGlvbiBvZiBzY3JpcHRzIHdoZW4gbm8gZXhwbGljaXQgZGF0YVR5cGUgd2FzIHByb3ZpZGVkIChTZWUgZ2gtMjQzMilcbmpRdWVyeS5hamF4UHJlZmlsdGVyKCBmdW5jdGlvbiggcyApIHtcblx0aWYgKCBzLmNyb3NzRG9tYWluICkge1xuXHRcdHMuY29udGVudHMuc2NyaXB0ID0gZmFsc2U7XG5cdH1cbn0gKTtcblxuLy8gSW5zdGFsbCBzY3JpcHQgZGF0YVR5cGVcbmpRdWVyeS5hamF4U2V0dXAoIHtcblx0YWNjZXB0czoge1xuXHRcdHNjcmlwdDogXCJ0ZXh0L2phdmFzY3JpcHQsIGFwcGxpY2F0aW9uL2phdmFzY3JpcHQsIFwiICtcblx0XHRcdFwiYXBwbGljYXRpb24vZWNtYXNjcmlwdCwgYXBwbGljYXRpb24veC1lY21hc2NyaXB0XCJcblx0fSxcblx0Y29udGVudHM6IHtcblx0XHRzY3JpcHQ6IC9cXGIoPzpqYXZhfGVjbWEpc2NyaXB0XFxiL1xuXHR9LFxuXHRjb252ZXJ0ZXJzOiB7XG5cdFx0XCJ0ZXh0IHNjcmlwdFwiOiBmdW5jdGlvbiggdGV4dCApIHtcblx0XHRcdGpRdWVyeS5nbG9iYWxFdmFsKCB0ZXh0ICk7XG5cdFx0XHRyZXR1cm4gdGV4dDtcblx0XHR9XG5cdH1cbn0gKTtcblxuLy8gSGFuZGxlIGNhY2hlJ3Mgc3BlY2lhbCBjYXNlIGFuZCBjcm9zc0RvbWFpblxualF1ZXJ5LmFqYXhQcmVmaWx0ZXIoIFwic2NyaXB0XCIsIGZ1bmN0aW9uKCBzICkge1xuXHRpZiAoIHMuY2FjaGUgPT09IHVuZGVmaW5lZCApIHtcblx0XHRzLmNhY2hlID0gZmFsc2U7XG5cdH1cblx0aWYgKCBzLmNyb3NzRG9tYWluICkge1xuXHRcdHMudHlwZSA9IFwiR0VUXCI7XG5cdH1cbn0gKTtcblxuLy8gQmluZCBzY3JpcHQgdGFnIGhhY2sgdHJhbnNwb3J0XG5qUXVlcnkuYWpheFRyYW5zcG9ydCggXCJzY3JpcHRcIiwgZnVuY3Rpb24oIHMgKSB7XG5cblx0Ly8gVGhpcyB0cmFuc3BvcnQgb25seSBkZWFscyB3aXRoIGNyb3NzIGRvbWFpbiByZXF1ZXN0c1xuXHRpZiAoIHMuY3Jvc3NEb21haW4gKSB7XG5cdFx0dmFyIHNjcmlwdCwgY2FsbGJhY2s7XG5cdFx0cmV0dXJuIHtcblx0XHRcdHNlbmQ6IGZ1bmN0aW9uKCBfLCBjb21wbGV0ZSApIHtcblx0XHRcdFx0c2NyaXB0ID0galF1ZXJ5KCBcIjxzY3JpcHQ+XCIgKS5wcm9wKCB7XG5cdFx0XHRcdFx0Y2hhcnNldDogcy5zY3JpcHRDaGFyc2V0LFxuXHRcdFx0XHRcdHNyYzogcy51cmxcblx0XHRcdFx0fSApLm9uKFxuXHRcdFx0XHRcdFwibG9hZCBlcnJvclwiLFxuXHRcdFx0XHRcdGNhbGxiYWNrID0gZnVuY3Rpb24oIGV2dCApIHtcblx0XHRcdFx0XHRcdHNjcmlwdC5yZW1vdmUoKTtcblx0XHRcdFx0XHRcdGNhbGxiYWNrID0gbnVsbDtcblx0XHRcdFx0XHRcdGlmICggZXZ0ICkge1xuXHRcdFx0XHRcdFx0XHRjb21wbGV0ZSggZXZ0LnR5cGUgPT09IFwiZXJyb3JcIiA/IDQwNCA6IDIwMCwgZXZ0LnR5cGUgKTtcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHR9XG5cdFx0XHRcdCk7XG5cblx0XHRcdFx0Ly8gVXNlIG5hdGl2ZSBET00gbWFuaXB1bGF0aW9uIHRvIGF2b2lkIG91ciBkb21NYW5pcCBBSkFYIHRyaWNrZXJ5XG5cdFx0XHRcdGRvY3VtZW50LmhlYWQuYXBwZW5kQ2hpbGQoIHNjcmlwdFsgMCBdICk7XG5cdFx0XHR9LFxuXHRcdFx0YWJvcnQ6IGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRpZiAoIGNhbGxiYWNrICkge1xuXHRcdFx0XHRcdGNhbGxiYWNrKCk7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9O1xuXHR9XG59ICk7XG5cblxuXG5cbnZhciBvbGRDYWxsYmFja3MgPSBbXSxcblx0cmpzb25wID0gLyg9KVxcPyg/PSZ8JCl8XFw/XFw/LztcblxuLy8gRGVmYXVsdCBqc29ucCBzZXR0aW5nc1xualF1ZXJ5LmFqYXhTZXR1cCgge1xuXHRqc29ucDogXCJjYWxsYmFja1wiLFxuXHRqc29ucENhbGxiYWNrOiBmdW5jdGlvbigpIHtcblx0XHR2YXIgY2FsbGJhY2sgPSBvbGRDYWxsYmFja3MucG9wKCkgfHwgKCBqUXVlcnkuZXhwYW5kbyArIFwiX1wiICsgKCBub25jZSsrICkgKTtcblx0XHR0aGlzWyBjYWxsYmFjayBdID0gdHJ1ZTtcblx0XHRyZXR1cm4gY2FsbGJhY2s7XG5cdH1cbn0gKTtcblxuLy8gRGV0ZWN0LCBub3JtYWxpemUgb3B0aW9ucyBhbmQgaW5zdGFsbCBjYWxsYmFja3MgZm9yIGpzb25wIHJlcXVlc3RzXG5qUXVlcnkuYWpheFByZWZpbHRlciggXCJqc29uIGpzb25wXCIsIGZ1bmN0aW9uKCBzLCBvcmlnaW5hbFNldHRpbmdzLCBqcVhIUiApIHtcblxuXHR2YXIgY2FsbGJhY2tOYW1lLCBvdmVyd3JpdHRlbiwgcmVzcG9uc2VDb250YWluZXIsXG5cdFx0anNvblByb3AgPSBzLmpzb25wICE9PSBmYWxzZSAmJiAoIHJqc29ucC50ZXN0KCBzLnVybCApID9cblx0XHRcdFwidXJsXCIgOlxuXHRcdFx0dHlwZW9mIHMuZGF0YSA9PT0gXCJzdHJpbmdcIiAmJlxuXHRcdFx0XHQoIHMuY29udGVudFR5cGUgfHwgXCJcIiApXG5cdFx0XHRcdFx0LmluZGV4T2YoIFwiYXBwbGljYXRpb24veC13d3ctZm9ybS11cmxlbmNvZGVkXCIgKSA9PT0gMCAmJlxuXHRcdFx0XHRyanNvbnAudGVzdCggcy5kYXRhICkgJiYgXCJkYXRhXCJcblx0XHQpO1xuXG5cdC8vIEhhbmRsZSBpZmYgdGhlIGV4cGVjdGVkIGRhdGEgdHlwZSBpcyBcImpzb25wXCIgb3Igd2UgaGF2ZSBhIHBhcmFtZXRlciB0byBzZXRcblx0aWYgKCBqc29uUHJvcCB8fCBzLmRhdGFUeXBlc1sgMCBdID09PSBcImpzb25wXCIgKSB7XG5cblx0XHQvLyBHZXQgY2FsbGJhY2sgbmFtZSwgcmVtZW1iZXJpbmcgcHJlZXhpc3RpbmcgdmFsdWUgYXNzb2NpYXRlZCB3aXRoIGl0XG5cdFx0Y2FsbGJhY2tOYW1lID0gcy5qc29ucENhbGxiYWNrID0galF1ZXJ5LmlzRnVuY3Rpb24oIHMuanNvbnBDYWxsYmFjayApID9cblx0XHRcdHMuanNvbnBDYWxsYmFjaygpIDpcblx0XHRcdHMuanNvbnBDYWxsYmFjaztcblxuXHRcdC8vIEluc2VydCBjYWxsYmFjayBpbnRvIHVybCBvciBmb3JtIGRhdGFcblx0XHRpZiAoIGpzb25Qcm9wICkge1xuXHRcdFx0c1sganNvblByb3AgXSA9IHNbIGpzb25Qcm9wIF0ucmVwbGFjZSggcmpzb25wLCBcIiQxXCIgKyBjYWxsYmFja05hbWUgKTtcblx0XHR9IGVsc2UgaWYgKCBzLmpzb25wICE9PSBmYWxzZSApIHtcblx0XHRcdHMudXJsICs9ICggcnF1ZXJ5LnRlc3QoIHMudXJsICkgPyBcIiZcIiA6IFwiP1wiICkgKyBzLmpzb25wICsgXCI9XCIgKyBjYWxsYmFja05hbWU7XG5cdFx0fVxuXG5cdFx0Ly8gVXNlIGRhdGEgY29udmVydGVyIHRvIHJldHJpZXZlIGpzb24gYWZ0ZXIgc2NyaXB0IGV4ZWN1dGlvblxuXHRcdHMuY29udmVydGVyc1sgXCJzY3JpcHQganNvblwiIF0gPSBmdW5jdGlvbigpIHtcblx0XHRcdGlmICggIXJlc3BvbnNlQ29udGFpbmVyICkge1xuXHRcdFx0XHRqUXVlcnkuZXJyb3IoIGNhbGxiYWNrTmFtZSArIFwiIHdhcyBub3QgY2FsbGVkXCIgKTtcblx0XHRcdH1cblx0XHRcdHJldHVybiByZXNwb25zZUNvbnRhaW5lclsgMCBdO1xuXHRcdH07XG5cblx0XHQvLyBGb3JjZSBqc29uIGRhdGFUeXBlXG5cdFx0cy5kYXRhVHlwZXNbIDAgXSA9IFwianNvblwiO1xuXG5cdFx0Ly8gSW5zdGFsbCBjYWxsYmFja1xuXHRcdG92ZXJ3cml0dGVuID0gd2luZG93WyBjYWxsYmFja05hbWUgXTtcblx0XHR3aW5kb3dbIGNhbGxiYWNrTmFtZSBdID0gZnVuY3Rpb24oKSB7XG5cdFx0XHRyZXNwb25zZUNvbnRhaW5lciA9IGFyZ3VtZW50cztcblx0XHR9O1xuXG5cdFx0Ly8gQ2xlYW4tdXAgZnVuY3Rpb24gKGZpcmVzIGFmdGVyIGNvbnZlcnRlcnMpXG5cdFx0anFYSFIuYWx3YXlzKCBmdW5jdGlvbigpIHtcblxuXHRcdFx0Ly8gSWYgcHJldmlvdXMgdmFsdWUgZGlkbid0IGV4aXN0IC0gcmVtb3ZlIGl0XG5cdFx0XHRpZiAoIG92ZXJ3cml0dGVuID09PSB1bmRlZmluZWQgKSB7XG5cdFx0XHRcdGpRdWVyeSggd2luZG93ICkucmVtb3ZlUHJvcCggY2FsbGJhY2tOYW1lICk7XG5cblx0XHRcdC8vIE90aGVyd2lzZSByZXN0b3JlIHByZWV4aXN0aW5nIHZhbHVlXG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHR3aW5kb3dbIGNhbGxiYWNrTmFtZSBdID0gb3ZlcndyaXR0ZW47XG5cdFx0XHR9XG5cblx0XHRcdC8vIFNhdmUgYmFjayBhcyBmcmVlXG5cdFx0XHRpZiAoIHNbIGNhbGxiYWNrTmFtZSBdICkge1xuXG5cdFx0XHRcdC8vIE1ha2Ugc3VyZSB0aGF0IHJlLXVzaW5nIHRoZSBvcHRpb25zIGRvZXNuJ3Qgc2NyZXcgdGhpbmdzIGFyb3VuZFxuXHRcdFx0XHRzLmpzb25wQ2FsbGJhY2sgPSBvcmlnaW5hbFNldHRpbmdzLmpzb25wQ2FsbGJhY2s7XG5cblx0XHRcdFx0Ly8gU2F2ZSB0aGUgY2FsbGJhY2sgbmFtZSBmb3IgZnV0dXJlIHVzZVxuXHRcdFx0XHRvbGRDYWxsYmFja3MucHVzaCggY2FsbGJhY2tOYW1lICk7XG5cdFx0XHR9XG5cblx0XHRcdC8vIENhbGwgaWYgaXQgd2FzIGEgZnVuY3Rpb24gYW5kIHdlIGhhdmUgYSByZXNwb25zZVxuXHRcdFx0aWYgKCByZXNwb25zZUNvbnRhaW5lciAmJiBqUXVlcnkuaXNGdW5jdGlvbiggb3ZlcndyaXR0ZW4gKSApIHtcblx0XHRcdFx0b3ZlcndyaXR0ZW4oIHJlc3BvbnNlQ29udGFpbmVyWyAwIF0gKTtcblx0XHRcdH1cblxuXHRcdFx0cmVzcG9uc2VDb250YWluZXIgPSBvdmVyd3JpdHRlbiA9IHVuZGVmaW5lZDtcblx0XHR9ICk7XG5cblx0XHQvLyBEZWxlZ2F0ZSB0byBzY3JpcHRcblx0XHRyZXR1cm4gXCJzY3JpcHRcIjtcblx0fVxufSApO1xuXG5cblxuXG4vLyBTdXBwb3J0OiBTYWZhcmkgOCBvbmx5XG4vLyBJbiBTYWZhcmkgOCBkb2N1bWVudHMgY3JlYXRlZCB2aWEgZG9jdW1lbnQuaW1wbGVtZW50YXRpb24uY3JlYXRlSFRNTERvY3VtZW50XG4vLyBjb2xsYXBzZSBzaWJsaW5nIGZvcm1zOiB0aGUgc2Vjb25kIG9uZSBiZWNvbWVzIGEgY2hpbGQgb2YgdGhlIGZpcnN0IG9uZS5cbi8vIEJlY2F1c2Ugb2YgdGhhdCwgdGhpcyBzZWN1cml0eSBtZWFzdXJlIGhhcyB0byBiZSBkaXNhYmxlZCBpbiBTYWZhcmkgOC5cbi8vIGh0dHBzOi8vYnVncy53ZWJraXQub3JnL3Nob3dfYnVnLmNnaT9pZD0xMzczMzdcbnN1cHBvcnQuY3JlYXRlSFRNTERvY3VtZW50ID0gKCBmdW5jdGlvbigpIHtcblx0dmFyIGJvZHkgPSBkb2N1bWVudC5pbXBsZW1lbnRhdGlvbi5jcmVhdGVIVE1MRG9jdW1lbnQoIFwiXCIgKS5ib2R5O1xuXHRib2R5LmlubmVySFRNTCA9IFwiPGZvcm0+PC9mb3JtPjxmb3JtPjwvZm9ybT5cIjtcblx0cmV0dXJuIGJvZHkuY2hpbGROb2Rlcy5sZW5ndGggPT09IDI7XG59ICkoKTtcblxuXG4vLyBBcmd1bWVudCBcImRhdGFcIiBzaG91bGQgYmUgc3RyaW5nIG9mIGh0bWxcbi8vIGNvbnRleHQgKG9wdGlvbmFsKTogSWYgc3BlY2lmaWVkLCB0aGUgZnJhZ21lbnQgd2lsbCBiZSBjcmVhdGVkIGluIHRoaXMgY29udGV4dCxcbi8vIGRlZmF1bHRzIHRvIGRvY3VtZW50XG4vLyBrZWVwU2NyaXB0cyAob3B0aW9uYWwpOiBJZiB0cnVlLCB3aWxsIGluY2x1ZGUgc2NyaXB0cyBwYXNzZWQgaW4gdGhlIGh0bWwgc3RyaW5nXG5qUXVlcnkucGFyc2VIVE1MID0gZnVuY3Rpb24oIGRhdGEsIGNvbnRleHQsIGtlZXBTY3JpcHRzICkge1xuXHRpZiAoIHR5cGVvZiBkYXRhICE9PSBcInN0cmluZ1wiICkge1xuXHRcdHJldHVybiBbXTtcblx0fVxuXHRpZiAoIHR5cGVvZiBjb250ZXh0ID09PSBcImJvb2xlYW5cIiApIHtcblx0XHRrZWVwU2NyaXB0cyA9IGNvbnRleHQ7XG5cdFx0Y29udGV4dCA9IGZhbHNlO1xuXHR9XG5cblx0dmFyIGJhc2UsIHBhcnNlZCwgc2NyaXB0cztcblxuXHRpZiAoICFjb250ZXh0ICkge1xuXG5cdFx0Ly8gU3RvcCBzY3JpcHRzIG9yIGlubGluZSBldmVudCBoYW5kbGVycyBmcm9tIGJlaW5nIGV4ZWN1dGVkIGltbWVkaWF0ZWx5XG5cdFx0Ly8gYnkgdXNpbmcgZG9jdW1lbnQuaW1wbGVtZW50YXRpb25cblx0XHRpZiAoIHN1cHBvcnQuY3JlYXRlSFRNTERvY3VtZW50ICkge1xuXHRcdFx0Y29udGV4dCA9IGRvY3VtZW50LmltcGxlbWVudGF0aW9uLmNyZWF0ZUhUTUxEb2N1bWVudCggXCJcIiApO1xuXG5cdFx0XHQvLyBTZXQgdGhlIGJhc2UgaHJlZiBmb3IgdGhlIGNyZWF0ZWQgZG9jdW1lbnRcblx0XHRcdC8vIHNvIGFueSBwYXJzZWQgZWxlbWVudHMgd2l0aCBVUkxzXG5cdFx0XHQvLyBhcmUgYmFzZWQgb24gdGhlIGRvY3VtZW50J3MgVVJMIChnaC0yOTY1KVxuXHRcdFx0YmFzZSA9IGNvbnRleHQuY3JlYXRlRWxlbWVudCggXCJiYXNlXCIgKTtcblx0XHRcdGJhc2UuaHJlZiA9IGRvY3VtZW50LmxvY2F0aW9uLmhyZWY7XG5cdFx0XHRjb250ZXh0LmhlYWQuYXBwZW5kQ2hpbGQoIGJhc2UgKTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0Y29udGV4dCA9IGRvY3VtZW50O1xuXHRcdH1cblx0fVxuXG5cdHBhcnNlZCA9IHJzaW5nbGVUYWcuZXhlYyggZGF0YSApO1xuXHRzY3JpcHRzID0gIWtlZXBTY3JpcHRzICYmIFtdO1xuXG5cdC8vIFNpbmdsZSB0YWdcblx0aWYgKCBwYXJzZWQgKSB7XG5cdFx0cmV0dXJuIFsgY29udGV4dC5jcmVhdGVFbGVtZW50KCBwYXJzZWRbIDEgXSApIF07XG5cdH1cblxuXHRwYXJzZWQgPSBidWlsZEZyYWdtZW50KCBbIGRhdGEgXSwgY29udGV4dCwgc2NyaXB0cyApO1xuXG5cdGlmICggc2NyaXB0cyAmJiBzY3JpcHRzLmxlbmd0aCApIHtcblx0XHRqUXVlcnkoIHNjcmlwdHMgKS5yZW1vdmUoKTtcblx0fVxuXG5cdHJldHVybiBqUXVlcnkubWVyZ2UoIFtdLCBwYXJzZWQuY2hpbGROb2RlcyApO1xufTtcblxuXG4vKipcbiAqIExvYWQgYSB1cmwgaW50byBhIHBhZ2VcbiAqL1xualF1ZXJ5LmZuLmxvYWQgPSBmdW5jdGlvbiggdXJsLCBwYXJhbXMsIGNhbGxiYWNrICkge1xuXHR2YXIgc2VsZWN0b3IsIHR5cGUsIHJlc3BvbnNlLFxuXHRcdHNlbGYgPSB0aGlzLFxuXHRcdG9mZiA9IHVybC5pbmRleE9mKCBcIiBcIiApO1xuXG5cdGlmICggb2ZmID4gLTEgKSB7XG5cdFx0c2VsZWN0b3IgPSBzdHJpcEFuZENvbGxhcHNlKCB1cmwuc2xpY2UoIG9mZiApICk7XG5cdFx0dXJsID0gdXJsLnNsaWNlKCAwLCBvZmYgKTtcblx0fVxuXG5cdC8vIElmIGl0J3MgYSBmdW5jdGlvblxuXHRpZiAoIGpRdWVyeS5pc0Z1bmN0aW9uKCBwYXJhbXMgKSApIHtcblxuXHRcdC8vIFdlIGFzc3VtZSB0aGF0IGl0J3MgdGhlIGNhbGxiYWNrXG5cdFx0Y2FsbGJhY2sgPSBwYXJhbXM7XG5cdFx0cGFyYW1zID0gdW5kZWZpbmVkO1xuXG5cdC8vIE90aGVyd2lzZSwgYnVpbGQgYSBwYXJhbSBzdHJpbmdcblx0fSBlbHNlIGlmICggcGFyYW1zICYmIHR5cGVvZiBwYXJhbXMgPT09IFwib2JqZWN0XCIgKSB7XG5cdFx0dHlwZSA9IFwiUE9TVFwiO1xuXHR9XG5cblx0Ly8gSWYgd2UgaGF2ZSBlbGVtZW50cyB0byBtb2RpZnksIG1ha2UgdGhlIHJlcXVlc3Rcblx0aWYgKCBzZWxmLmxlbmd0aCA+IDAgKSB7XG5cdFx0alF1ZXJ5LmFqYXgoIHtcblx0XHRcdHVybDogdXJsLFxuXG5cdFx0XHQvLyBJZiBcInR5cGVcIiB2YXJpYWJsZSBpcyB1bmRlZmluZWQsIHRoZW4gXCJHRVRcIiBtZXRob2Qgd2lsbCBiZSB1c2VkLlxuXHRcdFx0Ly8gTWFrZSB2YWx1ZSBvZiB0aGlzIGZpZWxkIGV4cGxpY2l0IHNpbmNlXG5cdFx0XHQvLyB1c2VyIGNhbiBvdmVycmlkZSBpdCB0aHJvdWdoIGFqYXhTZXR1cCBtZXRob2Rcblx0XHRcdHR5cGU6IHR5cGUgfHwgXCJHRVRcIixcblx0XHRcdGRhdGFUeXBlOiBcImh0bWxcIixcblx0XHRcdGRhdGE6IHBhcmFtc1xuXHRcdH0gKS5kb25lKCBmdW5jdGlvbiggcmVzcG9uc2VUZXh0ICkge1xuXG5cdFx0XHQvLyBTYXZlIHJlc3BvbnNlIGZvciB1c2UgaW4gY29tcGxldGUgY2FsbGJhY2tcblx0XHRcdHJlc3BvbnNlID0gYXJndW1lbnRzO1xuXG5cdFx0XHRzZWxmLmh0bWwoIHNlbGVjdG9yID9cblxuXHRcdFx0XHQvLyBJZiBhIHNlbGVjdG9yIHdhcyBzcGVjaWZpZWQsIGxvY2F0ZSB0aGUgcmlnaHQgZWxlbWVudHMgaW4gYSBkdW1teSBkaXZcblx0XHRcdFx0Ly8gRXhjbHVkZSBzY3JpcHRzIHRvIGF2b2lkIElFICdQZXJtaXNzaW9uIERlbmllZCcgZXJyb3JzXG5cdFx0XHRcdGpRdWVyeSggXCI8ZGl2PlwiICkuYXBwZW5kKCBqUXVlcnkucGFyc2VIVE1MKCByZXNwb25zZVRleHQgKSApLmZpbmQoIHNlbGVjdG9yICkgOlxuXG5cdFx0XHRcdC8vIE90aGVyd2lzZSB1c2UgdGhlIGZ1bGwgcmVzdWx0XG5cdFx0XHRcdHJlc3BvbnNlVGV4dCApO1xuXG5cdFx0Ly8gSWYgdGhlIHJlcXVlc3Qgc3VjY2VlZHMsIHRoaXMgZnVuY3Rpb24gZ2V0cyBcImRhdGFcIiwgXCJzdGF0dXNcIiwgXCJqcVhIUlwiXG5cdFx0Ly8gYnV0IHRoZXkgYXJlIGlnbm9yZWQgYmVjYXVzZSByZXNwb25zZSB3YXMgc2V0IGFib3ZlLlxuXHRcdC8vIElmIGl0IGZhaWxzLCB0aGlzIGZ1bmN0aW9uIGdldHMgXCJqcVhIUlwiLCBcInN0YXR1c1wiLCBcImVycm9yXCJcblx0XHR9ICkuYWx3YXlzKCBjYWxsYmFjayAmJiBmdW5jdGlvbigganFYSFIsIHN0YXR1cyApIHtcblx0XHRcdHNlbGYuZWFjaCggZnVuY3Rpb24oKSB7XG5cdFx0XHRcdGNhbGxiYWNrLmFwcGx5KCB0aGlzLCByZXNwb25zZSB8fCBbIGpxWEhSLnJlc3BvbnNlVGV4dCwgc3RhdHVzLCBqcVhIUiBdICk7XG5cdFx0XHR9ICk7XG5cdFx0fSApO1xuXHR9XG5cblx0cmV0dXJuIHRoaXM7XG59O1xuXG5cblxuXG4vLyBBdHRhY2ggYSBidW5jaCBvZiBmdW5jdGlvbnMgZm9yIGhhbmRsaW5nIGNvbW1vbiBBSkFYIGV2ZW50c1xualF1ZXJ5LmVhY2goIFtcblx0XCJhamF4U3RhcnRcIixcblx0XCJhamF4U3RvcFwiLFxuXHRcImFqYXhDb21wbGV0ZVwiLFxuXHRcImFqYXhFcnJvclwiLFxuXHRcImFqYXhTdWNjZXNzXCIsXG5cdFwiYWpheFNlbmRcIlxuXSwgZnVuY3Rpb24oIGksIHR5cGUgKSB7XG5cdGpRdWVyeS5mblsgdHlwZSBdID0gZnVuY3Rpb24oIGZuICkge1xuXHRcdHJldHVybiB0aGlzLm9uKCB0eXBlLCBmbiApO1xuXHR9O1xufSApO1xuXG5cblxuXG5qUXVlcnkuZXhwci5wc2V1ZG9zLmFuaW1hdGVkID0gZnVuY3Rpb24oIGVsZW0gKSB7XG5cdHJldHVybiBqUXVlcnkuZ3JlcCggalF1ZXJ5LnRpbWVycywgZnVuY3Rpb24oIGZuICkge1xuXHRcdHJldHVybiBlbGVtID09PSBmbi5lbGVtO1xuXHR9ICkubGVuZ3RoO1xufTtcblxuXG5cblxualF1ZXJ5Lm9mZnNldCA9IHtcblx0c2V0T2Zmc2V0OiBmdW5jdGlvbiggZWxlbSwgb3B0aW9ucywgaSApIHtcblx0XHR2YXIgY3VyUG9zaXRpb24sIGN1ckxlZnQsIGN1ckNTU1RvcCwgY3VyVG9wLCBjdXJPZmZzZXQsIGN1ckNTU0xlZnQsIGNhbGN1bGF0ZVBvc2l0aW9uLFxuXHRcdFx0cG9zaXRpb24gPSBqUXVlcnkuY3NzKCBlbGVtLCBcInBvc2l0aW9uXCIgKSxcblx0XHRcdGN1ckVsZW0gPSBqUXVlcnkoIGVsZW0gKSxcblx0XHRcdHByb3BzID0ge307XG5cblx0XHQvLyBTZXQgcG9zaXRpb24gZmlyc3QsIGluLWNhc2UgdG9wL2xlZnQgYXJlIHNldCBldmVuIG9uIHN0YXRpYyBlbGVtXG5cdFx0aWYgKCBwb3NpdGlvbiA9PT0gXCJzdGF0aWNcIiApIHtcblx0XHRcdGVsZW0uc3R5bGUucG9zaXRpb24gPSBcInJlbGF0aXZlXCI7XG5cdFx0fVxuXG5cdFx0Y3VyT2Zmc2V0ID0gY3VyRWxlbS5vZmZzZXQoKTtcblx0XHRjdXJDU1NUb3AgPSBqUXVlcnkuY3NzKCBlbGVtLCBcInRvcFwiICk7XG5cdFx0Y3VyQ1NTTGVmdCA9IGpRdWVyeS5jc3MoIGVsZW0sIFwibGVmdFwiICk7XG5cdFx0Y2FsY3VsYXRlUG9zaXRpb24gPSAoIHBvc2l0aW9uID09PSBcImFic29sdXRlXCIgfHwgcG9zaXRpb24gPT09IFwiZml4ZWRcIiApICYmXG5cdFx0XHQoIGN1ckNTU1RvcCArIGN1ckNTU0xlZnQgKS5pbmRleE9mKCBcImF1dG9cIiApID4gLTE7XG5cblx0XHQvLyBOZWVkIHRvIGJlIGFibGUgdG8gY2FsY3VsYXRlIHBvc2l0aW9uIGlmIGVpdGhlclxuXHRcdC8vIHRvcCBvciBsZWZ0IGlzIGF1dG8gYW5kIHBvc2l0aW9uIGlzIGVpdGhlciBhYnNvbHV0ZSBvciBmaXhlZFxuXHRcdGlmICggY2FsY3VsYXRlUG9zaXRpb24gKSB7XG5cdFx0XHRjdXJQb3NpdGlvbiA9IGN1ckVsZW0ucG9zaXRpb24oKTtcblx0XHRcdGN1clRvcCA9IGN1clBvc2l0aW9uLnRvcDtcblx0XHRcdGN1ckxlZnQgPSBjdXJQb3NpdGlvbi5sZWZ0O1xuXG5cdFx0fSBlbHNlIHtcblx0XHRcdGN1clRvcCA9IHBhcnNlRmxvYXQoIGN1ckNTU1RvcCApIHx8IDA7XG5cdFx0XHRjdXJMZWZ0ID0gcGFyc2VGbG9hdCggY3VyQ1NTTGVmdCApIHx8IDA7XG5cdFx0fVxuXG5cdFx0aWYgKCBqUXVlcnkuaXNGdW5jdGlvbiggb3B0aW9ucyApICkge1xuXG5cdFx0XHQvLyBVc2UgalF1ZXJ5LmV4dGVuZCBoZXJlIHRvIGFsbG93IG1vZGlmaWNhdGlvbiBvZiBjb29yZGluYXRlcyBhcmd1bWVudCAoZ2gtMTg0OClcblx0XHRcdG9wdGlvbnMgPSBvcHRpb25zLmNhbGwoIGVsZW0sIGksIGpRdWVyeS5leHRlbmQoIHt9LCBjdXJPZmZzZXQgKSApO1xuXHRcdH1cblxuXHRcdGlmICggb3B0aW9ucy50b3AgIT0gbnVsbCApIHtcblx0XHRcdHByb3BzLnRvcCA9ICggb3B0aW9ucy50b3AgLSBjdXJPZmZzZXQudG9wICkgKyBjdXJUb3A7XG5cdFx0fVxuXHRcdGlmICggb3B0aW9ucy5sZWZ0ICE9IG51bGwgKSB7XG5cdFx0XHRwcm9wcy5sZWZ0ID0gKCBvcHRpb25zLmxlZnQgLSBjdXJPZmZzZXQubGVmdCApICsgY3VyTGVmdDtcblx0XHR9XG5cblx0XHRpZiAoIFwidXNpbmdcIiBpbiBvcHRpb25zICkge1xuXHRcdFx0b3B0aW9ucy51c2luZy5jYWxsKCBlbGVtLCBwcm9wcyApO1xuXG5cdFx0fSBlbHNlIHtcblx0XHRcdGN1ckVsZW0uY3NzKCBwcm9wcyApO1xuXHRcdH1cblx0fVxufTtcblxualF1ZXJ5LmZuLmV4dGVuZCgge1xuXHRvZmZzZXQ6IGZ1bmN0aW9uKCBvcHRpb25zICkge1xuXG5cdFx0Ly8gUHJlc2VydmUgY2hhaW5pbmcgZm9yIHNldHRlclxuXHRcdGlmICggYXJndW1lbnRzLmxlbmd0aCApIHtcblx0XHRcdHJldHVybiBvcHRpb25zID09PSB1bmRlZmluZWQgP1xuXHRcdFx0XHR0aGlzIDpcblx0XHRcdFx0dGhpcy5lYWNoKCBmdW5jdGlvbiggaSApIHtcblx0XHRcdFx0XHRqUXVlcnkub2Zmc2V0LnNldE9mZnNldCggdGhpcywgb3B0aW9ucywgaSApO1xuXHRcdFx0XHR9ICk7XG5cdFx0fVxuXG5cdFx0dmFyIGRvYywgZG9jRWxlbSwgcmVjdCwgd2luLFxuXHRcdFx0ZWxlbSA9IHRoaXNbIDAgXTtcblxuXHRcdGlmICggIWVsZW0gKSB7XG5cdFx0XHRyZXR1cm47XG5cdFx0fVxuXG5cdFx0Ly8gUmV0dXJuIHplcm9zIGZvciBkaXNjb25uZWN0ZWQgYW5kIGhpZGRlbiAoZGlzcGxheTogbm9uZSkgZWxlbWVudHMgKGdoLTIzMTApXG5cdFx0Ly8gU3VwcG9ydDogSUUgPD0xMSBvbmx5XG5cdFx0Ly8gUnVubmluZyBnZXRCb3VuZGluZ0NsaWVudFJlY3Qgb24gYVxuXHRcdC8vIGRpc2Nvbm5lY3RlZCBub2RlIGluIElFIHRocm93cyBhbiBlcnJvclxuXHRcdGlmICggIWVsZW0uZ2V0Q2xpZW50UmVjdHMoKS5sZW5ndGggKSB7XG5cdFx0XHRyZXR1cm4geyB0b3A6IDAsIGxlZnQ6IDAgfTtcblx0XHR9XG5cblx0XHRyZWN0ID0gZWxlbS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcblxuXHRcdGRvYyA9IGVsZW0ub3duZXJEb2N1bWVudDtcblx0XHRkb2NFbGVtID0gZG9jLmRvY3VtZW50RWxlbWVudDtcblx0XHR3aW4gPSBkb2MuZGVmYXVsdFZpZXc7XG5cblx0XHRyZXR1cm4ge1xuXHRcdFx0dG9wOiByZWN0LnRvcCArIHdpbi5wYWdlWU9mZnNldCAtIGRvY0VsZW0uY2xpZW50VG9wLFxuXHRcdFx0bGVmdDogcmVjdC5sZWZ0ICsgd2luLnBhZ2VYT2Zmc2V0IC0gZG9jRWxlbS5jbGllbnRMZWZ0XG5cdFx0fTtcblx0fSxcblxuXHRwb3NpdGlvbjogZnVuY3Rpb24oKSB7XG5cdFx0aWYgKCAhdGhpc1sgMCBdICkge1xuXHRcdFx0cmV0dXJuO1xuXHRcdH1cblxuXHRcdHZhciBvZmZzZXRQYXJlbnQsIG9mZnNldCxcblx0XHRcdGVsZW0gPSB0aGlzWyAwIF0sXG5cdFx0XHRwYXJlbnRPZmZzZXQgPSB7IHRvcDogMCwgbGVmdDogMCB9O1xuXG5cdFx0Ly8gRml4ZWQgZWxlbWVudHMgYXJlIG9mZnNldCBmcm9tIHdpbmRvdyAocGFyZW50T2Zmc2V0ID0ge3RvcDowLCBsZWZ0OiAwfSxcblx0XHQvLyBiZWNhdXNlIGl0IGlzIGl0cyBvbmx5IG9mZnNldCBwYXJlbnRcblx0XHRpZiAoIGpRdWVyeS5jc3MoIGVsZW0sIFwicG9zaXRpb25cIiApID09PSBcImZpeGVkXCIgKSB7XG5cblx0XHRcdC8vIEFzc3VtZSBnZXRCb3VuZGluZ0NsaWVudFJlY3QgaXMgdGhlcmUgd2hlbiBjb21wdXRlZCBwb3NpdGlvbiBpcyBmaXhlZFxuXHRcdFx0b2Zmc2V0ID0gZWxlbS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcblxuXHRcdH0gZWxzZSB7XG5cblx0XHRcdC8vIEdldCAqcmVhbCogb2Zmc2V0UGFyZW50XG5cdFx0XHRvZmZzZXRQYXJlbnQgPSB0aGlzLm9mZnNldFBhcmVudCgpO1xuXG5cdFx0XHQvLyBHZXQgY29ycmVjdCBvZmZzZXRzXG5cdFx0XHRvZmZzZXQgPSB0aGlzLm9mZnNldCgpO1xuXHRcdFx0aWYgKCAhbm9kZU5hbWUoIG9mZnNldFBhcmVudFsgMCBdLCBcImh0bWxcIiApICkge1xuXHRcdFx0XHRwYXJlbnRPZmZzZXQgPSBvZmZzZXRQYXJlbnQub2Zmc2V0KCk7XG5cdFx0XHR9XG5cblx0XHRcdC8vIEFkZCBvZmZzZXRQYXJlbnQgYm9yZGVyc1xuXHRcdFx0cGFyZW50T2Zmc2V0ID0ge1xuXHRcdFx0XHR0b3A6IHBhcmVudE9mZnNldC50b3AgKyBqUXVlcnkuY3NzKCBvZmZzZXRQYXJlbnRbIDAgXSwgXCJib3JkZXJUb3BXaWR0aFwiLCB0cnVlICksXG5cdFx0XHRcdGxlZnQ6IHBhcmVudE9mZnNldC5sZWZ0ICsgalF1ZXJ5LmNzcyggb2Zmc2V0UGFyZW50WyAwIF0sIFwiYm9yZGVyTGVmdFdpZHRoXCIsIHRydWUgKVxuXHRcdFx0fTtcblx0XHR9XG5cblx0XHQvLyBTdWJ0cmFjdCBwYXJlbnQgb2Zmc2V0cyBhbmQgZWxlbWVudCBtYXJnaW5zXG5cdFx0cmV0dXJuIHtcblx0XHRcdHRvcDogb2Zmc2V0LnRvcCAtIHBhcmVudE9mZnNldC50b3AgLSBqUXVlcnkuY3NzKCBlbGVtLCBcIm1hcmdpblRvcFwiLCB0cnVlICksXG5cdFx0XHRsZWZ0OiBvZmZzZXQubGVmdCAtIHBhcmVudE9mZnNldC5sZWZ0IC0galF1ZXJ5LmNzcyggZWxlbSwgXCJtYXJnaW5MZWZ0XCIsIHRydWUgKVxuXHRcdH07XG5cdH0sXG5cblx0Ly8gVGhpcyBtZXRob2Qgd2lsbCByZXR1cm4gZG9jdW1lbnRFbGVtZW50IGluIHRoZSBmb2xsb3dpbmcgY2FzZXM6XG5cdC8vIDEpIEZvciB0aGUgZWxlbWVudCBpbnNpZGUgdGhlIGlmcmFtZSB3aXRob3V0IG9mZnNldFBhcmVudCwgdGhpcyBtZXRob2Qgd2lsbCByZXR1cm5cblx0Ly8gICAgZG9jdW1lbnRFbGVtZW50IG9mIHRoZSBwYXJlbnQgd2luZG93XG5cdC8vIDIpIEZvciB0aGUgaGlkZGVuIG9yIGRldGFjaGVkIGVsZW1lbnRcblx0Ly8gMykgRm9yIGJvZHkgb3IgaHRtbCBlbGVtZW50LCBpLmUuIGluIGNhc2Ugb2YgdGhlIGh0bWwgbm9kZSAtIGl0IHdpbGwgcmV0dXJuIGl0c2VsZlxuXHQvL1xuXHQvLyBidXQgdGhvc2UgZXhjZXB0aW9ucyB3ZXJlIG5ldmVyIHByZXNlbnRlZCBhcyBhIHJlYWwgbGlmZSB1c2UtY2FzZXNcblx0Ly8gYW5kIG1pZ2h0IGJlIGNvbnNpZGVyZWQgYXMgbW9yZSBwcmVmZXJhYmxlIHJlc3VsdHMuXG5cdC8vXG5cdC8vIFRoaXMgbG9naWMsIGhvd2V2ZXIsIGlzIG5vdCBndWFyYW50ZWVkIGFuZCBjYW4gY2hhbmdlIGF0IGFueSBwb2ludCBpbiB0aGUgZnV0dXJlXG5cdG9mZnNldFBhcmVudDogZnVuY3Rpb24oKSB7XG5cdFx0cmV0dXJuIHRoaXMubWFwKCBmdW5jdGlvbigpIHtcblx0XHRcdHZhciBvZmZzZXRQYXJlbnQgPSB0aGlzLm9mZnNldFBhcmVudDtcblxuXHRcdFx0d2hpbGUgKCBvZmZzZXRQYXJlbnQgJiYgalF1ZXJ5LmNzcyggb2Zmc2V0UGFyZW50LCBcInBvc2l0aW9uXCIgKSA9PT0gXCJzdGF0aWNcIiApIHtcblx0XHRcdFx0b2Zmc2V0UGFyZW50ID0gb2Zmc2V0UGFyZW50Lm9mZnNldFBhcmVudDtcblx0XHRcdH1cblxuXHRcdFx0cmV0dXJuIG9mZnNldFBhcmVudCB8fCBkb2N1bWVudEVsZW1lbnQ7XG5cdFx0fSApO1xuXHR9XG59ICk7XG5cbi8vIENyZWF0ZSBzY3JvbGxMZWZ0IGFuZCBzY3JvbGxUb3AgbWV0aG9kc1xualF1ZXJ5LmVhY2goIHsgc2Nyb2xsTGVmdDogXCJwYWdlWE9mZnNldFwiLCBzY3JvbGxUb3A6IFwicGFnZVlPZmZzZXRcIiB9LCBmdW5jdGlvbiggbWV0aG9kLCBwcm9wICkge1xuXHR2YXIgdG9wID0gXCJwYWdlWU9mZnNldFwiID09PSBwcm9wO1xuXG5cdGpRdWVyeS5mblsgbWV0aG9kIF0gPSBmdW5jdGlvbiggdmFsICkge1xuXHRcdHJldHVybiBhY2Nlc3MoIHRoaXMsIGZ1bmN0aW9uKCBlbGVtLCBtZXRob2QsIHZhbCApIHtcblxuXHRcdFx0Ly8gQ29hbGVzY2UgZG9jdW1lbnRzIGFuZCB3aW5kb3dzXG5cdFx0XHR2YXIgd2luO1xuXHRcdFx0aWYgKCBqUXVlcnkuaXNXaW5kb3coIGVsZW0gKSApIHtcblx0XHRcdFx0d2luID0gZWxlbTtcblx0XHRcdH0gZWxzZSBpZiAoIGVsZW0ubm9kZVR5cGUgPT09IDkgKSB7XG5cdFx0XHRcdHdpbiA9IGVsZW0uZGVmYXVsdFZpZXc7XG5cdFx0XHR9XG5cblx0XHRcdGlmICggdmFsID09PSB1bmRlZmluZWQgKSB7XG5cdFx0XHRcdHJldHVybiB3aW4gPyB3aW5bIHByb3AgXSA6IGVsZW1bIG1ldGhvZCBdO1xuXHRcdFx0fVxuXG5cdFx0XHRpZiAoIHdpbiApIHtcblx0XHRcdFx0d2luLnNjcm9sbFRvKFxuXHRcdFx0XHRcdCF0b3AgPyB2YWwgOiB3aW4ucGFnZVhPZmZzZXQsXG5cdFx0XHRcdFx0dG9wID8gdmFsIDogd2luLnBhZ2VZT2Zmc2V0XG5cdFx0XHRcdCk7XG5cblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdGVsZW1bIG1ldGhvZCBdID0gdmFsO1xuXHRcdFx0fVxuXHRcdH0sIG1ldGhvZCwgdmFsLCBhcmd1bWVudHMubGVuZ3RoICk7XG5cdH07XG59ICk7XG5cbi8vIFN1cHBvcnQ6IFNhZmFyaSA8PTcgLSA5LjEsIENocm9tZSA8PTM3IC0gNDlcbi8vIEFkZCB0aGUgdG9wL2xlZnQgY3NzSG9va3MgdXNpbmcgalF1ZXJ5LmZuLnBvc2l0aW9uXG4vLyBXZWJraXQgYnVnOiBodHRwczovL2J1Z3Mud2Via2l0Lm9yZy9zaG93X2J1Zy5jZ2k/aWQ9MjkwODRcbi8vIEJsaW5rIGJ1ZzogaHR0cHM6Ly9idWdzLmNocm9taXVtLm9yZy9wL2Nocm9taXVtL2lzc3Vlcy9kZXRhaWw/aWQ9NTg5MzQ3XG4vLyBnZXRDb21wdXRlZFN0eWxlIHJldHVybnMgcGVyY2VudCB3aGVuIHNwZWNpZmllZCBmb3IgdG9wL2xlZnQvYm90dG9tL3JpZ2h0O1xuLy8gcmF0aGVyIHRoYW4gbWFrZSB0aGUgY3NzIG1vZHVsZSBkZXBlbmQgb24gdGhlIG9mZnNldCBtb2R1bGUsIGp1c3QgY2hlY2sgZm9yIGl0IGhlcmVcbmpRdWVyeS5lYWNoKCBbIFwidG9wXCIsIFwibGVmdFwiIF0sIGZ1bmN0aW9uKCBpLCBwcm9wICkge1xuXHRqUXVlcnkuY3NzSG9va3NbIHByb3AgXSA9IGFkZEdldEhvb2tJZiggc3VwcG9ydC5waXhlbFBvc2l0aW9uLFxuXHRcdGZ1bmN0aW9uKCBlbGVtLCBjb21wdXRlZCApIHtcblx0XHRcdGlmICggY29tcHV0ZWQgKSB7XG5cdFx0XHRcdGNvbXB1dGVkID0gY3VyQ1NTKCBlbGVtLCBwcm9wICk7XG5cblx0XHRcdFx0Ly8gSWYgY3VyQ1NTIHJldHVybnMgcGVyY2VudGFnZSwgZmFsbGJhY2sgdG8gb2Zmc2V0XG5cdFx0XHRcdHJldHVybiBybnVtbm9ucHgudGVzdCggY29tcHV0ZWQgKSA/XG5cdFx0XHRcdFx0alF1ZXJ5KCBlbGVtICkucG9zaXRpb24oKVsgcHJvcCBdICsgXCJweFwiIDpcblx0XHRcdFx0XHRjb21wdXRlZDtcblx0XHRcdH1cblx0XHR9XG5cdCk7XG59ICk7XG5cblxuLy8gQ3JlYXRlIGlubmVySGVpZ2h0LCBpbm5lcldpZHRoLCBoZWlnaHQsIHdpZHRoLCBvdXRlckhlaWdodCBhbmQgb3V0ZXJXaWR0aCBtZXRob2RzXG5qUXVlcnkuZWFjaCggeyBIZWlnaHQ6IFwiaGVpZ2h0XCIsIFdpZHRoOiBcIndpZHRoXCIgfSwgZnVuY3Rpb24oIG5hbWUsIHR5cGUgKSB7XG5cdGpRdWVyeS5lYWNoKCB7IHBhZGRpbmc6IFwiaW5uZXJcIiArIG5hbWUsIGNvbnRlbnQ6IHR5cGUsIFwiXCI6IFwib3V0ZXJcIiArIG5hbWUgfSxcblx0XHRmdW5jdGlvbiggZGVmYXVsdEV4dHJhLCBmdW5jTmFtZSApIHtcblxuXHRcdC8vIE1hcmdpbiBpcyBvbmx5IGZvciBvdXRlckhlaWdodCwgb3V0ZXJXaWR0aFxuXHRcdGpRdWVyeS5mblsgZnVuY05hbWUgXSA9IGZ1bmN0aW9uKCBtYXJnaW4sIHZhbHVlICkge1xuXHRcdFx0dmFyIGNoYWluYWJsZSA9IGFyZ3VtZW50cy5sZW5ndGggJiYgKCBkZWZhdWx0RXh0cmEgfHwgdHlwZW9mIG1hcmdpbiAhPT0gXCJib29sZWFuXCIgKSxcblx0XHRcdFx0ZXh0cmEgPSBkZWZhdWx0RXh0cmEgfHwgKCBtYXJnaW4gPT09IHRydWUgfHwgdmFsdWUgPT09IHRydWUgPyBcIm1hcmdpblwiIDogXCJib3JkZXJcIiApO1xuXG5cdFx0XHRyZXR1cm4gYWNjZXNzKCB0aGlzLCBmdW5jdGlvbiggZWxlbSwgdHlwZSwgdmFsdWUgKSB7XG5cdFx0XHRcdHZhciBkb2M7XG5cblx0XHRcdFx0aWYgKCBqUXVlcnkuaXNXaW5kb3coIGVsZW0gKSApIHtcblxuXHRcdFx0XHRcdC8vICQoIHdpbmRvdyApLm91dGVyV2lkdGgvSGVpZ2h0IHJldHVybiB3L2ggaW5jbHVkaW5nIHNjcm9sbGJhcnMgKGdoLTE3MjkpXG5cdFx0XHRcdFx0cmV0dXJuIGZ1bmNOYW1lLmluZGV4T2YoIFwib3V0ZXJcIiApID09PSAwID9cblx0XHRcdFx0XHRcdGVsZW1bIFwiaW5uZXJcIiArIG5hbWUgXSA6XG5cdFx0XHRcdFx0XHRlbGVtLmRvY3VtZW50LmRvY3VtZW50RWxlbWVudFsgXCJjbGllbnRcIiArIG5hbWUgXTtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdC8vIEdldCBkb2N1bWVudCB3aWR0aCBvciBoZWlnaHRcblx0XHRcdFx0aWYgKCBlbGVtLm5vZGVUeXBlID09PSA5ICkge1xuXHRcdFx0XHRcdGRvYyA9IGVsZW0uZG9jdW1lbnRFbGVtZW50O1xuXG5cdFx0XHRcdFx0Ly8gRWl0aGVyIHNjcm9sbFtXaWR0aC9IZWlnaHRdIG9yIG9mZnNldFtXaWR0aC9IZWlnaHRdIG9yIGNsaWVudFtXaWR0aC9IZWlnaHRdLFxuXHRcdFx0XHRcdC8vIHdoaWNoZXZlciBpcyBncmVhdGVzdFxuXHRcdFx0XHRcdHJldHVybiBNYXRoLm1heChcblx0XHRcdFx0XHRcdGVsZW0uYm9keVsgXCJzY3JvbGxcIiArIG5hbWUgXSwgZG9jWyBcInNjcm9sbFwiICsgbmFtZSBdLFxuXHRcdFx0XHRcdFx0ZWxlbS5ib2R5WyBcIm9mZnNldFwiICsgbmFtZSBdLCBkb2NbIFwib2Zmc2V0XCIgKyBuYW1lIF0sXG5cdFx0XHRcdFx0XHRkb2NbIFwiY2xpZW50XCIgKyBuYW1lIF1cblx0XHRcdFx0XHQpO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0cmV0dXJuIHZhbHVlID09PSB1bmRlZmluZWQgP1xuXG5cdFx0XHRcdFx0Ly8gR2V0IHdpZHRoIG9yIGhlaWdodCBvbiB0aGUgZWxlbWVudCwgcmVxdWVzdGluZyBidXQgbm90IGZvcmNpbmcgcGFyc2VGbG9hdFxuXHRcdFx0XHRcdGpRdWVyeS5jc3MoIGVsZW0sIHR5cGUsIGV4dHJhICkgOlxuXG5cdFx0XHRcdFx0Ly8gU2V0IHdpZHRoIG9yIGhlaWdodCBvbiB0aGUgZWxlbWVudFxuXHRcdFx0XHRcdGpRdWVyeS5zdHlsZSggZWxlbSwgdHlwZSwgdmFsdWUsIGV4dHJhICk7XG5cdFx0XHR9LCB0eXBlLCBjaGFpbmFibGUgPyBtYXJnaW4gOiB1bmRlZmluZWQsIGNoYWluYWJsZSApO1xuXHRcdH07XG5cdH0gKTtcbn0gKTtcblxuXG5qUXVlcnkuZm4uZXh0ZW5kKCB7XG5cblx0YmluZDogZnVuY3Rpb24oIHR5cGVzLCBkYXRhLCBmbiApIHtcblx0XHRyZXR1cm4gdGhpcy5vbiggdHlwZXMsIG51bGwsIGRhdGEsIGZuICk7XG5cdH0sXG5cdHVuYmluZDogZnVuY3Rpb24oIHR5cGVzLCBmbiApIHtcblx0XHRyZXR1cm4gdGhpcy5vZmYoIHR5cGVzLCBudWxsLCBmbiApO1xuXHR9LFxuXG5cdGRlbGVnYXRlOiBmdW5jdGlvbiggc2VsZWN0b3IsIHR5cGVzLCBkYXRhLCBmbiApIHtcblx0XHRyZXR1cm4gdGhpcy5vbiggdHlwZXMsIHNlbGVjdG9yLCBkYXRhLCBmbiApO1xuXHR9LFxuXHR1bmRlbGVnYXRlOiBmdW5jdGlvbiggc2VsZWN0b3IsIHR5cGVzLCBmbiApIHtcblxuXHRcdC8vICggbmFtZXNwYWNlICkgb3IgKCBzZWxlY3RvciwgdHlwZXMgWywgZm5dIClcblx0XHRyZXR1cm4gYXJndW1lbnRzLmxlbmd0aCA9PT0gMSA/XG5cdFx0XHR0aGlzLm9mZiggc2VsZWN0b3IsIFwiKipcIiApIDpcblx0XHRcdHRoaXMub2ZmKCB0eXBlcywgc2VsZWN0b3IgfHwgXCIqKlwiLCBmbiApO1xuXHR9XG59ICk7XG5cbmpRdWVyeS5ob2xkUmVhZHkgPSBmdW5jdGlvbiggaG9sZCApIHtcblx0aWYgKCBob2xkICkge1xuXHRcdGpRdWVyeS5yZWFkeVdhaXQrKztcblx0fSBlbHNlIHtcblx0XHRqUXVlcnkucmVhZHkoIHRydWUgKTtcblx0fVxufTtcbmpRdWVyeS5pc0FycmF5ID0gQXJyYXkuaXNBcnJheTtcbmpRdWVyeS5wYXJzZUpTT04gPSBKU09OLnBhcnNlO1xualF1ZXJ5Lm5vZGVOYW1lID0gbm9kZU5hbWU7XG5cblxuXG5cbi8vIFJlZ2lzdGVyIGFzIGEgbmFtZWQgQU1EIG1vZHVsZSwgc2luY2UgalF1ZXJ5IGNhbiBiZSBjb25jYXRlbmF0ZWQgd2l0aCBvdGhlclxuLy8gZmlsZXMgdGhhdCBtYXkgdXNlIGRlZmluZSwgYnV0IG5vdCB2aWEgYSBwcm9wZXIgY29uY2F0ZW5hdGlvbiBzY3JpcHQgdGhhdFxuLy8gdW5kZXJzdGFuZHMgYW5vbnltb3VzIEFNRCBtb2R1bGVzLiBBIG5hbWVkIEFNRCBpcyBzYWZlc3QgYW5kIG1vc3Qgcm9idXN0XG4vLyB3YXkgdG8gcmVnaXN0ZXIuIExvd2VyY2FzZSBqcXVlcnkgaXMgdXNlZCBiZWNhdXNlIEFNRCBtb2R1bGUgbmFtZXMgYXJlXG4vLyBkZXJpdmVkIGZyb20gZmlsZSBuYW1lcywgYW5kIGpRdWVyeSBpcyBub3JtYWxseSBkZWxpdmVyZWQgaW4gYSBsb3dlcmNhc2Vcbi8vIGZpbGUgbmFtZS4gRG8gdGhpcyBhZnRlciBjcmVhdGluZyB0aGUgZ2xvYmFsIHNvIHRoYXQgaWYgYW4gQU1EIG1vZHVsZSB3YW50c1xuLy8gdG8gY2FsbCBub0NvbmZsaWN0IHRvIGhpZGUgdGhpcyB2ZXJzaW9uIG9mIGpRdWVyeSwgaXQgd2lsbCB3b3JrLlxuXG4vLyBOb3RlIHRoYXQgZm9yIG1heGltdW0gcG9ydGFiaWxpdHksIGxpYnJhcmllcyB0aGF0IGFyZSBub3QgalF1ZXJ5IHNob3VsZFxuLy8gZGVjbGFyZSB0aGVtc2VsdmVzIGFzIGFub255bW91cyBtb2R1bGVzLCBhbmQgYXZvaWQgc2V0dGluZyBhIGdsb2JhbCBpZiBhblxuLy8gQU1EIGxvYWRlciBpcyBwcmVzZW50LiBqUXVlcnkgaXMgYSBzcGVjaWFsIGNhc2UuIEZvciBtb3JlIGluZm9ybWF0aW9uLCBzZWVcbi8vIGh0dHBzOi8vZ2l0aHViLmNvbS9qcmJ1cmtlL3JlcXVpcmVqcy93aWtpL1VwZGF0aW5nLWV4aXN0aW5nLWxpYnJhcmllcyN3aWtpLWFub25cblxuaWYgKCB0eXBlb2YgZGVmaW5lID09PSBcImZ1bmN0aW9uXCIgJiYgZGVmaW5lLmFtZCApIHtcblx0ZGVmaW5lKCBcImpxdWVyeVwiLCBbXSwgZnVuY3Rpb24oKSB7XG5cdFx0cmV0dXJuIGpRdWVyeTtcblx0fSApO1xufVxuXG5cblxuXG52YXJcblxuXHQvLyBNYXAgb3ZlciBqUXVlcnkgaW4gY2FzZSBvZiBvdmVyd3JpdGVcblx0X2pRdWVyeSA9IHdpbmRvdy5qUXVlcnksXG5cblx0Ly8gTWFwIG92ZXIgdGhlICQgaW4gY2FzZSBvZiBvdmVyd3JpdGVcblx0XyQgPSB3aW5kb3cuJDtcblxualF1ZXJ5Lm5vQ29uZmxpY3QgPSBmdW5jdGlvbiggZGVlcCApIHtcblx0aWYgKCB3aW5kb3cuJCA9PT0galF1ZXJ5ICkge1xuXHRcdHdpbmRvdy4kID0gXyQ7XG5cdH1cblxuXHRpZiAoIGRlZXAgJiYgd2luZG93LmpRdWVyeSA9PT0galF1ZXJ5ICkge1xuXHRcdHdpbmRvdy5qUXVlcnkgPSBfalF1ZXJ5O1xuXHR9XG5cblx0cmV0dXJuIGpRdWVyeTtcbn07XG5cbi8vIEV4cG9zZSBqUXVlcnkgYW5kICQgaWRlbnRpZmllcnMsIGV2ZW4gaW4gQU1EXG4vLyAoIzcxMDIjY29tbWVudDoxMCwgaHR0cHM6Ly9naXRodWIuY29tL2pxdWVyeS9qcXVlcnkvcHVsbC81NTcpXG4vLyBhbmQgQ29tbW9uSlMgZm9yIGJyb3dzZXIgZW11bGF0b3JzICgjMTM1NjYpXG5pZiAoICFub0dsb2JhbCApIHtcblx0d2luZG93LmpRdWVyeSA9IHdpbmRvdy4kID0galF1ZXJ5O1xufVxuXG5cblxuXG5yZXR1cm4galF1ZXJ5O1xufSApO1xuXG4vKipcbiAqIEBsaWNlbnNlIEFuZ3VsYXJKUyB2MS42LjRcbiAqIChjKSAyMDEwLTIwMTcgR29vZ2xlLCBJbmMuIGh0dHA6Ly9hbmd1bGFyanMub3JnXG4gKiBMaWNlbnNlOiBNSVRcbiAqL1xuKGZ1bmN0aW9uKHdpbmRvdywgYW5ndWxhcikgeyd1c2Ugc3RyaWN0JztcblxudmFyICRyZXNvdXJjZU1pbkVyciA9IGFuZ3VsYXIuJCRtaW5FcnIoJyRyZXNvdXJjZScpO1xuXG4vLyBIZWxwZXIgZnVuY3Rpb25zIGFuZCByZWdleCB0byBsb29rdXAgYSBkb3R0ZWQgcGF0aCBvbiBhbiBvYmplY3Rcbi8vIHN0b3BwaW5nIGF0IHVuZGVmaW5lZC9udWxsLiAgVGhlIHBhdGggbXVzdCBiZSBjb21wb3NlZCBvZiBBU0NJSVxuLy8gaWRlbnRpZmllcnMgKGp1c3QgbGlrZSAkcGFyc2UpXG52YXIgTUVNQkVSX05BTUVfUkVHRVggPSAvXihcXC5bYS16QS1aXyRAXVswLTlhLXpBLVpfJEBdKikrJC87XG5cbmZ1bmN0aW9uIGlzVmFsaWREb3R0ZWRQYXRoKHBhdGgpIHtcbiAgcmV0dXJuIChwYXRoICE9IG51bGwgJiYgcGF0aCAhPT0gJycgJiYgcGF0aCAhPT0gJ2hhc093blByb3BlcnR5JyAmJlxuICAgICAgTUVNQkVSX05BTUVfUkVHRVgudGVzdCgnLicgKyBwYXRoKSk7XG59XG5cbmZ1bmN0aW9uIGxvb2t1cERvdHRlZFBhdGgob2JqLCBwYXRoKSB7XG4gIGlmICghaXNWYWxpZERvdHRlZFBhdGgocGF0aCkpIHtcbiAgICB0aHJvdyAkcmVzb3VyY2VNaW5FcnIoJ2JhZG1lbWJlcicsICdEb3R0ZWQgbWVtYmVyIHBhdGggXCJAezB9XCIgaXMgaW52YWxpZC4nLCBwYXRoKTtcbiAgfVxuICB2YXIga2V5cyA9IHBhdGguc3BsaXQoJy4nKTtcbiAgZm9yICh2YXIgaSA9IDAsIGlpID0ga2V5cy5sZW5ndGg7IGkgPCBpaSAmJiBhbmd1bGFyLmlzRGVmaW5lZChvYmopOyBpKyspIHtcbiAgICB2YXIga2V5ID0ga2V5c1tpXTtcbiAgICBvYmogPSAob2JqICE9PSBudWxsKSA/IG9ialtrZXldIDogdW5kZWZpbmVkO1xuICB9XG4gIHJldHVybiBvYmo7XG59XG5cbi8qKlxuICogQ3JlYXRlIGEgc2hhbGxvdyBjb3B5IG9mIGFuIG9iamVjdCBhbmQgY2xlYXIgb3RoZXIgZmllbGRzIGZyb20gdGhlIGRlc3RpbmF0aW9uXG4gKi9cbmZ1bmN0aW9uIHNoYWxsb3dDbGVhckFuZENvcHkoc3JjLCBkc3QpIHtcbiAgZHN0ID0gZHN0IHx8IHt9O1xuXG4gIGFuZ3VsYXIuZm9yRWFjaChkc3QsIGZ1bmN0aW9uKHZhbHVlLCBrZXkpIHtcbiAgICBkZWxldGUgZHN0W2tleV07XG4gIH0pO1xuXG4gIGZvciAodmFyIGtleSBpbiBzcmMpIHtcbiAgICBpZiAoc3JjLmhhc093blByb3BlcnR5KGtleSkgJiYgIShrZXkuY2hhckF0KDApID09PSAnJCcgJiYga2V5LmNoYXJBdCgxKSA9PT0gJyQnKSkge1xuICAgICAgZHN0W2tleV0gPSBzcmNba2V5XTtcbiAgICB9XG4gIH1cblxuICByZXR1cm4gZHN0O1xufVxuXG4vKipcbiAqIEBuZ2RvYyBtb2R1bGVcbiAqIEBuYW1lIG5nUmVzb3VyY2VcbiAqIEBkZXNjcmlwdGlvblxuICpcbiAqICMgbmdSZXNvdXJjZVxuICpcbiAqIFRoZSBgbmdSZXNvdXJjZWAgbW9kdWxlIHByb3ZpZGVzIGludGVyYWN0aW9uIHN1cHBvcnQgd2l0aCBSRVNUZnVsIHNlcnZpY2VzXG4gKiB2aWEgdGhlICRyZXNvdXJjZSBzZXJ2aWNlLlxuICpcbiAqXG4gKiA8ZGl2IGRvYy1tb2R1bGUtY29tcG9uZW50cz1cIm5nUmVzb3VyY2VcIj48L2Rpdj5cbiAqXG4gKiBTZWUge0BsaW5rIG5nUmVzb3VyY2UuJHJlc291cmNlUHJvdmlkZXJ9IGFuZCB7QGxpbmsgbmdSZXNvdXJjZS4kcmVzb3VyY2V9IGZvciB1c2FnZS5cbiAqL1xuXG4vKipcbiAqIEBuZ2RvYyBwcm92aWRlclxuICogQG5hbWUgJHJlc291cmNlUHJvdmlkZXJcbiAqXG4gKiBAZGVzY3JpcHRpb25cbiAqXG4gKiBVc2UgYCRyZXNvdXJjZVByb3ZpZGVyYCB0byBjaGFuZ2UgdGhlIGRlZmF1bHQgYmVoYXZpb3Igb2YgdGhlIHtAbGluayBuZ1Jlc291cmNlLiRyZXNvdXJjZX1cbiAqIHNlcnZpY2UuXG4gKlxuICogIyMgRGVwZW5kZW5jaWVzXG4gKiBSZXF1aXJlcyB0aGUge0BsaW5rIG5nUmVzb3VyY2UgfSBtb2R1bGUgdG8gYmUgaW5zdGFsbGVkLlxuICpcbiAqL1xuXG4vKipcbiAqIEBuZ2RvYyBzZXJ2aWNlXG4gKiBAbmFtZSAkcmVzb3VyY2VcbiAqIEByZXF1aXJlcyAkaHR0cFxuICogQHJlcXVpcmVzIG5nLiRsb2dcbiAqIEByZXF1aXJlcyAkcVxuICogQHJlcXVpcmVzIG5nLiR0aW1lb3V0XG4gKlxuICogQGRlc2NyaXB0aW9uXG4gKiBBIGZhY3Rvcnkgd2hpY2ggY3JlYXRlcyBhIHJlc291cmNlIG9iamVjdCB0aGF0IGxldHMgeW91IGludGVyYWN0IHdpdGhcbiAqIFtSRVNUZnVsXShodHRwOi8vZW4ud2lraXBlZGlhLm9yZy93aWtpL1JlcHJlc2VudGF0aW9uYWxfU3RhdGVfVHJhbnNmZXIpIHNlcnZlci1zaWRlIGRhdGEgc291cmNlcy5cbiAqXG4gKiBUaGUgcmV0dXJuZWQgcmVzb3VyY2Ugb2JqZWN0IGhhcyBhY3Rpb24gbWV0aG9kcyB3aGljaCBwcm92aWRlIGhpZ2gtbGV2ZWwgYmVoYXZpb3JzIHdpdGhvdXRcbiAqIHRoZSBuZWVkIHRvIGludGVyYWN0IHdpdGggdGhlIGxvdyBsZXZlbCB7QGxpbmsgbmcuJGh0dHAgJGh0dHB9IHNlcnZpY2UuXG4gKlxuICogUmVxdWlyZXMgdGhlIHtAbGluayBuZ1Jlc291cmNlIGBuZ1Jlc291cmNlYH0gbW9kdWxlIHRvIGJlIGluc3RhbGxlZC5cbiAqXG4gKiBCeSBkZWZhdWx0LCB0cmFpbGluZyBzbGFzaGVzIHdpbGwgYmUgc3RyaXBwZWQgZnJvbSB0aGUgY2FsY3VsYXRlZCBVUkxzLFxuICogd2hpY2ggY2FuIHBvc2UgcHJvYmxlbXMgd2l0aCBzZXJ2ZXIgYmFja2VuZHMgdGhhdCBkbyBub3QgZXhwZWN0IHRoYXRcbiAqIGJlaGF2aW9yLiAgVGhpcyBjYW4gYmUgZGlzYWJsZWQgYnkgY29uZmlndXJpbmcgdGhlIGAkcmVzb3VyY2VQcm92aWRlcmAgbGlrZVxuICogdGhpczpcbiAqXG4gKiBgYGBqc1xuICAgICBhcHAuY29uZmlnKFsnJHJlc291cmNlUHJvdmlkZXInLCBmdW5jdGlvbigkcmVzb3VyY2VQcm92aWRlcikge1xuICAgICAgIC8vIERvbid0IHN0cmlwIHRyYWlsaW5nIHNsYXNoZXMgZnJvbSBjYWxjdWxhdGVkIFVSTHNcbiAgICAgICAkcmVzb3VyY2VQcm92aWRlci5kZWZhdWx0cy5zdHJpcFRyYWlsaW5nU2xhc2hlcyA9IGZhbHNlO1xuICAgICB9XSk7XG4gKiBgYGBcbiAqXG4gKiBAcGFyYW0ge3N0cmluZ30gdXJsIEEgcGFyYW1ldGVyaXplZCBVUkwgdGVtcGxhdGUgd2l0aCBwYXJhbWV0ZXJzIHByZWZpeGVkIGJ5IGA6YCBhcyBpblxuICogICBgL3VzZXIvOnVzZXJuYW1lYC4gSWYgeW91IGFyZSB1c2luZyBhIFVSTCB3aXRoIGEgcG9ydCBudW1iZXIgKGUuZy5cbiAqICAgYGh0dHA6Ly9leGFtcGxlLmNvbTo4MDgwL2FwaWApLCBpdCB3aWxsIGJlIHJlc3BlY3RlZC5cbiAqXG4gKiAgIElmIHlvdSBhcmUgdXNpbmcgYSB1cmwgd2l0aCBhIHN1ZmZpeCwganVzdCBhZGQgdGhlIHN1ZmZpeCwgbGlrZSB0aGlzOlxuICogICBgJHJlc291cmNlKCdodHRwOi8vZXhhbXBsZS5jb20vcmVzb3VyY2UuanNvbicpYCBvciBgJHJlc291cmNlKCdodHRwOi8vZXhhbXBsZS5jb20vOmlkLmpzb24nKWBcbiAqICAgb3IgZXZlbiBgJHJlc291cmNlKCdodHRwOi8vZXhhbXBsZS5jb20vcmVzb3VyY2UvOnJlc291cmNlX2lkLjpmb3JtYXQnKWBcbiAqICAgSWYgdGhlIHBhcmFtZXRlciBiZWZvcmUgdGhlIHN1ZmZpeCBpcyBlbXB0eSwgOnJlc291cmNlX2lkIGluIHRoaXMgY2FzZSwgdGhlbiB0aGUgYC8uYCB3aWxsIGJlXG4gKiAgIGNvbGxhcHNlZCBkb3duIHRvIGEgc2luZ2xlIGAuYC4gIElmIHlvdSBuZWVkIHRoaXMgc2VxdWVuY2UgdG8gYXBwZWFyIGFuZCBub3QgY29sbGFwc2UgdGhlbiB5b3VcbiAqICAgY2FuIGVzY2FwZSBpdCB3aXRoIGAvXFwuYC5cbiAqXG4gKiBAcGFyYW0ge09iamVjdD19IHBhcmFtRGVmYXVsdHMgRGVmYXVsdCB2YWx1ZXMgZm9yIGB1cmxgIHBhcmFtZXRlcnMuIFRoZXNlIGNhbiBiZSBvdmVycmlkZGVuIGluXG4gKiAgIGBhY3Rpb25zYCBtZXRob2RzLiBJZiBhIHBhcmFtZXRlciB2YWx1ZSBpcyBhIGZ1bmN0aW9uLCBpdCB3aWxsIGJlIGNhbGxlZCBldmVyeSB0aW1lXG4gKiAgIGEgcGFyYW0gdmFsdWUgbmVlZHMgdG8gYmUgb2J0YWluZWQgZm9yIGEgcmVxdWVzdCAodW5sZXNzIHRoZSBwYXJhbSB3YXMgb3ZlcnJpZGRlbikuIFRoZSBmdW5jdGlvblxuICogICB3aWxsIGJlIHBhc3NlZCB0aGUgY3VycmVudCBkYXRhIHZhbHVlIGFzIGFuIGFyZ3VtZW50LlxuICpcbiAqICAgRWFjaCBrZXkgdmFsdWUgaW4gdGhlIHBhcmFtZXRlciBvYmplY3QgaXMgZmlyc3QgYm91bmQgdG8gdXJsIHRlbXBsYXRlIGlmIHByZXNlbnQgYW5kIHRoZW4gYW55XG4gKiAgIGV4Y2VzcyBrZXlzIGFyZSBhcHBlbmRlZCB0byB0aGUgdXJsIHNlYXJjaCBxdWVyeSBhZnRlciB0aGUgYD9gLlxuICpcbiAqICAgR2l2ZW4gYSB0ZW1wbGF0ZSBgL3BhdGgvOnZlcmJgIGFuZCBwYXJhbWV0ZXIgYHt2ZXJiOidncmVldCcsIHNhbHV0YXRpb246J0hlbGxvJ31gIHJlc3VsdHMgaW5cbiAqICAgVVJMIGAvcGF0aC9ncmVldD9zYWx1dGF0aW9uPUhlbGxvYC5cbiAqXG4gKiAgIElmIHRoZSBwYXJhbWV0ZXIgdmFsdWUgaXMgcHJlZml4ZWQgd2l0aCBgQGAsIHRoZW4gdGhlIHZhbHVlIGZvciB0aGF0IHBhcmFtZXRlciB3aWxsIGJlXG4gKiAgIGV4dHJhY3RlZCBmcm9tIHRoZSBjb3JyZXNwb25kaW5nIHByb3BlcnR5IG9uIHRoZSBgZGF0YWAgb2JqZWN0IChwcm92aWRlZCB3aGVuIGNhbGxpbmcgYWN0aW9uc1xuICogICB3aXRoIGEgcmVxdWVzdCBib2R5KS5cbiAqICAgRm9yIGV4YW1wbGUsIGlmIHRoZSBgZGVmYXVsdFBhcmFtYCBvYmplY3QgaXMgYHtzb21lUGFyYW06ICdAc29tZVByb3AnfWAgdGhlbiB0aGUgdmFsdWUgb2ZcbiAqICAgYHNvbWVQYXJhbWAgd2lsbCBiZSBgZGF0YS5zb21lUHJvcGAuXG4gKiAgIE5vdGUgdGhhdCB0aGUgcGFyYW1ldGVyIHdpbGwgYmUgaWdub3JlZCwgd2hlbiBjYWxsaW5nIGEgXCJHRVRcIiBhY3Rpb24gbWV0aG9kIChpLmUuIGFuIGFjdGlvblxuICogICBtZXRob2QgdGhhdCBkb2VzIG5vdCBhY2NlcHQgYSByZXF1ZXN0IGJvZHkpXG4gKlxuICogQHBhcmFtIHtPYmplY3QuPE9iamVjdD49fSBhY3Rpb25zIEhhc2ggd2l0aCBkZWNsYXJhdGlvbiBvZiBjdXN0b20gYWN0aW9ucyB0aGF0IHdpbGwgYmUgYXZhaWxhYmxlXG4gKiAgIGluIGFkZGl0aW9uIHRvIHRoZSBkZWZhdWx0IHNldCBvZiByZXNvdXJjZSBhY3Rpb25zIChzZWUgYmVsb3cpLiBJZiBhIGN1c3RvbSBhY3Rpb24gaGFzIHRoZSBzYW1lXG4gKiAgIGtleSBhcyBhIGRlZmF1bHQgYWN0aW9uIChlLmcuIGBzYXZlYCksIHRoZW4gdGhlIGRlZmF1bHQgYWN0aW9uIHdpbGwgYmUgKm92ZXJ3cml0dGVuKiwgYW5kIG5vdFxuICogICBleHRlbmRlZC5cbiAqXG4gKiAgIFRoZSBkZWNsYXJhdGlvbiBzaG91bGQgYmUgY3JlYXRlZCBpbiB0aGUgZm9ybWF0IG9mIHtAbGluayBuZy4kaHR0cCN1c2FnZSAkaHR0cC5jb25maWd9OlxuICpcbiAqICAgICAgIHthY3Rpb24xOiB7bWV0aG9kOj8sIHBhcmFtczo/LCBpc0FycmF5Oj8sIGhlYWRlcnM6PywgLi4ufSxcbiAqICAgICAgICBhY3Rpb24yOiB7bWV0aG9kOj8sIHBhcmFtczo/LCBpc0FycmF5Oj8sIGhlYWRlcnM6PywgLi4ufSxcbiAqICAgICAgICAuLi59XG4gKlxuICogICBXaGVyZTpcbiAqXG4gKiAgIC0gKipgYWN0aW9uYCoqIOKAkyB7c3RyaW5nfSDigJMgVGhlIG5hbWUgb2YgYWN0aW9uLiBUaGlzIG5hbWUgYmVjb21lcyB0aGUgbmFtZSBvZiB0aGUgbWV0aG9kIG9uXG4gKiAgICAgeW91ciByZXNvdXJjZSBvYmplY3QuXG4gKiAgIC0gKipgbWV0aG9kYCoqIOKAkyB7c3RyaW5nfSDigJMgQ2FzZSBpbnNlbnNpdGl2ZSBIVFRQIG1ldGhvZCAoZS5nLiBgR0VUYCwgYFBPU1RgLCBgUFVUYCxcbiAqICAgICBgREVMRVRFYCwgYEpTT05QYCwgZXRjKS5cbiAqICAgLSAqKmBwYXJhbXNgKiog4oCTIHtPYmplY3Q9fSDigJMgT3B0aW9uYWwgc2V0IG9mIHByZS1ib3VuZCBwYXJhbWV0ZXJzIGZvciB0aGlzIGFjdGlvbi4gSWYgYW55IG9mXG4gKiAgICAgdGhlIHBhcmFtZXRlciB2YWx1ZSBpcyBhIGZ1bmN0aW9uLCBpdCB3aWxsIGJlIGNhbGxlZCBldmVyeSB0aW1lIHdoZW4gYSBwYXJhbSB2YWx1ZSBuZWVkcyB0b1xuICogICAgIGJlIG9idGFpbmVkIGZvciBhIHJlcXVlc3QgKHVubGVzcyB0aGUgcGFyYW0gd2FzIG92ZXJyaWRkZW4pLiBUaGUgZnVuY3Rpb24gd2lsbCBiZSBwYXNzZWQgdGhlXG4gKiAgICAgY3VycmVudCBkYXRhIHZhbHVlIGFzIGFuIGFyZ3VtZW50LlxuICogICAtICoqYHVybGAqKiDigJMge3N0cmluZ30g4oCTIGFjdGlvbiBzcGVjaWZpYyBgdXJsYCBvdmVycmlkZS4gVGhlIHVybCB0ZW1wbGF0aW5nIGlzIHN1cHBvcnRlZCBqdXN0XG4gKiAgICAgbGlrZSBmb3IgdGhlIHJlc291cmNlLWxldmVsIHVybHMuXG4gKiAgIC0gKipgaXNBcnJheWAqKiDigJMge2Jvb2xlYW49fSDigJMgSWYgdHJ1ZSB0aGVuIHRoZSByZXR1cm5lZCBvYmplY3QgZm9yIHRoaXMgYWN0aW9uIGlzIGFuIGFycmF5LFxuICogICAgIHNlZSBgcmV0dXJuc2Agc2VjdGlvbi5cbiAqICAgLSAqKmB0cmFuc2Zvcm1SZXF1ZXN0YCoqIOKAk1xuICogICAgIGB7ZnVuY3Rpb24oZGF0YSwgaGVhZGVyc0dldHRlcil8QXJyYXkuPGZ1bmN0aW9uKGRhdGEsIGhlYWRlcnNHZXR0ZXIpPn1gIOKAk1xuICogICAgIHRyYW5zZm9ybSBmdW5jdGlvbiBvciBhbiBhcnJheSBvZiBzdWNoIGZ1bmN0aW9ucy4gVGhlIHRyYW5zZm9ybSBmdW5jdGlvbiB0YWtlcyB0aGUgaHR0cFxuICogICAgIHJlcXVlc3QgYm9keSBhbmQgaGVhZGVycyBhbmQgcmV0dXJucyBpdHMgdHJhbnNmb3JtZWQgKHR5cGljYWxseSBzZXJpYWxpemVkKSB2ZXJzaW9uLlxuICogICAgIEJ5IGRlZmF1bHQsIHRyYW5zZm9ybVJlcXVlc3Qgd2lsbCBjb250YWluIG9uZSBmdW5jdGlvbiB0aGF0IGNoZWNrcyBpZiB0aGUgcmVxdWVzdCBkYXRhIGlzXG4gKiAgICAgYW4gb2JqZWN0IGFuZCBzZXJpYWxpemVzIGl0IHVzaW5nIGBhbmd1bGFyLnRvSnNvbmAuIFRvIHByZXZlbnQgdGhpcyBiZWhhdmlvciwgc2V0XG4gKiAgICAgYHRyYW5zZm9ybVJlcXVlc3RgIHRvIGFuIGVtcHR5IGFycmF5OiBgdHJhbnNmb3JtUmVxdWVzdDogW11gXG4gKiAgIC0gKipgdHJhbnNmb3JtUmVzcG9uc2VgKiog4oCTXG4gKiAgICAgYHtmdW5jdGlvbihkYXRhLCBoZWFkZXJzR2V0dGVyLCBzdGF0dXMpfEFycmF5LjxmdW5jdGlvbihkYXRhLCBoZWFkZXJzR2V0dGVyLCBzdGF0dXMpPn1gIOKAk1xuICogICAgIHRyYW5zZm9ybSBmdW5jdGlvbiBvciBhbiBhcnJheSBvZiBzdWNoIGZ1bmN0aW9ucy4gVGhlIHRyYW5zZm9ybSBmdW5jdGlvbiB0YWtlcyB0aGUgaHR0cFxuICogICAgIHJlc3BvbnNlIGJvZHksIGhlYWRlcnMgYW5kIHN0YXR1cyBhbmQgcmV0dXJucyBpdHMgdHJhbnNmb3JtZWQgKHR5cGljYWxseSBkZXNlcmlhbGl6ZWQpXG4gKiAgICAgdmVyc2lvbi5cbiAqICAgICBCeSBkZWZhdWx0LCB0cmFuc2Zvcm1SZXNwb25zZSB3aWxsIGNvbnRhaW4gb25lIGZ1bmN0aW9uIHRoYXQgY2hlY2tzIGlmIHRoZSByZXNwb25zZSBsb29rc1xuICogICAgIGxpa2UgYSBKU09OIHN0cmluZyBhbmQgZGVzZXJpYWxpemVzIGl0IHVzaW5nIGBhbmd1bGFyLmZyb21Kc29uYC4gVG8gcHJldmVudCB0aGlzIGJlaGF2aW9yLFxuICogICAgIHNldCBgdHJhbnNmb3JtUmVzcG9uc2VgIHRvIGFuIGVtcHR5IGFycmF5OiBgdHJhbnNmb3JtUmVzcG9uc2U6IFtdYFxuICogICAtICoqYGNhY2hlYCoqIOKAkyBge2Jvb2xlYW58Q2FjaGV9YCDigJMgSWYgdHJ1ZSwgYSBkZWZhdWx0ICRodHRwIGNhY2hlIHdpbGwgYmUgdXNlZCB0byBjYWNoZSB0aGVcbiAqICAgICBHRVQgcmVxdWVzdCwgb3RoZXJ3aXNlIGlmIGEgY2FjaGUgaW5zdGFuY2UgYnVpbHQgd2l0aFxuICogICAgIHtAbGluayBuZy4kY2FjaGVGYWN0b3J5ICRjYWNoZUZhY3Rvcnl9IGlzIHN1cHBsaWVkLCB0aGlzIGNhY2hlIHdpbGwgYmUgdXNlZCBmb3JcbiAqICAgICBjYWNoaW5nLlxuICogICAtICoqYHRpbWVvdXRgKiog4oCTIGB7bnVtYmVyfWAg4oCTIHRpbWVvdXQgaW4gbWlsbGlzZWNvbmRzLjxiciAvPlxuICogICAgICoqTm90ZToqKiBJbiBjb250cmFzdCB0byB7QGxpbmsgbmcuJGh0dHAjdXNhZ2UgJGh0dHAuY29uZmlnfSwge0BsaW5rIG5nLiRxIHByb21pc2VzfSBhcmVcbiAqICAgICAqKm5vdCoqIHN1cHBvcnRlZCBpbiAkcmVzb3VyY2UsIGJlY2F1c2UgdGhlIHNhbWUgdmFsdWUgd291bGQgYmUgdXNlZCBmb3IgbXVsdGlwbGUgcmVxdWVzdHMuXG4gKiAgICAgSWYgeW91IGFyZSBsb29raW5nIGZvciBhIHdheSB0byBjYW5jZWwgcmVxdWVzdHMsIHlvdSBzaG91bGQgdXNlIHRoZSBgY2FuY2VsbGFibGVgIG9wdGlvbi5cbiAqICAgLSAqKmBjYW5jZWxsYWJsZWAqKiDigJMgYHtib29sZWFufWAg4oCTIGlmIHNldCB0byB0cnVlLCB0aGUgcmVxdWVzdCBtYWRlIGJ5IGEgXCJub24taW5zdGFuY2VcIiBjYWxsXG4gKiAgICAgd2lsbCBiZSBjYW5jZWxsZWQgKGlmIG5vdCBhbHJlYWR5IGNvbXBsZXRlZCkgYnkgY2FsbGluZyBgJGNhbmNlbFJlcXVlc3QoKWAgb24gdGhlIGNhbGwnc1xuICogICAgIHJldHVybiB2YWx1ZS4gQ2FsbGluZyBgJGNhbmNlbFJlcXVlc3QoKWAgZm9yIGEgbm9uLWNhbmNlbGxhYmxlIG9yIGFuIGFscmVhZHlcbiAqICAgICBjb21wbGV0ZWQvY2FuY2VsbGVkIHJlcXVlc3Qgd2lsbCBoYXZlIG5vIGVmZmVjdC48YnIgLz5cbiAqICAgLSAqKmB3aXRoQ3JlZGVudGlhbHNgKiogLSBge2Jvb2xlYW59YCAtIHdoZXRoZXIgdG8gc2V0IHRoZSBgd2l0aENyZWRlbnRpYWxzYCBmbGFnIG9uIHRoZVxuICogICAgIFhIUiBvYmplY3QuIFNlZVxuICogICAgIFtyZXF1ZXN0cyB3aXRoIGNyZWRlbnRpYWxzXShodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi9odHRwX2FjY2Vzc19jb250cm9sI3NlY3Rpb25fNSlcbiAqICAgICBmb3IgbW9yZSBpbmZvcm1hdGlvbi5cbiAqICAgLSAqKmByZXNwb25zZVR5cGVgKiogLSBge3N0cmluZ31gIC0gc2VlXG4gKiAgICAgW3JlcXVlc3RUeXBlXShodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL0RPTS9YTUxIdHRwUmVxdWVzdCNyZXNwb25zZVR5cGUpLlxuICogICAtICoqYGludGVyY2VwdG9yYCoqIC0gYHtPYmplY3Q9fWAgLSBUaGUgaW50ZXJjZXB0b3Igb2JqZWN0IGhhcyB0d28gb3B0aW9uYWwgbWV0aG9kcyAtXG4gKiAgICAgYHJlc3BvbnNlYCBhbmQgYHJlc3BvbnNlRXJyb3JgLiBCb3RoIGByZXNwb25zZWAgYW5kIGByZXNwb25zZUVycm9yYCBpbnRlcmNlcHRvcnMgZ2V0IGNhbGxlZFxuICogICAgIHdpdGggYGh0dHAgcmVzcG9uc2VgIG9iamVjdC4gU2VlIHtAbGluayBuZy4kaHR0cCAkaHR0cCBpbnRlcmNlcHRvcnN9LlxuICogICAtICoqYGhhc0JvZHlgKiogLSBge2Jvb2xlYW59YCAtIGFsbG93cyB0byBzcGVjaWZ5IGlmIGEgcmVxdWVzdCBib2R5IHNob3VsZCBiZSBpbmNsdWRlZCBvciBub3QuXG4gKiAgICAgSWYgbm90IHNwZWNpZmllZCBvbmx5IFBPU1QsIFBVVCBhbmQgUEFUQ0ggcmVxdWVzdHMgd2lsbCBoYXZlIGEgYm9keS5cbiAqXG4gKiBAcGFyYW0ge09iamVjdH0gb3B0aW9ucyBIYXNoIHdpdGggY3VzdG9tIHNldHRpbmdzIHRoYXQgc2hvdWxkIGV4dGVuZCB0aGVcbiAqICAgZGVmYXVsdCBgJHJlc291cmNlUHJvdmlkZXJgIGJlaGF2aW9yLiAgVGhlIHN1cHBvcnRlZCBvcHRpb25zIGFyZTpcbiAqXG4gKiAgIC0gKipgc3RyaXBUcmFpbGluZ1NsYXNoZXNgKiog4oCTIHtib29sZWFufSDigJMgSWYgdHJ1ZSB0aGVuIHRoZSB0cmFpbGluZ1xuICogICBzbGFzaGVzIGZyb20gYW55IGNhbGN1bGF0ZWQgVVJMIHdpbGwgYmUgc3RyaXBwZWQuIChEZWZhdWx0cyB0byB0cnVlLilcbiAqICAgLSAqKmBjYW5jZWxsYWJsZWAqKiDigJMge2Jvb2xlYW59IOKAkyBJZiB0cnVlLCB0aGUgcmVxdWVzdCBtYWRlIGJ5IGEgXCJub24taW5zdGFuY2VcIiBjYWxsIHdpbGwgYmVcbiAqICAgY2FuY2VsbGVkIChpZiBub3QgYWxyZWFkeSBjb21wbGV0ZWQpIGJ5IGNhbGxpbmcgYCRjYW5jZWxSZXF1ZXN0KClgIG9uIHRoZSBjYWxsJ3MgcmV0dXJuIHZhbHVlLlxuICogICBUaGlzIGNhbiBiZSBvdmVyd3JpdHRlbiBwZXIgYWN0aW9uLiAoRGVmYXVsdHMgdG8gZmFsc2UuKVxuICpcbiAqIEByZXR1cm5zIHtPYmplY3R9IEEgcmVzb3VyY2UgXCJjbGFzc1wiIG9iamVjdCB3aXRoIG1ldGhvZHMgZm9yIHRoZSBkZWZhdWx0IHNldCBvZiByZXNvdXJjZSBhY3Rpb25zXG4gKiAgIG9wdGlvbmFsbHkgZXh0ZW5kZWQgd2l0aCBjdXN0b20gYGFjdGlvbnNgLiBUaGUgZGVmYXVsdCBzZXQgY29udGFpbnMgdGhlc2UgYWN0aW9uczpcbiAqICAgYGBganNcbiAqICAgeyAnZ2V0JzogICAge21ldGhvZDonR0VUJ30sXG4gKiAgICAgJ3NhdmUnOiAgIHttZXRob2Q6J1BPU1QnfSxcbiAqICAgICAncXVlcnknOiAge21ldGhvZDonR0VUJywgaXNBcnJheTp0cnVlfSxcbiAqICAgICAncmVtb3ZlJzoge21ldGhvZDonREVMRVRFJ30sXG4gKiAgICAgJ2RlbGV0ZSc6IHttZXRob2Q6J0RFTEVURSd9IH07XG4gKiAgIGBgYFxuICpcbiAqICAgQ2FsbGluZyB0aGVzZSBtZXRob2RzIGludm9rZSBhbiB7QGxpbmsgbmcuJGh0dHB9IHdpdGggdGhlIHNwZWNpZmllZCBodHRwIG1ldGhvZCxcbiAqICAgZGVzdGluYXRpb24gYW5kIHBhcmFtZXRlcnMuIFdoZW4gdGhlIGRhdGEgaXMgcmV0dXJuZWQgZnJvbSB0aGUgc2VydmVyIHRoZW4gdGhlIG9iamVjdCBpcyBhblxuICogICBpbnN0YW5jZSBvZiB0aGUgcmVzb3VyY2UgY2xhc3MuIFRoZSBhY3Rpb25zIGBzYXZlYCwgYHJlbW92ZWAgYW5kIGBkZWxldGVgIGFyZSBhdmFpbGFibGUgb24gaXRcbiAqICAgYXMgIG1ldGhvZHMgd2l0aCB0aGUgYCRgIHByZWZpeC4gVGhpcyBhbGxvd3MgeW91IHRvIGVhc2lseSBwZXJmb3JtIENSVUQgb3BlcmF0aW9ucyAoY3JlYXRlLFxuICogICByZWFkLCB1cGRhdGUsIGRlbGV0ZSkgb24gc2VydmVyLXNpZGUgZGF0YSBsaWtlIHRoaXM6XG4gKiAgIGBgYGpzXG4gKiAgIHZhciBVc2VyID0gJHJlc291cmNlKCcvdXNlci86dXNlcklkJywge3VzZXJJZDonQGlkJ30pO1xuICogICB2YXIgdXNlciA9IFVzZXIuZ2V0KHt1c2VySWQ6MTIzfSwgZnVuY3Rpb24oKSB7XG4gKiAgICAgdXNlci5hYmMgPSB0cnVlO1xuICogICAgIHVzZXIuJHNhdmUoKTtcbiAqICAgfSk7XG4gKiAgIGBgYFxuICpcbiAqICAgSXQgaXMgaW1wb3J0YW50IHRvIHJlYWxpemUgdGhhdCBpbnZva2luZyBhICRyZXNvdXJjZSBvYmplY3QgbWV0aG9kIGltbWVkaWF0ZWx5IHJldHVybnMgYW5cbiAqICAgZW1wdHkgcmVmZXJlbmNlIChvYmplY3Qgb3IgYXJyYXkgZGVwZW5kaW5nIG9uIGBpc0FycmF5YCkuIE9uY2UgdGhlIGRhdGEgaXMgcmV0dXJuZWQgZnJvbSB0aGVcbiAqICAgc2VydmVyIHRoZSBleGlzdGluZyByZWZlcmVuY2UgaXMgcG9wdWxhdGVkIHdpdGggdGhlIGFjdHVhbCBkYXRhLiBUaGlzIGlzIGEgdXNlZnVsIHRyaWNrIHNpbmNlXG4gKiAgIHVzdWFsbHkgdGhlIHJlc291cmNlIGlzIGFzc2lnbmVkIHRvIGEgbW9kZWwgd2hpY2ggaXMgdGhlbiByZW5kZXJlZCBieSB0aGUgdmlldy4gSGF2aW5nIGFuIGVtcHR5XG4gKiAgIG9iamVjdCByZXN1bHRzIGluIG5vIHJlbmRlcmluZywgb25jZSB0aGUgZGF0YSBhcnJpdmVzIGZyb20gdGhlIHNlcnZlciB0aGVuIHRoZSBvYmplY3QgaXNcbiAqICAgcG9wdWxhdGVkIHdpdGggdGhlIGRhdGEgYW5kIHRoZSB2aWV3IGF1dG9tYXRpY2FsbHkgcmUtcmVuZGVycyBpdHNlbGYgc2hvd2luZyB0aGUgbmV3IGRhdGEuIFRoaXNcbiAqICAgbWVhbnMgdGhhdCBpbiBtb3N0IGNhc2VzIG9uZSBuZXZlciBoYXMgdG8gd3JpdGUgYSBjYWxsYmFjayBmdW5jdGlvbiBmb3IgdGhlIGFjdGlvbiBtZXRob2RzLlxuICpcbiAqICAgVGhlIGFjdGlvbiBtZXRob2RzIG9uIHRoZSBjbGFzcyBvYmplY3Qgb3IgaW5zdGFuY2Ugb2JqZWN0IGNhbiBiZSBpbnZva2VkIHdpdGggdGhlIGZvbGxvd2luZ1xuICogICBwYXJhbWV0ZXJzOlxuICpcbiAqICAgLSBcImNsYXNzXCIgYWN0aW9ucyB3aXRob3V0IGEgYm9keTogYFJlc291cmNlLmFjdGlvbihbcGFyYW1ldGVyc10sIFtzdWNjZXNzXSwgW2Vycm9yXSlgXG4gKiAgIC0gXCJjbGFzc1wiIGFjdGlvbnMgd2l0aCBhIGJvZHk6IGBSZXNvdXJjZS5hY3Rpb24oW3BhcmFtZXRlcnNdLCBwb3N0RGF0YSwgW3N1Y2Nlc3NdLCBbZXJyb3JdKWBcbiAqICAgLSBpbnN0YW5jZSBhY3Rpb25zOiBgaW5zdGFuY2UuJGFjdGlvbihbcGFyYW1ldGVyc10sIFtzdWNjZXNzXSwgW2Vycm9yXSlgXG4gKlxuICpcbiAqICAgV2hlbiBjYWxsaW5nIGluc3RhbmNlIG1ldGhvZHMsIHRoZSBpbnN0YW5jZSBpdHNlbGYgaXMgdXNlZCBhcyB0aGUgcmVxdWVzdCBib2R5IChpZiB0aGUgYWN0aW9uXG4gKiAgIHNob3VsZCBoYXZlIGEgYm9keSkuIEJ5IGRlZmF1bHQsIG9ubHkgYWN0aW9ucyB1c2luZyBgUE9TVGAsIGBQVVRgIG9yIGBQQVRDSGAgaGF2ZSByZXF1ZXN0XG4gKiAgIGJvZGllcywgYnV0IHlvdSBjYW4gdXNlIHRoZSBgaGFzQm9keWAgY29uZmlndXJhdGlvbiBvcHRpb24gdG8gc3BlY2lmeSB3aGV0aGVyIGFuIGFjdGlvblxuICogICBzaG91bGQgaGF2ZSBhIGJvZHkgb3Igbm90IChyZWdhcmRsZXNzIG9mIGl0cyBIVFRQIG1ldGhvZCkuXG4gKlxuICpcbiAqICAgU3VjY2VzcyBjYWxsYmFjayBpcyBjYWxsZWQgd2l0aCAodmFsdWUgKE9iamVjdHxBcnJheSksIHJlc3BvbnNlSGVhZGVycyAoRnVuY3Rpb24pLFxuICogICBzdGF0dXMgKG51bWJlciksIHN0YXR1c1RleHQgKHN0cmluZykpIGFyZ3VtZW50cywgd2hlcmUgdGhlIHZhbHVlIGlzIHRoZSBwb3B1bGF0ZWQgcmVzb3VyY2VcbiAqICAgaW5zdGFuY2Ugb3IgY29sbGVjdGlvbiBvYmplY3QuIFRoZSBlcnJvciBjYWxsYmFjayBpcyBjYWxsZWQgd2l0aCAoaHR0cFJlc3BvbnNlKSBhcmd1bWVudC5cbiAqXG4gKiAgIENsYXNzIGFjdGlvbnMgcmV0dXJuIGVtcHR5IGluc3RhbmNlICh3aXRoIGFkZGl0aW9uYWwgcHJvcGVydGllcyBiZWxvdykuXG4gKiAgIEluc3RhbmNlIGFjdGlvbnMgcmV0dXJuIHByb21pc2Ugb2YgdGhlIGFjdGlvbi5cbiAqXG4gKiAgIFRoZSBSZXNvdXJjZSBpbnN0YW5jZXMgYW5kIGNvbGxlY3Rpb25zIGhhdmUgdGhlc2UgYWRkaXRpb25hbCBwcm9wZXJ0aWVzOlxuICpcbiAqICAgLSBgJHByb21pc2VgOiB0aGUge0BsaW5rIG5nLiRxIHByb21pc2V9IG9mIHRoZSBvcmlnaW5hbCBzZXJ2ZXIgaW50ZXJhY3Rpb24gdGhhdCBjcmVhdGVkIHRoaXNcbiAqICAgICBpbnN0YW5jZSBvciBjb2xsZWN0aW9uLlxuICpcbiAqICAgICBPbiBzdWNjZXNzLCB0aGUgcHJvbWlzZSBpcyByZXNvbHZlZCB3aXRoIHRoZSBzYW1lIHJlc291cmNlIGluc3RhbmNlIG9yIGNvbGxlY3Rpb24gb2JqZWN0LFxuICogICAgIHVwZGF0ZWQgd2l0aCBkYXRhIGZyb20gc2VydmVyLiBUaGlzIG1ha2VzIGl0IGVhc3kgdG8gdXNlIGluXG4gKiAgICAge0BsaW5rIG5nUm91dGUuJHJvdXRlUHJvdmlkZXIgcmVzb2x2ZSBzZWN0aW9uIG9mICRyb3V0ZVByb3ZpZGVyLndoZW4oKX0gdG8gZGVmZXIgdmlld1xuICogICAgIHJlbmRlcmluZyB1bnRpbCB0aGUgcmVzb3VyY2UocykgYXJlIGxvYWRlZC5cbiAqXG4gKiAgICAgT24gZmFpbHVyZSwgdGhlIHByb21pc2UgaXMgcmVqZWN0ZWQgd2l0aCB0aGUge0BsaW5rIG5nLiRodHRwIGh0dHAgcmVzcG9uc2V9IG9iamVjdCwgd2l0aG91dFxuICogICAgIHRoZSBgcmVzb3VyY2VgIHByb3BlcnR5LlxuICpcbiAqICAgICBJZiBhbiBpbnRlcmNlcHRvciBvYmplY3Qgd2FzIHByb3ZpZGVkLCB0aGUgcHJvbWlzZSB3aWxsIGluc3RlYWQgYmUgcmVzb2x2ZWQgd2l0aCB0aGUgdmFsdWVcbiAqICAgICByZXR1cm5lZCBieSB0aGUgaW50ZXJjZXB0b3IuXG4gKlxuICogICAtIGAkcmVzb2x2ZWRgOiBgdHJ1ZWAgYWZ0ZXIgZmlyc3Qgc2VydmVyIGludGVyYWN0aW9uIGlzIGNvbXBsZXRlZCAoZWl0aGVyIHdpdGggc3VjY2VzcyBvclxuICogICAgICByZWplY3Rpb24pLCBgZmFsc2VgIGJlZm9yZSB0aGF0LiBLbm93aW5nIGlmIHRoZSBSZXNvdXJjZSBoYXMgYmVlbiByZXNvbHZlZCBpcyB1c2VmdWwgaW5cbiAqICAgICAgZGF0YS1iaW5kaW5nLlxuICpcbiAqICAgVGhlIFJlc291cmNlIGluc3RhbmNlcyBhbmQgY29sbGVjdGlvbnMgaGF2ZSB0aGVzZSBhZGRpdGlvbmFsIG1ldGhvZHM6XG4gKlxuICogICAtIGAkY2FuY2VsUmVxdWVzdGA6IElmIHRoZXJlIGlzIGEgY2FuY2VsbGFibGUsIHBlbmRpbmcgcmVxdWVzdCByZWxhdGVkIHRvIHRoZSBpbnN0YW5jZSBvclxuICogICAgICBjb2xsZWN0aW9uLCBjYWxsaW5nIHRoaXMgbWV0aG9kIHdpbGwgYWJvcnQgdGhlIHJlcXVlc3QuXG4gKlxuICogICBUaGUgUmVzb3VyY2UgaW5zdGFuY2VzIGhhdmUgdGhlc2UgYWRkaXRpb25hbCBtZXRob2RzOlxuICpcbiAqICAgLSBgdG9KU09OYDogSXQgcmV0dXJucyBhIHNpbXBsZSBvYmplY3Qgd2l0aG91dCBhbnkgb2YgdGhlIGV4dHJhIHByb3BlcnRpZXMgYWRkZWQgYXMgcGFydCBvZlxuICogICAgIHRoZSBSZXNvdXJjZSBBUEkuIFRoaXMgb2JqZWN0IGNhbiBiZSBzZXJpYWxpemVkIHRocm91Z2gge0BsaW5rIGFuZ3VsYXIudG9Kc29ufSBzYWZlbHlcbiAqICAgICB3aXRob3V0IGF0dGFjaGluZyBBbmd1bGFyLXNwZWNpZmljIGZpZWxkcy4gTm90aWNlIHRoYXQgYEpTT04uc3RyaW5naWZ5YCAoYW5kXG4gKiAgICAgYGFuZ3VsYXIudG9Kc29uYCkgYXV0b21hdGljYWxseSB1c2UgdGhpcyBtZXRob2Qgd2hlbiBzZXJpYWxpemluZyBhIFJlc291cmNlIGluc3RhbmNlXG4gKiAgICAgKHNlZSBbTUROXShodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9KYXZhU2NyaXB0L1JlZmVyZW5jZS9HbG9iYWxfT2JqZWN0cy9KU09OL3N0cmluZ2lmeSN0b0pTT04lMjglMjlfYmVoYXZpb3IpKS5cbiAqXG4gKiBAZXhhbXBsZVxuICpcbiAqICMgQ3JlZGl0IGNhcmQgcmVzb3VyY2VcbiAqXG4gKiBgYGBqc1xuICAgICAvLyBEZWZpbmUgQ3JlZGl0Q2FyZCBjbGFzc1xuICAgICB2YXIgQ3JlZGl0Q2FyZCA9ICRyZXNvdXJjZSgnL3VzZXIvOnVzZXJJZC9jYXJkLzpjYXJkSWQnLFxuICAgICAge3VzZXJJZDoxMjMsIGNhcmRJZDonQGlkJ30sIHtcbiAgICAgICBjaGFyZ2U6IHttZXRob2Q6J1BPU1QnLCBwYXJhbXM6e2NoYXJnZTp0cnVlfX1cbiAgICAgIH0pO1xuXG4gICAgIC8vIFdlIGNhbiByZXRyaWV2ZSBhIGNvbGxlY3Rpb24gZnJvbSB0aGUgc2VydmVyXG4gICAgIHZhciBjYXJkcyA9IENyZWRpdENhcmQucXVlcnkoZnVuY3Rpb24oKSB7XG4gICAgICAgLy8gR0VUOiAvdXNlci8xMjMvY2FyZFxuICAgICAgIC8vIHNlcnZlciByZXR1cm5zOiBbIHtpZDo0NTYsIG51bWJlcjonMTIzNCcsIG5hbWU6J1NtaXRoJ30gXTtcblxuICAgICAgIHZhciBjYXJkID0gY2FyZHNbMF07XG4gICAgICAgLy8gZWFjaCBpdGVtIGlzIGFuIGluc3RhbmNlIG9mIENyZWRpdENhcmRcbiAgICAgICBleHBlY3QoY2FyZCBpbnN0YW5jZW9mIENyZWRpdENhcmQpLnRvRXF1YWwodHJ1ZSk7XG4gICAgICAgY2FyZC5uYW1lID0gXCJKLiBTbWl0aFwiO1xuICAgICAgIC8vIG5vbiBHRVQgbWV0aG9kcyBhcmUgbWFwcGVkIG9udG8gdGhlIGluc3RhbmNlc1xuICAgICAgIGNhcmQuJHNhdmUoKTtcbiAgICAgICAvLyBQT1NUOiAvdXNlci8xMjMvY2FyZC80NTYge2lkOjQ1NiwgbnVtYmVyOicxMjM0JywgbmFtZTonSi4gU21pdGgnfVxuICAgICAgIC8vIHNlcnZlciByZXR1cm5zOiB7aWQ6NDU2LCBudW1iZXI6JzEyMzQnLCBuYW1lOiAnSi4gU21pdGgnfTtcblxuICAgICAgIC8vIG91ciBjdXN0b20gbWV0aG9kIGlzIG1hcHBlZCBhcyB3ZWxsLlxuICAgICAgIGNhcmQuJGNoYXJnZSh7YW1vdW50OjkuOTl9KTtcbiAgICAgICAvLyBQT1NUOiAvdXNlci8xMjMvY2FyZC80NTY/YW1vdW50PTkuOTkmY2hhcmdlPXRydWUge2lkOjQ1NiwgbnVtYmVyOicxMjM0JywgbmFtZTonSi4gU21pdGgnfVxuICAgICB9KTtcblxuICAgICAvLyB3ZSBjYW4gY3JlYXRlIGFuIGluc3RhbmNlIGFzIHdlbGxcbiAgICAgdmFyIG5ld0NhcmQgPSBuZXcgQ3JlZGl0Q2FyZCh7bnVtYmVyOicwMTIzJ30pO1xuICAgICBuZXdDYXJkLm5hbWUgPSBcIk1pa2UgU21pdGhcIjtcbiAgICAgbmV3Q2FyZC4kc2F2ZSgpO1xuICAgICAvLyBQT1NUOiAvdXNlci8xMjMvY2FyZCB7bnVtYmVyOicwMTIzJywgbmFtZTonTWlrZSBTbWl0aCd9XG4gICAgIC8vIHNlcnZlciByZXR1cm5zOiB7aWQ6Nzg5LCBudW1iZXI6JzAxMjMnLCBuYW1lOiAnTWlrZSBTbWl0aCd9O1xuICAgICBleHBlY3QobmV3Q2FyZC5pZCkudG9FcXVhbCg3ODkpO1xuICogYGBgXG4gKlxuICogVGhlIG9iamVjdCByZXR1cm5lZCBmcm9tIHRoaXMgZnVuY3Rpb24gZXhlY3V0aW9uIGlzIGEgcmVzb3VyY2UgXCJjbGFzc1wiIHdoaWNoIGhhcyBcInN0YXRpY1wiIG1ldGhvZFxuICogZm9yIGVhY2ggYWN0aW9uIGluIHRoZSBkZWZpbml0aW9uLlxuICpcbiAqIENhbGxpbmcgdGhlc2UgbWV0aG9kcyBpbnZva2UgYCRodHRwYCBvbiB0aGUgYHVybGAgdGVtcGxhdGUgd2l0aCB0aGUgZ2l2ZW4gYG1ldGhvZGAsIGBwYXJhbXNgIGFuZFxuICogYGhlYWRlcnNgLlxuICpcbiAqIEBleGFtcGxlXG4gKlxuICogIyBVc2VyIHJlc291cmNlXG4gKlxuICogV2hlbiB0aGUgZGF0YSBpcyByZXR1cm5lZCBmcm9tIHRoZSBzZXJ2ZXIgdGhlbiB0aGUgb2JqZWN0IGlzIGFuIGluc3RhbmNlIG9mIHRoZSByZXNvdXJjZSB0eXBlIGFuZFxuICogYWxsIG9mIHRoZSBub24tR0VUIG1ldGhvZHMgYXJlIGF2YWlsYWJsZSB3aXRoIGAkYCBwcmVmaXguIFRoaXMgYWxsb3dzIHlvdSB0byBlYXNpbHkgc3VwcG9ydCBDUlVEXG4gKiBvcGVyYXRpb25zIChjcmVhdGUsIHJlYWQsIHVwZGF0ZSwgZGVsZXRlKSBvbiBzZXJ2ZXItc2lkZSBkYXRhLlxuXG4gICBgYGBqc1xuICAgICB2YXIgVXNlciA9ICRyZXNvdXJjZSgnL3VzZXIvOnVzZXJJZCcsIHt1c2VySWQ6J0BpZCd9KTtcbiAgICAgVXNlci5nZXQoe3VzZXJJZDoxMjN9LCBmdW5jdGlvbih1c2VyKSB7XG4gICAgICAgdXNlci5hYmMgPSB0cnVlO1xuICAgICAgIHVzZXIuJHNhdmUoKTtcbiAgICAgfSk7XG4gICBgYGBcbiAqXG4gKiBJdCdzIHdvcnRoIG5vdGluZyB0aGF0IHRoZSBzdWNjZXNzIGNhbGxiYWNrIGZvciBgZ2V0YCwgYHF1ZXJ5YCBhbmQgb3RoZXIgbWV0aG9kcyBnZXRzIHBhc3NlZFxuICogaW4gdGhlIHJlc3BvbnNlIHRoYXQgY2FtZSBmcm9tIHRoZSBzZXJ2ZXIgYXMgd2VsbCBhcyAkaHR0cCBoZWFkZXIgZ2V0dGVyIGZ1bmN0aW9uLCBzbyBvbmVcbiAqIGNvdWxkIHJld3JpdGUgdGhlIGFib3ZlIGV4YW1wbGUgYW5kIGdldCBhY2Nlc3MgdG8gaHR0cCBoZWFkZXJzIGFzOlxuICpcbiAgIGBgYGpzXG4gICAgIHZhciBVc2VyID0gJHJlc291cmNlKCcvdXNlci86dXNlcklkJywge3VzZXJJZDonQGlkJ30pO1xuICAgICBVc2VyLmdldCh7dXNlcklkOjEyM30sIGZ1bmN0aW9uKHVzZXIsIGdldFJlc3BvbnNlSGVhZGVycyl7XG4gICAgICAgdXNlci5hYmMgPSB0cnVlO1xuICAgICAgIHVzZXIuJHNhdmUoZnVuY3Rpb24odXNlciwgcHV0UmVzcG9uc2VIZWFkZXJzKSB7XG4gICAgICAgICAvL3VzZXIgPT4gc2F2ZWQgdXNlciBvYmplY3RcbiAgICAgICAgIC8vcHV0UmVzcG9uc2VIZWFkZXJzID0+ICRodHRwIGhlYWRlciBnZXR0ZXJcbiAgICAgICB9KTtcbiAgICAgfSk7XG4gICBgYGBcbiAqXG4gKiBZb3UgY2FuIGFsc28gYWNjZXNzIHRoZSByYXcgYCRodHRwYCBwcm9taXNlIHZpYSB0aGUgYCRwcm9taXNlYCBwcm9wZXJ0eSBvbiB0aGUgb2JqZWN0IHJldHVybmVkXG4gKlxuICAgYGBgXG4gICAgIHZhciBVc2VyID0gJHJlc291cmNlKCcvdXNlci86dXNlcklkJywge3VzZXJJZDonQGlkJ30pO1xuICAgICBVc2VyLmdldCh7dXNlcklkOjEyM30pXG4gICAgICAgICAuJHByb21pc2UudGhlbihmdW5jdGlvbih1c2VyKSB7XG4gICAgICAgICAgICRzY29wZS51c2VyID0gdXNlcjtcbiAgICAgICAgIH0pO1xuICAgYGBgXG4gKlxuICogQGV4YW1wbGVcbiAqXG4gKiAjIENyZWF0aW5nIGEgY3VzdG9tICdQVVQnIHJlcXVlc3RcbiAqXG4gKiBJbiB0aGlzIGV4YW1wbGUgd2UgY3JlYXRlIGEgY3VzdG9tIG1ldGhvZCBvbiBvdXIgcmVzb3VyY2UgdG8gbWFrZSBhIFBVVCByZXF1ZXN0XG4gKiBgYGBqc1xuICogICAgdmFyIGFwcCA9IGFuZ3VsYXIubW9kdWxlKCdhcHAnLCBbJ25nUmVzb3VyY2UnLCAnbmdSb3V0ZSddKTtcbiAqXG4gKiAgICAvLyBTb21lIEFQSXMgZXhwZWN0IGEgUFVUIHJlcXVlc3QgaW4gdGhlIGZvcm1hdCBVUkwvb2JqZWN0L0lEXG4gKiAgICAvLyBIZXJlIHdlIGFyZSBjcmVhdGluZyBhbiAndXBkYXRlJyBtZXRob2RcbiAqICAgIGFwcC5mYWN0b3J5KCdOb3RlcycsIFsnJHJlc291cmNlJywgZnVuY3Rpb24oJHJlc291cmNlKSB7XG4gKiAgICByZXR1cm4gJHJlc291cmNlKCcvbm90ZXMvOmlkJywgbnVsbCxcbiAqICAgICAgICB7XG4gKiAgICAgICAgICAgICd1cGRhdGUnOiB7IG1ldGhvZDonUFVUJyB9XG4gKiAgICAgICAgfSk7XG4gKiAgICB9XSk7XG4gKlxuICogICAgLy8gSW4gb3VyIGNvbnRyb2xsZXIgd2UgZ2V0IHRoZSBJRCBmcm9tIHRoZSBVUkwgdXNpbmcgbmdSb3V0ZSBhbmQgJHJvdXRlUGFyYW1zXG4gKiAgICAvLyBXZSBwYXNzIGluICRyb3V0ZVBhcmFtcyBhbmQgb3VyIE5vdGVzIGZhY3RvcnkgYWxvbmcgd2l0aCAkc2NvcGVcbiAqICAgIGFwcC5jb250cm9sbGVyKCdOb3Rlc0N0cmwnLCBbJyRzY29wZScsICckcm91dGVQYXJhbXMnLCAnTm90ZXMnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmdW5jdGlvbigkc2NvcGUsICRyb3V0ZVBhcmFtcywgTm90ZXMpIHtcbiAqICAgIC8vIEZpcnN0IGdldCBhIG5vdGUgb2JqZWN0IGZyb20gdGhlIGZhY3RvcnlcbiAqICAgIHZhciBub3RlID0gTm90ZXMuZ2V0KHsgaWQ6JHJvdXRlUGFyYW1zLmlkIH0pO1xuICogICAgJGlkID0gbm90ZS5pZDtcbiAqXG4gKiAgICAvLyBOb3cgY2FsbCB1cGRhdGUgcGFzc2luZyBpbiB0aGUgSUQgZmlyc3QgdGhlbiB0aGUgb2JqZWN0IHlvdSBhcmUgdXBkYXRpbmdcbiAqICAgIE5vdGVzLnVwZGF0ZSh7IGlkOiRpZCB9LCBub3RlKTtcbiAqXG4gKiAgICAvLyBUaGlzIHdpbGwgUFVUIC9ub3Rlcy9JRCB3aXRoIHRoZSBub3RlIG9iamVjdCBpbiB0aGUgcmVxdWVzdCBwYXlsb2FkXG4gKiAgICB9XSk7XG4gKiBgYGBcbiAqXG4gKiBAZXhhbXBsZVxuICpcbiAqICMgQ2FuY2VsbGluZyByZXF1ZXN0c1xuICpcbiAqIElmIGFuIGFjdGlvbidzIGNvbmZpZ3VyYXRpb24gc3BlY2lmaWVzIHRoYXQgaXQgaXMgY2FuY2VsbGFibGUsIHlvdSBjYW4gY2FuY2VsIHRoZSByZXF1ZXN0IHJlbGF0ZWRcbiAqIHRvIGFuIGluc3RhbmNlIG9yIGNvbGxlY3Rpb24gKGFzIGxvbmcgYXMgaXQgaXMgYSByZXN1bHQgb2YgYSBcIm5vbi1pbnN0YW5jZVwiIGNhbGwpOlxuICpcbiAgIGBgYGpzXG4gICAgIC8vIC4uLmRlZmluaW5nIHRoZSBgSG90ZWxgIHJlc291cmNlLi4uXG4gICAgIHZhciBIb3RlbCA9ICRyZXNvdXJjZSgnL2FwaS9ob3RlbC86aWQnLCB7aWQ6ICdAaWQnfSwge1xuICAgICAgIC8vIExldCdzIG1ha2UgdGhlIGBxdWVyeSgpYCBtZXRob2QgY2FuY2VsbGFibGVcbiAgICAgICBxdWVyeToge21ldGhvZDogJ2dldCcsIGlzQXJyYXk6IHRydWUsIGNhbmNlbGxhYmxlOiB0cnVlfVxuICAgICB9KTtcblxuICAgICAvLyAuLi5zb21ld2hlcmUgaW4gdGhlIFBsYW5WYWNhdGlvbkNvbnRyb2xsZXIuLi5cbiAgICAgLi4uXG4gICAgIHRoaXMub25EZXN0aW5hdGlvbkNoYW5nZWQgPSBmdW5jdGlvbiBvbkRlc3RpbmF0aW9uQ2hhbmdlZChkZXN0aW5hdGlvbikge1xuICAgICAgIC8vIFdlIGRvbid0IGNhcmUgYWJvdXQgYW55IHBlbmRpbmcgcmVxdWVzdCBmb3IgaG90ZWxzXG4gICAgICAgLy8gaW4gYSBkaWZmZXJlbnQgZGVzdGluYXRpb24gYW55IG1vcmVcbiAgICAgICB0aGlzLmF2YWlsYWJsZUhvdGVscy4kY2FuY2VsUmVxdWVzdCgpO1xuXG4gICAgICAgLy8gTGV0J3MgcXVlcnkgZm9yIGhvdGVscyBpbiAnPGRlc3RpbmF0aW9uPidcbiAgICAgICAvLyAoY2FsbHM6IC9hcGkvaG90ZWw/bG9jYXRpb249PGRlc3RpbmF0aW9uPilcbiAgICAgICB0aGlzLmF2YWlsYWJsZUhvdGVscyA9IEhvdGVsLnF1ZXJ5KHtsb2NhdGlvbjogZGVzdGluYXRpb259KTtcbiAgICAgfTtcbiAgIGBgYFxuICpcbiAqL1xuYW5ndWxhci5tb2R1bGUoJ25nUmVzb3VyY2UnLCBbJ25nJ10pLlxuICBpbmZvKHsgYW5ndWxhclZlcnNpb246ICcxLjYuNCcgfSkuXG4gIHByb3ZpZGVyKCckcmVzb3VyY2UnLCBmdW5jdGlvbiBSZXNvdXJjZVByb3ZpZGVyKCkge1xuICAgIHZhciBQUk9UT0NPTF9BTkRfSVBWNl9SRUdFWCA9IC9eaHR0cHM/OlxcL1xcL1xcW1teXFxdXSpdW14vXSovO1xuXG4gICAgdmFyIHByb3ZpZGVyID0gdGhpcztcblxuICAgIC8qKlxuICAgICAqIEBuZ2RvYyBwcm9wZXJ0eVxuICAgICAqIEBuYW1lICRyZXNvdXJjZVByb3ZpZGVyI2RlZmF1bHRzXG4gICAgICogQGRlc2NyaXB0aW9uXG4gICAgICogT2JqZWN0IGNvbnRhaW5pbmcgZGVmYXVsdCBvcHRpb25zIHVzZWQgd2hlbiBjcmVhdGluZyBgJHJlc291cmNlYCBpbnN0YW5jZXMuXG4gICAgICpcbiAgICAgKiBUaGUgZGVmYXVsdCB2YWx1ZXMgc2F0aXNmeSBhIHdpZGUgcmFuZ2Ugb2YgdXNlY2FzZXMsIGJ1dCB5b3UgbWF5IGNob29zZSB0byBvdmVyd3JpdGUgYW55IG9mXG4gICAgICogdGhlbSB0byBmdXJ0aGVyIGN1c3RvbWl6ZSB5b3VyIGluc3RhbmNlcy4gVGhlIGF2YWlsYWJsZSBwcm9wZXJ0aWVzIGFyZTpcbiAgICAgKlxuICAgICAqIC0gKipzdHJpcFRyYWlsaW5nU2xhc2hlcyoqIOKAkyBge2Jvb2xlYW59YCDigJMgSWYgdHJ1ZSwgdGhlbiB0aGUgdHJhaWxpbmcgc2xhc2hlcyBmcm9tIGFueVxuICAgICAqICAgY2FsY3VsYXRlZCBVUkwgd2lsbCBiZSBzdHJpcHBlZC48YnIgLz5cbiAgICAgKiAgIChEZWZhdWx0cyB0byB0cnVlLilcbiAgICAgKiAtICoqY2FuY2VsbGFibGUqKiDigJMgYHtib29sZWFufWAg4oCTIElmIHRydWUsIHRoZSByZXF1ZXN0IG1hZGUgYnkgYSBcIm5vbi1pbnN0YW5jZVwiIGNhbGwgd2lsbCBiZVxuICAgICAqICAgY2FuY2VsbGVkIChpZiBub3QgYWxyZWFkeSBjb21wbGV0ZWQpIGJ5IGNhbGxpbmcgYCRjYW5jZWxSZXF1ZXN0KClgIG9uIHRoZSBjYWxsJ3MgcmV0dXJuXG4gICAgICogICB2YWx1ZS4gRm9yIG1vcmUgZGV0YWlscywgc2VlIHtAbGluayBuZ1Jlc291cmNlLiRyZXNvdXJjZX0uIFRoaXMgY2FuIGJlIG92ZXJ3cml0dGVuIHBlclxuICAgICAqICAgcmVzb3VyY2UgY2xhc3Mgb3IgYWN0aW9uLjxiciAvPlxuICAgICAqICAgKERlZmF1bHRzIHRvIGZhbHNlLilcbiAgICAgKiAtICoqYWN0aW9ucyoqIC0gYHtPYmplY3QuPE9iamVjdD59YCAtIEEgaGFzaCB3aXRoIGRlZmF1bHQgYWN0aW9ucyBkZWNsYXJhdGlvbnMuIEFjdGlvbnMgYXJlXG4gICAgICogICBoaWdoLWxldmVsIG1ldGhvZHMgY29ycmVzcG9uZGluZyB0byBSRVNUZnVsIGFjdGlvbnMvbWV0aG9kcyBvbiByZXNvdXJjZXMuIEFuIGFjdGlvbiBtYXlcbiAgICAgKiAgIHNwZWNpZnkgd2hhdCBIVFRQIG1ldGhvZCB0byB1c2UsIHdoYXQgVVJMIHRvIGhpdCwgaWYgdGhlIHJldHVybiB2YWx1ZSB3aWxsIGJlIGEgc2luZ2xlXG4gICAgICogICBvYmplY3Qgb3IgYSBjb2xsZWN0aW9uIChhcnJheSkgb2Ygb2JqZWN0cyBldGMuIEZvciBtb3JlIGRldGFpbHMsIHNlZVxuICAgICAqICAge0BsaW5rIG5nUmVzb3VyY2UuJHJlc291cmNlfS4gVGhlIGFjdGlvbnMgY2FuIGFsc28gYmUgZW5oYW5jZWQgb3Igb3ZlcndyaXR0ZW4gcGVyIHJlc291cmNlXG4gICAgICogICBjbGFzcy48YnIgLz5cbiAgICAgKiAgIFRoZSBkZWZhdWx0IGFjdGlvbnMgYXJlOlxuICAgICAqICAgYGBganNcbiAgICAgKiAgIHtcbiAgICAgKiAgICAgZ2V0OiB7bWV0aG9kOiAnR0VUJ30sXG4gICAgICogICAgIHNhdmU6IHttZXRob2Q6ICdQT1NUJ30sXG4gICAgICogICAgIHF1ZXJ5OiB7bWV0aG9kOiAnR0VUJywgaXNBcnJheTogdHJ1ZX0sXG4gICAgICogICAgIHJlbW92ZToge21ldGhvZDogJ0RFTEVURSd9LFxuICAgICAqICAgICBkZWxldGU6IHttZXRob2Q6ICdERUxFVEUnfVxuICAgICAqICAgfVxuICAgICAqICAgYGBgXG4gICAgICpcbiAgICAgKiAjIyMjIEV4YW1wbGVcbiAgICAgKlxuICAgICAqIEZvciBleGFtcGxlLCB5b3UgY2FuIHNwZWNpZnkgYSBuZXcgYHVwZGF0ZWAgYWN0aW9uIHRoYXQgdXNlcyB0aGUgYFBVVGAgSFRUUCB2ZXJiOlxuICAgICAqXG4gICAgICogYGBganNcbiAgICAgKiAgIGFuZ3VsYXIuXG4gICAgICogICAgIG1vZHVsZSgnbXlBcHAnKS5cbiAgICAgKiAgICAgY29uZmlnKFsnJHJlc291cmNlUHJvdmlkZXInLCBmdW5jdGlvbiAoJHJlc291cmNlUHJvdmlkZXIpIHtcbiAgICAgKiAgICAgICAkcmVzb3VyY2VQcm92aWRlci5kZWZhdWx0cy5hY3Rpb25zLnVwZGF0ZSA9IHtcbiAgICAgKiAgICAgICAgIG1ldGhvZDogJ1BVVCdcbiAgICAgKiAgICAgICB9O1xuICAgICAqICAgICB9KTtcbiAgICAgKiBgYGBcbiAgICAgKlxuICAgICAqIE9yIHlvdSBjYW4gZXZlbiBvdmVyd3JpdGUgdGhlIHdob2xlIGBhY3Rpb25zYCBsaXN0IGFuZCBzcGVjaWZ5IHlvdXIgb3duOlxuICAgICAqXG4gICAgICogYGBganNcbiAgICAgKiAgIGFuZ3VsYXIuXG4gICAgICogICAgIG1vZHVsZSgnbXlBcHAnKS5cbiAgICAgKiAgICAgY29uZmlnKFsnJHJlc291cmNlUHJvdmlkZXInLCBmdW5jdGlvbiAoJHJlc291cmNlUHJvdmlkZXIpIHtcbiAgICAgKiAgICAgICAkcmVzb3VyY2VQcm92aWRlci5kZWZhdWx0cy5hY3Rpb25zID0ge1xuICAgICAqICAgICAgICAgY3JlYXRlOiB7bWV0aG9kOiAnUE9TVCd9LFxuICAgICAqICAgICAgICAgZ2V0OiAgICB7bWV0aG9kOiAnR0VUJ30sXG4gICAgICogICAgICAgICBnZXRBbGw6IHttZXRob2Q6ICdHRVQnLCBpc0FycmF5OnRydWV9LFxuICAgICAqICAgICAgICAgdXBkYXRlOiB7bWV0aG9kOiAnUFVUJ30sXG4gICAgICogICAgICAgICBkZWxldGU6IHttZXRob2Q6ICdERUxFVEUnfVxuICAgICAqICAgICAgIH07XG4gICAgICogICAgIH0pO1xuICAgICAqIGBgYFxuICAgICAqXG4gICAgICovXG4gICAgdGhpcy5kZWZhdWx0cyA9IHtcbiAgICAgIC8vIFN0cmlwIHNsYXNoZXMgYnkgZGVmYXVsdFxuICAgICAgc3RyaXBUcmFpbGluZ1NsYXNoZXM6IHRydWUsXG5cbiAgICAgIC8vIE1ha2Ugbm9uLWluc3RhbmNlIHJlcXVlc3RzIGNhbmNlbGxhYmxlICh2aWEgYCRjYW5jZWxSZXF1ZXN0KClgKVxuICAgICAgY2FuY2VsbGFibGU6IGZhbHNlLFxuXG4gICAgICAvLyBEZWZhdWx0IGFjdGlvbnMgY29uZmlndXJhdGlvblxuICAgICAgYWN0aW9uczoge1xuICAgICAgICAnZ2V0Jzoge21ldGhvZDogJ0dFVCd9LFxuICAgICAgICAnc2F2ZSc6IHttZXRob2Q6ICdQT1NUJ30sXG4gICAgICAgICdxdWVyeSc6IHttZXRob2Q6ICdHRVQnLCBpc0FycmF5OiB0cnVlfSxcbiAgICAgICAgJ3JlbW92ZSc6IHttZXRob2Q6ICdERUxFVEUnfSxcbiAgICAgICAgJ2RlbGV0ZSc6IHttZXRob2Q6ICdERUxFVEUnfVxuICAgICAgfVxuICAgIH07XG5cbiAgICB0aGlzLiRnZXQgPSBbJyRodHRwJywgJyRsb2cnLCAnJHEnLCAnJHRpbWVvdXQnLCBmdW5jdGlvbigkaHR0cCwgJGxvZywgJHEsICR0aW1lb3V0KSB7XG5cbiAgICAgIHZhciBub29wID0gYW5ndWxhci5ub29wLFxuICAgICAgICAgIGZvckVhY2ggPSBhbmd1bGFyLmZvckVhY2gsXG4gICAgICAgICAgZXh0ZW5kID0gYW5ndWxhci5leHRlbmQsXG4gICAgICAgICAgY29weSA9IGFuZ3VsYXIuY29weSxcbiAgICAgICAgICBpc0FycmF5ID0gYW5ndWxhci5pc0FycmF5LFxuICAgICAgICAgIGlzRGVmaW5lZCA9IGFuZ3VsYXIuaXNEZWZpbmVkLFxuICAgICAgICAgIGlzRnVuY3Rpb24gPSBhbmd1bGFyLmlzRnVuY3Rpb24sXG4gICAgICAgICAgaXNOdW1iZXIgPSBhbmd1bGFyLmlzTnVtYmVyLFxuICAgICAgICAgIGVuY29kZVVyaVF1ZXJ5ID0gYW5ndWxhci4kJGVuY29kZVVyaVF1ZXJ5LFxuICAgICAgICAgIGVuY29kZVVyaVNlZ21lbnQgPSBhbmd1bGFyLiQkZW5jb2RlVXJpU2VnbWVudDtcblxuICAgICAgZnVuY3Rpb24gUm91dGUodGVtcGxhdGUsIGRlZmF1bHRzKSB7XG4gICAgICAgIHRoaXMudGVtcGxhdGUgPSB0ZW1wbGF0ZTtcbiAgICAgICAgdGhpcy5kZWZhdWx0cyA9IGV4dGVuZCh7fSwgcHJvdmlkZXIuZGVmYXVsdHMsIGRlZmF1bHRzKTtcbiAgICAgICAgdGhpcy51cmxQYXJhbXMgPSB7fTtcbiAgICAgIH1cblxuICAgICAgUm91dGUucHJvdG90eXBlID0ge1xuICAgICAgICBzZXRVcmxQYXJhbXM6IGZ1bmN0aW9uKGNvbmZpZywgcGFyYW1zLCBhY3Rpb25VcmwpIHtcbiAgICAgICAgICB2YXIgc2VsZiA9IHRoaXMsXG4gICAgICAgICAgICB1cmwgPSBhY3Rpb25VcmwgfHwgc2VsZi50ZW1wbGF0ZSxcbiAgICAgICAgICAgIHZhbCxcbiAgICAgICAgICAgIGVuY29kZWRWYWwsXG4gICAgICAgICAgICBwcm90b2NvbEFuZElwdjYgPSAnJztcblxuICAgICAgICAgIHZhciB1cmxQYXJhbXMgPSBzZWxmLnVybFBhcmFtcyA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG4gICAgICAgICAgZm9yRWFjaCh1cmwuc3BsaXQoL1xcVy8pLCBmdW5jdGlvbihwYXJhbSkge1xuICAgICAgICAgICAgaWYgKHBhcmFtID09PSAnaGFzT3duUHJvcGVydHknKSB7XG4gICAgICAgICAgICAgIHRocm93ICRyZXNvdXJjZU1pbkVycignYmFkbmFtZScsICdoYXNPd25Qcm9wZXJ0eSBpcyBub3QgYSB2YWxpZCBwYXJhbWV0ZXIgbmFtZS4nKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICghKG5ldyBSZWdFeHAoJ15cXFxcZCskJykudGVzdChwYXJhbSkpICYmIHBhcmFtICYmXG4gICAgICAgICAgICAgIChuZXcgUmVnRXhwKCcoXnxbXlxcXFxcXFxcXSk6JyArIHBhcmFtICsgJyhcXFxcV3wkKScpLnRlc3QodXJsKSkpIHtcbiAgICAgICAgICAgICAgdXJsUGFyYW1zW3BhcmFtXSA9IHtcbiAgICAgICAgICAgICAgICBpc1F1ZXJ5UGFyYW1WYWx1ZTogKG5ldyBSZWdFeHAoJ1xcXFw/Lio9OicgKyBwYXJhbSArICcoPzpcXFxcV3wkKScpKS50ZXN0KHVybClcbiAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9KTtcbiAgICAgICAgICB1cmwgPSB1cmwucmVwbGFjZSgvXFxcXDovZywgJzonKTtcbiAgICAgICAgICB1cmwgPSB1cmwucmVwbGFjZShQUk9UT0NPTF9BTkRfSVBWNl9SRUdFWCwgZnVuY3Rpb24obWF0Y2gpIHtcbiAgICAgICAgICAgIHByb3RvY29sQW5kSXB2NiA9IG1hdGNoO1xuICAgICAgICAgICAgcmV0dXJuICcnO1xuICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgcGFyYW1zID0gcGFyYW1zIHx8IHt9O1xuICAgICAgICAgIGZvckVhY2goc2VsZi51cmxQYXJhbXMsIGZ1bmN0aW9uKHBhcmFtSW5mbywgdXJsUGFyYW0pIHtcbiAgICAgICAgICAgIHZhbCA9IHBhcmFtcy5oYXNPd25Qcm9wZXJ0eSh1cmxQYXJhbSkgPyBwYXJhbXNbdXJsUGFyYW1dIDogc2VsZi5kZWZhdWx0c1t1cmxQYXJhbV07XG4gICAgICAgICAgICBpZiAoaXNEZWZpbmVkKHZhbCkgJiYgdmFsICE9PSBudWxsKSB7XG4gICAgICAgICAgICAgIGlmIChwYXJhbUluZm8uaXNRdWVyeVBhcmFtVmFsdWUpIHtcbiAgICAgICAgICAgICAgICBlbmNvZGVkVmFsID0gZW5jb2RlVXJpUXVlcnkodmFsLCB0cnVlKTtcbiAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBlbmNvZGVkVmFsID0gZW5jb2RlVXJpU2VnbWVudCh2YWwpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIHVybCA9IHVybC5yZXBsYWNlKG5ldyBSZWdFeHAoJzonICsgdXJsUGFyYW0gKyAnKFxcXFxXfCQpJywgJ2cnKSwgZnVuY3Rpb24obWF0Y2gsIHAxKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGVuY29kZWRWYWwgKyBwMTtcbiAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICB1cmwgPSB1cmwucmVwbGFjZShuZXcgUmVnRXhwKCcoLz8pOicgKyB1cmxQYXJhbSArICcoXFxcXFd8JCknLCAnZycpLCBmdW5jdGlvbihtYXRjaCxcbiAgICAgICAgICAgICAgICAgIGxlYWRpbmdTbGFzaGVzLCB0YWlsKSB7XG4gICAgICAgICAgICAgICAgaWYgKHRhaWwuY2hhckF0KDApID09PSAnLycpIHtcbiAgICAgICAgICAgICAgICAgIHJldHVybiB0YWlsO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICByZXR1cm4gbGVhZGluZ1NsYXNoZXMgKyB0YWlsO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSk7XG5cbiAgICAgICAgICAvLyBzdHJpcCB0cmFpbGluZyBzbGFzaGVzIGFuZCBzZXQgdGhlIHVybCAodW5sZXNzIHRoaXMgYmVoYXZpb3IgaXMgc3BlY2lmaWNhbGx5IGRpc2FibGVkKVxuICAgICAgICAgIGlmIChzZWxmLmRlZmF1bHRzLnN0cmlwVHJhaWxpbmdTbGFzaGVzKSB7XG4gICAgICAgICAgICB1cmwgPSB1cmwucmVwbGFjZSgvXFwvKyQvLCAnJykgfHwgJy8nO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIC8vIENvbGxhcHNlIGAvLmAgaWYgZm91bmQgaW4gdGhlIGxhc3QgVVJMIHBhdGggc2VnbWVudCBiZWZvcmUgdGhlIHF1ZXJ5LlxuICAgICAgICAgIC8vIEUuZy4gYGh0dHA6Ly91cmwuY29tL2lkLy5mb3JtYXQ/cT14YCBiZWNvbWVzIGBodHRwOi8vdXJsLmNvbS9pZC5mb3JtYXQ/cT14YC5cbiAgICAgICAgICB1cmwgPSB1cmwucmVwbGFjZSgvXFwvXFwuKD89XFx3KygkfFxcPykpLywgJy4nKTtcbiAgICAgICAgICAvLyBSZXBsYWNlIGVzY2FwZWQgYC9cXC5gIHdpdGggYC8uYC5cbiAgICAgICAgICAvLyAoSWYgYFxcLmAgY29tZXMgZnJvbSBhIHBhcmFtIHZhbHVlLCBpdCB3aWxsIGJlIGVuY29kZWQgYXMgYCU1Qy5gLilcbiAgICAgICAgICBjb25maWcudXJsID0gcHJvdG9jb2xBbmRJcHY2ICsgdXJsLnJlcGxhY2UoL1xcLyhcXFxcfCU1QylcXC4vLCAnLy4nKTtcblxuXG4gICAgICAgICAgLy8gc2V0IHBhcmFtcyAtIGRlbGVnYXRlIHBhcmFtIGVuY29kaW5nIHRvICRodHRwXG4gICAgICAgICAgZm9yRWFjaChwYXJhbXMsIGZ1bmN0aW9uKHZhbHVlLCBrZXkpIHtcbiAgICAgICAgICAgIGlmICghc2VsZi51cmxQYXJhbXNba2V5XSkge1xuICAgICAgICAgICAgICBjb25maWcucGFyYW1zID0gY29uZmlnLnBhcmFtcyB8fCB7fTtcbiAgICAgICAgICAgICAgY29uZmlnLnBhcmFtc1trZXldID0gdmFsdWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgIH07XG5cblxuICAgICAgZnVuY3Rpb24gcmVzb3VyY2VGYWN0b3J5KHVybCwgcGFyYW1EZWZhdWx0cywgYWN0aW9ucywgb3B0aW9ucykge1xuICAgICAgICB2YXIgcm91dGUgPSBuZXcgUm91dGUodXJsLCBvcHRpb25zKTtcblxuICAgICAgICBhY3Rpb25zID0gZXh0ZW5kKHt9LCBwcm92aWRlci5kZWZhdWx0cy5hY3Rpb25zLCBhY3Rpb25zKTtcblxuICAgICAgICBmdW5jdGlvbiBleHRyYWN0UGFyYW1zKGRhdGEsIGFjdGlvblBhcmFtcykge1xuICAgICAgICAgIHZhciBpZHMgPSB7fTtcbiAgICAgICAgICBhY3Rpb25QYXJhbXMgPSBleHRlbmQoe30sIHBhcmFtRGVmYXVsdHMsIGFjdGlvblBhcmFtcyk7XG4gICAgICAgICAgZm9yRWFjaChhY3Rpb25QYXJhbXMsIGZ1bmN0aW9uKHZhbHVlLCBrZXkpIHtcbiAgICAgICAgICAgIGlmIChpc0Z1bmN0aW9uKHZhbHVlKSkgeyB2YWx1ZSA9IHZhbHVlKGRhdGEpOyB9XG4gICAgICAgICAgICBpZHNba2V5XSA9IHZhbHVlICYmIHZhbHVlLmNoYXJBdCAmJiB2YWx1ZS5jaGFyQXQoMCkgPT09ICdAJyA/XG4gICAgICAgICAgICAgIGxvb2t1cERvdHRlZFBhdGgoZGF0YSwgdmFsdWUuc3Vic3RyKDEpKSA6IHZhbHVlO1xuICAgICAgICAgIH0pO1xuICAgICAgICAgIHJldHVybiBpZHM7XG4gICAgICAgIH1cblxuICAgICAgICBmdW5jdGlvbiBkZWZhdWx0UmVzcG9uc2VJbnRlcmNlcHRvcihyZXNwb25zZSkge1xuICAgICAgICAgIHJldHVybiByZXNwb25zZS5yZXNvdXJjZTtcbiAgICAgICAgfVxuXG4gICAgICAgIGZ1bmN0aW9uIFJlc291cmNlKHZhbHVlKSB7XG4gICAgICAgICAgc2hhbGxvd0NsZWFyQW5kQ29weSh2YWx1ZSB8fCB7fSwgdGhpcyk7XG4gICAgICAgIH1cblxuICAgICAgICBSZXNvdXJjZS5wcm90b3R5cGUudG9KU09OID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgdmFyIGRhdGEgPSBleHRlbmQoe30sIHRoaXMpO1xuICAgICAgICAgIGRlbGV0ZSBkYXRhLiRwcm9taXNlO1xuICAgICAgICAgIGRlbGV0ZSBkYXRhLiRyZXNvbHZlZDtcbiAgICAgICAgICBkZWxldGUgZGF0YS4kY2FuY2VsUmVxdWVzdDtcbiAgICAgICAgICByZXR1cm4gZGF0YTtcbiAgICAgICAgfTtcblxuICAgICAgICBmb3JFYWNoKGFjdGlvbnMsIGZ1bmN0aW9uKGFjdGlvbiwgbmFtZSkge1xuICAgICAgICAgIHZhciBoYXNCb2R5ID0gYWN0aW9uLmhhc0JvZHkgPT09IHRydWUgfHwgKGFjdGlvbi5oYXNCb2R5ICE9PSBmYWxzZSAmJiAvXihQT1NUfFBVVHxQQVRDSCkkL2kudGVzdChhY3Rpb24ubWV0aG9kKSk7XG4gICAgICAgICAgdmFyIG51bWVyaWNUaW1lb3V0ID0gYWN0aW9uLnRpbWVvdXQ7XG4gICAgICAgICAgdmFyIGNhbmNlbGxhYmxlID0gaXNEZWZpbmVkKGFjdGlvbi5jYW5jZWxsYWJsZSkgP1xuICAgICAgICAgICAgICBhY3Rpb24uY2FuY2VsbGFibGUgOiByb3V0ZS5kZWZhdWx0cy5jYW5jZWxsYWJsZTtcblxuICAgICAgICAgIGlmIChudW1lcmljVGltZW91dCAmJiAhaXNOdW1iZXIobnVtZXJpY1RpbWVvdXQpKSB7XG4gICAgICAgICAgICAkbG9nLmRlYnVnKCduZ1Jlc291cmNlOlxcbicgK1xuICAgICAgICAgICAgICAgICAgICAgICAnICBPbmx5IG51bWVyaWMgdmFsdWVzIGFyZSBhbGxvd2VkIGFzIGB0aW1lb3V0YC5cXG4nICtcbiAgICAgICAgICAgICAgICAgICAgICAgJyAgUHJvbWlzZXMgYXJlIG5vdCBzdXBwb3J0ZWQgaW4gJHJlc291cmNlLCBiZWNhdXNlIHRoZSBzYW1lIHZhbHVlIHdvdWxkICcgK1xuICAgICAgICAgICAgICAgICAgICAgICAnYmUgdXNlZCBmb3IgbXVsdGlwbGUgcmVxdWVzdHMuIElmIHlvdSBhcmUgbG9va2luZyBmb3IgYSB3YXkgdG8gY2FuY2VsICcgK1xuICAgICAgICAgICAgICAgICAgICAgICAncmVxdWVzdHMsIHlvdSBzaG91bGQgdXNlIHRoZSBgY2FuY2VsbGFibGVgIG9wdGlvbi4nKTtcbiAgICAgICAgICAgIGRlbGV0ZSBhY3Rpb24udGltZW91dDtcbiAgICAgICAgICAgIG51bWVyaWNUaW1lb3V0ID0gbnVsbDtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBSZXNvdXJjZVtuYW1lXSA9IGZ1bmN0aW9uKGExLCBhMiwgYTMsIGE0KSB7XG4gICAgICAgICAgICB2YXIgcGFyYW1zID0ge30sIGRhdGEsIHN1Y2Nlc3MsIGVycm9yO1xuXG4gICAgICAgICAgICBzd2l0Y2ggKGFyZ3VtZW50cy5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgY2FzZSA0OlxuICAgICAgICAgICAgICAgIGVycm9yID0gYTQ7XG4gICAgICAgICAgICAgICAgc3VjY2VzcyA9IGEzO1xuICAgICAgICAgICAgICAgIC8vIGZhbGxzIHRocm91Z2hcbiAgICAgICAgICAgICAgY2FzZSAzOlxuICAgICAgICAgICAgICBjYXNlIDI6XG4gICAgICAgICAgICAgICAgaWYgKGlzRnVuY3Rpb24oYTIpKSB7XG4gICAgICAgICAgICAgICAgICBpZiAoaXNGdW5jdGlvbihhMSkpIHtcbiAgICAgICAgICAgICAgICAgICAgc3VjY2VzcyA9IGExO1xuICAgICAgICAgICAgICAgICAgICBlcnJvciA9IGEyO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgc3VjY2VzcyA9IGEyO1xuICAgICAgICAgICAgICAgICAgZXJyb3IgPSBhMztcbiAgICAgICAgICAgICAgICAgIC8vIGZhbGxzIHRocm91Z2hcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgcGFyYW1zID0gYTE7XG4gICAgICAgICAgICAgICAgICBkYXRhID0gYTI7XG4gICAgICAgICAgICAgICAgICBzdWNjZXNzID0gYTM7XG4gICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgLy8gZmFsbHMgdGhyb3VnaFxuICAgICAgICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgICAgICAgaWYgKGlzRnVuY3Rpb24oYTEpKSBzdWNjZXNzID0gYTE7XG4gICAgICAgICAgICAgICAgZWxzZSBpZiAoaGFzQm9keSkgZGF0YSA9IGExO1xuICAgICAgICAgICAgICAgIGVsc2UgcGFyYW1zID0gYTE7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgIGNhc2UgMDogYnJlYWs7XG4gICAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgdGhyb3cgJHJlc291cmNlTWluRXJyKCdiYWRhcmdzJyxcbiAgICAgICAgICAgICAgICAgICdFeHBlY3RlZCB1cCB0byA0IGFyZ3VtZW50cyBbcGFyYW1zLCBkYXRhLCBzdWNjZXNzLCBlcnJvcl0sIGdvdCB7MH0gYXJndW1lbnRzJyxcbiAgICAgICAgICAgICAgICAgIGFyZ3VtZW50cy5sZW5ndGgpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB2YXIgaXNJbnN0YW5jZUNhbGwgPSB0aGlzIGluc3RhbmNlb2YgUmVzb3VyY2U7XG4gICAgICAgICAgICB2YXIgdmFsdWUgPSBpc0luc3RhbmNlQ2FsbCA/IGRhdGEgOiAoYWN0aW9uLmlzQXJyYXkgPyBbXSA6IG5ldyBSZXNvdXJjZShkYXRhKSk7XG4gICAgICAgICAgICB2YXIgaHR0cENvbmZpZyA9IHt9O1xuICAgICAgICAgICAgdmFyIHJlc3BvbnNlSW50ZXJjZXB0b3IgPSBhY3Rpb24uaW50ZXJjZXB0b3IgJiYgYWN0aW9uLmludGVyY2VwdG9yLnJlc3BvbnNlIHx8XG4gICAgICAgICAgICAgIGRlZmF1bHRSZXNwb25zZUludGVyY2VwdG9yO1xuICAgICAgICAgICAgdmFyIHJlc3BvbnNlRXJyb3JJbnRlcmNlcHRvciA9IGFjdGlvbi5pbnRlcmNlcHRvciAmJiBhY3Rpb24uaW50ZXJjZXB0b3IucmVzcG9uc2VFcnJvciB8fFxuICAgICAgICAgICAgICB1bmRlZmluZWQ7XG4gICAgICAgICAgICB2YXIgaGFzRXJyb3IgPSAhIWVycm9yO1xuICAgICAgICAgICAgdmFyIGhhc1Jlc3BvbnNlRXJyb3JJbnRlcmNlcHRvciA9ICEhcmVzcG9uc2VFcnJvckludGVyY2VwdG9yO1xuICAgICAgICAgICAgdmFyIHRpbWVvdXREZWZlcnJlZDtcbiAgICAgICAgICAgIHZhciBudW1lcmljVGltZW91dFByb21pc2U7XG5cbiAgICAgICAgICAgIGZvckVhY2goYWN0aW9uLCBmdW5jdGlvbih2YWx1ZSwga2V5KSB7XG4gICAgICAgICAgICAgIHN3aXRjaCAoa2V5KSB7XG4gICAgICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICAgIGh0dHBDb25maWdba2V5XSA9IGNvcHkodmFsdWUpO1xuICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSAncGFyYW1zJzpcbiAgICAgICAgICAgICAgICBjYXNlICdpc0FycmF5JzpcbiAgICAgICAgICAgICAgICBjYXNlICdpbnRlcmNlcHRvcic6XG4gICAgICAgICAgICAgICAgY2FzZSAnY2FuY2VsbGFibGUnOlxuICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICBpZiAoIWlzSW5zdGFuY2VDYWxsICYmIGNhbmNlbGxhYmxlKSB7XG4gICAgICAgICAgICAgIHRpbWVvdXREZWZlcnJlZCA9ICRxLmRlZmVyKCk7XG4gICAgICAgICAgICAgIGh0dHBDb25maWcudGltZW91dCA9IHRpbWVvdXREZWZlcnJlZC5wcm9taXNlO1xuXG4gICAgICAgICAgICAgIGlmIChudW1lcmljVGltZW91dCkge1xuICAgICAgICAgICAgICAgIG51bWVyaWNUaW1lb3V0UHJvbWlzZSA9ICR0aW1lb3V0KHRpbWVvdXREZWZlcnJlZC5yZXNvbHZlLCBudW1lcmljVGltZW91dCk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKGhhc0JvZHkpIGh0dHBDb25maWcuZGF0YSA9IGRhdGE7XG4gICAgICAgICAgICByb3V0ZS5zZXRVcmxQYXJhbXMoaHR0cENvbmZpZyxcbiAgICAgICAgICAgICAgZXh0ZW5kKHt9LCBleHRyYWN0UGFyYW1zKGRhdGEsIGFjdGlvbi5wYXJhbXMgfHwge30pLCBwYXJhbXMpLFxuICAgICAgICAgICAgICBhY3Rpb24udXJsKTtcblxuICAgICAgICAgICAgdmFyIHByb21pc2UgPSAkaHR0cChodHRwQ29uZmlnKS50aGVuKGZ1bmN0aW9uKHJlc3BvbnNlKSB7XG4gICAgICAgICAgICAgIHZhciBkYXRhID0gcmVzcG9uc2UuZGF0YTtcblxuICAgICAgICAgICAgICBpZiAoZGF0YSkge1xuICAgICAgICAgICAgICAgIC8vIE5lZWQgdG8gY29udmVydCBhY3Rpb24uaXNBcnJheSB0byBib29sZWFuIGluIGNhc2UgaXQgaXMgdW5kZWZpbmVkXG4gICAgICAgICAgICAgICAgaWYgKGlzQXJyYXkoZGF0YSkgIT09ICghIWFjdGlvbi5pc0FycmF5KSkge1xuICAgICAgICAgICAgICAgICAgdGhyb3cgJHJlc291cmNlTWluRXJyKCdiYWRjZmcnLFxuICAgICAgICAgICAgICAgICAgICAgICdFcnJvciBpbiByZXNvdXJjZSBjb25maWd1cmF0aW9uIGZvciBhY3Rpb24gYHswfWAuIEV4cGVjdGVkIHJlc3BvbnNlIHRvICcgK1xuICAgICAgICAgICAgICAgICAgICAgICdjb250YWluIGFuIHsxfSBidXQgZ290IGFuIHsyfSAoUmVxdWVzdDogezN9IHs0fSknLCBuYW1lLCBhY3Rpb24uaXNBcnJheSA/ICdhcnJheScgOiAnb2JqZWN0JyxcbiAgICAgICAgICAgICAgICAgICAgaXNBcnJheShkYXRhKSA/ICdhcnJheScgOiAnb2JqZWN0JywgaHR0cENvbmZpZy5tZXRob2QsIGh0dHBDb25maWcudXJsKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKGFjdGlvbi5pc0FycmF5KSB7XG4gICAgICAgICAgICAgICAgICB2YWx1ZS5sZW5ndGggPSAwO1xuICAgICAgICAgICAgICAgICAgZm9yRWFjaChkYXRhLCBmdW5jdGlvbihpdGVtKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgaXRlbSA9PT0gJ29iamVjdCcpIHtcbiAgICAgICAgICAgICAgICAgICAgICB2YWx1ZS5wdXNoKG5ldyBSZXNvdXJjZShpdGVtKSk7XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgLy8gVmFsaWQgSlNPTiB2YWx1ZXMgbWF5IGJlIHN0cmluZyBsaXRlcmFscywgYW5kIHRoZXNlIHNob3VsZCBub3QgYmUgY29udmVydGVkXG4gICAgICAgICAgICAgICAgICAgICAgLy8gaW50byBvYmplY3RzLiBUaGVzZSBpdGVtcyB3aWxsIG5vdCBoYXZlIGFjY2VzcyB0byB0aGUgUmVzb3VyY2UgcHJvdG90eXBlXG4gICAgICAgICAgICAgICAgICAgICAgLy8gbWV0aG9kcywgYnV0IHVuZm9ydHVuYXRlbHkgdGhlcmVcbiAgICAgICAgICAgICAgICAgICAgICB2YWx1ZS5wdXNoKGl0ZW0pO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgdmFyIHByb21pc2UgPSB2YWx1ZS4kcHJvbWlzZTsgICAgIC8vIFNhdmUgdGhlIHByb21pc2VcbiAgICAgICAgICAgICAgICAgIHNoYWxsb3dDbGVhckFuZENvcHkoZGF0YSwgdmFsdWUpO1xuICAgICAgICAgICAgICAgICAgdmFsdWUuJHByb21pc2UgPSBwcm9taXNlOyAgICAgICAgIC8vIFJlc3RvcmUgdGhlIHByb21pc2VcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgcmVzcG9uc2UucmVzb3VyY2UgPSB2YWx1ZTtcblxuICAgICAgICAgICAgICByZXR1cm4gcmVzcG9uc2U7XG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgcHJvbWlzZSA9IHByb21pc2VbJ2ZpbmFsbHknXShmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgdmFsdWUuJHJlc29sdmVkID0gdHJ1ZTtcbiAgICAgICAgICAgICAgaWYgKCFpc0luc3RhbmNlQ2FsbCAmJiBjYW5jZWxsYWJsZSkge1xuICAgICAgICAgICAgICAgIHZhbHVlLiRjYW5jZWxSZXF1ZXN0ID0gbm9vcDtcbiAgICAgICAgICAgICAgICAkdGltZW91dC5jYW5jZWwobnVtZXJpY1RpbWVvdXRQcm9taXNlKTtcbiAgICAgICAgICAgICAgICB0aW1lb3V0RGVmZXJyZWQgPSBudW1lcmljVGltZW91dFByb21pc2UgPSBodHRwQ29uZmlnLnRpbWVvdXQgPSBudWxsO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgcHJvbWlzZSA9IHByb21pc2UudGhlbihcbiAgICAgICAgICAgICAgZnVuY3Rpb24ocmVzcG9uc2UpIHtcbiAgICAgICAgICAgICAgICB2YXIgdmFsdWUgPSByZXNwb25zZUludGVyY2VwdG9yKHJlc3BvbnNlKTtcbiAgICAgICAgICAgICAgICAoc3VjY2VzcyB8fCBub29wKSh2YWx1ZSwgcmVzcG9uc2UuaGVhZGVycywgcmVzcG9uc2Uuc3RhdHVzLCByZXNwb25zZS5zdGF0dXNUZXh0KTtcbiAgICAgICAgICAgICAgICByZXR1cm4gdmFsdWU7XG4gICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgIChoYXNFcnJvciB8fCBoYXNSZXNwb25zZUVycm9ySW50ZXJjZXB0b3IpID9cbiAgICAgICAgICAgICAgICBmdW5jdGlvbihyZXNwb25zZSkge1xuICAgICAgICAgICAgICAgICAgaWYgKGhhc0Vycm9yICYmICFoYXNSZXNwb25zZUVycm9ySW50ZXJjZXB0b3IpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gQXZvaWQgYFBvc3NpYmx5IFVuaGFuZGxlZCBSZWplY3Rpb25gIGVycm9yLFxuICAgICAgICAgICAgICAgICAgICAvLyBidXQgc3RpbGwgZnVsZmlsbCB0aGUgcmV0dXJuZWQgcHJvbWlzZSB3aXRoIGEgcmVqZWN0aW9uXG4gICAgICAgICAgICAgICAgICAgIHByb21pc2UuY2F0Y2gobm9vcCk7XG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICBpZiAoaGFzRXJyb3IpIGVycm9yKHJlc3BvbnNlKTtcbiAgICAgICAgICAgICAgICAgIHJldHVybiBoYXNSZXNwb25zZUVycm9ySW50ZXJjZXB0b3IgP1xuICAgICAgICAgICAgICAgICAgICByZXNwb25zZUVycm9ySW50ZXJjZXB0b3IocmVzcG9uc2UpIDpcbiAgICAgICAgICAgICAgICAgICAgJHEucmVqZWN0KHJlc3BvbnNlKTtcbiAgICAgICAgICAgICAgICB9IDpcbiAgICAgICAgICAgICAgICB1bmRlZmluZWQpO1xuXG4gICAgICAgICAgICBpZiAoIWlzSW5zdGFuY2VDYWxsKSB7XG4gICAgICAgICAgICAgIC8vIHdlIGFyZSBjcmVhdGluZyBpbnN0YW5jZSAvIGNvbGxlY3Rpb25cbiAgICAgICAgICAgICAgLy8gLSBzZXQgdGhlIGluaXRpYWwgcHJvbWlzZVxuICAgICAgICAgICAgICAvLyAtIHJldHVybiB0aGUgaW5zdGFuY2UgLyBjb2xsZWN0aW9uXG4gICAgICAgICAgICAgIHZhbHVlLiRwcm9taXNlID0gcHJvbWlzZTtcbiAgICAgICAgICAgICAgdmFsdWUuJHJlc29sdmVkID0gZmFsc2U7XG4gICAgICAgICAgICAgIGlmIChjYW5jZWxsYWJsZSkgdmFsdWUuJGNhbmNlbFJlcXVlc3QgPSBjYW5jZWxSZXF1ZXN0O1xuXG4gICAgICAgICAgICAgIHJldHVybiB2YWx1ZTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gaW5zdGFuY2UgY2FsbFxuICAgICAgICAgICAgcmV0dXJuIHByb21pc2U7XG5cbiAgICAgICAgICAgIGZ1bmN0aW9uIGNhbmNlbFJlcXVlc3QodmFsdWUpIHtcbiAgICAgICAgICAgICAgcHJvbWlzZS5jYXRjaChub29wKTtcbiAgICAgICAgICAgICAgdGltZW91dERlZmVycmVkLnJlc29sdmUodmFsdWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH07XG5cblxuICAgICAgICAgIFJlc291cmNlLnByb3RvdHlwZVsnJCcgKyBuYW1lXSA9IGZ1bmN0aW9uKHBhcmFtcywgc3VjY2VzcywgZXJyb3IpIHtcbiAgICAgICAgICAgIGlmIChpc0Z1bmN0aW9uKHBhcmFtcykpIHtcbiAgICAgICAgICAgICAgZXJyb3IgPSBzdWNjZXNzOyBzdWNjZXNzID0gcGFyYW1zOyBwYXJhbXMgPSB7fTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHZhciByZXN1bHQgPSBSZXNvdXJjZVtuYW1lXS5jYWxsKHRoaXMsIHBhcmFtcywgdGhpcywgc3VjY2VzcywgZXJyb3IpO1xuICAgICAgICAgICAgcmV0dXJuIHJlc3VsdC4kcHJvbWlzZSB8fCByZXN1bHQ7XG4gICAgICAgICAgfTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgUmVzb3VyY2UuYmluZCA9IGZ1bmN0aW9uKGFkZGl0aW9uYWxQYXJhbURlZmF1bHRzKSB7XG4gICAgICAgICAgdmFyIGV4dGVuZGVkUGFyYW1EZWZhdWx0cyA9IGV4dGVuZCh7fSwgcGFyYW1EZWZhdWx0cywgYWRkaXRpb25hbFBhcmFtRGVmYXVsdHMpO1xuICAgICAgICAgIHJldHVybiByZXNvdXJjZUZhY3RvcnkodXJsLCBleHRlbmRlZFBhcmFtRGVmYXVsdHMsIGFjdGlvbnMsIG9wdGlvbnMpO1xuICAgICAgICB9O1xuXG4gICAgICAgIHJldHVybiBSZXNvdXJjZTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHJlc291cmNlRmFjdG9yeTtcbiAgICB9XTtcbiAgfSk7XG5cblxufSkod2luZG93LCB3aW5kb3cuYW5ndWxhcik7XG5cbi8qIVxuICogQm9vdHN0cmFwIHYzLjMuNyAoaHR0cDovL2dldGJvb3RzdHJhcC5jb20pXG4gKiBDb3B5cmlnaHQgMjAxMS0yMDE2IFR3aXR0ZXIsIEluYy5cbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgbGljZW5zZVxuICovXG5cbmlmICh0eXBlb2YgalF1ZXJ5ID09PSAndW5kZWZpbmVkJykge1xuICB0aHJvdyBuZXcgRXJyb3IoJ0Jvb3RzdHJhcFxcJ3MgSmF2YVNjcmlwdCByZXF1aXJlcyBqUXVlcnknKVxufVxuXG4rZnVuY3Rpb24gKCQpIHtcbiAgJ3VzZSBzdHJpY3QnO1xuICB2YXIgdmVyc2lvbiA9ICQuZm4uanF1ZXJ5LnNwbGl0KCcgJylbMF0uc3BsaXQoJy4nKVxuICBpZiAoKHZlcnNpb25bMF0gPCAyICYmIHZlcnNpb25bMV0gPCA5KSB8fCAodmVyc2lvblswXSA9PSAxICYmIHZlcnNpb25bMV0gPT0gOSAmJiB2ZXJzaW9uWzJdIDwgMSkgfHwgKHZlcnNpb25bMF0gPiAzKSkge1xuICAgIHRocm93IG5ldyBFcnJvcignQm9vdHN0cmFwXFwncyBKYXZhU2NyaXB0IHJlcXVpcmVzIGpRdWVyeSB2ZXJzaW9uIDEuOS4xIG9yIGhpZ2hlciwgYnV0IGxvd2VyIHRoYW4gdmVyc2lvbiA0JylcbiAgfVxufShqUXVlcnkpO1xuXG4vKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAqIEJvb3RzdHJhcDogdHJhbnNpdGlvbi5qcyB2My4zLjdcbiAqIGh0dHA6Ly9nZXRib290c3RyYXAuY29tL2phdmFzY3JpcHQvI3RyYW5zaXRpb25zXG4gKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAqIENvcHlyaWdodCAyMDExLTIwMTYgVHdpdHRlciwgSW5jLlxuICogTGljZW5zZWQgdW5kZXIgTUlUIChodHRwczovL2dpdGh1Yi5jb20vdHdicy9ib290c3RyYXAvYmxvYi9tYXN0ZXIvTElDRU5TRSlcbiAqID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PSAqL1xuXG5cbitmdW5jdGlvbiAoJCkge1xuICAndXNlIHN0cmljdCc7XG5cbiAgLy8gQ1NTIFRSQU5TSVRJT04gU1VQUE9SVCAoU2hvdXRvdXQ6IGh0dHA6Ly93d3cubW9kZXJuaXpyLmNvbS8pXG4gIC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuXG4gIGZ1bmN0aW9uIHRyYW5zaXRpb25FbmQoKSB7XG4gICAgdmFyIGVsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYm9vdHN0cmFwJylcblxuICAgIHZhciB0cmFuc0VuZEV2ZW50TmFtZXMgPSB7XG4gICAgICBXZWJraXRUcmFuc2l0aW9uIDogJ3dlYmtpdFRyYW5zaXRpb25FbmQnLFxuICAgICAgTW96VHJhbnNpdGlvbiAgICA6ICd0cmFuc2l0aW9uZW5kJyxcbiAgICAgIE9UcmFuc2l0aW9uICAgICAgOiAnb1RyYW5zaXRpb25FbmQgb3RyYW5zaXRpb25lbmQnLFxuICAgICAgdHJhbnNpdGlvbiAgICAgICA6ICd0cmFuc2l0aW9uZW5kJ1xuICAgIH1cblxuICAgIGZvciAodmFyIG5hbWUgaW4gdHJhbnNFbmRFdmVudE5hbWVzKSB7XG4gICAgICBpZiAoZWwuc3R5bGVbbmFtZV0gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICByZXR1cm4geyBlbmQ6IHRyYW5zRW5kRXZlbnROYW1lc1tuYW1lXSB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIGZhbHNlIC8vIGV4cGxpY2l0IGZvciBpZTggKCAgLl8uKVxuICB9XG5cbiAgLy8gaHR0cDovL2Jsb2cuYWxleG1hY2Nhdy5jb20vY3NzLXRyYW5zaXRpb25zXG4gICQuZm4uZW11bGF0ZVRyYW5zaXRpb25FbmQgPSBmdW5jdGlvbiAoZHVyYXRpb24pIHtcbiAgICB2YXIgY2FsbGVkID0gZmFsc2VcbiAgICB2YXIgJGVsID0gdGhpc1xuICAgICQodGhpcykub25lKCdic1RyYW5zaXRpb25FbmQnLCBmdW5jdGlvbiAoKSB7IGNhbGxlZCA9IHRydWUgfSlcbiAgICB2YXIgY2FsbGJhY2sgPSBmdW5jdGlvbiAoKSB7IGlmICghY2FsbGVkKSAkKCRlbCkudHJpZ2dlcigkLnN1cHBvcnQudHJhbnNpdGlvbi5lbmQpIH1cbiAgICBzZXRUaW1lb3V0KGNhbGxiYWNrLCBkdXJhdGlvbilcbiAgICByZXR1cm4gdGhpc1xuICB9XG5cbiAgJChmdW5jdGlvbiAoKSB7XG4gICAgJC5zdXBwb3J0LnRyYW5zaXRpb24gPSB0cmFuc2l0aW9uRW5kKClcblxuICAgIGlmICghJC5zdXBwb3J0LnRyYW5zaXRpb24pIHJldHVyblxuXG4gICAgJC5ldmVudC5zcGVjaWFsLmJzVHJhbnNpdGlvbkVuZCA9IHtcbiAgICAgIGJpbmRUeXBlOiAkLnN1cHBvcnQudHJhbnNpdGlvbi5lbmQsXG4gICAgICBkZWxlZ2F0ZVR5cGU6ICQuc3VwcG9ydC50cmFuc2l0aW9uLmVuZCxcbiAgICAgIGhhbmRsZTogZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgaWYgKCQoZS50YXJnZXQpLmlzKHRoaXMpKSByZXR1cm4gZS5oYW5kbGVPYmouaGFuZGxlci5hcHBseSh0aGlzLCBhcmd1bWVudHMpXG4gICAgICB9XG4gICAgfVxuICB9KVxuXG59KGpRdWVyeSk7XG5cbi8qID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICogQm9vdHN0cmFwOiBhbGVydC5qcyB2My4zLjdcbiAqIGh0dHA6Ly9nZXRib290c3RyYXAuY29tL2phdmFzY3JpcHQvI2FsZXJ0c1xuICogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gKiBDb3B5cmlnaHQgMjAxMS0yMDE2IFR3aXR0ZXIsIEluYy5cbiAqIExpY2Vuc2VkIHVuZGVyIE1JVCAoaHR0cHM6Ly9naXRodWIuY29tL3R3YnMvYm9vdHN0cmFwL2Jsb2IvbWFzdGVyL0xJQ0VOU0UpXG4gKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0gKi9cblxuXG4rZnVuY3Rpb24gKCQpIHtcbiAgJ3VzZSBzdHJpY3QnO1xuXG4gIC8vIEFMRVJUIENMQVNTIERFRklOSVRJT05cbiAgLy8gPT09PT09PT09PT09PT09PT09PT09PVxuXG4gIHZhciBkaXNtaXNzID0gJ1tkYXRhLWRpc21pc3M9XCJhbGVydFwiXSdcbiAgdmFyIEFsZXJ0ICAgPSBmdW5jdGlvbiAoZWwpIHtcbiAgICAkKGVsKS5vbignY2xpY2snLCBkaXNtaXNzLCB0aGlzLmNsb3NlKVxuICB9XG5cbiAgQWxlcnQuVkVSU0lPTiA9ICczLjMuNydcblxuICBBbGVydC5UUkFOU0lUSU9OX0RVUkFUSU9OID0gMTUwXG5cbiAgQWxlcnQucHJvdG90eXBlLmNsb3NlID0gZnVuY3Rpb24gKGUpIHtcbiAgICB2YXIgJHRoaXMgICAgPSAkKHRoaXMpXG4gICAgdmFyIHNlbGVjdG9yID0gJHRoaXMuYXR0cignZGF0YS10YXJnZXQnKVxuXG4gICAgaWYgKCFzZWxlY3Rvcikge1xuICAgICAgc2VsZWN0b3IgPSAkdGhpcy5hdHRyKCdocmVmJylcbiAgICAgIHNlbGVjdG9yID0gc2VsZWN0b3IgJiYgc2VsZWN0b3IucmVwbGFjZSgvLiooPz0jW15cXHNdKiQpLywgJycpIC8vIHN0cmlwIGZvciBpZTdcbiAgICB9XG5cbiAgICB2YXIgJHBhcmVudCA9ICQoc2VsZWN0b3IgPT09ICcjJyA/IFtdIDogc2VsZWN0b3IpXG5cbiAgICBpZiAoZSkgZS5wcmV2ZW50RGVmYXVsdCgpXG5cbiAgICBpZiAoISRwYXJlbnQubGVuZ3RoKSB7XG4gICAgICAkcGFyZW50ID0gJHRoaXMuY2xvc2VzdCgnLmFsZXJ0JylcbiAgICB9XG5cbiAgICAkcGFyZW50LnRyaWdnZXIoZSA9ICQuRXZlbnQoJ2Nsb3NlLmJzLmFsZXJ0JykpXG5cbiAgICBpZiAoZS5pc0RlZmF1bHRQcmV2ZW50ZWQoKSkgcmV0dXJuXG5cbiAgICAkcGFyZW50LnJlbW92ZUNsYXNzKCdpbicpXG5cbiAgICBmdW5jdGlvbiByZW1vdmVFbGVtZW50KCkge1xuICAgICAgLy8gZGV0YWNoIGZyb20gcGFyZW50LCBmaXJlIGV2ZW50IHRoZW4gY2xlYW4gdXAgZGF0YVxuICAgICAgJHBhcmVudC5kZXRhY2goKS50cmlnZ2VyKCdjbG9zZWQuYnMuYWxlcnQnKS5yZW1vdmUoKVxuICAgIH1cblxuICAgICQuc3VwcG9ydC50cmFuc2l0aW9uICYmICRwYXJlbnQuaGFzQ2xhc3MoJ2ZhZGUnKSA/XG4gICAgICAkcGFyZW50XG4gICAgICAgIC5vbmUoJ2JzVHJhbnNpdGlvbkVuZCcsIHJlbW92ZUVsZW1lbnQpXG4gICAgICAgIC5lbXVsYXRlVHJhbnNpdGlvbkVuZChBbGVydC5UUkFOU0lUSU9OX0RVUkFUSU9OKSA6XG4gICAgICByZW1vdmVFbGVtZW50KClcbiAgfVxuXG5cbiAgLy8gQUxFUlQgUExVR0lOIERFRklOSVRJT05cbiAgLy8gPT09PT09PT09PT09PT09PT09PT09PT1cblxuICBmdW5jdGlvbiBQbHVnaW4ob3B0aW9uKSB7XG4gICAgcmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbiAoKSB7XG4gICAgICB2YXIgJHRoaXMgPSAkKHRoaXMpXG4gICAgICB2YXIgZGF0YSAgPSAkdGhpcy5kYXRhKCdicy5hbGVydCcpXG5cbiAgICAgIGlmICghZGF0YSkgJHRoaXMuZGF0YSgnYnMuYWxlcnQnLCAoZGF0YSA9IG5ldyBBbGVydCh0aGlzKSkpXG4gICAgICBpZiAodHlwZW9mIG9wdGlvbiA9PSAnc3RyaW5nJykgZGF0YVtvcHRpb25dLmNhbGwoJHRoaXMpXG4gICAgfSlcbiAgfVxuXG4gIHZhciBvbGQgPSAkLmZuLmFsZXJ0XG5cbiAgJC5mbi5hbGVydCAgICAgICAgICAgICA9IFBsdWdpblxuICAkLmZuLmFsZXJ0LkNvbnN0cnVjdG9yID0gQWxlcnRcblxuXG4gIC8vIEFMRVJUIE5PIENPTkZMSUNUXG4gIC8vID09PT09PT09PT09PT09PT09XG5cbiAgJC5mbi5hbGVydC5ub0NvbmZsaWN0ID0gZnVuY3Rpb24gKCkge1xuICAgICQuZm4uYWxlcnQgPSBvbGRcbiAgICByZXR1cm4gdGhpc1xuICB9XG5cblxuICAvLyBBTEVSVCBEQVRBLUFQSVxuICAvLyA9PT09PT09PT09PT09PVxuXG4gICQoZG9jdW1lbnQpLm9uKCdjbGljay5icy5hbGVydC5kYXRhLWFwaScsIGRpc21pc3MsIEFsZXJ0LnByb3RvdHlwZS5jbG9zZSlcblxufShqUXVlcnkpO1xuXG4vKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAqIEJvb3RzdHJhcDogYnV0dG9uLmpzIHYzLjMuN1xuICogaHR0cDovL2dldGJvb3RzdHJhcC5jb20vamF2YXNjcmlwdC8jYnV0dG9uc1xuICogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gKiBDb3B5cmlnaHQgMjAxMS0yMDE2IFR3aXR0ZXIsIEluYy5cbiAqIExpY2Vuc2VkIHVuZGVyIE1JVCAoaHR0cHM6Ly9naXRodWIuY29tL3R3YnMvYm9vdHN0cmFwL2Jsb2IvbWFzdGVyL0xJQ0VOU0UpXG4gKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0gKi9cblxuXG4rZnVuY3Rpb24gKCQpIHtcbiAgJ3VzZSBzdHJpY3QnO1xuXG4gIC8vIEJVVFRPTiBQVUJMSUMgQ0xBU1MgREVGSU5JVElPTlxuICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cblxuICB2YXIgQnV0dG9uID0gZnVuY3Rpb24gKGVsZW1lbnQsIG9wdGlvbnMpIHtcbiAgICB0aGlzLiRlbGVtZW50ICA9ICQoZWxlbWVudClcbiAgICB0aGlzLm9wdGlvbnMgICA9ICQuZXh0ZW5kKHt9LCBCdXR0b24uREVGQVVMVFMsIG9wdGlvbnMpXG4gICAgdGhpcy5pc0xvYWRpbmcgPSBmYWxzZVxuICB9XG5cbiAgQnV0dG9uLlZFUlNJT04gID0gJzMuMy43J1xuXG4gIEJ1dHRvbi5ERUZBVUxUUyA9IHtcbiAgICBsb2FkaW5nVGV4dDogJ2xvYWRpbmcuLi4nXG4gIH1cblxuICBCdXR0b24ucHJvdG90eXBlLnNldFN0YXRlID0gZnVuY3Rpb24gKHN0YXRlKSB7XG4gICAgdmFyIGQgICAgPSAnZGlzYWJsZWQnXG4gICAgdmFyICRlbCAgPSB0aGlzLiRlbGVtZW50XG4gICAgdmFyIHZhbCAgPSAkZWwuaXMoJ2lucHV0JykgPyAndmFsJyA6ICdodG1sJ1xuICAgIHZhciBkYXRhID0gJGVsLmRhdGEoKVxuXG4gICAgc3RhdGUgKz0gJ1RleHQnXG5cbiAgICBpZiAoZGF0YS5yZXNldFRleHQgPT0gbnVsbCkgJGVsLmRhdGEoJ3Jlc2V0VGV4dCcsICRlbFt2YWxdKCkpXG5cbiAgICAvLyBwdXNoIHRvIGV2ZW50IGxvb3AgdG8gYWxsb3cgZm9ybXMgdG8gc3VibWl0XG4gICAgc2V0VGltZW91dCgkLnByb3h5KGZ1bmN0aW9uICgpIHtcbiAgICAgICRlbFt2YWxdKGRhdGFbc3RhdGVdID09IG51bGwgPyB0aGlzLm9wdGlvbnNbc3RhdGVdIDogZGF0YVtzdGF0ZV0pXG5cbiAgICAgIGlmIChzdGF0ZSA9PSAnbG9hZGluZ1RleHQnKSB7XG4gICAgICAgIHRoaXMuaXNMb2FkaW5nID0gdHJ1ZVxuICAgICAgICAkZWwuYWRkQ2xhc3MoZCkuYXR0cihkLCBkKS5wcm9wKGQsIHRydWUpXG4gICAgICB9IGVsc2UgaWYgKHRoaXMuaXNMb2FkaW5nKSB7XG4gICAgICAgIHRoaXMuaXNMb2FkaW5nID0gZmFsc2VcbiAgICAgICAgJGVsLnJlbW92ZUNsYXNzKGQpLnJlbW92ZUF0dHIoZCkucHJvcChkLCBmYWxzZSlcbiAgICAgIH1cbiAgICB9LCB0aGlzKSwgMClcbiAgfVxuXG4gIEJ1dHRvbi5wcm90b3R5cGUudG9nZ2xlID0gZnVuY3Rpb24gKCkge1xuICAgIHZhciBjaGFuZ2VkID0gdHJ1ZVxuICAgIHZhciAkcGFyZW50ID0gdGhpcy4kZWxlbWVudC5jbG9zZXN0KCdbZGF0YS10b2dnbGU9XCJidXR0b25zXCJdJylcblxuICAgIGlmICgkcGFyZW50Lmxlbmd0aCkge1xuICAgICAgdmFyICRpbnB1dCA9IHRoaXMuJGVsZW1lbnQuZmluZCgnaW5wdXQnKVxuICAgICAgaWYgKCRpbnB1dC5wcm9wKCd0eXBlJykgPT0gJ3JhZGlvJykge1xuICAgICAgICBpZiAoJGlucHV0LnByb3AoJ2NoZWNrZWQnKSkgY2hhbmdlZCA9IGZhbHNlXG4gICAgICAgICRwYXJlbnQuZmluZCgnLmFjdGl2ZScpLnJlbW92ZUNsYXNzKCdhY3RpdmUnKVxuICAgICAgICB0aGlzLiRlbGVtZW50LmFkZENsYXNzKCdhY3RpdmUnKVxuICAgICAgfSBlbHNlIGlmICgkaW5wdXQucHJvcCgndHlwZScpID09ICdjaGVja2JveCcpIHtcbiAgICAgICAgaWYgKCgkaW5wdXQucHJvcCgnY2hlY2tlZCcpKSAhPT0gdGhpcy4kZWxlbWVudC5oYXNDbGFzcygnYWN0aXZlJykpIGNoYW5nZWQgPSBmYWxzZVxuICAgICAgICB0aGlzLiRlbGVtZW50LnRvZ2dsZUNsYXNzKCdhY3RpdmUnKVxuICAgICAgfVxuICAgICAgJGlucHV0LnByb3AoJ2NoZWNrZWQnLCB0aGlzLiRlbGVtZW50Lmhhc0NsYXNzKCdhY3RpdmUnKSlcbiAgICAgIGlmIChjaGFuZ2VkKSAkaW5wdXQudHJpZ2dlcignY2hhbmdlJylcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy4kZWxlbWVudC5hdHRyKCdhcmlhLXByZXNzZWQnLCAhdGhpcy4kZWxlbWVudC5oYXNDbGFzcygnYWN0aXZlJykpXG4gICAgICB0aGlzLiRlbGVtZW50LnRvZ2dsZUNsYXNzKCdhY3RpdmUnKVxuICAgIH1cbiAgfVxuXG5cbiAgLy8gQlVUVE9OIFBMVUdJTiBERUZJTklUSU9OXG4gIC8vID09PT09PT09PT09PT09PT09PT09PT09PVxuXG4gIGZ1bmN0aW9uIFBsdWdpbihvcHRpb24pIHtcbiAgICByZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uICgpIHtcbiAgICAgIHZhciAkdGhpcyAgID0gJCh0aGlzKVxuICAgICAgdmFyIGRhdGEgICAgPSAkdGhpcy5kYXRhKCdicy5idXR0b24nKVxuICAgICAgdmFyIG9wdGlvbnMgPSB0eXBlb2Ygb3B0aW9uID09ICdvYmplY3QnICYmIG9wdGlvblxuXG4gICAgICBpZiAoIWRhdGEpICR0aGlzLmRhdGEoJ2JzLmJ1dHRvbicsIChkYXRhID0gbmV3IEJ1dHRvbih0aGlzLCBvcHRpb25zKSkpXG5cbiAgICAgIGlmIChvcHRpb24gPT0gJ3RvZ2dsZScpIGRhdGEudG9nZ2xlKClcbiAgICAgIGVsc2UgaWYgKG9wdGlvbikgZGF0YS5zZXRTdGF0ZShvcHRpb24pXG4gICAgfSlcbiAgfVxuXG4gIHZhciBvbGQgPSAkLmZuLmJ1dHRvblxuXG4gICQuZm4uYnV0dG9uICAgICAgICAgICAgID0gUGx1Z2luXG4gICQuZm4uYnV0dG9uLkNvbnN0cnVjdG9yID0gQnV0dG9uXG5cblxuICAvLyBCVVRUT04gTk8gQ09ORkxJQ1RcbiAgLy8gPT09PT09PT09PT09PT09PT09XG5cbiAgJC5mbi5idXR0b24ubm9Db25mbGljdCA9IGZ1bmN0aW9uICgpIHtcbiAgICAkLmZuLmJ1dHRvbiA9IG9sZFxuICAgIHJldHVybiB0aGlzXG4gIH1cblxuXG4gIC8vIEJVVFRPTiBEQVRBLUFQSVxuICAvLyA9PT09PT09PT09PT09PT1cblxuICAkKGRvY3VtZW50KVxuICAgIC5vbignY2xpY2suYnMuYnV0dG9uLmRhdGEtYXBpJywgJ1tkYXRhLXRvZ2dsZV49XCJidXR0b25cIl0nLCBmdW5jdGlvbiAoZSkge1xuICAgICAgdmFyICRidG4gPSAkKGUudGFyZ2V0KS5jbG9zZXN0KCcuYnRuJylcbiAgICAgIFBsdWdpbi5jYWxsKCRidG4sICd0b2dnbGUnKVxuICAgICAgaWYgKCEoJChlLnRhcmdldCkuaXMoJ2lucHV0W3R5cGU9XCJyYWRpb1wiXSwgaW5wdXRbdHlwZT1cImNoZWNrYm94XCJdJykpKSB7XG4gICAgICAgIC8vIFByZXZlbnQgZG91YmxlIGNsaWNrIG9uIHJhZGlvcywgYW5kIHRoZSBkb3VibGUgc2VsZWN0aW9ucyAoc28gY2FuY2VsbGF0aW9uKSBvbiBjaGVja2JveGVzXG4gICAgICAgIGUucHJldmVudERlZmF1bHQoKVxuICAgICAgICAvLyBUaGUgdGFyZ2V0IGNvbXBvbmVudCBzdGlsbCByZWNlaXZlIHRoZSBmb2N1c1xuICAgICAgICBpZiAoJGJ0bi5pcygnaW5wdXQsYnV0dG9uJykpICRidG4udHJpZ2dlcignZm9jdXMnKVxuICAgICAgICBlbHNlICRidG4uZmluZCgnaW5wdXQ6dmlzaWJsZSxidXR0b246dmlzaWJsZScpLmZpcnN0KCkudHJpZ2dlcignZm9jdXMnKVxuICAgICAgfVxuICAgIH0pXG4gICAgLm9uKCdmb2N1cy5icy5idXR0b24uZGF0YS1hcGkgYmx1ci5icy5idXR0b24uZGF0YS1hcGknLCAnW2RhdGEtdG9nZ2xlXj1cImJ1dHRvblwiXScsIGZ1bmN0aW9uIChlKSB7XG4gICAgICAkKGUudGFyZ2V0KS5jbG9zZXN0KCcuYnRuJykudG9nZ2xlQ2xhc3MoJ2ZvY3VzJywgL15mb2N1cyhpbik/JC8udGVzdChlLnR5cGUpKVxuICAgIH0pXG5cbn0oalF1ZXJ5KTtcblxuLyogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gKiBCb290c3RyYXA6IGNhcm91c2VsLmpzIHYzLjMuN1xuICogaHR0cDovL2dldGJvb3RzdHJhcC5jb20vamF2YXNjcmlwdC8jY2Fyb3VzZWxcbiAqID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICogQ29weXJpZ2h0IDIwMTEtMjAxNiBUd2l0dGVyLCBJbmMuXG4gKiBMaWNlbnNlZCB1bmRlciBNSVQgKGh0dHBzOi8vZ2l0aHViLmNvbS90d2JzL2Jvb3RzdHJhcC9ibG9iL21hc3Rlci9MSUNFTlNFKVxuICogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09ICovXG5cblxuK2Z1bmN0aW9uICgkKSB7XG4gICd1c2Ugc3RyaWN0JztcblxuICAvLyBDQVJPVVNFTCBDTEFTUyBERUZJTklUSU9OXG4gIC8vID09PT09PT09PT09PT09PT09PT09PT09PT1cblxuICB2YXIgQ2Fyb3VzZWwgPSBmdW5jdGlvbiAoZWxlbWVudCwgb3B0aW9ucykge1xuICAgIHRoaXMuJGVsZW1lbnQgICAgPSAkKGVsZW1lbnQpXG4gICAgdGhpcy4kaW5kaWNhdG9ycyA9IHRoaXMuJGVsZW1lbnQuZmluZCgnLmNhcm91c2VsLWluZGljYXRvcnMnKVxuICAgIHRoaXMub3B0aW9ucyAgICAgPSBvcHRpb25zXG4gICAgdGhpcy5wYXVzZWQgICAgICA9IG51bGxcbiAgICB0aGlzLnNsaWRpbmcgICAgID0gbnVsbFxuICAgIHRoaXMuaW50ZXJ2YWwgICAgPSBudWxsXG4gICAgdGhpcy4kYWN0aXZlICAgICA9IG51bGxcbiAgICB0aGlzLiRpdGVtcyAgICAgID0gbnVsbFxuXG4gICAgdGhpcy5vcHRpb25zLmtleWJvYXJkICYmIHRoaXMuJGVsZW1lbnQub24oJ2tleWRvd24uYnMuY2Fyb3VzZWwnLCAkLnByb3h5KHRoaXMua2V5ZG93biwgdGhpcykpXG5cbiAgICB0aGlzLm9wdGlvbnMucGF1c2UgPT0gJ2hvdmVyJyAmJiAhKCdvbnRvdWNoc3RhcnQnIGluIGRvY3VtZW50LmRvY3VtZW50RWxlbWVudCkgJiYgdGhpcy4kZWxlbWVudFxuICAgICAgLm9uKCdtb3VzZWVudGVyLmJzLmNhcm91c2VsJywgJC5wcm94eSh0aGlzLnBhdXNlLCB0aGlzKSlcbiAgICAgIC5vbignbW91c2VsZWF2ZS5icy5jYXJvdXNlbCcsICQucHJveHkodGhpcy5jeWNsZSwgdGhpcykpXG4gIH1cblxuICBDYXJvdXNlbC5WRVJTSU9OICA9ICczLjMuNydcblxuICBDYXJvdXNlbC5UUkFOU0lUSU9OX0RVUkFUSU9OID0gNjAwXG5cbiAgQ2Fyb3VzZWwuREVGQVVMVFMgPSB7XG4gICAgaW50ZXJ2YWw6IDUwMDAsXG4gICAgcGF1c2U6ICdob3ZlcicsXG4gICAgd3JhcDogdHJ1ZSxcbiAgICBrZXlib2FyZDogdHJ1ZVxuICB9XG5cbiAgQ2Fyb3VzZWwucHJvdG90eXBlLmtleWRvd24gPSBmdW5jdGlvbiAoZSkge1xuICAgIGlmICgvaW5wdXR8dGV4dGFyZWEvaS50ZXN0KGUudGFyZ2V0LnRhZ05hbWUpKSByZXR1cm5cbiAgICBzd2l0Y2ggKGUud2hpY2gpIHtcbiAgICAgIGNhc2UgMzc6IHRoaXMucHJldigpOyBicmVha1xuICAgICAgY2FzZSAzOTogdGhpcy5uZXh0KCk7IGJyZWFrXG4gICAgICBkZWZhdWx0OiByZXR1cm5cbiAgICB9XG5cbiAgICBlLnByZXZlbnREZWZhdWx0KClcbiAgfVxuXG4gIENhcm91c2VsLnByb3RvdHlwZS5jeWNsZSA9IGZ1bmN0aW9uIChlKSB7XG4gICAgZSB8fCAodGhpcy5wYXVzZWQgPSBmYWxzZSlcblxuICAgIHRoaXMuaW50ZXJ2YWwgJiYgY2xlYXJJbnRlcnZhbCh0aGlzLmludGVydmFsKVxuXG4gICAgdGhpcy5vcHRpb25zLmludGVydmFsXG4gICAgICAmJiAhdGhpcy5wYXVzZWRcbiAgICAgICYmICh0aGlzLmludGVydmFsID0gc2V0SW50ZXJ2YWwoJC5wcm94eSh0aGlzLm5leHQsIHRoaXMpLCB0aGlzLm9wdGlvbnMuaW50ZXJ2YWwpKVxuXG4gICAgcmV0dXJuIHRoaXNcbiAgfVxuXG4gIENhcm91c2VsLnByb3RvdHlwZS5nZXRJdGVtSW5kZXggPSBmdW5jdGlvbiAoaXRlbSkge1xuICAgIHRoaXMuJGl0ZW1zID0gaXRlbS5wYXJlbnQoKS5jaGlsZHJlbignLml0ZW0nKVxuICAgIHJldHVybiB0aGlzLiRpdGVtcy5pbmRleChpdGVtIHx8IHRoaXMuJGFjdGl2ZSlcbiAgfVxuXG4gIENhcm91c2VsLnByb3RvdHlwZS5nZXRJdGVtRm9yRGlyZWN0aW9uID0gZnVuY3Rpb24gKGRpcmVjdGlvbiwgYWN0aXZlKSB7XG4gICAgdmFyIGFjdGl2ZUluZGV4ID0gdGhpcy5nZXRJdGVtSW5kZXgoYWN0aXZlKVxuICAgIHZhciB3aWxsV3JhcCA9IChkaXJlY3Rpb24gPT0gJ3ByZXYnICYmIGFjdGl2ZUluZGV4ID09PSAwKVxuICAgICAgICAgICAgICAgIHx8IChkaXJlY3Rpb24gPT0gJ25leHQnICYmIGFjdGl2ZUluZGV4ID09ICh0aGlzLiRpdGVtcy5sZW5ndGggLSAxKSlcbiAgICBpZiAod2lsbFdyYXAgJiYgIXRoaXMub3B0aW9ucy53cmFwKSByZXR1cm4gYWN0aXZlXG4gICAgdmFyIGRlbHRhID0gZGlyZWN0aW9uID09ICdwcmV2JyA/IC0xIDogMVxuICAgIHZhciBpdGVtSW5kZXggPSAoYWN0aXZlSW5kZXggKyBkZWx0YSkgJSB0aGlzLiRpdGVtcy5sZW5ndGhcbiAgICByZXR1cm4gdGhpcy4kaXRlbXMuZXEoaXRlbUluZGV4KVxuICB9XG5cbiAgQ2Fyb3VzZWwucHJvdG90eXBlLnRvID0gZnVuY3Rpb24gKHBvcykge1xuICAgIHZhciB0aGF0ICAgICAgICA9IHRoaXNcbiAgICB2YXIgYWN0aXZlSW5kZXggPSB0aGlzLmdldEl0ZW1JbmRleCh0aGlzLiRhY3RpdmUgPSB0aGlzLiRlbGVtZW50LmZpbmQoJy5pdGVtLmFjdGl2ZScpKVxuXG4gICAgaWYgKHBvcyA+ICh0aGlzLiRpdGVtcy5sZW5ndGggLSAxKSB8fCBwb3MgPCAwKSByZXR1cm5cblxuICAgIGlmICh0aGlzLnNsaWRpbmcpICAgICAgIHJldHVybiB0aGlzLiRlbGVtZW50Lm9uZSgnc2xpZC5icy5jYXJvdXNlbCcsIGZ1bmN0aW9uICgpIHsgdGhhdC50byhwb3MpIH0pIC8vIHllcywgXCJzbGlkXCJcbiAgICBpZiAoYWN0aXZlSW5kZXggPT0gcG9zKSByZXR1cm4gdGhpcy5wYXVzZSgpLmN5Y2xlKClcblxuICAgIHJldHVybiB0aGlzLnNsaWRlKHBvcyA+IGFjdGl2ZUluZGV4ID8gJ25leHQnIDogJ3ByZXYnLCB0aGlzLiRpdGVtcy5lcShwb3MpKVxuICB9XG5cbiAgQ2Fyb3VzZWwucHJvdG90eXBlLnBhdXNlID0gZnVuY3Rpb24gKGUpIHtcbiAgICBlIHx8ICh0aGlzLnBhdXNlZCA9IHRydWUpXG5cbiAgICBpZiAodGhpcy4kZWxlbWVudC5maW5kKCcubmV4dCwgLnByZXYnKS5sZW5ndGggJiYgJC5zdXBwb3J0LnRyYW5zaXRpb24pIHtcbiAgICAgIHRoaXMuJGVsZW1lbnQudHJpZ2dlcigkLnN1cHBvcnQudHJhbnNpdGlvbi5lbmQpXG4gICAgICB0aGlzLmN5Y2xlKHRydWUpXG4gICAgfVxuXG4gICAgdGhpcy5pbnRlcnZhbCA9IGNsZWFySW50ZXJ2YWwodGhpcy5pbnRlcnZhbClcblxuICAgIHJldHVybiB0aGlzXG4gIH1cblxuICBDYXJvdXNlbC5wcm90b3R5cGUubmV4dCA9IGZ1bmN0aW9uICgpIHtcbiAgICBpZiAodGhpcy5zbGlkaW5nKSByZXR1cm5cbiAgICByZXR1cm4gdGhpcy5zbGlkZSgnbmV4dCcpXG4gIH1cblxuICBDYXJvdXNlbC5wcm90b3R5cGUucHJldiA9IGZ1bmN0aW9uICgpIHtcbiAgICBpZiAodGhpcy5zbGlkaW5nKSByZXR1cm5cbiAgICByZXR1cm4gdGhpcy5zbGlkZSgncHJldicpXG4gIH1cblxuICBDYXJvdXNlbC5wcm90b3R5cGUuc2xpZGUgPSBmdW5jdGlvbiAodHlwZSwgbmV4dCkge1xuICAgIHZhciAkYWN0aXZlICAgPSB0aGlzLiRlbGVtZW50LmZpbmQoJy5pdGVtLmFjdGl2ZScpXG4gICAgdmFyICRuZXh0ICAgICA9IG5leHQgfHwgdGhpcy5nZXRJdGVtRm9yRGlyZWN0aW9uKHR5cGUsICRhY3RpdmUpXG4gICAgdmFyIGlzQ3ljbGluZyA9IHRoaXMuaW50ZXJ2YWxcbiAgICB2YXIgZGlyZWN0aW9uID0gdHlwZSA9PSAnbmV4dCcgPyAnbGVmdCcgOiAncmlnaHQnXG4gICAgdmFyIHRoYXQgICAgICA9IHRoaXNcblxuICAgIGlmICgkbmV4dC5oYXNDbGFzcygnYWN0aXZlJykpIHJldHVybiAodGhpcy5zbGlkaW5nID0gZmFsc2UpXG5cbiAgICB2YXIgcmVsYXRlZFRhcmdldCA9ICRuZXh0WzBdXG4gICAgdmFyIHNsaWRlRXZlbnQgPSAkLkV2ZW50KCdzbGlkZS5icy5jYXJvdXNlbCcsIHtcbiAgICAgIHJlbGF0ZWRUYXJnZXQ6IHJlbGF0ZWRUYXJnZXQsXG4gICAgICBkaXJlY3Rpb246IGRpcmVjdGlvblxuICAgIH0pXG4gICAgdGhpcy4kZWxlbWVudC50cmlnZ2VyKHNsaWRlRXZlbnQpXG4gICAgaWYgKHNsaWRlRXZlbnQuaXNEZWZhdWx0UHJldmVudGVkKCkpIHJldHVyblxuXG4gICAgdGhpcy5zbGlkaW5nID0gdHJ1ZVxuXG4gICAgaXNDeWNsaW5nICYmIHRoaXMucGF1c2UoKVxuXG4gICAgaWYgKHRoaXMuJGluZGljYXRvcnMubGVuZ3RoKSB7XG4gICAgICB0aGlzLiRpbmRpY2F0b3JzLmZpbmQoJy5hY3RpdmUnKS5yZW1vdmVDbGFzcygnYWN0aXZlJylcbiAgICAgIHZhciAkbmV4dEluZGljYXRvciA9ICQodGhpcy4kaW5kaWNhdG9ycy5jaGlsZHJlbigpW3RoaXMuZ2V0SXRlbUluZGV4KCRuZXh0KV0pXG4gICAgICAkbmV4dEluZGljYXRvciAmJiAkbmV4dEluZGljYXRvci5hZGRDbGFzcygnYWN0aXZlJylcbiAgICB9XG5cbiAgICB2YXIgc2xpZEV2ZW50ID0gJC5FdmVudCgnc2xpZC5icy5jYXJvdXNlbCcsIHsgcmVsYXRlZFRhcmdldDogcmVsYXRlZFRhcmdldCwgZGlyZWN0aW9uOiBkaXJlY3Rpb24gfSkgLy8geWVzLCBcInNsaWRcIlxuICAgIGlmICgkLnN1cHBvcnQudHJhbnNpdGlvbiAmJiB0aGlzLiRlbGVtZW50Lmhhc0NsYXNzKCdzbGlkZScpKSB7XG4gICAgICAkbmV4dC5hZGRDbGFzcyh0eXBlKVxuICAgICAgJG5leHRbMF0ub2Zmc2V0V2lkdGggLy8gZm9yY2UgcmVmbG93XG4gICAgICAkYWN0aXZlLmFkZENsYXNzKGRpcmVjdGlvbilcbiAgICAgICRuZXh0LmFkZENsYXNzKGRpcmVjdGlvbilcbiAgICAgICRhY3RpdmVcbiAgICAgICAgLm9uZSgnYnNUcmFuc2l0aW9uRW5kJywgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICRuZXh0LnJlbW92ZUNsYXNzKFt0eXBlLCBkaXJlY3Rpb25dLmpvaW4oJyAnKSkuYWRkQ2xhc3MoJ2FjdGl2ZScpXG4gICAgICAgICAgJGFjdGl2ZS5yZW1vdmVDbGFzcyhbJ2FjdGl2ZScsIGRpcmVjdGlvbl0uam9pbignICcpKVxuICAgICAgICAgIHRoYXQuc2xpZGluZyA9IGZhbHNlXG4gICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB0aGF0LiRlbGVtZW50LnRyaWdnZXIoc2xpZEV2ZW50KVxuICAgICAgICAgIH0sIDApXG4gICAgICAgIH0pXG4gICAgICAgIC5lbXVsYXRlVHJhbnNpdGlvbkVuZChDYXJvdXNlbC5UUkFOU0lUSU9OX0RVUkFUSU9OKVxuICAgIH0gZWxzZSB7XG4gICAgICAkYWN0aXZlLnJlbW92ZUNsYXNzKCdhY3RpdmUnKVxuICAgICAgJG5leHQuYWRkQ2xhc3MoJ2FjdGl2ZScpXG4gICAgICB0aGlzLnNsaWRpbmcgPSBmYWxzZVxuICAgICAgdGhpcy4kZWxlbWVudC50cmlnZ2VyKHNsaWRFdmVudClcbiAgICB9XG5cbiAgICBpc0N5Y2xpbmcgJiYgdGhpcy5jeWNsZSgpXG5cbiAgICByZXR1cm4gdGhpc1xuICB9XG5cblxuICAvLyBDQVJPVVNFTCBQTFVHSU4gREVGSU5JVElPTlxuICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PVxuXG4gIGZ1bmN0aW9uIFBsdWdpbihvcHRpb24pIHtcbiAgICByZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uICgpIHtcbiAgICAgIHZhciAkdGhpcyAgID0gJCh0aGlzKVxuICAgICAgdmFyIGRhdGEgICAgPSAkdGhpcy5kYXRhKCdicy5jYXJvdXNlbCcpXG4gICAgICB2YXIgb3B0aW9ucyA9ICQuZXh0ZW5kKHt9LCBDYXJvdXNlbC5ERUZBVUxUUywgJHRoaXMuZGF0YSgpLCB0eXBlb2Ygb3B0aW9uID09ICdvYmplY3QnICYmIG9wdGlvbilcbiAgICAgIHZhciBhY3Rpb24gID0gdHlwZW9mIG9wdGlvbiA9PSAnc3RyaW5nJyA/IG9wdGlvbiA6IG9wdGlvbnMuc2xpZGVcblxuICAgICAgaWYgKCFkYXRhKSAkdGhpcy5kYXRhKCdicy5jYXJvdXNlbCcsIChkYXRhID0gbmV3IENhcm91c2VsKHRoaXMsIG9wdGlvbnMpKSlcbiAgICAgIGlmICh0eXBlb2Ygb3B0aW9uID09ICdudW1iZXInKSBkYXRhLnRvKG9wdGlvbilcbiAgICAgIGVsc2UgaWYgKGFjdGlvbikgZGF0YVthY3Rpb25dKClcbiAgICAgIGVsc2UgaWYgKG9wdGlvbnMuaW50ZXJ2YWwpIGRhdGEucGF1c2UoKS5jeWNsZSgpXG4gICAgfSlcbiAgfVxuXG4gIHZhciBvbGQgPSAkLmZuLmNhcm91c2VsXG5cbiAgJC5mbi5jYXJvdXNlbCAgICAgICAgICAgICA9IFBsdWdpblxuICAkLmZuLmNhcm91c2VsLkNvbnN0cnVjdG9yID0gQ2Fyb3VzZWxcblxuXG4gIC8vIENBUk9VU0VMIE5PIENPTkZMSUNUXG4gIC8vID09PT09PT09PT09PT09PT09PT09XG5cbiAgJC5mbi5jYXJvdXNlbC5ub0NvbmZsaWN0ID0gZnVuY3Rpb24gKCkge1xuICAgICQuZm4uY2Fyb3VzZWwgPSBvbGRcbiAgICByZXR1cm4gdGhpc1xuICB9XG5cblxuICAvLyBDQVJPVVNFTCBEQVRBLUFQSVxuICAvLyA9PT09PT09PT09PT09PT09PVxuXG4gIHZhciBjbGlja0hhbmRsZXIgPSBmdW5jdGlvbiAoZSkge1xuICAgIHZhciBocmVmXG4gICAgdmFyICR0aGlzICAgPSAkKHRoaXMpXG4gICAgdmFyICR0YXJnZXQgPSAkKCR0aGlzLmF0dHIoJ2RhdGEtdGFyZ2V0JykgfHwgKGhyZWYgPSAkdGhpcy5hdHRyKCdocmVmJykpICYmIGhyZWYucmVwbGFjZSgvLiooPz0jW15cXHNdKyQpLywgJycpKSAvLyBzdHJpcCBmb3IgaWU3XG4gICAgaWYgKCEkdGFyZ2V0Lmhhc0NsYXNzKCdjYXJvdXNlbCcpKSByZXR1cm5cbiAgICB2YXIgb3B0aW9ucyA9ICQuZXh0ZW5kKHt9LCAkdGFyZ2V0LmRhdGEoKSwgJHRoaXMuZGF0YSgpKVxuICAgIHZhciBzbGlkZUluZGV4ID0gJHRoaXMuYXR0cignZGF0YS1zbGlkZS10bycpXG4gICAgaWYgKHNsaWRlSW5kZXgpIG9wdGlvbnMuaW50ZXJ2YWwgPSBmYWxzZVxuXG4gICAgUGx1Z2luLmNhbGwoJHRhcmdldCwgb3B0aW9ucylcblxuICAgIGlmIChzbGlkZUluZGV4KSB7XG4gICAgICAkdGFyZ2V0LmRhdGEoJ2JzLmNhcm91c2VsJykudG8oc2xpZGVJbmRleClcbiAgICB9XG5cbiAgICBlLnByZXZlbnREZWZhdWx0KClcbiAgfVxuXG4gICQoZG9jdW1lbnQpXG4gICAgLm9uKCdjbGljay5icy5jYXJvdXNlbC5kYXRhLWFwaScsICdbZGF0YS1zbGlkZV0nLCBjbGlja0hhbmRsZXIpXG4gICAgLm9uKCdjbGljay5icy5jYXJvdXNlbC5kYXRhLWFwaScsICdbZGF0YS1zbGlkZS10b10nLCBjbGlja0hhbmRsZXIpXG5cbiAgJCh3aW5kb3cpLm9uKCdsb2FkJywgZnVuY3Rpb24gKCkge1xuICAgICQoJ1tkYXRhLXJpZGU9XCJjYXJvdXNlbFwiXScpLmVhY2goZnVuY3Rpb24gKCkge1xuICAgICAgdmFyICRjYXJvdXNlbCA9ICQodGhpcylcbiAgICAgIFBsdWdpbi5jYWxsKCRjYXJvdXNlbCwgJGNhcm91c2VsLmRhdGEoKSlcbiAgICB9KVxuICB9KVxuXG59KGpRdWVyeSk7XG5cbi8qID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICogQm9vdHN0cmFwOiBjb2xsYXBzZS5qcyB2My4zLjdcbiAqIGh0dHA6Ly9nZXRib290c3RyYXAuY29tL2phdmFzY3JpcHQvI2NvbGxhcHNlXG4gKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAqIENvcHlyaWdodCAyMDExLTIwMTYgVHdpdHRlciwgSW5jLlxuICogTGljZW5zZWQgdW5kZXIgTUlUIChodHRwczovL2dpdGh1Yi5jb20vdHdicy9ib290c3RyYXAvYmxvYi9tYXN0ZXIvTElDRU5TRSlcbiAqID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PSAqL1xuXG4vKiBqc2hpbnQgbGF0ZWRlZjogZmFsc2UgKi9cblxuK2Z1bmN0aW9uICgkKSB7XG4gICd1c2Ugc3RyaWN0JztcblxuICAvLyBDT0xMQVBTRSBQVUJMSUMgQ0xBU1MgREVGSU5JVElPTlxuICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuXG4gIHZhciBDb2xsYXBzZSA9IGZ1bmN0aW9uIChlbGVtZW50LCBvcHRpb25zKSB7XG4gICAgdGhpcy4kZWxlbWVudCAgICAgID0gJChlbGVtZW50KVxuICAgIHRoaXMub3B0aW9ucyAgICAgICA9ICQuZXh0ZW5kKHt9LCBDb2xsYXBzZS5ERUZBVUxUUywgb3B0aW9ucylcbiAgICB0aGlzLiR0cmlnZ2VyICAgICAgPSAkKCdbZGF0YS10b2dnbGU9XCJjb2xsYXBzZVwiXVtocmVmPVwiIycgKyBlbGVtZW50LmlkICsgJ1wiXSwnICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICdbZGF0YS10b2dnbGU9XCJjb2xsYXBzZVwiXVtkYXRhLXRhcmdldD1cIiMnICsgZWxlbWVudC5pZCArICdcIl0nKVxuICAgIHRoaXMudHJhbnNpdGlvbmluZyA9IG51bGxcblxuICAgIGlmICh0aGlzLm9wdGlvbnMucGFyZW50KSB7XG4gICAgICB0aGlzLiRwYXJlbnQgPSB0aGlzLmdldFBhcmVudCgpXG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuYWRkQXJpYUFuZENvbGxhcHNlZENsYXNzKHRoaXMuJGVsZW1lbnQsIHRoaXMuJHRyaWdnZXIpXG4gICAgfVxuXG4gICAgaWYgKHRoaXMub3B0aW9ucy50b2dnbGUpIHRoaXMudG9nZ2xlKClcbiAgfVxuXG4gIENvbGxhcHNlLlZFUlNJT04gID0gJzMuMy43J1xuXG4gIENvbGxhcHNlLlRSQU5TSVRJT05fRFVSQVRJT04gPSAzNTBcblxuICBDb2xsYXBzZS5ERUZBVUxUUyA9IHtcbiAgICB0b2dnbGU6IHRydWVcbiAgfVxuXG4gIENvbGxhcHNlLnByb3RvdHlwZS5kaW1lbnNpb24gPSBmdW5jdGlvbiAoKSB7XG4gICAgdmFyIGhhc1dpZHRoID0gdGhpcy4kZWxlbWVudC5oYXNDbGFzcygnd2lkdGgnKVxuICAgIHJldHVybiBoYXNXaWR0aCA/ICd3aWR0aCcgOiAnaGVpZ2h0J1xuICB9XG5cbiAgQ29sbGFwc2UucHJvdG90eXBlLnNob3cgPSBmdW5jdGlvbiAoKSB7XG4gICAgaWYgKHRoaXMudHJhbnNpdGlvbmluZyB8fCB0aGlzLiRlbGVtZW50Lmhhc0NsYXNzKCdpbicpKSByZXR1cm5cblxuICAgIHZhciBhY3RpdmVzRGF0YVxuICAgIHZhciBhY3RpdmVzID0gdGhpcy4kcGFyZW50ICYmIHRoaXMuJHBhcmVudC5jaGlsZHJlbignLnBhbmVsJykuY2hpbGRyZW4oJy5pbiwgLmNvbGxhcHNpbmcnKVxuXG4gICAgaWYgKGFjdGl2ZXMgJiYgYWN0aXZlcy5sZW5ndGgpIHtcbiAgICAgIGFjdGl2ZXNEYXRhID0gYWN0aXZlcy5kYXRhKCdicy5jb2xsYXBzZScpXG4gICAgICBpZiAoYWN0aXZlc0RhdGEgJiYgYWN0aXZlc0RhdGEudHJhbnNpdGlvbmluZykgcmV0dXJuXG4gICAgfVxuXG4gICAgdmFyIHN0YXJ0RXZlbnQgPSAkLkV2ZW50KCdzaG93LmJzLmNvbGxhcHNlJylcbiAgICB0aGlzLiRlbGVtZW50LnRyaWdnZXIoc3RhcnRFdmVudClcbiAgICBpZiAoc3RhcnRFdmVudC5pc0RlZmF1bHRQcmV2ZW50ZWQoKSkgcmV0dXJuXG5cbiAgICBpZiAoYWN0aXZlcyAmJiBhY3RpdmVzLmxlbmd0aCkge1xuICAgICAgUGx1Z2luLmNhbGwoYWN0aXZlcywgJ2hpZGUnKVxuICAgICAgYWN0aXZlc0RhdGEgfHwgYWN0aXZlcy5kYXRhKCdicy5jb2xsYXBzZScsIG51bGwpXG4gICAgfVxuXG4gICAgdmFyIGRpbWVuc2lvbiA9IHRoaXMuZGltZW5zaW9uKClcblxuICAgIHRoaXMuJGVsZW1lbnRcbiAgICAgIC5yZW1vdmVDbGFzcygnY29sbGFwc2UnKVxuICAgICAgLmFkZENsYXNzKCdjb2xsYXBzaW5nJylbZGltZW5zaW9uXSgwKVxuICAgICAgLmF0dHIoJ2FyaWEtZXhwYW5kZWQnLCB0cnVlKVxuXG4gICAgdGhpcy4kdHJpZ2dlclxuICAgICAgLnJlbW92ZUNsYXNzKCdjb2xsYXBzZWQnKVxuICAgICAgLmF0dHIoJ2FyaWEtZXhwYW5kZWQnLCB0cnVlKVxuXG4gICAgdGhpcy50cmFuc2l0aW9uaW5nID0gMVxuXG4gICAgdmFyIGNvbXBsZXRlID0gZnVuY3Rpb24gKCkge1xuICAgICAgdGhpcy4kZWxlbWVudFxuICAgICAgICAucmVtb3ZlQ2xhc3MoJ2NvbGxhcHNpbmcnKVxuICAgICAgICAuYWRkQ2xhc3MoJ2NvbGxhcHNlIGluJylbZGltZW5zaW9uXSgnJylcbiAgICAgIHRoaXMudHJhbnNpdGlvbmluZyA9IDBcbiAgICAgIHRoaXMuJGVsZW1lbnRcbiAgICAgICAgLnRyaWdnZXIoJ3Nob3duLmJzLmNvbGxhcHNlJylcbiAgICB9XG5cbiAgICBpZiAoISQuc3VwcG9ydC50cmFuc2l0aW9uKSByZXR1cm4gY29tcGxldGUuY2FsbCh0aGlzKVxuXG4gICAgdmFyIHNjcm9sbFNpemUgPSAkLmNhbWVsQ2FzZShbJ3Njcm9sbCcsIGRpbWVuc2lvbl0uam9pbignLScpKVxuXG4gICAgdGhpcy4kZWxlbWVudFxuICAgICAgLm9uZSgnYnNUcmFuc2l0aW9uRW5kJywgJC5wcm94eShjb21wbGV0ZSwgdGhpcykpXG4gICAgICAuZW11bGF0ZVRyYW5zaXRpb25FbmQoQ29sbGFwc2UuVFJBTlNJVElPTl9EVVJBVElPTilbZGltZW5zaW9uXSh0aGlzLiRlbGVtZW50WzBdW3Njcm9sbFNpemVdKVxuICB9XG5cbiAgQ29sbGFwc2UucHJvdG90eXBlLmhpZGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgaWYgKHRoaXMudHJhbnNpdGlvbmluZyB8fCAhdGhpcy4kZWxlbWVudC5oYXNDbGFzcygnaW4nKSkgcmV0dXJuXG5cbiAgICB2YXIgc3RhcnRFdmVudCA9ICQuRXZlbnQoJ2hpZGUuYnMuY29sbGFwc2UnKVxuICAgIHRoaXMuJGVsZW1lbnQudHJpZ2dlcihzdGFydEV2ZW50KVxuICAgIGlmIChzdGFydEV2ZW50LmlzRGVmYXVsdFByZXZlbnRlZCgpKSByZXR1cm5cblxuICAgIHZhciBkaW1lbnNpb24gPSB0aGlzLmRpbWVuc2lvbigpXG5cbiAgICB0aGlzLiRlbGVtZW50W2RpbWVuc2lvbl0odGhpcy4kZWxlbWVudFtkaW1lbnNpb25dKCkpWzBdLm9mZnNldEhlaWdodFxuXG4gICAgdGhpcy4kZWxlbWVudFxuICAgICAgLmFkZENsYXNzKCdjb2xsYXBzaW5nJylcbiAgICAgIC5yZW1vdmVDbGFzcygnY29sbGFwc2UgaW4nKVxuICAgICAgLmF0dHIoJ2FyaWEtZXhwYW5kZWQnLCBmYWxzZSlcblxuICAgIHRoaXMuJHRyaWdnZXJcbiAgICAgIC5hZGRDbGFzcygnY29sbGFwc2VkJylcbiAgICAgIC5hdHRyKCdhcmlhLWV4cGFuZGVkJywgZmFsc2UpXG5cbiAgICB0aGlzLnRyYW5zaXRpb25pbmcgPSAxXG5cbiAgICB2YXIgY29tcGxldGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICB0aGlzLnRyYW5zaXRpb25pbmcgPSAwXG4gICAgICB0aGlzLiRlbGVtZW50XG4gICAgICAgIC5yZW1vdmVDbGFzcygnY29sbGFwc2luZycpXG4gICAgICAgIC5hZGRDbGFzcygnY29sbGFwc2UnKVxuICAgICAgICAudHJpZ2dlcignaGlkZGVuLmJzLmNvbGxhcHNlJylcbiAgICB9XG5cbiAgICBpZiAoISQuc3VwcG9ydC50cmFuc2l0aW9uKSByZXR1cm4gY29tcGxldGUuY2FsbCh0aGlzKVxuXG4gICAgdGhpcy4kZWxlbWVudFxuICAgICAgW2RpbWVuc2lvbl0oMClcbiAgICAgIC5vbmUoJ2JzVHJhbnNpdGlvbkVuZCcsICQucHJveHkoY29tcGxldGUsIHRoaXMpKVxuICAgICAgLmVtdWxhdGVUcmFuc2l0aW9uRW5kKENvbGxhcHNlLlRSQU5TSVRJT05fRFVSQVRJT04pXG4gIH1cblxuICBDb2xsYXBzZS5wcm90b3R5cGUudG9nZ2xlID0gZnVuY3Rpb24gKCkge1xuICAgIHRoaXNbdGhpcy4kZWxlbWVudC5oYXNDbGFzcygnaW4nKSA/ICdoaWRlJyA6ICdzaG93J10oKVxuICB9XG5cbiAgQ29sbGFwc2UucHJvdG90eXBlLmdldFBhcmVudCA9IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gJCh0aGlzLm9wdGlvbnMucGFyZW50KVxuICAgICAgLmZpbmQoJ1tkYXRhLXRvZ2dsZT1cImNvbGxhcHNlXCJdW2RhdGEtcGFyZW50PVwiJyArIHRoaXMub3B0aW9ucy5wYXJlbnQgKyAnXCJdJylcbiAgICAgIC5lYWNoKCQucHJveHkoZnVuY3Rpb24gKGksIGVsZW1lbnQpIHtcbiAgICAgICAgdmFyICRlbGVtZW50ID0gJChlbGVtZW50KVxuICAgICAgICB0aGlzLmFkZEFyaWFBbmRDb2xsYXBzZWRDbGFzcyhnZXRUYXJnZXRGcm9tVHJpZ2dlcigkZWxlbWVudCksICRlbGVtZW50KVxuICAgICAgfSwgdGhpcykpXG4gICAgICAuZW5kKClcbiAgfVxuXG4gIENvbGxhcHNlLnByb3RvdHlwZS5hZGRBcmlhQW5kQ29sbGFwc2VkQ2xhc3MgPSBmdW5jdGlvbiAoJGVsZW1lbnQsICR0cmlnZ2VyKSB7XG4gICAgdmFyIGlzT3BlbiA9ICRlbGVtZW50Lmhhc0NsYXNzKCdpbicpXG5cbiAgICAkZWxlbWVudC5hdHRyKCdhcmlhLWV4cGFuZGVkJywgaXNPcGVuKVxuICAgICR0cmlnZ2VyXG4gICAgICAudG9nZ2xlQ2xhc3MoJ2NvbGxhcHNlZCcsICFpc09wZW4pXG4gICAgICAuYXR0cignYXJpYS1leHBhbmRlZCcsIGlzT3BlbilcbiAgfVxuXG4gIGZ1bmN0aW9uIGdldFRhcmdldEZyb21UcmlnZ2VyKCR0cmlnZ2VyKSB7XG4gICAgdmFyIGhyZWZcbiAgICB2YXIgdGFyZ2V0ID0gJHRyaWdnZXIuYXR0cignZGF0YS10YXJnZXQnKVxuICAgICAgfHwgKGhyZWYgPSAkdHJpZ2dlci5hdHRyKCdocmVmJykpICYmIGhyZWYucmVwbGFjZSgvLiooPz0jW15cXHNdKyQpLywgJycpIC8vIHN0cmlwIGZvciBpZTdcblxuICAgIHJldHVybiAkKHRhcmdldClcbiAgfVxuXG5cbiAgLy8gQ09MTEFQU0UgUExVR0lOIERFRklOSVRJT05cbiAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT1cblxuICBmdW5jdGlvbiBQbHVnaW4ob3B0aW9uKSB7XG4gICAgcmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbiAoKSB7XG4gICAgICB2YXIgJHRoaXMgICA9ICQodGhpcylcbiAgICAgIHZhciBkYXRhICAgID0gJHRoaXMuZGF0YSgnYnMuY29sbGFwc2UnKVxuICAgICAgdmFyIG9wdGlvbnMgPSAkLmV4dGVuZCh7fSwgQ29sbGFwc2UuREVGQVVMVFMsICR0aGlzLmRhdGEoKSwgdHlwZW9mIG9wdGlvbiA9PSAnb2JqZWN0JyAmJiBvcHRpb24pXG5cbiAgICAgIGlmICghZGF0YSAmJiBvcHRpb25zLnRvZ2dsZSAmJiAvc2hvd3xoaWRlLy50ZXN0KG9wdGlvbikpIG9wdGlvbnMudG9nZ2xlID0gZmFsc2VcbiAgICAgIGlmICghZGF0YSkgJHRoaXMuZGF0YSgnYnMuY29sbGFwc2UnLCAoZGF0YSA9IG5ldyBDb2xsYXBzZSh0aGlzLCBvcHRpb25zKSkpXG4gICAgICBpZiAodHlwZW9mIG9wdGlvbiA9PSAnc3RyaW5nJykgZGF0YVtvcHRpb25dKClcbiAgICB9KVxuICB9XG5cbiAgdmFyIG9sZCA9ICQuZm4uY29sbGFwc2VcblxuICAkLmZuLmNvbGxhcHNlICAgICAgICAgICAgID0gUGx1Z2luXG4gICQuZm4uY29sbGFwc2UuQ29uc3RydWN0b3IgPSBDb2xsYXBzZVxuXG5cbiAgLy8gQ09MTEFQU0UgTk8gQ09ORkxJQ1RcbiAgLy8gPT09PT09PT09PT09PT09PT09PT1cblxuICAkLmZuLmNvbGxhcHNlLm5vQ29uZmxpY3QgPSBmdW5jdGlvbiAoKSB7XG4gICAgJC5mbi5jb2xsYXBzZSA9IG9sZFxuICAgIHJldHVybiB0aGlzXG4gIH1cblxuXG4gIC8vIENPTExBUFNFIERBVEEtQVBJXG4gIC8vID09PT09PT09PT09PT09PT09XG5cbiAgJChkb2N1bWVudCkub24oJ2NsaWNrLmJzLmNvbGxhcHNlLmRhdGEtYXBpJywgJ1tkYXRhLXRvZ2dsZT1cImNvbGxhcHNlXCJdJywgZnVuY3Rpb24gKGUpIHtcbiAgICB2YXIgJHRoaXMgICA9ICQodGhpcylcblxuICAgIGlmICghJHRoaXMuYXR0cignZGF0YS10YXJnZXQnKSkgZS5wcmV2ZW50RGVmYXVsdCgpXG5cbiAgICB2YXIgJHRhcmdldCA9IGdldFRhcmdldEZyb21UcmlnZ2VyKCR0aGlzKVxuICAgIHZhciBkYXRhICAgID0gJHRhcmdldC5kYXRhKCdicy5jb2xsYXBzZScpXG4gICAgdmFyIG9wdGlvbiAgPSBkYXRhID8gJ3RvZ2dsZScgOiAkdGhpcy5kYXRhKClcblxuICAgIFBsdWdpbi5jYWxsKCR0YXJnZXQsIG9wdGlvbilcbiAgfSlcblxufShqUXVlcnkpO1xuXG4vKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAqIEJvb3RzdHJhcDogZHJvcGRvd24uanMgdjMuMy43XG4gKiBodHRwOi8vZ2V0Ym9vdHN0cmFwLmNvbS9qYXZhc2NyaXB0LyNkcm9wZG93bnNcbiAqID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICogQ29weXJpZ2h0IDIwMTEtMjAxNiBUd2l0dGVyLCBJbmMuXG4gKiBMaWNlbnNlZCB1bmRlciBNSVQgKGh0dHBzOi8vZ2l0aHViLmNvbS90d2JzL2Jvb3RzdHJhcC9ibG9iL21hc3Rlci9MSUNFTlNFKVxuICogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09ICovXG5cblxuK2Z1bmN0aW9uICgkKSB7XG4gICd1c2Ugc3RyaWN0JztcblxuICAvLyBEUk9QRE9XTiBDTEFTUyBERUZJTklUSU9OXG4gIC8vID09PT09PT09PT09PT09PT09PT09PT09PT1cblxuICB2YXIgYmFja2Ryb3AgPSAnLmRyb3Bkb3duLWJhY2tkcm9wJ1xuICB2YXIgdG9nZ2xlICAgPSAnW2RhdGEtdG9nZ2xlPVwiZHJvcGRvd25cIl0nXG4gIHZhciBEcm9wZG93biA9IGZ1bmN0aW9uIChlbGVtZW50KSB7XG4gICAgJChlbGVtZW50KS5vbignY2xpY2suYnMuZHJvcGRvd24nLCB0aGlzLnRvZ2dsZSlcbiAgfVxuXG4gIERyb3Bkb3duLlZFUlNJT04gPSAnMy4zLjcnXG5cbiAgZnVuY3Rpb24gZ2V0UGFyZW50KCR0aGlzKSB7XG4gICAgdmFyIHNlbGVjdG9yID0gJHRoaXMuYXR0cignZGF0YS10YXJnZXQnKVxuXG4gICAgaWYgKCFzZWxlY3Rvcikge1xuICAgICAgc2VsZWN0b3IgPSAkdGhpcy5hdHRyKCdocmVmJylcbiAgICAgIHNlbGVjdG9yID0gc2VsZWN0b3IgJiYgLyNbQS1aYS16XS8udGVzdChzZWxlY3RvcikgJiYgc2VsZWN0b3IucmVwbGFjZSgvLiooPz0jW15cXHNdKiQpLywgJycpIC8vIHN0cmlwIGZvciBpZTdcbiAgICB9XG5cbiAgICB2YXIgJHBhcmVudCA9IHNlbGVjdG9yICYmICQoc2VsZWN0b3IpXG5cbiAgICByZXR1cm4gJHBhcmVudCAmJiAkcGFyZW50Lmxlbmd0aCA/ICRwYXJlbnQgOiAkdGhpcy5wYXJlbnQoKVxuICB9XG5cbiAgZnVuY3Rpb24gY2xlYXJNZW51cyhlKSB7XG4gICAgaWYgKGUgJiYgZS53aGljaCA9PT0gMykgcmV0dXJuXG4gICAgJChiYWNrZHJvcCkucmVtb3ZlKClcbiAgICAkKHRvZ2dsZSkuZWFjaChmdW5jdGlvbiAoKSB7XG4gICAgICB2YXIgJHRoaXMgICAgICAgICA9ICQodGhpcylcbiAgICAgIHZhciAkcGFyZW50ICAgICAgID0gZ2V0UGFyZW50KCR0aGlzKVxuICAgICAgdmFyIHJlbGF0ZWRUYXJnZXQgPSB7IHJlbGF0ZWRUYXJnZXQ6IHRoaXMgfVxuXG4gICAgICBpZiAoISRwYXJlbnQuaGFzQ2xhc3MoJ29wZW4nKSkgcmV0dXJuXG5cbiAgICAgIGlmIChlICYmIGUudHlwZSA9PSAnY2xpY2snICYmIC9pbnB1dHx0ZXh0YXJlYS9pLnRlc3QoZS50YXJnZXQudGFnTmFtZSkgJiYgJC5jb250YWlucygkcGFyZW50WzBdLCBlLnRhcmdldCkpIHJldHVyblxuXG4gICAgICAkcGFyZW50LnRyaWdnZXIoZSA9ICQuRXZlbnQoJ2hpZGUuYnMuZHJvcGRvd24nLCByZWxhdGVkVGFyZ2V0KSlcblxuICAgICAgaWYgKGUuaXNEZWZhdWx0UHJldmVudGVkKCkpIHJldHVyblxuXG4gICAgICAkdGhpcy5hdHRyKCdhcmlhLWV4cGFuZGVkJywgJ2ZhbHNlJylcbiAgICAgICRwYXJlbnQucmVtb3ZlQ2xhc3MoJ29wZW4nKS50cmlnZ2VyKCQuRXZlbnQoJ2hpZGRlbi5icy5kcm9wZG93bicsIHJlbGF0ZWRUYXJnZXQpKVxuICAgIH0pXG4gIH1cblxuICBEcm9wZG93bi5wcm90b3R5cGUudG9nZ2xlID0gZnVuY3Rpb24gKGUpIHtcbiAgICB2YXIgJHRoaXMgPSAkKHRoaXMpXG5cbiAgICBpZiAoJHRoaXMuaXMoJy5kaXNhYmxlZCwgOmRpc2FibGVkJykpIHJldHVyblxuXG4gICAgdmFyICRwYXJlbnQgID0gZ2V0UGFyZW50KCR0aGlzKVxuICAgIHZhciBpc0FjdGl2ZSA9ICRwYXJlbnQuaGFzQ2xhc3MoJ29wZW4nKVxuXG4gICAgY2xlYXJNZW51cygpXG5cbiAgICBpZiAoIWlzQWN0aXZlKSB7XG4gICAgICBpZiAoJ29udG91Y2hzdGFydCcgaW4gZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50ICYmICEkcGFyZW50LmNsb3Nlc3QoJy5uYXZiYXItbmF2JykubGVuZ3RoKSB7XG4gICAgICAgIC8vIGlmIG1vYmlsZSB3ZSB1c2UgYSBiYWNrZHJvcCBiZWNhdXNlIGNsaWNrIGV2ZW50cyBkb24ndCBkZWxlZ2F0ZVxuICAgICAgICAkKGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpKVxuICAgICAgICAgIC5hZGRDbGFzcygnZHJvcGRvd24tYmFja2Ryb3AnKVxuICAgICAgICAgIC5pbnNlcnRBZnRlcigkKHRoaXMpKVxuICAgICAgICAgIC5vbignY2xpY2snLCBjbGVhck1lbnVzKVxuICAgICAgfVxuXG4gICAgICB2YXIgcmVsYXRlZFRhcmdldCA9IHsgcmVsYXRlZFRhcmdldDogdGhpcyB9XG4gICAgICAkcGFyZW50LnRyaWdnZXIoZSA9ICQuRXZlbnQoJ3Nob3cuYnMuZHJvcGRvd24nLCByZWxhdGVkVGFyZ2V0KSlcblxuICAgICAgaWYgKGUuaXNEZWZhdWx0UHJldmVudGVkKCkpIHJldHVyblxuXG4gICAgICAkdGhpc1xuICAgICAgICAudHJpZ2dlcignZm9jdXMnKVxuICAgICAgICAuYXR0cignYXJpYS1leHBhbmRlZCcsICd0cnVlJylcblxuICAgICAgJHBhcmVudFxuICAgICAgICAudG9nZ2xlQ2xhc3MoJ29wZW4nKVxuICAgICAgICAudHJpZ2dlcigkLkV2ZW50KCdzaG93bi5icy5kcm9wZG93bicsIHJlbGF0ZWRUYXJnZXQpKVxuICAgIH1cblxuICAgIHJldHVybiBmYWxzZVxuICB9XG5cbiAgRHJvcGRvd24ucHJvdG90eXBlLmtleWRvd24gPSBmdW5jdGlvbiAoZSkge1xuICAgIGlmICghLygzOHw0MHwyN3wzMikvLnRlc3QoZS53aGljaCkgfHwgL2lucHV0fHRleHRhcmVhL2kudGVzdChlLnRhcmdldC50YWdOYW1lKSkgcmV0dXJuXG5cbiAgICB2YXIgJHRoaXMgPSAkKHRoaXMpXG5cbiAgICBlLnByZXZlbnREZWZhdWx0KClcbiAgICBlLnN0b3BQcm9wYWdhdGlvbigpXG5cbiAgICBpZiAoJHRoaXMuaXMoJy5kaXNhYmxlZCwgOmRpc2FibGVkJykpIHJldHVyblxuXG4gICAgdmFyICRwYXJlbnQgID0gZ2V0UGFyZW50KCR0aGlzKVxuICAgIHZhciBpc0FjdGl2ZSA9ICRwYXJlbnQuaGFzQ2xhc3MoJ29wZW4nKVxuXG4gICAgaWYgKCFpc0FjdGl2ZSAmJiBlLndoaWNoICE9IDI3IHx8IGlzQWN0aXZlICYmIGUud2hpY2ggPT0gMjcpIHtcbiAgICAgIGlmIChlLndoaWNoID09IDI3KSAkcGFyZW50LmZpbmQodG9nZ2xlKS50cmlnZ2VyKCdmb2N1cycpXG4gICAgICByZXR1cm4gJHRoaXMudHJpZ2dlcignY2xpY2snKVxuICAgIH1cblxuICAgIHZhciBkZXNjID0gJyBsaTpub3QoLmRpc2FibGVkKTp2aXNpYmxlIGEnXG4gICAgdmFyICRpdGVtcyA9ICRwYXJlbnQuZmluZCgnLmRyb3Bkb3duLW1lbnUnICsgZGVzYylcblxuICAgIGlmICghJGl0ZW1zLmxlbmd0aCkgcmV0dXJuXG5cbiAgICB2YXIgaW5kZXggPSAkaXRlbXMuaW5kZXgoZS50YXJnZXQpXG5cbiAgICBpZiAoZS53aGljaCA9PSAzOCAmJiBpbmRleCA+IDApICAgICAgICAgICAgICAgICBpbmRleC0tICAgICAgICAgLy8gdXBcbiAgICBpZiAoZS53aGljaCA9PSA0MCAmJiBpbmRleCA8ICRpdGVtcy5sZW5ndGggLSAxKSBpbmRleCsrICAgICAgICAgLy8gZG93blxuICAgIGlmICghfmluZGV4KSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGluZGV4ID0gMFxuXG4gICAgJGl0ZW1zLmVxKGluZGV4KS50cmlnZ2VyKCdmb2N1cycpXG4gIH1cblxuXG4gIC8vIERST1BET1dOIFBMVUdJTiBERUZJTklUSU9OXG4gIC8vID09PT09PT09PT09PT09PT09PT09PT09PT09XG5cbiAgZnVuY3Rpb24gUGx1Z2luKG9wdGlvbikge1xuICAgIHJldHVybiB0aGlzLmVhY2goZnVuY3Rpb24gKCkge1xuICAgICAgdmFyICR0aGlzID0gJCh0aGlzKVxuICAgICAgdmFyIGRhdGEgID0gJHRoaXMuZGF0YSgnYnMuZHJvcGRvd24nKVxuXG4gICAgICBpZiAoIWRhdGEpICR0aGlzLmRhdGEoJ2JzLmRyb3Bkb3duJywgKGRhdGEgPSBuZXcgRHJvcGRvd24odGhpcykpKVxuICAgICAgaWYgKHR5cGVvZiBvcHRpb24gPT0gJ3N0cmluZycpIGRhdGFbb3B0aW9uXS5jYWxsKCR0aGlzKVxuICAgIH0pXG4gIH1cblxuICB2YXIgb2xkID0gJC5mbi5kcm9wZG93blxuXG4gICQuZm4uZHJvcGRvd24gICAgICAgICAgICAgPSBQbHVnaW5cbiAgJC5mbi5kcm9wZG93bi5Db25zdHJ1Y3RvciA9IERyb3Bkb3duXG5cblxuICAvLyBEUk9QRE9XTiBOTyBDT05GTElDVFxuICAvLyA9PT09PT09PT09PT09PT09PT09PVxuXG4gICQuZm4uZHJvcGRvd24ubm9Db25mbGljdCA9IGZ1bmN0aW9uICgpIHtcbiAgICAkLmZuLmRyb3Bkb3duID0gb2xkXG4gICAgcmV0dXJuIHRoaXNcbiAgfVxuXG5cbiAgLy8gQVBQTFkgVE8gU1RBTkRBUkQgRFJPUERPV04gRUxFTUVOVFNcbiAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cblxuICAkKGRvY3VtZW50KVxuICAgIC5vbignY2xpY2suYnMuZHJvcGRvd24uZGF0YS1hcGknLCBjbGVhck1lbnVzKVxuICAgIC5vbignY2xpY2suYnMuZHJvcGRvd24uZGF0YS1hcGknLCAnLmRyb3Bkb3duIGZvcm0nLCBmdW5jdGlvbiAoZSkgeyBlLnN0b3BQcm9wYWdhdGlvbigpIH0pXG4gICAgLm9uKCdjbGljay5icy5kcm9wZG93bi5kYXRhLWFwaScsIHRvZ2dsZSwgRHJvcGRvd24ucHJvdG90eXBlLnRvZ2dsZSlcbiAgICAub24oJ2tleWRvd24uYnMuZHJvcGRvd24uZGF0YS1hcGknLCB0b2dnbGUsIERyb3Bkb3duLnByb3RvdHlwZS5rZXlkb3duKVxuICAgIC5vbigna2V5ZG93bi5icy5kcm9wZG93bi5kYXRhLWFwaScsICcuZHJvcGRvd24tbWVudScsIERyb3Bkb3duLnByb3RvdHlwZS5rZXlkb3duKVxuXG59KGpRdWVyeSk7XG5cbi8qID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICogQm9vdHN0cmFwOiBtb2RhbC5qcyB2My4zLjdcbiAqIGh0dHA6Ly9nZXRib290c3RyYXAuY29tL2phdmFzY3JpcHQvI21vZGFsc1xuICogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gKiBDb3B5cmlnaHQgMjAxMS0yMDE2IFR3aXR0ZXIsIEluYy5cbiAqIExpY2Vuc2VkIHVuZGVyIE1JVCAoaHR0cHM6Ly9naXRodWIuY29tL3R3YnMvYm9vdHN0cmFwL2Jsb2IvbWFzdGVyL0xJQ0VOU0UpXG4gKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0gKi9cblxuXG4rZnVuY3Rpb24gKCQpIHtcbiAgJ3VzZSBzdHJpY3QnO1xuXG4gIC8vIE1PREFMIENMQVNTIERFRklOSVRJT05cbiAgLy8gPT09PT09PT09PT09PT09PT09PT09PVxuXG4gIHZhciBNb2RhbCA9IGZ1bmN0aW9uIChlbGVtZW50LCBvcHRpb25zKSB7XG4gICAgdGhpcy5vcHRpb25zICAgICAgICAgICAgID0gb3B0aW9uc1xuICAgIHRoaXMuJGJvZHkgICAgICAgICAgICAgICA9ICQoZG9jdW1lbnQuYm9keSlcbiAgICB0aGlzLiRlbGVtZW50ICAgICAgICAgICAgPSAkKGVsZW1lbnQpXG4gICAgdGhpcy4kZGlhbG9nICAgICAgICAgICAgID0gdGhpcy4kZWxlbWVudC5maW5kKCcubW9kYWwtZGlhbG9nJylcbiAgICB0aGlzLiRiYWNrZHJvcCAgICAgICAgICAgPSBudWxsXG4gICAgdGhpcy5pc1Nob3duICAgICAgICAgICAgID0gbnVsbFxuICAgIHRoaXMub3JpZ2luYWxCb2R5UGFkICAgICA9IG51bGxcbiAgICB0aGlzLnNjcm9sbGJhcldpZHRoICAgICAgPSAwXG4gICAgdGhpcy5pZ25vcmVCYWNrZHJvcENsaWNrID0gZmFsc2VcblxuICAgIGlmICh0aGlzLm9wdGlvbnMucmVtb3RlKSB7XG4gICAgICB0aGlzLiRlbGVtZW50XG4gICAgICAgIC5maW5kKCcubW9kYWwtY29udGVudCcpXG4gICAgICAgIC5sb2FkKHRoaXMub3B0aW9ucy5yZW1vdGUsICQucHJveHkoZnVuY3Rpb24gKCkge1xuICAgICAgICAgIHRoaXMuJGVsZW1lbnQudHJpZ2dlcignbG9hZGVkLmJzLm1vZGFsJylcbiAgICAgICAgfSwgdGhpcykpXG4gICAgfVxuICB9XG5cbiAgTW9kYWwuVkVSU0lPTiAgPSAnMy4zLjcnXG5cbiAgTW9kYWwuVFJBTlNJVElPTl9EVVJBVElPTiA9IDMwMFxuICBNb2RhbC5CQUNLRFJPUF9UUkFOU0lUSU9OX0RVUkFUSU9OID0gMTUwXG5cbiAgTW9kYWwuREVGQVVMVFMgPSB7XG4gICAgYmFja2Ryb3A6IHRydWUsXG4gICAga2V5Ym9hcmQ6IHRydWUsXG4gICAgc2hvdzogdHJ1ZVxuICB9XG5cbiAgTW9kYWwucHJvdG90eXBlLnRvZ2dsZSA9IGZ1bmN0aW9uIChfcmVsYXRlZFRhcmdldCkge1xuICAgIHJldHVybiB0aGlzLmlzU2hvd24gPyB0aGlzLmhpZGUoKSA6IHRoaXMuc2hvdyhfcmVsYXRlZFRhcmdldClcbiAgfVxuXG4gIE1vZGFsLnByb3RvdHlwZS5zaG93ID0gZnVuY3Rpb24gKF9yZWxhdGVkVGFyZ2V0KSB7XG4gICAgdmFyIHRoYXQgPSB0aGlzXG4gICAgdmFyIGUgICAgPSAkLkV2ZW50KCdzaG93LmJzLm1vZGFsJywgeyByZWxhdGVkVGFyZ2V0OiBfcmVsYXRlZFRhcmdldCB9KVxuXG4gICAgdGhpcy4kZWxlbWVudC50cmlnZ2VyKGUpXG5cbiAgICBpZiAodGhpcy5pc1Nob3duIHx8IGUuaXNEZWZhdWx0UHJldmVudGVkKCkpIHJldHVyblxuXG4gICAgdGhpcy5pc1Nob3duID0gdHJ1ZVxuXG4gICAgdGhpcy5jaGVja1Njcm9sbGJhcigpXG4gICAgdGhpcy5zZXRTY3JvbGxiYXIoKVxuICAgIHRoaXMuJGJvZHkuYWRkQ2xhc3MoJ21vZGFsLW9wZW4nKVxuXG4gICAgdGhpcy5lc2NhcGUoKVxuICAgIHRoaXMucmVzaXplKClcblxuICAgIHRoaXMuJGVsZW1lbnQub24oJ2NsaWNrLmRpc21pc3MuYnMubW9kYWwnLCAnW2RhdGEtZGlzbWlzcz1cIm1vZGFsXCJdJywgJC5wcm94eSh0aGlzLmhpZGUsIHRoaXMpKVxuXG4gICAgdGhpcy4kZGlhbG9nLm9uKCdtb3VzZWRvd24uZGlzbWlzcy5icy5tb2RhbCcsIGZ1bmN0aW9uICgpIHtcbiAgICAgIHRoYXQuJGVsZW1lbnQub25lKCdtb3VzZXVwLmRpc21pc3MuYnMubW9kYWwnLCBmdW5jdGlvbiAoZSkge1xuICAgICAgICBpZiAoJChlLnRhcmdldCkuaXModGhhdC4kZWxlbWVudCkpIHRoYXQuaWdub3JlQmFja2Ryb3BDbGljayA9IHRydWVcbiAgICAgIH0pXG4gICAgfSlcblxuICAgIHRoaXMuYmFja2Ryb3AoZnVuY3Rpb24gKCkge1xuICAgICAgdmFyIHRyYW5zaXRpb24gPSAkLnN1cHBvcnQudHJhbnNpdGlvbiAmJiB0aGF0LiRlbGVtZW50Lmhhc0NsYXNzKCdmYWRlJylcblxuICAgICAgaWYgKCF0aGF0LiRlbGVtZW50LnBhcmVudCgpLmxlbmd0aCkge1xuICAgICAgICB0aGF0LiRlbGVtZW50LmFwcGVuZFRvKHRoYXQuJGJvZHkpIC8vIGRvbid0IG1vdmUgbW9kYWxzIGRvbSBwb3NpdGlvblxuICAgICAgfVxuXG4gICAgICB0aGF0LiRlbGVtZW50XG4gICAgICAgIC5zaG93KClcbiAgICAgICAgLnNjcm9sbFRvcCgwKVxuXG4gICAgICB0aGF0LmFkanVzdERpYWxvZygpXG5cbiAgICAgIGlmICh0cmFuc2l0aW9uKSB7XG4gICAgICAgIHRoYXQuJGVsZW1lbnRbMF0ub2Zmc2V0V2lkdGggLy8gZm9yY2UgcmVmbG93XG4gICAgICB9XG5cbiAgICAgIHRoYXQuJGVsZW1lbnQuYWRkQ2xhc3MoJ2luJylcblxuICAgICAgdGhhdC5lbmZvcmNlRm9jdXMoKVxuXG4gICAgICB2YXIgZSA9ICQuRXZlbnQoJ3Nob3duLmJzLm1vZGFsJywgeyByZWxhdGVkVGFyZ2V0OiBfcmVsYXRlZFRhcmdldCB9KVxuXG4gICAgICB0cmFuc2l0aW9uID9cbiAgICAgICAgdGhhdC4kZGlhbG9nIC8vIHdhaXQgZm9yIG1vZGFsIHRvIHNsaWRlIGluXG4gICAgICAgICAgLm9uZSgnYnNUcmFuc2l0aW9uRW5kJywgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdGhhdC4kZWxlbWVudC50cmlnZ2VyKCdmb2N1cycpLnRyaWdnZXIoZSlcbiAgICAgICAgICB9KVxuICAgICAgICAgIC5lbXVsYXRlVHJhbnNpdGlvbkVuZChNb2RhbC5UUkFOU0lUSU9OX0RVUkFUSU9OKSA6XG4gICAgICAgIHRoYXQuJGVsZW1lbnQudHJpZ2dlcignZm9jdXMnKS50cmlnZ2VyKGUpXG4gICAgfSlcbiAgfVxuXG4gIE1vZGFsLnByb3RvdHlwZS5oaWRlID0gZnVuY3Rpb24gKGUpIHtcbiAgICBpZiAoZSkgZS5wcmV2ZW50RGVmYXVsdCgpXG5cbiAgICBlID0gJC5FdmVudCgnaGlkZS5icy5tb2RhbCcpXG5cbiAgICB0aGlzLiRlbGVtZW50LnRyaWdnZXIoZSlcblxuICAgIGlmICghdGhpcy5pc1Nob3duIHx8IGUuaXNEZWZhdWx0UHJldmVudGVkKCkpIHJldHVyblxuXG4gICAgdGhpcy5pc1Nob3duID0gZmFsc2VcblxuICAgIHRoaXMuZXNjYXBlKClcbiAgICB0aGlzLnJlc2l6ZSgpXG5cbiAgICAkKGRvY3VtZW50KS5vZmYoJ2ZvY3VzaW4uYnMubW9kYWwnKVxuXG4gICAgdGhpcy4kZWxlbWVudFxuICAgICAgLnJlbW92ZUNsYXNzKCdpbicpXG4gICAgICAub2ZmKCdjbGljay5kaXNtaXNzLmJzLm1vZGFsJylcbiAgICAgIC5vZmYoJ21vdXNldXAuZGlzbWlzcy5icy5tb2RhbCcpXG5cbiAgICB0aGlzLiRkaWFsb2cub2ZmKCdtb3VzZWRvd24uZGlzbWlzcy5icy5tb2RhbCcpXG5cbiAgICAkLnN1cHBvcnQudHJhbnNpdGlvbiAmJiB0aGlzLiRlbGVtZW50Lmhhc0NsYXNzKCdmYWRlJykgP1xuICAgICAgdGhpcy4kZWxlbWVudFxuICAgICAgICAub25lKCdic1RyYW5zaXRpb25FbmQnLCAkLnByb3h5KHRoaXMuaGlkZU1vZGFsLCB0aGlzKSlcbiAgICAgICAgLmVtdWxhdGVUcmFuc2l0aW9uRW5kKE1vZGFsLlRSQU5TSVRJT05fRFVSQVRJT04pIDpcbiAgICAgIHRoaXMuaGlkZU1vZGFsKClcbiAgfVxuXG4gIE1vZGFsLnByb3RvdHlwZS5lbmZvcmNlRm9jdXMgPSBmdW5jdGlvbiAoKSB7XG4gICAgJChkb2N1bWVudClcbiAgICAgIC5vZmYoJ2ZvY3VzaW4uYnMubW9kYWwnKSAvLyBndWFyZCBhZ2FpbnN0IGluZmluaXRlIGZvY3VzIGxvb3BcbiAgICAgIC5vbignZm9jdXNpbi5icy5tb2RhbCcsICQucHJveHkoZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgaWYgKGRvY3VtZW50ICE9PSBlLnRhcmdldCAmJlxuICAgICAgICAgICAgdGhpcy4kZWxlbWVudFswXSAhPT0gZS50YXJnZXQgJiZcbiAgICAgICAgICAgICF0aGlzLiRlbGVtZW50LmhhcyhlLnRhcmdldCkubGVuZ3RoKSB7XG4gICAgICAgICAgdGhpcy4kZWxlbWVudC50cmlnZ2VyKCdmb2N1cycpXG4gICAgICAgIH1cbiAgICAgIH0sIHRoaXMpKVxuICB9XG5cbiAgTW9kYWwucHJvdG90eXBlLmVzY2FwZSA9IGZ1bmN0aW9uICgpIHtcbiAgICBpZiAodGhpcy5pc1Nob3duICYmIHRoaXMub3B0aW9ucy5rZXlib2FyZCkge1xuICAgICAgdGhpcy4kZWxlbWVudC5vbigna2V5ZG93bi5kaXNtaXNzLmJzLm1vZGFsJywgJC5wcm94eShmdW5jdGlvbiAoZSkge1xuICAgICAgICBlLndoaWNoID09IDI3ICYmIHRoaXMuaGlkZSgpXG4gICAgICB9LCB0aGlzKSlcbiAgICB9IGVsc2UgaWYgKCF0aGlzLmlzU2hvd24pIHtcbiAgICAgIHRoaXMuJGVsZW1lbnQub2ZmKCdrZXlkb3duLmRpc21pc3MuYnMubW9kYWwnKVxuICAgIH1cbiAgfVxuXG4gIE1vZGFsLnByb3RvdHlwZS5yZXNpemUgPSBmdW5jdGlvbiAoKSB7XG4gICAgaWYgKHRoaXMuaXNTaG93bikge1xuICAgICAgJCh3aW5kb3cpLm9uKCdyZXNpemUuYnMubW9kYWwnLCAkLnByb3h5KHRoaXMuaGFuZGxlVXBkYXRlLCB0aGlzKSlcbiAgICB9IGVsc2Uge1xuICAgICAgJCh3aW5kb3cpLm9mZigncmVzaXplLmJzLm1vZGFsJylcbiAgICB9XG4gIH1cblxuICBNb2RhbC5wcm90b3R5cGUuaGlkZU1vZGFsID0gZnVuY3Rpb24gKCkge1xuICAgIHZhciB0aGF0ID0gdGhpc1xuICAgIHRoaXMuJGVsZW1lbnQuaGlkZSgpXG4gICAgdGhpcy5iYWNrZHJvcChmdW5jdGlvbiAoKSB7XG4gICAgICB0aGF0LiRib2R5LnJlbW92ZUNsYXNzKCdtb2RhbC1vcGVuJylcbiAgICAgIHRoYXQucmVzZXRBZGp1c3RtZW50cygpXG4gICAgICB0aGF0LnJlc2V0U2Nyb2xsYmFyKClcbiAgICAgIHRoYXQuJGVsZW1lbnQudHJpZ2dlcignaGlkZGVuLmJzLm1vZGFsJylcbiAgICB9KVxuICB9XG5cbiAgTW9kYWwucHJvdG90eXBlLnJlbW92ZUJhY2tkcm9wID0gZnVuY3Rpb24gKCkge1xuICAgIHRoaXMuJGJhY2tkcm9wICYmIHRoaXMuJGJhY2tkcm9wLnJlbW92ZSgpXG4gICAgdGhpcy4kYmFja2Ryb3AgPSBudWxsXG4gIH1cblxuICBNb2RhbC5wcm90b3R5cGUuYmFja2Ryb3AgPSBmdW5jdGlvbiAoY2FsbGJhY2spIHtcbiAgICB2YXIgdGhhdCA9IHRoaXNcbiAgICB2YXIgYW5pbWF0ZSA9IHRoaXMuJGVsZW1lbnQuaGFzQ2xhc3MoJ2ZhZGUnKSA/ICdmYWRlJyA6ICcnXG5cbiAgICBpZiAodGhpcy5pc1Nob3duICYmIHRoaXMub3B0aW9ucy5iYWNrZHJvcCkge1xuICAgICAgdmFyIGRvQW5pbWF0ZSA9ICQuc3VwcG9ydC50cmFuc2l0aW9uICYmIGFuaW1hdGVcblxuICAgICAgdGhpcy4kYmFja2Ryb3AgPSAkKGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpKVxuICAgICAgICAuYWRkQ2xhc3MoJ21vZGFsLWJhY2tkcm9wICcgKyBhbmltYXRlKVxuICAgICAgICAuYXBwZW5kVG8odGhpcy4kYm9keSlcblxuICAgICAgdGhpcy4kZWxlbWVudC5vbignY2xpY2suZGlzbWlzcy5icy5tb2RhbCcsICQucHJveHkoZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgaWYgKHRoaXMuaWdub3JlQmFja2Ryb3BDbGljaykge1xuICAgICAgICAgIHRoaXMuaWdub3JlQmFja2Ryb3BDbGljayA9IGZhbHNlXG4gICAgICAgICAgcmV0dXJuXG4gICAgICAgIH1cbiAgICAgICAgaWYgKGUudGFyZ2V0ICE9PSBlLmN1cnJlbnRUYXJnZXQpIHJldHVyblxuICAgICAgICB0aGlzLm9wdGlvbnMuYmFja2Ryb3AgPT0gJ3N0YXRpYydcbiAgICAgICAgICA/IHRoaXMuJGVsZW1lbnRbMF0uZm9jdXMoKVxuICAgICAgICAgIDogdGhpcy5oaWRlKClcbiAgICAgIH0sIHRoaXMpKVxuXG4gICAgICBpZiAoZG9BbmltYXRlKSB0aGlzLiRiYWNrZHJvcFswXS5vZmZzZXRXaWR0aCAvLyBmb3JjZSByZWZsb3dcblxuICAgICAgdGhpcy4kYmFja2Ryb3AuYWRkQ2xhc3MoJ2luJylcblxuICAgICAgaWYgKCFjYWxsYmFjaykgcmV0dXJuXG5cbiAgICAgIGRvQW5pbWF0ZSA/XG4gICAgICAgIHRoaXMuJGJhY2tkcm9wXG4gICAgICAgICAgLm9uZSgnYnNUcmFuc2l0aW9uRW5kJywgY2FsbGJhY2spXG4gICAgICAgICAgLmVtdWxhdGVUcmFuc2l0aW9uRW5kKE1vZGFsLkJBQ0tEUk9QX1RSQU5TSVRJT05fRFVSQVRJT04pIDpcbiAgICAgICAgY2FsbGJhY2soKVxuXG4gICAgfSBlbHNlIGlmICghdGhpcy5pc1Nob3duICYmIHRoaXMuJGJhY2tkcm9wKSB7XG4gICAgICB0aGlzLiRiYWNrZHJvcC5yZW1vdmVDbGFzcygnaW4nKVxuXG4gICAgICB2YXIgY2FsbGJhY2tSZW1vdmUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoYXQucmVtb3ZlQmFja2Ryb3AoKVxuICAgICAgICBjYWxsYmFjayAmJiBjYWxsYmFjaygpXG4gICAgICB9XG4gICAgICAkLnN1cHBvcnQudHJhbnNpdGlvbiAmJiB0aGlzLiRlbGVtZW50Lmhhc0NsYXNzKCdmYWRlJykgP1xuICAgICAgICB0aGlzLiRiYWNrZHJvcFxuICAgICAgICAgIC5vbmUoJ2JzVHJhbnNpdGlvbkVuZCcsIGNhbGxiYWNrUmVtb3ZlKVxuICAgICAgICAgIC5lbXVsYXRlVHJhbnNpdGlvbkVuZChNb2RhbC5CQUNLRFJPUF9UUkFOU0lUSU9OX0RVUkFUSU9OKSA6XG4gICAgICAgIGNhbGxiYWNrUmVtb3ZlKClcblxuICAgIH0gZWxzZSBpZiAoY2FsbGJhY2spIHtcbiAgICAgIGNhbGxiYWNrKClcbiAgICB9XG4gIH1cblxuICAvLyB0aGVzZSBmb2xsb3dpbmcgbWV0aG9kcyBhcmUgdXNlZCB0byBoYW5kbGUgb3ZlcmZsb3dpbmcgbW9kYWxzXG5cbiAgTW9kYWwucHJvdG90eXBlLmhhbmRsZVVwZGF0ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICB0aGlzLmFkanVzdERpYWxvZygpXG4gIH1cblxuICBNb2RhbC5wcm90b3R5cGUuYWRqdXN0RGlhbG9nID0gZnVuY3Rpb24gKCkge1xuICAgIHZhciBtb2RhbElzT3ZlcmZsb3dpbmcgPSB0aGlzLiRlbGVtZW50WzBdLnNjcm9sbEhlaWdodCA+IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5jbGllbnRIZWlnaHRcblxuICAgIHRoaXMuJGVsZW1lbnQuY3NzKHtcbiAgICAgIHBhZGRpbmdMZWZ0OiAgIXRoaXMuYm9keUlzT3ZlcmZsb3dpbmcgJiYgbW9kYWxJc092ZXJmbG93aW5nID8gdGhpcy5zY3JvbGxiYXJXaWR0aCA6ICcnLFxuICAgICAgcGFkZGluZ1JpZ2h0OiB0aGlzLmJvZHlJc092ZXJmbG93aW5nICYmICFtb2RhbElzT3ZlcmZsb3dpbmcgPyB0aGlzLnNjcm9sbGJhcldpZHRoIDogJydcbiAgICB9KVxuICB9XG5cbiAgTW9kYWwucHJvdG90eXBlLnJlc2V0QWRqdXN0bWVudHMgPSBmdW5jdGlvbiAoKSB7XG4gICAgdGhpcy4kZWxlbWVudC5jc3Moe1xuICAgICAgcGFkZGluZ0xlZnQ6ICcnLFxuICAgICAgcGFkZGluZ1JpZ2h0OiAnJ1xuICAgIH0pXG4gIH1cblxuICBNb2RhbC5wcm90b3R5cGUuY2hlY2tTY3JvbGxiYXIgPSBmdW5jdGlvbiAoKSB7XG4gICAgdmFyIGZ1bGxXaW5kb3dXaWR0aCA9IHdpbmRvdy5pbm5lcldpZHRoXG4gICAgaWYgKCFmdWxsV2luZG93V2lkdGgpIHsgLy8gd29ya2Fyb3VuZCBmb3IgbWlzc2luZyB3aW5kb3cuaW5uZXJXaWR0aCBpbiBJRThcbiAgICAgIHZhciBkb2N1bWVudEVsZW1lbnRSZWN0ID0gZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpXG4gICAgICBmdWxsV2luZG93V2lkdGggPSBkb2N1bWVudEVsZW1lbnRSZWN0LnJpZ2h0IC0gTWF0aC5hYnMoZG9jdW1lbnRFbGVtZW50UmVjdC5sZWZ0KVxuICAgIH1cbiAgICB0aGlzLmJvZHlJc092ZXJmbG93aW5nID0gZG9jdW1lbnQuYm9keS5jbGllbnRXaWR0aCA8IGZ1bGxXaW5kb3dXaWR0aFxuICAgIHRoaXMuc2Nyb2xsYmFyV2lkdGggPSB0aGlzLm1lYXN1cmVTY3JvbGxiYXIoKVxuICB9XG5cbiAgTW9kYWwucHJvdG90eXBlLnNldFNjcm9sbGJhciA9IGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgYm9keVBhZCA9IHBhcnNlSW50KCh0aGlzLiRib2R5LmNzcygncGFkZGluZy1yaWdodCcpIHx8IDApLCAxMClcbiAgICB0aGlzLm9yaWdpbmFsQm9keVBhZCA9IGRvY3VtZW50LmJvZHkuc3R5bGUucGFkZGluZ1JpZ2h0IHx8ICcnXG4gICAgaWYgKHRoaXMuYm9keUlzT3ZlcmZsb3dpbmcpIHRoaXMuJGJvZHkuY3NzKCdwYWRkaW5nLXJpZ2h0JywgYm9keVBhZCArIHRoaXMuc2Nyb2xsYmFyV2lkdGgpXG4gIH1cblxuICBNb2RhbC5wcm90b3R5cGUucmVzZXRTY3JvbGxiYXIgPSBmdW5jdGlvbiAoKSB7XG4gICAgdGhpcy4kYm9keS5jc3MoJ3BhZGRpbmctcmlnaHQnLCB0aGlzLm9yaWdpbmFsQm9keVBhZClcbiAgfVxuXG4gIE1vZGFsLnByb3RvdHlwZS5tZWFzdXJlU2Nyb2xsYmFyID0gZnVuY3Rpb24gKCkgeyAvLyB0aHggd2Fsc2hcbiAgICB2YXIgc2Nyb2xsRGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2JylcbiAgICBzY3JvbGxEaXYuY2xhc3NOYW1lID0gJ21vZGFsLXNjcm9sbGJhci1tZWFzdXJlJ1xuICAgIHRoaXMuJGJvZHkuYXBwZW5kKHNjcm9sbERpdilcbiAgICB2YXIgc2Nyb2xsYmFyV2lkdGggPSBzY3JvbGxEaXYub2Zmc2V0V2lkdGggLSBzY3JvbGxEaXYuY2xpZW50V2lkdGhcbiAgICB0aGlzLiRib2R5WzBdLnJlbW92ZUNoaWxkKHNjcm9sbERpdilcbiAgICByZXR1cm4gc2Nyb2xsYmFyV2lkdGhcbiAgfVxuXG5cbiAgLy8gTU9EQUwgUExVR0lOIERFRklOSVRJT05cbiAgLy8gPT09PT09PT09PT09PT09PT09PT09PT1cblxuICBmdW5jdGlvbiBQbHVnaW4ob3B0aW9uLCBfcmVsYXRlZFRhcmdldCkge1xuICAgIHJldHVybiB0aGlzLmVhY2goZnVuY3Rpb24gKCkge1xuICAgICAgdmFyICR0aGlzICAgPSAkKHRoaXMpXG4gICAgICB2YXIgZGF0YSAgICA9ICR0aGlzLmRhdGEoJ2JzLm1vZGFsJylcbiAgICAgIHZhciBvcHRpb25zID0gJC5leHRlbmQoe30sIE1vZGFsLkRFRkFVTFRTLCAkdGhpcy5kYXRhKCksIHR5cGVvZiBvcHRpb24gPT0gJ29iamVjdCcgJiYgb3B0aW9uKVxuXG4gICAgICBpZiAoIWRhdGEpICR0aGlzLmRhdGEoJ2JzLm1vZGFsJywgKGRhdGEgPSBuZXcgTW9kYWwodGhpcywgb3B0aW9ucykpKVxuICAgICAgaWYgKHR5cGVvZiBvcHRpb24gPT0gJ3N0cmluZycpIGRhdGFbb3B0aW9uXShfcmVsYXRlZFRhcmdldClcbiAgICAgIGVsc2UgaWYgKG9wdGlvbnMuc2hvdykgZGF0YS5zaG93KF9yZWxhdGVkVGFyZ2V0KVxuICAgIH0pXG4gIH1cblxuICB2YXIgb2xkID0gJC5mbi5tb2RhbFxuXG4gICQuZm4ubW9kYWwgICAgICAgICAgICAgPSBQbHVnaW5cbiAgJC5mbi5tb2RhbC5Db25zdHJ1Y3RvciA9IE1vZGFsXG5cblxuICAvLyBNT0RBTCBOTyBDT05GTElDVFxuICAvLyA9PT09PT09PT09PT09PT09PVxuXG4gICQuZm4ubW9kYWwubm9Db25mbGljdCA9IGZ1bmN0aW9uICgpIHtcbiAgICAkLmZuLm1vZGFsID0gb2xkXG4gICAgcmV0dXJuIHRoaXNcbiAgfVxuXG5cbiAgLy8gTU9EQUwgREFUQS1BUElcbiAgLy8gPT09PT09PT09PT09PT1cblxuICAkKGRvY3VtZW50KS5vbignY2xpY2suYnMubW9kYWwuZGF0YS1hcGknLCAnW2RhdGEtdG9nZ2xlPVwibW9kYWxcIl0nLCBmdW5jdGlvbiAoZSkge1xuICAgIHZhciAkdGhpcyAgID0gJCh0aGlzKVxuICAgIHZhciBocmVmICAgID0gJHRoaXMuYXR0cignaHJlZicpXG4gICAgdmFyICR0YXJnZXQgPSAkKCR0aGlzLmF0dHIoJ2RhdGEtdGFyZ2V0JykgfHwgKGhyZWYgJiYgaHJlZi5yZXBsYWNlKC8uKig/PSNbXlxcc10rJCkvLCAnJykpKSAvLyBzdHJpcCBmb3IgaWU3XG4gICAgdmFyIG9wdGlvbiAgPSAkdGFyZ2V0LmRhdGEoJ2JzLm1vZGFsJykgPyAndG9nZ2xlJyA6ICQuZXh0ZW5kKHsgcmVtb3RlOiAhLyMvLnRlc3QoaHJlZikgJiYgaHJlZiB9LCAkdGFyZ2V0LmRhdGEoKSwgJHRoaXMuZGF0YSgpKVxuXG4gICAgaWYgKCR0aGlzLmlzKCdhJykpIGUucHJldmVudERlZmF1bHQoKVxuXG4gICAgJHRhcmdldC5vbmUoJ3Nob3cuYnMubW9kYWwnLCBmdW5jdGlvbiAoc2hvd0V2ZW50KSB7XG4gICAgICBpZiAoc2hvd0V2ZW50LmlzRGVmYXVsdFByZXZlbnRlZCgpKSByZXR1cm4gLy8gb25seSByZWdpc3RlciBmb2N1cyByZXN0b3JlciBpZiBtb2RhbCB3aWxsIGFjdHVhbGx5IGdldCBzaG93blxuICAgICAgJHRhcmdldC5vbmUoJ2hpZGRlbi5icy5tb2RhbCcsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgJHRoaXMuaXMoJzp2aXNpYmxlJykgJiYgJHRoaXMudHJpZ2dlcignZm9jdXMnKVxuICAgICAgfSlcbiAgICB9KVxuICAgIFBsdWdpbi5jYWxsKCR0YXJnZXQsIG9wdGlvbiwgdGhpcylcbiAgfSlcblxufShqUXVlcnkpO1xuXG4vKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAqIEJvb3RzdHJhcDogdG9vbHRpcC5qcyB2My4zLjdcbiAqIGh0dHA6Ly9nZXRib290c3RyYXAuY29tL2phdmFzY3JpcHQvI3Rvb2x0aXBcbiAqIEluc3BpcmVkIGJ5IHRoZSBvcmlnaW5hbCBqUXVlcnkudGlwc3kgYnkgSmFzb24gRnJhbWVcbiAqID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICogQ29weXJpZ2h0IDIwMTEtMjAxNiBUd2l0dGVyLCBJbmMuXG4gKiBMaWNlbnNlZCB1bmRlciBNSVQgKGh0dHBzOi8vZ2l0aHViLmNvbS90d2JzL2Jvb3RzdHJhcC9ibG9iL21hc3Rlci9MSUNFTlNFKVxuICogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09ICovXG5cblxuK2Z1bmN0aW9uICgkKSB7XG4gICd1c2Ugc3RyaWN0JztcblxuICAvLyBUT09MVElQIFBVQkxJQyBDTEFTUyBERUZJTklUSU9OXG4gIC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cblxuICB2YXIgVG9vbHRpcCA9IGZ1bmN0aW9uIChlbGVtZW50LCBvcHRpb25zKSB7XG4gICAgdGhpcy50eXBlICAgICAgID0gbnVsbFxuICAgIHRoaXMub3B0aW9ucyAgICA9IG51bGxcbiAgICB0aGlzLmVuYWJsZWQgICAgPSBudWxsXG4gICAgdGhpcy50aW1lb3V0ICAgID0gbnVsbFxuICAgIHRoaXMuaG92ZXJTdGF0ZSA9IG51bGxcbiAgICB0aGlzLiRlbGVtZW50ICAgPSBudWxsXG4gICAgdGhpcy5pblN0YXRlICAgID0gbnVsbFxuXG4gICAgdGhpcy5pbml0KCd0b29sdGlwJywgZWxlbWVudCwgb3B0aW9ucylcbiAgfVxuXG4gIFRvb2x0aXAuVkVSU0lPTiAgPSAnMy4zLjcnXG5cbiAgVG9vbHRpcC5UUkFOU0lUSU9OX0RVUkFUSU9OID0gMTUwXG5cbiAgVG9vbHRpcC5ERUZBVUxUUyA9IHtcbiAgICBhbmltYXRpb246IHRydWUsXG4gICAgcGxhY2VtZW50OiAndG9wJyxcbiAgICBzZWxlY3RvcjogZmFsc2UsXG4gICAgdGVtcGxhdGU6ICc8ZGl2IGNsYXNzPVwidG9vbHRpcFwiIHJvbGU9XCJ0b29sdGlwXCI+PGRpdiBjbGFzcz1cInRvb2x0aXAtYXJyb3dcIj48L2Rpdj48ZGl2IGNsYXNzPVwidG9vbHRpcC1pbm5lclwiPjwvZGl2PjwvZGl2PicsXG4gICAgdHJpZ2dlcjogJ2hvdmVyIGZvY3VzJyxcbiAgICB0aXRsZTogJycsXG4gICAgZGVsYXk6IDAsXG4gICAgaHRtbDogZmFsc2UsXG4gICAgY29udGFpbmVyOiBmYWxzZSxcbiAgICB2aWV3cG9ydDoge1xuICAgICAgc2VsZWN0b3I6ICdib2R5JyxcbiAgICAgIHBhZGRpbmc6IDBcbiAgICB9XG4gIH1cblxuICBUb29sdGlwLnByb3RvdHlwZS5pbml0ID0gZnVuY3Rpb24gKHR5cGUsIGVsZW1lbnQsIG9wdGlvbnMpIHtcbiAgICB0aGlzLmVuYWJsZWQgICA9IHRydWVcbiAgICB0aGlzLnR5cGUgICAgICA9IHR5cGVcbiAgICB0aGlzLiRlbGVtZW50ICA9ICQoZWxlbWVudClcbiAgICB0aGlzLm9wdGlvbnMgICA9IHRoaXMuZ2V0T3B0aW9ucyhvcHRpb25zKVxuICAgIHRoaXMuJHZpZXdwb3J0ID0gdGhpcy5vcHRpb25zLnZpZXdwb3J0ICYmICQoJC5pc0Z1bmN0aW9uKHRoaXMub3B0aW9ucy52aWV3cG9ydCkgPyB0aGlzLm9wdGlvbnMudmlld3BvcnQuY2FsbCh0aGlzLCB0aGlzLiRlbGVtZW50KSA6ICh0aGlzLm9wdGlvbnMudmlld3BvcnQuc2VsZWN0b3IgfHwgdGhpcy5vcHRpb25zLnZpZXdwb3J0KSlcbiAgICB0aGlzLmluU3RhdGUgICA9IHsgY2xpY2s6IGZhbHNlLCBob3ZlcjogZmFsc2UsIGZvY3VzOiBmYWxzZSB9XG5cbiAgICBpZiAodGhpcy4kZWxlbWVudFswXSBpbnN0YW5jZW9mIGRvY3VtZW50LmNvbnN0cnVjdG9yICYmICF0aGlzLm9wdGlvbnMuc2VsZWN0b3IpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignYHNlbGVjdG9yYCBvcHRpb24gbXVzdCBiZSBzcGVjaWZpZWQgd2hlbiBpbml0aWFsaXppbmcgJyArIHRoaXMudHlwZSArICcgb24gdGhlIHdpbmRvdy5kb2N1bWVudCBvYmplY3QhJylcbiAgICB9XG5cbiAgICB2YXIgdHJpZ2dlcnMgPSB0aGlzLm9wdGlvbnMudHJpZ2dlci5zcGxpdCgnICcpXG5cbiAgICBmb3IgKHZhciBpID0gdHJpZ2dlcnMubGVuZ3RoOyBpLS07KSB7XG4gICAgICB2YXIgdHJpZ2dlciA9IHRyaWdnZXJzW2ldXG5cbiAgICAgIGlmICh0cmlnZ2VyID09ICdjbGljaycpIHtcbiAgICAgICAgdGhpcy4kZWxlbWVudC5vbignY2xpY2suJyArIHRoaXMudHlwZSwgdGhpcy5vcHRpb25zLnNlbGVjdG9yLCAkLnByb3h5KHRoaXMudG9nZ2xlLCB0aGlzKSlcbiAgICAgIH0gZWxzZSBpZiAodHJpZ2dlciAhPSAnbWFudWFsJykge1xuICAgICAgICB2YXIgZXZlbnRJbiAgPSB0cmlnZ2VyID09ICdob3ZlcicgPyAnbW91c2VlbnRlcicgOiAnZm9jdXNpbidcbiAgICAgICAgdmFyIGV2ZW50T3V0ID0gdHJpZ2dlciA9PSAnaG92ZXInID8gJ21vdXNlbGVhdmUnIDogJ2ZvY3Vzb3V0J1xuXG4gICAgICAgIHRoaXMuJGVsZW1lbnQub24oZXZlbnRJbiAgKyAnLicgKyB0aGlzLnR5cGUsIHRoaXMub3B0aW9ucy5zZWxlY3RvciwgJC5wcm94eSh0aGlzLmVudGVyLCB0aGlzKSlcbiAgICAgICAgdGhpcy4kZWxlbWVudC5vbihldmVudE91dCArICcuJyArIHRoaXMudHlwZSwgdGhpcy5vcHRpb25zLnNlbGVjdG9yLCAkLnByb3h5KHRoaXMubGVhdmUsIHRoaXMpKVxuICAgICAgfVxuICAgIH1cblxuICAgIHRoaXMub3B0aW9ucy5zZWxlY3RvciA/XG4gICAgICAodGhpcy5fb3B0aW9ucyA9ICQuZXh0ZW5kKHt9LCB0aGlzLm9wdGlvbnMsIHsgdHJpZ2dlcjogJ21hbnVhbCcsIHNlbGVjdG9yOiAnJyB9KSkgOlxuICAgICAgdGhpcy5maXhUaXRsZSgpXG4gIH1cblxuICBUb29sdGlwLnByb3RvdHlwZS5nZXREZWZhdWx0cyA9IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gVG9vbHRpcC5ERUZBVUxUU1xuICB9XG5cbiAgVG9vbHRpcC5wcm90b3R5cGUuZ2V0T3B0aW9ucyA9IGZ1bmN0aW9uIChvcHRpb25zKSB7XG4gICAgb3B0aW9ucyA9ICQuZXh0ZW5kKHt9LCB0aGlzLmdldERlZmF1bHRzKCksIHRoaXMuJGVsZW1lbnQuZGF0YSgpLCBvcHRpb25zKVxuXG4gICAgaWYgKG9wdGlvbnMuZGVsYXkgJiYgdHlwZW9mIG9wdGlvbnMuZGVsYXkgPT0gJ251bWJlcicpIHtcbiAgICAgIG9wdGlvbnMuZGVsYXkgPSB7XG4gICAgICAgIHNob3c6IG9wdGlvbnMuZGVsYXksXG4gICAgICAgIGhpZGU6IG9wdGlvbnMuZGVsYXlcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gb3B0aW9uc1xuICB9XG5cbiAgVG9vbHRpcC5wcm90b3R5cGUuZ2V0RGVsZWdhdGVPcHRpb25zID0gZnVuY3Rpb24gKCkge1xuICAgIHZhciBvcHRpb25zICA9IHt9XG4gICAgdmFyIGRlZmF1bHRzID0gdGhpcy5nZXREZWZhdWx0cygpXG5cbiAgICB0aGlzLl9vcHRpb25zICYmICQuZWFjaCh0aGlzLl9vcHRpb25zLCBmdW5jdGlvbiAoa2V5LCB2YWx1ZSkge1xuICAgICAgaWYgKGRlZmF1bHRzW2tleV0gIT0gdmFsdWUpIG9wdGlvbnNba2V5XSA9IHZhbHVlXG4gICAgfSlcblxuICAgIHJldHVybiBvcHRpb25zXG4gIH1cblxuICBUb29sdGlwLnByb3RvdHlwZS5lbnRlciA9IGZ1bmN0aW9uIChvYmopIHtcbiAgICB2YXIgc2VsZiA9IG9iaiBpbnN0YW5jZW9mIHRoaXMuY29uc3RydWN0b3IgP1xuICAgICAgb2JqIDogJChvYmouY3VycmVudFRhcmdldCkuZGF0YSgnYnMuJyArIHRoaXMudHlwZSlcblxuICAgIGlmICghc2VsZikge1xuICAgICAgc2VsZiA9IG5ldyB0aGlzLmNvbnN0cnVjdG9yKG9iai5jdXJyZW50VGFyZ2V0LCB0aGlzLmdldERlbGVnYXRlT3B0aW9ucygpKVxuICAgICAgJChvYmouY3VycmVudFRhcmdldCkuZGF0YSgnYnMuJyArIHRoaXMudHlwZSwgc2VsZilcbiAgICB9XG5cbiAgICBpZiAob2JqIGluc3RhbmNlb2YgJC5FdmVudCkge1xuICAgICAgc2VsZi5pblN0YXRlW29iai50eXBlID09ICdmb2N1c2luJyA/ICdmb2N1cycgOiAnaG92ZXInXSA9IHRydWVcbiAgICB9XG5cbiAgICBpZiAoc2VsZi50aXAoKS5oYXNDbGFzcygnaW4nKSB8fCBzZWxmLmhvdmVyU3RhdGUgPT0gJ2luJykge1xuICAgICAgc2VsZi5ob3ZlclN0YXRlID0gJ2luJ1xuICAgICAgcmV0dXJuXG4gICAgfVxuXG4gICAgY2xlYXJUaW1lb3V0KHNlbGYudGltZW91dClcblxuICAgIHNlbGYuaG92ZXJTdGF0ZSA9ICdpbidcblxuICAgIGlmICghc2VsZi5vcHRpb25zLmRlbGF5IHx8ICFzZWxmLm9wdGlvbnMuZGVsYXkuc2hvdykgcmV0dXJuIHNlbGYuc2hvdygpXG5cbiAgICBzZWxmLnRpbWVvdXQgPSBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgIGlmIChzZWxmLmhvdmVyU3RhdGUgPT0gJ2luJykgc2VsZi5zaG93KClcbiAgICB9LCBzZWxmLm9wdGlvbnMuZGVsYXkuc2hvdylcbiAgfVxuXG4gIFRvb2x0aXAucHJvdG90eXBlLmlzSW5TdGF0ZVRydWUgPSBmdW5jdGlvbiAoKSB7XG4gICAgZm9yICh2YXIga2V5IGluIHRoaXMuaW5TdGF0ZSkge1xuICAgICAgaWYgKHRoaXMuaW5TdGF0ZVtrZXldKSByZXR1cm4gdHJ1ZVxuICAgIH1cblxuICAgIHJldHVybiBmYWxzZVxuICB9XG5cbiAgVG9vbHRpcC5wcm90b3R5cGUubGVhdmUgPSBmdW5jdGlvbiAob2JqKSB7XG4gICAgdmFyIHNlbGYgPSBvYmogaW5zdGFuY2VvZiB0aGlzLmNvbnN0cnVjdG9yID9cbiAgICAgIG9iaiA6ICQob2JqLmN1cnJlbnRUYXJnZXQpLmRhdGEoJ2JzLicgKyB0aGlzLnR5cGUpXG5cbiAgICBpZiAoIXNlbGYpIHtcbiAgICAgIHNlbGYgPSBuZXcgdGhpcy5jb25zdHJ1Y3RvcihvYmouY3VycmVudFRhcmdldCwgdGhpcy5nZXREZWxlZ2F0ZU9wdGlvbnMoKSlcbiAgICAgICQob2JqLmN1cnJlbnRUYXJnZXQpLmRhdGEoJ2JzLicgKyB0aGlzLnR5cGUsIHNlbGYpXG4gICAgfVxuXG4gICAgaWYgKG9iaiBpbnN0YW5jZW9mICQuRXZlbnQpIHtcbiAgICAgIHNlbGYuaW5TdGF0ZVtvYmoudHlwZSA9PSAnZm9jdXNvdXQnID8gJ2ZvY3VzJyA6ICdob3ZlciddID0gZmFsc2VcbiAgICB9XG5cbiAgICBpZiAoc2VsZi5pc0luU3RhdGVUcnVlKCkpIHJldHVyblxuXG4gICAgY2xlYXJUaW1lb3V0KHNlbGYudGltZW91dClcblxuICAgIHNlbGYuaG92ZXJTdGF0ZSA9ICdvdXQnXG5cbiAgICBpZiAoIXNlbGYub3B0aW9ucy5kZWxheSB8fCAhc2VsZi5vcHRpb25zLmRlbGF5LmhpZGUpIHJldHVybiBzZWxmLmhpZGUoKVxuXG4gICAgc2VsZi50aW1lb3V0ID0gc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICBpZiAoc2VsZi5ob3ZlclN0YXRlID09ICdvdXQnKSBzZWxmLmhpZGUoKVxuICAgIH0sIHNlbGYub3B0aW9ucy5kZWxheS5oaWRlKVxuICB9XG5cbiAgVG9vbHRpcC5wcm90b3R5cGUuc2hvdyA9IGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgZSA9ICQuRXZlbnQoJ3Nob3cuYnMuJyArIHRoaXMudHlwZSlcblxuICAgIGlmICh0aGlzLmhhc0NvbnRlbnQoKSAmJiB0aGlzLmVuYWJsZWQpIHtcbiAgICAgIHRoaXMuJGVsZW1lbnQudHJpZ2dlcihlKVxuXG4gICAgICB2YXIgaW5Eb20gPSAkLmNvbnRhaW5zKHRoaXMuJGVsZW1lbnRbMF0ub3duZXJEb2N1bWVudC5kb2N1bWVudEVsZW1lbnQsIHRoaXMuJGVsZW1lbnRbMF0pXG4gICAgICBpZiAoZS5pc0RlZmF1bHRQcmV2ZW50ZWQoKSB8fCAhaW5Eb20pIHJldHVyblxuICAgICAgdmFyIHRoYXQgPSB0aGlzXG5cbiAgICAgIHZhciAkdGlwID0gdGhpcy50aXAoKVxuXG4gICAgICB2YXIgdGlwSWQgPSB0aGlzLmdldFVJRCh0aGlzLnR5cGUpXG5cbiAgICAgIHRoaXMuc2V0Q29udGVudCgpXG4gICAgICAkdGlwLmF0dHIoJ2lkJywgdGlwSWQpXG4gICAgICB0aGlzLiRlbGVtZW50LmF0dHIoJ2FyaWEtZGVzY3JpYmVkYnknLCB0aXBJZClcblxuICAgICAgaWYgKHRoaXMub3B0aW9ucy5hbmltYXRpb24pICR0aXAuYWRkQ2xhc3MoJ2ZhZGUnKVxuXG4gICAgICB2YXIgcGxhY2VtZW50ID0gdHlwZW9mIHRoaXMub3B0aW9ucy5wbGFjZW1lbnQgPT0gJ2Z1bmN0aW9uJyA/XG4gICAgICAgIHRoaXMub3B0aW9ucy5wbGFjZW1lbnQuY2FsbCh0aGlzLCAkdGlwWzBdLCB0aGlzLiRlbGVtZW50WzBdKSA6XG4gICAgICAgIHRoaXMub3B0aW9ucy5wbGFjZW1lbnRcblxuICAgICAgdmFyIGF1dG9Ub2tlbiA9IC9cXHM/YXV0bz9cXHM/L2lcbiAgICAgIHZhciBhdXRvUGxhY2UgPSBhdXRvVG9rZW4udGVzdChwbGFjZW1lbnQpXG4gICAgICBpZiAoYXV0b1BsYWNlKSBwbGFjZW1lbnQgPSBwbGFjZW1lbnQucmVwbGFjZShhdXRvVG9rZW4sICcnKSB8fCAndG9wJ1xuXG4gICAgICAkdGlwXG4gICAgICAgIC5kZXRhY2goKVxuICAgICAgICAuY3NzKHsgdG9wOiAwLCBsZWZ0OiAwLCBkaXNwbGF5OiAnYmxvY2snIH0pXG4gICAgICAgIC5hZGRDbGFzcyhwbGFjZW1lbnQpXG4gICAgICAgIC5kYXRhKCdicy4nICsgdGhpcy50eXBlLCB0aGlzKVxuXG4gICAgICB0aGlzLm9wdGlvbnMuY29udGFpbmVyID8gJHRpcC5hcHBlbmRUbyh0aGlzLm9wdGlvbnMuY29udGFpbmVyKSA6ICR0aXAuaW5zZXJ0QWZ0ZXIodGhpcy4kZWxlbWVudClcbiAgICAgIHRoaXMuJGVsZW1lbnQudHJpZ2dlcignaW5zZXJ0ZWQuYnMuJyArIHRoaXMudHlwZSlcblxuICAgICAgdmFyIHBvcyAgICAgICAgICA9IHRoaXMuZ2V0UG9zaXRpb24oKVxuICAgICAgdmFyIGFjdHVhbFdpZHRoICA9ICR0aXBbMF0ub2Zmc2V0V2lkdGhcbiAgICAgIHZhciBhY3R1YWxIZWlnaHQgPSAkdGlwWzBdLm9mZnNldEhlaWdodFxuXG4gICAgICBpZiAoYXV0b1BsYWNlKSB7XG4gICAgICAgIHZhciBvcmdQbGFjZW1lbnQgPSBwbGFjZW1lbnRcbiAgICAgICAgdmFyIHZpZXdwb3J0RGltID0gdGhpcy5nZXRQb3NpdGlvbih0aGlzLiR2aWV3cG9ydClcblxuICAgICAgICBwbGFjZW1lbnQgPSBwbGFjZW1lbnQgPT0gJ2JvdHRvbScgJiYgcG9zLmJvdHRvbSArIGFjdHVhbEhlaWdodCA+IHZpZXdwb3J0RGltLmJvdHRvbSA/ICd0b3AnICAgIDpcbiAgICAgICAgICAgICAgICAgICAgcGxhY2VtZW50ID09ICd0b3AnICAgICYmIHBvcy50b3AgICAgLSBhY3R1YWxIZWlnaHQgPCB2aWV3cG9ydERpbS50b3AgICAgPyAnYm90dG9tJyA6XG4gICAgICAgICAgICAgICAgICAgIHBsYWNlbWVudCA9PSAncmlnaHQnICAmJiBwb3MucmlnaHQgICsgYWN0dWFsV2lkdGggID4gdmlld3BvcnREaW0ud2lkdGggID8gJ2xlZnQnICAgOlxuICAgICAgICAgICAgICAgICAgICBwbGFjZW1lbnQgPT0gJ2xlZnQnICAgJiYgcG9zLmxlZnQgICAtIGFjdHVhbFdpZHRoICA8IHZpZXdwb3J0RGltLmxlZnQgICA/ICdyaWdodCcgIDpcbiAgICAgICAgICAgICAgICAgICAgcGxhY2VtZW50XG5cbiAgICAgICAgJHRpcFxuICAgICAgICAgIC5yZW1vdmVDbGFzcyhvcmdQbGFjZW1lbnQpXG4gICAgICAgICAgLmFkZENsYXNzKHBsYWNlbWVudClcbiAgICAgIH1cblxuICAgICAgdmFyIGNhbGN1bGF0ZWRPZmZzZXQgPSB0aGlzLmdldENhbGN1bGF0ZWRPZmZzZXQocGxhY2VtZW50LCBwb3MsIGFjdHVhbFdpZHRoLCBhY3R1YWxIZWlnaHQpXG5cbiAgICAgIHRoaXMuYXBwbHlQbGFjZW1lbnQoY2FsY3VsYXRlZE9mZnNldCwgcGxhY2VtZW50KVxuXG4gICAgICB2YXIgY29tcGxldGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBwcmV2SG92ZXJTdGF0ZSA9IHRoYXQuaG92ZXJTdGF0ZVxuICAgICAgICB0aGF0LiRlbGVtZW50LnRyaWdnZXIoJ3Nob3duLmJzLicgKyB0aGF0LnR5cGUpXG4gICAgICAgIHRoYXQuaG92ZXJTdGF0ZSA9IG51bGxcblxuICAgICAgICBpZiAocHJldkhvdmVyU3RhdGUgPT0gJ291dCcpIHRoYXQubGVhdmUodGhhdClcbiAgICAgIH1cblxuICAgICAgJC5zdXBwb3J0LnRyYW5zaXRpb24gJiYgdGhpcy4kdGlwLmhhc0NsYXNzKCdmYWRlJykgP1xuICAgICAgICAkdGlwXG4gICAgICAgICAgLm9uZSgnYnNUcmFuc2l0aW9uRW5kJywgY29tcGxldGUpXG4gICAgICAgICAgLmVtdWxhdGVUcmFuc2l0aW9uRW5kKFRvb2x0aXAuVFJBTlNJVElPTl9EVVJBVElPTikgOlxuICAgICAgICBjb21wbGV0ZSgpXG4gICAgfVxuICB9XG5cbiAgVG9vbHRpcC5wcm90b3R5cGUuYXBwbHlQbGFjZW1lbnQgPSBmdW5jdGlvbiAob2Zmc2V0LCBwbGFjZW1lbnQpIHtcbiAgICB2YXIgJHRpcCAgID0gdGhpcy50aXAoKVxuICAgIHZhciB3aWR0aCAgPSAkdGlwWzBdLm9mZnNldFdpZHRoXG4gICAgdmFyIGhlaWdodCA9ICR0aXBbMF0ub2Zmc2V0SGVpZ2h0XG5cbiAgICAvLyBtYW51YWxseSByZWFkIG1hcmdpbnMgYmVjYXVzZSBnZXRCb3VuZGluZ0NsaWVudFJlY3QgaW5jbHVkZXMgZGlmZmVyZW5jZVxuICAgIHZhciBtYXJnaW5Ub3AgPSBwYXJzZUludCgkdGlwLmNzcygnbWFyZ2luLXRvcCcpLCAxMClcbiAgICB2YXIgbWFyZ2luTGVmdCA9IHBhcnNlSW50KCR0aXAuY3NzKCdtYXJnaW4tbGVmdCcpLCAxMClcblxuICAgIC8vIHdlIG11c3QgY2hlY2sgZm9yIE5hTiBmb3IgaWUgOC85XG4gICAgaWYgKGlzTmFOKG1hcmdpblRvcCkpICBtYXJnaW5Ub3AgID0gMFxuICAgIGlmIChpc05hTihtYXJnaW5MZWZ0KSkgbWFyZ2luTGVmdCA9IDBcblxuICAgIG9mZnNldC50b3AgICs9IG1hcmdpblRvcFxuICAgIG9mZnNldC5sZWZ0ICs9IG1hcmdpbkxlZnRcblxuICAgIC8vICQuZm4ub2Zmc2V0IGRvZXNuJ3Qgcm91bmQgcGl4ZWwgdmFsdWVzXG4gICAgLy8gc28gd2UgdXNlIHNldE9mZnNldCBkaXJlY3RseSB3aXRoIG91ciBvd24gZnVuY3Rpb24gQi0wXG4gICAgJC5vZmZzZXQuc2V0T2Zmc2V0KCR0aXBbMF0sICQuZXh0ZW5kKHtcbiAgICAgIHVzaW5nOiBmdW5jdGlvbiAocHJvcHMpIHtcbiAgICAgICAgJHRpcC5jc3Moe1xuICAgICAgICAgIHRvcDogTWF0aC5yb3VuZChwcm9wcy50b3ApLFxuICAgICAgICAgIGxlZnQ6IE1hdGgucm91bmQocHJvcHMubGVmdClcbiAgICAgICAgfSlcbiAgICAgIH1cbiAgICB9LCBvZmZzZXQpLCAwKVxuXG4gICAgJHRpcC5hZGRDbGFzcygnaW4nKVxuXG4gICAgLy8gY2hlY2sgdG8gc2VlIGlmIHBsYWNpbmcgdGlwIGluIG5ldyBvZmZzZXQgY2F1c2VkIHRoZSB0aXAgdG8gcmVzaXplIGl0c2VsZlxuICAgIHZhciBhY3R1YWxXaWR0aCAgPSAkdGlwWzBdLm9mZnNldFdpZHRoXG4gICAgdmFyIGFjdHVhbEhlaWdodCA9ICR0aXBbMF0ub2Zmc2V0SGVpZ2h0XG5cbiAgICBpZiAocGxhY2VtZW50ID09ICd0b3AnICYmIGFjdHVhbEhlaWdodCAhPSBoZWlnaHQpIHtcbiAgICAgIG9mZnNldC50b3AgPSBvZmZzZXQudG9wICsgaGVpZ2h0IC0gYWN0dWFsSGVpZ2h0XG4gICAgfVxuXG4gICAgdmFyIGRlbHRhID0gdGhpcy5nZXRWaWV3cG9ydEFkanVzdGVkRGVsdGEocGxhY2VtZW50LCBvZmZzZXQsIGFjdHVhbFdpZHRoLCBhY3R1YWxIZWlnaHQpXG5cbiAgICBpZiAoZGVsdGEubGVmdCkgb2Zmc2V0LmxlZnQgKz0gZGVsdGEubGVmdFxuICAgIGVsc2Ugb2Zmc2V0LnRvcCArPSBkZWx0YS50b3BcblxuICAgIHZhciBpc1ZlcnRpY2FsICAgICAgICAgID0gL3RvcHxib3R0b20vLnRlc3QocGxhY2VtZW50KVxuICAgIHZhciBhcnJvd0RlbHRhICAgICAgICAgID0gaXNWZXJ0aWNhbCA/IGRlbHRhLmxlZnQgKiAyIC0gd2lkdGggKyBhY3R1YWxXaWR0aCA6IGRlbHRhLnRvcCAqIDIgLSBoZWlnaHQgKyBhY3R1YWxIZWlnaHRcbiAgICB2YXIgYXJyb3dPZmZzZXRQb3NpdGlvbiA9IGlzVmVydGljYWwgPyAnb2Zmc2V0V2lkdGgnIDogJ29mZnNldEhlaWdodCdcblxuICAgICR0aXAub2Zmc2V0KG9mZnNldClcbiAgICB0aGlzLnJlcGxhY2VBcnJvdyhhcnJvd0RlbHRhLCAkdGlwWzBdW2Fycm93T2Zmc2V0UG9zaXRpb25dLCBpc1ZlcnRpY2FsKVxuICB9XG5cbiAgVG9vbHRpcC5wcm90b3R5cGUucmVwbGFjZUFycm93ID0gZnVuY3Rpb24gKGRlbHRhLCBkaW1lbnNpb24sIGlzVmVydGljYWwpIHtcbiAgICB0aGlzLmFycm93KClcbiAgICAgIC5jc3MoaXNWZXJ0aWNhbCA/ICdsZWZ0JyA6ICd0b3AnLCA1MCAqICgxIC0gZGVsdGEgLyBkaW1lbnNpb24pICsgJyUnKVxuICAgICAgLmNzcyhpc1ZlcnRpY2FsID8gJ3RvcCcgOiAnbGVmdCcsICcnKVxuICB9XG5cbiAgVG9vbHRpcC5wcm90b3R5cGUuc2V0Q29udGVudCA9IGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgJHRpcCAgPSB0aGlzLnRpcCgpXG4gICAgdmFyIHRpdGxlID0gdGhpcy5nZXRUaXRsZSgpXG5cbiAgICAkdGlwLmZpbmQoJy50b29sdGlwLWlubmVyJylbdGhpcy5vcHRpb25zLmh0bWwgPyAnaHRtbCcgOiAndGV4dCddKHRpdGxlKVxuICAgICR0aXAucmVtb3ZlQ2xhc3MoJ2ZhZGUgaW4gdG9wIGJvdHRvbSBsZWZ0IHJpZ2h0JylcbiAgfVxuXG4gIFRvb2x0aXAucHJvdG90eXBlLmhpZGUgPSBmdW5jdGlvbiAoY2FsbGJhY2spIHtcbiAgICB2YXIgdGhhdCA9IHRoaXNcbiAgICB2YXIgJHRpcCA9ICQodGhpcy4kdGlwKVxuICAgIHZhciBlICAgID0gJC5FdmVudCgnaGlkZS5icy4nICsgdGhpcy50eXBlKVxuXG4gICAgZnVuY3Rpb24gY29tcGxldGUoKSB7XG4gICAgICBpZiAodGhhdC5ob3ZlclN0YXRlICE9ICdpbicpICR0aXAuZGV0YWNoKClcbiAgICAgIGlmICh0aGF0LiRlbGVtZW50KSB7IC8vIFRPRE86IENoZWNrIHdoZXRoZXIgZ3VhcmRpbmcgdGhpcyBjb2RlIHdpdGggdGhpcyBgaWZgIGlzIHJlYWxseSBuZWNlc3NhcnkuXG4gICAgICAgIHRoYXQuJGVsZW1lbnRcbiAgICAgICAgICAucmVtb3ZlQXR0cignYXJpYS1kZXNjcmliZWRieScpXG4gICAgICAgICAgLnRyaWdnZXIoJ2hpZGRlbi5icy4nICsgdGhhdC50eXBlKVxuICAgICAgfVxuICAgICAgY2FsbGJhY2sgJiYgY2FsbGJhY2soKVxuICAgIH1cblxuICAgIHRoaXMuJGVsZW1lbnQudHJpZ2dlcihlKVxuXG4gICAgaWYgKGUuaXNEZWZhdWx0UHJldmVudGVkKCkpIHJldHVyblxuXG4gICAgJHRpcC5yZW1vdmVDbGFzcygnaW4nKVxuXG4gICAgJC5zdXBwb3J0LnRyYW5zaXRpb24gJiYgJHRpcC5oYXNDbGFzcygnZmFkZScpID9cbiAgICAgICR0aXBcbiAgICAgICAgLm9uZSgnYnNUcmFuc2l0aW9uRW5kJywgY29tcGxldGUpXG4gICAgICAgIC5lbXVsYXRlVHJhbnNpdGlvbkVuZChUb29sdGlwLlRSQU5TSVRJT05fRFVSQVRJT04pIDpcbiAgICAgIGNvbXBsZXRlKClcblxuICAgIHRoaXMuaG92ZXJTdGF0ZSA9IG51bGxcblxuICAgIHJldHVybiB0aGlzXG4gIH1cblxuICBUb29sdGlwLnByb3RvdHlwZS5maXhUaXRsZSA9IGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgJGUgPSB0aGlzLiRlbGVtZW50XG4gICAgaWYgKCRlLmF0dHIoJ3RpdGxlJykgfHwgdHlwZW9mICRlLmF0dHIoJ2RhdGEtb3JpZ2luYWwtdGl0bGUnKSAhPSAnc3RyaW5nJykge1xuICAgICAgJGUuYXR0cignZGF0YS1vcmlnaW5hbC10aXRsZScsICRlLmF0dHIoJ3RpdGxlJykgfHwgJycpLmF0dHIoJ3RpdGxlJywgJycpXG4gICAgfVxuICB9XG5cbiAgVG9vbHRpcC5wcm90b3R5cGUuaGFzQ29udGVudCA9IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gdGhpcy5nZXRUaXRsZSgpXG4gIH1cblxuICBUb29sdGlwLnByb3RvdHlwZS5nZXRQb3NpdGlvbiA9IGZ1bmN0aW9uICgkZWxlbWVudCkge1xuICAgICRlbGVtZW50ICAgPSAkZWxlbWVudCB8fCB0aGlzLiRlbGVtZW50XG5cbiAgICB2YXIgZWwgICAgID0gJGVsZW1lbnRbMF1cbiAgICB2YXIgaXNCb2R5ID0gZWwudGFnTmFtZSA9PSAnQk9EWSdcblxuICAgIHZhciBlbFJlY3QgICAgPSBlbC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKVxuICAgIGlmIChlbFJlY3Qud2lkdGggPT0gbnVsbCkge1xuICAgICAgLy8gd2lkdGggYW5kIGhlaWdodCBhcmUgbWlzc2luZyBpbiBJRTgsIHNvIGNvbXB1dGUgdGhlbSBtYW51YWxseTsgc2VlIGh0dHBzOi8vZ2l0aHViLmNvbS90d2JzL2Jvb3RzdHJhcC9pc3N1ZXMvMTQwOTNcbiAgICAgIGVsUmVjdCA9ICQuZXh0ZW5kKHt9LCBlbFJlY3QsIHsgd2lkdGg6IGVsUmVjdC5yaWdodCAtIGVsUmVjdC5sZWZ0LCBoZWlnaHQ6IGVsUmVjdC5ib3R0b20gLSBlbFJlY3QudG9wIH0pXG4gICAgfVxuICAgIHZhciBpc1N2ZyA9IHdpbmRvdy5TVkdFbGVtZW50ICYmIGVsIGluc3RhbmNlb2Ygd2luZG93LlNWR0VsZW1lbnRcbiAgICAvLyBBdm9pZCB1c2luZyAkLm9mZnNldCgpIG9uIFNWR3Mgc2luY2UgaXQgZ2l2ZXMgaW5jb3JyZWN0IHJlc3VsdHMgaW4galF1ZXJ5IDMuXG4gICAgLy8gU2VlIGh0dHBzOi8vZ2l0aHViLmNvbS90d2JzL2Jvb3RzdHJhcC9pc3N1ZXMvMjAyODBcbiAgICB2YXIgZWxPZmZzZXQgID0gaXNCb2R5ID8geyB0b3A6IDAsIGxlZnQ6IDAgfSA6IChpc1N2ZyA/IG51bGwgOiAkZWxlbWVudC5vZmZzZXQoKSlcbiAgICB2YXIgc2Nyb2xsICAgID0geyBzY3JvbGw6IGlzQm9keSA/IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5zY3JvbGxUb3AgfHwgZG9jdW1lbnQuYm9keS5zY3JvbGxUb3AgOiAkZWxlbWVudC5zY3JvbGxUb3AoKSB9XG4gICAgdmFyIG91dGVyRGltcyA9IGlzQm9keSA/IHsgd2lkdGg6ICQod2luZG93KS53aWR0aCgpLCBoZWlnaHQ6ICQod2luZG93KS5oZWlnaHQoKSB9IDogbnVsbFxuXG4gICAgcmV0dXJuICQuZXh0ZW5kKHt9LCBlbFJlY3QsIHNjcm9sbCwgb3V0ZXJEaW1zLCBlbE9mZnNldClcbiAgfVxuXG4gIFRvb2x0aXAucHJvdG90eXBlLmdldENhbGN1bGF0ZWRPZmZzZXQgPSBmdW5jdGlvbiAocGxhY2VtZW50LCBwb3MsIGFjdHVhbFdpZHRoLCBhY3R1YWxIZWlnaHQpIHtcbiAgICByZXR1cm4gcGxhY2VtZW50ID09ICdib3R0b20nID8geyB0b3A6IHBvcy50b3AgKyBwb3MuaGVpZ2h0LCAgIGxlZnQ6IHBvcy5sZWZ0ICsgcG9zLndpZHRoIC8gMiAtIGFjdHVhbFdpZHRoIC8gMiB9IDpcbiAgICAgICAgICAgcGxhY2VtZW50ID09ICd0b3AnICAgID8geyB0b3A6IHBvcy50b3AgLSBhY3R1YWxIZWlnaHQsIGxlZnQ6IHBvcy5sZWZ0ICsgcG9zLndpZHRoIC8gMiAtIGFjdHVhbFdpZHRoIC8gMiB9IDpcbiAgICAgICAgICAgcGxhY2VtZW50ID09ICdsZWZ0JyAgID8geyB0b3A6IHBvcy50b3AgKyBwb3MuaGVpZ2h0IC8gMiAtIGFjdHVhbEhlaWdodCAvIDIsIGxlZnQ6IHBvcy5sZWZ0IC0gYWN0dWFsV2lkdGggfSA6XG4gICAgICAgIC8qIHBsYWNlbWVudCA9PSAncmlnaHQnICovIHsgdG9wOiBwb3MudG9wICsgcG9zLmhlaWdodCAvIDIgLSBhY3R1YWxIZWlnaHQgLyAyLCBsZWZ0OiBwb3MubGVmdCArIHBvcy53aWR0aCB9XG5cbiAgfVxuXG4gIFRvb2x0aXAucHJvdG90eXBlLmdldFZpZXdwb3J0QWRqdXN0ZWREZWx0YSA9IGZ1bmN0aW9uIChwbGFjZW1lbnQsIHBvcywgYWN0dWFsV2lkdGgsIGFjdHVhbEhlaWdodCkge1xuICAgIHZhciBkZWx0YSA9IHsgdG9wOiAwLCBsZWZ0OiAwIH1cbiAgICBpZiAoIXRoaXMuJHZpZXdwb3J0KSByZXR1cm4gZGVsdGFcblxuICAgIHZhciB2aWV3cG9ydFBhZGRpbmcgPSB0aGlzLm9wdGlvbnMudmlld3BvcnQgJiYgdGhpcy5vcHRpb25zLnZpZXdwb3J0LnBhZGRpbmcgfHwgMFxuICAgIHZhciB2aWV3cG9ydERpbWVuc2lvbnMgPSB0aGlzLmdldFBvc2l0aW9uKHRoaXMuJHZpZXdwb3J0KVxuXG4gICAgaWYgKC9yaWdodHxsZWZ0Ly50ZXN0KHBsYWNlbWVudCkpIHtcbiAgICAgIHZhciB0b3BFZGdlT2Zmc2V0ICAgID0gcG9zLnRvcCAtIHZpZXdwb3J0UGFkZGluZyAtIHZpZXdwb3J0RGltZW5zaW9ucy5zY3JvbGxcbiAgICAgIHZhciBib3R0b21FZGdlT2Zmc2V0ID0gcG9zLnRvcCArIHZpZXdwb3J0UGFkZGluZyAtIHZpZXdwb3J0RGltZW5zaW9ucy5zY3JvbGwgKyBhY3R1YWxIZWlnaHRcbiAgICAgIGlmICh0b3BFZGdlT2Zmc2V0IDwgdmlld3BvcnREaW1lbnNpb25zLnRvcCkgeyAvLyB0b3Agb3ZlcmZsb3dcbiAgICAgICAgZGVsdGEudG9wID0gdmlld3BvcnREaW1lbnNpb25zLnRvcCAtIHRvcEVkZ2VPZmZzZXRcbiAgICAgIH0gZWxzZSBpZiAoYm90dG9tRWRnZU9mZnNldCA+IHZpZXdwb3J0RGltZW5zaW9ucy50b3AgKyB2aWV3cG9ydERpbWVuc2lvbnMuaGVpZ2h0KSB7IC8vIGJvdHRvbSBvdmVyZmxvd1xuICAgICAgICBkZWx0YS50b3AgPSB2aWV3cG9ydERpbWVuc2lvbnMudG9wICsgdmlld3BvcnREaW1lbnNpb25zLmhlaWdodCAtIGJvdHRvbUVkZ2VPZmZzZXRcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgdmFyIGxlZnRFZGdlT2Zmc2V0ICA9IHBvcy5sZWZ0IC0gdmlld3BvcnRQYWRkaW5nXG4gICAgICB2YXIgcmlnaHRFZGdlT2Zmc2V0ID0gcG9zLmxlZnQgKyB2aWV3cG9ydFBhZGRpbmcgKyBhY3R1YWxXaWR0aFxuICAgICAgaWYgKGxlZnRFZGdlT2Zmc2V0IDwgdmlld3BvcnREaW1lbnNpb25zLmxlZnQpIHsgLy8gbGVmdCBvdmVyZmxvd1xuICAgICAgICBkZWx0YS5sZWZ0ID0gdmlld3BvcnREaW1lbnNpb25zLmxlZnQgLSBsZWZ0RWRnZU9mZnNldFxuICAgICAgfSBlbHNlIGlmIChyaWdodEVkZ2VPZmZzZXQgPiB2aWV3cG9ydERpbWVuc2lvbnMucmlnaHQpIHsgLy8gcmlnaHQgb3ZlcmZsb3dcbiAgICAgICAgZGVsdGEubGVmdCA9IHZpZXdwb3J0RGltZW5zaW9ucy5sZWZ0ICsgdmlld3BvcnREaW1lbnNpb25zLndpZHRoIC0gcmlnaHRFZGdlT2Zmc2V0XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIGRlbHRhXG4gIH1cblxuICBUb29sdGlwLnByb3RvdHlwZS5nZXRUaXRsZSA9IGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgdGl0bGVcbiAgICB2YXIgJGUgPSB0aGlzLiRlbGVtZW50XG4gICAgdmFyIG8gID0gdGhpcy5vcHRpb25zXG5cbiAgICB0aXRsZSA9ICRlLmF0dHIoJ2RhdGEtb3JpZ2luYWwtdGl0bGUnKVxuICAgICAgfHwgKHR5cGVvZiBvLnRpdGxlID09ICdmdW5jdGlvbicgPyBvLnRpdGxlLmNhbGwoJGVbMF0pIDogIG8udGl0bGUpXG5cbiAgICByZXR1cm4gdGl0bGVcbiAgfVxuXG4gIFRvb2x0aXAucHJvdG90eXBlLmdldFVJRCA9IGZ1bmN0aW9uIChwcmVmaXgpIHtcbiAgICBkbyBwcmVmaXggKz0gfn4oTWF0aC5yYW5kb20oKSAqIDEwMDAwMDApXG4gICAgd2hpbGUgKGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKHByZWZpeCkpXG4gICAgcmV0dXJuIHByZWZpeFxuICB9XG5cbiAgVG9vbHRpcC5wcm90b3R5cGUudGlwID0gZnVuY3Rpb24gKCkge1xuICAgIGlmICghdGhpcy4kdGlwKSB7XG4gICAgICB0aGlzLiR0aXAgPSAkKHRoaXMub3B0aW9ucy50ZW1wbGF0ZSlcbiAgICAgIGlmICh0aGlzLiR0aXAubGVuZ3RoICE9IDEpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKHRoaXMudHlwZSArICcgYHRlbXBsYXRlYCBvcHRpb24gbXVzdCBjb25zaXN0IG9mIGV4YWN0bHkgMSB0b3AtbGV2ZWwgZWxlbWVudCEnKVxuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gdGhpcy4kdGlwXG4gIH1cblxuICBUb29sdGlwLnByb3RvdHlwZS5hcnJvdyA9IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gKHRoaXMuJGFycm93ID0gdGhpcy4kYXJyb3cgfHwgdGhpcy50aXAoKS5maW5kKCcudG9vbHRpcC1hcnJvdycpKVxuICB9XG5cbiAgVG9vbHRpcC5wcm90b3R5cGUuZW5hYmxlID0gZnVuY3Rpb24gKCkge1xuICAgIHRoaXMuZW5hYmxlZCA9IHRydWVcbiAgfVxuXG4gIFRvb2x0aXAucHJvdG90eXBlLmRpc2FibGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgdGhpcy5lbmFibGVkID0gZmFsc2VcbiAgfVxuXG4gIFRvb2x0aXAucHJvdG90eXBlLnRvZ2dsZUVuYWJsZWQgPSBmdW5jdGlvbiAoKSB7XG4gICAgdGhpcy5lbmFibGVkID0gIXRoaXMuZW5hYmxlZFxuICB9XG5cbiAgVG9vbHRpcC5wcm90b3R5cGUudG9nZ2xlID0gZnVuY3Rpb24gKGUpIHtcbiAgICB2YXIgc2VsZiA9IHRoaXNcbiAgICBpZiAoZSkge1xuICAgICAgc2VsZiA9ICQoZS5jdXJyZW50VGFyZ2V0KS5kYXRhKCdicy4nICsgdGhpcy50eXBlKVxuICAgICAgaWYgKCFzZWxmKSB7XG4gICAgICAgIHNlbGYgPSBuZXcgdGhpcy5jb25zdHJ1Y3RvcihlLmN1cnJlbnRUYXJnZXQsIHRoaXMuZ2V0RGVsZWdhdGVPcHRpb25zKCkpXG4gICAgICAgICQoZS5jdXJyZW50VGFyZ2V0KS5kYXRhKCdicy4nICsgdGhpcy50eXBlLCBzZWxmKVxuICAgICAgfVxuICAgIH1cblxuICAgIGlmIChlKSB7XG4gICAgICBzZWxmLmluU3RhdGUuY2xpY2sgPSAhc2VsZi5pblN0YXRlLmNsaWNrXG4gICAgICBpZiAoc2VsZi5pc0luU3RhdGVUcnVlKCkpIHNlbGYuZW50ZXIoc2VsZilcbiAgICAgIGVsc2Ugc2VsZi5sZWF2ZShzZWxmKVxuICAgIH0gZWxzZSB7XG4gICAgICBzZWxmLnRpcCgpLmhhc0NsYXNzKCdpbicpID8gc2VsZi5sZWF2ZShzZWxmKSA6IHNlbGYuZW50ZXIoc2VsZilcbiAgICB9XG4gIH1cblxuICBUb29sdGlwLnByb3RvdHlwZS5kZXN0cm95ID0gZnVuY3Rpb24gKCkge1xuICAgIHZhciB0aGF0ID0gdGhpc1xuICAgIGNsZWFyVGltZW91dCh0aGlzLnRpbWVvdXQpXG4gICAgdGhpcy5oaWRlKGZ1bmN0aW9uICgpIHtcbiAgICAgIHRoYXQuJGVsZW1lbnQub2ZmKCcuJyArIHRoYXQudHlwZSkucmVtb3ZlRGF0YSgnYnMuJyArIHRoYXQudHlwZSlcbiAgICAgIGlmICh0aGF0LiR0aXApIHtcbiAgICAgICAgdGhhdC4kdGlwLmRldGFjaCgpXG4gICAgICB9XG4gICAgICB0aGF0LiR0aXAgPSBudWxsXG4gICAgICB0aGF0LiRhcnJvdyA9IG51bGxcbiAgICAgIHRoYXQuJHZpZXdwb3J0ID0gbnVsbFxuICAgICAgdGhhdC4kZWxlbWVudCA9IG51bGxcbiAgICB9KVxuICB9XG5cblxuICAvLyBUT09MVElQIFBMVUdJTiBERUZJTklUSU9OXG4gIC8vID09PT09PT09PT09PT09PT09PT09PT09PT1cblxuICBmdW5jdGlvbiBQbHVnaW4ob3B0aW9uKSB7XG4gICAgcmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbiAoKSB7XG4gICAgICB2YXIgJHRoaXMgICA9ICQodGhpcylcbiAgICAgIHZhciBkYXRhICAgID0gJHRoaXMuZGF0YSgnYnMudG9vbHRpcCcpXG4gICAgICB2YXIgb3B0aW9ucyA9IHR5cGVvZiBvcHRpb24gPT0gJ29iamVjdCcgJiYgb3B0aW9uXG5cbiAgICAgIGlmICghZGF0YSAmJiAvZGVzdHJveXxoaWRlLy50ZXN0KG9wdGlvbikpIHJldHVyblxuICAgICAgaWYgKCFkYXRhKSAkdGhpcy5kYXRhKCdicy50b29sdGlwJywgKGRhdGEgPSBuZXcgVG9vbHRpcCh0aGlzLCBvcHRpb25zKSkpXG4gICAgICBpZiAodHlwZW9mIG9wdGlvbiA9PSAnc3RyaW5nJykgZGF0YVtvcHRpb25dKClcbiAgICB9KVxuICB9XG5cbiAgdmFyIG9sZCA9ICQuZm4udG9vbHRpcFxuXG4gICQuZm4udG9vbHRpcCAgICAgICAgICAgICA9IFBsdWdpblxuICAkLmZuLnRvb2x0aXAuQ29uc3RydWN0b3IgPSBUb29sdGlwXG5cblxuICAvLyBUT09MVElQIE5PIENPTkZMSUNUXG4gIC8vID09PT09PT09PT09PT09PT09PT1cblxuICAkLmZuLnRvb2x0aXAubm9Db25mbGljdCA9IGZ1bmN0aW9uICgpIHtcbiAgICAkLmZuLnRvb2x0aXAgPSBvbGRcbiAgICByZXR1cm4gdGhpc1xuICB9XG5cbn0oalF1ZXJ5KTtcblxuLyogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gKiBCb290c3RyYXA6IHBvcG92ZXIuanMgdjMuMy43XG4gKiBodHRwOi8vZ2V0Ym9vdHN0cmFwLmNvbS9qYXZhc2NyaXB0LyNwb3BvdmVyc1xuICogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gKiBDb3B5cmlnaHQgMjAxMS0yMDE2IFR3aXR0ZXIsIEluYy5cbiAqIExpY2Vuc2VkIHVuZGVyIE1JVCAoaHR0cHM6Ly9naXRodWIuY29tL3R3YnMvYm9vdHN0cmFwL2Jsb2IvbWFzdGVyL0xJQ0VOU0UpXG4gKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0gKi9cblxuXG4rZnVuY3Rpb24gKCQpIHtcbiAgJ3VzZSBzdHJpY3QnO1xuXG4gIC8vIFBPUE9WRVIgUFVCTElDIENMQVNTIERFRklOSVRJT05cbiAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuXG4gIHZhciBQb3BvdmVyID0gZnVuY3Rpb24gKGVsZW1lbnQsIG9wdGlvbnMpIHtcbiAgICB0aGlzLmluaXQoJ3BvcG92ZXInLCBlbGVtZW50LCBvcHRpb25zKVxuICB9XG5cbiAgaWYgKCEkLmZuLnRvb2x0aXApIHRocm93IG5ldyBFcnJvcignUG9wb3ZlciByZXF1aXJlcyB0b29sdGlwLmpzJylcblxuICBQb3BvdmVyLlZFUlNJT04gID0gJzMuMy43J1xuXG4gIFBvcG92ZXIuREVGQVVMVFMgPSAkLmV4dGVuZCh7fSwgJC5mbi50b29sdGlwLkNvbnN0cnVjdG9yLkRFRkFVTFRTLCB7XG4gICAgcGxhY2VtZW50OiAncmlnaHQnLFxuICAgIHRyaWdnZXI6ICdjbGljaycsXG4gICAgY29udGVudDogJycsXG4gICAgdGVtcGxhdGU6ICc8ZGl2IGNsYXNzPVwicG9wb3ZlclwiIHJvbGU9XCJ0b29sdGlwXCI+PGRpdiBjbGFzcz1cImFycm93XCI+PC9kaXY+PGgzIGNsYXNzPVwicG9wb3Zlci10aXRsZVwiPjwvaDM+PGRpdiBjbGFzcz1cInBvcG92ZXItY29udGVudFwiPjwvZGl2PjwvZGl2PidcbiAgfSlcblxuXG4gIC8vIE5PVEU6IFBPUE9WRVIgRVhURU5EUyB0b29sdGlwLmpzXG4gIC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG5cbiAgUG9wb3Zlci5wcm90b3R5cGUgPSAkLmV4dGVuZCh7fSwgJC5mbi50b29sdGlwLkNvbnN0cnVjdG9yLnByb3RvdHlwZSlcblxuICBQb3BvdmVyLnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IFBvcG92ZXJcblxuICBQb3BvdmVyLnByb3RvdHlwZS5nZXREZWZhdWx0cyA9IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gUG9wb3Zlci5ERUZBVUxUU1xuICB9XG5cbiAgUG9wb3Zlci5wcm90b3R5cGUuc2V0Q29udGVudCA9IGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgJHRpcCAgICA9IHRoaXMudGlwKClcbiAgICB2YXIgdGl0bGUgICA9IHRoaXMuZ2V0VGl0bGUoKVxuICAgIHZhciBjb250ZW50ID0gdGhpcy5nZXRDb250ZW50KClcblxuICAgICR0aXAuZmluZCgnLnBvcG92ZXItdGl0bGUnKVt0aGlzLm9wdGlvbnMuaHRtbCA/ICdodG1sJyA6ICd0ZXh0J10odGl0bGUpXG4gICAgJHRpcC5maW5kKCcucG9wb3Zlci1jb250ZW50JykuY2hpbGRyZW4oKS5kZXRhY2goKS5lbmQoKVsgLy8gd2UgdXNlIGFwcGVuZCBmb3IgaHRtbCBvYmplY3RzIHRvIG1haW50YWluIGpzIGV2ZW50c1xuICAgICAgdGhpcy5vcHRpb25zLmh0bWwgPyAodHlwZW9mIGNvbnRlbnQgPT0gJ3N0cmluZycgPyAnaHRtbCcgOiAnYXBwZW5kJykgOiAndGV4dCdcbiAgICBdKGNvbnRlbnQpXG5cbiAgICAkdGlwLnJlbW92ZUNsYXNzKCdmYWRlIHRvcCBib3R0b20gbGVmdCByaWdodCBpbicpXG5cbiAgICAvLyBJRTggZG9lc24ndCBhY2NlcHQgaGlkaW5nIHZpYSB0aGUgYDplbXB0eWAgcHNldWRvIHNlbGVjdG9yLCB3ZSBoYXZlIHRvIGRvXG4gICAgLy8gdGhpcyBtYW51YWxseSBieSBjaGVja2luZyB0aGUgY29udGVudHMuXG4gICAgaWYgKCEkdGlwLmZpbmQoJy5wb3BvdmVyLXRpdGxlJykuaHRtbCgpKSAkdGlwLmZpbmQoJy5wb3BvdmVyLXRpdGxlJykuaGlkZSgpXG4gIH1cblxuICBQb3BvdmVyLnByb3RvdHlwZS5oYXNDb250ZW50ID0gZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiB0aGlzLmdldFRpdGxlKCkgfHwgdGhpcy5nZXRDb250ZW50KClcbiAgfVxuXG4gIFBvcG92ZXIucHJvdG90eXBlLmdldENvbnRlbnQgPSBmdW5jdGlvbiAoKSB7XG4gICAgdmFyICRlID0gdGhpcy4kZWxlbWVudFxuICAgIHZhciBvICA9IHRoaXMub3B0aW9uc1xuXG4gICAgcmV0dXJuICRlLmF0dHIoJ2RhdGEtY29udGVudCcpXG4gICAgICB8fCAodHlwZW9mIG8uY29udGVudCA9PSAnZnVuY3Rpb24nID9cbiAgICAgICAgICAgIG8uY29udGVudC5jYWxsKCRlWzBdKSA6XG4gICAgICAgICAgICBvLmNvbnRlbnQpXG4gIH1cblxuICBQb3BvdmVyLnByb3RvdHlwZS5hcnJvdyA9IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gKHRoaXMuJGFycm93ID0gdGhpcy4kYXJyb3cgfHwgdGhpcy50aXAoKS5maW5kKCcuYXJyb3cnKSlcbiAgfVxuXG5cbiAgLy8gUE9QT1ZFUiBQTFVHSU4gREVGSU5JVElPTlxuICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09XG5cbiAgZnVuY3Rpb24gUGx1Z2luKG9wdGlvbikge1xuICAgIHJldHVybiB0aGlzLmVhY2goZnVuY3Rpb24gKCkge1xuICAgICAgdmFyICR0aGlzICAgPSAkKHRoaXMpXG4gICAgICB2YXIgZGF0YSAgICA9ICR0aGlzLmRhdGEoJ2JzLnBvcG92ZXInKVxuICAgICAgdmFyIG9wdGlvbnMgPSB0eXBlb2Ygb3B0aW9uID09ICdvYmplY3QnICYmIG9wdGlvblxuXG4gICAgICBpZiAoIWRhdGEgJiYgL2Rlc3Ryb3l8aGlkZS8udGVzdChvcHRpb24pKSByZXR1cm5cbiAgICAgIGlmICghZGF0YSkgJHRoaXMuZGF0YSgnYnMucG9wb3ZlcicsIChkYXRhID0gbmV3IFBvcG92ZXIodGhpcywgb3B0aW9ucykpKVxuICAgICAgaWYgKHR5cGVvZiBvcHRpb24gPT0gJ3N0cmluZycpIGRhdGFbb3B0aW9uXSgpXG4gICAgfSlcbiAgfVxuXG4gIHZhciBvbGQgPSAkLmZuLnBvcG92ZXJcblxuICAkLmZuLnBvcG92ZXIgICAgICAgICAgICAgPSBQbHVnaW5cbiAgJC5mbi5wb3BvdmVyLkNvbnN0cnVjdG9yID0gUG9wb3ZlclxuXG5cbiAgLy8gUE9QT1ZFUiBOTyBDT05GTElDVFxuICAvLyA9PT09PT09PT09PT09PT09PT09XG5cbiAgJC5mbi5wb3BvdmVyLm5vQ29uZmxpY3QgPSBmdW5jdGlvbiAoKSB7XG4gICAgJC5mbi5wb3BvdmVyID0gb2xkXG4gICAgcmV0dXJuIHRoaXNcbiAgfVxuXG59KGpRdWVyeSk7XG5cbi8qID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICogQm9vdHN0cmFwOiBzY3JvbGxzcHkuanMgdjMuMy43XG4gKiBodHRwOi8vZ2V0Ym9vdHN0cmFwLmNvbS9qYXZhc2NyaXB0LyNzY3JvbGxzcHlcbiAqID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICogQ29weXJpZ2h0IDIwMTEtMjAxNiBUd2l0dGVyLCBJbmMuXG4gKiBMaWNlbnNlZCB1bmRlciBNSVQgKGh0dHBzOi8vZ2l0aHViLmNvbS90d2JzL2Jvb3RzdHJhcC9ibG9iL21hc3Rlci9MSUNFTlNFKVxuICogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09ICovXG5cblxuK2Z1bmN0aW9uICgkKSB7XG4gICd1c2Ugc3RyaWN0JztcblxuICAvLyBTQ1JPTExTUFkgQ0xBU1MgREVGSU5JVElPTlxuICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PVxuXG4gIGZ1bmN0aW9uIFNjcm9sbFNweShlbGVtZW50LCBvcHRpb25zKSB7XG4gICAgdGhpcy4kYm9keSAgICAgICAgICA9ICQoZG9jdW1lbnQuYm9keSlcbiAgICB0aGlzLiRzY3JvbGxFbGVtZW50ID0gJChlbGVtZW50KS5pcyhkb2N1bWVudC5ib2R5KSA/ICQod2luZG93KSA6ICQoZWxlbWVudClcbiAgICB0aGlzLm9wdGlvbnMgICAgICAgID0gJC5leHRlbmQoe30sIFNjcm9sbFNweS5ERUZBVUxUUywgb3B0aW9ucylcbiAgICB0aGlzLnNlbGVjdG9yICAgICAgID0gKHRoaXMub3B0aW9ucy50YXJnZXQgfHwgJycpICsgJyAubmF2IGxpID4gYSdcbiAgICB0aGlzLm9mZnNldHMgICAgICAgID0gW11cbiAgICB0aGlzLnRhcmdldHMgICAgICAgID0gW11cbiAgICB0aGlzLmFjdGl2ZVRhcmdldCAgID0gbnVsbFxuICAgIHRoaXMuc2Nyb2xsSGVpZ2h0ICAgPSAwXG5cbiAgICB0aGlzLiRzY3JvbGxFbGVtZW50Lm9uKCdzY3JvbGwuYnMuc2Nyb2xsc3B5JywgJC5wcm94eSh0aGlzLnByb2Nlc3MsIHRoaXMpKVxuICAgIHRoaXMucmVmcmVzaCgpXG4gICAgdGhpcy5wcm9jZXNzKClcbiAgfVxuXG4gIFNjcm9sbFNweS5WRVJTSU9OICA9ICczLjMuNydcblxuICBTY3JvbGxTcHkuREVGQVVMVFMgPSB7XG4gICAgb2Zmc2V0OiAxMFxuICB9XG5cbiAgU2Nyb2xsU3B5LnByb3RvdHlwZS5nZXRTY3JvbGxIZWlnaHQgPSBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIHRoaXMuJHNjcm9sbEVsZW1lbnRbMF0uc2Nyb2xsSGVpZ2h0IHx8IE1hdGgubWF4KHRoaXMuJGJvZHlbMF0uc2Nyb2xsSGVpZ2h0LCBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuc2Nyb2xsSGVpZ2h0KVxuICB9XG5cbiAgU2Nyb2xsU3B5LnByb3RvdHlwZS5yZWZyZXNoID0gZnVuY3Rpb24gKCkge1xuICAgIHZhciB0aGF0ICAgICAgICAgID0gdGhpc1xuICAgIHZhciBvZmZzZXRNZXRob2QgID0gJ29mZnNldCdcbiAgICB2YXIgb2Zmc2V0QmFzZSAgICA9IDBcblxuICAgIHRoaXMub2Zmc2V0cyAgICAgID0gW11cbiAgICB0aGlzLnRhcmdldHMgICAgICA9IFtdXG4gICAgdGhpcy5zY3JvbGxIZWlnaHQgPSB0aGlzLmdldFNjcm9sbEhlaWdodCgpXG5cbiAgICBpZiAoISQuaXNXaW5kb3codGhpcy4kc2Nyb2xsRWxlbWVudFswXSkpIHtcbiAgICAgIG9mZnNldE1ldGhvZCA9ICdwb3NpdGlvbidcbiAgICAgIG9mZnNldEJhc2UgICA9IHRoaXMuJHNjcm9sbEVsZW1lbnQuc2Nyb2xsVG9wKClcbiAgICB9XG5cbiAgICB0aGlzLiRib2R5XG4gICAgICAuZmluZCh0aGlzLnNlbGVjdG9yKVxuICAgICAgLm1hcChmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciAkZWwgICA9ICQodGhpcylcbiAgICAgICAgdmFyIGhyZWYgID0gJGVsLmRhdGEoJ3RhcmdldCcpIHx8ICRlbC5hdHRyKCdocmVmJylcbiAgICAgICAgdmFyICRocmVmID0gL14jLi8udGVzdChocmVmKSAmJiAkKGhyZWYpXG5cbiAgICAgICAgcmV0dXJuICgkaHJlZlxuICAgICAgICAgICYmICRocmVmLmxlbmd0aFxuICAgICAgICAgICYmICRocmVmLmlzKCc6dmlzaWJsZScpXG4gICAgICAgICAgJiYgW1skaHJlZltvZmZzZXRNZXRob2RdKCkudG9wICsgb2Zmc2V0QmFzZSwgaHJlZl1dKSB8fCBudWxsXG4gICAgICB9KVxuICAgICAgLnNvcnQoZnVuY3Rpb24gKGEsIGIpIHsgcmV0dXJuIGFbMF0gLSBiWzBdIH0pXG4gICAgICAuZWFjaChmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoYXQub2Zmc2V0cy5wdXNoKHRoaXNbMF0pXG4gICAgICAgIHRoYXQudGFyZ2V0cy5wdXNoKHRoaXNbMV0pXG4gICAgICB9KVxuICB9XG5cbiAgU2Nyb2xsU3B5LnByb3RvdHlwZS5wcm9jZXNzID0gZnVuY3Rpb24gKCkge1xuICAgIHZhciBzY3JvbGxUb3AgICAgPSB0aGlzLiRzY3JvbGxFbGVtZW50LnNjcm9sbFRvcCgpICsgdGhpcy5vcHRpb25zLm9mZnNldFxuICAgIHZhciBzY3JvbGxIZWlnaHQgPSB0aGlzLmdldFNjcm9sbEhlaWdodCgpXG4gICAgdmFyIG1heFNjcm9sbCAgICA9IHRoaXMub3B0aW9ucy5vZmZzZXQgKyBzY3JvbGxIZWlnaHQgLSB0aGlzLiRzY3JvbGxFbGVtZW50LmhlaWdodCgpXG4gICAgdmFyIG9mZnNldHMgICAgICA9IHRoaXMub2Zmc2V0c1xuICAgIHZhciB0YXJnZXRzICAgICAgPSB0aGlzLnRhcmdldHNcbiAgICB2YXIgYWN0aXZlVGFyZ2V0ID0gdGhpcy5hY3RpdmVUYXJnZXRcbiAgICB2YXIgaVxuXG4gICAgaWYgKHRoaXMuc2Nyb2xsSGVpZ2h0ICE9IHNjcm9sbEhlaWdodCkge1xuICAgICAgdGhpcy5yZWZyZXNoKClcbiAgICB9XG5cbiAgICBpZiAoc2Nyb2xsVG9wID49IG1heFNjcm9sbCkge1xuICAgICAgcmV0dXJuIGFjdGl2ZVRhcmdldCAhPSAoaSA9IHRhcmdldHNbdGFyZ2V0cy5sZW5ndGggLSAxXSkgJiYgdGhpcy5hY3RpdmF0ZShpKVxuICAgIH1cblxuICAgIGlmIChhY3RpdmVUYXJnZXQgJiYgc2Nyb2xsVG9wIDwgb2Zmc2V0c1swXSkge1xuICAgICAgdGhpcy5hY3RpdmVUYXJnZXQgPSBudWxsXG4gICAgICByZXR1cm4gdGhpcy5jbGVhcigpXG4gICAgfVxuXG4gICAgZm9yIChpID0gb2Zmc2V0cy5sZW5ndGg7IGktLTspIHtcbiAgICAgIGFjdGl2ZVRhcmdldCAhPSB0YXJnZXRzW2ldXG4gICAgICAgICYmIHNjcm9sbFRvcCA+PSBvZmZzZXRzW2ldXG4gICAgICAgICYmIChvZmZzZXRzW2kgKyAxXSA9PT0gdW5kZWZpbmVkIHx8IHNjcm9sbFRvcCA8IG9mZnNldHNbaSArIDFdKVxuICAgICAgICAmJiB0aGlzLmFjdGl2YXRlKHRhcmdldHNbaV0pXG4gICAgfVxuICB9XG5cbiAgU2Nyb2xsU3B5LnByb3RvdHlwZS5hY3RpdmF0ZSA9IGZ1bmN0aW9uICh0YXJnZXQpIHtcbiAgICB0aGlzLmFjdGl2ZVRhcmdldCA9IHRhcmdldFxuXG4gICAgdGhpcy5jbGVhcigpXG5cbiAgICB2YXIgc2VsZWN0b3IgPSB0aGlzLnNlbGVjdG9yICtcbiAgICAgICdbZGF0YS10YXJnZXQ9XCInICsgdGFyZ2V0ICsgJ1wiXSwnICtcbiAgICAgIHRoaXMuc2VsZWN0b3IgKyAnW2hyZWY9XCInICsgdGFyZ2V0ICsgJ1wiXSdcblxuICAgIHZhciBhY3RpdmUgPSAkKHNlbGVjdG9yKVxuICAgICAgLnBhcmVudHMoJ2xpJylcbiAgICAgIC5hZGRDbGFzcygnYWN0aXZlJylcblxuICAgIGlmIChhY3RpdmUucGFyZW50KCcuZHJvcGRvd24tbWVudScpLmxlbmd0aCkge1xuICAgICAgYWN0aXZlID0gYWN0aXZlXG4gICAgICAgIC5jbG9zZXN0KCdsaS5kcm9wZG93bicpXG4gICAgICAgIC5hZGRDbGFzcygnYWN0aXZlJylcbiAgICB9XG5cbiAgICBhY3RpdmUudHJpZ2dlcignYWN0aXZhdGUuYnMuc2Nyb2xsc3B5JylcbiAgfVxuXG4gIFNjcm9sbFNweS5wcm90b3R5cGUuY2xlYXIgPSBmdW5jdGlvbiAoKSB7XG4gICAgJCh0aGlzLnNlbGVjdG9yKVxuICAgICAgLnBhcmVudHNVbnRpbCh0aGlzLm9wdGlvbnMudGFyZ2V0LCAnLmFjdGl2ZScpXG4gICAgICAucmVtb3ZlQ2xhc3MoJ2FjdGl2ZScpXG4gIH1cblxuXG4gIC8vIFNDUk9MTFNQWSBQTFVHSU4gREVGSU5JVElPTlxuICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT1cblxuICBmdW5jdGlvbiBQbHVnaW4ob3B0aW9uKSB7XG4gICAgcmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbiAoKSB7XG4gICAgICB2YXIgJHRoaXMgICA9ICQodGhpcylcbiAgICAgIHZhciBkYXRhICAgID0gJHRoaXMuZGF0YSgnYnMuc2Nyb2xsc3B5JylcbiAgICAgIHZhciBvcHRpb25zID0gdHlwZW9mIG9wdGlvbiA9PSAnb2JqZWN0JyAmJiBvcHRpb25cblxuICAgICAgaWYgKCFkYXRhKSAkdGhpcy5kYXRhKCdicy5zY3JvbGxzcHknLCAoZGF0YSA9IG5ldyBTY3JvbGxTcHkodGhpcywgb3B0aW9ucykpKVxuICAgICAgaWYgKHR5cGVvZiBvcHRpb24gPT0gJ3N0cmluZycpIGRhdGFbb3B0aW9uXSgpXG4gICAgfSlcbiAgfVxuXG4gIHZhciBvbGQgPSAkLmZuLnNjcm9sbHNweVxuXG4gICQuZm4uc2Nyb2xsc3B5ICAgICAgICAgICAgID0gUGx1Z2luXG4gICQuZm4uc2Nyb2xsc3B5LkNvbnN0cnVjdG9yID0gU2Nyb2xsU3B5XG5cblxuICAvLyBTQ1JPTExTUFkgTk8gQ09ORkxJQ1RcbiAgLy8gPT09PT09PT09PT09PT09PT09PT09XG5cbiAgJC5mbi5zY3JvbGxzcHkubm9Db25mbGljdCA9IGZ1bmN0aW9uICgpIHtcbiAgICAkLmZuLnNjcm9sbHNweSA9IG9sZFxuICAgIHJldHVybiB0aGlzXG4gIH1cblxuXG4gIC8vIFNDUk9MTFNQWSBEQVRBLUFQSVxuICAvLyA9PT09PT09PT09PT09PT09PT1cblxuICAkKHdpbmRvdykub24oJ2xvYWQuYnMuc2Nyb2xsc3B5LmRhdGEtYXBpJywgZnVuY3Rpb24gKCkge1xuICAgICQoJ1tkYXRhLXNweT1cInNjcm9sbFwiXScpLmVhY2goZnVuY3Rpb24gKCkge1xuICAgICAgdmFyICRzcHkgPSAkKHRoaXMpXG4gICAgICBQbHVnaW4uY2FsbCgkc3B5LCAkc3B5LmRhdGEoKSlcbiAgICB9KVxuICB9KVxuXG59KGpRdWVyeSk7XG5cbi8qID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICogQm9vdHN0cmFwOiB0YWIuanMgdjMuMy43XG4gKiBodHRwOi8vZ2V0Ym9vdHN0cmFwLmNvbS9qYXZhc2NyaXB0LyN0YWJzXG4gKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAqIENvcHlyaWdodCAyMDExLTIwMTYgVHdpdHRlciwgSW5jLlxuICogTGljZW5zZWQgdW5kZXIgTUlUIChodHRwczovL2dpdGh1Yi5jb20vdHdicy9ib290c3RyYXAvYmxvYi9tYXN0ZXIvTElDRU5TRSlcbiAqID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PSAqL1xuXG5cbitmdW5jdGlvbiAoJCkge1xuICAndXNlIHN0cmljdCc7XG5cbiAgLy8gVEFCIENMQVNTIERFRklOSVRJT05cbiAgLy8gPT09PT09PT09PT09PT09PT09PT1cblxuICB2YXIgVGFiID0gZnVuY3Rpb24gKGVsZW1lbnQpIHtcbiAgICAvLyBqc2NzOmRpc2FibGUgcmVxdWlyZURvbGxhckJlZm9yZWpRdWVyeUFzc2lnbm1lbnRcbiAgICB0aGlzLmVsZW1lbnQgPSAkKGVsZW1lbnQpXG4gICAgLy8ganNjczplbmFibGUgcmVxdWlyZURvbGxhckJlZm9yZWpRdWVyeUFzc2lnbm1lbnRcbiAgfVxuXG4gIFRhYi5WRVJTSU9OID0gJzMuMy43J1xuXG4gIFRhYi5UUkFOU0lUSU9OX0RVUkFUSU9OID0gMTUwXG5cbiAgVGFiLnByb3RvdHlwZS5zaG93ID0gZnVuY3Rpb24gKCkge1xuICAgIHZhciAkdGhpcyAgICA9IHRoaXMuZWxlbWVudFxuICAgIHZhciAkdWwgICAgICA9ICR0aGlzLmNsb3Nlc3QoJ3VsOm5vdCguZHJvcGRvd24tbWVudSknKVxuICAgIHZhciBzZWxlY3RvciA9ICR0aGlzLmRhdGEoJ3RhcmdldCcpXG5cbiAgICBpZiAoIXNlbGVjdG9yKSB7XG4gICAgICBzZWxlY3RvciA9ICR0aGlzLmF0dHIoJ2hyZWYnKVxuICAgICAgc2VsZWN0b3IgPSBzZWxlY3RvciAmJiBzZWxlY3Rvci5yZXBsYWNlKC8uKig/PSNbXlxcc10qJCkvLCAnJykgLy8gc3RyaXAgZm9yIGllN1xuICAgIH1cblxuICAgIGlmICgkdGhpcy5wYXJlbnQoJ2xpJykuaGFzQ2xhc3MoJ2FjdGl2ZScpKSByZXR1cm5cblxuICAgIHZhciAkcHJldmlvdXMgPSAkdWwuZmluZCgnLmFjdGl2ZTpsYXN0IGEnKVxuICAgIHZhciBoaWRlRXZlbnQgPSAkLkV2ZW50KCdoaWRlLmJzLnRhYicsIHtcbiAgICAgIHJlbGF0ZWRUYXJnZXQ6ICR0aGlzWzBdXG4gICAgfSlcbiAgICB2YXIgc2hvd0V2ZW50ID0gJC5FdmVudCgnc2hvdy5icy50YWInLCB7XG4gICAgICByZWxhdGVkVGFyZ2V0OiAkcHJldmlvdXNbMF1cbiAgICB9KVxuXG4gICAgJHByZXZpb3VzLnRyaWdnZXIoaGlkZUV2ZW50KVxuICAgICR0aGlzLnRyaWdnZXIoc2hvd0V2ZW50KVxuXG4gICAgaWYgKHNob3dFdmVudC5pc0RlZmF1bHRQcmV2ZW50ZWQoKSB8fCBoaWRlRXZlbnQuaXNEZWZhdWx0UHJldmVudGVkKCkpIHJldHVyblxuXG4gICAgdmFyICR0YXJnZXQgPSAkKHNlbGVjdG9yKVxuXG4gICAgdGhpcy5hY3RpdmF0ZSgkdGhpcy5jbG9zZXN0KCdsaScpLCAkdWwpXG4gICAgdGhpcy5hY3RpdmF0ZSgkdGFyZ2V0LCAkdGFyZ2V0LnBhcmVudCgpLCBmdW5jdGlvbiAoKSB7XG4gICAgICAkcHJldmlvdXMudHJpZ2dlcih7XG4gICAgICAgIHR5cGU6ICdoaWRkZW4uYnMudGFiJyxcbiAgICAgICAgcmVsYXRlZFRhcmdldDogJHRoaXNbMF1cbiAgICAgIH0pXG4gICAgICAkdGhpcy50cmlnZ2VyKHtcbiAgICAgICAgdHlwZTogJ3Nob3duLmJzLnRhYicsXG4gICAgICAgIHJlbGF0ZWRUYXJnZXQ6ICRwcmV2aW91c1swXVxuICAgICAgfSlcbiAgICB9KVxuICB9XG5cbiAgVGFiLnByb3RvdHlwZS5hY3RpdmF0ZSA9IGZ1bmN0aW9uIChlbGVtZW50LCBjb250YWluZXIsIGNhbGxiYWNrKSB7XG4gICAgdmFyICRhY3RpdmUgICAgPSBjb250YWluZXIuZmluZCgnPiAuYWN0aXZlJylcbiAgICB2YXIgdHJhbnNpdGlvbiA9IGNhbGxiYWNrXG4gICAgICAmJiAkLnN1cHBvcnQudHJhbnNpdGlvblxuICAgICAgJiYgKCRhY3RpdmUubGVuZ3RoICYmICRhY3RpdmUuaGFzQ2xhc3MoJ2ZhZGUnKSB8fCAhIWNvbnRhaW5lci5maW5kKCc+IC5mYWRlJykubGVuZ3RoKVxuXG4gICAgZnVuY3Rpb24gbmV4dCgpIHtcbiAgICAgICRhY3RpdmVcbiAgICAgICAgLnJlbW92ZUNsYXNzKCdhY3RpdmUnKVxuICAgICAgICAuZmluZCgnPiAuZHJvcGRvd24tbWVudSA+IC5hY3RpdmUnKVxuICAgICAgICAgIC5yZW1vdmVDbGFzcygnYWN0aXZlJylcbiAgICAgICAgLmVuZCgpXG4gICAgICAgIC5maW5kKCdbZGF0YS10b2dnbGU9XCJ0YWJcIl0nKVxuICAgICAgICAgIC5hdHRyKCdhcmlhLWV4cGFuZGVkJywgZmFsc2UpXG5cbiAgICAgIGVsZW1lbnRcbiAgICAgICAgLmFkZENsYXNzKCdhY3RpdmUnKVxuICAgICAgICAuZmluZCgnW2RhdGEtdG9nZ2xlPVwidGFiXCJdJylcbiAgICAgICAgICAuYXR0cignYXJpYS1leHBhbmRlZCcsIHRydWUpXG5cbiAgICAgIGlmICh0cmFuc2l0aW9uKSB7XG4gICAgICAgIGVsZW1lbnRbMF0ub2Zmc2V0V2lkdGggLy8gcmVmbG93IGZvciB0cmFuc2l0aW9uXG4gICAgICAgIGVsZW1lbnQuYWRkQ2xhc3MoJ2luJylcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGVsZW1lbnQucmVtb3ZlQ2xhc3MoJ2ZhZGUnKVxuICAgICAgfVxuXG4gICAgICBpZiAoZWxlbWVudC5wYXJlbnQoJy5kcm9wZG93bi1tZW51JykubGVuZ3RoKSB7XG4gICAgICAgIGVsZW1lbnRcbiAgICAgICAgICAuY2xvc2VzdCgnbGkuZHJvcGRvd24nKVxuICAgICAgICAgICAgLmFkZENsYXNzKCdhY3RpdmUnKVxuICAgICAgICAgIC5lbmQoKVxuICAgICAgICAgIC5maW5kKCdbZGF0YS10b2dnbGU9XCJ0YWJcIl0nKVxuICAgICAgICAgICAgLmF0dHIoJ2FyaWEtZXhwYW5kZWQnLCB0cnVlKVxuICAgICAgfVxuXG4gICAgICBjYWxsYmFjayAmJiBjYWxsYmFjaygpXG4gICAgfVxuXG4gICAgJGFjdGl2ZS5sZW5ndGggJiYgdHJhbnNpdGlvbiA/XG4gICAgICAkYWN0aXZlXG4gICAgICAgIC5vbmUoJ2JzVHJhbnNpdGlvbkVuZCcsIG5leHQpXG4gICAgICAgIC5lbXVsYXRlVHJhbnNpdGlvbkVuZChUYWIuVFJBTlNJVElPTl9EVVJBVElPTikgOlxuICAgICAgbmV4dCgpXG5cbiAgICAkYWN0aXZlLnJlbW92ZUNsYXNzKCdpbicpXG4gIH1cblxuXG4gIC8vIFRBQiBQTFVHSU4gREVGSU5JVElPTlxuICAvLyA9PT09PT09PT09PT09PT09PT09PT1cblxuICBmdW5jdGlvbiBQbHVnaW4ob3B0aW9uKSB7XG4gICAgcmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbiAoKSB7XG4gICAgICB2YXIgJHRoaXMgPSAkKHRoaXMpXG4gICAgICB2YXIgZGF0YSAgPSAkdGhpcy5kYXRhKCdicy50YWInKVxuXG4gICAgICBpZiAoIWRhdGEpICR0aGlzLmRhdGEoJ2JzLnRhYicsIChkYXRhID0gbmV3IFRhYih0aGlzKSkpXG4gICAgICBpZiAodHlwZW9mIG9wdGlvbiA9PSAnc3RyaW5nJykgZGF0YVtvcHRpb25dKClcbiAgICB9KVxuICB9XG5cbiAgdmFyIG9sZCA9ICQuZm4udGFiXG5cbiAgJC5mbi50YWIgICAgICAgICAgICAgPSBQbHVnaW5cbiAgJC5mbi50YWIuQ29uc3RydWN0b3IgPSBUYWJcblxuXG4gIC8vIFRBQiBOTyBDT05GTElDVFxuICAvLyA9PT09PT09PT09PT09PT1cblxuICAkLmZuLnRhYi5ub0NvbmZsaWN0ID0gZnVuY3Rpb24gKCkge1xuICAgICQuZm4udGFiID0gb2xkXG4gICAgcmV0dXJuIHRoaXNcbiAgfVxuXG5cbiAgLy8gVEFCIERBVEEtQVBJXG4gIC8vID09PT09PT09PT09PVxuXG4gIHZhciBjbGlja0hhbmRsZXIgPSBmdW5jdGlvbiAoZSkge1xuICAgIGUucHJldmVudERlZmF1bHQoKVxuICAgIFBsdWdpbi5jYWxsKCQodGhpcyksICdzaG93JylcbiAgfVxuXG4gICQoZG9jdW1lbnQpXG4gICAgLm9uKCdjbGljay5icy50YWIuZGF0YS1hcGknLCAnW2RhdGEtdG9nZ2xlPVwidGFiXCJdJywgY2xpY2tIYW5kbGVyKVxuICAgIC5vbignY2xpY2suYnMudGFiLmRhdGEtYXBpJywgJ1tkYXRhLXRvZ2dsZT1cInBpbGxcIl0nLCBjbGlja0hhbmRsZXIpXG5cbn0oalF1ZXJ5KTtcblxuLyogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gKiBCb290c3RyYXA6IGFmZml4LmpzIHYzLjMuN1xuICogaHR0cDovL2dldGJvb3RzdHJhcC5jb20vamF2YXNjcmlwdC8jYWZmaXhcbiAqID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICogQ29weXJpZ2h0IDIwMTEtMjAxNiBUd2l0dGVyLCBJbmMuXG4gKiBMaWNlbnNlZCB1bmRlciBNSVQgKGh0dHBzOi8vZ2l0aHViLmNvbS90d2JzL2Jvb3RzdHJhcC9ibG9iL21hc3Rlci9MSUNFTlNFKVxuICogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09ICovXG5cblxuK2Z1bmN0aW9uICgkKSB7XG4gICd1c2Ugc3RyaWN0JztcblxuICAvLyBBRkZJWCBDTEFTUyBERUZJTklUSU9OXG4gIC8vID09PT09PT09PT09PT09PT09PT09PT1cblxuICB2YXIgQWZmaXggPSBmdW5jdGlvbiAoZWxlbWVudCwgb3B0aW9ucykge1xuICAgIHRoaXMub3B0aW9ucyA9ICQuZXh0ZW5kKHt9LCBBZmZpeC5ERUZBVUxUUywgb3B0aW9ucylcblxuICAgIHRoaXMuJHRhcmdldCA9ICQodGhpcy5vcHRpb25zLnRhcmdldClcbiAgICAgIC5vbignc2Nyb2xsLmJzLmFmZml4LmRhdGEtYXBpJywgJC5wcm94eSh0aGlzLmNoZWNrUG9zaXRpb24sIHRoaXMpKVxuICAgICAgLm9uKCdjbGljay5icy5hZmZpeC5kYXRhLWFwaScsICAkLnByb3h5KHRoaXMuY2hlY2tQb3NpdGlvbldpdGhFdmVudExvb3AsIHRoaXMpKVxuXG4gICAgdGhpcy4kZWxlbWVudCAgICAgPSAkKGVsZW1lbnQpXG4gICAgdGhpcy5hZmZpeGVkICAgICAgPSBudWxsXG4gICAgdGhpcy51bnBpbiAgICAgICAgPSBudWxsXG4gICAgdGhpcy5waW5uZWRPZmZzZXQgPSBudWxsXG5cbiAgICB0aGlzLmNoZWNrUG9zaXRpb24oKVxuICB9XG5cbiAgQWZmaXguVkVSU0lPTiAgPSAnMy4zLjcnXG5cbiAgQWZmaXguUkVTRVQgICAgPSAnYWZmaXggYWZmaXgtdG9wIGFmZml4LWJvdHRvbSdcblxuICBBZmZpeC5ERUZBVUxUUyA9IHtcbiAgICBvZmZzZXQ6IDAsXG4gICAgdGFyZ2V0OiB3aW5kb3dcbiAgfVxuXG4gIEFmZml4LnByb3RvdHlwZS5nZXRTdGF0ZSA9IGZ1bmN0aW9uIChzY3JvbGxIZWlnaHQsIGhlaWdodCwgb2Zmc2V0VG9wLCBvZmZzZXRCb3R0b20pIHtcbiAgICB2YXIgc2Nyb2xsVG9wICAgID0gdGhpcy4kdGFyZ2V0LnNjcm9sbFRvcCgpXG4gICAgdmFyIHBvc2l0aW9uICAgICA9IHRoaXMuJGVsZW1lbnQub2Zmc2V0KClcbiAgICB2YXIgdGFyZ2V0SGVpZ2h0ID0gdGhpcy4kdGFyZ2V0LmhlaWdodCgpXG5cbiAgICBpZiAob2Zmc2V0VG9wICE9IG51bGwgJiYgdGhpcy5hZmZpeGVkID09ICd0b3AnKSByZXR1cm4gc2Nyb2xsVG9wIDwgb2Zmc2V0VG9wID8gJ3RvcCcgOiBmYWxzZVxuXG4gICAgaWYgKHRoaXMuYWZmaXhlZCA9PSAnYm90dG9tJykge1xuICAgICAgaWYgKG9mZnNldFRvcCAhPSBudWxsKSByZXR1cm4gKHNjcm9sbFRvcCArIHRoaXMudW5waW4gPD0gcG9zaXRpb24udG9wKSA/IGZhbHNlIDogJ2JvdHRvbSdcbiAgICAgIHJldHVybiAoc2Nyb2xsVG9wICsgdGFyZ2V0SGVpZ2h0IDw9IHNjcm9sbEhlaWdodCAtIG9mZnNldEJvdHRvbSkgPyBmYWxzZSA6ICdib3R0b20nXG4gICAgfVxuXG4gICAgdmFyIGluaXRpYWxpemluZyAgID0gdGhpcy5hZmZpeGVkID09IG51bGxcbiAgICB2YXIgY29sbGlkZXJUb3AgICAgPSBpbml0aWFsaXppbmcgPyBzY3JvbGxUb3AgOiBwb3NpdGlvbi50b3BcbiAgICB2YXIgY29sbGlkZXJIZWlnaHQgPSBpbml0aWFsaXppbmcgPyB0YXJnZXRIZWlnaHQgOiBoZWlnaHRcblxuICAgIGlmIChvZmZzZXRUb3AgIT0gbnVsbCAmJiBzY3JvbGxUb3AgPD0gb2Zmc2V0VG9wKSByZXR1cm4gJ3RvcCdcbiAgICBpZiAob2Zmc2V0Qm90dG9tICE9IG51bGwgJiYgKGNvbGxpZGVyVG9wICsgY29sbGlkZXJIZWlnaHQgPj0gc2Nyb2xsSGVpZ2h0IC0gb2Zmc2V0Qm90dG9tKSkgcmV0dXJuICdib3R0b20nXG5cbiAgICByZXR1cm4gZmFsc2VcbiAgfVxuXG4gIEFmZml4LnByb3RvdHlwZS5nZXRQaW5uZWRPZmZzZXQgPSBmdW5jdGlvbiAoKSB7XG4gICAgaWYgKHRoaXMucGlubmVkT2Zmc2V0KSByZXR1cm4gdGhpcy5waW5uZWRPZmZzZXRcbiAgICB0aGlzLiRlbGVtZW50LnJlbW92ZUNsYXNzKEFmZml4LlJFU0VUKS5hZGRDbGFzcygnYWZmaXgnKVxuICAgIHZhciBzY3JvbGxUb3AgPSB0aGlzLiR0YXJnZXQuc2Nyb2xsVG9wKClcbiAgICB2YXIgcG9zaXRpb24gID0gdGhpcy4kZWxlbWVudC5vZmZzZXQoKVxuICAgIHJldHVybiAodGhpcy5waW5uZWRPZmZzZXQgPSBwb3NpdGlvbi50b3AgLSBzY3JvbGxUb3ApXG4gIH1cblxuICBBZmZpeC5wcm90b3R5cGUuY2hlY2tQb3NpdGlvbldpdGhFdmVudExvb3AgPSBmdW5jdGlvbiAoKSB7XG4gICAgc2V0VGltZW91dCgkLnByb3h5KHRoaXMuY2hlY2tQb3NpdGlvbiwgdGhpcyksIDEpXG4gIH1cblxuICBBZmZpeC5wcm90b3R5cGUuY2hlY2tQb3NpdGlvbiA9IGZ1bmN0aW9uICgpIHtcbiAgICBpZiAoIXRoaXMuJGVsZW1lbnQuaXMoJzp2aXNpYmxlJykpIHJldHVyblxuXG4gICAgdmFyIGhlaWdodCAgICAgICA9IHRoaXMuJGVsZW1lbnQuaGVpZ2h0KClcbiAgICB2YXIgb2Zmc2V0ICAgICAgID0gdGhpcy5vcHRpb25zLm9mZnNldFxuICAgIHZhciBvZmZzZXRUb3AgICAgPSBvZmZzZXQudG9wXG4gICAgdmFyIG9mZnNldEJvdHRvbSA9IG9mZnNldC5ib3R0b21cbiAgICB2YXIgc2Nyb2xsSGVpZ2h0ID0gTWF0aC5tYXgoJChkb2N1bWVudCkuaGVpZ2h0KCksICQoZG9jdW1lbnQuYm9keSkuaGVpZ2h0KCkpXG5cbiAgICBpZiAodHlwZW9mIG9mZnNldCAhPSAnb2JqZWN0JykgICAgICAgICBvZmZzZXRCb3R0b20gPSBvZmZzZXRUb3AgPSBvZmZzZXRcbiAgICBpZiAodHlwZW9mIG9mZnNldFRvcCA9PSAnZnVuY3Rpb24nKSAgICBvZmZzZXRUb3AgICAgPSBvZmZzZXQudG9wKHRoaXMuJGVsZW1lbnQpXG4gICAgaWYgKHR5cGVvZiBvZmZzZXRCb3R0b20gPT0gJ2Z1bmN0aW9uJykgb2Zmc2V0Qm90dG9tID0gb2Zmc2V0LmJvdHRvbSh0aGlzLiRlbGVtZW50KVxuXG4gICAgdmFyIGFmZml4ID0gdGhpcy5nZXRTdGF0ZShzY3JvbGxIZWlnaHQsIGhlaWdodCwgb2Zmc2V0VG9wLCBvZmZzZXRCb3R0b20pXG5cbiAgICBpZiAodGhpcy5hZmZpeGVkICE9IGFmZml4KSB7XG4gICAgICBpZiAodGhpcy51bnBpbiAhPSBudWxsKSB0aGlzLiRlbGVtZW50LmNzcygndG9wJywgJycpXG5cbiAgICAgIHZhciBhZmZpeFR5cGUgPSAnYWZmaXgnICsgKGFmZml4ID8gJy0nICsgYWZmaXggOiAnJylcbiAgICAgIHZhciBlICAgICAgICAgPSAkLkV2ZW50KGFmZml4VHlwZSArICcuYnMuYWZmaXgnKVxuXG4gICAgICB0aGlzLiRlbGVtZW50LnRyaWdnZXIoZSlcblxuICAgICAgaWYgKGUuaXNEZWZhdWx0UHJldmVudGVkKCkpIHJldHVyblxuXG4gICAgICB0aGlzLmFmZml4ZWQgPSBhZmZpeFxuICAgICAgdGhpcy51bnBpbiA9IGFmZml4ID09ICdib3R0b20nID8gdGhpcy5nZXRQaW5uZWRPZmZzZXQoKSA6IG51bGxcblxuICAgICAgdGhpcy4kZWxlbWVudFxuICAgICAgICAucmVtb3ZlQ2xhc3MoQWZmaXguUkVTRVQpXG4gICAgICAgIC5hZGRDbGFzcyhhZmZpeFR5cGUpXG4gICAgICAgIC50cmlnZ2VyKGFmZml4VHlwZS5yZXBsYWNlKCdhZmZpeCcsICdhZmZpeGVkJykgKyAnLmJzLmFmZml4JylcbiAgICB9XG5cbiAgICBpZiAoYWZmaXggPT0gJ2JvdHRvbScpIHtcbiAgICAgIHRoaXMuJGVsZW1lbnQub2Zmc2V0KHtcbiAgICAgICAgdG9wOiBzY3JvbGxIZWlnaHQgLSBoZWlnaHQgLSBvZmZzZXRCb3R0b21cbiAgICAgIH0pXG4gICAgfVxuICB9XG5cblxuICAvLyBBRkZJWCBQTFVHSU4gREVGSU5JVElPTlxuICAvLyA9PT09PT09PT09PT09PT09PT09PT09PVxuXG4gIGZ1bmN0aW9uIFBsdWdpbihvcHRpb24pIHtcbiAgICByZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uICgpIHtcbiAgICAgIHZhciAkdGhpcyAgID0gJCh0aGlzKVxuICAgICAgdmFyIGRhdGEgICAgPSAkdGhpcy5kYXRhKCdicy5hZmZpeCcpXG4gICAgICB2YXIgb3B0aW9ucyA9IHR5cGVvZiBvcHRpb24gPT0gJ29iamVjdCcgJiYgb3B0aW9uXG5cbiAgICAgIGlmICghZGF0YSkgJHRoaXMuZGF0YSgnYnMuYWZmaXgnLCAoZGF0YSA9IG5ldyBBZmZpeCh0aGlzLCBvcHRpb25zKSkpXG4gICAgICBpZiAodHlwZW9mIG9wdGlvbiA9PSAnc3RyaW5nJykgZGF0YVtvcHRpb25dKClcbiAgICB9KVxuICB9XG5cbiAgdmFyIG9sZCA9ICQuZm4uYWZmaXhcblxuICAkLmZuLmFmZml4ICAgICAgICAgICAgID0gUGx1Z2luXG4gICQuZm4uYWZmaXguQ29uc3RydWN0b3IgPSBBZmZpeFxuXG5cbiAgLy8gQUZGSVggTk8gQ09ORkxJQ1RcbiAgLy8gPT09PT09PT09PT09PT09PT1cblxuICAkLmZuLmFmZml4Lm5vQ29uZmxpY3QgPSBmdW5jdGlvbiAoKSB7XG4gICAgJC5mbi5hZmZpeCA9IG9sZFxuICAgIHJldHVybiB0aGlzXG4gIH1cblxuXG4gIC8vIEFGRklYIERBVEEtQVBJXG4gIC8vID09PT09PT09PT09PT09XG5cbiAgJCh3aW5kb3cpLm9uKCdsb2FkJywgZnVuY3Rpb24gKCkge1xuICAgICQoJ1tkYXRhLXNweT1cImFmZml4XCJdJykuZWFjaChmdW5jdGlvbiAoKSB7XG4gICAgICB2YXIgJHNweSA9ICQodGhpcylcbiAgICAgIHZhciBkYXRhID0gJHNweS5kYXRhKClcblxuICAgICAgZGF0YS5vZmZzZXQgPSBkYXRhLm9mZnNldCB8fCB7fVxuXG4gICAgICBpZiAoZGF0YS5vZmZzZXRCb3R0b20gIT0gbnVsbCkgZGF0YS5vZmZzZXQuYm90dG9tID0gZGF0YS5vZmZzZXRCb3R0b21cbiAgICAgIGlmIChkYXRhLm9mZnNldFRvcCAgICAhPSBudWxsKSBkYXRhLm9mZnNldC50b3AgICAgPSBkYXRhLm9mZnNldFRvcFxuXG4gICAgICBQbHVnaW4uY2FsbCgkc3B5LCBkYXRhKVxuICAgIH0pXG4gIH0pXG5cbn0oalF1ZXJ5KTtcblxuJ3VzZSBzdHJpY3QnO1xuXG4vLyBhcHAuanMgaXMgdGhlIG1haW4gSlMgZmlsZSB3aGljaCB5b3Ugc2hvdWxkIGRlZmluZSB5b3VyIEFuZ3VsYXIgbW9kdWxlXG5hbmd1bGFyLm1vZHVsZSgnd2luZUFwcCcsIFsndWkucm91dGVyJywgJ25nUmVzb3VyY2UnLCAnYW5ndWxhci1qd3QnXSk7XG4ndXNlIHN0cmljdCc7XG5cbmFuZ3VsYXIubW9kdWxlKCd3aW5lQXBwJykuY29uZmlnKEludGVyY2VwdG9yKTtcblxuSW50ZXJjZXB0b3IuJGluamVjdCA9IFsnJGh0dHBQcm92aWRlciddO1xuZnVuY3Rpb24gSW50ZXJjZXB0b3IoJGh0dHBQcm92aWRlcikge1xuICByZXR1cm4gJGh0dHBQcm92aWRlci5pbnRlcmNlcHRvcnMucHVzaCgnQXV0aEludGVyY2VwdG9yJyk7XG59XG4ndXNlIHN0cmljdCc7XG5cbmFuZ3VsYXIubW9kdWxlKCd3aW5lQXBwJykuY29uZmlnKFJvdXRlcik7XG5cblJvdXRlci4kaW5qZWN0aW9uID0gWyckc3RhdGVQcm92aWRlcicsICckbG9jYXRpb25Qcm92aWRlcicsICckdXJsUm91dGVyUHJvdmlkZXInXTtcblxuZnVuY3Rpb24gUm91dGVyKCRzdGF0ZVByb3ZpZGVyLCAkbG9jYXRpb25Qcm92aWRlciwgJHVybFJvdXRlclByb3ZpZGVyKSB7XG4gICRsb2NhdGlvblByb3ZpZGVyLmh0bWw1TW9kZSh0cnVlKTtcblxuICAkc3RhdGVQcm92aWRlci5zdGF0ZSgnaG9tZScsIHtcbiAgICB1cmw6ICcvJyxcbiAgICB0ZW1wbGF0ZVVybDogJ2pzL3ZpZXdzLmhvbWUuaHRtbCdcbiAgfSkuc3RhdGUoJ3JlZ2lzdGVyJywge1xuICAgIHVybDogJy9yZWdpc3RlcicsXG4gICAgdGVtcGxhdGVVcmw6ICcvanMvdmlld3MvcmVnaXN0ZXIuaHRtbCcsXG4gICAgY29udHJvbGxlcjogJ1VzZXJSZWdpc3RlckN0cmwnLFxuICAgIGNvbnRyb2xsZXJBczogJ3JlZ2lzdGVyJ1xuICB9KS5zdGF0ZSgnbG9naW4nLCB7XG4gICAgdXJsOiAnL2xvZ2luJyxcbiAgICB0ZW1wbGF0ZVVybDogJy9qcy92aWV3cy9sb2dpbi5odG1sJyxcbiAgICBjb250cm9sbGVyOiAnTG9naW5DdHJsJyxcbiAgICBjb250cm9sbGVyQXM6ICdsb2dpbidcbiAgfSkuc3RhdGUoJ3VzZXJzSW5kZXgnLCB7XG4gICAgdXJsOiAnL3VzZXJzJyxcbiAgICB0ZW1wbGF0ZVVybDogJy9qcy92aWV3cy91c2Vycy9pbmRleC5odG1sJyxcbiAgICBjb250cm9sbGVyOiAnVXNlcnNJbmRleEN0cmwnLFxuICAgIGNvbnRyb2xsZXJBczogJ3VzZXJzSW5kZXgnXG4gIH0pO1xuICAkdXJsUm91dGVyUHJvdmlkZXIub3RoZXJ3aXNlKCcvJyk7XG59XG4ndXNlIHN0cmljdCc7XG5cbmFuZ3VsYXIubW9kdWxlKCd3aW5lQXBwJykuY29uc3RhbnQoJ0FQSScsIHdpbmRvdy5sb2NhdGlvbi5vcmlnaW4gKyAnL2FwaScpO1xuJ3VzZSBzdHJpY3QnO1xuXG5hbmd1bGFyLm1vZHVsZSgnaG9tZXdvcmtBcHAnKS5jb250cm9sZXIoJ0xvZ2luQ3RybCcsIExvZ2luQ3RybCk7XG5cbkxvZ2luQ3RybC4kaW5qZWN0ID0gWydVc2VyJywgJ0N1cnJlbnRVc2VyU2VydmljZScsICckc3RhdGUnXTtcbmZ1bmN0aW9uIExvZ2luQ3RybChVc2VyLCBDdXJyZW50VXNlclNlcnZpY2UsICRzdGF0ZSkge1xuICB2YXIgdm0gPSB0aGlzO1xuXG4gIHZtLmxvZ2luID0gZnVuY3Rpb24gKCkge1xuICAgIFVzZXIubG9naW4odm0udXNlcikuJHByb21pc2UudGhlbihmdW5jdGlvbiAoKSB7XG4gICAgICBDdXJyZW50VXNlclNlcnZpY2UuZ2V0VXNlcigpO1xuICAgICAgY29uc29sZS5sb2coQ3VycmVudFVzZXJTZXJ2aWNlLmN1cnJlbnRVc2VyLCAnKioqIGN1cnJlbnQgdXNlcicpO1xuICAgICAgJHN0YXRlLmdvKCd1c2Vyc0luZGV4Jyk7XG4gICAgfSwgZnVuY3Rpb24gKGVycikge1xuICAgICAgY29uc29sZS5sb2coZXJyLCAnZXJyb3IgaW4gbG9naW4gY29udHJvbGxlcicpO1xuICAgIH0pO1xuICB9O1xufVxuJ3VzZSBzdHJpY3QnO1xuXG5hbmd1bGFyLm1vZHVsZSgnd2luZUFwcCcpLmNvbnRyb2xsZXIoJ01haW5DdHJsJywgTWFpbkN0cmwpO1xuXG5NYWluQ3RybC4kaW5qZWN0ID0gWyckcm9vdFNjb3BlJywgJ0N1cnJlbnRVc2VyU2VydmljZScsICckc3RhdGUnXTtcblxuZnVuY3Rpb24gTWFpbkN0cmwoJHJvb3RTY29wZSwgQ3VycmVudFVzZXJTZXJ2aWNlLCAkc3RhdGUpIHtcbiAgdmFyIHZtID0gdGhpcztcbiAgJHJvb3RTY29wZS4kb24oJ0xvZ2dlZEluJywgZnVuY3Rpb24gKCkge1xuICAgIHZtLnVzZXJGYWN0b3J5ID0gQ3VycmVudFVzZXJTZXJ2aWNlLmN1cnJlbnRVc2VyO1xuICB9KTtcbiAgdm0ubG9nb3V0ID0gZnVuY3Rpb24gKCkge1xuICAgIEN1cnJlbnRVc2VyU2VydmljZS5yZW1vdmVVc2VyKCk7XG4gIH07XG4gICRyb290U2NvcGUuJG9uKCdMb2dnZWRPdXQnLCBmdW5jdGlvbiAoKSB7XG4gICAgY29uc29sZS5sb2coJ0xvZ2dlZCBPdXQnKTtcbiAgICB2bS51c2VyRmFjdG9yeSA9IG51bGw7XG4gICAgJHN0YXRlLmdvKCdsb2dpbicpO1xuICB9KTtcbn1cblwidXNlIHN0cmljdFwiO1xuXCJ1c2Ugc3RyaWN0XCI7XG5cInVzZSBzdHJpY3RcIjtcblwidXNlIHN0cmljdFwiO1xuJ3VzZSBzdHJpY3QnO1xuXG5hbmd1bGFyLm1vZHVsZSgnd2luZUFwcCcpLmNvbnRyb2xsZXIoJ1VzZXJSZWdpc3RlckN0cmwnLCB1c2VyUmVnaXN0ZXJDdHJsKTtcblxudXNlclJlZ2lzdGVyQ3RybC4kaW5qZWN0ID0gWydVc2VyRmFjdG9yeScsICdDdXJyZW50VXNlclNlcmljZScsICckc3RhdGUnXTtcbmZ1bmN0aW9uIHVzZXJSZWdpc3RlckN0cmwoVXNlckZhY3RvcnksIEN1cnJlbnRVc2VyU2VydmljZSwgJHN0YXRlKSB7XG4gIHZhciB2bSA9IHRoaXM7XG4gIHZtLnJlZ2lzdGVyID0gZnVuY3Rpb24gKCkge1xuICAgIFVzZXJGYWN0b3J5LnJlZ2lzdGVyKHZtLnVzZXIpLiRwcm9taXNlLnRoZW4oZnVuY3Rpb24gKCkge1xuICAgICAgQ3VycmVudFVzZXJTZXJ2aWNlLmdldFVzZXIoKTtcbiAgICAgICRzdGF0ZS5nbygnbG9naW4nKTtcbiAgICB9LCBmdW5jdGlvbiAoZXJyKSB7XG4gICAgICBjb25zb2xlLmxvZyhlcnIsICcqKipSRUdJU1RFUi5DT05UUk9MTEVSJyk7XG4gICAgfSk7XG4gIH07XG59XG5cInVzZSBzdHJpY3RcIjtcblwidXNlIHN0cmljdFwiO1xuJ3VzZSBzdHJpY3QnO1xuXG5hbmd1bGFyLm1vZHVsZSgnd2luZUFwcCcpLmNvbnRyb2xsZXIoJ1VzZXJOZXdDb250cm9sbGVyJywgVXNlck5ld0NvbnRyb2xsZXIpO1xuXG5Vc2VyTmV3Q29udHJvbGxlci4kaW5qZWN0ID0gWydVc2VyRmFjdG9yeScsICdDdXJyZW50VXNlclNlcnZpY2UnLCAnJHN0YXRlJ107XG5mdW5jdGlvbiBVc2VyTmV3Q29udHJvbGxlcihVc2VyRmFjdG9yeSwgQ3VycmVudFVzZXJTZXJ2aWNlLCAkc3RhdGUpIHtcbiAgdmFyIHZtID0gdGhpcztcbiAgdm0ucmVnaXN0ZXIgPSBmdW5jdGlvbiAoKSB7XG4gICAgVXNlckZhY3RvcnkucmVnaXN0ZXIodm0udXNlcikuJHByb21pc2UudGhlbihmdW5jdGlvbiAoKSB7XG4gICAgICBDdXJyZW50VXNlclNlcnZpY2UuZ2V0VXNlcigpO1xuICAgICAgJHN0YXRlLmdvKCdsb2dpbicpO1xuICAgIH0sIGZ1bmN0aW9uIChlcnIpIHtcbiAgICAgIGNvbnNvbGUubG9nKGVyciwgJ2Vycm9yIGluIHJlZyBjb250cm9sbGVyJyk7XG4gICAgfSk7XG4gIH07XG59XG5cInVzZSBzdHJpY3RcIjtcbid1c2Ugc3RyaWN0JztcblxuYW5ndWxhci5tb2R1bGUoJ3dpbmVBcHAnKS5mYWN0b3J5KCdBdXRoSW50ZXJjZXB0b3InLCBBdXRoSW50ZXJjZXB0b3IpO1xuXG5BdXRoSW50ZXJjZXB0b3IuJGluamVjdCA9IFsnQVBJJywgJ1Rva2VuU2VydmljZSddO1xuZnVuY3Rpb24gQXV0aEludGVyY2VwdG9yKEFQSSwgVG9rZW5TZXJ2aWNlKSB7XG4gIHJldHVybiB7XG4gICAgcmVxdWVzdDogZnVuY3Rpb24gcmVxdWVzdChjb25maWcpIHtcbiAgICAgIHZhciB0b2tlbiA9IFRva2VuU2VydmljZS5nZXRUb2tlbigpO1xuICAgICAgaWYgKGNvbmZpZy51cmwuaW5kZXhPZihBUEkpID09PSAwICYmIHRva2VuKSB7XG4gICAgICAgIGNvbmZpZy5oZWFkZXJzLkF1dGhvcml6YXRpb24gPSAnQmVhcmVyICcgKyB0b2tlbjtcbiAgICAgIH1cbiAgICAgIHJldHVybiBjb25maWc7XG4gICAgfSxcbiAgICByZXNwb25zZTogZnVuY3Rpb24gcmVzcG9uc2UocmVzKSB7XG4gICAgICBpZiAocmVzLmNvbmZpZy51cmwuaW5kZXhPZihBUEkpID09PSAwICYmIHJlcy5kYXRhLnRva2VuKSB7XG4gICAgICAgIFRva2VuU2VydmljZS5zZXRUb2tlbihyZXMuZGF0YS50b2tlbik7XG4gICAgICB9XG4gICAgICByZXR1cm4gcmVzO1xuICAgIH1cbiAgfTtcbn1cbid1c2Ugc3RyaWN0JztcblxuYW5ndWxhci5tb2R1bGUoJ3dpbmVBcHAnKS5mYWN0b3J5KCdVc2VyRmFjdG9yeScsIFVzZXJGYWN0b3J5KTtcblxuVXNlckZhY3RvcnkuJGluamVjdCA9IFsnQVBJJywgJyRyZXNvdXJjZSddO1xuZnVuY3Rpb24gVXNlckZhY3RvcnkoQVBJLCAkcmVzb3VyY2UpIHtcbiAgcmV0dXJuICRyZXNvdXJjZShBUEkgKyAnL3VzZXIvOmlkJywgeyBpZDogJ0BfaWQnIH0sIHtcbiAgICAncmVnaXN0ZXInOiB7IG1ldGhvZDogJ1BPU1QsIHVybDogYCR7QVBJfS9yZWdpc3RlcmAnIH0sXG4gICAgJ2xvZ2luJzogeyBtZXRob2Q6ICdQT1NUJywgdXJsOiBBUEkgKyAnL2xvZ2luJyB9XG4gIH0pO1xufVxuJ3VzZSBzdHJpY3QnO1xuXG5hbmd1bGFyLm1vZHVsZSgnd2luZUFwcCcpLnNlcnZpY2UoJ0N1cnJlbnRVc2VyU2VydmljZScsIEN1cnJlbnRVc2VyU2VydmljZSk7XG5cbkN1cnJlbnRVc2VyU2VydmljZS4kaW5qZWN0ID0gWydUb2tlblNlcnZpY2UnLCAnJHJvb3RzY29wZScsICdVc2VyRmFjdG9yeSddO1xuZnVuY3Rpb24gQ3VycmVudFVzZXJTZXJ2aWNlKFRva2VuU2VydmljZSwgJHJvb3RzY29wZSwgVXNlckZhY3RvcnkpIHtcbiAgdmFyIHNlbGYgPSB0aGlzO1xuICBzZWxmLmdldFVzZXIgPSBmdW5jdGlvbiAoKSB7XG4gICAgdmFyIGRlY29kZWQgPSBUb2tlblNlcnZpY2UuZGVjb2RlVG9rZW4oKTtcbiAgICBpZiAoZGVjb2RlZCkge1xuICAgICAgVXNlckZhY3RvcnkuZ2V0KHsgaWQ6IGRlY29kZWQuaWQgfSkuJHByb21pc2UudGhlbihmdW5jdGlvbiAodXNlcikge1xuICAgICAgICBjb25zb2xlLmxvZyh1c2VyLCAnVXNlciByZXR1cm5lZCcpO1xuICAgICAgICBzZWxmLmN1cnJlbnRVc2VyID0gdXNlcjtcbiAgICAgICAgJHJvb3RzY29wZS4kYnJvYWRjYXN0KCdsb2dnZWRJbicpO1xuICAgICAgfSk7XG4gICAgfVxuICB9O1xuICBzZWxmLnJlbW92ZVVzZXIgPSBmdW5jdGlvbiAoKSB7XG4gICAgc2VsZi5jdXJyZW50VXNlciA9IG51bGw7XG4gICAgVG9rZW5TZXJ2aWNlLnJlbW92ZVRva2VuKCk7XG4gICAgJHJvb3RzY29wZS4kYnJvYWRjYXN0KCdsb2dnZWRPdXQnKTtcbiAgfTtcbn1cbid1c2Ugc3RyaWN0JztcblxuYW5ndWxhci5tb2R1bGUoJ3dpbmVBcHAnKS5zZXJ2aWNlKCdUb2tlblNlcnZpY2UnLCBUb2tlblNlcnZpY2UpO1xuXG5Ub2tlblNlcnZpY2UuJGluamVjdCA9IFsnJHdpbmRvdycsICdqd3RIZWxwZXInXTtcbmZ1bmN0aW9uIFRva2VuU2VydmljZSgkd2luZG93LCBqd3RIZWxwZXIpIHtcbiAgdmFyIHNlbGYgPSB0aGlzO1xuICBzZWxmLnNldFRva2VuID0gZnVuY3Rpb24gKHRva2VuKSB7XG4gICAgcmV0dXJuICR3aW5kb3cubG9jYWxTdG9yYWdlLnNldEl0ZW0oJ2F1dGgtdG9rZW4nLCB0b2tlbik7XG4gIH07XG4gIHNlbGYuZ2V0VG9rZW4gPSBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuICR3aW5kb3cubG9jYWxTdG9yYWdlLmdldEl0ZW0oJ2F1dGgtdG9rZW4nKTtcbiAgfTtcbiAgc2VsZi5kZWNvZGVUb2tlbiA9IGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgdG9rZW4gPSBzZWxmLmdldFRva2VuKCk7XG4gICAgcmV0dXJuIHRva2VuID8gand0SGVscGVyLmRlY29kZVRva2VuKHRva2VuKSA6IG51bGw7XG4gIH07XG4gIHNlbGYucmVtb3ZlVG9rZW4gPSBmdW5jdGlvbiAoKSB7XG4gICAgJHdpbmRvdy5sb2NhbFN0b3JhZ2UuY2xlYXIoKTtcbiAgfTtcbn0iXX0=
